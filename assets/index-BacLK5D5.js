function B7e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ms(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function z7e(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Kj={exports:{}},rS={},Xj={exports:{}},_r={};var Bae;function U7e(){if(Bae)return _r;Bae=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator;function f(L){return L===null||typeof L!="object"?null:(L=d&&L[d]||L["@@iterator"],typeof L=="function"?L:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,p={};function g(L,U,z){this.props=L,this.context=U,this.refs=p,this.updater=z||h}g.prototype.isReactComponent={},g.prototype.setState=function(L,U){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,U,"setState")},g.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function y(){}y.prototype=g.prototype;function v(L,U,z){this.props=L,this.context=U,this.refs=p,this.updater=z||h}var w=v.prototype=new y;w.constructor=v,m(w,g.prototype),w.isPureReactComponent=!0;var E=Array.isArray,C=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function A(L,U,z){var G,Q={},te=null,de=null;if(U!=null)for(G in U.ref!==void 0&&(de=U.ref),U.key!==void 0&&(te=""+U.key),U)C.call(U,G)&&!T.hasOwnProperty(G)&&(Q[G]=U[G]);var se=arguments.length-2;if(se===1)Q.children=z;else if(1<se){for(var ae=Array(se),he=0;he<se;he++)ae[he]=arguments[he+2];Q.children=ae}if(L&&L.defaultProps)for(G in se=L.defaultProps,se)Q[G]===void 0&&(Q[G]=se[G]);return{$$typeof:e,type:L,key:te,ref:de,props:Q,_owner:S.current}}function D(L,U){return{$$typeof:e,type:L.type,key:U,ref:L.ref,props:L.props,_owner:L._owner}}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function P(L){var U={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(z){return U[z]})}var N=/\/+/g;function $(L,U){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):U.toString(36)}function O(L,U,z,G,Q){var te=typeof L;(te==="undefined"||te==="boolean")&&(L=null);var de=!1;if(L===null)de=!0;else switch(te){case"string":case"number":de=!0;break;case"object":switch(L.$$typeof){case e:case t:de=!0}}if(de)return de=L,Q=Q(de),L=G===""?"."+$(de,0):G,E(Q)?(z="",L!=null&&(z=L.replace(N,"$&/")+"/"),O(Q,U,z,"",function(he){return he})):Q!=null&&(I(Q)&&(Q=D(Q,z+(!Q.key||de&&de.key===Q.key?"":(""+Q.key).replace(N,"$&/")+"/")+L)),U.push(Q)),1;if(de=0,G=G===""?".":G+":",E(L))for(var se=0;se<L.length;se++){te=L[se];var ae=G+$(te,se);de+=O(te,U,z,ae,Q)}else if(ae=f(L),typeof ae=="function")for(L=ae.call(L),se=0;!(te=L.next()).done;)te=te.value,ae=G+$(te,se++),de+=O(te,U,z,ae,Q);else if(te==="object")throw U=String(L),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return de}function j(L,U,z){if(L==null)return L;var G=[],Q=0;return O(L,G,"","",function(te){return U.call(z,te,Q++)}),G}function B(L){if(L._status===-1){var U=L._result;U=U(),U.then(function(z){(L._status===0||L._status===-1)&&(L._status=1,L._result=z)},function(z){(L._status===0||L._status===-1)&&(L._status=2,L._result=z)}),L._status===-1&&(L._status=0,L._result=U)}if(L._status===1)return L._result.default;throw L._result}var H={current:null},q={transition:null},Y={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:q,ReactCurrentOwner:S};function V(){throw Error("act(...) is not supported in production builds of React.")}return _r.Children={map:j,forEach:function(L,U,z){j(L,function(){U.apply(this,arguments)},z)},count:function(L){var U=0;return j(L,function(){U++}),U},toArray:function(L){return j(L,function(U){return U})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},_r.Component=g,_r.Fragment=n,_r.Profiler=i,_r.PureComponent=v,_r.StrictMode=r,_r.Suspense=l,_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,_r.act=V,_r.cloneElement=function(L,U,z){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var G=m({},L.props),Q=L.key,te=L.ref,de=L._owner;if(U!=null){if(U.ref!==void 0&&(te=U.ref,de=S.current),U.key!==void 0&&(Q=""+U.key),L.type&&L.type.defaultProps)var se=L.type.defaultProps;for(ae in U)C.call(U,ae)&&!T.hasOwnProperty(ae)&&(G[ae]=U[ae]===void 0&&se!==void 0?se[ae]:U[ae])}var ae=arguments.length-2;if(ae===1)G.children=z;else if(1<ae){se=Array(ae);for(var he=0;he<ae;he++)se[he]=arguments[he+2];G.children=se}return{$$typeof:e,type:L.type,key:Q,ref:te,props:G,_owner:de}},_r.createContext=function(L){return L={$$typeof:s,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:o,_context:L},L.Consumer=L},_r.createElement=A,_r.createFactory=function(L){var U=A.bind(null,L);return U.type=L,U},_r.createRef=function(){return{current:null}},_r.forwardRef=function(L){return{$$typeof:a,render:L}},_r.isValidElement=I,_r.lazy=function(L){return{$$typeof:c,_payload:{_status:-1,_result:L},_init:B}},_r.memo=function(L,U){return{$$typeof:u,type:L,compare:U===void 0?null:U}},_r.startTransition=function(L){var U=q.transition;q.transition={};try{L()}finally{q.transition=U}},_r.unstable_act=V,_r.useCallback=function(L,U){return H.current.useCallback(L,U)},_r.useContext=function(L){return H.current.useContext(L)},_r.useDebugValue=function(){},_r.useDeferredValue=function(L){return H.current.useDeferredValue(L)},_r.useEffect=function(L,U){return H.current.useEffect(L,U)},_r.useId=function(){return H.current.useId()},_r.useImperativeHandle=function(L,U,z){return H.current.useImperativeHandle(L,U,z)},_r.useInsertionEffect=function(L,U){return H.current.useInsertionEffect(L,U)},_r.useLayoutEffect=function(L,U){return H.current.useLayoutEffect(L,U)},_r.useMemo=function(L,U){return H.current.useMemo(L,U)},_r.useReducer=function(L,U,z){return H.current.useReducer(L,U,z)},_r.useRef=function(L){return H.current.useRef(L)},_r.useState=function(L){return H.current.useState(L)},_r.useSyncExternalStore=function(L,U,z){return H.current.useSyncExternalStore(L,U,z)},_r.useTransition=function(){return H.current.useTransition()},_r.version="18.3.1",_r}var zae;function j6(){return zae||(zae=1,Xj.exports=U7e()),Xj.exports}var Uae;function V7e(){if(Uae)return rS;Uae=1;var e=j6(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,u){var c,d={},f=null,h=null;u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(h=l.ref);for(c in l)r.call(l,c)&&!o.hasOwnProperty(c)&&(d[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)d[c]===void 0&&(d[c]=l[c]);return{$$typeof:t,type:a,key:f,ref:h,props:d,_owner:i.current}}return rS.Fragment=n,rS.jsx=s,rS.jsxs=s,rS}var Vae;function H7e(){return Vae||(Vae=1,Kj.exports=V7e()),Kj.exports}var x=H7e(),k=j6();const dn=ms(k),q7e=B7e({__proto__:null,default:dn},[k]);var fD={},Qj={exports:{}},cu={},Jj={exports:{}},Zj={};var Hae;function W7e(){return Hae||(Hae=1,(function(e){function t(q,Y){var V=q.length;q.push(Y);e:for(;0<V;){var L=V-1>>>1,U=q[L];if(0<i(U,Y))q[L]=Y,q[V]=U,V=L;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Y=q[0],V=q.pop();if(V!==Y){q[0]=V;e:for(var L=0,U=q.length,z=U>>>1;L<z;){var G=2*(L+1)-1,Q=q[G],te=G+1,de=q[te];if(0>i(Q,V))te<U&&0>i(de,Q)?(q[L]=de,q[te]=V,L=te):(q[L]=Q,q[G]=V,L=G);else if(te<U&&0>i(de,V))q[L]=de,q[te]=V,L=te;else break e}}return Y}function i(q,Y){var V=q.sortIndex-Y.sortIndex;return V!==0?V:q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,m=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=q)r(u),Y.sortIndex=Y.expirationTime,t(l,Y);else break;Y=n(u)}}function E(q){if(p=!1,w(q),!m)if(n(l)!==null)m=!0,B(C);else{var Y=n(u);Y!==null&&H(E,Y.startTime-q)}}function C(q,Y){m=!1,p&&(p=!1,y(A),A=-1),h=!0;var V=f;try{for(w(Y),d=n(l);d!==null&&(!(d.expirationTime>Y)||q&&!P());){var L=d.callback;if(typeof L=="function"){d.callback=null,f=d.priorityLevel;var U=L(d.expirationTime<=Y);Y=e.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),w(Y)}else r(l);d=n(l)}if(d!==null)var z=!0;else{var G=n(u);G!==null&&H(E,G.startTime-Y),z=!1}return z}finally{d=null,f=V,h=!1}}var S=!1,T=null,A=-1,D=5,I=-1;function P(){return!(e.unstable_now()-I<D)}function N(){if(T!==null){var q=e.unstable_now();I=q;var Y=!0;try{Y=T(!0,q)}finally{Y?$():(S=!1,T=null)}}else S=!1}var $;if(typeof v=="function")$=function(){v(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,j=O.port2;O.port1.onmessage=N,$=function(){j.postMessage(null)}}else $=function(){g(N,0)};function B(q){T=q,S||(S=!0,$())}function H(q,Y){A=g(function(){q(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,B(C))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(q){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var V=f;f=Y;try{return q()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var V=f;f=q;try{return Y()}finally{f=V}},e.unstable_scheduleCallback=function(q,Y,V){var L=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?L+V:L):V=L,q){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=V+U,q={id:c++,callback:Y,priorityLevel:q,startTime:V,expirationTime:U,sortIndex:-1},V>L?(q.sortIndex=V,t(u,q),n(l)===null&&q===n(u)&&(p?(y(A),A=-1):p=!0,H(E,V-L))):(q.sortIndex=U,t(l,q),m||h||(m=!0,B(C))),q},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(q){var Y=f;return function(){var V=f;f=Y;try{return q.apply(this,arguments)}finally{f=V}}}})(Zj)),Zj}var qae;function G7e(){return qae||(qae=1,Jj.exports=W7e()),Jj.exports}var Wae;function Y7e(){if(Wae)return cu;Wae=1;var e=j6(),t=G7e();function n(b){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+b,R=1;R<arguments.length;R++)_+="&args[]="+encodeURIComponent(arguments[R]);return"Minified React error #"+b+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(b,_){s(b,_),s(b+"Capture",_)}function s(b,_){for(i[b]=_,b=0;b<_.length;b++)r.add(_[b])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},d={};function f(b){return l.call(d,b)?!0:l.call(c,b)?!1:u.test(b)?d[b]=!0:(c[b]=!0,!1)}function h(b,_,R,F){if(R!==null&&R.type===0)return!1;switch(typeof _){case"function":case"symbol":return!0;case"boolean":return F?!1:R!==null?!R.acceptsBooleans:(b=b.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-");default:return!1}}function m(b,_,R,F){if(_===null||typeof _>"u"||h(b,_,R,F))return!0;if(F)return!1;if(R!==null)switch(R.type){case 3:return!_;case 4:return _===!1;case 5:return isNaN(_);case 6:return isNaN(_)||1>_}return!1}function p(b,_,R,F,K,Z,ue){this.acceptsBooleans=_===2||_===3||_===4,this.attributeName=F,this.attributeNamespace=K,this.mustUseProperty=R,this.propertyName=b,this.type=_,this.sanitizeURL=Z,this.removeEmptyString=ue}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){g[b]=new p(b,0,!1,b,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var _=b[0];g[_]=new p(_,1,!1,b[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(b){g[b]=new p(b,2,!1,b.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){g[b]=new p(b,2,!1,b,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){g[b]=new p(b,3,!1,b.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(b){g[b]=new p(b,3,!0,b,null,!1,!1)}),["capture","download"].forEach(function(b){g[b]=new p(b,4,!1,b,null,!1,!1)}),["cols","rows","size","span"].forEach(function(b){g[b]=new p(b,6,!1,b,null,!1,!1)}),["rowSpan","start"].forEach(function(b){g[b]=new p(b,5,!1,b.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var _=b.replace(y,v);g[_]=new p(_,1,!1,b,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var _=b.replace(y,v);g[_]=new p(_,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(b){var _=b.replace(y,v);g[_]=new p(_,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(b){g[b]=new p(b,1,!1,b.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(b){g[b]=new p(b,1,!1,b.toLowerCase(),null,!0,!0)});function w(b,_,R,F){var K=g.hasOwnProperty(_)?g[_]:null;(K!==null?K.type!==0:F||!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(m(_,R,K,F)&&(R=null),F||K===null?f(_)&&(R===null?b.removeAttribute(_):b.setAttribute(_,""+R)):K.mustUseProperty?b[K.propertyName]=R===null?K.type===3?!1:"":R:(_=K.attributeName,F=K.attributeNamespace,R===null?b.removeAttribute(_):(K=K.type,R=K===3||K===4&&R===!0?"":""+R,F?b.setAttributeNS(F,_,R):b.setAttribute(_,R))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),P=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),q=Symbol.iterator;function Y(b){return b===null||typeof b!="object"?null:(b=q&&b[q]||b["@@iterator"],typeof b=="function"?b:null)}var V=Object.assign,L;function U(b){if(L===void 0)try{throw Error()}catch(R){var _=R.stack.trim().match(/\n( *(at )?)/);L=_&&_[1]||""}return`
`+L+b}var z=!1;function G(b,_){if(!b||z)return"";z=!0;var R=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_)if(_=function(){throw Error()},Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(Xe){var F=Xe}Reflect.construct(b,[],_)}else{try{_.call()}catch(Xe){F=Xe}b.call(_.prototype)}else{try{throw Error()}catch(Xe){F=Xe}b()}}catch(Xe){if(Xe&&F&&typeof Xe.stack=="string"){for(var K=Xe.stack.split(`
`),Z=F.stack.split(`
`),ue=K.length-1,ke=Z.length-1;1<=ue&&0<=ke&&K[ue]!==Z[ke];)ke--;for(;1<=ue&&0<=ke;ue--,ke--)if(K[ue]!==Z[ke]){if(ue!==1||ke!==1)do if(ue--,ke--,0>ke||K[ue]!==Z[ke]){var $e=`
`+K[ue].replace(" at new "," at ");return b.displayName&&$e.includes("<anonymous>")&&($e=$e.replace("<anonymous>",b.displayName)),$e}while(1<=ue&&0<=ke);break}}}finally{z=!1,Error.prepareStackTrace=R}return(b=b?b.displayName||b.name:"")?U(b):""}function Q(b){switch(b.tag){case 5:return U(b.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return b=G(b.type,!1),b;case 11:return b=G(b.type.render,!1),b;case 1:return b=G(b.type,!0),b;default:return""}}function te(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case T:return"Fragment";case S:return"Portal";case D:return"Profiler";case A:return"StrictMode";case $:return"Suspense";case O:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case P:return(b.displayName||"Context")+".Consumer";case I:return(b._context.displayName||"Context")+".Provider";case N:var _=b.render;return b=b.displayName,b||(b=_.displayName||_.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case j:return _=b.displayName||null,_!==null?_:te(b.type)||"Memo";case B:_=b._payload,b=b._init;try{return te(b(_))}catch{}}return null}function de(b){var _=b.type;switch(b.tag){case 24:return"Cache";case 9:return(_.displayName||"Context")+".Consumer";case 10:return(_._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=_.render,b=b.displayName||b.name||"",_.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return _;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(_);case 8:return _===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _}return null}function se(b){switch(typeof b){case"boolean":case"number":case"string":case"undefined":return b;case"object":return b;default:return""}}function ae(b){var _=b.type;return(b=b.nodeName)&&b.toLowerCase()==="input"&&(_==="checkbox"||_==="radio")}function he(b){var _=ae(b)?"checked":"value",R=Object.getOwnPropertyDescriptor(b.constructor.prototype,_),F=""+b[_];if(!b.hasOwnProperty(_)&&typeof R<"u"&&typeof R.get=="function"&&typeof R.set=="function"){var K=R.get,Z=R.set;return Object.defineProperty(b,_,{configurable:!0,get:function(){return K.call(this)},set:function(ue){F=""+ue,Z.call(this,ue)}}),Object.defineProperty(b,_,{enumerable:R.enumerable}),{getValue:function(){return F},setValue:function(ue){F=""+ue},stopTracking:function(){b._valueTracker=null,delete b[_]}}}}function ie(b){b._valueTracker||(b._valueTracker=he(b))}function le(b){if(!b)return!1;var _=b._valueTracker;if(!_)return!0;var R=_.getValue(),F="";return b&&(F=ae(b)?b.checked?"true":"false":b.value),b=F,b!==R?(_.setValue(b),!0):!1}function Ce(b){if(b=b||(typeof document<"u"?document:void 0),typeof b>"u")return null;try{return b.activeElement||b.body}catch{return b.body}}function X(b,_){var R=_.checked;return V({},_,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:R??b._wrapperState.initialChecked})}function fe(b,_){var R=_.defaultValue==null?"":_.defaultValue,F=_.checked!=null?_.checked:_.defaultChecked;R=se(_.value!=null?_.value:R),b._wrapperState={initialChecked:F,initialValue:R,controlled:_.type==="checkbox"||_.type==="radio"?_.checked!=null:_.value!=null}}function ce(b,_){_=_.checked,_!=null&&w(b,"checked",_,!1)}function ne(b,_){ce(b,_);var R=se(_.value),F=_.type;if(R!=null)F==="number"?(R===0&&b.value===""||b.value!=R)&&(b.value=""+R):b.value!==""+R&&(b.value=""+R);else if(F==="submit"||F==="reset"){b.removeAttribute("value");return}_.hasOwnProperty("value")?pe(b,_.type,R):_.hasOwnProperty("defaultValue")&&pe(b,_.type,se(_.defaultValue)),_.checked==null&&_.defaultChecked!=null&&(b.defaultChecked=!!_.defaultChecked)}function ee(b,_,R){if(_.hasOwnProperty("value")||_.hasOwnProperty("defaultValue")){var F=_.type;if(!(F!=="submit"&&F!=="reset"||_.value!==void 0&&_.value!==null))return;_=""+b._wrapperState.initialValue,R||_===b.value||(b.value=_),b.defaultValue=_}R=b.name,R!==""&&(b.name=""),b.defaultChecked=!!b._wrapperState.initialChecked,R!==""&&(b.name=R)}function pe(b,_,R){(_!=="number"||Ce(b.ownerDocument)!==b)&&(R==null?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+R&&(b.defaultValue=""+R))}var Re=Array.isArray;function Se(b,_,R,F){if(b=b.options,_){_={};for(var K=0;K<R.length;K++)_["$"+R[K]]=!0;for(R=0;R<b.length;R++)K=_.hasOwnProperty("$"+b[R].value),b[R].selected!==K&&(b[R].selected=K),K&&F&&(b[R].defaultSelected=!0)}else{for(R=""+se(R),_=null,K=0;K<b.length;K++){if(b[K].value===R){b[K].selected=!0,F&&(b[K].defaultSelected=!0);return}_!==null||b[K].disabled||(_=b[K])}_!==null&&(_.selected=!0)}}function be(b,_){if(_.dangerouslySetInnerHTML!=null)throw Error(n(91));return V({},_,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function Ne(b,_){var R=_.value;if(R==null){if(R=_.children,_=_.defaultValue,R!=null){if(_!=null)throw Error(n(92));if(Re(R)){if(1<R.length)throw Error(n(93));R=R[0]}_=R}_==null&&(_=""),R=_}b._wrapperState={initialValue:se(R)}}function Ae(b,_){var R=se(_.value),F=se(_.defaultValue);R!=null&&(R=""+R,R!==b.value&&(b.value=R),_.defaultValue==null&&b.defaultValue!==R&&(b.defaultValue=R)),F!=null&&(b.defaultValue=""+F)}function Pe(b){var _=b.textContent;_===b._wrapperState.initialValue&&_!==""&&_!==null&&(b.value=_)}function we(b){switch(b){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(b,_){return b==null||b==="http://www.w3.org/1999/xhtml"?we(_):b==="http://www.w3.org/2000/svg"&&_==="foreignObject"?"http://www.w3.org/1999/xhtml":b}var ze,tt=(function(b){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_,R,F,K){MSApp.execUnsafeLocalFunction(function(){return b(_,R,F,K)})}:b})(function(b,_){if(b.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in b)b.innerHTML=_;else{for(ze=ze||document.createElement("div"),ze.innerHTML="<svg>"+_.valueOf().toString()+"</svg>",_=ze.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;_.firstChild;)b.appendChild(_.firstChild)}});function rt(b,_){if(_){var R=b.firstChild;if(R&&R===b.lastChild&&R.nodeType===3){R.nodeValue=_;return}}b.textContent=_}var bt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kt=["Webkit","ms","Moz","O"];Object.keys(bt).forEach(function(b){Kt.forEach(function(_){_=_+b.charAt(0).toUpperCase()+b.substring(1),bt[_]=bt[b]})});function Wt(b,_,R){return _==null||typeof _=="boolean"||_===""?"":R||typeof _!="number"||_===0||bt.hasOwnProperty(b)&&bt[b]?(""+_).trim():_+"px"}function Mn(b,_){b=b.style;for(var R in _)if(_.hasOwnProperty(R)){var F=R.indexOf("--")===0,K=Wt(R,_[R],F);R==="float"&&(R="cssFloat"),F?b.setProperty(R,K):b[R]=K}}var Ft=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hn(b,_){if(_){if(Ft[b]&&(_.children!=null||_.dangerouslySetInnerHTML!=null))throw Error(n(137,b));if(_.dangerouslySetInnerHTML!=null){if(_.children!=null)throw Error(n(60));if(typeof _.dangerouslySetInnerHTML!="object"||!("__html"in _.dangerouslySetInnerHTML))throw Error(n(61))}if(_.style!=null&&typeof _.style!="object")throw Error(n(62))}}function Kn(b,_){if(b.indexOf("-")===-1)return typeof _.is=="string";switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zn=null;function Fr(b){return b=b.target||b.srcElement||window,b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===3?b.parentNode:b}var er=null,Sr=null,Tn=null;function an(b){if(b=UC(b)){if(typeof er!="function")throw Error(n(280));var _=b.stateNode;_&&(_=AI(_),er(b.stateNode,b.type,_))}}function sr(b){Sr?Tn?Tn.push(b):Tn=[b]:Sr=b}function pi(){if(Sr){var b=Sr,_=Tn;if(Tn=Sr=null,an(b),_)for(b=0;b<_.length;b++)an(_[b])}}function Tr(b,_){return b(_)}function An(){}var ft=!1;function wr(b,_,R){if(ft)return b(_,R);ft=!0;try{return Tr(b,_,R)}finally{ft=!1,(Sr!==null||Tn!==null)&&(An(),pi())}}function Vt(b,_){var R=b.stateNode;if(R===null)return null;var F=AI(R);if(F===null)return null;R=F[_];e:switch(_){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(F=!F.disabled)||(b=b.type,F=!(b==="button"||b==="input"||b==="select"||b==="textarea")),b=!F;break e;default:b=!1}if(b)return null;if(R&&typeof R!="function")throw Error(n(231,_,typeof R));return R}var ar=!1;if(a)try{var un={};Object.defineProperty(un,"passive",{get:function(){ar=!0}}),window.addEventListener("test",un,un),window.removeEventListener("test",un,un)}catch{ar=!1}function tr(b,_,R,F,K,Z,ue,ke,$e){var Xe=Array.prototype.slice.call(arguments,3);try{_.apply(R,Xe)}catch(mt){this.onError(mt)}}var Rr=!1,Lr=null,jr=!1,gs=null,Na={onError:function(b){Rr=!0,Lr=b}};function tu(b,_,R,F,K,Z,ue,ke,$e){Rr=!1,Lr=null,tr.apply(Na,arguments)}function Vu(b,_,R,F,K,Z,ue,ke,$e){if(tu.apply(this,arguments),Rr){if(Rr){var Xe=Lr;Rr=!1,Lr=null}else throw Error(n(198));jr||(jr=!0,gs=Xe)}}function Un(b){var _=b,R=b;if(b.alternate)for(;_.return;)_=_.return;else{b=_;do _=b,(_.flags&4098)!==0&&(R=_.return),b=_.return;while(b)}return _.tag===3?R:null}function Hi(b){if(b.tag===13){var _=b.memoizedState;if(_===null&&(b=b.alternate,b!==null&&(_=b.memoizedState)),_!==null)return _.dehydrated}return null}function ys(b){if(Un(b)!==b)throw Error(n(188))}function ah(b){var _=b.alternate;if(!_){if(_=Un(b),_===null)throw Error(n(188));return _!==b?null:b}for(var R=b,F=_;;){var K=R.return;if(K===null)break;var Z=K.alternate;if(Z===null){if(F=K.return,F!==null){R=F;continue}break}if(K.child===Z.child){for(Z=K.child;Z;){if(Z===R)return ys(K),b;if(Z===F)return ys(K),_;Z=Z.sibling}throw Error(n(188))}if(R.return!==F.return)R=K,F=Z;else{for(var ue=!1,ke=K.child;ke;){if(ke===R){ue=!0,R=K,F=Z;break}if(ke===F){ue=!0,F=K,R=Z;break}ke=ke.sibling}if(!ue){for(ke=Z.child;ke;){if(ke===R){ue=!0,R=Z,F=K;break}if(ke===F){ue=!0,F=Z,R=K;break}ke=ke.sibling}if(!ue)throw Error(n(189))}}if(R.alternate!==F)throw Error(n(190))}if(R.tag!==3)throw Error(n(188));return R.stateNode.current===R?b:_}function Fd(b){return b=ah(b),b!==null?Ic(b):null}function Ic(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var _=Ic(b);if(_!==null)return _;b=b.sibling}return null}var Dc=t.unstable_scheduleCallback,vs=t.unstable_cancelCallback,lh=t.unstable_shouldYield,Hu=t.unstable_requestPaint,xr=t.unstable_now,Ld=t.unstable_getCurrentPriorityLevel,No=t.unstable_ImmediatePriority,Fs=t.unstable_UserBlockingPriority,Mo=t.unstable_NormalPriority,qu=t.unstable_LowPriority,la=t.unstable_IdlePriority,nu=null,$o=null;function uh(b){if($o&&typeof $o.onCommitFiberRoot=="function")try{$o.onCommitFiberRoot(nu,b,void 0,(b.current.flags&128)===128)}catch{}}var Fo=Math.clz32?Math.clz32:xe,me=Math.log,Oe=Math.LN2;function xe(b){return b>>>=0,b===0?32:31-(me(b)/Oe|0)|0}var je=64,Ue=4194304;function Fe(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function nt(b,_){var R=b.pendingLanes;if(R===0)return 0;var F=0,K=b.suspendedLanes,Z=b.pingedLanes,ue=R&268435455;if(ue!==0){var ke=ue&~K;ke!==0?F=Fe(ke):(Z&=ue,Z!==0&&(F=Fe(Z)))}else ue=R&~K,ue!==0?F=Fe(ue):Z!==0&&(F=Fe(Z));if(F===0)return 0;if(_!==0&&_!==F&&(_&K)===0&&(K=F&-F,Z=_&-_,K>=Z||K===16&&(Z&4194240)!==0))return _;if((F&4)!==0&&(F|=R&16),_=b.entangledLanes,_!==0)for(b=b.entanglements,_&=F;0<_;)R=31-Fo(_),K=1<<R,F|=b[R],_&=~K;return F}function ct(b,_){switch(b){case 1:case 2:case 4:return _+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ht(b,_){for(var R=b.suspendedLanes,F=b.pingedLanes,K=b.expirationTimes,Z=b.pendingLanes;0<Z;){var ue=31-Fo(Z),ke=1<<ue,$e=K[ue];$e===-1?((ke&R)===0||(ke&F)!==0)&&(K[ue]=ct(ke,_)):$e<=_&&(b.expiredLanes|=ke),Z&=~ke}}function dt(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function Et(){var b=je;return je<<=1,(je&4194240)===0&&(je=64),b}function Bt(b){for(var _=[],R=0;31>R;R++)_.push(b);return _}function $n(b,_,R){b.pendingLanes|=_,_!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,_=31-Fo(_),b[_]=R}function en(b,_){var R=b.pendingLanes&~_;b.pendingLanes=_,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=_,b.mutableReadLanes&=_,b.entangledLanes&=_,_=b.entanglements;var F=b.eventTimes;for(b=b.expirationTimes;0<R;){var K=31-Fo(R),Z=1<<K;_[K]=0,F[K]=-1,b[K]=-1,R&=~Z}}function rr(b,_){var R=b.entangledLanes|=_;for(b=b.entanglements;R;){var F=31-Fo(R),K=1<<F;K&_|b[F]&_&&(b[F]|=_),R&=~K}}var Xt=0;function pr(b){return b&=-b,1<b?4<b?(b&268435455)!==0?16:536870912:4:1}var Lo,Ma,jo,ch,Pc,dh=!1,bs=[],qi=null,$i=null,Ls=null,Oc=new Map,ns=new Map,$a=[],fh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ru(b,_){switch(b){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Oc.delete(_.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(_.pointerId)}}function co(b,_,R,F,K,Z){return b===null||b.nativeEvent!==Z?(b={blockedOn:_,domEventName:R,eventSystemFlags:F,nativeEvent:Z,targetContainers:[K]},_!==null&&(_=UC(_),_!==null&&Ma(_)),b):(b.eventSystemFlags|=F,_=b.targetContainers,K!==null&&_.indexOf(K)===-1&&_.push(K),b)}function Og(b,_,R,F,K){switch(_){case"focusin":return qi=co(qi,b,_,R,F,K),!0;case"dragenter":return $i=co($i,b,_,R,F,K),!0;case"mouseover":return Ls=co(Ls,b,_,R,F,K),!0;case"pointerover":var Z=K.pointerId;return Oc.set(Z,co(Oc.get(Z)||null,b,_,R,F,K)),!0;case"gotpointercapture":return Z=K.pointerId,ns.set(Z,co(ns.get(Z)||null,b,_,R,F,K)),!0}return!1}function hh(b){var _=gv(b.target);if(_!==null){var R=Un(_);if(R!==null){if(_=R.tag,_===13){if(_=Hi(R),_!==null){b.blockedOn=_,Pc(b.priority,function(){jo(R)});return}}else if(_===3&&R.stateNode.current.memoizedState.isDehydrated){b.blockedOn=R.tag===3?R.stateNode.containerInfo:null;return}}}b.blockedOn=null}function ua(b){if(b.blockedOn!==null)return!1;for(var _=b.targetContainers;0<_.length;){var R=pn(b.domEventName,b.eventSystemFlags,_[0],b.nativeEvent);if(R===null){R=b.nativeEvent;var F=new R.constructor(R.type,R);zn=F,R.target.dispatchEvent(F),zn=null}else return _=UC(R),_!==null&&Ma(_),b.blockedOn=R,!1;_.shift()}return!0}function Wu(b,_,R){ua(b)&&R.delete(_)}function Ng(){dh=!1,qi!==null&&ua(qi)&&(qi=null),$i!==null&&ua($i)&&($i=null),Ls!==null&&ua(Ls)&&(Ls=null),Oc.forEach(Wu),ns.forEach(Wu)}function yl(b,_){b.blockedOn===_&&(b.blockedOn=null,dh||(dh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ng)))}function Fa(b){function _(K){return yl(K,b)}if(0<bs.length){yl(bs[0],b);for(var R=1;R<bs.length;R++){var F=bs[R];F.blockedOn===b&&(F.blockedOn=null)}}for(qi!==null&&yl(qi,b),$i!==null&&yl($i,b),Ls!==null&&yl(Ls,b),Oc.forEach(_),ns.forEach(_),R=0;R<$a.length;R++)F=$a[R],F.blockedOn===b&&(F.blockedOn=null);for(;0<$a.length&&(R=$a[0],R.blockedOn===null);)hh(R),R.blockedOn===null&&$a.shift()}var Ee=E.ReactCurrentBatchConfig,oe=!0;function ye(b,_,R,F){var K=Xt,Z=Ee.transition;Ee.transition=null;try{Xt=1,Tt(b,_,R,F)}finally{Xt=K,Ee.transition=Z}}function Me(b,_,R,F){var K=Xt,Z=Ee.transition;Ee.transition=null;try{Xt=4,Tt(b,_,R,F)}finally{Xt=K,Ee.transition=Z}}function Tt(b,_,R,F){if(oe){var K=pn(b,_,R,F);if(K===null)j8(b,_,F,Ot,R),ru(b,F);else if(Og(K,b,_,R,F))F.stopPropagation();else if(ru(b,F),_&4&&-1<fh.indexOf(b)){for(;K!==null;){var Z=UC(K);if(Z!==null&&Lo(Z),Z=pn(b,_,R,F),Z===null&&j8(b,_,F,Ot,R),Z===K)break;K=Z}K!==null&&F.stopPropagation()}else j8(b,_,F,null,R)}}var Ot=null;function pn(b,_,R,F){if(Ot=null,b=Fr(F),b=gv(b),b!==null)if(_=Un(b),_===null)b=null;else if(R=_.tag,R===13){if(b=Hi(_),b!==null)return b;b=null}else if(R===3){if(_.stateNode.current.memoizedState.isDehydrated)return _.tag===3?_.stateNode.containerInfo:null;b=null}else _!==b&&(b=null);return Ot=b,null}function Ln(b){switch(b){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ld()){case No:return 1;case Fs:return 4;case Mo:case qu:return 16;case la:return 536870912;default:return 16}default:return 16}}var Zt=null,bn=null,hr=null;function si(){if(hr)return hr;var b,_=bn,R=_.length,F,K="value"in Zt?Zt.value:Zt.textContent,Z=K.length;for(b=0;b<R&&_[b]===K[b];b++);var ue=R-b;for(F=1;F<=ue&&_[R-F]===K[Z-F];F++);return hr=K.slice(b,1<F?1-F:void 0)}function mi(b){var _=b.keyCode;return"charCode"in b?(b=b.charCode,b===0&&_===13&&(b=13)):b=_,b===10&&(b=13),32<=b||b===13?b:0}function ki(){return!0}function _o(){return!1}function gi(b){function _(R,F,K,Z,ue){this._reactName=R,this._targetInst=K,this.type=F,this.nativeEvent=Z,this.target=ue,this.currentTarget=null;for(var ke in b)b.hasOwnProperty(ke)&&(R=b[ke],this[ke]=R?R(Z):Z[ke]);return this.isDefaultPrevented=(Z.defaultPrevented!=null?Z.defaultPrevented:Z.returnValue===!1)?ki:_o,this.isPropagationStopped=_o,this}return V(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var R=this.nativeEvent;R&&(R.preventDefault?R.preventDefault():typeof R.returnValue!="unknown"&&(R.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var R=this.nativeEvent;R&&(R.stopPropagation?R.stopPropagation():typeof R.cancelBubble!="unknown"&&(R.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),_}var Bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iu=gi(Bo),Gu=V({},Bo,{view:0,detail:0}),Mg=gi(Gu),jd,Vp,$g,pv=V({},Gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ph,button:0,buttons:0,relatedTarget:function(b){return b.relatedTarget===void 0?b.fromElement===b.srcElement?b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){return"movementX"in b?b.movementX:(b!==$g&&($g&&b.type==="mousemove"?(jd=b.screenX-$g.screenX,Vp=b.screenY-$g.screenY):Vp=jd=0,$g=b),jd)},movementY:function(b){return"movementY"in b?b.movementY:Vp}}),pw=gi(pv),PC=V({},pv,{dataTransfer:0}),hI=gi(PC),mw=V({},Gu,{relatedTarget:0}),gw=gi(mw),pI=V({},Bo,{animationName:0,elapsedTime:0,pseudoElement:0}),Hp=gi(pI),mI=V({},Bo,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),gI=gi(mI),yI=V({},Bo,{data:0}),OC=gi(yI),yw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bI(b){var _=this.nativeEvent;return _.getModifierState?_.getModifierState(b):(b=vI[b])?!!_[b]:!1}function ph(){return bI}var M=V({},Gu,{key:function(b){if(b.key){var _=yw[b.key]||b.key;if(_!=="Unidentified")return _}return b.type==="keypress"?(b=mi(b),b===13?"Enter":String.fromCharCode(b)):b.type==="keydown"||b.type==="keyup"?vl[b.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ph,charCode:function(b){return b.type==="keypress"?mi(b):0},keyCode:function(b){return b.type==="keydown"||b.type==="keyup"?b.keyCode:0},which:function(b){return b.type==="keypress"?mi(b):b.type==="keydown"||b.type==="keyup"?b.keyCode:0}}),J=gi(M),re=V({},pv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ve=gi(re),qe=V({},Gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ph}),Je=gi(qe),Nt=V({},Bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),yi=gi(Nt),ws=V({},pv,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),Br=gi(ws),js=[9,13,27,32],rs=a&&"CompositionEvent"in window,Nc=null;a&&"documentMode"in document&&(Nc=document.documentMode);var Yu=a&&"TextEvent"in window&&!Nc,mv=a&&(!rs||Nc&&8<Nc&&11>=Nc),vw=" ",Noe=!1;function Moe(b,_){switch(b){case"keyup":return js.indexOf(_.keyCode)!==-1;case"keydown":return _.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $oe(b){return b=b.detail,typeof b=="object"&&"data"in b?b.data:null}var bw=!1;function F9e(b,_){switch(b){case"compositionend":return $oe(_);case"keypress":return _.which!==32?null:(Noe=!0,vw);case"textInput":return b=_.data,b===vw&&Noe?null:b;default:return null}}function L9e(b,_){if(bw)return b==="compositionend"||!rs&&Moe(b,_)?(b=si(),hr=bn=Zt=null,bw=!1,b):null;switch(b){case"paste":return null;case"keypress":if(!(_.ctrlKey||_.altKey||_.metaKey)||_.ctrlKey&&_.altKey){if(_.char&&1<_.char.length)return _.char;if(_.which)return String.fromCharCode(_.which)}return null;case"compositionend":return mv&&_.locale!=="ko"?null:_.data;default:return null}}var j9e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Foe(b){var _=b&&b.nodeName&&b.nodeName.toLowerCase();return _==="input"?!!j9e[b.type]:_==="textarea"}function Loe(b,_,R,F){sr(F),_=CI(_,"onChange"),0<_.length&&(R=new iu("onChange","change",null,R,F),b.push({event:R,listeners:_}))}var NC=null,MC=null;function B9e(b){nse(b,0)}function wI(b){var _=Cw(b);if(le(_))return b}function z9e(b,_){if(b==="change")return _}var joe=!1;if(a){var I8;if(a){var D8="oninput"in document;if(!D8){var Boe=document.createElement("div");Boe.setAttribute("oninput","return;"),D8=typeof Boe.oninput=="function"}I8=D8}else I8=!1;joe=I8&&(!document.documentMode||9<document.documentMode)}function zoe(){NC&&(NC.detachEvent("onpropertychange",Uoe),MC=NC=null)}function Uoe(b){if(b.propertyName==="value"&&wI(MC)){var _=[];Loe(_,MC,b,Fr(b)),wr(B9e,_)}}function U9e(b,_,R){b==="focusin"?(zoe(),NC=_,MC=R,NC.attachEvent("onpropertychange",Uoe)):b==="focusout"&&zoe()}function V9e(b){if(b==="selectionchange"||b==="keyup"||b==="keydown")return wI(MC)}function H9e(b,_){if(b==="click")return wI(_)}function q9e(b,_){if(b==="input"||b==="change")return wI(_)}function W9e(b,_){return b===_&&(b!==0||1/b===1/_)||b!==b&&_!==_}var Bd=typeof Object.is=="function"?Object.is:W9e;function $C(b,_){if(Bd(b,_))return!0;if(typeof b!="object"||b===null||typeof _!="object"||_===null)return!1;var R=Object.keys(b),F=Object.keys(_);if(R.length!==F.length)return!1;for(F=0;F<R.length;F++){var K=R[F];if(!l.call(_,K)||!Bd(b[K],_[K]))return!1}return!0}function Voe(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function Hoe(b,_){var R=Voe(b);b=0;for(var F;R;){if(R.nodeType===3){if(F=b+R.textContent.length,b<=_&&F>=_)return{node:R,offset:_-b};b=F}e:{for(;R;){if(R.nextSibling){R=R.nextSibling;break e}R=R.parentNode}R=void 0}R=Voe(R)}}function qoe(b,_){return b&&_?b===_?!0:b&&b.nodeType===3?!1:_&&_.nodeType===3?qoe(b,_.parentNode):"contains"in b?b.contains(_):b.compareDocumentPosition?!!(b.compareDocumentPosition(_)&16):!1:!1}function Woe(){for(var b=window,_=Ce();_ instanceof b.HTMLIFrameElement;){try{var R=typeof _.contentWindow.location.href=="string"}catch{R=!1}if(R)b=_.contentWindow;else break;_=Ce(b.document)}return _}function P8(b){var _=b&&b.nodeName&&b.nodeName.toLowerCase();return _&&(_==="input"&&(b.type==="text"||b.type==="search"||b.type==="tel"||b.type==="url"||b.type==="password")||_==="textarea"||b.contentEditable==="true")}function G9e(b){var _=Woe(),R=b.focusedElem,F=b.selectionRange;if(_!==R&&R&&R.ownerDocument&&qoe(R.ownerDocument.documentElement,R)){if(F!==null&&P8(R)){if(_=F.start,b=F.end,b===void 0&&(b=_),"selectionStart"in R)R.selectionStart=_,R.selectionEnd=Math.min(b,R.value.length);else if(b=(_=R.ownerDocument||document)&&_.defaultView||window,b.getSelection){b=b.getSelection();var K=R.textContent.length,Z=Math.min(F.start,K);F=F.end===void 0?Z:Math.min(F.end,K),!b.extend&&Z>F&&(K=F,F=Z,Z=K),K=Hoe(R,Z);var ue=Hoe(R,F);K&&ue&&(b.rangeCount!==1||b.anchorNode!==K.node||b.anchorOffset!==K.offset||b.focusNode!==ue.node||b.focusOffset!==ue.offset)&&(_=_.createRange(),_.setStart(K.node,K.offset),b.removeAllRanges(),Z>F?(b.addRange(_),b.extend(ue.node,ue.offset)):(_.setEnd(ue.node,ue.offset),b.addRange(_)))}}for(_=[],b=R;b=b.parentNode;)b.nodeType===1&&_.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<_.length;R++)b=_[R],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}var Y9e=a&&"documentMode"in document&&11>=document.documentMode,ww=null,O8=null,FC=null,N8=!1;function Goe(b,_,R){var F=R.window===R?R.document:R.nodeType===9?R:R.ownerDocument;N8||ww==null||ww!==Ce(F)||(F=ww,"selectionStart"in F&&P8(F)?F={start:F.selectionStart,end:F.selectionEnd}:(F=(F.ownerDocument&&F.ownerDocument.defaultView||window).getSelection(),F={anchorNode:F.anchorNode,anchorOffset:F.anchorOffset,focusNode:F.focusNode,focusOffset:F.focusOffset}),FC&&$C(FC,F)||(FC=F,F=CI(O8,"onSelect"),0<F.length&&(_=new iu("onSelect","select",null,_,R),b.push({event:_,listeners:F}),_.target=ww)))}function xI(b,_){var R={};return R[b.toLowerCase()]=_.toLowerCase(),R["Webkit"+b]="webkit"+_,R["Moz"+b]="moz"+_,R}var xw={animationend:xI("Animation","AnimationEnd"),animationiteration:xI("Animation","AnimationIteration"),animationstart:xI("Animation","AnimationStart"),transitionend:xI("Transition","TransitionEnd")},M8={},Yoe={};a&&(Yoe=document.createElement("div").style,"AnimationEvent"in window||(delete xw.animationend.animation,delete xw.animationiteration.animation,delete xw.animationstart.animation),"TransitionEvent"in window||delete xw.transitionend.transition);function _I(b){if(M8[b])return M8[b];if(!xw[b])return b;var _=xw[b],R;for(R in _)if(_.hasOwnProperty(R)&&R in Yoe)return M8[b]=_[R];return b}var Koe=_I("animationend"),Xoe=_I("animationiteration"),Qoe=_I("animationstart"),Joe=_I("transitionend"),Zoe=new Map,ese="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fg(b,_){Zoe.set(b,_),o(_,[b])}for(var $8=0;$8<ese.length;$8++){var F8=ese[$8],K9e=F8.toLowerCase(),X9e=F8[0].toUpperCase()+F8.slice(1);Fg(K9e,"on"+X9e)}Fg(Koe,"onAnimationEnd"),Fg(Xoe,"onAnimationIteration"),Fg(Qoe,"onAnimationStart"),Fg("dblclick","onDoubleClick"),Fg("focusin","onFocus"),Fg("focusout","onBlur"),Fg(Joe,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var LC="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q9e=new Set("cancel close invalid load scroll toggle".split(" ").concat(LC));function tse(b,_,R){var F=b.type||"unknown-event";b.currentTarget=R,Vu(F,_,void 0,b),b.currentTarget=null}function nse(b,_){_=(_&4)!==0;for(var R=0;R<b.length;R++){var F=b[R],K=F.event;F=F.listeners;e:{var Z=void 0;if(_)for(var ue=F.length-1;0<=ue;ue--){var ke=F[ue],$e=ke.instance,Xe=ke.currentTarget;if(ke=ke.listener,$e!==Z&&K.isPropagationStopped())break e;tse(K,ke,Xe),Z=$e}else for(ue=0;ue<F.length;ue++){if(ke=F[ue],$e=ke.instance,Xe=ke.currentTarget,ke=ke.listener,$e!==Z&&K.isPropagationStopped())break e;tse(K,ke,Xe),Z=$e}}}if(jr)throw b=gs,jr=!1,gs=null,b}function Wi(b,_){var R=_[q8];R===void 0&&(R=_[q8]=new Set);var F=b+"__bubble";R.has(F)||(rse(_,b,2,!1),R.add(F))}function L8(b,_,R){var F=0;_&&(F|=4),rse(R,b,F,_)}var EI="_reactListening"+Math.random().toString(36).slice(2);function jC(b){if(!b[EI]){b[EI]=!0,r.forEach(function(R){R!=="selectionchange"&&(Q9e.has(R)||L8(R,!1,b),L8(R,!0,b))});var _=b.nodeType===9?b:b.ownerDocument;_===null||_[EI]||(_[EI]=!0,L8("selectionchange",!1,_))}}function rse(b,_,R,F){switch(Ln(_)){case 1:var K=ye;break;case 4:K=Me;break;default:K=Tt}R=K.bind(null,_,R,b),K=void 0,!ar||_!=="touchstart"&&_!=="touchmove"&&_!=="wheel"||(K=!0),F?K!==void 0?b.addEventListener(_,R,{capture:!0,passive:K}):b.addEventListener(_,R,!0):K!==void 0?b.addEventListener(_,R,{passive:K}):b.addEventListener(_,R,!1)}function j8(b,_,R,F,K){var Z=F;if((_&1)===0&&(_&2)===0&&F!==null)e:for(;;){if(F===null)return;var ue=F.tag;if(ue===3||ue===4){var ke=F.stateNode.containerInfo;if(ke===K||ke.nodeType===8&&ke.parentNode===K)break;if(ue===4)for(ue=F.return;ue!==null;){var $e=ue.tag;if(($e===3||$e===4)&&($e=ue.stateNode.containerInfo,$e===K||$e.nodeType===8&&$e.parentNode===K))return;ue=ue.return}for(;ke!==null;){if(ue=gv(ke),ue===null)return;if($e=ue.tag,$e===5||$e===6){F=Z=ue;continue e}ke=ke.parentNode}}F=F.return}wr(function(){var Xe=Z,mt=Fr(R),wt=[];e:{var pt=Zoe.get(b);if(pt!==void 0){var Ht=iu,Qt=b;switch(b){case"keypress":if(mi(R)===0)break e;case"keydown":case"keyup":Ht=J;break;case"focusin":Qt="focus",Ht=gw;break;case"focusout":Qt="blur",Ht=gw;break;case"beforeblur":case"afterblur":Ht=gw;break;case"click":if(R.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ht=pw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ht=hI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ht=Je;break;case Koe:case Xoe:case Qoe:Ht=Hp;break;case Joe:Ht=yi;break;case"scroll":Ht=Mg;break;case"wheel":Ht=Br;break;case"copy":case"cut":case"paste":Ht=gI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ht=ve}var tn=(_&4)!==0,zo=!tn&&b==="scroll",We=tn?pt!==null?pt+"Capture":null:pt;tn=[];for(var Be=Xe,Ke;Be!==null;){Ke=Be;var It=Ke.stateNode;if(Ke.tag===5&&It!==null&&(Ke=It,We!==null&&(It=Vt(Be,We),It!=null&&tn.push(BC(Be,It,Ke)))),zo)break;Be=Be.return}0<tn.length&&(pt=new Ht(pt,Qt,null,R,mt),wt.push({event:pt,listeners:tn}))}}if((_&7)===0){e:{if(pt=b==="mouseover"||b==="pointerover",Ht=b==="mouseout"||b==="pointerout",pt&&R!==zn&&(Qt=R.relatedTarget||R.fromElement)&&(gv(Qt)||Qt[qp]))break e;if((Ht||pt)&&(pt=mt.window===mt?mt:(pt=mt.ownerDocument)?pt.defaultView||pt.parentWindow:window,Ht?(Qt=R.relatedTarget||R.toElement,Ht=Xe,Qt=Qt?gv(Qt):null,Qt!==null&&(zo=Un(Qt),Qt!==zo||Qt.tag!==5&&Qt.tag!==6)&&(Qt=null)):(Ht=null,Qt=Xe),Ht!==Qt)){if(tn=pw,It="onMouseLeave",We="onMouseEnter",Be="mouse",(b==="pointerout"||b==="pointerover")&&(tn=ve,It="onPointerLeave",We="onPointerEnter",Be="pointer"),zo=Ht==null?pt:Cw(Ht),Ke=Qt==null?pt:Cw(Qt),pt=new tn(It,Be+"leave",Ht,R,mt),pt.target=zo,pt.relatedTarget=Ke,It=null,gv(mt)===Xe&&(tn=new tn(We,Be+"enter",Qt,R,mt),tn.target=Ke,tn.relatedTarget=zo,It=tn),zo=It,Ht&&Qt)t:{for(tn=Ht,We=Qt,Be=0,Ke=tn;Ke;Ke=_w(Ke))Be++;for(Ke=0,It=We;It;It=_w(It))Ke++;for(;0<Be-Ke;)tn=_w(tn),Be--;for(;0<Ke-Be;)We=_w(We),Ke--;for(;Be--;){if(tn===We||We!==null&&tn===We.alternate)break t;tn=_w(tn),We=_w(We)}tn=null}else tn=null;Ht!==null&&ise(wt,pt,Ht,tn,!1),Qt!==null&&zo!==null&&ise(wt,zo,Qt,tn,!0)}}e:{if(pt=Xe?Cw(Xe):window,Ht=pt.nodeName&&pt.nodeName.toLowerCase(),Ht==="select"||Ht==="input"&&pt.type==="file")var ln=z9e;else if(Foe(pt))if(joe)ln=q9e;else{ln=V9e;var In=U9e}else(Ht=pt.nodeName)&&Ht.toLowerCase()==="input"&&(pt.type==="checkbox"||pt.type==="radio")&&(ln=H9e);if(ln&&(ln=ln(b,Xe))){Loe(wt,ln,R,mt);break e}In&&In(b,pt,Xe),b==="focusout"&&(In=pt._wrapperState)&&In.controlled&&pt.type==="number"&&pe(pt,"number",pt.value)}switch(In=Xe?Cw(Xe):window,b){case"focusin":(Foe(In)||In.contentEditable==="true")&&(ww=In,O8=Xe,FC=null);break;case"focusout":FC=O8=ww=null;break;case"mousedown":N8=!0;break;case"contextmenu":case"mouseup":case"dragend":N8=!1,Goe(wt,R,mt);break;case"selectionchange":if(Y9e)break;case"keydown":case"keyup":Goe(wt,R,mt)}var Dn;if(rs)e:{switch(b){case"compositionstart":var Hn="onCompositionStart";break e;case"compositionend":Hn="onCompositionEnd";break e;case"compositionupdate":Hn="onCompositionUpdate";break e}Hn=void 0}else bw?Moe(b,R)&&(Hn="onCompositionEnd"):b==="keydown"&&R.keyCode===229&&(Hn="onCompositionStart");Hn&&(mv&&R.locale!=="ko"&&(bw||Hn!=="onCompositionStart"?Hn==="onCompositionEnd"&&bw&&(Dn=si()):(Zt=mt,bn="value"in Zt?Zt.value:Zt.textContent,bw=!0)),In=CI(Xe,Hn),0<In.length&&(Hn=new OC(Hn,b,null,R,mt),wt.push({event:Hn,listeners:In}),Dn?Hn.data=Dn:(Dn=$oe(R),Dn!==null&&(Hn.data=Dn)))),(Dn=Yu?F9e(b,R):L9e(b,R))&&(Xe=CI(Xe,"onBeforeInput"),0<Xe.length&&(mt=new OC("onBeforeInput","beforeinput",null,R,mt),wt.push({event:mt,listeners:Xe}),mt.data=Dn))}nse(wt,_)})}function BC(b,_,R){return{instance:b,listener:_,currentTarget:R}}function CI(b,_){for(var R=_+"Capture",F=[];b!==null;){var K=b,Z=K.stateNode;K.tag===5&&Z!==null&&(K=Z,Z=Vt(b,R),Z!=null&&F.unshift(BC(b,Z,K)),Z=Vt(b,_),Z!=null&&F.push(BC(b,Z,K))),b=b.return}return F}function _w(b){if(b===null)return null;do b=b.return;while(b&&b.tag!==5);return b||null}function ise(b,_,R,F,K){for(var Z=_._reactName,ue=[];R!==null&&R!==F;){var ke=R,$e=ke.alternate,Xe=ke.stateNode;if($e!==null&&$e===F)break;ke.tag===5&&Xe!==null&&(ke=Xe,K?($e=Vt(R,Z),$e!=null&&ue.unshift(BC(R,$e,ke))):K||($e=Vt(R,Z),$e!=null&&ue.push(BC(R,$e,ke)))),R=R.return}ue.length!==0&&b.push({event:_,listeners:ue})}var J9e=/\r\n?/g,Z9e=/\u0000|\uFFFD/g;function ose(b){return(typeof b=="string"?b:""+b).replace(J9e,`
`).replace(Z9e,"")}function SI(b,_,R){if(_=ose(_),ose(b)!==_&&R)throw Error(n(425))}function TI(){}var B8=null,z8=null;function U8(b,_){return b==="textarea"||b==="noscript"||typeof _.children=="string"||typeof _.children=="number"||typeof _.dangerouslySetInnerHTML=="object"&&_.dangerouslySetInnerHTML!==null&&_.dangerouslySetInnerHTML.__html!=null}var V8=typeof setTimeout=="function"?setTimeout:void 0,e7e=typeof clearTimeout=="function"?clearTimeout:void 0,sse=typeof Promise=="function"?Promise:void 0,t7e=typeof queueMicrotask=="function"?queueMicrotask:typeof sse<"u"?function(b){return sse.resolve(null).then(b).catch(n7e)}:V8;function n7e(b){setTimeout(function(){throw b})}function H8(b,_){var R=_,F=0;do{var K=R.nextSibling;if(b.removeChild(R),K&&K.nodeType===8)if(R=K.data,R==="/$"){if(F===0){b.removeChild(K),Fa(_);return}F--}else R!=="$"&&R!=="$?"&&R!=="$!"||F++;R=K}while(R);Fa(_)}function Lg(b){for(;b!=null;b=b.nextSibling){var _=b.nodeType;if(_===1||_===3)break;if(_===8){if(_=b.data,_==="$"||_==="$!"||_==="$?")break;if(_==="/$")return null}}return b}function ase(b){b=b.previousSibling;for(var _=0;b;){if(b.nodeType===8){var R=b.data;if(R==="$"||R==="$!"||R==="$?"){if(_===0)return b;_--}else R==="/$"&&_++}b=b.previousSibling}return null}var Ew=Math.random().toString(36).slice(2),mh="__reactFiber$"+Ew,zC="__reactProps$"+Ew,qp="__reactContainer$"+Ew,q8="__reactEvents$"+Ew,r7e="__reactListeners$"+Ew,i7e="__reactHandles$"+Ew;function gv(b){var _=b[mh];if(_)return _;for(var R=b.parentNode;R;){if(_=R[qp]||R[mh]){if(R=_.alternate,_.child!==null||R!==null&&R.child!==null)for(b=ase(b);b!==null;){if(R=b[mh])return R;b=ase(b)}return _}b=R,R=b.parentNode}return null}function UC(b){return b=b[mh]||b[qp],!b||b.tag!==5&&b.tag!==6&&b.tag!==13&&b.tag!==3?null:b}function Cw(b){if(b.tag===5||b.tag===6)return b.stateNode;throw Error(n(33))}function AI(b){return b[zC]||null}var W8=[],Sw=-1;function jg(b){return{current:b}}function Gi(b){0>Sw||(b.current=W8[Sw],W8[Sw]=null,Sw--)}function Fi(b,_){Sw++,W8[Sw]=b.current,b.current=_}var Bg={},La=jg(Bg),ou=jg(!1),yv=Bg;function Tw(b,_){var R=b.type.contextTypes;if(!R)return Bg;var F=b.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===_)return F.__reactInternalMemoizedMaskedChildContext;var K={},Z;for(Z in R)K[Z]=_[Z];return F&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=_,b.__reactInternalMemoizedMaskedChildContext=K),K}function su(b){return b=b.childContextTypes,b!=null}function kI(){Gi(ou),Gi(La)}function lse(b,_,R){if(La.current!==Bg)throw Error(n(168));Fi(La,_),Fi(ou,R)}function use(b,_,R){var F=b.stateNode;if(_=_.childContextTypes,typeof F.getChildContext!="function")return R;F=F.getChildContext();for(var K in F)if(!(K in _))throw Error(n(108,de(b)||"Unknown",K));return V({},R,F)}function RI(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||Bg,yv=La.current,Fi(La,b),Fi(ou,ou.current),!0}function cse(b,_,R){var F=b.stateNode;if(!F)throw Error(n(169));R?(b=use(b,_,yv),F.__reactInternalMemoizedMergedChildContext=b,Gi(ou),Gi(La),Fi(La,b)):Gi(ou),Fi(ou,R)}var Wp=null,II=!1,G8=!1;function dse(b){Wp===null?Wp=[b]:Wp.push(b)}function o7e(b){II=!0,dse(b)}function zg(){if(!G8&&Wp!==null){G8=!0;var b=0,_=Xt;try{var R=Wp;for(Xt=1;b<R.length;b++){var F=R[b];do F=F(!0);while(F!==null)}Wp=null,II=!1}catch(K){throw Wp!==null&&(Wp=Wp.slice(b+1)),Dc(No,zg),K}finally{Xt=_,G8=!1}}return null}var Aw=[],kw=0,DI=null,PI=0,Mc=[],$c=0,vv=null,Gp=1,Yp="";function bv(b,_){Aw[kw++]=PI,Aw[kw++]=DI,DI=b,PI=_}function fse(b,_,R){Mc[$c++]=Gp,Mc[$c++]=Yp,Mc[$c++]=vv,vv=b;var F=Gp;b=Yp;var K=32-Fo(F)-1;F&=~(1<<K),R+=1;var Z=32-Fo(_)+K;if(30<Z){var ue=K-K%5;Z=(F&(1<<ue)-1).toString(32),F>>=ue,K-=ue,Gp=1<<32-Fo(_)+K|R<<K|F,Yp=Z+b}else Gp=1<<Z|R<<K|F,Yp=b}function Y8(b){b.return!==null&&(bv(b,1),fse(b,1,0))}function K8(b){for(;b===DI;)DI=Aw[--kw],Aw[kw]=null,PI=Aw[--kw],Aw[kw]=null;for(;b===vv;)vv=Mc[--$c],Mc[$c]=null,Yp=Mc[--$c],Mc[$c]=null,Gp=Mc[--$c],Mc[$c]=null}var Ku=null,Xu=null,eo=!1,zd=null;function hse(b,_){var R=Bc(5,null,null,0);R.elementType="DELETED",R.stateNode=_,R.return=b,_=b.deletions,_===null?(b.deletions=[R],b.flags|=16):_.push(R)}function pse(b,_){switch(b.tag){case 5:var R=b.type;return _=_.nodeType!==1||R.toLowerCase()!==_.nodeName.toLowerCase()?null:_,_!==null?(b.stateNode=_,Ku=b,Xu=Lg(_.firstChild),!0):!1;case 6:return _=b.pendingProps===""||_.nodeType!==3?null:_,_!==null?(b.stateNode=_,Ku=b,Xu=null,!0):!1;case 13:return _=_.nodeType!==8?null:_,_!==null?(R=vv!==null?{id:Gp,overflow:Yp}:null,b.memoizedState={dehydrated:_,treeContext:R,retryLane:1073741824},R=Bc(18,null,null,0),R.stateNode=_,R.return=b,b.child=R,Ku=b,Xu=null,!0):!1;default:return!1}}function X8(b){return(b.mode&1)!==0&&(b.flags&128)===0}function Q8(b){if(eo){var _=Xu;if(_){var R=_;if(!pse(b,_)){if(X8(b))throw Error(n(418));_=Lg(R.nextSibling);var F=Ku;_&&pse(b,_)?hse(F,R):(b.flags=b.flags&-4097|2,eo=!1,Ku=b)}}else{if(X8(b))throw Error(n(418));b.flags=b.flags&-4097|2,eo=!1,Ku=b}}}function mse(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;Ku=b}function OI(b){if(b!==Ku)return!1;if(!eo)return mse(b),eo=!0,!1;var _;if((_=b.tag!==3)&&!(_=b.tag!==5)&&(_=b.type,_=_!=="head"&&_!=="body"&&!U8(b.type,b.memoizedProps)),_&&(_=Xu)){if(X8(b))throw gse(),Error(n(418));for(;_;)hse(b,_),_=Lg(_.nextSibling)}if(mse(b),b.tag===13){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));e:{for(b=b.nextSibling,_=0;b;){if(b.nodeType===8){var R=b.data;if(R==="/$"){if(_===0){Xu=Lg(b.nextSibling);break e}_--}else R!=="$"&&R!=="$!"&&R!=="$?"||_++}b=b.nextSibling}Xu=null}}else Xu=Ku?Lg(b.stateNode.nextSibling):null;return!0}function gse(){for(var b=Xu;b;)b=Lg(b.nextSibling)}function Rw(){Xu=Ku=null,eo=!1}function J8(b){zd===null?zd=[b]:zd.push(b)}var s7e=E.ReactCurrentBatchConfig;function VC(b,_,R){if(b=R.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(R._owner){if(R=R._owner,R){if(R.tag!==1)throw Error(n(309));var F=R.stateNode}if(!F)throw Error(n(147,b));var K=F,Z=""+b;return _!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===Z?_.ref:(_=function(ue){var ke=K.refs;ue===null?delete ke[Z]:ke[Z]=ue},_._stringRef=Z,_)}if(typeof b!="string")throw Error(n(284));if(!R._owner)throw Error(n(290,b))}return b}function NI(b,_){throw b=Object.prototype.toString.call(_),Error(n(31,b==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":b))}function yse(b){var _=b._init;return _(b._payload)}function vse(b){function _(We,Be){if(b){var Ke=We.deletions;Ke===null?(We.deletions=[Be],We.flags|=16):Ke.push(Be)}}function R(We,Be){if(!b)return null;for(;Be!==null;)_(We,Be),Be=Be.sibling;return null}function F(We,Be){for(We=new Map;Be!==null;)Be.key!==null?We.set(Be.key,Be):We.set(Be.index,Be),Be=Be.sibling;return We}function K(We,Be){return We=Kg(We,Be),We.index=0,We.sibling=null,We}function Z(We,Be,Ke){return We.index=Ke,b?(Ke=We.alternate,Ke!==null?(Ke=Ke.index,Ke<Be?(We.flags|=2,Be):Ke):(We.flags|=2,Be)):(We.flags|=1048576,Be)}function ue(We){return b&&We.alternate===null&&(We.flags|=2),We}function ke(We,Be,Ke,It){return Be===null||Be.tag!==6?(Be=Vj(Ke,We.mode,It),Be.return=We,Be):(Be=K(Be,Ke),Be.return=We,Be)}function $e(We,Be,Ke,It){var ln=Ke.type;return ln===T?mt(We,Be,Ke.props.children,It,Ke.key):Be!==null&&(Be.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===B&&yse(ln)===Be.type)?(It=K(Be,Ke.props),It.ref=VC(We,Be,Ke),It.return=We,It):(It=iD(Ke.type,Ke.key,Ke.props,null,We.mode,It),It.ref=VC(We,Be,Ke),It.return=We,It)}function Xe(We,Be,Ke,It){return Be===null||Be.tag!==4||Be.stateNode.containerInfo!==Ke.containerInfo||Be.stateNode.implementation!==Ke.implementation?(Be=Hj(Ke,We.mode,It),Be.return=We,Be):(Be=K(Be,Ke.children||[]),Be.return=We,Be)}function mt(We,Be,Ke,It,ln){return Be===null||Be.tag!==7?(Be=Av(Ke,We.mode,It,ln),Be.return=We,Be):(Be=K(Be,Ke),Be.return=We,Be)}function wt(We,Be,Ke){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return Be=Vj(""+Be,We.mode,Ke),Be.return=We,Be;if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case C:return Ke=iD(Be.type,Be.key,Be.props,null,We.mode,Ke),Ke.ref=VC(We,null,Be),Ke.return=We,Ke;case S:return Be=Hj(Be,We.mode,Ke),Be.return=We,Be;case B:var It=Be._init;return wt(We,It(Be._payload),Ke)}if(Re(Be)||Y(Be))return Be=Av(Be,We.mode,Ke,null),Be.return=We,Be;NI(We,Be)}return null}function pt(We,Be,Ke,It){var ln=Be!==null?Be.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return ln!==null?null:ke(We,Be,""+Ke,It);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case C:return Ke.key===ln?$e(We,Be,Ke,It):null;case S:return Ke.key===ln?Xe(We,Be,Ke,It):null;case B:return ln=Ke._init,pt(We,Be,ln(Ke._payload),It)}if(Re(Ke)||Y(Ke))return ln!==null?null:mt(We,Be,Ke,It,null);NI(We,Ke)}return null}function Ht(We,Be,Ke,It,ln){if(typeof It=="string"&&It!==""||typeof It=="number")return We=We.get(Ke)||null,ke(Be,We,""+It,ln);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case C:return We=We.get(It.key===null?Ke:It.key)||null,$e(Be,We,It,ln);case S:return We=We.get(It.key===null?Ke:It.key)||null,Xe(Be,We,It,ln);case B:var In=It._init;return Ht(We,Be,Ke,In(It._payload),ln)}if(Re(It)||Y(It))return We=We.get(Ke)||null,mt(Be,We,It,ln,null);NI(Be,It)}return null}function Qt(We,Be,Ke,It){for(var ln=null,In=null,Dn=Be,Hn=Be=0,Us=null;Dn!==null&&Hn<Ke.length;Hn++){Dn.index>Hn?(Us=Dn,Dn=null):Us=Dn.sibling;var Qr=pt(We,Dn,Ke[Hn],It);if(Qr===null){Dn===null&&(Dn=Us);break}b&&Dn&&Qr.alternate===null&&_(We,Dn),Be=Z(Qr,Be,Hn),In===null?ln=Qr:In.sibling=Qr,In=Qr,Dn=Us}if(Hn===Ke.length)return R(We,Dn),eo&&bv(We,Hn),ln;if(Dn===null){for(;Hn<Ke.length;Hn++)Dn=wt(We,Ke[Hn],It),Dn!==null&&(Be=Z(Dn,Be,Hn),In===null?ln=Dn:In.sibling=Dn,In=Dn);return eo&&bv(We,Hn),ln}for(Dn=F(We,Dn);Hn<Ke.length;Hn++)Us=Ht(Dn,We,Hn,Ke[Hn],It),Us!==null&&(b&&Us.alternate!==null&&Dn.delete(Us.key===null?Hn:Us.key),Be=Z(Us,Be,Hn),In===null?ln=Us:In.sibling=Us,In=Us);return b&&Dn.forEach(function(Xg){return _(We,Xg)}),eo&&bv(We,Hn),ln}function tn(We,Be,Ke,It){var ln=Y(Ke);if(typeof ln!="function")throw Error(n(150));if(Ke=ln.call(Ke),Ke==null)throw Error(n(151));for(var In=ln=null,Dn=Be,Hn=Be=0,Us=null,Qr=Ke.next();Dn!==null&&!Qr.done;Hn++,Qr=Ke.next()){Dn.index>Hn?(Us=Dn,Dn=null):Us=Dn.sibling;var Xg=pt(We,Dn,Qr.value,It);if(Xg===null){Dn===null&&(Dn=Us);break}b&&Dn&&Xg.alternate===null&&_(We,Dn),Be=Z(Xg,Be,Hn),In===null?ln=Xg:In.sibling=Xg,In=Xg,Dn=Us}if(Qr.done)return R(We,Dn),eo&&bv(We,Hn),ln;if(Dn===null){for(;!Qr.done;Hn++,Qr=Ke.next())Qr=wt(We,Qr.value,It),Qr!==null&&(Be=Z(Qr,Be,Hn),In===null?ln=Qr:In.sibling=Qr,In=Qr);return eo&&bv(We,Hn),ln}for(Dn=F(We,Dn);!Qr.done;Hn++,Qr=Ke.next())Qr=Ht(Dn,We,Hn,Qr.value,It),Qr!==null&&(b&&Qr.alternate!==null&&Dn.delete(Qr.key===null?Hn:Qr.key),Be=Z(Qr,Be,Hn),In===null?ln=Qr:In.sibling=Qr,In=Qr);return b&&Dn.forEach(function(j7e){return _(We,j7e)}),eo&&bv(We,Hn),ln}function zo(We,Be,Ke,It){if(typeof Ke=="object"&&Ke!==null&&Ke.type===T&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case C:e:{for(var ln=Ke.key,In=Be;In!==null;){if(In.key===ln){if(ln=Ke.type,ln===T){if(In.tag===7){R(We,In.sibling),Be=K(In,Ke.props.children),Be.return=We,We=Be;break e}}else if(In.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===B&&yse(ln)===In.type){R(We,In.sibling),Be=K(In,Ke.props),Be.ref=VC(We,In,Ke),Be.return=We,We=Be;break e}R(We,In);break}else _(We,In);In=In.sibling}Ke.type===T?(Be=Av(Ke.props.children,We.mode,It,Ke.key),Be.return=We,We=Be):(It=iD(Ke.type,Ke.key,Ke.props,null,We.mode,It),It.ref=VC(We,Be,Ke),It.return=We,We=It)}return ue(We);case S:e:{for(In=Ke.key;Be!==null;){if(Be.key===In)if(Be.tag===4&&Be.stateNode.containerInfo===Ke.containerInfo&&Be.stateNode.implementation===Ke.implementation){R(We,Be.sibling),Be=K(Be,Ke.children||[]),Be.return=We,We=Be;break e}else{R(We,Be);break}else _(We,Be);Be=Be.sibling}Be=Hj(Ke,We.mode,It),Be.return=We,We=Be}return ue(We);case B:return In=Ke._init,zo(We,Be,In(Ke._payload),It)}if(Re(Ke))return Qt(We,Be,Ke,It);if(Y(Ke))return tn(We,Be,Ke,It);NI(We,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"?(Ke=""+Ke,Be!==null&&Be.tag===6?(R(We,Be.sibling),Be=K(Be,Ke),Be.return=We,We=Be):(R(We,Be),Be=Vj(Ke,We.mode,It),Be.return=We,We=Be),ue(We)):R(We,Be)}return zo}var Iw=vse(!0),bse=vse(!1),MI=jg(null),$I=null,Dw=null,Z8=null;function ej(){Z8=Dw=$I=null}function tj(b){var _=MI.current;Gi(MI),b._currentValue=_}function nj(b,_,R){for(;b!==null;){var F=b.alternate;if((b.childLanes&_)!==_?(b.childLanes|=_,F!==null&&(F.childLanes|=_)):F!==null&&(F.childLanes&_)!==_&&(F.childLanes|=_),b===R)break;b=b.return}}function Pw(b,_){$I=b,Z8=Dw=null,b=b.dependencies,b!==null&&b.firstContext!==null&&((b.lanes&_)!==0&&(au=!0),b.firstContext=null)}function Fc(b){var _=b._currentValue;if(Z8!==b)if(b={context:b,memoizedValue:_,next:null},Dw===null){if($I===null)throw Error(n(308));Dw=b,$I.dependencies={lanes:0,firstContext:b}}else Dw=Dw.next=b;return _}var wv=null;function rj(b){wv===null?wv=[b]:wv.push(b)}function wse(b,_,R,F){var K=_.interleaved;return K===null?(R.next=R,rj(_)):(R.next=K.next,K.next=R),_.interleaved=R,Kp(b,F)}function Kp(b,_){b.lanes|=_;var R=b.alternate;for(R!==null&&(R.lanes|=_),R=b,b=b.return;b!==null;)b.childLanes|=_,R=b.alternate,R!==null&&(R.childLanes|=_),R=b,b=b.return;return R.tag===3?R.stateNode:null}var Ug=!1;function ij(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xse(b,_){b=b.updateQueue,_.updateQueue===b&&(_.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function Xp(b,_){return{eventTime:b,lane:_,tag:0,payload:null,callback:null,next:null}}function Vg(b,_,R){var F=b.updateQueue;if(F===null)return null;if(F=F.shared,(Wr&2)!==0){var K=F.pending;return K===null?_.next=_:(_.next=K.next,K.next=_),F.pending=_,Kp(b,R)}return K=F.interleaved,K===null?(_.next=_,rj(F)):(_.next=K.next,K.next=_),F.interleaved=_,Kp(b,R)}function FI(b,_,R){if(_=_.updateQueue,_!==null&&(_=_.shared,(R&4194240)!==0)){var F=_.lanes;F&=b.pendingLanes,R|=F,_.lanes=R,rr(b,R)}}function _se(b,_){var R=b.updateQueue,F=b.alternate;if(F!==null&&(F=F.updateQueue,R===F)){var K=null,Z=null;if(R=R.firstBaseUpdate,R!==null){do{var ue={eventTime:R.eventTime,lane:R.lane,tag:R.tag,payload:R.payload,callback:R.callback,next:null};Z===null?K=Z=ue:Z=Z.next=ue,R=R.next}while(R!==null);Z===null?K=Z=_:Z=Z.next=_}else K=Z=_;R={baseState:F.baseState,firstBaseUpdate:K,lastBaseUpdate:Z,shared:F.shared,effects:F.effects},b.updateQueue=R;return}b=R.lastBaseUpdate,b===null?R.firstBaseUpdate=_:b.next=_,R.lastBaseUpdate=_}function LI(b,_,R,F){var K=b.updateQueue;Ug=!1;var Z=K.firstBaseUpdate,ue=K.lastBaseUpdate,ke=K.shared.pending;if(ke!==null){K.shared.pending=null;var $e=ke,Xe=$e.next;$e.next=null,ue===null?Z=Xe:ue.next=Xe,ue=$e;var mt=b.alternate;mt!==null&&(mt=mt.updateQueue,ke=mt.lastBaseUpdate,ke!==ue&&(ke===null?mt.firstBaseUpdate=Xe:ke.next=Xe,mt.lastBaseUpdate=$e))}if(Z!==null){var wt=K.baseState;ue=0,mt=Xe=$e=null,ke=Z;do{var pt=ke.lane,Ht=ke.eventTime;if((F&pt)===pt){mt!==null&&(mt=mt.next={eventTime:Ht,lane:0,tag:ke.tag,payload:ke.payload,callback:ke.callback,next:null});e:{var Qt=b,tn=ke;switch(pt=_,Ht=R,tn.tag){case 1:if(Qt=tn.payload,typeof Qt=="function"){wt=Qt.call(Ht,wt,pt);break e}wt=Qt;break e;case 3:Qt.flags=Qt.flags&-65537|128;case 0:if(Qt=tn.payload,pt=typeof Qt=="function"?Qt.call(Ht,wt,pt):Qt,pt==null)break e;wt=V({},wt,pt);break e;case 2:Ug=!0}}ke.callback!==null&&ke.lane!==0&&(b.flags|=64,pt=K.effects,pt===null?K.effects=[ke]:pt.push(ke))}else Ht={eventTime:Ht,lane:pt,tag:ke.tag,payload:ke.payload,callback:ke.callback,next:null},mt===null?(Xe=mt=Ht,$e=wt):mt=mt.next=Ht,ue|=pt;if(ke=ke.next,ke===null){if(ke=K.shared.pending,ke===null)break;pt=ke,ke=pt.next,pt.next=null,K.lastBaseUpdate=pt,K.shared.pending=null}}while(!0);if(mt===null&&($e=wt),K.baseState=$e,K.firstBaseUpdate=Xe,K.lastBaseUpdate=mt,_=K.shared.interleaved,_!==null){K=_;do ue|=K.lane,K=K.next;while(K!==_)}else Z===null&&(K.shared.lanes=0);Ev|=ue,b.lanes=ue,b.memoizedState=wt}}function Ese(b,_,R){if(b=_.effects,_.effects=null,b!==null)for(_=0;_<b.length;_++){var F=b[_],K=F.callback;if(K!==null){if(F.callback=null,F=R,typeof K!="function")throw Error(n(191,K));K.call(F)}}}var HC={},gh=jg(HC),qC=jg(HC),WC=jg(HC);function xv(b){if(b===HC)throw Error(n(174));return b}function oj(b,_){switch(Fi(WC,_),Fi(qC,b),Fi(gh,HC),b=_.nodeType,b){case 9:case 11:_=(_=_.documentElement)?_.namespaceURI:Le(null,"");break;default:b=b===8?_.parentNode:_,_=b.namespaceURI||null,b=b.tagName,_=Le(_,b)}Gi(gh),Fi(gh,_)}function Ow(){Gi(gh),Gi(qC),Gi(WC)}function Cse(b){xv(WC.current);var _=xv(gh.current),R=Le(_,b.type);_!==R&&(Fi(qC,b),Fi(gh,R))}function sj(b){qC.current===b&&(Gi(gh),Gi(qC))}var fo=jg(0);function jI(b){for(var _=b;_!==null;){if(_.tag===13){var R=_.memoizedState;if(R!==null&&(R=R.dehydrated,R===null||R.data==="$?"||R.data==="$!"))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if((_.flags&128)!==0)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===b)break;for(;_.sibling===null;){if(_.return===null||_.return===b)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var aj=[];function lj(){for(var b=0;b<aj.length;b++)aj[b]._workInProgressVersionPrimary=null;aj.length=0}var BI=E.ReactCurrentDispatcher,uj=E.ReactCurrentBatchConfig,_v=0,ho=null,xs=null,Bs=null,zI=!1,GC=!1,YC=0,a7e=0;function ja(){throw Error(n(321))}function cj(b,_){if(_===null)return!1;for(var R=0;R<_.length&&R<b.length;R++)if(!Bd(b[R],_[R]))return!1;return!0}function dj(b,_,R,F,K,Z){if(_v=Z,ho=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,BI.current=b===null||b.memoizedState===null?d7e:f7e,b=R(F,K),GC){Z=0;do{if(GC=!1,YC=0,25<=Z)throw Error(n(301));Z+=1,Bs=xs=null,_.updateQueue=null,BI.current=h7e,b=R(F,K)}while(GC)}if(BI.current=HI,_=xs!==null&&xs.next!==null,_v=0,Bs=xs=ho=null,zI=!1,_)throw Error(n(300));return b}function fj(){var b=YC!==0;return YC=0,b}function yh(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bs===null?ho.memoizedState=Bs=b:Bs=Bs.next=b,Bs}function Lc(){if(xs===null){var b=ho.alternate;b=b!==null?b.memoizedState:null}else b=xs.next;var _=Bs===null?ho.memoizedState:Bs.next;if(_!==null)Bs=_,xs=b;else{if(b===null)throw Error(n(310));xs=b,b={memoizedState:xs.memoizedState,baseState:xs.baseState,baseQueue:xs.baseQueue,queue:xs.queue,next:null},Bs===null?ho.memoizedState=Bs=b:Bs=Bs.next=b}return Bs}function KC(b,_){return typeof _=="function"?_(b):_}function hj(b){var _=Lc(),R=_.queue;if(R===null)throw Error(n(311));R.lastRenderedReducer=b;var F=xs,K=F.baseQueue,Z=R.pending;if(Z!==null){if(K!==null){var ue=K.next;K.next=Z.next,Z.next=ue}F.baseQueue=K=Z,R.pending=null}if(K!==null){Z=K.next,F=F.baseState;var ke=ue=null,$e=null,Xe=Z;do{var mt=Xe.lane;if((_v&mt)===mt)$e!==null&&($e=$e.next={lane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),F=Xe.hasEagerState?Xe.eagerState:b(F,Xe.action);else{var wt={lane:mt,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null};$e===null?(ke=$e=wt,ue=F):$e=$e.next=wt,ho.lanes|=mt,Ev|=mt}Xe=Xe.next}while(Xe!==null&&Xe!==Z);$e===null?ue=F:$e.next=ke,Bd(F,_.memoizedState)||(au=!0),_.memoizedState=F,_.baseState=ue,_.baseQueue=$e,R.lastRenderedState=F}if(b=R.interleaved,b!==null){K=b;do Z=K.lane,ho.lanes|=Z,Ev|=Z,K=K.next;while(K!==b)}else K===null&&(R.lanes=0);return[_.memoizedState,R.dispatch]}function pj(b){var _=Lc(),R=_.queue;if(R===null)throw Error(n(311));R.lastRenderedReducer=b;var F=R.dispatch,K=R.pending,Z=_.memoizedState;if(K!==null){R.pending=null;var ue=K=K.next;do Z=b(Z,ue.action),ue=ue.next;while(ue!==K);Bd(Z,_.memoizedState)||(au=!0),_.memoizedState=Z,_.baseQueue===null&&(_.baseState=Z),R.lastRenderedState=Z}return[Z,F]}function Sse(){}function Tse(b,_){var R=ho,F=Lc(),K=_(),Z=!Bd(F.memoizedState,K);if(Z&&(F.memoizedState=K,au=!0),F=F.queue,mj(Rse.bind(null,R,F,b),[b]),F.getSnapshot!==_||Z||Bs!==null&&Bs.memoizedState.tag&1){if(R.flags|=2048,XC(9,kse.bind(null,R,F,K,_),void 0,null),zs===null)throw Error(n(349));(_v&30)!==0||Ase(R,_,K)}return K}function Ase(b,_,R){b.flags|=16384,b={getSnapshot:_,value:R},_=ho.updateQueue,_===null?(_={lastEffect:null,stores:null},ho.updateQueue=_,_.stores=[b]):(R=_.stores,R===null?_.stores=[b]:R.push(b))}function kse(b,_,R,F){_.value=R,_.getSnapshot=F,Ise(_)&&Dse(b)}function Rse(b,_,R){return R(function(){Ise(_)&&Dse(b)})}function Ise(b){var _=b.getSnapshot;b=b.value;try{var R=_();return!Bd(b,R)}catch{return!0}}function Dse(b){var _=Kp(b,1);_!==null&&qd(_,b,1,-1)}function Pse(b){var _=yh();return typeof b=="function"&&(b=b()),_.memoizedState=_.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:KC,lastRenderedState:b},_.queue=b,b=b.dispatch=c7e.bind(null,ho,b),[_.memoizedState,b]}function XC(b,_,R,F){return b={tag:b,create:_,destroy:R,deps:F,next:null},_=ho.updateQueue,_===null?(_={lastEffect:null,stores:null},ho.updateQueue=_,_.lastEffect=b.next=b):(R=_.lastEffect,R===null?_.lastEffect=b.next=b:(F=R.next,R.next=b,b.next=F,_.lastEffect=b)),b}function Ose(){return Lc().memoizedState}function UI(b,_,R,F){var K=yh();ho.flags|=b,K.memoizedState=XC(1|_,R,void 0,F===void 0?null:F)}function VI(b,_,R,F){var K=Lc();F=F===void 0?null:F;var Z=void 0;if(xs!==null){var ue=xs.memoizedState;if(Z=ue.destroy,F!==null&&cj(F,ue.deps)){K.memoizedState=XC(_,R,Z,F);return}}ho.flags|=b,K.memoizedState=XC(1|_,R,Z,F)}function Nse(b,_){return UI(8390656,8,b,_)}function mj(b,_){return VI(2048,8,b,_)}function Mse(b,_){return VI(4,2,b,_)}function $se(b,_){return VI(4,4,b,_)}function Fse(b,_){if(typeof _=="function")return b=b(),_(b),function(){_(null)};if(_!=null)return b=b(),_.current=b,function(){_.current=null}}function Lse(b,_,R){return R=R!=null?R.concat([b]):null,VI(4,4,Fse.bind(null,_,b),R)}function gj(){}function jse(b,_){var R=Lc();_=_===void 0?null:_;var F=R.memoizedState;return F!==null&&_!==null&&cj(_,F[1])?F[0]:(R.memoizedState=[b,_],b)}function Bse(b,_){var R=Lc();_=_===void 0?null:_;var F=R.memoizedState;return F!==null&&_!==null&&cj(_,F[1])?F[0]:(b=b(),R.memoizedState=[b,_],b)}function zse(b,_,R){return(_v&21)===0?(b.baseState&&(b.baseState=!1,au=!0),b.memoizedState=R):(Bd(R,_)||(R=Et(),ho.lanes|=R,Ev|=R,b.baseState=!0),_)}function l7e(b,_){var R=Xt;Xt=R!==0&&4>R?R:4,b(!0);var F=uj.transition;uj.transition={};try{b(!1),_()}finally{Xt=R,uj.transition=F}}function Use(){return Lc().memoizedState}function u7e(b,_,R){var F=Gg(b);if(R={lane:F,action:R,hasEagerState:!1,eagerState:null,next:null},Vse(b))Hse(_,R);else if(R=wse(b,_,R,F),R!==null){var K=wl();qd(R,b,F,K),qse(R,_,F)}}function c7e(b,_,R){var F=Gg(b),K={lane:F,action:R,hasEagerState:!1,eagerState:null,next:null};if(Vse(b))Hse(_,K);else{var Z=b.alternate;if(b.lanes===0&&(Z===null||Z.lanes===0)&&(Z=_.lastRenderedReducer,Z!==null))try{var ue=_.lastRenderedState,ke=Z(ue,R);if(K.hasEagerState=!0,K.eagerState=ke,Bd(ke,ue)){var $e=_.interleaved;$e===null?(K.next=K,rj(_)):(K.next=$e.next,$e.next=K),_.interleaved=K;return}}catch{}finally{}R=wse(b,_,K,F),R!==null&&(K=wl(),qd(R,b,F,K),qse(R,_,F))}}function Vse(b){var _=b.alternate;return b===ho||_!==null&&_===ho}function Hse(b,_){GC=zI=!0;var R=b.pending;R===null?_.next=_:(_.next=R.next,R.next=_),b.pending=_}function qse(b,_,R){if((R&4194240)!==0){var F=_.lanes;F&=b.pendingLanes,R|=F,_.lanes=R,rr(b,R)}}var HI={readContext:Fc,useCallback:ja,useContext:ja,useEffect:ja,useImperativeHandle:ja,useInsertionEffect:ja,useLayoutEffect:ja,useMemo:ja,useReducer:ja,useRef:ja,useState:ja,useDebugValue:ja,useDeferredValue:ja,useTransition:ja,useMutableSource:ja,useSyncExternalStore:ja,useId:ja,unstable_isNewReconciler:!1},d7e={readContext:Fc,useCallback:function(b,_){return yh().memoizedState=[b,_===void 0?null:_],b},useContext:Fc,useEffect:Nse,useImperativeHandle:function(b,_,R){return R=R!=null?R.concat([b]):null,UI(4194308,4,Fse.bind(null,_,b),R)},useLayoutEffect:function(b,_){return UI(4194308,4,b,_)},useInsertionEffect:function(b,_){return UI(4,2,b,_)},useMemo:function(b,_){var R=yh();return _=_===void 0?null:_,b=b(),R.memoizedState=[b,_],b},useReducer:function(b,_,R){var F=yh();return _=R!==void 0?R(_):_,F.memoizedState=F.baseState=_,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:_},F.queue=b,b=b.dispatch=u7e.bind(null,ho,b),[F.memoizedState,b]},useRef:function(b){var _=yh();return b={current:b},_.memoizedState=b},useState:Pse,useDebugValue:gj,useDeferredValue:function(b){return yh().memoizedState=b},useTransition:function(){var b=Pse(!1),_=b[0];return b=l7e.bind(null,b[1]),yh().memoizedState=b,[_,b]},useMutableSource:function(){},useSyncExternalStore:function(b,_,R){var F=ho,K=yh();if(eo){if(R===void 0)throw Error(n(407));R=R()}else{if(R=_(),zs===null)throw Error(n(349));(_v&30)!==0||Ase(F,_,R)}K.memoizedState=R;var Z={value:R,getSnapshot:_};return K.queue=Z,Nse(Rse.bind(null,F,Z,b),[b]),F.flags|=2048,XC(9,kse.bind(null,F,Z,R,_),void 0,null),R},useId:function(){var b=yh(),_=zs.identifierPrefix;if(eo){var R=Yp,F=Gp;R=(F&~(1<<32-Fo(F)-1)).toString(32)+R,_=":"+_+"R"+R,R=YC++,0<R&&(_+="H"+R.toString(32)),_+=":"}else R=a7e++,_=":"+_+"r"+R.toString(32)+":";return b.memoizedState=_},unstable_isNewReconciler:!1},f7e={readContext:Fc,useCallback:jse,useContext:Fc,useEffect:mj,useImperativeHandle:Lse,useInsertionEffect:Mse,useLayoutEffect:$se,useMemo:Bse,useReducer:hj,useRef:Ose,useState:function(){return hj(KC)},useDebugValue:gj,useDeferredValue:function(b){var _=Lc();return zse(_,xs.memoizedState,b)},useTransition:function(){var b=hj(KC)[0],_=Lc().memoizedState;return[b,_]},useMutableSource:Sse,useSyncExternalStore:Tse,useId:Use,unstable_isNewReconciler:!1},h7e={readContext:Fc,useCallback:jse,useContext:Fc,useEffect:mj,useImperativeHandle:Lse,useInsertionEffect:Mse,useLayoutEffect:$se,useMemo:Bse,useReducer:pj,useRef:Ose,useState:function(){return pj(KC)},useDebugValue:gj,useDeferredValue:function(b){var _=Lc();return xs===null?_.memoizedState=b:zse(_,xs.memoizedState,b)},useTransition:function(){var b=pj(KC)[0],_=Lc().memoizedState;return[b,_]},useMutableSource:Sse,useSyncExternalStore:Tse,useId:Use,unstable_isNewReconciler:!1};function Ud(b,_){if(b&&b.defaultProps){_=V({},_),b=b.defaultProps;for(var R in b)_[R]===void 0&&(_[R]=b[R]);return _}return _}function yj(b,_,R,F){_=b.memoizedState,R=R(F,_),R=R==null?_:V({},_,R),b.memoizedState=R,b.lanes===0&&(b.updateQueue.baseState=R)}var qI={isMounted:function(b){return(b=b._reactInternals)?Un(b)===b:!1},enqueueSetState:function(b,_,R){b=b._reactInternals;var F=wl(),K=Gg(b),Z=Xp(F,K);Z.payload=_,R!=null&&(Z.callback=R),_=Vg(b,Z,K),_!==null&&(qd(_,b,K,F),FI(_,b,K))},enqueueReplaceState:function(b,_,R){b=b._reactInternals;var F=wl(),K=Gg(b),Z=Xp(F,K);Z.tag=1,Z.payload=_,R!=null&&(Z.callback=R),_=Vg(b,Z,K),_!==null&&(qd(_,b,K,F),FI(_,b,K))},enqueueForceUpdate:function(b,_){b=b._reactInternals;var R=wl(),F=Gg(b),K=Xp(R,F);K.tag=2,_!=null&&(K.callback=_),_=Vg(b,K,F),_!==null&&(qd(_,b,F,R),FI(_,b,F))}};function Wse(b,_,R,F,K,Z,ue){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(F,Z,ue):_.prototype&&_.prototype.isPureReactComponent?!$C(R,F)||!$C(K,Z):!0}function Gse(b,_,R){var F=!1,K=Bg,Z=_.contextType;return typeof Z=="object"&&Z!==null?Z=Fc(Z):(K=su(_)?yv:La.current,F=_.contextTypes,Z=(F=F!=null)?Tw(b,K):Bg),_=new _(R,Z),b.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=qI,b.stateNode=_,_._reactInternals=b,F&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=K,b.__reactInternalMemoizedMaskedChildContext=Z),_}function Yse(b,_,R,F){b=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps(R,F),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps(R,F),_.state!==b&&qI.enqueueReplaceState(_,_.state,null)}function vj(b,_,R,F){var K=b.stateNode;K.props=R,K.state=b.memoizedState,K.refs={},ij(b);var Z=_.contextType;typeof Z=="object"&&Z!==null?K.context=Fc(Z):(Z=su(_)?yv:La.current,K.context=Tw(b,Z)),K.state=b.memoizedState,Z=_.getDerivedStateFromProps,typeof Z=="function"&&(yj(b,_,Z,R),K.state=b.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(_=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),_!==K.state&&qI.enqueueReplaceState(K,K.state,null),LI(b,R,K,F),K.state=b.memoizedState),typeof K.componentDidMount=="function"&&(b.flags|=4194308)}function Nw(b,_){try{var R="",F=_;do R+=Q(F),F=F.return;while(F);var K=R}catch(Z){K=`
Error generating stack: `+Z.message+`
`+Z.stack}return{value:b,source:_,stack:K,digest:null}}function bj(b,_,R){return{value:b,source:null,stack:R??null,digest:_??null}}function wj(b,_){try{console.error(_.value)}catch(R){setTimeout(function(){throw R})}}var p7e=typeof WeakMap=="function"?WeakMap:Map;function Kse(b,_,R){R=Xp(-1,R),R.tag=3,R.payload={element:null};var F=_.value;return R.callback=function(){JI||(JI=!0,Mj=F),wj(b,_)},R}function Xse(b,_,R){R=Xp(-1,R),R.tag=3;var F=b.type.getDerivedStateFromError;if(typeof F=="function"){var K=_.value;R.payload=function(){return F(K)},R.callback=function(){wj(b,_)}}var Z=b.stateNode;return Z!==null&&typeof Z.componentDidCatch=="function"&&(R.callback=function(){wj(b,_),typeof F!="function"&&(qg===null?qg=new Set([this]):qg.add(this));var ue=_.stack;this.componentDidCatch(_.value,{componentStack:ue!==null?ue:""})}),R}function Qse(b,_,R){var F=b.pingCache;if(F===null){F=b.pingCache=new p7e;var K=new Set;F.set(_,K)}else K=F.get(_),K===void 0&&(K=new Set,F.set(_,K));K.has(R)||(K.add(R),b=k7e.bind(null,b,_,R),_.then(b,b))}function Jse(b){do{var _;if((_=b.tag===13)&&(_=b.memoizedState,_=_!==null?_.dehydrated!==null:!0),_)return b;b=b.return}while(b!==null);return null}function Zse(b,_,R,F,K){return(b.mode&1)===0?(b===_?b.flags|=65536:(b.flags|=128,R.flags|=131072,R.flags&=-52805,R.tag===1&&(R.alternate===null?R.tag=17:(_=Xp(-1,1),_.tag=2,Vg(R,_,1))),R.lanes|=1),b):(b.flags|=65536,b.lanes=K,b)}var m7e=E.ReactCurrentOwner,au=!1;function bl(b,_,R,F){_.child=b===null?bse(_,null,R,F):Iw(_,b.child,R,F)}function eae(b,_,R,F,K){R=R.render;var Z=_.ref;return Pw(_,K),F=dj(b,_,R,F,Z,K),R=fj(),b!==null&&!au?(_.updateQueue=b.updateQueue,_.flags&=-2053,b.lanes&=~K,Qp(b,_,K)):(eo&&R&&Y8(_),_.flags|=1,bl(b,_,F,K),_.child)}function tae(b,_,R,F,K){if(b===null){var Z=R.type;return typeof Z=="function"&&!Uj(Z)&&Z.defaultProps===void 0&&R.compare===null&&R.defaultProps===void 0?(_.tag=15,_.type=Z,nae(b,_,Z,F,K)):(b=iD(R.type,null,F,_,_.mode,K),b.ref=_.ref,b.return=_,_.child=b)}if(Z=b.child,(b.lanes&K)===0){var ue=Z.memoizedProps;if(R=R.compare,R=R!==null?R:$C,R(ue,F)&&b.ref===_.ref)return Qp(b,_,K)}return _.flags|=1,b=Kg(Z,F),b.ref=_.ref,b.return=_,_.child=b}function nae(b,_,R,F,K){if(b!==null){var Z=b.memoizedProps;if($C(Z,F)&&b.ref===_.ref)if(au=!1,_.pendingProps=F=Z,(b.lanes&K)!==0)(b.flags&131072)!==0&&(au=!0);else return _.lanes=b.lanes,Qp(b,_,K)}return xj(b,_,R,F,K)}function rae(b,_,R){var F=_.pendingProps,K=F.children,Z=b!==null?b.memoizedState:null;if(F.mode==="hidden")if((_.mode&1)===0)_.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fi($w,Qu),Qu|=R;else{if((R&1073741824)===0)return b=Z!==null?Z.baseLanes|R:R,_.lanes=_.childLanes=1073741824,_.memoizedState={baseLanes:b,cachePool:null,transitions:null},_.updateQueue=null,Fi($w,Qu),Qu|=b,null;_.memoizedState={baseLanes:0,cachePool:null,transitions:null},F=Z!==null?Z.baseLanes:R,Fi($w,Qu),Qu|=F}else Z!==null?(F=Z.baseLanes|R,_.memoizedState=null):F=R,Fi($w,Qu),Qu|=F;return bl(b,_,K,R),_.child}function iae(b,_){var R=_.ref;(b===null&&R!==null||b!==null&&b.ref!==R)&&(_.flags|=512,_.flags|=2097152)}function xj(b,_,R,F,K){var Z=su(R)?yv:La.current;return Z=Tw(_,Z),Pw(_,K),R=dj(b,_,R,F,Z,K),F=fj(),b!==null&&!au?(_.updateQueue=b.updateQueue,_.flags&=-2053,b.lanes&=~K,Qp(b,_,K)):(eo&&F&&Y8(_),_.flags|=1,bl(b,_,R,K),_.child)}function oae(b,_,R,F,K){if(su(R)){var Z=!0;RI(_)}else Z=!1;if(Pw(_,K),_.stateNode===null)GI(b,_),Gse(_,R,F),vj(_,R,F,K),F=!0;else if(b===null){var ue=_.stateNode,ke=_.memoizedProps;ue.props=ke;var $e=ue.context,Xe=R.contextType;typeof Xe=="object"&&Xe!==null?Xe=Fc(Xe):(Xe=su(R)?yv:La.current,Xe=Tw(_,Xe));var mt=R.getDerivedStateFromProps,wt=typeof mt=="function"||typeof ue.getSnapshotBeforeUpdate=="function";wt||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(ke!==F||$e!==Xe)&&Yse(_,ue,F,Xe),Ug=!1;var pt=_.memoizedState;ue.state=pt,LI(_,F,ue,K),$e=_.memoizedState,ke!==F||pt!==$e||ou.current||Ug?(typeof mt=="function"&&(yj(_,R,mt,F),$e=_.memoizedState),(ke=Ug||Wse(_,R,ke,F,pt,$e,Xe))?(wt||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(_.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=F,_.memoizedState=$e),ue.props=F,ue.state=$e,ue.context=Xe,F=ke):(typeof ue.componentDidMount=="function"&&(_.flags|=4194308),F=!1)}else{ue=_.stateNode,xse(b,_),ke=_.memoizedProps,Xe=_.type===_.elementType?ke:Ud(_.type,ke),ue.props=Xe,wt=_.pendingProps,pt=ue.context,$e=R.contextType,typeof $e=="object"&&$e!==null?$e=Fc($e):($e=su(R)?yv:La.current,$e=Tw(_,$e));var Ht=R.getDerivedStateFromProps;(mt=typeof Ht=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(ke!==wt||pt!==$e)&&Yse(_,ue,F,$e),Ug=!1,pt=_.memoizedState,ue.state=pt,LI(_,F,ue,K);var Qt=_.memoizedState;ke!==wt||pt!==Qt||ou.current||Ug?(typeof Ht=="function"&&(yj(_,R,Ht,F),Qt=_.memoizedState),(Xe=Ug||Wse(_,R,Xe,F,pt,Qt,$e)||!1)?(mt||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(F,Qt,$e),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(F,Qt,$e)),typeof ue.componentDidUpdate=="function"&&(_.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof ue.componentDidUpdate!="function"||ke===b.memoizedProps&&pt===b.memoizedState||(_.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||ke===b.memoizedProps&&pt===b.memoizedState||(_.flags|=1024),_.memoizedProps=F,_.memoizedState=Qt),ue.props=F,ue.state=Qt,ue.context=$e,F=Xe):(typeof ue.componentDidUpdate!="function"||ke===b.memoizedProps&&pt===b.memoizedState||(_.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||ke===b.memoizedProps&&pt===b.memoizedState||(_.flags|=1024),F=!1)}return _j(b,_,R,F,Z,K)}function _j(b,_,R,F,K,Z){iae(b,_);var ue=(_.flags&128)!==0;if(!F&&!ue)return K&&cse(_,R,!1),Qp(b,_,Z);F=_.stateNode,m7e.current=_;var ke=ue&&typeof R.getDerivedStateFromError!="function"?null:F.render();return _.flags|=1,b!==null&&ue?(_.child=Iw(_,b.child,null,Z),_.child=Iw(_,null,ke,Z)):bl(b,_,ke,Z),_.memoizedState=F.state,K&&cse(_,R,!0),_.child}function sae(b){var _=b.stateNode;_.pendingContext?lse(b,_.pendingContext,_.pendingContext!==_.context):_.context&&lse(b,_.context,!1),oj(b,_.containerInfo)}function aae(b,_,R,F,K){return Rw(),J8(K),_.flags|=256,bl(b,_,R,F),_.child}var Ej={dehydrated:null,treeContext:null,retryLane:0};function Cj(b){return{baseLanes:b,cachePool:null,transitions:null}}function lae(b,_,R){var F=_.pendingProps,K=fo.current,Z=!1,ue=(_.flags&128)!==0,ke;if((ke=ue)||(ke=b!==null&&b.memoizedState===null?!1:(K&2)!==0),ke?(Z=!0,_.flags&=-129):(b===null||b.memoizedState!==null)&&(K|=1),Fi(fo,K&1),b===null)return Q8(_),b=_.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?((_.mode&1)===0?_.lanes=1:b.data==="$!"?_.lanes=8:_.lanes=1073741824,null):(ue=F.children,b=F.fallback,Z?(F=_.mode,Z=_.child,ue={mode:"hidden",children:ue},(F&1)===0&&Z!==null?(Z.childLanes=0,Z.pendingProps=ue):Z=oD(ue,F,0,null),b=Av(b,F,R,null),Z.return=_,b.return=_,Z.sibling=b,_.child=Z,_.child.memoizedState=Cj(R),_.memoizedState=Ej,b):Sj(_,ue));if(K=b.memoizedState,K!==null&&(ke=K.dehydrated,ke!==null))return g7e(b,_,ue,F,ke,K,R);if(Z){Z=F.fallback,ue=_.mode,K=b.child,ke=K.sibling;var $e={mode:"hidden",children:F.children};return(ue&1)===0&&_.child!==K?(F=_.child,F.childLanes=0,F.pendingProps=$e,_.deletions=null):(F=Kg(K,$e),F.subtreeFlags=K.subtreeFlags&14680064),ke!==null?Z=Kg(ke,Z):(Z=Av(Z,ue,R,null),Z.flags|=2),Z.return=_,F.return=_,F.sibling=Z,_.child=F,F=Z,Z=_.child,ue=b.child.memoizedState,ue=ue===null?Cj(R):{baseLanes:ue.baseLanes|R,cachePool:null,transitions:ue.transitions},Z.memoizedState=ue,Z.childLanes=b.childLanes&~R,_.memoizedState=Ej,F}return Z=b.child,b=Z.sibling,F=Kg(Z,{mode:"visible",children:F.children}),(_.mode&1)===0&&(F.lanes=R),F.return=_,F.sibling=null,b!==null&&(R=_.deletions,R===null?(_.deletions=[b],_.flags|=16):R.push(b)),_.child=F,_.memoizedState=null,F}function Sj(b,_){return _=oD({mode:"visible",children:_},b.mode,0,null),_.return=b,b.child=_}function WI(b,_,R,F){return F!==null&&J8(F),Iw(_,b.child,null,R),b=Sj(_,_.pendingProps.children),b.flags|=2,_.memoizedState=null,b}function g7e(b,_,R,F,K,Z,ue){if(R)return _.flags&256?(_.flags&=-257,F=bj(Error(n(422))),WI(b,_,ue,F)):_.memoizedState!==null?(_.child=b.child,_.flags|=128,null):(Z=F.fallback,K=_.mode,F=oD({mode:"visible",children:F.children},K,0,null),Z=Av(Z,K,ue,null),Z.flags|=2,F.return=_,Z.return=_,F.sibling=Z,_.child=F,(_.mode&1)!==0&&Iw(_,b.child,null,ue),_.child.memoizedState=Cj(ue),_.memoizedState=Ej,Z);if((_.mode&1)===0)return WI(b,_,ue,null);if(K.data==="$!"){if(F=K.nextSibling&&K.nextSibling.dataset,F)var ke=F.dgst;return F=ke,Z=Error(n(419)),F=bj(Z,F,void 0),WI(b,_,ue,F)}if(ke=(ue&b.childLanes)!==0,au||ke){if(F=zs,F!==null){switch(ue&-ue){case 4:K=2;break;case 16:K=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:K=32;break;case 536870912:K=268435456;break;default:K=0}K=(K&(F.suspendedLanes|ue))!==0?0:K,K!==0&&K!==Z.retryLane&&(Z.retryLane=K,Kp(b,K),qd(F,b,K,-1))}return zj(),F=bj(Error(n(421))),WI(b,_,ue,F)}return K.data==="$?"?(_.flags|=128,_.child=b.child,_=R7e.bind(null,b),K._reactRetry=_,null):(b=Z.treeContext,Xu=Lg(K.nextSibling),Ku=_,eo=!0,zd=null,b!==null&&(Mc[$c++]=Gp,Mc[$c++]=Yp,Mc[$c++]=vv,Gp=b.id,Yp=b.overflow,vv=_),_=Sj(_,F.children),_.flags|=4096,_)}function uae(b,_,R){b.lanes|=_;var F=b.alternate;F!==null&&(F.lanes|=_),nj(b.return,_,R)}function Tj(b,_,R,F,K){var Z=b.memoizedState;Z===null?b.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:F,tail:R,tailMode:K}:(Z.isBackwards=_,Z.rendering=null,Z.renderingStartTime=0,Z.last=F,Z.tail=R,Z.tailMode=K)}function cae(b,_,R){var F=_.pendingProps,K=F.revealOrder,Z=F.tail;if(bl(b,_,F.children,R),F=fo.current,(F&2)!==0)F=F&1|2,_.flags|=128;else{if(b!==null&&(b.flags&128)!==0)e:for(b=_.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&uae(b,R,_);else if(b.tag===19)uae(b,R,_);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===_)break e;for(;b.sibling===null;){if(b.return===null||b.return===_)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}F&=1}if(Fi(fo,F),(_.mode&1)===0)_.memoizedState=null;else switch(K){case"forwards":for(R=_.child,K=null;R!==null;)b=R.alternate,b!==null&&jI(b)===null&&(K=R),R=R.sibling;R=K,R===null?(K=_.child,_.child=null):(K=R.sibling,R.sibling=null),Tj(_,!1,K,R,Z);break;case"backwards":for(R=null,K=_.child,_.child=null;K!==null;){if(b=K.alternate,b!==null&&jI(b)===null){_.child=K;break}b=K.sibling,K.sibling=R,R=K,K=b}Tj(_,!0,R,null,Z);break;case"together":Tj(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function GI(b,_){(_.mode&1)===0&&b!==null&&(b.alternate=null,_.alternate=null,_.flags|=2)}function Qp(b,_,R){if(b!==null&&(_.dependencies=b.dependencies),Ev|=_.lanes,(R&_.childLanes)===0)return null;if(b!==null&&_.child!==b.child)throw Error(n(153));if(_.child!==null){for(b=_.child,R=Kg(b,b.pendingProps),_.child=R,R.return=_;b.sibling!==null;)b=b.sibling,R=R.sibling=Kg(b,b.pendingProps),R.return=_;R.sibling=null}return _.child}function y7e(b,_,R){switch(_.tag){case 3:sae(_),Rw();break;case 5:Cse(_);break;case 1:su(_.type)&&RI(_);break;case 4:oj(_,_.stateNode.containerInfo);break;case 10:var F=_.type._context,K=_.memoizedProps.value;Fi(MI,F._currentValue),F._currentValue=K;break;case 13:if(F=_.memoizedState,F!==null)return F.dehydrated!==null?(Fi(fo,fo.current&1),_.flags|=128,null):(R&_.child.childLanes)!==0?lae(b,_,R):(Fi(fo,fo.current&1),b=Qp(b,_,R),b!==null?b.sibling:null);Fi(fo,fo.current&1);break;case 19:if(F=(R&_.childLanes)!==0,(b.flags&128)!==0){if(F)return cae(b,_,R);_.flags|=128}if(K=_.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),Fi(fo,fo.current),F)break;return null;case 22:case 23:return _.lanes=0,rae(b,_,R)}return Qp(b,_,R)}var dae,Aj,fae,hae;dae=function(b,_){for(var R=_.child;R!==null;){if(R.tag===5||R.tag===6)b.appendChild(R.stateNode);else if(R.tag!==4&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===_)break;for(;R.sibling===null;){if(R.return===null||R.return===_)return;R=R.return}R.sibling.return=R.return,R=R.sibling}},Aj=function(){},fae=function(b,_,R,F){var K=b.memoizedProps;if(K!==F){b=_.stateNode,xv(gh.current);var Z=null;switch(R){case"input":K=X(b,K),F=X(b,F),Z=[];break;case"select":K=V({},K,{value:void 0}),F=V({},F,{value:void 0}),Z=[];break;case"textarea":K=be(b,K),F=be(b,F),Z=[];break;default:typeof K.onClick!="function"&&typeof F.onClick=="function"&&(b.onclick=TI)}hn(R,F);var ue;R=null;for(Xe in K)if(!F.hasOwnProperty(Xe)&&K.hasOwnProperty(Xe)&&K[Xe]!=null)if(Xe==="style"){var ke=K[Xe];for(ue in ke)ke.hasOwnProperty(ue)&&(R||(R={}),R[ue]="")}else Xe!=="dangerouslySetInnerHTML"&&Xe!=="children"&&Xe!=="suppressContentEditableWarning"&&Xe!=="suppressHydrationWarning"&&Xe!=="autoFocus"&&(i.hasOwnProperty(Xe)?Z||(Z=[]):(Z=Z||[]).push(Xe,null));for(Xe in F){var $e=F[Xe];if(ke=K?.[Xe],F.hasOwnProperty(Xe)&&$e!==ke&&($e!=null||ke!=null))if(Xe==="style")if(ke){for(ue in ke)!ke.hasOwnProperty(ue)||$e&&$e.hasOwnProperty(ue)||(R||(R={}),R[ue]="");for(ue in $e)$e.hasOwnProperty(ue)&&ke[ue]!==$e[ue]&&(R||(R={}),R[ue]=$e[ue])}else R||(Z||(Z=[]),Z.push(Xe,R)),R=$e;else Xe==="dangerouslySetInnerHTML"?($e=$e?$e.__html:void 0,ke=ke?ke.__html:void 0,$e!=null&&ke!==$e&&(Z=Z||[]).push(Xe,$e)):Xe==="children"?typeof $e!="string"&&typeof $e!="number"||(Z=Z||[]).push(Xe,""+$e):Xe!=="suppressContentEditableWarning"&&Xe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Xe)?($e!=null&&Xe==="onScroll"&&Wi("scroll",b),Z||ke===$e||(Z=[])):(Z=Z||[]).push(Xe,$e))}R&&(Z=Z||[]).push("style",R);var Xe=Z;(_.updateQueue=Xe)&&(_.flags|=4)}},hae=function(b,_,R,F){R!==F&&(_.flags|=4)};function QC(b,_){if(!eo)switch(b.tailMode){case"hidden":_=b.tail;for(var R=null;_!==null;)_.alternate!==null&&(R=_),_=_.sibling;R===null?b.tail=null:R.sibling=null;break;case"collapsed":R=b.tail;for(var F=null;R!==null;)R.alternate!==null&&(F=R),R=R.sibling;F===null?_||b.tail===null?b.tail=null:b.tail.sibling=null:F.sibling=null}}function Ba(b){var _=b.alternate!==null&&b.alternate.child===b.child,R=0,F=0;if(_)for(var K=b.child;K!==null;)R|=K.lanes|K.childLanes,F|=K.subtreeFlags&14680064,F|=K.flags&14680064,K.return=b,K=K.sibling;else for(K=b.child;K!==null;)R|=K.lanes|K.childLanes,F|=K.subtreeFlags,F|=K.flags,K.return=b,K=K.sibling;return b.subtreeFlags|=F,b.childLanes=R,_}function v7e(b,_,R){var F=_.pendingProps;switch(K8(_),_.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ba(_),null;case 1:return su(_.type)&&kI(),Ba(_),null;case 3:return F=_.stateNode,Ow(),Gi(ou),Gi(La),lj(),F.pendingContext&&(F.context=F.pendingContext,F.pendingContext=null),(b===null||b.child===null)&&(OI(_)?_.flags|=4:b===null||b.memoizedState.isDehydrated&&(_.flags&256)===0||(_.flags|=1024,zd!==null&&(Lj(zd),zd=null))),Aj(b,_),Ba(_),null;case 5:sj(_);var K=xv(WC.current);if(R=_.type,b!==null&&_.stateNode!=null)fae(b,_,R,F,K),b.ref!==_.ref&&(_.flags|=512,_.flags|=2097152);else{if(!F){if(_.stateNode===null)throw Error(n(166));return Ba(_),null}if(b=xv(gh.current),OI(_)){F=_.stateNode,R=_.type;var Z=_.memoizedProps;switch(F[mh]=_,F[zC]=Z,b=(_.mode&1)!==0,R){case"dialog":Wi("cancel",F),Wi("close",F);break;case"iframe":case"object":case"embed":Wi("load",F);break;case"video":case"audio":for(K=0;K<LC.length;K++)Wi(LC[K],F);break;case"source":Wi("error",F);break;case"img":case"image":case"link":Wi("error",F),Wi("load",F);break;case"details":Wi("toggle",F);break;case"input":fe(F,Z),Wi("invalid",F);break;case"select":F._wrapperState={wasMultiple:!!Z.multiple},Wi("invalid",F);break;case"textarea":Ne(F,Z),Wi("invalid",F)}hn(R,Z),K=null;for(var ue in Z)if(Z.hasOwnProperty(ue)){var ke=Z[ue];ue==="children"?typeof ke=="string"?F.textContent!==ke&&(Z.suppressHydrationWarning!==!0&&SI(F.textContent,ke,b),K=["children",ke]):typeof ke=="number"&&F.textContent!==""+ke&&(Z.suppressHydrationWarning!==!0&&SI(F.textContent,ke,b),K=["children",""+ke]):i.hasOwnProperty(ue)&&ke!=null&&ue==="onScroll"&&Wi("scroll",F)}switch(R){case"input":ie(F),ee(F,Z,!0);break;case"textarea":ie(F),Pe(F);break;case"select":case"option":break;default:typeof Z.onClick=="function"&&(F.onclick=TI)}F=K,_.updateQueue=F,F!==null&&(_.flags|=4)}else{ue=K.nodeType===9?K:K.ownerDocument,b==="http://www.w3.org/1999/xhtml"&&(b=we(R)),b==="http://www.w3.org/1999/xhtml"?R==="script"?(b=ue.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild)):typeof F.is=="string"?b=ue.createElement(R,{is:F.is}):(b=ue.createElement(R),R==="select"&&(ue=b,F.multiple?ue.multiple=!0:F.size&&(ue.size=F.size))):b=ue.createElementNS(b,R),b[mh]=_,b[zC]=F,dae(b,_,!1,!1),_.stateNode=b;e:{switch(ue=Kn(R,F),R){case"dialog":Wi("cancel",b),Wi("close",b),K=F;break;case"iframe":case"object":case"embed":Wi("load",b),K=F;break;case"video":case"audio":for(K=0;K<LC.length;K++)Wi(LC[K],b);K=F;break;case"source":Wi("error",b),K=F;break;case"img":case"image":case"link":Wi("error",b),Wi("load",b),K=F;break;case"details":Wi("toggle",b),K=F;break;case"input":fe(b,F),K=X(b,F),Wi("invalid",b);break;case"option":K=F;break;case"select":b._wrapperState={wasMultiple:!!F.multiple},K=V({},F,{value:void 0}),Wi("invalid",b);break;case"textarea":Ne(b,F),K=be(b,F),Wi("invalid",b);break;default:K=F}hn(R,K),ke=K;for(Z in ke)if(ke.hasOwnProperty(Z)){var $e=ke[Z];Z==="style"?Mn(b,$e):Z==="dangerouslySetInnerHTML"?($e=$e?$e.__html:void 0,$e!=null&&tt(b,$e)):Z==="children"?typeof $e=="string"?(R!=="textarea"||$e!=="")&&rt(b,$e):typeof $e=="number"&&rt(b,""+$e):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?$e!=null&&Z==="onScroll"&&Wi("scroll",b):$e!=null&&w(b,Z,$e,ue))}switch(R){case"input":ie(b),ee(b,F,!1);break;case"textarea":ie(b),Pe(b);break;case"option":F.value!=null&&b.setAttribute("value",""+se(F.value));break;case"select":b.multiple=!!F.multiple,Z=F.value,Z!=null?Se(b,!!F.multiple,Z,!1):F.defaultValue!=null&&Se(b,!!F.multiple,F.defaultValue,!0);break;default:typeof K.onClick=="function"&&(b.onclick=TI)}switch(R){case"button":case"input":case"select":case"textarea":F=!!F.autoFocus;break e;case"img":F=!0;break e;default:F=!1}}F&&(_.flags|=4)}_.ref!==null&&(_.flags|=512,_.flags|=2097152)}return Ba(_),null;case 6:if(b&&_.stateNode!=null)hae(b,_,b.memoizedProps,F);else{if(typeof F!="string"&&_.stateNode===null)throw Error(n(166));if(R=xv(WC.current),xv(gh.current),OI(_)){if(F=_.stateNode,R=_.memoizedProps,F[mh]=_,(Z=F.nodeValue!==R)&&(b=Ku,b!==null))switch(b.tag){case 3:SI(F.nodeValue,R,(b.mode&1)!==0);break;case 5:b.memoizedProps.suppressHydrationWarning!==!0&&SI(F.nodeValue,R,(b.mode&1)!==0)}Z&&(_.flags|=4)}else F=(R.nodeType===9?R:R.ownerDocument).createTextNode(F),F[mh]=_,_.stateNode=F}return Ba(_),null;case 13:if(Gi(fo),F=_.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(eo&&Xu!==null&&(_.mode&1)!==0&&(_.flags&128)===0)gse(),Rw(),_.flags|=98560,Z=!1;else if(Z=OI(_),F!==null&&F.dehydrated!==null){if(b===null){if(!Z)throw Error(n(318));if(Z=_.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(n(317));Z[mh]=_}else Rw(),(_.flags&128)===0&&(_.memoizedState=null),_.flags|=4;Ba(_),Z=!1}else zd!==null&&(Lj(zd),zd=null),Z=!0;if(!Z)return _.flags&65536?_:null}return(_.flags&128)!==0?(_.lanes=R,_):(F=F!==null,F!==(b!==null&&b.memoizedState!==null)&&F&&(_.child.flags|=8192,(_.mode&1)!==0&&(b===null||(fo.current&1)!==0?_s===0&&(_s=3):zj())),_.updateQueue!==null&&(_.flags|=4),Ba(_),null);case 4:return Ow(),Aj(b,_),b===null&&jC(_.stateNode.containerInfo),Ba(_),null;case 10:return tj(_.type._context),Ba(_),null;case 17:return su(_.type)&&kI(),Ba(_),null;case 19:if(Gi(fo),Z=_.memoizedState,Z===null)return Ba(_),null;if(F=(_.flags&128)!==0,ue=Z.rendering,ue===null)if(F)QC(Z,!1);else{if(_s!==0||b!==null&&(b.flags&128)!==0)for(b=_.child;b!==null;){if(ue=jI(b),ue!==null){for(_.flags|=128,QC(Z,!1),F=ue.updateQueue,F!==null&&(_.updateQueue=F,_.flags|=4),_.subtreeFlags=0,F=R,R=_.child;R!==null;)Z=R,b=F,Z.flags&=14680066,ue=Z.alternate,ue===null?(Z.childLanes=0,Z.lanes=b,Z.child=null,Z.subtreeFlags=0,Z.memoizedProps=null,Z.memoizedState=null,Z.updateQueue=null,Z.dependencies=null,Z.stateNode=null):(Z.childLanes=ue.childLanes,Z.lanes=ue.lanes,Z.child=ue.child,Z.subtreeFlags=0,Z.deletions=null,Z.memoizedProps=ue.memoizedProps,Z.memoizedState=ue.memoizedState,Z.updateQueue=ue.updateQueue,Z.type=ue.type,b=ue.dependencies,Z.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),R=R.sibling;return Fi(fo,fo.current&1|2),_.child}b=b.sibling}Z.tail!==null&&xr()>Fw&&(_.flags|=128,F=!0,QC(Z,!1),_.lanes=4194304)}else{if(!F)if(b=jI(ue),b!==null){if(_.flags|=128,F=!0,R=b.updateQueue,R!==null&&(_.updateQueue=R,_.flags|=4),QC(Z,!0),Z.tail===null&&Z.tailMode==="hidden"&&!ue.alternate&&!eo)return Ba(_),null}else 2*xr()-Z.renderingStartTime>Fw&&R!==1073741824&&(_.flags|=128,F=!0,QC(Z,!1),_.lanes=4194304);Z.isBackwards?(ue.sibling=_.child,_.child=ue):(R=Z.last,R!==null?R.sibling=ue:_.child=ue,Z.last=ue)}return Z.tail!==null?(_=Z.tail,Z.rendering=_,Z.tail=_.sibling,Z.renderingStartTime=xr(),_.sibling=null,R=fo.current,Fi(fo,F?R&1|2:R&1),_):(Ba(_),null);case 22:case 23:return Bj(),F=_.memoizedState!==null,b!==null&&b.memoizedState!==null!==F&&(_.flags|=8192),F&&(_.mode&1)!==0?(Qu&1073741824)!==0&&(Ba(_),_.subtreeFlags&6&&(_.flags|=8192)):Ba(_),null;case 24:return null;case 25:return null}throw Error(n(156,_.tag))}function b7e(b,_){switch(K8(_),_.tag){case 1:return su(_.type)&&kI(),b=_.flags,b&65536?(_.flags=b&-65537|128,_):null;case 3:return Ow(),Gi(ou),Gi(La),lj(),b=_.flags,(b&65536)!==0&&(b&128)===0?(_.flags=b&-65537|128,_):null;case 5:return sj(_),null;case 13:if(Gi(fo),b=_.memoizedState,b!==null&&b.dehydrated!==null){if(_.alternate===null)throw Error(n(340));Rw()}return b=_.flags,b&65536?(_.flags=b&-65537|128,_):null;case 19:return Gi(fo),null;case 4:return Ow(),null;case 10:return tj(_.type._context),null;case 22:case 23:return Bj(),null;case 24:return null;default:return null}}var YI=!1,za=!1,w7e=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function Mw(b,_){var R=b.ref;if(R!==null)if(typeof R=="function")try{R(null)}catch(F){Eo(b,_,F)}else R.current=null}function kj(b,_,R){try{R()}catch(F){Eo(b,_,F)}}var pae=!1;function x7e(b,_){if(B8=oe,b=Woe(),P8(b)){if("selectionStart"in b)var R={start:b.selectionStart,end:b.selectionEnd};else e:{R=(R=b.ownerDocument)&&R.defaultView||window;var F=R.getSelection&&R.getSelection();if(F&&F.rangeCount!==0){R=F.anchorNode;var K=F.anchorOffset,Z=F.focusNode;F=F.focusOffset;try{R.nodeType,Z.nodeType}catch{R=null;break e}var ue=0,ke=-1,$e=-1,Xe=0,mt=0,wt=b,pt=null;t:for(;;){for(var Ht;wt!==R||K!==0&&wt.nodeType!==3||(ke=ue+K),wt!==Z||F!==0&&wt.nodeType!==3||($e=ue+F),wt.nodeType===3&&(ue+=wt.nodeValue.length),(Ht=wt.firstChild)!==null;)pt=wt,wt=Ht;for(;;){if(wt===b)break t;if(pt===R&&++Xe===K&&(ke=ue),pt===Z&&++mt===F&&($e=ue),(Ht=wt.nextSibling)!==null)break;wt=pt,pt=wt.parentNode}wt=Ht}R=ke===-1||$e===-1?null:{start:ke,end:$e}}else R=null}R=R||{start:0,end:0}}else R=null;for(z8={focusedElem:b,selectionRange:R},oe=!1,Gt=_;Gt!==null;)if(_=Gt,b=_.child,(_.subtreeFlags&1028)!==0&&b!==null)b.return=_,Gt=b;else for(;Gt!==null;){_=Gt;try{var Qt=_.alternate;if((_.flags&1024)!==0)switch(_.tag){case 0:case 11:case 15:break;case 1:if(Qt!==null){var tn=Qt.memoizedProps,zo=Qt.memoizedState,We=_.stateNode,Be=We.getSnapshotBeforeUpdate(_.elementType===_.type?tn:Ud(_.type,tn),zo);We.__reactInternalSnapshotBeforeUpdate=Be}break;case 3:var Ke=_.stateNode.containerInfo;Ke.nodeType===1?Ke.textContent="":Ke.nodeType===9&&Ke.documentElement&&Ke.removeChild(Ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(It){Eo(_,_.return,It)}if(b=_.sibling,b!==null){b.return=_.return,Gt=b;break}Gt=_.return}return Qt=pae,pae=!1,Qt}function JC(b,_,R){var F=_.updateQueue;if(F=F!==null?F.lastEffect:null,F!==null){var K=F=F.next;do{if((K.tag&b)===b){var Z=K.destroy;K.destroy=void 0,Z!==void 0&&kj(_,R,Z)}K=K.next}while(K!==F)}}function KI(b,_){if(_=_.updateQueue,_=_!==null?_.lastEffect:null,_!==null){var R=_=_.next;do{if((R.tag&b)===b){var F=R.create;R.destroy=F()}R=R.next}while(R!==_)}}function Rj(b){var _=b.ref;if(_!==null){var R=b.stateNode;switch(b.tag){case 5:b=R;break;default:b=R}typeof _=="function"?_(b):_.current=b}}function mae(b){var _=b.alternate;_!==null&&(b.alternate=null,mae(_)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(_=b.stateNode,_!==null&&(delete _[mh],delete _[zC],delete _[q8],delete _[r7e],delete _[i7e])),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function gae(b){return b.tag===5||b.tag===3||b.tag===4}function yae(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||gae(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function Ij(b,_,R){var F=b.tag;if(F===5||F===6)b=b.stateNode,_?R.nodeType===8?R.parentNode.insertBefore(b,_):R.insertBefore(b,_):(R.nodeType===8?(_=R.parentNode,_.insertBefore(b,R)):(_=R,_.appendChild(b)),R=R._reactRootContainer,R!=null||_.onclick!==null||(_.onclick=TI));else if(F!==4&&(b=b.child,b!==null))for(Ij(b,_,R),b=b.sibling;b!==null;)Ij(b,_,R),b=b.sibling}function Dj(b,_,R){var F=b.tag;if(F===5||F===6)b=b.stateNode,_?R.insertBefore(b,_):R.appendChild(b);else if(F!==4&&(b=b.child,b!==null))for(Dj(b,_,R),b=b.sibling;b!==null;)Dj(b,_,R),b=b.sibling}var ca=null,Vd=!1;function Hg(b,_,R){for(R=R.child;R!==null;)vae(b,_,R),R=R.sibling}function vae(b,_,R){if($o&&typeof $o.onCommitFiberUnmount=="function")try{$o.onCommitFiberUnmount(nu,R)}catch{}switch(R.tag){case 5:za||Mw(R,_);case 6:var F=ca,K=Vd;ca=null,Hg(b,_,R),ca=F,Vd=K,ca!==null&&(Vd?(b=ca,R=R.stateNode,b.nodeType===8?b.parentNode.removeChild(R):b.removeChild(R)):ca.removeChild(R.stateNode));break;case 18:ca!==null&&(Vd?(b=ca,R=R.stateNode,b.nodeType===8?H8(b.parentNode,R):b.nodeType===1&&H8(b,R),Fa(b)):H8(ca,R.stateNode));break;case 4:F=ca,K=Vd,ca=R.stateNode.containerInfo,Vd=!0,Hg(b,_,R),ca=F,Vd=K;break;case 0:case 11:case 14:case 15:if(!za&&(F=R.updateQueue,F!==null&&(F=F.lastEffect,F!==null))){K=F=F.next;do{var Z=K,ue=Z.destroy;Z=Z.tag,ue!==void 0&&((Z&2)!==0||(Z&4)!==0)&&kj(R,_,ue),K=K.next}while(K!==F)}Hg(b,_,R);break;case 1:if(!za&&(Mw(R,_),F=R.stateNode,typeof F.componentWillUnmount=="function"))try{F.props=R.memoizedProps,F.state=R.memoizedState,F.componentWillUnmount()}catch(ke){Eo(R,_,ke)}Hg(b,_,R);break;case 21:Hg(b,_,R);break;case 22:R.mode&1?(za=(F=za)||R.memoizedState!==null,Hg(b,_,R),za=F):Hg(b,_,R);break;default:Hg(b,_,R)}}function bae(b){var _=b.updateQueue;if(_!==null){b.updateQueue=null;var R=b.stateNode;R===null&&(R=b.stateNode=new w7e),_.forEach(function(F){var K=I7e.bind(null,b,F);R.has(F)||(R.add(F),F.then(K,K))})}}function Hd(b,_){var R=_.deletions;if(R!==null)for(var F=0;F<R.length;F++){var K=R[F];try{var Z=b,ue=_,ke=ue;e:for(;ke!==null;){switch(ke.tag){case 5:ca=ke.stateNode,Vd=!1;break e;case 3:ca=ke.stateNode.containerInfo,Vd=!0;break e;case 4:ca=ke.stateNode.containerInfo,Vd=!0;break e}ke=ke.return}if(ca===null)throw Error(n(160));vae(Z,ue,K),ca=null,Vd=!1;var $e=K.alternate;$e!==null&&($e.return=null),K.return=null}catch(Xe){Eo(K,_,Xe)}}if(_.subtreeFlags&12854)for(_=_.child;_!==null;)wae(_,b),_=_.sibling}function wae(b,_){var R=b.alternate,F=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(Hd(_,b),vh(b),F&4){try{JC(3,b,b.return),KI(3,b)}catch(tn){Eo(b,b.return,tn)}try{JC(5,b,b.return)}catch(tn){Eo(b,b.return,tn)}}break;case 1:Hd(_,b),vh(b),F&512&&R!==null&&Mw(R,R.return);break;case 5:if(Hd(_,b),vh(b),F&512&&R!==null&&Mw(R,R.return),b.flags&32){var K=b.stateNode;try{rt(K,"")}catch(tn){Eo(b,b.return,tn)}}if(F&4&&(K=b.stateNode,K!=null)){var Z=b.memoizedProps,ue=R!==null?R.memoizedProps:Z,ke=b.type,$e=b.updateQueue;if(b.updateQueue=null,$e!==null)try{ke==="input"&&Z.type==="radio"&&Z.name!=null&&ce(K,Z),Kn(ke,ue);var Xe=Kn(ke,Z);for(ue=0;ue<$e.length;ue+=2){var mt=$e[ue],wt=$e[ue+1];mt==="style"?Mn(K,wt):mt==="dangerouslySetInnerHTML"?tt(K,wt):mt==="children"?rt(K,wt):w(K,mt,wt,Xe)}switch(ke){case"input":ne(K,Z);break;case"textarea":Ae(K,Z);break;case"select":var pt=K._wrapperState.wasMultiple;K._wrapperState.wasMultiple=!!Z.multiple;var Ht=Z.value;Ht!=null?Se(K,!!Z.multiple,Ht,!1):pt!==!!Z.multiple&&(Z.defaultValue!=null?Se(K,!!Z.multiple,Z.defaultValue,!0):Se(K,!!Z.multiple,Z.multiple?[]:"",!1))}K[zC]=Z}catch(tn){Eo(b,b.return,tn)}}break;case 6:if(Hd(_,b),vh(b),F&4){if(b.stateNode===null)throw Error(n(162));K=b.stateNode,Z=b.memoizedProps;try{K.nodeValue=Z}catch(tn){Eo(b,b.return,tn)}}break;case 3:if(Hd(_,b),vh(b),F&4&&R!==null&&R.memoizedState.isDehydrated)try{Fa(_.containerInfo)}catch(tn){Eo(b,b.return,tn)}break;case 4:Hd(_,b),vh(b);break;case 13:Hd(_,b),vh(b),K=b.child,K.flags&8192&&(Z=K.memoizedState!==null,K.stateNode.isHidden=Z,!Z||K.alternate!==null&&K.alternate.memoizedState!==null||(Nj=xr())),F&4&&bae(b);break;case 22:if(mt=R!==null&&R.memoizedState!==null,b.mode&1?(za=(Xe=za)||mt,Hd(_,b),za=Xe):Hd(_,b),vh(b),F&8192){if(Xe=b.memoizedState!==null,(b.stateNode.isHidden=Xe)&&!mt&&(b.mode&1)!==0)for(Gt=b,mt=b.child;mt!==null;){for(wt=Gt=mt;Gt!==null;){switch(pt=Gt,Ht=pt.child,pt.tag){case 0:case 11:case 14:case 15:JC(4,pt,pt.return);break;case 1:Mw(pt,pt.return);var Qt=pt.stateNode;if(typeof Qt.componentWillUnmount=="function"){F=pt,R=pt.return;try{_=F,Qt.props=_.memoizedProps,Qt.state=_.memoizedState,Qt.componentWillUnmount()}catch(tn){Eo(F,R,tn)}}break;case 5:Mw(pt,pt.return);break;case 22:if(pt.memoizedState!==null){Eae(wt);continue}}Ht!==null?(Ht.return=pt,Gt=Ht):Eae(wt)}mt=mt.sibling}e:for(mt=null,wt=b;;){if(wt.tag===5){if(mt===null){mt=wt;try{K=wt.stateNode,Xe?(Z=K.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none"):(ke=wt.stateNode,$e=wt.memoizedProps.style,ue=$e!=null&&$e.hasOwnProperty("display")?$e.display:null,ke.style.display=Wt("display",ue))}catch(tn){Eo(b,b.return,tn)}}}else if(wt.tag===6){if(mt===null)try{wt.stateNode.nodeValue=Xe?"":wt.memoizedProps}catch(tn){Eo(b,b.return,tn)}}else if((wt.tag!==22&&wt.tag!==23||wt.memoizedState===null||wt===b)&&wt.child!==null){wt.child.return=wt,wt=wt.child;continue}if(wt===b)break e;for(;wt.sibling===null;){if(wt.return===null||wt.return===b)break e;mt===wt&&(mt=null),wt=wt.return}mt===wt&&(mt=null),wt.sibling.return=wt.return,wt=wt.sibling}}break;case 19:Hd(_,b),vh(b),F&4&&bae(b);break;case 21:break;default:Hd(_,b),vh(b)}}function vh(b){var _=b.flags;if(_&2){try{e:{for(var R=b.return;R!==null;){if(gae(R)){var F=R;break e}R=R.return}throw Error(n(160))}switch(F.tag){case 5:var K=F.stateNode;F.flags&32&&(rt(K,""),F.flags&=-33);var Z=yae(b);Dj(b,Z,K);break;case 3:case 4:var ue=F.stateNode.containerInfo,ke=yae(b);Ij(b,ke,ue);break;default:throw Error(n(161))}}catch($e){Eo(b,b.return,$e)}b.flags&=-3}_&4096&&(b.flags&=-4097)}function _7e(b,_,R){Gt=b,xae(b)}function xae(b,_,R){for(var F=(b.mode&1)!==0;Gt!==null;){var K=Gt,Z=K.child;if(K.tag===22&&F){var ue=K.memoizedState!==null||YI;if(!ue){var ke=K.alternate,$e=ke!==null&&ke.memoizedState!==null||za;ke=YI;var Xe=za;if(YI=ue,(za=$e)&&!Xe)for(Gt=K;Gt!==null;)ue=Gt,$e=ue.child,ue.tag===22&&ue.memoizedState!==null?Cae(K):$e!==null?($e.return=ue,Gt=$e):Cae(K);for(;Z!==null;)Gt=Z,xae(Z),Z=Z.sibling;Gt=K,YI=ke,za=Xe}_ae(b)}else(K.subtreeFlags&8772)!==0&&Z!==null?(Z.return=K,Gt=Z):_ae(b)}}function _ae(b){for(;Gt!==null;){var _=Gt;if((_.flags&8772)!==0){var R=_.alternate;try{if((_.flags&8772)!==0)switch(_.tag){case 0:case 11:case 15:za||KI(5,_);break;case 1:var F=_.stateNode;if(_.flags&4&&!za)if(R===null)F.componentDidMount();else{var K=_.elementType===_.type?R.memoizedProps:Ud(_.type,R.memoizedProps);F.componentDidUpdate(K,R.memoizedState,F.__reactInternalSnapshotBeforeUpdate)}var Z=_.updateQueue;Z!==null&&Ese(_,Z,F);break;case 3:var ue=_.updateQueue;if(ue!==null){if(R=null,_.child!==null)switch(_.child.tag){case 5:R=_.child.stateNode;break;case 1:R=_.child.stateNode}Ese(_,ue,R)}break;case 5:var ke=_.stateNode;if(R===null&&_.flags&4){R=ke;var $e=_.memoizedProps;switch(_.type){case"button":case"input":case"select":case"textarea":$e.autoFocus&&R.focus();break;case"img":$e.src&&(R.src=$e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_.memoizedState===null){var Xe=_.alternate;if(Xe!==null){var mt=Xe.memoizedState;if(mt!==null){var wt=mt.dehydrated;wt!==null&&Fa(wt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}za||_.flags&512&&Rj(_)}catch(pt){Eo(_,_.return,pt)}}if(_===b){Gt=null;break}if(R=_.sibling,R!==null){R.return=_.return,Gt=R;break}Gt=_.return}}function Eae(b){for(;Gt!==null;){var _=Gt;if(_===b){Gt=null;break}var R=_.sibling;if(R!==null){R.return=_.return,Gt=R;break}Gt=_.return}}function Cae(b){for(;Gt!==null;){var _=Gt;try{switch(_.tag){case 0:case 11:case 15:var R=_.return;try{KI(4,_)}catch($e){Eo(_,R,$e)}break;case 1:var F=_.stateNode;if(typeof F.componentDidMount=="function"){var K=_.return;try{F.componentDidMount()}catch($e){Eo(_,K,$e)}}var Z=_.return;try{Rj(_)}catch($e){Eo(_,Z,$e)}break;case 5:var ue=_.return;try{Rj(_)}catch($e){Eo(_,ue,$e)}}}catch($e){Eo(_,_.return,$e)}if(_===b){Gt=null;break}var ke=_.sibling;if(ke!==null){ke.return=_.return,Gt=ke;break}Gt=_.return}}var E7e=Math.ceil,XI=E.ReactCurrentDispatcher,Pj=E.ReactCurrentOwner,jc=E.ReactCurrentBatchConfig,Wr=0,zs=null,is=null,da=0,Qu=0,$w=jg(0),_s=0,ZC=null,Ev=0,QI=0,Oj=0,eS=null,lu=null,Nj=0,Fw=1/0,Jp=null,JI=!1,Mj=null,qg=null,ZI=!1,Wg=null,eD=0,tS=0,$j=null,tD=-1,nD=0;function wl(){return(Wr&6)!==0?xr():tD!==-1?tD:tD=xr()}function Gg(b){return(b.mode&1)===0?1:(Wr&2)!==0&&da!==0?da&-da:s7e.transition!==null?(nD===0&&(nD=Et()),nD):(b=Xt,b!==0||(b=window.event,b=b===void 0?16:Ln(b.type)),b)}function qd(b,_,R,F){if(50<tS)throw tS=0,$j=null,Error(n(185));$n(b,R,F),((Wr&2)===0||b!==zs)&&(b===zs&&((Wr&2)===0&&(QI|=R),_s===4&&Yg(b,da)),uu(b,F),R===1&&Wr===0&&(_.mode&1)===0&&(Fw=xr()+500,II&&zg()))}function uu(b,_){var R=b.callbackNode;ht(b,_);var F=nt(b,b===zs?da:0);if(F===0)R!==null&&vs(R),b.callbackNode=null,b.callbackPriority=0;else if(_=F&-F,b.callbackPriority!==_){if(R!=null&&vs(R),_===1)b.tag===0?o7e(Tae.bind(null,b)):dse(Tae.bind(null,b)),t7e(function(){(Wr&6)===0&&zg()}),R=null;else{switch(pr(F)){case 1:R=No;break;case 4:R=Fs;break;case 16:R=Mo;break;case 536870912:R=la;break;default:R=Mo}R=Nae(R,Sae.bind(null,b))}b.callbackPriority=_,b.callbackNode=R}}function Sae(b,_){if(tD=-1,nD=0,(Wr&6)!==0)throw Error(n(327));var R=b.callbackNode;if(Lw()&&b.callbackNode!==R)return null;var F=nt(b,b===zs?da:0);if(F===0)return null;if((F&30)!==0||(F&b.expiredLanes)!==0||_)_=rD(b,F);else{_=F;var K=Wr;Wr|=2;var Z=kae();(zs!==b||da!==_)&&(Jp=null,Fw=xr()+500,Sv(b,_));do try{T7e();break}catch(ke){Aae(b,ke)}while(!0);ej(),XI.current=Z,Wr=K,is!==null?_=0:(zs=null,da=0,_=_s)}if(_!==0){if(_===2&&(K=dt(b),K!==0&&(F=K,_=Fj(b,K))),_===1)throw R=ZC,Sv(b,0),Yg(b,F),uu(b,xr()),R;if(_===6)Yg(b,F);else{if(K=b.current.alternate,(F&30)===0&&!C7e(K)&&(_=rD(b,F),_===2&&(Z=dt(b),Z!==0&&(F=Z,_=Fj(b,Z))),_===1))throw R=ZC,Sv(b,0),Yg(b,F),uu(b,xr()),R;switch(b.finishedWork=K,b.finishedLanes=F,_){case 0:case 1:throw Error(n(345));case 2:Tv(b,lu,Jp);break;case 3:if(Yg(b,F),(F&130023424)===F&&(_=Nj+500-xr(),10<_)){if(nt(b,0)!==0)break;if(K=b.suspendedLanes,(K&F)!==F){wl(),b.pingedLanes|=b.suspendedLanes&K;break}b.timeoutHandle=V8(Tv.bind(null,b,lu,Jp),_);break}Tv(b,lu,Jp);break;case 4:if(Yg(b,F),(F&4194240)===F)break;for(_=b.eventTimes,K=-1;0<F;){var ue=31-Fo(F);Z=1<<ue,ue=_[ue],ue>K&&(K=ue),F&=~Z}if(F=K,F=xr()-F,F=(120>F?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*E7e(F/1960))-F,10<F){b.timeoutHandle=V8(Tv.bind(null,b,lu,Jp),F);break}Tv(b,lu,Jp);break;case 5:Tv(b,lu,Jp);break;default:throw Error(n(329))}}}return uu(b,xr()),b.callbackNode===R?Sae.bind(null,b):null}function Fj(b,_){var R=eS;return b.current.memoizedState.isDehydrated&&(Sv(b,_).flags|=256),b=rD(b,_),b!==2&&(_=lu,lu=R,_!==null&&Lj(_)),b}function Lj(b){lu===null?lu=b:lu.push.apply(lu,b)}function C7e(b){for(var _=b;;){if(_.flags&16384){var R=_.updateQueue;if(R!==null&&(R=R.stores,R!==null))for(var F=0;F<R.length;F++){var K=R[F],Z=K.getSnapshot;K=K.value;try{if(!Bd(Z(),K))return!1}catch{return!1}}}if(R=_.child,_.subtreeFlags&16384&&R!==null)R.return=_,_=R;else{if(_===b)break;for(;_.sibling===null;){if(_.return===null||_.return===b)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function Yg(b,_){for(_&=~Oj,_&=~QI,b.suspendedLanes|=_,b.pingedLanes&=~_,b=b.expirationTimes;0<_;){var R=31-Fo(_),F=1<<R;b[R]=-1,_&=~F}}function Tae(b){if((Wr&6)!==0)throw Error(n(327));Lw();var _=nt(b,0);if((_&1)===0)return uu(b,xr()),null;var R=rD(b,_);if(b.tag!==0&&R===2){var F=dt(b);F!==0&&(_=F,R=Fj(b,F))}if(R===1)throw R=ZC,Sv(b,0),Yg(b,_),uu(b,xr()),R;if(R===6)throw Error(n(345));return b.finishedWork=b.current.alternate,b.finishedLanes=_,Tv(b,lu,Jp),uu(b,xr()),null}function jj(b,_){var R=Wr;Wr|=1;try{return b(_)}finally{Wr=R,Wr===0&&(Fw=xr()+500,II&&zg())}}function Cv(b){Wg!==null&&Wg.tag===0&&(Wr&6)===0&&Lw();var _=Wr;Wr|=1;var R=jc.transition,F=Xt;try{if(jc.transition=null,Xt=1,b)return b()}finally{Xt=F,jc.transition=R,Wr=_,(Wr&6)===0&&zg()}}function Bj(){Qu=$w.current,Gi($w)}function Sv(b,_){b.finishedWork=null,b.finishedLanes=0;var R=b.timeoutHandle;if(R!==-1&&(b.timeoutHandle=-1,e7e(R)),is!==null)for(R=is.return;R!==null;){var F=R;switch(K8(F),F.tag){case 1:F=F.type.childContextTypes,F!=null&&kI();break;case 3:Ow(),Gi(ou),Gi(La),lj();break;case 5:sj(F);break;case 4:Ow();break;case 13:Gi(fo);break;case 19:Gi(fo);break;case 10:tj(F.type._context);break;case 22:case 23:Bj()}R=R.return}if(zs=b,is=b=Kg(b.current,null),da=Qu=_,_s=0,ZC=null,Oj=QI=Ev=0,lu=eS=null,wv!==null){for(_=0;_<wv.length;_++)if(R=wv[_],F=R.interleaved,F!==null){R.interleaved=null;var K=F.next,Z=R.pending;if(Z!==null){var ue=Z.next;Z.next=K,F.next=ue}R.pending=F}wv=null}return b}function Aae(b,_){do{var R=is;try{if(ej(),BI.current=HI,zI){for(var F=ho.memoizedState;F!==null;){var K=F.queue;K!==null&&(K.pending=null),F=F.next}zI=!1}if(_v=0,Bs=xs=ho=null,GC=!1,YC=0,Pj.current=null,R===null||R.return===null){_s=1,ZC=_,is=null;break}e:{var Z=b,ue=R.return,ke=R,$e=_;if(_=da,ke.flags|=32768,$e!==null&&typeof $e=="object"&&typeof $e.then=="function"){var Xe=$e,mt=ke,wt=mt.tag;if((mt.mode&1)===0&&(wt===0||wt===11||wt===15)){var pt=mt.alternate;pt?(mt.updateQueue=pt.updateQueue,mt.memoizedState=pt.memoizedState,mt.lanes=pt.lanes):(mt.updateQueue=null,mt.memoizedState=null)}var Ht=Jse(ue);if(Ht!==null){Ht.flags&=-257,Zse(Ht,ue,ke,Z,_),Ht.mode&1&&Qse(Z,Xe,_),_=Ht,$e=Xe;var Qt=_.updateQueue;if(Qt===null){var tn=new Set;tn.add($e),_.updateQueue=tn}else Qt.add($e);break e}else{if((_&1)===0){Qse(Z,Xe,_),zj();break e}$e=Error(n(426))}}else if(eo&&ke.mode&1){var zo=Jse(ue);if(zo!==null){(zo.flags&65536)===0&&(zo.flags|=256),Zse(zo,ue,ke,Z,_),J8(Nw($e,ke));break e}}Z=$e=Nw($e,ke),_s!==4&&(_s=2),eS===null?eS=[Z]:eS.push(Z),Z=ue;do{switch(Z.tag){case 3:Z.flags|=65536,_&=-_,Z.lanes|=_;var We=Kse(Z,$e,_);_se(Z,We);break e;case 1:ke=$e;var Be=Z.type,Ke=Z.stateNode;if((Z.flags&128)===0&&(typeof Be.getDerivedStateFromError=="function"||Ke!==null&&typeof Ke.componentDidCatch=="function"&&(qg===null||!qg.has(Ke)))){Z.flags|=65536,_&=-_,Z.lanes|=_;var It=Xse(Z,ke,_);_se(Z,It);break e}}Z=Z.return}while(Z!==null)}Iae(R)}catch(ln){_=ln,is===R&&R!==null&&(is=R=R.return);continue}break}while(!0)}function kae(){var b=XI.current;return XI.current=HI,b===null?HI:b}function zj(){(_s===0||_s===3||_s===2)&&(_s=4),zs===null||(Ev&268435455)===0&&(QI&268435455)===0||Yg(zs,da)}function rD(b,_){var R=Wr;Wr|=2;var F=kae();(zs!==b||da!==_)&&(Jp=null,Sv(b,_));do try{S7e();break}catch(K){Aae(b,K)}while(!0);if(ej(),Wr=R,XI.current=F,is!==null)throw Error(n(261));return zs=null,da=0,_s}function S7e(){for(;is!==null;)Rae(is)}function T7e(){for(;is!==null&&!lh();)Rae(is)}function Rae(b){var _=Oae(b.alternate,b,Qu);b.memoizedProps=b.pendingProps,_===null?Iae(b):is=_,Pj.current=null}function Iae(b){var _=b;do{var R=_.alternate;if(b=_.return,(_.flags&32768)===0){if(R=v7e(R,_,Qu),R!==null){is=R;return}}else{if(R=b7e(R,_),R!==null){R.flags&=32767,is=R;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{_s=6,is=null;return}}if(_=_.sibling,_!==null){is=_;return}is=_=b}while(_!==null);_s===0&&(_s=5)}function Tv(b,_,R){var F=Xt,K=jc.transition;try{jc.transition=null,Xt=1,A7e(b,_,R,F)}finally{jc.transition=K,Xt=F}return null}function A7e(b,_,R,F){do Lw();while(Wg!==null);if((Wr&6)!==0)throw Error(n(327));R=b.finishedWork;var K=b.finishedLanes;if(R===null)return null;if(b.finishedWork=null,b.finishedLanes=0,R===b.current)throw Error(n(177));b.callbackNode=null,b.callbackPriority=0;var Z=R.lanes|R.childLanes;if(en(b,Z),b===zs&&(is=zs=null,da=0),(R.subtreeFlags&2064)===0&&(R.flags&2064)===0||ZI||(ZI=!0,Nae(Mo,function(){return Lw(),null})),Z=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||Z){Z=jc.transition,jc.transition=null;var ue=Xt;Xt=1;var ke=Wr;Wr|=4,Pj.current=null,x7e(b,R),wae(R,b),G9e(z8),oe=!!B8,z8=B8=null,b.current=R,_7e(R),Hu(),Wr=ke,Xt=ue,jc.transition=Z}else b.current=R;if(ZI&&(ZI=!1,Wg=b,eD=K),Z=b.pendingLanes,Z===0&&(qg=null),uh(R.stateNode),uu(b,xr()),_!==null)for(F=b.onRecoverableError,R=0;R<_.length;R++)K=_[R],F(K.value,{componentStack:K.stack,digest:K.digest});if(JI)throw JI=!1,b=Mj,Mj=null,b;return(eD&1)!==0&&b.tag!==0&&Lw(),Z=b.pendingLanes,(Z&1)!==0?b===$j?tS++:(tS=0,$j=b):tS=0,zg(),null}function Lw(){if(Wg!==null){var b=pr(eD),_=jc.transition,R=Xt;try{if(jc.transition=null,Xt=16>b?16:b,Wg===null)var F=!1;else{if(b=Wg,Wg=null,eD=0,(Wr&6)!==0)throw Error(n(331));var K=Wr;for(Wr|=4,Gt=b.current;Gt!==null;){var Z=Gt,ue=Z.child;if((Gt.flags&16)!==0){var ke=Z.deletions;if(ke!==null){for(var $e=0;$e<ke.length;$e++){var Xe=ke[$e];for(Gt=Xe;Gt!==null;){var mt=Gt;switch(mt.tag){case 0:case 11:case 15:JC(8,mt,Z)}var wt=mt.child;if(wt!==null)wt.return=mt,Gt=wt;else for(;Gt!==null;){mt=Gt;var pt=mt.sibling,Ht=mt.return;if(mae(mt),mt===Xe){Gt=null;break}if(pt!==null){pt.return=Ht,Gt=pt;break}Gt=Ht}}}var Qt=Z.alternate;if(Qt!==null){var tn=Qt.child;if(tn!==null){Qt.child=null;do{var zo=tn.sibling;tn.sibling=null,tn=zo}while(tn!==null)}}Gt=Z}}if((Z.subtreeFlags&2064)!==0&&ue!==null)ue.return=Z,Gt=ue;else e:for(;Gt!==null;){if(Z=Gt,(Z.flags&2048)!==0)switch(Z.tag){case 0:case 11:case 15:JC(9,Z,Z.return)}var We=Z.sibling;if(We!==null){We.return=Z.return,Gt=We;break e}Gt=Z.return}}var Be=b.current;for(Gt=Be;Gt!==null;){ue=Gt;var Ke=ue.child;if((ue.subtreeFlags&2064)!==0&&Ke!==null)Ke.return=ue,Gt=Ke;else e:for(ue=Be;Gt!==null;){if(ke=Gt,(ke.flags&2048)!==0)try{switch(ke.tag){case 0:case 11:case 15:KI(9,ke)}}catch(ln){Eo(ke,ke.return,ln)}if(ke===ue){Gt=null;break e}var It=ke.sibling;if(It!==null){It.return=ke.return,Gt=It;break e}Gt=ke.return}}if(Wr=K,zg(),$o&&typeof $o.onPostCommitFiberRoot=="function")try{$o.onPostCommitFiberRoot(nu,b)}catch{}F=!0}return F}finally{Xt=R,jc.transition=_}}return!1}function Dae(b,_,R){_=Nw(R,_),_=Kse(b,_,1),b=Vg(b,_,1),_=wl(),b!==null&&($n(b,1,_),uu(b,_))}function Eo(b,_,R){if(b.tag===3)Dae(b,b,R);else for(;_!==null;){if(_.tag===3){Dae(_,b,R);break}else if(_.tag===1){var F=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(qg===null||!qg.has(F))){b=Nw(R,b),b=Xse(_,b,1),_=Vg(_,b,1),b=wl(),_!==null&&($n(_,1,b),uu(_,b));break}}_=_.return}}function k7e(b,_,R){var F=b.pingCache;F!==null&&F.delete(_),_=wl(),b.pingedLanes|=b.suspendedLanes&R,zs===b&&(da&R)===R&&(_s===4||_s===3&&(da&130023424)===da&&500>xr()-Nj?Sv(b,0):Oj|=R),uu(b,_)}function Pae(b,_){_===0&&((b.mode&1)===0?_=1:(_=Ue,Ue<<=1,(Ue&130023424)===0&&(Ue=4194304)));var R=wl();b=Kp(b,_),b!==null&&($n(b,_,R),uu(b,R))}function R7e(b){var _=b.memoizedState,R=0;_!==null&&(R=_.retryLane),Pae(b,R)}function I7e(b,_){var R=0;switch(b.tag){case 13:var F=b.stateNode,K=b.memoizedState;K!==null&&(R=K.retryLane);break;case 19:F=b.stateNode;break;default:throw Error(n(314))}F!==null&&F.delete(_),Pae(b,R)}var Oae;Oae=function(b,_,R){if(b!==null)if(b.memoizedProps!==_.pendingProps||ou.current)au=!0;else{if((b.lanes&R)===0&&(_.flags&128)===0)return au=!1,y7e(b,_,R);au=(b.flags&131072)!==0}else au=!1,eo&&(_.flags&1048576)!==0&&fse(_,PI,_.index);switch(_.lanes=0,_.tag){case 2:var F=_.type;GI(b,_),b=_.pendingProps;var K=Tw(_,La.current);Pw(_,R),K=dj(null,_,F,b,K,R);var Z=fj();return _.flags|=1,typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0?(_.tag=1,_.memoizedState=null,_.updateQueue=null,su(F)?(Z=!0,RI(_)):Z=!1,_.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,ij(_),K.updater=qI,_.stateNode=K,K._reactInternals=_,vj(_,F,b,R),_=_j(null,_,F,!0,Z,R)):(_.tag=0,eo&&Z&&Y8(_),bl(null,_,K,R),_=_.child),_;case 16:F=_.elementType;e:{switch(GI(b,_),b=_.pendingProps,K=F._init,F=K(F._payload),_.type=F,K=_.tag=P7e(F),b=Ud(F,b),K){case 0:_=xj(null,_,F,b,R);break e;case 1:_=oae(null,_,F,b,R);break e;case 11:_=eae(null,_,F,b,R);break e;case 14:_=tae(null,_,F,Ud(F.type,b),R);break e}throw Error(n(306,F,""))}return _;case 0:return F=_.type,K=_.pendingProps,K=_.elementType===F?K:Ud(F,K),xj(b,_,F,K,R);case 1:return F=_.type,K=_.pendingProps,K=_.elementType===F?K:Ud(F,K),oae(b,_,F,K,R);case 3:e:{if(sae(_),b===null)throw Error(n(387));F=_.pendingProps,Z=_.memoizedState,K=Z.element,xse(b,_),LI(_,F,null,R);var ue=_.memoizedState;if(F=ue.element,Z.isDehydrated)if(Z={element:F,isDehydrated:!1,cache:ue.cache,pendingSuspenseBoundaries:ue.pendingSuspenseBoundaries,transitions:ue.transitions},_.updateQueue.baseState=Z,_.memoizedState=Z,_.flags&256){K=Nw(Error(n(423)),_),_=aae(b,_,F,R,K);break e}else if(F!==K){K=Nw(Error(n(424)),_),_=aae(b,_,F,R,K);break e}else for(Xu=Lg(_.stateNode.containerInfo.firstChild),Ku=_,eo=!0,zd=null,R=bse(_,null,F,R),_.child=R;R;)R.flags=R.flags&-3|4096,R=R.sibling;else{if(Rw(),F===K){_=Qp(b,_,R);break e}bl(b,_,F,R)}_=_.child}return _;case 5:return Cse(_),b===null&&Q8(_),F=_.type,K=_.pendingProps,Z=b!==null?b.memoizedProps:null,ue=K.children,U8(F,K)?ue=null:Z!==null&&U8(F,Z)&&(_.flags|=32),iae(b,_),bl(b,_,ue,R),_.child;case 6:return b===null&&Q8(_),null;case 13:return lae(b,_,R);case 4:return oj(_,_.stateNode.containerInfo),F=_.pendingProps,b===null?_.child=Iw(_,null,F,R):bl(b,_,F,R),_.child;case 11:return F=_.type,K=_.pendingProps,K=_.elementType===F?K:Ud(F,K),eae(b,_,F,K,R);case 7:return bl(b,_,_.pendingProps,R),_.child;case 8:return bl(b,_,_.pendingProps.children,R),_.child;case 12:return bl(b,_,_.pendingProps.children,R),_.child;case 10:e:{if(F=_.type._context,K=_.pendingProps,Z=_.memoizedProps,ue=K.value,Fi(MI,F._currentValue),F._currentValue=ue,Z!==null)if(Bd(Z.value,ue)){if(Z.children===K.children&&!ou.current){_=Qp(b,_,R);break e}}else for(Z=_.child,Z!==null&&(Z.return=_);Z!==null;){var ke=Z.dependencies;if(ke!==null){ue=Z.child;for(var $e=ke.firstContext;$e!==null;){if($e.context===F){if(Z.tag===1){$e=Xp(-1,R&-R),$e.tag=2;var Xe=Z.updateQueue;if(Xe!==null){Xe=Xe.shared;var mt=Xe.pending;mt===null?$e.next=$e:($e.next=mt.next,mt.next=$e),Xe.pending=$e}}Z.lanes|=R,$e=Z.alternate,$e!==null&&($e.lanes|=R),nj(Z.return,R,_),ke.lanes|=R;break}$e=$e.next}}else if(Z.tag===10)ue=Z.type===_.type?null:Z.child;else if(Z.tag===18){if(ue=Z.return,ue===null)throw Error(n(341));ue.lanes|=R,ke=ue.alternate,ke!==null&&(ke.lanes|=R),nj(ue,R,_),ue=Z.sibling}else ue=Z.child;if(ue!==null)ue.return=Z;else for(ue=Z;ue!==null;){if(ue===_){ue=null;break}if(Z=ue.sibling,Z!==null){Z.return=ue.return,ue=Z;break}ue=ue.return}Z=ue}bl(b,_,K.children,R),_=_.child}return _;case 9:return K=_.type,F=_.pendingProps.children,Pw(_,R),K=Fc(K),F=F(K),_.flags|=1,bl(b,_,F,R),_.child;case 14:return F=_.type,K=Ud(F,_.pendingProps),K=Ud(F.type,K),tae(b,_,F,K,R);case 15:return nae(b,_,_.type,_.pendingProps,R);case 17:return F=_.type,K=_.pendingProps,K=_.elementType===F?K:Ud(F,K),GI(b,_),_.tag=1,su(F)?(b=!0,RI(_)):b=!1,Pw(_,R),Gse(_,F,K),vj(_,F,K,R),_j(null,_,F,!0,b,R);case 19:return cae(b,_,R);case 22:return rae(b,_,R)}throw Error(n(156,_.tag))};function Nae(b,_){return Dc(b,_)}function D7e(b,_,R,F){this.tag=b,this.key=R,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bc(b,_,R,F){return new D7e(b,_,R,F)}function Uj(b){return b=b.prototype,!(!b||!b.isReactComponent)}function P7e(b){if(typeof b=="function")return Uj(b)?1:0;if(b!=null){if(b=b.$$typeof,b===N)return 11;if(b===j)return 14}return 2}function Kg(b,_){var R=b.alternate;return R===null?(R=Bc(b.tag,_,b.key,b.mode),R.elementType=b.elementType,R.type=b.type,R.stateNode=b.stateNode,R.alternate=b,b.alternate=R):(R.pendingProps=_,R.type=b.type,R.flags=0,R.subtreeFlags=0,R.deletions=null),R.flags=b.flags&14680064,R.childLanes=b.childLanes,R.lanes=b.lanes,R.child=b.child,R.memoizedProps=b.memoizedProps,R.memoizedState=b.memoizedState,R.updateQueue=b.updateQueue,_=b.dependencies,R.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},R.sibling=b.sibling,R.index=b.index,R.ref=b.ref,R}function iD(b,_,R,F,K,Z){var ue=2;if(F=b,typeof b=="function")Uj(b)&&(ue=1);else if(typeof b=="string")ue=5;else e:switch(b){case T:return Av(R.children,K,Z,_);case A:ue=8,K|=8;break;case D:return b=Bc(12,R,_,K|2),b.elementType=D,b.lanes=Z,b;case $:return b=Bc(13,R,_,K),b.elementType=$,b.lanes=Z,b;case O:return b=Bc(19,R,_,K),b.elementType=O,b.lanes=Z,b;case H:return oD(R,K,Z,_);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case I:ue=10;break e;case P:ue=9;break e;case N:ue=11;break e;case j:ue=14;break e;case B:ue=16,F=null;break e}throw Error(n(130,b==null?b:typeof b,""))}return _=Bc(ue,R,_,K),_.elementType=b,_.type=F,_.lanes=Z,_}function Av(b,_,R,F){return b=Bc(7,b,F,_),b.lanes=R,b}function oD(b,_,R,F){return b=Bc(22,b,F,_),b.elementType=H,b.lanes=R,b.stateNode={isHidden:!1},b}function Vj(b,_,R){return b=Bc(6,b,null,_),b.lanes=R,b}function Hj(b,_,R){return _=Bc(4,b.children!==null?b.children:[],b.key,_),_.lanes=R,_.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},_}function O7e(b,_,R,F,K){this.tag=_,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.identifierPrefix=F,this.onRecoverableError=K,this.mutableSourceEagerHydrationData=null}function qj(b,_,R,F,K,Z,ue,ke,$e){return b=new O7e(b,_,R,ke,$e),_===1?(_=1,Z===!0&&(_|=8)):_=0,Z=Bc(3,null,null,_),b.current=Z,Z.stateNode=b,Z.memoizedState={element:F,isDehydrated:R,cache:null,transitions:null,pendingSuspenseBoundaries:null},ij(Z),b}function N7e(b,_,R){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:F==null?null:""+F,children:b,containerInfo:_,implementation:R}}function Mae(b){if(!b)return Bg;b=b._reactInternals;e:{if(Un(b)!==b||b.tag!==1)throw Error(n(170));var _=b;do{switch(_.tag){case 3:_=_.stateNode.context;break e;case 1:if(su(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_=_.return}while(_!==null);throw Error(n(171))}if(b.tag===1){var R=b.type;if(su(R))return use(b,R,_)}return _}function $ae(b,_,R,F,K,Z,ue,ke,$e){return b=qj(R,F,!0,b,K,Z,ue,ke,$e),b.context=Mae(null),R=b.current,F=wl(),K=Gg(R),Z=Xp(F,K),Z.callback=_??null,Vg(R,Z,K),b.current.lanes=K,$n(b,K,F),uu(b,F),b}function sD(b,_,R,F){var K=_.current,Z=wl(),ue=Gg(K);return R=Mae(R),_.context===null?_.context=R:_.pendingContext=R,_=Xp(Z,ue),_.payload={element:b},F=F===void 0?null:F,F!==null&&(_.callback=F),b=Vg(K,_,ue),b!==null&&(qd(b,K,ue,Z),FI(b,K,ue)),ue}function aD(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function Fae(b,_){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var R=b.retryLane;b.retryLane=R!==0&&R<_?R:_}}function Wj(b,_){Fae(b,_),(b=b.alternate)&&Fae(b,_)}function M7e(){return null}var Lae=typeof reportError=="function"?reportError:function(b){console.error(b)};function Gj(b){this._internalRoot=b}lD.prototype.render=Gj.prototype.render=function(b){var _=this._internalRoot;if(_===null)throw Error(n(409));sD(b,_,null,null)},lD.prototype.unmount=Gj.prototype.unmount=function(){var b=this._internalRoot;if(b!==null){this._internalRoot=null;var _=b.containerInfo;Cv(function(){sD(null,b,null,null)}),_[qp]=null}};function lD(b){this._internalRoot=b}lD.prototype.unstable_scheduleHydration=function(b){if(b){var _=ch();b={blockedOn:null,target:b,priority:_};for(var R=0;R<$a.length&&_!==0&&_<$a[R].priority;R++);$a.splice(R,0,b),R===0&&hh(b)}};function Yj(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)}function uD(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11&&(b.nodeType!==8||b.nodeValue!==" react-mount-point-unstable "))}function jae(){}function $7e(b,_,R,F,K){if(K){if(typeof F=="function"){var Z=F;F=function(){var Xe=aD(ue);Z.call(Xe)}}var ue=$ae(_,F,b,0,null,!1,!1,"",jae);return b._reactRootContainer=ue,b[qp]=ue.current,jC(b.nodeType===8?b.parentNode:b),Cv(),ue}for(;K=b.lastChild;)b.removeChild(K);if(typeof F=="function"){var ke=F;F=function(){var Xe=aD($e);ke.call(Xe)}}var $e=qj(b,0,!1,null,null,!1,!1,"",jae);return b._reactRootContainer=$e,b[qp]=$e.current,jC(b.nodeType===8?b.parentNode:b),Cv(function(){sD(_,$e,R,F)}),$e}function cD(b,_,R,F,K){var Z=R._reactRootContainer;if(Z){var ue=Z;if(typeof K=="function"){var ke=K;K=function(){var $e=aD(ue);ke.call($e)}}sD(_,ue,b,K)}else ue=$7e(R,_,b,K,F);return aD(ue)}Lo=function(b){switch(b.tag){case 3:var _=b.stateNode;if(_.current.memoizedState.isDehydrated){var R=Fe(_.pendingLanes);R!==0&&(rr(_,R|1),uu(_,xr()),(Wr&6)===0&&(Fw=xr()+500,zg()))}break;case 13:Cv(function(){var F=Kp(b,1);if(F!==null){var K=wl();qd(F,b,1,K)}}),Wj(b,1)}},Ma=function(b){if(b.tag===13){var _=Kp(b,134217728);if(_!==null){var R=wl();qd(_,b,134217728,R)}Wj(b,134217728)}},jo=function(b){if(b.tag===13){var _=Gg(b),R=Kp(b,_);if(R!==null){var F=wl();qd(R,b,_,F)}Wj(b,_)}},ch=function(){return Xt},Pc=function(b,_){var R=Xt;try{return Xt=b,_()}finally{Xt=R}},er=function(b,_,R){switch(_){case"input":if(ne(b,R),_=R.name,R.type==="radio"&&_!=null){for(R=b;R.parentNode;)R=R.parentNode;for(R=R.querySelectorAll("input[name="+JSON.stringify(""+_)+'][type="radio"]'),_=0;_<R.length;_++){var F=R[_];if(F!==b&&F.form===b.form){var K=AI(F);if(!K)throw Error(n(90));le(F),ne(F,K)}}}break;case"textarea":Ae(b,R);break;case"select":_=R.value,_!=null&&Se(b,!!R.multiple,_,!1)}},Tr=jj,An=Cv;var F7e={usingClientEntryPoint:!1,Events:[UC,Cw,AI,sr,pi,jj]},nS={findFiberByHostInstance:gv,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L7e={bundleType:nS.bundleType,version:nS.version,rendererPackageName:nS.rendererPackageName,rendererConfig:nS.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){return b=Fd(b),b===null?null:b.stateNode},findFiberByHostInstance:nS.findFiberByHostInstance||M7e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dD=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dD.isDisabled&&dD.supportsFiber)try{nu=dD.inject(L7e),$o=dD}catch{}}return cu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F7e,cu.createPortal=function(b,_){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yj(_))throw Error(n(200));return N7e(b,_,null,R)},cu.createRoot=function(b,_){if(!Yj(b))throw Error(n(299));var R=!1,F="",K=Lae;return _!=null&&(_.unstable_strictMode===!0&&(R=!0),_.identifierPrefix!==void 0&&(F=_.identifierPrefix),_.onRecoverableError!==void 0&&(K=_.onRecoverableError)),_=qj(b,1,!1,null,null,R,!1,F,K),b[qp]=_.current,jC(b.nodeType===8?b.parentNode:b),new Gj(_)},cu.findDOMNode=function(b){if(b==null)return null;if(b.nodeType===1)return b;var _=b._reactInternals;if(_===void 0)throw typeof b.render=="function"?Error(n(188)):(b=Object.keys(b).join(","),Error(n(268,b)));return b=Fd(_),b=b===null?null:b.stateNode,b},cu.flushSync=function(b){return Cv(b)},cu.hydrate=function(b,_,R){if(!uD(_))throw Error(n(200));return cD(null,b,_,!0,R)},cu.hydrateRoot=function(b,_,R){if(!Yj(b))throw Error(n(405));var F=R!=null&&R.hydratedSources||null,K=!1,Z="",ue=Lae;if(R!=null&&(R.unstable_strictMode===!0&&(K=!0),R.identifierPrefix!==void 0&&(Z=R.identifierPrefix),R.onRecoverableError!==void 0&&(ue=R.onRecoverableError)),_=$ae(_,null,b,1,R??null,K,!1,Z,ue),b[qp]=_.current,jC(b),F)for(b=0;b<F.length;b++)R=F[b],K=R._getVersion,K=K(R._source),_.mutableSourceEagerHydrationData==null?_.mutableSourceEagerHydrationData=[R,K]:_.mutableSourceEagerHydrationData.push(R,K);return new lD(_)},cu.render=function(b,_,R){if(!uD(_))throw Error(n(200));return cD(null,b,_,!1,R)},cu.unmountComponentAtNode=function(b){if(!uD(b))throw Error(n(40));return b._reactRootContainer?(Cv(function(){cD(null,null,b,!1,function(){b._reactRootContainer=null,b[qp]=null})}),!0):!1},cu.unstable_batchedUpdates=jj,cu.unstable_renderSubtreeIntoContainer=function(b,_,R,F){if(!uD(R))throw Error(n(200));if(b==null||b._reactInternals===void 0)throw Error(n(38));return cD(b,_,R,!1,F)},cu.version="18.3.1-next-f1338f8080-20240426",cu}var Gae;function Pxe(){if(Gae)return Qj.exports;Gae=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qj.exports=Y7e(),Qj.exports}var Yae;function K7e(){if(Yae)return fD;Yae=1;var e=Pxe();return fD.createRoot=e.createRoot,fD.hydrateRoot=e.hydrateRoot,fD}var X7e=K7e();const Q7e=ms(X7e);var Dh=function(){return Dh=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Dh.apply(this,arguments)};function lk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ON(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function J7e(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var B3="right-scroll-bar-position",z3="width-before-scroll-bar",Z7e="with-scroll-bars-hidden",eze="--removed-body-scroll-bar-size";function eB(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tze(e,t){var n=k.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var nze=typeof window<"u"?k.useLayoutEffect:k.useEffect,Kae=new WeakMap;function rze(e,t){var n=tze(null,function(r){return e.forEach(function(i){return eB(i,r)})});return nze(function(){var r=Kae.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(a){o.has(a)||eB(a,null)}),o.forEach(function(a){i.has(a)||eB(a,s)})}Kae.set(n,e)},[e]),n}function ize(e){return e}function oze(e,t){t===void 0&&(t=ize);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var c=s;s=[],c.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),n}}}};return i}function sze(e){e===void 0&&(e={});var t=oze(null);return t.options=Dh({async:!0,ssr:!1},e),t}var Oxe=function(e){var t=e.sideCar,n=lk(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return k.createElement(r,Dh({},n))};Oxe.isSideCarExport=!0;function aze(e,t){return e.useMedium(t),Oxe}var Nxe=sze(),tB=function(){},B6=k.forwardRef(function(e,t){var n=k.useRef(null),r=k.useState({onScrollCapture:tB,onWheelCapture:tB,onTouchMoveCapture:tB}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,h=e.noRelative,m=e.noIsolation,p=e.inert,g=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,w=e.gapMode,E=lk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,S=rze([n,t]),T=Dh(Dh({},E),i);return k.createElement(k.Fragment,null,c&&k.createElement(C,{sideCar:Nxe,removeScrollBar:u,shards:d,noRelative:h,noIsolation:m,inert:p,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:w}),s?k.cloneElement(k.Children.only(a),Dh(Dh({},T),{ref:S})):k.createElement(v,Dh({},T,{className:l,ref:S}),a))});B6.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};B6.classNames={fullWidth:z3,zeroRight:B3};var lze=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uze(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=lze();return t&&e.setAttribute("nonce",t),e}function cze(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function dze(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fze=function(){var e=0,t=null;return{add:function(n){e==0&&(t=uze())&&(cze(t,n),dze(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hze=function(){var e=fze();return function(t,n){k.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Mxe=function(){var e=hze(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},pze={left:0,top:0,right:0,gap:0},nB=function(e){return parseInt(e||"",10)||0},mze=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[nB(n),nB(r),nB(i)]},gze=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pze;var t=mze(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},yze=Mxe(),Ux="data-scroll-locked",vze=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Z7e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ux,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(B3,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(z3,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(B3," .").concat(B3,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(z3," .").concat(z3,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ux,`] {
    `).concat(eze,": ").concat(a,`px;
  }
`)},Xae=function(){var e=parseInt(document.body.getAttribute(Ux)||"0",10);return isFinite(e)?e:0},bze=function(){k.useEffect(function(){return document.body.setAttribute(Ux,(Xae()+1).toString()),function(){var e=Xae()-1;e<=0?document.body.removeAttribute(Ux):document.body.setAttribute(Ux,e.toString())}},[])},wze=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;bze();var o=k.useMemo(function(){return gze(i)},[i]);return k.createElement(yze,{styles:vze(o,!t,i,n?"":"!important")})},wV=!1;if(typeof window<"u")try{var hD=Object.defineProperty({},"passive",{get:function(){return wV=!0,!0}});window.addEventListener("test",hD,hD),window.removeEventListener("test",hD,hD)}catch{wV=!1}var jw=wV?{passive:!1}:!1,xze=function(e){return e.tagName==="TEXTAREA"},$xe=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!xze(e)&&n[t]==="visible")},_ze=function(e){return $xe(e,"overflowY")},Eze=function(e){return $xe(e,"overflowX")},Qae=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Fxe(e,r);if(i){var o=Lxe(e,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Cze=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Sze=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Fxe=function(e,t){return e==="v"?_ze(t):Eze(t)},Lxe=function(e,t){return e==="v"?Cze(t):Sze(t)},Tze=function(e,t){return e==="h"&&t==="rtl"?-1:1},Aze=function(e,t,n,r,i){var o=Tze(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,l=t.contains(a),u=!1,c=s>0,d=0,f=0;do{if(!a)break;var h=Lxe(e,a),m=h[0],p=h[1],g=h[2],y=p-g-o*m;(m||y)&&Fxe(e,a)&&(d+=y,f+=m);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&Math.abs(d)<1||!c&&Math.abs(f)<1)&&(u=!0),u},pD=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Jae=function(e){return[e.deltaX,e.deltaY]},Zae=function(e){return e&&"current"in e?e.current:e},kze=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Rze=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ize=0,Bw=[];function Dze(e){var t=k.useRef([]),n=k.useRef([0,0]),r=k.useRef(),i=k.useState(Ize++)[0],o=k.useState(Mxe)[0],s=k.useRef(e);k.useEffect(function(){s.current=e},[e]),k.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var p=J7e([e.lockRef.current],(e.shards||[]).map(Zae),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=k.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!s.current.allowPinchZoom;var y=pD(p),v=n.current,w="deltaX"in p?p.deltaX:v[0]-y[0],E="deltaY"in p?p.deltaY:v[1]-y[1],C,S=p.target,T=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in p&&T==="h"&&S.type==="range")return!1;var A=Qae(T,S);if(!A)return!0;if(A?C=T:(C=T==="v"?"h":"v",A=Qae(T,S)),!A)return!1;if(!r.current&&"changedTouches"in p&&(w||E)&&(r.current=C),!C)return!0;var D=r.current||C;return Aze(D,g,p,D==="h"?w:E)},[]),l=k.useCallback(function(p){var g=p;if(!(!Bw.length||Bw[Bw.length-1]!==o)){var y="deltaY"in g?Jae(g):pD(g),v=t.current.filter(function(C){return C.name===g.type&&(C.target===g.target||g.target===C.shadowParent)&&kze(C.delta,y)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var w=(s.current.shards||[]).map(Zae).filter(Boolean).filter(function(C){return C.contains(g.target)}),E=w.length>0?a(g,w[0]):!s.current.noIsolation;E&&g.cancelable&&g.preventDefault()}}},[]),u=k.useCallback(function(p,g,y,v){var w={name:p,delta:g,target:y,should:v,shadowParent:Pze(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(E){return E!==w})},1)},[]),c=k.useCallback(function(p){n.current=pD(p),r.current=void 0},[]),d=k.useCallback(function(p){u(p.type,Jae(p),p.target,a(p,e.lockRef.current))},[]),f=k.useCallback(function(p){u(p.type,pD(p),p.target,a(p,e.lockRef.current))},[]);k.useEffect(function(){return Bw.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,jw),document.addEventListener("touchmove",l,jw),document.addEventListener("touchstart",c,jw),function(){Bw=Bw.filter(function(p){return p!==o}),document.removeEventListener("wheel",l,jw),document.removeEventListener("touchmove",l,jw),document.removeEventListener("touchstart",c,jw)}},[]);var h=e.removeScrollBar,m=e.inert;return k.createElement(k.Fragment,null,m?k.createElement(o,{styles:Rze(i)}):null,h?k.createElement(wze,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Pze(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Oze=aze(Nxe,Dze);var g_=k.forwardRef(function(e,t){return k.createElement(B6,Dh({},e,{ref:t,sideCar:Oze}))});g_.classNames=B6.classNames;function Pi(e){return Object.keys(e)}function rB(e){return e&&typeof e=="object"&&!Array.isArray(e)}function wY(e,t){const n={...e},r=t;return rB(e)&&rB(t)&&Object.keys(t).forEach(i=>{rB(r[i])&&i in e?n[i]=wY(n[i],r[i]):n[i]=r[i]}),n}function Nze(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function Mze(e){return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:e.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function F2(e){const t=Mze(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function iB(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function jxe(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const i=`${r/16}${e}`;return t?iB(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(o=>n(o)).join(",");if(r.includes(" "))return r.split(" ").map(o=>n(o)).join(" ");if(r.includes(e))return t?iB(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const o=`${Number(i)/16}${e}`;return t?iB(o):o}}return r}return n}const Ge=jxe("rem",{shouldScale:!0}),NN=jxe("em");function Fy(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function Bxe(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(r=>t.test(r))}return!1}function hg(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==k.Fragment:!1}function Ns(e){const t=k.createContext(null);return[({children:i,value:o})=>x.jsx(t.Provider,{value:o,children:i}),()=>{const i=k.useContext(t);if(i===null)throw new Error(e);return i}]}function pg(e=null){const t=k.createContext(e);return[({children:i,value:o})=>x.jsx(t.Provider,{value:o,children:i}),()=>k.useContext(t)]}function MN(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function $N(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function $ze(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function Fze(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function Lze(e,t,n){return $N(e,n)===$N(t,n)}function xY({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:o="rtl",orientation:s}){return a=>{n?.(a);const l=Array.from($N(a.currentTarget,e)?.querySelectorAll(t)||[]).filter(m=>Lze(a.currentTarget,m,e)),u=l.findIndex(m=>a.currentTarget===m),c=Fze(u,l,r),d=$ze(u,l,r),f=o==="rtl"?d:c,h=o==="rtl"?c:d;switch(a.key){case"ArrowRight":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"ArrowLeft":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowUp":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[c].focus(),i&&l[c].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=l.length-1;!l[m].disabled&&l[m].focus();break}}}}const jze={app:100,modal:200,popover:300,overlay:400,max:9999};function Fu(e){return jze[e]}const FN=()=>{};function Bze(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||FN:n=>{n.key==="Escape"&&(e(n),t.onTrigger?.())}}function mn(e,t="size",n=!0){if(e!==void 0)return Bxe(e)?n?Ge(e):e:`var(--${t}-${e})`}function Bi(e){return mn(e,"mantine-spacing")}function qr(e){return e===void 0?"var(--mantine-radius-default)":mn(e,"mantine-radius")}function vo(e){return mn(e,"mantine-font-size")}function zxe(e){return mn(e,"mantine-line-height",!1)}function _Y(e){if(e)return mn(e,"mantine-shadow",!1)}function Xs(e,t){return n=>{e?.(n),t?.(n)}}function EY(e,t){return e in t?F2(t[e]):F2(e)}function L2(e,t){const n=e.map(r=>({value:r,px:EY(r,t)}));return n.sort((r,i)=>r.px-i.px),n}function cf(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function zze(e,t,n){return n?Array.from($N(n,t)?.querySelectorAll(e)||[]).findIndex(r=>r===n):null}function Uze(){const[e,t]=k.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function od(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function V0(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function Vze(e,t){if(e===t||Number.isNaN(e)&&Number.isNaN(t))return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;const n=Object.keys(e),{length:r}=n;if(r!==Object.keys(t).length)return!1;for(let i=0;i<r;i+=1){const o=n[i];if(!(o in t)||e[o]!==t[o]&&!(Number.isNaN(e[o])&&Number.isNaN(t[o])))return!1}return!0}function b0(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e}),k.useMemo(()=>(...n)=>t.current?.(...n),[])}function z6(e,t){const n=typeof t=="number"?t:t.delay,r=typeof t=="number"?!1:t.flushOnUnmount,i=b0(e),o=k.useRef(0),s=k.useRef(()=>{}),a=Object.assign(k.useCallback((...l)=>{window.clearTimeout(o.current);const u=()=>{o.current!==0&&(o.current=0,i(...l))};s.current=u,a.flush=u,o.current=window.setTimeout(u,n)},[i,n]),{flush:s.current});return k.useEffect(()=>()=>{window.clearTimeout(o.current),r&&a.flush()},[a,r]),a}const ele=["mousedown","touchstart"];function Uxe(e,t,n){const r=k.useRef(null);return k.useEffect(()=>{const i=o=>{const{target:s}=o??{};if(Array.isArray(n)){const a=s?.hasAttribute("data-ignore-outside-clicks")||!document.body.contains(s)&&s.tagName!=="HTML";n.every(u=>!!u&&!o.composedPath().includes(u))&&!a&&e()}else r.current&&!r.current.contains(s)&&e()};return(t||ele).forEach(o=>document.addEventListener(o,i)),()=>{(t||ele).forEach(o=>document.removeEventListener(o,i))}},[r,e,n]),r}function Hze({timeout:e=2e3}={}){const[t,n]=k.useState(null),[r,i]=k.useState(!1),[o,s]=k.useState(null),a=c=>{window.clearTimeout(o),s(window.setTimeout(()=>i(!1),e)),i(c)};return{copy:c=>{"clipboard"in navigator?navigator.clipboard.writeText(c).then(()=>a(!0)).catch(d=>n(d)):n(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{i(!1),n(null),window.clearTimeout(o)},error:t,copied:r}}function qze(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Wze(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function j2(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=k.useState(n?t:Wze(e)),o=k.useRef(null);return k.useEffect(()=>{if("matchMedia"in window)return o.current=window.matchMedia(e),i(o.current.matches),qze(o.current,s=>i(s.matches))},[e]),r}function Gze(e,t){return j2("(prefers-color-scheme: dark)",e==="dark",t)?"dark":"light"}function Vxe(e,t,n={leading:!1}){const[r,i]=k.useState(e),o=k.useRef(!1),s=k.useRef(null),a=k.useRef(!1),l=()=>window.clearTimeout(s.current);return k.useEffect(()=>{o.current&&(!a.current&&n.leading?(a.current=!0,i(e)):(l(),s.current=window.setTimeout(()=>{a.current=!1,i(e)},t)))},[e,n.leading,t]),k.useEffect(()=>(o.current=!0,l),[]),[r,l]}const Ly=typeof document<"u"?k.useLayoutEffect:k.useEffect;function Hl(e,t){const n=k.useRef(!1);k.useEffect(()=>()=>{n.current=!1},[]),k.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function Hxe({opened:e,shouldReturnFocus:t=!0}){const n=k.useRef(null),r=()=>{n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&n.current?.focus({preventScroll:!0})};return Hl(()=>{let i=-1;const o=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",o),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",o)}},[e,t]),r}const Yze=/input|select|textarea|button|object/,qxe="a, input, select, textarea, button, object, [tabindex]";function Kze(e){return e.style.display==="none"}function Xze(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(Kze(n))return!1;n=n.parentNode}return!0}function Wxe(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function xV(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(Wxe(e));return(Yze.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&Xze(e)}function Gxe(e){const t=Wxe(e);return(Number.isNaN(t)||t>=0)&&xV(e)}function Qze(e){return Array.from(e.querySelectorAll(qxe)).filter(Gxe)}function Jze(e,t){const n=Qze(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();let o=r===i.activeElement||e===i.activeElement;const s=i.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(o=n.filter(c=>c.getAttribute("type")==="radio"&&c.getAttribute("name")===s.getAttribute("name")).includes(r)),!o)return;t.preventDefault();const l=n[t.shiftKey?n.length-1:0];l&&l.focus()}function Zze(e=!0){const t=k.useRef(null),n=i=>{let o=i.querySelector("[data-autofocus]");if(!o){const s=Array.from(i.querySelectorAll(qxe));o=s.find(Gxe)||s.find(xV)||null,!o&&xV(i)&&(o=i)}o&&o.focus({preventScroll:!0})},r=k.useCallback(i=>{e&&i!==null&&t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),t.current=i):t.current=null)},[e]);return k.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const i=o=>{o.key==="Tab"&&t.current&&Jze(t.current,o)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),r}const eUe=e=>(e+1)%1e6;function tUe(){const[,e]=k.useReducer(eUe,0);return e}const nUe=dn.useId||(()=>{});function rUe(){const e=nUe();return e?`mantine-${e.replace(/:/g,"")}`:""}function Pa(e){const t=rUe(),[n,r]=k.useState(t);return Ly(()=>{r(V0())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function Yxe(e,t,n){k.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function LN(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function Kxe(...e){const t=new Map;return n=>{if(e.forEach(r=>{const i=LN(r,n);i&&t.set(r,i)}),t.size>0)return()=>{e.forEach(r=>{const i=t.get(r);i?i():LN(r,null)}),t.clear()}}}function xo(...e){return k.useCallback(Kxe(...e),e)}function Xxe(e){return{x:od(e.x,0,1),y:od(e.y,0,1)}}function uk(e,t,n="ltr"){const r=k.useRef(null),i=k.useRef(!1),o=k.useRef(!1),s=k.useRef(0),[a,l]=k.useState(!1);return k.useEffect(()=>{i.current=!0},[]),k.useEffect(()=>{const u=r.current,c=({x:w,y:E})=>{cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>{if(i.current&&u){u.style.userSelect="none";const C=u.getBoundingClientRect();if(C.width&&C.height){const S=od((w-C.left)/C.width,0,1);e({x:n==="ltr"?S:1-S,y:od((E-C.top)/C.height,0,1)})}}})},d=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",m),document.addEventListener("touchmove",v),document.addEventListener("touchend",m)},f=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",m),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",m)},h=()=>{!o.current&&i.current&&(o.current=!0,typeof t?.onScrubStart=="function"&&t.onScrubStart(),l(!0),d())},m=()=>{o.current&&i.current&&(o.current=!1,l(!1),f(),setTimeout(()=>{typeof t?.onScrubEnd=="function"&&t.onScrubEnd()},0))},p=w=>{h(),w.preventDefault(),g(w)},g=w=>c({x:w.clientX,y:w.clientY}),y=w=>{w.cancelable&&w.preventDefault(),h(),v(w)},v=w=>{w.cancelable&&w.preventDefault(),c({x:w.changedTouches[0].clientX,y:w.changedTouches[0].clientY})};return u?.addEventListener("mousedown",p),u?.addEventListener("touchstart",y,{passive:!1}),()=>{u&&(u.removeEventListener("mousedown",p),u.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function zi({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,o]=k.useState(t!==void 0?t:n),s=(a,...l)=>{o(a),r?.(a,...l)};return e!==void 0?[e,r,!0]:[i,s,!1]}function Qg(e,t){const n=t-e+1;return Array.from({length:n},(r,i)=>i+e)}const mD="dots";function iUe({total:e,siblings:t=1,boundaries:n=1,page:r,initialPage:i=1,onChange:o}){const s=Math.max(Math.trunc(e),0),[a,l]=zi({value:r,onChange:o,defaultValue:i,finalValue:i}),u=p=>{p<=0?l(1):p>s?l(s):l(p)},c=()=>u(a+1),d=()=>u(a-1),f=()=>u(1),h=()=>u(s);return{range:k.useMemo(()=>{if(t*2+3+n*2>=s)return Qg(1,s);const g=Math.max(a-t,n),y=Math.min(a+t,s-n),v=g>n+2,w=y<s-(n+1);if(!v&&w){const E=t*2+n+2;return[...Qg(1,E),mD,...Qg(s-(n-1),s)]}if(v&&!w){const E=n+1+2*t;return[...Qg(1,n),mD,...Qg(s-E,s)]}return[...Qg(1,n),mD,...Qg(g,y),mD,...Qg(s-n+1,s)]},[s,t,a]),active:a,setPage:u,next:c,previous:d,first:f,last:h}}function U6(e,t){return j2("(prefers-reduced-motion: reduce)",e,t)}const oUe={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function R1(e){const t=k.useRef(0),n=k.useRef(null),[r,i]=k.useState(oUe),o=k.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const a=s[0];a&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{if(n.current){const l=a.borderBoxSize?.[0]||a.contentBoxSize?.[0];if(l){const u=l.inlineSize,c=l.blockSize;i({width:u,height:c,x:a.contentRect.x,y:a.contentRect.y,top:a.contentRect.top,left:a.contentRect.left,bottom:a.contentRect.bottom,right:a.contentRect.right})}else i(a.contentRect)}}))}):null,[]);return k.useEffect(()=>(n.current&&o?.observe(n.current,e),()=>{o?.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}function sUe(e){const[t,{width:n,height:r}]=R1(e);return{ref:t,width:n,height:r}}function aUe(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(!Vze(e[n],t[n]))return!1;return!0}function lUe(e){const t=k.useRef([]),n=k.useRef(0);return aUe(t.current,e)||(t.current=e,n.current+=1),[n.current]}function uUe(e,t){k.useEffect(e,lUe(t))}function cUe(){const[e,t]=k.useState(!1),n=k.useRef(null),r=k.useCallback(()=>t(!0),[]),i=k.useCallback(()=>t(!1),[]);return k.useEffect(()=>{const o=n.current;if(o)return o.addEventListener("mouseenter",r),o.addEventListener("mouseleave",i),()=>{o?.removeEventListener("mouseenter",r),o?.removeEventListener("mouseleave",i)}},[n.current]),{ref:n,hovered:e}}function CY(e=!1,t){const{onOpen:n,onClose:r}=t||{},[i,o]=k.useState(e),s=k.useCallback(()=>{o(u=>u||(n?.(),!0))},[n]),a=k.useCallback(()=>{o(u=>u&&(r?.(),!1))},[r]),l=k.useCallback(()=>{i?a():s()},[a,s,i]);return[i,{open:s,close:a,toggle:l}]}function dUe(e,t,n={autoInvoke:!1}){const r=k.useRef(null),i=k.useCallback((...s)=>{r.current||(r.current=window.setTimeout(()=>{e(s),r.current=null},t))},[t]),o=k.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return k.useEffect(()=>(n.autoInvoke&&i(),o),[o,i]),{start:i,clear:o}}function fUe(e){const t=k.useRef(void 0);return k.useEffect(()=>{t.current=e},[e]),t.current}function hUe(){return navigator.userAgent.includes("OPR")}function pUe(){const[e,t]=k.useState(!1);Ly(()=>{t(typeof window<"u"&&!hUe()&&"EyeDropper"in window)},[]);const n=k.useCallback((r={})=>e?new window.EyeDropper().open(r):Promise.resolve(void 0),[e]);return{supported:e,open:n}}function mUe(e,t,n){const r=k.useRef(null),i=k.useRef(null);return k.useEffect(()=>{const o=typeof n=="function"?n():n;return(o||i.current)&&(r.current=new MutationObserver(e),r.current.observe(o||i.current,t)),()=>{r.current?.disconnect()}},[e,t]),i}function gUe(){const[e,t]=k.useState(!1);return k.useEffect(()=>t(!0),[]),e}function yUe(e,t){const n=b0(e),r=k.useRef(null),i=k.useRef(null),o=k.useRef(!0),s=k.useRef(t),a=k.useRef(-1),l=()=>window.clearTimeout(a.current),u=k.useCallback((...f)=>{n(...f),r.current=f,i.current=f,o.current=!1},[n]),c=k.useCallback(()=>{r.current&&r.current!==i.current?(u(...r.current),a.current=window.setTimeout(c,s.current)):o.current=!0},[u]),d=k.useCallback((...f)=>{o.current?(u(...f),a.current=window.setTimeout(c,s.current)):r.current=f},[u,c]);return k.useEffect(()=>{s.current=t},[t]),[d,l]}function vUe(e,t){return yUe(e,t)[0]}function bUe(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}function wUe(e){function t(r){const i=Object.keys(r).reduce((o,s)=>(o[`${e}:${s}`]=a=>r[s](a.detail),o),{});Ly(()=>(Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o]),window.addEventListener(o,i[o])}),()=>Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o])})),[i])}function n(r){return(...i)=>bUe(`${e}:${String(r)}`,i[0])}return[t,n]}var xUe={};function Qxe(){return typeof process<"u"&&xUe?"production":"development"}function _V(e,t){return t.length===0?e:t.reduce((n,r)=>Math.abs(r-e)<Math.abs(n-e)?r:n)}function V6(e){const t=dn.version;return typeof dn.version!="string"||t.startsWith("18.")?e?.ref:e?.props?.ref}function Jxe(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Jxe(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $t(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Jxe(e))&&(r&&(r+=" "),r+=t);return r}const _Ue={};function EUe(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,i])=>{t[r]?t[r]=$t(t[r],i):t[r]=i})}),t}function H6({theme:e,classNames:t,props:n,stylesCtx:r}){const o=(Array.isArray(t)?t:[t]).map(s=>typeof s=="function"?s(e,n,r):s||_Ue);return EUe(o)}function jN({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((o,s)=>typeof s=="function"?{...o,...s(e,n,r)}:{...o,...s},{})}const SY=k.createContext(null);function mg(){const e=k.useContext(SY);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function CUe(){return mg().cssVariablesResolver}function SUe(){return mg().classNamesPrefix}function q6(){return mg().getStyleNonce}function TUe(){return mg().withStaticClasses}function AUe(){return mg().headless}function kUe(){return mg().stylesTransform?.sx}function RUe(){return mg().stylesTransform?.styles}function Zxe(){return mg().env||"default"}function IUe(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function DUe(e){let t=e.replace("#","");if(t.length===3){const s=t.split("");t=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(t.length===8){const s=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:s}}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,o=n&255;return{r,g:i,b:o,a:1}}function PUe(e){const[t,n,r,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:i===void 0?1:i}}function OUe(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,o=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*o-1))*i,l=r/60,u=a*(1-Math.abs(l%2-1)),c=o-a/2;let d,f,h;return l>=0&&l<1?(d=a,f=u,h=0):l>=1&&l<2?(d=u,f=a,h=0):l>=2&&l<3?(d=0,f=a,h=u):l>=3&&l<4?(d=0,f=u,h=a):l>=4&&l<5?(d=u,f=0,h=a):(d=a,f=0,h=u),{r:Math.round((d+c)*255),g:Math.round((f+c)*255),b:Math.round((h+c)*255),a:s||1}}function W6(e){return IUe(e)?DUe(e):e.startsWith("rgb")?PUe(e):e.startsWith("hsl")?OUe(e):{r:0,g:0,b:0,a:1}}function nT(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:i,a:o}=W6(e),s=1-t,a=l=>Math.round(l*s);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${o})`}function B2(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function oB(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function NUe(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function MUe(e){if(e.startsWith("oklch("))return(NUe(e)||0)/100;const{r:t,g:n,b:r}=W6(e),i=t/255,o=n/255,s=r/255,a=oB(i),l=oB(o),u=oB(s);return .2126*a+.7152*l+.0722*u}function iS(e,t=.179){return e.startsWith("var(")?!1:MUe(e)>t}function Bf({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:iS(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:iS(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:iS(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,i]=e.split("."),o=i?Number(i):void 0,s=r in t.colors;if(s){const a=o!==void 0?t.colors[r][o]:t.colors[r][B2(t,n||"light")];return{color:r,value:a,shade:o,isThemeColor:s,isLight:iS(a,t.luminanceThreshold),variable:i?`--mantine-color-${r}-${o}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:s,isLight:iS(e,t.luminanceThreshold),shade:o,variable:void 0}}function ti(e,t){const n=Bf({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function EV(e,t){const n={from:e?.from||t.defaultGradient.from,to:e?.to||t.defaultGradient.to,deg:e?.deg??t.defaultGradient.deg??0},r=ti(n.from,t),i=ti(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function Eh(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const o=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${o}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:i}=W6(e);return`rgba(${n}, ${r}, ${i}, ${t})`}const zw=Eh,$Ue=({color:e,theme:t,variant:n,gradient:r,autoContrast:i})=>{const o=Bf({color:e,theme:t}),s=typeof i=="boolean"?i:t.autoContrast;if(n==="filled"){const a=s&&o.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return o.isThemeColor?o.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${Ge(1)} solid transparent`}:{background:`var(--mantine-color-${o.color}-${o.shade})`,hover:`var(--mantine-color-${o.color}-${o.shade===9?8:o.shade+1})`,color:a,border:`${Ge(1)} solid transparent`}:{background:e,hover:nT(e,.1),color:a,border:`${Ge(1)} solid transparent`}}if(n==="light"){if(o.isThemeColor){if(o.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ge(1)} solid transparent`};const a=t.colors[o.color][o.shade];return{background:Eh(a,.1),hover:Eh(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ge(1)} solid transparent`}}return{background:Eh(e,.1),hover:Eh(e,.12),color:e,border:`${Ge(1)} solid transparent`}}if(n==="outline")return o.isThemeColor?o.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${Ge(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Eh(t.colors[o.color][o.shade],.05),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${Ge(1)} solid var(--mantine-color-${o.color}-${o.shade})`}:{background:"transparent",hover:Eh(e,.05),color:e,border:`${Ge(1)} solid ${e}`};if(n==="subtle"){if(o.isThemeColor){if(o.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ge(1)} solid transparent`};const a=t.colors[o.color][o.shade];return{background:"transparent",hover:Eh(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ge(1)} solid transparent`}}return{background:"transparent",hover:Eh(e,.12),color:e,border:`${Ge(1)} solid transparent`}}return n==="transparent"?o.isThemeColor?o.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${Ge(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ge(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${Ge(1)} solid transparent`}:n==="white"?o.isThemeColor?o.shade===void 0?{background:"var(--mantine-color-white)",hover:nT(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${Ge(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:nT(t.white,.01),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${Ge(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:nT(t.white,.01),color:e,border:`${Ge(1)} solid transparent`}:n==="gradient"?{background:EV(r,t),hover:EV(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Ge(1)} solid var(--mantine-color-default-border)`}:{}},FUe={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},tle="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",TY={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:FUe,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:$Ue,autoContrast:!1,luminanceThreshold:.3,fontFamily:tle,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:tle,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Ge(34),lineHeight:"1.3"},h2:{fontSize:Ge(26),lineHeight:"1.35"},h3:{fontSize:Ge(22),lineHeight:"1.4"},h4:{fontSize:Ge(18),lineHeight:"1.45"},h5:{fontSize:Ge(16),lineHeight:"1.5"},h6:{fontSize:Ge(14),lineHeight:"1.5"}}},fontSizes:{xs:Ge(12),sm:Ge(14),md:Ge(16),lg:Ge(18),xl:Ge(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Ge(2),sm:Ge(4),md:Ge(8),lg:Ge(16),xl:Ge(32)},spacing:{xs:Ge(10),sm:Ge(12),md:Ge(16),lg:Ge(20),xl:Ge(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Ge(1)} ${Ge(3)} rgba(0, 0, 0, 0.05), 0 ${Ge(1)} ${Ge(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Ge(1)} ${Ge(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ge(10)} ${Ge(15)} ${Ge(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ge(7)} ${Ge(7)} ${Ge(-5)}`,md:`0 ${Ge(1)} ${Ge(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ge(20)} ${Ge(25)} ${Ge(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ge(10)} ${Ge(10)} ${Ge(-5)}`,lg:`0 ${Ge(1)} ${Ge(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ge(28)} ${Ge(23)} ${Ge(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ge(12)} ${Ge(12)} ${Ge(-7)}`,xl:`0 ${Ge(1)} ${Ge(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ge(36)} ${Ge(28)} ${Ge(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ge(17)} ${Ge(17)} ${Ge(-7)}`},other:{},components:{}};function nle(e){return e==="auto"||e==="dark"||e==="light"}function LUe({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return nle(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&nle(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const jUe="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",rle="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function sB(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function ile(e){if(!(e.primaryColor in e.colors))throw new Error(jUe);if(typeof e.primaryShade=="object"&&(!sB(e.primaryShade.dark)||!sB(e.primaryShade.light)))throw new Error(rle);if(typeof e.primaryShade=="number"&&!sB(e.primaryShade))throw new Error(rle)}function BUe(e,t){if(!t)return ile(e),e;const n=wY(e,t);return t.fontFamily&&!t.headings?.fontFamily&&(n.headings.fontFamily=t.fontFamily),ile(n),n}const AY=k.createContext(null),zUe=()=>k.useContext(AY)||TY;function uo(){const e=k.useContext(AY);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function e_e({theme:e,children:t,inherit:n=!0}){const r=zUe(),i=k.useMemo(()=>BUe(n?r:TY,e),[e,r,n]);return x.jsx(AY.Provider,{value:i,children:t})}e_e.displayName="@mantine/core/MantineThemeProvider";function UUe(){const e=uo(),t=q6(),n=Pi(e.breakpoints).reduce((r,i)=>{const o=e.breakpoints[i].includes("px"),s=F2(e.breakpoints[i]),a=o?`${s-.1}px`:NN(s-.1),l=o?`${s}px`:NN(s);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return x.jsx("style",{"data-mantine-styles":"classes",nonce:t?.(),dangerouslySetInnerHTML:{__html:n}})}function aB(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function oS(e,t){return(Array.isArray(e)?e:[e]).reduce((r,i)=>`${i}{${r}}`,t)}function VUe(e,t){const n=aB(e.variables),r=n?oS(t,n):"",i=aB(e.dark),o=aB(e.light),s=i?oS(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,i):"",a=o?oS(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,o):"";return`${r}${s}${a}`}function Ep({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&Bf({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function ole(e,t){return Ep({color:e.colors[e.primaryColor][B2(e,t)],theme:e,autoContrast:null})}function gD({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(n==="light"){const a=B2(e,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:zw(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:zw(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:zw(e.colors[t][a],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...l}:l}const o=B2(e,"dark"),s={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${o})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${o===9?8:o+1})`,[`--mantine-color-${r}-light`]:zw(e.colors[t][Math.max(0,o-2)],.15),[`--mantine-color-${r}-light-hover`]:zw(e.colors[t][Math.max(0,o-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(o-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(o-4,0)})`,[`--mantine-color-${r}-outline-hover`]:zw(e.colors[t][Math.max(o-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...s}:s}function HUe(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Uw(e,t,n){Pi(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const t_e=e=>{const t=B2(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:Ge(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":ole(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":ole(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Uw(r.variables,e.breakpoints,"breakpoint"),Uw(r.variables,e.spacing,"spacing"),Uw(r.variables,e.fontSizes,"font-size"),Uw(r.variables,e.lineHeights,"line-height"),Uw(r.variables,e.shadows,"shadow"),Uw(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((o,s)=>{r.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${e.primaryColor}-${s})`}),Pi(e.colors).forEach(o=>{const s=e.colors[o];if(HUe(s)){Object.assign(r.light,gD({theme:e,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,gD({theme:e,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((a,l)=>{r.variables[`--mantine-color-${o}-${l}`]=a}),Object.assign(r.light,gD({theme:e,color:o,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,gD({theme:e,color:o,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return Pi(i).forEach(o=>{r.variables[`--mantine-${o}-font-size`]=i[o].fontSize,r.variables[`--mantine-${o}-line-height`]=i[o].lineHeight,r.variables[`--mantine-${o}-font-weight`]=i[o].fontWeight||e.headings.fontWeight}),r};function qUe({theme:e,generator:t}){const n=t_e(e),r=t?.(e);return r?wY(n,r):n}const lB=t_e(TY);function WUe(e){const t={variables:{},light:{},dark:{}};return Pi(e.variables).forEach(n=>{lB.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),Pi(e.light).forEach(n=>{lB.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),Pi(e.dark).forEach(n=>{lB.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function GUe(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function n_e({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=uo(),r=q6(),i=CUe(),o=qUe({theme:n,generator:i}),s=e===":root"&&t,a=s?WUe(o):o,l=VUe(a,e);return l?x.jsx("style",{"data-mantine-styles":!0,nonce:r?.(),dangerouslySetInnerHTML:{__html:`${l}${s?"":GUe(e)}`}}):null}n_e.displayName="@mantine/CssVariables";function YUe(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function Vw(e,t){const n=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,r=e!=="auto"?e:n?"dark":"light";t()?.setAttribute("data-mantine-color-scheme",r)}function KUe({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const i=k.useRef(null),[o,s]=k.useState(()=>e.get(t)),a=r||o,l=k.useCallback(c=>{r||(Vw(c,n),s(c),e.set(c))},[e.set,a,r]),u=k.useCallback(()=>{s(t),Vw(t,n),e.clear()},[e.clear,t]);return k.useEffect(()=>(e.subscribe(l),e.unsubscribe),[e.subscribe,e.unsubscribe]),Ly(()=>{Vw(e.get(t),n)},[]),k.useEffect(()=>{if(r)return Vw(r,n),()=>{};r===void 0&&Vw(o,n),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const c=d=>{o==="auto"&&Vw(d.matches?"dark":"light",n)};return i.current?.addEventListener("change",c),()=>i.current?.removeEventListener("change",c)},[o,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:u}}function XUe({respectReducedMotion:e,getRootElement:t}){Ly(()=>{e&&t()?.setAttribute("data-respect-reduced-motion","true")},[e])}YUe();function r_e({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:o=!0,withCssVariables:s=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:u=LUe(),defaultColorScheme:c="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:h,stylesTransform:m,env:p}){const{colorScheme:g,setColorScheme:y,clearColorScheme:v}=KUe({defaultColorScheme:c,forceColorScheme:h,manager:u,getRootElement:d});return XUe({respectReducedMotion:e?.respectReducedMotion||!1,getRootElement:d}),x.jsx(SY.Provider,{value:{colorScheme:g,setColorScheme:y,clearColorScheme:v,getRootElement:d,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:f,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:m,env:p},children:x.jsxs(e_e,{theme:e,children:[s&&x.jsx(n_e,{cssVariablesSelector:a,deduplicateCssVariables:o}),i&&x.jsx(UUe,{}),t]})})}r_e.displayName="@mantine/core/MantineProvider";function zf({classNames:e,styles:t,props:n,stylesCtx:r}){const i=uo();return{resolvedClassNames:H6({theme:i,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:jN({theme:i,styles:t,props:n,stylesCtx:r||void 0})}}const QUe={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function JUe({theme:e,options:t,unstyled:n}){return $t(t?.focusable&&!n&&(e.focusClassName||QUe[e.focusRing]),t?.active&&!n&&e.activeClassName)}function ZUe({selector:e,stylesCtx:t,options:n,props:r,theme:i}){return H6({theme:i,classNames:n?.classNames,props:n?.props||r,stylesCtx:t})[e]}function sle({selector:e,stylesCtx:t,theme:n,classNames:r,props:i}){return H6({theme:n,classNames:r,props:i,stylesCtx:t})[e]}function eVe({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function tVe({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function nVe({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(i=>`${t}-${i}-${n}`)}function rVe({themeName:e,theme:t,selector:n,props:r,stylesCtx:i}){return e.map(o=>H6({theme:t,classNames:t.components[o]?.classNames,props:r,stylesCtx:i})?.[n])}function iVe({options:e,classes:t,selector:n,unstyled:r}){return e?.variant&&!r?t[`${n}--${e.variant}`]:void 0}function oVe({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:i,classNames:o,classes:s,unstyled:a,className:l,rootSelector:u,props:c,stylesCtx:d,withStaticClasses:f,headless:h,transformedStyles:m}){return $t(JUe({theme:e,options:t,unstyled:a||h}),rVe({theme:e,themeName:n,selector:r,props:c,stylesCtx:d}),iVe({options:t,classes:s,selector:r,unstyled:a}),sle({selector:r,stylesCtx:d,theme:e,classNames:o,props:c}),sle({selector:r,stylesCtx:d,theme:e,classNames:m,props:c}),ZUe({selector:r,stylesCtx:d,options:t,props:c,theme:e}),eVe({rootSelector:u,selector:r,className:l}),tVe({selector:r,classes:s,unstyled:a||h}),f&&!h&&nVe({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:t?.withStaticClass}),t?.className)}function sVe({theme:e,themeName:t,props:n,stylesCtx:r,selector:i}){return t.map(o=>jN({theme:e,styles:e.components[o]?.styles,props:n,stylesCtx:r})[i]).reduce((o,s)=>({...o,...s}),{})}function CV({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...CV({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function aVe(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...Fy(n[r])}}),t),{})}function lVe({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:i,selector:o,themeName:s,headless:a}){return aVe([a?{}:t?.(n,r,i),...s.map(l=>n.components?.[l]?.vars?.(n,r,i)),e?.(n,r,i)])?.[o]}function uVe({theme:e,themeName:t,selector:n,options:r,props:i,stylesCtx:o,rootSelector:s,styles:a,style:l,vars:u,varsResolver:c,headless:d,withStylesTransform:f}){return{...!f&&sVe({theme:e,themeName:t,props:i,stylesCtx:o,selector:n}),...!f&&jN({theme:e,styles:a,props:i,stylesCtx:o})[n],...!f&&jN({theme:e,styles:r?.styles,props:r?.props||i,stylesCtx:o})[n],...lVe({theme:e,props:i,stylesCtx:o,vars:u,varsResolver:c,selector:n,themeName:t,headless:d}),...s===n?CV({style:l,theme:e}):null,...CV({style:r?.style,theme:e})}}function cVe({props:e,stylesCtx:t,themeName:n}){const r=uo(),i=RUe()?.();return{getTransformedStyles:s=>i?[...s.map(l=>i(l,{props:e,theme:r,ctx:t})),...n.map(l=>i(r.components[l]?.styles,{props:e,theme:r,ctx:t}))].filter(Boolean):[],withStylesTransform:!!i}}function Dt({name:e,classes:t,props:n,stylesCtx:r,className:i,style:o,rootSelector:s="root",unstyled:a,classNames:l,styles:u,vars:c,varsResolver:d}){const f=uo(),h=SUe(),m=TUe(),p=AUe(),g=(Array.isArray(e)?e:[e]).filter(w=>w),{withStylesTransform:y,getTransformedStyles:v}=cVe({props:n,stylesCtx:r,themeName:g});return(w,E)=>({className:oVe({theme:f,options:E,themeName:g,selector:w,classNamesPrefix:h,classNames:l,classes:t,unstyled:a,className:i,rootSelector:s,props:n,stylesCtx:r,withStaticClasses:m,headless:p,transformedStyles:v([E?.styles,u])}),style:uVe({theme:f,themeName:g,selector:w,options:E,props:n,stylesCtx:r,rootSelector:s,styles:u,style:o,vars:c,varsResolver:d,headless:p,withStylesTransform:y})})}function dVe(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, white ${t*100}%)`;const{r:n,g:r,b:i,a:o}=W6(e),s=a=>Math.round(a+(255-a)*t);return`rgba(${s(n)}, ${s(r)}, ${s(i)}, ${o})`}function jy(e,t){return typeof e=="boolean"?e:t.autoContrast}function ale(e){const t=document.createElement("style");return t.setAttribute("data-mantine-styles","inline"),t.innerHTML="*, *::before, *::after {transition: none !important;}",t.setAttribute("data-mantine-disable-transition","true"),e&&t.setAttribute("nonce",e),document.head.appendChild(t),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function fVe({keepTransitions:e}={}){const t=k.useRef(FN),n=k.useRef(-1),r=k.useContext(SY),i=q6(),o=k.useRef(i?.());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const s=d=>{r.setColorScheme(d),t.current=e?()=>{}:ale(o.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{t.current?.()},10)},a=()=>{r.clearColorScheme(),t.current=e?()=>{}:ale(o.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{t.current?.()},10)},l=Gze("light",{getInitialValueInEffect:!1}),u=r.colorScheme==="auto"?l:r.colorScheme,c=k.useCallback(()=>s(u==="light"?"dark":"light"),[s,u]);return k.useEffect(()=>()=>{t.current?.(),window.clearTimeout(n.current)},[]),{colorScheme:r.colorScheme,setColorScheme:s,clearColorScheme:a,toggleColorScheme:c}}function He(e,t,n){const r=uo(),i=r.components[e]?.defaultProps,o=typeof i=="function"?i(r):i;return{...t,...o,...Fy(n)}}function uB(e){return Pi(e).reduce((t,n)=>e[n]!==void 0?`${t}${Nze(n)}:${e[n]};`:t,"").trim()}function hVe({selector:e,styles:t,media:n,container:r}){const i=t?uB(t):"",o=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${uB(a.styles)}}}`):[],s=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${uB(a.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${o.join("")}${s.join("")}`.trim()}function I1(e){const t=q6();return x.jsx("style",{"data-mantine-styles":"inline",nonce:t?.(),dangerouslySetInnerHTML:{__html:hVe(e)}})}function D1(e){const{m:t,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:l,ms:u,p:c,px:d,py:f,pt:h,pb:m,pl:p,pr:g,pe:y,ps:v,bd:w,bg:E,c:C,opacity:S,ff:T,fz:A,fw:D,lts:I,ta:P,lh:N,fs:$,tt:O,td:j,w:B,miw:H,maw:q,h:Y,mih:V,mah:L,bgsz:U,bgp:z,bgr:G,bga:Q,pos:te,top:de,left:se,bottom:ae,right:he,inset:ie,display:le,flex:Ce,hiddenFrom:X,visibleFrom:fe,lightHidden:ce,darkHidden:ne,sx:ee,...pe}=e;return{styleProps:Fy({m:t,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:l,ms:u,p:c,px:d,py:f,pt:h,pb:m,pl:p,pr:g,pe:y,ps:v,bd:w,bg:E,c:C,opacity:S,ff:T,fz:A,fw:D,lts:I,ta:P,lh:N,fs:$,tt:O,td:j,w:B,miw:H,maw:q,h:Y,mih:V,mah:L,bgsz:U,bgp:z,bgr:G,bga:Q,pos:te,top:de,left:se,bottom:ae,right:he,inset:ie,display:le,flex:Ce,hiddenFrom:X,visibleFrom:fe,lightHidden:ce,darkHidden:ne,sx:ee}),rest:pe}}const pVe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function kY(e,t){const n=Bf({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function mVe(e,t){const n=Bf({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:kY(e,t)}function gVe(e,t){if(typeof e=="number")return Ge(e);if(typeof e=="string"){const[n,r,...i]=e.split(" ").filter(s=>s.trim()!=="");let o=`${Ge(n)}`;return r&&(o+=` ${r}`),i.length>0&&(o+=` ${kY(i.join(" "),t)}`),o.trim()}return e}const lle={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function yVe(e){return typeof e=="string"&&e in lle?lle[e]:e}const vVe=["h1","h2","h3","h4","h5","h6"];function bVe(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&vVe.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?Ge(e):e}function wVe(e){return e}const xVe=["h1","h2","h3","h4","h5","h6"];function _Ve(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&xVe.includes(e)?`var(--mantine-${e}-line-height)`:e}function EVe(e){return typeof e=="number"?Ge(e):e}function CVe(e,t){if(typeof e=="number")return Ge(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return Ge(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const cB={color:kY,textColor:mVe,fontSize:bVe,spacing:CVe,identity:wVe,size:EVe,lineHeight:_Ve,fontFamily:yVe,border:gVe};function ule(e){return e.replace("(min-width: ","").replace("em)","")}function SVe({media:e,...t}){const r=Object.keys(e).sort((i,o)=>Number(ule(i))-Number(ule(o))).map(i=>({query:i,styles:e[i]}));return{...t,media:r}}function TVe(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function AVe(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function kVe(e){return typeof e=="object"&&e!==null?Pi(e).filter(t=>t!=="base"):[]}function RVe(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function i_e({styleProps:e,data:t,theme:n}){return SVe(Pi(e).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const o=t[i],s=Array.isArray(o.property)?o.property:[o.property],a=AVe(e[i]);if(!TVe(e[i]))return s.forEach(u=>{r.inlineStyles[u]=cB[o.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=kVe(e[i]);return s.forEach(u=>{a&&(r.styles[u]=cB[o.type](a,n)),l.forEach(c=>{const d=`(min-width: ${n.breakpoints[c]})`;r.media[d]={...r.media[d],[u]:cB[o.type](RVe(e[i],c),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function ck(){return`__m__-${k.useId().replace(/:/g,"")}`}function RY(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...RY(r,t)}),{}):typeof e=="function"?e(t):e??{}}function o_e(e){return e.startsWith("data-")?e:`data-${e}`}function IVe(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[o_e(n)]=e[n]),t},{})}function s_e(e){return e?typeof e=="string"?{[o_e(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...s_e(n)}),{}):IVe(e):null}function SV(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...SV(r,t)}),{}):typeof e=="function"?e(t):e??{}}function DVe({theme:e,style:t,vars:n,styleProps:r}){const i=SV(t,e),o=SV(n,e);return{...i,...o,...r}}const a_e=k.forwardRef(({component:e,style:t,__vars:n,className:r,variant:i,mod:o,size:s,hiddenFrom:a,visibleFrom:l,lightHidden:u,darkHidden:c,renderRoot:d,__size:f,...h},m)=>{const p=uo(),g=e||"div",{styleProps:y,rest:v}=D1(h),E=kUe()?.()?.(y.sx),C=ck(),S=i_e({styleProps:y,theme:p,data:pVe}),T={ref:m,style:DVe({theme:p,style:t,vars:n,styleProps:S.inlineStyles}),className:$t(r,E,{[C]:S.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":c,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":Bxe(s)?void 0:s||void 0,size:f,...s_e(o),...v};return x.jsxs(x.Fragment,{children:[S.hasResponsiveStyles&&x.jsx(I1,{selector:`.${C}`,styles:S.styles,media:S.media}),typeof d=="function"?d(T):x.jsx(g,{...T})]})});a_e.displayName="@mantine/core/Box";const Ie=a_e;function l_e(e){return e}function u_e(e){const t=e;return n=>{const r=k.forwardRef((i,o)=>x.jsx(t,{...n,...i,ref:o}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r}}function et(e){const t=k.forwardRef(e);return t.extend=l_e,t.withProps=n=>{const r=k.forwardRef((i,o)=>x.jsx(t,{...n,...i,ref:o}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function es(e){const t=k.forwardRef(e);return t.withProps=n=>{const r=k.forwardRef((i,o)=>x.jsx(t,{...n,...i,ref:o}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=l_e,t}const PVe=k.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Lu(){return k.useContext(PVe)}var Fh=Pxe();const rT=ms(Fh);function OVe(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function dB(e){return e?.current?e.current.scrollHeight:"auto"}const sS=typeof window<"u"&&window.requestAnimationFrame;function NVe({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=k.useRef(null),o=0,s={height:0,overflow:"hidden"},[a,l]=k.useState(r?{}:s),u=m=>{Fh.flushSync(()=>l(m))},c=m=>{u(p=>({...p,...m}))};function d(m){const p=e||OVe(m);return{transition:`height ${p}ms ${t}, opacity ${p}ms ${t}`}}Hl(()=>{typeof sS=="function"&&sS(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),sS(()=>{const m=dB(i);c({...d(m),height:m})})}:()=>{const m=dB(i);c({...d(m),willChange:"height",height:m}),sS(()=>c({height:o,overflow:"hidden"}))})},[r]);const f=m=>{if(!(m.target!==i.current||m.propertyName!=="height"))if(r){const p=dB(i);p===a.height?u({}):c({height:p}),n()}else a.height===o&&(u(s),n())};function h({style:m={},refKey:p="ref",...g}={}){const y=g[p],v={"aria-hidden":!r,...g,[p]:Kxe(i,y),onTransitionEnd:f,style:{boxSizing:"border-box",...m,...a}};return dn.version.startsWith("18")?r||(v.inert=""):v.inert=!r,v}return h}const MVe={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},Cp=et((e,t)=>{const{children:n,in:r,transitionDuration:i,transitionTimingFunction:o,style:s,onTransitionEnd:a,animateOpacity:l,...u}=He("Collapse",MVe,e),c=uo(),d=U6(),h=(c.respectReducedMotion?d:!1)?0:i,m=NVe({opened:r,transitionDuration:h,transitionTimingFunction:o,onTransitionEnd:a});return h===0?r?x.jsx(Ie,{...u,children:n}):null:x.jsx(Ie,{...m({style:{opacity:r||!l?1:0,transition:l?`opacity ${h}ms ${o}`:"none",...RY(s,c)},ref:t,...u}),children:n})});Cp.displayName="@mantine/core/Collapse";function G6(){return typeof window<"u"}function wE(e){return c_e(e)?(e.nodeName||"").toLowerCase():"#document"}function Tu(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Sp(e){var t;return(t=(c_e(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function c_e(e){return G6()?e instanceof Node||e instanceof Tu(e).Node:!1}function Yi(e){return G6()?e instanceof Element||e instanceof Tu(e).Element:!1}function yc(e){return G6()?e instanceof HTMLElement||e instanceof Tu(e).HTMLElement:!1}function TV(e){return!G6()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tu(e).ShadowRoot}const $Ve=new Set(["inline","contents"]);function dk(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=fd(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!$Ve.has(i)}const FVe=new Set(["table","td","th"]);function LVe(e){return FVe.has(wE(e))}const jVe=[":popover-open",":modal"];function Y6(e){return jVe.some(t=>{try{return e.matches(t)}catch{return!1}})}const BVe=["transform","translate","scale","rotate","perspective"],zVe=["transform","translate","scale","rotate","perspective","filter"],UVe=["paint","layout","strict","content"];function IY(e){const t=K6(),n=Yi(e)?fd(e):e;return BVe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||zVe.some(r=>(n.willChange||"").includes(r))||UVe.some(r=>(n.contain||"").includes(r))}function VVe(e){let t=zm(e);for(;yc(t)&&!sy(t);){if(IY(t))return t;if(Y6(t))return null;t=zm(t)}return null}function K6(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const HVe=new Set(["html","body","#document"]);function sy(e){return HVe.has(wE(e))}function fd(e){return Tu(e).getComputedStyle(e)}function X6(e){return Yi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zm(e){if(wE(e)==="html")return e;const t=e.assignedSlot||e.parentNode||TV(e)&&e.host||Sp(e);return TV(t)?t.host:t}function d_e(e){const t=zm(e);return sy(t)?e.ownerDocument?e.ownerDocument.body:e.body:yc(t)&&dk(t)?t:d_e(t)}function Am(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=d_e(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=Tu(i);if(o){const a=AV(s);return t.concat(s,s.visualViewport||[],dk(i)?i:[],a&&n?Am(a):[])}return t.concat(i,Am(i,[],n))}function AV(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function cle(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function z2(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&TV(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function f_e(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function h_e(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function qVe(e){return YVe()?!1:!dle()&&e.width===0&&e.height===0||dle()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function WVe(){return/apple/i.test(navigator.vendor)}function dle(){const e=/android/i;return e.test(f_e())||e.test(h_e())}function GVe(){return f_e().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function YVe(){return h_e().includes("jsdom/")}function kV(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function KVe(e){return"nativeEvent"in e}function XVe(e){return e.matches("html,body")}function cb(e){return e?.ownerDocument||document}function fB(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function yx(e){return"composedPath"in e?e.composedPath()[0]:e.target}const QVe="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function JVe(e){return yc(e)&&e.matches(QVe)}const kf=Math.min,Qa=Math.max,BN=Math.round,yD=Math.floor,Uh=e=>({x:e,y:e}),ZVe={left:"right",right:"left",bottom:"top",top:"bottom"},eHe={start:"end",end:"start"};function RV(e,t,n){return Qa(e,kf(t,n))}function Um(e,t){return typeof e=="function"?e(t):e}function Rf(e){return e.split("-")[0]}function xE(e){return e.split("-")[1]}function DY(e){return e==="x"?"y":"x"}function PY(e){return e==="y"?"height":"width"}const tHe=new Set(["top","bottom"]);function df(e){return tHe.has(Rf(e))?"y":"x"}function OY(e){return DY(df(e))}function nHe(e,t,n){n===void 0&&(n=!1);const r=xE(e),i=OY(e),o=PY(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=zN(s)),[s,zN(s)]}function rHe(e){const t=zN(e);return[IV(e),t,IV(t)]}function IV(e){return e.replace(/start|end/g,t=>eHe[t])}const fle=["left","right"],hle=["right","left"],iHe=["top","bottom"],oHe=["bottom","top"];function sHe(e,t,n){switch(e){case"top":case"bottom":return n?t?hle:fle:t?fle:hle;case"left":case"right":return t?iHe:oHe;default:return[]}}function aHe(e,t,n,r){const i=xE(e);let o=sHe(Rf(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(IV)))),o}function zN(e){return e.replace(/left|right|bottom|top/g,t=>ZVe[t])}function lHe(e){return{top:0,right:0,bottom:0,left:0,...e}}function NY(e){return typeof e!="number"?lHe(e):{top:e,right:e,bottom:e,left:e}}function y_(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function ple(e,t,n){let{reference:r,floating:i}=e;const o=df(t),s=OY(t),a=PY(s),l=Rf(t),u=o==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(xE(t)){case"start":h[s]-=f*(n&&u?-1:1);break;case"end":h[s]+=f*(n&&u?-1:1);break}return h}const uHe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=ple(u,r,l),f=r,h={},m=0;for(let p=0;p<a.length;p++){const{name:g,fn:y}=a[p],{x:v,y:w,data:E,reset:C}=await y({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:u,platform:s,elements:{reference:e,floating:t}});c=v??c,d=w??d,h={...h,[g]:{...h[g],...E}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(u=C.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:c,y:d}=ple(u,f,l)),p=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:h}};async function MY(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Um(t,e),m=NY(h),g=a[f?d==="floating"?"reference":"floating":d],y=y_(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(g)))==null||n?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),v=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),E=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},C=y_(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:w,strategy:l}):v);return{top:(y.top-C.top+m.top)/E.y,bottom:(C.bottom-y.bottom+m.bottom)/E.y,left:(y.left-C.left+m.left)/E.x,right:(C.right-y.right+m.right)/E.x}}const cHe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=Um(e,t)||{};if(u==null)return{};const d=NY(c),f={x:n,y:r},h=OY(i),m=PY(h),p=await s.getDimensions(u),g=h==="y",y=g?"top":"left",v=g?"bottom":"right",w=g?"clientHeight":"clientWidth",E=o.reference[m]+o.reference[h]-f[h]-o.floating[m],C=f[h]-o.reference[h],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let T=S?S[w]:0;(!T||!await(s.isElement==null?void 0:s.isElement(S)))&&(T=a.floating[w]||o.floating[m]);const A=E/2-C/2,D=T/2-p[m]/2-1,I=kf(d[y],D),P=kf(d[v],D),N=I,$=T-p[m]-P,O=T/2-p[m]/2+A,j=RV(N,O,$),B=!l.arrow&&xE(i)!=null&&O!==j&&o.reference[m]/2-(O<N?I:P)-p[m]/2<0,H=B?O<N?O-N:O-$:0;return{[h]:f[h]+H,data:{[h]:j,centerOffset:O-j-H,...B&&{alignmentOffset:H}},reset:B}}}),dHe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...g}=Um(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=Rf(i),v=df(a),w=Rf(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=f||(w||!p?[zN(a)]:rHe(a)),S=m!=="none";!f&&S&&C.push(...aHe(a,p,m,E));const T=[a,...C],A=await MY(t,g),D=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&D.push(A[y]),d){const O=nHe(i,s,E);D.push(A[O[0]],A[O[1]])}if(I=[...I,{placement:i,overflows:D}],!D.every(O=>O<=0)){var P,N;const O=(((P=o.flip)==null?void 0:P.index)||0)+1,j=T[O];if(j&&(!(d==="alignment"?v!==df(j):!1)||I.every(q=>df(q.placement)===v?q.overflows[0]>0:!0)))return{data:{index:O,overflows:I},reset:{placement:j}};let B=(N=I.filter(H=>H.overflows[0]<=0).sort((H,q)=>H.overflows[1]-q.overflows[1])[0])==null?void 0:N.placement;if(!B)switch(h){case"bestFit":{var $;const H=($=I.filter(q=>{if(S){const Y=df(q.placement);return Y===v||Y==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Y=>Y>0).reduce((Y,V)=>Y+V,0)]).sort((q,Y)=>q[1]-Y[1])[0])==null?void 0:$[0];H&&(B=H);break}case"initialPlacement":B=a;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function p_e(e){const t=kf(...e.map(o=>o.left)),n=kf(...e.map(o=>o.top)),r=Qa(...e.map(o=>o.right)),i=Qa(...e.map(o=>o.bottom));return{x:t,y:n,width:r-t,height:i-n}}function fHe(e){const t=e.slice().sort((i,o)=>i.y-o.y),n=[];let r=null;for(let i=0;i<t.length;i++){const o=t[i];!r||o.y-r.y>r.height/2?n.push([o]):n[n.length-1].push(o),r=o}return n.map(i=>y_(p_e(i)))}const hHe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:o,strategy:s}=t,{padding:a=2,x:l,y:u}=Um(e,t),c=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(r.reference))||[]),d=fHe(c),f=y_(p_e(c)),h=NY(a);function m(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(g=>l>g.left-h.left&&l<g.right+h.right&&u>g.top-h.top&&u<g.bottom+h.bottom)||f;if(d.length>=2){if(df(n)==="y"){const I=d[0],P=d[d.length-1],N=Rf(n)==="top",$=I.top,O=P.bottom,j=N?I.left:P.left,B=N?I.right:P.right,H=B-j,q=O-$;return{top:$,bottom:O,left:j,right:B,width:H,height:q,x:j,y:$}}const g=Rf(n)==="left",y=Qa(...d.map(I=>I.right)),v=kf(...d.map(I=>I.left)),w=d.filter(I=>g?I.left===v:I.right===y),E=w[0].top,C=w[w.length-1].bottom,S=v,T=y,A=T-S,D=C-E;return{top:E,bottom:C,left:S,right:T,width:A,height:D,x:S,y:E}}return f}const p=await o.getElementRects({reference:{getBoundingClientRect:m},floating:r.floating,strategy:s});return i.reference.x!==p.reference.x||i.reference.y!==p.reference.y||i.reference.width!==p.reference.width||i.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}},m_e=new Set(["left","top"]);async function pHe(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Rf(n),a=xE(n),l=df(n)==="y",u=m_e.has(s)?-1:1,c=o&&l?-1:1,d=Um(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const mHe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await pHe(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},gHe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:g=>{let{x:y,y:v}=g;return{x:y,y:v}}},...l}=Um(e,t),u={x:n,y:r},c=await MY(t,l),d=df(Rf(i)),f=DY(d);let h=u[f],m=u[d];if(o){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=h+c[g],w=h-c[y];h=RV(v,h,w)}if(s){const g=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=m+c[g],w=m-c[y];m=RV(v,m,w)}const p=a.fn({...t,[f]:h,[d]:m});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:o,[d]:s}}}}}},yHe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Um(e,t),c={x:n,y:r},d=df(i),f=DY(d);let h=c[f],m=c[d];const p=Um(a,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const w=f==="y"?"height":"width",E=o.reference[f]-o.floating[w]+g.mainAxis,C=o.reference[f]+o.reference[w]-g.mainAxis;h<E?h=E:h>C&&(h=C)}if(u){var y,v;const w=f==="y"?"width":"height",E=m_e.has(Rf(i)),C=o.reference[d]-o.floating[w]+(E&&((y=s.offset)==null?void 0:y[d])||0)+(E?0:g.crossAxis),S=o.reference[d]+o.reference[w]+(E?0:((v=s.offset)==null?void 0:v[d])||0)-(E?g.crossAxis:0);m<C?m=C:m>S&&(m=S)}return{[f]:h,[d]:m}}}},vHe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:l=()=>{},...u}=Um(e,t),c=await MY(t,u),d=Rf(i),f=xE(i),h=df(i)==="y",{width:m,height:p}=o.floating;let g,y;d==="top"||d==="bottom"?(g=d,y=f===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,g=f==="end"?"top":"bottom");const v=p-c.top-c.bottom,w=m-c.left-c.right,E=kf(p-c[g],v),C=kf(m-c[y],w),S=!t.middlewareData.shift;let T=E,A=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=v),S&&!f){const I=Qa(c.left,0),P=Qa(c.right,0),N=Qa(c.top,0),$=Qa(c.bottom,0);h?A=m-2*(I!==0||P!==0?I+P:Qa(c.left,c.right)):T=p-2*(N!==0||$!==0?N+$:Qa(c.top,c.bottom))}await l({...t,availableWidth:A,availableHeight:T});const D=await s.getDimensions(a.floating);return m!==D.width||p!==D.height?{reset:{rects:!0}}:{}}}};function g_e(e){const t=fd(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=yc(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=BN(n)!==o||BN(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function $Y(e){return Yi(e)?e:e.contextElement}function Vx(e){const t=$Y(e);if(!yc(t))return Uh(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=g_e(t);let s=(o?BN(n.width):n.width)/r,a=(o?BN(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const bHe=Uh(0);function y_e(e){const t=Tu(e);return!K6()||!t.visualViewport?bHe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wHe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Tu(e)?!1:t}function Ub(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=$Y(e);let s=Uh(1);t&&(r?Yi(r)&&(s=Vx(r)):s=Vx(e));const a=wHe(o,n,r)?y_e(o):Uh(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,d=i.height/s.y;if(o){const f=Tu(o),h=r&&Yi(r)?Tu(r):r;let m=f,p=AV(m);for(;p&&r&&h!==m;){const g=Vx(p),y=p.getBoundingClientRect(),v=fd(p),w=y.left+(p.clientLeft+parseFloat(v.paddingLeft))*g.x,E=y.top+(p.clientTop+parseFloat(v.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,d*=g.y,l+=w,u+=E,m=Tu(p),p=AV(m)}}return y_({width:c,height:d,x:l,y:u})}function Q6(e,t){const n=X6(e).scrollLeft;return t?t.left+n:Ub(Sp(e)).left+n}function v_e(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Q6(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function xHe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=Sp(r),a=t?Y6(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=Uh(1);const c=Uh(0),d=yc(r);if((d||!d&&!o)&&((wE(r)!=="body"||dk(s))&&(l=X6(r)),yc(r))){const h=Ub(r);u=Vx(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const f=s&&!d&&!o?v_e(s,l):Uh(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+f.x,y:n.y*u.y-l.scrollTop*u.y+c.y+f.y}}function _He(e){return Array.from(e.getClientRects())}function EHe(e){const t=Sp(e),n=X6(e),r=e.ownerDocument.body,i=Qa(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Qa(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Q6(e);const a=-n.scrollTop;return fd(r).direction==="rtl"&&(s+=Qa(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}const mle=25;function CHe(e,t){const n=Tu(e),r=Sp(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=K6();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=Q6(r);if(u<=0){const c=r.ownerDocument,d=c.body,f=getComputedStyle(d),h=c.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,m=Math.abs(r.clientWidth-d.clientWidth-h);m<=mle&&(o-=m)}else u<=mle&&(o+=u);return{width:o,height:s,x:a,y:l}}const SHe=new Set(["absolute","fixed"]);function THe(e,t){const n=Ub(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=yc(e)?Vx(e):Uh(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function gle(e,t,n){let r;if(t==="viewport")r=CHe(e,n);else if(t==="document")r=EHe(Sp(e));else if(Yi(t))r=THe(t,n);else{const i=y_e(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return y_(r)}function b_e(e,t){const n=zm(e);return n===t||!Yi(n)||sy(n)?!1:fd(n).position==="fixed"||b_e(n,t)}function AHe(e,t){const n=t.get(e);if(n)return n;let r=Am(e,[],!1).filter(a=>Yi(a)&&wE(a)!=="body"),i=null;const o=fd(e).position==="fixed";let s=o?zm(e):e;for(;Yi(s)&&!sy(s);){const a=fd(s),l=IY(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&SHe.has(i.position)||dk(s)&&!l&&b_e(e,s))?r=r.filter(c=>c!==s):i=a,s=zm(s)}return t.set(e,r),r}function kHe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?Y6(t)?[]:AHe(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,c)=>{const d=gle(t,c,i);return u.top=Qa(d.top,u.top),u.right=kf(d.right,u.right),u.bottom=kf(d.bottom,u.bottom),u.left=Qa(d.left,u.left),u},gle(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function RHe(e){const{width:t,height:n}=g_e(e);return{width:t,height:n}}function IHe(e,t,n){const r=yc(t),i=Sp(t),o=n==="fixed",s=Ub(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Uh(0);function u(){l.x=Q6(i)}if(r||!r&&!o)if((wE(t)!=="body"||dk(i))&&(a=X6(t)),r){const h=Ub(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&u();o&&!r&&i&&u();const c=i&&!r&&!o?v_e(i,a):Uh(0),d=s.left+a.scrollLeft-l.x-c.x,f=s.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:s.width,height:s.height}}function hB(e){return fd(e).position==="static"}function yle(e,t){if(!yc(e)||fd(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Sp(e)===n&&(n=n.ownerDocument.body),n}function w_e(e,t){const n=Tu(e);if(Y6(e))return n;if(!yc(e)){let i=zm(e);for(;i&&!sy(i);){if(Yi(i)&&!hB(i))return i;i=zm(i)}return n}let r=yle(e,t);for(;r&&LVe(r)&&hB(r);)r=yle(r,t);return r&&sy(r)&&hB(r)&&!IY(r)?n:r||VVe(e)||n}const DHe=async function(e){const t=this.getOffsetParent||w_e,n=this.getDimensions,r=await n(e.floating);return{reference:IHe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function PHe(e){return fd(e).direction==="rtl"}const OHe={convertOffsetParentRelativeRectToViewportRelativeRect:xHe,getDocumentElement:Sp,getClippingRect:kHe,getOffsetParent:w_e,getElementRects:DHe,getClientRects:_He,getDimensions:RHe,getScale:Vx,isElement:Yi,isRTL:PHe};function x_e(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function NHe(e,t){let n=null,r;const i=Sp(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:c,top:d,width:f,height:h}=u;if(a||t(),!f||!h)return;const m=yD(d),p=yD(i.clientWidth-(c+f)),g=yD(i.clientHeight-(d+h)),y=yD(c),w={rootMargin:-m+"px "+-p+"px "+-g+"px "+-y+"px",threshold:Qa(0,kf(1,l))||1};let E=!0;function C(S){const T=S[0].intersectionRatio;if(T!==l){if(!E)return s();T?s(!1,T):r=setTimeout(()=>{s(!1,1e-7)},1e3)}T===1&&!x_e(u,e.getBoundingClientRect())&&s(),E=!1}try{n=new IntersectionObserver(C,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(e)}return s(!0),o}function MHe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=$Y(e),c=i||o?[...u?Am(u):[],...Am(t)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const d=u&&a?NHe(u,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let m,p=l?Ub(e):null;l&&g();function g(){const y=Ub(e);p&&!x_e(p,y)&&n(),p=y,m=requestAnimationFrame(g)}return n(),()=>{var y;c.forEach(v=>{i&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),d?.(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const $He=mHe,FHe=gHe,LHe=dHe,jHe=vHe,vle=cHe,BHe=hHe,zHe=yHe,UHe=(e,t,n)=>{const r=new Map,i={platform:OHe,...n},o={...i.platform,_c:r};return uHe(e,t,{...i,platform:o})};var VHe=typeof document<"u",HHe=function(){},U3=VHe?k.useLayoutEffect:HHe;function UN(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!UN(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!UN(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function __e(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ble(e,t){const n=__e(e);return Math.round(t*n)/n}function pB(e){const t=k.useRef(e);return U3(()=>{t.current=e}),t}function qHe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=k.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=k.useState(r);UN(f,r)||h(r);const[m,p]=k.useState(null),[g,y]=k.useState(null),v=k.useCallback(q=>{q!==S.current&&(S.current=q,p(q))},[]),w=k.useCallback(q=>{q!==T.current&&(T.current=q,y(q))},[]),E=o||m,C=s||g,S=k.useRef(null),T=k.useRef(null),A=k.useRef(c),D=l!=null,I=pB(l),P=pB(i),N=pB(u),$=k.useCallback(()=>{if(!S.current||!T.current)return;const q={placement:t,strategy:n,middleware:f};P.current&&(q.platform=P.current),UHe(S.current,T.current,q).then(Y=>{const V={...Y,isPositioned:N.current!==!1};O.current&&!UN(A.current,V)&&(A.current=V,Fh.flushSync(()=>{d(V)}))})},[f,t,n,P,N]);U3(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,d(q=>({...q,isPositioned:!1})))},[u]);const O=k.useRef(!1);U3(()=>(O.current=!0,()=>{O.current=!1}),[]),U3(()=>{if(E&&(S.current=E),C&&(T.current=C),E&&C){if(I.current)return I.current(E,C,$);$()}},[E,C,$,I,D]);const j=k.useMemo(()=>({reference:S,floating:T,setReference:v,setFloating:w}),[v,w]),B=k.useMemo(()=>({reference:E,floating:C}),[E,C]),H=k.useMemo(()=>{const q={position:n,left:0,top:0};if(!B.floating)return q;const Y=ble(B.floating,c.x),V=ble(B.floating,c.y);return a?{...q,transform:"translate("+Y+"px, "+V+"px)",...__e(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:V}},[n,a,B.floating,c.x,c.y]);return k.useMemo(()=>({...c,update:$,refs:j,elements:B,floatingStyles:H}),[c,$,j,B,H])}const WHe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?vle({element:r.current,padding:i}).fn(n):{}:r?vle({element:r,padding:i}).fn(n):{}}}},E_e=(e,t)=>({...$He(e),options:[e,t]}),FY=(e,t)=>({...FHe(e),options:[e,t]}),wle=(e,t)=>({...zHe(e),options:[e,t]}),VN=(e,t)=>({...LHe(e),options:[e,t]}),GHe=(e,t)=>({...jHe(e),options:[e,t]}),GT=(e,t)=>({...BHe(e),options:[e,t]}),C_e=(e,t)=>({...WHe(e),options:[e,t]});function YHe(e){return k.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const S_e={...q7e},KHe=S_e.useInsertionEffect,XHe=KHe||(e=>e());function dm(e){const t=k.useRef(()=>{});return XHe(()=>{t.current=e}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Vh=typeof document<"u"?k.useLayoutEffect:k.useEffect;let xle=!1,QHe=0;const _le=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+QHe++;function JHe(){const[e,t]=k.useState(()=>xle?_le():void 0);return Vh(()=>{e==null&&t(_le())},[]),k.useEffect(()=>{xle=!0},[]),e}const ZHe=S_e.useId,T_e=ZHe||JHe;function eqe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const tqe=k.createContext(null),nqe=k.createContext(null),LY=()=>{var e;return((e=k.useContext(tqe))==null?void 0:e.id)||null},jY=()=>k.useContext(nqe);function BY(e){return"data-floating-ui-"+e}function mB(e){const t=k.useRef(e);return Vh(()=>{t.current=e}),t}const Ele=BY("safe-polygon");function V3(e,t,n){return n&&!kV(n)?0:typeof e=="number"?e:e?.[t]}function rqe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:s}=e,{enabled:a=!0,delay:l=0,handleClose:u=null,mouseOnly:c=!1,restMs:d=0,move:f=!0}=t,h=jY(),m=LY(),p=mB(u),g=mB(l),y=mB(n),v=k.useRef(),w=k.useRef(-1),E=k.useRef(),C=k.useRef(-1),S=k.useRef(!0),T=k.useRef(!1),A=k.useRef(()=>{}),D=k.useRef(!1),I=k.useCallback(()=>{var H;const q=(H=i.current.openEvent)==null?void 0:H.type;return q?.includes("mouse")&&q!=="mousedown"},[i]);k.useEffect(()=>{if(!a)return;function H(q){let{open:Y}=q;Y||(clearTimeout(w.current),clearTimeout(C.current),S.current=!0,D.current=!1)}return o.on("openchange",H),()=>{o.off("openchange",H)}},[a,o]),k.useEffect(()=>{if(!a||!p.current||!n)return;function H(Y){I()&&r(!1,Y,"hover")}const q=cb(s.floating).documentElement;return q.addEventListener("mouseleave",H),()=>{q.removeEventListener("mouseleave",H)}},[s.floating,n,r,a,p,I]);const P=k.useCallback(function(H,q,Y){q===void 0&&(q=!0),Y===void 0&&(Y="hover");const V=V3(g.current,"close",v.current);V&&!E.current?(clearTimeout(w.current),w.current=window.setTimeout(()=>r(!1,H,Y),V)):q&&(clearTimeout(w.current),r(!1,H,Y))},[g,r]),N=dm(()=>{A.current(),E.current=void 0}),$=dm(()=>{if(T.current){const H=cb(s.floating).body;H.style.pointerEvents="",H.removeAttribute(Ele),T.current=!1}}),O=dm(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);k.useEffect(()=>{if(!a)return;function H(L){if(clearTimeout(w.current),S.current=!1,c&&!kV(v.current)||d>0&&!V3(g.current,"open"))return;const U=V3(g.current,"open",v.current);U?w.current=window.setTimeout(()=>{y.current||r(!0,L,"hover")},U):n||r(!0,L,"hover")}function q(L){if(O())return;A.current();const U=cb(s.floating);if(clearTimeout(C.current),D.current=!1,p.current&&i.current.floatingContext){n||clearTimeout(w.current),E.current=p.current({...i.current.floatingContext,tree:h,x:L.clientX,y:L.clientY,onClose(){$(),N(),O()||P(L,!0,"safe-polygon")}});const G=E.current;U.addEventListener("mousemove",G),A.current=()=>{U.removeEventListener("mousemove",G)};return}(v.current==="touch"?!z2(s.floating,L.relatedTarget):!0)&&P(L)}function Y(L){O()||i.current.floatingContext&&(p.current==null||p.current({...i.current.floatingContext,tree:h,x:L.clientX,y:L.clientY,onClose(){$(),N(),O()||P(L)}})(L))}if(Yi(s.domReference)){var V;const L=s.domReference;return n&&L.addEventListener("mouseleave",Y),(V=s.floating)==null||V.addEventListener("mouseleave",Y),f&&L.addEventListener("mousemove",H,{once:!0}),L.addEventListener("mouseenter",H),L.addEventListener("mouseleave",q),()=>{var U;n&&L.removeEventListener("mouseleave",Y),(U=s.floating)==null||U.removeEventListener("mouseleave",Y),f&&L.removeEventListener("mousemove",H),L.removeEventListener("mouseenter",H),L.removeEventListener("mouseleave",q)}}},[s,a,e,c,d,f,P,N,$,r,n,y,h,g,p,i,O]),Vh(()=>{var H;if(a&&n&&(H=p.current)!=null&&H.__options.blockPointerEvents&&I()){T.current=!0;const Y=s.floating;if(Yi(s.domReference)&&Y){var q;const V=cb(s.floating).body;V.setAttribute(Ele,"");const L=s.domReference,U=h==null||(q=h.nodesRef.current.find(z=>z.id===m))==null||(q=q.context)==null?void 0:q.elements.floating;return U&&(U.style.pointerEvents=""),V.style.pointerEvents="none",L.style.pointerEvents="auto",Y.style.pointerEvents="auto",()=>{V.style.pointerEvents="",L.style.pointerEvents="",Y.style.pointerEvents=""}}}},[a,n,m,s,h,p,I]),Vh(()=>{n||(v.current=void 0,D.current=!1,N(),$())},[n,N,$]),k.useEffect(()=>()=>{N(),clearTimeout(w.current),clearTimeout(C.current),$()},[a,s.domReference,N,$]);const j=k.useMemo(()=>{function H(q){v.current=q.pointerType}return{onPointerDown:H,onPointerEnter:H,onMouseMove(q){const{nativeEvent:Y}=q;function V(){!S.current&&!y.current&&r(!0,Y,"hover")}c&&!kV(v.current)||n||d===0||D.current&&q.movementX**2+q.movementY**2<2||(clearTimeout(C.current),v.current==="touch"?V():(D.current=!0,C.current=window.setTimeout(V,d)))}}},[c,r,n,y,d]),B=k.useMemo(()=>({onMouseEnter(){clearTimeout(w.current)},onMouseLeave(H){O()||P(H.nativeEvent,!1)}}),[P,O]);return k.useMemo(()=>a?{reference:j,floating:B}:{},[a,j,B])}const DV=()=>{},A_e=k.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:DV,setState:DV,isInstantPhase:!1}),iqe=()=>k.useContext(A_e);function oqe(e){const{children:t,delay:n,timeoutMs:r=0}=e,[i,o]=k.useReducer((l,u)=>({...l,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=k.useRef(null),a=k.useCallback(l=>{o({currentId:l})},[]);return Vh(()=>{i.currentId?s.current===null?s.current=i.currentId:i.isInstantPhase||o({isInstantPhase:!0}):(i.isInstantPhase&&o({isInstantPhase:!1}),s.current=null)},[i.currentId,i.isInstantPhase]),k.createElement(A_e.Provider,{value:k.useMemo(()=>({...i,setState:o,setCurrentId:a}),[i,a])},t)}function sqe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{id:o,enabled:s=!0}=t,a=o??i,l=iqe(),{currentId:u,setCurrentId:c,initialDelay:d,setState:f,timeoutMs:h}=l;return Vh(()=>{s&&u&&(f({delay:{open:1,close:V3(d,"close")}}),u!==a&&r(!1))},[s,a,r,f,u,d]),Vh(()=>{function m(){r(!1),f({delay:d,currentId:null})}if(s&&u&&!n&&u===a){if(h){const p=window.setTimeout(m,h);return()=>{clearTimeout(p)}}m()}},[s,n,f,u,a,r,d,h]),Vh(()=>{s&&(c===DV||!n||c(a))},[s,n,c,a]),l}function gB(e,t){let n=e.filter(i=>{var o;return i.parentId===t&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=e.filter(i=>{var o;return(o=r)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const aqe="data-floating-ui-focusable",lqe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},uqe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Cle=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)!=null?n:!0}};function cqe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:c=!1,referencePressEvent:d="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:m}=t,p=jY(),g=dm(typeof l=="function"?l:()=>!1),y=typeof l=="function"?g:l,v=k.useRef(!1),w=k.useRef(!1),{escapeKey:E,outsidePress:C}=Cle(h),{escapeKey:S,outsidePress:T}=Cle(m),A=k.useRef(!1),D=dm(j=>{var B;if(!n||!s||!a||j.key!=="Escape"||A.current)return;const H=(B=o.current.floatingContext)==null?void 0:B.nodeId,q=p?gB(p.nodesRef.current,H):[];if(!E&&(j.stopPropagation(),q.length>0)){let Y=!0;if(q.forEach(V=>{var L;if((L=V.context)!=null&&L.open&&!V.context.dataRef.current.__escapeKeyBubbles){Y=!1;return}}),!Y)return}r(!1,KVe(j)?j.nativeEvent:j,"escape-key")}),I=dm(j=>{var B;const H=()=>{var q;D(j),(q=yx(j))==null||q.removeEventListener("keydown",H)};(B=yx(j))==null||B.addEventListener("keydown",H)}),P=dm(j=>{var B;const H=v.current;v.current=!1;const q=w.current;if(w.current=!1,u==="click"&&q||H||typeof y=="function"&&!y(j))return;const Y=yx(j),V="["+BY("inert")+"]",L=cb(i.floating).querySelectorAll(V);let U=Yi(Y)?Y:null;for(;U&&!sy(U);){const te=zm(U);if(sy(te)||!Yi(te))break;U=te}if(L.length&&Yi(Y)&&!XVe(Y)&&!z2(Y,i.floating)&&Array.from(L).every(te=>!z2(U,te)))return;if(yc(Y)&&O){const te=Y.clientWidth>0&&Y.scrollWidth>Y.clientWidth,de=Y.clientHeight>0&&Y.scrollHeight>Y.clientHeight;let se=de&&j.offsetX>Y.clientWidth;if(de&&fd(Y).direction==="rtl"&&(se=j.offsetX<=Y.offsetWidth-Y.clientWidth),se||te&&j.offsetY>Y.clientHeight)return}const z=(B=o.current.floatingContext)==null?void 0:B.nodeId,G=p&&gB(p.nodesRef.current,z).some(te=>{var de;return fB(j,(de=te.context)==null?void 0:de.elements.floating)});if(fB(j,i.floating)||fB(j,i.domReference)||G)return;const Q=p?gB(p.nodesRef.current,z):[];if(Q.length>0){let te=!0;if(Q.forEach(de=>{var se;if((se=de.context)!=null&&se.open&&!de.context.dataRef.current.__outsidePressBubbles){te=!1;return}}),!te)return}r(!1,j,"outside-press")}),N=dm(j=>{var B;const H=()=>{var q;P(j),(q=yx(j))==null||q.removeEventListener(u,H)};(B=yx(j))==null||B.addEventListener(u,H)});k.useEffect(()=>{if(!n||!s)return;o.current.__escapeKeyBubbles=E,o.current.__outsidePressBubbles=C;let j=-1;function B(L){r(!1,L,"ancestor-scroll")}function H(){window.clearTimeout(j),A.current=!0}function q(){j=window.setTimeout(()=>{A.current=!1},K6()?5:0)}const Y=cb(i.floating);a&&(Y.addEventListener("keydown",S?I:D,S),Y.addEventListener("compositionstart",H),Y.addEventListener("compositionend",q)),y&&Y.addEventListener(u,T?N:P,T);let V=[];return f&&(Yi(i.domReference)&&(V=Am(i.domReference)),Yi(i.floating)&&(V=V.concat(Am(i.floating))),!Yi(i.reference)&&i.reference&&i.reference.contextElement&&(V=V.concat(Am(i.reference.contextElement)))),V=V.filter(L=>{var U;return L!==((U=Y.defaultView)==null?void 0:U.visualViewport)}),V.forEach(L=>{L.addEventListener("scroll",B,{passive:!0})}),()=>{a&&(Y.removeEventListener("keydown",S?I:D,S),Y.removeEventListener("compositionstart",H),Y.removeEventListener("compositionend",q)),y&&Y.removeEventListener(u,T?N:P,T),V.forEach(L=>{L.removeEventListener("scroll",B)}),window.clearTimeout(j)}},[o,i,a,y,u,n,r,f,s,E,C,D,S,I,P,T,N]),k.useEffect(()=>{v.current=!1},[y,u]);const $=k.useMemo(()=>({onKeyDown:D,[lqe[d]]:j=>{c&&r(!1,j.nativeEvent,"reference-press")}}),[D,r,c,d]),O=k.useMemo(()=>({onKeyDown:D,onMouseDown(){w.current=!0},onMouseUp(){w.current=!0},[uqe[u]]:()=>{v.current=!0}}),[D,u]);return k.useMemo(()=>s?{reference:$,floating:O}:{},[s,$,O])}function dqe(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=T_e(),o=k.useRef({}),[s]=k.useState(()=>eqe()),a=LY()!=null,[l,u]=k.useState(r.reference),c=dm((h,m,p)=>{o.current.openEvent=h?m:void 0,s.emit("openchange",{open:h,event:m,reason:p,nested:a}),n?.(h,m,p)}),d=k.useMemo(()=>({setPositionReference:u}),[]),f=k.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return k.useMemo(()=>({dataRef:o,open:t,onOpenChange:c,elements:f,events:s,floatingId:i,refs:d}),[t,c,f,s,i,d])}function zY(e){e===void 0&&(e={});const{nodeId:t}=e,n=dqe({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=k.useState(null),[a,l]=k.useState(null),c=i?.domReference||o,d=k.useRef(null),f=jY();Vh(()=>{c&&(d.current=c)},[c]);const h=qHe({...e,elements:{...i,...a&&{reference:a}}}),m=k.useCallback(w=>{const E=Yi(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(E),h.refs.setReference(E)},[h.refs]),p=k.useCallback(w=>{(Yi(w)||w===null)&&(d.current=w,s(w)),(Yi(h.refs.reference.current)||h.refs.reference.current===null||w!==null&&!Yi(w))&&h.refs.setReference(w)},[h.refs]),g=k.useMemo(()=>({...h.refs,setReference:p,setPositionReference:m,domReference:d}),[h.refs,p,m]),y=k.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),v=k.useMemo(()=>({...h,...r,refs:g,elements:y,nodeId:t}),[h,g,y,t,r]);return Vh(()=>{r.dataRef.current.floatingContext=v;const w=f?.nodesRef.current.find(E=>E.id===t);w&&(w.context=v)}),k.useMemo(()=>({...h,context:v,refs:g,elements:y}),[h,g,y,v])}function fqe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:o,elements:s}=e,{enabled:a=!0,visibleOnly:l=!0}=t,u=k.useRef(!1),c=k.useRef(),d=k.useRef(!0);k.useEffect(()=>{if(!a)return;const h=Tu(s.domReference);function m(){!n&&yc(s.domReference)&&s.domReference===cle(cb(s.domReference))&&(u.current=!0)}function p(){d.current=!0}return h.addEventListener("blur",m),h.addEventListener("keydown",p,!0),()=>{h.removeEventListener("blur",m),h.removeEventListener("keydown",p,!0)}},[s.domReference,n,a]),k.useEffect(()=>{if(!a)return;function h(m){let{reason:p}=m;(p==="reference-press"||p==="escape-key")&&(u.current=!0)}return i.on("openchange",h),()=>{i.off("openchange",h)}},[i,a]),k.useEffect(()=>()=>{clearTimeout(c.current)},[]);const f=k.useMemo(()=>({onPointerDown(h){qVe(h.nativeEvent)||(d.current=!1)},onMouseLeave(){u.current=!1},onFocus(h){if(u.current)return;const m=yx(h.nativeEvent);if(l&&Yi(m))try{if(WVe()&&GVe())throw Error();if(!m.matches(":focus-visible"))return}catch{if(!d.current&&!JVe(m))return}r(!0,h.nativeEvent,"focus")},onBlur(h){u.current=!1;const m=h.relatedTarget,p=h.nativeEvent,g=Yi(m)&&m.hasAttribute(BY("focus-guard"))&&m.getAttribute("data-type")==="outside";c.current=window.setTimeout(()=>{var y;const v=cle(s.domReference?s.domReference.ownerDocument:document);!m&&v===s.domReference||z2((y=o.current.floatingContext)==null?void 0:y.refs.floating.current,v)||z2(s.domReference,v)||g||r(!1,p,"focus")})}}),[o,s.domReference,r,l]);return k.useMemo(()=>a?{reference:f}:{},[a,f])}const Sle="active",Tle="selected";function yB(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[Sle]:s,[Tle]:a,...l}=e;o=l}return{...n==="floating"&&{tabIndex:-1,[aqe]:""},...o,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(l=>{let[u,c]=l;if(!(i&&[Sle,Tle].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof c=="function"){var d;(d=r.get(u))==null||d.push(c),s[u]=function(){for(var f,h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];return(f=r.get(u))==null?void 0:f.map(g=>g(...m)).find(g=>g!==void 0)}}}else s[u]=c}),s),{})}}function hqe(e){e===void 0&&(e=[]);const t=e.map(a=>a?.reference),n=e.map(a=>a?.floating),r=e.map(a=>a?.item),i=k.useCallback(a=>yB(a,e,"reference"),t),o=k.useCallback(a=>yB(a,e,"floating"),n),s=k.useCallback(a=>yB(a,e,"item"),r);return k.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}const pqe=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function mqe(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:i}=e,{enabled:o=!0,role:s="dialog"}=t,a=(n=pqe.get(s))!=null?n:s,l=T_e(),c=LY()!=null,d=k.useMemo(()=>a==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:l},...a==="menu"&&c&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[a,i,c,r,l,s]),f=k.useMemo(()=>{const m={id:i,...a&&{role:a}};return a==="tooltip"||s==="label"?m:{...m,...a==="menu"&&{"aria-labelledby":l}}},[a,i,l,s]),h=k.useCallback(m=>{let{active:p,selected:g}=m;const y={role:"option",...p&&{id:i+"-option"}};switch(s){case"select":return{...y,"aria-selected":p&&g};case"combobox":return{...y,...p&&{"aria-selected":!0}}}return{}},[i,s]);return k.useMemo(()=>o?{reference:d,floating:f,item:h}:{},[o,d,f,h])}const[gqe,Sd]=Ns("ScrollArea.Root component was not found in tree");function v_(e,t){const n=b0(t);Ly(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const yqe=k.forwardRef((e,t)=>{const{style:n,...r}=e,i=Sd(),[o,s]=k.useState(0),[a,l]=k.useState(0),u=!!(o&&a);return v_(i.scrollbarX,()=>{const c=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(c),l(c)}),v_(i.scrollbarY,()=>{const c=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(c),s(c)}),u?x.jsx("div",{...r,ref:t,style:{...n,width:o,height:a}}):null}),vqe=k.forwardRef((e,t)=>{const n=Sd(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?x.jsx(yqe,{...e,ref:t}):null}),bqe={scrollHideDelay:1e3,type:"hover"},k_e=k.forwardRef((e,t)=>{const n=He("ScrollAreaRoot",bqe,e),{type:r,scrollHideDelay:i,scrollbars:o,...s}=n,[a,l]=k.useState(null),[u,c]=k.useState(null),[d,f]=k.useState(null),[h,m]=k.useState(null),[p,g]=k.useState(null),[y,v]=k.useState(0),[w,E]=k.useState(0),[C,S]=k.useState(!1),[T,A]=k.useState(!1),D=xo(t,I=>l(I));return x.jsx(gqe,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:m,scrollbarXEnabled:C,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:T,onScrollbarYEnabledChange:A,onCornerWidthChange:v,onCornerHeightChange:E},children:x.jsx(Ie,{...s,ref:D,__vars:{"--sa-corner-width":o!=="xy"?"0px":`${y}px`,"--sa-corner-height":o!=="xy"?"0px":`${w}px`}})})});k_e.displayName="@mantine/core/ScrollAreaRoot";function R_e(e,t){const n=e/t;return Number.isNaN(n)?0:n}function J6(e){const t=R_e(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function I_e(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function wqe(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ale(e,t,n="ltr"){const r=J6(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],u=wqe(e,l);return I_e([0,s],[0,a])(u)}function xqe(e,t,n,r="ltr"){const i=J6(n),o=i/2,s=t||o,a=i-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,d=r==="ltr"?[0,c]:[c*-1,0];return I_e([l,u],d)(e)}function D_e(e,t){return e>0&&e<t}function R0(e){return e?parseInt(e,10):0}function Sb(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e?.(r),(n===!1||!r.defaultPrevented)&&t?.(r)}}const[_qe,P_e]=Ns("ScrollAreaScrollbar was not found in tree"),O_e=k.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:u,onResize:c,...d}=e,f=Sd(),[h,m]=k.useState(null),p=xo(t,A=>m(A)),g=k.useRef(null),y=k.useRef(""),{viewport:v}=f,w=n.content-n.viewport,E=b0(u),C=b0(a),S=z6(c,10),T=A=>{if(g.current){const D=A.clientX-g.current.left,I=A.clientY-g.current.top;l({x:D,y:I})}};return k.useEffect(()=>{const A=D=>{const I=D.target;h?.contains(I)&&E(D,w)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[v,h,w,E]),k.useEffect(C,[n,C]),v_(h,S),v_(f.content,S),x.jsx(_qe,{value:{scrollbar:h,hasThumb:r,onThumbChange:b0(i),onThumbPointerUp:b0(o),onThumbPositionChange:C,onThumbPointerDown:b0(s)},children:x.jsx("div",{...d,ref:p,"data-mantine-scrollbar":!0,style:{position:"absolute",...d.style},onPointerDown:Sb(e.onPointerDown,A=>{A.preventDefault(),A.button===0&&(A.target.setPointerCapture(A.pointerId),g.current=h.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",T(A))}),onPointerMove:Sb(e.onPointerMove,T),onPointerUp:Sb(e.onPointerUp,A=>{const D=A.target;D.hasPointerCapture(A.pointerId)&&(A.preventDefault(),D.releasePointerCapture(A.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=y.current,g.current=null}})})}),N_e=k.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...o}=e,s=Sd(),[a,l]=k.useState(),u=k.useRef(null),c=xo(t,u,s.onScrollbarXChange);return k.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),x.jsx(O_e,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{...i,"--sa-thumb-width":`${J6(n)}px`},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),D_e(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:R0(a.paddingLeft),paddingEnd:R0(a.paddingRight)}})}})});N_e.displayName="@mantine/core/ScrollAreaScrollbarX";const M_e=k.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...o}=e,s=Sd(),[a,l]=k.useState(),u=k.useRef(null),c=xo(t,u,s.onScrollbarYChange);return k.useEffect(()=>{u.current&&l(window.getComputedStyle(u.current))},[]),x.jsx(O_e,{...o,"data-orientation":"vertical",ref:c,sizes:n,style:{"--sa-thumb-height":`${J6(n)}px`,...i},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),D_e(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:R0(a.paddingTop),paddingEnd:R0(a.paddingBottom)}})}})});M_e.displayName="@mantine/core/ScrollAreaScrollbarY";const Z6=k.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:i}=Lu(),o=Sd(),s=k.useRef(null),a=k.useRef(0),[l,u]=k.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=R_e(l.viewport,l.content),d={...r,sizes:l,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:h=>{s.current=h},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:h=>{a.current=h}},f=(h,m)=>xqe(h,a.current,l,m);return n==="horizontal"?x.jsx(N_e,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollLeft,m=Ale(h,l,i);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=f(h,i))}}):n==="vertical"?x.jsx(M_e,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollTop,m=Ale(h,l);l.scrollbar.size===0?s.current.style.setProperty("--thumb-opacity","0"):s.current.style.setProperty("--thumb-opacity","1"),s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=f(h))}}):null});Z6.displayName="@mantine/core/ScrollAreaScrollbarVisible";const UY=k.forwardRef((e,t)=>{const n=Sd(),{forceMount:r,...i}=e,[o,s]=k.useState(!1),a=e.orientation==="horizontal",l=z6(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?u:c)}},10);return v_(n.viewport,l),v_(n.content,l),r||o?x.jsx(Z6,{"data-state":o?"visible":"hidden",...i,ref:t}):null});UY.displayName="@mantine/core/ScrollAreaScrollbarAuto";const $_e=k.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Sd(),[o,s]=k.useState(!1);return k.useEffect(()=>{const{scrollArea:a}=i;let l=0;if(a){const u=()=>{window.clearTimeout(l),s(!0)},c=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),n||o?x.jsx(UY,{"data-state":o?"visible":"hidden",...r,ref:t}):null});$_e.displayName="@mantine/core/ScrollAreaScrollbarHover";const Eqe=k.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Sd(),o=e.orientation==="horizontal",[s,a]=k.useState("hidden"),l=z6(()=>a("idle"),100);return k.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,i.scrollHideDelay]),k.useEffect(()=>{const{viewport:u}=i,c=o?"scrollLeft":"scrollTop";if(u){let d=u[c];const f=()=>{const h=u[c];d!==h&&(a("scrolling"),l()),d=h};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,o,l]),n||s!=="hidden"?x.jsx(Z6,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Sb(e.onPointerEnter,()=>a("interacting")),onPointerLeave:Sb(e.onPointerLeave,()=>a("idle"))}):null}),PV=k.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Sd(),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=e.orientation==="horizontal";return k.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?x.jsx($_e,{...r,ref:t,forceMount:n}):i.type==="scroll"?x.jsx(Eqe,{...r,ref:t,forceMount:n}):i.type==="auto"?x.jsx(UY,{...r,ref:t,forceMount:n}):i.type==="always"?x.jsx(Z6,{...r,ref:t}):null});PV.displayName="@mantine/core/ScrollAreaScrollbar";function Cqe(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function i(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&t(),n=o,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)}const F_e=k.forwardRef((e,t)=>{const{style:n,...r}=e,i=Sd(),o=P_e(),{onThumbPositionChange:s}=o,a=xo(t,c=>o.onThumbChange(c)),l=k.useRef(void 0),u=z6(()=>{l.current&&(l.current(),l.current=void 0)},100);return k.useEffect(()=>{const{viewport:c}=i;if(c){const d=()=>{if(u(),!l.current){const f=Cqe(c,s);l.current=f,s()}};return s(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[i.viewport,u,s]),x.jsx("div",{"data-state":o.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:Sb(e.onPointerDownCapture,c=>{const f=c.target.getBoundingClientRect(),h=c.clientX-f.left,m=c.clientY-f.top;o.onThumbPointerDown({x:h,y:m})}),onPointerUp:Sb(e.onPointerUp,o.onThumbPointerUp)})});F_e.displayName="@mantine/core/ScrollAreaThumb";const OV=k.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=P_e();return n||i.hasThumb?x.jsx(F_e,{ref:t,...r}):null});OV.displayName="@mantine/core/ScrollAreaThumb";const L_e=k.forwardRef(({children:e,style:t,...n},r)=>{const i=Sd(),o=xo(r,i.onViewportChange);return x.jsx(Ie,{...n,ref:o,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:x.jsx("div",{style:{minWidth:"100%"},ref:i.onContentChange,children:e})})});L_e.displayName="@mantine/core/ScrollAreaViewport";var VY={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const j_e={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},Sqe=(e,{scrollbarSize:t,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":Ge(t),"--scrollarea-over-scroll-behavior":n}}),op=et((e,t)=>{const n=He("ScrollArea",j_e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,scrollbarSize:l,vars:u,type:c,scrollHideDelay:d,viewportProps:f,viewportRef:h,onScrollPositionChange:m,children:p,offsetScrollbars:g,scrollbars:y,onBottomReached:v,onTopReached:w,overscrollBehavior:E,...C}=n,[S,T]=k.useState(!1),[A,D]=k.useState(!1),[I,P]=k.useState(!1),N=Dt({name:"ScrollArea",props:n,classes:VY,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:Sqe}),$=k.useRef(null),O=YHe([h,$]);return k.useEffect(()=>{if(!$.current||g!=="present")return;const j=$.current,B=new ResizeObserver(()=>{const{scrollHeight:H,clientHeight:q,scrollWidth:Y,clientWidth:V}=j;D(H>q),P(Y>V)});return B.observe(j),()=>B.disconnect()},[$,g]),x.jsxs(k_e,{type:c==="never"?"always":c,scrollHideDelay:d,ref:t,scrollbars:y,...N("root"),...C,children:[x.jsx(L_e,{...f,...N("viewport",{style:f?.style}),ref:O,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":y||void 0,"data-horizontal-hidden":g==="present"&&!I?"true":void 0,"data-vertical-hidden":g==="present"&&!A?"true":void 0,onScroll:j=>{f?.onScroll?.(j),m?.({x:j.currentTarget.scrollLeft,y:j.currentTarget.scrollTop});const{scrollTop:B,scrollHeight:H,clientHeight:q}=j.currentTarget;B-(H-q)>=-.6&&v?.(),B===0&&w?.()},children:p}),(y==="xy"||y==="x")&&x.jsx(PV,{...N("scrollbar"),orientation:"horizontal","data-hidden":c==="never"||g==="present"&&!I?!0:void 0,forceMount:!0,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:x.jsx(OV,{...N("thumb")})}),(y==="xy"||y==="y")&&x.jsx(PV,{...N("scrollbar"),orientation:"vertical","data-hidden":c==="never"||g==="present"&&!A?!0:void 0,forceMount:!0,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:x.jsx(OV,{...N("thumb")})}),x.jsx(vqe,{...N("corner"),"data-hovered":S||void 0,"data-hidden":c==="never"||void 0})]})});op.displayName="@mantine/core/ScrollArea";const HY=et((e,t)=>{const{children:n,classNames:r,styles:i,scrollbarSize:o,scrollHideDelay:s,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:m,scrollbars:p,style:g,vars:y,onBottomReached:v,onTopReached:w,...E}=He("ScrollAreaAutosize",j_e,e);return x.jsx(Ie,{...E,ref:t,style:[{display:"flex",overflow:"auto"},g],children:x.jsx(Ie,{style:{display:"flex",flexDirection:"column",flex:1},children:x.jsx(op,{classNames:r,styles:i,scrollHideDelay:s,scrollbarSize:o,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:m,vars:y,scrollbars:p,onBottomReached:v,onTopReached:w,children:n})})})});op.classes=VY;HY.displayName="@mantine/core/ScrollAreaAutosize";HY.classes=VY;op.Autosize=HY;var B_e={root:"m_87cf2631"};const Tqe={__staticSelector:"UnstyledButton"},fs=es((e,t)=>{const n=He("UnstyledButton",Tqe,e),{className:r,component:i="button",__staticSelector:o,unstyled:s,classNames:a,styles:l,style:u,...c}=n,d=Dt({name:o,props:n,classes:B_e,className:r,style:u,classNames:a,styles:l,unstyled:s});return x.jsx(Ie,{...d("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...c})});fs.classes=B_e;fs.displayName="@mantine/core/UnstyledButton";var z_e={root:"m_515a97f8"};const Aqe={},qY=et((e,t)=>{const n=He("VisuallyHidden",Aqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,...u}=n,c=Dt({name:"VisuallyHidden",classes:z_e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a});return x.jsx(Ie,{component:"span",ref:t,...c("root"),...u})});qY.classes=z_e;qY.displayName="@mantine/core/VisuallyHidden";var U_e={root:"m_1b7284a3"};const kqe={},Rqe=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:qr(t),"--paper-shadow":_Y(n)}}),Td=es((e,t)=>{const n=He("Paper",kqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,withBorder:l,vars:u,radius:c,shadow:d,variant:f,mod:h,...m}=n,p=Dt({name:"Paper",props:n,classes:U_e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:Rqe});return x.jsx(Ie,{ref:t,mod:[{"data-with-border":l},h],...p("root"),variant:f,...m})});Td.classes=U_e;Td.displayName="@mantine/core/Paper";function V_e(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}function kle(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function Rle(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const Iqe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Dqe({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:o,arrowY:s,dir:a}){const[l,u="center"]=e.split("-"),c={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[Iqe[l]]:r},d=-t/2;return l==="left"?{...c,...kle(u,s,n,i),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:l==="right"?{...c,...kle(u,s,n,i),left:d,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:l==="top"?{...c,...Rle(u,o,n,i,a),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:l==="bottom"?{...c,...Rle(u,o,n,i,a),top:d,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const WY=k.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:o,arrowX:s,arrowY:a,style:l,...u},c)=>{const{dir:d}=Lu();return o?x.jsx("div",{...u,ref:c,style:{...l,...Dqe({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:d,arrowX:s,arrowY:a})}}):null});WY.displayName="@mantine/core/FloatingArrow";var H_e={root:"m_9814e45f"};const Pqe={zIndex:Fu("modal")},Oqe=(e,{gradient:t,color:n,backgroundOpacity:r,blur:i,radius:o,zIndex:s})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&Eh(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${Ge(i)})`:void 0,"--overlay-radius":o===void 0?void 0:qr(o),"--overlay-z-index":s?.toString()}}),b_=es((e,t)=>{const n=He("Overlay",Pqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,fixed:u,center:c,children:d,radius:f,zIndex:h,gradient:m,blur:p,color:g,backgroundOpacity:y,mod:v,...w}=n,E=Dt({name:"Overlay",props:n,classes:H_e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Oqe});return x.jsx(Ie,{ref:t,...E("root"),mod:[{center:c,fixed:u},v],...w,children:d})});b_.classes=H_e;b_.displayName="@mantine/core/Overlay";function vB(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function Nqe({target:e,reuseTargetNode:t,...n}){if(e)return typeof e=="string"?document.querySelector(e)||vB(n):e;if(t){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const i=vB(n);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return vB(n)}const Mqe={},q_e=et((e,t)=>{const{children:n,target:r,reuseTargetNode:i,...o}=He("Portal",Mqe,e),[s,a]=k.useState(!1),l=k.useRef(null);return Ly(()=>(a(!0),l.current=Nqe({target:r,reuseTargetNode:i,...o}),LN(t,l.current),!r&&!i&&l.current&&document.body.appendChild(l.current),()=>{!r&&!i&&l.current&&document.body.removeChild(l.current)}),[r]),!s||!l.current?null:Fh.createPortal(x.jsx(x.Fragment,{children:n}),l.current)});q_e.displayName="@mantine/core/Portal";const By=et(({withinPortal:e=!0,children:t,...n},r)=>Zxe()==="test"||!e?x.jsx(x.Fragment,{children:t}):x.jsx(q_e,{ref:r,...n,children:t}));By.displayName="@mantine/core/OptionalPortal";const aS=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),vD={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...aS("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...aS("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...aS("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...aS("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...aS("top"),common:{transformOrigin:"top right"}}},Ile={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function $qe({transition:e,state:t,duration:n,timingFunction:r}){const i={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in vD?{transitionProperty:vD[e].transitionProperty,...i,...vD[e].common,...vD[e][Ile[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[Ile[t]]}}function Fqe({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:o,onEntered:s,onExited:a,enterDelay:l,exitDelay:u}){const c=uo(),d=U6(),f=c.respectReducedMotion?d:!1,[h,m]=k.useState(f?0:e),[p,g]=k.useState(r?"entered":"exited"),y=k.useRef(-1),v=k.useRef(-1),w=k.useRef(-1);function E(){window.clearTimeout(y.current),window.clearTimeout(v.current),cancelAnimationFrame(w.current)}const C=T=>{E();const A=T?i:o,D=T?s:a,I=f?0:T?e:t;m(I),I===0?(typeof A=="function"&&A(),typeof D=="function"&&D(),g(T?"entered":"exited")):w.current=requestAnimationFrame(()=>{rT.flushSync(()=>{g(T?"pre-entering":"pre-exiting")}),w.current=requestAnimationFrame(()=>{typeof A=="function"&&A(),g(T?"entering":"exiting"),y.current=window.setTimeout(()=>{typeof D=="function"&&D(),g(T?"entered":"exited")},I)})})},S=T=>{if(E(),typeof(T?l:u)!="number"){C(T);return}v.current=window.setTimeout(()=>{C(T)},T?l:u)};return Hl(()=>{S(r)},[r]),k.useEffect(()=>()=>{E()},[]),{transitionDuration:h,transitionStatus:p,transitionTimingFunction:n||"ease"}}function Ad({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:i,children:o,timingFunction:s="ease",onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:f}){const h=Zxe(),{transitionDuration:m,transitionStatus:p,transitionTimingFunction:g}=Fqe({mounted:i,exitDuration:r,duration:n,timingFunction:s,onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:f});return m===0||h==="test"?i?x.jsx(x.Fragment,{children:o({})}):e?o({display:"none"}):null:p==="exited"?e?o({display:"none"}):null:x.jsx(x.Fragment,{children:o($qe({transition:t,duration:m,state:p,timingFunction:g}))})}Ad.displayName="@mantine/core/Transition";const[Lqe,W_e]=Ns("Popover component was not found in the tree");function fk({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const i=Zze(t),o=xo(i,r);return hg(e)?k.cloneElement(e,{[n]:o}):e}function G_e(e){return x.jsx(qY,{tabIndex:-1,"data-autofocus":!0,...e})}fk.displayName="@mantine/core/FocusTrap";G_e.displayName="@mantine/core/FocusTrapInitialFocus";fk.InitialFocus=G_e;var Y_e={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const jqe={},GY=et((e,t)=>{const n=He("PopoverDropdown",jqe,e),{className:r,style:i,vars:o,children:s,onKeyDownCapture:a,variant:l,classNames:u,styles:c,...d}=n,f=W_e(),h=Hxe({opened:f.opened,shouldReturnFocus:f.returnFocus}),m=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},p=xo(t,f.floating);return f.disabled?null:x.jsx(By,{...f.portalProps,withinPortal:f.withinPortal,children:x.jsx(Ad,{mounted:f.opened,...f.transitionProps,transition:f.transitionProps?.transition||"fade",duration:f.transitionProps?.duration??150,keepMounted:f.keepMounted,exitDuration:typeof f.transitionProps?.exitDuration=="number"?f.transitionProps.exitDuration:f.transitionProps?.duration,children:g=>x.jsx(fk,{active:f.trapFocus&&f.opened,innerRef:p,children:x.jsxs(Ie,{...m,...d,variant:l,onKeyDownCapture:Bze(()=>{f.onClose?.(),f.onDismiss?.()},{active:f.closeOnEscape,onTrigger:h,onKeyDown:a}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:r,props:n,classNames:u,styles:c,style:[{...g,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:Ge(f.width)},f.resolvedStyles.dropdown,c?.dropdown,i]}),children:[s,x.jsx(WY,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:n,classNames:u,styles:c})})]})})})})});GY.classes=Y_e;GY.displayName="@mantine/core/PopoverDropdown";const Bqe={refProp:"ref",popupType:"dialog"},K_e=et((e,t)=>{const{children:n,refProp:r,popupType:i,...o}=He("PopoverTarget",Bqe,e);if(!hg(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=o,a=W_e(),l=xo(a.reference,V6(n),t),u=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return k.cloneElement(n,{...s,...u,...a.targetProps,className:$t(a.targetProps.className,s.className,n.props.className),[r]:l,...a.controlled?null:{onClick:a.onToggle}})});K_e.displayName="@mantine/core/PopoverTarget";function X_e({opened:e,floating:t,position:n,positionDependencies:r}){const[i,o]=k.useState(0);k.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return MHe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,n]),Hl(()=>{t.update()},r),Hl(()=>{o(s=>s+1)},[e])}function zqe(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function Uqe(e,t){const n=zqe(e.middlewares),r=[E_e(e.offset)];return n.shift&&r.push(FY(typeof n.shift=="boolean"?{limiter:wle(),padding:5}:{limiter:wle(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?VN():VN(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?GT():GT(n.inline)),r.push(C_e({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push(GHe({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:o,availableHeight:s,...a}){const u=t().refs.floating.current?.style??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:i,availableWidth:o,availableHeight:s,...a}):Object.assign(u,{maxWidth:`${o}px`,maxHeight:`${s}px`})),e.width==="target"&&Object.assign(u,{width:`${i.reference.width}px`})}})),r}function Vqe(e){const[t,n]=zi({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=k.useRef(t),i=()=>{t&&!e.disabled&&n(!1)},o=()=>!e.disabled&&n(!t),s=zY({strategy:e.strategy,placement:e.position,middleware:Uqe(e,()=>s)});return X_e({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:s}),Hl(()=>{e.onPositionChange?.(s.placement)},[s.placement]),Hl(()=>{t!==r.current&&(t?e.onOpen?.():e.onClose?.()),r.current=t},[t,e.onClose,e.onOpen]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:i,onToggle:o}}const Hqe={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Fu("popover"),__staticSelector:"Popover",width:"max-content"},qqe=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:qr(t),"--popover-shadow":_Y(n)}});function Or(e){const t=He("Popover",Hqe,e),{children:n,position:r,offset:i,onPositionChange:o,positionDependencies:s,opened:a,transitionProps:l,onExitTransitionEnd:u,onEnterTransitionEnd:c,width:d,middlewares:f,withArrow:h,arrowSize:m,arrowOffset:p,arrowRadius:g,arrowPosition:y,unstyled:v,classNames:w,styles:E,closeOnClickOutside:C,withinPortal:S,portalProps:T,closeOnEscape:A,clickOutsideEvents:D,trapFocus:I,onClose:P,onDismiss:N,onOpen:$,onChange:O,zIndex:j,radius:B,shadow:H,id:q,defaultOpened:Y,__staticSelector:V,withRoles:L,disabled:U,returnFocus:z,variant:G,keepMounted:Q,vars:te,floatingStrategy:de,withOverlay:se,overlayProps:ae,...he}=t,ie=Dt({name:V,props:t,classes:Y_e,classNames:w,styles:E,unstyled:v,rootSelector:"dropdown",vars:te,varsResolver:qqe}),{resolvedStyles:le}=zf({classNames:w,styles:E,props:t}),Ce=k.useRef(null),[X,fe]=k.useState(null),[ce,ne]=k.useState(null),{dir:ee}=Lu(),pe=Pa(q),Re=Vqe({middlewares:f,width:d,position:V_e(ee,r),offset:typeof i=="number"?i+(h?m/2:0):i,arrowRef:Ce,arrowOffset:p,onPositionChange:o,positionDependencies:s,opened:a,defaultOpened:Y,onChange:O,onOpen:$,onClose:P,onDismiss:N,strategy:de,disabled:U});Uxe(()=>{C&&(Re.onClose(),N?.())},D,[X,ce]);const Se=k.useCallback(Pe=>{fe(Pe),Re.floating.refs.setReference(Pe)},[Re.floating.refs.setReference]),be=k.useCallback(Pe=>{ne(Pe),Re.floating.refs.setFloating(Pe)},[Re.floating.refs.setFloating]),Ne=k.useCallback(()=>{l?.onExited?.(),u?.()},[l?.onExited,u]),Ae=k.useCallback(()=>{l?.onEntered?.(),c?.()},[l?.onEntered,c]);return x.jsxs(Lqe,{value:{returnFocus:z,disabled:U,controlled:Re.controlled,reference:Se,floating:be,x:Re.floating.x,y:Re.floating.y,arrowX:Re.floating?.middlewareData?.arrow?.x,arrowY:Re.floating?.middlewareData?.arrow?.y,opened:Re.opened,arrowRef:Ce,transitionProps:{...l,onExited:Ne,onEntered:Ae},width:d,withArrow:h,arrowSize:m,arrowOffset:p,arrowRadius:g,arrowPosition:y,placement:Re.floating.placement,trapFocus:I,withinPortal:S,portalProps:T,zIndex:j,radius:B,shadow:H,closeOnEscape:A,onDismiss:N,onClose:Re.onClose,onToggle:Re.onToggle,getTargetId:()=>`${pe}-target`,getDropdownId:()=>`${pe}-dropdown`,withRoles:L,targetProps:he,__staticSelector:V,classNames:w,styles:E,unstyled:v,variant:G,keepMounted:Q,getStyles:ie,resolvedStyles:le,floatingStrategy:de},children:[n,se&&x.jsx(Ad,{transition:"fade",mounted:Re.opened,duration:l?.duration||250,exitDuration:l?.exitDuration||250,children:Pe=>x.jsx(By,{withinPortal:S,children:x.jsx(b_,{...ae,...ie("overlay",{className:ae?.className,style:[Pe,ae?.style]})})})})]})}Or.Target=K_e;Or.Dropdown=GY;Or.displayName="@mantine/core/Popover";Or.extend=e=>e;var ff={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const Q_e=k.forwardRef(({className:e,...t},n)=>x.jsxs(Ie,{component:"span",className:$t(ff.barsLoader,e),...t,ref:n,children:[x.jsx("span",{className:ff.bar}),x.jsx("span",{className:ff.bar}),x.jsx("span",{className:ff.bar})]}));Q_e.displayName="@mantine/core/Bars";const J_e=k.forwardRef(({className:e,...t},n)=>x.jsxs(Ie,{component:"span",className:$t(ff.dotsLoader,e),...t,ref:n,children:[x.jsx("span",{className:ff.dot}),x.jsx("span",{className:ff.dot}),x.jsx("span",{className:ff.dot})]}));J_e.displayName="@mantine/core/Dots";const Z_e=k.forwardRef(({className:e,...t},n)=>x.jsx(Ie,{component:"span",className:$t(ff.ovalLoader,e),...t,ref:n}));Z_e.displayName="@mantine/core/Oval";const eEe={bars:Q_e,oval:Z_e,dots:J_e},Wqe={loaders:eEe,type:"oval"},Gqe=(e,{size:t,color:n})=>({root:{"--loader-size":mn(t,"loader-size"),"--loader-color":n?ti(n,e):void 0}}),Uf=et((e,t)=>{const n=He("Loader",Wqe,e),{size:r,color:i,type:o,vars:s,className:a,style:l,classNames:u,styles:c,unstyled:d,loaders:f,variant:h,children:m,...p}=n,g=Dt({name:"Loader",props:n,classes:ff,className:a,style:l,classNames:u,styles:c,unstyled:d,vars:s,varsResolver:Gqe});return m?x.jsx(Ie,{...g("root"),ref:t,...p,children:m}):x.jsx(Ie,{...g("root"),ref:t,component:f[o],variant:h,size:r,...p})});Uf.defaultLoaders=eEe;Uf.classes=ff;Uf.displayName="@mantine/core/Loader";var _E={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const Dle={orientation:"horizontal"},Yqe=(e,{borderWidth:t})=>({group:{"--ai-border-width":Ge(t)}}),YY=et((e,t)=>{const n=He("ActionIconGroup",Dle,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=He("ActionIconGroup",Dle,e),m=Dt({name:"ActionIconGroup",props:n,classes:_E,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:Yqe,rootSelector:"group"});return x.jsx(Ie,{...m("group"),ref:t,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});YY.classes=_E;YY.displayName="@mantine/core/ActionIconGroup";const Ple={},Kqe=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:o,size:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:o});return{groupSection:{"--section-height":mn(s,"section-height"),"--section-padding-x":mn(s,"section-padding-x"),"--section-fz":vo(s),"--section-radius":t===void 0?void 0:qr(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},KY=et((e,t)=>{const n=He("ActionIconGroupSection",Ple,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,variant:u,gradient:c,radius:d,autoContrast:f,...h}=He("ActionIconGroupSection",Ple,e),m=Dt({name:"ActionIconGroupSection",props:n,classes:_E,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,varsResolver:Kqe,rootSelector:"groupSection"});return x.jsx(Ie,{...m("groupSection"),ref:t,variant:u,...h})});KY.classes=_E;KY.displayName="@mantine/core/ActionIconGroupSection";const Xqe={},Qqe=(e,{size:t,radius:n,variant:r,gradient:i,color:o,autoContrast:s})=>{const a=e.variantColorResolver({color:o||e.primaryColor,theme:e,gradient:i,variant:r||"filled",autoContrast:s});return{root:{"--ai-size":mn(t,"ai-size"),"--ai-radius":n===void 0?void 0:qr(n),"--ai-bg":o||r?a.background:void 0,"--ai-hover":o||r?a.hover:void 0,"--ai-hover-color":o||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":o||r?a.border:void 0}}},Cn=es((e,t)=>{const n=He("ActionIcon",Xqe,e),{className:r,unstyled:i,variant:o,classNames:s,styles:a,style:l,loading:u,loaderProps:c,size:d,color:f,radius:h,__staticSelector:m,gradient:p,vars:g,children:y,disabled:v,"data-disabled":w,autoContrast:E,mod:C,...S}=n,T=Dt({name:["ActionIcon",m],props:n,className:r,style:l,classes:_E,classNames:s,styles:a,unstyled:i,vars:g,varsResolver:Qqe});return x.jsxs(fs,{...T("root",{active:!v&&!u&&!w}),...S,unstyled:i,variant:o,size:d,disabled:v||u,ref:t,mod:[{loading:u,disabled:v||w},C],children:[x.jsx(Ad,{mounted:!!u,transition:"slide-down",duration:150,children:A=>x.jsx(Ie,{component:"span",...T("loader",{style:A}),"aria-hidden":!0,children:x.jsx(Uf,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...c})})}),x.jsx(Ie,{component:"span",mod:{loading:u},...T("icon"),children:y})]})});Cn.classes=_E;Cn.displayName="@mantine/core/ActionIcon";Cn.Group=YY;Cn.GroupSection=KY;const tEe=k.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>x.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:x.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));tEe.displayName="@mantine/core/CloseIcon";var nEe={root:"m_86a44da5","root--subtle":"m_220c80f2"};const Jqe={variant:"subtle"},Zqe=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":mn(t,"cb-size"),"--cb-radius":n===void 0?void 0:qr(n),"--cb-icon-size":Ge(r)}}),sp=es((e,t)=>{const n=He("CloseButton",Jqe,e),{iconSize:r,children:i,vars:o,radius:s,className:a,classNames:l,style:u,styles:c,unstyled:d,"data-disabled":f,disabled:h,variant:m,icon:p,mod:g,__staticSelector:y,...v}=n,w=Dt({name:y||"CloseButton",props:n,className:a,style:u,classes:nEe,classNames:l,styles:c,unstyled:d,vars:o,varsResolver:Zqe});return x.jsxs(fs,{ref:t,...v,unstyled:d,variant:m,disabled:h,mod:[{disabled:h||f},g],...w("root",{variant:m,active:!h&&!f}),children:[p||x.jsx(tEe,{}),i]})});sp.classes=nEe;sp.displayName="@mantine/core/CloseButton";function eWe(e){return k.Children.toArray(e).filter(Boolean)}var rEe={root:"m_4081bf90"};const tWe={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},nWe=(e,{grow:t,preventGrowOverflow:n,gap:r,align:i,justify:o,wrap:s},{childWidth:a})=>({root:{"--group-child-width":t&&n?a:void 0,"--group-gap":Bi(r),"--group-align":i,"--group-justify":o,"--group-wrap":s}}),Gn=et((e,t)=>{const n=He("Group",tWe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,children:l,gap:u,align:c,justify:d,wrap:f,grow:h,preventGrowOverflow:m,vars:p,variant:g,__size:y,mod:v,...w}=n,E=eWe(l),C=E.length,S=Bi(u??"md"),A={childWidth:`calc(${100/C}% - (${S} - ${S} / ${C}))`},D=Dt({name:"Group",props:n,stylesCtx:A,className:i,style:o,classes:rEe,classNames:r,styles:s,unstyled:a,vars:p,varsResolver:nWe});return x.jsx(Ie,{...D("root"),ref:t,variant:g,mod:[{grow:h},v],size:y,...w,children:E})});Gn.classes=rEe;Gn.displayName="@mantine/core/Group";const[rWe,gg]=Ns("ModalBase component was not found in tree");function iWe({opened:e,transitionDuration:t}){const[n,r]=k.useState(e),i=k.useRef(-1),s=U6()?0:t;return k.useEffect(()=>(e?(r(!0),window.clearTimeout(i.current)):s===0?r(!1):i.current=window.setTimeout(()=>r(!1),s),()=>window.clearTimeout(i.current)),[e,s]),n}function oWe({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:i,onClose:o,returnFocus:s}){const a=Pa(e),[l,u]=k.useState(!1),[c,d]=k.useState(!1),f=typeof t?.duration=="number"?t?.duration:200,h=iWe({opened:n,transitionDuration:f});return Yxe("keydown",m=>{m.key==="Escape"&&i&&!m.isComposing&&n&&m.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&o()},{capture:!0}),Hxe({opened:n,shouldReturnFocus:r&&s}),{_id:a,titleMounted:l,bodyMounted:c,shouldLockScroll:h,setTitleMounted:u,setBodyMounted:d}}const iEe=k.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:i,onExitTransitionEnd:o,onEnterTransitionEnd:s,trapFocus:a,closeOnEscape:l,returnFocus:u,closeOnClickOutside:c,withinPortal:d,portalProps:f,lockScroll:h,children:m,zIndex:p,shadow:g,padding:y,__vars:v,unstyled:w,removeScrollProps:E,...C},S)=>{const{_id:T,titleMounted:A,bodyMounted:D,shouldLockScroll:I,setTitleMounted:P,setBodyMounted:N}=oWe({id:r,transitionProps:i,opened:t,trapFocus:a,closeOnEscape:l,onClose:n,returnFocus:u}),{key:$,...O}=E||{};return x.jsx(By,{...f,withinPortal:d,children:x.jsx(rWe,{value:{opened:t,onClose:n,closeOnClickOutside:c,onExitTransitionEnd:o,onEnterTransitionEnd:s,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${T}-title`,getBodyId:()=>`${T}-body`,titleMounted:A,bodyMounted:D,setTitleMounted:P,setBodyMounted:N,trapFocus:a,closeOnEscape:l,zIndex:p,unstyled:w},children:x.jsx(g_,{enabled:I&&h,...O,children:x.jsx(Ie,{ref:S,...C,__vars:{...v,"--mb-z-index":(p||Fu("modal")).toString(),"--mb-shadow":_Y(g),"--mb-padding":Bi(y)},children:m})},$)})})});iEe.displayName="@mantine/core/ModalBase";function sWe(){const e=gg();return k.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var w_={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const oEe=k.forwardRef(({className:e,...t},n)=>{const r=sWe(),i=gg();return x.jsx(Ie,{ref:n,...t,id:r,className:$t({[w_.body]:!i.unstyled},e)})});oEe.displayName="@mantine/core/ModalBaseBody";const sEe=k.forwardRef(({className:e,onClick:t,...n},r)=>{const i=gg();return x.jsx(sp,{ref:r,...n,onClick:o=>{i.onClose(),t?.(o)},className:$t({[w_.close]:!i.unstyled},e),unstyled:i.unstyled})});sEe.displayName="@mantine/core/ModalBaseCloseButton";const aEe=k.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:i,...o},s)=>{const a=gg();return x.jsx(Ad,{mounted:a.opened,transition:"pop",...a.transitionProps,onExited:()=>{a.onExitTransitionEnd?.(),a.transitionProps?.onExited?.()},onEntered:()=>{a.onEnterTransitionEnd?.(),a.transitionProps?.onEntered?.()},...e,children:l=>x.jsx("div",{...n,className:$t({[w_.inner]:!a.unstyled},n.className),children:x.jsx(fk,{active:a.opened&&a.trapFocus,innerRef:s,children:x.jsx(Td,{...o,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[i,l],className:$t({[w_.content]:!a.unstyled},t),unstyled:a.unstyled,children:o.children})})})})});aEe.displayName="@mantine/core/ModalBaseContent";const lEe=k.forwardRef(({className:e,...t},n)=>{const r=gg();return x.jsx(Ie,{component:"header",ref:n,className:$t({[w_.header]:!r.unstyled},e),...t})});lEe.displayName="@mantine/core/ModalBaseHeader";const aWe={duration:200,timingFunction:"ease",transition:"fade"};function lWe(e){const t=gg();return{...aWe,...t.transitionProps,...e}}const uEe=k.forwardRef(({onClick:e,transitionProps:t,style:n,visible:r,...i},o)=>{const s=gg(),a=lWe(t);return x.jsx(Ad,{mounted:r!==void 0?r:s.opened,...a,transition:"fade",children:l=>x.jsx(b_,{ref:o,fixed:!0,style:[n,l],zIndex:s.zIndex,unstyled:s.unstyled,onClick:u=>{e?.(u),s.closeOnClickOutside&&s.onClose()},...i})})});uEe.displayName="@mantine/core/ModalBaseOverlay";function uWe(){const e=gg();return k.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const cEe=k.forwardRef(({className:e,...t},n)=>{const r=uWe(),i=gg();return x.jsx(Ie,{component:"h2",ref:n,className:$t({[w_.title]:!i.unstyled},e),...t,id:r})});cEe.displayName="@mantine/core/ModalBaseTitle";function cWe({children:e}){return x.jsx(x.Fragment,{children:e})}const[dWe,fWe]=pg({size:"sm"}),hWe={},dEe=et((e,t)=>{const n=He("InputClearButton",hWe,e),{size:r,variant:i,vars:o,classNames:s,styles:a,...l}=n,u=fWe(),{resolvedClassNames:c,resolvedStyles:d}=zf({classNames:s,styles:a,props:n});return x.jsx(sp,{variant:i||"transparent",ref:t,size:r||u?.size||"sm",classNames:c,styles:d,__staticSelector:"InputClearButton",...l})});dEe.displayName="@mantine/core/InputClearButton";const[pWe,EE]=pg({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var kd={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Ole={},mWe=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${vo(t)} - ${Ge(2)})`}}),e$=et((e,t)=>{const n=He("InputDescription",Ole,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=He("InputDescription",Ole,n),m=EE(),p=Dt({name:["InputWrapper",c],props:n,classes:kd,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"description",vars:l,varsResolver:mWe}),g=d&&m?.getStyles||p;return x.jsx(Ie,{component:"p",ref:t,variant:f,size:u,...g("description",m?.getStyles?{className:i,style:o}:void 0),...h})});e$.classes=kd;e$.displayName="@mantine/core/InputDescription";const gWe={},yWe=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${vo(t)} - ${Ge(2)})`}}),t$=et((e,t)=>{const n=He("InputError",gWe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=n,m=Dt({name:["InputWrapper",c],props:n,classes:kd,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"error",vars:l,varsResolver:yWe}),p=EE(),g=d&&p?.getStyles||m;return x.jsx(Ie,{component:"p",ref:t,variant:f,size:u,...g("error",p?.getStyles?{className:i,style:o}:void 0),...h})});t$.classes=kd;t$.displayName="@mantine/core/InputError";const Nle={labelElement:"label"},vWe=(e,{size:t})=>({label:{"--input-label-size":vo(t),"--input-asterisk-color":void 0}}),n$=et((e,t)=>{const n=He("InputLabel",Nle,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,labelElement:u,size:c,required:d,htmlFor:f,onMouseDown:h,children:m,__staticSelector:p,variant:g,mod:y,...v}=He("InputLabel",Nle,n),w=Dt({name:["InputWrapper",p],props:n,classes:kd,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"label",vars:l,varsResolver:vWe}),E=EE(),C=E?.getStyles||w;return x.jsxs(Ie,{...C("label",E?.getStyles?{className:i,style:o}:void 0),component:u,variant:g,size:c,ref:t,htmlFor:u==="label"?f:void 0,mod:[{required:d},y],onMouseDown:S=>{h?.(S),!S.defaultPrevented&&S.detail>1&&S.preventDefault()},...v,children:[m,d&&x.jsx("span",{...C("required"),"aria-hidden":!0,children:" *"})]})});n$.classes=kd;n$.displayName="@mantine/core/InputLabel";const Mle={},XY=et((e,t)=>{const n=He("InputPlaceholder",Mle,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,__staticSelector:u,variant:c,error:d,mod:f,...h}=He("InputPlaceholder",Mle,n),m=Dt({name:["InputPlaceholder",u],props:n,classes:kd,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"placeholder"});return x.jsx(Ie,{...m("placeholder"),mod:[{error:!!d},f],component:"span",variant:c,ref:t,...h})});XY.classes=kd;XY.displayName="@mantine/core/InputPlaceholder";function bWe(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),i=e.slice(0,r),o=e.slice(r+1),s=t&&i.includes("description")||n&&i.includes("error");return{offsetBottom:t&&o.includes("description")||n&&o.includes("error"),offsetTop:s}}const wWe={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},xWe=(e,{size:t})=>({label:{"--input-label-size":vo(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${vo(t)} - ${Ge(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${vo(t)} - ${Ge(2)})`}}),QY=et((e,t)=>{const n=He("InputWrapper",wWe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,variant:c,__staticSelector:d,inputContainer:f,inputWrapperOrder:h,label:m,error:p,description:g,labelProps:y,descriptionProps:v,errorProps:w,labelElement:E,children:C,withAsterisk:S,id:T,required:A,__stylesApiProps:D,mod:I,...P}=n,N=Dt({name:["InputWrapper",d],props:D||n,classes:kd,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:xWe}),$={size:u,variant:c,__staticSelector:d},O=Pa(T),j=typeof S=="boolean"?S:A,B=w?.id||`${O}-error`,H=v?.id||`${O}-description`,q=O,Y=!!p&&typeof p!="boolean",V=!!g,L=`${Y?B:""} ${V?H:""}`,U=L.trim().length>0?L.trim():void 0,z=y?.id||`${O}-label`,G=m&&x.jsx(n$,{labelElement:E,id:z,htmlFor:q,required:j,...$,...y,children:m},"label"),Q=V&&x.jsx(e$,{...v,...$,size:v?.size||$.size,id:v?.id||H,children:g},"description"),te=x.jsx(k.Fragment,{children:f(C)},"input"),de=Y&&k.createElement(t$,{...w,...$,size:w?.size||$.size,key:"error",id:w?.id||B},p),se=h.map(ae=>{switch(ae){case"label":return G;case"input":return te;case"description":return Q;case"error":return de;default:return null}});return x.jsx(pWe,{value:{getStyles:N,describedBy:U,inputId:q,labelId:z,...bWe(h,{hasDescription:V,hasError:Y})},children:x.jsx(Ie,{ref:t,variant:c,size:u,mod:[{error:!!p},I],...N("root"),...P,children:se})})});QY.classes=kd;QY.displayName="@mantine/core/InputWrapper";const _We={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},EWe=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":mn(t.size,"input-height"),"--input-fz":vo(t.size),"--input-radius":t.radius===void 0?void 0:qr(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?Ge(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?Ge(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?mn(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Hr=es((e,t)=>{const n=He("Input",_We,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,required:l,__staticSelector:u,__stylesApiProps:c,size:d,wrapperProps:f,error:h,disabled:m,leftSection:p,leftSectionProps:g,leftSectionWidth:y,rightSection:v,rightSectionProps:w,rightSectionWidth:E,rightSectionPointerEvents:C,leftSectionPointerEvents:S,variant:T,vars:A,pointer:D,multiline:I,radius:P,id:N,withAria:$,withErrorStyles:O,mod:j,inputSize:B,__clearSection:H,__clearable:q,__defaultRightSection:Y,...V}=n,{styleProps:L,rest:U}=D1(V),z=EE(),G={offsetBottom:z?.offsetBottom,offsetTop:z?.offsetTop},Q=Dt({name:["Input",u],props:c||n,classes:kd,className:i,style:o,classNames:r,styles:s,unstyled:a,stylesCtx:G,rootSelector:"wrapper",vars:A,varsResolver:EWe}),te=$?{required:l,disabled:m,"aria-invalid":!!h,"aria-describedby":z?.describedBy,id:z?.inputId||N}:{},de=v||q&&H||Y;return x.jsx(dWe,{value:{size:d||"sm"},children:x.jsxs(Ie,{...Q("wrapper"),...L,...f,mod:[{error:!!h&&O,pointer:D,disabled:m,multiline:I,"data-with-right-section":!!de,"data-with-left-section":!!p},j],variant:T,size:d,children:[p&&x.jsx("div",{...g,"data-position":"left",...Q("section",{className:g?.className,style:g?.style}),children:p}),x.jsx(Ie,{component:"input",...U,...te,ref:t,required:l,mod:{disabled:m,error:!!h&&O},variant:T,__size:B,...Q("input")}),de&&x.jsx("div",{...w,"data-position":"right",...Q("section",{className:w?.className,style:w?.style}),children:de})]})})});Hr.classes=kd;Hr.Wrapper=QY;Hr.Label=n$;Hr.Error=t$;Hr.Description=e$;Hr.Placeholder=XY;Hr.ClearButton=dEe;Hr.displayName="@mantine/core/Input";function JY(e,t,n){const r=He(e,t,n),{label:i,description:o,error:s,required:a,classNames:l,styles:u,className:c,unstyled:d,__staticSelector:f,__stylesApiProps:h,errorProps:m,labelProps:p,descriptionProps:g,wrapperProps:y,id:v,size:w,style:E,inputContainer:C,inputWrapperOrder:S,withAsterisk:T,variant:A,vars:D,mod:I,...P}=r,{styleProps:N,rest:$}=D1(P),O={label:i,description:o,error:s,required:a,classNames:l,className:c,__staticSelector:f,__stylesApiProps:h||r,errorProps:m,labelProps:p,descriptionProps:g,unstyled:d,styles:u,size:w,style:E,inputContainer:C,inputWrapperOrder:S,withAsterisk:T,variant:A,id:v,mod:I,...y};return{...$,classNames:l,styles:u,unstyled:d,wrapperProps:{...O,...N},inputProps:{required:a,classNames:l,styles:u,unstyled:d,size:w,__staticSelector:f,__stylesApiProps:h||r,error:s,variant:A,id:v}}}const CWe={__staticSelector:"InputBase",withAria:!0},Xl=es((e,t)=>{const{inputProps:n,wrapperProps:r,...i}=JY("InputBase",CWe,e);return x.jsx(Hr.Wrapper,{...r,children:x.jsx(Hr,{...n,...i,ref:t})})});Xl.classes={...Hr.classes,...Hr.Wrapper.classes};Xl.displayName="@mantine/core/InputBase";const SWe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var fEe={root:"m_8bffd616"};const TWe={},At=es((e,t)=>{const n=He("Flex",TWe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:m,direction:p,...g}=n,y=Dt({name:"Flex",classes:fEe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l}),v=uo(),w=ck(),E=i_e({styleProps:{gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:m,direction:p},theme:v,data:SWe});return x.jsxs(x.Fragment,{children:[E.hasResponsiveStyles&&x.jsx(I1,{selector:`.${w}`,styles:E.styles,media:E.media}),x.jsx(Ie,{ref:t,...y("root",{className:w,style:Fy(E.inlineStyles)}),...g})]})});At.classes=fEe;At.displayName="@mantine/core/Flex";function AWe(e,t){if(!t||!e)return!1;let n=t.parentNode;for(;n!=null;){if(n===e)return!0;n=n.parentNode}return!1}function kWe({target:e,parent:t,ref:n,displayAfterTransitionEnd:r}){const i=k.useRef(-1),[o,s]=k.useState(!1),[a,l]=k.useState(typeof r=="boolean"?r:!1),u=()=>{if(!e||!t||!n.current)return;const h=e.getBoundingClientRect(),m=t.getBoundingClientRect(),p=window.getComputedStyle(e),g=window.getComputedStyle(t),y=R0(p.borderTopWidth)+R0(g.borderTopWidth),v=R0(p.borderLeftWidth)+R0(g.borderLeftWidth),w={top:h.top-m.top-y,left:h.left-m.left-v,width:h.width,height:h.height};n.current.style.transform=`translateY(${w.top}px) translateX(${w.left}px)`,n.current.style.width=`${w.width}px`,n.current.style.height=`${w.height}px`},c=()=>{window.clearTimeout(i.current),n.current&&(n.current.style.transitionDuration="0ms"),u(),i.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},d=k.useRef(null),f=k.useRef(null);return k.useEffect(()=>{if(u(),e)return d.current=new ResizeObserver(c),d.current.observe(e),t&&(f.current=new ResizeObserver(c),f.current.observe(t)),()=>{d.current?.disconnect(),f.current?.disconnect()}},[t,e]),k.useEffect(()=>{if(t){const h=m=>{AWe(m.target,t)&&(c(),l(!1))};return t.addEventListener("transitionend",h),()=>{t.removeEventListener("transitionend",h)}}},[t]),dUe(()=>{Qxe()!=="test"&&s(!0)},20,{autoInvoke:!0}),mUe(h=>{h.forEach(m=>{m.type==="attributes"&&m.attributeName==="dir"&&c()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:o,hidden:a}}var hEe={root:"m_96b553a6"};const RWe={},IWe=(e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}}),ZY=et((e,t)=>{const n=He("FloatingIndicator",RWe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,target:u,parent:c,transitionDuration:d,mod:f,displayAfterTransitionEnd:h,...m}=n,p=Dt({name:"FloatingIndicator",classes:hEe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:IWe}),g=k.useRef(null),{initialized:y,hidden:v}=kWe({target:u,parent:c,ref:g,displayAfterTransitionEnd:h}),w=xo(t,g);return!u||!c?null:x.jsx(Ie,{ref:w,mod:[{initialized:y,hidden:v},f],...p("root"),...m})});ZY.displayName="@mantine/core/FloatingIndicator";ZY.classes=hEe;const[DWe,eK]=Ns("Accordion component was not found in the tree");function x_({style:e,size:t=16,...n}){return x.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:Ge(t),height:Ge(t),display:"block"},...n,children:x.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}x_.displayName="@mantine/core/AccordionChevron";const[PWe,pEe]=Ns("Accordion.Item component was not found in the tree");var hk={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};const OWe={},tK=et((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,chevron:a,icon:l,onClick:u,onKeyDown:c,children:d,disabled:f,mod:h,...m}=He("AccordionControl",OWe,e),{value:p}=pEe(),g=eK(),y=g.isItemActive(p),v=typeof g.order=="number",w=`h${g.order}`,E=x.jsxs(fs,{...m,...g.getStyles("control",{className:r,classNames:n,style:i,styles:o,variant:g.variant}),unstyled:g.unstyled,mod:["accordion-control",{active:y,"chevron-position":g.chevronPosition,disabled:f},h],ref:t,onClick:C=>{u?.(C),g.onChange(p)},type:"button",disabled:f,"aria-expanded":y,"aria-controls":g.getRegionId(p),id:g.getControlId(p),onKeyDown:xY({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:g.loop,orientation:"vertical",onKeyDown:c}),children:[x.jsx(Ie,{component:"span",mod:{rotate:!g.disableChevronRotation&&y,position:g.chevronPosition},...g.getStyles("chevron",{classNames:n,styles:o}),children:a||g.chevron}),x.jsx("span",{...g.getStyles("label",{classNames:n,styles:o}),children:d}),l&&x.jsx(Ie,{component:"span",mod:{"chevron-position":g.chevronPosition},...g.getStyles("icon",{classNames:n,styles:o}),children:l})]});return v?x.jsx(w,{...g.getStyles("itemTitle",{classNames:n,styles:o}),children:E}):E});tK.displayName="@mantine/core/AccordionControl";tK.classes=hk;const NWe={},nK=et((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,value:a,mod:l,...u}=He("AccordionItem",NWe,e),c=eK();return x.jsx(PWe,{value:{value:a},children:x.jsx(Ie,{ref:t,mod:[{active:c.isItemActive(a)},l],...c.getStyles("item",{className:r,classNames:n,styles:o,style:i,variant:c.variant}),...u})})});nK.displayName="@mantine/core/AccordionItem";nK.classes=hk;const MWe={},rK=et((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,children:a,...l}=He("AccordionPanel",MWe,e),{value:u}=pEe(),c=eK();return x.jsx(Cp,{ref:t,...c.getStyles("panel",{className:r,classNames:n,style:i,styles:o}),...l,in:c.isItemActive(u),transitionDuration:c.transitionDuration??200,role:"region",id:c.getRegionId(u),"aria-labelledby":c.getControlId(u),children:x.jsx("div",{...c.getStyles("content",{classNames:n,styles:o}),children:a})})});rK.displayName="@mantine/core/AccordionPanel";rK.classes=hk;const $We={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevron:x.jsx(x_,{})},FWe=(e,{transitionDuration:t,chevronSize:n,radius:r})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":n===void 0?void 0:Ge(n),"--accordion-radius":r===void 0?void 0:qr(r)}});function Cs(e){const t=He("Accordion",$We,e),{classNames:n,className:r,style:i,styles:o,unstyled:s,vars:a,children:l,multiple:u,value:c,defaultValue:d,onChange:f,id:h,loop:m,transitionDuration:p,disableChevronRotation:g,chevronPosition:y,chevronSize:v,order:w,chevron:E,variant:C,radius:S,...T}=t,A=Pa(h),[D,I]=zi({value:c,defaultValue:d,finalValue:u?[]:null,onChange:f}),P=O=>Array.isArray(D)?D.includes(O):O===D,N=O=>{const j=Array.isArray(D)?D.includes(O)?D.filter(B=>B!==O):[...D,O]:O===D?null:O;I(j)},$=Dt({name:"Accordion",classes:hk,props:t,className:r,style:i,classNames:n,styles:o,unstyled:s,vars:a,varsResolver:FWe});return x.jsx(DWe,{value:{isItemActive:P,onChange:N,getControlId:MN(`${A}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:MN(`${A}-panel`,"Accordion.Item component was rendered with invalid value or without value"),transitionDuration:p,disableChevronRotation:g,chevronPosition:y,order:w,chevron:E,loop:m,getStyles:$,variant:C,unstyled:s},children:x.jsx(Ie,{...$("root"),id:A,...T,variant:C,"data-accordion":!0,children:l})})}const LWe=e=>e;Cs.extend=LWe;Cs.withProps=u_e(Cs);Cs.classes=hk;Cs.displayName="@mantine/core/Accordion";Cs.Item=nK;Cs.Panel=rK;Cs.Control=tK;Cs.Chevron=x_;var mEe={root:"m_7f854edf"};const jWe={position:{bottom:0,right:0},zIndex:Fu("modal"),withinPortal:!0},BWe=(e,{zIndex:t,position:n})=>({root:{"--affix-z-index":t?.toString(),"--affix-top":Bi(n?.top),"--affix-left":Bi(n?.left),"--affix-bottom":Bi(n?.bottom),"--affix-right":Bi(n?.right)}}),iK=et((e,t)=>{const n=He("Affix",jWe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,portalProps:u,zIndex:c,withinPortal:d,position:f,...h}=n,m=Dt({name:"Affix",classes:mEe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:BWe});return x.jsx(By,{...u,withinPortal:d,children:x.jsx(Ie,{ref:t,...m("root"),...h})})});iK.classes=mEe;iK.displayName="@mantine/core/Affix";var gEe={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const zWe={},UWe=(e,{radius:t,color:n,variant:r,autoContrast:i})=>{const o=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:r||"light",autoContrast:i});return{root:{"--alert-radius":t===void 0?void 0:qr(t),"--alert-bg":n||r?o.background:void 0,"--alert-color":o.color,"--alert-bd":n||r?o.border:void 0}}},sd=et((e,t)=>{const n=He("Alert",zWe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,radius:u,color:c,title:d,children:f,id:h,icon:m,withCloseButton:p,onClose:g,closeButtonLabel:y,variant:v,autoContrast:w,...E}=n,C=Dt({name:"Alert",classes:gEe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:UWe}),S=Pa(h),T=d&&`${S}-title`||void 0,A=`${S}-body`;return x.jsx(Ie,{id:S,...C("root",{variant:v}),variant:v,ref:t,...E,role:"alert","aria-describedby":A,"aria-labelledby":T,children:x.jsxs("div",{...C("wrapper"),children:[m&&x.jsx("div",{...C("icon"),children:m}),x.jsxs("div",{...C("body"),children:[d&&x.jsx("div",{...C("title"),"data-with-close-button":p||void 0,children:x.jsx("span",{id:T,...C("label"),children:d})}),f&&x.jsx("div",{id:A,...C("message"),"data-variant":v,children:f})]}),p&&x.jsx(sp,{...C("closeButton"),onClick:g,variant:"transparent",size:16,iconSize:16,"aria-label":y,unstyled:a})]})})});sd.classes=gEe;sd.displayName="@mantine/core/Alert";var yEe={root:"m_b6d8b162"};function VWe(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const HWe={inherit:!1},qWe=(e,{variant:t,lineClamp:n,gradient:r,size:i,color:o})=>({root:{"--text-fz":vo(i),"--text-lh":zxe(i),"--text-gradient":t==="gradient"?EV(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":o?ti(o,e):void 0}}),Ve=es((e,t)=>{const n=He("Text",HWe,e),{lineClamp:r,truncate:i,inline:o,inherit:s,gradient:a,span:l,__staticSelector:u,vars:c,className:d,style:f,classNames:h,styles:m,unstyled:p,variant:g,mod:y,size:v,...w}=n,E=Dt({name:["Text",u],props:n,classes:yEe,className:d,style:f,classNames:h,styles:m,unstyled:p,vars:c,varsResolver:qWe});return x.jsx(Ie,{...E("root",{focusable:!0}),ref:t,component:l?"span":"p",variant:g,mod:[{"data-truncate":VWe(i),"data-line-clamp":typeof r=="number","data-inline":o,"data-inherit":s},y],size:v,...w})});Ve.classes=yEe;Ve.displayName="@mantine/core/Text";var vEe={root:"m_849cf0da"};const WWe={underline:"hover"},P1=es((e,t)=>{const{underline:n,className:r,unstyled:i,mod:o,...s}=He("Anchor",WWe,e);return x.jsx(Ve,{component:"a",ref:t,className:$t({[vEe.root]:!i},r),...s,mod:[{underline:n},o],__staticSelector:"Anchor",unstyled:i})});P1.classes=vEe;P1.displayName="@mantine/core/Anchor";const[GWe,CE]=Ns("AppShell was not found in tree");var zy={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const YWe={},oK=et((e,t)=>{const n=He("AppShellAside",YWe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=CE();return h.disabled?null:x.jsx(Ie,{component:"aside",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("aside",{className:i,classNames:r,styles:s,style:o}),...f,__vars:{"--app-shell-aside-z-index":`calc(${c??h.zIndex} + 1)`}})});oK.classes=zy;oK.displayName="@mantine/core/AppShellAside";const KWe={},sK=et((e,t)=>{const n=He("AppShellFooter",KWe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=CE();return h.disabled?null:x.jsx(Ie,{component:"footer",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("footer",{className:$t({[g_.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:s,style:o}),...f,__vars:{"--app-shell-footer-z-index":(c??h.zIndex)?.toString()}})});sK.classes=zy;sK.displayName="@mantine/core/AppShellFooter";const XWe={},aK=et((e,t)=>{const n=He("AppShellHeader",XWe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=CE();return h.disabled?null:x.jsx(Ie,{component:"header",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("header",{className:$t({[g_.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:s,style:o}),...f,__vars:{"--app-shell-header-z-index":(c??h.zIndex)?.toString()}})});aK.classes=zy;aK.displayName="@mantine/core/AppShellHeader";const QWe={},lK=et((e,t)=>{const n=He("AppShellMain",QWe,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=CE();return x.jsx(Ie,{component:"main",ref:t,...u.getStyles("main",{className:i,style:o,classNames:r,styles:s}),...l})});lK.classes=zy;lK.displayName="@mantine/core/AppShellMain";function pk(e){return typeof e=="object"?e.base:e}function mk(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function gk(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function JWe({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:i}){const o=r?.width,s="translateX(var(--app-shell-aside-width))",a="translateX(calc(var(--app-shell-aside-width) * -1))";if(r?.breakpoint&&!r?.collapsed?.mobile&&(n[r?.breakpoint]=n[r?.breakpoint]||{},n[r?.breakpoint]["--app-shell-aside-width"]="100%",n[r?.breakpoint]["--app-shell-aside-offset"]="0px"),mk(o)){const l=Ge(pk(o));e["--app-shell-aside-width"]=l,e["--app-shell-aside-offset"]=l}if(gk(o)&&(typeof o.base<"u"&&(e["--app-shell-aside-width"]=Ge(o.base),e["--app-shell-aside-offset"]=Ge(o.base)),Pi(o).forEach(l=>{l!=="base"&&(t[l]=t[l]||{},t[l]["--app-shell-aside-width"]=Ge(o[l]),t[l]["--app-shell-aside-offset"]=Ge(o[l]))})),r?.collapsed?.desktop){const l=r.breakpoint;t[l]=t[l]||{},t[l]["--app-shell-aside-transform"]=s,t[l]["--app-shell-aside-transform-rtl"]=a,t[l]["--app-shell-aside-offset"]="0px !important"}if(r?.collapsed?.mobile){const l=EY(r.breakpoint,i.breakpoints)-.1;n[l]=n[l]||{},n[l]["--app-shell-aside-width"]="100%",n[l]["--app-shell-aside-offset"]="0px",n[l]["--app-shell-aside-transform"]=s,n[l]["--app-shell-aside-transform-rtl"]=a}}function ZWe({baseStyles:e,minMediaStyles:t,footer:n}){const r=n?.height,i="translateY(var(--app-shell-footer-height))",o=n?.offset??!0;if(mk(r)){const s=Ge(pk(r));e["--app-shell-footer-height"]=s,o&&(e["--app-shell-footer-offset"]=s)}gk(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=Ge(r.base),o&&(e["--app-shell-footer-offset"]=Ge(r.base))),Pi(r).forEach(s=>{s!=="base"&&(t[s]=t[s]||{},t[s]["--app-shell-footer-height"]=Ge(r[s]),o&&(t[s]["--app-shell-footer-offset"]=Ge(r[s])))})),n?.collapsed&&(e["--app-shell-footer-transform"]=i,e["--app-shell-footer-offset"]="0px !important")}function eGe({baseStyles:e,minMediaStyles:t,header:n}){const r=n?.height,i="translateY(calc(var(--app-shell-header-height) * -1))",o=n?.offset??!0;if(mk(r)){const s=Ge(pk(r));e["--app-shell-header-height"]=s,o&&(e["--app-shell-header-offset"]=s)}gk(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=Ge(r.base),o&&(e["--app-shell-header-offset"]=Ge(r.base))),Pi(r).forEach(s=>{s!=="base"&&(t[s]=t[s]||{},t[s]["--app-shell-header-height"]=Ge(r[s]),o&&(t[s]["--app-shell-header-offset"]=Ge(r[s])))})),n?.collapsed&&(e["--app-shell-header-transform"]=i,e["--app-shell-header-offset"]="0px !important")}function tGe({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:i}){const o=r?.width,s="translateX(calc(var(--app-shell-navbar-width) * -1))",a="translateX(var(--app-shell-navbar-width))";if(r?.breakpoint&&!r?.collapsed?.mobile&&(n[r?.breakpoint]=n[r?.breakpoint]||{},n[r?.breakpoint]["--app-shell-navbar-width"]="100%",n[r?.breakpoint]["--app-shell-navbar-offset"]="0px"),mk(o)){const l=Ge(pk(o));e["--app-shell-navbar-width"]=l,e["--app-shell-navbar-offset"]=l}if(gk(o)&&(typeof o.base<"u"&&(e["--app-shell-navbar-width"]=Ge(o.base),e["--app-shell-navbar-offset"]=Ge(o.base)),Pi(o).forEach(l=>{l!=="base"&&(t[l]=t[l]||{},t[l]["--app-shell-navbar-width"]=Ge(o[l]),t[l]["--app-shell-navbar-offset"]=Ge(o[l]))})),r?.collapsed?.desktop){const l=r.breakpoint;t[l]=t[l]||{},t[l]["--app-shell-navbar-transform"]=s,t[l]["--app-shell-navbar-transform-rtl"]=a,t[l]["--app-shell-navbar-offset"]="0px !important"}if(r?.collapsed?.mobile){const l=EY(r.breakpoint,i.breakpoints)-.1;n[l]=n[l]||{},n[l]["--app-shell-navbar-width"]="100%",n[l]["--app-shell-navbar-offset"]="0px",n[l]["--app-shell-navbar-transform"]=s,n[l]["--app-shell-navbar-transform-rtl"]=a}}function bB(e){return Number(e)===0?"0px":Bi(e)}function nGe({padding:e,baseStyles:t,minMediaStyles:n}){mk(e)&&(t["--app-shell-padding"]=bB(pk(e))),gk(e)&&(e.base&&(t["--app-shell-padding"]=bB(e.base)),Pi(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=bB(e[r]))}))}function rGe({navbar:e,header:t,footer:n,aside:r,padding:i,theme:o}){const s={},a={},l={};tGe({baseStyles:l,minMediaStyles:s,maxMediaStyles:a,navbar:e,theme:o}),JWe({baseStyles:l,minMediaStyles:s,maxMediaStyles:a,aside:r,theme:o}),eGe({baseStyles:l,minMediaStyles:s,header:t}),ZWe({baseStyles:l,minMediaStyles:s,footer:n}),nGe({baseStyles:l,minMediaStyles:s,padding:i});const u=L2(Pi(s),o.breakpoints).map(f=>({query:`(min-width: ${NN(f.px)})`,styles:s[f.value]})),c=L2(Pi(a),o.breakpoints).map(f=>({query:`(max-width: ${NN(f.px)})`,styles:a[f.value]})),d=[...u,...c];return{baseStyles:l,media:d}}function iGe({navbar:e,header:t,aside:n,footer:r,padding:i}){const o=uo(),s=mg(),{media:a,baseStyles:l}=rGe({navbar:e,header:t,footer:r,aside:n,padding:i,theme:o});return x.jsx(I1,{media:a,styles:l,selector:s.cssVariablesSelector})}const oGe={},uK=et((e,t)=>{const n=He("AppShellNavbar",oGe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=CE();return h.disabled?null:x.jsx(Ie,{component:"nav",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("navbar",{className:i,classNames:r,styles:s,style:o}),...f,__vars:{"--app-shell-navbar-z-index":`calc(${c??h.zIndex} + 1)`}})});uK.classes=zy;uK.displayName="@mantine/core/AppShellNavbar";const sGe={},cK=es((e,t)=>{const n=He("AppShellSection",sGe,e),{classNames:r,className:i,style:o,styles:s,vars:a,grow:l,mod:u,...c}=n,d=CE();return x.jsx(Ie,{ref:t,mod:[{grow:l},u],...d.getStyles("section",{className:i,style:o,classNames:r,styles:s}),...c})});cK.classes=zy;cK.displayName="@mantine/core/AppShellSection";function aGe({transitionDuration:e,disabled:t}){const[n,r]=k.useState(!0),i=k.useRef(-1),o=k.useRef(-1);return Yxe("resize",()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>k.startTransition(()=>{r(!1)}),200)}),Ly(()=>{r(!0),clearTimeout(o.current),o.current=window.setTimeout(()=>k.startTransition(()=>{r(!1)}),e||0)},[t,e]),n}const lGe={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:Fu("app")},uGe=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),io=et((e,t)=>{const n=He("AppShell",lGe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,navbar:u,withBorder:c,padding:d,transitionDuration:f,transitionTimingFunction:h,header:m,zIndex:p,layout:g,disabled:y,aside:v,footer:w,offsetScrollbars:E=g!=="alt",mod:C,...S}=n,T=Dt({name:"AppShell",classes:zy,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:uGe}),A=aGe({disabled:y,transitionDuration:f});return x.jsxs(GWe,{value:{getStyles:T,withBorder:c,zIndex:p,disabled:y,offsetScrollbars:E},children:[x.jsx(iGe,{navbar:u,header:m,aside:v,footer:w,padding:d}),x.jsx(Ie,{ref:t,...T("root"),mod:[{resizing:A,layout:g,disabled:y},C],...S})]})});io.classes=zy;io.displayName="@mantine/core/AppShell";io.Navbar=uK;io.Header=aK;io.Main=lK;io.Aside=oK;io.Footer=sK;io.Section=cK;function bEe(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>bEe(t))}:e}function dK(e){return e?e.map(t=>bEe(t)):[]}function r$(e){return e.reduce((t,n)=>"group"in n?{...t,...r$(n.items)}:(t[n.value]=n,t),{})}var Ru={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const cGe={error:null},dGe=(e,{size:t,color:n})=>({chevron:{"--combobox-chevron-size":mn(t,"combobox-chevron-size"),"--combobox-chevron-color":n?ti(n,e):void 0}}),fK=et((e,t)=>{const n=He("ComboboxChevron",cGe,e),{size:r,error:i,style:o,className:s,classNames:a,styles:l,unstyled:u,vars:c,mod:d,...f}=n,h=Dt({name:"ComboboxChevron",classes:Ru,props:n,style:o,className:s,classNames:a,styles:l,unstyled:u,vars:c,varsResolver:dGe,rootSelector:"chevron"});return x.jsx(Ie,{component:"svg",...f,...h("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},d],ref:t,children:x.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});fK.classes=Ru;fK.displayName="@mantine/core/ComboboxChevron";const[fGe,Rd]=Ns("Combobox component was not found in tree"),wEe=k.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...i},o)=>x.jsx(Hr.ClearButton,{ref:o,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:s=>{s.preventDefault(),t?.(s)},onClick:s=>{r(),n?.(s)}}));wEe.displayName="@mantine/core/ComboboxClearButton";const hGe={},hK=et((e,t)=>{const{classNames:n,styles:r,className:i,style:o,hidden:s,...a}=He("ComboboxDropdown",hGe,e),l=Rd();return x.jsx(Or.Dropdown,{...a,ref:t,role:"presentation","data-hidden":s||void 0,...l.getStyles("dropdown",{className:i,style:o,classNames:n,styles:r})})});hK.classes=Ru;hK.displayName="@mantine/core/ComboboxDropdown";const pGe={refProp:"ref"},xEe=et((e,t)=>{const{children:n,refProp:r}=He("ComboboxDropdownTarget",pGe,e);if(Rd(),!hg(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return x.jsx(Or.Target,{ref:t,refProp:r,children:n})});xEe.displayName="@mantine/core/ComboboxDropdownTarget";const mGe={},pK=et((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=He("ComboboxEmpty",mGe,e),l=Rd();return x.jsx(Ie,{ref:t,...l.getStyles("empty",{className:r,classNames:n,styles:o,style:i}),...a})});pK.classes=Ru;pK.displayName="@mantine/core/ComboboxEmpty";function mK({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:o}){const s=Rd(),[a,l]=k.useState(null),u=d=>{if(e?.(d),!s.readOnly&&t){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),s.store.dropdownOpened?l(s.store.selectNextOption()):(s.store.openDropdown("keyboard"),l(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),s.store.dropdownOpened?l(s.store.selectPreviousOption()):(s.store.openDropdown("keyboard"),l(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const f=s.store.getSelectedOptionIndex();s.store.dropdownOpened&&f!==-1?(d.preventDefault(),s.store.clickSelectedOption()):i==="button"&&(d.preventDefault(),s.store.openDropdown("keyboard"))}d.key==="Escape"&&s.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&i==="button"&&(d.preventDefault(),s.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(s.store.listId&&s.store.dropdownOpened)||void 0,"aria-controls":s.store.dropdownOpened?s.store.listId:void 0,"aria-activedescendant":s.store.dropdownOpened&&a||void 0,autoComplete:o,"data-expanded":s.store.dropdownOpened||void 0,"data-mantine-stop-propagation":s.store.dropdownOpened||void 0}:{},onKeyDown:u}}const gGe={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},_Ee=et((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,autoComplete:l,...u}=He("ComboboxEventsTarget",gGe,e);if(!hg(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=Rd(),d=mK({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:l});return k.cloneElement(n,{...d,...u,[r]:xo(t,c.store.targetRef,V6(n))})});_Ee.displayName="@mantine/core/ComboboxEventsTarget";const yGe={},gK=et((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=He("ComboboxFooter",yGe,e),l=Rd();return x.jsx(Ie,{ref:t,...l.getStyles("footer",{className:r,classNames:n,style:i,styles:o}),...a,onMouseDown:u=>{u.preventDefault()}})});gK.classes=Ru;gK.displayName="@mantine/core/ComboboxFooter";const vGe={},yK=et((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,children:a,label:l,...u}=He("ComboboxGroup",vGe,e),c=Rd();return x.jsxs(Ie,{ref:t,...c.getStyles("group",{className:r,classNames:n,style:i,styles:o}),...u,children:[l&&x.jsx("div",{...c.getStyles("groupLabel",{classNames:n,styles:o}),children:l}),a]})});yK.classes=Ru;yK.displayName="@mantine/core/ComboboxGroup";const bGe={},vK=et((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=He("ComboboxHeader",bGe,e),l=Rd();return x.jsx(Ie,{ref:t,...l.getStyles("header",{className:r,classNames:n,style:i,styles:o}),...a,onMouseDown:u=>{u.preventDefault()}})});vK.classes=Ru;vK.displayName="@mantine/core/ComboboxHeader";function EEe({value:e,valuesDivider:t=",",...n}){return x.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}EEe.displayName="@mantine/core/ComboboxHiddenInput";const wGe={},bK=et((e,t)=>{const n=He("ComboboxOption",wGe,e),{classNames:r,className:i,style:o,styles:s,vars:a,onClick:l,id:u,active:c,onMouseDown:d,onMouseOver:f,disabled:h,selected:m,mod:p,...g}=n,y=Rd(),v=k.useId(),w=u||v;return x.jsx(Ie,{...y.getStyles("option",{className:i,classNames:r,styles:s,style:o}),...g,ref:t,id:w,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":h,"combobox-selected":m},p],role:"option",onClick:E=>{h?E.preventDefault():(y.onOptionSubmit?.(n.value,n),l?.(E))},onMouseDown:E=>{E.preventDefault(),d?.(E)},onMouseOver:E=>{y.resetSelectionOnOptionHover&&y.store.resetSelectedOption(),f?.(E)}})});bK.classes=Ru;bK.displayName="@mantine/core/ComboboxOption";const xGe={},wK=et((e,t)=>{const n=He("ComboboxOptions",xGe,e),{classNames:r,className:i,style:o,styles:s,id:a,onMouseDown:l,labelledBy:u,...c}=n,d=Rd(),f=Pa(a);return k.useEffect(()=>{d.store.setListId(f)},[f]),x.jsx(Ie,{ref:t,...d.getStyles("options",{className:i,style:o,classNames:r,styles:s}),...c,id:f,role:"listbox","aria-labelledby":u,onMouseDown:h=>{h.preventDefault(),l?.(h)}})});wK.classes=Ru;wK.displayName="@mantine/core/ComboboxOptions";const _Ge={withAriaAttributes:!0,withKeyboardNavigation:!0},xK=et((e,t)=>{const n=He("ComboboxSearch",_Ge,e),{classNames:r,styles:i,unstyled:o,vars:s,withAriaAttributes:a,onKeyDown:l,withKeyboardNavigation:u,size:c,...d}=n,f=Rd(),h=f.getStyles("search"),m=mK({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:u,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return x.jsx(Hr,{ref:xo(t,f.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},i],size:c||f.size,...m,...d,__staticSelector:"Combobox"})});xK.classes=Ru;xK.displayName="@mantine/core/ComboboxSearch";const EGe={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},CEe=et((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,autoComplete:l,...u}=He("ComboboxTarget",EGe,e);if(!hg(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=Rd(),d=mK({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:l}),f=k.cloneElement(n,{...d,...u});return x.jsx(Or.Target,{ref:xo(t,c.store.targetRef),children:f})});CEe.displayName="@mantine/core/ComboboxTarget";function CGe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function SGe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function TGe(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function yk({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:o=!0,scrollBehavior:s="instant"}={}){const[a,l]=zi({value:t,defaultValue:e,finalValue:!1,onChange:n}),u=k.useRef(null),c=k.useRef(-1),d=k.useRef(null),f=k.useRef(null),h=k.useRef(-1),m=k.useRef(-1),p=k.useRef(-1),g=k.useCallback((B="unknown")=>{a||(l(!0),i?.(B))},[l,i,a]),y=k.useCallback((B="unknown")=>{a&&(l(!1),r?.(B))},[l,r,a]),v=k.useCallback((B="unknown")=>{a?y(B):g(B)},[y,g,a]),w=k.useCallback(()=>{const B=document.querySelector(`#${u.current} [data-combobox-selected]`);B?.removeAttribute("data-combobox-selected"),B?.removeAttribute("aria-selected")},[]),E=k.useCallback(B=>{const q=document.getElementById(u.current)?.querySelectorAll("[data-combobox-option]");if(!q)return null;const Y=B>=q.length?0:B<0?q.length-1:B;return c.current=Y,q?.[Y]&&!q[Y].hasAttribute("data-combobox-disabled")?(w(),q[Y].setAttribute("data-combobox-selected","true"),q[Y].setAttribute("aria-selected","true"),q[Y].scrollIntoView({block:"nearest",behavior:s}),q[Y].id):null},[s,w]),C=k.useCallback(()=>{const B=document.querySelector(`#${u.current} [data-combobox-active]`);if(B){const H=document.querySelectorAll(`#${u.current} [data-combobox-option]`),q=Array.from(H).findIndex(Y=>Y===B);return E(q)}return E(0)},[E]),S=k.useCallback(()=>E(SGe(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),o)),[E,o]),T=k.useCallback(()=>E(CGe(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),o)),[E,o]),A=k.useCallback(()=>E(TGe(document.querySelectorAll(`#${u.current} [data-combobox-option]`))),[E]),D=k.useCallback((B="selected",H)=>{p.current=window.setTimeout(()=>{const q=document.querySelectorAll(`#${u.current} [data-combobox-option]`),Y=Array.from(q).findIndex(V=>V.hasAttribute(`data-combobox-${B}`));c.current=Y,H?.scrollIntoView&&q[Y]?.scrollIntoView({block:"nearest",behavior:s})},0)},[]),I=k.useCallback(()=>{c.current=-1,w()},[w]),P=k.useCallback(()=>{document.querySelectorAll(`#${u.current} [data-combobox-option]`)?.[c.current]?.click()},[]),N=k.useCallback(B=>{u.current=B},[]),$=k.useCallback(()=>{h.current=window.setTimeout(()=>d.current.focus(),0)},[]),O=k.useCallback(()=>{m.current=window.setTimeout(()=>f.current.focus(),0)},[]),j=k.useCallback(()=>c.current,[]);return k.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(m.current),window.clearTimeout(p.current)},[]),{dropdownOpened:a,openDropdown:g,closeDropdown:y,toggleDropdown:v,selectedOptionIndex:c.current,getSelectedOptionIndex:j,selectOption:E,selectFirstOption:A,selectActiveOption:C,selectNextOption:S,selectPreviousOption:T,resetSelectedOption:I,updateSelectedOptionIndex:D,listId:u.current,setListId:N,clickSelectedOption:P,searchRef:d,focusSearchInput:$,targetRef:f,focusTarget:O}}const AGe={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},kGe=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":vo(t),"--combobox-option-padding":mn(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:Ge(n),"--combobox-option-fz":vo(t),"--combobox-option-padding":mn(t,"combobox-option-padding")}});function qn(e){const t=He("Combobox",AGe,e),{classNames:n,styles:r,unstyled:i,children:o,store:s,vars:a,onOptionSubmit:l,onClose:u,size:c,dropdownPadding:d,resetSelectionOnOptionHover:f,__staticSelector:h,readOnly:m,...p}=t,g=yk(),y=s||g,v=Dt({name:h||"Combobox",classes:Ru,props:t,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:kGe}),w=()=>{u?.(),y.closeDropdown()};return x.jsx(fGe,{value:{getStyles:v,store:y,onOptionSubmit:l,size:c,resetSelectionOnOptionHover:f,readOnly:m},children:x.jsx(Or,{opened:y.dropdownOpened,...p,onChange:E=>!E&&w(),withRoles:!1,unstyled:i,children:o})})}const RGe=e=>e;qn.extend=RGe;qn.classes=Ru;qn.displayName="@mantine/core/Combobox";qn.Target=CEe;qn.Dropdown=hK;qn.Options=wK;qn.Option=bK;qn.Search=xK;qn.Empty=pK;qn.Chevron=fK;qn.Footer=gK;qn.Header=vK;qn.EventsTarget=_Ee;qn.DropdownTarget=xEe;qn.Group=yK;qn.ClearButton=wEe;qn.HiddenInput=EEe;var SEe={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const TEe=SEe,i$=k.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:i,unstyled:o,children:s,label:a,description:l,id:u,disabled:c,error:d,size:f,labelPosition:h="left",bodyElement:m="div",labelElement:p="label",variant:g,style:y,vars:v,mod:w,...E},C)=>{const S=Dt({name:e,props:t,className:n,style:y,classes:SEe,classNames:r,styles:i,unstyled:o});return x.jsx(Ie,{...S("root"),ref:C,__vars:{"--label-fz":vo(f),"--label-lh":mn(f,"label-lh")},mod:[{"label-position":h},w],variant:g,size:f,...E,children:x.jsxs(Ie,{component:m,htmlFor:m==="label"?u:void 0,...S("body"),children:[s,x.jsxs("div",{...S("labelWrapper"),"data-disabled":c||void 0,children:[a&&x.jsx(Ie,{component:p,htmlFor:p==="label"?u:void 0,...S("label"),"data-disabled":c||void 0,children:a}),l&&x.jsx(Hr.Description,{size:f,__inheritStyles:!1,...S("description"),children:l}),d&&typeof d!="boolean"&&x.jsx(Hr.Error,{size:f,__inheritStyles:!1,...S("error"),children:d})]})]})})});i$.displayName="@mantine/core/InlineInput";const AEe=k.createContext(null),IGe=AEe.Provider,kEe=()=>k.useContext(AEe),[DGe,PGe]=pg();var REe={card:"m_26775b0a"};const OGe={withBorder:!0},NGe=(e,{radius:t})=>({card:{"--card-radius":qr(t)}}),_K=et((e,t)=>{const n=He("CheckboxCard",OGe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:f,onClick:h,defaultChecked:m,onChange:p,...g}=n,y=Dt({name:"CheckboxCard",classes:REe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:NGe,rootSelector:"card"}),v=kEe(),w=typeof u=="boolean"?u:v?v.value.includes(f||""):void 0,[E,C]=zi({value:w,defaultValue:m,finalValue:!1,onChange:p});return x.jsx(DGe,{value:{checked:E},children:x.jsx(fs,{ref:t,mod:[{"with-border":d,checked:E},c],...y("card"),...g,role:"checkbox","aria-checked":E,onClick:S=>{h?.(S),v?.onChange(f||""),C(!E)}})})});_K.displayName="@mantine/core/CheckboxCard";_K.classes=REe;function EK({children:e,role:t}){const n=EE();return n?x.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):x.jsx(x.Fragment,{children:e})}const MGe={},CK=et((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,readOnly:l,...u}=He("CheckboxGroup",MGe,e),[c,d]=zi({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const m=typeof h=="string"?h:h.currentTarget.value;!l&&d(c.includes(m)?c.filter(p=>p!==m):[...c,m])};return x.jsx(IGe,{value:{value:c,onChange:f,size:o},children:x.jsx(Hr.Wrapper,{size:o,ref:t,...s,...u,labelElement:"div",__staticSelector:"CheckboxGroup",children:x.jsx(EK,{role:"group",children:a})})})});CK.classes=Hr.Wrapper.classes;CK.displayName="@mantine/core/CheckboxGroup";function SK({size:e,style:t,...n}){const r=e!==void 0?{width:Ge(e),height:Ge(e),...t}:t;return x.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:x.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function IEe({indeterminate:e,...t}){return e?x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:x.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):x.jsx(SK,{...t})}var DEe={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const $Ge={icon:IEe},FGe=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=Bf({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--checkbox-size":mn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:qr(t),"--checkbox-color":o==="outline"?l:ti(n,e),"--checkbox-icon-color":i?ti(i,e):jy(s,e)?Ep({color:n,theme:e,autoContrast:s}):void 0}}},TK=et((e,t)=>{const n=He("CheckboxIndicator",$Ge,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,icon:u,indeterminate:c,radius:d,color:f,iconColor:h,autoContrast:m,checked:p,mod:g,variant:y,disabled:v,...w}=n,E=u,C=Dt({name:"CheckboxIndicator",classes:DEe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:FGe,rootSelector:"indicator"}),S=PGe(),T=typeof p=="boolean"||typeof c=="boolean"?p||c:S?.checked||!1;return x.jsx(Ie,{ref:t,...C("indicator",{variant:y}),variant:y,mod:[{checked:T,disabled:v},g],...w,children:x.jsx(E,{indeterminate:c,...C("icon")})})});TK.displayName="@mantine/core/CheckboxIndicator";TK.classes=DEe;var PEe={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const LGe={labelPosition:"right",icon:IEe},jGe=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=Bf({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":mn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:qr(t),"--checkbox-color":o==="outline"?l:ti(n,e),"--checkbox-icon-color":i?ti(i,e):jy(s,e)?Ep({color:n,theme:e,autoContrast:s}):void 0}}},tl=et((e,t)=>{const n=He("Checkbox",LGe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,label:c,id:d,size:f,radius:h,wrapperProps:m,checked:p,labelPosition:g,description:y,error:v,disabled:w,variant:E,indeterminate:C,icon:S,rootRef:T,iconColor:A,onChange:D,autoContrast:I,mod:P,...N}=n,$=kEe(),O=f||$?.size,j=S,B=Dt({name:"Checkbox",props:n,classes:PEe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:jGe}),{styleProps:H,rest:q}=D1(N),Y=Pa(d),V=$?{checked:$.value.includes(q.value),onChange:z=>{$.onChange(z),D?.(z)}}:{},L=k.useRef(null),U=t||L;return k.useEffect(()=>{U&&"current"in U&&U.current&&(U.current.indeterminate=C||!1)},[C,U]),x.jsx(i$,{...B("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:Y,size:O,labelPosition:g,label:c,description:y,error:v,disabled:w,classNames:r,styles:s,unstyled:a,"data-checked":V.checked||p||void 0,variant:E,ref:T,mod:P,...H,...m,children:x.jsxs(Ie,{...B("inner"),mod:{"data-label-position":g},children:[x.jsx(Ie,{component:"input",id:Y,ref:U,checked:p,disabled:w,mod:{error:!!v,indeterminate:C},...B("input",{focusable:!0,variant:E}),onChange:D,...q,...V,type:"checkbox"}),x.jsx(j,{indeterminate:C,...B("icon")})]})})});tl.classes={...PEe,...TEe};tl.displayName="@mantine/core/Checkbox";tl.Group=CK;tl.Indicator=TK;tl.Card=_K;function __(e){return"group"in e}function OEe({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),i=[];for(let o=0;o<e.length;o+=1){const s=e[o];if(i.length===n)return i;__(s)&&i.push({group:s.group,items:OEe({options:s.items,search:t,limit:n-i.length})}),__(s)||s.label.toLowerCase().includes(r)&&i.push(s)}return i}function BGe(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function NEe(e,t=new Set){if(Array.isArray(e))for(const n of e)if(__(n))NEe(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function zGe(e,t){return Array.isArray(e)?e.includes(t):e===t}function MEe({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:i,renderOption:o}){if(!__(e)){const a=zGe(n,e.value),l=t&&a&&x.jsx(SK,{className:Ru.optionsDropdownCheckIcon}),u=x.jsxs(x.Fragment,{children:[r==="left"&&l,x.jsx("span",{children:e.label}),r==="right"&&l]});return x.jsx(qn.Option,{value:e.value,disabled:e.disabled,className:$t({[Ru.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof o=="function"?o({option:e,checked:a}):u})}const s=e.items.map(a=>x.jsx(MEe,{data:a,value:n,unstyled:i,withCheckIcon:t,checkIconPosition:r,renderOption:o},a.value));return x.jsx(qn.Group,{label:e.group,children:s})}function AK({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:i,limit:o,maxDropdownHeight:s,withScrollArea:a=!0,filterOptions:l=!0,withCheckIcon:u=!1,value:c,checkIconPosition:d,nothingFoundMessage:f,unstyled:h,labelId:m,renderOption:p,scrollAreaProps:g,"aria-label":y}){NEe(e);const w=typeof i=="string"?(r||OEe)({options:e,search:l?i:"",limit:o??1/0}):e,E=BGe(w),C=w.map(S=>x.jsx(MEe,{data:S,withCheckIcon:u,value:c,checkIconPosition:d,unstyled:h,renderOption:p},__(S)?S.group:S.value));return x.jsx(qn.Dropdown,{hidden:t||n&&E,"data-composed":!0,children:x.jsxs(qn.Options,{labelledBy:m,"aria-label":y,children:[a?x.jsx(op.Autosize,{mah:s??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...g,children:C}):C,E&&f&&x.jsx(qn.Empty,{children:f})]})})}const UGe={},kK=et((e,t)=>{const n=He("Autocomplete",UGe,e),{classNames:r,styles:i,unstyled:o,vars:s,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:m,data:p,value:g,defaultValue:y,selectFirstOptionOnChange:v,onOptionSubmit:w,comboboxProps:E,readOnly:C,disabled:S,filter:T,limit:A,withScrollArea:D,maxDropdownHeight:I,size:P,id:N,renderOption:$,autoComplete:O,scrollAreaProps:j,onClear:B,clearButtonProps:H,error:q,clearable:Y,rightSection:V,...L}=n,U=Pa(N),z=dK(p),G=r$(z),[Q,te]=zi({value:g,defaultValue:y,finalValue:"",onChange:m}),de=yk({opened:a,defaultOpened:l,onDropdownOpen:c,onDropdownClose:()=>{u?.(),de.resetSelectedOption()}}),se=le=>{te(le),de.resetSelectedOption()},{resolvedClassNames:ae,resolvedStyles:he}=zf({props:n,styles:i,classNames:r});k.useEffect(()=>{v&&de.selectFirstOption()},[v,Q]);const ie=x.jsx(qn.ClearButton,{...H,onClear:()=>{se(""),B?.()}});return x.jsxs(qn,{store:de,__staticSelector:"Autocomplete",classNames:ae,styles:he,unstyled:o,readOnly:C,onOptionSubmit:le=>{w?.(le),se(G[le].label),de.closeDropdown()},size:P,...E,children:[x.jsx(qn.Target,{autoComplete:O,children:x.jsx(Xl,{ref:t,...L,size:P,__staticSelector:"Autocomplete",__clearSection:ie,__clearable:Y&&!!Q&&!S&&!C,rightSection:V,disabled:S,readOnly:C,value:Q,error:q,onChange:le=>{se(le.currentTarget.value),de.openDropdown(),v&&de.selectFirstOption()},onFocus:le=>{de.openDropdown(),d?.(le)},onBlur:le=>{de.closeDropdown(),f?.(le)},onClick:le=>{de.openDropdown(),h?.(le)},classNames:ae,styles:he,unstyled:o,id:U})}),x.jsx(AK,{data:z,hidden:C||S,filter:T,search:Q,limit:A,hiddenWhenEmpty:!0,withScrollArea:D,maxDropdownHeight:I,unstyled:o,labelId:L.label?`${U}-label`:void 0,"aria-label":L.label?void 0:L["aria-label"],renderOption:$,scrollAreaProps:j})]})});kK.classes={...Xl.classes,...qn.classes};kK.displayName="@mantine/core/Autocomplete";var $Ee={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const VGe={},HGe=(e,{radius:t,color:n,gradient:r,variant:i,size:o,autoContrast:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:s});return{root:{"--badge-height":mn(o,"badge-height"),"--badge-padding-x":mn(o,"badge-padding-x"),"--badge-fz":mn(o,"badge-fz"),"--badge-radius":t===void 0?void 0:qr(t),"--badge-bg":n||i?a.background:void 0,"--badge-color":n||i?a.color:void 0,"--badge-bd":n||i?a.border:void 0,"--badge-dot-color":i==="dot"?ti(n,e):void 0}}},us=es((e,t)=>{const n=He("Badge",VGe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,radius:u,color:c,gradient:d,leftSection:f,rightSection:h,children:m,variant:p,fullWidth:g,autoContrast:y,circle:v,mod:w,...E}=n,C=Dt({name:"Badge",props:n,classes:$Ee,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:HGe});return x.jsxs(Ie,{variant:p,mod:[{block:g,circle:v,"with-right-section":!!h,"with-left-section":!!f},w],...C("root",{variant:p}),ref:t,...E,children:[f&&x.jsx("span",{...C("section"),"data-position":"left",children:f}),x.jsx("span",{...C("label"),children:m}),h&&x.jsx("span",{...C("section"),"data-position":"right",children:h})]})});us.classes=$Ee;us.displayName="@mantine/core/Badge";var SE={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const $le={orientation:"horizontal"},qGe=(e,{borderWidth:t})=>({group:{"--button-border-width":Ge(t)}}),RK=et((e,t)=>{const n=He("ButtonGroup",$le,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=He("ButtonGroup",$le,e),m=Dt({name:"ButtonGroup",props:n,classes:SE,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:qGe,rootSelector:"group"});return x.jsx(Ie,{...m("group"),ref:t,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});RK.classes=SE;RK.displayName="@mantine/core/ButtonGroup";const Fle={},WGe=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:o,size:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:o});return{groupSection:{"--section-height":mn(s,"section-height"),"--section-padding-x":mn(s,"section-padding-x"),"--section-fz":s?.includes("compact")?vo(s.replace("compact-","")):vo(s),"--section-radius":t===void 0?void 0:qr(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},IK=et((e,t)=>{const n=He("ButtonGroupSection",Fle,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,variant:u,gradient:c,radius:d,autoContrast:f,...h}=He("ButtonGroupSection",Fle,e),m=Dt({name:"ButtonGroupSection",props:n,classes:SE,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,varsResolver:WGe,rootSelector:"groupSection"});return x.jsx(Ie,{...m("groupSection"),ref:t,variant:u,...h})});IK.classes=SE;IK.displayName="@mantine/core/ButtonGroupSection";const GGe={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Ge(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},YGe={},KGe=(e,{radius:t,color:n,gradient:r,variant:i,size:o,justify:s,autoContrast:a})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":s,"--button-height":mn(o,"button-height"),"--button-padding-x":mn(o,"button-padding-x"),"--button-fz":o?.includes("compact")?vo(o.replace("compact-","")):vo(o),"--button-radius":t===void 0?void 0:qr(t),"--button-bg":n||i?l.background:void 0,"--button-hover":n||i?l.hover:void 0,"--button-color":l.color,"--button-bd":n||i?l.border:void 0,"--button-hover-color":n||i?l.hoverColor:void 0}}},Ut=es((e,t)=>{const n=He("Button",YGe,e),{style:r,vars:i,className:o,color:s,disabled:a,children:l,leftSection:u,rightSection:c,fullWidth:d,variant:f,radius:h,loading:m,loaderProps:p,gradient:g,classNames:y,styles:v,unstyled:w,"data-disabled":E,autoContrast:C,mod:S,...T}=n,A=Dt({name:"Button",props:n,classes:SE,className:o,style:r,classNames:y,styles:v,unstyled:w,vars:i,varsResolver:KGe}),D=!!u,I=!!c;return x.jsxs(fs,{ref:t,...A("root",{active:!a&&!m&&!E}),unstyled:w,variant:f,disabled:a||m,mod:[{disabled:a||E,loading:m,block:d,"with-left-section":D,"with-right-section":I},S],...T,children:[x.jsx(Ad,{mounted:!!m,transition:GGe,duration:150,children:P=>x.jsx(Ie,{component:"span",...A("loader",{style:P}),"aria-hidden":!0,children:x.jsx(Uf,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...p})})}),x.jsxs("span",{...A("inner"),children:[u&&x.jsx(Ie,{component:"span",...A("section"),mod:{position:"left"},children:u}),x.jsx(Ie,{component:"span",mod:{loading:m},...A("label"),children:l}),c&&x.jsx(Ie,{component:"span",...A("section"),mod:{position:"right"},children:c})]})]})});Ut.classes=SE;Ut.displayName="@mantine/core/Button";Ut.Group=RK;Ut.GroupSection=IK;const[XGe,QGe]=Ns("Card component was not found in tree");var DK={root:"m_e615b15f",section:"m_599a2148"};const JGe={},o$=es((e,t)=>{const n=He("CardSection",JGe,e),{classNames:r,className:i,style:o,styles:s,vars:a,withBorder:l,inheritPadding:u,mod:c,...d}=n,f=QGe();return x.jsx(Ie,{ref:t,mod:[{"with-border":l,"inherit-padding":u},c],...f.getStyles("section",{className:i,style:o,styles:s,classNames:r}),...d})});o$.classes=DK;o$.displayName="@mantine/core/CardSection";const ZGe={},eYe=(e,{padding:t})=>({root:{"--card-padding":Bi(t)}}),Uy=es((e,t)=>{const n=He("Card",ZGe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,padding:c,...d}=n,f=Dt({name:"Card",props:n,classes:DK,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:eYe}),h=k.Children.toArray(u),m=h.map((p,g)=>typeof p=="object"&&p&&"type"in p&&p.type===o$?k.cloneElement(p,{"data-first-section":g===0||void 0,"data-last-section":g===h.length-1||void 0}):p);return x.jsx(XGe,{value:{getStyles:f},children:x.jsx(Td,{ref:t,unstyled:a,...f("root"),...d,children:m})})});Uy.classes=DK;Uy.displayName="@mantine/core/Card";Uy.Section=o$;var FEe={root:"m_4451eb3a"};const tYe={},Iu=es((e,t)=>{const n=He("Center",tYe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,inline:u,mod:c,...d}=n,f=Dt({name:"Center",props:n,classes:FEe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l});return x.jsx(Ie,{ref:t,mod:[{inline:u},c],...f("root"),...d})});Iu.classes=FEe;Iu.displayName="@mantine/core/Center";var LEe={root:"m_b183c0a2"};const nYe={},rYe=(e,{color:t})=>({root:{"--code-bg":t?ti(t,e):void 0}}),Ph=et((e,t)=>{const n=He("Code",nYe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,block:c,variant:d,mod:f,...h}=n,m=Dt({name:"Code",props:n,classes:LEe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:rYe});return x.jsx(Ie,{component:c?"pre":"code",variant:d,ref:t,mod:[{block:c},f],...m("root"),...h,dir:"ltr"})});Ph.classes=LEe;Ph.displayName="@mantine/core/Code";var jEe={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const Lle={withShadow:!0},iYe=(e,{radius:t,size:n})=>({root:{"--cs-radius":t===void 0?void 0:qr(t),"--cs-size":Ge(n)}}),Vm=es((e,t)=>{const n=He("ColorSwatch",Lle,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,size:c,radius:d,withShadow:f,children:h,variant:m,...p}=He("ColorSwatch",Lle,n),g=Dt({name:"ColorSwatch",props:n,classes:jEe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:iYe});return x.jsxs(Ie,{ref:t,variant:m,size:c,...g("root",{focusable:!0}),...p,children:[x.jsx("span",{...g("alphaOverlay")}),f&&x.jsx("span",{...g("shadowOverlay")}),x.jsx("span",{...g("colorOverlay",{style:{backgroundColor:u}})}),x.jsx("span",{...g("childrenOverlay"),children:h})]})});Vm.classes=jEe;Vm.displayName="@mantine/core/ColorSwatch";const[oYe,PK]=pg(null),OK=k.forwardRef(({position:e,...t},n)=>x.jsx(Ie,{ref:n,__vars:{"--thumb-y-offset":`${e.y*100}%`,"--thumb-x-offset":`${e.x*100}%`},...t}));OK.displayName="@mantine/core/ColorPickerThumb";var NK={wrapper:"m_fee9c77",preview:"m_9dddfbac",body:"m_bffecc3e",sliders:"m_3283bb96",thumb:"m_40d572ba",swatch:"m_d8ee6fd8",swatches:"m_5711e686",saturation:"m_202a296e",saturationOverlay:"m_11b3db02",slider:"m_d856d47d",sliderOverlay:"m_8f327113"};const sYe={},MK=et((e,t)=>{const n=He("ColorSlider",sYe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,onChange:u,onChangeEnd:c,maxValue:d,round:f,size:h="md",focusable:m=!0,value:p,overlays:g,thumbColor:y="transparent",onScrubStart:v,onScrubEnd:w,__staticSelector:E="ColorPicker",...C}=n,S=Dt({name:E,classes:NK,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a}),A=PK()?.getStyles||S,D=uo(),[I,P]=k.useState({y:0,x:p/d}),N=k.useRef(I),$=q=>f?Math.round(q*d):q*d,{ref:O}=uk(({x:q,y:Y})=>{N.current={x:q,y:Y},u?.($(q))},{onScrubEnd:()=>{const{x:q}=N.current;c?.($(q)),w?.()},onScrubStart:v});Hl(()=>{P({y:0,x:p/d})},[p]);const j=(q,Y)=>{q.preventDefault();const V=Xxe(Y);u?.($(V.x)),c?.($(V.x))},B=q=>{switch(q.key){case"ArrowRight":{j(q,{x:I.x+.05,y:I.y});break}case"ArrowLeft":{j(q,{x:I.x-.05,y:I.y});break}}},H=g.map((q,Y)=>k.createElement("div",{...A("sliderOverlay"),style:q,key:Y}));return x.jsxs(Ie,{...C,ref:xo(O,t),...A("slider"),role:"slider","aria-valuenow":p,"aria-valuemax":d,"aria-valuemin":0,tabIndex:m?0:-1,onKeyDown:B,"data-focus-ring":D.focusRing,__vars:{"--cp-thumb-size":`var(--cp-thumb-size-${h})`},children:[H,x.jsx(OK,{position:I,...A("thumb",{style:{top:Ge(1),background:y}})})]})});MK.displayName="@mantine/core/ColorSlider";function ed(e,t=0,n=10**t){return Math.round(n*e)/n}function aYe({h:e,s:t,l:n,a:r}){const i=t*((n<50?n:100-n)/100);return{h:e,s:i>0?2*i/(n+i)*100:0,v:n+i,a:r}}const lYe={grad:360/400,turn:360,rad:360/(Math.PI*2)};function uYe(e,t="deg"){return Number(e)*(lYe[t]||1)}const cYe=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function jle(e){const t=cYe.exec(e);return t?aYe({h:uYe(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}}function NV({r:e,g:t,b:n,a:r}){const i=Math.max(e,t,n),o=i-Math.min(e,t,n),s=o?i===e?(t-n)/o:i===t?2+(n-e)/o:4+(e-t)/o:0;return{h:ed(60*(s<0?s+6:s),3),s:ed(i?o/i*100:0,3),v:ed(i/255*100,3),a:r}}function MV(e){const t=e[0]==="#"?e.slice(1):e;return t.length===3?NV({r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}):NV({r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:1})}function dYe(e){const t=e[0]==="#"?e.slice(1):e,n=s=>ed(parseInt(s,16)/255,3);if(t.length===4){const s=t.slice(0,3),a=n(t[3]+t[3]);return{...MV(s),a}}const r=t.slice(0,6),i=n(t.slice(6,8));return{...MV(r),a:i}}const fYe=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function Ble(e){const t=fYe.exec(e);return t?NV({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}}const BEe={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},hYe={hex:MV,hexa:dYe,rgb:Ble,rgba:Ble,hsl:jle,hsla:jle};function iT(e){for(const[,t]of Object.entries(BEe))if(t.test(e))return!0;return!1}function db(e){if(typeof e!="string")return{h:0,s:0,v:0,a:1};if(e==="transparent")return{h:0,s:0,v:0,a:0};const t=e.trim();for(const[n,r]of Object.entries(BEe))if(r.test(t))return hYe[n](t);return{h:0,s:0,v:0,a:1}}const pYe={},zEe=k.forwardRef((e,t)=>{const{value:n,onChange:r,onChangeEnd:i,color:o,...s}=He("AlphaSlider",pYe,e);return x.jsx(MK,{...s,ref:t,value:n,onChange:a=>r?.(ed(a,2)),onChangeEnd:a=>i?.(ed(a,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--slider-checkers) 75%)",backgroundSize:`${Ge(8)} ${Ge(8)}`,backgroundPosition:`0 0, 0 ${Ge(4)}, ${Ge(4)} ${Ge(-4)}, ${Ge(-4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${o})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${Ge(1)} inset, rgb(0, 0, 0, .15) 0 0 ${Ge(4)} inset`}]})});zEe.displayName="@mantine/core/AlphaSlider";function UEe({h:e,s:t,v:n,a:r}){const i=e/360*6,o=t/100,s=n/100,a=Math.floor(i),l=s*(1-o),u=s*(1-(i-a)*o),c=s*(1-(1-i+a)*o),d=a%6;return{r:ed([s,u,l,l,c,s][d]*255),g:ed([c,s,s,u,l,l][d]*255),b:ed([l,l,c,s,s,u][d]*255),a:ed(r,2)}}function zle(e,t){const{r:n,g:r,b:i,a:o}=UEe(e);return t?`rgba(${n}, ${r}, ${i}, ${ed(o,2)})`:`rgb(${n}, ${r}, ${i})`}function Ule({h:e,s:t,v:n,a:r},i){const o=(200-t)*n/100,s={h:Math.round(e),s:Math.round(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Math.round(o/2)};return i?`hsla(${s.h}, ${s.s}%, ${s.l}%, ${ed(r,2)})`:`hsl(${s.h}, ${s.s}%, ${s.l}%)`}function H3(e){const t=e.toString(16);return t.length<2?`0${t}`:t}function VEe(e){const{r:t,g:n,b:r}=UEe(e);return`#${H3(t)}${H3(n)}${H3(r)}`}function mYe(e){const t=Math.round(e.a*255);return`${VEe(e)}${H3(t)}`}const wB={hex:VEe,hexa:e=>mYe(e),rgb:e=>zle(e,!1),rgba:e=>zle(e,!0),hsl:e=>Ule(e,!1),hsla:e=>Ule(e,!0)};function Zd(e,t){return t?e in wB?wB[e](t):wB.hex(t):"#000000"}const HEe=k.forwardRef((e,t)=>{const{value:n,onChange:r,onChangeEnd:i,color:o,...s}=He("HueSlider",{},e);return x.jsx(MK,{...s,ref:t,value:n,onChange:r,onChangeEnd:i,maxValue:360,thumbColor:`hsl(${n}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${Ge(1)} inset, rgb(0, 0, 0, .15) 0 0 ${Ge(4)} inset`}]})});HEe.displayName="@mantine/core/HueSlider";function qEe({className:e,onChange:t,onChangeEnd:n,value:r,saturationLabel:i,focusable:o=!0,size:s,color:a,onScrubStart:l,onScrubEnd:u,...c}){const{getStyles:d}=PK(),[f,h]=k.useState({x:r.s/100,y:1-r.v/100}),m=k.useRef(f),{ref:p}=uk(({x:v,y:w})=>{m.current={x:v,y:w},t({s:Math.round(v*100),v:Math.round((1-w)*100)})},{onScrubEnd:()=>{const{x:v,y:w}=m.current;n({s:Math.round(v*100),v:Math.round((1-w)*100)}),u?.()},onScrubStart:l});k.useEffect(()=>{h({x:r.s/100,y:1-r.v/100})},[r.s,r.v]);const g=(v,w)=>{v.preventDefault();const E=Xxe(w);t({s:Math.round(E.x*100),v:Math.round((1-E.y)*100)}),n({s:Math.round(E.x*100),v:Math.round((1-E.y)*100)})},y=v=>{switch(v.key){case"ArrowUp":{g(v,{y:f.y-.05,x:f.x});break}case"ArrowDown":{g(v,{y:f.y+.05,x:f.x});break}case"ArrowRight":{g(v,{x:f.x+.05,y:f.y});break}case"ArrowLeft":{g(v,{x:f.x-.05,y:f.y});break}}};return x.jsxs(Ie,{...d("saturation"),ref:p,...c,role:"slider","aria-label":i,"aria-valuenow":f.x,"aria-valuetext":Zd("rgba",r),tabIndex:o?0:-1,onKeyDown:y,children:[x.jsx("div",{...d("saturationOverlay",{style:{backgroundColor:`hsl(${r.h}, 100%, 50%)`}})}),x.jsx("div",{...d("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),x.jsx("div",{...d("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),x.jsx(OK,{position:f,...d("thumb",{style:{backgroundColor:a}})})]})}qEe.displayName="@mantine/core/Saturation";const WEe=k.forwardRef(({className:e,datatype:t,setValue:n,onChangeEnd:r,size:i,focusable:o,data:s,swatchesPerRow:a,...l},u)=>{const c=PK(),d=s.map((f,h)=>k.createElement(Vm,{...c.getStyles("swatch"),unstyled:c.unstyled,component:"button",type:"button",color:f,key:h,radius:"sm",onClick:()=>{n(f),r?.(f)},"aria-label":f,tabIndex:o?0:-1,"data-swatch":!0}));return x.jsx(Ie,{...c.getStyles("swatches"),ref:u,...l,children:d})});WEe.displayName="@mantine/core/Swatches";const gYe={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},yYe=(e,{size:t,swatchesPerRow:n})=>({wrapper:{"--cp-preview-size":mn(t,"cp-preview-size"),"--cp-width":mn(t,"cp-width"),"--cp-body-spacing":Bi(t),"--cp-swatch-size":`${100/n}%`,"--cp-thumb-size":mn(t,"cp-thumb-size"),"--cp-saturation-height":mn(t,"cp-saturation-height")}}),s$=et((e,t)=>{const n=He("ColorPicker",gYe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,format:u,value:c,defaultValue:d,onChange:f,onChangeEnd:h,withPicker:m,size:p,saturationLabel:g,hueLabel:y,alphaLabel:v,focusable:w,swatches:E,swatchesPerRow:C,fullWidth:S,onColorSwatchClick:T,__staticSelector:A,mod:D,...I}=n,P=Dt({name:A,props:n,classes:NK,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"wrapper",vars:l,varsResolver:yYe}),N=k.useRef(u),$=k.useRef(""),O=k.useRef(-1),j=k.useRef(!1),B=u==="hexa"||u==="rgba"||u==="hsla",[H,q,Y]=zi({value:c,defaultValue:d,finalValue:"#FFFFFF",onChange:f}),[V,L]=k.useState(db(H)),U=()=>{window.clearTimeout(O.current),j.current=!0},z=()=>{window.clearTimeout(O.current),O.current=window.setTimeout(()=>{j.current=!1},200)},G=Q=>{L(te=>{const de={...te,...Q};return $.current=Zd(N.current,de),de}),q($.current)};return Hl(()=>{iT(c)&&!j.current&&L(db(c))},[c]),Hl(()=>{N.current=u,q(Zd(u,V))},[u]),x.jsx(oYe,{value:{getStyles:P,unstyled:a},children:x.jsxs(Ie,{ref:t,...P("wrapper"),size:p,mod:[{"full-width":S},D],...I,children:[m&&x.jsxs(x.Fragment,{children:[x.jsx(qEe,{value:V,onChange:G,onChangeEnd:({s:Q,v:te})=>h?.(Zd(N.current,{...V,s:Q,v:te})),color:H,size:p,focusable:w,saturationLabel:g,onScrubStart:U,onScrubEnd:z}),x.jsxs("div",{...P("body"),children:[x.jsxs("div",{...P("sliders"),children:[x.jsx(HEe,{value:V.h,onChange:Q=>G({h:Q}),onChangeEnd:Q=>h?.(Zd(N.current,{...V,h:Q})),size:p,focusable:w,"aria-label":y,onScrubStart:U,onScrubEnd:z}),B&&x.jsx(zEe,{value:V.a,onChange:Q=>G({a:Q}),onChangeEnd:Q=>{h?.(Zd(N.current,{...V,a:Q}))},size:p,color:Zd("hex",V),focusable:w,"aria-label":v,onScrubStart:U,onScrubEnd:z})]}),B&&x.jsx(Vm,{color:H,radius:"sm",size:"var(--cp-preview-size)",...P("preview")})]})]}),Array.isArray(E)&&x.jsx(WEe,{data:E,swatchesPerRow:C,focusable:w,setValue:q,onChangeEnd:Q=>{const te=Zd(u,db(Q));T?.(te),h?.(te),Y||L(db(Q))}})]})})});s$.classes=NK;s$.displayName="@mantine/core/ColorPicker";function vYe({style:e,...t}){return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--ci-eye-dropper-icon-size)",height:"var(--ci-eye-dropper-icon-size)",...e},viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),x.jsx("path",{d:"M11 7l6 6"}),x.jsx("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]})}var Vle={eyeDropperIcon:"m_b077c2bc",colorPreview:"m_c5ccdcab",dropdown:"m_5ece2cd7"};const Hle={format:"hex",fixOnBlur:!0,withPreview:!0,swatchesPerRow:7,withPicker:!0,popoverProps:{transitionProps:{transition:"fade",duration:0}},withEyeDropper:!0},bYe=(e,{size:t})=>({eyeDropperIcon:{"--ci-eye-dropper-icon-size":mn(t,"ci-eye-dropper-icon-size")},colorPreview:{"--ci-preview-size":mn(t,"ci-preview-size")}}),HN=et((e,t)=>{const n=He("ColorInput",Hle,e),{classNames:r,styles:i,unstyled:o,disallowInput:s,fixOnBlur:a,popoverProps:l,withPreview:u,withEyeDropper:c,eyeDropperIcon:d,closeOnColorSwatchClick:f,eyeDropperButtonProps:h,value:m,defaultValue:p,onChange:g,onChangeEnd:y,onClick:v,onFocus:w,onBlur:E,inputProps:C,format:S,wrapperProps:T,readOnly:A,withPicker:D,swatches:I,disabled:P,leftSection:N,rightSection:$,swatchesPerRow:O,...j}=JY("ColorInput",Hle,e),B=Dt({name:"ColorInput",props:n,classes:Vle,classNames:r,styles:i,unstyled:o,rootSelector:"wrapper",vars:n.vars,varsResolver:bYe}),{resolvedClassNames:H,resolvedStyles:q}=zf({classNames:r,styles:i,props:n}),[Y,V]=k.useState(!1),[L,U]=k.useState(""),[z,G]=zi({value:m,defaultValue:p,finalValue:"",onChange:g}),{supported:Q,open:te}=pUe(),de=x.jsx(Cn,{...h,...B("eyeDropperButton",{className:h?.className,style:h?.style}),variant:"subtle",color:"gray",size:C.size,unstyled:o,onClick:()=>te().then(ie=>{if(ie?.sRGBHex){const le=Zd(S,db(ie.sRGBHex));G(le),y?.(le)}}).catch(()=>{}),children:d||x.jsx(vYe,{...B("eyeDropperIcon")})}),se=ie=>{w?.(ie),V(!0)},ae=ie=>{a&&G(L),E?.(ie),V(!1)},he=ie=>{v?.(ie),V(!0)};return k.useEffect(()=>{(iT(z)||z.trim()==="")&&U(z)},[z]),Hl(()=>{iT(z)&&G(Zd(S,db(z)))},[S]),x.jsx(Hr.Wrapper,{...T,classNames:H,styles:q,__staticSelector:"ColorInput",children:x.jsxs(Or,{__staticSelector:"ColorInput",position:"bottom-start",offset:5,opened:Y,...l,classNames:H,styles:q,unstyled:o,withRoles:!1,disabled:A||D===!1&&(!Array.isArray(I)||I.length===0),children:[x.jsx(Or.Target,{children:x.jsx(Hr,{autoComplete:"off",...j,...C,classNames:H,styles:q,disabled:P,ref:t,__staticSelector:"ColorInput",onFocus:se,onBlur:ae,onClick:he,spellCheck:!1,value:z,onChange:ie=>{const le=ie.currentTarget.value;G(le),iT(le)&&y?.(Zd(S,db(le)))},leftSection:N||(u?x.jsx(Vm,{color:iT(z)?z:"#fff",size:"var(--ci-preview-size)",...B("colorPreview")}):null),readOnly:s||A,pointer:s,unstyled:o,rightSection:$||(c&&!P&&!A&&Q?de:null)})}),x.jsx(Or.Dropdown,{onMouseDown:ie=>ie.preventDefault(),className:Vle.dropdown,children:x.jsx(s$,{__staticSelector:"ColorInput",value:z,onChange:G,onChangeEnd:y,format:S,swatches:I,swatchesPerRow:O,withPicker:D,size:C.size,focusable:!1,unstyled:o,styles:q,classNames:H,onColorSwatchClick:()=>f&&V(!1)})})]})})});HN.classes=Xl.classes;HN.displayName="@mantine/core/ColorInput";var GEe={root:"m_7485cace"};const wYe={},xYe=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:mn(t,"container-size")}}),yg=et((e,t)=>{const n=He("Container",wYe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,fluid:u,mod:c,...d}=n,f=Dt({name:"Container",classes:GEe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:xYe});return x.jsx(Ie,{ref:t,mod:[{fluid:u},c],...f("root"),...d})});yg.classes=GEe;yg.displayName="@mantine/core/Container";const _Ye={timeout:1e3};function YEe(e){const{children:t,timeout:n,value:r,...i}=He("CopyButton",_Ye,e),o=Hze({timeout:n}),s=()=>o.copy(r);return x.jsx(x.Fragment,{children:t({copy:s,copied:o.copied,...i})})}YEe.displayName="@mantine/core/CopyButton";var KEe={root:"m_3eebeb36",label:"m_9e365f20"};const EYe={orientation:"horizontal"},CYe=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?ti(t,e):void 0,"--divider-border-style":n,"--divider-size":mn(r,"divider-size")}}),TE=et((e,t)=>{const n=He("Divider",EYe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,orientation:c,label:d,labelPosition:f,mod:h,...m}=n,p=Dt({name:"Divider",classes:KEe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:CYe});return x.jsx(Ie,{ref:t,mod:[{orientation:c,"with-label":!!d},h],...p("root"),...m,role:"separator",children:d&&x.jsx(Ie,{component:"span",mod:{position:f},...p("label"),children:d})})});TE.classes=KEe;TE.displayName="@mantine/core/Divider";function XEe({open:e,close:t,openDelay:n,closeDelay:r}){const i=k.useRef(-1),o=k.useRef(-1),s=()=>{window.clearTimeout(i.current),window.clearTimeout(o.current)},a=()=>{s(),n===0||n===void 0?e():i.current=window.setTimeout(e,n)},l=()=>{s(),r===0||r===void 0?t():o.current=window.setTimeout(t,r)};return k.useEffect(()=>s,[]),{openDropdown:a,closeDropdown:l}}const[qle,QEe]=Ns("Grid component was not found in tree"),$V=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,Wle=(e,t,n)=>n||e==="auto"?"100%":e==="content"?"unset":$V(e,t),Gle=(e,t)=>{if(e)return e==="auto"||t?"1":"auto"},Yle=(e,t)=>e===0?"0":e?`${100/(t/e)}%`:void 0;function SYe({span:e,order:t,offset:n,selector:r}){const i=uo(),o=QEe(),s=o.breakpoints||i.breakpoints,l=cf(e)===void 0?12:cf(e),u=Fy({"--col-order":cf(t)?.toString(),"--col-flex-grow":Gle(l,o.grow),"--col-flex-basis":$V(l,o.columns),"--col-width":l==="content"?"auto":void 0,"--col-max-width":Wle(l,o.columns,o.grow),"--col-offset":Yle(cf(n),o.columns)}),c=Pi(s).reduce((h,m)=>(h[m]||(h[m]={}),typeof t=="object"&&t[m]!==void 0&&(h[m]["--col-order"]=t[m]?.toString()),typeof e=="object"&&e[m]!==void 0&&(h[m]["--col-flex-grow"]=Gle(e[m],o.grow),h[m]["--col-flex-basis"]=$V(e[m],o.columns),h[m]["--col-width"]=e[m]==="content"?"auto":void 0,h[m]["--col-max-width"]=Wle(e[m],o.columns,o.grow)),typeof n=="object"&&n[m]!==void 0&&(h[m]["--col-offset"]=Yle(n[m],o.columns)),h),{}),f=L2(Pi(c),s).filter(h=>Pi(c[h.value]).length>0).map(h=>({query:o.type==="container"?`mantine-grid (min-width: ${s[h.value]})`:`(min-width: ${s[h.value]})`,styles:c[h.value]}));return x.jsx(I1,{styles:u,media:o.type==="container"?void 0:f,container:o.type==="container"?f:void 0,selector:r})}var $K={container:"m_8478a6da",root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const TYe={span:12},FK=et((e,t)=>{const n=He("GridCol",TYe,e),{classNames:r,className:i,style:o,styles:s,vars:a,span:l,order:u,offset:c,...d}=n,f=QEe(),h=ck();return x.jsxs(x.Fragment,{children:[x.jsx(SYe,{selector:`.${h}`,span:l,order:u,offset:c}),x.jsx(Ie,{ref:t,...f.getStyles("col",{className:$t(i,h),style:o,classNames:r,styles:s}),...d})]})});FK.classes=$K;FK.displayName="@mantine/core/GridCol";function Kle({gutter:e,selector:t,breakpoints:n,type:r}){const i=uo(),o=n||i.breakpoints,s=Fy({"--grid-gutter":Bi(cf(e))}),a=Pi(o).reduce((c,d)=>(c[d]||(c[d]={}),typeof e=="object"&&e[d]!==void 0&&(c[d]["--grid-gutter"]=Bi(e[d])),c),{}),u=L2(Pi(a),o).filter(c=>Pi(a[c.value]).length>0).map(c=>({query:r==="container"?`mantine-grid (min-width: ${o[c.value]})`:`(min-width: ${o[c.value]})`,styles:a[c.value]}));return x.jsx(I1,{styles:s,media:r==="container"?void 0:u,container:r==="container"?u:void 0,selector:t})}const AYe={gutter:"md",grow:!1,columns:12},kYe=(e,{justify:t,align:n,overflow:r})=>({root:{"--grid-justify":t,"--grid-align":n,"--grid-overflow":r}}),go=et((e,t)=>{const n=He("Grid",AYe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,grow:u,gutter:c,columns:d,align:f,justify:h,children:m,breakpoints:p,type:g,...y}=n,v=Dt({name:"Grid",classes:$K,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:kYe}),w=ck();return g==="container"&&p?x.jsxs(qle,{value:{getStyles:v,grow:u,columns:d||12,breakpoints:p,type:g},children:[x.jsx(Kle,{selector:`.${w}`,...n}),x.jsx("div",{...v("container"),children:x.jsx(Ie,{ref:t,...v("root",{className:w}),...y,children:x.jsx("div",{...v("inner"),children:m})})})]}):x.jsxs(qle,{value:{getStyles:v,grow:u,columns:d||12,breakpoints:p,type:g},children:[x.jsx(Kle,{selector:`.${w}`,...n}),x.jsx(Ie,{ref:t,...v("root",{className:w}),...y,children:x.jsx("div",{...v("inner"),children:m})})]})});go.classes=$K;go.displayName="@mantine/core/Grid";go.Col=FK;function Xle({color:e,theme:t,defaultShade:n}){const r=Bf({color:e,theme:t});return r.isThemeColor?r.shade===void 0?`var(--mantine-color-${r.color}-${n})`:`var(${r.variable})`:e}var JEe={root:"m_bcb3f3c2"};const RYe={color:"yellow"},IYe=(e,{color:t})=>({root:{"--mark-bg-dark":Xle({color:t,theme:e,defaultShade:5}),"--mark-bg-light":Xle({color:t,theme:e,defaultShade:2})}}),LK=et((e,t)=>{const n=He("Mark",RYe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,variant:c,...d}=n,f=Dt({name:"Mark",props:n,className:i,style:o,classes:JEe,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:IYe});return x.jsx(Ie,{component:"mark",ref:t,variant:c,...f("root"),...d})});LK.classes=JEe;LK.displayName="@mantine/core/Mark";function Qle(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}function DYe(e,t){if(t==null)return[{chunk:e,highlighted:!1}];const n=Array.isArray(t)?t.map(Qle):Qle(t);if(!(Array.isArray(n)?n.filter(a=>a.trim().length>0).length>0:n.trim()!==""))return[{chunk:e,highlighted:!1}];const i=typeof n=="string"?n.trim():n.filter(a=>a.trim().length!==0).map(a=>a.trim()).sort((a,l)=>l.length-a.length).join("|"),o=new RegExp(`(${i})`,"gi");return e.split(o).map(a=>({chunk:a,highlighted:o.test(a)})).filter(({chunk:a})=>a)}const PYe={},jK=es((e,t)=>{const{unstyled:n,children:r,highlight:i,highlightStyles:o,color:s,...a}=He("Highlight",PYe,e),l=DYe(r,i);return x.jsx(Ve,{unstyled:n,ref:t,...a,__staticSelector:"Highlight",children:l.map(({chunk:u,highlighted:c},d)=>c?x.jsx(LK,{unstyled:n,color:s,style:o,"data-highlight":u,children:u},d):x.jsx("span",{children:u},d))})});jK.classes=Ve.classes;jK.displayName="@mantine/core/Highlight";const[OYe,ZEe]=Ns("HoverCard component was not found in the tree"),NYe={};function eCe(e){const{children:t,onMouseEnter:n,onMouseLeave:r,...i}=He("HoverCardDropdown",NYe,e),o=ZEe(),s=Xs(n,o.openDropdown),a=Xs(r,o.closeDropdown);return x.jsx(Or.Dropdown,{onMouseEnter:s,onMouseLeave:a,...i,children:t})}eCe.displayName="@mantine/core/HoverCardDropdown";const MYe={refProp:"ref"},tCe=k.forwardRef((e,t)=>{const{children:n,refProp:r,eventPropsWrapperName:i,...o}=He("HoverCardTarget",MYe,e);if(!hg(n))throw new Error("HoverCard.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=ZEe(),a=Xs(n.props.onMouseEnter,s.openDropdown),l=Xs(n.props.onMouseLeave,s.closeDropdown),u={onMouseEnter:a,onMouseLeave:l};return x.jsx(Or.Target,{refProp:r,ref:t,...o,children:k.cloneElement(n,i?{[i]:u}:u)})});tCe.displayName="@mantine/core/HoverCardTarget";const $Ye={openDelay:0,closeDelay:150,initiallyOpened:!1};function Tb(e){const{children:t,onOpen:n,onClose:r,openDelay:i,closeDelay:o,initiallyOpened:s,...a}=He("HoverCard",$Ye,e),[l,{open:u,close:c}]=CY(s,{onClose:r,onOpen:n}),{openDropdown:d,closeDropdown:f}=XEe({open:u,close:c,openDelay:i,closeDelay:o});return x.jsx(OYe,{value:{openDropdown:d,closeDropdown:f},children:x.jsx(Or,{...a,opened:l,__staticSelector:"HoverCard",children:t})})}Tb.displayName="@mantine/core/HoverCard";Tb.Target=tCe;Tb.Dropdown=eCe;Tb.extend=e=>e;var nCe={root:"m_9e117634"};const FYe={},LYe=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:qr(t),"--image-object-fit":n}}),vg=es((e,t)=>{const n=He("Image",FYe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,onError:u,src:c,radius:d,fit:f,fallbackSrc:h,mod:m,...p}=n,[g,y]=k.useState(!c);k.useEffect(()=>y(!c),[c]);const v=Dt({name:"Image",classes:nCe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:LYe});return g&&h?x.jsx(Ie,{component:"img",ref:t,src:h,...v("root"),onError:u,mod:["fallback",m],...p}):x.jsx(Ie,{component:"img",ref:t,...v("root"),src:c,onError:w=>{u?.(w),y(!0)},mod:m,...p})});vg.classes=nCe;vg.displayName="@mantine/core/Image";function jYe(e="top-end",t=0){const n={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},r=Ge(t),[i,o]=e.split("-");return i==="top"&&(n["--indicator-top"]=r,n["--indicator-translate-y"]="-50%"),i==="middle"&&(n["--indicator-top"]="50%",n["--indicator-translate-y"]="-50%"),i==="bottom"&&(n["--indicator-bottom"]=r,n["--indicator-translate-y"]="50%"),o==="start"&&(n["--indicator-left"]=r,n["--indicator-translate-x"]="-50%"),o==="center"&&(n["--indicator-left"]="50%",n["--indicator-translate-x"]="-50%"),o==="end"&&(n["--indicator-right"]=r,n["--indicator-translate-x"]="50%"),n}var rCe={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const BYe={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},zYe=(e,{color:t,position:n,offset:r,size:i,radius:o,zIndex:s,autoContrast:a})=>({root:{"--indicator-color":t?ti(t,e):void 0,"--indicator-text-color":jy(a,e)?Ep({color:t,theme:e,autoContrast:a}):void 0,"--indicator-size":Ge(i),"--indicator-radius":o===void 0?void 0:qr(o),"--indicator-z-index":s?.toString(),...jYe(n,r)}}),a$=et((e,t)=>{const n=He("Indicator",BYe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,position:c,offset:d,inline:f,label:h,radius:m,color:p,withBorder:g,disabled:y,processing:v,zIndex:w,autoContrast:E,mod:C,...S}=n,T=Dt({name:"Indicator",classes:rCe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:zYe});return x.jsxs(Ie,{ref:t,...T("root"),mod:[{inline:f},C],...S,children:[!y&&x.jsx(Ie,{mod:{"with-label":!!h,"with-border":g,processing:v},...T("indicator"),children:h}),u]})});a$.classes=rCe;a$.displayName="@mantine/core/Indicator";function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qN.apply(null,arguments)}function BK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var UYe=k.useLayoutEffect,VYe=function(t){var n=dn.useRef(t);return UYe(function(){n.current=t}),n},Jle=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},HYe=function(t,n){var r=dn.useRef();return dn.useCallback(function(i){t.current=i,r.current&&Jle(r.current,null),r.current=n,n&&Jle(n,i)},[n])},Zle={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},qYe=function(t){Object.keys(Zle).forEach(function(n){t.style.setProperty(n,Zle[n],"important")})},eue=qYe,xl=null,tue=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function WYe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),xl||(xl=document.createElement("textarea"),xl.setAttribute("tabindex","-1"),xl.setAttribute("aria-hidden","true"),eue(xl)),xl.parentNode===null&&document.body.appendChild(xl);var i=e.paddingSize,o=e.borderSize,s=e.sizingStyle,a=s.boxSizing;Object.keys(s).forEach(function(f){var h=f;xl.style[h]=s[h]}),eue(xl),xl.value=t;var l=tue(xl,e);xl.value=t,l=tue(xl,e),xl.value="x";var u=xl.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+o),l=Math.max(c,l);var d=u*r;return a==="border-box"&&(d=d+i+o),l=Math.min(d,l),[l,u]}var nue=function(){},GYe=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},YYe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],KYe=!!document.documentElement.currentStyle,XYe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=GYe(YYe,n),i=r.boxSizing;if(i==="")return null;KYe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),s=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:s}},QYe=XYe;function zK(e,t,n){var r=VYe(n);k.useLayoutEffect(function(){var i=function(s){return r.current(s)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var JYe=function(t,n){zK(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},ZYe=function(t){zK(window,"resize",t)},eKe=function(t){zK(document.fonts,"loadingdone",t)},tKe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],nKe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,o=t.minRows,s=t.onChange,a=s===void 0?nue:s,l=t.onHeightChange,u=l===void 0?nue:l,c=BK(t,tKe),d=c.value!==void 0,f=k.useRef(null),h=HYe(f,n),m=k.useRef(0),p=k.useRef(),g=function(){var w=f.current,E=r&&p.current?p.current:QYe(w);if(E){p.current=E;var C=WYe(E,w.value||w.placeholder||"x",o,i),S=C[0],T=C[1];m.current!==S&&(m.current=S,w.style.setProperty("height",S+"px","important"),u(S,{rowHeight:T}))}},y=function(w){d||g(),a(w)};return k.useLayoutEffect(g),JYe(f,function(){if(!d){var v=f.current.value;requestAnimationFrame(function(){var w=f.current;w&&v!==w.value&&g()})}}),ZYe(g),eKe(g),k.createElement("textarea",qN({},c,{onChange:y,ref:h}))},rKe=k.forwardRef(nKe);const iKe={},U2=et((e,t)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:o,resize:s,...a}=He("Textarea",iKe,e),l=n&&Qxe()!=="test",u=l?{maxRows:r,minRows:i}:{};return x.jsx(Xl,{component:l?rKe:"textarea",ref:t,...a,__staticSelector:o||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":s},...u})});U2.classes=Xl.classes;U2.displayName="@mantine/core/Textarea";const[oKe,sKe]=Ns("List component was not found in tree");var UK={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const aKe={},VK=et((e,t)=>{const n=He("ListItem",aKe,e),{classNames:r,className:i,style:o,styles:s,vars:a,icon:l,children:u,mod:c,...d}=n,f=sKe(),h=l||f.icon,m={classNames:r,styles:s};return x.jsx(Ie,{...f.getStyles("item",{...m,className:i,style:o}),component:"li",mod:[{"with-icon":!!h,centered:f.center},c],ref:t,...d,children:x.jsxs("div",{...f.getStyles("itemWrapper",m),children:[h&&x.jsx("span",{...f.getStyles("itemIcon",m),children:h}),x.jsx("span",{...f.getStyles("itemLabel",m),children:u})]})})});VK.classes=UK;VK.displayName="@mantine/core/ListItem";const lKe={type:"unordered"},uKe=(e,{size:t,spacing:n})=>({root:{"--list-fz":vo(t),"--list-lh":zxe(t),"--list-spacing":Bi(n)}}),Za=et((e,t)=>{const n=He("List",lKe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,type:c,withPadding:d,icon:f,spacing:h,center:m,listStyleType:p,mod:g,...y}=n,v=Dt({name:"List",classes:UK,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:uKe});return x.jsx(oKe,{value:{center:m,icon:f,getStyles:v},children:x.jsx(Ie,{...v("root",{style:{listStyleType:p}}),component:c==="unordered"?"ul":"ol",mod:[{"with-padding":d},g],ref:t,...y,children:u})})});Za.classes=UK;Za.displayName="@mantine/core/List";Za.Item=VK;var iCe={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const rue={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Fu("overlay")},cKe=(e,{zIndex:t})=>({root:{"--lo-z-index":t?.toString()}}),ql=et((e,t)=>{const n=He("LoadingOverlay",rue,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,transitionProps:u,loaderProps:c,overlayProps:d,visible:f,zIndex:h,...m}=n,p=uo(),g=Dt({name:"LoadingOverlay",classes:iCe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:cKe}),y={...rue.overlayProps,...d};return x.jsx(Ad,{transition:"fade",...u,mounted:!!f,children:v=>x.jsxs(Ie,{...g("root",{style:v}),ref:t,...m,children:[x.jsx(Uf,{...g("loader"),unstyled:a,...c}),x.jsx(b_,{...y,...g("overlay"),darkHidden:!0,unstyled:a,color:d?.color||p.white}),x.jsx(b_,{...y,...g("overlay"),lightHidden:!0,unstyled:a,color:d?.color||p.colors.dark[5]})]})})});ql.classes=iCe;ql.displayName="@mantine/core/LoadingOverlay";const[dKe,vk]=Ns("Menu component was not found in the tree");var AE={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const fKe={},HK=et((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=He("MenuDivider",fKe,e),l=vk();return x.jsx(Ie,{ref:t,...l.getStyles("divider",{className:r,style:i,styles:o,classNames:n}),...a})});HK.classes=AE;HK.displayName="@mantine/core/MenuDivider";const hKe={},qK=et((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,onMouseEnter:a,onMouseLeave:l,onKeyDown:u,children:c,...d}=He("MenuDropdown",hKe,e),f=k.useRef(null),h=vk(),m=Xs(u,y=>{(y.key==="ArrowUp"||y.key==="ArrowDown")&&(y.preventDefault(),f.current?.querySelectorAll("[data-menu-item]:not(:disabled)")[0]?.focus())}),p=Xs(a,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.openDropdown()),g=Xs(l,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.closeDropdown());return x.jsxs(Or.Dropdown,{...d,onMouseEnter:p,onMouseLeave:g,role:"menu","aria-orientation":"vertical",ref:xo(t,f),...h.getStyles("dropdown",{className:r,style:i,styles:o,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:m,children:[h.withInitialFocusPlaceholder&&x.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),c]})});qK.classes=AE;qK.displayName="@mantine/core/MenuDropdown";const pKe={},WK=es((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,color:a,closeMenuOnClick:l,leftSection:u,rightSection:c,children:d,disabled:f,"data-disabled":h,...m}=He("MenuItem",pKe,e),p=vk(),g=uo(),{dir:y}=Lu(),v=k.useRef(null),w=p.getItemIndex(v.current),E=m,C=Xs(E.onMouseLeave,()=>p.setHovered(-1)),S=Xs(E.onMouseEnter,()=>p.setHovered(p.getItemIndex(v.current))),T=Xs(E.onClick,()=>{h||(typeof l=="boolean"?l&&p.closeDropdownImmediately():p.closeOnItemClick&&p.closeDropdownImmediately())}),A=Xs(E.onFocus,()=>p.setHovered(p.getItemIndex(v.current))),D=a?g.variantColorResolver({color:a,theme:g,variant:"light"}):void 0,I=a?Bf({color:a,theme:g}):null;return x.jsxs(fs,{...m,unstyled:p.unstyled,tabIndex:p.menuItemTabIndex,onFocus:A,...p.getStyles("item",{className:r,style:i,styles:o,classNames:n}),ref:xo(v,t),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||h||void 0,"data-hovered":p.hovered===w?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:S,onMouseLeave:C,onClick:T,onKeyDown:xY({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:p.loop,dir:y,orientation:"vertical",onKeyDown:E.onKeyDown}),__vars:{"--menu-item-color":I?.isThemeColor&&I?.shade===void 0?`var(--mantine-color-${I.color}-6)`:D?.color,"--menu-item-hover":D?.hover},children:[u&&x.jsx("div",{...p.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"left",children:u}),d&&x.jsx("div",{...p.getStyles("itemLabel",{styles:o,classNames:n}),children:d}),c&&x.jsx("div",{...p.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"right",children:c})]})});WK.classes=AE;WK.displayName="@mantine/core/MenuItem";const mKe={},GK=et((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=He("MenuLabel",mKe,e),l=vk();return x.jsx(Ie,{ref:t,...l.getStyles("label",{className:r,style:i,styles:o,classNames:n}),...a})});GK.classes=AE;GK.displayName="@mantine/core/MenuLabel";const gKe={refProp:"ref"},oCe=k.forwardRef((e,t)=>{const{children:n,refProp:r,...i}=He("MenuTarget",gKe,e);if(!hg(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=vk(),s=n.props,a=Xs(s.onClick,()=>{o.trigger==="click"?o.toggleDropdown():o.trigger==="click-hover"&&(o.setOpenedViaClick(!0),o.opened||o.openDropdown())}),l=Xs(s.onMouseEnter,()=>(o.trigger==="hover"||o.trigger==="click-hover")&&o.openDropdown()),u=Xs(s.onMouseLeave,()=>{(o.trigger==="hover"||o.trigger==="click-hover"&&!o.openedViaClick)&&o.closeDropdown()});return x.jsx(Or.Target,{refProp:r,popupType:"menu",ref:t,...i,children:k.cloneElement(n,{onClick:a,onMouseEnter:l,onMouseLeave:u,"data-expanded":o.opened?!0:void 0})})});oCe.displayName="@mantine/core/MenuTarget";const yKe={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Pn(e){const t=He("Menu",yKe,e),{children:n,onOpen:r,onClose:i,opened:o,defaultOpened:s,trapFocus:a,onChange:l,closeOnItemClick:u,loop:c,closeOnEscape:d,trigger:f,openDelay:h,closeDelay:m,classNames:p,styles:g,unstyled:y,variant:v,vars:w,menuItemTabIndex:E,keepMounted:C,withInitialFocusPlaceholder:S,...T}=t,A=Dt({name:"Menu",classes:AE,props:t,classNames:p,styles:g,unstyled:y}),[D,{setHovered:I,resetHovered:P}]=Uze(),[N,$]=zi({value:o,defaultValue:s,finalValue:!1,onChange:l}),[O,j]=k.useState(!1),B=()=>{$(!1),j(!1),N&&i?.()},H=()=>{$(!0),!N&&r?.()},q=()=>{N?B():H()},{openDropdown:Y,closeDropdown:V}=XEe({open:H,close:B,closeDelay:m,openDelay:h}),L=G=>zze("[data-menu-item]","[data-menu-dropdown]",G),{resolvedClassNames:U,resolvedStyles:z}=zf({classNames:p,styles:g,props:t});return Hl(()=>{P()},[N]),x.jsx(dKe,{value:{getStyles:A,opened:N,toggleDropdown:q,getItemIndex:L,hovered:D,setHovered:I,openedViaClick:O,setOpenedViaClick:j,closeOnItemClick:u,closeDropdown:f==="click"?B:V,openDropdown:f==="click"?H:Y,closeDropdownImmediately:B,loop:c,trigger:f,unstyled:y,menuItemTabIndex:E,withInitialFocusPlaceholder:S},children:x.jsx(Or,{...T,opened:N,onChange:q,defaultOpened:s,trapFocus:C?!1:a,closeOnEscape:d,__staticSelector:"Menu",classNames:U,styles:z,unstyled:y,variant:v,keepMounted:C,children:n})})}Pn.extend=e=>e;Pn.withProps=u_e(Pn);Pn.classes=AE;Pn.displayName="@mantine/core/Menu";Pn.Item=WK;Pn.Label=GK;Pn.Dropdown=qK;Pn.Target=oCe;Pn.Divider=HK;const[vKe,kE]=Ns("Modal component was not found in tree");var bg={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const bKe={},l$=et((e,t)=>{const n=He("ModalBody",bKe,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=kE();return x.jsx(oEe,{ref:t,...u.getStyles("body",{classNames:r,style:o,styles:s,className:i}),...l})});l$.classes=bg;l$.displayName="@mantine/core/ModalBody";const wKe={},u$=et((e,t)=>{const n=He("ModalCloseButton",wKe,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=kE();return x.jsx(sEe,{ref:t,...u.getStyles("close",{classNames:r,style:o,styles:s,className:i}),...l})});u$.classes=bg;u$.displayName="@mantine/core/ModalCloseButton";const xKe={},c$=et((e,t)=>{const n=He("ModalContent",xKe,e),{classNames:r,className:i,style:o,styles:s,vars:a,children:l,__hidden:u,...c}=n,d=kE(),f=d.scrollAreaComponent||cWe;return x.jsx(aEe,{...d.getStyles("content",{className:i,style:o,styles:s,classNames:r}),innerProps:d.getStyles("inner",{className:i,style:o,styles:s,classNames:r}),"data-full-screen":d.fullScreen||void 0,"data-modal-content":!0,"data-hidden":u||void 0,ref:t,...c,children:x.jsx(f,{style:{maxHeight:d.fullScreen?"100dvh":`calc(100dvh - (${Ge(d.yOffset)} * 2))`},children:l})})});c$.classes=bg;c$.displayName="@mantine/core/ModalContent";const _Ke={},d$=et((e,t)=>{const n=He("ModalHeader",_Ke,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=kE();return x.jsx(lEe,{ref:t,...u.getStyles("header",{classNames:r,style:o,styles:s,className:i}),...l})});d$.classes=bg;d$.displayName="@mantine/core/ModalHeader";const EKe={},f$=et((e,t)=>{const n=He("ModalOverlay",EKe,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=kE();return x.jsx(uEe,{ref:t,...u.getStyles("overlay",{classNames:r,style:o,styles:s,className:i}),...l})});f$.classes=bg;f$.displayName="@mantine/core/ModalOverlay";const CKe={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Fu("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},SKe=(e,{radius:t,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:qr(t),"--modal-size":mn(n,"modal-size"),"--modal-y-offset":Ge(r),"--modal-x-offset":Ge(i)}}),h$=et((e,t)=>{const n=He("ModalRoot",CKe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,yOffset:u,scrollAreaComponent:c,radius:d,fullScreen:f,centered:h,xOffset:m,__staticSelector:p,...g}=n,y=Dt({name:p,classes:bg,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:SKe});return x.jsx(vKe,{value:{yOffset:u,scrollAreaComponent:c,getStyles:y,fullScreen:f},children:x.jsx(iEe,{ref:t,...y("root"),"data-full-screen":f||void 0,"data-centered":h||void 0,"data-offset-scrollbars":c===op.Autosize||void 0,unstyled:a,...g})})});h$.classes=bg;h$.displayName="@mantine/core/ModalRoot";const[TKe,AKe]=pg();function sCe({children:e}){const[t,n]=k.useState([]),[r,i]=k.useState(Fu("modal"));return x.jsx(TKe,{value:{stack:t,addModal:(o,s)=>{n(a=>[...new Set([...a,o])]),i(a=>typeof s=="number"&&typeof a=="number"?Math.max(a,s):a)},removeModal:o=>n(s=>s.filter(a=>a!==o)),getZIndex:o=>`calc(${r} + ${t.indexOf(o)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}sCe.displayName="@mantine/core/ModalStack";const kKe={},p$=et((e,t)=>{const n=He("ModalTitle",kKe,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=kE();return x.jsx(cEe,{ref:t,...u.getStyles("title",{classNames:r,style:o,styles:s,className:i}),...l})});p$.classes=bg;p$.displayName="@mantine/core/ModalTitle";const RKe={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Fu("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Ii=et((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:o,closeButtonProps:s,children:a,radius:l,opened:u,stackId:c,zIndex:d,...f}=He("Modal",RKe,e),h=AKe(),m=!!n||o,p=h&&c?{closeOnEscape:h.currentId===c,trapFocus:h.currentId===c,zIndex:h.getZIndex(c)}:{},g=r===!1?!1:c&&h?h.currentId===c:u;return k.useEffect(()=>{h&&c&&(u?h.addModal(c,d||Fu("modal")):h.removeModal(c))},[u,c,d]),x.jsxs(h$,{ref:t,radius:l,opened:u,zIndex:h&&c?h.getZIndex(c):d,...f,...p,children:[r&&x.jsx(f$,{visible:g,transitionProps:h&&c?{duration:0}:void 0,...i}),x.jsxs(c$,{radius:l,__hidden:h&&c&&u?c!==h.currentId:!1,children:[m&&x.jsxs(d$,{children:[n&&x.jsx(p$,{children:n}),o&&x.jsx(u$,{...s})]}),x.jsx(l$,{children:a})]})]})});Ii.classes=bg;Ii.displayName="@mantine/core/Modal";Ii.Root=h$;Ii.Overlay=f$;Ii.Content=c$;Ii.Body=l$;Ii.Header=d$;Ii.Title=p$;Ii.CloseButton=u$;Ii.Stack=sCe;const[IKe,YK]=pg(),[DKe,PKe]=pg();var m$={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const OKe={},NKe=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?mn(t):mn(n,"pg-gap")}}),KK=et((e,t)=>{const n=He("PillGroup",OKe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,disabled:c,...d}=n,h=YK()?.size||u||void 0,m=Dt({name:"PillGroup",classes:m$,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:NKe,stylesCtx:{size:h},rootSelector:"group"});return x.jsx(DKe,{value:{size:h,disabled:c},children:x.jsx(Ie,{ref:t,size:h,...m("group"),...d})})});KK.classes=m$;KK.displayName="@mantine/core/PillGroup";const MKe={variant:"default"},$Ke=(e,{radius:t},{size:n})=>({root:{"--pill-fz":mn(n,"pill-fz"),"--pill-height":mn(n,"pill-height"),"--pill-radius":t===void 0?void 0:qr(t)}}),Vb=et((e,t)=>{const n=He("Pill",MKe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,variant:u,children:c,withRemoveButton:d,onRemove:f,removeButtonProps:h,radius:m,size:p,disabled:g,mod:y,...v}=n,w=PKe(),E=YK(),C=p||w?.size||void 0,S=E?.variant==="filled"?"contrast":u||"default",T=Dt({name:"Pill",classes:m$,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:$Ke,stylesCtx:{size:C}});return x.jsxs(Ie,{component:"span",ref:t,variant:S,size:C,...T("root",{variant:S}),mod:[{"with-remove":d&&!g,disabled:g||w?.disabled},y],...v,children:[x.jsx("span",{...T("label"),children:c}),d&&x.jsx(sp,{variant:"transparent",radius:m,tabIndex:-1,"aria-hidden":!0,unstyled:a,...h,...T("remove",{className:h?.className,style:h?.style}),onMouseDown:A=>{A.preventDefault(),A.stopPropagation(),h?.onMouseDown?.(A)},onClick:A=>{A.stopPropagation(),f?.(),h?.onClick?.(A)}})]})});Vb.classes=m$;Vb.displayName="@mantine/core/Pill";Vb.Group=KK;var aCe={field:"m_45c4369d"};const FKe={type:"visible"},XK=et((e,t)=>{const n=He("PillsInputField",FKe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,type:u,disabled:c,id:d,pointer:f,mod:h,...m}=n,p=YK(),g=EE(),y=Dt({name:"PillsInputField",classes:aCe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"field"}),v=c||p?.disabled;return x.jsx(Ie,{component:"input",ref:xo(t,p?.fieldRef),"data-type":u,disabled:v,mod:[{disabled:v,pointer:f},h],...y("field"),...m,id:g?.inputId||d,"aria-invalid":p?.hasError,"aria-describedby":g?.describedBy,type:"text",onMouseDown:w=>!f&&w.stopPropagation()})});XK.classes=aCe;XK.displayName="@mantine/core/PillsInputField";const LKe={},E_=et((e,t)=>{const n=He("PillsInput",LKe,e),{children:r,onMouseDown:i,onClick:o,size:s,disabled:a,__staticSelector:l,error:u,variant:c,...d}=n,f=k.useRef(null);return x.jsx(IKe,{value:{fieldRef:f,size:s,disabled:a,hasError:!!u,variant:c},children:x.jsx(Xl,{size:s,error:u,variant:c,component:"div",ref:t,onMouseDown:h=>{h.preventDefault(),i?.(h),f.current?.focus()},onClick:h=>{h.preventDefault(),h.currentTarget.closest("fieldset")?.disabled||(f.current?.focus(),o?.(h))},...d,multiline:!0,disabled:a,__staticSelector:l||"PillsInput",withAria:!1,children:r})})});E_.displayName="@mantine/core/PillsInput";E_.Field=XK;function jKe({data:e,value:t}){const n=t.map(i=>i.trim().toLowerCase());return e.reduce((i,o)=>(__(o)?i.push({group:o.group,items:o.items.filter(s=>n.indexOf(s.value.toLowerCase().trim())===-1)}):n.indexOf(o.value.toLowerCase().trim())===-1&&i.push(o),i),[])}const BKe={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},RE=et((e,t)=>{const n=He("MultiSelect",BKe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,value:c,defaultValue:d,onChange:f,onKeyDown:h,variant:m,data:p,dropdownOpened:g,defaultDropdownOpened:y,onDropdownOpen:v,onDropdownClose:w,selectFirstOptionOnChange:E,onOptionSubmit:C,comboboxProps:S,filter:T,limit:A,withScrollArea:D,maxDropdownHeight:I,searchValue:P,defaultSearchValue:N,onSearchChange:$,readOnly:O,disabled:j,onFocus:B,onBlur:H,radius:q,rightSection:Y,rightSectionWidth:V,rightSectionPointerEvents:L,rightSectionProps:U,leftSection:z,leftSectionWidth:G,leftSectionPointerEvents:Q,leftSectionProps:te,inputContainer:de,inputWrapperOrder:se,withAsterisk:ae,labelProps:he,descriptionProps:ie,errorProps:le,wrapperProps:Ce,description:X,label:fe,error:ce,maxValues:ne,searchable:ee,nothingFoundMessage:pe,withCheckIcon:Re,checkIconPosition:Se,hidePickedOptions:be,withErrorStyles:Ne,name:Ae,form:Pe,id:we,clearable:Le,clearButtonProps:ze,hiddenInputProps:tt,placeholder:rt,hiddenInputValuesDivider:bt,required:Kt,mod:Wt,renderOption:Mn,onRemove:Ft,onClear:hn,scrollAreaProps:Kn,chevronColor:zn,...Fr}=n,er=Pa(we),Sr=dK(p),Tn=r$(Sr),an=yk({opened:g,defaultOpened:y,onDropdownOpen:v,onDropdownClose:()=>{w?.(),an.resetSelectedOption()}}),{styleProps:sr,rest:{type:pi,autoComplete:Tr,...An}}=D1(Fr),[ft,wr]=zi({value:c,defaultValue:d,finalValue:[],onChange:f}),[Vt,ar]=zi({value:P,defaultValue:N,finalValue:"",onChange:$}),un=Un=>{ar(Un),an.resetSelectedOption()},tr=Dt({name:"MultiSelect",classes:{},props:n,classNames:r,styles:s,unstyled:a}),{resolvedClassNames:Rr,resolvedStyles:Lr}=zf({props:n,styles:s,classNames:r}),jr=Un=>{h?.(Un),Un.key===" "&&!ee&&(Un.preventDefault(),an.toggleDropdown()),Un.key==="Backspace"&&Vt.length===0&&ft.length>0&&(Ft?.(ft[ft.length-1]),wr(ft.slice(0,ft.length-1)))},gs=ft.map((Un,Hi)=>x.jsx(Vb,{withRemoveButton:!O&&!Tn[Un]?.disabled,onRemove:()=>{wr(ft.filter(ys=>Un!==ys)),Ft?.(Un)},unstyled:a,disabled:j,...tr("pill"),children:Tn[Un]?.label||Un},`${Un}-${Hi}`));k.useEffect(()=>{E&&an.selectFirstOption()},[E,Vt]);const Na=x.jsx(qn.ClearButton,{...ze,onClear:()=>{hn?.(),wr([]),un("")}}),tu=jKe({data:Sr,value:ft}),Vu=Le&&ft.length>0&&!j&&!O;return x.jsxs(x.Fragment,{children:[x.jsxs(qn,{store:an,classNames:Rr,styles:Lr,unstyled:a,size:u,readOnly:O,__staticSelector:"MultiSelect",onOptionSubmit:Un=>{C?.(Un),un(""),an.updateSelectedOptionIndex("selected"),ft.includes(Tn[Un].value)?(wr(ft.filter(Hi=>Hi!==Tn[Un].value)),Ft?.(Tn[Un].value)):ft.length<ne&&wr([...ft,Tn[Un].value])},...S,children:[x.jsx(qn.DropdownTarget,{children:x.jsx(E_,{...sr,__staticSelector:"MultiSelect",classNames:Rr,styles:Lr,unstyled:a,size:u,className:i,style:o,variant:m,disabled:j,radius:q,__defaultRightSection:x.jsx(qn.Chevron,{size:u,error:ce,unstyled:a,color:zn}),__clearSection:Na,__clearable:Vu,rightSection:Y,rightSectionPointerEvents:L||(Na?"all":"none"),rightSectionWidth:V,rightSectionProps:U,leftSection:z,leftSectionWidth:G,leftSectionPointerEvents:Q,leftSectionProps:te,inputContainer:de,inputWrapperOrder:se,withAsterisk:ae,labelProps:he,descriptionProps:ie,errorProps:le,wrapperProps:Ce,description:X,label:fe,error:ce,withErrorStyles:Ne,__stylesApiProps:{...n,rightSectionPointerEvents:L||(Vu?"all":"none"),multiline:!0},pointer:!ee,onClick:()=>ee?an.openDropdown():an.toggleDropdown(),"data-expanded":an.dropdownOpened||void 0,id:er,required:Kt,mod:Wt,children:x.jsxs(Vb.Group,{disabled:j,unstyled:a,...tr("pillsList"),children:[gs,x.jsx(qn.EventsTarget,{autoComplete:Tr,children:x.jsx(E_.Field,{...An,ref:t,id:er,placeholder:rt,type:!ee&&!rt?"hidden":"visible",...tr("inputField"),unstyled:a,onFocus:Un=>{B?.(Un),ee&&an.openDropdown()},onBlur:Un=>{H?.(Un),an.closeDropdown(),un("")},onKeyDown:jr,value:Vt,onChange:Un=>{un(Un.currentTarget.value),ee&&an.openDropdown(),E&&an.selectFirstOption()},disabled:j,readOnly:O||!ee,pointer:!ee})})]})})}),x.jsx(AK,{data:be?tu:Sr,hidden:O||j,filter:T,search:Vt,limit:A,hiddenWhenEmpty:!pe,withScrollArea:D,maxDropdownHeight:I,filterOptions:ee,value:ft,checkIconPosition:Se,withCheckIcon:Re,nothingFoundMessage:pe,unstyled:a,labelId:fe?`${er}-label`:void 0,"aria-label":fe?void 0:Fr["aria-label"],renderOption:Mn,scrollAreaProps:Kn})]}),x.jsx(qn.HiddenInput,{name:Ae,valuesDivider:bt,value:ft,form:Pe,disabled:j,...tt})]})});RE.classes={...Xl.classes,...qn.classes};RE.displayName="@mantine/core/MultiSelect";var lCe={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const zKe={},UKe=(e,{variant:t,color:n,childrenOffset:r,autoContrast:i})=>{const o=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:t||"light",autoContrast:i});return{root:{"--nl-bg":n||t?o.background:void 0,"--nl-hover":n||t?o.hover:void 0,"--nl-color":n||t?o.color:void 0},children:{"--nl-offset":Bi(r)}}},g$=es((e,t)=>{const n=He("NavLink",zKe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,opened:u,defaultOpened:c,onChange:d,children:f,onClick:h,active:m,disabled:p,leftSection:g,rightSection:y,label:v,description:w,disableRightSectionRotation:E,noWrap:C,childrenOffset:S,onKeyDown:T,autoContrast:A,mod:D,...I}=n,P=Dt({name:"NavLink",props:n,classes:lCe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:UKe}),[N,$]=zi({value:u,defaultValue:c,finalValue:!1,onChange:d}),O=!!f,j=B=>{h?.(B),O&&(B.preventDefault(),$(!N))};return x.jsxs(x.Fragment,{children:[x.jsxs(fs,{...P("root"),component:"a",ref:t,onClick:j,onKeyDown:B=>{T?.(B),B.nativeEvent.code==="Space"&&O&&(B.preventDefault(),$(!N))},unstyled:a,mod:[{disabled:p,active:m,expanded:N},D],...I,children:[g&&x.jsx(Ie,{component:"span",...P("section"),mod:{position:"left"},children:g}),x.jsxs(Ie,{...P("body"),mod:{"no-wrap":C},children:[x.jsx(Ie,{component:"span",...P("label"),children:v}),x.jsx(Ie,{component:"span",mod:{active:m},...P("description"),children:w})]}),(O||y!==void 0)&&x.jsx(Ie,{...P("section"),component:"span",mod:{rotate:N&&!E,position:"right"},children:O?y!==void 0?y:x.jsx(x_,{...P("chevron")}):y})]}),O&&x.jsx(Cp,{in:N,...P("collapse"),children:x.jsx("div",{...P("children"),children:f})})]})});g$.classes=lCe;g$.displayName="@mantine/core/NavLink";var uCe={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const VKe={withCloseButton:!0},HKe=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:qr(t),"--notification-color":n?ti(n,e):void 0}}),QK=et((e,t)=>{const n=He("Notification",VKe,e),{className:r,color:i,radius:o,loading:s,withCloseButton:a,withBorder:l,title:u,icon:c,children:d,onClose:f,closeButtonProps:h,classNames:m,style:p,styles:g,unstyled:y,variant:v,vars:w,mod:E,loaderProps:C,role:S,...T}=n,A=Dt({name:"Notification",classes:uCe,props:n,className:r,style:p,classNames:m,styles:g,unstyled:y,vars:w,varsResolver:HKe});return x.jsxs(Ie,{...A("root"),mod:[{"data-with-icon":!!c||s,"data-with-border":l},E],ref:t,variant:v,role:S||"alert",...T,children:[c&&!s&&x.jsx("div",{...A("icon"),children:c}),s&&x.jsx(Uf,{size:28,color:i,...C,...A("loader")}),x.jsxs("div",{...A("body"),children:[u&&x.jsx("div",{...A("title"),children:u}),x.jsx(Ie,{...A("description"),mod:{"data-with-title":!!u},children:d})]}),a&&x.jsx(sp,{iconSize:16,color:"gray",...h,unstyled:y,onClick:f,...A("closeButton")})]})});QK.classes=uCe;QK.displayName="@mantine/core/Notification";function cCe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var V2;(function(e){e.event="event",e.props="prop"})(V2||(V2={}));function w0(){}function qKe(e){var t,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t&&r.length===t.length&&r.every(function(o,s){return o===t[s]})||(t=r,n=e.apply(void 0,r)),n}}function H2(e){return!!(e||"").match(/\d/)}function Hx(e){return e==null}function WKe(e){return typeof e=="number"&&isNaN(e)}function dCe(e){return Hx(e)||WKe(e)||typeof e=="number"&&!isFinite(e)}function fCe(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function GKe(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function YKe(e,t,n){var r=GKe(n),i=e.search(/[1-9]/);return i=i===-1?e.length:i,e.substring(0,i)+e.substring(i,e.length).replace(r,"$1"+t)}function KKe(e){var t=k.useRef(e);t.current=e;var n=k.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t.current.apply(t,r)});return n.current}function JK(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var i=e.split("."),o=i[0],s=i[1]||"";return{beforeDecimal:o,afterDecimal:s,hasNegation:n,addNegation:r}}function XKe(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")}function hCe(e,t,n){for(var r="",i=n?"0":"",o=0;o<=t-1;o++)r+=e[o]||i;return r}function iue(e,t){return Array(t+1).join(e)}function pCe(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),i=r[0],o=r[1];if(o=Number(o),!o)return n+i;i=i.replace(".","");var s=1+o,a=i.length;return s<0?i="0."+iue("0",Math.abs(s))+i:s>=a?i=i+iue("0",s-a):i=(i.substring(0,s)||"0")+"."+i.substring(s),n+i}function oue(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,i=JK(e),o=i.beforeDecimal,s=i.afterDecimal,a=i.hasNegation,l=parseFloat("0."+(s||"0")),u=s.length<=t?"0."+s:l.toFixed(t),c=u.split("."),d=o;o&&Number(c[0])&&(d=o.split("").reverse().reduce(function(p,g,y){return p.length>y?(Number(p[0])+Number(g)).toString()+p.substring(1,p.length):g+p},c[0]));var f=hCe(c[1]||"",t,n),h=a?"-":"",m=r?".":"";return""+h+d+m+f}function nb(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var mCe=qKe(function(e,t){for(var n=0,r=0,i=e.length,o=t.length;e[n]===t[n]&&n<i;)n++;for(;e[i-1-r]===t[o-1-r]&&o-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:o-r}}}),QKe=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function JKe(e,t,n){return Math.min(Math.max(e,t),n)}function xB(e){return Math.max(e.selectionStart,e.selectionEnd)}function ZKe(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function eXe(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function tXe(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,i=e.formattedValueIndex;return t[r]===n[i]}function nXe(e,t,n,r,i,o,s){s===void 0&&(s=tXe);var a=i.findIndex(function(E){return E}),l=e.slice(0,a);!t&&!n.startsWith(l)&&(t=l,n=l+n,r=r+l.length);for(var u=n.length,c=e.length,d={},f=new Array(u),h=0;h<u;h++){f[h]=-1;for(var m=0,p=c;m<p;m++){var g=s({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:h,formattedValueIndex:m});if(g&&d[m]!==!0){f[h]=m,d[m]=!0;break}}}for(var y=r;y<u&&(f[y]===-1||!o(n[y]));)y++;var v=y===u||f[y]===-1?c:f[y];for(y=r-1;y>0&&f[y]===-1;)y--;var w=y===-1||f[y]===-1?0:f[y]+1;return w>v?v:r-w<v-r?w:v}function sue(e,t,n,r){var i=e.length;if(t=JKe(t,0,i),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=i&&!n[t];)t++;t>i&&(t=n.lastIndexOf(!0))}return t===-1&&(t=i),t}function rXe(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(H2(e[n])||H2(e[n-1]));return t}function gCe(e,t,n,r,i,o){o===void 0&&(o=w0);var s=KKe(function(m,p){var g,y;return dCe(m)?(y="",g=""):typeof m=="number"||p?(y=typeof m=="number"?pCe(m):m,g=r(y)):(y=i(m,void 0),g=r(y)),{formattedValue:g,numAsString:y}}),a=k.useState(function(){return s(Hx(e)?t:e,n)}),l=a[0],u=a[1],c=function(m,p){m.formattedValue!==l.formattedValue&&u({formattedValue:m.formattedValue,numAsString:m.value}),o(m,p)},d=e,f=n;Hx(e)&&(d=l.numAsString,f=!0);var h=s(d,f);return k.useMemo(function(){u(h)},[h.formattedValue]),[l,c]}function iXe(e){return e.replace(/[^0-9]/g,"")}function oXe(e){return e}function sXe(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,i=e.renderText,o=e.getInputRef,s=e.format;s===void 0&&(s=oXe);var a=e.removeFormatting;a===void 0&&(a=iXe);var l=e.defaultValue,u=e.valueIsNumericString,c=e.onValueChange,d=e.isAllowed,f=e.onChange;f===void 0&&(f=w0);var h=e.onKeyDown;h===void 0&&(h=w0);var m=e.onMouseUp;m===void 0&&(m=w0);var p=e.onFocus;p===void 0&&(p=w0);var g=e.onBlur;g===void 0&&(g=w0);var y=e.value,v=e.getCaretBoundary;v===void 0&&(v=rXe);var w=e.isValidInputCharacter;w===void 0&&(w=H2);var E=e.isCharacterSame,C=cCe(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),S=gCe(y,l,!!u,s,a,c),T=S[0],A=T.formattedValue,D=T.numAsString,I=S[1],P=k.useRef(),N=k.useRef({formattedValue:A,numAsString:D}),$=function(ne,ee){N.current={formattedValue:ne.formattedValue,numAsString:ne.value},I(ne,ee)},O=k.useState(!1),j=O[0],B=O[1],H=k.useRef(null),q=k.useRef({setCaretTimeout:null,focusTimeout:null});k.useEffect(function(){return B(!0),function(){clearTimeout(q.current.setCaretTimeout),clearTimeout(q.current.focusTimeout)}},[]);var Y=s,V=function(ne,ee){var pe=parseFloat(ee);return{formattedValue:ne,value:ee,floatValue:isNaN(pe)?void 0:pe}},L=function(ne,ee,pe){ne.selectionStart===0&&ne.selectionEnd===ne.value.length||(nb(ne,ee),q.current.setCaretTimeout=setTimeout(function(){ne.value===pe&&ne.selectionStart!==ee&&nb(ne,ee)},0))},U=function(ne,ee,pe){return sue(ne,ee,v(ne),pe)},z=function(ne,ee,pe){var Re=v(ee),Se=nXe(ee,A,ne,pe,Re,w,E);return Se=sue(ee,Se,Re),Se},G=function(ne){var ee=ne.formattedValue;ee===void 0&&(ee="");var pe=ne.input,Re=ne.source,Se=ne.event,be=ne.numAsString,Ne;if(pe){var Ae=ne.inputValue||pe.value,Pe=xB(pe);pe.value=ee,Ne=z(Ae,ee,Pe),Ne!==void 0&&L(pe,Ne,ee)}ee!==A&&$(V(ee,be),{event:Se,source:Re})};k.useEffect(function(){var ne=N.current,ee=ne.formattedValue,pe=ne.numAsString;(A!==ee||D!==pe)&&$(V(A,D),{event:void 0,source:V2.props})},[A,D]);var Q=H.current?xB(H.current):void 0,te=typeof window<"u"?k.useLayoutEffect:k.useEffect;te(function(){var ne=H.current;if(A!==N.current.formattedValue&&ne){var ee=z(N.current.formattedValue,A,Q);ne.value=A,L(ne,ee,A)}},[A]);var de=function(ne,ee,pe){var Re=ee.target,Se=P.current?QKe(P.current,Re.selectionEnd):mCe(A,ne),be=Object.assign(Object.assign({},Se),{lastValue:A}),Ne=a(ne,be),Ae=Y(Ne);if(Ne=a(Ae,void 0),d&&!d(V(Ae,Ne))){var Pe=ee.target,we=xB(Pe),Le=z(ne,A,we);return Pe.value=A,L(Pe,Le,A),!1}return G({formattedValue:Ae,numAsString:Ne,inputValue:ne,event:ee,source:pe,input:ee.target}),!0},se=function(ne,ee){ee===void 0&&(ee=0);var pe=ne.selectionStart,Re=ne.selectionEnd;P.current={selectionStart:pe,selectionEnd:Re+ee}},ae=function(ne){var ee=ne.target,pe=ee.value,Re=de(pe,ne,V2.event);Re&&f(ne),P.current=void 0},he=function(ne){var ee=ne.target,pe=ne.key,Re=ee.selectionStart,Se=ee.selectionEnd,be=ee.value;be===void 0&&(be="");var Ne;pe==="ArrowLeft"||pe==="Backspace"?Ne=Math.max(Re-1,0):pe==="ArrowRight"?Ne=Math.min(Re+1,be.length):pe==="Delete"&&(Ne=Re);var Ae=0;pe==="Delete"&&Re===Se&&(Ae=1);var Pe=pe==="ArrowLeft"||pe==="ArrowRight";if(Ne===void 0||Re!==Se&&!Pe){h(ne),se(ee,Ae);return}var we=Ne;if(Pe){var Le=pe==="ArrowLeft"?"left":"right";we=U(be,Ne,Le),we!==Ne&&ne.preventDefault()}else pe==="Delete"&&!w(be[Ne])?we=U(be,Ne,"right"):pe==="Backspace"&&!w(be[Ne])&&(we=U(be,Ne,"left"));we!==Ne&&L(ee,we,be),h(ne),se(ee,Ae)},ie=function(ne){var ee=ne.target,pe=function(){var Re=ee.selectionStart,Se=ee.selectionEnd,be=ee.value;if(be===void 0&&(be=""),Re===Se){var Ne=U(be,Re);Ne!==Re&&L(ee,Ne,be)}};pe(),requestAnimationFrame(function(){pe()}),m(ne),se(ee)},le=function(ne){ne.persist&&ne.persist();var ee=ne.target,pe=ne.currentTarget;H.current=ee,q.current.focusTimeout=setTimeout(function(){var Re=ee.selectionStart,Se=ee.selectionEnd,be=ee.value;be===void 0&&(be="");var Ne=U(be,Re);Ne!==Re&&!(Re===0&&Se===be.length)&&L(ee,Ne,be),p(Object.assign(Object.assign({},ne),{currentTarget:pe}))},0)},Ce=function(ne){H.current=null,clearTimeout(q.current.focusTimeout),clearTimeout(q.current.setCaretTimeout),g(ne)},X=j&&ZKe()?"numeric":void 0,fe=Object.assign({inputMode:X},C,{type:t,value:A,onChange:ae,onKeyDown:he,onMouseUp:ie,onFocus:le,onBlur:Ce});if(n==="text")return i?dn.createElement(dn.Fragment,null,i(A,C)||null):dn.createElement("span",Object.assign({},C,{ref:o}),A);if(r){var ce=r;return dn.createElement(ce,Object.assign({},fe,{ref:o}))}return dn.createElement("input",Object.assign({},fe,{ref:o}))}function aue(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix;i===void 0&&(i="");var o=t.suffix;o===void 0&&(o="");var s=t.allowNegative,a=t.thousandsGroupStyle;if(a===void 0&&(a="thousand"),e===""||e==="-")return e;var l=y$(t),u=l.thousandSeparator,c=l.decimalSeparator,d=n!==0&&e.indexOf(".")!==-1||n&&r,f=JK(e,s),h=f.beforeDecimal,m=f.afterDecimal,p=f.addNegation;return n!==void 0&&(m=hCe(m,n,!!r)),u&&(h=YKe(h,u,a)),i&&(h=i+h),o&&(m=m+o),p&&(h="-"+h),e=h+(d&&c||"")+m,e}function y$(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function aXe(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),o=r.test(e);return e=e.replace(/-/g,""),i&&!o&&t&&(e="-"+e),e}function lXe(e,t){return new RegExp("(^-)|[0-9]|"+fCe(e),"g")}function uXe(e,t,n){return e===""?!0:!t?.match(/\d/)&&!n?.match(/\d/)&&typeof e=="string"&&!isNaN(Number(e))}function cXe(e,t,n){var r;t===void 0&&(t=eXe(e));var i=n.allowNegative,o=n.prefix;o===void 0&&(o="");var s=n.suffix;s===void 0&&(s="");var a=n.decimalScale,l=t.from,u=t.to,c=u.start,d=u.end,f=y$(n),h=f.allowedDecimalSeparators,m=f.decimalSeparator,p=e[d]===m;if(H2(e)&&(e===o||e===s)&&t.lastValue==="")return e;if(d-c===1&&h.indexOf(e[c])!==-1){var g=a===0?"":m;e=e.substring(0,c)+g+e.substring(c+1,e.length)}var y=function(H,q,Y){var V=!1,L=!1;o.startsWith("-")?V=!1:H.startsWith("--")?(V=!1,L=!0):s.startsWith("-")&&H.length===s.length?V=!1:H[0]==="-"&&(V=!0);var U=V?1:0;return L&&(U=2),U&&(H=H.substring(U),q-=U,Y-=U),{value:H,start:q,end:Y,hasNegation:V}},v=y(e,c,d),w=v.hasNegation;r=v,e=r.value,c=r.start,d=r.end;var E=y(t.lastValue,l.start,l.end),C=E.start,S=E.end,T=E.value,A=e.substring(c,d);e.length&&T.length&&(C>T.length-s.length||S<o.length)&&!(A&&s.startsWith(A))&&(e=T);var D=0;e.startsWith(o)?D+=o.length:c<o.length&&(D=c),e=e.substring(D),d-=D;var I=e.length,P=e.length-s.length;e.endsWith(s)?I=P:(d>P||d>e.length-s.length)&&(I=d),e=e.substring(0,I),e=aXe(w?"-"+e:e,i),e=(e.match(lXe(m))||[]).join("");var N=e.indexOf(m);e=e.replace(new RegExp(fCe(m),"g"),function(H,q){return q===N?".":""});var $=JK(e,i),O=$.beforeDecimal,j=$.afterDecimal,B=$.addNegation;return u.end-u.start<l.end-l.start&&O===""&&p&&!parseFloat(j)&&(e=B?"-":""),e}function dXe(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var i=Array.from({length:e.length+1}).map(function(){return!0}),o=e[0]==="-";i.fill(!1,0,n.length+(o?1:0));var s=e.length;return i.fill(!1,s-r.length+1,s+1),i}function fXe(e){var t=y$(e),n=t.thousandSeparator,r=t.decimalSeparator,i=e.prefix;i===void 0&&(i="");var o=e.allowNegative;if(o===void 0&&(o=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&o&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+o+`
    `),o=!1),Object.assign(Object.assign({},e),{allowNegative:o})}function hXe(e){e=fXe(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,i=e.onKeyDown;i===void 0&&(i=w0);var o=e.onBlur;o===void 0&&(o=w0);var s=e.thousandSeparator,a=e.decimalScale,l=e.fixedDecimalScale,u=e.prefix;u===void 0&&(u="");var c=e.defaultValue,d=e.value,f=e.valueIsNumericString,h=e.onValueChange,m=cCe(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),p=y$(e),g=p.decimalSeparator,y=p.allowedDecimalSeparators,v=function(B){return aue(B,e)},w=function(B,H){return cXe(B,H,e)},E=Hx(d)?c:d,C=f??uXe(E,u,t);Hx(d)?Hx(c)||(C=C||typeof c=="number"):C=C||typeof d=="number";var S=function(B){return dCe(B)?B:(typeof B=="number"&&(B=pCe(B)),C&&typeof a=="number"?oue(B,a,!!l):B)},T=gCe(S(d),S(c),!!C,v,w,h),A=T[0],D=A.numAsString,I=A.formattedValue,P=T[1],N=function(B){var H=B.target,q=B.key,Y=H.selectionStart,V=H.selectionEnd,L=H.value;if(L===void 0&&(L=""),(q==="Backspace"||q==="Delete")&&V<u.length){B.preventDefault();return}if(Y!==V){i(B);return}q==="Backspace"&&L[0]==="-"&&Y===u.length+1&&n&&nb(H,1),a&&l&&(q==="Backspace"&&L[Y-1]===g?(nb(H,Y-1),B.preventDefault()):q==="Delete"&&L[Y]===g&&B.preventDefault()),y?.includes(q)&&L[Y]===g&&nb(H,Y+1);var U=s===!0?",":s;q==="Backspace"&&L[Y-1]===U&&nb(H,Y-1),q==="Delete"&&L[Y]===U&&nb(H,Y+1),i(B)},$=function(B){var H=D;if(H.match(/\d/g)||(H=""),r||(H=XKe(H)),l&&a&&(H=oue(H,a,l)),H!==D){var q=aue(H,e);P({formattedValue:q,value:H,floatValue:parseFloat(H)},{event:B,source:V2.event})}o(B)},O=function(B){return B===g?!0:H2(B)},j=function(B){var H=B.currentValue,q=B.lastValue,Y=B.formattedValue,V=B.currentValueIndex,L=B.formattedValueIndex,U=H[V],z=Y[L],G=mCe(q,H),Q=G.to,te=function(de){return w(de).indexOf(".")+u.length};return d===0&&l&&a&&H[Q.start]===g&&te(H)<V&&te(Y)>L?!1:V>=Q.start&&V<Q.end&&y&&y.includes(U)&&z===g?!0:U===z};return Object.assign(Object.assign({},m),{value:I,valueIsNumericString:!1,isValidInputCharacter:O,isCharacterSame:j,onValueChange:P,format:v,removeFormatting:w,getCaretBoundary:function(B){return dXe(B,e)},onKeyDown:N,onBlur:$})}function pXe(e){var t=hXe(e);return dn.createElement(sXe,Object.assign({},t))}function lue({direction:e,style:t,...n}){return x.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:x.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var FV={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const mXe=/^(0\.0*|-0(\.0*)?)$/,gXe=/^-?0\d+(\.\d+)?\.?$/;function LV(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function _B(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||LV(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function yXe(e){return e.toString().replace(".","").length}function vXe(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&yXe(t)<14&&t!==""}function uue(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,i=n===void 0||e<=n;return r&&i}const bXe={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},wXe=(e,{size:t})=>({controls:{"--ni-chevron-size":mn(t,"ni-chevron-size")}});function xXe(e,t,n){const r=e.toString().replace(/^0+/,""),i=parseFloat(r);return Number.isNaN(i)?r:i>Number.MAX_SAFE_INTEGER?t!==void 0?String(t):r:od(i,n,t)}const ZK=et((e,t)=>{const n=He("NumberInput",bXe,e),{className:r,classNames:i,styles:o,unstyled:s,vars:a,onChange:l,onValueChange:u,value:c,defaultValue:d,max:f,min:h,step:m,hideControls:p,rightSection:g,isAllowed:y,clampBehavior:v,onBlur:w,allowDecimal:E,decimalScale:C,onKeyDown:S,onKeyDownCapture:T,handlersRef:A,startValue:D,disabled:I,rightSectionPointerEvents:P,allowNegative:N,readOnly:$,size:O,rightSectionWidth:j,stepHoldInterval:B,stepHoldDelay:H,allowLeadingZeros:q,withKeyboardEvents:Y,trimLeadingZeroesOnBlur:V,...L}=n,U=Dt({name:"NumberInput",classes:FV,props:n,classNames:i,styles:o,unstyled:s,vars:a,varsResolver:wXe}),{resolvedClassNames:z,resolvedStyles:G}=zf({classNames:i,styles:o,props:n}),[Q,te]=zi({value:c,defaultValue:d,finalValue:"",onChange:l}),de=H!==void 0&&B!==void 0,se=k.useRef(null),ae=k.useRef(null),he=k.useRef(0),ie=(Ae,Pe)=>{Pe.source==="event"&&te(vXe(Ae.floatValue,Ae.value)&&!mXe.test(Ae.value)&&!(q&&gXe.test(Ae.value))?Ae.floatValue:Ae.value),u?.(Ae,Pe)},le=Ae=>{const Pe=String(Ae).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return Pe?Math.max(0,(Pe[1]?Pe[1].length:0)-(Pe[2]?+Pe[2]:0)):0},Ce=Ae=>{se.current&&typeof Ae<"u"&&se.current.setSelectionRange(Ae,Ae)},X=k.useRef(FN);X.current=()=>{if(!_B(Q))return;let Ae;const Pe=le(Q),we=le(m),Le=Math.max(Pe,we),ze=10**Le;if(!LV(Q)&&(typeof Q!="number"||Number.isNaN(Q)))Ae=od(D,h,f);else if(f!==void 0){const rt=(Math.round(Number(Q)*ze)+Math.round(m*ze))/ze;Ae=rt<=f?rt:f}else Ae=(Math.round(Number(Q)*ze)+Math.round(m*ze))/ze;const tt=Ae.toFixed(Le);te(parseFloat(tt)),u?.({floatValue:parseFloat(tt),formattedValue:tt,value:tt},{source:"increment"}),setTimeout(()=>Ce(se.current?.value.length),0)};const fe=k.useRef(FN);fe.current=()=>{if(!_B(Q))return;let Ae;const Pe=h!==void 0?h:N?Number.MIN_SAFE_INTEGER:0,we=le(Q),Le=le(m),ze=Math.max(we,Le),tt=10**ze;if(!LV(Q)&&typeof Q!="number"||Number.isNaN(Q))Ae=od(D,Pe,f);else{const bt=(Math.round(Number(Q)*tt)-Math.round(m*tt))/tt;Ae=Pe!==void 0&&bt<Pe?Pe:bt}const rt=Ae.toFixed(ze);te(parseFloat(rt)),u?.({floatValue:parseFloat(rt),formattedValue:rt,value:rt},{source:"decrement"}),setTimeout(()=>Ce(se.current?.value.length),0)};const ce=Ae=>{S?.(Ae),!($||!Y)&&(Ae.key==="ArrowUp"&&(Ae.preventDefault(),X.current()),Ae.key==="ArrowDown"&&(Ae.preventDefault(),fe.current()))},ne=Ae=>{if(T?.(Ae),Ae.key==="Backspace"){const Pe=se.current;Pe.selectionStart===0&&Pe.selectionStart===Pe.selectionEnd&&(Ae.preventDefault(),window.setTimeout(()=>Ce(0),0))}},ee=Ae=>{let Pe=Q;v==="blur"&&typeof Pe=="number"&&(Pe=od(Pe,h,f)),V&&typeof Pe=="string"&&le(Pe)<15&&(Pe=xXe(Pe,f,h)),Q!==Pe&&te(Pe),w?.(Ae)};LN(A,{increment:X.current,decrement:fe.current});const pe=Ae=>{Ae?X.current():fe.current(),he.current+=1},Re=Ae=>{if(pe(Ae),de){const Pe=typeof B=="number"?B:B(he.current);ae.current=window.setTimeout(()=>Re(Ae),Pe)}},Se=(Ae,Pe)=>{Ae.preventDefault(),se.current?.focus(),pe(Pe),de&&(ae.current=window.setTimeout(()=>Re(Pe),H))},be=()=>{ae.current&&window.clearTimeout(ae.current),ae.current=null,he.current=0},Ne=x.jsxs("div",{...U("controls"),children:[x.jsx(fs,{...U("control"),tabIndex:-1,"aria-hidden":!0,disabled:I||typeof Q=="number"&&f!==void 0&&Q>=f,mod:{direction:"up"},onMouseDown:Ae=>Ae.preventDefault(),onPointerDown:Ae=>{Se(Ae,!0)},onPointerUp:be,onPointerLeave:be,children:x.jsx(lue,{direction:"up"})}),x.jsx(fs,{...U("control"),tabIndex:-1,"aria-hidden":!0,disabled:I||typeof Q=="number"&&h!==void 0&&Q<=h,mod:{direction:"down"},onMouseDown:Ae=>Ae.preventDefault(),onPointerDown:Ae=>{Se(Ae,!1)},onPointerUp:be,onPointerLeave:be,children:x.jsx(lue,{direction:"down"})})]});return x.jsx(Xl,{component:pXe,allowNegative:N,className:$t(FV.root,r),size:O,...L,readOnly:$,disabled:I,value:Q,getInputRef:xo(t,se),onValueChange:ie,rightSection:p||$||!_B(Q)?g:g||Ne,classNames:z,styles:G,unstyled:s,__staticSelector:"NumberInput",decimalScale:E?C:0,onKeyDown:ce,onKeyDownCapture:ne,rightSectionPointerEvents:P??(I?"none":void 0),rightSectionWidth:j??`var(--ni-right-section-width-${O||"sm"})`,allowLeadingZeros:q,onBlur:ee,isAllowed:Ae=>v==="strict"?y?y(Ae)&&uue(Ae.floatValue,h,f):uue(Ae.floatValue,h,f):y?y(Ae):!0})});ZK.classes={...Xl.classes,...FV};ZK.displayName="@mantine/core/NumberInput";const[_Xe,v$]=Ns("Pagination.Root component was not found in tree");var bk={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const EXe={withPadding:!0},wk=et((e,t)=>{const n=He("PaginationControl",EXe,e),{classNames:r,className:i,style:o,styles:s,vars:a,active:l,disabled:u,withPadding:c,mod:d,...f}=n,h=v$(),m=u||h.disabled;return x.jsx(fs,{ref:t,disabled:m,mod:[{active:l,disabled:m,"with-padding":c},d],...h.getStyles("control",{className:i,style:o,classNames:r,styles:s,active:!m}),...f})});wk.classes=bk;wk.displayName="@mantine/core/PaginationControl";function xk({style:e,children:t,path:n,...r}){return x.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...e},...r,children:x.jsx("path",{d:n,fill:"currentColor"})})}const CXe=e=>x.jsx(xk,{...e,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),SXe=e=>x.jsx(xk,{...e,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),TXe=e=>x.jsx(xk,{...e,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),AXe=e=>x.jsx(xk,{...e,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),kXe=e=>x.jsx(xk,{...e,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),RXe={icon:kXe},b$=et((e,t)=>{const n=He("PaginationDots",RXe,e),{classNames:r,className:i,style:o,styles:s,vars:a,icon:l,...u}=n,c=v$(),d=l;return x.jsx(Ie,{ref:t,...c.getStyles("dots",{className:i,style:o,styles:s,classNames:r}),...u,children:x.jsx(d,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});b$.classes=bk;b$.displayName="@mantine/core/PaginationDots";function w$({icon:e,name:t,action:n,type:r}){const i={icon:e},o=k.forwardRef((s,a)=>{const{icon:l,...u}=He(t,i,s),c=l,d=v$(),f=r==="next"?d.active===d.total:d.active===1;return x.jsx(wk,{disabled:d.disabled||f,ref:a,onClick:d[n],withPadding:!1,...u,children:x.jsx(c,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return o.displayName=`@mantine/core/${t}`,o}const yCe=w$({icon:CXe,name:"PaginationNext",action:"onNext",type:"next"}),vCe=w$({icon:SXe,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),bCe=w$({icon:TXe,name:"PaginationFirst",action:"onFirst",type:"previous"}),wCe=w$({icon:AXe,name:"PaginationLast",action:"onLast",type:"next"});function eX({dotsIcon:e}){const t=v$(),n=t.range.map((r,i)=>r==="dots"?x.jsx(b$,{icon:e},i):x.jsx(wk,{active:r===t.active,"aria-current":r===t.active?"page":void 0,onClick:()=>t.onChange(r),disabled:t.disabled,...t.getItemProps?.(r),children:t.getItemProps?.(r)?.children??r},i));return x.jsx(x.Fragment,{children:n})}eX.displayName="@mantine/core/PaginationItems";const IXe={siblings:1,boundaries:1},DXe=(e,{size:t,radius:n,color:r,autoContrast:i})=>({root:{"--pagination-control-radius":n===void 0?void 0:qr(n),"--pagination-control-size":mn(t,"pagination-control-size"),"--pagination-control-fz":vo(t),"--pagination-active-bg":r?ti(r,e):void 0,"--pagination-active-color":jy(i,e)?Ep({color:r,theme:e,autoContrast:i}):void 0}}),x$=et((e,t)=>{const n=He("PaginationRoot",IXe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,total:u,value:c,defaultValue:d,onChange:f,disabled:h,siblings:m,boundaries:p,color:g,radius:y,onNextPage:v,onPreviousPage:w,onFirstPage:E,onLastPage:C,getItemProps:S,autoContrast:T,...A}=n,D=Dt({name:"Pagination",classes:bk,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:DXe}),{range:I,setPage:P,next:N,previous:$,active:O,first:j,last:B}=iUe({page:c,initialPage:d,onChange:f,total:u,siblings:m,boundaries:p}),H=Xs(v,N),q=Xs(w,$),Y=Xs(E,j),V=Xs(C,B);return x.jsx(_Xe,{value:{total:u,range:I,active:O,disabled:h,getItemProps:S,onChange:P,onNext:H,onPrevious:q,onFirst:Y,onLast:V,getStyles:D},children:x.jsx(Ie,{ref:t,...D("root"),...A})})});x$.classes=bk;x$.displayName="@mantine/core/PaginationRoot";const PXe={withControls:!0,withPages:!0,siblings:1,boundaries:1,gap:8},Vf=et((e,t)=>{const n=He("Pagination",PXe,e),{withEdges:r,withControls:i,getControlProps:o,nextIcon:s,previousIcon:a,lastIcon:l,firstIcon:u,dotsIcon:c,total:d,gap:f,hideWithOnePage:h,withPages:m,...p}=n;return d<=0||h&&d===1?null:x.jsx(x$,{ref:t,total:d,...p,children:x.jsxs(Gn,{gap:f,children:[r&&x.jsx(bCe,{icon:u,...o?.("first")}),i&&x.jsx(vCe,{icon:a,...o?.("previous")}),m&&x.jsx(eX,{dotsIcon:c}),i&&x.jsx(yCe,{icon:s,...o?.("next")}),r&&x.jsx(wCe,{icon:l,...o?.("last")})]})})});Vf.classes=bk;Vf.displayName="@mantine/core/Pagination";Vf.Root=x$;Vf.Control=wk;Vf.Dots=b$;Vf.First=bCe;Vf.Last=wCe;Vf.Next=yCe;Vf.Previous=vCe;Vf.Items=eX;const[OXe,xCe]=Ns("Progress.Root component was not found in tree");var _k={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const NXe={},tX=et((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=He("ProgressLabel",NXe,e),l=xCe();return x.jsx(Ie,{ref:t,...l.getStyles("label",{className:r,style:i,classNames:n,styles:o}),...a})});tX.classes=_k;tX.displayName="@mantine/core/ProgressLabel";const MXe={},$Xe=(e,{size:t,radius:n,transitionDuration:r})=>({root:{"--progress-size":mn(t,"progress-size"),"--progress-radius":n===void 0?void 0:qr(n),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}}),_$=et((e,t)=>{const n=He("ProgressRoot",MXe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,autoContrast:u,transitionDuration:c,...d}=n,f=Dt({name:"Progress",classes:_k,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:$Xe});return x.jsx(OXe,{value:{getStyles:f,autoContrast:u},children:x.jsx(Ie,{ref:t,...f("root"),...d})})});_$.classes=_k;_$.displayName="@mantine/core/ProgressRoot";const FXe={withAria:!0},E$=et((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,value:a,withAria:l,color:u,striped:c,animated:d,mod:f,...h}=He("ProgressSection",FXe,e),m=xCe(),p=uo(),g=l?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,"aria-valuetext":`${a}%`}:{};return x.jsx(Ie,{ref:t,...m.getStyles("section",{className:r,classNames:n,styles:o,style:i}),...h,...g,mod:[{striped:c||d,animated:d},f],__vars:{"--progress-section-width":`${a}%`,"--progress-section-color":ti(u,p),"--progress-label-color":jy(m.autoContrast,p)?Ep({color:u,theme:p,autoContrast:m.autoContrast}):void 0}})});E$.classes=_k;E$.displayName="@mantine/core/ProgressSection";const LXe={},O1=et((e,t)=>{const n=He("Progress",LXe,e),{value:r,classNames:i,styles:o,vars:s,color:a,striped:l,animated:u,"aria-label":c,...d}=n,{resolvedClassNames:f,resolvedStyles:h}=zf({classNames:i,styles:o,props:n});return x.jsx(_$,{ref:t,classNames:f,styles:h,vars:s,...d,children:x.jsx(E$,{value:r,color:a,striped:l,animated:u,"aria-label":c})})});O1.classes=_k;O1.displayName="@mantine/core/Progress";O1.Section=E$;O1.Root=_$;O1.Label=tX;const[jXe,_Ce]=pg(),[BXe,zXe]=pg();var ECe={card:"m_9dc8ae12"};const UXe={withBorder:!0},VXe=(e,{radius:t})=>({card:{"--card-radius":qr(t)}}),nX=et((e,t)=>{const n=He("RadioCard",UXe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:f,onClick:h,name:m,onKeyDown:p,...g}=n,y=Dt({name:"RadioCard",classes:ECe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:VXe,rootSelector:"card"}),{dir:v}=Lu(),w=_Ce(),E=typeof u=="boolean"?u:w?.value===f||!1,C=m||w?.name,S=T=>{if(p?.(T),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(T.nativeEvent.code)){T.preventDefault();const A=Array.from(document.querySelectorAll(`[role="radio"][name="${C||"__mantine"}"]`)),D=A.findIndex(N=>N===T.target),I=D+1>=A.length?0:D+1,P=D-1<0?A.length-1:D-1;T.nativeEvent.code==="ArrowDown"&&(A[I].focus(),A[I].click()),T.nativeEvent.code==="ArrowUp"&&(A[P].focus(),A[P].click()),T.nativeEvent.code==="ArrowLeft"&&(A[v==="ltr"?P:I].focus(),A[v==="ltr"?P:I].click()),T.nativeEvent.code==="ArrowRight"&&(A[v==="ltr"?I:P].focus(),A[v==="ltr"?I:P].click())}};return x.jsx(BXe,{value:{checked:E},children:x.jsx(fs,{ref:t,mod:[{"with-border":d,checked:E},c],...y("card"),...g,role:"radio","aria-checked":E,name:C,onClick:T=>{h?.(T),w?.onChange(f||"")},onKeyDown:S})})});nX.displayName="@mantine/core/RadioCard";nX.classes=ECe;const HXe={},rX=et((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,name:l,readOnly:u,...c}=He("RadioGroup",HXe,e),d=Pa(l),[f,h]=zi({value:n,defaultValue:r,finalValue:"",onChange:i}),m=p=>!u&&h(typeof p=="string"?p:p.currentTarget.value);return x.jsx(jXe,{value:{value:f,onChange:m,size:o,name:d},children:x.jsx(Hr.Wrapper,{size:o,ref:t,...s,...c,labelElement:"div",__staticSelector:"RadioGroup",children:x.jsx(EK,{role:"radiogroup",children:a})})})});rX.classes=Hr.Wrapper.classes;rX.displayName="@mantine/core/RadioGroup";function CCe({size:e,style:t,...n}){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:Ge(e),height:Ge(e),...t},"aria-hidden":!0,...n,children:x.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var SCe={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const qXe={icon:CCe},WXe=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=Bf({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":mn(r,"radio-size"),"--radio-radius":t===void 0?void 0:qr(t),"--radio-color":o==="outline"?l:ti(n,e),"--radio-icon-size":mn(r,"radio-icon-size"),"--radio-icon-color":i?ti(i,e):jy(s,e)?Ep({color:n,theme:e,autoContrast:s}):void 0}}},iX=et((e,t)=>{const n=He("RadioIndicator",qXe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,icon:u,radius:c,color:d,iconColor:f,autoContrast:h,checked:m,mod:p,variant:g,disabled:y,...v}=n,w=u,E=Dt({name:"RadioIndicator",classes:SCe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:WXe,rootSelector:"indicator"}),C=zXe(),S=typeof m=="boolean"?m:C?.checked||!1;return x.jsx(Ie,{ref:t,...E("indicator",{variant:g}),variant:g,mod:[{checked:S,disabled:y},p],...v,children:x.jsx(w,{...E("icon")})})});iX.displayName="@mantine/core/RadioIndicator";iX.classes=SCe;var TCe={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const GXe={labelPosition:"right"},YXe=(e,{size:t,radius:n,color:r,iconColor:i,variant:o,autoContrast:s})=>{const a=Bf({color:r||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":mn(t,"radio-size"),"--radio-radius":n===void 0?void 0:qr(n),"--radio-color":o==="outline"?l:ti(r,e),"--radio-icon-color":i?ti(i,e):jy(s,e)?Ep({color:r,theme:e,autoContrast:s}):void 0,"--radio-icon-size":mn(t,"radio-icon-size")}}},ol=et((e,t)=>{const n=He("Radio",GXe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,id:u,size:c,label:d,labelPosition:f,description:h,error:m,radius:p,color:g,variant:y,disabled:v,wrapperProps:w,icon:E=CCe,rootRef:C,iconColor:S,onChange:T,mod:A,...D}=n,I=Dt({name:"Radio",classes:TCe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:YXe}),P=_Ce(),N=P?.size??c,$=n.size?c:N,{styleProps:O,rest:j}=D1(D),B=Pa(u),H=P?{checked:P.value===j.value,name:j.name??P.name,onChange:q=>{P.onChange(q),T?.(q)}}:{};return x.jsx(i$,{...I("root"),__staticSelector:"Radio",__stylesApiProps:n,id:B,size:$,labelPosition:f,label:d,description:h,error:m,disabled:v,classNames:r,styles:s,unstyled:a,"data-checked":H.checked||void 0,variant:y,ref:C,mod:A,...O,...w,children:x.jsxs(Ie,{...I("inner"),mod:{"label-position":f},children:[x.jsx(Ie,{...I("radio",{focusable:!0,variant:y}),onChange:T,...j,...H,component:"input",mod:{error:!!m},ref:t,id:B,disabled:v,type:"radio"}),x.jsx(E,{...I("icon"),"aria-hidden":!0})]})})});ol.classes=TCe;ol.displayName="@mantine/core/Radio";ol.Group=rX;ol.Card=nX;ol.Indicator=iX;const KXe={duration:100,transition:"fade"};function XXe(e,t){return{...KXe,...t,...e}}function QXe({offset:e,position:t,defaultOpened:n}){const[r,i]=k.useState(n),o=k.useRef(null),{x:s,y:a,elements:l,refs:u,update:c,placement:d}=zY({placement:t,middleware:[FY({crossAxis:!0,padding:5,rootBoundary:"document"})]}),f=d.includes("right")?e:t.includes("left")?e*-1:0,h=d.includes("bottom")?e:t.includes("top")?e*-1:0,m=k.useCallback(({clientX:p,clientY:g})=>{u.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:p,y:g,left:p+f,top:g+h,right:p,bottom:g}}})},[l.reference]);return k.useEffect(()=>{if(u.floating.current){const p=o.current;p.addEventListener("mousemove",m);const g=Am(u.floating.current);return g.forEach(y=>{y.addEventListener("scroll",c)}),()=>{p.removeEventListener("mousemove",m),g.forEach(y=>{y.removeEventListener("scroll",c)})}}},[l.reference,u.floating.current,c,m,r]),{handleMouseMove:m,x:s,y:a,opened:r,setOpened:i,boundaryRef:o,floating:u.setFloating}}var C$={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const JXe={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:Fu("popover")},ZXe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:qr(t),"--tooltip-bg":n?ti(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),oX=et((e,t)=>{const n=He("TooltipFloating",JXe,e),{children:r,refProp:i,withinPortal:o,style:s,className:a,classNames:l,styles:u,unstyled:c,radius:d,color:f,label:h,offset:m,position:p,multiline:g,zIndex:y,disabled:v,defaultOpened:w,variant:E,vars:C,portalProps:S,...T}=n,A=uo(),D=Dt({name:"TooltipFloating",props:n,classes:C$,className:a,style:s,classNames:l,styles:u,unstyled:c,rootSelector:"tooltip",vars:C,varsResolver:ZXe}),{handleMouseMove:I,x:P,y:N,opened:$,boundaryRef:O,floating:j,setOpened:B}=QXe({offset:m,position:p,defaultOpened:w});if(!hg(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const H=xo(O,V6(r),t),q=r.props,Y=L=>{q.onMouseEnter?.(L),I(L),B(!0)},V=L=>{q.onMouseLeave?.(L),B(!1)};return x.jsxs(x.Fragment,{children:[x.jsx(By,{...S,withinPortal:o,children:x.jsx(Ie,{...T,...D("tooltip",{style:{...RY(s,A),zIndex:y,display:!v&&$?"block":"none",top:(N&&Math.round(N))??"",left:(P&&Math.round(P))??""}}),variant:E,ref:j,mod:{multiline:g},children:h})}),k.cloneElement(r,{...q,[i]:H,onMouseEnter:Y,onMouseLeave:V})]})});oX.classes=C$;oX.displayName="@mantine/core/TooltipFloating";const ACe=k.createContext(!1),eQe=ACe.Provider,tQe=()=>k.useContext(ACe),nQe={openDelay:0,closeDelay:0};function sX(e){const{openDelay:t,closeDelay:n,children:r}=He("TooltipGroup",nQe,e);return x.jsx(eQe,{value:!0,children:x.jsx(oqe,{delay:{open:t,close:n},children:r})})}sX.displayName="@mantine/core/TooltipGroup";sX.extend=e=>e;function rQe(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function iQe(e){const t=rQe(e.middlewares),n=[E_e(e.offset)];return t.shift&&n.push(FY(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&n.push(typeof t.flip=="boolean"?VN():VN(t.flip)),n.push(C_e({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?GT():GT(t.inline)):e.inline&&n.push(GT()),n}function oQe(e){const[t,n]=k.useState(e.defaultOpened),i=typeof e.opened=="boolean"?e.opened:t,o=tQe(),s=Pa(),a=k.useCallback(S=>{n(S),S&&v(s)},[s]),{x:l,y:u,context:c,refs:d,update:f,placement:h,middlewareData:{arrow:{x:m,y:p}={}}}=zY({strategy:e.strategy,placement:e.position,open:i,onOpenChange:a,middleware:iQe(e)}),{delay:g,currentId:y,setCurrentId:v}=sqe(c,{id:s}),{getReferenceProps:w,getFloatingProps:E}=hqe([rqe(c,{enabled:e.events?.hover,delay:o?g:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events?.touch}),fqe(c,{enabled:e.events?.focus,visibleOnly:!0}),mqe(c,{role:"tooltip"}),cqe(c,{enabled:typeof e.opened>"u"})]);X_e({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:d,update:f}}),Hl(()=>{e.onPositionChange?.(h)},[h]);const C=i&&y&&y!==s;return{x:l,y:u,arrowX:m,arrowY:p,reference:d.setReference,floating:d.setFloating,getFloatingProps:E,getReferenceProps:w,isGroupPhase:C,opened:i,placement:h}}const cue={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Fu("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},sQe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:qr(t),"--tooltip-bg":n?ti(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),yt=et((e,t)=>{const n=He("Tooltip",cue,e),{children:r,position:i,refProp:o,label:s,openDelay:a,closeDelay:l,onPositionChange:u,opened:c,defaultOpened:d,withinPortal:f,radius:h,color:m,classNames:p,styles:g,unstyled:y,style:v,className:w,withArrow:E,arrowSize:C,arrowOffset:S,arrowRadius:T,arrowPosition:A,offset:D,transitionProps:I,multiline:P,events:N,zIndex:$,disabled:O,positionDependencies:j,onClick:B,onMouseEnter:H,onMouseLeave:q,inline:Y,variant:V,keepMounted:L,vars:U,portalProps:z,mod:G,floatingStrategy:Q,middlewares:te,...de}=He("Tooltip",cue,n),{dir:se}=Lu(),ae=k.useRef(null),he=oQe({position:V_e(se,i),closeDelay:l,openDelay:a,onPositionChange:u,opened:c,defaultOpened:d,events:N,arrowRef:ae,arrowOffset:S,offset:typeof D=="number"?D+(E?C/2:0):D,positionDependencies:[...j,r],inline:Y,strategy:Q,middlewares:te}),ie=Dt({name:"Tooltip",props:n,classes:C$,className:w,style:v,classNames:p,styles:g,unstyled:y,rootSelector:"tooltip",vars:U,varsResolver:sQe});if(!hg(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const le=xo(he.reference,V6(r),t),Ce=XXe(I,{duration:100,transition:"fade"}),X=r.props;return x.jsxs(x.Fragment,{children:[x.jsx(By,{...z,withinPortal:f,children:x.jsx(Ad,{...Ce,keepMounted:L,mounted:!O&&!!he.opened,duration:he.isGroupPhase?10:Ce.duration,children:fe=>x.jsxs(Ie,{...de,"data-fixed":Q==="fixed"||void 0,variant:V,mod:[{multiline:P},G],...he.getFloatingProps({ref:he.floating,className:ie("tooltip").className,style:{...ie("tooltip").style,...fe,zIndex:$,top:he.y??0,left:he.x??0}}),children:[s,x.jsx(WY,{ref:ae,arrowX:he.arrowX,arrowY:he.arrowY,visible:E,position:he.placement,arrowSize:C,arrowOffset:S,arrowRadius:T,arrowPosition:A,...ie("arrow")})]})})}),k.cloneElement(r,he.getReferenceProps({onClick:B,onMouseEnter:H,onMouseLeave:q,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:$t(w,X.className),...X,[o]:le}))]})});yt.classes=C$;yt.displayName="@mantine/core/Tooltip";yt.Floating=oX;yt.Group=sX;function aQe({size:e,thickness:t,sum:n,value:r,root:i,offset:o}){const s=(e*.9-t*2)/2,a=Math.PI*s*2/100,l=i||r===void 0?`${(100-n)*a}, ${n*a}`:`${r*a}, ${(100-r)*a}`;return{strokeWidth:Number.isNaN(t)?12:t,cx:e/2||0,cy:e/2||0,r:s||0,transform:i?`scale(1, -1) translate(0, -${e})`:void 0,strokeDasharray:l,strokeDashoffset:i?0:o||0}}function kCe({size:e,value:t,offset:n,sum:r,thickness:i,root:o,color:s,lineRoundCaps:a,tooltip:l,getStyles:u,display:c,...d}){const f=uo();return x.jsx(yt.Floating,{disabled:!l,label:l,children:x.jsx(Ie,{component:"circle",...d,...u("curve"),__vars:{"--curve-color":s?ti(s,f):void 0},fill:"none",strokeLinecap:a?"round":"butt",...aQe({sum:r,size:e,thickness:i,value:t,offset:n,root:o})})})}kCe.displayName="@mantine/core/Curve";function lQe({size:e,thickness:t,sections:n,renderRoundedLineCaps:r,rootColor:i}){const o=n.reduce((c,d)=>c+d.value,0),s=Math.PI*((e*.9-t*2)/2)*2;let a=s;const l=[],u=[];for(let c=0;c<n.length;c+=1)l.push({sum:o,offset:a,data:n[c],root:!1}),a-=n[c].value/100*s;if(l.push({sum:o,offset:a,data:{color:i},root:!0}),u.push({...l[l.length-1],lineRoundCaps:!1}),l.length>2){u.push({...l[0],lineRoundCaps:r}),u.push({...l[l.length-2],lineRoundCaps:r});for(let c=1;c<=l.length-3;c+=1)u.push({...l[c],lineRoundCaps:!1})}else u.push({...l[0],lineRoundCaps:r});return u}var RCe={root:"m_b32e4812",svg:"m_d43b5134",curve:"m_b1ca1fbf",label:"m_b23f9dc4"};function uQe(e,t){return Math.min(e||12,(t||120)/4)}const cQe={size:120,thickness:12},dQe=(e,{size:t,thickness:n,transitionDuration:r})=>({root:{"--rp-size":Ge(t),"--rp-label-offset":Ge(n*2),"--rp-transition-duration":r?`${r}ms`:void 0}}),S$=et((e,t)=>{const n=He("RingProgress",cQe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,label:u,sections:c,size:d,thickness:f,roundCaps:h,rootColor:m,transitionDuration:p,...g}=n,y=Dt({name:"RingProgress",classes:RCe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:dQe}),v=uQe(f,d),w=lQe({size:d,thickness:v,sections:c,renderRoundedLineCaps:h,rootColor:m}).map(({data:E,sum:C,root:S,lineRoundCaps:T,offset:A},D)=>k.createElement(kCe,{...E,key:D,size:d,thickness:v,sum:C,offset:A,color:E?.color,root:S,lineRoundCaps:T,getStyles:y}));return x.jsxs(Ie,{...y("root"),size:d,ref:t,...g,children:[x.jsx("svg",{...y("svg"),children:w}),u&&x.jsx("div",{...y("label"),children:u})]})});S$.classes=RCe;S$.displayName="@mantine/core/RingProgress";var ICe={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const fQe={withItemsBorders:!0},hQe=(e,{radius:t,color:n,transitionDuration:r,size:i,transitionTimingFunction:o})=>({root:{"--sc-radius":t===void 0?void 0:qr(t),"--sc-color":n?ti(n,e):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":o,"--sc-padding":mn(i,"sc-padding"),"--sc-font-size":vo(i)}}),aX=et((e,t)=>{const n=He("SegmentedControl",fQe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,data:u,value:c,defaultValue:d,onChange:f,size:h,name:m,disabled:p,readOnly:g,fullWidth:y,orientation:v,radius:w,color:E,transitionDuration:C,transitionTimingFunction:S,variant:T,autoContrast:A,withItemsBorders:D,mod:I,...P}=n,N=Dt({name:"SegmentedControl",props:n,classes:ICe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:hQe}),$=uo(),O=u.map(se=>typeof se=="string"?{label:se,value:se}:se),j=gUe(),[B,H]=k.useState(V0()),[q,Y]=k.useState(null),[V,L]=k.useState({}),U=(se,ae)=>{V[ae]=se,L(V)},[z,G]=zi({value:c,defaultValue:d,finalValue:Array.isArray(u)?O.find(se=>!se.disabled)?.value??u[0]?.value??null:null,onChange:f}),Q=Pa(m),te=O.map(se=>k.createElement(Ie,{...N("control"),mod:{active:z===se.value,orientation:v},key:se.value},k.createElement("input",{...N("input"),disabled:p||se.disabled,type:"radio",name:Q,value:se.value,id:`${Q}-${se.value}`,checked:z===se.value,onChange:()=>!g&&G(se.value),"data-focus-ring":$.focusRing,key:`${se.value}-input`}),k.createElement(Ie,{component:"label",...N("label"),mod:{active:z===se.value&&!(p||se.disabled),disabled:p||se.disabled,"read-only":g},htmlFor:`${Q}-${se.value}`,ref:ae=>U(ae,se.value),__vars:{"--sc-label-color":E!==void 0?Ep({color:E,theme:$,autoContrast:A}):void 0},key:`${se.value}-label`},x.jsx("span",{...N("innerLabel"),children:se.label})))),de=xo(t,se=>Y(se));return uUe(()=>{H(V0())},[u.length]),u.length===0?null:x.jsxs(Ie,{...N("root"),variant:T,size:h,ref:de,mod:[{"full-width":y,orientation:v,initialized:j,"with-items-borders":D},I],...P,role:"radiogroup","data-disabled":p,children:[typeof z=="string"&&x.jsx(ZY,{target:V[z],parent:q,component:"span",transitionDuration:"var(--sc-transition-duration)",...N("indicator")},B),te]})});aX.classes=ICe;aX.displayName="@mantine/core/SegmentedControl";const pQe={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Hm=et((e,t)=>{const n=He("Select",pQe,e),{classNames:r,styles:i,unstyled:o,vars:s,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:m,data:p,value:g,defaultValue:y,selectFirstOptionOnChange:v,onOptionSubmit:w,comboboxProps:E,readOnly:C,disabled:S,filter:T,limit:A,withScrollArea:D,maxDropdownHeight:I,size:P,searchable:N,rightSection:$,checkIconPosition:O,withCheckIcon:j,nothingFoundMessage:B,name:H,form:q,searchValue:Y,defaultSearchValue:V,onSearchChange:L,allowDeselect:U,error:z,rightSectionPointerEvents:G,id:Q,clearable:te,clearButtonProps:de,hiddenInputProps:se,renderOption:ae,onClear:he,autoComplete:ie,scrollAreaProps:le,__defaultRightSection:Ce,__clearSection:X,__clearable:fe,chevronColor:ce,...ne}=n,ee=k.useMemo(()=>dK(p),[p]),pe=k.useMemo(()=>r$(ee),[ee]),Re=Pa(Q),[Se,be,Ne]=zi({value:g,defaultValue:y,finalValue:null,onChange:m}),Ae=typeof Se=="string"?pe[Se]:void 0,Pe=fUe(Ae),[we,Le,ze]=zi({value:Y,defaultValue:V,finalValue:Ae?Ae.label:"",onChange:L}),tt=yk({opened:a,defaultOpened:l,onDropdownOpen:()=>{c?.(),tt.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{u?.(),tt.resetSelectedOption()}}),rt=Ft=>{Le(Ft),tt.resetSelectedOption()},{resolvedClassNames:bt,resolvedStyles:Kt}=zf({props:n,styles:i,classNames:r});k.useEffect(()=>{v&&tt.selectFirstOption()},[v,we]),k.useEffect(()=>{g===null&&rt(""),typeof g=="string"&&Ae&&(Pe?.value!==Ae.value||Pe?.label!==Ae.label)&&rt(Ae.label)},[g,Ae]),k.useEffect(()=>{!Ne&&!ze&&rt(typeof Se=="string"&&pe[Se]?.label||"")},[p,Se]);const Wt=x.jsx(qn.ClearButton,{...de,onClear:()=>{be(null,null),rt(""),he?.()}}),Mn=te&&!!Se&&!S&&!C;return x.jsxs(x.Fragment,{children:[x.jsxs(qn,{store:tt,__staticSelector:"Select",classNames:bt,styles:Kt,unstyled:o,readOnly:C,onOptionSubmit:Ft=>{w?.(Ft);const hn=U&&pe[Ft].value===Se?null:pe[Ft],Kn=hn?hn.value:null;Kn!==Se&&be(Kn,hn),!Ne&&rt(typeof Kn=="string"&&hn?.label||""),tt.closeDropdown()},size:P,...E,children:[x.jsx(qn.Target,{targetType:N?"input":"button",autoComplete:ie,children:x.jsx(Xl,{id:Re,ref:t,__defaultRightSection:x.jsx(qn.Chevron,{size:P,error:z,unstyled:o,color:ce}),__clearSection:Wt,__clearable:Mn,rightSection:$,rightSectionPointerEvents:G||(Mn?"all":"none"),...ne,size:P,__staticSelector:"Select",disabled:S,readOnly:C||!N,value:we,onChange:Ft=>{rt(Ft.currentTarget.value),tt.openDropdown(),v&&tt.selectFirstOption()},onFocus:Ft=>{N&&tt.openDropdown(),d?.(Ft)},onBlur:Ft=>{N&&tt.closeDropdown(),rt(Se!=null&&pe[Se]?.label||""),f?.(Ft)},onClick:Ft=>{N?tt.openDropdown():tt.toggleDropdown(),h?.(Ft)},classNames:bt,styles:Kt,unstyled:o,pointer:!N,error:z})}),x.jsx(AK,{data:ee,hidden:C||S,filter:T,search:we,limit:A,hiddenWhenEmpty:!B,withScrollArea:D,maxDropdownHeight:I,filterOptions:N&&Ae?.label!==we,value:Se,checkIconPosition:O,withCheckIcon:j,nothingFoundMessage:B,unstyled:o,labelId:ne.label?`${Re}-label`:void 0,"aria-label":ne.label?void 0:ne["aria-label"],renderOption:ae,scrollAreaProps:le})]}),x.jsx(qn.HiddenInput,{value:Se,name:H,form:q,disabled:S,...se})]})});Hm.classes={...Xl.classes,...qn.classes};Hm.displayName="@mantine/core/Select";function mQe({spacing:e,verticalSpacing:t,cols:n,selector:r}){const i=uo(),o=t===void 0?e:t,s=Fy({"--sg-spacing-x":Bi(cf(e)),"--sg-spacing-y":Bi(cf(o)),"--sg-cols":cf(n)?.toString()}),a=Pi(i.breakpoints).reduce((c,d)=>(c[d]||(c[d]={}),typeof e=="object"&&e[d]!==void 0&&(c[d]["--sg-spacing-x"]=Bi(e[d])),typeof o=="object"&&o[d]!==void 0&&(c[d]["--sg-spacing-y"]=Bi(o[d])),typeof n=="object"&&n[d]!==void 0&&(c[d]["--sg-cols"]=n[d]),c),{}),u=L2(Pi(a),i.breakpoints).filter(c=>Pi(a[c.value]).length>0).map(c=>({query:`(min-width: ${i.breakpoints[c.value]})`,styles:a[c.value]}));return x.jsx(I1,{styles:s,media:u,selector:r})}function EB(e){return typeof e=="object"&&e!==null?Pi(e):[]}function gQe(e){return e.sort((t,n)=>F2(t)-F2(n))}function yQe({spacing:e,verticalSpacing:t,cols:n}){const r=Array.from(new Set([...EB(e),...EB(t),...EB(n)]));return gQe(r)}function vQe({spacing:e,verticalSpacing:t,cols:n,selector:r}){const i=t===void 0?e:t,o=Fy({"--sg-spacing-x":Bi(cf(e)),"--sg-spacing-y":Bi(cf(i)),"--sg-cols":cf(n)?.toString()}),s=yQe({spacing:e,verticalSpacing:t,cols:n}),a=s.reduce((u,c)=>(u[c]||(u[c]={}),typeof e=="object"&&e[c]!==void 0&&(u[c]["--sg-spacing-x"]=Bi(e[c])),typeof i=="object"&&i[c]!==void 0&&(u[c]["--sg-spacing-y"]=Bi(i[c])),typeof n=="object"&&n[c]!==void 0&&(u[c]["--sg-cols"]=n[c]),u),{}),l=s.map(u=>({query:`simple-grid (min-width: ${u})`,styles:a[u]}));return x.jsx(I1,{styles:o,container:l,selector:r})}var DCe={container:"m_925c2d2c",root:"m_2415a157"};const bQe={cols:1,spacing:"md",type:"media"},lX=et((e,t)=>{const n=He("SimpleGrid",bQe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,cols:u,verticalSpacing:c,spacing:d,type:f,...h}=n,m=Dt({name:"SimpleGrid",classes:DCe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l}),p=ck();return f==="container"?x.jsxs(x.Fragment,{children:[x.jsx(vQe,{...n,selector:`.${p}`}),x.jsx("div",{...m("container"),children:x.jsx(Ie,{ref:t,...m("root",{className:p}),...h})})]}):x.jsxs(x.Fragment,{children:[x.jsx(mQe,{...n,selector:`.${p}`}),x.jsx(Ie,{ref:t,...m("root",{className:p}),...h})]})});lX.classes=DCe;lX.displayName="@mantine/core/SimpleGrid";var PCe={root:"m_18320242","skeleton-fade":"m_299c329c"};const wQe={visible:!0,animate:!0},xQe=(e,{width:t,height:n,radius:r,circle:i})=>({root:{"--skeleton-height":Ge(n),"--skeleton-width":Ge(i?n:t),"--skeleton-radius":i?"1000px":r===void 0?void 0:qr(r)}}),uX=et((e,t)=>{const n=He("Skeleton",wQe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,width:u,height:c,circle:d,visible:f,radius:h,animate:m,mod:p,...g}=n,y=Dt({name:"Skeleton",classes:PCe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:xQe});return x.jsx(Ie,{ref:t,...y("root"),mod:[{visible:f,animate:m},p],...g})});uX.classes=PCe;uX.displayName="@mantine/core/Skeleton";const[OCe,T$]=Ns("SliderProvider was not found in tree"),cX=k.forwardRef(({size:e,disabled:t,variant:n,color:r,thumbSize:i,radius:o,...s},a)=>{const{getStyles:l}=T$();return x.jsx(Ie,{tabIndex:-1,variant:n,size:e,ref:a,...l("root"),...s})});cX.displayName="@mantine/core/SliderRoot";const WN=k.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:o,onMouseDown:s,onKeyDownCapture:a,labelTransitionProps:l,labelAlwaysOn:u,thumbLabel:c,onFocus:d,onBlur:f,showLabelOnHover:h,isHovered:m,children:p=null,disabled:g},y)=>{const{getStyles:v}=T$(),[w,E]=k.useState(!1),C=u||o||w||h&&m;return x.jsxs(Ie,{tabIndex:0,role:"slider","aria-label":c,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:y,__vars:{"--slider-thumb-offset":`${r}%`},...v("thumb",{focusable:!0}),mod:{dragging:o,disabled:g},onFocus:S=>{E(!0),typeof d=="function"&&d(S)},onBlur:S=>{E(!1),typeof f=="function"&&f(S)},onTouchStart:s,onMouseDown:s,onKeyDownCapture:a,onClick:S=>S.stopPropagation(),children:[p,x.jsx(Ad,{mounted:i!=null&&!!C,transition:"fade",duration:0,...l,children:S=>x.jsx("div",{...v("label",{style:S}),children:i})})]})});WN.displayName="@mantine/core/SliderThumb";function GN({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function _Qe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}function NCe({marks:e,min:t,max:n,disabled:r,value:i,offset:o,inverted:s}){const{getStyles:a}=T$();if(!e)return null;const l=e.map((u,c)=>k.createElement(Ie,{...a("markWrapper"),__vars:{"--mark-offset":`${GN({value:u.value,min:t,max:n})}%`},key:c},x.jsx(Ie,{...a("mark"),mod:{filled:_Qe({mark:u,value:i,offset:o,inverted:s}),disabled:r}}),u.label&&x.jsx("div",{...a("markLabel"),children:u.label})));return x.jsx("div",{children:l})}NCe.displayName="@mantine/core/SliderMarks";function dX({filled:e,children:t,offset:n,disabled:r,marksOffset:i,inverted:o,containerProps:s,...a}){const{getStyles:l}=T$();return x.jsx(Ie,{...l("trackContainer"),mod:{disabled:r},...s,children:x.jsxs(Ie,{...l("track"),mod:{inverted:o,disabled:r},children:[x.jsx(Ie,{mod:{inverted:o,disabled:r},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...l("bar")}),t,x.jsx(NCe,{...a,offset:i,disabled:r,inverted:o})]})})}dX.displayName="@mantine/core/SliderTrack";function jV({value:e,containerWidth:t,min:n,max:r,step:i,precision:o}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),l=(a!==0?Math.round(a/i)*i:0)+n,u=Math.max(l,n);return o!==void 0?Number(u.toFixed(o)):u}function Hc(e,t){return parseFloat(e.toFixed(t))}function MCe(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function fb(e,t){const r=[...t].sort((i,o)=>i.value-o.value).find(i=>i.value>e);return r?r.value:e}function hb(e,t){const r=[...t].sort((i,o)=>o.value-i.value).find(i=>i.value<e);return r?r.value:e}function BV(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[0].value:0}function zV(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[t.length-1].value:100}var A$={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const EQe={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},CQe=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":mn(t,"slider-size"),"--slider-color":n?ti(n,e):void 0,"--slider-radius":i===void 0?void 0:qr(i),"--slider-thumb-size":r!==void 0?Ge(r):"calc(var(--slider-size) * 2)"}}),k$=et((e,t)=>{const n=He("Slider",EQe,e),{classNames:r,styles:i,value:o,onChange:s,onChangeEnd:a,size:l,min:u,max:c,step:d,precision:f,defaultValue:h,name:m,marks:p,label:g,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:w,showLabelOnHover:E,thumbChildren:C,disabled:S,unstyled:T,scale:A,inverted:D,className:I,style:P,vars:N,hiddenInputProps:$,restrictToMarks:O,thumbProps:j,...B}=n,H=Dt({name:"Slider",props:n,classes:A$,classNames:r,className:I,styles:i,style:P,vars:N,varsResolver:CQe,unstyled:T}),{dir:q}=Lu(),[Y,V]=k.useState(!1),[L,U]=zi({value:typeof o=="number"?od(o,u,c):o,defaultValue:typeof h=="number"?od(h,u,c):h,finalValue:od(0,u,c),onChange:s}),z=k.useRef(L),G=k.useRef(a);k.useEffect(()=>{G.current=a},[a]);const Q=k.useRef(null),te=k.useRef(null),de=GN({value:L,min:u,max:c}),se=A(L),ae=typeof g=="function"?g(se):g,he=f??MCe(d),ie=k.useCallback(({x:ne})=>{if(!S){const ee=jV({value:ne,min:u,max:c,step:d,precision:he});U(O&&p?.length?_V(ee,p.map(pe=>pe.value)):ee),z.current=ee}},[S,u,c,d,he,U,p,O]),le=k.useCallback(()=>{if(!S&&G.current){const ne=O&&p?.length?_V(z.current,p.map(ee=>ee.value)):z.current;G.current(ne)}},[S,p,O]),{ref:Ce,active:X}=uk(ie,{onScrubEnd:le},q),fe=k.useCallback(ne=>{!S&&G.current&&G.current(ne)},[S]),ce=ne=>{if(!S)switch(ne.key){case"ArrowUp":{if(ne.preventDefault(),te.current?.focus(),O&&p){const pe=fb(L,p);U(pe),fe(pe);break}const ee=Hc(Math.min(Math.max(L+d,u),c),he);U(ee),fe(ee);break}case"ArrowRight":{if(ne.preventDefault(),te.current?.focus(),O&&p){const pe=q==="rtl"?hb(L,p):fb(L,p);U(pe),fe(pe);break}const ee=Hc(Math.min(Math.max(q==="rtl"?L-d:L+d,u),c),he);U(ee),fe(ee);break}case"ArrowDown":{if(ne.preventDefault(),te.current?.focus(),O&&p){const pe=hb(L,p);U(pe),fe(pe);break}const ee=Hc(Math.min(Math.max(L-d,u),c),he);U(ee),fe(ee);break}case"ArrowLeft":{if(ne.preventDefault(),te.current?.focus(),O&&p){const pe=q==="rtl"?fb(L,p):hb(L,p);U(pe),fe(pe);break}const ee=Hc(Math.min(Math.max(q==="rtl"?L+d:L-d,u),c),he);U(ee),fe(ee);break}case"Home":{if(ne.preventDefault(),te.current?.focus(),O&&p){U(BV(p)),fe(BV(p));break}U(u),fe(u);break}case"End":{if(ne.preventDefault(),te.current?.focus(),O&&p){U(zV(p)),fe(zV(p));break}U(c),fe(c);break}}};return x.jsx(OCe,{value:{getStyles:H},children:x.jsxs(cX,{...B,ref:xo(t,Q),onKeyDownCapture:ce,onMouseDownCapture:()=>Q.current?.focus(),size:l,disabled:S,children:[x.jsx(dX,{inverted:D,offset:0,filled:de,marks:p,min:u,max:c,value:se,disabled:S,containerProps:{ref:Ce,onMouseEnter:E?()=>V(!0):void 0,onMouseLeave:E?()=>V(!1):void 0},children:x.jsx(WN,{max:c,min:u,value:se,position:de,dragging:X,label:ae,ref:te,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:w,showLabelOnHover:E,isHovered:Y,disabled:S,...j,children:C})}),x.jsx("input",{type:"hidden",name:m,value:se,...$})]})})});k$.classes=A$;k$.displayName="@mantine/core/Slider";function SQe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}const TQe=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":mn(t,"slider-size"),"--slider-color":n?ti(n,e):void 0,"--slider-radius":i===void 0?void 0:qr(i),"--slider-thumb-size":r!==void 0?Ge(r):"calc(var(--slider-size) * 2)"}}),AQe={min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,showLabelOnHover:!0,disabled:!1,scale:e=>e},fX=et((e,t)=>{const n=He("RangeSlider",AQe,e),{classNames:r,styles:i,value:o,onChange:s,onChangeEnd:a,size:l,min:u,max:c,minRange:d,maxRange:f,step:h,precision:m,defaultValue:p,name:g,marks:y,label:v,labelTransitionProps:w,labelAlwaysOn:E,thumbFromLabel:C,thumbToLabel:S,showLabelOnHover:T,thumbChildren:A,disabled:D,unstyled:I,scale:P,inverted:N,className:$,style:O,vars:j,hiddenInputProps:B,restrictToMarks:H,thumbProps:q,...Y}=n,V=Dt({name:"Slider",props:n,classes:A$,classNames:r,className:$,styles:i,style:O,vars:j,varsResolver:TQe,unstyled:I}),{dir:L}=Lu(),[U,z]=k.useState(-1),[G,Q]=k.useState(!1),[te,de]=zi({value:o,defaultValue:p,finalValue:[u,c],onChange:s}),se=k.useRef(te),ae=k.useRef([]),he=k.useRef(null),ie=k.useRef(void 0),le=[GN({value:te[0],min:u,max:c}),GN({value:te[1],min:u,max:c})],Ce=m??MCe(h),X=Pe=>{de(Pe),se.current=Pe};k.useEffect(()=>{Array.isArray(o)&&(se.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const fe=(Pe,we,Le)=>{if(we===-1)return;const ze=[...se.current];if(H&&y){const tt=_V(Pe,y.map(Mn=>Mn.value)),rt=ze[we];ze[we]=tt;const bt=we===0?1:0,Kt=zV(y),Wt=BV(y);tt===Kt&&ze[bt]===Kt||tt===Wt&&ze[bt]===Wt?ze[we]=rt:tt===ze[bt]&&(rt>ze[bt]?ze[bt]=hb(tt,y):ze[bt]=fb(tt,y))}else ze[we]=Pe,we===0&&(Pe>ze[1]-(d-1e-9)&&(ze[1]=Math.min(Pe+d,c)),Pe>(c-(d-1e-9)||u)&&(ze[we]=se.current[we]),ze[1]-Pe>f&&(ze[1]=Pe+f)),we===1&&(Pe<ze[0]+d&&(ze[0]=Math.max(Pe-d,u)),Pe<ze[0]+d&&(ze[we]=se.current[we]),Pe-ze[0]>f&&(ze[0]=Pe-f));if(ze[0]=Hc(ze[0],Ce),ze[1]=Hc(ze[1],Ce),ze[0]>ze[1]){const tt=ze[0];ze[0]=ze[1],ze[1]=tt}X(ze),Le&&a?.(se.current)},ce=Pe=>{if(!D){const we=jV({value:Pe,min:u,max:c,step:h,precision:Ce});fe(we,ie.current,!1)}},{ref:ne,active:ee}=uk(({x:Pe})=>ce(Pe),{onScrubEnd:()=>!D&&a?.(se.current)},L);function pe(Pe){ie.current=Pe}const Re=Pe=>{ne.current.focus();const we=ne.current.getBoundingClientRect(),Le=SQe(Pe.nativeEvent),ze=jV({value:Le-we.left,max:c,min:u,step:h,containerWidth:we.width}),tt=Math.abs(te[0]-ze)>Math.abs(te[1]-ze)?1:0,rt=L==="ltr"?tt:tt===1?0:1;ie.current=rt},Se=()=>U!==1&&U!==0?(z(0),0):U,be=Pe=>{if(!D)switch(Pe.key){case"ArrowUp":{Pe.preventDefault();const we=Se();ae.current[we].focus();const Le=H&&y?fb(se.current[we],y):Math.min(Math.max(se.current[we]+h,u),c);fe(Hc(Le,Ce),we,!0);break}case"ArrowRight":{Pe.preventDefault();const we=Se();ae.current[we].focus();const Le=H&&y?(L==="rtl"?hb:fb)(se.current[we],y):Math.min(Math.max(L==="rtl"?se.current[we]-h:se.current[we]+h,u),c);fe(Hc(Le,Ce),we,!0);break}case"ArrowDown":{Pe.preventDefault();const we=Se();ae.current[we].focus();const Le=H&&y?hb(se.current[we],y):Math.min(Math.max(se.current[we]-h,u),c);fe(Hc(Le,Ce),we,!0);break}case"ArrowLeft":{Pe.preventDefault();const we=Se();ae.current[we].focus();const Le=H&&y?(L==="rtl"?fb:hb)(se.current[we],y):Math.min(Math.max(L==="rtl"?se.current[we]+h:se.current[we]-h,u),c);fe(Hc(Le,Ce),we,!0);break}}},Ne={max:c,min:u,size:l,labelTransitionProps:w,labelAlwaysOn:E,onBlur:()=>z(-1)},Ae=Array.isArray(A);return x.jsx(OCe,{value:{getStyles:V},children:x.jsxs(cX,{...Y,size:l,ref:xo(t,he),disabled:D,onMouseDownCapture:()=>he.current?.focus(),onKeyDownCapture:()=>{ae.current[0]?.parentElement?.contains(document.activeElement)||ae.current[0]?.focus()},children:[x.jsxs(dX,{offset:le[0],marksOffset:te[0],filled:le[1]-le[0],marks:y,inverted:N,min:u,max:c,value:te[1],disabled:D,containerProps:{ref:ne,onMouseEnter:T?()=>Q(!0):void 0,onMouseLeave:T?()=>Q(!1):void 0,onTouchStartCapture:Re,onTouchEndCapture:()=>{ie.current=-1},onMouseDownCapture:Re,onMouseUpCapture:()=>{ie.current=-1},onKeyDownCapture:be},children:[x.jsx(WN,{...Ne,value:P(te[0]),position:le[0],dragging:ee,label:typeof v=="function"?v(Hc(P(te[0]),Ce)):v,ref:Pe=>{ae.current[0]=Pe},thumbLabel:C,onMouseDown:()=>pe(0),onFocus:()=>z(0),showLabelOnHover:T,isHovered:G,disabled:D,...q?.(0),children:Ae?A[0]:A}),x.jsx(WN,{...Ne,thumbLabel:S,value:P(te[1]),position:le[1],dragging:ee,label:typeof v=="function"?v(Hc(P(te[1]),Ce)):v,ref:Pe=>{ae.current[1]=Pe},onMouseDown:()=>pe(1),onFocus:()=>z(1),showLabelOnHover:T,isHovered:G,disabled:D,...q?.(1),children:Ae?A[1]:A})]}),x.jsx("input",{type:"hidden",name:`${g}_from`,value:te[0],...B}),x.jsx("input",{type:"hidden",name:`${g}_to`,value:te[1],...B})]})})});fX.classes=A$;fX.displayName="@mantine/core/RangeSlider";const kQe={},ad=et((e,t)=>{const{w:n,h:r,miw:i,mih:o,...s}=He("Space",kQe,e);return x.jsx(Ie,{ref:t,...s,w:n,miw:i??n,h:r,mih:o??r})});ad.displayName="@mantine/core/Space";var $Ce={root:"m_559cce2d",content:"m_b912df4e",control:"m_b9131032"};const RQe={maxHeight:100,initialState:!1},IQe=(e,{transitionDuration:t})=>({root:{"--spoiler-transition-duration":t!==void 0?`${t}ms`:void 0}}),hX=et((e,t)=>{const n=He("Spoiler",RQe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,initialState:u,maxHeight:c,hideLabel:d,showLabel:f,children:h,controlRef:m,transitionDuration:p,id:g,expanded:y,onExpandedChange:v,...w}=n,E=Dt({name:"Spoiler",classes:$Ce,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:IQe}),C=Pa(g),S=`${C}-region`,[T,A]=zi({value:y,defaultValue:u,finalValue:!1,onChange:v}),{ref:D,height:I}=sUe(),P=T?d:f,N=P!==null&&c<I;return x.jsxs(Ie,{...E("root"),id:C,ref:t,"data-has-spoiler":N||void 0,...w,children:[N&&x.jsx(P1,{component:"button",type:"button",ref:m,onClick:()=>A(!T),"aria-expanded":T,"aria-controls":S,...E("control"),children:P}),x.jsx("div",{...E("content",{style:{maxHeight:T?I?Ge(I):void 0:Ge(c)}}),"data-reduce-motion":!0,role:"region",id:S,children:x.jsx("div",{ref:D,children:h})})]})});hX.classes=$Ce;hX.displayName="@mantine/core/Spoiler";var FCe={root:"m_6d731127"};const DQe={gap:"md",align:"stretch",justify:"flex-start"},PQe=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":Bi(t),"--stack-align":n,"--stack-justify":r}}),or=et((e,t)=>{const n=He("Stack",DQe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,align:u,justify:c,gap:d,variant:f,...h}=n,m=Dt({name:"Stack",props:n,classes:FCe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:PQe});return x.jsx(Ie,{ref:t,...m("root"),variant:f,...h})});or.classes=FCe;or.displayName="@mantine/core/Stack";const LCe=k.createContext(null),OQe=LCe.Provider,NQe=()=>k.useContext(LCe),MQe={},pX=et((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,readOnly:l,...u}=He("SwitchGroup",MQe,e),[c,d]=zi({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const m=h.currentTarget.value;!l&&d(c.includes(m)?c.filter(p=>p!==m):[...c,m])};return x.jsx(OQe,{value:{value:c,onChange:f,size:o},children:x.jsx(Hr.Wrapper,{size:o,ref:t,...s,...u,labelElement:"div",__staticSelector:"SwitchGroup",children:x.jsx(EK,{role:"group",children:a})})})});pX.classes=Hr.Wrapper.classes;pX.displayName="@mantine/core/SwitchGroup";var jCe={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const $Qe={labelPosition:"right"},FQe=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:qr(t),"--switch-height":mn(r,"switch-height"),"--switch-width":mn(r,"switch-width"),"--switch-thumb-size":mn(r,"switch-thumb-size"),"--switch-label-font-size":mn(r,"switch-label-font-size"),"--switch-track-label-padding":mn(r,"switch-track-label-padding"),"--switch-color":n?ti(n,e):void 0}}),H0=et((e,t)=>{const n=He("Switch",$Qe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,label:c,offLabel:d,onLabel:f,id:h,size:m,radius:p,wrapperProps:g,thumbIcon:y,checked:v,defaultChecked:w,onChange:E,labelPosition:C,description:S,error:T,disabled:A,variant:D,rootRef:I,mod:P,...N}=n,$=NQe(),O=m||$?.size,j=Dt({name:"Switch",props:n,classes:jCe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:FQe}),{styleProps:B,rest:H}=D1(N),q=Pa(h),Y=$?{checked:$.value.includes(H.value),onChange:$.onChange}:{},[V,L]=zi({value:Y.checked??v,defaultValue:w,finalValue:!1});return x.jsxs(i$,{...j("root"),__staticSelector:"Switch",__stylesApiProps:n,id:q,size:O,labelPosition:C,label:c,description:S,error:T,disabled:A,bodyElement:"label",labelElement:"span",classNames:r,styles:s,unstyled:a,"data-checked":Y.checked||v||void 0,variant:D,ref:I,mod:P,...B,...g,children:[x.jsx("input",{...H,disabled:A,checked:V,"data-checked":Y.checked||v||void 0,onChange:U=>{$?Y.onChange?.(U):E?.(U),L(U.currentTarget.checked)},id:q,ref:t,type:"checkbox",role:"switch",...j("input")}),x.jsxs(Ie,{"aria-hidden":"true",component:"span",mod:{error:T,"label-position":C,"without-labels":!f&&!d},...j("track"),children:[x.jsx(Ie,{component:"span",mod:"reduce-motion",...j("thumb"),children:y}),x.jsx("span",{...j("trackLabel"),children:V?f:d})]})]})});H0.classes={...jCe,...TEe};H0.displayName="@mantine/core/Switch";H0.Group=pX;const[LQe,jQe]=Ns("Table component was not found in the tree");var Ek={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function BQe(e,t){if(!t)return;const n={};return t.columnBorder&&e.withColumnBorders&&(n["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(n["data-with-row-border"]=!0),t.striped&&e.striped&&(n["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(n["data-hover"]=!0),t.captionSide&&e.captionSide&&(n["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(n["data-sticky"]=!0),n}function N1(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=et((i,o)=>{const s=He(n,{},i),{classNames:a,className:l,style:u,styles:c,...d}=s,f=jQe();return x.jsx(Ie,{component:e,ref:o,...BQe(f,t),...f.getStyles(e,{className:l,classNames:a,style:u,styles:c,props:s}),...d})});return r.displayName=`@mantine/core/${n}`,r.classes=Ek,r}const C_=N1("th",{columnBorder:!0}),Ck=N1("td",{columnBorder:!0}),km=N1("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),mX=N1("thead",{stickyHeader:!0}),YT=N1("tbody"),gX=N1("tfoot"),BCe=N1("caption",{captionSide:!0});function yX({data:e}){return x.jsxs(x.Fragment,{children:[e.caption&&x.jsx(BCe,{children:e.caption}),e.head&&x.jsx(mX,{children:x.jsx(km,{children:e.head.map((t,n)=>x.jsx(C_,{children:t},n))})}),e.body&&x.jsx(YT,{children:e.body.map((t,n)=>x.jsx(km,{children:t.map((r,i)=>x.jsx(Ck,{children:r},i))},n))}),e.foot&&x.jsx(gX,{children:x.jsx(km,{children:e.foot.map((t,n)=>x.jsx(C_,{children:t},n))})})]})}yX.displayName="@mantine/core/TableDataRenderer";const zQe={type:"scrollarea"},UQe=(e,{minWidth:t,maxHeight:n,type:r})=>({scrollContainer:{"--table-min-width":Ge(t),"--table-max-height":Ge(n),"--table-overflow":r==="native"?"auto":void 0}}),vX=et((e,t)=>{const n=He("TableScrollContainer",zQe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,minWidth:c,maxHeight:d,type:f,scrollAreaProps:h,...m}=n,p=Dt({name:"TableScrollContainer",classes:Ek,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:UQe,rootSelector:"scrollContainer"});return x.jsx(Ie,{component:f==="scrollarea"?op:"div",...f==="scrollarea"?d?{offsetScrollbars:"xy",...h}:{offsetScrollbars:"x",...h}:{},ref:t,...p("scrollContainer"),...m,children:x.jsx("div",{...p("scrollContainerInner"),children:u})})});vX.classes=Ek;vX.displayName="@mantine/core/TableScrollContainer";const VQe={withRowBorders:!0,verticalSpacing:7},HQe=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:i,borderColor:o,stripedColor:s,highlightOnHoverColor:a,striped:l,highlightOnHover:u,stickyHeaderOffset:c,stickyHeader:d})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":Bi(r),"--table-vertical-spacing":Bi(i),"--table-border-color":o?ti(o,e):void 0,"--table-striped-color":l&&s?ti(s,e):void 0,"--table-highlight-on-hover-color":u&&a?ti(a,e):void 0,"--table-sticky-header-offset":d?Ge(c):void 0}}),En=et((e,t)=>{const n=He("Table",VQe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,horizontalSpacing:u,verticalSpacing:c,captionSide:d,stripedColor:f,highlightOnHoverColor:h,striped:m,highlightOnHover:p,withColumnBorders:g,withRowBorders:y,withTableBorder:v,borderColor:w,layout:E,variant:C,data:S,children:T,stickyHeader:A,stickyHeaderOffset:D,mod:I,tabularNums:P,...N}=n,$=Dt({name:"Table",props:n,className:i,style:o,classes:Ek,classNames:r,styles:s,unstyled:a,rootSelector:"table",vars:l,varsResolver:HQe});return x.jsx(LQe,{value:{getStyles:$,stickyHeader:A,striped:m===!0?"odd":m||void 0,highlightOnHover:p,withColumnBorders:g,withRowBorders:y,captionSide:d||"bottom"},children:x.jsx(Ie,{component:"table",variant:C,ref:t,mod:[{"data-with-table-border":v,"data-tabular-nums":P},I],...$("table"),...N,children:T||!!S&&x.jsx(yX,{data:S})})})});En.classes=Ek;En.displayName="@mantine/core/Table";En.Td=Ck;En.Th=C_;En.Tr=km;En.Thead=mX;En.Tbody=YT;En.Tfoot=gX;En.Caption=BCe;En.ScrollContainer=vX;En.DataRenderer=yX;const[qQe,bX]=Ns("Tabs component was not found in the tree");var Sk={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const WQe={},wX=et((e,t)=>{const n=He("TabsList",WQe,e),{children:r,className:i,grow:o,justify:s,classNames:a,styles:l,style:u,mod:c,...d}=n,f=bX();return x.jsx(Ie,{...d,...f.getStyles("list",{className:i,style:u,classNames:a,styles:l,props:n,variant:f.variant}),ref:t,role:"tablist",variant:f.variant,mod:[{grow:o,orientation:f.orientation,placement:f.orientation==="vertical"&&f.placement,inverted:f.inverted},c],"aria-orientation":f.orientation,__vars:{"--tabs-justify":s},children:r})});wX.classes=Sk;wX.displayName="@mantine/core/TabsList";const GQe={},xX=et((e,t)=>{const n=He("TabsPanel",GQe,e),{children:r,className:i,value:o,classNames:s,styles:a,style:l,mod:u,keepMounted:c,...d}=n,f=bX(),h=f.value===o,m=f.keepMounted||c||h?r:null;return x.jsx(Ie,{...d,...f.getStyles("panel",{className:i,classNames:s,styles:a,style:[l,h?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:f.orientation},u],role:"tabpanel",id:f.getPanelId(o),"aria-labelledby":f.getTabId(o),children:m})});xX.classes=Sk;xX.displayName="@mantine/core/TabsPanel";const YQe={},_X=et((e,t)=>{const n=He("TabsTab",YQe,e),{className:r,children:i,rightSection:o,leftSection:s,value:a,onClick:l,onKeyDown:u,disabled:c,color:d,style:f,classNames:h,styles:m,vars:p,mod:g,tabIndex:y,...v}=n,w=uo(),{dir:E}=Lu(),C=bX(),S=a===C.value,T=D=>{C.onChange(C.allowTabDeactivation&&a===C.value?null:a),l?.(D)},A={classNames:h,styles:m,props:n};return x.jsxs(fs,{...v,...C.getStyles("tab",{className:r,style:f,variant:C.variant,...A}),disabled:c,unstyled:C.unstyled,variant:C.variant,mod:[{active:S,disabled:c,orientation:C.orientation,inverted:C.inverted,placement:C.orientation==="vertical"&&C.placement},g],ref:t,role:"tab",id:C.getTabId(a),"aria-selected":S,tabIndex:y!==void 0?y:S||C.value===null?0:-1,"aria-controls":C.getPanelId(a),onClick:T,__vars:{"--tabs-color":d?ti(d,w):void 0},onKeyDown:xY({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:C.activateTabWithKeyboard,loop:C.loop,orientation:C.orientation||"horizontal",dir:E,onKeyDown:u}),children:[s&&x.jsx("span",{...C.getStyles("tabSection",A),"data-position":"left",children:s}),i&&x.jsx("span",{...C.getStyles("tabLabel",A),children:i}),o&&x.jsx("span",{...C.getStyles("tabSection",A),"data-position":"right",children:o})]})});_X.classes=Sk;_X.displayName="@mantine/core/TabsTab";const due="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",KQe={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},XQe=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":qr(t),"--tabs-color":ti(n,e),"--tabs-text-color":jy(r,e)?Ep({color:n,theme:e,autoContrast:r}):void 0}}),gr=et((e,t)=>{const n=He("Tabs",KQe,e),{defaultValue:r,value:i,onChange:o,orientation:s,children:a,loop:l,id:u,activateTabWithKeyboard:c,allowTabDeactivation:d,variant:f,color:h,radius:m,inverted:p,placement:g,keepMounted:y,classNames:v,styles:w,unstyled:E,className:C,style:S,vars:T,autoContrast:A,mod:D,...I}=n,P=Pa(u),[N,$]=zi({value:i,defaultValue:r,finalValue:null,onChange:o}),O=Dt({name:"Tabs",props:n,classes:Sk,className:C,style:S,classNames:v,styles:w,unstyled:E,vars:T,varsResolver:XQe});return x.jsx(qQe,{value:{placement:g,value:N,orientation:s,id:P,loop:l,activateTabWithKeyboard:c,getTabId:MN(`${P}-tab`,due),getPanelId:MN(`${P}-panel`,due),onChange:$,allowTabDeactivation:d,variant:f,color:h,radius:m,inverted:p,keepMounted:y,unstyled:E,getStyles:O},children:x.jsx(Ie,{ref:t,id:P,variant:f,mod:[{orientation:s,inverted:s==="horizontal"&&p,placement:s==="vertical"&&g},D],...O("root"),...I,children:a})})});gr.classes=Sk;gr.displayName="@mantine/core/Tabs";gr.Tab=_X;gr.Panel=xX;gr.List=wX;const QQe={},$l=et((e,t)=>{const n=He("TextInput",QQe,e);return x.jsx(Xl,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});$l.classes=Xl.classes;$l.displayName="@mantine/core/TextInput";const JQe=["h1","h2","h3","h4","h5","h6"],ZQe=["xs","sm","md","lg","xl"];function eJe(e,t){const n=t!==void 0?t:`h${e}`;return JQe.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:ZQe.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:Ge(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var zCe={root:"m_8a5d1357"};const tJe={order:1},nJe=(e,{order:t,size:n,lineClamp:r,textWrap:i})=>{const o=eJe(t,n);return{root:{"--title-fw":o.fontWeight,"--title-lh":o.lineHeight,"--title-fz":o.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},Yr=et((e,t)=>{const n=He("Title",tJe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,order:l,vars:u,size:c,variant:d,lineClamp:f,textWrap:h,mod:m,...p}=n,g=Dt({name:"Title",props:n,classes:zCe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:nJe});return[1,2,3,4,5,6].includes(l)?x.jsx(Ie,{...g("root"),component:`h${l}`,variant:d,ref:t,mod:[{order:l,"data-line-clamp":typeof f=="number"},m],size:c,...p}):null});Yr.classes=zCe;Yr.displayName="@mantine/core/Title";function rJe(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),r.forEach(o=>o(t))},initialize(i){n||(t=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function iJe(e){return k.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function oJe(e,t,n){const r=[],i=[],o={};for(const s of e){const a=s.position||t;o[a]=o[a]||0,o[a]+=1,o[a]<=n?i.push(s):r.push(s)}return{notifications:i,queue:r}}const sJe=()=>rJe({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),M1=sJe(),aJe=(e=M1)=>iJe(e);function IE(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]),i=oJe(r,n.defaultPosition,n.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function lJe(e,t=M1){const n=e.id||V0();return IE(t,r=>e.id&&r.some(i=>i.id===e.id)?r:[...r,{...e,id:n}]),n}function UCe(e,t=M1){return IE(t,n=>n.filter(r=>r.id===e?(r.onClose?.(r),!1):!0)),e}function uJe(e,t=M1){return IE(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function cJe(e=M1){IE(e,()=>[])}function dJe(e=M1){IE(e,t=>t.slice(0,e.getState().limit))}const $1={show:lJe,hide:UCe,update:uJe,clean:cJe,cleanQueue:dJe,updateState:IE};function UV(e,t){return UV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},UV(e,t)}function VCe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,UV(e,t)}var CB={exports:{}},SB,fue;function fJe(){if(fue)return SB;fue=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return SB=e,SB}var TB,hue;function hJe(){if(hue)return TB;hue=1;var e=fJe();function t(){}function n(){}return n.resetWarningCache=t,TB=function(){function r(s,a,l,u,c,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},TB}var pue;function pJe(){return pue||(pue=1,CB.exports=hJe()()),CB.exports}var mJe=pJe();const YN=ms(mJe),mue={disabled:!1},KN=dn.createContext(null);var gJe=function(t){return t.scrollTop},oT="unmounted",Hv="exited",qv="entering",vx="entered",VV="exiting",wg=(function(e){VCe(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Hv,o.appearStatus=qv):l=vx:r.unmountOnExit||r.mountOnEnter?l=oT:l=Hv,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===oT?{status:Hv}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==qv&&s!==vx&&(o=qv):(s===qv||s===vx)&&(o=VV)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===qv){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:rT.findDOMNode(this);s&&gJe(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Hv&&this.setState({status:oT})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[rT.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!s||mue.disabled){this.safeSetState({status:vx},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:qv},function(){o.props.onEntering(u,c),o.onTransitionEnd(f,function(){o.safeSetState({status:vx},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:rT.findDOMNode(this);if(!o||mue.disabled){this.safeSetState({status:Hv},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:VV},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Hv},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:rT.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===oT)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=BK(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return dn.createElement(KN.Provider,{value:null},typeof s=="function"?s(i,a):dn.cloneElement(dn.Children.only(s),a))},t})(dn.Component);wg.contextType=KN;wg.propTypes={};function Hw(){}wg.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Hw,onEntering:Hw,onEntered:Hw,onExit:Hw,onExiting:Hw,onExited:Hw};wg.UNMOUNTED=oT;wg.EXITED=Hv;wg.ENTERING=qv;wg.ENTERED=vx;wg.EXITING=VV;function yJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EX(e,t){var n=function(o){return t&&k.isValidElement(o)?t(o):o},r=Object.create(null);return e&&k.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function vJe(e,t){e=e||{},t=t||{};function n(c){return c in t?t[c]:e[c]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in t){if(r[l])for(s=0;s<r[l].length;s++){var u=r[l][s];a[r[l][s]]=n(u)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function pb(e,t,n){return n[t]!=null?n[t]:e.props[t]}function bJe(e,t){return EX(e.children,function(n){return k.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:pb(n,"appear",e),enter:pb(n,"enter",e),exit:pb(n,"exit",e)})})}function wJe(e,t,n){var r=EX(e.children),i=vJe(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(k.isValidElement(s)){var a=o in t,l=o in r,u=t[o],c=k.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[o]=k.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:pb(s,"exit",e),enter:pb(s,"enter",e)}):!l&&a&&!c?i[o]=k.cloneElement(s,{in:!1}):l&&a&&k.isValidElement(u)&&(i[o]=k.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:pb(s,"exit",e),enter:pb(s,"enter",e)}))}}),i}var xJe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},_Je={component:"div",childFactory:function(t){return t}},c0=(function(e){VCe(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(yJe(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?bJe(i,a):wJe(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=EX(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=qN({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=BK(i,["component","childFactory"]),l=this.state.contextValue,u=xJe(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?dn.createElement(KN.Provider,{value:l},u):dn.createElement(KN.Provider,{value:l},dn.createElement(o,a,u))},t})(dn.Component);c0.propTypes={};c0.defaultProps=_Je;const HCe=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function EJe(e,t){return e.reduce((n,r)=>(n[r.position||t].push(r),n),HCe.reduce((n,r)=>(n[r]=[],n),{}))}const gue={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},CJe={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function SJe({state:e,maxHeight:t,position:n,transitionDuration:r}){const[i,o]=n.split("-"),s=o==="center"?`${i}-center`:o,a={opacity:0,maxHeight:t,transform:gue[s],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},l={opacity:1,transform:CJe[s]},u={opacity:0,maxHeight:0,transform:gue[s]};return{...a,...{entering:l,entered:l,exiting:u,exited:u}[e]}}function TJe(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const qCe=k.forwardRef(({data:e,onHide:t,autoClose:n,...r},i)=>{const{autoClose:o,message:s,...a}=e,l=TJe(n,e.autoClose),u=k.useRef(-1),c=()=>window.clearTimeout(u.current),d=()=>{t(e.id),c()},f=()=>{typeof l=="number"&&(u.current=window.setTimeout(d,l))};return k.useEffect(()=>{e.onOpen?.(e)},[]),k.useEffect(()=>(f(),c),[l]),x.jsx(QK,{...r,...a,onClose:d,ref:i,onMouseEnter:c,onMouseLeave:f,children:s})});qCe.displayName="@mantine/notifications/NotificationContainer";var WCe={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const AJe=wg,kJe={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Fu("overlay"),store:M1,withinPortal:!0},RJe=(e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t?.toString(),"--notifications-container-width":Ge(n)}}),xg=et((e,t)=>{const n=He("Notifications",kJe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,position:u,autoClose:c,transitionDuration:d,containerWidth:f,notificationMaxHeight:h,limit:m,zIndex:p,store:g,portalProps:y,withinPortal:v,...w}=n,E=uo(),C=aJe(g),S=tUe(),T=U6(),A=k.useRef({}),D=k.useRef(0),P=(E.respectReducedMotion?T:!1)?1:d,N=Dt({name:"Notifications",classes:WCe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:RJe});k.useEffect(()=>{g?.updateState(j=>({...j,limit:m||5,defaultPosition:u}))},[m,u]),Hl(()=>{C.notifications.length>D.current&&setTimeout(()=>S(),0),D.current=C.notifications.length},[C.notifications]);const $=EJe(C.notifications,u),O=HCe.reduce((j,B)=>(j[B]=$[B].map(({style:H,...q})=>x.jsx(AJe,{timeout:P,onEnter:()=>A.current[q.id].offsetHeight,nodeRef:{current:A.current[q.id]},children:Y=>x.jsx(qCe,{ref:V=>{A.current[q.id]=V},data:q,onHide:V=>UCe(V,g),autoClose:c,...N("notification",{style:{...SJe({state:Y,position:B,transitionDuration:P,maxHeight:h}),...H}})})},q.id)),j),{});return x.jsxs(By,{withinPortal:v,...y,children:[x.jsx(Ie,{...N("root"),"data-position":"top-center",ref:t,...w,children:x.jsx(c0,{children:O["top-center"]})}),x.jsx(Ie,{...N("root"),"data-position":"top-left",...w,children:x.jsx(c0,{children:O["top-left"]})}),x.jsx(Ie,{...N("root",{className:g_.classNames.fullWidth}),"data-position":"top-right",...w,children:x.jsx(c0,{children:O["top-right"]})}),x.jsx(Ie,{...N("root",{className:g_.classNames.fullWidth}),"data-position":"bottom-right",...w,children:x.jsx(c0,{children:O["bottom-right"]})}),x.jsx(Ie,{...N("root"),"data-position":"bottom-left",...w,children:x.jsx(c0,{children:O["bottom-left"]})}),x.jsx(Ie,{...N("root"),"data-position":"bottom-center",...w,children:x.jsx(c0,{children:O["bottom-center"]})})]})});xg.classes=WCe;xg.displayName="@mantine/notifications/Notifications";xg.show=$1.show;xg.hide=$1.hide;xg.update=$1.update;xg.clean=$1.clean;xg.cleanQueue=$1.cleanQueue;xg.updateState=$1.updateState;const GCe=k.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),Mi=()=>k.useContext(GCe);function IJe({children:e}){const[t,n]=k.useState(void 0),r=k.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return x.jsx(GCe.Provider,{value:r,children:e})}var yue="popstate";function DJe(e={}){function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return HV("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:q2(i)}return OJe(t,n,null,e)}function so(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function PJe(){return Math.random().toString(36).substring(2,10)}function vue(e,t){return{usr:e.state,key:e.key,idx:t}}function HV(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?DE(t):t,state:n,key:t&&t.key||r||PJe()}}function q2({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function DE(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function OJe(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function d(){a="POP";let g=c(),y=g==null?null:g-u;u=g,l&&l({action:a,location:p.location,delta:y})}function f(g,y){a="PUSH";let v=HV(p.location,g,y);u=c()+1;let w=vue(v,u),E=p.createHref(v);try{s.pushState(w,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(E)}o&&l&&l({action:a,location:p.location,delta:1})}function h(g,y){a="REPLACE";let v=HV(p.location,g,y);u=c();let w=vue(v,u),E=p.createHref(v);s.replaceState(w,"",E),o&&l&&l({action:a,location:p.location,delta:0})}function m(g){return NJe(g)}let p={get action(){return a},get location(){return e(i,s)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(yue,d),l=g,()=>{i.removeEventListener(yue,d),l=null}},createHref(g){return t(i,g)},createURL:m,encodeLocation(g){let y=m(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:h,go(g){return s.go(g)}};return p}function NJe(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),so(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:q2(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function YCe(e,t,n="/"){return MJe(e,t,n,!1)}function MJe(e,t,n,r){let i=typeof t=="string"?DE(t):t,o=qm(i.pathname||"/",n);if(o==null)return null;let s=KCe(e);$Je(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=GJe(o);a=qJe(s[l],u,r)}return a}function KCe(e,t=[],n=[],r="",i=!1){let o=(s,a,l=i,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;so(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let d=Rm([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(so(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),KCe(s.children,t,f,d,l)),!(s.path==null&&!s.index)&&t.push({path:d,score:VJe(d,s.index),routesMeta:f})};return e.forEach((s,a)=>{if(s.path===""||!s.path?.includes("?"))o(s,a);else for(let l of XCe(s.path))o(s,a,!0,l)}),t}function XCe(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=XCe(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function $Je(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:HJe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var FJe=/^:[\w-]+$/,LJe=3,jJe=2,BJe=1,zJe=10,UJe=-2,bue=e=>e==="*";function VJe(e,t){let n=e.split("/"),r=n.length;return n.some(bue)&&(r+=UJe),t&&(r+=jJe),n.filter(i=>!bue(i)).reduce((i,o)=>i+(FJe.test(o)?LJe:o===""?BJe:zJe),r)}function HJe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function qJe(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",d=XN({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=XN({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Rm([o,d.pathname]),pathnameBase:QJe(Rm([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=Rm([o,d.pathnameBase]))}return s}function XN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=WJe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let m=a[f]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const h=a[f];return d&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function WJe(e,t=!1,n=!0){hd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function GJe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hd(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function qm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var YJe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function KJe(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?DE(e):e,o;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?o=wue(n.substring(1),"/"):o=wue(n,t)):o=t,{pathname:o,search:JJe(r),hash:ZJe(i)}}function wue(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function AB(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XJe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function CX(e){let t=XJe(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function SX(e,t,n,r=!1){let i;typeof e=="string"?i=DE(e):(i={...e},so(!i.pathname||!i.pathname.includes("?"),AB("?","pathname","search",i)),so(!i.pathname||!i.pathname.includes("#"),AB("#","pathname","hash",i)),so(!i.search||!i.search.includes("#"),AB("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=KJe(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Rm=e=>e.join("/").replace(/\/\/+/g,"/"),QJe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JJe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ZJe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,eZe=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function tZe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function nZe(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var QCe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function JCe(e,t){let n=e;if(typeof n!="string"||!YJe.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(QCe)try{let o=new URL(window.location.href),s=n.startsWith("//")?new URL(o.protocol+n):new URL(n),a=qm(s.pathname,t);s.origin===o.origin&&a!=null?n=a+s.search+s.hash:i=!0}catch{hd(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ZCe=["POST","PUT","PATCH","DELETE"];new Set(ZCe);var rZe=["GET",...ZCe];new Set(rZe);var PE=k.createContext(null);PE.displayName="DataRouter";var R$=k.createContext(null);R$.displayName="DataRouterState";var iZe=k.createContext(!1),eSe=k.createContext({isTransitioning:!1});eSe.displayName="ViewTransition";var oZe=k.createContext(new Map);oZe.displayName="Fetchers";var sZe=k.createContext(null);sZe.displayName="Await";var Ac=k.createContext(null);Ac.displayName="Navigation";var Tk=k.createContext(null);Tk.displayName="Location";var Id=k.createContext({outlet:null,matches:[],isDataRoute:!1});Id.displayName="Route";var TX=k.createContext(null);TX.displayName="RouteError";var tSe="REACT_ROUTER_ERROR",aZe="REDIRECT",lZe="ROUTE_ERROR_RESPONSE";function uZe(e){if(e.startsWith(`${tSe}:${aZe}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function cZe(e){if(e.startsWith(`${tSe}:${lZe}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new eZe(t.status,t.statusText,t.data)}catch{}}function QN(e,{relative:t}={}){so(OE(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Ac),{hash:i,pathname:o,search:s}=Ak(e,{relative:t}),a=o;return n!=="/"&&(a=o==="/"?n:Rm([n,o])),r.createHref({pathname:a,search:s,hash:i})}function OE(){return k.useContext(Tk)!=null}function Dd(){return so(OE(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Tk).location}var nSe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rSe(e){k.useContext(Ac).static||k.useLayoutEffect(e)}function pl(){let{isDataRoute:e}=k.useContext(Id);return e?CZe():dZe()}function dZe(){so(OE(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(PE),{basename:t,navigator:n}=k.useContext(Ac),{matches:r}=k.useContext(Id),{pathname:i}=Dd(),o=JSON.stringify(CX(r)),s=k.useRef(!1);return rSe(()=>{s.current=!0}),k.useCallback((l,u={})=>{if(hd(s.current,nSe),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=SX(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Rm([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,o,i,e])}var fZe=k.createContext(null);function hZe(e){let t=k.useContext(Id).outlet;return k.useMemo(()=>t&&k.createElement(fZe.Provider,{value:e},t),[t,e])}function hs(){let{matches:e}=k.useContext(Id),t=e[e.length-1];return t?t.params:{}}function Ak(e,{relative:t}={}){let{matches:n}=k.useContext(Id),{pathname:r}=Dd(),i=JSON.stringify(CX(n));return k.useMemo(()=>SX(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function iSe(e,t){return oSe(e,t)}function oSe(e,t,n,r,i){so(OE(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=k.useContext(Ac),{matches:s}=k.useContext(Id),a=s[s.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",d=a&&a.route;{let v=d&&d.path||"";aSe(u,!d||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let f=Dd(),h;if(t){let v=typeof t=="string"?DE(t):t;so(c==="/"||v.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${v.pathname}" was given in the \`location\` prop.`),h=v}else h=f;let m=h.pathname||"/",p=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=YCe(e,{pathname:p});hd(d||g!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),hd(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=vZe(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Rm([c,o.encodeLocation?o.encodeLocation(v.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Rm([c,o.encodeLocation?o.encodeLocation(v.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathnameBase])})),s,n,r,i);return t&&y?k.createElement(Tk.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function pZe(){let e=EZe(),t=tZe(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:i},n):null,s)}var mZe=k.createElement(pZe,null),sSe=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=cZe(e.digest);n&&(e=n)}let t=e!==void 0?k.createElement(Id.Provider,{value:this.props.routeContext},k.createElement(TX.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?k.createElement(gZe,{error:e},t):t}};sSe.contextType=iZe;var kB=new WeakMap;function gZe({children:e,error:t}){let{basename:n}=k.useContext(Ac);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=uZe(t.digest);if(r){let i=kB.get(t);if(i)throw i;let o=JCe(r.location,n);if(QCe&&!kB.get(t))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw kB.set(t,s),s}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function yZe({routeContext:e,match:t,children:n}){let r=k.useContext(PE);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Id.Provider,{value:e},n)}function vZe(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=n?.errors;if(s!=null){let c=o.findIndex(d=>d.route.id&&s?.[d.route.id]!==void 0);so(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:f,errors:h}=n,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){a=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}let u=n&&r?(c,d)=>{r(c,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:nZe(n.matches),errorInfo:d})}:void 0;return o.reduceRight((c,d,f)=>{let h,m=!1,p=null,g=null;n&&(h=s&&d.route.id?s[d.route.id]:void 0,p=d.route.errorElement||mZe,a&&(l<0&&f===0?(aSe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,g=null):l===f&&(m=!0,g=d.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),v=()=>{let w;return h?w=p:m?w=g:d.route.Component?w=k.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,k.createElement(yZe,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?k.createElement(sSe,{location:n.location,revalidation:n.revalidation,component:p,error:h,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:u}):v()},null)}function AX(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bZe(e){let t=k.useContext(PE);return so(t,AX(e)),t}function wZe(e){let t=k.useContext(R$);return so(t,AX(e)),t}function xZe(e){let t=k.useContext(Id);return so(t,AX(e)),t}function kX(e){let t=xZe(e),n=t.matches[t.matches.length-1];return so(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function _Ze(){return kX("useRouteId")}function EZe(){let e=k.useContext(TX),t=wZe("useRouteError"),n=kX("useRouteError");return e!==void 0?e:t.errors?.[n]}function CZe(){let{router:e}=bZe("useNavigate"),t=kX("useNavigate"),n=k.useRef(!1);return rSe(()=>{n.current=!0}),k.useCallback(async(i,o={})=>{hd(n.current,nSe),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var xue={};function aSe(e,t,n){!t&&!xue[e]&&(xue[e]=!0,hd(!1,n))}k.memo(SZe);function SZe({routes:e,future:t,state:n,onError:r}){return oSe(e,void 0,n,r,t)}function RX({to:e,replace:t,state:n,relative:r}){so(OE(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=k.useContext(Ac);hd(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=k.useContext(Id),{pathname:s}=Dd(),a=pl(),l=SX(e,CX(o),s,r==="path"),u=JSON.stringify(l);return k.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function TZe(e){return hZe(e.context)}function Wv(e){so(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AZe({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:s}){so(!OE(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=k.useMemo(()=>({basename:a,navigator:i,static:o,unstable_useTransitions:s,future:{}}),[a,i,o,s]);typeof n=="string"&&(n=DE(n));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:h="default"}=n,m=k.useMemo(()=>{let p=qm(u,a);return p==null?null:{location:{pathname:p,search:c,hash:d,state:f,key:h},navigationType:r}},[a,u,c,d,f,h,r]);return hd(m!=null,`<Router basename="${a}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:k.createElement(Ac.Provider,{value:l},k.createElement(Tk.Provider,{children:t,value:m}))}function kZe({children:e,location:t}){return iSe(qV(e),t)}function qV(e,t=[]){let n=[];return k.Children.forEach(e,(r,i)=>{if(!k.isValidElement(r))return;let o=[...t,i];if(r.type===k.Fragment){n.push.apply(n,qV(r.props.children,o));return}so(r.type===Wv,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),so(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=qV(r.props.children,o)),n.push(s)}),n}var q3="get",W3="application/x-www-form-urlencoded";function I$(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function RZe(e){return I$(e)&&e.tagName.toLowerCase()==="button"}function IZe(e){return I$(e)&&e.tagName.toLowerCase()==="form"}function DZe(e){return I$(e)&&e.tagName.toLowerCase()==="input"}function PZe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function OZe(e,t){return e.button===0&&(!t||t==="_self")&&!PZe(e)}function WV(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function NZe(e,t){let n=WV(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}var bD=null;function MZe(){if(bD===null)try{new FormData(document.createElement("form"),0),bD=!1}catch{bD=!0}return bD}var $Ze=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function RB(e){return e!=null&&!$Ze.has(e)?(hd(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${W3}"`),null):e}function FZe(e,t){let n,r,i,o,s;if(IZe(e)){let a=e.getAttribute("action");r=a?qm(a,t):null,n=e.getAttribute("method")||q3,i=RB(e.getAttribute("enctype"))||W3,o=new FormData(e)}else if(RZe(e)||DZe(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?qm(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||q3,i=RB(e.getAttribute("formenctype"))||RB(a.getAttribute("enctype"))||W3,o=new FormData(a,e),!MZe()){let{name:u,type:c,value:d}=e;if(c==="image"){let f=u?`${u}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else u&&o.append(u,d)}}else{if(I$(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=q3,r=null,i=W3,s=e}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function IX(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function LZe(e,t,n,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:t&&qm(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function jZe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BZe(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function zZe(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let s=await jZe(o,n);return s.links?s.links():[]}return[]}));return qZe(r.flat(1).filter(BZe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function _ue(e,t,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return o==="assets"?t.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?t.filter((l,u)=>{let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function UZe(e,t,{includeHydrateFallback:n}={}){return VZe(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function VZe(e){return[...new Set(e)]}function HZe(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function qZe(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(HZe(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function lSe(){let e=k.useContext(PE);return IX(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function WZe(){let e=k.useContext(R$);return IX(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var DX=k.createContext(void 0);DX.displayName="FrameworkContext";function uSe(){let e=k.useContext(DX);return IX(e,"You must render this element inside a <HydratedRouter> element"),e}function GZe(e,t){let n=k.useContext(DX),[r,i]=k.useState(!1),[o,s]=k.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,f=k.useRef(null);k.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let p=y=>{y.forEach(v=>{s(v.isIntersecting)})},g=new IntersectionObserver(p,{threshold:.5});return f.current&&g.observe(f.current),()=>{g.disconnect()}}},[e]),k.useEffect(()=>{if(r){let p=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(p)}}},[r]);let h=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?e!=="intent"?[o,f,{}]:[o,f,{onFocus:lS(a,h),onBlur:lS(l,m),onMouseEnter:lS(u,h),onMouseLeave:lS(c,m),onTouchStart:lS(d,h)}]:[!1,f,{}]}function lS(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function YZe({page:e,...t}){let{router:n}=lSe(),r=k.useMemo(()=>YCe(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?k.createElement(XZe,{page:e,matches:r,...t}):null}function KZe(e){let{manifest:t,routeModules:n}=uSe(),[r,i]=k.useState([]);return k.useEffect(()=>{let o=!1;return zZe(e,t,n).then(s=>{o||i(s)}),()=>{o=!0}},[e,t,n]),r}function XZe({page:e,matches:t,...n}){let r=Dd(),{future:i,manifest:o,routeModules:s}=uSe(),{basename:a}=lSe(),{loaderData:l,matches:u}=WZe(),c=k.useMemo(()=>_ue(e,t,u,o,r,"data"),[e,t,u,o,r]),d=k.useMemo(()=>_ue(e,t,u,o,r,"assets"),[e,t,u,o,r]),f=k.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let p=new Set,g=!1;if(t.forEach(v=>{let w=o.routes[v.route.id];!w||!w.hasLoader||(!c.some(E=>E.route.id===v.route.id)&&v.route.id in l&&s[v.route.id]?.shouldRevalidate||w.hasClientLoader?g=!0:p.add(v.route.id))}),p.size===0)return[];let y=LZe(e,a,i.unstable_trailingSlashAwareDataRequests,"data");return g&&p.size>0&&y.searchParams.set("_routes",t.filter(v=>p.has(v.route.id)).map(v=>v.route.id).join(",")),[y.pathname+y.search]},[a,i.unstable_trailingSlashAwareDataRequests,l,r,o,c,t,e,s]),h=k.useMemo(()=>UZe(d,o),[d,o]),m=KZe(d);return k.createElement(k.Fragment,null,f.map(p=>k.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),h.map(p=>k.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),m.map(({key:p,link:g})=>k.createElement("link",{key:p,nonce:n.nonce,...g,crossOrigin:g.crossOrigin??n.crossOrigin})))}function QZe(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var JZe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JZe&&(window.__reactRouterVersion="7.13.0")}catch{}function ZZe({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=k.useRef();i.current==null&&(i.current=DJe({window:r,v5Compat:!0}));let o=i.current,[s,a]=k.useState({action:o.action,location:o.location}),l=k.useCallback(u=>{n===!1?a(u):k.startTransition(()=>a(u))},[n]);return k.useLayoutEffect(()=>o.listen(l),[o,l]),k.createElement(AZe,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:o,unstable_useTransitions:n})}var cSe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dSe=k.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:f,...h},m){let{basename:p,unstable_useTransitions:g}=k.useContext(Ac),y=typeof u=="string"&&cSe.test(u),v=JCe(u,p);u=v.to;let w=QN(u,{relative:i}),[E,C,S]=GZe(r,h),T=ret(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:g});function A(I){t&&t(I),I.defaultPrevented||T(I)}let D=k.createElement("a",{...h,...S,href:v.absoluteURL||w,onClick:v.isExternal||o?t:A,ref:QZe(m,C),target:l,"data-discover":!y&&n==="render"?"true":void 0});return E&&!y?k.createElement(k.Fragment,null,D,k.createElement(YZe,{page:w})):D});dSe.displayName="Link";var eet=k.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},c){let d=Ak(s,{relative:u.relative}),f=Dd(),h=k.useContext(R$),{navigator:m,basename:p}=k.useContext(Ac),g=h!=null&&uet(d)&&a===!0,y=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,v=f.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(v=v.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&p&&(w=qm(w,p)||w);const E=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let C=v===y||!i&&v.startsWith(y)&&v.charAt(E)==="/",S=w!=null&&(w===y||!i&&w.startsWith(y)&&w.charAt(y.length)==="/"),T={isActive:C,isPending:S,isTransitioning:g},A=C?t:void 0,D;typeof r=="function"?D=r(T):D=[r,C?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(T):o;return k.createElement(dSe,{...u,"aria-current":A,className:D,ref:c,style:I,to:s,viewTransition:a},typeof l=="function"?l(T):l)});eet.displayName="NavLink";var tet=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:s=q3,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:f,...h},m)=>{let{unstable_useTransitions:p}=k.useContext(Ac),g=set(),y=aet(a,{relative:u}),v=s.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&cSe.test(a),E=C=>{if(l&&l(C),C.defaultPrevented)return;C.preventDefault();let S=C.nativeEvent.submitter,T=S?.getAttribute("formmethod")||s,A=()=>g(S||C.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:f});p&&n!==!1?k.startTransition(()=>A()):A()};return k.createElement("form",{ref:m,method:v,action:y,onSubmit:r?l:E,...h,"data-discover":!w&&e==="render"?"true":void 0})});tet.displayName="Form";function net(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fSe(e){let t=k.useContext(PE);return so(t,net(e)),t}function ret(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s,unstable_defaultShouldRevalidate:a,unstable_useTransitions:l}={}){let u=pl(),c=Dd(),d=Ak(e,{relative:o});return k.useCallback(f=>{if(OZe(f,t)){f.preventDefault();let h=n!==void 0?n:q2(c)===q2(d),m=()=>u(e,{replace:h,state:r,preventScrollReset:i,relative:o,viewTransition:s,unstable_defaultShouldRevalidate:a});l?k.startTransition(()=>m()):m()}},[c,u,d,n,r,t,e,i,o,s,a,l])}function kc(e){hd(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=k.useRef(WV(e)),n=k.useRef(!1),r=Dd(),i=k.useMemo(()=>NZe(r.search,n.current?null:t.current),[r.search]),o=pl(),s=k.useCallback((a,l)=>{const u=WV(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}var iet=0,oet=()=>`__${String(++iet)}__`;function set(){let{router:e}=fSe("useSubmit"),{basename:t}=k.useContext(Ac),n=_Ze(),r=e.fetch,i=e.navigate;return k.useCallback(async(o,s={})=>{let{action:a,method:l,encType:u,formData:c,body:d}=FZe(o,t);if(s.navigate===!1){let f=s.fetcherKey||oet();await r(f,n,s.action||a,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await i(s.action||a,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,t,n])}function aet(e,{relative:t}={}){let{basename:n}=k.useContext(Ac),r=k.useContext(Id);so(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Ak(e||".",{relative:t})},s=Dd();if(e==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();o.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Rm([n,o.pathname])),q2(o)}function uet(e,{relative:t}={}){let n=k.useContext(eSe);so(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=fSe("useViewTransitionState"),i=Ak(e,{relative:t});if(!n.isTransitioning)return!1;let o=qm(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=qm(n.nextLocation.pathname,r)||n.nextLocation.pathname;return XN(i.pathname,s)!=null||XN(i.pathname,o)!=null}const PX=k.createContext(null);PX.displayName="@mantine/modals/ModalsContext";function cet(){const e=k.useContext(PX);if(!e)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return e}function det({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:o=!0,groupProps:s,onCancel:a,onConfirm:l,children:u}){const{cancel:c,confirm:d}=r,f=cet(),h=p=>{typeof t?.onClick=="function"&&t?.onClick(p),typeof a=="function"&&a(),o&&f.closeModal(e)},m=p=>{typeof n?.onClick=="function"&&n?.onClick(p),typeof l=="function"&&l(),i&&f.closeModal(e)};return x.jsxs(x.Fragment,{children:[u&&x.jsx(Ie,{mb:"md",children:u}),x.jsxs(Gn,{mt:u?0:"md",justify:"flex-end",...s,children:[x.jsx(Ut,{variant:"default",...t,onClick:h,children:t?.children||c}),x.jsx(Ut,{...n,onClick:m,children:n?.children||d})]})]})}const[fet,OX]=wUe("mantine-modals"),Eue=e=>{const t=e.modalId||V0();return OX("openConfirmModal")({...e,modalId:t}),t};OX("closeModal");OX("closeAllModals");function Cue(e,t){t&&e.type==="confirm"&&e.props.onCancel?.(),e.props.onClose?.()}function het(e,t){switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const n=e.modals.find(i=>i.id===t.modalId);if(!n)return e;Cue(n,t.canceled);const r=e.modals.filter(i=>i.id!==t.modalId);return{current:r[r.length-1]||e.current,modals:r}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(n=>{Cue(n,t.canceled)}),{current:e.current,modals:[]}):e;case"UPDATE":{const{modalId:n,newProps:r}=t,i=e.modals.map(s=>s.id!==n?s:s.type==="content"||s.type==="confirm"?{...s,props:{...s.props,...r}}:s.type==="context"?{...s,props:{...s.props,...r,innerProps:{...s.props.innerProps,...r.innerProps}}}:s),o=e.current?.id===n&&i.find(s=>s.id===n)||e.current;return{...e,modals:i,current:o}}default:return e}}function pet(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:a,confirmProps:l,groupProps:u,labels:c,...d}=e;return{confirmProps:{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:a,confirmProps:l,groupProps:u,labels:c},modalProps:{id:t,...d}}}function met({children:e,modalProps:t,labels:n,modals:r}){const[i,o]=k.useReducer(het,{modals:[],current:null}),s=k.useRef(i);s.current=i;const a=k.useCallback(v=>{o({type:"CLOSE_ALL",canceled:v})},[s,o]),l=k.useCallback(({modalId:v,...w})=>{const E=v||V0();return o({type:"OPEN",modal:{id:E,type:"content",props:w}}),E},[o]),u=k.useCallback(({modalId:v,...w})=>{const E=v||V0();return o({type:"OPEN",modal:{id:E,type:"confirm",props:w}}),E},[o]),c=k.useCallback((v,{modalId:w,...E})=>{const C=w||V0();return o({type:"OPEN",modal:{id:C,type:"context",props:E,ctx:v}}),C},[o]),d=k.useCallback((v,w)=>{o({type:"CLOSE",modalId:v,canceled:w})},[s,o]),f=k.useCallback(({modalId:v,...w})=>{o({type:"UPDATE",modalId:v,newProps:w})},[o]),h=k.useCallback(({modalId:v,...w})=>{o({type:"UPDATE",modalId:v,newProps:w})},[o]);fet({openModal:l,openConfirmModal:u,openContextModal:({modal:v,...w})=>c(v,w),closeModal:d,closeContextModal:d,closeAllModals:a,updateModal:f,updateContextModal:h});const m={modalProps:t||{},modals:i.modals,openModal:l,openConfirmModal:u,openContextModal:c,closeModal:d,closeContextModal:d,closeAll:a,updateModal:f,updateContextModal:h},p=()=>{const v=s.current.current;switch(v?.type){case"context":{const{innerProps:w,...E}=v.props,C=r[v.ctx];return{modalProps:E,content:x.jsx(C,{innerProps:w,context:m,id:v.id})}}case"confirm":{const{modalProps:w,confirmProps:E}=pet(v.props);return{modalProps:w,content:x.jsx(det,{...E,id:v.id,labels:v.props.labels||n})}}case"content":{const{children:w,...E}=v.props;return{modalProps:E,content:w}}default:return{modalProps:{},content:null}}},{modalProps:g,content:y}=p();return x.jsxs(PX.Provider,{value:m,children:[x.jsx(Ii,{zIndex:Fu("modal")+1,...t,...g,opened:i.modals.length>0,onClose:()=>d(i.current?.id),children:y}),e]})}var get={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const Ct=(e,t,n,r)=>{const i=k.forwardRef(({color:o="currentColor",size:s=24,stroke:a=2,title:l,className:u,children:c,...d},f)=>k.createElement("svg",{ref:f,...get[e],width:s,height:s,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),...e==="filled"?{fill:o}:{strokeWidth:a,stroke:o},...d},[l&&k.createElement("title",{key:"svg-title"},l),...r.map(([h,m])=>k.createElement(h,m)),...Array.isArray(c)?c:[c]]));return i.displayName=`${n}`,i};const yet=[["path",{d:"M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]],vet=Ct("outline","adjustments-horizontal","AdjustmentsHorizontal",yet);const bet=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],wet=Ct("outline","alert-circle","AlertCircle",bet);const xet=[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],ld=Ct("outline","alert-triangle","AlertTriangle",xet);const _et=[["path",{d:"M6 4l-3 3l3 3",key:"svg-0"}],["path",{d:"M18 4l3 3l-3 3",key:"svg-1"}],["path",{d:"M4 14m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-2"}],["path",{d:"M10 7h-7",key:"svg-3"}],["path",{d:"M21 7h-7",key:"svg-4"}]],Eet=Ct("outline","arrow-autofit-content","ArrowAutofitContent",_et);const Cet=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]],GV=Ct("outline","arrow-left","ArrowLeft",Cet);const Tet=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],Sue=Ct("outline","arrow-right","ArrowRight",Tet);const Aet=[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]],ket=Ct("outline","arrows-shuffle","ArrowsShuffle",Aet);const Ret=[["path",{d:"M3 9l4 -4l4 4m-4 -4v14",key:"svg-0"}],["path",{d:"M21 15l-4 4l-4 -4m4 4v-14",key:"svg-1"}]],Iet=Ct("outline","arrows-sort","ArrowsSort",Ret);const Det=[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28",key:"svg-1"}]],Pet=Ct("outline","at","At",Det);const Oet=[["path",{d:"M4 4h16",key:"svg-0"}],["path",{d:"M4 20h16",key:"svg-1"}]],Net=Ct("outline","baseline-density-large","BaselineDensityLarge",Oet);const Met=[["path",{d:"M4 20h16",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M4 4h16",key:"svg-2"}]],$et=Ct("outline","baseline-density-medium","BaselineDensityMedium",Met);const Fet=[["path",{d:"M4 3h16",key:"svg-0"}],["path",{d:"M4 9h16",key:"svg-1"}],["path",{d:"M4 15h16",key:"svg-2"}],["path",{d:"M4 21h16",key:"svg-3"}]],Let=Ct("outline","baseline-density-small","BaselineDensitySmall",Fet);const jet=[["path",{d:"M7 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-1"}]],Bet=Ct("outline","box-multiple","BoxMultiple",jet);const zet=[["path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8",key:"svg-0"}],["path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8",key:"svg-1"}],["path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5",key:"svg-2"}],["path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5",key:"svg-4"}],["path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10",key:"svg-5"}]],Uet=Ct("outline","brain","Brain",zet);const Vet=[["path",{d:"M4.53 17.05l6.15 -11.72h-.02c.38 -.74 1.28 -1.02 2.01 -.63c.26 .14 .48 .36 .62 .62l1.06 2.01",key:"svg-0"}],["path",{d:"M15.47 6.45c.58 -.59 1.53 -.59 2.11 -.01c.22 .22 .36 .5 .41 .81l1.5 9.11c.1 .62 -.2 1.24 -.76 1.54l-6.07 2.9c-.46 .25 -1.01 .26 -1.46 0l-6.02 -2.92c-.55 -.31 -.85 -.92 -.75 -1.54l1.96 -12.04c.12 -.82 .89 -1.38 1.7 -1.25c.46 .07 .87 .36 1.09 .77l1.24 1.76",key:"svg-1"}],["path",{d:"M4.57 17.18l10.93 -10.68",key:"svg-2"}]],hSe=Ct("outline","brand-firebase","BrandFirebase",Vet);const Het=[["path",{d:"M12 9h-7a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h3",key:"svg-0"}],["path",{d:"M12 15h7a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-3",key:"svg-1"}],["path",{d:"M8 9v-4a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v5a2 2 0 0 1 -2 2h-4a2 2 0 0 0 -2 2v5a2 2 0 0 0 2 2h4a2 2 0 0 0 2 -2v-4",key:"svg-2"}],["path",{d:"M11 6l0 .01",key:"svg-3"}],["path",{d:"M13 18l0 .01",key:"svg-4"}]],qet=Ct("outline","brand-python","BrandPython",Het);const Wet=[["path",{d:"M4 14h8v7l8 -11h-8v-7z",key:"svg-0"}]],NX=Ct("outline","brand-supabase","BrandSupabase",Wet);const Get=[["path",{d:"M7 10h10",key:"svg-0"}],["path",{d:"M9 14h5",key:"svg-1"}],["path",{d:"M12.4 3a5.34 5.34 0 0 1 4.906 3.239a5.333 5.333 0 0 1 -1.195 10.6a4.26 4.26 0 0 1 -5.28 1.863l-3.831 2.298v-3.134a2.668 2.668 0 0 1 -1.795 -3.773a4.8 4.8 0 0 1 2.908 -8.933a5.33 5.33 0 0 1 4.287 -2.16",key:"svg-2"}]],Yet=Ct("outline","bubble-text","BubbleText",Get);const Ket=[["path",{d:"M12 3v5m4 4h5",key:"svg-0"}],["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-1"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]],Xet=Ct("outline","chart-donut-2","ChartDonut2",Ket);const Qet=[["path",{d:"M18 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M6 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M6 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M18 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M8 18h8",key:"svg-4"}],["path",{d:"M18 20v1",key:"svg-5"}],["path",{d:"M18 3v1",key:"svg-6"}],["path",{d:"M6 20v1",key:"svg-7"}],["path",{d:"M6 10v-7",key:"svg-8"}],["path",{d:"M12 3v18",key:"svg-9"}],["path",{d:"M18 8v8",key:"svg-10"}],["path",{d:"M8 12h13",key:"svg-11"}],["path",{d:"M21 6h-1",key:"svg-12"}],["path",{d:"M16 6h-13",key:"svg-13"}],["path",{d:"M3 12h1",key:"svg-14"}],["path",{d:"M20 18h1",key:"svg-15"}],["path",{d:"M3 18h1",key:"svg-16"}],["path",{d:"M6 14v2",key:"svg-17"}]],Jet=Ct("outline","chart-grid-dots","ChartGridDots",Qet);const Zet=[["path",{d:"M3 3v18h18",key:"svg-0"}],["path",{d:"M20 18v3",key:"svg-1"}],["path",{d:"M16 16v5",key:"svg-2"}],["path",{d:"M12 13v8",key:"svg-3"}],["path",{d:"M8 16v5",key:"svg-4"}],["path",{d:"M3 11c6 0 5 -5 9 -5s3 5 9 5",key:"svg-5"}]],pSe=Ct("outline","chart-histogram","ChartHistogram",Zet);const ett=[["path",{d:"M10 3.2a9 9 0 1 0 10.8 10.8a1 1 0 0 0 -1 -1h-6.8a2 2 0 0 1 -2 -2v-7a.9 .9 0 0 0 -1 -.8",key:"svg-0"}],["path",{d:"M15 3.5a9 9 0 0 1 5.5 5.5h-4.5a1 1 0 0 1 -1 -1v-4.5",key:"svg-1"}]],ttt=Ct("outline","chart-pie","ChartPie",ett);const ntt=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],ay=Ct("outline","check","Check",ntt);const rtt=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],MX=Ct("outline","chevron-down","ChevronDown",rtt);const itt=[["path",{d:"M7 6v12",key:"svg-0"}],["path",{d:"M18 6l-6 6l6 6",key:"svg-1"}]],ott=Ct("outline","chevron-left-pipe","ChevronLeftPipe",itt);const stt=[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]],att=Ct("outline","chevron-left","ChevronLeft",stt);const ltt=[["path",{d:"M6 6l6 6l-6 6",key:"svg-0"}],["path",{d:"M17 5v13",key:"svg-1"}]],utt=Ct("outline","chevron-right-pipe","ChevronRightPipe",ltt);const ctt=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],mSe=Ct("outline","chevron-right","ChevronRight",ctt);const dtt=[["path",{d:"M7 7l5 5l5 -5",key:"svg-0"}],["path",{d:"M7 13l5 5l5 -5",key:"svg-1"}]],ftt=Ct("outline","chevrons-down","ChevronsDown",dtt);const htt=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M10 10l4 4m0 -4l-4 4",key:"svg-1"}]],ptt=Ct("outline","circle-x","CircleX",htt);const mtt=[["path",{d:"M8 6h12",key:"svg-0"}],["path",{d:"M6 12h12",key:"svg-1"}],["path",{d:"M4 18h12",key:"svg-2"}]],gtt=Ct("outline","clear-all","ClearAll",mtt);const ytt=[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]],vtt=Ct("outline","code-plus","CodePlus",ytt);const btt=[["path",{d:"M4 6l5.5 0",key:"svg-0"}],["path",{d:"M4 10l5.5 0",key:"svg-1"}],["path",{d:"M4 14l5.5 0",key:"svg-2"}],["path",{d:"M4 18l5.5 0",key:"svg-3"}],["path",{d:"M14.5 6l5.5 0",key:"svg-4"}],["path",{d:"M14.5 10l5.5 0",key:"svg-5"}],["path",{d:"M14.5 14l5.5 0",key:"svg-6"}],["path",{d:"M14.5 18l5.5 0",key:"svg-7"}]],wtt=Ct("outline","columns","Columns",btt);const xtt=[["path",{d:"M7 9.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-1"}],["path",{d:"M4.012 16.737a2 2 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-2"}],["path",{d:"M11 14l2 2l4 -4",key:"svg-3"}]],_tt=Ct("outline","copy-check","CopyCheck",xtt);const Ett=[["path",{d:"M12 13m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M13.45 11.55l2.05 -2.05",key:"svg-1"}],["path",{d:"M6.4 20a9 9 0 1 1 11.2 0z",key:"svg-2"}]],Ctt=Ct("outline","dashboard","Dashboard",Ett);const Stt=[["path",{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3",key:"svg-0"}],["path",{d:"M4 6v6c0 1.657 3.582 3 8 3c1.118 0 2.183 -.086 3.15 -.241",key:"svg-1"}],["path",{d:"M20 12v-6",key:"svg-2"}],["path",{d:"M4 12v6c0 1.657 3.582 3 8 3c.157 0 .312 -.002 .466 -.005",key:"svg-3"}],["path",{d:"M16 19h6",key:"svg-4"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-5"}]],Ttt=Ct("outline","database-export","DatabaseExport",Stt);const Att=[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]],JN=Ct("outline","database","Database",Att);const ktt=[["path",{d:"M13.5 16h-9.5a1 1 0 0 1 -1 -1v-10a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v7.5",key:"svg-0"}],["path",{d:"M7 20h5",key:"svg-1"}],["path",{d:"M9 16v4",key:"svg-2"}],["path",{d:"M19 16v6",key:"svg-3"}],["path",{d:"M22 19l-3 3l-3 -3",key:"svg-4"}]],gSe=Ct("outline","device-desktop-down","DeviceDesktopDown",ktt);const Rtt=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]],Itt=Ct("outline","device-floppy","DeviceFloppy",Rtt);const Dtt=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["circle",{cx:"8.5",cy:"8.5",r:".5",fill:"currentColor",key:"svg-1"}],["circle",{cx:"15.5",cy:"15.5",r:".5",fill:"currentColor",key:"svg-2"}],["circle",{cx:"12",cy:"12",r:".5",fill:"currentColor",key:"svg-3"}]],Ptt=Ct("outline","dice-3","Dice3",Dtt);const Ott=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["circle",{cx:"8.5",cy:"8.5",r:".5",fill:"currentColor",key:"svg-1"}],["circle",{cx:"15.5",cy:"8.5",r:".5",fill:"currentColor",key:"svg-2"}],["circle",{cx:"15.5",cy:"15.5",r:".5",fill:"currentColor",key:"svg-3"}],["circle",{cx:"8.5",cy:"15.5",r:".5",fill:"currentColor",key:"svg-4"}],["circle",{cx:"12",cy:"12",r:".5",fill:"currentColor",key:"svg-5"}]],Ntt=Ct("outline","dice-5","Dice5",Ott);const Mtt=[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],ySe=Ct("outline","dots-vertical","DotsVertical",Mtt);const $tt=[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],vSe=Ct("outline","dots","Dots",$tt);const Ftt=[["path",{d:"M19 11v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2",key:"svg-0"}],["path",{d:"M13 13l9 3l-4 2l-2 4l-3 -9",key:"svg-1"}],["path",{d:"M3 3l0 .01",key:"svg-2"}],["path",{d:"M7 3l0 .01",key:"svg-3"}],["path",{d:"M11 3l0 .01",key:"svg-4"}],["path",{d:"M15 3l0 .01",key:"svg-5"}],["path",{d:"M3 7l0 .01",key:"svg-6"}],["path",{d:"M3 11l0 .01",key:"svg-7"}],["path",{d:"M3 15l0 .01",key:"svg-8"}]],Ltt=Ct("outline","drag-drop","DragDrop",Ftt);const jtt=[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]],ZN=Ct("outline","edit","Edit",jtt);const Btt=[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]],ztt=Ct("outline","external-link","ExternalLink",Btt);const Utt=[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],Vtt=Ct("outline","eye-off","EyeOff",Utt);const Htt=[["path",{d:"M12 20l-3 1v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v1.5",key:"svg-0"}],["path",{d:"M19.001 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M19.001 15.5v1.5",key:"svg-2"}],["path",{d:"M19.001 21v1.5",key:"svg-3"}],["path",{d:"M22.032 17.25l-1.299 .75",key:"svg-4"}],["path",{d:"M17.27 20l-1.3 .75",key:"svg-5"}],["path",{d:"M15.97 17.25l1.3 .75",key:"svg-6"}],["path",{d:"M20.733 20l1.3 .75",key:"svg-7"}]],qtt=Ct("outline","filter-cog","FilterCog",Htt);const Wtt=[["path",{d:"M8 4h12v2.172a2 2 0 0 1 -.586 1.414l-3.914 3.914m-.5 3.5v4l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]],Gtt=Ct("outline","filter-off","FilterOff",Wtt);const Ytt=[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]],Ktt=Ct("outline","filter","Filter",Ytt);const Xtt=[["path",{d:"M8 4h10a2 2 0 0 1 2 2v10m-.586 3.414a2 2 0 0 1 -1.414 .586h-12a2 2 0 0 1 -2 -2v-12c0 -.547 .22 -1.043 .576 -1.405",key:"svg-0"}],["path",{d:"M7 14l3 -3l2 2l.5 -.5m2 -2l.5 -.5l2 2",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],bSe=Ct("outline","graph-off","GraphOff",Xtt);const Qtt=[["path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M7 14l3 -3l2 2l3 -3l2 2",key:"svg-1"}]],wSe=Ct("outline","graph","Graph",Qtt);const Jtt=[["path",{d:"M5 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}],["path",{d:"M5 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-6"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-7"}],["path",{d:"M19 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-8"}]],Ztt=Ct("outline","grid-dots","GridDots",Jtt);const ent=[["path",{d:"M5 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M5 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M12 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M19 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M19 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}]],tnt=Ct("outline","grip-horizontal","GripHorizontal",ent);const nnt=[["path",{d:"M6 20v-2a6 6 0 1 1 12 0v2a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M6 4v2a6 6 0 1 0 12 0v-2a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1z",key:"svg-1"}]],rnt=Ct("outline","hourglass-empty","HourglassEmpty",nnt);const int=[["path",{d:"M13 16v-8l2 5l2 -5v8",key:"svg-0"}],["path",{d:"M1 16v-8",key:"svg-1"}],["path",{d:"M5 8v8",key:"svg-2"}],["path",{d:"M1 12h4",key:"svg-3"}],["path",{d:"M7 8h4",key:"svg-4"}],["path",{d:"M9 8v8",key:"svg-5"}],["path",{d:"M20 8v8h3",key:"svg-6"}]],ont=Ct("outline","html","Html",int);const snt=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]],Wm=Ct("outline","info-circle","InfoCircle",snt);const ant=[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]],lnt=Ct("outline","layout-columns","LayoutColumns",ant);const unt=[["path",{d:"M17.5 15.5m-3.5 0a3.5 3.5 0 1 0 7 0a3.5 3.5 0 1 0 -7 0",key:"svg-0"}],["path",{d:"M3 19v-10.5a3.5 3.5 0 0 1 7 0v10.5",key:"svg-1"}],["path",{d:"M3 13h7",key:"svg-2"}],["path",{d:"M21 12v7",key:"svg-3"}]],cnt=Ct("outline","letter-case","LetterCase",unt);const dnt=[["path",{d:"M3.5 5.5l1.5 1.5l2.5 -2.5",key:"svg-0"}],["path",{d:"M3.5 11.5l1.5 1.5l2.5 -2.5",key:"svg-1"}],["path",{d:"M3.5 17.5l1.5 1.5l2.5 -2.5",key:"svg-2"}],["path",{d:"M11 6l9 0",key:"svg-3"}],["path",{d:"M11 12l9 0",key:"svg-4"}],["path",{d:"M11 18l9 0",key:"svg-5"}]],xSe=Ct("outline","list-check","ListCheck",dnt);const fnt=[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]],hnt=Ct("outline","mail","Mail",fnt);const pnt=[["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]],mnt=Ct("outline","maximize","Maximize",pnt);const gnt=[["path",{d:"M15 19v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M15 5v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M5 15h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M5 9h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]],ynt=Ct("outline","minimize","Minimize",gnt);const vnt=[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M9 17v-13h10v8",key:"svg-1"}],["path",{d:"M9 8h10",key:"svg-2"}],["path",{d:"M19 16v6",key:"svg-3"}],["path",{d:"M22 19l-3 3l-3 -3",key:"svg-4"}]],_Se=Ct("outline","music-down","MusicDown",vnt);const bnt=[["path",{d:"M3 10l2 -2v8",key:"svg-0"}],["path",{d:"M9 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3",key:"svg-1"}],["path",{d:"M17 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5",key:"svg-2"}]],wnt=Ct("outline","number-123","Number123",bnt);const xnt=[["path",{d:"M12 21l-8 -4.5v-9l8 -4.5l8 4.5v4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12v9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}],["path",{d:"M22 18h-7",key:"svg-4"}],["path",{d:"M18 15l-3 3l3 3",key:"svg-5"}]],_nt=Ct("outline","package-import","PackageImport",xnt);const Ent=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]],Cnt=Ct("outline","pencil","Pencil",Ent);const Snt=[["path",{d:"M3 3l18 18",key:"svg-0"}],["path",{d:"M15 4.5l-3.249 3.249m-2.57 1.433l-2.181 .818l-1.5 1.5l7 7l1.5 -1.5l.82 -2.186m1.43 -2.563l3.25 -3.251",key:"svg-1"}],["path",{d:"M9 15l-4.5 4.5",key:"svg-2"}],["path",{d:"M14.5 4l5.5 5.5",key:"svg-3"}]],Tnt=Ct("outline","pinned-off","PinnedOff",Snt);const Ant=[["path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6",key:"svg-0"}],["path",{d:"M12 16l0 5",key:"svg-1"}],["path",{d:"M8 4l8 0",key:"svg-2"}]],knt=Ct("outline","pinned","Pinned",Ant);const Rnt=[["path",{d:"M20 16l-4 4",key:"svg-0"}],["path",{d:"M7 12l5 5l-1.5 1.5a3.536 3.536 0 1 1 -5 -5l1.5 -1.5z",key:"svg-1"}],["path",{d:"M17 12l-5 -5l1.5 -1.5a3.536 3.536 0 1 1 5 5l-1.5 1.5z",key:"svg-2"}],["path",{d:"M3 21l2.5 -2.5",key:"svg-3"}],["path",{d:"M18.5 5.5l2.5 -2.5",key:"svg-4"}],["path",{d:"M10 11l-2 2",key:"svg-5"}],["path",{d:"M13 14l-2 2",key:"svg-6"}],["path",{d:"M16 16l4 4",key:"svg-7"}]],Int=Ct("outline","plug-connected-x","PlugConnectedX",Rnt);const Dnt=[["path",{d:"M10 20.777a8.942 8.942 0 0 1 -2.48 -.969",key:"svg-0"}],["path",{d:"M14 3.223a9.003 9.003 0 0 1 0 17.554",key:"svg-1"}],["path",{d:"M4.579 17.093a8.961 8.961 0 0 1 -1.227 -2.592",key:"svg-2"}],["path",{d:"M3.124 10.5c.16 -.95 .468 -1.85 .9 -2.675l.169 -.305",key:"svg-3"}],["path",{d:"M6.907 4.579a8.954 8.954 0 0 1 3.093 -1.356",key:"svg-4"}]],ESe=Ct("outline","progress","Progress",Dnt);const Pnt=[["path",{d:"M14 3l-9.371 3.749a1 1 0 0 0 -.629 .928v11.323a1 1 0 0 0 1 1h14a1 1 0 0 0 1 -1v-11a1 1 0 0 0 -1 -1h-14.5",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M7 12v-2",key:"svg-2"}],["path",{d:"M17 16v.01",key:"svg-3"}],["path",{d:"M13 16v.01",key:"svg-4"}]],Ont=Ct("outline","radio","Radio",Pnt);const Nnt=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]],CSe=Ct("outline","refresh","Refresh",Nnt);const Mnt=[["path",{d:"M6 2h4v4m-4 0h-1v-1",key:"svg-0"}],["path",{d:"M15 11v-1h5v4h-2",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h2",key:"svg-4"}],["path",{d:"M7.5 7.5v2.5",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}],["path",{d:"M3 3l18 18",key:"svg-7"}]],$nt=Ct("outline","schema-off","SchemaOff",Mnt);const Fnt=[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]],SSe=Ct("outline","schema","Schema",Fnt);const Lnt=[["path",{d:"M5.039 5.062a7 7 0 0 0 9.91 9.89m1.584 -2.434a7 7 0 0 0 -9.038 -9.057",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]],jnt=Ct("outline","search-off","SearchOff",Lnt);const Bnt=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],TSe=Ct("outline","search","Search",Bnt);const znt=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 11l3 3l3 -3",key:"svg-1"}]],Unt=Ct("outline","select","Select",znt);const Vnt=[["path",{d:"M12.004 21c-.732 .002 -1.466 -.437 -1.679 -1.317a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.306 .317 1.64 1.78 1.004 2.684",key:"svg-0"}],["path",{d:"M12 15a3 3 0 1 0 0 -6a3 3 0 0 0 0 6z",key:"svg-1"}],["path",{d:"M16 22l5 -5",key:"svg-2"}],["path",{d:"M21 21.5v-4.5h-4.5",key:"svg-3"}]],Hnt=Ct("outline","settings-share","SettingsShare",Vnt);const qnt=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],ASe=Ct("outline","settings","Settings",qnt);const Wnt=[["path",{d:"M4 6l7 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l9 0",key:"svg-2"}],["path",{d:"M15 9l3 -3l3 3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]],Gnt=Ct("outline","sort-ascending","SortAscending",Wnt);const Ynt=[["path",{d:"M4 6l9 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l7 0",key:"svg-2"}],["path",{d:"M15 15l3 3l3 -3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]],Knt=Ct("outline","sort-descending","SortDescending",Ynt);const Xnt=[["path",{d:"M8 10a2 2 0 0 1 2 -2h9a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-9a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 8v-3a2 2 0 0 0 -2 -2h-9a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h3",key:"svg-1"}]],Qnt=Ct("outline","squares","Squares",Xnt);const Jnt=[["path",{d:"M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-4"}]],kSe=Ct("outline","table-export","TableExport",Jnt);const Znt=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]],ert=Ct("outline","table","Table",Znt);const trt=[["path",{d:"M3 8v4.172a2 2 0 0 0 .586 1.414l5.71 5.71a2.41 2.41 0 0 0 3.408 0l3.592 -3.592a2.41 2.41 0 0 0 0 -3.408l-5.71 -5.71a2 2 0 0 0 -1.414 -.586h-4.172a2 2 0 0 0 -2 2z",key:"svg-0"}],["path",{d:"M18 19l1.592 -1.592a4.82 4.82 0 0 0 0 -6.816l-4.592 -4.592",key:"svg-1"}],["path",{d:"M7 10h-.01",key:"svg-2"}]],nrt=Ct("outline","tags","Tags",trt);const rrt=[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]],RSe=Ct("outline","trash-x","TrashX",rrt);const irt=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]],$X=Ct("outline","user-plus","UserPlus",irt);const ort=[["path",{d:"M12 18l.01 0",key:"svg-0"}],["path",{d:"M9.172 15.172a4 4 0 0 1 5.656 0",key:"svg-1"}],["path",{d:"M6.343 12.343a7.963 7.963 0 0 1 3.864 -2.14m4.163 .155a7.965 7.965 0 0 1 3.287 2",key:"svg-2"}],["path",{d:"M3.515 9.515a12 12 0 0 1 3.544 -2.455m3.101 -.92a12 12 0 0 1 10.325 3.374",key:"svg-3"}],["path",{d:"M3 3l18 18",key:"svg-4"}]],srt=Ct("outline","wifi-off","WifiOff",ort);const art=[["path",{d:"M12 18l.01 0",key:"svg-0"}],["path",{d:"M9.172 15.172a4 4 0 0 1 5.656 0",key:"svg-1"}],["path",{d:"M6.343 12.343a8 8 0 0 1 11.314 0",key:"svg-2"}],["path",{d:"M3.515 9.515c4.686 -4.687 12.284 -4.687 17 0",key:"svg-3"}]],lrt=Ct("outline","wifi","Wifi",art);const urt=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],Gm=Ct("outline","x","X",urt);const crt=[["path",{d:"M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1 -1.265 .06a6 6 0 1 0 2.103 6.836l.001 -.004h-3.66a1 1 0 0 1 -.992 -.883l-.007 -.117v-2a1 1 0 0 1 1 -1h6.945a1 1 0 0 1 .994 .89c.04 .367 .061 .737 .061 1.11c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10z",key:"svg-0"}]],drt=Ct("filled","brand-google-filled","BrandGoogleFilled",crt);const frt=[["path",{d:"M9 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-0"}],["path",{d:"M17 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-1"}]],hrt=Ct("filled","player-pause-filled","PlayerPauseFilled",frt);const prt=[["path",{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z",key:"svg-0"}]],mrt=Ct("filled","player-play-filled","PlayerPlayFilled",prt);function ISe(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const bo="/template/";function Tue(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const s=n.slice(i,r).trim();(s||!o)&&t.push(s),i=r+1,r=n.indexOf(",",i)}return t}function DSe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const grt=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,yrt=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,vrt={};function Aue(e,t){return(vrt.jsx?yrt:grt).test(e)}const brt=/[ \t\n\f\r]/g;function wrt(e){return typeof e=="object"?e.type==="text"?kue(e.value):!1:kue(e)}function kue(e){return e.replace(brt,"")===""}let kk=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};kk.prototype.normal={};kk.prototype.property={};kk.prototype.space=void 0;function PSe(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new kk(n,r,t)}function YV(e){return e.toLowerCase()}let ju=class{constructor(t,n){this.attribute=n,this.property=t}};ju.prototype.attribute="";ju.prototype.booleanish=!1;ju.prototype.boolean=!1;ju.prototype.commaOrSpaceSeparated=!1;ju.prototype.commaSeparated=!1;ju.prototype.defined=!1;ju.prototype.mustUseProperty=!1;ju.prototype.number=!1;ju.prototype.overloadedBoolean=!1;ju.prototype.property="";ju.prototype.spaceSeparated=!1;ju.prototype.space=void 0;let xrt=0;const dr=F1(),as=F1(),KV=F1(),kt=F1(),Li=F1(),qx=F1(),Zu=F1();function F1(){return 2**++xrt}const XV=Object.freeze(Object.defineProperty({__proto__:null,boolean:dr,booleanish:as,commaOrSpaceSeparated:Zu,commaSeparated:qx,number:kt,overloadedBoolean:KV,spaceSeparated:Li},Symbol.toStringTag,{value:"Module"})),IB=Object.keys(XV);let FX=class extends ju{constructor(t,n,r,i){let o=-1;if(super(t,n),Rue(this,"space",i),typeof r=="number")for(;++o<IB.length;){const s=IB[o];Rue(this,IB[o],(r&XV[s])===XV[s])}}};FX.prototype.defined=!0;function Rue(e,t,n){n&&(e[t]=n)}function NE(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new FX(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[YV(r)]=r,n[YV(o.attribute)]=r}return new kk(t,n,e.space)}const OSe=NE({properties:{ariaActiveDescendant:null,ariaAtomic:as,ariaAutoComplete:null,ariaBusy:as,ariaChecked:as,ariaColCount:kt,ariaColIndex:kt,ariaColSpan:kt,ariaControls:Li,ariaCurrent:null,ariaDescribedBy:Li,ariaDetails:null,ariaDisabled:as,ariaDropEffect:Li,ariaErrorMessage:null,ariaExpanded:as,ariaFlowTo:Li,ariaGrabbed:as,ariaHasPopup:null,ariaHidden:as,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Li,ariaLevel:kt,ariaLive:null,ariaModal:as,ariaMultiLine:as,ariaMultiSelectable:as,ariaOrientation:null,ariaOwns:Li,ariaPlaceholder:null,ariaPosInSet:kt,ariaPressed:as,ariaReadOnly:as,ariaRelevant:null,ariaRequired:as,ariaRoleDescription:Li,ariaRowCount:kt,ariaRowIndex:kt,ariaRowSpan:kt,ariaSelected:as,ariaSetSize:kt,ariaSort:null,ariaValueMax:kt,ariaValueMin:kt,ariaValueNow:kt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function NSe(e,t){return t in e?e[t]:t}function MSe(e,t){return NSe(e,t.toLowerCase())}const _rt=NE({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:qx,acceptCharset:Li,accessKey:Li,action:null,allow:null,allowFullScreen:dr,allowPaymentRequest:dr,allowUserMedia:dr,alt:null,as:null,async:dr,autoCapitalize:null,autoComplete:Li,autoFocus:dr,autoPlay:dr,blocking:Li,capture:null,charSet:null,checked:dr,cite:null,className:Li,cols:kt,colSpan:null,content:null,contentEditable:as,controls:dr,controlsList:Li,coords:kt|qx,crossOrigin:null,data:null,dateTime:null,decoding:null,default:dr,defer:dr,dir:null,dirName:null,disabled:dr,download:KV,draggable:as,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:dr,formTarget:null,headers:Li,height:kt,hidden:KV,high:kt,href:null,hrefLang:null,htmlFor:Li,httpEquiv:Li,id:null,imageSizes:null,imageSrcSet:null,inert:dr,inputMode:null,integrity:null,is:null,isMap:dr,itemId:null,itemProp:Li,itemRef:Li,itemScope:dr,itemType:Li,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:dr,low:kt,manifest:null,max:null,maxLength:kt,media:null,method:null,min:null,minLength:kt,multiple:dr,muted:dr,name:null,nonce:null,noModule:dr,noValidate:dr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:dr,optimum:kt,pattern:null,ping:Li,placeholder:null,playsInline:dr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:dr,referrerPolicy:null,rel:Li,required:dr,reversed:dr,rows:kt,rowSpan:kt,sandbox:Li,scope:null,scoped:dr,seamless:dr,selected:dr,shadowRootClonable:dr,shadowRootDelegatesFocus:dr,shadowRootMode:null,shape:null,size:kt,sizes:null,slot:null,span:kt,spellCheck:as,src:null,srcDoc:null,srcLang:null,srcSet:null,start:kt,step:null,style:null,tabIndex:kt,target:null,title:null,translate:null,type:null,typeMustMatch:dr,useMap:null,value:as,width:kt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Li,axis:null,background:null,bgColor:null,border:kt,borderColor:null,bottomMargin:kt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:dr,declare:dr,event:null,face:null,frame:null,frameBorder:null,hSpace:kt,leftMargin:kt,link:null,longDesc:null,lowSrc:null,marginHeight:kt,marginWidth:kt,noResize:dr,noHref:dr,noShade:dr,noWrap:dr,object:null,profile:null,prompt:null,rev:null,rightMargin:kt,rules:null,scheme:null,scrolling:as,standby:null,summary:null,text:null,topMargin:kt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:kt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:dr,disableRemotePlayback:dr,prefix:null,property:null,results:kt,security:null,unselectable:null},space:"html",transform:MSe}),Ert=NE({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Zu,accentHeight:kt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:kt,amplitude:kt,arabicForm:null,ascent:kt,attributeName:null,attributeType:null,azimuth:kt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:kt,by:null,calcMode:null,capHeight:kt,className:Li,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:kt,diffuseConstant:kt,direction:null,display:null,dur:null,divisor:kt,dominantBaseline:null,download:dr,dx:null,dy:null,edgeMode:null,editable:null,elevation:kt,enableBackground:null,end:null,event:null,exponent:kt,externalResourcesRequired:null,fill:null,fillOpacity:kt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:qx,g2:qx,glyphName:qx,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:kt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:kt,horizOriginX:kt,horizOriginY:kt,id:null,ideographic:kt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:kt,k:kt,k1:kt,k2:kt,k3:kt,k4:kt,kernelMatrix:Zu,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:kt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:kt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:kt,overlineThickness:kt,paintOrder:null,panose1:null,path:null,pathLength:kt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Li,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:kt,pointsAtY:kt,pointsAtZ:kt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zu,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zu,rev:Zu,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zu,requiredFeatures:Zu,requiredFonts:Zu,requiredFormats:Zu,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:kt,specularExponent:kt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:kt,strikethroughThickness:kt,string:null,stroke:null,strokeDashArray:Zu,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:kt,strokeOpacity:kt,strokeWidth:null,style:null,surfaceScale:kt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zu,tabIndex:kt,tableValues:null,target:null,targetX:kt,targetY:kt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zu,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:kt,underlineThickness:kt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:kt,values:null,vAlphabetic:kt,vMathematical:kt,vectorEffect:null,vHanging:kt,vIdeographic:kt,version:null,vertAdvY:kt,vertOriginX:kt,vertOriginY:kt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:kt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:NSe}),$Se=NE({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),FSe=NE({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:MSe}),LSe=NE({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Crt={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Srt=/[A-Z]/g,Iue=/-[a-z]/g,Trt=/^data[-\w.:]+$/i;function Art(e,t){const n=YV(t);let r=t,i=ju;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Trt.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Iue,Rrt);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Iue.test(o)){let s=o.replace(Srt,krt);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=FX}return new i(r,t)}function krt(e){return"-"+e.toLowerCase()}function Rrt(e){return e.charAt(1).toUpperCase()}const Irt=PSe([OSe,_rt,$Se,FSe,LSe],"html"),LX=PSe([OSe,Ert,$Se,FSe,LSe],"svg");function Due(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function jSe(e){return e.join(" ").trim()}var qw={},DB,Pue;function Drt(){if(Pue)return DB;Pue=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",c="*",d="",f="comment",h="declaration";DB=function(p,g){if(typeof p!="string")throw new TypeError("First argument must be a string");if(!p)return[];g=g||{};var y=1,v=1;function w($){var O=$.match(t);O&&(y+=O.length);var j=$.lastIndexOf(l);v=~j?$.length-j:v+$.length}function E(){var $={line:y,column:v};return function(O){return O.position=new C($),A(),O}}function C($){this.start=$,this.end={line:y,column:v},this.source=g.source}C.prototype.content=p;function S($){var O=new Error(g.source+":"+y+":"+v+": "+$);if(O.reason=$,O.filename=g.source,O.line=y,O.column=v,O.source=p,!g.silent)throw O}function T($){var O=$.exec(p);if(O){var j=O[0];return w(j),p=p.slice(j.length),O}}function A(){T(n)}function D($){var O;for($=$||[];O=I();)O!==!1&&$.push(O);return $}function I(){var $=E();if(!(u!=p.charAt(0)||c!=p.charAt(1))){for(var O=2;d!=p.charAt(O)&&(c!=p.charAt(O)||u!=p.charAt(O+1));)++O;if(O+=2,d===p.charAt(O-1))return S("End of comment missing");var j=p.slice(2,O-2);return v+=2,w(j),p=p.slice(O),v+=2,$({type:f,comment:j})}}function P(){var $=E(),O=T(r);if(O){if(I(),!T(i))return S("property missing ':'");var j=T(o),B=$({type:h,property:m(O[0].replace(e,d)),value:j?m(j[0].replace(e,d)):d});return T(s),B}}function N(){var $=[];D($);for(var O;O=P();)O!==!1&&($.push(O),D($));return $}return A(),N()};function m(p){return p?p.replace(a,d):d}return DB}var Oue;function Prt(){if(Oue)return qw;Oue=1;var e=qw&&qw.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qw,"__esModule",{value:!0}),qw.default=n;var t=e(Drt());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var s=(0,t.default)(r),a=typeof i=="function";return s.forEach(function(l){if(l.type==="declaration"){var u=l.property,c=l.value;a?i(u,c,l):c&&(o=o||{},o[u]=c)}}),o}return qw}var uS={},Nue;function Ort(){if(Nue)return uS;Nue=1,Object.defineProperty(uS,"__esModule",{value:!0}),uS.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(u){return!u||n.test(u)||e.test(u)},s=function(u,c){return c.toUpperCase()},a=function(u,c){return"".concat(c,"-")},l=function(u,c){return c===void 0&&(c={}),o(u)?u:(u=u.toLowerCase(),c.reactCompat?u=u.replace(i,a):u=u.replace(r,a),u.replace(t,s))};return uS.camelCase=l,uS}var cS,Mue;function Nrt(){if(Mue)return cS;Mue=1;var e=cS&&cS.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(Prt()),n=Ort();function r(i,o){var s={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(s[(0,n.camelCase)(a,o)]=l)}),s}return r.default=r,cS=r,cS}var Mrt=Nrt();const $rt=ms(Mrt),D$=BSe("end"),Tp=BSe("start");function BSe(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Frt(e){const t=Tp(e),n=D$(e);if(t&&n)return{start:t,end:n}}function KT(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?$ue(e.position):"start"in e||"end"in e?$ue(e):"line"in e||"column"in e?QV(e):""}function QV(e){return Fue(e&&e.line)+":"+Fue(e&&e.column)}function $ue(e){return QV(e&&e.start)+"-"+QV(e&&e.end)}function Fue(e){return e&&typeof e=="number"?e:1}class ml extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(s=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=KT(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ml.prototype.file="";ml.prototype.name="";ml.prototype.reason="";ml.prototype.message="";ml.prototype.stack="";ml.prototype.column=void 0;ml.prototype.line=void 0;ml.prototype.ancestors=void 0;ml.prototype.cause=void 0;ml.prototype.fatal=void 0;ml.prototype.place=void 0;ml.prototype.ruleId=void 0;ml.prototype.source=void 0;const jX={}.hasOwnProperty,Lrt=new Map,jrt=/[A-Z]/g,Brt=new Set(["table","tbody","thead","tfoot","tr"]),zrt=new Set(["td","th"]),zSe="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Urt(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Xrt(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Krt(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?LX:Irt,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=USe(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function USe(e,t,n){if(t.type==="element")return Vrt(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Hrt(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Wrt(e,t,n);if(t.type==="mdxjsEsm")return qrt(e,t);if(t.type==="root")return Grt(e,t,n);if(t.type==="text")return Yrt(e,t)}function Vrt(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=LX,e.schema=i),e.ancestors.push(t);const o=HSe(e,t.tagName,!1),s=Qrt(e,t);let a=zX(e,t);return Brt.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!wrt(l):!0})),VSe(e,s,o,t),BX(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function Hrt(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}W2(e,t.position)}function qrt(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);W2(e,t.position)}function Wrt(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=LX,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:HSe(e,t.name,!0),s=Jrt(e,t),a=zX(e,t);return VSe(e,s,o,t),BX(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function Grt(e,t,n){const r={};return BX(r,zX(e,t)),e.create(t,e.Fragment,r,n)}function Yrt(e,t){return t.value}function VSe(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function BX(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Krt(e,t,n){return r;function r(i,o,s,a){const u=Array.isArray(s.children)?n:t;return a?u(o,s,a):u(o,s)}}function Xrt(e,t){return n;function n(r,i,o,s){const a=Array.isArray(o.children),l=Tp(r);return t(i,o,s,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Qrt(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&jX.call(t.properties,i)){const o=Zrt(e,i,t.properties[i]);if(o){const[s,a]=o;e.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&zrt.has(t.tagName)?r=a:n[s]=a}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Jrt(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else W2(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,o=e.evaluater.evaluateExpression(a.expression)}else W2(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function zX(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Lrt;for(;++r<t.children.length;){const o=t.children[r];let s;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const a=USe(e,o,s);a!==void 0&&n.push(a)}return n}function Zrt(e,t,n){const r=Art(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?DSe(n):jSe(n)),r.property==="style"){let i=typeof n=="object"?n:eit(e,String(n));return e.stylePropertyNameCase==="css"&&(i=tit(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Crt[r.property]||r.property:r.attribute,n]}}function eit(e,t){try{return $rt(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new ml("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=zSe+"#cannot-parse-style-attribute",i}}function HSe(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,s;for(;++o<i.length;){const a=Aue(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=s}else r=Aue(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return jX.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);W2(e)}function W2(e,t){const n=new ml("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=zSe+"#cannot-handle-mdx-estrees-without-createevaluater",n}function tit(e){const t={};let n;for(n in e)jX.call(e,n)&&(t[nit(n)]=e[n]);return t}function nit(e){let t=e.replace(jrt,rit);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function rit(e){return"-"+e.toLowerCase()}const PB={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},iit={};function UX(e,t){const n=iit,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return qSe(e,r,i)}function qSe(e,t,n){if(oit(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Lue(e.children,t,n)}return Array.isArray(e)?Lue(e,t,n):""}function Lue(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=qSe(e[i],t,n);return r.join("")}function oit(e){return!!(e&&typeof e=="object")}const jue=document.createElement("i");function VX(e){const t="&"+e+";";jue.innerHTML=t;const n=jue.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function dc(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}function Gc(e,t){return e.length>0?(dc(e,e.length,0,t),e):t}const Bue={}.hasOwnProperty;function WSe(e){const t={};let n=-1;for(;++n<e.length;)sit(t,e[n]);return t}function sit(e,t){let n;for(n in t){const i=(Bue.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;if(o)for(s in o){Bue.call(i,s)||(i[s]=[]);const a=o[s];ait(i[s],Array.isArray(a)?a:a?[a]:[])}}}function ait(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);dc(e,0,0,r)}function GSe(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function bf(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Nl=Vy(/[A-Za-z]/),nl=Vy(/[\dA-Za-z]/),lit=Vy(/[#-'*+\--9=?A-Z^-~]/);function e4(e){return e!==null&&(e<32||e===127)}const JV=Vy(/\d/),uit=Vy(/[\dA-Fa-f]/),cit=Vy(/[!-/:-@[-`{-~]/);function On(e){return e!==null&&e<-2}function Oi(e){return e!==null&&(e<0||e===32)}function Ar(e){return e===-2||e===-1||e===32}const P$=Vy(new RegExp("\\p{P}|\\p{S}","u")),Hb=Vy(/\s/);function Vy(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ME(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(o===37&&nl(e.charCodeAt(n+1))&&nl(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s=""}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Vr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return Ar(l)?(e.enter(n),a(l)):t(l)}function a(l){return Ar(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}const dit={tokenize:fit};function fit(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Vr(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),o(a)}function o(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return On(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),s)}}const hit={tokenize:pit},zue={tokenize:mit};function pit(e){const t=this,n=[];let r=0,i,o,s;return a;function a(w){if(r<n.length){const E=n[r];return t.containerState=E[1],e.attempt(E[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const E=t.events.length;let C=E,S;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){S=t.events[C][1].end;break}y(r);let T=E;for(;T<t.events.length;)t.events[T][1].end={...S},T++;return dc(t.events,C+1,0,t.events.slice(E)),t.events.length=T,u(w)}return a(w)}function u(w){if(r===n.length){if(!i)return f(w);if(i.currentConstruct&&i.currentConstruct.concrete)return m(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(zue,c,d)(w)}function c(w){return i&&v(),y(r),f(w)}function d(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,m(w)}function f(w){return t.containerState={},e.attempt(zue,h,m)(w)}function h(w){return r++,n.push([t.currentConstruct,t.containerState]),f(w)}function m(w){if(w===null){i&&v(),y(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),p(w)}function p(w){if(w===null){g(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return On(w)?(e.consume(w),g(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(w),p)}function g(w,E){const C=t.sliceStream(w);if(E&&C.push(null),w.previous=o,o&&(o.next=w),o=w,i.defineSkip(w.start),i.write(C),t.parser.lazy[w.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<s&&(!i.events[S][1].end||i.events[S][1].end.offset>s))return;const T=t.events.length;let A=T,D,I;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){if(D){I=t.events[A][1].end;break}D=!0}for(y(r),S=T;S<t.events.length;)t.events[S][1].end={...I},S++;dc(t.events,A+1,0,t.events.slice(T)),t.events.length=S}}function y(w){let E=n.length;for(;E-- >w;){const C=n[E];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function v(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function mit(e,t,n){return Vr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function S_(e){if(e===null||Oi(e)||Hb(e))return 1;if(P$(e))return 2}function O$(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const ZV={name:"attention",resolveAll:git,tokenize:yit};function git(e,t){let n=-1,r,i,o,s,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},f={...e[n][1].start};Uue(d,-l),Uue(f,l),s={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...a.end}},e[r][1].end={...s.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Gc(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Gc(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",o,t]]),u=Gc(u,O$(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Gc(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Gc(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,dc(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function yit(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=S_(r);let o;return s;function s(l){return o=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===o)return e.consume(l),a;const u=e.exit("attentionSequence"),c=S_(l),d=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?d:d&&(i||!f)),u._close=!!(o===42?f:f&&(c||!d)),t(l)}}function Uue(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const vit={name:"autolink",tokenize:bit};function bit(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(h){return Nl(h)?(e.consume(h),s):h===64?n(h):u(h)}function s(h){return h===43||h===45||h===46||nl(h)?(r=1,a(h)):u(h)}function a(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||nl(h))&&r++<32?(e.consume(h),a):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||e4(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):lit(h)?(e.consume(h),u):n(h)}function c(h){return nl(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||nl(h))&&r++<63){const m=h===45?f:d;return e.consume(h),m}return n(h)}}const Rk={partial:!0,tokenize:wit};function wit(e,t,n){return r;function r(o){return Ar(o)?Vr(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||On(o)?t(o):n(o)}}const YSe={continuation:{tokenize:_it},exit:Eit,name:"blockQuote",tokenize:xit};function xit(e,t,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),o}return n(s)}function o(s){return Ar(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function _it(e,t,n){const r=this;return i;function i(s){return Ar(s)?Vr(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return e.attempt(YSe,t,n)(s)}}function Eit(e){e.exit("blockQuote")}const KSe={name:"characterEscape",tokenize:Cit};function Cit(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return cit(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const XSe={name:"characterReference",tokenize:Sit};function Sit(e,t,n){const r=this;let i=0,o,s;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,s=nl,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,s=uit,c):(e.enter("characterReferenceValue"),o=7,s=JV,c(d))}function c(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return s===nl&&!VX(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(d)&&i++<o?(e.consume(d),c):n(d)}}const Vue={partial:!0,tokenize:Ait},Hue={concrete:!0,name:"codeFenced",tokenize:Tit};function Tit(e,t,n){const r=this,i={partial:!0,tokenize:C};let o=0,s=0,a;return l;function l(S){return u(S)}function u(S){const T=r.events[r.events.length-1];return o=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,a=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(S)}function c(S){return S===a?(s++,e.consume(S),c):s<3?n(S):(e.exit("codeFencedFenceSequence"),Ar(S)?Vr(e,d,"whitespace")(S):d(S))}function d(S){return S===null||On(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(Vue,p,E)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||On(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(S)):Ar(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Vr(e,h,"whitespace")(S)):S===96&&S===a?n(S):(e.consume(S),f)}function h(S){return S===null||On(S)?d(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(S))}function m(S){return S===null||On(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(S)):S===96&&S===a?n(S):(e.consume(S),m)}function p(S){return e.attempt(i,E,g)(S)}function g(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),y}function y(S){return o>0&&Ar(S)?Vr(e,v,"linePrefix",o+1)(S):v(S)}function v(S){return S===null||On(S)?e.check(Vue,p,E)(S):(e.enter("codeFlowValue"),w(S))}function w(S){return S===null||On(S)?(e.exit("codeFlowValue"),v(S)):(e.consume(S),w)}function E(S){return e.exit("codeFenced"),t(S)}function C(S,T,A){let D=0;return I;function I(j){return S.enter("lineEnding"),S.consume(j),S.exit("lineEnding"),P}function P(j){return S.enter("codeFencedFence"),Ar(j)?Vr(S,N,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):N(j)}function N(j){return j===a?(S.enter("codeFencedFenceSequence"),$(j)):A(j)}function $(j){return j===a?(D++,S.consume(j),$):D>=s?(S.exit("codeFencedFenceSequence"),Ar(j)?Vr(S,O,"whitespace")(j):O(j)):A(j)}function O(j){return j===null||On(j)?(S.exit("codeFencedFence"),T(j)):A(j)}}}function Ait(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const OB={name:"codeIndented",tokenize:Rit},kit={partial:!0,tokenize:Iit};function Rit(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Vr(e,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):On(u)?e.attempt(kit,s,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||On(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function Iit(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):On(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Vr(e,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):On(s)?i(s):n(s)}}const Dit={name:"codeText",previous:Oit,resolve:Pit,tokenize:Nit};function Pit(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Oit(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Nit(e,t,n){let r=0,i,o;return s;function s(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(o=e.enter("codeTextSequence"),i=0,c(d)):On(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||On(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(o.type="codeTextData",u(d))}}class Mit{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&dS(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),dS(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),dS(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);dS(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);dS(this.left,n.reverse())}}}function dS(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function QSe(e){const t={};let n=-1,r,i,o,s,a,l,u;const c=new Mit(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,$it(c,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(s=c.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return dc(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function $it(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,l=[],u={};let c,d,f=-1,h=n,m=0,p=0;const g=[p];for(;h;){for(;e.get(++i)[1]!==h;);o.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(p=f+1,g.push(p),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),f=g.length;f--;){const y=a.slice(g[f],g[f+1]),v=o.pop();l.push([v,v+y.length-1]),e.splice(v,2,y)}for(l.reverse(),f=-1;++f<l.length;)u[m+l[f][0]]=m+l[f][1],m+=l[f][1]-l[f][0]-1;return u}const Fit={resolve:jit,tokenize:Bit},Lit={partial:!0,tokenize:zit};function jit(e){return QSe(e),e}function Bit(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):On(a)?e.check(Lit,s,o)(a):(e.consume(a),i)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function s(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function zit(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Vr(e,o,"linePrefix")}function o(s){if(s===null||On(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function JSe(e,t,n,r,i,o,s,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(y){return y===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(y),e.exit(o),f):y===null||y===32||y===41||e4(y)?n(y):(e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),p(y))}function f(y){return y===62?(e.enter(o),e.consume(y),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(e.exit("chunkString"),e.exit(a),f(y)):y===null||y===60||On(y)?n(y):(e.consume(y),y===92?m:h)}function m(y){return y===60||y===62||y===92?(e.consume(y),h):h(y)}function p(y){return!c&&(y===null||y===41||Oi(y))?(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(y)):c<u&&y===40?(e.consume(y),c++,p):y===41?(e.consume(y),c--,p):y===null||y===32||y===40||e4(y)?n(y):(e.consume(y),y===92?g:p)}function g(y){return y===40||y===41||y===92?(e.consume(y),p):p(y)}}function ZSe(e,t,n,r,i,o){const s=this;let a=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(o),c}function c(h){return a>999||h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):On(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||On(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!Ar(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(e.consume(h),a++,d):d(h)}}function eTe(e,t,n,r,i,o){let s;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),s=f===40?41:f,l):n(f)}function l(f){return f===s?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(o),u(f))}function u(f){return f===s?(e.exit(o),l(s)):f===null?n(f):On(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Vr(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===s||f===null||On(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?d:c)}function d(f){return f===s||f===92?(e.consume(f),c):c(f)}}function XT(e,t){let n;return r;function r(i){return On(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ar(i)?Vr(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Uit={name:"definition",tokenize:Hit},Vit={partial:!0,tokenize:qit};function Hit(e,t,n){const r=this;let i;return o;function o(h){return e.enter("definition"),s(h)}function s(h){return ZSe.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=bf(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return Oi(h)?XT(e,u)(h):u(h)}function u(h){return JSe(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(Vit,d,d)(h)}function d(h){return Ar(h)?Vr(e,f,"whitespace")(h):f(h)}function f(h){return h===null||On(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function qit(e,t,n){return r;function r(a){return Oi(a)?XT(e,i)(a):n(a)}function i(a){return eTe(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return Ar(a)?Vr(e,s,"whitespace")(a):s(a)}function s(a){return a===null||On(a)?t(a):n(a)}}const Wit={name:"hardBreakEscape",tokenize:Git};function Git(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return On(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const Yit={name:"headingAtx",resolve:Kit,tokenize:Xit};function Kit(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},dc(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function Xit(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),o(c)}function o(c){return e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(e.consume(c),s):c===null||Oi(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||On(c)?(e.exit("atxHeading"),t(c)):Ar(c)?Vr(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||Oi(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const Qit=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],que=["pre","script","style","textarea"],Jit={concrete:!0,name:"htmlFlow",resolveTo:tot,tokenize:not},Zit={partial:!0,tokenize:iot},eot={partial:!0,tokenize:rot};function tot(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function not(e,t,n){const r=this;let i,o,s,a,l;return u;function u(z){return c(z)}function c(z){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(z),d}function d(z){return z===33?(e.consume(z),f):z===47?(e.consume(z),o=!0,p):z===63?(e.consume(z),i=3,r.interrupt?t:V):Nl(z)?(e.consume(z),s=String.fromCharCode(z),g):n(z)}function f(z){return z===45?(e.consume(z),i=2,h):z===91?(e.consume(z),i=5,a=0,m):Nl(z)?(e.consume(z),i=4,r.interrupt?t:V):n(z)}function h(z){return z===45?(e.consume(z),r.interrupt?t:V):n(z)}function m(z){const G="CDATA[";return z===G.charCodeAt(a++)?(e.consume(z),a===G.length?r.interrupt?t:N:m):n(z)}function p(z){return Nl(z)?(e.consume(z),s=String.fromCharCode(z),g):n(z)}function g(z){if(z===null||z===47||z===62||Oi(z)){const G=z===47,Q=s.toLowerCase();return!G&&!o&&que.includes(Q)?(i=1,r.interrupt?t(z):N(z)):Qit.includes(s.toLowerCase())?(i=6,G?(e.consume(z),y):r.interrupt?t(z):N(z)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(z):o?v(z):w(z))}return z===45||nl(z)?(e.consume(z),s+=String.fromCharCode(z),g):n(z)}function y(z){return z===62?(e.consume(z),r.interrupt?t:N):n(z)}function v(z){return Ar(z)?(e.consume(z),v):I(z)}function w(z){return z===47?(e.consume(z),I):z===58||z===95||Nl(z)?(e.consume(z),E):Ar(z)?(e.consume(z),w):I(z)}function E(z){return z===45||z===46||z===58||z===95||nl(z)?(e.consume(z),E):C(z)}function C(z){return z===61?(e.consume(z),S):Ar(z)?(e.consume(z),C):w(z)}function S(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(e.consume(z),l=z,T):Ar(z)?(e.consume(z),S):A(z)}function T(z){return z===l?(e.consume(z),l=null,D):z===null||On(z)?n(z):(e.consume(z),T)}function A(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||Oi(z)?C(z):(e.consume(z),A)}function D(z){return z===47||z===62||Ar(z)?w(z):n(z)}function I(z){return z===62?(e.consume(z),P):n(z)}function P(z){return z===null||On(z)?N(z):Ar(z)?(e.consume(z),P):n(z)}function N(z){return z===45&&i===2?(e.consume(z),B):z===60&&i===1?(e.consume(z),H):z===62&&i===4?(e.consume(z),L):z===63&&i===3?(e.consume(z),V):z===93&&i===5?(e.consume(z),Y):On(z)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Zit,U,$)(z)):z===null||On(z)?(e.exit("htmlFlowData"),$(z)):(e.consume(z),N)}function $(z){return e.check(eot,O,U)(z)}function O(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),j}function j(z){return z===null||On(z)?$(z):(e.enter("htmlFlowData"),N(z))}function B(z){return z===45?(e.consume(z),V):N(z)}function H(z){return z===47?(e.consume(z),s="",q):N(z)}function q(z){if(z===62){const G=s.toLowerCase();return que.includes(G)?(e.consume(z),L):N(z)}return Nl(z)&&s.length<8?(e.consume(z),s+=String.fromCharCode(z),q):N(z)}function Y(z){return z===93?(e.consume(z),V):N(z)}function V(z){return z===62?(e.consume(z),L):z===45&&i===2?(e.consume(z),V):N(z)}function L(z){return z===null||On(z)?(e.exit("htmlFlowData"),U(z)):(e.consume(z),L)}function U(z){return e.exit("htmlFlow"),t(z)}}function rot(e,t,n){const r=this;return i;function i(s){return On(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function iot(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Rk,t,n)}}const oot={name:"htmlText",tokenize:sot};function sot(e,t,n){const r=this;let i,o,s;return a;function a(V){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(V),l}function l(V){return V===33?(e.consume(V),u):V===47?(e.consume(V),C):V===63?(e.consume(V),w):Nl(V)?(e.consume(V),A):n(V)}function u(V){return V===45?(e.consume(V),c):V===91?(e.consume(V),o=0,m):Nl(V)?(e.consume(V),v):n(V)}function c(V){return V===45?(e.consume(V),h):n(V)}function d(V){return V===null?n(V):V===45?(e.consume(V),f):On(V)?(s=d,H(V)):(e.consume(V),d)}function f(V){return V===45?(e.consume(V),h):d(V)}function h(V){return V===62?B(V):V===45?f(V):d(V)}function m(V){const L="CDATA[";return V===L.charCodeAt(o++)?(e.consume(V),o===L.length?p:m):n(V)}function p(V){return V===null?n(V):V===93?(e.consume(V),g):On(V)?(s=p,H(V)):(e.consume(V),p)}function g(V){return V===93?(e.consume(V),y):p(V)}function y(V){return V===62?B(V):V===93?(e.consume(V),y):p(V)}function v(V){return V===null||V===62?B(V):On(V)?(s=v,H(V)):(e.consume(V),v)}function w(V){return V===null?n(V):V===63?(e.consume(V),E):On(V)?(s=w,H(V)):(e.consume(V),w)}function E(V){return V===62?B(V):w(V)}function C(V){return Nl(V)?(e.consume(V),S):n(V)}function S(V){return V===45||nl(V)?(e.consume(V),S):T(V)}function T(V){return On(V)?(s=T,H(V)):Ar(V)?(e.consume(V),T):B(V)}function A(V){return V===45||nl(V)?(e.consume(V),A):V===47||V===62||Oi(V)?D(V):n(V)}function D(V){return V===47?(e.consume(V),B):V===58||V===95||Nl(V)?(e.consume(V),I):On(V)?(s=D,H(V)):Ar(V)?(e.consume(V),D):B(V)}function I(V){return V===45||V===46||V===58||V===95||nl(V)?(e.consume(V),I):P(V)}function P(V){return V===61?(e.consume(V),N):On(V)?(s=P,H(V)):Ar(V)?(e.consume(V),P):D(V)}function N(V){return V===null||V===60||V===61||V===62||V===96?n(V):V===34||V===39?(e.consume(V),i=V,$):On(V)?(s=N,H(V)):Ar(V)?(e.consume(V),N):(e.consume(V),O)}function $(V){return V===i?(e.consume(V),i=void 0,j):V===null?n(V):On(V)?(s=$,H(V)):(e.consume(V),$)}function O(V){return V===null||V===34||V===39||V===60||V===61||V===96?n(V):V===47||V===62||Oi(V)?D(V):(e.consume(V),O)}function j(V){return V===47||V===62||Oi(V)?D(V):n(V)}function B(V){return V===62?(e.consume(V),e.exit("htmlTextData"),e.exit("htmlText"),t):n(V)}function H(V){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(V),e.exit("lineEnding"),q}function q(V){return Ar(V)?Vr(e,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):Y(V)}function Y(V){return e.enter("htmlTextData"),s(V)}}const HX={name:"labelEnd",resolveAll:cot,resolveTo:dot,tokenize:fot},aot={tokenize:hot},lot={tokenize:pot},uot={tokenize:mot};function cot(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&dc(e,0,e.length,n),e}function dot(e,t){let n=e.length,r=0,i,o,s,a;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[s][1].end}},c={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[s-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=Gc(a,e.slice(o+1,o+r+3)),a=Gc(a,[["enter",c,t]]),a=Gc(a,O$(t.parser.constructs.insideSpan.null,e.slice(o+r+4,s-3),t)),a=Gc(a,[["exit",c,t],e[s-2],e[s-1],["exit",u,t]]),a=Gc(a,e.slice(s+1)),a=Gc(a,[["exit",l,t]]),dc(e,o,e.length,a),e}function fot(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(f){return o?o._inactive?d(f):(s=r.parser.defined.includes(bf(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(aot,c,s?c:d)(f):f===91?e.attempt(lot,c,s?u:d)(f):s?c(f):d(f)}function u(f){return e.attempt(uot,c,d)(f)}function c(f){return t(f)}function d(f){return o._balanced=!0,n(f)}}function hot(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Oi(d)?XT(e,o)(d):o(d)}function o(d){return d===41?c(d):JSe(e,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return Oi(d)?XT(e,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?eTe(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return Oi(d)?XT(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function pot(e,t,n){const r=this;return i;function i(a){return ZSe.call(r,e,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(bf(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function s(a){return n(a)}}function mot(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const got={name:"labelStartImage",resolveAll:HX.resolveAll,tokenize:yot};function yot(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const vot={name:"labelStartLink",resolveAll:HX.resolveAll,tokenize:bot};function bot(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const NB={name:"lineEnding",tokenize:wot};function wot(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Vr(e,t,"linePrefix")}}const G3={name:"thematicBreak",tokenize:xot};function xot(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||On(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Ar(u)?Vr(e,a,"whitespace")(u):a(u))}}const hu={continuation:{tokenize:Sot},exit:Aot,name:"list",tokenize:Cot},_ot={partial:!0,tokenize:kot},Eot={partial:!0,tokenize:Tot};function Cot(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(h){const m=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:JV(h)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(G3,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return JV(h)&&++s<10?(e.consume(h),l):(!r.interrupt||s<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(Rk,r.interrupt?n:c,e.attempt(_ot,f,d))}function c(h){return r.containerState.initialBlankLine=!0,o++,f(h)}function d(h){return Ar(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function Sot(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Rk,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Vr(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!Ar(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Eot,t,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Vr(e,e.attempt(hu,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Tot(e,t,n){const r=this;return Vr(e,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(o):n(o)}}function Aot(e){e.exit(this.containerState.type)}function kot(e,t,n){const r=this;return Vr(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!Ar(o)&&s&&s[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Wue={name:"setextUnderline",resolveTo:Rot,tokenize:Iot};function Rot(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function Iot(e,t,n){const r=this;let i;return o;function o(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Ar(u)?Vr(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||On(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Dot={tokenize:Pot};function Pot(e){const t=this,n=e.attempt(Rk,r,e.attempt(this.parser.constructs.flowInitial,i,Vr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Fit,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Oot={resolveAll:nTe()},Not=tTe("string"),Mot=tTe("text");function tTe(e){return{resolveAll:nTe(e==="text"?$ot:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,s,a);return s;function s(c){return u(c)?o(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function nTe(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function $ot(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:r.start._bufferIndex+s,_index:r.start._index+o,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const Fot={42:hu,43:hu,45:hu,48:hu,49:hu,50:hu,51:hu,52:hu,53:hu,54:hu,55:hu,56:hu,57:hu,62:YSe},Lot={91:Uit},jot={[-2]:OB,[-1]:OB,32:OB},Bot={35:Yit,42:G3,45:[Wue,G3],60:Jit,61:Wue,95:G3,96:Hue,126:Hue},zot={38:XSe,92:KSe},Uot={[-5]:NB,[-4]:NB,[-3]:NB,33:got,38:XSe,42:ZV,60:[vit,oot],91:vot,92:[Wit,KSe],93:HX,95:ZV,96:Dit},Vot={null:[ZV,Oot]},Hot={null:[42,95]},qot={null:[]},Wot=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Hot,contentInitial:Lot,disable:qot,document:Fot,flow:Bot,flowInitial:jot,insideSpan:Vot,string:zot,text:Uot},Symbol.toStringTag,{value:"Module"}));function Got(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let s=[],a=[];const l={attempt:T(C),check:T(S),consume:v,enter:w,exit:E,interrupt:T(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:p,events:[],now:m,parser:e,previous:null,sliceSerialize:f,sliceStream:h,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function d(P){return s=Gc(s,P),g(),s[s.length-1]!==null?[]:(A(t,0),u.events=O$(o,u.events,u),u.events)}function f(P,N){return Kot(h(P),N)}function h(P){return Yot(s,P)}function m(){const{_bufferIndex:P,_index:N,line:$,column:O,offset:j}=r;return{_bufferIndex:P,_index:N,line:$,column:O,offset:j}}function p(P){i[P.line]=P.column,I()}function g(){let P;for(;r._index<s.length;){const N=s[r._index];if(typeof N=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<N.length;)y(N.charCodeAt(r._bufferIndex));else y(N)}}function y(P){c=c(P)}function v(P){On(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,I()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=P}function w(P,N){const $=N||{};return $.type=P,$.start=m(),u.events.push(["enter",$,u]),a.push($),$}function E(P){const N=a.pop();return N.end=m(),u.events.push(["exit",N,u]),N}function C(P,N){A(P,N.from)}function S(P,N){N.restore()}function T(P,N){return $;function $(O,j,B){let H,q,Y,V;return Array.isArray(O)?U(O):"tokenize"in O?U([O]):L(O);function L(te){return de;function de(se){const ae=se!==null&&te[se],he=se!==null&&te.null,ie=[...Array.isArray(ae)?ae:ae?[ae]:[],...Array.isArray(he)?he:he?[he]:[]];return U(ie)(se)}}function U(te){return H=te,q=0,te.length===0?B:z(te[q])}function z(te){return de;function de(se){return V=D(),Y=te,te.partial||(u.currentConstruct=te),te.name&&u.parser.constructs.disable.null.includes(te.name)?Q():te.tokenize.call(N?Object.assign(Object.create(u),N):u,l,G,Q)(se)}}function G(te){return P(Y,V),j}function Q(te){return V.restore(),++q<H.length?z(H[q]):B}}}function A(P,N){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&dc(u.events,N,u.events.length-N,P.resolve(u.events.slice(N),u)),P.resolveTo&&(u.events=P.resolveTo(u.events,u))}function D(){const P=m(),N=u.previous,$=u.currentConstruct,O=u.events.length,j=Array.from(a);return{from:O,restore:B};function B(){r=P,u.previous=N,u.currentConstruct=$,u.events.length=O,a=j,I()}}function I(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Yot(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,o)];else{if(s=e.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(e[i].slice(0,o))}return s}function Kot(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}function Xot(e){const r={constructs:WSe([Wot,...(e||{}).extensions||[]]),content:i(dit),defined:[],document:i(hit),flow:i(Dot),lazy:{},string:i(Not),text:i(Mot)};return r;function i(o){return s;function s(a){return Got(r,o,a)}}}function Qot(e){for(;!QSe(e););return e}const Gue=/[\0\t\n\r]/g;function Jot(){let e=1,t="",n=!0,r;return i;function i(o,s,a){const l=[];let u,c,d,f,h;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),d=0,t="",n&&(o.charCodeAt(0)===65279&&d++,n=void 0);d<o.length;){if(Gue.lastIndex=d,u=Gue.exec(o),f=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(f),!u){t=o.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(o.slice(d,f)),e+=f-d),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Zot=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function est(e){return e.replace(Zot,tst)}function tst(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return GSe(n.slice(o?2:1),o?16:10)}return VX(n)||e}const rTe={}.hasOwnProperty;function nst(e,t,n){return typeof t!="string"&&(n=t,t=void 0),rst(n)(Qot(Xot(n).document().write(Jot()(e,t,!0))))}function rst(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(pe),autolinkProtocol:D,autolinkEmail:D,atxHeading:o(fe),blockQuote:o(he),characterEscape:D,characterReference:D,codeFenced:o(ie),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(ie,s),codeText:o(le,s),codeTextData:D,data:D,codeFlowValue:D,definition:o(Ce),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(X),hardBreakEscape:o(ce),hardBreakTrailing:o(ce),htmlFlow:o(ne,s),htmlFlowData:D,htmlText:o(ne,s),htmlTextData:D,image:o(ee),label:s,link:o(pe),listItem:o(Se),listItemValue:f,listOrdered:o(Re,d),listUnordered:o(Re),paragraph:o(be),reference:z,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(fe),strong:o(Ne),thematicBreak:o(Pe)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:ae,autolinkProtocol:se,blockQuote:l(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:te,characterReference:de,codeFenced:l(g),codeFencedFence:p,codeFencedFenceInfo:h,codeFencedFenceMeta:m,codeFlowValue:I,codeIndented:l(y),codeText:l(j),codeTextData:I,data:I,definition:l(),definitionDestinationString:E,definitionLabelString:v,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(N),hardBreakTrailing:l(N),htmlFlow:l($),htmlFlowData:I,htmlText:l(O),htmlTextData:I,image:l(H),label:Y,labelText:q,lineEnding:P,link:l(B),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:G,resourceDestinationString:V,resourceTitleString:L,resource:U,setextHeading:l(A),setextHeadingLineSequence:T,setextHeadingText:S,strong:l(),thematicBreak:l()}};iTe(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(we){let Le={type:"root",children:[]};const ze={stack:[Le],tokenStack:[],config:t,enter:a,exit:u,buffer:s,resume:c,data:n},tt=[];let rt=-1;for(;++rt<we.length;)if(we[rt][1].type==="listOrdered"||we[rt][1].type==="listUnordered")if(we[rt][0]==="enter")tt.push(rt);else{const bt=tt.pop();rt=i(we,bt,rt)}for(rt=-1;++rt<we.length;){const bt=t[we[rt][0]];rTe.call(bt,we[rt][1].type)&&bt[we[rt][1].type].call(Object.assign({sliceSerialize:we[rt][2].sliceSerialize},ze),we[rt][1])}if(ze.tokenStack.length>0){const bt=ze.tokenStack[ze.tokenStack.length-1];(bt[1]||Yue).call(ze,void 0,bt[0])}for(Le.position={start:Jg(we.length>0?we[0][1].start:{line:1,column:1,offset:0}),end:Jg(we.length>0?we[we.length-2][1].end:{line:1,column:1,offset:0})},rt=-1;++rt<t.transforms.length;)Le=t.transforms[rt](Le)||Le;return Le}function i(we,Le,ze){let tt=Le-1,rt=-1,bt=!1,Kt,Wt,Mn,Ft;for(;++tt<=ze;){const hn=we[tt];switch(hn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{hn[0]==="enter"?rt++:rt--,Ft=void 0;break}case"lineEndingBlank":{hn[0]==="enter"&&(Kt&&!Ft&&!rt&&!Mn&&(Mn=tt),Ft=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ft=void 0}if(!rt&&hn[0]==="enter"&&hn[1].type==="listItemPrefix"||rt===-1&&hn[0]==="exit"&&(hn[1].type==="listUnordered"||hn[1].type==="listOrdered")){if(Kt){let Kn=tt;for(Wt=void 0;Kn--;){const zn=we[Kn];if(zn[1].type==="lineEnding"||zn[1].type==="lineEndingBlank"){if(zn[0]==="exit")continue;Wt&&(we[Wt][1].type="lineEndingBlank",bt=!0),zn[1].type="lineEnding",Wt=Kn}else if(!(zn[1].type==="linePrefix"||zn[1].type==="blockQuotePrefix"||zn[1].type==="blockQuotePrefixWhitespace"||zn[1].type==="blockQuoteMarker"||zn[1].type==="listItemIndent"))break}Mn&&(!Wt||Mn<Wt)&&(Kt._spread=!0),Kt.end=Object.assign({},Wt?we[Wt][1].start:hn[1].end),we.splice(Wt||tt,0,["exit",Kt,hn[2]]),tt++,ze++}if(hn[1].type==="listItemPrefix"){const Kn={type:"listItem",_spread:!1,start:Object.assign({},hn[1].start),end:void 0};Kt=Kn,we.splice(tt,0,["enter",Kn,hn[2]]),tt++,ze++,Mn=void 0,Ft=!0}}}return we[Le][1]._spread=bt,ze}function o(we,Le){return ze;function ze(tt){a.call(this,we(tt),tt),Le&&Le.call(this,tt)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(we,Le,ze){this.stack[this.stack.length-1].children.push(we),this.stack.push(we),this.tokenStack.push([Le,ze||void 0]),we.position={start:Jg(Le.start),end:void 0}}function l(we){return Le;function Le(ze){we&&we.call(this,ze),u.call(this,ze)}}function u(we,Le){const ze=this.stack.pop(),tt=this.tokenStack.pop();if(tt)tt[0].type!==we.type&&(Le?Le.call(this,we,tt[0]):(tt[1]||Yue).call(this,we,tt[0]));else throw new Error("Cannot close `"+we.type+"` ("+KT({start:we.start,end:we.end})+"): its not open");ze.position.end=Jg(we.end)}function c(){return UX(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(we){if(this.data.expectingFirstListItemValue){const Le=this.stack[this.stack.length-2];Le.start=Number.parseInt(this.sliceSerialize(we),10),this.data.expectingFirstListItemValue=void 0}}function h(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.lang=we}function m(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.meta=we}function p(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.value=we.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.value=we.replace(/(\r?\n|\r)$/g,"")}function v(we){const Le=this.resume(),ze=this.stack[this.stack.length-1];ze.label=Le,ze.identifier=bf(this.sliceSerialize(we)).toLowerCase()}function w(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.title=we}function E(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.url=we}function C(we){const Le=this.stack[this.stack.length-1];if(!Le.depth){const ze=this.sliceSerialize(we).length;Le.depth=ze}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function T(we){const Le=this.stack[this.stack.length-1];Le.depth=this.sliceSerialize(we).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function D(we){const ze=this.stack[this.stack.length-1].children;let tt=ze[ze.length-1];(!tt||tt.type!=="text")&&(tt=Ae(),tt.position={start:Jg(we.start),end:void 0},ze.push(tt)),this.stack.push(tt)}function I(we){const Le=this.stack.pop();Le.value+=this.sliceSerialize(we),Le.position.end=Jg(we.end)}function P(we){const Le=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ze=Le.children[Le.children.length-1];ze.position.end=Jg(we.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Le.type)&&(D.call(this,we),I.call(this,we))}function N(){this.data.atHardBreak=!0}function $(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.value=we}function O(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.value=we}function j(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.value=we}function B(){const we=this.stack[this.stack.length-1];if(this.data.inReference){const Le=this.data.referenceType||"shortcut";we.type+="Reference",we.referenceType=Le,delete we.url,delete we.title}else delete we.identifier,delete we.label;this.data.referenceType=void 0}function H(){const we=this.stack[this.stack.length-1];if(this.data.inReference){const Le=this.data.referenceType||"shortcut";we.type+="Reference",we.referenceType=Le,delete we.url,delete we.title}else delete we.identifier,delete we.label;this.data.referenceType=void 0}function q(we){const Le=this.sliceSerialize(we),ze=this.stack[this.stack.length-2];ze.label=est(Le),ze.identifier=bf(Le).toLowerCase()}function Y(){const we=this.stack[this.stack.length-1],Le=this.resume(),ze=this.stack[this.stack.length-1];if(this.data.inReference=!0,ze.type==="link"){const tt=we.children;ze.children=tt}else ze.alt=Le}function V(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.url=we}function L(){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.title=we}function U(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function G(we){const Le=this.resume(),ze=this.stack[this.stack.length-1];ze.label=Le,ze.identifier=bf(this.sliceSerialize(we)).toLowerCase(),this.data.referenceType="full"}function Q(we){this.data.characterReferenceType=we.type}function te(we){const Le=this.sliceSerialize(we),ze=this.data.characterReferenceType;let tt;ze?(tt=GSe(Le,ze==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):tt=VX(Le);const rt=this.stack[this.stack.length-1];rt.value+=tt}function de(we){const Le=this.stack.pop();Le.position.end=Jg(we.end)}function se(we){I.call(this,we);const Le=this.stack[this.stack.length-1];Le.url=this.sliceSerialize(we)}function ae(we){I.call(this,we);const Le=this.stack[this.stack.length-1];Le.url="mailto:"+this.sliceSerialize(we)}function he(){return{type:"blockquote",children:[]}}function ie(){return{type:"code",lang:null,meta:null,value:""}}function le(){return{type:"inlineCode",value:""}}function Ce(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function X(){return{type:"emphasis",children:[]}}function fe(){return{type:"heading",depth:0,children:[]}}function ce(){return{type:"break"}}function ne(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function pe(){return{type:"link",title:null,url:"",children:[]}}function Re(we){return{type:"list",ordered:we.type==="listOrdered",start:null,spread:we._spread,children:[]}}function Se(we){return{type:"listItem",spread:we._spread,checked:null,children:[]}}function be(){return{type:"paragraph",children:[]}}function Ne(){return{type:"strong",children:[]}}function Ae(){return{type:"text",value:""}}function Pe(){return{type:"thematicBreak"}}}function Jg(e){return{line:e.line,column:e.column,offset:e.offset}}function iTe(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?iTe(e,r):ist(e,r)}}function ist(e,t){let n;for(n in t)if(rTe.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Yue(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+KT({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+KT({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+KT({start:t.start,end:t.end})+") is still open")}function ost(e){const t=this;t.parser=n;function n(r){return nst(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function sst(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function ast(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function lst(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function ust(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function cst(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function dst(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=ME(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let s,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=o+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function fst(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function hst(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function oTe(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function pst(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return oTe(e,t);const i={src:ME(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function mst(e,t){const n={src:ME(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function gst(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function yst(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return oTe(e,t);const i={href:ME(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function vst(e,t){const n={href:ME(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function bst(e,t,n){const r=e.all(t),i=n?wst(n):sTe(t),o={},s=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:s};return e.patch(t,u),e.applyData(t,u)}function wst(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=sTe(n[r])}return t}function sTe(e){const t=e.spread;return t??e.children.length>1}function xst(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function _st(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Est(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Cst(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Sst(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Tp(t.children[1]),l=D$(t.children[t.children.length-1]);a&&l&&(s.position={start:a,end:l}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function Tst(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const d=t.children[l],f={},h=s?s[l]:void 0;h&&(f.align=h);let m={type:"element",tagName:o,properties:f,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),u.push(m)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function Ast(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Kue=9,Xue=32;function kst(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(Que(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(Que(t.slice(i),i>0,!1)),o.join("")}function Que(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===Kue||o===Xue;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===Kue||o===Xue;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Rst(e,t){const n={type:"text",value:kst(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Ist(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Dst={blockquote:sst,break:ast,code:lst,delete:ust,emphasis:cst,footnoteReference:dst,heading:fst,html:hst,imageReference:pst,image:mst,inlineCode:gst,linkReference:yst,link:vst,listItem:bst,list:xst,paragraph:_st,root:Est,strong:Cst,table:Sst,tableCell:Ast,tableRow:Tst,text:Rst,thematicBreak:Ist,toml:wD,yaml:wD,definition:wD,footnoteDefinition:wD};function wD(){}const aTe=-1,N$=0,QT=1,t4=2,qX=3,WX=4,GX=5,YX=6,lTe=7,uTe=8,Jue=typeof self=="object"?self:globalThis,Pst=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,s]=t[i];switch(o){case N$:case aTe:return n(s,i);case QT:{const a=n([],i);for(const l of s)a.push(r(l));return a}case t4:{const a=n({},i);for(const[l,u]of s)a[r(l)]=r(u);return a}case qX:return n(new Date(s),i);case WX:{const{source:a,flags:l}=s;return n(new RegExp(a,l),i)}case GX:{const a=n(new Map,i);for(const[l,u]of s)a.set(r(l),r(u));return a}case YX:{const a=n(new Set,i);for(const l of s)a.add(r(l));return a}case lTe:{const{name:a,message:l}=s;return n(new Jue[a](l),i)}case uTe:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:a}=new Uint8Array(s);return n(new DataView(a),s)}}return n(new Jue[o](s),i)};return r},Zue=e=>Pst(new Map,e)(0),Ww="",{toString:Ost}={},{keys:Nst}=Object,fS=e=>{const t=typeof e;if(t!=="object"||!e)return[N$,t];const n=Ost.call(e).slice(8,-1);switch(n){case"Array":return[QT,Ww];case"Object":return[t4,Ww];case"Date":return[qX,Ww];case"RegExp":return[WX,Ww];case"Map":return[GX,Ww];case"Set":return[YX,Ww];case"DataView":return[QT,n]}return n.includes("Array")?[QT,n]:n.includes("Error")?[lTe,n]:[t4,n]},xD=([e,t])=>e===N$&&(t==="function"||t==="symbol"),Mst=(e,t,n,r)=>{const i=(s,a)=>{const l=r.push(s)-1;return n.set(a,l),l},o=s=>{if(n.has(s))return n.get(s);let[a,l]=fS(s);switch(a){case N$:{let c=s;switch(l){case"bigint":a=uTe,c=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([aTe],s)}return i([a,c],s)}case QT:{if(l){let f=s;return l==="DataView"?f=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(s)),i([l,[...f]],s)}const c=[],d=i([a,c],s);for(const f of s)c.push(o(f));return d}case t4:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return o(s.toJSON());const c=[],d=i([a,c],s);for(const f of Nst(s))(e||!xD(fS(s[f])))&&c.push([o(f),o(s[f])]);return d}case qX:return i([a,s.toISOString()],s);case WX:{const{source:c,flags:d}=s;return i([a,{source:c,flags:d}],s)}case GX:{const c=[],d=i([a,c],s);for(const[f,h]of s)(e||!(xD(fS(f))||xD(fS(h))))&&c.push([o(f),o(h)]);return d}case YX:{const c=[],d=i([a,c],s);for(const f of s)(e||!xD(fS(f)))&&c.push(o(f));return d}}const{message:u}=s;return i([a,{name:l,message:u}],s)};return o},ece=(e,{json:t,lossy:n}={})=>{const r=[];return Mst(!(t||n),!!t,new Map,r)(e),r},T_=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Zue(ece(e,t)):structuredClone(e):(e,t)=>Zue(ece(e,t));function $st(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Fst(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Lst(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||$st,r=e.options.footnoteBackLabel||Fst,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),d=String(u.identifier).toUpperCase(),f=ME(d.toLowerCase());let h=0;const m=[],p=e.footnoteCounts.get(d);for(;p!==void 0&&++h<=p;){m.length>0&&m.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,h);typeof v=="string"&&(v={type:"text",value:v}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const g=c[c.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const v=g.children[g.children.length-1];v&&v.type==="text"?v.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...m)}else c.push(...m);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(u,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...T_(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const M$=(function(e){if(e==null)return Ust;if(typeof e=="function")return $$(e);if(typeof e=="object")return Array.isArray(e)?jst(e):Bst(e);if(typeof e=="string")return zst(e);throw new Error("Expected function, string, or object as test")});function jst(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=M$(e[n]);return $$(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function Bst(e){const t=e;return $$(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function zst(e){return $$(t);function t(n){return n&&n.type===e}}function $$(e){return t;function t(n,r,i){return!!(Vst(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Ust(){return!0}function Vst(e){return e!==null&&typeof e=="object"&&"type"in e}const cTe=[],Hst=!0,eH=!1,qst="skip";function dTe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=M$(i),s=r?-1:1;a(e,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=cTe,m,p,g;if((!t||o(l,u,c[c.length-1]||void 0))&&(h=Wst(n(l,c)),h[0]===eH))return h;if("children"in l&&l.children){const y=l;if(y.children&&h[0]!==qst)for(p=(r?y.children.length:-1)+s,g=c.concat(y);p>-1&&p<y.children.length;){const v=y.children[p];if(m=a(v,p,g)(),m[0]===eH)return m;p=typeof m[1]=="number"?m[1]:p+s}}return h}}}function Wst(e){return Array.isArray(e)?e:typeof e=="number"?[Hst,e]:e==null?cTe:[e]}function Ik(e,t,n,r){let i,o,s;typeof t=="function"&&typeof n!="function"?(o=void 0,s=t,i=n):(o=t,s=n,i=r),dTe(e,o,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return s(l,d,c)}}const tH={}.hasOwnProperty,Gst={};function Yst(e,t){const n=t||Gst,r=new Map,i=new Map,o=new Map,s={...Dst,...n.handlers},a={all:u,applyData:Xst,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:l,options:n,patch:Kst,wrap:Jst};return Ik(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),a;function l(c,d){const f=c.type,h=a.handlers[f];if(tH.call(a.handlers,f)&&h)return h(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in c){const{children:p,...g}=c,y=T_(g);return y.children=a.all(c),y}return T_(c)}return(a.options.unknownHandler||Qst)(a,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let h=-1;for(;++h<f.length;){const m=a.one(f[h],c);if(m){if(h&&f[h-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=tce(m.value)),!Array.isArray(m)&&m.type==="element")){const p=m.children[0];p&&p.type==="text"&&(p.value=tce(p.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function Kst(e,t){e.position&&(t.position=Frt(e))}function Xst(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,T_(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Qst(e,t){const n=t.data||{},r="value"in t&&!(tH.call(n,"hProperties")||tH.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Jst(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function tce(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function nce(e,t){const n=Yst(e,t),r=n.one(e,void 0),i=Lst(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function Zst(e,t){return e&&"run"in e?async function(n,r){const i=nce(n,{file:r,...t});await e.run(i,r)}:function(n,r){return nce(n,{file:r,...e||t})}}function rce(e){if(e)throw e}var MB,ice;function eat(){if(ice)return MB;ice=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},o=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var c=e.call(u,"constructor"),d=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!d)return!1;var f;for(f in u);return typeof f>"u"||e.call(u,f)},s=function(u,c){n&&c.name==="__proto__"?n(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},a=function(u,c){if(c==="__proto__")if(e.call(u,c)){if(r)return r(u,c).value}else return;return u[c]};return MB=function l(){var u,c,d,f,h,m,p=arguments[0],g=1,y=arguments.length,v=!1;for(typeof p=="boolean"&&(v=p,p=arguments[1]||{},g=2),(p==null||typeof p!="object"&&typeof p!="function")&&(p={});g<y;++g)if(u=arguments[g],u!=null)for(c in u)d=a(p,c),f=a(u,c),p!==f&&(v&&f&&(o(f)||(h=i(f)))?(h?(h=!1,m=d&&i(d)?d:[]):m=d&&o(d)?d:{},s(p,{name:c,newValue:l(v,m,f)})):typeof f<"u"&&s(p,{name:c,newValue:f}));return p},MB}var tat=eat();const $B=ms(tat);function nH(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function nat(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...u){const c=e[++o];let d=-1;if(l){s(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?rat(c,a)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function rat(e,t){let n;return r;function r(...s){const a=e.length>s.length;let l;a&&s.push(i);try{l=e.apply(this,s)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,t(s,...a))}function o(s){i(null,s)}}const Ch={basename:iat,dirname:oat,extname:sat,join:aat,sep:"/"};function iat(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Dk(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function oat(e){if(Dk(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function sat(e){Dk(e);let t=e.length,n=-1,r=0,i=-1,o=0,s;for(;t--;){const a=e.codePointAt(t);if(a===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function aat(...e){let t=-1,n;for(;++t<e.length;)Dk(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":lat(n)}function lat(e){Dk(e);const t=e.codePointAt(0)===47;let n=uat(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function uat(e,t){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=e.length;){if(s<e.length)a=e.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function Dk(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const cat={cwd:dat};function dat(){return"/"}function rH(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function fat(e){if(typeof e=="string")e=new URL(e);else if(!rH(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return hat(e)}function hat(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const FB=["history","path","basename","stem","extname","dirname"];class fTe{constructor(t){let n;t?rH(t)?n={path:t}:typeof t=="string"||pat(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":cat.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<FB.length;){const o=FB[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)FB.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ch.basename(this.path):void 0}set basename(t){jB(t,"basename"),LB(t,"basename"),this.path=Ch.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ch.dirname(this.path):void 0}set dirname(t){oce(this.basename,"dirname"),this.path=Ch.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ch.extname(this.path):void 0}set extname(t){if(LB(t,"extname"),oce(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ch.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){rH(t)&&(t=fat(t)),jB(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ch.basename(this.path,this.extname):void 0}set stem(t){jB(t,"stem"),LB(t,"stem"),this.path=Ch.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ml(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function LB(e,t){if(e&&e.includes(Ch.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ch.sep+"`")}function jB(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function oce(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function pat(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const mat=(function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),gat={}.hasOwnProperty;class KX extends mat{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=nat()}copy(){const t=new KX;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data($B(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(UB("data",this.frozen),this.namespace[t]=n,this):gat.call(this.namespace,t)&&this.namespace[t]||void 0:t?(UB("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=_D(t),r=this.parser||this.Parser;return BB("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),BB("process",this.parser||this.Parser),zB("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const a=_D(t),l=r.parse(a);r.run(l,a,function(c,d,f){if(c||!d||!f)return u(c);const h=d,m=r.stringify(h,f);bat(m)?f.value=m:f.result=m,u(c,f)});function u(c,d){c||!d?s(c):o?o(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),BB("processSync",this.parser||this.Parser),zB("processSync",this.compiler||this.Compiler),this.process(t,i),ace("processSync","process",n),r;function i(o,s){n=!0,rce(o),r=s}}run(t,n,r){sce(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,a){const l=_D(n);i.run(t,l,u);function u(c,d,f){const h=d||t;c?a(c):s?s(h):r(void 0,h,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),ace("runSync","run",r),i;function o(s,a){rce(s),i=a,r=!0}}stringify(t,n){this.freeze();const r=_D(n),i=this.compiler||this.Compiler;return zB("stringify",i),sce(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(UB("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=$B(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];o(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[h,...m]=c;const p=r[f][1];nH(p)&&nH(h)&&(h=$B(!0,p,h)),r[f]=[u,h,...m]}}}}const yat=new KX().freeze();function BB(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function zB(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function UB(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function sce(e){if(!nH(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function ace(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function _D(e){return vat(e)?e:new fTe(e)}function vat(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function bat(e){return typeof e=="string"||wat(e)}function wat(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const xat="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",lce=[],uce={allowDangerousHtml:!0},_at=/^(https?|ircs?|mailto|xmpp)$/i,Eat=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Cat(e){const t=Sat(e),n=Tat(e);return Aat(t.runSync(t.parse(n),n),e)}function Sat(e){const t=e.rehypePlugins||lce,n=e.remarkPlugins||lce,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...uce}:uce;return yat().use(ost).use(n).use(Zst,r).use(t)}function Tat(e){const t=e.children||"",n=new fTe;return typeof t=="string"&&(n.value=t),n}function Aat(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,s=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||kat;for(const c of Eat)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+xat+c.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Ik(e,u),Urt(e,{Fragment:x.Fragment,components:i,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function u(c,d,f){if(c.type==="raw"&&f&&typeof d=="number")return s?f.children.splice(d,1):f.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let h;for(h in PB)if(Object.hasOwn(PB,h)&&Object.hasOwn(c.properties,h)){const m=c.properties[h],p=PB[h];(p===null||p.includes(c.tagName))&&(c.properties[h]=l(String(m||""),h,c))}}if(c.type==="element"){let h=n?!n.includes(c.tagName):o?o.includes(c.tagName):!1;if(!h&&r&&typeof d=="number"&&(h=!r(c,d,f)),h&&f&&typeof d=="number")return a&&c.children?f.children.splice(d,1,...c.children):f.children.splice(d,1),d}}}function kat(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||_at.test(e.slice(0,t))?e:""}let Pk=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};Pk.prototype.property={};Pk.prototype.normal={};Pk.prototype.space=null;function hTe(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Pk(n,r,t)}function G2(e){return e.toLowerCase()}let Pd=class{constructor(t,n){this.property=t,this.attribute=n}};Pd.prototype.space=null;Pd.prototype.boolean=!1;Pd.prototype.booleanish=!1;Pd.prototype.overloadedBoolean=!1;Pd.prototype.number=!1;Pd.prototype.commaSeparated=!1;Pd.prototype.spaceSeparated=!1;Pd.prototype.commaOrSpaceSeparated=!1;Pd.prototype.mustUseProperty=!1;Pd.prototype.defined=!1;let Rat=0;const lr=L1(),ls=L1(),pTe=L1(),Rt=L1(),ji=L1(),Wx=L1(),ec=L1();function L1(){return 2**++Rat}const iH=Object.freeze(Object.defineProperty({__proto__:null,boolean:lr,booleanish:ls,commaOrSpaceSeparated:ec,commaSeparated:Wx,number:Rt,overloadedBoolean:pTe,spaceSeparated:ji},Symbol.toStringTag,{value:"Module"})),VB=Object.keys(iH);class XX extends Pd{constructor(t,n,r,i){let o=-1;if(super(t,n),cce(this,"space",i),typeof r=="number")for(;++o<VB.length;){const s=VB[o];cce(this,VB[o],(r&iH[s])===iH[s])}}}XX.prototype.defined=!0;function cce(e,t,n){n&&(e[t]=n)}const Iat={}.hasOwnProperty;function $E(e){const t={},n={};let r;for(r in e.properties)if(Iat.call(e.properties,r)){const i=e.properties[r],o=new XX(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[G2(r)]=r,n[G2(o.attribute)]=r}return new Pk(t,n,e.space)}const mTe=$E({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),gTe=$E({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function yTe(e,t){return t in e?e[t]:t}function vTe(e,t){return yTe(e,t.toLowerCase())}const bTe=$E({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:vTe,properties:{xmlns:null,xmlnsXLink:null}}),wTe=$E({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ls,ariaAutoComplete:null,ariaBusy:ls,ariaChecked:ls,ariaColCount:Rt,ariaColIndex:Rt,ariaColSpan:Rt,ariaControls:ji,ariaCurrent:null,ariaDescribedBy:ji,ariaDetails:null,ariaDisabled:ls,ariaDropEffect:ji,ariaErrorMessage:null,ariaExpanded:ls,ariaFlowTo:ji,ariaGrabbed:ls,ariaHasPopup:null,ariaHidden:ls,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ji,ariaLevel:Rt,ariaLive:null,ariaModal:ls,ariaMultiLine:ls,ariaMultiSelectable:ls,ariaOrientation:null,ariaOwns:ji,ariaPlaceholder:null,ariaPosInSet:Rt,ariaPressed:ls,ariaReadOnly:ls,ariaRelevant:null,ariaRequired:ls,ariaRoleDescription:ji,ariaRowCount:Rt,ariaRowIndex:Rt,ariaRowSpan:Rt,ariaSelected:ls,ariaSetSize:Rt,ariaSort:null,ariaValueMax:Rt,ariaValueMin:Rt,ariaValueNow:Rt,ariaValueText:null,role:null}}),Dat=$E({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:vTe,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Wx,acceptCharset:ji,accessKey:ji,action:null,allow:null,allowFullScreen:lr,allowPaymentRequest:lr,allowUserMedia:lr,alt:null,as:null,async:lr,autoCapitalize:null,autoComplete:ji,autoFocus:lr,autoPlay:lr,blocking:ji,capture:null,charSet:null,checked:lr,cite:null,className:ji,cols:Rt,colSpan:null,content:null,contentEditable:ls,controls:lr,controlsList:ji,coords:Rt|Wx,crossOrigin:null,data:null,dateTime:null,decoding:null,default:lr,defer:lr,dir:null,dirName:null,disabled:lr,download:pTe,draggable:ls,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:lr,formTarget:null,headers:ji,height:Rt,hidden:lr,high:Rt,href:null,hrefLang:null,htmlFor:ji,httpEquiv:ji,id:null,imageSizes:null,imageSrcSet:null,inert:lr,inputMode:null,integrity:null,is:null,isMap:lr,itemId:null,itemProp:ji,itemRef:ji,itemScope:lr,itemType:ji,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:lr,low:Rt,manifest:null,max:null,maxLength:Rt,media:null,method:null,min:null,minLength:Rt,multiple:lr,muted:lr,name:null,nonce:null,noModule:lr,noValidate:lr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:lr,optimum:Rt,pattern:null,ping:ji,placeholder:null,playsInline:lr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:lr,referrerPolicy:null,rel:ji,required:lr,reversed:lr,rows:Rt,rowSpan:Rt,sandbox:ji,scope:null,scoped:lr,seamless:lr,selected:lr,shadowRootClonable:lr,shadowRootDelegatesFocus:lr,shadowRootMode:null,shape:null,size:Rt,sizes:null,slot:null,span:Rt,spellCheck:ls,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Rt,step:null,style:null,tabIndex:Rt,target:null,title:null,translate:null,type:null,typeMustMatch:lr,useMap:null,value:ls,width:Rt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ji,axis:null,background:null,bgColor:null,border:Rt,borderColor:null,bottomMargin:Rt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:lr,declare:lr,event:null,face:null,frame:null,frameBorder:null,hSpace:Rt,leftMargin:Rt,link:null,longDesc:null,lowSrc:null,marginHeight:Rt,marginWidth:Rt,noResize:lr,noHref:lr,noShade:lr,noWrap:lr,object:null,profile:null,prompt:null,rev:null,rightMargin:Rt,rules:null,scheme:null,scrolling:ls,standby:null,summary:null,text:null,topMargin:Rt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Rt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:lr,disableRemotePlayback:lr,prefix:null,property:null,results:Rt,security:null,unselectable:null}}),Pat=$E({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:yTe,properties:{about:ec,accentHeight:Rt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Rt,amplitude:Rt,arabicForm:null,ascent:Rt,attributeName:null,attributeType:null,azimuth:Rt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Rt,by:null,calcMode:null,capHeight:Rt,className:ji,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Rt,diffuseConstant:Rt,direction:null,display:null,dur:null,divisor:Rt,dominantBaseline:null,download:lr,dx:null,dy:null,edgeMode:null,editable:null,elevation:Rt,enableBackground:null,end:null,event:null,exponent:Rt,externalResourcesRequired:null,fill:null,fillOpacity:Rt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Wx,g2:Wx,glyphName:Wx,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Rt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Rt,horizOriginX:Rt,horizOriginY:Rt,id:null,ideographic:Rt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Rt,k:Rt,k1:Rt,k2:Rt,k3:Rt,k4:Rt,kernelMatrix:ec,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Rt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Rt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Rt,overlineThickness:Rt,paintOrder:null,panose1:null,path:null,pathLength:Rt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ji,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Rt,pointsAtY:Rt,pointsAtZ:Rt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ec,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ec,rev:ec,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ec,requiredFeatures:ec,requiredFonts:ec,requiredFormats:ec,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Rt,specularExponent:Rt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Rt,strikethroughThickness:Rt,string:null,stroke:null,strokeDashArray:ec,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Rt,strokeOpacity:Rt,strokeWidth:null,style:null,surfaceScale:Rt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ec,tabIndex:Rt,tableValues:null,target:null,targetX:Rt,targetY:Rt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ec,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Rt,underlineThickness:Rt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Rt,values:null,vAlphabetic:Rt,vMathematical:Rt,vectorEffect:null,vHanging:Rt,vIdeographic:Rt,version:null,vertAdvY:Rt,vertOriginX:Rt,vertOriginY:Rt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Rt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Oat=/^data[-\w.:]+$/i,dce=/-[a-z]/g,Nat=/[A-Z]/g;function QX(e,t){const n=G2(t);let r=t,i=Pd;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Oat.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(dce,$at);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!dce.test(o)){let s=o.replace(Nat,Mat);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=XX}return new i(r,t)}function Mat(e){return"-"+e.toLowerCase()}function $at(e){return e.charAt(1).toUpperCase()}const F$=hTe([gTe,mTe,bTe,wTe,Dat],"html"),Ok=hTe([gTe,mTe,bTe,wTe,Pat],"svg"),fce=/[#.]/g;function Fat(e,t){const n=e||"",r={};let i=0,o,s;for(;i<n.length;){fce.lastIndex=i;const a=fce.exec(n),l=n.slice(i,a?a.index:n.length);l&&(o?o==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:s=l,i+=l.length),a&&(o=a[0],i++)}return{type:"element",tagName:s||t||"div",properties:r,children:[]}}const Lat=new Set(["button","menu","reset","submit"]),oH={}.hasOwnProperty;function xTe(e,t,n){const r=n&&Uat(n);function i(o,s,...a){let l=-1,u;if(o==null){u={type:"root",children:[]};const c=s;a.unshift(c)}else if(u=Fat(o,t),u.tagName=u.tagName.toLowerCase(),r&&oH.call(r,u.tagName)&&(u.tagName=r[u.tagName]),jat(s,u.tagName)){let c;for(c in s)oH.call(s,c)&&Bat(e,u.properties,c,s[c])}else a.unshift(s);for(;++l<a.length;)sH(u.children,a[l]);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function jat(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?Lat.has(e.type.toLowerCase()):!("value"in e)}function Bat(e,t,n,r){const i=QX(e,n);let o=-1,s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=Due(r):i.commaSeparated?s=Tue(r):i.commaOrSpaceSeparated?s=Due(Tue(r).join(" ")):s=hce(i,i.property,r):Array.isArray(r)?s=r.concat():s=i.property==="style"?zat(r):String(r);if(Array.isArray(s)){const a=[];for(;++o<s.length;){const l=hce(i,i.property,s[o]);a[o]=l}s=a}if(i.property==="className"&&Array.isArray(t.className)){const a=s;s=t.className.concat(a)}t[i.property]=s}}function sH(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)sH(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?sH(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function hce(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||G2(n)===G2(t)))return!0}return n}function zat(e){const t=[];let n;for(n in e)oH.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function Uat(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const Vat=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Hat=xTe(F$,"div"),qat=xTe(Ok,"g",Vat),HB=/\r?\n|\r/g;function Wat(e){const t=String(e),n=[];for(HB.lastIndex=0;HB.test(t);)n.push(HB.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(o){let s=-1;if(typeof o=="number"&&o>-1&&o<n[n.length-1]){for(;++s<n.length;)if(n[s]>o)return{line:s+1,column:o-(s>0?n[s-1]:0)+1,offset:o}}}function i(o){const s=o&&o.line,a=o&&o.column;if(typeof s=="number"&&typeof a=="number"&&!Number.isNaN(s)&&!Number.isNaN(a)&&s-1 in n){const l=(n[s-2]||0)+a-1||0;if(l>-1&&l<n[n.length-1])return l}}}const mb={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_Te={}.hasOwnProperty,Gat=Object.prototype;function Yat(e,t){const n=t||{};return JX({file:n.file||void 0,location:!1,schema:n.space==="svg"?Ok:F$,verbose:n.verbose||!1},e)}function JX(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},Y3(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:ETe(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const o=String(e.file),s=Wat(o),a=s.toPoint(0),l=s.toPoint(o.length);n.position={start:a,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},Y3(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},Y3(e,r,n),n}default:return n=Kat(e,t),n}}function ETe(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=JX(e,t[n]);r.push(i)}return r}function Kat(e,t){const n=e.schema;e.schema=t.namespaceURI===mb.svg?Ok:F$;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],l=(a.prefix?a.prefix+":":"")+a.name;_Te.call(Gat,l)||(i[l]=a.value)}const s=(e.schema.space==="svg"?qat:Hat)(t.tagName,i,ETe(e,t.childNodes));if(Y3(e,t,s),s.tagName==="template"){const a=t,l=a.sourceCodeLocation,u=l&&l.startTag&&kx(l.startTag),c=l&&l.endTag&&kx(l.endTag),d=JX(e,a.content);u&&c&&e.file&&(d.position={start:u.end,end:c.start}),s.content=d}return e.schema=n,s}function Y3(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=Xat(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function Xat(e,t,n){const r=kx(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const o={};let s;if(n.attrs)for(s in n.attrs)_Te.call(n.attrs,s)&&(o[QX(e.schema,s).property]=kx(n.attrs[s]));n.startTag;const a=kx(n.startTag),l=n.endTag?kx(n.endTag):void 0,u={opening:a};l&&(u.closing=l),u.properties=o,t.data={position:u}}}return r}function kx(e){const t=pce({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=pce({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function pce(e){return e.line&&e.column?e:void 0}const mce={}.hasOwnProperty;function CTe(e,t){const n=t||{};function r(i,...o){let s=r.invalid;const a=r.handlers;if(i&&mce.call(i,e)){const l=String(i[e]);s=mce.call(a,l)?a[l]:r.unknown}if(s)return s.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const Qat={},Jat={}.hasOwnProperty,STe=CTe("type",{handlers:{root:elt,element:olt,text:rlt,comment:ilt,doctype:nlt}});function Zat(e,t){const r=(t||Qat).space;return STe(e,r==="svg"?Ok:F$)}function elt(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=ZX(e.children,n,t),FE(e,n),n}function tlt(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=ZX(e.children,n,t),FE(e,n),n}function nlt(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return FE(e,t),t}function rlt(e){const t={nodeName:"#text",value:e.value,parentNode:null};return FE(e,t),t}function ilt(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return FE(e,t),t}function olt(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Ok);const i=[];let o;if(e.properties){for(o in e.properties)if(o!=="children"&&Jat.call(e.properties,o)){const l=slt(r,o,e.properties[o]);l&&i.push(l)}}const s=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:mb[s],childNodes:[],parentNode:null};return a.childNodes=ZX(e.children,a,r),FE(e,a),e.tagName==="template"&&e.content&&(a.content=tlt(e.content,r)),a}function slt(e,t,n){const r=QX(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?DSe(n):jSe(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=i.name.indexOf(":");o<0?i.prefix="":(i.name=i.name.slice(o+1),i.prefix=r.attribute.slice(0,o)),i.namespace=mb[r.space]}return i}function ZX(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const o=STe(e[r],n);o.parentNode=t,i.push(o)}return i}function FE(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const alt=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],llt=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),to="";var ge;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(ge=ge||(ge={}));const du={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function TTe(e){return e>=55296&&e<=57343}function ult(e){return e>=56320&&e<=57343}function clt(e,t){return(e-55296)*1024+9216+t}function ATe(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function kTe(e){return e>=64976&&e<=65007||llt.has(e)}var Qe;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Qe=Qe||(Qe={}));const dlt=65536;class flt{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=dlt,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(ult(n))return this.pos++,this._addGap(),clt(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,ge.EOF;return this._err(Qe.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ge.EOF;const r=this.html.charCodeAt(n);return r===ge.CARRIAGE_RETURN?ge.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ge.EOF;let t=this.html.charCodeAt(this.pos);return t===ge.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,ge.LINE_FEED):t===ge.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,TTe(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===ge.LINE_FEED||t===ge.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){ATe(t)?this._err(Qe.controlCharacterInInputStream):kTe(t)&&this._err(Qe.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var yr;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(yr=yr||(yr={}));function RTe(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const o0=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),hlt=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var qB;const plt=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),mlt=(qB=String.fromCodePoint)!==null&&qB!==void 0?qB:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function glt(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=plt.get(e))!==null&&t!==void 0?t:e}var Ks;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Ks||(Ks={}));const ylt=32;var Lh;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Lh||(Lh={}));function aH(e){return e>=Ks.ZERO&&e<=Ks.NINE}function vlt(e){return e>=Ks.UPPER_A&&e<=Ks.UPPER_F||e>=Ks.LOWER_A&&e<=Ks.LOWER_F}function blt(e){return e>=Ks.UPPER_A&&e<=Ks.UPPER_Z||e>=Ks.LOWER_A&&e<=Ks.LOWER_Z||aH(e)}function wlt(e){return e===Ks.EQUALS||blt(e)}var Vs;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Vs||(Vs={}));var rb;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(rb||(rb={}));class xlt{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Vs.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=rb.Strict}startEntity(t){this.decodeMode=t,this.state=Vs.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Vs.EntityStart:return t.charCodeAt(n)===Ks.NUM?(this.state=Vs.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Vs.NamedEntity,this.stateNamedEntity(t,n));case Vs.NumericStart:return this.stateNumericStart(t,n);case Vs.NumericDecimal:return this.stateNumericDecimal(t,n);case Vs.NumericHex:return this.stateNumericHex(t,n);case Vs.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|ylt)===Ks.LOWER_X?(this.state=Vs.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Vs.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const o=r-n;this.result=this.result*Math.pow(i,o)+parseInt(t.substr(n,o),i),this.consumed+=o}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(aH(i)||vlt(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(aH(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Ks.SEMI)this.consumed+=1;else if(this.decodeMode===rb.Strict)return 0;return this.emitCodePoint(glt(this.result),this.consumed),this.errors&&(t!==Ks.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],o=(i&Lh.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const s=t.charCodeAt(n);if(this.treeIndex=DTe(r,i,this.treeIndex+Math.max(1,o),s),this.treeIndex<0)return this.result===0||this.decodeMode===rb.Attribute&&(o===0||wlt(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],o=(i&Lh.VALUE_LENGTH)>>14,o!==0){if(s===Ks.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==rb.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Lh.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Lh.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case Vs.NamedEntity:return this.result!==0&&(this.decodeMode!==rb.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Vs.NumericDecimal:return this.emitNumericEntity(0,2);case Vs.NumericHex:return this.emitNumericEntity(0,3);case Vs.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Vs.EntityStart:return 0}}}function ITe(e){let t="";const n=new xlt(e,r=>t+=mlt(r));return function(i,o){let s=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(s,a),n.startEntity(o);const u=n.write(i,a+1);if(u<0){s=a+n.end();break}s=a+u,a=u===0?s+1:s}const l=t+i.slice(s);return t="",l}}function DTe(e,t,n,r){const i=(t&Lh.BRANCH_LENGTH)>>7,o=t&Lh.JUMP_TABLE;if(i===0)return o!==0&&r===o?n:-1;if(o){const l=r-o;return l<0||l>=i?-1:e[n+l]-1}let s=n,a=s+i-1;for(;s<=a;){const l=s+a>>>1,u=e[l];if(u<r)s=l+1;else if(u>r)a=l-1;else return e[l+i]}return-1}ITe(o0);ITe(hlt);var at;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(at=at||(at={}));var q0;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(q0=q0||(q0={}));var rc;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(rc=rc||(rc={}));var Ye;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Ye=Ye||(Ye={}));var W;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(W=W||(W={}));const _lt=new Map([[Ye.A,W.A],[Ye.ADDRESS,W.ADDRESS],[Ye.ANNOTATION_XML,W.ANNOTATION_XML],[Ye.APPLET,W.APPLET],[Ye.AREA,W.AREA],[Ye.ARTICLE,W.ARTICLE],[Ye.ASIDE,W.ASIDE],[Ye.B,W.B],[Ye.BASE,W.BASE],[Ye.BASEFONT,W.BASEFONT],[Ye.BGSOUND,W.BGSOUND],[Ye.BIG,W.BIG],[Ye.BLOCKQUOTE,W.BLOCKQUOTE],[Ye.BODY,W.BODY],[Ye.BR,W.BR],[Ye.BUTTON,W.BUTTON],[Ye.CAPTION,W.CAPTION],[Ye.CENTER,W.CENTER],[Ye.CODE,W.CODE],[Ye.COL,W.COL],[Ye.COLGROUP,W.COLGROUP],[Ye.DD,W.DD],[Ye.DESC,W.DESC],[Ye.DETAILS,W.DETAILS],[Ye.DIALOG,W.DIALOG],[Ye.DIR,W.DIR],[Ye.DIV,W.DIV],[Ye.DL,W.DL],[Ye.DT,W.DT],[Ye.EM,W.EM],[Ye.EMBED,W.EMBED],[Ye.FIELDSET,W.FIELDSET],[Ye.FIGCAPTION,W.FIGCAPTION],[Ye.FIGURE,W.FIGURE],[Ye.FONT,W.FONT],[Ye.FOOTER,W.FOOTER],[Ye.FOREIGN_OBJECT,W.FOREIGN_OBJECT],[Ye.FORM,W.FORM],[Ye.FRAME,W.FRAME],[Ye.FRAMESET,W.FRAMESET],[Ye.H1,W.H1],[Ye.H2,W.H2],[Ye.H3,W.H3],[Ye.H4,W.H4],[Ye.H5,W.H5],[Ye.H6,W.H6],[Ye.HEAD,W.HEAD],[Ye.HEADER,W.HEADER],[Ye.HGROUP,W.HGROUP],[Ye.HR,W.HR],[Ye.HTML,W.HTML],[Ye.I,W.I],[Ye.IMG,W.IMG],[Ye.IMAGE,W.IMAGE],[Ye.INPUT,W.INPUT],[Ye.IFRAME,W.IFRAME],[Ye.KEYGEN,W.KEYGEN],[Ye.LABEL,W.LABEL],[Ye.LI,W.LI],[Ye.LINK,W.LINK],[Ye.LISTING,W.LISTING],[Ye.MAIN,W.MAIN],[Ye.MALIGNMARK,W.MALIGNMARK],[Ye.MARQUEE,W.MARQUEE],[Ye.MATH,W.MATH],[Ye.MENU,W.MENU],[Ye.META,W.META],[Ye.MGLYPH,W.MGLYPH],[Ye.MI,W.MI],[Ye.MO,W.MO],[Ye.MN,W.MN],[Ye.MS,W.MS],[Ye.MTEXT,W.MTEXT],[Ye.NAV,W.NAV],[Ye.NOBR,W.NOBR],[Ye.NOFRAMES,W.NOFRAMES],[Ye.NOEMBED,W.NOEMBED],[Ye.NOSCRIPT,W.NOSCRIPT],[Ye.OBJECT,W.OBJECT],[Ye.OL,W.OL],[Ye.OPTGROUP,W.OPTGROUP],[Ye.OPTION,W.OPTION],[Ye.P,W.P],[Ye.PARAM,W.PARAM],[Ye.PLAINTEXT,W.PLAINTEXT],[Ye.PRE,W.PRE],[Ye.RB,W.RB],[Ye.RP,W.RP],[Ye.RT,W.RT],[Ye.RTC,W.RTC],[Ye.RUBY,W.RUBY],[Ye.S,W.S],[Ye.SCRIPT,W.SCRIPT],[Ye.SECTION,W.SECTION],[Ye.SELECT,W.SELECT],[Ye.SOURCE,W.SOURCE],[Ye.SMALL,W.SMALL],[Ye.SPAN,W.SPAN],[Ye.STRIKE,W.STRIKE],[Ye.STRONG,W.STRONG],[Ye.STYLE,W.STYLE],[Ye.SUB,W.SUB],[Ye.SUMMARY,W.SUMMARY],[Ye.SUP,W.SUP],[Ye.TABLE,W.TABLE],[Ye.TBODY,W.TBODY],[Ye.TEMPLATE,W.TEMPLATE],[Ye.TEXTAREA,W.TEXTAREA],[Ye.TFOOT,W.TFOOT],[Ye.TD,W.TD],[Ye.TH,W.TH],[Ye.THEAD,W.THEAD],[Ye.TITLE,W.TITLE],[Ye.TR,W.TR],[Ye.TRACK,W.TRACK],[Ye.TT,W.TT],[Ye.U,W.U],[Ye.UL,W.UL],[Ye.SVG,W.SVG],[Ye.VAR,W.VAR],[Ye.WBR,W.WBR],[Ye.XMP,W.XMP]]);function LE(e){var t;return(t=_lt.get(e))!==null&&t!==void 0?t:W.UNKNOWN}const xt=W,Elt={[at.HTML]:new Set([xt.ADDRESS,xt.APPLET,xt.AREA,xt.ARTICLE,xt.ASIDE,xt.BASE,xt.BASEFONT,xt.BGSOUND,xt.BLOCKQUOTE,xt.BODY,xt.BR,xt.BUTTON,xt.CAPTION,xt.CENTER,xt.COL,xt.COLGROUP,xt.DD,xt.DETAILS,xt.DIR,xt.DIV,xt.DL,xt.DT,xt.EMBED,xt.FIELDSET,xt.FIGCAPTION,xt.FIGURE,xt.FOOTER,xt.FORM,xt.FRAME,xt.FRAMESET,xt.H1,xt.H2,xt.H3,xt.H4,xt.H5,xt.H6,xt.HEAD,xt.HEADER,xt.HGROUP,xt.HR,xt.HTML,xt.IFRAME,xt.IMG,xt.INPUT,xt.LI,xt.LINK,xt.LISTING,xt.MAIN,xt.MARQUEE,xt.MENU,xt.META,xt.NAV,xt.NOEMBED,xt.NOFRAMES,xt.NOSCRIPT,xt.OBJECT,xt.OL,xt.P,xt.PARAM,xt.PLAINTEXT,xt.PRE,xt.SCRIPT,xt.SECTION,xt.SELECT,xt.SOURCE,xt.STYLE,xt.SUMMARY,xt.TABLE,xt.TBODY,xt.TD,xt.TEMPLATE,xt.TEXTAREA,xt.TFOOT,xt.TH,xt.THEAD,xt.TITLE,xt.TR,xt.TRACK,xt.UL,xt.WBR,xt.XMP]),[at.MATHML]:new Set([xt.MI,xt.MO,xt.MN,xt.MS,xt.MTEXT,xt.ANNOTATION_XML]),[at.SVG]:new Set([xt.TITLE,xt.FOREIGN_OBJECT,xt.DESC]),[at.XLINK]:new Set,[at.XML]:new Set,[at.XMLNS]:new Set};function PTe(e){return e===xt.H1||e===xt.H2||e===xt.H3||e===xt.H4||e===xt.H5||e===xt.H6}Ye.STYLE,Ye.SCRIPT,Ye.XMP,Ye.IFRAME,Ye.NOEMBED,Ye.NOFRAMES,Ye.PLAINTEXT;const Clt=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var _e;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(_e||(_e={}));const Wo={DATA:_e.DATA,RCDATA:_e.RCDATA,RAWTEXT:_e.RAWTEXT,SCRIPT_DATA:_e.SCRIPT_DATA,PLAINTEXT:_e.PLAINTEXT,CDATA_SECTION:_e.CDATA_SECTION};function JT(e){return e>=ge.DIGIT_0&&e<=ge.DIGIT_9}function sT(e){return e>=ge.LATIN_CAPITAL_A&&e<=ge.LATIN_CAPITAL_Z}function Slt(e){return e>=ge.LATIN_SMALL_A&&e<=ge.LATIN_SMALL_Z}function s0(e){return Slt(e)||sT(e)}function lH(e){return s0(e)||JT(e)}function OTe(e){return e>=ge.LATIN_CAPITAL_A&&e<=ge.LATIN_CAPITAL_F}function NTe(e){return e>=ge.LATIN_SMALL_A&&e<=ge.LATIN_SMALL_F}function Tlt(e){return JT(e)||OTe(e)||NTe(e)}function ED(e){return e+32}function MTe(e){return e===ge.SPACE||e===ge.LINE_FEED||e===ge.TABULATION||e===ge.FORM_FEED}function Alt(e){return e===ge.EQUALS_SIGN||lH(e)}function gce(e){return MTe(e)||e===ge.SOLIDUS||e===ge.GREATER_THAN_SIGN}class klt{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=_e.DATA,this.returnState=_e.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new flt(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:yr.START_TAG,tagName:"",tagID:W.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:yr.END_TAG,tagName:"",tagID:W.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:yr.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:yr.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(RTe(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Qe.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=LE(t.tagName),t.type===yr.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(Qe.endTagWithAttributes),t.selfClosing&&this._err(Qe.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case yr.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case yr.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case yr.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:yr.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=MTe(t)?yr.WHITESPACE_CHARACTER:t===ge.NULL?yr.NULL_CHARACTER:yr.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(yr.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let o=0,s=o0[0];o>=0&&(o=DTe(o0,s,o+1,t),!(o<0));t=this._consume()){r+=1,s=o0[o];const a=s&Lh.VALUE_LENGTH;if(a){const l=(a>>14)-1;if(t!==ge.SEMICOLON&&this._isCharacterReferenceInAttribute()&&Alt(this.preprocessor.peek(1))?(n=[ge.AMPERSAND],o+=l):(n=l===0?[o0[o]&~Lh.VALUE_LENGTH]:l===1?[o0[++o]]:[o0[++o],o0[++o]],r=0,i=t!==ge.SEMICOLON),l===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(Qe.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===_e.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===_e.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===_e.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case _e.DATA:{this._stateData(t);break}case _e.RCDATA:{this._stateRcdata(t);break}case _e.RAWTEXT:{this._stateRawtext(t);break}case _e.SCRIPT_DATA:{this._stateScriptData(t);break}case _e.PLAINTEXT:{this._statePlaintext(t);break}case _e.TAG_OPEN:{this._stateTagOpen(t);break}case _e.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case _e.TAG_NAME:{this._stateTagName(t);break}case _e.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case _e.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case _e.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case _e.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case _e.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case _e.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case _e.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case _e.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case _e.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case _e.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case _e.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case _e.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case _e.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case _e.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case _e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case _e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case _e.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case _e.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case _e.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case _e.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case _e.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case _e.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case _e.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case _e.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case _e.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case _e.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case _e.BOGUS_COMMENT:{this._stateBogusComment(t);break}case _e.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case _e.COMMENT_START:{this._stateCommentStart(t);break}case _e.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case _e.COMMENT:{this._stateComment(t);break}case _e.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case _e.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case _e.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case _e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case _e.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case _e.COMMENT_END:{this._stateCommentEnd(t);break}case _e.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case _e.DOCTYPE:{this._stateDoctype(t);break}case _e.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case _e.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case _e.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case _e.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case _e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case _e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case _e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case _e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case _e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case _e.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case _e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case _e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case _e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case _e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case _e.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case _e.CDATA_SECTION:{this._stateCdataSection(t);break}case _e.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case _e.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case _e.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case _e.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case _e.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case _e.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case _e.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case _e.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case _e.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case _e.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case ge.LESS_THAN_SIGN:{this.state=_e.TAG_OPEN;break}case ge.AMPERSAND:{this.returnState=_e.DATA,this.state=_e.CHARACTER_REFERENCE;break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),this._emitCodePoint(t);break}case ge.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case ge.AMPERSAND:{this.returnState=_e.RCDATA,this.state=_e.CHARACTER_REFERENCE;break}case ge.LESS_THAN_SIGN:{this.state=_e.RCDATA_LESS_THAN_SIGN;break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),this._emitChars(to);break}case ge.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case ge.LESS_THAN_SIGN:{this.state=_e.RAWTEXT_LESS_THAN_SIGN;break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),this._emitChars(to);break}case ge.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case ge.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_LESS_THAN_SIGN;break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),this._emitChars(to);break}case ge.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case ge.NULL:{this._err(Qe.unexpectedNullCharacter),this._emitChars(to);break}case ge.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(s0(t))this._createStartTagToken(),this.state=_e.TAG_NAME,this._stateTagName(t);else switch(t){case ge.EXCLAMATION_MARK:{this.state=_e.MARKUP_DECLARATION_OPEN;break}case ge.SOLIDUS:{this.state=_e.END_TAG_OPEN;break}case ge.QUESTION_MARK:{this._err(Qe.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=_e.BOGUS_COMMENT,this._stateBogusComment(t);break}case ge.EOF:{this._err(Qe.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Qe.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=_e.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(s0(t))this._createEndTagToken(),this.state=_e.TAG_NAME,this._stateTagName(t);else switch(t){case ge.GREATER_THAN_SIGN:{this._err(Qe.missingEndTagName),this.state=_e.DATA;break}case ge.EOF:{this._err(Qe.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Qe.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=_e.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:{this.state=_e.BEFORE_ATTRIBUTE_NAME;break}case ge.SOLIDUS:{this.state=_e.SELF_CLOSING_START_TAG;break}case ge.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentTagToken();break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),n.tagName+=to;break}case ge.EOF:{this._err(Qe.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(sT(t)?ED(t):t)}}_stateRcdataLessThanSign(t){t===ge.SOLIDUS?this.state=_e.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=_e.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){s0(t)?(this.state=_e.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=_e.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=_e.BEFORE_ATTRIBUTE_NAME,!1;case ge.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=_e.SELF_CLOSING_START_TAG,!1;case ge.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=_e.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=_e.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===ge.SOLIDUS?this.state=_e.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=_e.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){s0(t)?(this.state=_e.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=_e.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=_e.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case ge.SOLIDUS:{this.state=_e.SCRIPT_DATA_END_TAG_OPEN;break}case ge.EXCLAMATION_MARK:{this.state=_e.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=_e.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){s0(t)?(this.state=_e.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=_e.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=_e.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===ge.HYPHEN_MINUS?(this.state=_e.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=_e.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===ge.HYPHEN_MINUS?(this.state=_e.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=_e.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case ge.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case ge.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),this._emitChars(to);break}case ge.EOF:{this._err(Qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case ge.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case ge.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_ESCAPED,this._emitChars(to);break}case ge.EOF:{this._err(Qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case ge.HYPHEN_MINUS:{this._emitChars("-");break}case ge.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ge.GREATER_THAN_SIGN:{this.state=_e.SCRIPT_DATA,this._emitChars(">");break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_ESCAPED,this._emitChars(to);break}case ge.EOF:{this._err(Qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===ge.SOLIDUS?this.state=_e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:s0(t)?(this._emitChars("<"),this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){s0(t)?(this.state=_e.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(du.SCRIPT,!1)&&gce(this.preprocessor.peek(du.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<du.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case ge.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case ge.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),this._emitChars(to);break}case ge.EOF:{this._err(Qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case ge.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case ge.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(to);break}case ge.EOF:{this._err(Qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case ge.HYPHEN_MINUS:{this._emitChars("-");break}case ge.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ge.GREATER_THAN_SIGN:{this.state=_e.SCRIPT_DATA,this._emitChars(">");break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(to);break}case ge.EOF:{this._err(Qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===ge.SOLIDUS?(this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(du.SCRIPT,!1)&&gce(this.preprocessor.peek(du.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<du.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=_e.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:break;case ge.SOLIDUS:case ge.GREATER_THAN_SIGN:case ge.EOF:{this.state=_e.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ge.EQUALS_SIGN:{this._err(Qe.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=_e.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=_e.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:case ge.SOLIDUS:case ge.GREATER_THAN_SIGN:case ge.EOF:{this._leaveAttrName(),this.state=_e.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ge.EQUALS_SIGN:{this._leaveAttrName(),this.state=_e.BEFORE_ATTRIBUTE_VALUE;break}case ge.QUOTATION_MARK:case ge.APOSTROPHE:case ge.LESS_THAN_SIGN:{this._err(Qe.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),this.currentAttr.name+=to;break}default:this.currentAttr.name+=String.fromCodePoint(sT(t)?ED(t):t)}}_stateAfterAttributeName(t){switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:break;case ge.SOLIDUS:{this.state=_e.SELF_CLOSING_START_TAG;break}case ge.EQUALS_SIGN:{this.state=_e.BEFORE_ATTRIBUTE_VALUE;break}case ge.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentTagToken();break}case ge.EOF:{this._err(Qe.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=_e.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:break;case ge.QUOTATION_MARK:{this.state=_e.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case ge.APOSTROPHE:{this.state=_e.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case ge.GREATER_THAN_SIGN:{this._err(Qe.missingAttributeValue),this.state=_e.DATA,this.emitCurrentTagToken();break}default:this.state=_e.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case ge.QUOTATION_MARK:{this.state=_e.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ge.AMPERSAND:{this.returnState=_e.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=_e.CHARACTER_REFERENCE;break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),this.currentAttr.value+=to;break}case ge.EOF:{this._err(Qe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case ge.APOSTROPHE:{this.state=_e.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ge.AMPERSAND:{this.returnState=_e.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=_e.CHARACTER_REFERENCE;break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),this.currentAttr.value+=to;break}case ge.EOF:{this._err(Qe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:{this._leaveAttrValue(),this.state=_e.BEFORE_ATTRIBUTE_NAME;break}case ge.AMPERSAND:{this.returnState=_e.ATTRIBUTE_VALUE_UNQUOTED,this.state=_e.CHARACTER_REFERENCE;break}case ge.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=_e.DATA,this.emitCurrentTagToken();break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),this.currentAttr.value+=to;break}case ge.QUOTATION_MARK:case ge.APOSTROPHE:case ge.LESS_THAN_SIGN:case ge.EQUALS_SIGN:case ge.GRAVE_ACCENT:{this._err(Qe.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case ge.EOF:{this._err(Qe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:{this._leaveAttrValue(),this.state=_e.BEFORE_ATTRIBUTE_NAME;break}case ge.SOLIDUS:{this._leaveAttrValue(),this.state=_e.SELF_CLOSING_START_TAG;break}case ge.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=_e.DATA,this.emitCurrentTagToken();break}case ge.EOF:{this._err(Qe.eofInTag),this._emitEOFToken();break}default:this._err(Qe.missingWhitespaceBetweenAttributes),this.state=_e.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case ge.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=_e.DATA,this.emitCurrentTagToken();break}case ge.EOF:{this._err(Qe.eofInTag),this._emitEOFToken();break}default:this._err(Qe.unexpectedSolidusInTag),this.state=_e.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case ge.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentComment(n);break}case ge.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),n.data+=to;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(du.DASH_DASH,!0)?(this._createCommentToken(du.DASH_DASH.length+1),this.state=_e.COMMENT_START):this._consumeSequenceIfMatch(du.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(du.DOCTYPE.length+1),this.state=_e.DOCTYPE):this._consumeSequenceIfMatch(du.CDATA_START,!0)?this.inForeignNode?this.state=_e.CDATA_SECTION:(this._err(Qe.cdataInHtmlContent),this._createCommentToken(du.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=_e.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Qe.incorrectlyOpenedComment),this._createCommentToken(2),this.state=_e.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case ge.HYPHEN_MINUS:{this.state=_e.COMMENT_START_DASH;break}case ge.GREATER_THAN_SIGN:{this._err(Qe.abruptClosingOfEmptyComment),this.state=_e.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=_e.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case ge.HYPHEN_MINUS:{this.state=_e.COMMENT_END;break}case ge.GREATER_THAN_SIGN:{this._err(Qe.abruptClosingOfEmptyComment),this.state=_e.DATA,this.emitCurrentComment(n);break}case ge.EOF:{this._err(Qe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=_e.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case ge.HYPHEN_MINUS:{this.state=_e.COMMENT_END_DASH;break}case ge.LESS_THAN_SIGN:{n.data+="<",this.state=_e.COMMENT_LESS_THAN_SIGN;break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),n.data+=to;break}case ge.EOF:{this._err(Qe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case ge.EXCLAMATION_MARK:{n.data+="!",this.state=_e.COMMENT_LESS_THAN_SIGN_BANG;break}case ge.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=_e.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===ge.HYPHEN_MINUS?this.state=_e.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=_e.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===ge.HYPHEN_MINUS?this.state=_e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=_e.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==ge.GREATER_THAN_SIGN&&t!==ge.EOF&&this._err(Qe.nestedComment),this.state=_e.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case ge.HYPHEN_MINUS:{this.state=_e.COMMENT_END;break}case ge.EOF:{this._err(Qe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=_e.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case ge.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentComment(n);break}case ge.EXCLAMATION_MARK:{this.state=_e.COMMENT_END_BANG;break}case ge.HYPHEN_MINUS:{n.data+="-";break}case ge.EOF:{this._err(Qe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=_e.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case ge.HYPHEN_MINUS:{n.data+="--!",this.state=_e.COMMENT_END_DASH;break}case ge.GREATER_THAN_SIGN:{this._err(Qe.incorrectlyClosedComment),this.state=_e.DATA,this.emitCurrentComment(n);break}case ge.EOF:{this._err(Qe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=_e.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:{this.state=_e.BEFORE_DOCTYPE_NAME;break}case ge.GREATER_THAN_SIGN:{this.state=_e.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case ge.EOF:{this._err(Qe.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Qe.missingWhitespaceBeforeDoctypeName),this.state=_e.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(sT(t))this._createDoctypeToken(String.fromCharCode(ED(t))),this.state=_e.DOCTYPE_NAME;else switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:break;case ge.NULL:{this._err(Qe.unexpectedNullCharacter),this._createDoctypeToken(to),this.state=_e.DOCTYPE_NAME;break}case ge.GREATER_THAN_SIGN:{this._err(Qe.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ge.EOF:{this._err(Qe.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=_e.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:{this.state=_e.AFTER_DOCTYPE_NAME;break}case ge.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),n.name+=to;break}case ge.EOF:{this._err(Qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(sT(t)?ED(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:break;case ge.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ge.EOF:{this._err(Qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(du.PUBLIC,!1)?this.state=_e.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(du.SYSTEM,!1)?this.state=_e.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Qe.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:{this.state=_e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case ge.QUOTATION_MARK:{this._err(Qe.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ge.APOSTROPHE:{this._err(Qe.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ge.GREATER_THAN_SIGN:{this._err(Qe.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ge.EOF:{this._err(Qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Qe.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:break;case ge.QUOTATION_MARK:{n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ge.APOSTROPHE:{n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ge.GREATER_THAN_SIGN:{this._err(Qe.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ge.EOF:{this._err(Qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Qe.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ge.QUOTATION_MARK:{this.state=_e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),n.publicId+=to;break}case ge.GREATER_THAN_SIGN:{this._err(Qe.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ge.EOF:{this._err(Qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ge.APOSTROPHE:{this.state=_e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),n.publicId+=to;break}case ge.GREATER_THAN_SIGN:{this._err(Qe.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ge.EOF:{this._err(Qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:{this.state=_e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case ge.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ge.QUOTATION_MARK:{this._err(Qe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ge.APOSTROPHE:{this._err(Qe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ge.EOF:{this._err(Qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Qe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:break;case ge.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ge.QUOTATION_MARK:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ge.APOSTROPHE:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ge.EOF:{this._err(Qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Qe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:{this.state=_e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case ge.QUOTATION_MARK:{this._err(Qe.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ge.APOSTROPHE:{this._err(Qe.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ge.GREATER_THAN_SIGN:{this._err(Qe.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ge.EOF:{this._err(Qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Qe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:break;case ge.QUOTATION_MARK:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ge.APOSTROPHE:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ge.GREATER_THAN_SIGN:{this._err(Qe.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ge.EOF:{this._err(Qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Qe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ge.QUOTATION_MARK:{this.state=_e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),n.systemId+=to;break}case ge.GREATER_THAN_SIGN:{this._err(Qe.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ge.EOF:{this._err(Qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ge.APOSTROPHE:{this.state=_e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter),n.systemId+=to;break}case ge.GREATER_THAN_SIGN:{this._err(Qe.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ge.EOF:{this._err(Qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ge.SPACE:case ge.LINE_FEED:case ge.TABULATION:case ge.FORM_FEED:break;case ge.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ge.EOF:{this._err(Qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Qe.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case ge.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ge.NULL:{this._err(Qe.unexpectedNullCharacter);break}case ge.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case ge.RIGHT_SQUARE_BRACKET:{this.state=_e.CDATA_SECTION_BRACKET;break}case ge.EOF:{this._err(Qe.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===ge.RIGHT_SQUARE_BRACKET?this.state=_e.CDATA_SECTION_END:(this._emitChars("]"),this.state=_e.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case ge.GREATER_THAN_SIGN:{this.state=_e.DATA;break}case ge.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=_e.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===ge.NUMBER_SIGN?this.state=_e.NUMERIC_CHARACTER_REFERENCE:lH(t)?(this.state=_e.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(ge.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(ge.AMPERSAND),this.state=_e.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){lH(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===ge.SEMICOLON&&this._err(Qe.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===ge.LATIN_SMALL_X||t===ge.LATIN_CAPITAL_X?this.state=_e.HEXADEMICAL_CHARACTER_REFERENCE_START:JT(t)?(this.state=_e.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(Qe.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(ge.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(ge.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){Tlt(t)?(this.state=_e.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(Qe.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(ge.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(ge.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){OTe(t)?this.charRefCode=this.charRefCode*16+t-55:NTe(t)?this.charRefCode=this.charRefCode*16+t-87:JT(t)?this.charRefCode=this.charRefCode*16+t-48:t===ge.SEMICOLON?this.state=_e.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Qe.missingSemicolonAfterCharacterReference),this.state=_e.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){JT(t)?this.charRefCode=this.charRefCode*10+t-48:t===ge.SEMICOLON?this.state=_e.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Qe.missingSemicolonAfterCharacterReference),this.state=_e.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===ge.NULL)this._err(Qe.nullCharacterReference),this.charRefCode=ge.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(Qe.characterReferenceOutsideUnicodeRange),this.charRefCode=ge.REPLACEMENT_CHARACTER;else if(TTe(this.charRefCode))this._err(Qe.surrogateCharacterReference),this.charRefCode=ge.REPLACEMENT_CHARACTER;else if(kTe(this.charRefCode))this._err(Qe.noncharacterCharacterReference);else if(ATe(this.charRefCode)||this.charRefCode===ge.CARRIAGE_RETURN){this._err(Qe.controlCharacterReference);const n=Clt.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const $Te=new Set([W.DD,W.DT,W.LI,W.OPTGROUP,W.OPTION,W.P,W.RB,W.RP,W.RT,W.RTC]),yce=new Set([...$Te,W.CAPTION,W.COLGROUP,W.TBODY,W.TD,W.TFOOT,W.TH,W.THEAD,W.TR]),CD=new Map([[W.APPLET,at.HTML],[W.CAPTION,at.HTML],[W.HTML,at.HTML],[W.MARQUEE,at.HTML],[W.OBJECT,at.HTML],[W.TABLE,at.HTML],[W.TD,at.HTML],[W.TEMPLATE,at.HTML],[W.TH,at.HTML],[W.ANNOTATION_XML,at.MATHML],[W.MI,at.MATHML],[W.MN,at.MATHML],[W.MO,at.MATHML],[W.MS,at.MATHML],[W.MTEXT,at.MATHML],[W.DESC,at.SVG],[W.FOREIGN_OBJECT,at.SVG],[W.TITLE,at.SVG]]),Rlt=[W.H1,W.H2,W.H3,W.H4,W.H5,W.H6],Ilt=[W.TR,W.TEMPLATE,W.HTML],Dlt=[W.TBODY,W.TFOOT,W.THEAD,W.TEMPLATE,W.HTML],Plt=[W.TABLE,W.TEMPLATE,W.HTML],Olt=[W.TD,W.TH];class Nlt{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=W.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===W.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===at.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==at.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(Rlt,at.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Olt,at.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(Plt,at.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Dlt,at.HTML)}clearBackToTableRowContext(){this.clearBackTo(Ilt,at.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===W.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===W.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===at.HTML)return!0;if(CD.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(PTe(n)&&r===at.HTML)return!0;if(CD.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===at.HTML)return!0;if((r===W.UL||r===W.OL)&&i===at.HTML||CD.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===at.HTML)return!0;if(r===W.BUTTON&&i===at.HTML||CD.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===at.HTML){if(r===t)return!0;if(r===W.TABLE||r===W.TEMPLATE||r===W.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===at.HTML){if(n===W.TBODY||n===W.THEAD||n===W.TFOOT)return!0;if(n===W.TABLE||n===W.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===at.HTML){if(r===t)return!0;if(r!==W.OPTION&&r!==W.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;$Te.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;yce.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&yce.has(this.currentTagId);)this.pop()}}const WB=3;var nf;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(nf=nf||(nf={}));const vce={type:nf.Marker};class Mlt{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,o=this.treeAdapter.getTagName(t),s=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const l=this.entries[a];if(l.type===nf.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===o&&this.treeAdapter.getNamespaceURI(u)===s){const c=this.treeAdapter.getAttrList(u);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<WB)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<WB)return;const i=new Map(n.map(s=>[s.name,s.value]));let o=0;for(let s=0;s<r.length;s++){const a=r[s];a.attrs.every(l=>i.get(l.name)===l.value)&&(o+=1,o>=WB&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(vce)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:nf.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:nf.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(vce);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===nf.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===nf.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===nf.Element&&n.element===t)}}function bce(e){return{nodeName:"#text",value:e,parentNode:null}}const bx={createDocument(){return{nodeName:"#document",mode:rc.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(o=>o.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const o={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};bx.appendChild(e,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(bx.isTextNode(n)){n.value+=t;return}}bx.appendChild(e,bce(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&bx.isTextNode(r)?r.value+=t:bx.insertBefore(e,bce(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},FTe="html",$lt="about:legacy-compat",Flt="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",LTe=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Llt=[...LTe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],jlt=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),jTe=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Blt=[...jTe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function wce(e,t){return t.some(n=>e.startsWith(n))}function zlt(e){return e.name===FTe&&e.publicId===null&&(e.systemId===null||e.systemId===$lt)}function Ult(e){if(e.name!==FTe)return rc.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Flt)return rc.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),jlt.has(n))return rc.QUIRKS;let r=t===null?Llt:LTe;if(wce(n,r))return rc.QUIRKS;if(r=t===null?jTe:Blt,wce(n,r))return rc.LIMITED_QUIRKS}return rc.NO_QUIRKS}const xce={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Vlt="definitionurl",Hlt="definitionURL",qlt=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Wlt=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:at.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:at.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:at.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:at.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:at.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:at.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:at.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:at.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:at.XML}],["xml:space",{prefix:"xml",name:"space",namespace:at.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:at.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:at.XMLNS}]]),Glt=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Ylt=new Set([W.B,W.BIG,W.BLOCKQUOTE,W.BODY,W.BR,W.CENTER,W.CODE,W.DD,W.DIV,W.DL,W.DT,W.EM,W.EMBED,W.H1,W.H2,W.H3,W.H4,W.H5,W.H6,W.HEAD,W.HR,W.I,W.IMG,W.LI,W.LISTING,W.MENU,W.META,W.NOBR,W.OL,W.P,W.PRE,W.RUBY,W.S,W.SMALL,W.SPAN,W.STRONG,W.STRIKE,W.SUB,W.SUP,W.TABLE,W.TT,W.U,W.UL,W.VAR]);function Klt(e){const t=e.tagID;return t===W.FONT&&e.attrs.some(({name:r})=>r===q0.COLOR||r===q0.SIZE||r===q0.FACE)||Ylt.has(t)}function BTe(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Vlt){e.attrs[t].name=Hlt;break}}function zTe(e){for(let t=0;t<e.attrs.length;t++){const n=qlt.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function eQ(e){for(let t=0;t<e.attrs.length;t++){const n=Wlt.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function Xlt(e){const t=Glt.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=LE(e.tagName))}function Qlt(e,t){return t===at.MATHML&&(e===W.MI||e===W.MO||e===W.MN||e===W.MS||e===W.MTEXT)}function Jlt(e,t,n){if(t===at.MATHML&&e===W.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===q0.ENCODING){const i=n[r].value.toLowerCase();return i===xce.TEXT_HTML||i===xce.APPLICATION_XML}}return t===at.SVG&&(e===W.FOREIGN_OBJECT||e===W.DESC||e===W.TITLE)}function Zlt(e,t,n,r){return(!r||r===at.HTML)&&Jlt(e,t,n)||(!r||r===at.MATHML)&&Qlt(e,t)}const eut="hidden",tut=8,nut=3;var De;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(De||(De={}));const rut={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},UTe=new Set([W.TABLE,W.TBODY,W.TFOOT,W.THEAD,W.TR]),_ce={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:bx,onParseError:null};let Ece=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=De.INITIAL,this.originalInsertionMode=De.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={..._ce,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new klt(this.options,this),this.activeFormattingElements=new Mlt(this.treeAdapter),this.fragmentContextID=r?LE(this.treeAdapter.getTagName(r)):W.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new Nlt(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={..._ce,...n};t??(t=r.treeAdapter.createElement(Ye.TEMPLATE,at.HTML,[]));const i=r.treeAdapter.createElement("documentmock",at.HTML,[]),o=new this(r,i,t);return o.fragmentContextID===W.TEMPLATE&&o.tmplInsertionModeStack.unshift(De.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const o=(i=t.location)!==null&&i!==void 0?i:rut,s={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(s)}onItemPush(t,n,r){var i,o;(o=(i=this.treeAdapter).onItemPush)===null||o===void 0||o.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let o,s;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,s=this.fragmentContextID):{current:o,currentTagId:s}=this.openElements,this._setContextModes(o,s)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===at.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,at.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=De.TEXT}switchToPlaintextParsing(){this.insertionMode=De.TEXT,this.originalInsertionMode=De.IN_BODY,this.tokenizer.state=Wo.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Ye.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==at.HTML))switch(this.fragmentContextID){case W.TITLE:case W.TEXTAREA:{this.tokenizer.state=Wo.RCDATA;break}case W.STYLE:case W.XMP:case W.IFRAME:case W.NOEMBED:case W.NOFRAMES:case W.NOSCRIPT:{this.tokenizer.state=Wo.RAWTEXT;break}case W.SCRIPT:{this.tokenizer.state=Wo.SCRIPT_DATA;break}case W.PLAINTEXT:{this.tokenizer.state=Wo.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const s=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));s&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,at.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,at.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Ye.HTML,at.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,W.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),o=r?i.lastIndexOf(r):i.length,s=i[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:l,endCol:u,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:l,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),o=n.type===yr.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===W.SVG&&this.treeAdapter.getTagName(n)===Ye.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===at.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===W.MGLYPH||t.tagID===W.MALIGNMARK)&&!this._isIntegrationPoint(r,n,at.HTML)}_processToken(t){switch(t.type){case yr.CHARACTER:{this.onCharacter(t);break}case yr.NULL_CHARACTER:{this.onNullCharacter(t);break}case yr.COMMENT:{this.onComment(t);break}case yr.DOCTYPE:{this.onDoctype(t);break}case yr.START_TAG:{this._processStartTag(t);break}case yr.END_TAG:{this.onEndTag(t);break}case yr.EOF:{this.onEof(t);break}case yr.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return Zlt(t,i,o,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===nf.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const o=this.activeFormattingElements.entries[i];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=De.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(W.P),this.openElements.popUntilTagNamePopped(W.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case W.TR:{this.insertionMode=De.IN_ROW;return}case W.TBODY:case W.THEAD:case W.TFOOT:{this.insertionMode=De.IN_TABLE_BODY;return}case W.CAPTION:{this.insertionMode=De.IN_CAPTION;return}case W.COLGROUP:{this.insertionMode=De.IN_COLUMN_GROUP;return}case W.TABLE:{this.insertionMode=De.IN_TABLE;return}case W.BODY:{this.insertionMode=De.IN_BODY;return}case W.FRAMESET:{this.insertionMode=De.IN_FRAMESET;return}case W.SELECT:{this._resetInsertionModeForSelect(t);return}case W.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case W.HTML:{this.insertionMode=this.headElement?De.AFTER_HEAD:De.BEFORE_HEAD;return}case W.TD:case W.TH:{if(t>0){this.insertionMode=De.IN_CELL;return}break}case W.HEAD:{if(t>0){this.insertionMode=De.IN_HEAD;return}break}}this.insertionMode=De.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===W.TEMPLATE)break;if(r===W.TABLE){this.insertionMode=De.IN_SELECT_IN_TABLE;return}}this.insertionMode=De.IN_SELECT}_isElementCausesFosterParenting(t){return UTe.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case W.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===at.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case W.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return Elt[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Oct(this,t);return}switch(this.insertionMode){case De.INITIAL:{hS(this,t);break}case De.BEFORE_HTML:{ZT(this,t);break}case De.BEFORE_HEAD:{e2(this,t);break}case De.IN_HEAD:{t2(this,t);break}case De.IN_HEAD_NO_SCRIPT:{n2(this,t);break}case De.AFTER_HEAD:{r2(this,t);break}case De.IN_BODY:case De.IN_CAPTION:case De.IN_CELL:case De.IN_TEMPLATE:{HTe(this,t);break}case De.TEXT:case De.IN_SELECT:case De.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case De.IN_TABLE:case De.IN_TABLE_BODY:case De.IN_ROW:{GB(this,t);break}case De.IN_TABLE_TEXT:{XTe(this,t);break}case De.IN_COLUMN_GROUP:{n4(this,t);break}case De.AFTER_BODY:{r4(this,t);break}case De.AFTER_AFTER_BODY:{K3(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Pct(this,t);return}switch(this.insertionMode){case De.INITIAL:{hS(this,t);break}case De.BEFORE_HTML:{ZT(this,t);break}case De.BEFORE_HEAD:{e2(this,t);break}case De.IN_HEAD:{t2(this,t);break}case De.IN_HEAD_NO_SCRIPT:{n2(this,t);break}case De.AFTER_HEAD:{r2(this,t);break}case De.TEXT:{this._insertCharacters(t);break}case De.IN_TABLE:case De.IN_TABLE_BODY:case De.IN_ROW:{GB(this,t);break}case De.IN_COLUMN_GROUP:{n4(this,t);break}case De.AFTER_BODY:{r4(this,t);break}case De.AFTER_AFTER_BODY:{K3(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){uH(this,t);return}switch(this.insertionMode){case De.INITIAL:case De.BEFORE_HTML:case De.BEFORE_HEAD:case De.IN_HEAD:case De.IN_HEAD_NO_SCRIPT:case De.AFTER_HEAD:case De.IN_BODY:case De.IN_TABLE:case De.IN_CAPTION:case De.IN_COLUMN_GROUP:case De.IN_TABLE_BODY:case De.IN_ROW:case De.IN_CELL:case De.IN_SELECT:case De.IN_SELECT_IN_TABLE:case De.IN_TEMPLATE:case De.IN_FRAMESET:case De.AFTER_FRAMESET:{uH(this,t);break}case De.IN_TABLE_TEXT:{pS(this,t);break}case De.AFTER_BODY:{cut(this,t);break}case De.AFTER_AFTER_BODY:case De.AFTER_AFTER_FRAMESET:{dut(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case De.INITIAL:{fut(this,t);break}case De.BEFORE_HEAD:case De.IN_HEAD:case De.IN_HEAD_NO_SCRIPT:case De.AFTER_HEAD:{this._err(t,Qe.misplacedDoctype);break}case De.IN_TABLE_TEXT:{pS(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,Qe.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?Nct(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case De.INITIAL:{hS(this,t);break}case De.BEFORE_HTML:{hut(this,t);break}case De.BEFORE_HEAD:{mut(this,t);break}case De.IN_HEAD:{Hf(this,t);break}case De.IN_HEAD_NO_SCRIPT:{vut(this,t);break}case De.AFTER_HEAD:{wut(this,t);break}case De.IN_BODY:{gl(this,t);break}case De.IN_TABLE:{A_(this,t);break}case De.IN_TABLE_TEXT:{pS(this,t);break}case De.IN_CAPTION:{gct(this,t);break}case De.IN_COLUMN_GROUP:{rQ(this,t);break}case De.IN_TABLE_BODY:{B$(this,t);break}case De.IN_ROW:{z$(this,t);break}case De.IN_CELL:{bct(this,t);break}case De.IN_SELECT:{ZTe(this,t);break}case De.IN_SELECT_IN_TABLE:{xct(this,t);break}case De.IN_TEMPLATE:{Ect(this,t);break}case De.AFTER_BODY:{Sct(this,t);break}case De.IN_FRAMESET:{Tct(this,t);break}case De.AFTER_FRAMESET:{kct(this,t);break}case De.AFTER_AFTER_BODY:{Ict(this,t);break}case De.AFTER_AFTER_FRAMESET:{Dct(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?Mct(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case De.INITIAL:{hS(this,t);break}case De.BEFORE_HTML:{put(this,t);break}case De.BEFORE_HEAD:{gut(this,t);break}case De.IN_HEAD:{yut(this,t);break}case De.IN_HEAD_NO_SCRIPT:{but(this,t);break}case De.AFTER_HEAD:{xut(this,t);break}case De.IN_BODY:{j$(this,t);break}case De.TEXT:{sct(this,t);break}case De.IN_TABLE:{Y2(this,t);break}case De.IN_TABLE_TEXT:{pS(this,t);break}case De.IN_CAPTION:{yct(this,t);break}case De.IN_COLUMN_GROUP:{vct(this,t);break}case De.IN_TABLE_BODY:{cH(this,t);break}case De.IN_ROW:{JTe(this,t);break}case De.IN_CELL:{wct(this,t);break}case De.IN_SELECT:{e2e(this,t);break}case De.IN_SELECT_IN_TABLE:{_ct(this,t);break}case De.IN_TEMPLATE:{Cct(this,t);break}case De.AFTER_BODY:{n2e(this,t);break}case De.IN_FRAMESET:{Act(this,t);break}case De.AFTER_FRAMESET:{Rct(this,t);break}case De.AFTER_AFTER_BODY:{K3(this,t);break}}}onEof(t){switch(this.insertionMode){case De.INITIAL:{hS(this,t);break}case De.BEFORE_HTML:{ZT(this,t);break}case De.BEFORE_HEAD:{e2(this,t);break}case De.IN_HEAD:{t2(this,t);break}case De.IN_HEAD_NO_SCRIPT:{n2(this,t);break}case De.AFTER_HEAD:{r2(this,t);break}case De.IN_BODY:case De.IN_TABLE:case De.IN_CAPTION:case De.IN_COLUMN_GROUP:case De.IN_TABLE_BODY:case De.IN_ROW:case De.IN_CELL:case De.IN_SELECT:case De.IN_SELECT_IN_TABLE:{YTe(this,t);break}case De.TEXT:{act(this,t);break}case De.IN_TABLE_TEXT:{pS(this,t);break}case De.IN_TEMPLATE:{t2e(this,t);break}case De.AFTER_BODY:case De.IN_FRAMESET:case De.AFTER_FRAMESET:case De.AFTER_AFTER_BODY:case De.AFTER_AFTER_FRAMESET:{nQ(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===ge.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case De.IN_HEAD:case De.IN_HEAD_NO_SCRIPT:case De.AFTER_HEAD:case De.TEXT:case De.IN_COLUMN_GROUP:case De.IN_SELECT:case De.IN_SELECT_IN_TABLE:case De.IN_FRAMESET:case De.AFTER_FRAMESET:{this._insertCharacters(t);break}case De.IN_BODY:case De.IN_CAPTION:case De.IN_CELL:case De.IN_TEMPLATE:case De.AFTER_BODY:case De.AFTER_AFTER_BODY:case De.AFTER_AFTER_FRAMESET:{VTe(this,t);break}case De.IN_TABLE:case De.IN_TABLE_BODY:case De.IN_ROW:{GB(this,t);break}case De.IN_TABLE_TEXT:{KTe(this,t);break}}}};function iut(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):GTe(e,t),n}function out(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function sut(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let o=0,s=i;s!==n;o++,s=i){i=e.openElements.getCommonAncestor(s);const a=e.activeFormattingElements.getElementEntry(s),l=a&&o>=nut;!a||l?(l&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(s)):(s=aut(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(s,r),r=s)}return r}function aut(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function lut(e,t,n){const r=e.treeAdapter.getTagName(t),i=LE(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const o=e.treeAdapter.getNamespaceURI(t);i===W.TEMPLATE&&o===at.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function uut(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,o=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,i.tagID)}function tQ(e,t){for(let n=0;n<tut;n++){const r=iut(e,t);if(!r)break;const i=out(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const o=sut(e,i,r.element),s=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(o),s&&lut(e,s,o),uut(e,i,r)}}function uH(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function cut(e,t){e._appendCommentNode(t,e.openElements.items[0])}function dut(e,t){e._appendCommentNode(t,e.document)}function nQ(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const o=e.openElements.items[1],s=e.treeAdapter.getNodeSourceCodeLocation(o);s&&!s.endTag&&e._setEndLocation(o,t)}}}}function fut(e,t){e._setDocumentType(t);const n=t.forceQuirks?rc.QUIRKS:Ult(t);zlt(t)||e._err(t,Qe.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=De.BEFORE_HTML}function hS(e,t){e._err(t,Qe.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,rc.QUIRKS),e.insertionMode=De.BEFORE_HTML,e._processToken(t)}function hut(e,t){t.tagID===W.HTML?(e._insertElement(t,at.HTML),e.insertionMode=De.BEFORE_HEAD):ZT(e,t)}function put(e,t){const n=t.tagID;(n===W.HTML||n===W.HEAD||n===W.BODY||n===W.BR)&&ZT(e,t)}function ZT(e,t){e._insertFakeRootElement(),e.insertionMode=De.BEFORE_HEAD,e._processToken(t)}function mut(e,t){switch(t.tagID){case W.HTML:{gl(e,t);break}case W.HEAD:{e._insertElement(t,at.HTML),e.headElement=e.openElements.current,e.insertionMode=De.IN_HEAD;break}default:e2(e,t)}}function gut(e,t){const n=t.tagID;n===W.HEAD||n===W.BODY||n===W.HTML||n===W.BR?e2(e,t):e._err(t,Qe.endTagWithoutMatchingOpenElement)}function e2(e,t){e._insertFakeElement(Ye.HEAD,W.HEAD),e.headElement=e.openElements.current,e.insertionMode=De.IN_HEAD,e._processToken(t)}function Hf(e,t){switch(t.tagID){case W.HTML:{gl(e,t);break}case W.BASE:case W.BASEFONT:case W.BGSOUND:case W.LINK:case W.META:{e._appendElement(t,at.HTML),t.ackSelfClosing=!0;break}case W.TITLE:{e._switchToTextParsing(t,Wo.RCDATA);break}case W.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Wo.RAWTEXT):(e._insertElement(t,at.HTML),e.insertionMode=De.IN_HEAD_NO_SCRIPT);break}case W.NOFRAMES:case W.STYLE:{e._switchToTextParsing(t,Wo.RAWTEXT);break}case W.SCRIPT:{e._switchToTextParsing(t,Wo.SCRIPT_DATA);break}case W.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=De.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(De.IN_TEMPLATE);break}case W.HEAD:{e._err(t,Qe.misplacedStartTagForHeadElement);break}default:t2(e,t)}}function yut(e,t){switch(t.tagID){case W.HEAD:{e.openElements.pop(),e.insertionMode=De.AFTER_HEAD;break}case W.BODY:case W.BR:case W.HTML:{t2(e,t);break}case W.TEMPLATE:{j1(e,t);break}default:e._err(t,Qe.endTagWithoutMatchingOpenElement)}}function j1(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==W.TEMPLATE&&e._err(t,Qe.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(W.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Qe.endTagWithoutMatchingOpenElement)}function t2(e,t){e.openElements.pop(),e.insertionMode=De.AFTER_HEAD,e._processToken(t)}function vut(e,t){switch(t.tagID){case W.HTML:{gl(e,t);break}case W.BASEFONT:case W.BGSOUND:case W.HEAD:case W.LINK:case W.META:case W.NOFRAMES:case W.STYLE:{Hf(e,t);break}case W.NOSCRIPT:{e._err(t,Qe.nestedNoscriptInHead);break}default:n2(e,t)}}function but(e,t){switch(t.tagID){case W.NOSCRIPT:{e.openElements.pop(),e.insertionMode=De.IN_HEAD;break}case W.BR:{n2(e,t);break}default:e._err(t,Qe.endTagWithoutMatchingOpenElement)}}function n2(e,t){const n=t.type===yr.EOF?Qe.openElementsLeftAfterEof:Qe.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=De.IN_HEAD,e._processToken(t)}function wut(e,t){switch(t.tagID){case W.HTML:{gl(e,t);break}case W.BODY:{e._insertElement(t,at.HTML),e.framesetOk=!1,e.insertionMode=De.IN_BODY;break}case W.FRAMESET:{e._insertElement(t,at.HTML),e.insertionMode=De.IN_FRAMESET;break}case W.BASE:case W.BASEFONT:case W.BGSOUND:case W.LINK:case W.META:case W.NOFRAMES:case W.SCRIPT:case W.STYLE:case W.TEMPLATE:case W.TITLE:{e._err(t,Qe.abandonedHeadElementChild),e.openElements.push(e.headElement,W.HEAD),Hf(e,t),e.openElements.remove(e.headElement);break}case W.HEAD:{e._err(t,Qe.misplacedStartTagForHeadElement);break}default:r2(e,t)}}function xut(e,t){switch(t.tagID){case W.BODY:case W.HTML:case W.BR:{r2(e,t);break}case W.TEMPLATE:{j1(e,t);break}default:e._err(t,Qe.endTagWithoutMatchingOpenElement)}}function r2(e,t){e._insertFakeElement(Ye.BODY,W.BODY),e.insertionMode=De.IN_BODY,L$(e,t)}function L$(e,t){switch(t.type){case yr.CHARACTER:{HTe(e,t);break}case yr.WHITESPACE_CHARACTER:{VTe(e,t);break}case yr.COMMENT:{uH(e,t);break}case yr.START_TAG:{gl(e,t);break}case yr.END_TAG:{j$(e,t);break}case yr.EOF:{YTe(e,t);break}}}function VTe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function HTe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function _ut(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Eut(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function Cut(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,at.HTML),e.insertionMode=De.IN_FRAMESET)}function Sut(e,t){e.openElements.hasInButtonScope(W.P)&&e._closePElement(),e._insertElement(t,at.HTML)}function Tut(e,t){e.openElements.hasInButtonScope(W.P)&&e._closePElement(),PTe(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,at.HTML)}function Aut(e,t){e.openElements.hasInButtonScope(W.P)&&e._closePElement(),e._insertElement(t,at.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function kut(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(W.P)&&e._closePElement(),e._insertElement(t,at.HTML),n||(e.formElement=e.openElements.current))}function Rut(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===W.LI&&i===W.LI||(n===W.DD||n===W.DT)&&(i===W.DD||i===W.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==W.ADDRESS&&i!==W.DIV&&i!==W.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(W.P)&&e._closePElement(),e._insertElement(t,at.HTML)}function Iut(e,t){e.openElements.hasInButtonScope(W.P)&&e._closePElement(),e._insertElement(t,at.HTML),e.tokenizer.state=Wo.PLAINTEXT}function Dut(e,t){e.openElements.hasInScope(W.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(W.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML),e.framesetOk=!1}function Put(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(Ye.A);n&&(tQ(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Out(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Nut(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(W.NOBR)&&(tQ(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,at.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Mut(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function $ut(e,t){e.treeAdapter.getDocumentMode(e.document)!==rc.QUIRKS&&e.openElements.hasInButtonScope(W.P)&&e._closePElement(),e._insertElement(t,at.HTML),e.framesetOk=!1,e.insertionMode=De.IN_TABLE}function qTe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,at.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function WTe(e){const t=RTe(e,q0.TYPE);return t!=null&&t.toLowerCase()===eut}function Fut(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,at.HTML),WTe(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function Lut(e,t){e._appendElement(t,at.HTML),t.ackSelfClosing=!0}function jut(e,t){e.openElements.hasInButtonScope(W.P)&&e._closePElement(),e._appendElement(t,at.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function But(e,t){t.tagName=Ye.IMG,t.tagID=W.IMG,qTe(e,t)}function zut(e,t){e._insertElement(t,at.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Wo.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=De.TEXT}function Uut(e,t){e.openElements.hasInButtonScope(W.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Wo.RAWTEXT)}function Vut(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Wo.RAWTEXT)}function Cce(e,t){e._switchToTextParsing(t,Wo.RAWTEXT)}function Hut(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===De.IN_TABLE||e.insertionMode===De.IN_CAPTION||e.insertionMode===De.IN_TABLE_BODY||e.insertionMode===De.IN_ROW||e.insertionMode===De.IN_CELL?De.IN_SELECT_IN_TABLE:De.IN_SELECT}function qut(e,t){e.openElements.currentTagId===W.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML)}function Wut(e,t){e.openElements.hasInScope(W.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,at.HTML)}function Gut(e,t){e.openElements.hasInScope(W.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(W.RTC),e._insertElement(t,at.HTML)}function Yut(e,t){e._reconstructActiveFormattingElements(),BTe(t),eQ(t),t.selfClosing?e._appendElement(t,at.MATHML):e._insertElement(t,at.MATHML),t.ackSelfClosing=!0}function Kut(e,t){e._reconstructActiveFormattingElements(),zTe(t),eQ(t),t.selfClosing?e._appendElement(t,at.SVG):e._insertElement(t,at.SVG),t.ackSelfClosing=!0}function Sce(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML)}function gl(e,t){switch(t.tagID){case W.I:case W.S:case W.B:case W.U:case W.EM:case W.TT:case W.BIG:case W.CODE:case W.FONT:case W.SMALL:case W.STRIKE:case W.STRONG:{Out(e,t);break}case W.A:{Put(e,t);break}case W.H1:case W.H2:case W.H3:case W.H4:case W.H5:case W.H6:{Tut(e,t);break}case W.P:case W.DL:case W.OL:case W.UL:case W.DIV:case W.DIR:case W.NAV:case W.MAIN:case W.MENU:case W.ASIDE:case W.CENTER:case W.FIGURE:case W.FOOTER:case W.HEADER:case W.HGROUP:case W.DIALOG:case W.DETAILS:case W.ADDRESS:case W.ARTICLE:case W.SECTION:case W.SUMMARY:case W.FIELDSET:case W.BLOCKQUOTE:case W.FIGCAPTION:{Sut(e,t);break}case W.LI:case W.DD:case W.DT:{Rut(e,t);break}case W.BR:case W.IMG:case W.WBR:case W.AREA:case W.EMBED:case W.KEYGEN:{qTe(e,t);break}case W.HR:{jut(e,t);break}case W.RB:case W.RTC:{Wut(e,t);break}case W.RT:case W.RP:{Gut(e,t);break}case W.PRE:case W.LISTING:{Aut(e,t);break}case W.XMP:{Uut(e,t);break}case W.SVG:{Kut(e,t);break}case W.HTML:{_ut(e,t);break}case W.BASE:case W.LINK:case W.META:case W.STYLE:case W.TITLE:case W.SCRIPT:case W.BGSOUND:case W.BASEFONT:case W.TEMPLATE:{Hf(e,t);break}case W.BODY:{Eut(e,t);break}case W.FORM:{kut(e,t);break}case W.NOBR:{Nut(e,t);break}case W.MATH:{Yut(e,t);break}case W.TABLE:{$ut(e,t);break}case W.INPUT:{Fut(e,t);break}case W.PARAM:case W.TRACK:case W.SOURCE:{Lut(e,t);break}case W.IMAGE:{But(e,t);break}case W.BUTTON:{Dut(e,t);break}case W.APPLET:case W.OBJECT:case W.MARQUEE:{Mut(e,t);break}case W.IFRAME:{Vut(e,t);break}case W.SELECT:{Hut(e,t);break}case W.OPTION:case W.OPTGROUP:{qut(e,t);break}case W.NOEMBED:{Cce(e,t);break}case W.FRAMESET:{Cut(e,t);break}case W.TEXTAREA:{zut(e,t);break}case W.NOSCRIPT:{e.options.scriptingEnabled?Cce(e,t):Sce(e,t);break}case W.PLAINTEXT:{Iut(e,t);break}case W.COL:case W.TH:case W.TD:case W.TR:case W.HEAD:case W.FRAME:case W.TBODY:case W.TFOOT:case W.THEAD:case W.CAPTION:case W.COLGROUP:break;default:Sce(e,t)}}function Xut(e,t){if(e.openElements.hasInScope(W.BODY)&&(e.insertionMode=De.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function Qut(e,t){e.openElements.hasInScope(W.BODY)&&(e.insertionMode=De.AFTER_BODY,n2e(e,t))}function Jut(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function Zut(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(W.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(W.FORM):n&&e.openElements.remove(n))}function ect(e){e.openElements.hasInButtonScope(W.P)||e._insertFakeElement(Ye.P,W.P),e._closePElement()}function tct(e){e.openElements.hasInListItemScope(W.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(W.LI),e.openElements.popUntilTagNamePopped(W.LI))}function nct(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function rct(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function ict(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function oct(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Ye.BR,W.BR),e.openElements.pop(),e.framesetOk=!1}function GTe(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const o=e.openElements.items[i],s=e.openElements.tagIDs[i];if(r===s&&(r!==W.UNKNOWN||e.treeAdapter.getTagName(o)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(o,s))break}}function j$(e,t){switch(t.tagID){case W.A:case W.B:case W.I:case W.S:case W.U:case W.EM:case W.TT:case W.BIG:case W.CODE:case W.FONT:case W.NOBR:case W.SMALL:case W.STRIKE:case W.STRONG:{tQ(e,t);break}case W.P:{ect(e);break}case W.DL:case W.UL:case W.OL:case W.DIR:case W.DIV:case W.NAV:case W.PRE:case W.MAIN:case W.MENU:case W.ASIDE:case W.BUTTON:case W.CENTER:case W.FIGURE:case W.FOOTER:case W.HEADER:case W.HGROUP:case W.DIALOG:case W.ADDRESS:case W.ARTICLE:case W.DETAILS:case W.SECTION:case W.SUMMARY:case W.LISTING:case W.FIELDSET:case W.BLOCKQUOTE:case W.FIGCAPTION:{Jut(e,t);break}case W.LI:{tct(e);break}case W.DD:case W.DT:{nct(e,t);break}case W.H1:case W.H2:case W.H3:case W.H4:case W.H5:case W.H6:{rct(e);break}case W.BR:{oct(e);break}case W.BODY:{Xut(e,t);break}case W.HTML:{Qut(e,t);break}case W.FORM:{Zut(e);break}case W.APPLET:case W.OBJECT:case W.MARQUEE:{ict(e,t);break}case W.TEMPLATE:{j1(e,t);break}default:GTe(e,t)}}function YTe(e,t){e.tmplInsertionModeStack.length>0?t2e(e,t):nQ(e,t)}function sct(e,t){var n;t.tagID===W.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function act(e,t){e._err(t,Qe.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function GB(e,t){if(UTe.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=De.IN_TABLE_TEXT,t.type){case yr.CHARACTER:{XTe(e,t);break}case yr.WHITESPACE_CHARACTER:{KTe(e,t);break}}else Nk(e,t)}function lct(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,at.HTML),e.insertionMode=De.IN_CAPTION}function uct(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,at.HTML),e.insertionMode=De.IN_COLUMN_GROUP}function cct(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ye.COLGROUP,W.COLGROUP),e.insertionMode=De.IN_COLUMN_GROUP,rQ(e,t)}function dct(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,at.HTML),e.insertionMode=De.IN_TABLE_BODY}function fct(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ye.TBODY,W.TBODY),e.insertionMode=De.IN_TABLE_BODY,B$(e,t)}function hct(e,t){e.openElements.hasInTableScope(W.TABLE)&&(e.openElements.popUntilTagNamePopped(W.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function pct(e,t){WTe(t)?e._appendElement(t,at.HTML):Nk(e,t),t.ackSelfClosing=!0}function mct(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,at.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function A_(e,t){switch(t.tagID){case W.TD:case W.TH:case W.TR:{fct(e,t);break}case W.STYLE:case W.SCRIPT:case W.TEMPLATE:{Hf(e,t);break}case W.COL:{cct(e,t);break}case W.FORM:{mct(e,t);break}case W.TABLE:{hct(e,t);break}case W.TBODY:case W.TFOOT:case W.THEAD:{dct(e,t);break}case W.INPUT:{pct(e,t);break}case W.CAPTION:{lct(e,t);break}case W.COLGROUP:{uct(e,t);break}default:Nk(e,t)}}function Y2(e,t){switch(t.tagID){case W.TABLE:{e.openElements.hasInTableScope(W.TABLE)&&(e.openElements.popUntilTagNamePopped(W.TABLE),e._resetInsertionMode());break}case W.TEMPLATE:{j1(e,t);break}case W.BODY:case W.CAPTION:case W.COL:case W.COLGROUP:case W.HTML:case W.TBODY:case W.TD:case W.TFOOT:case W.TH:case W.THEAD:case W.TR:break;default:Nk(e,t)}}function Nk(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,L$(e,t),e.fosterParentingEnabled=n}function KTe(e,t){e.pendingCharacterTokens.push(t)}function XTe(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function pS(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Nk(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const QTe=new Set([W.CAPTION,W.COL,W.COLGROUP,W.TBODY,W.TD,W.TFOOT,W.TH,W.THEAD,W.TR]);function gct(e,t){const n=t.tagID;QTe.has(n)?e.openElements.hasInTableScope(W.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(W.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=De.IN_TABLE,A_(e,t)):gl(e,t)}function yct(e,t){const n=t.tagID;switch(n){case W.CAPTION:case W.TABLE:{e.openElements.hasInTableScope(W.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(W.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=De.IN_TABLE,n===W.TABLE&&Y2(e,t));break}case W.BODY:case W.COL:case W.COLGROUP:case W.HTML:case W.TBODY:case W.TD:case W.TFOOT:case W.TH:case W.THEAD:case W.TR:break;default:j$(e,t)}}function rQ(e,t){switch(t.tagID){case W.HTML:{gl(e,t);break}case W.COL:{e._appendElement(t,at.HTML),t.ackSelfClosing=!0;break}case W.TEMPLATE:{Hf(e,t);break}default:n4(e,t)}}function vct(e,t){switch(t.tagID){case W.COLGROUP:{e.openElements.currentTagId===W.COLGROUP&&(e.openElements.pop(),e.insertionMode=De.IN_TABLE);break}case W.TEMPLATE:{j1(e,t);break}case W.COL:break;default:n4(e,t)}}function n4(e,t){e.openElements.currentTagId===W.COLGROUP&&(e.openElements.pop(),e.insertionMode=De.IN_TABLE,e._processToken(t))}function B$(e,t){switch(t.tagID){case W.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,at.HTML),e.insertionMode=De.IN_ROW;break}case W.TH:case W.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Ye.TR,W.TR),e.insertionMode=De.IN_ROW,z$(e,t);break}case W.CAPTION:case W.COL:case W.COLGROUP:case W.TBODY:case W.TFOOT:case W.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=De.IN_TABLE,A_(e,t));break}default:A_(e,t)}}function cH(e,t){const n=t.tagID;switch(t.tagID){case W.TBODY:case W.TFOOT:case W.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=De.IN_TABLE);break}case W.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=De.IN_TABLE,Y2(e,t));break}case W.BODY:case W.CAPTION:case W.COL:case W.COLGROUP:case W.HTML:case W.TD:case W.TH:case W.TR:break;default:Y2(e,t)}}function z$(e,t){switch(t.tagID){case W.TH:case W.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,at.HTML),e.insertionMode=De.IN_CELL,e.activeFormattingElements.insertMarker();break}case W.CAPTION:case W.COL:case W.COLGROUP:case W.TBODY:case W.TFOOT:case W.THEAD:case W.TR:{e.openElements.hasInTableScope(W.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=De.IN_TABLE_BODY,B$(e,t));break}default:A_(e,t)}}function JTe(e,t){switch(t.tagID){case W.TR:{e.openElements.hasInTableScope(W.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=De.IN_TABLE_BODY);break}case W.TABLE:{e.openElements.hasInTableScope(W.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=De.IN_TABLE_BODY,cH(e,t));break}case W.TBODY:case W.TFOOT:case W.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(W.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=De.IN_TABLE_BODY,cH(e,t));break}case W.BODY:case W.CAPTION:case W.COL:case W.COLGROUP:case W.HTML:case W.TD:case W.TH:break;default:Y2(e,t)}}function bct(e,t){const n=t.tagID;QTe.has(n)?(e.openElements.hasInTableScope(W.TD)||e.openElements.hasInTableScope(W.TH))&&(e._closeTableCell(),z$(e,t)):gl(e,t)}function wct(e,t){const n=t.tagID;switch(n){case W.TD:case W.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=De.IN_ROW);break}case W.TABLE:case W.TBODY:case W.TFOOT:case W.THEAD:case W.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),JTe(e,t));break}case W.BODY:case W.CAPTION:case W.COL:case W.COLGROUP:case W.HTML:break;default:j$(e,t)}}function ZTe(e,t){switch(t.tagID){case W.HTML:{gl(e,t);break}case W.OPTION:{e.openElements.currentTagId===W.OPTION&&e.openElements.pop(),e._insertElement(t,at.HTML);break}case W.OPTGROUP:{e.openElements.currentTagId===W.OPTION&&e.openElements.pop(),e.openElements.currentTagId===W.OPTGROUP&&e.openElements.pop(),e._insertElement(t,at.HTML);break}case W.INPUT:case W.KEYGEN:case W.TEXTAREA:case W.SELECT:{e.openElements.hasInSelectScope(W.SELECT)&&(e.openElements.popUntilTagNamePopped(W.SELECT),e._resetInsertionMode(),t.tagID!==W.SELECT&&e._processStartTag(t));break}case W.SCRIPT:case W.TEMPLATE:{Hf(e,t);break}}}function e2e(e,t){switch(t.tagID){case W.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===W.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===W.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===W.OPTGROUP&&e.openElements.pop();break}case W.OPTION:{e.openElements.currentTagId===W.OPTION&&e.openElements.pop();break}case W.SELECT:{e.openElements.hasInSelectScope(W.SELECT)&&(e.openElements.popUntilTagNamePopped(W.SELECT),e._resetInsertionMode());break}case W.TEMPLATE:{j1(e,t);break}}}function xct(e,t){const n=t.tagID;n===W.CAPTION||n===W.TABLE||n===W.TBODY||n===W.TFOOT||n===W.THEAD||n===W.TR||n===W.TD||n===W.TH?(e.openElements.popUntilTagNamePopped(W.SELECT),e._resetInsertionMode(),e._processStartTag(t)):ZTe(e,t)}function _ct(e,t){const n=t.tagID;n===W.CAPTION||n===W.TABLE||n===W.TBODY||n===W.TFOOT||n===W.THEAD||n===W.TR||n===W.TD||n===W.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(W.SELECT),e._resetInsertionMode(),e.onEndTag(t)):e2e(e,t)}function Ect(e,t){switch(t.tagID){case W.BASE:case W.BASEFONT:case W.BGSOUND:case W.LINK:case W.META:case W.NOFRAMES:case W.SCRIPT:case W.STYLE:case W.TEMPLATE:case W.TITLE:{Hf(e,t);break}case W.CAPTION:case W.COLGROUP:case W.TBODY:case W.TFOOT:case W.THEAD:{e.tmplInsertionModeStack[0]=De.IN_TABLE,e.insertionMode=De.IN_TABLE,A_(e,t);break}case W.COL:{e.tmplInsertionModeStack[0]=De.IN_COLUMN_GROUP,e.insertionMode=De.IN_COLUMN_GROUP,rQ(e,t);break}case W.TR:{e.tmplInsertionModeStack[0]=De.IN_TABLE_BODY,e.insertionMode=De.IN_TABLE_BODY,B$(e,t);break}case W.TD:case W.TH:{e.tmplInsertionModeStack[0]=De.IN_ROW,e.insertionMode=De.IN_ROW,z$(e,t);break}default:e.tmplInsertionModeStack[0]=De.IN_BODY,e.insertionMode=De.IN_BODY,gl(e,t)}}function Cct(e,t){t.tagID===W.TEMPLATE&&j1(e,t)}function t2e(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(W.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):nQ(e,t)}function Sct(e,t){t.tagID===W.HTML?gl(e,t):r4(e,t)}function n2e(e,t){var n;if(t.tagID===W.HTML){if(e.fragmentContext||(e.insertionMode=De.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===W.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else r4(e,t)}function r4(e,t){e.insertionMode=De.IN_BODY,L$(e,t)}function Tct(e,t){switch(t.tagID){case W.HTML:{gl(e,t);break}case W.FRAMESET:{e._insertElement(t,at.HTML);break}case W.FRAME:{e._appendElement(t,at.HTML),t.ackSelfClosing=!0;break}case W.NOFRAMES:{Hf(e,t);break}}}function Act(e,t){t.tagID===W.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==W.FRAMESET&&(e.insertionMode=De.AFTER_FRAMESET))}function kct(e,t){switch(t.tagID){case W.HTML:{gl(e,t);break}case W.NOFRAMES:{Hf(e,t);break}}}function Rct(e,t){t.tagID===W.HTML&&(e.insertionMode=De.AFTER_AFTER_FRAMESET)}function Ict(e,t){t.tagID===W.HTML?gl(e,t):K3(e,t)}function K3(e,t){e.insertionMode=De.IN_BODY,L$(e,t)}function Dct(e,t){switch(t.tagID){case W.HTML:{gl(e,t);break}case W.NOFRAMES:{Hf(e,t);break}}}function Pct(e,t){t.chars=to,e._insertCharacters(t)}function Oct(e,t){e._insertCharacters(t),e.framesetOk=!1}function r2e(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==at.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function Nct(e,t){if(Klt(t))r2e(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===at.MATHML?BTe(t):r===at.SVG&&(Xlt(t),zTe(t)),eQ(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function Mct(e,t){if(t.tagID===W.P||t.tagID===W.BR){r2e(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===at.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}Ye.AREA,Ye.BASE,Ye.BASEFONT,Ye.BGSOUND,Ye.BR,Ye.COL,Ye.EMBED,Ye.FRAME,Ye.HR,Ye.IMG,Ye.INPUT,Ye.KEYGEN,Ye.LINK,Ye.META,Ye.PARAM,Ye.SOURCE,Ye.TRACK,Ye.WBR;const $ct=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Tce={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function i2e(e,t){const n=Wct(e),r=CTe("type",{handlers:{root:Fct,element:Lct,text:jct,comment:s2e,doctype:Bct,raw:Uct},unknown:Vct}),i={parser:n?new Ece(Tce):Ece.getFragmentParser(void 0,Tce),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),jE(i,Tp());const o=n?i.parser.document:i.parser.getFragment(),s=Yat(o,{file:i.options.file});return i.stitches&&Ik(s,"comment",function(a,l,u){const c=a;if(c.value.stitch&&u&&l!==void 0){const d=u.children;return d[l]=c.value.stitch,l}}),s.type==="root"&&s.children.length===1&&s.children[0].type===e.type?s.children[0]:s}function o2e(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function Fct(e,t){o2e(e.children,t)}function Lct(e,t){Hct(e,t),o2e(e.children,t),qct(e,t)}function jct(e,t){const n={type:yr.CHARACTER,chars:e.value,location:Mk(e)};jE(t,Tp(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function Bct(e,t){const n={type:yr.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Mk(e)};jE(t,Tp(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function zct(e,t){t.stitches=!0;const n=Gct(e);if("children"in e&&"children"in n){const r=i2e({type:"root",children:e.children},t.options);n.children=r.children}s2e({type:"comment",value:{stitch:n}},t)}function s2e(e,t){const n=e.value,r={type:yr.COMMENT,data:n,location:Mk(e)};jE(t,Tp(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function Uct(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,a2e(t,Tp(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function Vct(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))zct(n,t);else{let r="";throw $ct.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function jE(e,t){a2e(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Wo.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function a2e(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function Hct(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Wo.PLAINTEXT)return;jE(t,Tp(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:mb.html;i===mb.html&&n==="svg"&&(i=mb.svg);const o=Zat({...e,children:[]},{space:i===mb.svg?"svg":"html"}),s={type:yr.START_TAG,tagName:n,tagID:LE(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:Mk(e)};t.parser.currentToken=s,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function qct(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&alt.includes(n)||t.parser.tokenizer.state===Wo.PLAINTEXT)return;jE(t,D$(e));const r={type:yr.END_TAG,tagName:n,tagID:LE(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Mk(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Wo.RCDATA||t.parser.tokenizer.state===Wo.RAWTEXT||t.parser.tokenizer.state===Wo.SCRIPT_DATA)&&(t.parser.tokenizer.state=Wo.DATA)}function Wct(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function Mk(e){const t=Tp(e)||{line:void 0,column:void 0,offset:void 0},n=D$(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function Gct(e){return"children"in e?T_({...e,children:[]}):T_(e)}function Yct(e){return function(t,n){return i2e(t,{...e,file:n})}}function Ace(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Kct(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Xct(e,t,n){const i=M$((n||{}).ignore||[]),o=Qct(t);let s=-1;for(;++s<o.length;)dTe(e,"text",a);function a(u,c){let d=-1,f;for(;++d<c.length;){const h=c[d],m=f?f.children:void 0;if(i(h,m?m.indexOf(h):void 0,f))return;f=h}if(f)return l(u,c)}function l(u,c){const d=c[c.length-1],f=o[s][0],h=o[s][1];let m=0;const g=d.children.indexOf(u);let y=!1,v=[];f.lastIndex=0;let w=f.exec(u.value);for(;w;){const E=w.index,C={index:w.index,input:w.input,stack:[...c,u]};let S=h(...w,C);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=E+1:(m!==E&&v.push({type:"text",value:u.value.slice(m,E)}),Array.isArray(S)?v.push(...S):S&&v.push(S),m=E+w[0].length,y=!0),!f.global)break;w=f.exec(u.value)}return y?(m<u.value.length&&v.push({type:"text",value:u.value.slice(m)}),d.children.splice(g,1,...v)):v=[u],g+v.length}}function Qct(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Jct(i[0]),Zct(i[1])])}return t}function Jct(e){return typeof e=="string"?new RegExp(Kct(e),"g"):e}function Zct(e){return typeof e=="function"?e:function(){return e}}const YB="phrasing",KB=["autolink","link","image","label"];function edt(){return{transforms:[adt],enter:{literalAutolink:ndt,literalAutolinkEmail:XB,literalAutolinkHttp:XB,literalAutolinkWww:XB},exit:{literalAutolink:sdt,literalAutolinkEmail:odt,literalAutolinkHttp:rdt,literalAutolinkWww:idt}}}function tdt(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:YB,notInConstruct:KB},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:YB,notInConstruct:KB},{character:":",before:"[ps]",after:"\\/",inConstruct:YB,notInConstruct:KB}]}}function ndt(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function XB(e){this.config.enter.autolinkProtocol.call(this,e)}function rdt(e){this.config.exit.autolinkProtocol.call(this,e)}function idt(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function odt(e){this.config.exit.autolinkEmail.call(this,e)}function sdt(e){this.exit(e)}function adt(e){Xct(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,ldt],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),udt]],{ignore:["link","linkReference"]})}function ldt(e,t,n,r,i){let o="";if(!l2e(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!cdt(n)))return!1;const s=ddt(n+r);if(!s[0])return!1;const a={type:"link",title:null,url:o+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[a,{type:"text",value:s[1]}]:a}function udt(e,t,n,r){return!l2e(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function cdt(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function ddt(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Ace(e,"(");let o=Ace(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function l2e(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Hb(n)||P$(n))&&(!t||n!==47)}u2e.peek=wdt;function fdt(){this.buffer()}function hdt(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function pdt(){this.buffer()}function mdt(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function gdt(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=bf(this.sliceSerialize(e)).toLowerCase(),n.label=t}function ydt(e){this.exit(e)}function vdt(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=bf(this.sliceSerialize(e)).toLowerCase(),n.label=t}function bdt(e){this.exit(e)}function wdt(){return"["}function u2e(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const s=n.enter("footnoteReference"),a=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),a(),s(),o+=i.move("]"),o}function xdt(){return{enter:{gfmFootnoteCallString:fdt,gfmFootnoteCall:hdt,gfmFootnoteDefinitionLabelString:pdt,gfmFootnoteDefinition:mdt},exit:{gfmFootnoteCallString:gdt,gfmFootnoteCall:ydt,gfmFootnoteDefinitionLabelString:vdt,gfmFootnoteDefinition:bdt}}}function _dt(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:u2e},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,s){const a=o.createTracker(s);let l=a.move("[^");const u=o.enter("footnoteDefinition"),c=o.enter("label");return l+=a.move(o.safe(o.associationId(r),{before:l,after:"]"})),c(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,a.current()),t?c2e:Edt))),u(),l}}function Edt(e,t,n){return t===0?e:c2e(e,t,n)}function c2e(e,t,n){return(n?"":"    ")+e}const Cdt=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];d2e.peek=Rdt;function Sdt(){return{canContainEols:["delete"],enter:{strikethrough:Adt},exit:{strikethrough:kdt}}}function Tdt(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Cdt}],handlers:{delete:d2e}}}function Adt(e){this.enter({type:"delete",children:[]},e)}function kdt(e){this.exit(e)}function d2e(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),o(),s}function Rdt(){return"~"}function Idt(e){return e.length}function Ddt(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||Idt,o=[],s=[],a=[],l=[];let u=0,c=-1;for(;++c<e.length;){const p=[],g=[];let y=-1;for(e[c].length>u&&(u=e[c].length);++y<e[c].length;){const v=Pdt(e[c][y]);if(n.alignDelimiters!==!1){const w=i(v);g[y]=w,(l[y]===void 0||w>l[y])&&(l[y]=w)}p.push(v)}s[c]=p,a[c]=g}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)o[d]=kce(r[d]);else{const p=kce(r);for(;++d<u;)o[d]=p}d=-1;const f=[],h=[];for(;++d<u;){const p=o[d];let g="",y="";p===99?(g=":",y=":"):p===108?g=":":p===114&&(y=":");let v=n.alignDelimiters===!1?1:Math.max(1,l[d]-g.length-y.length);const w=g+"-".repeat(v)+y;n.alignDelimiters!==!1&&(v=g.length+v+y.length,v>l[d]&&(l[d]=v),h[d]=v),f[d]=w}s.splice(1,0,f),a.splice(1,0,h),c=-1;const m=[];for(;++c<s.length;){const p=s[c],g=a[c];d=-1;const y=[];for(;++d<u;){const v=p[d]||"";let w="",E="";if(n.alignDelimiters!==!1){const C=l[d]-(g[d]||0),S=o[d];S===114?w=" ".repeat(C):S===99?C%2?(w=" ".repeat(C/2+.5),E=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),E=w):E=" ".repeat(C)}n.delimiterStart!==!1&&!d&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&v==="")&&(n.delimiterStart!==!1||d)&&y.push(" "),n.alignDelimiters!==!1&&y.push(w),y.push(v),n.alignDelimiters!==!1&&y.push(E),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&y.push("|")}m.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return m.join(`
`)}function Pdt(e){return e==null?"":String(e)}function kce(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Odt(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const s=n.indentLines(n.containerFlow(e,o.current()),Ndt);return i(),s}function Ndt(e,t,n){return">"+(n?"":" ")+e}function Mdt(e,t){return Rce(e,t.inConstruct,!0)&&!Rce(e,t.notInConstruct,!1)}function Rce(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Ice(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Mdt(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function $dt(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>s&&(s=o):o=1,i=r+t.length,r=n.indexOf(t,i);return s}function Fdt(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Ldt(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function jdt(e,t,n,r){const i=Ldt(n),o=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(Fdt(e,n)){const d=n.enter("codeIndented"),f=n.indentLines(o,Bdt);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max($dt(o,i)+1,3)),u=n.enter("codeFenced");let c=a.move(l);if(e.lang){const d=n.enter(`codeFencedLang${s}`);c+=a.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...a.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${s}`);c+=a.move(" "),c+=a.move(n.safe(e.meta,{before:c,after:`
`,encode:["`"],...a.current()})),d()}return c+=a.move(`
`),o&&(c+=a.move(o+`
`)),c+=a.move(l),u(),c}function Bdt(e,t,n){return(n?"":"    ")+e}function iQ(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function zdt(e,t,n,r){const i=iQ(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),s(),u}function Udt(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function K2(e){return"&#x"+e.toString(16).toUpperCase()+";"}function i4(e,t,n){const r=S_(e),i=S_(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}f2e.peek=Vdt;function f2e(e,t,n,r){const i=Udt(n),o=n.enter("emphasis"),s=n.createTracker(r),a=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:a,...s.current()}));const u=l.charCodeAt(0),c=i4(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=K2(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=i4(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+K2(d));const h=s.move(i);return o(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+l+h}function Vdt(e,t,n){return n.options.emphasis||"*"}function Hdt(e,t){let n=!1;return Ik(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,eH}),!!((!e.depth||e.depth<3)&&UX(e)&&(t.options.setext||n))}function qdt(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(Hdt(e,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return d(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const s="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");o.move(s+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u=K2(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),l(),a(),u}h2e.peek=Wdt;function h2e(e){return e.value||""}function Wdt(){return"<"}p2e.peek=Gdt;function p2e(e,t,n,r){const i=iQ(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),s(),u}function Gdt(){return"!"}m2e.peek=Ydt;function m2e(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),s();const c=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return s(),n.stack=c,o(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Ydt(){return"!"}g2e.peek=Kdt;function g2e(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const s=n.unsafe[o],a=n.compilePattern(s);let l;if(s.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function Kdt(){return"`"}function y2e(e,t){const n=UX(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}v2e.peek=Xdt;function v2e(e,t,n,r){const i=iQ(n),o=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let a,l;if(y2e(e,n)){const c=n.stack;n.stack=[],a=n.enter("autolink");let d=s.move("<");return d+=s.move(n.containerPhrasing(e,{before:d,after:">",...s.current()})),d+=s.move(">"),a(),n.stack=c,d}a=n.enter("link"),l=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${o}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),l()),u+=s.move(")"),a(),u}function Xdt(e,t,n){return y2e(e,n)?"<":"["}b2e.peek=Qdt;function b2e(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),s();const c=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return s(),n.stack=c,o(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Qdt(){return"["}function oQ(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Jdt(e){const t=oQ(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Zdt(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function w2e(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function eft(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let s=e.ordered?Zdt(n):oQ(n);const a=e.ordered?s==="."?")":".":Jdt(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),w2e(n)===s&&c){let d=-1;for(;++d<e.children.length;){const f=e.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=a),n.bulletCurrent=s;const u=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=o,i(),u}function tft(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function nft(e,t,n,r){const i=tft(n);let o=n.bulletCurrent||oQ(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let s=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const a=n.createTracker(r);a.move(o+" ".repeat(s-o.length)),a.shift(s);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),c);return l(),u;function c(d,f,h){return f?(h?"":" ".repeat(s))+d:(h?o:o+" ".repeat(s-o.length))+d}}function rft(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),s=n.containerPhrasing(e,r);return o(),i(),s}const ift=M$(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function oft(e,t,n,r){return(e.children.some(function(s){return ift(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function sft(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}x2e.peek=aft;function x2e(e,t,n,r){const i=sft(n),o=n.enter("strong"),s=n.createTracker(r),a=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:a,...s.current()}));const u=l.charCodeAt(0),c=i4(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=K2(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=i4(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+K2(d));const h=s.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+l+h}function aft(e,t,n){return n.options.strong||"*"}function lft(e,t,n,r){return n.safe(e.value,r)}function uft(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function cft(e,t,n){const r=(w2e(n)+(n.options.ruleSpaces?" ":"")).repeat(uft(n));return n.options.ruleSpaces?r.slice(0,-1):r}const _2e={blockquote:Odt,break:Ice,code:jdt,definition:zdt,emphasis:f2e,hardBreak:Ice,heading:qdt,html:h2e,image:p2e,imageReference:m2e,inlineCode:g2e,link:v2e,linkReference:b2e,list:eft,listItem:nft,paragraph:rft,root:oft,strong:x2e,text:lft,thematicBreak:cft};function dft(){return{enter:{table:fft,tableData:Dce,tableHeader:Dce,tableRow:pft},exit:{codeText:mft,table:hft,tableData:QB,tableHeader:QB,tableRow:QB}}}function fft(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function hft(e){this.exit(e),this.data.inTable=void 0}function pft(e){this.enter({type:"tableRow",children:[]},e)}function QB(e){this.exit(e)}function Dce(e){this.enter({type:"tableCell",children:[]},e)}function mft(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,gft));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function gft(e,t){return t==="|"?t:e}function yft(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:s,tableCell:l,tableRow:a}};function s(h,m,p,g){return u(c(h,p,g),h.align)}function a(h,m,p,g){const y=d(h,p,g),v=u([y]);return v.slice(0,v.indexOf(`
`))}function l(h,m,p,g){const y=p.enter("tableCell"),v=p.enter("phrasing"),w=p.containerPhrasing(h,{...g,before:o,after:o});return v(),y(),w}function u(h,m){return Ddt(h,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function c(h,m,p){const g=h.children;let y=-1;const v=[],w=m.enter("table");for(;++y<g.length;)v[y]=d(g[y],m,p);return w(),v}function d(h,m,p){const g=h.children;let y=-1;const v=[],w=m.enter("tableRow");for(;++y<g.length;)v[y]=l(g[y],h,m,p);return w(),v}function f(h,m,p){let g=_2e.inlineCode(h,m,p);return p.stack.includes("tableCell")&&(g=g.replace(/\|/g,"\\$&")),g}}function vft(){return{exit:{taskListCheckValueChecked:Pce,taskListCheckValueUnchecked:Pce,paragraph:wft}}}function bft(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:xft}}}function Pce(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function wft(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,s;for(;++o<i.length;){const a=i[o];if(a.type==="paragraph"){s=a;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function xft(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);o&&a.move(s);let l=_2e.listItem(e,t,n,{...r,...a.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+s}}function _ft(){return[edt(),xdt(),Sdt(),dft(),vft()]}function Eft(e){return{extensions:[tdt(),_dt(e),Tdt(),yft(e),bft()]}}const Cft={tokenize:Ift,partial:!0},E2e={tokenize:Dft,partial:!0},C2e={tokenize:Pft,partial:!0},S2e={tokenize:Oft,partial:!0},Sft={tokenize:Nft,partial:!0},T2e={name:"wwwAutolink",tokenize:kft,previous:k2e},A2e={name:"protocolAutolink",tokenize:Rft,previous:R2e},_g={name:"emailAutolink",tokenize:Aft,previous:I2e},Ap={};function Tft(){return{text:Ap}}let kv=48;for(;kv<123;)Ap[kv]=_g,kv++,kv===58?kv=65:kv===91&&(kv=97);Ap[43]=_g;Ap[45]=_g;Ap[46]=_g;Ap[95]=_g;Ap[72]=[_g,A2e];Ap[104]=[_g,A2e];Ap[87]=[_g,T2e];Ap[119]=[_g,T2e];function Aft(e,t,n){const r=this;let i,o;return s;function s(d){return!dH(d)||!I2e.call(r,r.previous)||sQ(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(d))}function a(d){return dH(d)?(e.consume(d),a):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(Sft,c,u)(d):d===45||d===95||nl(d)?(o=!0,e.consume(d),l):c(d)}function u(d){return e.consume(d),i=!0,l}function c(d){return o&&i&&Nl(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function kft(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!k2e.call(r,r.previous)||sQ(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Cft,e.attempt(E2e,e.attempt(C2e,o),n),n)(s))}function o(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function Rft(e,t,n){const r=this;let i="",o=!1;return s;function s(d){return(d===72||d===104)&&R2e.call(r,r.previous)&&!sQ(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),a):n(d)}function a(d){if(Nl(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),a;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(d),l}return n(d)}function l(d){return d===47?(e.consume(d),o?u:(o=!0,l)):n(d)}function u(d){return d===null||e4(d)||Oi(d)||Hb(d)||P$(d)?n(d):e.attempt(E2e,e.attempt(C2e,c),n)(d)}function c(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function Ift(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),o):n(s)}function o(s){return s===null?n(s):t(s)}}function Dft(e,t,n){let r,i,o;return s;function s(u){return u===46||u===95?e.check(S2e,l,a)(u):u===null||Oi(u)||Hb(u)||u!==45&&P$(u)?l(u):(o=!0,e.consume(u),s)}function a(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),s}function l(u){return i||r||!o?n(u):t(u)}}function Pft(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?o(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(S2e,t,o)(s):s===null||Oi(s)||Hb(s)?t(s):(e.consume(s),i)}function o(s){return s===41&&r++,e.consume(s),i}}function Oft(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),o):a===93?(e.consume(a),i):a===60||a===null||Oi(a)||Hb(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||Oi(a)||Hb(a)?t(a):r(a)}function o(a){return Nl(a)?s(a):n(a)}function s(a){return a===59?(e.consume(a),r):Nl(a)?(e.consume(a),s):n(a)}}function Nft(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return nl(o)?n(o):t(o)}}function k2e(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Oi(e)}function R2e(e){return!Nl(e)}function I2e(e){return!(e===47||dH(e))}function dH(e){return e===43||e===45||e===46||e===95||nl(e)}function sQ(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Mft={tokenize:Vft,partial:!0};function $ft(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Bft,continuation:{tokenize:zft},exit:Uft}},text:{91:{name:"gfmFootnoteCall",tokenize:jft},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Fft,resolveTo:Lft}}}}function Fft(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!s||!s._balanced)return n(l);const u=bf(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!o.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Lft(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",s,t],["exit",s,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function jft(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,s;return a;function a(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(o>999||d===93&&!s||d===null||d===91||Oi(d))return n(d);if(d===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(bf(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return Oi(d)||(s=!0),o++,e.consume(d),d===92?c:u}function c(d){return d===91||d===92||d===93?(e.consume(d),o++,u):u(d)}}function Bft(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,s=0,a;return l;function l(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(m)}function c(m){if(s>999||m===93&&!a||m===null||m===91||Oi(m))return n(m);if(m===93){e.exit("chunkString");const p=e.exit("gfmFootnoteDefinitionLabelString");return o=bf(r.sliceSerialize(p)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return Oi(m)||(a=!0),s++,e.consume(m),m===92?d:c}function d(m){return m===91||m===92||m===93?(e.consume(m),s++,c):c(m)}function f(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(o)||i.push(o),Vr(e,h,"gfmFootnoteDefinitionWhitespace")):n(m)}function h(m){return t(m)}}function zft(e,t,n){return e.check(Rk,t,e.attempt(Mft,t,n))}function Uft(e){e.exit("gfmFootnoteDefinition")}function Vft(e,t,n){const r=this;return Vr(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(o):n(o)}}function Hft(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,a){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},d={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},f=[["enter",c,a],["enter",s[u][1],a],["exit",s[u][1],a],["enter",d,a]],h=a.parser.constructs.insideSpan.null;h&&dc(f,f.length,0,O$(h,s.slice(u+1,l),a)),dc(f,f.length,0,[["exit",d,a],["enter",s[l][1],a],["exit",s[l][1],a],["exit",c,a]]),dc(s,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function o(s,a,l){const u=this.previous,c=this.events;let d=0;return f;function f(m){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(m):(s.enter("strikethroughSequenceTemporary"),h(m))}function h(m){const p=S_(u);if(m===126)return d>1?l(m):(s.consume(m),d++,h);if(d<2&&!n)return l(m);const g=s.exit("strikethroughSequenceTemporary"),y=S_(m);return g._open=!y||y===2&&!!p,g._close=!p||p===2&&!!y,a(m)}}}class qft{constructor(){this.map=[]}add(t,n,r){Wft(this,t,n,r)}consume(t){if(this.map.sort(function(o,s){return o[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const o of i)t.push(o);i=r.pop()}this.map.length=0}}function Wft(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Gft(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Yft(){return{flow:{null:{name:"table",tokenize:Kft,resolveAll:Xft}}}}function Kft(e,t,n){const r=this;let i=0,o=0,s;return a;function a(I){let P=r.events.length-1;for(;P>-1;){const O=r.events[P][1].type;if(O==="lineEnding"||O==="linePrefix")P--;else break}const N=P>-1?r.events[P][1].type:null,$=N==="tableHead"||N==="tableRow"?S:l;return $===S&&r.parser.lazy[r.now().line]?n(I):$(I)}function l(I){return e.enter("tableHead"),e.enter("tableRow"),u(I)}function u(I){return I===124||(s=!0,o+=1),c(I)}function c(I){return I===null?n(I):On(I)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),h):n(I):Ar(I)?Vr(e,c,"whitespace")(I):(o+=1,s&&(s=!1,i+=1),I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),s=!0,c):(e.enter("data"),d(I)))}function d(I){return I===null||I===124||Oi(I)?(e.exit("data"),c(I)):(e.consume(I),I===92?f:d)}function f(I){return I===92||I===124?(e.consume(I),d):d(I)}function h(I){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(I):(e.enter("tableDelimiterRow"),s=!1,Ar(I)?Vr(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):m(I))}function m(I){return I===45||I===58?g(I):I===124?(s=!0,e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),p):C(I)}function p(I){return Ar(I)?Vr(e,g,"whitespace")(I):g(I)}function g(I){return I===58?(o+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),y):I===45?(o+=1,y(I)):I===null||On(I)?E(I):C(I)}function y(I){return I===45?(e.enter("tableDelimiterFiller"),v(I)):C(I)}function v(I){return I===45?(e.consume(I),v):I===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(I))}function w(I){return Ar(I)?Vr(e,E,"whitespace")(I):E(I)}function E(I){return I===124?m(I):I===null||On(I)?!s||i!==o?C(I):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(I)):C(I)}function C(I){return n(I)}function S(I){return e.enter("tableRow"),T(I)}function T(I){return I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),T):I===null||On(I)?(e.exit("tableRow"),t(I)):Ar(I)?Vr(e,T,"whitespace")(I):(e.enter("data"),A(I))}function A(I){return I===null||I===124||Oi(I)?(e.exit("data"),T(I)):(e.consume(I),I===92?D:A)}function D(I){return I===92||I===124?(e.consume(I),A):A(I)}}function Xft(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],s=[0,0,0,0],a=!1,l=0,u,c,d;const f=new qft;for(;++n<e.length;){const h=e[n],m=h[1];h[0]==="enter"?m.type==="tableHead"?(a=!1,l!==0&&(Oce(f,t,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",u,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,d=void 0,o=[0,0,0,0],s=[0,n+1,0,0],a&&(a=!1,c={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",c,t]])),i=m.type==="tableDelimiterRow"?2:c?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(o[1]!==0&&(s[0]=s[1],d=SD(f,t,o,i,void 0,d),o=[0,0,0,0]),s[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(s[0]=s[1],d=SD(f,t,o,i,void 0,d)),o=s,s=[o[1],n,0,0])):m.type==="tableHead"?(a=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,o[1]!==0?(s[0]=s[1],d=SD(f,t,o,i,n,d)):s[1]!==0&&(d=SD(f,t,s,i,n,d)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&Oce(f,t,l,u,c),f.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=Gft(t.events,n))}return e}function SD(e,t,n,r,i,o){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(o.end=Object.assign({},wx(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const l=wx(t.events,n[1]);if(o={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const u=wx(t.events,n[2]),c=wx(t.events,n[3]),d={type:a,start:Object.assign({},u),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const f=t.events[n[2]],h=t.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,p=n[3]-n[2]-1;e.add(m,p,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(o.end=Object.assign({},wx(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function Oce(e,t,n,r,i){const o=[],s=wx(t.events,n);i&&(i.end=Object.assign({},s),o.push(["exit",i,t])),r.end=Object.assign({},s),o.push(["exit",r,t]),e.add(n+1,0,o)}function wx(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Qft={name:"tasklistCheck",tokenize:Zft};function Jft(){return{text:{91:Qft}}}function Zft(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),o)}function o(l){return Oi(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return On(l)?t(l):Ar(l)?e.check({tokenize:eht},t,n)(l):n(l)}}function eht(e,t,n){return Vr(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function tht(e){return WSe([Tft(),$ft(),Hft(e),Yft(),Jft()])}const nht={};function rht(e){const t=this,n=e||nht,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(tht(n)),o.push(_ft()),s.push(Eft(n))}function iht(e){return!!e&&typeof e=="object"&&e.type==="text"}function oht(e){return!!e&&typeof e=="object"&&e.type==="element"}const sht={p({node:e,...t}){return x.jsx(Ve,{...t,pb:8,fw:"inherit",ref:void 0})},h1({node:e,...t}){return x.jsx(Yr,{...t,order:1,pb:12})},h2({node:e,...t}){return x.jsx(Yr,{...t,order:2,pb:12})},h3({node:e,...t}){return x.jsx(Yr,{...t,order:3,pb:12})},h4({node:e,...t}){return x.jsx(Yr,{...t,order:4,pb:12})},h5({node:e,...t}){return x.jsx(Yr,{...t,order:5,pb:12})},h6({node:e,...t}){return x.jsx(Yr,{...t,order:6,pb:12})},a({node:e,...t}){return x.jsx(P1,{...t,ref:void 0})},ul({node:e,...t}){return x.jsx(Za,{withPadding:!0,...t,pb:8})},ol({node:e,type:t,...n}){return x.jsx(Za,{...n,type:"ordered",withPadding:!0,pb:8})},table({node:e,...t}){return x.jsx(En,{...t,mb:12,borderColor:"grey"})},thead({node:e,...t}){return x.jsx(En.Thead,{...t})},tbody({node:e,...t}){return x.jsx(En.Tbody,{...t})},tr({node:e,...t}){return x.jsx(En.Tr,{...t})},th({node:e,...t}){return x.jsx(En.Th,{...t})},td({node:e,...t}){return x.jsx(En.Td,{...t})},img({node:e,width:t,height:n,src:r,...i}){return x.jsx(vg,{...i,h:n,w:t,src:r?.startsWith("http")?r:`${bo}${r}`})}};function ap({text:e,required:t}){const n=k.useCallback(()=>r=>{if(!t||!r)return;let i=null,o=null;Ik(r,(l,u,c)=>{oht(l)&&(i=l,o=c)});const s=i,a=o;if(s!==null){const l={type:"element",tagName:"span",properties:{style:"color: #fa5252; margin-left: 4px"},children:[{type:"text",value:"*"}]};if(iht(s.children.at(-1))){const c=s.children.at(-1).value.split(" "),d=c.pop(),f=c.join(" "),h={type:"element",tagName:"span",properties:{},children:[{type:"text",value:f?`${f} `:""},{type:"element",tagName:"span",properties:{style:"white-space: nowrap"},children:[{type:"text",value:`${d}`}]},l]};s.children.splice(s.children.length-1,1,h)}else{const u={type:"element",tagName:"span",properties:{style:"white-space: nowrap; display: inline-flex;"},children:[s,l]};if(a){const c=a.children.indexOf(s);c!==-1&&a.children.splice(c,1,u)}}}},[t]);return e.length>0&&x.jsx(Cat,{components:sht,rehypePlugins:[Yct,n],remarkPlugins:[rht],children:e})}function X3({issues:e,type:t}){const n=`
    ${t==="error"?"There was an issue loading the study config. Please check the following issues:":"There were some warnings while loading the study config. Please check the following warnings:"}

    ${e.map(r=>`- You have ${t==="error"?"an error":"a warning"} at ${r.instancePath||"root"}: ${r.message} - ${JSON.stringify(r.params)}  `).join(`
`)}
  `.replace(/\n\s+/g,`
`);return x.jsx(ap,{text:n})}const Gw=14;function aht({completed:e,inProgress:t,rejected:n}){return x.jsxs(At,{ml:4,gap:4,children:[x.jsx(yt,{label:"Completed",children:x.jsx(us,{variant:"light",color:"green",leftSection:x.jsx(ay,{width:Gw,height:Gw,style:{paddingTop:1}}),pb:1,children:e})}),x.jsx(yt,{label:"In Progress",children:x.jsx(us,{variant:"light",color:"orange",leftSection:x.jsx(ESe,{width:Gw,height:Gw,style:{paddingTop:1}}),pb:1,children:t})}),x.jsx(yt,{label:"Rejected",children:x.jsx(us,{variant:"light",color:"red",leftSection:x.jsx(Gm,{width:Gw,height:Gw,style:{paddingTop:1}}),pb:1,children:n})})]})}async function fH(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")}function mS(e){const t=e;return typeof t=="object"&&t&&t.participantId!==void 0}function Yc(e){return!!e&&e.isCloudEngine()}function lht(e,t,n,r,i){const o=Object.values(e).filter(l=>l.endTime>-1).map(l=>l.componentName),s=i!==void 0;return{total:t.map(l=>n.components[l]?1:Object.entries(e).filter(([u,c])=>u.includes(`${l}_`)).length).reduce((l,u)=>l+u,0),answered:o,isDynamic:s}}const D2e=k.createContext({user:{user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},logout:async()=>{},triggerAuth:()=>{},verifyAdminStatus:()=>Promise.resolve(!1)}),Hy=()=>k.useContext(D2e);function uht({children:e}){const t={user:null,determiningStatus:!0,isAdmin:!1,adminVerification:!1},n={user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},r={user:{email:"fakeEmail@fake.com",uid:"fakeUid"},determiningStatus:!1,isAdmin:!0,adminVerification:!0},[i,o]=k.useState(t),[s,a]=k.useState(!1),{storageEngine:l}=Mi(),u=async()=>{if(l&&Yc(l))try{await l.logout()}catch(h){console.error(`There was an issue signing-out the user: ${h.message}`)}finally{o(n)}},c=k.useCallback(()=>{a(!0)},[]);k.useEffect(()=>{(async()=>{if(l?.getEngine()==="supabase")try{await l.getSession()}catch(m){console.error("Supabase session check failed",m)}})()},[l,c]);const d=async h=>l&&Yc(l)?await l.validateUser(h,!0):!1;k.useEffect(()=>{o(t);const h=async g=>{if(o(y=>({user:y.user,isAdmin:y.isAdmin,determiningStatus:!0,adminVerification:!1})),g){const y={user:g,determiningStatus:!1,isAdmin:!1,adminVerification:!0},v=await d(y);y.isAdmin=!!v,o(y)}else u()},p=(async()=>(l&&Yc(l)?(await l.getUserManagementData("authentication"))?.isEnabled?l.unsubscribe(h):o(r):l&&o(r),()=>{}))();return()=>{p.then(g=>g())}},[l,s]);const f=k.useMemo(()=>({user:i,triggerAuth:c,logout:u,verifyAdminStatus:d}),[i]);return x.jsx(D2e.Provider,{value:f,children:i.determiningStatus?x.jsx(ql,{visible:!0}):e})}function cht({configName:e,config:t,url:n,modes:r}){const{storageEngine:i}=Mi(),[o,s]=k.useState(null);k.useEffect(()=>{i&&i.getParticipantsStatusCounts(e).then(c=>{s(c)})},[e,i]);const{minTime:a,maxTime:l}=k.useMemo(()=>{if(!o)return{minTime:null,maxTime:null};if(!o.minTime||!o.maxTime)return{minTime:null,maxTime:null};const c=typeof o.minTime=="number"?new Date(o.minTime):o.minTime.toDate(),d=typeof o.maxTime=="number"?new Date(o.maxTime):o.maxTime.toDate();return{minTime:c.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"}),maxTime:d.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"})}},[o]),u=k.useMemo(()=>r?r.dataCollectionEnabled?o&&(o.inProgress>0||o.completed>0)?"Collecting Data":"Ready to Collect Data":"Data Collection Disabled":"Unknown",[r,o]);return x.jsx(Uy,{shadow:"sm",radius:"md",my:"sm",withBorder:!0,children:t.errors.length>0?x.jsxs(x.Fragment,{children:[x.jsx(Ve,{fw:"bold",children:e}),x.jsxs(At,{align:"center",direction:"row",children:[x.jsx(ld,{color:"red"}),x.jsx(Ve,{fw:"bold",ml:8,color:"red",children:"Errors"})]}),x.jsx(X3,{issues:t.errors,type:"error"}),t.warnings.length>0&&x.jsxs(x.Fragment,{children:[x.jsxs(At,{align:"center",direction:"row",children:[x.jsx(ld,{color:"orange"}),x.jsx(Ve,{fw:"bold",ml:8,color:"orange",children:"Warnings"})]}),x.jsx(X3,{issues:t.warnings,type:"warning"})]})]}):x.jsxs(x.Fragment,{children:[x.jsx(At,{direction:"row",justify:"space-between",children:x.jsx(Ve,{fw:"bold",children:t.studyMetadata.title})}),x.jsxs(Ve,{c:"dimmed",children:[x.jsx(Ve,{span:!0,fw:500,children:"Authors: "}),t.studyMetadata.authors.join(", ")]}),x.jsx(Ve,{c:"dimmed",children:t.studyMetadata.description}),x.jsx(Ve,{c:"dimmed",ta:"right",style:{paddingRight:5},children:x.jsxs(P1,{target:"_blank",onClick:c=>c.stopPropagation(),href:`https://github.com/revisit-studies/study/tree/main/public/${n}`,children:["View source:"," ",n,x.jsx(ztt,{style:{width:Ge(18),height:Ge(18),marginLeft:Ge(2),marginBottom:Ge(-3)}})]})}),t.warnings.length>0&&x.jsxs(x.Fragment,{children:[x.jsxs(At,{align:"center",direction:"row",children:[x.jsx(ld,{color:"orange"}),x.jsx(Ve,{fw:"bold",ml:8,color:"orange",children:"Warnings"})]}),x.jsx(X3,{issues:t.warnings,type:"warning"})]}),x.jsx(TE,{my:"md"}),x.jsxs(At,{direction:"row",gap:"sm",children:[x.jsxs(Ve,{fw:"bold",size:"sm",opacity:.7,children:["Study Status:"," ",u]}),o&&x.jsx(aht,{completed:o.completed,inProgress:o.inProgress,rejected:o.rejected}),x.jsxs(At,{ml:"auto",gap:"sm",opacity:.7,children:[r?.studyNavigatorEnabled?x.jsx(yt,{label:"Study navigator enabled",withinPortal:!0,children:x.jsx(SSe,{size:16,color:"green"})}):x.jsx(yt,{label:"Study navigator disabled",withinPortal:!0,children:x.jsx($nt,{size:16,color:"red"})}),r?.analyticsInterfacePubliclyAccessible?x.jsx(yt,{label:"Analytics interface publicly accessible",withinPortal:!0,children:x.jsx(wSe,{size:16,color:"green"})}):x.jsx(yt,{label:"Analytics interface not publicly accessible",withinPortal:!0,children:x.jsx(bSe,{size:16,color:"red"})}),i?.getEngine()==="localStorage"?x.jsx(yt,{label:"Local storage enabled",withinPortal:!0,position:"bottom",children:x.jsx(JN,{size:16,color:"green"})}):i?.getEngine()==="firebase"?x.jsx(yt,{label:"Firebase enabled",withinPortal:!0,position:"bottom",children:x.jsx(hSe,{size:16,color:"green"})}):i?.getEngine()==="supabase"?x.jsx(yt,{label:"Supabase enabled",withinPortal:!0,position:"bottom",children:x.jsx(NX,{size:16,color:"green"})}):x.jsx(yt,{label:"Unknown storage engine enabled",withinPortal:!0,position:"bottom",children:x.jsx(JN,{size:16,color:"red"})})]})]}),a&&l&&x.jsxs(Ve,{c:"dimmed",mt:4,children:["Activity:"," ",a," ",""," ",l]}),x.jsxs(At,{direction:"row",align:"end",gap:"sm",mt:"md",children:[x.jsx(Ut,{leftSection:x.jsx(pSe,{}),style:{marginLeft:"auto"},variant:"default",component:"a",href:`${bo}analysis/stats/${n}`,children:"Analyze & Manage Study"}),x.jsx(Ut,{leftSection:x.jsx(xSe,{}),component:"a",href:`${bo}${n}`,children:"Go to Study"})]})]})},e)}function Yw({configNames:e,studyConfigs:t,modesByConfig:n}){return e.map(r=>{const i=t[r];if(!i)return null;const o=ISe(r);return x.jsx(cht,{configName:r,config:i,url:o,modes:n[r]??null},r)})}function dht({globalConfig:e,studyConfigs:t}){const{storageEngine:n}=Mi(),{configsList:r}=e,[i,o]=k.useState({}),[s,a]=k.useState({});k.useEffect(()=>{async function w(){const E={},C={};await Promise.all(r.map(async S=>{if(n&&Yc(n)){const T=await n.getModes(S);E[S]=T.analyticsInterfacePubliclyAccessible,C[S]=T}else C[S]=null})),o(E),a(C)}w()},[r,n]);const{user:l}=Hy(),u=k.useMemo(()=>r.filter(w=>i[w]||l.isAdmin),[r,i,l]),c=k.useMemo(()=>u.filter(w=>w.startsWith("demo-")),[u]),d=k.useMemo(()=>u.filter(w=>w.startsWith("tutorial")),[u]),f=k.useMemo(()=>u.filter(w=>w.startsWith("example-")),[u]),h=k.useMemo(()=>u.filter(w=>w.startsWith("test-")),[u]),m=k.useMemo(()=>u.filter(w=>w.startsWith("library-")),[u]),p=k.useMemo(()=>u.filter(w=>!w.startsWith("demo-")&&!w.startsWith("tutorial")&&!w.startsWith("example-")&&!w.startsWith("test-")&&!w.startsWith("library-")),[u]),[g]=kc(),y=k.useMemo(()=>g.get("tab")||(p.length>0?"Others":"Demos"),[p.length,g]),v=pl();return x.jsx(io.Main,{children:x.jsxs(yg,{size:"sm",px:0,children:[x.jsx(vg,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${bo}revisitAssets/revisitLogoSquare.svg`,alt:"reVISit"}),x.jsxs(gr,{variant:"outline",defaultValue:p.length>0?"Others":"Demos",value:y,onChange:w=>v(`/?tab=${w}`),children:[x.jsxs(gr.List,{children:[p.length>0&&x.jsx(gr.Tab,{value:"Others",children:"Your Studies"}),x.jsx(gr.Tab,{value:"Demos",children:"Demo Studies"}),x.jsx(gr.Tab,{value:"Examples",children:"Example Studies"}),x.jsx(gr.Tab,{value:"Tutorials",children:"Tutorials"}),x.jsx(gr.Tab,{value:"Tests",children:"Tests"}),x.jsx(gr.Tab,{value:"Libraries",children:"Libraries"})]}),p.length>0&&x.jsx(gr.Panel,{value:"Others",children:x.jsx(Yw,{configNames:p,studyConfigs:t,modesByConfig:s})}),x.jsxs(gr.Panel,{value:"Demos",children:[x.jsx(Ve,{c:"dimmed",mt:"sm",children:"These studies show off individual features of the reVISit platform."}),x.jsx(Yw,{configNames:c,studyConfigs:t,modesByConfig:s})]}),x.jsxs(gr.Panel,{value:"Examples",children:[x.jsx(Ve,{c:"dimmed",mt:"sm",children:"These are full studies that demonstrate the capabilities of the reVISit platform."}),x.jsx(Yw,{configNames:f,studyConfigs:t,modesByConfig:s})]}),x.jsxs(gr.Panel,{value:"Tutorials",children:[x.jsx(Ve,{c:"dimmed",mt:"sm",children:"These studies are designed to help you learn how to use the reVISit platform."}),x.jsx(Yw,{configNames:d,studyConfigs:t,modesByConfig:s})]}),x.jsxs(gr.Panel,{value:"Tests",children:[x.jsx(Ve,{c:"dimmed",mt:"sm",children:"These studies exist for testing purposes."}),x.jsx(Yw,{configNames:h,studyConfigs:t,modesByConfig:s})]}),x.jsxs(gr.Panel,{value:"Libraries",children:[x.jsx(Ve,{c:"dimmed",mt:"sm",children:"Here you can see an example of every library that we publish."}),x.jsx(Yw,{configNames:m,studyConfigs:t,modesByConfig:s})]})]})]})})}var JB={exports:{}},ZB={};var Nce;function fht(){if(Nce)return ZB;Nce=1;var e=j6();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,s=e.useMemo,a=e.useDebugValue;return ZB.useSyncExternalStoreWithSelector=function(l,u,c,d,f){var h=i(null);if(h.current===null){var m={hasValue:!1,value:null};h.current=m}else m=h.current;h=s(function(){function g(C){if(!y){if(y=!0,v=C,C=d(C),f!==void 0&&m.hasValue){var S=m.value;if(f(S,C))return w=S}return w=C}if(S=w,n(v,C))return S;var T=d(C);return f!==void 0&&f(S,T)?(v=C,S):(v=C,w=T)}var y=!1,v,w,E=c===void 0?null:c;return[function(){return g(u())},E===null?void 0:function(){return g(E())}]},[u,c,d,f]);var p=r(l,h[0],h[1]);return o(function(){m.hasValue=!0,m.value=p},[p]),a(p),p},ZB}var Mce;function hht(){return Mce||(Mce=1,JB.exports=fht()),JB.exports}var pht=hht();function mht(e){e()}function ght(){let e=null,t=null;return{clear(){e=null,t=null},notify(){mht(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var $ce={notify(){},get:()=>[]};function yht(e,t){let n,r=$ce,i=0,o=!1;function s(p){c();const g=r.subscribe(p);let y=!1;return()=>{y||(y=!0,g(),d())}}function a(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return o}function c(){i++,n||(n=e.subscribe(l),r=ght())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=$ce)}function f(){o||(o=!0,c())}function h(){o&&(o=!1,d())}const m={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return m}var vht=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bht=vht(),wht=()=>typeof navigator<"u"&&navigator.product==="ReactNative",xht=wht(),_ht=()=>bht||xht?k.useLayoutEffect:k.useEffect,Eht=_ht(),Cht=Symbol.for("react-redux-context"),Sht=typeof globalThis<"u"?globalThis:{};function Tht(){if(!k.createContext)return{};const e=Sht[Cht]??=new Map;let t=e.get(k.createContext);return t||(t=k.createContext(null),e.set(k.createContext,t)),t}var ly=Tht();function Aht(e){const{children:t,context:n,serverState:r,store:i}=e,o=k.useMemo(()=>{const l=yht(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=k.useMemo(()=>i.getState(),[i]);Eht(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||ly;return k.createElement(a.Provider,{value:o},t)}var kht=Aht;function aQ(e=ly){return function(){return k.useContext(e)}}var P2e=aQ();function O2e(e=ly){const t=e===ly?P2e:aQ(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var Rht=O2e();function Iht(e=ly){const t=e===ly?Rht:O2e(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var N2e=Iht(),Dht=(e,t)=>e===t;function Pht(e=ly){const t=e===ly?P2e:aQ(e),n=(r,i={})=>{const{equalityFn:o=Dht}=typeof i=="function"?{equalityFn:i}:i,s=t(),{store:a,subscription:l,getServerState:u}=s;k.useRef(!0);const c=k.useCallback({[r.name](f){return r(f)}}[r.name],[r]),d=pht.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,u||a.getState,c,o);return k.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var Oht=Pht();const Nht="/template/assets/VLAT1-vnvZ7yRm.png",Mht=Object.freeze(Object.defineProperty({__proto__:null,default:Nht},Symbol.toStringTag,{value:"Module"})),$ht="/template/assets/VLAT10-BMGl61Mu.png",Fht=Object.freeze(Object.defineProperty({__proto__:null,default:$ht},Symbol.toStringTag,{value:"Module"})),Lht="/template/assets/VLAT11-Bxb0LCYD.png",jht=Object.freeze(Object.defineProperty({__proto__:null,default:Lht},Symbol.toStringTag,{value:"Module"})),Bht="/template/assets/VLAT12-Ch9t16aS.png",zht=Object.freeze(Object.defineProperty({__proto__:null,default:Bht},Symbol.toStringTag,{value:"Module"})),Uht="/template/assets/VLAT2-Ck6767Xc.png",Vht=Object.freeze(Object.defineProperty({__proto__:null,default:Uht},Symbol.toStringTag,{value:"Module"})),Hht="/template/assets/VLAT3-Cwe4YjoY.png",qht=Object.freeze(Object.defineProperty({__proto__:null,default:Hht},Symbol.toStringTag,{value:"Module"})),Wht="/template/assets/VLAT4-CZ1oExNp.png",Ght=Object.freeze(Object.defineProperty({__proto__:null,default:Wht},Symbol.toStringTag,{value:"Module"})),Yht="/template/assets/VLAT5-C6h4Z1Dz.png",Kht=Object.freeze(Object.defineProperty({__proto__:null,default:Yht},Symbol.toStringTag,{value:"Module"})),Xht="/template/assets/VLAT6-BSRlVaih.png",Qht=Object.freeze(Object.defineProperty({__proto__:null,default:Xht},Symbol.toStringTag,{value:"Module"})),Jht="/template/assets/VLAT7-BF4fuAsD.png",Zht=Object.freeze(Object.defineProperty({__proto__:null,default:Jht},Symbol.toStringTag,{value:"Module"})),ept="/template/assets/VLAT8-Cf_OYzE7.png",tpt=Object.freeze(Object.defineProperty({__proto__:null,default:ept},Symbol.toStringTag,{value:"Module"})),npt="/template/assets/VLAT9-CkTk-Ex0.png",rpt=Object.freeze(Object.defineProperty({__proto__:null,default:npt},Symbol.toStringTag,{value:"Module"})),lQ=[{question:"What was the price of a barrel of oil in February 2015?",img:"VLAT1",name:"0",options:["$57.36","$47.82","$50.24","$39.72","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"line",originID:1,task:"Retrieve Value",CVR:1,P:.95,D:.07},{question:"In which month was the price of a barrel of oil the lowest in 2015?",img:"VLAT1",name:"1",options:["March","May","July","December","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"line",originID:2,task:"Find Extremum",CVR:1,P:.97,D:.06},{question:"What was the price range of a barrel of oil in 2015?",img:"VLAT1",name:"2",options:["$35 - $65","$48.36 - $60.95","$37.04 - $48.36","$37.04 - $60.95","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"line",originID:3,task:"Determine Range",CVR:1,P:.56,D:.66},{question:"Over the course of the second half of 2015, the price of a barrel of oil was",img:"VLAT1",name:"3",options:["Rising","Falling","Staying","Skip"],trueAnswer:1,answer:"",required:!0,chartType:"line",originID:4,task:"Find Correlations/Trends",CVR:1,P:.98,D:.03},{question:"About how much did the price of a barrel of oil fall from April to September in 2015?",img:"VLAT1",name:"4",options:["$4","$15","$17","$45","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"line",originID:5,task:"Make Comparisons",CVR:.2,P:.77,D:.44},{question:"What is the average internet speed in Japan?",img:"VLAT2",name:"5",options:["10 Mbps","14 Mbps","15 Mbps","16 Mbps","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bar",originID:6,task:"Retrieve Value",CVR:1,P:.88,D:.21},{question:"In which country is the average internet speed the fastest in Asia?",img:"VLAT2",name:"6",options:["China","Hong Kong","South Korea","Vietnam","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bar",originID:7,task:"Find Extremum",CVR:1,P:.98,D:.05},{question:"What is the range of the average internet speed in Asia?",img:"VLAT2",name:"7",options:["0 - 22 Mbps"," 2 - 20.5 Mbps","3 - 20 Mbps","3.4 - 7.8 Mbps","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bar",originID:8,task:"Determine Range",CVR:.6,P:.54,D:.61},{question:"How many countries in Asia have an average internet speed that is slower than that of Thailand?",img:"VLAT2",name:"8",options:["5 Countries"," 6 Countries","7 Countries","8 Countries","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bar",originID:9,task:"Make Comparisons",CVR:.2,P:.4,D:.23},{question:"What is the cost of peanuts in Las Vegas?",img:"VLAT3",name:"9",options:["$12"," $16.7","$23.4","$35.4","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackbar",originID:10,task:"Retrieve Value (Absolute Value)",CVR:.2,P:.38,D:.66},{question:"About what is the ratio of the cost of a sandwich to the total cost of room service in Seattle?",img:"VLAT3",name:"10",options:["1 to 10","2 to 10","4 to 10","6 to 10","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"stackbar",originID:11,task:"Retrieve Value (Relative Value)",CVR:.2,P:.36,D:.48},{question:"In which city is the cost of soda the highest?",img:"VLAT3",name:"11",options:["New York City","Las Vegas","Atlanta","Washington D.C.","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"stackbar",originID:12,task:"Find Extremum",CVR:.2,P:.69,D:.45},{question:"The cost of vodka in Atlanta is higher than that of Honolulu.",img:"VLAT3",name:"13",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackbar",originID:14,task:"Make Comparisons (Absolute Value)",CVR:.2,P:.59,D:.52},{question:"The ratio of the cost of Soda to the cost of Water in Orlando is higher than in that of Washington D.C.",img:"VLAT3",name:"14",options:["True","False","Skip"],trueAnswer:1,answer:"",required:!0,chartType:"stackbar",originID:15,task:"Make Comparisons (Relative Value)",CVR:.2,P:.47,D:.32},{question:"What is the approval rating of Republicans among the people who have the education level of Postgraduate Study?",img:"VLAT4",name:"15",options:["38%","47%","53%","62%","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"100% stackbar",originID:16,task:"Retrieve Value (Relative Value)",CVR:1,P:.49,D:.57},{question:"What is the education level of people in which the Democrats have the lowest approval rating?",img:"VLAT4",name:"16",options:["High School Graduate or Less","Some College Degree","College Graduate","Postgraduate study","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"100% stackbar",originID:17,task:"Find Extremum (Relative Value)",CVR:.6,P:.9,D:.21},{question:"The approval rating of Republicans for the people who have the education level of Some College Degree is lower than that for the people who have the education level of Postgraduate Study.",img:"VLAT4",name:"17",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"100% stackbar",originID:18,task:"Make Comparisons (Relative Value)",CVR:1,P:.54,D:.54},{question:"About what is the global smartphone market share of Samsung?",img:"VLAT5",name:"18",options:["15%","25%","33%","50%","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"pie",originID:19,task:"Retrieve Value (Relative Value)",CVR:.6,P:.72,D:.34},{question:"In which company is the global smartphone market share the smallest?",img:"VLAT5",name:"19",options:["Apple","Xiaomi","Lenovo","Others","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"pie",originID:20,task:"Find Extremum (Relative Value)",CVR:.6,P:.98,D:.03},{question:"The global smartphone market share of Apple is larger than that of Huawei.",img:"VLAT5",name:"20",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"pie",originID:21,task:"Make Comparisons (Relative Value)",CVR:.6,P:1,D:0},{question:"How many people have rated the taxi between 4.0 and 4.2?",img:"VLAT6",name:"21",options:["145","153","200","240","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"histogram",originID:22,task:"Retrieve Value (Derived Value)",CVR:1,P:.84,D:.26},{question:"What is the rating that the people have rated the taxi the most?",img:"VLAT6",name:"22",options:["4.2-4.4","4.4-4.6","4.6-4.8","4.8-5.0","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"histogram",originID:23,task:"Find Extremum (Derived Value)",CVR:1,P:.94,D:.06},{question:"More people have rated the taxi between 4.6 and 4.8 than between 4.2 and 4.4.",img:"VLAT6",name:"24",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"histogram",originID:25,task:"Make Comparisons (Derived Value)",CVR:1,P:.86,D:.18},{question:"What is the weight for the person who is 165.1 cm tall?",img:"VLAT7",name:"26",options:["53.9kg","67.7kg","70.5kg","82.7kg","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"scatterplot",originID:27,task:"Retrieve Value",CVR:1,P:.85,D:.27},{question:"What is the height for the tallest person among the 85 males?",img:"VLAT7",name:"27",options:["175.3cm","192cm","197.1cm","200cm","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"scatterplot",originID:28,task:"Find Extremum",CVR:1,P:.76,D:.39},{question:"What is the range in weight for the 85 males?",img:"VLAT7",name:"28",options:["40 - 130kg","62.3 - 90.9kg","53.9 - 102.3kg","53.9 - 123.6kg","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"scatterplot",originID:29,task:"Determine Range",CVR:.6,P:.53,D:.49},{question:"What is the height for a person who lies outside the others the most?",img:"VLAT7",name:"30",options:["167.4cm","175.3cm","193cm","197.1cm","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"scatterplot",originID:31,task:"Find Anomalies",CVR:.6,P:.42,D:.29},{question:"A group of males are gathered around the height of 176 cm and the weight of 70 kg.",img:"VLAT7",name:"31",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"scatterplot",originID:32,task:"Find Clusters",CVR:.2,P:.9,D:.23},{question:"There is a negative linear relationship between the height and the weight of the 85 males.",img:"VLAT7",name:"32",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"scatterplot",originID:33,task:"Find Correlations/Trends",CVR:1,P:.52,D:.66},{question:"The weights for males with the height of 188 cm are all the same.",img:"VLAT7",name:"33",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"scatterplot",originID:34,task:"Make Comparisons",CVR:.6,P:.79,D:.2},{question:"What was the average price of a pound of coffee beans in September 2013?",img:"VLAT8",name:"34",options:["$4.9","$5.0","$5.1","$5.2","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"area",originID:35,task:"Retrieve Value",CVR:1,P:.75,D:.34},{question:"When was the average price of a pound of coffee beans at minimum?",img:"VLAT8",name:"35",options:["April 2013","September 2013","June 2014","December 2014","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"area",originID:36,task:"Find Extremum",CVR:1,P:.44,D:.33},{question:"What was the range of the average price of a pound of coffee beans between January 2013 and December 2014?",img:"VLAT8",name:"36",options:["$4.4 - $6.2","$4.6 - $5.9","$4.6 - $6.0","$4.6 - $6.1","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"area",originID:37,task:"Determine Range",CVR:.6,P:.38,D:.31},{question:"Over the course of 2013, the average price of a pound of coffee beans was",img:"VLAT8",name:"37",options:["Rising","Falling","Staying","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"area",originID:38,task:"Find Correlations/Trends",CVR:1,P:.94,D:.14},{question:"What was the number of girls named 'Amelia' in 2010 in the UK?",img:"VLAT9",name:"39",options:["1500","3800","4200","8000","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"stackarea",originID:40,task:"Retrieve Value (Absolute Value)",CVR:.2,P:.15,D:.29},{question:"About what was the ratio of the number of girls named 'Olivia' to those named 'Isla' in 2014 in the UK?",img:"VLAT9",name:"40",options:["1 to 1","1 to 2","1 to 3","1 to 4","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackarea",originID:41,task:"Retrieve Value (Relative Value)",CVR:.6,P:.25,D:.29},{question:"Over the course of years between 2009 and 2014, when was the number of girls named 'Amelia' at the maximum?",img:"VLAT9",name:"41",options:["2009","2011","2012","2014","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"stackarea",originID:42,task:"Find Extremum",CVR:.6,P:.97,D:.04},{question:"The number of girls named 'Isla' was __________ from 2009 to 2012.",img:"VLAT9",name:"43",options:["Rising","Falling","Staying","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackarea",originID:44,task:"Find Correlations/Trends",CVR:1,P:.96,D:.09},{question:"In the UK, the number of girls named 'Amelia' in 2014 was more than it was in 2013.",img:"VLAT9",name:"44",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"stackarea",originID:45,task:"Make Comparisons (Absolute Value)",CVR:.6,P:.2,D:.17},{question:"Over the course of years between 2009 and 2014, the number of girls named 'Isla' was always more than 'Olivia'.",img:"VLAT9",name:"45",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"stackarea",originID:46,task:"Make Comparisons (Relative Value)",CVR:.2,P:.24,D:.2},{question:"What is the total length of the metro system in Beijing?",img:"VLAT10",name:"47",options:["330km","400km","530km","560km","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bubble",originID:47,task:"Retrieve Value",CVR:1,P:.41,D:.46},{question:"Which city's metro system has the largest number of stations?",img:"VLAT10",name:"48",options:["Seoul","Beijing","New York City","Shanghai","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bubble",originID:48,task:"Find Extremum",CVR:1,P:.69,D:.41},{question:"What is the range of the total length of the metro systems?",img:"VLAT10",name:"49",options:["150 - 600 km","240 - 380 km","240 - 560 km","180 - 560 km","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"bubble",originID:49,task:"Determine Range",CVR:.6,P:.29,D:.46},{question:"Which city's metro system does lie outside the relationship between the total system length and the number of stations most?",img:"VLAT10",name:"51",options:["Tokyo","New York City","Beijing","London","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:51,task:"Find Anomalies",CVR:.2,P:.53,D:.32},{question:"A group of the metro systems of the world has approximately 300 stations and around a 200 km system length.",img:"VLAT10",name:"52",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:52,task:"Find Clusters",CVR:.2,P:.59,D:.5},{question:"In general, the ridership of the metro system increases as the number of stations increases.",img:"VLAT10",name:"53",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:53,task:"Find Correlations/Trends",CVR:.2,P:.26,D:.09},{question:"The metro system in Shanghai has more ridership than the metro system in Beijing.",img:"VLAT10",name:"54",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:54,task:"Make Comparisons",CVR:1,P:.8,D:.33},{question:"What was the unemployment rate for Indiana (IN) in 2015?",img:"VLAT11",name:"55",options:["1.1 - 2.3%","2.3 - 3.4%","3.4 - 4.6%","4.6 - 5.7%","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"map",originID:55,task:"Retrieve Value (Approximate Value)",CVR:.6,P:.24,D:.01},{question:"In which state was the unemployment rate the highest in 2015?",img:"VLAT11",name:"56",options:["Alaska (AK)","New Mexico (NM)","Florida (FL)","New York (NY)","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"map",originID:56,task:"Find Extremum (Approximate Value)",CVR:.6,P:.97,D:.06},{question:"In 2015, the unemployment rate for Washington (WA) was higher than that of Wisconsin (WI).",img:"VLAT11",name:"57",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"map",originID:57,task:"Make Comparisons (Approximate Value)",CVR:.6,P:.92,D:.15},{question:"For which website was the number of unique visitors the largest in 2010?",img:"VLAT12",name:"58",options:["Facebook","Amazon","Bing","Google","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"treemap",originID:59,task:"Find Extremum (Relative Value)",CVR:.6,P:.68,D:.37},{question:"The number of unique visitors for Amazon was more than that of Yahoo in 2010.",img:"VLAT12",name:"59",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"treemap",originID:60,task:"Make Comparisons (Relative Value)",CVR:.2,P:.42,D:.38},{question:"Samsung is nested in the Financial category.",img:"VLAT12",name:"60",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"treemap",originID:61,task:"Identify the Hierarchical Structure",CVR:1,P:.92,D:.13}],M2e=Object.freeze(Object.defineProperty({__proto__:null,VLATQuestions:lQ},Symbol.toStringTag,{value:"Module"}));function ipt({parameters:e,setAnswer:t,answers:n}){const r="vlatResp",i=`dynamicBlock_1_VlatTrial_${e.qidx}`,o=n[i]?.answer?.[r],[s,a]=k.useState(o||""),[l,u]=k.useState(!1);k.useEffect(()=>{const h=Object.keys(n[i]?.incorrectAnswers||{}).length>0;u(h)},[n,i]),k.useEffect(()=>{t({status:!0,answers:{[r]:s,score:e.score}})},[s,e.score,t]);const c=lQ.filter(h=>h.originID===e.activeQuestionIdx)[0],d=Object.assign({"./vlatImg/VLAT1.png":Mht,"./vlatImg/VLAT10.png":Fht,"./vlatImg/VLAT11.png":jht,"./vlatImg/VLAT12.png":zht,"./vlatImg/VLAT2.png":Vht,"./vlatImg/VLAT3.png":qht,"./vlatImg/VLAT4.png":Ght,"./vlatImg/VLAT5.png":Kht,"./vlatImg/VLAT6.png":Qht,"./vlatImg/VLAT7.png":Zht,"./vlatImg/VLAT8.png":tpt,"./vlatImg/VLAT9.png":rpt}),f={};if(!c)return x.jsx(Ie,{children:"Loading question..."});for(const h in d)if(h){const m=h.split("/").pop()?.replace(".png","")||"",p=d[h];f[m]=p.default}return x.jsx(Ie,{children:x.jsxs(go,{children:[x.jsx(go.Col,{span:8,children:x.jsx(vg,{radius:"sm",src:f[c.img]||"",alt:"VIS",w:"100%",maw:900})}),x.jsx(go.Col,{span:4,pt:20,children:x.jsx(ol.Group,{name:"question",label:c.question,value:`${s}`,size:"md",children:x.jsx(or,{mt:30,children:c.options.map((h,m)=>x.jsx(ol,{disabled:o!==void 0&&o!==""||l,value:`${String.fromCharCode(65+m)}`,label:`${String.fromCharCode(65+m)}. ${h}`,onClick:()=>a(String.fromCharCode(65+m))},`op${m}`))})})})]})})}const $2e=Object.freeze(Object.defineProperty({__proto__:null,default:ipt},Symbol.toStringTag,{value:"Module"}));function opt(e,t,n){const r=Math.sqrt(2*Math.PI);return e.map(i=>{const o=-((i-t)**2)/(2*n**2);return 1/(r*n)*Math.exp(o)})}function uQ(e,t,n){return 1/(1+Math.exp(-e*(n+t)))}function spt(e,t,n){return 1-uQ(e,t,n)}function apt(e,t,n){const r=uQ(e,t,n);return e**2*r*(1-r)}function lpt(e){const t={},n=new Set;for(const[r,i,o,s,a]of e)t[r]=[i,o,s,a],n.add(s),n.add(a);return[t,n]}function upt(e,t,n){const r=(t-e)/(n-1);return Array.from({length:n},(i,o)=>e+o*r)}function cpt(e){const t=[[1,2.8483115,1.27221185,"Line","RV"],[2,3.040871,1.499349129,"Line","FE"],[3,.25584395,1.374537045,"Line","DR"],[4,3.4258115,1.468088919,"Line","FCT"],[5,1.3189766,1.137137131,"Line","MC"],[6,2.2163635,1.087065104,"Bar","RV"],[7,3.3441315,1.370983684,"Bar","FE"],[8,.1907385,1.072558537,"Bar","DR"],[9,-.766119,.565435838,"Bar","MC"],[10,-.483896,1.308078217,"Stacked","RV"],[11,-.878004,.748876272,"Stacked","RV"],[12,1.011948,.892274374,"Stacked","FE"],[14,.498654,.864483077,"Stacked","MC"],[15,-.2163795,.63115109,"Stacked","MC"],[16,-.021748,1.061661146,"100%","RV"],[17,2.1735685,1.260906618,"100%","FE"],[18,.1964695,1.006552927,"100%","MC"],[19,1.1781005,.952170323,"Pie","RV"],[20,3.4990835,1.266495326,"Pie","FE"],[21,4.577599,1.955349598,"Pie","MC"],[22,1.8068275,1.103396903,"Histogram","RV"],[23,2.825006,1.162700946,"Histogram","FE"],[25,2.1723395,.945254699,"Histogram","MC"],[27,1.85473395,1.128140859,"Scatterplot","RV"],[28,1.226966,1.183203925,"Scatterplot","FE"],[29,.184373,.910403565,"Scatterplot","DR"],[31,-.568358,.598194995,"Scatterplot","FA"],[32,2.1477415,1.293432284,"Scatterplot","FC"],[33,.093807,1.159459154,"Scatterplot","FCT"],[34,1.818106,.805688047,"Scatterplot","MC"],[35,1.3666385,.964108248,"Area","RV"],[36,-.4578085,.596634966,"Area","FE"],[37,-.945452,.576156905,"Area","DR"],[38,2.5183945,1.352297435,"Area","FCT"],[40,-2.567331,.727247878,"Stacked Area","RV"],[41,-1.6333105,.721289353,"Stacked Area","RV"],[42,3.0243125,1.39970206,"Stacked Area","FE"],[44,2.808996,1.391714903,"Stacked Area","FCT"],[45,-2.898462,.485882721,"Stacked Area","MC"],[46,-2.1752885,.564928587,"Stacked Area","MC"],[47,-.5241995,.741666943,"Bubble","RV"],[48,1.0380654,.89755236,"Bubble","FE"],[49,-1.1506875,.851390316,"Bubble","DR"],[51,.210506,.576817469,"Bubble","FA"],[52,.455853,.993160348,"Bubble","FC"],[53,-2.5113305,.431845454,"Bubble","FCT"],[54,1.4998025,1.154025598,"Bubble","MC"],[55,-3.2260095,.367490725,"Map","RV"],[56,3.1477645,1.401881342,"Map","FE"],[57,2.6187185,1.101469613,"Map","MC"],[59,.9082805,.949041643,"Tree","FE"],[60,-.5345505,.671887408,"Tree","MC"],[61,2.5394745,1.109762274,"Tree","ID"]],[n,r]=lpt(t),i=new Set,o=[[2.98530963],[2.26547287],[.47080041],[.96055864],[.97129651],[.85147839],[.49167494],[.32598163],[.23617328],[.75140709],[.4379747],[.89021346],[1.95678745],[.46671114],[.43121635],[.48382087],[.7061291],[.25740084],[.57526741],[.41269657],[.44926689],[.34097188],[.6853534],[2.06499294],[.35356854],[.5014103],[.60471721],[.35648783],[.55006742],[.7328309],[.58740872],[.07316467],[.37773089],[.25774662],[1.67778516],[.37425087],[.00468991],[.09117124],[-.072024],[.27787841],[.50850991],[.26712845],[.23313045],[.17836876],[-.06713018],[2.52157004],[.2163555],[.19764337],[.16053735],[.01037715],[.49067257],[.37890493],[.14471502],[-.15786205],[.37664253],[-.12646154],[1.48456846],[.11995221],[.45500459],[.06510908],[.30381369],[.23628236],[-.0132403],[.12346196],[-.16156058],[-.11441727],[-.09874702],[2.06170801],[.03819284],[-.33842136],[-.299268],[-.18361791],[-.27032307],[-.36719226],[-.63351759],[-.13235381],[-.32526859],[-.75094893],[2.00068807],[-.21555599],[-.29719866],[-.73570516],[-.96429984],[-.62994905],[-.5959251],[-.75414598],[-.91139529],[-.23647941],[-1.15477916],[2.13079529],[-1.19334718],[-1.17815316],[-.3703066],[-.86774687],[-.62753559],[-1.24836742],[-.73756034],[-.57090316],[-1.36838053],[-1.10974556],[1.79120327],[-.99938515],[-1.8725358],[2.81432538],[1.95511785],[1.82598207],[1.91495919],[1.64615882],[1.73761896],[1.74653664],[1.51736399],[1.48752685],[1.97221306],[1.19522668],[2.34740724],[1.54242075],[1.95637583],[1.65824094],[1.68725777],[1.97725808],[1.58887618],[1.51179316],[1.44743075],[1.63524539],[1.34980521],[2.94575102],[1.50590524],[1.58325844],[1.33751502],[.97699839],[1.17390674],[1.45071628],[.89705259],[1.26159178],[1.28050271],[1.2415599],[2.4859962],[1.52956813],[.9266179],[1.55897714],[1.66185973],[1.39525797],[1.02554983],[1.56911437],[1.08589595],[1.2344817],[1.0596063],[2.3289334],[.9177088],[.91794547],[1.03755144],[1.35990785],[1.13449186],[.97657427],[.61813711],[.94747231],[.83248912],[1.15351712],[2.19894252],[1.29781779],[1.0320319],[.95034002],[1.17618522],[.97588753],[.87400339],[1.08163796],[.94947705],[1.11457895],[.63173389],[2.29482725],[.90212167],[.87044902],[.22467558],[.79733281],[.31442579],[.38325478],[.70994584],[1.06667696],[.89253087],[.34143484],[2.14695731],[.84056897],[.88750332],[1.08639498],[.88874537],[.7858341],[.7279417],[.12745017],[.29013591],[.4602226],[.74735825]],s=o.reduce((g,y)=>g+y[0],0)/o.length,a=o.reduce((g,y)=>g+(y[0]-s)**2,0)/o.length,l=Math.sqrt(a),u=upt(-5,5,200);let c=opt(u,s,l),d=s;if(Object.keys(e).length>0){for(const[g,y]of Object.entries(e)){const v=parseInt(g,10),[w,E,C,S]=n[v];r.delete(C),r.delete(S),i.add(`${C}::${S}`);const T=u.map(P=>y===0?spt(E,w,P):uQ(E,w,P)),A=c.map((P,N)=>P*T[N]),D=A.reduce((P,N)=>P+N,0);c=A.map(P=>P/D)}d=u.reduce((g,y,v)=>g+y*c[v],0)}const f={},h=27-Object.keys(e).length,m=(g,y)=>i.has(`${g}::${y}`);for(const[g,y]of Object.entries(n)){const v=parseInt(g,10),[w,E,C,S]=y,T=r.has(C)||r.has(S);Object.hasOwn(e,v)||(r.size===0||h>r.size&&!m(C,S)||h<=r.size&&T)&&(f[v]=apt(E,w,d))}const p=Object.entries(f).reduce((g,y)=>y[1]>g[1]?y:g)[0];return[parseInt(p,10),d]}function F2e(e,t){const n={};for(let o=0;o<e.length;o+=1)n[parseInt(e[o],10)]=t[o];const[r,i]=cpt(n);return[r,i]}const L2e=Object.freeze(Object.defineProperty({__proto__:null,getVLATnextqid:F2e},Symbol.toStringTag,{value:"Module"}));function dpt({answers:e,currentStep:t,currentBlock:n}){const r="vlatResp",i=Object.entries(e).filter(([c,d])=>c.startsWith(`${n}_${t}`)&&d.endTime>-1),o=[],s=[];i.forEach(c=>{const d=c[1].parameters.activeQuestionIdx,f=c[1].answer[r]===c[1].correctAnswer[0].answer;o.push(d),s.push(f?1:0)});const[a,l]=F2e(o,s),u=+lQ.filter(c=>c.originID===a)[0].trueAnswer;return i.length===27?{component:null}:{component:"$adaptive-vlat.components.VlatTrial",parameters:{activeQuestionIdx:a,qidx:o.length,score:l},correctAnswer:[{id:r,answer:String.fromCharCode(65+u)}]}}const j2e=Object.freeze(Object.defineProperty({__proto__:null,default:dpt},Symbol.toStringTag,{value:"Module"}));function fpt({answers:e,currentStep:t,currentBlock:n}){const r=Object.entries(e).filter(([i,o])=>i.startsWith(`${n}_${t}`)&&o.endTime>-1);return r.length===0?{component:"$berlin-num.components.q1-choir-probability"}:r.length===1?{component:r[0][1]?.answer?.["q1-choir-probability"]===25?"$berlin-num.components.q2b-loaded-dice":"$berlin-num.components.q2a-dice-odd-numbers"}:r.length===2&&r[0][1]?.answer?.["q1-choir-probability"]===25?{component:r[1][1]?.answer?.["q2b-loaded-dice"]===20?null:"$berlin-num.components.q3-poisonous-mushrooms"}:{component:null}}const B2e=Object.freeze(Object.defineProperty({__proto__:null,default:fpt},Symbol.toStringTag,{value:"Module"}));function cQ({width:e=60,height:t=36,fps:n=30,fftSize:r=256,barColor:i="#FA5252",barWidth:o=2}){const s=k.useRef(null),a=k.useRef(null),l=k.useRef(null),u=k.useRef(null),c=k.useRef(0),d=k.useRef(null),[f,h]=k.useState(null);return k.useEffect(()=>{let m=0;const p=1e3/n,g=v=>{if(c.current=requestAnimationFrame(g),v-m<p)return;m=v;const w=s.current,E=l.current;if(!w||!E)return;const C=w.getContext("2d");if(!C)return;const S=E.fftSize,T=new Uint8Array(S);E.getByteTimeDomainData(T);const A=Math.max(...T)/128-1,D=C.getImageData(o/2,0,w.width-o/2,w.height);C.putImageData(D,0,0),C.clearRect(w.width-o,0,o,w.height);const I=(1-A)*(w.height/2);C.beginPath(),C.moveTo(w.width-o-10,w.height/2),C.lineTo(w.width-o,w.height/2),C.moveTo(w.width-o,w.height-I),C.lineTo(w.width-o,I),C.strokeStyle=i,C.lineWidth=o,C.stroke()};return(async()=>{const v=s.current;if(!v||!v.getContext("2d"))return;const E=window.devicePixelRatio||1;v.width=e*E,v.height=t*E,v.style.width=`${e}px`,v.style.height=`${t}px`;try{const C=await navigator.mediaDevices.getUserMedia({audio:!0});d.current=C;const S=new window.AudioContext;a.current=S;const T=S.createMediaStreamSource(C);u.current=T;const A=S.createAnalyser();l.current=A,A.fftSize=r,T.connect(A),c.current=requestAnimationFrame(g)}catch(C){console.error("Error accessing microphone:",C),C instanceof Error?h(`Error accessing microphone: ${C.message}. Please grant permission.`):h("An unknown error occurred while accessing the microphone.")}})(),()=>{cancelAnimationFrame(c.current),l.current&&l.current.disconnect(),u.current&&u.current.disconnect(),d.current&&d.current.getTracks().forEach(v=>v.stop()),a.current&&a.current.state!=="closed"&&a.current.close()}},[e,t,n,r,i,o]),x.jsxs(At,{children:[f&&x.jsx("p",{style:{color:"red",maxWidth:`${e}px`},children:f}),x.jsx("canvas",{ref:s})]})}function Fce({setAnswer:e}){return k.useEffect(()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(n=>{new MediaRecorder(n).start();const i=new AudioContext,o=i.createMediaStreamSource(n),s=i.createAnalyser();s.minDecibels=-45,o.connect(s);const a=s.frequencyBinCount,l=new Uint8Array(a);let u=!1;const c=()=>{if(!u){s.getByteFrequencyData(l);for(let d=0;d<a;d+=1)l[d]>0&&(u=!0,e({status:!0,provenanceGraph:void 0,answers:{audioTest:!0}}));window.requestAnimationFrame(c)}};window.requestAnimationFrame(c)})},[e]),x.jsx(Iu,{style:{height:"70%",width:"100%"},children:x.jsxs(or,{children:[x.jsx(Ve,{ta:"center",children:"Please allow us to access your microphone. There may be a popup in your browser window asking for access, click accept."}),x.jsx(Ve,{ta:"center",children:"Once we can confirm that your microphone is on and we hear you say something, the continue button will become available."}),x.jsx(Ve,{ta:"center",style:{fontWeight:700},children:"If you are not comfortable or able to speak English during this study, please return the study."}),x.jsx(Iu,{children:x.jsx(cQ,{height:200,width:400})})]})})}const z2e=Object.freeze(Object.defineProperty({__proto__:null,AudioTest:Fce,default:Fce},Symbol.toStringTag,{value:"Module"}));function ya(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var hpt=typeof Symbol=="function"&&Symbol.observable||"@@observable",Lce=hpt,e9=()=>Math.random().toString(36).substring(7).split("").join("."),ppt={INIT:`@@redux/INIT${e9()}`,REPLACE:`@@redux/REPLACE${e9()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${e9()}`},o4=ppt;function dQ(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function U2e(e,t,n){if(typeof e!="function")throw new Error(ya(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ya(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ya(1));return n(U2e)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((g,y)=>{s.set(y,g)}))}function c(){if(l)throw new Error(ya(3));return i}function d(g){if(typeof g!="function")throw new Error(ya(4));if(l)throw new Error(ya(5));let y=!0;u();const v=a++;return s.set(v,g),function(){if(y){if(l)throw new Error(ya(6));y=!1,u(),s.delete(v),o=null}}}function f(g){if(!dQ(g))throw new Error(ya(7));if(typeof g.type>"u")throw new Error(ya(8));if(typeof g.type!="string")throw new Error(ya(17));if(l)throw new Error(ya(9));try{l=!0,i=r(i,g)}finally{l=!1}return(o=s).forEach(v=>{v()}),g}function h(g){if(typeof g!="function")throw new Error(ya(10));r=g,f({type:o4.REPLACE})}function m(){const g=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(ya(11));function v(){const E=y;E.next&&E.next(c())}return v(),{unsubscribe:g(v)}},[Lce](){return this}}}return f({type:o4.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:h,[Lce]:m}}function mpt(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:o4.INIT})>"u")throw new Error(ya(12));if(typeof n(void 0,{type:o4.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ya(13))})}function gpt(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{mpt(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],h=s[d],m=f(h,a);if(typeof m>"u")throw a&&a.type,new Error(ya(14));u[d]=m,l=l||m!==h}return l=l||r.length!==Object.keys(s).length,l?u:s}}function s4(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function ypt(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(ya(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},a=e.map(l=>l(s));return o=s4(...a)(i.dispatch),{...i,dispatch:o}}}function vpt(e){return dQ(e)&&"type"in e&&typeof e.type=="string"}var V2e=Symbol.for("immer-nothing"),jce=Symbol.for("immer-draftable"),vc=Symbol.for("immer-state");function sf(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var X2=Object.getPrototypeOf;function qb(e){return!!e&&!!e[vc]}function Ym(e){return e?H2e(e)||Array.isArray(e)||!!e[jce]||!!e.constructor?.[jce]||$k(e)||V$(e):!1}var bpt=Object.prototype.constructor.toString(),Bce=new WeakMap;function H2e(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=Bce.get(n);return r===void 0&&(r=Function.toString.call(n),Bce.set(n,r)),r===bpt}function a4(e,t,n=!0){U$(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function U$(e){const t=e[vc];return t?t.type_:Array.isArray(e)?1:$k(e)?2:V$(e)?3:0}function hH(e,t){return U$(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function q2e(e,t,n){const r=U$(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function wpt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function $k(e){return e instanceof Map}function V$(e){return e instanceof Set}function Gv(e){return e.copy_||e.base_}function pH(e,t){if($k(e))return new Map(e);if(V$(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=H2e(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[vc];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(X2(e),r)}else{const r=X2(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function fQ(e,t=!1){return H$(e)||qb(e)||!Ym(e)||(U$(e)>1&&Object.defineProperties(e,{set:TD,add:TD,clear:TD,delete:TD}),Object.freeze(e),t&&Object.values(e).forEach(n=>fQ(n,!0))),e}function xpt(){sf(2)}var TD={value:xpt};function H$(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var _pt={};function Wb(e){const t=_pt[e];return t||sf(0,e),t}var Q2;function W2e(){return Q2}function Ept(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function zce(e,t){t&&(Wb("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function mH(e){gH(e),e.drafts_.forEach(Cpt),e.drafts_=null}function gH(e){e===Q2&&(Q2=e.parent_)}function Uce(e){return Q2=Ept(Q2,e)}function Cpt(e){const t=e[vc];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Vce(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[vc].modified_&&(mH(t),sf(4)),Ym(e)&&(e=l4(t,e),t.parent_||u4(t,e)),t.patches_&&Wb("Patches").generateReplacementPatches_(n[vc].base_,e,t.patches_,t.inversePatches_)):e=l4(t,n,[]),mH(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==V2e?e:void 0}function l4(e,t,n){if(H$(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[vc];if(!i)return a4(t,(o,s)=>Hce(e,i,t,o,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return u4(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let s=o,a=!1;i.type_===3&&(s=new Set(o),o.clear(),a=!0),a4(s,(l,u)=>Hce(e,i,o,l,u,n,a),r),u4(e,o,!1),n&&e.patches_&&Wb("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function Hce(e,t,n,r,i,o,s){if(i==null||typeof i!="object"&&!s)return;const a=H$(i);if(!(a&&!s)){if(qb(i)){const l=o&&t&&t.type_!==3&&!hH(t.assigned_,r)?o.concat(r):void 0,u=l4(e,i,l);if(q2e(n,r,u),qb(u))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Ym(i)&&!a){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&a)return;l4(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&($k(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&u4(e,i)}}}function u4(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fQ(t,n)}function Spt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:W2e(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=hQ;n&&(i=[r],o=J2);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var hQ={get(e,t){if(t===vc)return e;const n=Gv(e);if(!hH(n,t))return Tpt(e,n,t);const r=n[t];return e.finalized_||!Ym(r)?r:r===t9(e.base_,t)?(n9(e),e.copy_[t]=vH(r,e)):r},has(e,t){return t in Gv(e)},ownKeys(e){return Reflect.ownKeys(Gv(e))},set(e,t,n){const r=G2e(Gv(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=t9(Gv(e),t),o=i?.[vc];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(wpt(n,i)&&(n!==void 0||hH(e.base_,t)))return!0;n9(e),yH(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return t9(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,n9(e),yH(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Gv(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){sf(11)},getPrototypeOf(e){return X2(e.base_)},setPrototypeOf(){sf(12)}},J2={};a4(hQ,(e,t)=>{J2[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});J2.deleteProperty=function(e,t){return J2.set.call(this,e,t,void 0)};J2.set=function(e,t,n){return hQ.set.call(this,e[0],t,n,e[0])};function t9(e,t){const n=e[vc];return(n?Gv(n):e)[t]}function Tpt(e,t,n){const r=G2e(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function G2e(e,t){if(!(t in e))return;let n=X2(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=X2(n)}}function yH(e){e.modified_||(e.modified_=!0,e.parent_&&yH(e.parent_))}function n9(e){e.copy_||(e.copy_=pH(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Apt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&sf(6),r!==void 0&&typeof r!="function"&&sf(7);let i;if(Ym(t)){const o=Uce(this),s=vH(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?mH(o):gH(o)}return zce(o,r),Vce(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===V2e&&(i=void 0),this.autoFreeze_&&fQ(i,!0),r){const o=[],s=[];Wb("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else sf(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ym(e)||sf(8),qb(e)&&(e=kpt(e));const t=Uce(this),n=vH(e,void 0);return n[vc].isManual_=!0,gH(t),n}finishDraft(e,t){const n=e&&e[vc];(!n||!n.isManual_)&&sf(9);const{scope_:r}=n;return zce(r,t),Vce(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Wb("Patches").applyPatches_;return qb(e)?r(e,t):this.produce(e,i=>r(i,t))}};function vH(e,t){const n=$k(e)?Wb("MapSet").proxyMap_(e,t):V$(e)?Wb("MapSet").proxySet_(e,t):Spt(e,t);return(t?t.scope_:W2e()).drafts_.push(n),n}function kpt(e){return qb(e)||sf(10,e),Y2e(e)}function Y2e(e){if(!Ym(e)||H$(e))return e;const t=e[vc];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=pH(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=pH(e,!0);return a4(n,(i,o)=>{q2e(n,i,Y2e(o))},r),t&&(t.finalized_=!1),n}var bH=new Apt,K2e=bH.produce,Rpt=bH.setUseStrictIteration.bind(bH);function Ipt(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Dpt(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Ppt(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var qce=e=>Array.isArray(e)?e:[e];function Opt(e){const t=Array.isArray(e[0])?e[0]:e;return Ppt(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Npt(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Mpt=class{constructor(e){this.value=e}deref(){return this.value}},$pt=typeof WeakRef<"u"?WeakRef:Mpt,Fpt=0,Wce=1;function AD(){return{s:Fpt,v:void 0,o:null,p:null}}function X2e(e,t={}){let n=AD();const{resultEqualityCheck:r}=t;let i,o=0;function s(){let a=n;const{length:l}=arguments;for(let d=0,f=l;d<f;d++){const h=arguments[d];if(typeof h=="function"||typeof h=="object"&&h!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const p=m.get(h);p===void 0?(a=AD(),m.set(h,a)):a=p}else{let m=a.p;m===null&&(a.p=m=new Map);const p=m.get(h);p===void 0?(a=AD(),m.set(h,a)):a=p}}const u=a;let c;if(a.s===Wce)c=a.v;else if(c=e.apply(null,arguments),o++,r){const d=i?.deref?.()??i;d!=null&&r(d,c)&&(c=d,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new $pt(c):c}return u.s=Wce,u.v=c,c}return s.clearCache=()=>{n=AD(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function Lpt(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Ipt(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:h=X2e,argsMemoizeOptions:m=[]}=c,p=qce(f),g=qce(m),y=Opt(i),v=d(function(){return o++,u.apply(null,arguments)},...p),w=h(function(){s++;const C=Npt(y,arguments);return a=v.apply(null,C),a},...g);return Object.assign(w,{resultFunc:u,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var Q2e=Lpt(X2e),jpt=Object.assign((e,t=Q2e)=>{Dpt(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,a,l)=>(s[n[l]]=a,s),{}))},{withTypes:()=>jpt});function J2e(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var Bpt=J2e(),zpt=J2e,Upt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?s4:s4.apply(null,arguments)};function Gce(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Im(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>vpt(r)&&r.type===e,n}var Z2e=class aT extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,aT.prototype)}static get[Symbol.species](){return aT}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new aT(...t[0].concat(this)):new aT(...t.concat(this))}};function Yce(e){return Ym(e)?K2e(e,()=>{}):e}function kD(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Vpt(e){return typeof e=="boolean"}var Hpt=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new Z2e;return n&&(Vpt(n)?s.push(Bpt):s.push(zpt(n.extraArgument))),s},qpt="RTK_autoBatch",Kce=e=>t=>{setTimeout(t,e)},Wpt=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Kce(10):e.type==="callback"?e.queueNotification:Kce(e.timeout),u=()=>{s=!1,o&&(o=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),f=r.subscribe(d);return a.add(c),()=>{f(),a.delete(c)}},dispatch(c){try{return i=!c?.meta?.[qpt],o=!i,o&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},Gpt=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new Z2e(e);return r&&i.push(Wpt(typeof r=="object"?r:void 0)),i};function Ypt(e){const t=Hpt(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(dQ(n))a=gpt(n);else throw new Error(Im(1));let l;typeof r=="function"?l=r(t):l=t();let u=s4;i&&(u=Upt({trace:!1,...typeof i=="object"&&i}));const c=ypt(...l),d=Gpt(c);let f=typeof s=="function"?s(d):d();const h=u(...f);return U2e(a,o,h)}function eAe(e){const t={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(Im(28));if(a in t)throw new Error(Im(29));return t[a]=s,i},addAsyncThunk(o,s){return s.pending&&(t[o.pending.type]=s.pending),s.rejected&&(t[o.rejected.type]=s.rejected),s.fulfilled&&(t[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}Rpt(!1);function Kpt(e){return typeof e=="function"}function Xpt(e,t){let[n,r,i]=eAe(t),o;if(Kpt(e))o=()=>Yce(e());else{const a=Yce(e);o=()=>a}function s(a=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(qb(c)){const h=d(c,l);return h===void 0?c:h}else{if(Ym(c))return K2e(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},a)}return s.getInitialState=o,s}var Qpt=Symbol.for("rtk-slice-createasyncthunk");function Jpt(e,t){return`${e}/${t}`}function Zpt({creators:e}={}){const t=e?.asyncThunk?.[Qpt];return function(r){const{name:i,reducerPath:o=i}=r;if(!i)throw new Error(Im(11));const s=(typeof r.reducers=="function"?r.reducers(nmt()):r.reducers)||{},a=Object.keys(s),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,E){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(Im(12));if(C in l.sliceCaseReducersByType)throw new Error(Im(13));return l.sliceCaseReducersByType[C]=E,u},addMatcher(w,E){return l.sliceMatchers.push({matcher:w,reducer:E}),u},exposeAction(w,E){return l.actionCreators[w]=E,u},exposeCaseReducer(w,E){return l.sliceCaseReducersByName[w]=E,u}};a.forEach(w=>{const E=s[w],C={reducerName:w,type:Jpt(i,w),createNotation:typeof r.reducers=="function"};imt(E)?smt(C,E,u,t):rmt(C,E,u)});function c(){const[w={},E=[],C=void 0]=typeof r.extraReducers=="function"?eAe(r.extraReducers):[r.extraReducers],S={...w,...l.sliceCaseReducersByType};return Xpt(r.initialState,T=>{for(let A in S)T.addCase(A,S[A]);for(let A of l.sliceMatchers)T.addMatcher(A.matcher,A.reducer);for(let A of E)T.addMatcher(A.matcher,A.reducer);C&&T.addDefaultCase(C)})}const d=w=>w,f=new Map,h=new WeakMap;let m;function p(w,E){return m||(m=c()),m(w,E)}function g(){return m||(m=c()),m.getInitialState()}function y(w,E=!1){function C(T){let A=T[w];return typeof A>"u"&&E&&(A=kD(h,C,g)),A}function S(T=d){const A=kD(f,E,()=>new WeakMap);return kD(A,T,()=>{const D={};for(const[I,P]of Object.entries(r.selectors??{}))D[I]=emt(P,T,()=>kD(h,T,g),E);return D})}return{reducerPath:w,getSelectors:S,get selectors(){return S(C)},selectSlice:C}}const v={name:i,reducer:p,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:g,...y(o),injectInto(w,{reducerPath:E,...C}={}){const S=E??o;return w.inject({reducerPath:S,reducer:p},C),{...v,...y(S,!0)}}};return v}}function emt(e,t,n,r){function i(o,...s){let a=t(o);return typeof a>"u"&&r&&(a=n()),e(a,...s)}return i.unwrapped=e,i}var tmt=Zpt();function nmt(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function rmt({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!omt(r))throw new Error(Im(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?Gce(e,s):Gce(e))}function imt(e){return e._reducerDefinitionType==="asyncThunk"}function omt(e){return e._reducerDefinitionType==="reducerWithPrepare"}function smt({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Im(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:u,options:c}=n,d=i(e,o,c);r.exposeAction(t,d),s&&r.addCase(d.fulfilled,s),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:s||RD,pending:a||RD,rejected:l||RD,settled:u||RD})}function RD(){}function Im(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function q$(e){return e.baseComponent!==void 0}function pd(e){return e.order==="dynamic"}function md(e){return pd(e)?[e.id]:e.components.flatMap(t=>typeof t=="string"?t:md(t))}function tAe(e){return pd(e)?[e]:e.components.flatMap(t=>typeof t=="string"?[]:tAe(t))}function wH(e,t){return tAe(t).find(r=>r.id===e)}function nAe(e){return pd(e)?[]:[...e.components.flatMap(t=>typeof t=="string"?t:pd(t)?[]:nAe(t)),...e.interruptions?.flatMap(t=>t.components)||[]]}function rAe(e,t,n){let r=0;for(let i=0;i<e.components.length;i+=1){const o=e.components[i];if(typeof o=="string"){if(typeof t=="number"&&t===n+r)return[{currentBlock:e,firstIndex:n,lastIndex:n+md(e).length-1}];if(typeof t=="string"&&e.orderPath===t)return[{currentBlock:e,firstIndex:n,lastIndex:n+md(e).length-1}];r+=1}else{const s=rAe(o,t,n+r);if(typeof s=="number")r+=s;else{const a={currentBlock:e,firstIndex:n,lastIndex:s[0].lastIndex};return[...s,a]}}}return r}function iAe(e,t){const n=rAe(e,t,0);return typeof n=="number"?null:n}function oAe(e,t,n){if(e.id===t)return{found:!0,distance:n};let r=0;for(let i=0;i<e.components.length;i+=1){const o=e.components[i];if(typeof o=="string")r+=1;else{const s=oAe(o,t,n+r);if(s.found)return s;r+=s.distance}}return{found:!1,distance:r}}function amt(e,t){const n=oAe(e,t,0);return n.found?n.distance:-1}function pQ(e,t){return typeof e=="string"?e:pd(e)?{...e,orderPath:t,components:[]}:{...e,orderPath:t,order:e.order,components:e.components.map((n,r)=>pQ(n,`${t}-${r}`))}}var lT={exports:{}};lT.exports;var Xce;function lmt(){return Xce||(Xce=1,(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",m="[object GeneratorFunction]",p="[object Map]",g="[object Number]",y="[object Null]",v="[object Object]",w="[object Proxy]",E="[object RegExp]",C="[object Set]",S="[object String]",T="[object Undefined]",A="[object WeakMap]",D="[object ArrayBuffer]",I="[object DataView]",P="[object Float32Array]",N="[object Float64Array]",$="[object Int8Array]",O="[object Int16Array]",j="[object Int32Array]",B="[object Uint8Array]",H="[object Uint8ClampedArray]",q="[object Uint16Array]",Y="[object Uint32Array]",V=/[\\^$.*+?()[\]{}|]/g,L=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,z={};z[P]=z[N]=z[$]=z[O]=z[j]=z[B]=z[H]=z[q]=z[Y]=!0,z[a]=z[l]=z[D]=z[c]=z[I]=z[d]=z[f]=z[h]=z[p]=z[g]=z[v]=z[E]=z[C]=z[S]=z[A]=!1;var G=typeof Ri=="object"&&Ri&&Ri.Object===Object&&Ri,Q=typeof self=="object"&&self&&self.Object===Object&&self,te=G||Q||Function("return this")(),de=t&&!t.nodeType&&t,se=de&&!0&&e&&!e.nodeType&&e,ae=se&&se.exports===de,he=ae&&G.process,ie=(function(){try{var oe=se&&se.require&&se.require("util").types;return oe||he&&he.binding&&he.binding("util")}catch{}})(),le=ie&&ie.isTypedArray;function Ce(oe,ye,Me){switch(Me.length){case 0:return oe.call(ye);case 1:return oe.call(ye,Me[0]);case 2:return oe.call(ye,Me[0],Me[1]);case 3:return oe.call(ye,Me[0],Me[1],Me[2])}return oe.apply(ye,Me)}function X(oe,ye){for(var Me=-1,Tt=Array(oe);++Me<oe;)Tt[Me]=ye(Me);return Tt}function fe(oe){return function(ye){return oe(ye)}}function ce(oe,ye){return oe?.[ye]}function ne(oe,ye){return function(Me){return oe(ye(Me))}}var ee=Array.prototype,pe=Function.prototype,Re=Object.prototype,Se=te["__core-js_shared__"],be=pe.toString,Ne=Re.hasOwnProperty,Ae=(function(){var oe=/[^.]+$/.exec(Se&&Se.keys&&Se.keys.IE_PROTO||"");return oe?"Symbol(src)_1."+oe:""})(),Pe=Re.toString,we=be.call(Object),Le=RegExp("^"+be.call(Ne).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=ae?te.Buffer:void 0,tt=te.Symbol,rt=te.Uint8Array;ze&&ze.allocUnsafe;var bt=ne(Object.getPrototypeOf,Object),Kt=Object.create,Wt=Re.propertyIsEnumerable,Mn=ee.splice,Ft=tt?tt.toStringTag:void 0,hn=(function(){try{var oe=ht(Object,"defineProperty");return oe({},"",{}),oe}catch{}})(),Kn=ze?ze.isBuffer:void 0,zn=Math.max,Fr=Date.now,er=ht(te,"Map"),Sr=ht(Object,"create"),Tn=(function(){function oe(){}return function(ye){if(!ru(ye))return{};if(Kt)return Kt(ye);oe.prototype=ye;var Me=new oe;return oe.prototype=void 0,Me}})();function an(oe){var ye=-1,Me=oe==null?0:oe.length;for(this.clear();++ye<Me;){var Tt=oe[ye];this.set(Tt[0],Tt[1])}}function sr(){this.__data__=Sr?Sr(null):{},this.size=0}function pi(oe){var ye=this.has(oe)&&delete this.__data__[oe];return this.size-=ye?1:0,ye}function Tr(oe){var ye=this.__data__;if(Sr){var Me=ye[oe];return Me===r?void 0:Me}return Ne.call(ye,oe)?ye[oe]:void 0}function An(oe){var ye=this.__data__;return Sr?ye[oe]!==void 0:Ne.call(ye,oe)}function ft(oe,ye){var Me=this.__data__;return this.size+=this.has(oe)?0:1,Me[oe]=Sr&&ye===void 0?r:ye,this}an.prototype.clear=sr,an.prototype.delete=pi,an.prototype.get=Tr,an.prototype.has=An,an.prototype.set=ft;function wr(oe){var ye=-1,Me=oe==null?0:oe.length;for(this.clear();++ye<Me;){var Tt=oe[ye];this.set(Tt[0],Tt[1])}}function Vt(){this.__data__=[],this.size=0}function ar(oe){var ye=this.__data__,Me=Hu(ye,oe);if(Me<0)return!1;var Tt=ye.length-1;return Me==Tt?ye.pop():Mn.call(ye,Me,1),--this.size,!0}function un(oe){var ye=this.__data__,Me=Hu(ye,oe);return Me<0?void 0:ye[Me][1]}function tr(oe){return Hu(this.__data__,oe)>-1}function Rr(oe,ye){var Me=this.__data__,Tt=Hu(Me,oe);return Tt<0?(++this.size,Me.push([oe,ye])):Me[Tt][1]=ye,this}wr.prototype.clear=Vt,wr.prototype.delete=ar,wr.prototype.get=un,wr.prototype.has=tr,wr.prototype.set=Rr;function Lr(oe){var ye=-1,Me=oe==null?0:oe.length;for(this.clear();++ye<Me;){var Tt=oe[ye];this.set(Tt[0],Tt[1])}}function jr(){this.size=0,this.__data__={hash:new an,map:new(er||wr),string:new an}}function gs(oe){var ye=ct(this,oe).delete(oe);return this.size-=ye?1:0,ye}function Na(oe){return ct(this,oe).get(oe)}function tu(oe){return ct(this,oe).has(oe)}function Vu(oe,ye){var Me=ct(this,oe),Tt=Me.size;return Me.set(oe,ye),this.size+=Me.size==Tt?0:1,this}Lr.prototype.clear=jr,Lr.prototype.delete=gs,Lr.prototype.get=Na,Lr.prototype.has=tu,Lr.prototype.set=Vu;function Un(oe){var ye=this.__data__=new wr(oe);this.size=ye.size}function Hi(){this.__data__=new wr,this.size=0}function ys(oe){var ye=this.__data__,Me=ye.delete(oe);return this.size=ye.size,Me}function ah(oe){return this.__data__.get(oe)}function Fd(oe){return this.__data__.has(oe)}function Ic(oe,ye){var Me=this.__data__;if(Me instanceof wr){var Tt=Me.__data__;if(!er||Tt.length<n-1)return Tt.push([oe,ye]),this.size=++Me.size,this;Me=this.__data__=new Lr(Tt)}return Me.set(oe,ye),this.size=Me.size,this}Un.prototype.clear=Hi,Un.prototype.delete=ys,Un.prototype.get=ah,Un.prototype.has=Fd,Un.prototype.set=Ic;function Dc(oe,ye){var Me=$i(oe),Tt=!Me&&qi(oe),Ot=!Me&&!Tt&&ns(oe),pn=!Me&&!Tt&&!Ot&&hh(oe),Ln=Me||Tt||Ot||pn,Zt=Ln?X(oe.length,String):[],bn=Zt.length;for(var hr in oe)Ln&&(hr=="length"||Ot&&(hr=="offset"||hr=="parent")||pn&&(hr=="buffer"||hr=="byteLength"||hr=="byteOffset")||Bt(hr,bn))||Zt.push(hr);return Zt}function vs(oe,ye,Me){(Me!==void 0&&!bs(oe[ye],Me)||Me===void 0&&!(ye in oe))&&xr(oe,ye,Me)}function lh(oe,ye,Me){var Tt=oe[ye];(!(Ne.call(oe,ye)&&bs(Tt,Me))||Me===void 0&&!(ye in oe))&&xr(oe,ye,Me)}function Hu(oe,ye){for(var Me=oe.length;Me--;)if(bs(oe[Me][0],ye))return Me;return-1}function xr(oe,ye,Me){ye=="__proto__"&&hn?hn(oe,ye,{configurable:!0,enumerable:!0,value:Me,writable:!0}):oe[ye]=Me}var Ld=nt();function No(oe){return oe==null?oe===void 0?T:y:Ft&&Ft in Object(oe)?dt(oe):Lo(oe)}function Fs(oe){return co(oe)&&No(oe)==a}function Mo(oe){if(!ru(oe)||rr(oe))return!1;var ye=$a(oe)?Le:L;return ye.test(dh(oe))}function qu(oe){return co(oe)&&fh(oe.length)&&!!z[No(oe)]}function la(oe){if(!ru(oe))return pr(oe);var ye=Xt(oe),Me=[];for(var Tt in oe)Tt=="constructor"&&(ye||!Ne.call(oe,Tt))||Me.push(Tt);return Me}function nu(oe,ye,Me,Tt,Ot){oe!==ye&&Ld(ye,function(pn,Ln){if(Ot||(Ot=new Un),ru(pn))$o(oe,ye,Ln,Me,nu,Tt,Ot);else{var Zt=Tt?Tt(jo(oe,Ln),pn,Ln+"",oe,ye,Ot):void 0;Zt===void 0&&(Zt=pn),vs(oe,Ln,Zt)}},Wu)}function $o(oe,ye,Me,Tt,Ot,pn,Ln){var Zt=jo(oe,Me),bn=jo(ye,Me),hr=Ln.get(bn);if(hr){vs(oe,Me,hr);return}var si=pn?pn(Zt,bn,Me+"",oe,ye,Ln):void 0,mi=si===void 0;if(mi){var ki=$i(bn),_o=!ki&&ns(bn),gi=!ki&&!_o&&hh(bn);si=bn,ki||_o||gi?$i(Zt)?si=Zt:Oc(Zt)?si=je(Zt):_o?(mi=!1,si=me(bn)):gi?(mi=!1,si=xe(bn)):si=[]:Og(bn)||qi(bn)?(si=Zt,qi(Zt)?si=ua(Zt):(!ru(Zt)||$a(Zt))&&(si=Et(bn))):mi=!1}mi&&(Ln.set(bn,si),Ot(si,bn,Tt,pn,Ln),Ln.delete(bn)),vs(oe,Me,si)}function uh(oe,ye){return ch(Ma(oe,ye,Fa),oe+"")}var Fo=hn?function(oe,ye){return hn(oe,"toString",{configurable:!0,enumerable:!1,value:yl(ye),writable:!0})}:Fa;function me(oe,ye){return oe.slice()}function Oe(oe){var ye=new oe.constructor(oe.byteLength);return new rt(ye).set(new rt(oe)),ye}function xe(oe,ye){var Me=Oe(oe.buffer);return new oe.constructor(Me,oe.byteOffset,oe.length)}function je(oe,ye){var Me=-1,Tt=oe.length;for(ye||(ye=Array(Tt));++Me<Tt;)ye[Me]=oe[Me];return ye}function Ue(oe,ye,Me,Tt){var Ot=!Me;Me||(Me={});for(var pn=-1,Ln=ye.length;++pn<Ln;){var Zt=ye[pn],bn=void 0;bn===void 0&&(bn=oe[Zt]),Ot?xr(Me,Zt,bn):lh(Me,Zt,bn)}return Me}function Fe(oe){return uh(function(ye,Me){var Tt=-1,Ot=Me.length,pn=Ot>1?Me[Ot-1]:void 0,Ln=Ot>2?Me[2]:void 0;for(pn=oe.length>3&&typeof pn=="function"?(Ot--,pn):void 0,Ln&&$n(Me[0],Me[1],Ln)&&(pn=Ot<3?void 0:pn,Ot=1),ye=Object(ye);++Tt<Ot;){var Zt=Me[Tt];Zt&&oe(ye,Zt,Tt,pn)}return ye})}function nt(oe){return function(ye,Me,Tt){for(var Ot=-1,pn=Object(ye),Ln=Tt(ye),Zt=Ln.length;Zt--;){var bn=Ln[++Ot];if(Me(pn[bn],bn,pn)===!1)break}return ye}}function ct(oe,ye){var Me=oe.__data__;return en(ye)?Me[typeof ye=="string"?"string":"hash"]:Me.map}function ht(oe,ye){var Me=ce(oe,ye);return Mo(Me)?Me:void 0}function dt(oe){var ye=Ne.call(oe,Ft),Me=oe[Ft];try{oe[Ft]=void 0;var Tt=!0}catch{}var Ot=Pe.call(oe);return Tt&&(ye?oe[Ft]=Me:delete oe[Ft]),Ot}function Et(oe){return typeof oe.constructor=="function"&&!Xt(oe)?Tn(bt(oe)):{}}function Bt(oe,ye){var Me=typeof oe;return ye=ye??s,!!ye&&(Me=="number"||Me!="symbol"&&U.test(oe))&&oe>-1&&oe%1==0&&oe<ye}function $n(oe,ye,Me){if(!ru(Me))return!1;var Tt=typeof ye;return(Tt=="number"?Ls(Me)&&Bt(ye,Me.length):Tt=="string"&&ye in Me)?bs(Me[ye],oe):!1}function en(oe){var ye=typeof oe;return ye=="string"||ye=="number"||ye=="symbol"||ye=="boolean"?oe!=="__proto__":oe===null}function rr(oe){return!!Ae&&Ae in oe}function Xt(oe){var ye=oe&&oe.constructor,Me=typeof ye=="function"&&ye.prototype||Re;return oe===Me}function pr(oe){var ye=[];if(oe!=null)for(var Me in Object(oe))ye.push(Me);return ye}function Lo(oe){return Pe.call(oe)}function Ma(oe,ye,Me){return ye=zn(ye===void 0?oe.length-1:ye,0),function(){for(var Tt=arguments,Ot=-1,pn=zn(Tt.length-ye,0),Ln=Array(pn);++Ot<pn;)Ln[Ot]=Tt[ye+Ot];Ot=-1;for(var Zt=Array(ye+1);++Ot<ye;)Zt[Ot]=Tt[Ot];return Zt[ye]=Me(Ln),Ce(oe,this,Zt)}}function jo(oe,ye){if(!(ye==="constructor"&&typeof oe[ye]=="function")&&ye!="__proto__")return oe[ye]}var ch=Pc(Fo);function Pc(oe){var ye=0,Me=0;return function(){var Tt=Fr(),Ot=o-(Tt-Me);if(Me=Tt,Ot>0){if(++ye>=i)return arguments[0]}else ye=0;return oe.apply(void 0,arguments)}}function dh(oe){if(oe!=null){try{return be.call(oe)}catch{}try{return oe+""}catch{}}return""}function bs(oe,ye){return oe===ye||oe!==oe&&ye!==ye}var qi=Fs((function(){return arguments})())?Fs:function(oe){return co(oe)&&Ne.call(oe,"callee")&&!Wt.call(oe,"callee")},$i=Array.isArray;function Ls(oe){return oe!=null&&fh(oe.length)&&!$a(oe)}function Oc(oe){return co(oe)&&Ls(oe)}var ns=Kn||Ee;function $a(oe){if(!ru(oe))return!1;var ye=No(oe);return ye==h||ye==m||ye==u||ye==w}function fh(oe){return typeof oe=="number"&&oe>-1&&oe%1==0&&oe<=s}function ru(oe){var ye=typeof oe;return oe!=null&&(ye=="object"||ye=="function")}function co(oe){return oe!=null&&typeof oe=="object"}function Og(oe){if(!co(oe)||No(oe)!=v)return!1;var ye=bt(oe);if(ye===null)return!0;var Me=Ne.call(ye,"constructor")&&ye.constructor;return typeof Me=="function"&&Me instanceof Me&&be.call(Me)==we}var hh=le?fe(le):qu;function ua(oe){return Ue(oe,Wu(oe))}function Wu(oe){return Ls(oe)?Dc(oe):la(oe)}var Ng=Fe(function(oe,ye,Me){nu(oe,ye,Me)});function yl(oe){return function(){return oe}}function Fa(oe){return oe}function Ee(){return!1}e.exports=Ng})(lT,lT.exports)),lT.exports}var umt=lmt();const sAe=ms(umt);function Bl(e,t){return q$(e)&&t.baseComponents?sAe({},t.baseComponents?.[e.baseComponent],e):e}function Qce(e,t){return t.components[e]===void 0?null:Bl(t.components[e],t)}function Jce(e){const t=e.response.map(n=>n.id);if(e.responseOrder==="random"){const n=e.response.flatMap((i,o)=>i.excludeFromRandomization?[o]:[]),r=e.response.filter(i=>!i.excludeFromRandomization).map(i=>i.id).map(i=>({value:i,sort:Math.random()})).sort((i,o)=>i.sort-o.sort).map(({value:i})=>i);return{response:e.response.map((i,o)=>n.includes(o)?i.id:r.shift())}}return{response:t}}function Zce(e){return e.response.reduce((t,n)=>{if(n.type==="radio"||n.type==="checkbox"||n.type==="buttons")if(n.optionOrder==="random"){const i=[...n.options.map(o=>typeof o=="string"?{value:o,label:o}:o)].map(o=>({value:o,sort:Math.random()})).sort((o,s)=>o.sort-s.sort).map(({value:o})=>o);t[n.id]=i}else t[n.id]=n.options.map(r=>typeof r=="string"?{value:r,label:r}:r);return t},{})}function ede(e){return e.response.reduce((t,n)=>{if(n.type==="matrix-radio"||n.type==="matrix-checkbox")if(n.questionOrder==="random"){const i=[...n.questionOptions].map(o=>({value:o,sort:Math.random()})).sort((o,s)=>o.sort-s.sort).map(({value:o})=>o);t[n.id]=i}else t[n.id]=n.questionOptions;return t},{})}async function tde(e,t,n,r,i,o,s,a,l){const u=md(n),c=Object.fromEntries(u.filter(g=>g!=="end").map((g,y)=>{const v=Bl(t.components[g]||{},t);return t.components[g]?[`${g}_${y}`,{answer:{},identifier:`${g}_${y}`,trialOrder:`${y}`,componentName:g,incorrectAnswers:{},startTime:0,endTime:-1,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},windowEvents:[],timedOut:!1,helpButtonClickedCount:0,parameters:Object.hasOwn(v,"parameters")?v.parameters:{},correctAnswer:Object.hasOwn(v,"correctAnswer")?v.correctAnswer:[],optionOrders:Zce(v),questionOrders:ede(v),formOrder:Jce(v)}]:null}).filter(g=>g!==null)),d=Object.assign({},...u.map((g,y)=>{const v=Bl(t.components[g]||{response:[]},t);return{[`${g}_${y}`]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},stimulus:{valid:!v.response.some(w=>w.type==="reactive"&&w.required!==!1),values:{}},provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}}})),f=Object.assign({},...u.map((g,y)=>({[`${g}_${y}`]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,stimulus:!0,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}}))),h={studyId:e,isRecording:!1,answers:Object.keys(i).length>0?i:c,sequence:n,config:t,showStudyBrowser:!0,showHelpText:!1,alertModal:{show:!1,message:"",title:""},trialValidation:Object.keys(i).length>0?f:d,reactiveAnswers:{},metadata:r,analysisProvState:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},analysisIsPlaying:!1,analysisHasAudio:!1,analysisHasScreenRecording:!1,analysisCanPlayScreenRecording:!0,analysisHasProvenance:!1,provenanceJumpTime:0,modes:o,matrixAnswers:{},rankingAnswers:{},participantId:s,funcSequence:{},completed:a,clickedPrevious:!1,storageEngineFailedToConnect:l},m=tmt({name:"storeSlice",initialState:h,reducers:{setConfig(g,{payload:y}){g.config=y},setIsRecording(g,{payload:y}){g.isRecording=y},pushToFuncSequence(g,{payload:y}){if(g.funcSequence[y.funcName]||(g.funcSequence[y.funcName]=[]),g.funcSequence[y.funcName].length>y.funcIndex)return;const v=Bl(g.config.components[y.component]||{response:[]},t),w=`${y.funcName}_${y.index}_${y.component}_${y.funcIndex}`;g.funcSequence[y.funcName].push(y.component),g.answers[w]={answer:{},identifier:w,incorrectAnswers:{},componentName:y.component,trialOrder:`${y.index}_${y.funcIndex}`,startTime:0,endTime:-1,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},windowEvents:[],timedOut:!1,helpButtonClickedCount:0,parameters:y.parameters||("parameters"in v?v.parameters:{})||{},correctAnswer:y.correctAnswer||v.correctAnswer||[],optionOrders:Zce(v),questionOrders:ede(v),formOrder:Jce(v)},g.trialValidation[w]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},stimulus:{valid:v.response.every(E=>E.type!=="reactive"),values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}},toggleStudyBrowser:g=>{g.showStudyBrowser=!g.showStudyBrowser},toggleShowHelpText:g=>{g.showHelpText=!g.showHelpText},setAlertModal:(g,y)=>{g.alertModal=y.payload},setReactiveAnswers:(g,y)=>{g.reactiveAnswers=y.payload},saveAnalysisState(g,{payload:y}){g.analysisProvState[y.location]=y.prov},setAnalysisIsPlaying(g,{payload:y}){g.analysisIsPlaying=y},setAnalysisHasAudio(g,{payload:y}){g.analysisHasAudio=y},setAnalysisHasScreenRecording(g,{payload:y}){g.analysisHasScreenRecording=y},setAnalysisCanPlayScreenRecording(g,{payload:y}){g.analysisCanPlayScreenRecording=y},setAnalysisHasProvenance(g,{payload:y}){g.analysisHasProvenance=y},setProvenanceJumpTime(g,{payload:y}){g.provenanceJumpTime=y},setMatrixAnswersRadio:(g,y)=>{if(y.payload){const{responseId:v,questionKey:w,val:E}=y.payload;g.matrixAnswers={...g.matrixAnswers,[v]:{...g.matrixAnswers[v],[w]:E}}}else g.matrixAnswers={}},setMatrixAnswersCheckbox:(g,y)=>{if(y.payload){const{responseId:v,questionKey:w,value:E,isChecked:C,choiceOptions:S}=y.payload,T=g.matrixAnswers[v]?.[w]??"";let A="";C?T.length>0?A=[...T.split("|"),E].sort((D,I)=>S.map(P=>P.value).indexOf(D)-S.map(P=>P.value).indexOf(I)).join("|"):A=`${E}`:A=T.split("|").filter(D=>D!==E).join("|"),g.matrixAnswers={...g.matrixAnswers,[v]:{...g.matrixAnswers[v],[w]:A}}}else g.matrixAnswers={}},setRankingAnswers:(g,y)=>{if(y.payload){const{responseId:v,values:w}=y.payload;g.rankingAnswers={...g.rankingAnswers,[v]:{...w}}}else g.rankingAnswers={}},updateResponseBlockValidation:(g,{payload:y})=>{if(!g.trialValidation[y.identifier])return;const v=g.trialValidation[y.identifier]?.[y.location]?.values;Object.keys(y.values).length>0?g.trialValidation[y.identifier][y.location]={valid:y.status,values:{...v,...y.values}}:g.trialValidation[y.identifier][y.location]={valid:y.status,values:v||{}},y.provenanceGraph&&(g.trialValidation[y.identifier].provenanceGraph[y.location]=y.provenanceGraph)},saveTrialAnswer(g,{payload:y}){g.answers[y.identifier]={...y}},incrementHelpCounter(g,{payload:y}){g.answers[y.identifier].helpButtonClickedCount+=1},saveIncorrectAnswer(g,{payload:y}){const{identifier:v,answer:w,question:E}=y;g.answers[E].incorrectAnswers||(g.answers[E].incorrectAnswers={}),g.answers[E].incorrectAnswers[v]||(g.answers[E].incorrectAnswers[v]={id:v,value:[]}),g.answers[E].incorrectAnswers[v].value.push(w)},deleteDynamicBlockAnswers(g,{payload:y}){const{currentStep:v,funcIndex:w,funcName:E}=y,C=new RegExp(`.*_${v}_.*_${w}`);Object.keys(g.answers).forEach(S=>{S.match(C)&&delete g.answers[S]}),g.funcSequence[E]&&(g.funcSequence[E]=g.funcSequence[y.funcName].filter((S,T)=>T!==w)),g.funcSequence[E]?.length===0&&delete g.funcSequence[E]},setParticipantCompleted(g,{payload:y}){g.completed=y},setClickedPrevious(g,{payload:y}){g.clickedPrevious=y}}});return{store:Ypt({reducer:m.reducer,preloadedState:h}),actions:m.actions}}const aAe=k.createContext(null);function Zi(){return k.useContext(aAe).actions}const Po=N2e,fr=Oht;function cmt(e){return fr(t=>{if(e.includes("reviewer-"))return!0;const n=t.trialValidation[e]?Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0):!0;return n?Object.values(n).every(r=>r):!1})}const dmt=Q2e(e=>e.sequence,e=>md(e));function qy(){return fr(dmt)}function Bu(){return fr(e=>e.config)}function mQ(){const e=Bu(),t=qy(),n=Wf(),r=e.components[n],{recordScreen:i,recordAudio:o}=e.uiConfig,s=k.useMemo(()=>i||t.some(c=>e.components[c]?.recordScreen),[t,e,i]),a=k.useMemo(()=>o||t.some(c=>e.components[c]?.recordAudio),[t,e,o]),l=k.useMemo(()=>r?.recordScreen??!!i,[i,r]),u=k.useMemo(()=>r?.recordAudio??!!o,[o,r]);return{studyHasAudioRecording:a,studyHasScreenRecording:s,currentComponentHasAudioRecording:u,currentComponentHasScreenRecording:l}}function fmt(){const e=Bu(),{recordScreenFPS:t,recordAudio:n}=e.uiConfig,r=k.useRef(null),[i,o]=k.useState(null),[s,a]=k.useState(!1),[l,u]=k.useState(!1),[c,d]=k.useState(!1),[f,h]=k.useState(!1),[m,p]=k.useState(!1),[g,y]=k.useState(!1),[v,w]=k.useState(!1),[E,C]=k.useState(!1),S=k.useRef(null),T=k.useRef(null),A=k.useRef(null),D=k.useRef(null),I=k.useRef(null),{storageEngine:P}=Mi(),N=Wf(),[$]=k.useState(document.title),{studyHasScreenRecording:O,studyHasAudioRecording:j,currentComponentHasAudioRecording:B,currentComponentHasScreenRecording:H}=mQ(),q=k.useCallback(()=>{r.current&&(r.current.srcObject=null),p(!1),y(!1),w(!1),a(!1),u(!1),d(!1),A.current&&(A.current.getTracks().forEach(U=>{U.stop(),A.current?.removeTrack(U)}),A.current=null),I.current&&(I.current.getTracks().forEach(U=>{U.stop(),I.current?.removeTrack(U)}),I.current=null),T.current&&(T.current.stream.getTracks().forEach(U=>{U.stop(),T.current?.stream.removeTrack(U)}),T.current.stream.getVideoTracks().forEach(U=>{U.stop(),T.current?.stream.removeTrack(U)}),T.current.stream.getAudioTracks().forEach(U=>{U.stop(),T.current?.stream.removeTrack(U)}),T.current.stop(),T.current=null)},[]),Y=k.useCallback(U=>{if(!(B||H)||!I.current)return;S.current=new MediaStream([...(H?I.current?.getVideoTracks():[])??[],...(B?A.current?.getAudioTracks():[])??[]]);const z=S.current,G=new MediaRecorder(z);T.current=G;const Q=B&&A.current?new MediaRecorder(A.current):null;D.current=Q;let te=[];G.addEventListener("dataavailable",se=>{se.data&&se.data.size>0&&te.push(se.data)});let de=[];Q?.addEventListener("dataavailable",se=>{se.data&&se.data.size>0&&de.push(se.data)}),G.addEventListener("start",()=>{te=[]}),Q?.addEventListener("start",()=>{de=[]}),H?(G.addEventListener("stop",()=>{const{mimeType:se}=G,ae=new Blob(te,{type:se});P?.saveScreenRecording(ae,U)}),Q?.addEventListener("stop",()=>{const{mimeType:se}=Q,ae=new Blob(de,{type:se});P?.saveAudioRecording(ae,U)})):G.addEventListener("stop",()=>{const{mimeType:se}=G,ae=new Blob(te,{type:se});P?.saveAudioRecording(ae,U)}),p(!0),h(!0),d(B),o(null),u(B),a(H),G.start(1e3),Q?.start(1e3)},[B,H,P]),V=k.useCallback(()=>{a(!1),d(!1),T.current?.stop()},[]);k.useEffect(()=>{N!=="$screen-recording.co.screenRecordingPermission"&&N!=="end"&&f&&!m&&C(!0)},[N,m,f]);const L=k.useCallback(()=>{(async()=>{document.title=`RECORD THIS TAB: ${$}`;try{const z=O?await navigator.mediaDevices.getDisplayMedia({video:{displaySurface:"browser",...t?{frameRate:{ideal:t}}:{}},audio:!1,selfBrowserSurface:"include",preferCurrentTab:!0}):null;I.current=z;const G=j?await navigator.mediaDevices.getUserMedia({audio:!0,video:!1}):null;A.current=G;const Q=new MediaStream([...z?.getVideoTracks()||[],...G?.getAudioTracks()??[]]);S.current=Q,r.current&&(r.current.srcObject=Q,r.current.play()),Q.getTracks().forEach(te=>{te.addEventListener("ended",()=>{q()})}),p(z!==null),y(G!==null),w(z!==null||G!==null),h(!0),d(!!n),o(null)}catch(z){console.error("Error accessing screen:",z),o("Recording permission denied or not supported.")}finally{document.title=$}})()},[$,n,t,q,j,O]);return{recordVideoRef:r,studyHasScreenRecording:O,recordAudio:n,startScreenCapture:L,stopScreenCapture:q,startScreenRecording:Y,stopScreenRecording:V,screenRecordingError:i,isScreenRecording:s,isAudioRecording:l,isScreenCapturing:m,isAudioCapturing:g,isMediaCapturing:v,combinedMediaRecorder:T,audioMediaStream:A,screenWithAudioRecording:c,isRejected:E}}const lAe=k.createContext(void 0);function gQ(){const e=k.useContext(lAe);if(!e)throw new Error("useScreenRecordingContext must be used within a ScreenRecordingProvider");return e}function hmt({setAnswer:e}){const{recordAudio:t,recordVideoRef:n,startScreenCapture:r,stopScreenCapture:i,isScreenCapturing:o,screenRecordingError:s,audioMediaStream:a}=gQ(),[l,u]=k.useState(!1);return k.useEffect(()=>{e({status:o&&(t?l:!0),provenanceGraph:void 0,answers:{screenRecordingPermission:o}})},[o,l,e,t]),k.useEffect(()=>{if(!o)return;const c=a.current;if(!c)return;new MediaRecorder(c).start();const f=new AudioContext,h=f.createMediaStreamSource(c),m=f.createAnalyser();m.minDecibels=-45,h.connect(m);const p=m.frequencyBinCount,g=new Uint8Array(p);let y=!1;const v=()=>{if(!y){m.getByteFrequencyData(g);for(let w=0;w<p;w+=1)g[w]>0&&(y=!0,u(!0));window.requestAnimationFrame(v)}};window.requestAnimationFrame(v)},[a,o,e]),x.jsxs(Ie,{p:"md",children:[x.jsxs(Yr,{order:1,size:"h2",children:["Screen",t&&" and Audio"," ","Recording Permission"]}),t?x.jsxs(x.Fragment,{children:[x.jsxs("p",{children:["This study requires recording of your"," ",x.jsx("strong",{children:"screen"})," ","and"," ",x.jsx("strong",{children:"audio"}),". If you're not comfortable, you may exit and return the study."]}),x.jsx("p",{children:"Follow the steps below to grant screen and audio recording permissions."}),x.jsxs("ol",{children:[x.jsxs("li",{children:[x.jsx("strong",{children:"Click the button below"})," ","to enable screen and audio recording.",x.jsx(Ut,{type:"button",onClick:o?i:r,display:"block",mt:"sm",children:o?"Stop Recording":"Start Recording"}),x.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"400px",border:"1px solid #ccc",marginTop:"1rem"}}),s&&x.jsx("p",{style:{color:"red"},children:s}),x.jsx("p",{children:x.jsx("i",{children:"Note: Please make sure you are recording the correct tab or window. Otherwise, stop and re-share the correct one."})})]}),x.jsxs("li",{children:[x.jsx("strong",{children:"Speak"})," ","into your microphone to check if audio is working.",t&&o?x.jsx(Ie,{h:200,w:400,bd:"1px solid #ccc",children:x.jsx(cQ,{height:200,width:400})}):x.jsx(Ie,{h:200,w:400,bd:"1px solid #ccc"})]})]}),x.jsx("strong",{children:"Note:"}),x.jsxs("ul",{children:[x.jsxs("li",{children:["After we hear you say something, the"," ",x.jsx("b",{children:"Continue"})," ","button will be enabled."]}),x.jsx("li",{children:"Please do not close the window or screen recording until the entire study is completed."})]})]}):x.jsxs(x.Fragment,{children:[x.jsxs("p",{children:["This study requires recording of your"," ",x.jsx("strong",{children:"screen"}),". If you're not comfortable, you may exit and return the study."]}),x.jsx("strong",{children:"Click the button below"})," ","to enable screen recording.",x.jsx(Ut,{type:"button",onClick:o?i:r,display:"block",mt:"sm",children:o?"Stop Recording":"Start Recording"}),x.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"400px",border:"1px solid #ccc",marginTop:"1rem"}}),s&&x.jsx("p",{style:{color:"red"},children:s}),x.jsx("p",{children:x.jsx("i",{children:"Note: Please make sure you are recording the correct tab or window. Otherwise, stop and re-share the correct one."})}),x.jsx("strong",{children:"Note:"}),x.jsx("ul",{children:x.jsx("li",{children:"Please do not close the window or screen recording until the entire study is completed."})})]})]})}const uAe=Object.freeze(Object.defineProperty({__proto__:null,default:hmt},Symbol.toStringTag,{value:"Module"}));function pmt(){return x.jsx("div",{children:"test react file"})}const cAe=Object.freeze(Object.defineProperty({__proto__:null,default:pmt},Symbol.toStringTag,{value:"Module"})),mmt=e=>e*Math.PI/180;function gmt({parameters:e,setAnswer:t}){const n=k.useRef(null),r=k.useRef(null),i=k.useRef(null),{blindspotAngle:o}=e,s=fr(C=>C.answers),a=Object.values(s).find(C=>C.componentName==="$virtual-chinrest.components.card-size"),l=Number(a?.answer?.pixelsPerMM),[u,c]=k.useState([]),[d,f]=k.useState(!1),[h,m]=k.useState(null),[p,g]=k.useState(5),y=k.useCallback(C=>{if(!C.length||!l||!r.current)return;const S=C.reduce((P,N)=>P+N,0)/C.length,A=r.current.getBoundingClientRect().left,I=Math.abs(S-A)/l/Math.tan(mmt(o));m(I),f(!1)},[o,l]),v=()=>{n.current&&(n.current.style.left="740px")},w=k.useCallback(()=>{if(!n.current||!r.current||!l||u.length>=5)return;f(!0);let C=!1,S=0;const T=1e3,A=D=>{if(!n.current)return;if(C){D-S>=T&&(C=!1,n.current.style.left="740px"),i.current=requestAnimationFrame(A);return}const P=parseInt(n.current.style.left||"740",10)-2;P<=0?(C=!0,S=D):n.current.style.left=`${P}px`,i.current=requestAnimationFrame(A)};i.current=requestAnimationFrame(A)},[u,l]),E=()=>{i.current&&cancelAnimationFrame(i.current),f(!1)};return k.useEffect(()=>{h!==null&&u.length===5&&t({status:!0,answers:{"dist-calibration-MM":h,"dist-calibration-CM":h/10,"ball-positions":JSON.stringify(u),"square-position":r.current?.getBoundingClientRect().left??0}})},[h,u,t]),k.useEffect(()=>{const C=S=>{if(S.code==="Space"){if(S.preventDefault(),!d)w();else if(n.current){E();const A=n.current.getBoundingClientRect().left;c(D=>{const I=[...D,A];return I.length>=5&&y(I),I}),g(D=>D-1),v()}}};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[d,w,y]),k.useEffect(()=>(m(null),f(!1),c([]),g(5),v(),()=>{m(null),f(!1),c([]),g(5)}),[]),k.useEffect(()=>()=>{i.current&&cancelAnimationFrame(i.current)},[]),l?x.jsx(yg,{size:"md",children:x.jsxs(or,{gap:"md",children:[x.jsx(Ve,{children:"Now we will quickly measure how far away you are sitting. "}),x.jsxs(or,{gap:"xs",children:[x.jsxs(Za,{children:[x.jsxs(Za.Item,{children:["Put your left hand on the",x.jsx("b",{children:"space bar"}),"."]}),x.jsx(Za.Item,{children:"Cover your right eye with your right hand."}),x.jsx(Za.Item,{children:"Using your left eye, focus on the black square. Keep your focus on the black square."}),x.jsxs(Za.Item,{children:["The",x.jsx("span",{style:{color:"red",fontWeight:"bold"},children:"red ball"})," ","will disappear as it moves from right to left. Press the space bar as soon as the ball disappears."]})]}),x.jsx(Ve,{ta:"center",children:u.length>=5?"All measurements completed!":"Press the space bar when you are ready to begin."})]}),x.jsxs("div",{style:{position:"relative",width:"900px",height:"100px",backgroundColor:"#ffffff"},children:[x.jsx("div",{ref:n,style:{position:"absolute",width:"30px",height:"30px",backgroundColor:"rgb(255, 0, 0)",borderRadius:"30px",left:"740px"}}),x.jsx("div",{ref:r,style:{position:"absolute",width:"30px",height:"30px",backgroundColor:"rgb(0, 0, 0)",left:"870px"}})]}),x.jsxs(Ve,{ta:"center",children:["Remaining measurements:"," ",5-u.length]}),h&&x.jsxs(or,{gap:"xs",children:[x.jsx(Ve,{fw:700,size:"lg",children:"Viewing Distance Results"}),x.jsxs(Ve,{children:["Estimated Viewing Distance:",(h/10).toFixed(1)," ","cm"]}),x.jsxs(Ve,{children:["Number of measurements:",u.length]})]})]})}):x.jsx("div",{children:"Please complete card calibration first."})}const dAe=Object.freeze(Object.defineProperty({__proto__:null,default:gmt},Symbol.toStringTag,{value:"Module"})),ymt="/template/assets/costco_card-B3j7PHjO.png";function vmt({parameters:e,setAnswer:t,itemWidthMM:n=85.6,itemHeightMM:r=53.98,fixedCorner:i="top-left"}){const[o,s]=k.useState(300),[a,l]=k.useState(null),[u,c]=k.useState(!1),[d,f]=k.useState({min:100,max:500}),{taskid:h}=e,m=k.useRef(null),p=k.useRef(null),g=r/n;k.useEffect(()=>{const S=()=>{const T=window.innerWidth;f({min:Math.round(T*.1),max:Math.round(T*.8)})};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const y=S=>Math.round(S*g),v=S=>S/n,w=S=>{s(S)},E=()=>{if(!m.current)return;const S=v(o);l(S),t({status:!0,answers:{[h]:S}}),c(!0)},C=()=>({position:"relative",width:"100%",display:"flex",justifyContent:i.includes("right")?"flex-end":"flex-start",alignItems:i.includes("bottom")?"flex-end":"flex-start"});return x.jsxs(or,{gap:"lg",children:[x.jsx(Ve,{size:"md",children:" Drag the slider until the image is the same size as a credit card held up to the screen."}),x.jsx(Ve,{size:"md",children:" You can use any card this is the same size as a credit card, like a membership card or driver's license."}),x.jsx(Ve,{size:"md",children:" If you do not have access to a real card, you can use a ruler to measure the image width to 3.37 inches or 85.6mm. "}),x.jsx(Ve,{size:"md",children:" Once you are finished, click 'Confirm Size' and then 'Next'. "}),x.jsx(Ut,{onClick:E,size:"lg",variant:"transparent",children:"Confirm Size"}),x.jsx(k$,{min:d.min,max:d.max,value:o,label:null,onChange:w,styles:{root:{width:"100%"},track:{cursor:"pointer"},thumb:{cursor:"grab"},bar:{cursor:"pointer"}}}),x.jsx("div",{ref:p,style:C(),children:x.jsx("div",{ref:m,style:{width:`${o}px`,height:`${y(o)}px`,overflow:"hidden"},children:x.jsx("img",{src:ymt,alt:"Credit Card",style:{width:"100%",height:"100%",objectFit:"contain"}})})}),u&&x.jsxs("div",{style:{textAlign:"center",color:"green"},children:["Calibration Complete - Pixels per MM:"," ",a?.toFixed(2)]})]})}const fAe=Object.freeze(Object.defineProperty({__proto__:null,default:vmt},Symbol.toStringTag,{value:"Module"}));var Q3={exports:{}};function gm(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var J3={exports:{}};const bmt={},wmt=Object.freeze(Object.defineProperty({__proto__:null,default:bmt},Symbol.toStringTag,{value:"Module"})),hAe=z7e(wmt);var xmt=J3.exports,nde;function $r(){return nde||(nde=1,(function(e,t){(function(n,r){e.exports=r()})(xmt,function(){var n=n||(function(r,i){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof Ri<"u"&&Ri.crypto&&(o=Ri.crypto),!o&&typeof gm=="function")try{o=hAe}catch{}var s=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||(function(){function v(){}return function(w){var E;return v.prototype=w,E=new v,v.prototype=null,E}})(),l={},u=l.lib={},c=u.Base=(function(){return{extend:function(v){var w=a(this);return v&&w.mixIn(v),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var v=this.extend();return v.init.apply(v,arguments),v},init:function(){},mixIn:function(v){for(var w in v)v.hasOwnProperty(w)&&(this[w]=v[w]);v.hasOwnProperty("toString")&&(this.toString=v.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),d=u.WordArray=c.extend({init:function(v,w){v=this.words=v||[],w!=i?this.sigBytes=w:this.sigBytes=v.length*4},toString:function(v){return(v||h).stringify(this)},concat:function(v){var w=this.words,E=v.words,C=this.sigBytes,S=v.sigBytes;if(this.clamp(),C%4)for(var T=0;T<S;T++){var A=E[T>>>2]>>>24-T%4*8&255;w[C+T>>>2]|=A<<24-(C+T)%4*8}else for(var D=0;D<S;D+=4)w[C+D>>>2]=E[D>>>2];return this.sigBytes+=S,this},clamp:function(){var v=this.words,w=this.sigBytes;v[w>>>2]&=4294967295<<32-w%4*8,v.length=r.ceil(w/4)},clone:function(){var v=c.clone.call(this);return v.words=this.words.slice(0),v},random:function(v){for(var w=[],E=0;E<v;E+=4)w.push(s());return new d.init(w,v)}}),f=l.enc={},h=f.Hex={stringify:function(v){for(var w=v.words,E=v.sigBytes,C=[],S=0;S<E;S++){var T=w[S>>>2]>>>24-S%4*8&255;C.push((T>>>4).toString(16)),C.push((T&15).toString(16))}return C.join("")},parse:function(v){for(var w=v.length,E=[],C=0;C<w;C+=2)E[C>>>3]|=parseInt(v.substr(C,2),16)<<24-C%8*4;return new d.init(E,w/2)}},m=f.Latin1={stringify:function(v){for(var w=v.words,E=v.sigBytes,C=[],S=0;S<E;S++){var T=w[S>>>2]>>>24-S%4*8&255;C.push(String.fromCharCode(T))}return C.join("")},parse:function(v){for(var w=v.length,E=[],C=0;C<w;C++)E[C>>>2]|=(v.charCodeAt(C)&255)<<24-C%4*8;return new d.init(E,w)}},p=f.Utf8={stringify:function(v){try{return decodeURIComponent(escape(m.stringify(v)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(v){return m.parse(unescape(encodeURIComponent(v)))}},g=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(v){typeof v=="string"&&(v=p.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},_process:function(v){var w,E=this._data,C=E.words,S=E.sigBytes,T=this.blockSize,A=T*4,D=S/A;v?D=r.ceil(D):D=r.max((D|0)-this._minBufferSize,0);var I=D*T,P=r.min(I*4,S);if(I){for(var N=0;N<I;N+=T)this._doProcessBlock(C,N);w=C.splice(0,I),E.sigBytes-=P}return new d.init(w,P)},clone:function(){var v=c.clone.call(this);return v._data=this._data.clone(),v},_minBufferSize:0});u.Hasher=g.extend({cfg:c.extend(),init:function(v){this.cfg=this.cfg.extend(v),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(v){return this._append(v),this._process(),this},finalize:function(v){v&&this._append(v);var w=this._doFinalize();return w},blockSize:16,_createHelper:function(v){return function(w,E){return new v.init(E).finalize(w)}},_createHmacHelper:function(v){return function(w,E){return new y.HMAC.init(v,E).finalize(w)}}});var y=l.algo={};return l})(Math);return n})})(J3)),J3.exports}var Z3={exports:{}},_mt=Z3.exports,rde;function W$(){return rde||(rde=1,(function(e,t){(function(n,r){e.exports=r($r())})(_mt,function(n){return(function(r){var i=n,o=i.lib,s=o.Base,a=o.WordArray,l=i.x64={};l.Word=s.extend({init:function(u,c){this.high=u,this.low=c}}),l.WordArray=s.extend({init:function(u,c){u=this.words=u||[],c!=r?this.sigBytes=c:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,c=u.length,d=[],f=0;f<c;f++){var h=u[f];d.push(h.high),d.push(h.low)}return a.create(d,this.sigBytes)},clone:function(){for(var u=s.clone.call(this),c=u.words=this.words.slice(0),d=c.length,f=0;f<d;f++)c[f]=c[f].clone();return u}})})(),n})})(Z3)),Z3.exports}var eO={exports:{}},Emt=eO.exports,ide;function Cmt(){return ide||(ide=1,(function(e,t){(function(n,r){e.exports=r($r())})(Emt,function(n){return(function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,o=i.WordArray,s=o.init,a=o.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var u=l.byteLength,c=[],d=0;d<u;d++)c[d>>>2]|=l[d]<<24-d%4*8;s.call(this,c,u)}else s.apply(this,arguments)};a.prototype=o}})(),n.lib.WordArray})})(eO)),eO.exports}var tO={exports:{}},Smt=tO.exports,ode;function Tmt(){return ode||(ode=1,(function(e,t){(function(n,r){e.exports=r($r())})(Smt,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Utf16=s.Utf16BE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var h=u[f>>>2]>>>16-f%4*8&65535;d.push(String.fromCharCode(h))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=l.charCodeAt(d)<<16-d%2*16;return o.create(c,u*2)}},s.Utf16LE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var h=a(u[f>>>2]>>>16-f%4*8&65535);d.push(String.fromCharCode(h))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=a(l.charCodeAt(d)<<16-d%2*16);return o.create(c,u*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}})(),n.enc.Utf16})})(tO)),tO.exports}var nO={exports:{}},Amt=nO.exports,sde;function B1(){return sde||(sde=1,(function(e,t){(function(n,r){e.exports=r($r())})(Amt,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Base64={stringify:function(l){var u=l.words,c=l.sigBytes,d=this._map;l.clamp();for(var f=[],h=0;h<c;h+=3)for(var m=u[h>>>2]>>>24-h%4*8&255,p=u[h+1>>>2]>>>24-(h+1)%4*8&255,g=u[h+2>>>2]>>>24-(h+2)%4*8&255,y=m<<16|p<<8|g,v=0;v<4&&h+v*.75<c;v++)f.push(d.charAt(y>>>6*(3-v)&63));var w=d.charAt(64);if(w)for(;f.length%4;)f.push(w);return f.join("")},parse:function(l){var u=l.length,c=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<c.length;f++)d[c.charCodeAt(f)]=f}var h=c.charAt(64);if(h){var m=l.indexOf(h);m!==-1&&(u=m)}return a(l,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,u,c){for(var d=[],f=0,h=0;h<u;h++)if(h%4){var m=c[l.charCodeAt(h-1)]<<h%4*2,p=c[l.charCodeAt(h)]>>>6-h%4*2,g=m|p;d[f>>>2]|=g<<24-f%4*8,f++}return o.create(d,f)}})(),n.enc.Base64})})(nO)),nO.exports}var rO={exports:{}},kmt=rO.exports,ade;function Rmt(){return ade||(ade=1,(function(e,t){(function(n,r){e.exports=r($r())})(kmt,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Base64url={stringify:function(l,u){u===void 0&&(u=!0);var c=l.words,d=l.sigBytes,f=u?this._safe_map:this._map;l.clamp();for(var h=[],m=0;m<d;m+=3)for(var p=c[m>>>2]>>>24-m%4*8&255,g=c[m+1>>>2]>>>24-(m+1)%4*8&255,y=c[m+2>>>2]>>>24-(m+2)%4*8&255,v=p<<16|g<<8|y,w=0;w<4&&m+w*.75<d;w++)h.push(f.charAt(v>>>6*(3-w)&63));var E=f.charAt(64);if(E)for(;h.length%4;)h.push(E);return h.join("")},parse:function(l,u){u===void 0&&(u=!0);var c=l.length,d=u?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<d.length;h++)f[d.charCodeAt(h)]=h}var m=d.charAt(64);if(m){var p=l.indexOf(m);p!==-1&&(c=p)}return a(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,u,c){for(var d=[],f=0,h=0;h<u;h++)if(h%4){var m=c[l.charCodeAt(h-1)]<<h%4*2,p=c[l.charCodeAt(h)]>>>6-h%4*2,g=m|p;d[f>>>2]|=g<<24-f%4*8,f++}return o.create(d,f)}})(),n.enc.Base64url})})(rO)),rO.exports}var iO={exports:{}},Imt=iO.exports,lde;function z1(){return lde||(lde=1,(function(e,t){(function(n,r){e.exports=r($r())})(Imt,function(n){return(function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,u=[];(function(){for(var p=0;p<64;p++)u[p]=r.abs(r.sin(p+1))*4294967296|0})();var c=l.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,g){for(var y=0;y<16;y++){var v=g+y,w=p[v];p[v]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var E=this._hash.words,C=p[g+0],S=p[g+1],T=p[g+2],A=p[g+3],D=p[g+4],I=p[g+5],P=p[g+6],N=p[g+7],$=p[g+8],O=p[g+9],j=p[g+10],B=p[g+11],H=p[g+12],q=p[g+13],Y=p[g+14],V=p[g+15],L=E[0],U=E[1],z=E[2],G=E[3];L=d(L,U,z,G,C,7,u[0]),G=d(G,L,U,z,S,12,u[1]),z=d(z,G,L,U,T,17,u[2]),U=d(U,z,G,L,A,22,u[3]),L=d(L,U,z,G,D,7,u[4]),G=d(G,L,U,z,I,12,u[5]),z=d(z,G,L,U,P,17,u[6]),U=d(U,z,G,L,N,22,u[7]),L=d(L,U,z,G,$,7,u[8]),G=d(G,L,U,z,O,12,u[9]),z=d(z,G,L,U,j,17,u[10]),U=d(U,z,G,L,B,22,u[11]),L=d(L,U,z,G,H,7,u[12]),G=d(G,L,U,z,q,12,u[13]),z=d(z,G,L,U,Y,17,u[14]),U=d(U,z,G,L,V,22,u[15]),L=f(L,U,z,G,S,5,u[16]),G=f(G,L,U,z,P,9,u[17]),z=f(z,G,L,U,B,14,u[18]),U=f(U,z,G,L,C,20,u[19]),L=f(L,U,z,G,I,5,u[20]),G=f(G,L,U,z,j,9,u[21]),z=f(z,G,L,U,V,14,u[22]),U=f(U,z,G,L,D,20,u[23]),L=f(L,U,z,G,O,5,u[24]),G=f(G,L,U,z,Y,9,u[25]),z=f(z,G,L,U,A,14,u[26]),U=f(U,z,G,L,$,20,u[27]),L=f(L,U,z,G,q,5,u[28]),G=f(G,L,U,z,T,9,u[29]),z=f(z,G,L,U,N,14,u[30]),U=f(U,z,G,L,H,20,u[31]),L=h(L,U,z,G,I,4,u[32]),G=h(G,L,U,z,$,11,u[33]),z=h(z,G,L,U,B,16,u[34]),U=h(U,z,G,L,Y,23,u[35]),L=h(L,U,z,G,S,4,u[36]),G=h(G,L,U,z,D,11,u[37]),z=h(z,G,L,U,N,16,u[38]),U=h(U,z,G,L,j,23,u[39]),L=h(L,U,z,G,q,4,u[40]),G=h(G,L,U,z,C,11,u[41]),z=h(z,G,L,U,A,16,u[42]),U=h(U,z,G,L,P,23,u[43]),L=h(L,U,z,G,O,4,u[44]),G=h(G,L,U,z,H,11,u[45]),z=h(z,G,L,U,V,16,u[46]),U=h(U,z,G,L,T,23,u[47]),L=m(L,U,z,G,C,6,u[48]),G=m(G,L,U,z,N,10,u[49]),z=m(z,G,L,U,Y,15,u[50]),U=m(U,z,G,L,I,21,u[51]),L=m(L,U,z,G,H,6,u[52]),G=m(G,L,U,z,A,10,u[53]),z=m(z,G,L,U,j,15,u[54]),U=m(U,z,G,L,S,21,u[55]),L=m(L,U,z,G,$,6,u[56]),G=m(G,L,U,z,V,10,u[57]),z=m(z,G,L,U,P,15,u[58]),U=m(U,z,G,L,q,21,u[59]),L=m(L,U,z,G,D,6,u[60]),G=m(G,L,U,z,B,10,u[61]),z=m(z,G,L,U,T,15,u[62]),U=m(U,z,G,L,O,21,u[63]),E[0]=E[0]+L|0,E[1]=E[1]+U|0,E[2]=E[2]+z|0,E[3]=E[3]+G|0},_doFinalize:function(){var p=this._data,g=p.words,y=this._nDataBytes*8,v=p.sigBytes*8;g[v>>>5]|=128<<24-v%32;var w=r.floor(y/4294967296),E=y;g[(v+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,g[(v+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,p.sigBytes=(g.length+1)*4,this._process();for(var C=this._hash,S=C.words,T=0;T<4;T++){var A=S[T];S[T]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return C},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p}});function d(p,g,y,v,w,E,C){var S=p+(g&y|~g&v)+w+C;return(S<<E|S>>>32-E)+g}function f(p,g,y,v,w,E,C){var S=p+(g&v|y&~v)+w+C;return(S<<E|S>>>32-E)+g}function h(p,g,y,v,w,E,C){var S=p+(g^y^v)+w+C;return(S<<E|S>>>32-E)+g}function m(p,g,y,v,w,E,C){var S=p+(y^(g|~v))+w+C;return(S<<E|S>>>32-E)+g}i.MD5=a._createHelper(c),i.HmacMD5=a._createHmacHelper(c)})(Math),n.MD5})})(iO)),iO.exports}var oO={exports:{}},Dmt=oO.exports,ude;function pAe(){return ude||(ude=1,(function(e,t){(function(n,r){e.exports=r($r())})(Dmt,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=i.Hasher,a=r.algo,l=[],u=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,d){for(var f=this._hash.words,h=f[0],m=f[1],p=f[2],g=f[3],y=f[4],v=0;v<80;v++){if(v<16)l[v]=c[d+v]|0;else{var w=l[v-3]^l[v-8]^l[v-14]^l[v-16];l[v]=w<<1|w>>>31}var E=(h<<5|h>>>27)+y+l[v];v<20?E+=(m&p|~m&g)+1518500249:v<40?E+=(m^p^g)+1859775393:v<60?E+=(m&p|m&g|p&g)-1894007588:E+=(m^p^g)-899497514,y=g,g=p,p=m<<30|m>>>2,m=h,h=E}f[0]=f[0]+h|0,f[1]=f[1]+m|0,f[2]=f[2]+p|0,f[3]=f[3]+g|0,f[4]=f[4]+y|0},_doFinalize:function(){var c=this._data,d=c.words,f=this._nDataBytes*8,h=c.sigBytes*8;return d[h>>>5]|=128<<24-h%32,d[(h+64>>>9<<4)+14]=Math.floor(f/4294967296),d[(h+64>>>9<<4)+15]=f,c.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var c=s.clone.call(this);return c._hash=this._hash.clone(),c}});r.SHA1=s._createHelper(u),r.HmacSHA1=s._createHmacHelper(u)})(),n.SHA1})})(oO)),oO.exports}var sO={exports:{}},Pmt=sO.exports,cde;function yQ(){return cde||(cde=1,(function(e,t){(function(n,r){e.exports=r($r())})(Pmt,function(n){return(function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,u=[],c=[];(function(){function h(y){for(var v=r.sqrt(y),w=2;w<=v;w++)if(!(y%w))return!1;return!0}function m(y){return(y-(y|0))*4294967296|0}for(var p=2,g=0;g<64;)h(p)&&(g<8&&(u[g]=m(r.pow(p,1/2))),c[g]=m(r.pow(p,1/3)),g++),p++})();var d=[],f=l.SHA256=a.extend({_doReset:function(){this._hash=new s.init(u.slice(0))},_doProcessBlock:function(h,m){for(var p=this._hash.words,g=p[0],y=p[1],v=p[2],w=p[3],E=p[4],C=p[5],S=p[6],T=p[7],A=0;A<64;A++){if(A<16)d[A]=h[m+A]|0;else{var D=d[A-15],I=(D<<25|D>>>7)^(D<<14|D>>>18)^D>>>3,P=d[A-2],N=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;d[A]=I+d[A-7]+N+d[A-16]}var $=E&C^~E&S,O=g&y^g&v^y&v,j=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),B=(E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25),H=T+B+$+c[A]+d[A],q=j+O;T=S,S=C,C=E,E=w+H|0,w=v,v=y,y=g,g=H+q|0}p[0]=p[0]+g|0,p[1]=p[1]+y|0,p[2]=p[2]+v|0,p[3]=p[3]+w|0,p[4]=p[4]+E|0,p[5]=p[5]+C|0,p[6]=p[6]+S|0,p[7]=p[7]+T|0},_doFinalize:function(){var h=this._data,m=h.words,p=this._nDataBytes*8,g=h.sigBytes*8;return m[g>>>5]|=128<<24-g%32,m[(g+64>>>9<<4)+14]=r.floor(p/4294967296),m[(g+64>>>9<<4)+15]=p,h.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var h=a.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA256=a._createHelper(f),i.HmacSHA256=a._createHmacHelper(f)})(Math),n.SHA256})})(sO)),sO.exports}var aO={exports:{}},Omt=aO.exports,dde;function Nmt(){return dde||(dde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),yQ())})(Omt,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=r.algo,a=s.SHA256,l=s.SHA224=a.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=4,u}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)})(),n.SHA224})})(aO)),aO.exports}var lO={exports:{}},Mmt=lO.exports,fde;function mAe(){return fde||(fde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),W$())})(Mmt,function(n){return(function(){var r=n,i=r.lib,o=i.Hasher,s=r.x64,a=s.Word,l=s.WordArray,u=r.algo;function c(){return a.create.apply(a,arguments)}var d=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var m=0;m<80;m++)f[m]=c()})();var h=u.SHA512=o.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(m,p){for(var g=this._hash.words,y=g[0],v=g[1],w=g[2],E=g[3],C=g[4],S=g[5],T=g[6],A=g[7],D=y.high,I=y.low,P=v.high,N=v.low,$=w.high,O=w.low,j=E.high,B=E.low,H=C.high,q=C.low,Y=S.high,V=S.low,L=T.high,U=T.low,z=A.high,G=A.low,Q=D,te=I,de=P,se=N,ae=$,he=O,ie=j,le=B,Ce=H,X=q,fe=Y,ce=V,ne=L,ee=U,pe=z,Re=G,Se=0;Se<80;Se++){var be,Ne,Ae=f[Se];if(Se<16)Ne=Ae.high=m[p+Se*2]|0,be=Ae.low=m[p+Se*2+1]|0;else{var Pe=f[Se-15],we=Pe.high,Le=Pe.low,ze=(we>>>1|Le<<31)^(we>>>8|Le<<24)^we>>>7,tt=(Le>>>1|we<<31)^(Le>>>8|we<<24)^(Le>>>7|we<<25),rt=f[Se-2],bt=rt.high,Kt=rt.low,Wt=(bt>>>19|Kt<<13)^(bt<<3|Kt>>>29)^bt>>>6,Mn=(Kt>>>19|bt<<13)^(Kt<<3|bt>>>29)^(Kt>>>6|bt<<26),Ft=f[Se-7],hn=Ft.high,Kn=Ft.low,zn=f[Se-16],Fr=zn.high,er=zn.low;be=tt+Kn,Ne=ze+hn+(be>>>0<tt>>>0?1:0),be=be+Mn,Ne=Ne+Wt+(be>>>0<Mn>>>0?1:0),be=be+er,Ne=Ne+Fr+(be>>>0<er>>>0?1:0),Ae.high=Ne,Ae.low=be}var Sr=Ce&fe^~Ce&ne,Tn=X&ce^~X&ee,an=Q&de^Q&ae^de&ae,sr=te&se^te&he^se&he,pi=(Q>>>28|te<<4)^(Q<<30|te>>>2)^(Q<<25|te>>>7),Tr=(te>>>28|Q<<4)^(te<<30|Q>>>2)^(te<<25|Q>>>7),An=(Ce>>>14|X<<18)^(Ce>>>18|X<<14)^(Ce<<23|X>>>9),ft=(X>>>14|Ce<<18)^(X>>>18|Ce<<14)^(X<<23|Ce>>>9),wr=d[Se],Vt=wr.high,ar=wr.low,un=Re+ft,tr=pe+An+(un>>>0<Re>>>0?1:0),un=un+Tn,tr=tr+Sr+(un>>>0<Tn>>>0?1:0),un=un+ar,tr=tr+Vt+(un>>>0<ar>>>0?1:0),un=un+be,tr=tr+Ne+(un>>>0<be>>>0?1:0),Rr=Tr+sr,Lr=pi+an+(Rr>>>0<Tr>>>0?1:0);pe=ne,Re=ee,ne=fe,ee=ce,fe=Ce,ce=X,X=le+un|0,Ce=ie+tr+(X>>>0<le>>>0?1:0)|0,ie=ae,le=he,ae=de,he=se,de=Q,se=te,te=un+Rr|0,Q=tr+Lr+(te>>>0<un>>>0?1:0)|0}I=y.low=I+te,y.high=D+Q+(I>>>0<te>>>0?1:0),N=v.low=N+se,v.high=P+de+(N>>>0<se>>>0?1:0),O=w.low=O+he,w.high=$+ae+(O>>>0<he>>>0?1:0),B=E.low=B+le,E.high=j+ie+(B>>>0<le>>>0?1:0),q=C.low=q+X,C.high=H+Ce+(q>>>0<X>>>0?1:0),V=S.low=V+ce,S.high=Y+fe+(V>>>0<ce>>>0?1:0),U=T.low=U+ee,T.high=L+ne+(U>>>0<ee>>>0?1:0),G=A.low=G+Re,A.high=z+pe+(G>>>0<Re>>>0?1:0)},_doFinalize:function(){var m=this._data,p=m.words,g=this._nDataBytes*8,y=m.sigBytes*8;p[y>>>5]|=128<<24-y%32,p[(y+128>>>10<<5)+30]=Math.floor(g/4294967296),p[(y+128>>>10<<5)+31]=g,m.sigBytes=p.length*4,this._process();var v=this._hash.toX32();return v},clone:function(){var m=o.clone.call(this);return m._hash=this._hash.clone(),m},blockSize:1024/32});r.SHA512=o._createHelper(h),r.HmacSHA512=o._createHmacHelper(h)})(),n.SHA512})})(lO)),lO.exports}var uO={exports:{}},$mt=uO.exports,hde;function Fmt(){return hde||(hde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),W$(),mAe())})($mt,function(n){return(function(){var r=n,i=r.x64,o=i.Word,s=i.WordArray,a=r.algo,l=a.SHA512,u=a.SHA384=l.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var c=l._doFinalize.call(this);return c.sigBytes-=16,c}});r.SHA384=l._createHelper(u),r.HmacSHA384=l._createHmacHelper(u)})(),n.SHA384})})(uO)),uO.exports}var cO={exports:{}},Lmt=cO.exports,pde;function jmt(){return pde||(pde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),W$())})(Lmt,function(n){return(function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.x64,u=l.Word,c=i.algo,d=[],f=[],h=[];(function(){for(var g=1,y=0,v=0;v<24;v++){d[g+5*y]=(v+1)*(v+2)/2%64;var w=y%5,E=(2*g+3*y)%5;g=w,y=E}for(var g=0;g<5;g++)for(var y=0;y<5;y++)f[g+5*y]=y+(2*g+3*y)%5*5;for(var C=1,S=0;S<24;S++){for(var T=0,A=0,D=0;D<7;D++){if(C&1){var I=(1<<D)-1;I<32?A^=1<<I:T^=1<<I-32}C&128?C=C<<1^113:C<<=1}h[S]=u.create(T,A)}})();var m=[];(function(){for(var g=0;g<25;g++)m[g]=u.create()})();var p=c.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],y=0;y<25;y++)g[y]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,y){for(var v=this._state,w=this.blockSize/2,E=0;E<w;E++){var C=g[y+2*E],S=g[y+2*E+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360;var T=v[E];T.high^=S,T.low^=C}for(var A=0;A<24;A++){for(var D=0;D<5;D++){for(var I=0,P=0,N=0;N<5;N++){var T=v[D+5*N];I^=T.high,P^=T.low}var $=m[D];$.high=I,$.low=P}for(var D=0;D<5;D++)for(var O=m[(D+4)%5],j=m[(D+1)%5],B=j.high,H=j.low,I=O.high^(B<<1|H>>>31),P=O.low^(H<<1|B>>>31),N=0;N<5;N++){var T=v[D+5*N];T.high^=I,T.low^=P}for(var q=1;q<25;q++){var I,P,T=v[q],Y=T.high,V=T.low,L=d[q];L<32?(I=Y<<L|V>>>32-L,P=V<<L|Y>>>32-L):(I=V<<L-32|Y>>>64-L,P=Y<<L-32|V>>>64-L);var U=m[f[q]];U.high=I,U.low=P}var z=m[0],G=v[0];z.high=G.high,z.low=G.low;for(var D=0;D<5;D++)for(var N=0;N<5;N++){var q=D+5*N,T=v[q],Q=m[q],te=m[(D+1)%5+5*N],de=m[(D+2)%5+5*N];T.high=Q.high^~te.high&de.high,T.low=Q.low^~te.low&de.low}var T=v[0],se=h[A];T.high^=se.high,T.low^=se.low}},_doFinalize:function(){var g=this._data,y=g.words;this._nDataBytes*8;var v=g.sigBytes*8,w=this.blockSize*32;y[v>>>5]|=1<<24-v%32,y[(r.ceil((v+1)/w)*w>>>5)-1]|=128,g.sigBytes=y.length*4,this._process();for(var E=this._state,C=this.cfg.outputLength/8,S=C/8,T=[],A=0;A<S;A++){var D=E[A],I=D.high,P=D.low;I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,T.push(P),T.push(I)}return new s.init(T,C)},clone:function(){for(var g=a.clone.call(this),y=g._state=this._state.slice(0),v=0;v<25;v++)y[v]=y[v].clone();return g}});i.SHA3=a._createHelper(p),i.HmacSHA3=a._createHmacHelper(p)})(Math),n.SHA3})})(cO)),cO.exports}var dO={exports:{}},Bmt=dO.exports,mde;function zmt(){return mde||(mde=1,(function(e,t){(function(n,r){e.exports=r($r())})(Bmt,function(n){return(function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,u=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=s.create([0,1518500249,1859775393,2400959708,2840853838]),m=s.create([1352829926,1548603684,1836072691,2053994217,0]),p=l.RIPEMD160=a.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,T){for(var A=0;A<16;A++){var D=T+A,I=S[D];S[D]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var P=this._hash.words,N=h.words,$=m.words,O=u.words,j=c.words,B=d.words,H=f.words,q,Y,V,L,U,z,G,Q,te,de;z=q=P[0],G=Y=P[1],Q=V=P[2],te=L=P[3],de=U=P[4];for(var se,A=0;A<80;A+=1)se=q+S[T+O[A]]|0,A<16?se+=g(Y,V,L)+N[0]:A<32?se+=y(Y,V,L)+N[1]:A<48?se+=v(Y,V,L)+N[2]:A<64?se+=w(Y,V,L)+N[3]:se+=E(Y,V,L)+N[4],se=se|0,se=C(se,B[A]),se=se+U|0,q=U,U=L,L=C(V,10),V=Y,Y=se,se=z+S[T+j[A]]|0,A<16?se+=E(G,Q,te)+$[0]:A<32?se+=w(G,Q,te)+$[1]:A<48?se+=v(G,Q,te)+$[2]:A<64?se+=y(G,Q,te)+$[3]:se+=g(G,Q,te)+$[4],se=se|0,se=C(se,H[A]),se=se+de|0,z=de,de=te,te=C(Q,10),Q=G,G=se;se=P[1]+V+te|0,P[1]=P[2]+L+de|0,P[2]=P[3]+U+z|0,P[3]=P[4]+q+G|0,P[4]=P[0]+Y+Q|0,P[0]=se},_doFinalize:function(){var S=this._data,T=S.words,A=this._nDataBytes*8,D=S.sigBytes*8;T[D>>>5]|=128<<24-D%32,T[(D+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,S.sigBytes=(T.length+1)*4,this._process();for(var I=this._hash,P=I.words,N=0;N<5;N++){var $=P[N];P[N]=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360}return I},clone:function(){var S=a.clone.call(this);return S._hash=this._hash.clone(),S}});function g(S,T,A){return S^T^A}function y(S,T,A){return S&T|~S&A}function v(S,T,A){return(S|~T)^A}function w(S,T,A){return S&A|T&~A}function E(S,T,A){return S^(T|~A)}function C(S,T){return S<<T|S>>>32-T}i.RIPEMD160=a._createHelper(p),i.HmacRIPEMD160=a._createHmacHelper(p)})(),n.RIPEMD160})})(dO)),dO.exports}var fO={exports:{}},Umt=fO.exports,gde;function vQ(){return gde||(gde=1,(function(e,t){(function(n,r){e.exports=r($r())})(Umt,function(n){(function(){var r=n,i=r.lib,o=i.Base,s=r.enc,a=s.Utf8,l=r.algo;l.HMAC=o.extend({init:function(u,c){u=this._hasher=new u.init,typeof c=="string"&&(c=a.parse(c));var d=u.blockSize,f=d*4;c.sigBytes>f&&(c=u.finalize(c)),c.clamp();for(var h=this._oKey=c.clone(),m=this._iKey=c.clone(),p=h.words,g=m.words,y=0;y<d;y++)p[y]^=1549556828,g[y]^=909522486;h.sigBytes=m.sigBytes=f,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var c=this._hasher,d=c.finalize(u);c.reset();var f=c.finalize(this._oKey.clone().concat(d));return f}})})()})})(fO)),fO.exports}var hO={exports:{}},Vmt=hO.exports,yde;function Hmt(){return yde||(yde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),yQ(),vQ())})(Vmt,function(n){return(function(){var r=n,i=r.lib,o=i.Base,s=i.WordArray,a=r.algo,l=a.SHA256,u=a.HMAC,c=a.PBKDF2=o.extend({cfg:o.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,f){for(var h=this.cfg,m=u.create(h.hasher,d),p=s.create(),g=s.create([1]),y=p.words,v=g.words,w=h.keySize,E=h.iterations;y.length<w;){var C=m.update(f).finalize(g);m.reset();for(var S=C.words,T=S.length,A=C,D=1;D<E;D++){A=m.finalize(A),m.reset();for(var I=A.words,P=0;P<T;P++)S[P]^=I[P]}p.concat(C),v[0]++}return p.sigBytes=w*4,p}});r.PBKDF2=function(d,f,h){return c.create(h).compute(d,f)}})(),n.PBKDF2})})(hO)),hO.exports}var pO={exports:{}},qmt=pO.exports,vde;function Wy(){return vde||(vde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),pAe(),vQ())})(qmt,function(n){return(function(){var r=n,i=r.lib,o=i.Base,s=i.WordArray,a=r.algo,l=a.MD5,u=a.EvpKDF=o.extend({cfg:o.extend({keySize:128/32,hasher:l,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,d){for(var f,h=this.cfg,m=h.hasher.create(),p=s.create(),g=p.words,y=h.keySize,v=h.iterations;g.length<y;){f&&m.update(f),f=m.update(c).finalize(d),m.reset();for(var w=1;w<v;w++)f=m.finalize(f),m.reset();p.concat(f)}return p.sigBytes=y*4,p}});r.EvpKDF=function(c,d,f){return u.create(f).compute(c,d)}})(),n.EvpKDF})})(pO)),pO.exports}var mO={exports:{}},Wmt=mO.exports,bde;function oa(){return bde||(bde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),Wy())})(Wmt,function(n){n.lib.Cipher||(function(r){var i=n,o=i.lib,s=o.Base,a=o.WordArray,l=o.BufferedBlockAlgorithm,u=i.enc;u.Utf8;var c=u.Base64,d=i.algo,f=d.EvpKDF,h=o.Cipher=l.extend({cfg:s.extend(),createEncryptor:function(I,P){return this.create(this._ENC_XFORM_MODE,I,P)},createDecryptor:function(I,P){return this.create(this._DEC_XFORM_MODE,I,P)},init:function(I,P,N){this.cfg=this.cfg.extend(N),this._xformMode=I,this._key=P,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(I){return this._append(I),this._process()},finalize:function(I){I&&this._append(I);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function I(P){return typeof P=="string"?D:S}return function(P){return{encrypt:function(N,$,O){return I($).encrypt(P,N,$,O)},decrypt:function(N,$,O){return I($).decrypt(P,N,$,O)}}}})()});o.StreamCipher=h.extend({_doFinalize:function(){var I=this._process(!0);return I},blockSize:1});var m=i.mode={},p=o.BlockCipherMode=s.extend({createEncryptor:function(I,P){return this.Encryptor.create(I,P)},createDecryptor:function(I,P){return this.Decryptor.create(I,P)},init:function(I,P){this._cipher=I,this._iv=P}}),g=m.CBC=(function(){var I=p.extend();I.Encryptor=I.extend({processBlock:function(N,$){var O=this._cipher,j=O.blockSize;P.call(this,N,$,j),O.encryptBlock(N,$),this._prevBlock=N.slice($,$+j)}}),I.Decryptor=I.extend({processBlock:function(N,$){var O=this._cipher,j=O.blockSize,B=N.slice($,$+j);O.decryptBlock(N,$),P.call(this,N,$,j),this._prevBlock=B}});function P(N,$,O){var j,B=this._iv;B?(j=B,this._iv=r):j=this._prevBlock;for(var H=0;H<O;H++)N[$+H]^=j[H]}return I})(),y=i.pad={},v=y.Pkcs7={pad:function(I,P){for(var N=P*4,$=N-I.sigBytes%N,O=$<<24|$<<16|$<<8|$,j=[],B=0;B<$;B+=4)j.push(O);var H=a.create(j,$);I.concat(H)},unpad:function(I){var P=I.words[I.sigBytes-1>>>2]&255;I.sigBytes-=P}};o.BlockCipher=h.extend({cfg:h.cfg.extend({mode:g,padding:v}),reset:function(){var I;h.reset.call(this);var P=this.cfg,N=P.iv,$=P.mode;this._xformMode==this._ENC_XFORM_MODE?I=$.createEncryptor:(I=$.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==I?this._mode.init(this,N&&N.words):(this._mode=I.call($,this,N&&N.words),this._mode.__creator=I)},_doProcessBlock:function(I,P){this._mode.processBlock(I,P)},_doFinalize:function(){var I,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),I=this._process(!0)):(I=this._process(!0),P.unpad(I)),I},blockSize:128/32});var w=o.CipherParams=s.extend({init:function(I){this.mixIn(I)},toString:function(I){return(I||this.formatter).stringify(this)}}),E=i.format={},C=E.OpenSSL={stringify:function(I){var P,N=I.ciphertext,$=I.salt;return $?P=a.create([1398893684,1701076831]).concat($).concat(N):P=N,P.toString(c)},parse:function(I){var P,N=c.parse(I),$=N.words;return $[0]==1398893684&&$[1]==1701076831&&(P=a.create($.slice(2,4)),$.splice(0,4),N.sigBytes-=16),w.create({ciphertext:N,salt:P})}},S=o.SerializableCipher=s.extend({cfg:s.extend({format:C}),encrypt:function(I,P,N,$){$=this.cfg.extend($);var O=I.createEncryptor(N,$),j=O.finalize(P),B=O.cfg;return w.create({ciphertext:j,key:N,iv:B.iv,algorithm:I,mode:B.mode,padding:B.padding,blockSize:I.blockSize,formatter:$.format})},decrypt:function(I,P,N,$){$=this.cfg.extend($),P=this._parse(P,$.format);var O=I.createDecryptor(N,$).finalize(P.ciphertext);return O},_parse:function(I,P){return typeof I=="string"?P.parse(I,this):I}}),T=i.kdf={},A=T.OpenSSL={execute:function(I,P,N,$,O){if($||($=a.random(64/8)),O)var j=f.create({keySize:P+N,hasher:O}).compute(I,$);else var j=f.create({keySize:P+N}).compute(I,$);var B=a.create(j.words.slice(P),N*4);return j.sigBytes=P*4,w.create({key:j,iv:B,salt:$})}},D=o.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:A}),encrypt:function(I,P,N,$){$=this.cfg.extend($);var O=$.kdf.execute(N,I.keySize,I.ivSize,$.salt,$.hasher);$.iv=O.iv;var j=S.encrypt.call(this,I,P,O.key,$);return j.mixIn(O),j},decrypt:function(I,P,N,$){$=this.cfg.extend($),P=this._parse(P,$.format);var O=$.kdf.execute(N,I.keySize,I.ivSize,P.salt,$.hasher);$.iv=O.iv;var j=S.decrypt.call(this,I,P,O.key,$);return j}})})()})})(mO)),mO.exports}var gO={exports:{}},Gmt=gO.exports,wde;function Ymt(){return wde||(wde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),oa())})(Gmt,function(n){return n.mode.CFB=(function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize;i.call(this,o,s,l,a),this._prevBlock=o.slice(s,s+l)}}),r.Decryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,u=o.slice(s,s+l);i.call(this,o,s,l,a),this._prevBlock=u}});function i(o,s,a,l){var u,c=this._iv;c?(u=c.slice(0),this._iv=void 0):u=this._prevBlock,l.encryptBlock(u,0);for(var d=0;d<a;d++)o[s+d]^=u[d]}return r})(),n.mode.CFB})})(gO)),gO.exports}var yO={exports:{}},Kmt=yO.exports,xde;function Xmt(){return xde||(xde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),oa())})(Kmt,function(n){return n.mode.CTR=(function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,u=this._iv,c=this._counter;u&&(c=this._counter=u.slice(0),this._iv=void 0);var d=c.slice(0);a.encryptBlock(d,0),c[l-1]=c[l-1]+1|0;for(var f=0;f<l;f++)o[s+f]^=d[f]}});return r.Decryptor=i,r})(),n.mode.CTR})})(yO)),yO.exports}var vO={exports:{}},Qmt=vO.exports,_de;function Jmt(){return _de||(_de=1,(function(e,t){(function(n,r,i){e.exports=r($r(),oa())})(Qmt,function(n){return n.mode.CTRGladman=(function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,u=a>>8&255,c=a&255;l===255?(l=0,u===255?(u=0,c===255?c=0:++c):++u):++l,a=0,a+=l<<16,a+=u<<8,a+=c}else a+=1<<24;return a}function o(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var s=r.Encryptor=r.extend({processBlock:function(a,l){var u=this._cipher,c=u.blockSize,d=this._iv,f=this._counter;d&&(f=this._counter=d.slice(0),this._iv=void 0),o(f);var h=f.slice(0);u.encryptBlock(h,0);for(var m=0;m<c;m++)a[l+m]^=h[m]}});return r.Decryptor=s,r})(),n.mode.CTRGladman})})(vO)),vO.exports}var bO={exports:{}},Zmt=bO.exports,Ede;function egt(){return Ede||(Ede=1,(function(e,t){(function(n,r,i){e.exports=r($r(),oa())})(Zmt,function(n){return n.mode.OFB=(function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,u=this._iv,c=this._keystream;u&&(c=this._keystream=u.slice(0),this._iv=void 0),a.encryptBlock(c,0);for(var d=0;d<l;d++)o[s+d]^=c[d]}});return r.Decryptor=i,r})(),n.mode.OFB})})(bO)),bO.exports}var wO={exports:{}},tgt=wO.exports,Cde;function ngt(){return Cde||(Cde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),oa())})(tgt,function(n){return n.mode.ECB=(function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,o){this._cipher.encryptBlock(i,o)}}),r.Decryptor=r.extend({processBlock:function(i,o){this._cipher.decryptBlock(i,o)}}),r})(),n.mode.ECB})})(wO)),wO.exports}var xO={exports:{}},rgt=xO.exports,Sde;function igt(){return Sde||(Sde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),oa())})(rgt,function(n){return n.pad.AnsiX923={pad:function(r,i){var o=r.sigBytes,s=i*4,a=s-o%s,l=o+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})})(xO)),xO.exports}var _O={exports:{}},ogt=_O.exports,Tde;function sgt(){return Tde||(Tde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),oa())})(ogt,function(n){return n.pad.Iso10126={pad:function(r,i){var o=i*4,s=o-r.sigBytes%o;r.concat(n.lib.WordArray.random(s-1)).concat(n.lib.WordArray.create([s<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})})(_O)),_O.exports}var EO={exports:{}},agt=EO.exports,Ade;function lgt(){return Ade||(Ade=1,(function(e,t){(function(n,r,i){e.exports=r($r(),oa())})(agt,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})})(EO)),EO.exports}var CO={exports:{}},ugt=CO.exports,kde;function cgt(){return kde||(kde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),oa())})(ugt,function(n){return n.pad.ZeroPadding={pad:function(r,i){var o=i*4;r.clamp(),r.sigBytes+=o-(r.sigBytes%o||o)},unpad:function(r){for(var i=r.words,o=r.sigBytes-1,o=r.sigBytes-1;o>=0;o--)if(i[o>>>2]>>>24-o%4*8&255){r.sigBytes=o+1;break}}},n.pad.ZeroPadding})})(CO)),CO.exports}var SO={exports:{}},dgt=SO.exports,Rde;function fgt(){return Rde||(Rde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),oa())})(dgt,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})})(SO)),SO.exports}var TO={exports:{}},hgt=TO.exports,Ide;function pgt(){return Ide||(Ide=1,(function(e,t){(function(n,r,i){e.exports=r($r(),oa())})(hgt,function(n){return(function(r){var i=n,o=i.lib,s=o.CipherParams,a=i.enc,l=a.Hex,u=i.format;u.Hex={stringify:function(c){return c.ciphertext.toString(l)},parse:function(c){var d=l.parse(c);return s.create({ciphertext:d})}}})(),n.format.Hex})})(TO)),TO.exports}var AO={exports:{}},mgt=AO.exports,Dde;function ggt(){return Dde||(Dde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),B1(),z1(),Wy(),oa())})(mgt,function(n){return(function(){var r=n,i=r.lib,o=i.BlockCipher,s=r.algo,a=[],l=[],u=[],c=[],d=[],f=[],h=[],m=[],p=[],g=[];(function(){for(var w=[],E=0;E<256;E++)E<128?w[E]=E<<1:w[E]=E<<1^283;for(var C=0,S=0,E=0;E<256;E++){var T=S^S<<1^S<<2^S<<3^S<<4;T=T>>>8^T&255^99,a[C]=T,l[T]=C;var A=w[C],D=w[A],I=w[D],P=w[T]*257^T*16843008;u[C]=P<<24|P>>>8,c[C]=P<<16|P>>>16,d[C]=P<<8|P>>>24,f[C]=P;var P=I*16843009^D*65537^A*257^C*16843008;h[T]=P<<24|P>>>8,m[T]=P<<16|P>>>16,p[T]=P<<8|P>>>24,g[T]=P,C?(C=A^w[w[w[I^A]]],S^=w[w[S]]):C=S=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],v=s.AES=o.extend({_doReset:function(){var w;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var E=this._keyPriorReset=this._key,C=E.words,S=E.sigBytes/4,T=this._nRounds=S+6,A=(T+1)*4,D=this._keySchedule=[],I=0;I<A;I++)I<S?D[I]=C[I]:(w=D[I-1],I%S?S>6&&I%S==4&&(w=a[w>>>24]<<24|a[w>>>16&255]<<16|a[w>>>8&255]<<8|a[w&255]):(w=w<<8|w>>>24,w=a[w>>>24]<<24|a[w>>>16&255]<<16|a[w>>>8&255]<<8|a[w&255],w^=y[I/S|0]<<24),D[I]=D[I-S]^w);for(var P=this._invKeySchedule=[],N=0;N<A;N++){var I=A-N;if(N%4)var w=D[I];else var w=D[I-4];N<4||I<=4?P[N]=w:P[N]=h[a[w>>>24]]^m[a[w>>>16&255]]^p[a[w>>>8&255]]^g[a[w&255]]}}},encryptBlock:function(w,E){this._doCryptBlock(w,E,this._keySchedule,u,c,d,f,a)},decryptBlock:function(w,E){var C=w[E+1];w[E+1]=w[E+3],w[E+3]=C,this._doCryptBlock(w,E,this._invKeySchedule,h,m,p,g,l);var C=w[E+1];w[E+1]=w[E+3],w[E+3]=C},_doCryptBlock:function(w,E,C,S,T,A,D,I){for(var P=this._nRounds,N=w[E]^C[0],$=w[E+1]^C[1],O=w[E+2]^C[2],j=w[E+3]^C[3],B=4,H=1;H<P;H++){var q=S[N>>>24]^T[$>>>16&255]^A[O>>>8&255]^D[j&255]^C[B++],Y=S[$>>>24]^T[O>>>16&255]^A[j>>>8&255]^D[N&255]^C[B++],V=S[O>>>24]^T[j>>>16&255]^A[N>>>8&255]^D[$&255]^C[B++],L=S[j>>>24]^T[N>>>16&255]^A[$>>>8&255]^D[O&255]^C[B++];N=q,$=Y,O=V,j=L}var q=(I[N>>>24]<<24|I[$>>>16&255]<<16|I[O>>>8&255]<<8|I[j&255])^C[B++],Y=(I[$>>>24]<<24|I[O>>>16&255]<<16|I[j>>>8&255]<<8|I[N&255])^C[B++],V=(I[O>>>24]<<24|I[j>>>16&255]<<16|I[N>>>8&255]<<8|I[$&255])^C[B++],L=(I[j>>>24]<<24|I[N>>>16&255]<<16|I[$>>>8&255]<<8|I[O&255])^C[B++];w[E]=q,w[E+1]=Y,w[E+2]=V,w[E+3]=L},keySize:256/32});r.AES=o._createHelper(v)})(),n.AES})})(AO)),AO.exports}var kO={exports:{}},ygt=kO.exports,Pde;function vgt(){return Pde||(Pde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),B1(),z1(),Wy(),oa())})(ygt,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=i.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=a.DES=s.extend({_doReset:function(){for(var y=this._key,v=y.words,w=[],E=0;E<56;E++){var C=l[E]-1;w[E]=v[C>>>5]>>>31-C%32&1}for(var S=this._subKeys=[],T=0;T<16;T++){for(var A=S[T]=[],D=c[T],E=0;E<24;E++)A[E/6|0]|=w[(u[E]-1+D)%28]<<31-E%6,A[4+(E/6|0)]|=w[28+(u[E+24]-1+D)%28]<<31-E%6;A[0]=A[0]<<1|A[0]>>>31;for(var E=1;E<7;E++)A[E]=A[E]>>>(E-1)*4+3;A[7]=A[7]<<5|A[7]>>>27}for(var I=this._invSubKeys=[],E=0;E<16;E++)I[E]=S[15-E]},encryptBlock:function(y,v){this._doCryptBlock(y,v,this._subKeys)},decryptBlock:function(y,v){this._doCryptBlock(y,v,this._invSubKeys)},_doCryptBlock:function(y,v,w){this._lBlock=y[v],this._rBlock=y[v+1],m.call(this,4,252645135),m.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),m.call(this,1,1431655765);for(var E=0;E<16;E++){for(var C=w[E],S=this._lBlock,T=this._rBlock,A=0,D=0;D<8;D++)A|=d[D][((T^C[D])&f[D])>>>0];this._lBlock=T,this._rBlock=S^A}var I=this._lBlock;this._lBlock=this._rBlock,this._rBlock=I,m.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),m.call(this,16,65535),m.call(this,4,252645135),y[v]=this._lBlock,y[v+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function m(y,v){var w=(this._lBlock>>>y^this._rBlock)&v;this._rBlock^=w,this._lBlock^=w<<y}function p(y,v){var w=(this._rBlock>>>y^this._lBlock)&v;this._lBlock^=w,this._rBlock^=w<<y}r.DES=s._createHelper(h);var g=a.TripleDES=s.extend({_doReset:function(){var y=this._key,v=y.words;if(v.length!==2&&v.length!==4&&v.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var w=v.slice(0,2),E=v.length<4?v.slice(0,2):v.slice(2,4),C=v.length<6?v.slice(0,2):v.slice(4,6);this._des1=h.createEncryptor(o.create(w)),this._des2=h.createEncryptor(o.create(E)),this._des3=h.createEncryptor(o.create(C))},encryptBlock:function(y,v){this._des1.encryptBlock(y,v),this._des2.decryptBlock(y,v),this._des3.encryptBlock(y,v)},decryptBlock:function(y,v){this._des3.decryptBlock(y,v),this._des2.encryptBlock(y,v),this._des1.decryptBlock(y,v)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=s._createHelper(g)})(),n.TripleDES})})(kO)),kO.exports}var RO={exports:{}},bgt=RO.exports,Ode;function wgt(){return Ode||(Ode=1,(function(e,t){(function(n,r,i){e.exports=r($r(),B1(),z1(),Wy(),oa())})(bgt,function(n){return(function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=s.RC4=o.extend({_doReset:function(){for(var c=this._key,d=c.words,f=c.sigBytes,h=this._S=[],m=0;m<256;m++)h[m]=m;for(var m=0,p=0;m<256;m++){var g=m%f,y=d[g>>>2]>>>24-g%4*8&255;p=(p+h[m]+y)%256;var v=h[m];h[m]=h[p],h[p]=v}this._i=this._j=0},_doProcessBlock:function(c,d){c[d]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var c=this._S,d=this._i,f=this._j,h=0,m=0;m<4;m++){d=(d+1)%256,f=(f+c[d])%256;var p=c[d];c[d]=c[f],c[f]=p,h|=c[(c[d]+c[f])%256]<<24-m*8}return this._i=d,this._j=f,h}r.RC4=o._createHelper(a);var u=s.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)l.call(this)}});r.RC4Drop=o._createHelper(u)})(),n.RC4})})(RO)),RO.exports}var IO={exports:{}},xgt=IO.exports,Nde;function _gt(){return Nde||(Nde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),B1(),z1(),Wy(),oa())})(xgt,function(n){return(function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=[],l=[],u=[],c=s.Rabbit=o.extend({_doReset:function(){for(var f=this._key.words,h=this.cfg.iv,m=0;m<4;m++)f[m]=(f[m]<<8|f[m]>>>24)&16711935|(f[m]<<24|f[m]>>>8)&4278255360;var p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var m=0;m<4;m++)d.call(this);for(var m=0;m<8;m++)g[m]^=p[m+4&7];if(h){var y=h.words,v=y[0],w=y[1],E=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,C=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,S=E>>>16|C&4294901760,T=C<<16|E&65535;g[0]^=E,g[1]^=S,g[2]^=C,g[3]^=T,g[4]^=E,g[5]^=S,g[6]^=C,g[7]^=T;for(var m=0;m<4;m++)d.call(this)}},_doProcessBlock:function(f,h){var m=this._X;d.call(this),a[0]=m[0]^m[5]>>>16^m[3]<<16,a[1]=m[2]^m[7]>>>16^m[5]<<16,a[2]=m[4]^m[1]>>>16^m[7]<<16,a[3]=m[6]^m[3]>>>16^m[1]<<16;for(var p=0;p<4;p++)a[p]=(a[p]<<8|a[p]>>>24)&16711935|(a[p]<<24|a[p]>>>8)&4278255360,f[h+p]^=a[p]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,h=this._C,m=0;m<8;m++)l[m]=h[m];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var m=0;m<8;m++){var p=f[m]+h[m],g=p&65535,y=p>>>16,v=((g*g>>>17)+g*y>>>15)+y*y,w=((p&4294901760)*p|0)+((p&65535)*p|0);u[m]=v^w}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.Rabbit=o._createHelper(c)})(),n.Rabbit})})(IO)),IO.exports}var DO={exports:{}},Egt=DO.exports,Mde;function Cgt(){return Mde||(Mde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),B1(),z1(),Wy(),oa())})(Egt,function(n){return(function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=[],l=[],u=[],c=s.RabbitLegacy=o.extend({_doReset:function(){var f=this._key.words,h=this.cfg.iv,m=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],p=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)d.call(this);for(var g=0;g<8;g++)p[g]^=m[g+4&7];if(h){var y=h.words,v=y[0],w=y[1],E=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,C=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,S=E>>>16|C&4294901760,T=C<<16|E&65535;p[0]^=E,p[1]^=S,p[2]^=C,p[3]^=T,p[4]^=E,p[5]^=S,p[6]^=C,p[7]^=T;for(var g=0;g<4;g++)d.call(this)}},_doProcessBlock:function(f,h){var m=this._X;d.call(this),a[0]=m[0]^m[5]>>>16^m[3]<<16,a[1]=m[2]^m[7]>>>16^m[5]<<16,a[2]=m[4]^m[1]>>>16^m[7]<<16,a[3]=m[6]^m[3]>>>16^m[1]<<16;for(var p=0;p<4;p++)a[p]=(a[p]<<8|a[p]>>>24)&16711935|(a[p]<<24|a[p]>>>8)&4278255360,f[h+p]^=a[p]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,h=this._C,m=0;m<8;m++)l[m]=h[m];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var m=0;m<8;m++){var p=f[m]+h[m],g=p&65535,y=p>>>16,v=((g*g>>>17)+g*y>>>15)+y*y,w=((p&4294901760)*p|0)+((p&65535)*p|0);u[m]=v^w}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.RabbitLegacy=o._createHelper(c)})(),n.RabbitLegacy})})(DO)),DO.exports}var PO={exports:{}},Sgt=PO.exports,$de;function Tgt(){return $de||($de=1,(function(e,t){(function(n,r,i){e.exports=r($r(),B1(),z1(),Wy(),oa())})(Sgt,function(n){return(function(){var r=n,i=r.lib,o=i.BlockCipher,s=r.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function d(g,y){let v=y>>24&255,w=y>>16&255,E=y>>8&255,C=y&255,S=g.sbox[0][v]+g.sbox[1][w];return S=S^g.sbox[2][E],S=S+g.sbox[3][C],S}function f(g,y,v){let w=y,E=v,C;for(let S=0;S<a;++S)w=w^g.pbox[S],E=d(g,w)^E,C=w,w=E,E=C;return C=w,w=E,E=C,E=E^g.pbox[a],w=w^g.pbox[a+1],{left:w,right:E}}function h(g,y,v){let w=y,E=v,C;for(let S=a+1;S>1;--S)w=w^g.pbox[S],E=d(g,w)^E,C=w,w=E,E=C;return C=w,w=E,E=C,E=E^g.pbox[1],w=w^g.pbox[0],{left:w,right:E}}function m(g,y,v){for(let T=0;T<4;T++){g.sbox[T]=[];for(let A=0;A<256;A++)g.sbox[T][A]=u[T][A]}let w=0;for(let T=0;T<a+2;T++)g.pbox[T]=l[T]^y[w],w++,w>=v&&(w=0);let E=0,C=0,S=0;for(let T=0;T<a+2;T+=2)S=f(g,E,C),E=S.left,C=S.right,g.pbox[T]=E,g.pbox[T+1]=C;for(let T=0;T<4;T++)for(let A=0;A<256;A+=2)S=f(g,E,C),E=S.left,C=S.right,g.sbox[T][A]=E,g.sbox[T][A+1]=C;return!0}var p=s.Blowfish=o.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,y=g.words,v=g.sigBytes/4;m(c,y,v)}},encryptBlock:function(g,y){var v=f(c,g[y],g[y+1]);g[y]=v.left,g[y+1]=v.right},decryptBlock:function(g,y){var v=h(c,g[y],g[y+1]);g[y]=v.left,g[y+1]=v.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=o._createHelper(p)})(),n.Blowfish})})(PO)),PO.exports}var Agt=Q3.exports,Fde;function kgt(){return Fde||(Fde=1,(function(e,t){(function(n,r,i){e.exports=r($r(),W$(),Cmt(),Tmt(),B1(),Rmt(),z1(),pAe(),yQ(),Nmt(),mAe(),Fmt(),jmt(),zmt(),vQ(),Hmt(),Wy(),oa(),Ymt(),Xmt(),Jmt(),egt(),ngt(),igt(),sgt(),lgt(),cgt(),fgt(),pgt(),ggt(),vgt(),wgt(),_gt(),Cgt(),Tgt())})(Agt,function(n){return n})})(Q3)),Q3.exports}var Gx=kgt();const gAe=Gx.enc.Hex.parse("000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f");function ko(e){const t=Gx.AES.encrypt(e.toString(),gAe,{mode:Gx.mode.ECB}).toString();return btoa(t)}function wf(e){const t=Gx.AES.decrypt(atob(e),gAe,{mode:Gx.mode.ECB}).toString(Gx.enc.Utf8);return parseInt(t,10)}function qf(){const{studyId:e}=hs();return`${e}`}function Rc(){const{index:e}=hs();return e===void 0?0:e.startsWith("reviewer-")||e.startsWith("__")?e:wf(e)}const Lde=Object.assign({"../public/libraries/adaptive-vlat/assets/VlatTrial.tsx":$2e,"../public/libraries/adaptive-vlat/assets/dynamic.tsx":j2e,"../public/libraries/adaptive-vlat/assets/utils.ts":L2e,"../public/libraries/adaptive-vlat/assets/vlatQ.tsx":M2e,"../public/libraries/berlin-num/assets/dynamic.tsx":B2e,"../public/libraries/mic-check/assets/AudioTest.tsx":z2e,"../public/libraries/screen-recording/assets/ScreenRecording.tsx":uAe,"../public/libraries/test/assets/test.tsx":cAe,"../public/libraries/virtual-chinrest/assets/ViewingDistanceCalibration.tsx":dAe,"../public/libraries/virtual-chinrest/assets/VirtualChinrestCalibration.tsx":fAe});function Wf(){const{funcIndex:e}=hs(),t=fr(p=>p.answers),n=Bu(),r=Rc(),i=qy(),o=pl(),s=qf(),a=Po(),{pushToFuncSequence:l}=Zi(),[u,c]=k.useState(null),d=k.useMemo(()=>typeof r=="number"?Qce(i[r],n):r.includes("reviewer-")||r.startsWith("__")?r:null,[r,i,n]),[f,h]=k.useState("__dynamicLoading"),m=k.useMemo(()=>{if(typeof r=="number"&&!d){const p=wH(i[r],n.sequence);if(!p)return null;const g=`../public/${p.functionPath}`;return g in Lde?Lde[g].default:null}return null},[d,r,i,n.sequence]);return k.useEffect(()=>{!e&&m&&typeof r=="number"&&o(`/${s}/${ko(r)}/${ko(0)}${window.location.search}`)},[r,e,o,m,s]),k.useEffect(()=>{if(typeof r=="number"){const p=Qce(i[r],n),g=i[r],y=e?wf(e):0,v=Object.entries(t).find(([E,C])=>E.startsWith(`${g}_${r}_`)&&E.endsWith(`${y}`)),w=v?v[1].componentName:null;if(w!==null){h(w),c(y);return}if(!p&&m!==null){const{component:E,parameters:C,correctAnswer:S}=m({answers:t,customParameters:wH(i[r],n.sequence)?.parameters,currentStep:r,currentBlock:i[r]});E!==null?e&&(h(E),c(y),a(l({component:E,funcName:g,index:r,funcIndex:y,parameters:C||void 0,correctAnswer:S||void 0}))):(h("__dynamicLoading"),c(null),o(`/${s}/${ko(r+1)}${window.location.search}`))}}},[r,e]),typeof r=="number"&&i[r]==="end"?"end":d?typeof r=="number"?i[r]:r.replace("reviewer-",""):u!==null&&e&&wf(e)===u?f:"__dynamicLoading"}function Km(){const e=Rc(),t=qy(),n=Wf(),{funcIndex:r}=hs();return k.useMemo(()=>r&&typeof e=="number"?`${t[e]}_${e}_${n}_${wf(r)}`:`${n}_${e}`,[n,e,r,t])}function af(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(i){return"'"+i+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function uy(e){return!!e&&!!e[ro]}function Xm(e){var t;return!!e&&((function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Fgt})(e)||Array.isArray(e)||!!e[qde]||!!(!((t=e.constructor)===null||t===void 0)&&t[qde])||bQ(e)||wQ(e))}function Gb(e,t,n){n===void 0&&(n=!1),BE(e)===0?(n?Object.keys:Kx)(e).forEach((function(r){n&&typeof r=="symbol"||t(r,e[r],e)})):e.forEach((function(r,i){return t(i,r,e)}))}function BE(e){var t=e[ro];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:bQ(e)?2:wQ(e)?3:0}function Yx(e,t){return BE(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Rgt(e,t){return BE(e)===2?e.get(t):e[t]}function yAe(e,t,n){var r=BE(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function vAe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function bQ(e){return Mgt&&e instanceof Map}function wQ(e){return $gt&&e instanceof Set}function Yv(e){return e.o||e.t}function xQ(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=wAe(e);delete t[ro];for(var n=Kx(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function _Q(e,t){return t===void 0&&(t=!1),EQ(e)||uy(e)||!Xm(e)||(BE(e)>1&&(e.set=e.add=e.clear=e.delete=Igt),Object.freeze(e),t&&Gb(e,(function(n,r){return _Q(r,!0)}),!0)),e}function Igt(){af(2)}function EQ(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Hh(e){var t=CH[e];return t||af(18,e),t}function Dgt(e,t){CH[e]||(CH[e]=t)}function xH(){return Z2}function r9(e,t){t&&(Hh("Patches"),e.u=[],e.s=[],e.v=t)}function c4(e){_H(e),e.p.forEach(Pgt),e.p=null}function _H(e){e===Z2&&(Z2=e.l)}function jde(e){return Z2={p:[],l:Z2,h:e,m:!0,_:0}}function Pgt(e){var t=e[ro];t.i===0||t.i===1?t.j():t.g=!0}function i9(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Hh("ES5").S(t,e,r),r?(n[ro].P&&(c4(t),af(4)),Xm(e)&&(e=d4(t,e),t.l||f4(t,e)),t.u&&Hh("Patches").M(n[ro].t,e,t.u,t.s)):e=d4(t,n,[]),c4(t),t.u&&t.v(t.u,t.s),e!==bAe?e:void 0}function d4(e,t,n){if(EQ(t))return t;var r=t[ro];if(!r)return Gb(t,(function(a,l){return Bde(e,r,t,a,l,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return f4(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=xQ(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),Gb(o,(function(a,l){return Bde(e,r,i,a,l,n,s)})),f4(e,i,!1),n&&e.u&&Hh("Patches").N(r,n,e.u,e.s)}return r.o}function Bde(e,t,n,r,i,o,s){if(uy(i)){var a=d4(e,i,o&&t&&t.i!==3&&!Yx(t.R,r)?o.concat(r):void 0);if(yAe(n,r,a),!uy(a))return;e.m=!1}else s&&n.add(i);if(Xm(i)&&!EQ(i)){if(!e.h.D&&e._<1)return;d4(e,i),t&&t.A.l||f4(e,i)}}function f4(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&_Q(t,n)}function o9(e,t){var n=e[ro];return(n?Yv(n):e)[t]}function zde(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function x0(e){e.P||(e.P=!0,e.l&&x0(e.l))}function s9(e){e.o||(e.o=xQ(e.t))}function EH(e,t,n){var r=bQ(t)?Hh("MapSet").F(t,n):wQ(t)?Hh("MapSet").T(t,n):e.O?(function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:xH(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=eA;s&&(l=[a],u=uT);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f})(t,n):Hh("ES5").J(t,n);return(n?n.A:xH()).p.push(r),r}function Ogt(e){return uy(e)||af(22,e),(function t(n){if(!Xm(n))return n;var r,i=n[ro],o=BE(n);if(i){if(!i.P&&(i.i<4||!Hh("ES5").K(i)))return i.t;i.I=!0,r=Ude(n,o),i.I=!1}else r=Ude(n,o);return Gb(r,(function(s,a){i&&Rgt(i.t,s)===a||yAe(r,s,t(a))})),o===3?new Set(r):r})(e)}function Ude(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return xQ(e)}function Ngt(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var l=this[ro];return eA.get(l,o)},set:function(l){var u=this[ro];eA.set(u,o,l)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][ro];if(!a.P)switch(a.i){case 5:r(a)&&x0(a);break;case 4:n(a)&&x0(a)}}}function n(o){for(var s=o.t,a=o.k,l=Kx(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==ro){var d=s[c];if(d===void 0&&!Yx(s,c))return!0;var f=a[c],h=f&&f[ro];if(h?h.t!==d:!vAe(f,d))return!0}}var m=!!s[ro];return l.length!==Kx(s).length+(m?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var l=0;l<s.length;l++)if(!s.hasOwnProperty(l))return!0;return!1}var i={};Dgt("ES5",{J:function(o,s){var a=Array.isArray(o),l=(function(c,d){if(c){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,e(h,!0));return f}var m=wAe(d);delete m[ro];for(var p=Kx(m),g=0;g<p.length;g++){var y=p[g];m[y]=e(y,c||!!m[y].enumerable)}return Object.create(Object.getPrototypeOf(d),m)})(a,o),u={i:a?5:4,A:s?s.A:xH(),P:!1,I:!1,R:{},l:s,t:o,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,ro,{value:u,writable:!0}),l},S:function(o,s,a){a?uy(s)&&s[ro].A===o&&t(o.p):(o.u&&(function l(u){if(u&&typeof u=="object"){var c=u[ro];if(c){var d=c.t,f=c.k,h=c.R,m=c.i;if(m===4)Gb(f,(function(w){w!==ro&&(d[w]!==void 0||Yx(d,w)?h[w]||l(f[w]):(h[w]=!0,x0(c)))})),Gb(d,(function(w){f[w]!==void 0||Yx(f,w)||(h[w]=!1,x0(c))}));else if(m===5){if(r(c)&&(x0(c),h.length=!0),f.length<d.length)for(var p=f.length;p<d.length;p++)h[p]=!1;else for(var g=d.length;g<f.length;g++)h[g]=!0;for(var y=Math.min(f.length,d.length),v=0;v<y;v++)f.hasOwnProperty(v)||(h[v]=!0),h[v]===void 0&&l(f[v])}}}})(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var Vde,Z2,CQ=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Mgt=typeof Map<"u",$gt=typeof Set<"u",Hde=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",bAe=CQ?Symbol.for("immer-nothing"):((Vde={})["immer-nothing"]=!0,Vde),qde=CQ?Symbol.for("immer-draftable"):"__$immer_draftable",ro=CQ?Symbol.for("immer-state"):"__$immer_state",Fgt=""+Object.prototype.constructor,Kx=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,wAe=Object.getOwnPropertyDescriptors||function(e){var t={};return Kx(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},CH={},eA={get:function(e,t){if(t===ro)return e;var n=Yv(e);if(!Yx(n,t))return(function(i,o,s){var a,l=zde(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0})(e,n,t);var r=n[t];return e.I||!Xm(r)?r:r===o9(e.t,t)?(s9(e),e.o[t]=EH(e.A.h,r,e)):r},has:function(e,t){return t in Yv(e)},ownKeys:function(e){return Reflect.ownKeys(Yv(e))},set:function(e,t,n){var r=zde(Yv(e),t);if(r?.set)return r.set.call(e.k,n),!0;if(!e.P){var i=o9(Yv(e),t),o=i?.[ro];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(vAe(n,i)&&(n!==void 0||Yx(e.t,t)))return!0;s9(e),x0(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return o9(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,s9(e),x0(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Yv(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){af(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){af(12)}},uT={};Gb(eA,(function(e,t){uT[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),uT.deleteProperty=function(e,t){return uT.set.call(this,e,t,void 0)},uT.set=function(e,t,n){return eA.set.call(this,e[0],t,n,e[0])};var Lgt=(function(){function e(n){var r=this;this.O=Hde,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(p){var g=this;p===void 0&&(p=a);for(var y=arguments.length,v=Array(y>1?y-1:0),w=1;w<y;w++)v[w-1]=arguments[w];return l.produce(p,(function(E){var C;return(C=o).call.apply(C,[g,E].concat(v))}))}}var u;if(typeof o!="function"&&af(6),s!==void 0&&typeof s!="function"&&af(7),Xm(i)){var c=jde(r),d=EH(r,i,void 0),f=!0;try{u=o(d),f=!1}finally{f?c4(c):_H(c)}return typeof Promise<"u"&&u instanceof Promise?u.then((function(p){return r9(c,s),i9(p,c)}),(function(p){throw c4(c),p})):(r9(c,s),i9(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===bAe&&(u=void 0),r.D&&_Q(u,!0),s){var h=[],m=[];Hh("Patches").M(i,u,h,m),s(h,m)}return u}af(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,(function(h){return i.apply(void 0,[h].concat(d))}))};var s,a,l=r.produce(i,o,(function(u,c){s=u,a=c}));return typeof Promise<"u"&&l instanceof Promise?l.then((function(u){return[u,s,a]})):[l,s,a]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Xm(n)||af(8),uy(n)&&(n=Ogt(n));var r=jde(this),i=EH(this,n,void 0);return i[ro].C=!0,_H(r),i},t.finishDraft=function(n,r){var i=n&&n[ro],o=i.A;return r9(o,r),i9(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Hde&&af(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=Hh("Patches").$;return uy(n)?s(n,r):this.produce(n,(function(a){return s(a,r)}))},e})(),bc=new Lgt,xAe=bc.produce;bc.produceWithPatches.bind(bc);bc.setAutoFreeze.bind(bc);bc.setUseProxies.bind(bc);bc.applyPatches.bind(bc);bc.createDraft.bind(bc);bc.finishDraft.bind(bc);function tA(e){"@babel/helpers - typeof";return tA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tA(e)}function jgt(e,t){if(tA(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bgt(e){var t=jgt(e,"string");return tA(t)=="symbol"?t:t+""}function zgt(e,t,n){return(t=Bgt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wde(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wde(Object(n),!0).forEach(function(r){zgt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wde(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ka(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Yde=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),a9=function(){return Math.random().toString(36).substring(7).split("").join(".")},h4={INIT:"@@redux/INIT"+a9(),REPLACE:"@@redux/REPLACE"+a9(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+a9()}};function Ugt(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function _Ae(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ka(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ka(1));return n(_Ae)(e,t)}if(typeof e!="function")throw new Error(Ka(2));var i=e,o=t,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(Ka(3));return o}function d(p){if(typeof p!="function")throw new Error(Ka(4));if(l)throw new Error(Ka(5));var g=!0;return u(),a.push(p),function(){if(g){if(l)throw new Error(Ka(6));g=!1,u();var v=a.indexOf(p);a.splice(v,1),s=null}}}function f(p){if(!Ugt(p))throw new Error(Ka(7));if(typeof p.type>"u")throw new Error(Ka(8));if(l)throw new Error(Ka(9));try{l=!0,o=i(o,p)}finally{l=!1}for(var g=s=a,y=0;y<g.length;y++){var v=g[y];v()}return p}function h(p){if(typeof p!="function")throw new Error(Ka(10));i=p,f({type:h4.REPLACE})}function m(){var p,g=d;return p={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Ka(11));function w(){v.next&&v.next(c())}w();var E=g(w);return{unsubscribe:E}}},p[Yde]=function(){return this},p}return f({type:h4.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:h},r[Yde]=m,r}function Vgt(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:h4.INIT});if(typeof r>"u")throw new Error(Ka(12));if(typeof n(void 0,{type:h4.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ka(13))})}function Hgt(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),s;try{Vgt(n)}catch(a){s=a}return function(l,u){if(l===void 0&&(l={}),s)throw s;for(var c=!1,d={},f=0;f<o.length;f++){var h=o[f],m=n[h],p=l[h],g=m(p,u);if(typeof g>"u")throw u&&u.type,new Error(Ka(14));d[h]=g,c=c||g!==p}return c=c||o.length!==Object.keys(l).length,c?d:l}}function p4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function qgt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Ka(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(l){return l(s)});return o=p4.apply(void 0,a)(i.dispatch),Gde(Gde({},i),{},{dispatch:o})}}}function EAe(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var SH=EAe();SH.withExtraArgument=EAe;var CAe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Fk=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Yb=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Wgt=Object.defineProperty,Ggt=Object.defineProperties,Ygt=Object.getOwnPropertyDescriptors,Kde=Object.getOwnPropertySymbols,Kgt=Object.prototype.hasOwnProperty,Xgt=Object.prototype.propertyIsEnumerable,Xde=function(e,t,n){return t in e?Wgt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},W0=function(e,t){for(var n in t||(t={}))Kgt.call(t,n)&&Xde(e,n,t[n]);if(Kde)for(var r=0,i=Kde(t);r<i.length;r++){var n=i[r];Xgt.call(t,n)&&Xde(e,n,t[n])}return e},l9=function(e,t){return Ggt(e,Ygt(t))},Lk=function(e,t,n){return new Promise(function(r,i){var o=function(l){try{a(n.next(l))}catch(u){i(u)}},s=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,s)};a((n=n.apply(e,t)).next())})},Qgt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?p4:p4.apply(null,arguments)};function SAe(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var Jgt=function(e){return e&&typeof e.match=="function"};function qh(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return W0(W0({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function Zgt(e){return SAe(e)&&"type"in e}var e0t=(function(e){CAe(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Yb([void 0],n[0].concat(this)))):new(t.bind.apply(t,Yb([void 0],n.concat(this))))},t})(Array),t0t=(function(e){CAe(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Yb([void 0],n[0].concat(this)))):new(t.bind.apply(t,Yb([void 0],n.concat(this))))},t})(Array);function TH(e){return Xm(e)?xAe(e,function(){}):e}function n0t(e){return typeof e=="boolean"}function r0t(){return function(t){return i0t(t)}}function i0t(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new e0t;return n&&(n0t(n)?r.push(SH):r.push(SH.withExtraArgument(n.extraArgument))),r}function o0t(e){var t=r0t(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?t():o,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(SAe(i))h=Hgt(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var m=s;typeof m=="function"&&(m=m(t));var p=qgt.apply(void 0,m),g=p4;l&&(g=Qgt(W0({trace:!1},typeof l=="object"&&l)));var y=new t0t(p),v=y;Array.isArray(f)?v=Yb([p],f):typeof f=="function"&&(v=f(y));var w=g.apply(void 0,v);return _Ae(h,c,w)}function TAe(e){var t={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function s0t(e){return typeof e=="function"}function a0t(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?TAe(t):[t,n,r],o=i[0],s=i[1],a=i[2],l;if(s0t(e))l=function(){return TH(e())};else{var u=TH(e);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var h=Yb([o[f.type]],s.filter(function(m){var p=m.matcher;return p(f)}).map(function(m){var p=m.reducer;return p}));return h.filter(function(m){return!!m}).length===0&&(h=[a]),h.reduce(function(m,p){if(p)if(uy(m)){var g=m,y=p(g,f);return y===void 0?m:y}else{if(Xm(m))return xAe(m,function(v){return p(v,f)});var y=p(m,f);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return m},d)}return c.getInitialState=l,c}function l0t(e,t){return e+"/"+t}function u0t(e){var t=e.name,n=typeof e.initialState=="function"?e.initialState:TH(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(c){var d=r[c],f=l0t(t,c),h,m;"reducer"in d?(h=d.reducer,m=d.prepare):h=d,o[c]=h,s[f]=h,a[c]=m?qh(f,m):qh(f)});function l(){var c=typeof e.extraReducers=="function"?TAe(e.extraReducers):[e.extraReducers],d=c[0],f=d===void 0?{}:d,h=c[1],m=h===void 0?[]:h,p=c[2],g=p===void 0?void 0:p,y=W0(W0({},f),s);return a0t(n,function(v){for(var w in y)v.addCase(w,y[w]);for(var E=0,C=m;E<C.length;E++){var S=C[E];v.addMatcher(S.matcher,S.reducer)}g&&v.addDefaultCase(g)})}var u;return{name:t,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:o,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var c0t="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",AAe=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=c0t[Math.random()*64|0];return t},d0t=["name","message","stack","code"],u9=(function(){function e(t,n){this.payload=t,this.meta=n}return e})(),Qde=(function(){function e(t,n){this.payload=t,this.meta=n}return e})(),f0t=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=d0t;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=qh(t+"/fulfilled",function(u,c,d,f){return{payload:u,meta:l9(W0({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),o=qh(t+"/pending",function(u,c,d){return{payload:void 0,meta:l9(W0({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),s=qh(t+"/rejected",function(u,c,d,f,h){return{payload:f,error:(r&&r.serializeError||f0t)(u||"Rejected"),meta:l9(W0({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:u?.name==="AbortError",condition:u?.name==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:(function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u})();function l(u){return function(c,d,f){var h=r?.idGenerator?r.idGenerator(u):AAe(),m=new a,p;function g(v){p=v,m.abort()}var y=(function(){return Lk(this,null,function(){var v,w,E,C,S,T,A;return Fk(this,function(D){switch(D.label){case 0:return D.trys.push([0,4,,5]),C=(v=r?.condition)==null?void 0:v.call(r,u,{getState:d,extra:f}),p0t(C)?[4,C]:[3,2];case 1:C=D.sent(),D.label=2;case 2:if(C===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(I,P){return m.signal.addEventListener("abort",function(){return P({name:"AbortError",message:p||"Aborted"})})}),c(o(h,u,(w=r?.getPendingMeta)==null?void 0:w.call(r,{requestId:h,arg:u},{getState:d,extra:f}))),[4,Promise.race([S,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:h,signal:m.signal,abort:g,rejectWithValue:function(I,P){return new u9(I,P)},fulfillWithValue:function(I,P){return new Qde(I,P)}})).then(function(I){if(I instanceof u9)throw I;return I instanceof Qde?i(I.payload,h,u,I.meta):i(I,h,u)})])];case 3:return E=D.sent(),[3,5];case 4:return T=D.sent(),E=T instanceof u9?s(null,h,u,T.payload,T.meta):s(T,h,u),[3,5];case 5:return A=r&&!r.dispatchConditionRejection&&s.match(E)&&E.meta.condition,A||c(E),[2,E]}})})})();return Object.assign(y,{abort:g,requestId:h,arg:u,unwrap:function(){return y.then(h0t)}})}}return Object.assign(l,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function h0t(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function p0t(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var m0t=function(e,t){return Jgt(e)?e.match(t):e(t)};function Jde(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return m0t(r,n)})}}var SQ=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},AH=function(){},kAe=function(e,t){return t===void 0&&(t=AH),e.catch(t),e},RAe=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},Xx=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},g0t="task",IAe="listener",DAe="completed",TQ="cancelled",y0t="task-"+TQ,v0t="task-"+DAe,PAe=IAe+"-"+TQ,b0t=IAe+"-"+DAe,G$=(function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=g0t+" "+TQ+" (reason: "+t+")"}return e})(),Qx=function(e){if(e.aborted)throw new G$(e.reason)};function OAe(e,t){var n=AH;return new Promise(function(r,i){var o=function(){return i(new G$(e.reason))};if(e.aborted){o();return}n=RAe(e,o),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=AH})}var w0t=function(e,t){return Lk(void 0,null,function(){var n,r;return Fk(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof G$?"cancelled":"rejected",error:r}];case 4:return t?.(),[7];case 5:return[2]}})})},m4=function(e){return function(t){return kAe(OAe(e,t).then(function(n){return Qx(e),n}))}},NAe=function(e){var t=m4(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},x0t=Object.assign,Zde={},jk="listenerMiddleware",_0t=function(e,t){var n=function(r){return RAe(e,function(){return Xx(r,e.reason)})};return function(r,i){SQ(r,"taskExecutor");var o=new AbortController;n(o);var s=w0t(function(){return Lk(void 0,null,function(){var a;return Fk(this,function(l){switch(l.label){case 0:return Qx(e),Qx(o.signal),[4,r({pause:m4(o.signal),delay:NAe(o.signal),signal:o.signal})];case 1:return a=l.sent(),Qx(o.signal),[2,a]}})})},function(){return Xx(o,v0t)});return i?.autoJoin&&t.push(s),{result:m4(e)(s),cancel:function(){Xx(o,y0t)}}}},E0t=function(e,t){var n=function(r,i){return Lk(void 0,null,function(){var o,s,a,l;return Fk(this,function(u){switch(u.label){case 0:Qx(t),o=function(){},s=new Promise(function(c,d){var f=e({predicate:r,effect:function(h,m){m.unsubscribe(),c([h,m.getState(),m.getOriginalState()])}});o=function(){f(),d()}}),a=[s],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,OAe(t,Promise.race(a))];case 2:return l=u.sent(),Qx(t),[2,l];case 3:return o(),[7];case 4:return[2]}})})};return function(r,i){return kAe(n(r,i))}},MAe=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,o=e.effect;if(t)i=qh(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return SQ(o,"options.listener"),{predicate:i,type:t,effect:o}},C0t=function(e){var t=MAe(e),n=t.type,r=t.predicate,i=t.effect,o=AAe(),s={id:o,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return s},kH=function(e){e.pending.forEach(function(t){Xx(t,PAe)})},S0t=function(e){return function(){e.forEach(kH),e.clear()}},efe=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},T0t=qh(jk+"/add"),A0t=qh(jk+"/removeAll"),k0t=qh(jk+"/remove"),R0t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Yb([jk+"/error"],e))};function I0t(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,o=i===void 0?R0t:i;SQ(o,"onError");var s=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(m){h.unsubscribe(),m?.cancelActive&&kH(h)}},a=function(h){for(var m=0,p=Array.from(n.values());m<p.length;m++){var g=p[m];if(h(g))return g}},l=function(h){var m=a(function(p){return p.effect===h.effect});return m||(m=C0t(h)),s(m)},u=function(h){var m=MAe(h),p=m.type,g=m.effect,y=m.predicate,v=a(function(w){var E=typeof p=="string"?w.type===p:w.predicate===y;return E&&w.effect===g});return v&&(v.unsubscribe(),h.cancelActive&&kH(v)),!!v},c=function(h,m,p,g){return Lk(t,null,function(){var y,v,w,E;return Fk(this,function(C){switch(C.label){case 0:y=new AbortController,v=E0t(l,y.signal),w=[],C.label=1;case 1:return C.trys.push([1,3,4,6]),h.pending.add(y),[4,Promise.resolve(h.effect(m,x0t({},p,{getOriginalState:g,condition:function(S,T){return v(S,T).then(Boolean)},take:v,delay:NAe(y.signal),pause:m4(y.signal),extra:r,signal:y.signal,fork:_0t(y.signal,w),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(S,T,A){S!==y&&(Xx(S,PAe),A.delete(S))})}})))];case 2:return C.sent(),[3,6];case 3:return E=C.sent(),E instanceof G$||efe(o,E,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(w)];case 5:return C.sent(),Xx(y,b0t),h.pending.delete(y),[7];case 6:return[2]}})})},d=S0t(n),f=function(h){return function(m){return function(p){if(!Zgt(p))return m(p);if(T0t.match(p))return l(p.payload);if(A0t.match(p)){d();return}if(k0t.match(p))return u(p.payload);var g=h.getState(),y=function(){if(g===Zde)throw new Error(jk+": getOriginalState can only be called synchronously");return g},v;try{if(v=m(p),n.size>0)for(var w=h.getState(),E=Array.from(n.values()),C=0,S=E;C<S.length;C++){var T=S[C],A=!1;try{A=T.predicate(p,w,g)}catch(D){A=!1,efe(o,D,{raisedBy:"predicate"})}A&&c(T,p,h,y)}}finally{g=Zde}return v}}};return{middleware:f,startListening:l,stopListening:u,clearListeners:d}}var tfe;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Ngt();function D0t(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let ID;const P0t=new Uint8Array(16);function O0t(){if(!ID&&(ID=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ID))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ID(P0t)}const ma=[];for(let e=0;e<256;++e)ma.push((e+256).toString(16).slice(1));function N0t(e,t=0){return(ma[e[t+0]]+ma[e[t+1]]+ma[e[t+2]]+ma[e[t+3]]+"-"+ma[e[t+4]]+ma[e[t+5]]+"-"+ma[e[t+6]]+ma[e[t+7]]+"-"+ma[e[t+8]]+ma[e[t+9]]+"-"+ma[e[t+10]]+ma[e[t+11]]+ma[e[t+12]]+ma[e[t+13]]+ma[e[t+14]]+ma[e[t+15]]).toLowerCase()}const M0t=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),nfe={randomUUID:M0t};function rfe(e,t,n){if(nfe.randomUUID&&!t&&!e)return nfe.randomUUID();e=e||{};const r=e.random||(e.rng||O0t)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,N0t(r)}let Wh=class{static get(){let t=rfe();for(;this.ids.has(t);)t=rfe();return this.ids.set(t,!0),t}};Wh.ids=new Map;function xf(e){return"parent"in e}function $Ae(e){return!xf(e)}function $0t(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,o={annotation:[],bookmark:[]},s=Object.keys(i||{}).reduce((l,u)=>(l[u]=[],i&&i[u]&&l[u].push({type:u,id:Wh.get(),val:i[u],createdOn:Date.now()}),l),o),a=r?[{id:Wh.get(),createdOn:Date.now(),val:r}]:[];return{id:Wh.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:s,artifacts:a,state:{type:"checkpoint",val:n}}}function F0t({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:o,event:s}){const a={annotation:[],bookmark:[]},l=Object.keys(i||{}).reduce((c,d)=>(c[d]=[],i&&i[d]&&c[d].push({type:d,id:Wh.get(),val:i[d],createdOn:Date.now()}),c),a),u=o?[{id:Wh.get(),createdOn:Date.now(),val:o}]:[];return{id:Wh.get(),label:n,event:s,children:[],parent:e.id,createdOn:Date.now(),meta:l,artifacts:u,sideEffects:r,state:t,level:e.level+1}}function Ao(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=W0t[e],o=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+o)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Kb(e){return!!e&&!!e[wc]}function cy(e){var t;return!!e&&((function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===G0t})(e)||Array.isArray(e)||!!e[i2]||!!(!((t=e.constructor)===null||t===void 0)&&t[i2])||Y$(e)||K$(e))}function k_(e,t,n){n===void 0&&(n=!1),dy(e)===0?(n?Object.keys:PQ)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function dy(e){var t=e[wc];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Y$(e)?2:K$(e)?3:0}function nA(e,t){return dy(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function OO(e,t){return dy(e)===2?e.get(t):e[t]}function FAe(e,t,n){var r=dy(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function L0t(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Y$(e){return H0t&&e instanceof Map}function K$(e){return q0t&&e instanceof Set}function Kv(e){return e.o||e.t}function AQ(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Y0t(e);delete t[wc];for(var n=PQ(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function kQ(e,t){return t===void 0&&(t=!1),RQ(e)||Kb(e)||!cy(e)||(dy(e)>1&&(e.set=e.add=e.clear=e.delete=j0t),Object.freeze(e),t&&k_(e,function(n,r){return kQ(r,!0)},!0)),e}function j0t(){Ao(2)}function RQ(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Gh(e){var t=PH[e];return t||Ao(18,e),t}function B0t(e,t){PH[e]||(PH[e]=t)}function ife(){return{}.NODE_ENV==="production"||R_||Ao(0),R_}function c9(e,t){t&&(Gh("Patches"),e.u=[],e.s=[],e.v=t)}function g4(e){RH(e),e.p.forEach(z0t),e.p=null}function RH(e){e===R_&&(R_=e.l)}function ofe(e){return R_={p:[],l:R_,h:e,m:!0,_:0}}function z0t(e){var t=e[wc];t.i===0||t.i===1?t.j():t.O=!0}function d9(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Gh("ES5").S(t,e,r),r?(n[wc].P&&(g4(t),Ao(4)),cy(e)&&(e=y4(t,e),t.l||v4(t,e)),t.u&&Gh("Patches").M(n[wc].t,e,t.u,t.s)):e=y4(t,n,[]),g4(t),t.u&&t.v(t.u,t.s),e!==DQ?e:void 0}function y4(e,t,n){if(RQ(t))return t;var r=t[wc];if(!r)return k_(t,function(o,s){return sfe(e,r,t,o,s,n)},!0),t;if(r.A!==e)return t;if(!r.P)return v4(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=AQ(r.k):r.o;k_(r.i===3?new Set(i):i,function(o,s){return sfe(e,r,i,o,s,n)}),v4(e,i,!1),n&&e.u&&Gh("Patches").R(r,n,e.u,e.s)}return r.o}function sfe(e,t,n,r,i,o){if({}.NODE_ENV!=="production"&&i===n&&Ao(5),Kb(i)){var s=y4(e,i,o&&t&&t.i!==3&&!nA(t.D,r)?o.concat(r):void 0);if(FAe(n,r,s),!Kb(s))return;e.m=!1}if(cy(i)&&!RQ(i)){if(!e.h.F&&e._<1)return;y4(e,i),t&&t.A.l||v4(e,i)}}function v4(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&kQ(t,n)}function f9(e,t){var n=e[wc];return(n?Kv(n):e)[t]}function afe(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function IH(e){e.P||(e.P=!0,e.l&&IH(e.l))}function h9(e){e.o||(e.o=AQ(e.t))}function DH(e,t,n){var r=Y$(t)?Gh("MapSet").N(t,n):K$(t)?Gh("MapSet").T(t,n):e.g?(function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:ife(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=OH;s&&(l=[a],u=cT);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f})(t,n):Gh("ES5").J(t,n);return(n?n.A:ife()).p.push(r),r}function U0t(e){return Kb(e)||Ao(22,e),(function t(n){if(!cy(n))return n;var r,i=n[wc],o=dy(n);if(i){if(!i.P&&(i.i<4||!Gh("ES5").K(i)))return i.t;i.I=!0,r=lfe(n,o),i.I=!1}else r=lfe(n,o);return k_(r,function(s,a){i&&OO(i.t,s)===a||FAe(r,s,t(a))}),o===3?new Set(r):r})(e)}function lfe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return AQ(e)}function V0t(){function e(r){if(!cy(r))return r;if(Array.isArray(r))return r.map(e);if(Y$(r))return new Map(Array.from(r.entries()).map(function(s){return[s[0],e(s[1])]}));if(K$(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var o in r)i[o]=e(r[o]);return nA(r,i2)&&(i[i2]=r[i2]),i}function t(r){return Kb(r)?e(r):r}var n="add";B0t("Patches",{$:function(r,i){return i.forEach(function(o){for(var s=o.path,a=o.op,l=r,u=0;u<s.length-1;u++){var c=dy(l),d=""+s[u];c!==0&&c!==1||d!=="__proto__"&&d!=="constructor"||Ao(24),typeof l=="function"&&d==="prototype"&&Ao(24),typeof(l=OO(l,d))!="object"&&Ao(15,s.join("/"))}var f=dy(l),h=e(o.value),m=s[s.length-1];switch(a){case"replace":switch(f){case 2:return l.set(m,h);case 3:Ao(16);default:return l[m]=h}case n:switch(f){case 1:return m==="-"?l.push(h):l.splice(m,0,h);case 2:return l.set(m,h);case 3:return l.add(h);default:return l[m]=h}case"remove":switch(f){case 1:return l.splice(m,1);case 2:return l.delete(m);case 3:return l.delete(o.value);default:return delete l[m]}default:Ao(17,a)}}),r},R:function(r,i,o,s){switch(r.i){case 0:case 4:case 2:return(function(a,l,u,c){var d=a.t,f=a.o;k_(a.D,function(h,m){var p=OO(d,h),g=OO(f,h),y=m?nA(d,h)?"replace":n:"remove";if(p!==g||y!=="replace"){var v=l.concat(h);u.push(y==="remove"?{op:y,path:v}:{op:y,path:v,value:g}),c.push(y===n?{op:"remove",path:v}:y==="remove"?{op:n,path:v,value:t(p)}:{op:"replace",path:v,value:t(p)})}})})(r,i,o,s);case 5:case 1:return(function(a,l,u,c){var d=a.t,f=a.D,h=a.o;if(h.length<d.length){var m=[h,d];d=m[0],h=m[1];var p=[c,u];u=p[0],c=p[1]}for(var g=0;g<d.length;g++)if(f[g]&&h[g]!==d[g]){var y=l.concat([g]);u.push({op:"replace",path:y,value:t(h[g])}),c.push({op:"replace",path:y,value:t(d[g])})}for(var v=d.length;v<h.length;v++){var w=l.concat([v]);u.push({op:n,path:w,value:t(h[v])})}d.length<h.length&&c.push({op:"replace",path:l.concat(["length"]),value:d.length})})(r,i,o,s);case 3:return(function(a,l,u,c){var d=a.t,f=a.o,h=0;d.forEach(function(m){if(!f.has(m)){var p=l.concat([h]);u.push({op:"remove",path:p,value:m}),c.unshift({op:n,path:p,value:m})}h++}),h=0,f.forEach(function(m){if(!d.has(m)){var p=l.concat([h]);u.push({op:n,path:p,value:m}),c.unshift({op:"remove",path:p,value:m})}h++})})(r,i,o,s)}},M:function(r,i,o,s){o.push({op:"replace",path:[],value:i===DQ?void 0:i}),s.push({op:"replace",path:[],value:r})}})}var ufe,R_,IQ=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",H0t=typeof Map<"u",q0t=typeof Set<"u",cfe=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",DQ=IQ?Symbol.for("immer-nothing"):((ufe={})["immer-nothing"]=!0,ufe),i2=IQ?Symbol.for("immer-draftable"):"__$immer_draftable",wc=IQ?Symbol.for("immer-state"):"__$immer_state",W0t={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},G0t=""+Object.prototype.constructor,PQ=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Y0t=Object.getOwnPropertyDescriptors||function(e){var t={};return PQ(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},PH={},OH={get:function(e,t){if(t===wc)return e;var n=Kv(e);if(!nA(n,t))return(function(i,o,s){var a,l=afe(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0})(e,n,t);var r=n[t];return e.I||!cy(r)?r:r===f9(e.t,t)?(h9(e),e.o[t]=DH(e.A.h,r,e)):r},has:function(e,t){return t in Kv(e)},ownKeys:function(e){return Reflect.ownKeys(Kv(e))},set:function(e,t,n){var r=afe(Kv(e),t);if(r?.set)return r.set.call(e.k,n),!0;if(!e.P){var i=f9(Kv(e),t),o=i?.[wc];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(L0t(n,i)&&(n!==void 0||nA(e.t,t)))return!0;h9(e),IH(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return f9(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,h9(e),IH(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Kv(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Ao(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ao(12)}},cT={};k_(OH,function(e,t){cT[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),cT.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Ao(13),cT.set.call(this,e,t,void 0)},cT.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Ao(14),OH.set.call(this,e[0],t,n,e[0])};var K0t=(function(){function e(n){var r=this;this.g=cfe,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(p){var g=this;p===void 0&&(p=a);for(var y=arguments.length,v=Array(y>1?y-1:0),w=1;w<y;w++)v[w-1]=arguments[w];return l.produce(p,function(E){var C;return(C=o).call.apply(C,[g,E].concat(v))})}}var u;if(typeof o!="function"&&Ao(6),s!==void 0&&typeof s!="function"&&Ao(7),cy(i)){var c=ofe(r),d=DH(r,i,void 0),f=!0;try{u=o(d),f=!1}finally{f?g4(c):RH(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(p){return c9(c,s),d9(p,c)},function(p){throw g4(c),p}):(c9(c,s),d9(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===DQ&&(u=void 0),r.F&&kQ(u,!0),s){var h=[],m=[];Gh("Patches").M(i,u,h,m),s(h,m)}return u}Ao(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var s,a,l=r.produce(i,o,function(u,c){s=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){cy(n)||Ao(8),Kb(n)&&(n=U0t(n));var r=ofe(this),i=DH(this,n,void 0);return i[wc].C=!0,RH(r),i},t.finishDraft=function(n,r){var i=n&&n[wc];({}).NODE_ENV!=="production"&&(i&&i.C||Ao(9),i.I&&Ao(10));var o=i.A;return c9(o,r),d9(void 0,o)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!cfe&&Ao(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=Gh("Patches").$;return Kb(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e})(),xc=new K0t,X0t=xc.produce;xc.produceWithPatches.bind(xc);xc.setAutoFreeze.bind(xc);xc.setUseProxies.bind(xc);xc.applyPatches.bind(xc);xc.createDraft.bind(xc);xc.finishDraft.bind(xc);function Q0t(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,o=$0t({state:e,label:i,initialArtifact:n,initialMetadata:r}),s={nodes:{[o.id]:o},root:o.id,current:o.id};return u0t({name:"provenance-graph",initialState:s,reducers:{addMetadata(a,l){const{id:u,meta:c}=l.payload,d=a.nodes[u].meta,f=Object.keys(c).reduce((h,m)=>(h[m]||(h[m]=[]),h[m].push({type:m,id:Wh.get(),val:c[m],createdOn:Date.now()}),h),d);a.nodes[l.payload.id].meta=f},addArtifact(a,l){a.nodes[l.payload.id].artifacts.push({id:Wh.get(),createdOn:Date.now(),val:l.payload.artifact})},changeCurrent(a,l){a.current=l.payload},addNode(a,{payload:l}){a.nodes[l.id]=l,a.nodes[l.parent].children.push(l.id),a.current=l.id},load(a,{payload:l}){return l}}})}function J0t(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=Q0t(e),o=I0t();o.startListening({matcher:Jde(r.changeCurrent,r.addNode),effect:(a,l)=>{l.cancelActiveListeners(),t.forEach(u=>{const c=Jde(r.addNode)(a),{skipOnNew:d}=u.config;d&&c||u.func(c?"new":"traversal")})}});const s=o0t({reducer:n,middleware:a=>a().prepend(o.middleware)});return{initialState:i(),get backend(){return s.getState()},get current(){return s.getState().nodes[s.getState().current]},get root(){return s.getState().nodes[s.getState().root]},currentChange(a,l){const u={id:Wh.get(),func:a,config:l};return t.set(u.id,u),()=>t.delete(u.id)},update:s.dispatch,...r}}var Z0t=globalThis&&globalThis.__extends||(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),eyt=Object.prototype.hasOwnProperty;function NH(e,t){return eyt.call(e,t)}function MH(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)NH(e,i)&&r.push(i);return r}function Eu(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function $H(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Xv(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function LAe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function FH(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(FH(e[t]))return!0}else if(typeof e=="object"){for(var r=MH(e),i=r.length,o=0;o<i;o++)if(FH(e[r[o]]))return!0}}return!1}function dfe(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var jAe=(function(e){Z0t(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,dfe(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=dfe(n,{name:r,index:i,operation:o,tree:s}),l}return t})(Error),So=jAe,tyt=Eu,Rx={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=b4(n,this.path);r&&(r=Eu(r));var i=Ab(n,{op:"remove",path:this.from}).removed;return Ab(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=b4(n,this.from);return Ab(n,{op:"add",path:this.path,value:Eu(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:rA(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},nyt={add:function(e,t,n){return $H(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Rx.move,copy:Rx.copy,test:Rx.test,_get:Rx._get};function b4(e,t){if(t=="")return e;var n={op:"_get",path:t};return Ab(e,n),n.value}function Ab(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):w4(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=b4(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=rA(e,t.value),s.test===!1)throw new So("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new So("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=Eu(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,f=void 0,h=void 0,m=void 0;for(typeof n=="function"?m=n:m=w4;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=LAe(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(u[h]===void 0?f=l.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&m(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!$H(h))throw new So("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);$H(h)&&(h=~~h)}if(c>=d){if(n&&t.op==="add"&&h>u.length)throw new So("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=nyt[t.op].call(t,u,h,e);if(s.test===!1)throw new So("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=d){var s=Rx[t.op].call(t,u,h,e);if(s.test===!1)throw new So("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[h],n&&c<d&&(!u||typeof u!="object"))throw new So("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function X$(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new So("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Eu(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=Ab(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function ryt(e,t,n){var r=Ab(e,t);if(r.test===!1)throw new So("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function w4(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new So("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Rx[e.op]){if(typeof e.path!="string")throw new So("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new So('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new So("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new So("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&FH(e.value))throw new So("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new So("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new So("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=BAe([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new So("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new So("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function BAe(e,t,n){try{if(!Array.isArray(e))throw new So("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)X$(Eu(t),Eu(e),n||!0);else{n=n||w4;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof So)return i;throw i}}function rA(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!rA(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!rA(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const iyt=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:So,_areEquals:rA,applyOperation:Ab,applyPatch:X$,applyReducer:ryt,deepClone:tyt,getValueByPointer:b4,validate:BAe,validator:w4},Symbol.toStringTag,{value:"Module"}));var OQ=new WeakMap,oyt=(function(){function e(t){this.observers=new Map,this.obj=t}return e})(),syt=(function(){function e(t,n){this.callback=t,this.observer=n}return e})();function ayt(e){return OQ.get(e)}function lyt(e,t){return e.observers.get(t)}function uyt(e,t){e.observers.delete(t.callback)}function cyt(e,t){t.unobserve()}function dyt(e,t){var n=[],r,i=ayt(e);if(!i)i=new oyt(e),OQ.set(e,i);else{var o=lyt(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=Eu(e),t){r.callback=t,r.next=null;var s=function(){LH(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){LH(r),clearTimeout(r.next),uyt(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new syt(t,r)),r}function LH(e,t){t===void 0&&(t=!1);var n=OQ.get(e.object);NQ(n.value,e.object,e.patches,"",t),e.patches.length&&X$(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function NQ(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=MH(t),s=MH(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(NH(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?NQ(c,d,n,r+"/"+Xv(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+Xv(u),value:Eu(c)}),n.push({op:"replace",path:r+"/"+Xv(u),value:Eu(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Xv(u),value:Eu(c)}),n.push({op:"remove",path:r+"/"+Xv(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!NH(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+Xv(u),value:Eu(t[u])})}}}function zAe(e,t,n){n===void 0&&(n=!1);var r=[];return NQ(e,t,r,"",n),r}const fyt=Object.freeze(Object.defineProperty({__proto__:null,compare:zAe,generate:LH,observe:dyt,unobserve:cyt},Symbol.toStringTag,{value:"Module"}));Object.assign({},iyt,fyt,{JsonPatchError:jAe,deepClone:Eu,escapePathComponent:Xv,unescapePathComponent:LAe});var dT=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(dT||{});function NO(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],o=UAe(i,e,t);o.shift();const s=o.map(l=>t[l]).map(l=>l.state.val).reduce((l,u)=>[...l,...u],[]),a=NO(i,t);return X$(a,Eu(s),!0,!1).newDocument}function hyt(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function Q$({registry:e,initialState:t}){let n=!1;const r=D0t(),i=J0t(t);function o(c){return i.backend.nodes[c]}r.listen(dT.TRAVERSAL_START,()=>{n=!0}),r.listen(dT.TRAVERSAL_END,()=>{n=!1});const s={add(c,d=i.current.id){i.update(i.addMetadata({id:d,meta:c}))},latestOfType(c,d=i.current.id){return i.backend.nodes[d].meta[c]?.at(-1)},allOfType(c,d=i.current.id){return i.backend.nodes[d].meta[c]},latest(c=i.current.id){const d=i.backend.nodes[c].meta,f=Object.keys(d).reduce((h,m)=>{const p=d[m].at(-1);return p&&(h[m]=p),h},{});return Object.keys(f).length>0?f:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,d=i.current.id){i.update(i.addArtifact({id:d,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},l={add(c,d=i.current.id){s.add({annotation:c},d)},latest(c=i.current.id){return s.latestOfType("annotation",c)?.val},all(c=i.current.id){return s.allOfType("annotation",c)?.map(d=>d.val)}},u={add(c=i.current.id){s.add({bookmark:!0},c)},remove(c=i.current.id){s.add({bookmark:!1},c)},is(c=i.current.id){return!!s.latestOfType("bookmark",c)?.val},toggle(c=i.current.id){u.is(c)?u.remove(c):u.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return NO(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:d,sideEffects:f,eventType:h,onlySideEffects:m=!1}){let p=null,g=null;const y=NO(this.current,this.graph.backend.nodes);if(m)g={type:"checkpoint",val:d};else{const v=zAe(y,d);if(hyt(d,v)==="checkpoint")g={type:"checkpoint",val:d};else{const w=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;g={type:"patch",val:v,checkpointRef:w}}}if(!g)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(p=F0t({label:c,state:g,parent:this.current,sideEffects:f,event:h}),!p)throw new Error("State Node creation failed!");i.update(i.addNode(p))},async apply(c,d){const f=e.get(d.type),h=NO(this.current,this.graph.backend.nodes);if(f.config.hasSideEffects){const{do:m=d,undo:p}=f.func(d.payload);this.record({label:c,state:h,sideEffects:{do:[m],undo:[p]},eventType:f.config.eventType})}else{const m=f.func(h,d.payload);this.record({label:c,state:m,sideEffects:{do:[],undo:[]},eventType:f.config.eventType})}},async to(c){r.fire(dT.TRAVERSAL_START);const d=UAe(i.current,i.backend.nodes[c],i.backend.nodes),f=[];for(let h=0;h<d.length-1;++h){const m=o(d[h]),p=o(d[h+1]);myt(m,p)?xf(m)&&f.push(...m.sideEffects.undo):xf(p)&&f.push(...p.sideEffects.do)}for(const h of f){const m=e.get(h.type).func;await m(h.payload)}i.update(i.changeCurrent(c)),r.fire(dT.TRAVERSAL_END)},undo(){const{current:c}=i;return xf(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:d}=i;return d.children.length>0?this.to(d.children[c==="oldest"?0:d.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,d=!1){return i.currentChange(c,{skipOnNew:d})},done(){console.log("Setup later for URL sharing.")},tree(){return VAe(i.root,i.backend.nodes)},on(c,d){r.listen(c,d)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const d=JSON.parse(c),f=d.current;d.current=d.root,i.update(i.load(d)),this.to(f)},importObject(c){const d=c.current;c.current=c.root,i.update(i.load(c)),this.to(d)},metadata:s,artifact:a,annotations:l,bookmarks:u}}function pyt(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let o=i.level-r.level;for(;xf(i)&&o!==0;)i=n[i.parent],o-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)xf(r)&&(r=n[r.parent]),xf(i)&&(i=n[i.parent]);return r.id}function UAe(e,t,n){const r=pyt(e,t,n),i=n[r],o=[],s=[];let[a,l]=[e,t];for(;a.id!==i.id;)o.push(a),xf(a)&&(a=n[a.parent]);for(o.push(a);l.id!==i.id;)s.push(l),xf(l)&&(l=n[l.parent]);const u=s.reverse();return[...o,...u].map(c=>c.id)}function myt(e,t){if(xf(e)&&e.parent===t.id)return!0;if(xf(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function VAe(e,t){return{...e,children:e.children.map(n=>VAe(t[n],t)),name:`${e.label}`}}V0t();function gyt(e){return e.length===2?X0t(e):e}class zE{static create(){return new zE}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:o=t,eventType:s=t}=r||{};return this.registry.set(t,{func:gyt(n),config:{hasSideEffects:!i,label:typeof o=="string"?()=>o:o,eventType:s}}),qh(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}function Gy(){const{funcIndex:e}=hs(),t=qy(),n=Rc(),r=Wf(),i=e&&typeof n=="number"?`${t[n]}_${n}_${r}_${wf(e)}`:`${r}_${n}`;return fr(s=>s.answers[i])}const HAe=k.createContext(null);function yyt(){const e=k.useContext(HAe);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function Eg(){const[e]=kc();return!!e.get("participantId")}var fT={exports:{}};fT.exports;var ffe;function vyt(){return ffe||(ffe=1,(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",m="[object GeneratorFunction]",p="[object Map]",g="[object Number]",y="[object Null]",v="[object Object]",w="[object Promise]",E="[object Proxy]",C="[object RegExp]",S="[object Set]",T="[object String]",A="[object Symbol]",D="[object Undefined]",I="[object WeakMap]",P="[object ArrayBuffer]",N="[object DataView]",$="[object Float32Array]",O="[object Float64Array]",j="[object Int8Array]",B="[object Int16Array]",H="[object Int32Array]",q="[object Uint8Array]",Y="[object Uint8ClampedArray]",V="[object Uint16Array]",L="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,z=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,Q={};Q[$]=Q[O]=Q[j]=Q[B]=Q[H]=Q[q]=Q[Y]=Q[V]=Q[L]=!0,Q[a]=Q[l]=Q[P]=Q[c]=Q[N]=Q[d]=Q[f]=Q[h]=Q[p]=Q[g]=Q[v]=Q[C]=Q[S]=Q[T]=Q[I]=!1;var te=typeof Ri=="object"&&Ri&&Ri.Object===Object&&Ri,de=typeof self=="object"&&self&&self.Object===Object&&self,se=te||de||Function("return this")(),ae=t&&!t.nodeType&&t,he=ae&&!0&&e&&!e.nodeType&&e,ie=he&&he.exports===ae,le=ie&&te.process,Ce=(function(){try{return le&&le.binding&&le.binding("util")}catch{}})(),X=Ce&&Ce.isTypedArray;function fe(Ee,oe){for(var ye=-1,Me=Ee==null?0:Ee.length,Tt=0,Ot=[];++ye<Me;){var pn=Ee[ye];oe(pn,ye,Ee)&&(Ot[Tt++]=pn)}return Ot}function ce(Ee,oe){for(var ye=-1,Me=oe.length,Tt=Ee.length;++ye<Me;)Ee[Tt+ye]=oe[ye];return Ee}function ne(Ee,oe){for(var ye=-1,Me=Ee==null?0:Ee.length;++ye<Me;)if(oe(Ee[ye],ye,Ee))return!0;return!1}function ee(Ee,oe){for(var ye=-1,Me=Array(Ee);++ye<Ee;)Me[ye]=oe(ye);return Me}function pe(Ee){return function(oe){return Ee(oe)}}function Re(Ee,oe){return Ee.has(oe)}function Se(Ee,oe){return Ee?.[oe]}function be(Ee){var oe=-1,ye=Array(Ee.size);return Ee.forEach(function(Me,Tt){ye[++oe]=[Tt,Me]}),ye}function Ne(Ee,oe){return function(ye){return Ee(oe(ye))}}function Ae(Ee){var oe=-1,ye=Array(Ee.size);return Ee.forEach(function(Me){ye[++oe]=Me}),ye}var Pe=Array.prototype,we=Function.prototype,Le=Object.prototype,ze=se["__core-js_shared__"],tt=we.toString,rt=Le.hasOwnProperty,bt=(function(){var Ee=/[^.]+$/.exec(ze&&ze.keys&&ze.keys.IE_PROTO||"");return Ee?"Symbol(src)_1."+Ee:""})(),Kt=Le.toString,Wt=RegExp("^"+tt.call(rt).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mn=ie?se.Buffer:void 0,Ft=se.Symbol,hn=se.Uint8Array,Kn=Le.propertyIsEnumerable,zn=Pe.splice,Fr=Ft?Ft.toStringTag:void 0,er=Object.getOwnPropertySymbols,Sr=Mn?Mn.isBuffer:void 0,Tn=Ne(Object.keys,Object),an=pr(se,"DataView"),sr=pr(se,"Map"),pi=pr(se,"Promise"),Tr=pr(se,"Set"),An=pr(se,"WeakMap"),ft=pr(Object,"create"),wr=$i(an),Vt=$i(sr),ar=$i(pi),un=$i(Tr),tr=$i(An),Rr=Ft?Ft.prototype:void 0,Lr=Rr?Rr.valueOf:void 0;function jr(Ee){var oe=-1,ye=Ee==null?0:Ee.length;for(this.clear();++oe<ye;){var Me=Ee[oe];this.set(Me[0],Me[1])}}function gs(){this.__data__=ft?ft(null):{},this.size=0}function Na(Ee){var oe=this.has(Ee)&&delete this.__data__[Ee];return this.size-=oe?1:0,oe}function tu(Ee){var oe=this.__data__;if(ft){var ye=oe[Ee];return ye===r?void 0:ye}return rt.call(oe,Ee)?oe[Ee]:void 0}function Vu(Ee){var oe=this.__data__;return ft?oe[Ee]!==void 0:rt.call(oe,Ee)}function Un(Ee,oe){var ye=this.__data__;return this.size+=this.has(Ee)?0:1,ye[Ee]=ft&&oe===void 0?r:oe,this}jr.prototype.clear=gs,jr.prototype.delete=Na,jr.prototype.get=tu,jr.prototype.has=Vu,jr.prototype.set=Un;function Hi(Ee){var oe=-1,ye=Ee==null?0:Ee.length;for(this.clear();++oe<ye;){var Me=Ee[oe];this.set(Me[0],Me[1])}}function ys(){this.__data__=[],this.size=0}function ah(Ee){var oe=this.__data__,ye=xe(oe,Ee);if(ye<0)return!1;var Me=oe.length-1;return ye==Me?oe.pop():zn.call(oe,ye,1),--this.size,!0}function Fd(Ee){var oe=this.__data__,ye=xe(oe,Ee);return ye<0?void 0:oe[ye][1]}function Ic(Ee){return xe(this.__data__,Ee)>-1}function Dc(Ee,oe){var ye=this.__data__,Me=xe(ye,Ee);return Me<0?(++this.size,ye.push([Ee,oe])):ye[Me][1]=oe,this}Hi.prototype.clear=ys,Hi.prototype.delete=ah,Hi.prototype.get=Fd,Hi.prototype.has=Ic,Hi.prototype.set=Dc;function vs(Ee){var oe=-1,ye=Ee==null?0:Ee.length;for(this.clear();++oe<ye;){var Me=Ee[oe];this.set(Me[0],Me[1])}}function lh(){this.size=0,this.__data__={hash:new jr,map:new(sr||Hi),string:new jr}}function Hu(Ee){var oe=Xt(this,Ee).delete(Ee);return this.size-=oe?1:0,oe}function xr(Ee){return Xt(this,Ee).get(Ee)}function Ld(Ee){return Xt(this,Ee).has(Ee)}function No(Ee,oe){var ye=Xt(this,Ee),Me=ye.size;return ye.set(Ee,oe),this.size+=ye.size==Me?0:1,this}vs.prototype.clear=lh,vs.prototype.delete=Hu,vs.prototype.get=xr,vs.prototype.has=Ld,vs.prototype.set=No;function Fs(Ee){var oe=-1,ye=Ee==null?0:Ee.length;for(this.__data__=new vs;++oe<ye;)this.add(Ee[oe])}function Mo(Ee){return this.__data__.set(Ee,r),this}function qu(Ee){return this.__data__.has(Ee)}Fs.prototype.add=Fs.prototype.push=Mo,Fs.prototype.has=qu;function la(Ee){var oe=this.__data__=new Hi(Ee);this.size=oe.size}function nu(){this.__data__=new Hi,this.size=0}function $o(Ee){var oe=this.__data__,ye=oe.delete(Ee);return this.size=oe.size,ye}function uh(Ee){return this.__data__.get(Ee)}function Fo(Ee){return this.__data__.has(Ee)}function me(Ee,oe){var ye=this.__data__;if(ye instanceof Hi){var Me=ye.__data__;if(!sr||Me.length<n-1)return Me.push([Ee,oe]),this.size=++ye.size,this;ye=this.__data__=new vs(Me)}return ye.set(Ee,oe),this.size=ye.size,this}la.prototype.clear=nu,la.prototype.delete=$o,la.prototype.get=uh,la.prototype.has=Fo,la.prototype.set=me;function Oe(Ee,oe){var ye=ns(Ee),Me=!ye&&Oc(Ee),Tt=!ye&&!Me&&fh(Ee),Ot=!ye&&!Me&&!Tt&&Wu(Ee),pn=ye||Me||Tt||Ot,Ln=pn?ee(Ee.length,String):[],Zt=Ln.length;for(var bn in Ee)rt.call(Ee,bn)&&!(pn&&(bn=="length"||Tt&&(bn=="offset"||bn=="parent")||Ot&&(bn=="buffer"||bn=="byteLength"||bn=="byteOffset")||ch(bn,Zt)))&&Ln.push(bn);return Ln}function xe(Ee,oe){for(var ye=Ee.length;ye--;)if(Ls(Ee[ye][0],oe))return ye;return-1}function je(Ee,oe,ye){var Me=oe(Ee);return ns(Ee)?Me:ce(Me,ye(Ee))}function Ue(Ee){return Ee==null?Ee===void 0?D:y:Fr&&Fr in Object(Ee)?Lo(Ee):qi(Ee)}function Fe(Ee){return ua(Ee)&&Ue(Ee)==a}function nt(Ee,oe,ye,Me,Tt){return Ee===oe?!0:Ee==null||oe==null||!ua(Ee)&&!ua(oe)?Ee!==Ee&&oe!==oe:ct(Ee,oe,ye,Me,nt,Tt)}function ct(Ee,oe,ye,Me,Tt,Ot){var pn=ns(Ee),Ln=ns(oe),Zt=pn?l:jo(Ee),bn=Ln?l:jo(oe);Zt=Zt==a?v:Zt,bn=bn==a?v:bn;var hr=Zt==v,si=bn==v,mi=Zt==bn;if(mi&&fh(Ee)){if(!fh(oe))return!1;pn=!0,hr=!1}if(mi&&!hr)return Ot||(Ot=new la),pn||Wu(Ee)?Bt(Ee,oe,ye,Me,Tt,Ot):$n(Ee,oe,Zt,ye,Me,Tt,Ot);if(!(ye&i)){var ki=hr&&rt.call(Ee,"__wrapped__"),_o=si&&rt.call(oe,"__wrapped__");if(ki||_o){var gi=ki?Ee.value():Ee,Bo=_o?oe.value():oe;return Ot||(Ot=new la),Tt(gi,Bo,ye,Me,Ot)}}return mi?(Ot||(Ot=new la),en(Ee,oe,ye,Me,Tt,Ot)):!1}function ht(Ee){if(!hh(Ee)||dh(Ee))return!1;var oe=co(Ee)?Wt:z;return oe.test($i(Ee))}function dt(Ee){return ua(Ee)&&Og(Ee.length)&&!!Q[Ue(Ee)]}function Et(Ee){if(!bs(Ee))return Tn(Ee);var oe=[];for(var ye in Object(Ee))rt.call(Ee,ye)&&ye!="constructor"&&oe.push(ye);return oe}function Bt(Ee,oe,ye,Me,Tt,Ot){var pn=ye&i,Ln=Ee.length,Zt=oe.length;if(Ln!=Zt&&!(pn&&Zt>Ln))return!1;var bn=Ot.get(Ee);if(bn&&Ot.get(oe))return bn==oe;var hr=-1,si=!0,mi=ye&o?new Fs:void 0;for(Ot.set(Ee,oe),Ot.set(oe,Ee);++hr<Ln;){var ki=Ee[hr],_o=oe[hr];if(Me)var gi=pn?Me(_o,ki,hr,oe,Ee,Ot):Me(ki,_o,hr,Ee,oe,Ot);if(gi!==void 0){if(gi)continue;si=!1;break}if(mi){if(!ne(oe,function(Bo,iu){if(!Re(mi,iu)&&(ki===Bo||Tt(ki,Bo,ye,Me,Ot)))return mi.push(iu)})){si=!1;break}}else if(!(ki===_o||Tt(ki,_o,ye,Me,Ot))){si=!1;break}}return Ot.delete(Ee),Ot.delete(oe),si}function $n(Ee,oe,ye,Me,Tt,Ot,pn){switch(ye){case N:if(Ee.byteLength!=oe.byteLength||Ee.byteOffset!=oe.byteOffset)return!1;Ee=Ee.buffer,oe=oe.buffer;case P:return!(Ee.byteLength!=oe.byteLength||!Ot(new hn(Ee),new hn(oe)));case c:case d:case g:return Ls(+Ee,+oe);case f:return Ee.name==oe.name&&Ee.message==oe.message;case C:case T:return Ee==oe+"";case p:var Ln=be;case S:var Zt=Me&i;if(Ln||(Ln=Ae),Ee.size!=oe.size&&!Zt)return!1;var bn=pn.get(Ee);if(bn)return bn==oe;Me|=o,pn.set(Ee,oe);var hr=Bt(Ln(Ee),Ln(oe),Me,Tt,Ot,pn);return pn.delete(Ee),hr;case A:if(Lr)return Lr.call(Ee)==Lr.call(oe)}return!1}function en(Ee,oe,ye,Me,Tt,Ot){var pn=ye&i,Ln=rr(Ee),Zt=Ln.length,bn=rr(oe),hr=bn.length;if(Zt!=hr&&!pn)return!1;for(var si=Zt;si--;){var mi=Ln[si];if(!(pn?mi in oe:rt.call(oe,mi)))return!1}var ki=Ot.get(Ee);if(ki&&Ot.get(oe))return ki==oe;var _o=!0;Ot.set(Ee,oe),Ot.set(oe,Ee);for(var gi=pn;++si<Zt;){mi=Ln[si];var Bo=Ee[mi],iu=oe[mi];if(Me)var Gu=pn?Me(iu,Bo,mi,oe,Ee,Ot):Me(Bo,iu,mi,Ee,oe,Ot);if(!(Gu===void 0?Bo===iu||Tt(Bo,iu,ye,Me,Ot):Gu)){_o=!1;break}gi||(gi=mi=="constructor")}if(_o&&!gi){var Mg=Ee.constructor,jd=oe.constructor;Mg!=jd&&"constructor"in Ee&&"constructor"in oe&&!(typeof Mg=="function"&&Mg instanceof Mg&&typeof jd=="function"&&jd instanceof jd)&&(_o=!1)}return Ot.delete(Ee),Ot.delete(oe),_o}function rr(Ee){return je(Ee,Ng,Ma)}function Xt(Ee,oe){var ye=Ee.__data__;return Pc(oe)?ye[typeof oe=="string"?"string":"hash"]:ye.map}function pr(Ee,oe){var ye=Se(Ee,oe);return ht(ye)?ye:void 0}function Lo(Ee){var oe=rt.call(Ee,Fr),ye=Ee[Fr];try{Ee[Fr]=void 0;var Me=!0}catch{}var Tt=Kt.call(Ee);return Me&&(oe?Ee[Fr]=ye:delete Ee[Fr]),Tt}var Ma=er?function(Ee){return Ee==null?[]:(Ee=Object(Ee),fe(er(Ee),function(oe){return Kn.call(Ee,oe)}))}:yl,jo=Ue;(an&&jo(new an(new ArrayBuffer(1)))!=N||sr&&jo(new sr)!=p||pi&&jo(pi.resolve())!=w||Tr&&jo(new Tr)!=S||An&&jo(new An)!=I)&&(jo=function(Ee){var oe=Ue(Ee),ye=oe==v?Ee.constructor:void 0,Me=ye?$i(ye):"";if(Me)switch(Me){case wr:return N;case Vt:return p;case ar:return w;case un:return S;case tr:return I}return oe});function ch(Ee,oe){return oe=oe??s,!!oe&&(typeof Ee=="number"||G.test(Ee))&&Ee>-1&&Ee%1==0&&Ee<oe}function Pc(Ee){var oe=typeof Ee;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?Ee!=="__proto__":Ee===null}function dh(Ee){return!!bt&&bt in Ee}function bs(Ee){var oe=Ee&&Ee.constructor,ye=typeof oe=="function"&&oe.prototype||Le;return Ee===ye}function qi(Ee){return Kt.call(Ee)}function $i(Ee){if(Ee!=null){try{return tt.call(Ee)}catch{}try{return Ee+""}catch{}}return""}function Ls(Ee,oe){return Ee===oe||Ee!==Ee&&oe!==oe}var Oc=Fe((function(){return arguments})())?Fe:function(Ee){return ua(Ee)&&rt.call(Ee,"callee")&&!Kn.call(Ee,"callee")},ns=Array.isArray;function $a(Ee){return Ee!=null&&Og(Ee.length)&&!co(Ee)}var fh=Sr||Fa;function ru(Ee,oe){return nt(Ee,oe)}function co(Ee){if(!hh(Ee))return!1;var oe=Ue(Ee);return oe==h||oe==m||oe==u||oe==E}function Og(Ee){return typeof Ee=="number"&&Ee>-1&&Ee%1==0&&Ee<=s}function hh(Ee){var oe=typeof Ee;return Ee!=null&&(oe=="object"||oe=="function")}function ua(Ee){return Ee!=null&&typeof Ee=="object"}var Wu=X?pe(X):dt;function Ng(Ee){return $a(Ee)?Oe(Ee):Et(Ee)}function yl(){return[]}function Fa(){return!1}e.exports=ru})(fT,fT.exports)),fT.exports}var byt=vyt();const jH=ms(byt);function MQ(e,t){if((typeof e=="number"||typeof e=="string")&&(typeof t=="string"||typeof t=="number"))return String(e)===String(t);if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return jH(n,r)}if(typeof e=="object"){const n=Object.values(e);return n.length!==t.length?!1:Array.isArray(t[0])?n.every((i,o)=>{const s=t[o];if(!Array.isArray(s))return!1;const a=typeof i=="string"?i===""?[]:i.split("|"):[];if(a.length!==s.length)return!1;const l=[...a].sort(),u=[...s].sort();return l.every((c,d)=>c===u[d])}):n.every((i,o)=>String(i)===String(t[o]))}return jH(e,t)}function U1(e,t){let n=!0;return(t||[]).forEach(r=>{const i=e[r.id];(i===void 0||!MQ(i,r.answer))&&(n=!1)}),n}function hfe(e,t,n,r){const i=t.slice(0,t.lastIndexOf("_")),o=Object.entries(r.components).find(([a])=>a===i),s=o?o[1]:null;if(!s)throw new Error(`Component ${i} could not be found in the study components.`);return s.correctAnswer?U1(e,s.correctAnswer):!0}function wyt(){const e=Rc(),t=qy(),n=fr(P=>P.trialValidation),r=fr(P=>P.sequence),i=fr(P=>P.answers),o=fr(P=>P.modes),s=fr(P=>P.clickedPrevious),a=Bu(),{funcIndex:l}=hs(),u=Km(),c=Po(),{saveTrialAnswer:d,setReactiveAnswers:f,setMatrixAnswersRadio:h,setMatrixAnswersCheckbox:m,setRankingAnswers:p}=Zi(),{storageEngine:g}=Mi(),y=qf(),v=k.useMemo(()=>o.dataCollectionEnabled,[o]),w=cmt(u),E=Eg(),C=typeof e!="number"||E||!w,S=Gy(),T=pl(),A=k.useMemo(()=>Date.now(),[l,e]),D=yyt(),I=k.useCallback((P=!0)=>{if(typeof e!="number")return;const N=structuredClone(n[u]),$=N?Object.values(N).reduce((U,z)=>Object.hasOwn(z,"values")?{...U,...z.values}:U,{}):{},{provenanceGraph:O}=N||{},j=Date.now(),{componentName:B}=S,H=D&&"current"in D&&D.current?D.current.splice(0,D.current.length):[];if(v&&(S.endTime===-1||s)){const U={...S,answer:P?$:{},startTime:A,endTime:j,provenanceGraph:O,windowEvents:H,timedOut:!P};c(d({...U})),g&&g.saveAnswers({...i,[u]:U}),c(f({})),c(m(null)),c(h(null)),c(p(null))}let q=e+1;const Y=iAe(r,e),V=Y!==null&&Y.some(U=>Object.hasOwn(U.currentBlock,"skip")&&U.currentBlock.skip!==void 0),L={...i,[u]:{answer:$,startTime:A,endTime:j,provenanceGraph:O,windowEvents:H}};V&&[...Y.flatMap(z=>z.currentBlock.skip?z.currentBlock.skip.map(G=>({...G,firstIndex:z.firstIndex,lastIndex:z.lastIndex})):[])].some(z=>{let G=!1;const Q=Object.fromEntries(Object.entries(L).filter(([de])=>{const se=parseInt(de.slice(de.lastIndexOf("_")+1),10);return se>=z.firstIndex&&se<=e})),te=z.check!=="block"?Object.entries(Q).filter(([de])=>de.slice(0,de.lastIndexOf("_"))===z.name):Object.entries(Q);if(te.length===0)return!1;if(te.some(([de,se])=>!se))throw new Error(`There are components with missing response objects for the skip condition: ${JSON.stringify(z,null,2)}`);if(z.check==="response"||z.check==="responses"){const[de,se]=te[0];z.check==="response"?G=z.comparison==="equal"?z.value===se.answer[z.responseId]:z.value!==se.answer[z.responseId]:G=!hfe(se.answer,de,a.components[de.slice(0,de.lastIndexOf("_"))],a)}else if(z.check==="block"||z.check==="repeatedComponent"){if(te.length<z.value)return!1;const de=te.map(([he,ie])=>hfe(ie.answer,he,a.components[B.slice(0,B.lastIndexOf("_"))],a)),se=de.filter(he=>he).length,ae=de.length-se;G=z.condition==="numCorrect"&&se===z.value||z.condition==="numIncorrect"&&ae===z.value}if(G){const de=t.indexOf(z.to),se=de===-1?amt(r,z.to):-1;return q=de===-1?se:de,!0}return!1}),T(l?`/${y}/${ko(e)}/${ko(wf(l)+1)}${window.location.search}`:`/${y}/${ko(q)}${window.location.search}`)},[e,n,u,S,D,v,s,r,i,A,l,c,d,g,f,m,h,p,a,t,T,y]);return{isNextDisabled:C,goToNextStep:I}}function xyt(){const e=Rc(),{funcIndex:t}=hs(),n=qf(),r=pl(),i=Eg(),o=Bu(),s=Po(),{deleteDynamicBlockAnswers:a}=Zi(),l=fr(d=>d.answers),u=typeof e!="number"||i||e<=0,c=k.useCallback(()=>{if(typeof e!="number")return;const d=e-1,f=md(o.sequence);if(t&&(s(a({currentStep:e,funcIndex:wf(t),funcName:f[e]})),wf(t)!==0)){r(`/${n}/${ko(e)}/${ko(wf(t)-1)}${window.location.search}`);return}const h=f[d];if(wH(h,o.sequence)){const g=Object.keys(l).filter(y=>y.startsWith(`${h}_${d}_`)).length-1;r(`/${n}/${ko(d)}/${ko(g)}${window.location.search}`)}else r(`/${n}/${ko(d)}${window.location.search}`)},[e,t,r,n,o,s,a,l]);return{isPreviousDisabled:u,goToPreviousStep:c}}function _yt({label:e="Previous",px:t}){const{isPreviousDisabled:n,goToPreviousStep:r}=xyt(),i=Po(),{setClickedPrevious:o}=Zi(),s=k.useCallback(()=>{i(o(!0)),r()},[r,o,i]);return x.jsx(Ut,{type:"submit",disabled:n,onClick:s,px:t,children:e})}function Eyt({label:e="Next",disabled:t=!1,config:n,location:r,checkAnswer:i}){const{isNextDisabled:o,goToNextStep:s}=wyt(),a=Bu(),l=pl(),u=k.useMemo(()=>n?.nextButtonDisableTime??a.uiConfig.nextButtonDisableTime,[n,a]),c=k.useMemo(()=>n?.nextButtonEnableTime??a.uiConfig.nextButtonEnableTime??0,[n,a]),[d,f]=k.useState(void 0);k.useEffect(()=>{let y=0;const v=setInterval(()=>{y+=100,f(y)},100);return()=>{clearInterval(v)}},[]),k.useEffect(()=>{d&&u&&d>=u&&a.uiConfig.timeoutReject&&l("./../__timedOut")},[u,d,l,a.uiConfig.timeoutReject]);const h=k.useMemo(()=>{const y=u&&d?d<=u:!0,v=d?d>=c:!0;return y&&v},[u,c,d]),m=k.useMemo(()=>n?.nextOnEnter??a.uiConfig.nextOnEnter,[n,a]);k.useEffect(()=>{const y=v=>{v.key==="Enter"&&!t&&!o&&h&&s()};return m?(window.addEventListener("keydown",y),()=>{window.removeEventListener("keydown",y)}):()=>{}},[t,o,h,s,m]);const p=k.useMemo(()=>t||o||!h,[t,o,h]),g=k.useMemo(()=>n?.previousButtonText??a.uiConfig.previousButtonText??"Previous",[n,a]);return x.jsxs(x.Fragment,{children:[x.jsxs(Gn,{justify:"right",gap:"xs",mt:"sm",children:[n?.previousButton&&x.jsx(_yt,{label:g,px:r==="sidebar"&&i?8:void 0}),i,x.jsx(Ut,{type:"submit",disabled:p,onClick:()=>s(),px:r==="sidebar"&&i?8:void 0,children:e})]}),d&&x.jsxs(x.Fragment,{children:[c>0&&d<c&&x.jsxs(sd,{mt:"md",title:"Please wait",color:"blue",icon:x.jsx(Wm,{}),children:["The next button will be enabled in"," ",Math.ceil((c-d)/1e3)," ","seconds."]}),u&&d&&u-d<1e4&&(u-d>0?x.jsxs(sd,{mt:"md",title:"Next button disables soon",color:"yellow",icon:x.jsx(ld,{}),children:["The next button disables in"," ",Math.ceil((u-d)/1e3)," ","seconds."]}):!a.uiConfig.timeoutReject&&x.jsxs(sd,{mt:"md",title:"Next button disabled",color:"red",icon:x.jsx(ld,{}),children:["The next button has timed out and is now disabled.",x.jsx(Gn,{justify:"right",mt:"sm",children:x.jsx(Ut,{onClick:()=>s(!1),variant:"link",color:"red",children:"Proceed"})})]}))]})]})}function Cyt(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const Syt=typeof window<"u"?k.useLayoutEffect:k.useEffect;function fa(e,t){Syt(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function Tyt(e,t){e&&Cyt(e),fa(`mantine-form:${e}:set-field-value`,n=>t.setFieldValue(n.detail.path,n.detail.value)),fa(`mantine-form:${e}:set-values`,n=>t.setValues(n.detail)),fa(`mantine-form:${e}:set-initial-values`,n=>t.setInitialValues(n.detail)),fa(`mantine-form:${e}:set-errors`,n=>t.setErrors(n.detail)),fa(`mantine-form:${e}:set-field-error`,n=>t.setFieldError(n.detail.path,n.detail.error)),fa(`mantine-form:${e}:clear-field-error`,n=>t.clearFieldError(n.detail)),fa(`mantine-form:${e}:clear-errors`,t.clearErrors),fa(`mantine-form:${e}:reset`,t.reset),fa(`mantine-form:${e}:validate`,t.validate),fa(`mantine-form:${e}:validate-field`,n=>t.validateField(n.detail)),fa(`mantine-form:${e}:reorder-list-item`,n=>t.reorderListItem(n.detail.path,n.detail.payload)),fa(`mantine-form:${e}:remove-list-item`,n=>t.removeListItem(n.detail.path,n.detail.index)),fa(`mantine-form:${e}:insert-list-item`,n=>t.insertListItem(n.detail.path,n.detail.item,n.detail.index)),fa(`mantine-form:${e}:set-dirty`,n=>t.setDirty(n.detail)),fa(`mantine-form:${e}:set-touched`,n=>t.setTouched(n.detail)),fa(`mantine-form:${e}:reset-dirty`,n=>t.resetDirty(n.detail)),fa(`mantine-form:${e}:reset-touched`,t.resetTouched)}function Ayt(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}function BH(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}function kyt(e){const[t,n]=k.useState(BH(e)),r=k.useRef(t),i=k.useCallback(l=>{n(u=>{const c=BH(typeof l=="function"?l(u):l);return r.current=c,c})},[]),o=k.useCallback(()=>i({}),[]),s=k.useCallback(l=>{r.current[l]!==void 0&&i(u=>{const c={...u};return delete c[l],c})},[t]),a=k.useCallback((l,u)=>{u==null||u===!1?s(l):r.current[l]!==u&&i(c=>({...c,[l]:u}))},[t]);return{errorsState:t,setErrors:i,clearErrors:o,setFieldError:a,clearFieldError:s}}function zH(e,t){if(t===null||typeof t!="object")return{};const n={...t};return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}function pfe(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function mfe(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let o=n;r===-1&&(o=zH(`${i}.${t}`,o));const s={...o},a=new Set;return Object.entries(o).filter(([l])=>{if(!l.startsWith(`${i}.`))return!1;const u=pfe(l,i);return Number.isNaN(u)?!1:u>=t}).forEach(([l,u])=>{const c=pfe(l,i),d=l.replace(`${i}.${c}`,`${i}.${c+r}`);s[d]=u,a.add(d),a.has(l)||delete s[l]}),s}function Ryt(e,{from:t,to:n},r){const i=`${e}.${t}`,o=`${e}.${n}`,s={...r},a=new Set;return Object.keys(r).forEach(l=>{if(a.has(l))return;let u,c;if(l.startsWith(i)?(u=l,c=l.replace(i,o)):l.startsWith(o)&&(u=l.replace(o,i),c=l),u&&c){const d=s[u],f=s[c];f===void 0?delete s[u]:s[u]=f,d===void 0?delete s[c]:s[c]=d,a.add(u),a.add(c)}}),s}function gfe(e,t,n){typeof n.value=="object"&&(n.value=Ix(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Ix(e){if(typeof e!="object")return e;var t=0,n,r,i,o=Object.prototype.toString.call(e);if(o==="[object Object]"?i=Object.create(e.__proto__||null):o==="[object Array]"?i=Array(e.length):o==="[object Set]"?(i=new Set,e.forEach(function(s){i.add(Ix(s))})):o==="[object Map]"?(i=new Map,e.forEach(function(s,a){i.set(Ix(a),Ix(s))})):o==="[object Date]"?i=new Date(+e):o==="[object RegExp]"?i=new RegExp(e.source,e.flags):o==="[object DataView]"?i=new e.constructor(Ix(e.buffer)):o==="[object ArrayBuffer]"?i=e.slice(0):o.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)gfe(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||gfe(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function qAe(e){return typeof e!="string"?[]:e.split(".")}function _a(e,t){const n=qAe(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!=null;i+=1)r=r[n[i]];return r}function Bk(e,t,n){const r=qAe(e);if(r.length===0)return n;const i=Ix(n);if(r.length===1)return i[r[0]]=t,i;let o=i[r[0]];for(let s=1;s<r.length-1;s+=1){if(o===void 0)return i;o=o[r[s]]}return o[r[r.length-1]]=t,i}function Iyt(e,{from:t,to:n},r){const i=_a(e,r);if(!Array.isArray(i))return r;const o=[...i],s=i[t];return o.splice(t,1),o.splice(n,0,s),Bk(e,o,r)}function Dyt(e,t,n,r){const i=_a(e,r);if(!Array.isArray(i))return r;const o=[...i];return o.splice(typeof n=="number"?n:o.length,0,t),Bk(e,o,r)}function Pyt(e,t,n){const r=_a(e,n);return Array.isArray(r)?Bk(e,r.filter((i,o)=>o!==t),n):n}function Oyt(e,t,n,r){const i=_a(e,r);if(!Array.isArray(i)||i.length<=n)return r;const o=[...i];return o[n]=t,Bk(e,o,r)}function Nyt({$values:e,$errors:t,$status:n}){const r=k.useCallback((a,l)=>{n.clearFieldDirty(a),t.setErrors(u=>Ryt(a,l,u)),e.setValues({values:Iyt(a,l,e.refValues.current),updateState:!0})},[]),i=k.useCallback((a,l)=>{n.clearFieldDirty(a),t.setErrors(u=>mfe(a,l,u,-1)),e.setValues({values:Pyt(a,l,e.refValues.current),updateState:!0})},[]),o=k.useCallback((a,l,u)=>{n.clearFieldDirty(a),t.setErrors(c=>mfe(a,u,c,1)),e.setValues({values:Dyt(a,l,u,e.refValues.current),updateState:!0})},[]),s=k.useCallback((a,l,u)=>{n.clearFieldDirty(a),e.setValues({values:Oyt(a,u,l,e.refValues.current),updateState:!0})},[]);return{reorderListItem:r,removeListItem:i,insertListItem:o,replaceListItem:s}}var p9,yfe;function $Q(){return yfe||(yfe=1,p9=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}),p9}var Myt=$Q();const hT=ms(Myt);function gS(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function $yt({initialDirty:e,initialTouched:t,mode:n,$values:r}){const[i,o]=k.useState(t),[s,a]=k.useState(e),l=k.useRef(t),u=k.useRef(e),c=k.useCallback(S=>{const T=typeof S=="function"?S(l.current):S;l.current=T,n==="controlled"&&o(T)},[]),d=k.useCallback((S,T=!1)=>{const A=typeof S=="function"?S(u.current):S;u.current=A,(n==="controlled"||T)&&a(A)},[]),f=k.useCallback(()=>c({}),[]),h=k.useCallback(S=>{const T=S?{...r.refValues.current,...S}:r.refValues.current;r.setValuesSnapshot(T),d({})},[]),m=k.useCallback((S,T)=>{c(A=>gS(A,S)===T?A:{...A,[S]:T})},[]),p=k.useCallback((S,T,A)=>{d(D=>gS(D,S)===T?D:{...D,[S]:T},A)},[]),g=k.useCallback((S,T)=>{const A=gS(u.current,S),D=!hT(_a(S,r.getValuesSnapshot()),T),I=zH(S,u.current);I[S]=D,d(I,A!==D)},[]),y=k.useCallback(S=>gS(l.current,S),[]),v=k.useCallback(S=>d(T=>{if(typeof S!="string")return T;const A=zH(S,T);return delete A[S],hT(A,T)?T:A}),[]),w=k.useCallback(S=>{if(S){const A=_a(S,u.current);if(typeof A=="boolean")return A;const D=_a(S,r.refValues.current),I=_a(S,r.valuesSnapshot.current);return!hT(D,I)}return Object.keys(u.current).length>0?gS(u.current):!hT(r.refValues.current,r.valuesSnapshot.current)},[]),E=k.useCallback(()=>u.current,[]),C=k.useCallback(()=>l.current,[]);return{touchedState:i,dirtyState:s,touchedRef:l,dirtyRef:u,setTouched:c,setDirty:d,resetDirty:h,resetTouched:f,isTouched:y,setFieldTouched:m,setFieldDirty:p,setTouchedState:o,setDirtyState:a,clearFieldDirty:v,isDirty:w,getDirty:E,getTouched:C,setCalculatedFieldDirty:g}}function Fyt({initialValues:e,onValuesChange:t,mode:n}){const r=k.useRef(!1),[i,o]=k.useState(e||{}),s=k.useRef(i),a=k.useRef(i),l=k.useCallback(({values:p,subscribers:g,updateState:y=!0,mergeWithPreviousValues:v=!0})=>{const w=s.current,E=p instanceof Function?p(s.current):p,C=v?{...w,...E}:E;s.current=C,y&&o(C),t?.(C,w),g?.filter(Boolean).forEach(S=>S({updatedValues:C,previousValues:w}))},[t]),u=k.useCallback(p=>{const g=_a(p.path,s.current),y=p.value instanceof Function?p.value(g):p.value;if(g!==y){const v=s.current,w=Bk(p.path,y,s.current);l({values:w,updateState:p.updateState}),p.subscribers?.filter(Boolean).forEach(E=>E({path:p.path,updatedValues:w,previousValues:v}))}},[l]),c=k.useCallback(p=>{a.current=p},[]),d=k.useCallback((p,g)=>{r.current||(r.current=!0,l({values:p,updateState:n==="controlled"}),c(p),g())},[l]),f=k.useCallback(()=>{l({values:a.current,updateState:!0,mergeWithPreviousValues:!1})},[l]),h=k.useCallback(()=>s.current,[]),m=k.useCallback(()=>a.current,[]);return{initialized:r,stateValues:i,refValues:s,valuesSnapshot:a,setValues:l,setFieldValue:u,resetValues:f,setValuesSnapshot:c,initialize:d,getValues:h,getValuesSnapshot:m}}function Lyt({$status:e}){const t=k.useRef({}),n=k.useCallback((i,o)=>{k.useEffect(()=>(t.current[i]=t.current[i]||[],t.current[i].push(o),()=>{t.current[i]=t.current[i].filter(s=>s!==o)}),[o])},[]),r=k.useCallback(i=>t.current[i]?t.current[i].map(o=>s=>o({previousValue:_a(i,s.previousValues),value:_a(i,s.updatedValues),touched:e.isTouched(i),dirty:e.isDirty(i)})):[],[]);return{subscribers:t,watch:n,getFieldSubscribers:r}}function vfe(e,t){return e?`${e}-${t.toString()}`:t.toString()}const DD=Symbol("root-rule");function bfe(e){const t=BH(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function UH(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,o)=>{const s=e[o],a=`${n===""?"":`${n}.`}${o}`,l=_a(a,t);let u=!1;return typeof s=="function"&&(i[a]=s(l,t,a)),typeof s=="object"&&Array.isArray(l)&&(u=!0,l.forEach((c,d)=>UH(s,t,`${a}.${d}`,i)),DD in s&&(i[a]=s[DD](l,t,a))),typeof s=="object"&&typeof l=="object"&&l!==null&&(u||UH(s,t,a,i),DD in s&&(i[a]=s[DD](l,t,a))),i},r)}function VH(e,t){return bfe(typeof e=="function"?e(t):UH(e,t))}function PD(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=VH(t,n),i=Object.keys(r.errors).find(o=>e.split(".").every((s,a)=>s===o.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}const jyt="__MANTINE_FORM_INDEX__";function wfe(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${jyt}`)):!1:!1}function WAe({name:e,mode:t="controlled",initialValues:n,initialErrors:r={},initialDirty:i={},initialTouched:o={},clearInputErrorOnChange:s=!0,validateInputOnChange:a=!1,validateInputOnBlur:l=!1,onValuesChange:u,transformValues:c=p=>p,enhanceGetInputProps:d,validate:f,onSubmitPreventDefault:h="always",touchTrigger:m="change"}={}){const p=kyt(r),g=Fyt({initialValues:n,onValuesChange:u,mode:t}),y=$yt({initialDirty:i,initialTouched:o,$values:g,mode:t}),v=Nyt({$values:g,$errors:p,$status:y}),w=Lyt({$status:y}),[E,C]=k.useState(0),[S,T]=k.useState({}),[A,D]=k.useState(!1),I=k.useCallback(()=>{g.resetValues(),p.clearErrors(),y.resetDirty(),y.resetTouched(),t==="uncontrolled"&&C(Q=>Q+1)},[]),P=k.useCallback(Q=>{s&&p.clearErrors(),t==="uncontrolled"&&C(te=>te+1),Object.keys(w.subscribers.current).forEach(te=>{const de=_a(te,g.refValues.current),se=_a(te,Q);de!==se&&w.getFieldSubscribers(te).forEach(ae=>ae({previousValues:Q,updatedValues:g.refValues.current}))})},[s]),N=k.useCallback(Q=>{const te=g.refValues.current;g.initialize(Q,()=>t==="uncontrolled"&&C(de=>de+1)),P(te)},[P]),$=k.useCallback((Q,te,de)=>{const se=wfe(Q,a),ae=te instanceof Function?te(_a(Q,g.refValues.current)):te;y.setCalculatedFieldDirty(Q,ae),m==="change"&&y.setFieldTouched(Q,!0),!se&&s&&p.clearFieldError(Q),g.setFieldValue({path:Q,value:te,updateState:t==="controlled",subscribers:[...w.getFieldSubscribers(Q),se?he=>{const ie=PD(Q,f,he.updatedValues);ie.hasError?p.setFieldError(Q,ie.error):p.clearFieldError(Q)}:null,de?.forceUpdate!==!1&&t!=="controlled"?()=>T(he=>({...he,[Q]:(he[Q]||0)+1})):null]})},[u,f]),O=k.useCallback(Q=>{const te=g.refValues.current;g.setValues({values:Q,updateState:t==="controlled"}),P(te)},[u,P]),j=k.useCallback(()=>{const Q=VH(f,g.refValues.current);return p.setErrors(Q.errors),Q},[f]),B=k.useCallback(Q=>{const te=PD(Q,f,g.refValues.current);return te.hasError?p.setFieldError(Q,te.error):p.clearFieldError(Q),te},[f]),H=(Q,{type:te="input",withError:de=!0,withFocus:se=!0,...ae}={})=>{const ie={onChange:Ayt(le=>$(Q,le,{forceUpdate:!1})),"data-path":vfe(e,Q)};return de&&(ie.error=p.errorsState[Q]),te==="checkbox"?ie[t==="controlled"?"checked":"defaultChecked"]=_a(Q,g.refValues.current):ie[t==="controlled"?"value":"defaultValue"]=_a(Q,g.refValues.current),se&&(ie.onFocus=()=>y.setFieldTouched(Q,!0),ie.onBlur=()=>{if(wfe(Q,l)){const le=PD(Q,f,g.refValues.current);le.hasError?p.setFieldError(Q,le.error):p.clearFieldError(Q)}}),Object.assign(ie,d?.({inputProps:ie,field:Q,options:{type:te,withError:de,withFocus:se,...ae},form:G}))},q=(Q,te)=>de=>{h==="always"&&de?.preventDefault();const se=j();if(se.hasErrors)h==="validation-failed"&&de?.preventDefault(),te?.(se.errors,g.refValues.current,de);else{const ae=Q?.(c(g.refValues.current),de);ae instanceof Promise&&(D(!0),ae.finally(()=>D(!1)))}},Y=Q=>c(Q||g.refValues.current),V=k.useCallback(Q=>{Q.preventDefault(),I()},[]),L=k.useCallback(Q=>Q?!PD(Q,f,g.refValues.current).hasError:!VH(f,g.refValues.current).hasErrors,[f]),U=Q=>`${E}-${Q}-${S[Q]||0}`,z=k.useCallback(Q=>document.querySelector(`[data-path="${vfe(e,Q)}"]`),[]),G={watch:w.watch,initialized:g.initialized.current,values:g.stateValues,getValues:g.getValues,getInitialValues:g.getValuesSnapshot,setInitialValues:g.setValuesSnapshot,initialize:N,setValues:O,setFieldValue:$,submitting:A,setSubmitting:D,errors:p.errorsState,setErrors:p.setErrors,setFieldError:p.setFieldError,clearFieldError:p.clearFieldError,clearErrors:p.clearErrors,resetDirty:y.resetDirty,setTouched:y.setTouched,setDirty:y.setDirty,isTouched:y.isTouched,resetTouched:y.resetTouched,isDirty:y.isDirty,getTouched:y.getTouched,getDirty:y.getDirty,reorderListItem:v.reorderListItem,insertListItem:v.insertListItem,removeListItem:v.removeListItem,replaceListItem:v.replaceListItem,reset:I,validate:j,validateField:B,getInputProps:H,onSubmit:q,onReset:V,isValid:L,getTransformedValues:Y,key:U,getInputNode:z};return Tyt(e,G),G}function Byt(e,t){const n=t;return r=>typeof r!="string"?n:e.test(r)?null:n}function zyt(e){return Byt(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,e)}function GAe(e,t){const n=e.minSelections&&t.length<e.minSelections,r=e.maxSelections&&t.length>e.maxSelections;return n?`Please select at least ${e.minSelections} options`:r?`Please select at most ${e.maxSelections} options`:null}function YAe(e,t){const n=e.minSelections&&t.length<e.minSelections,r=e.maxSelections&&t.length>e.maxSelections;return n&&r?`Please select between ${e.minSelections} and ${e.maxSelections} options`:n?`Please select at least ${e.minSelections} options`:r?`Please select at most ${e.maxSelections} options`:null}function HH(e,t){const n=typeof t=="string"?parseFloat(t):t,{min:r,max:i}=e;return r!==void 0&&i!==void 0&&(n<r||n>i)?`Please enter a value between ${r} and ${i}`:r!==void 0&&n<r?`Please enter a value of ${r} or greater`:i!==void 0&&n>i?`Please enter a value of ${i} or less`:null}function KAe(e,t){return Object.values(t).some(r=>r==="")?"Please answer all questions in the matrix to continue.":null}const Uyt=new URLSearchParams(window.location.search),XAe=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{},o=t&&t[`${r.id}-dontKnow`]!==void 0?t[`${r.id}-dontKnow`]:!1,s=r.withDontKnow?{[`${r.id}-dontKnow`]:o}:{},a=t&&t[`${r.id}-other`]!==void 0?t[`${r.id}-other`]:"",l=r.withOther?{[`${r.id}-other`]:a}:{};if(i)n={...n,[r.id]:i,...s,...l};else{let u="";r.paramCapture?u=Uyt.get(r.paramCapture):r.type==="reactive"||r.type==="ranking-sublist"||r.type==="ranking-categorical"||r.type==="ranking-pairwise"?u=[]:r.type==="matrix-radio"||r.type==="matrix-checkbox"?u=Object.fromEntries(r.questionOptions.map(c=>[c,""])):r.type==="slider"&&r.startingValue&&(u=r.startingValue.toString()),n={...n,[r.id]:u,...s,...l}}}),{...n}},Vyt=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:(r,i)=>{if(typeof r=="object"&&!Array.isArray(r)&&r!==null)return n.type==="matrix-checkbox"||n.type==="matrix-radio"?KAe(n,r):n.type==="ranking-sublist"||n.type==="ranking-categorical"||n.type==="ranking-pairwise"?Object.keys(r).length>0?null:"Empty Input":Object.values(r).every(o=>o!=="")?null:"Empty Input";if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value. Contact study administrator.";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const o=[...n.requiredValue].sort(),s=[...r].sort();return o.every((a,l)=>a===s[l])?null:"Incorrect input"}return n.type==="checkbox"?YAe(n,r):n.type==="dropdown"?GAe(n,r):r.length===0?"Empty input":null}if(n.required&&n.requiredValue!=null&&r!=null)return r.toString()!==n.requiredValue.toString()?"Incorrect input":null;if(n.required){if((r==null||r==="")&&!i[`${n.id}-dontKnow`])return"Empty input";if(n.type==="numerical")return HH(n,r)}return r===null?"Empty input":null}})}),t};function Hyt(e,t,n){const[r,i]=k.useState(null),o=WAe({initialValues:XAe(e,n),validate:Vyt(e)});return k.useEffect(()=>{r!==t&&(i(t),o.reset())},[r,o,t]),o}function lp(e,t,n){const{requiredValue:r,requiredLabel:i}=e;let o="";if(t.checked&&Array.isArray(r))o=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null;else if(t.checked&&e.required&&e.type==="checkbox")o=YAe(e,t.checked);else if(t.value&&e.type==="dropdown")o=GAe(e,t.value);else if(t.value&&typeof t.value=="number"&&e.type==="numerical"&&HH(e,t.value))o=HH(e,t.value);else{if(t.value&&typeof t.value=="object"&&!Array.isArray(t.value)&&(e.type==="matrix-radio"||e.type==="matrix-checkbox"))return KAe(e,t.value);o=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?n.find(s=>s.value===r)?.label:r.toString())} to continue.`:null}return o}function QAe({horizontal:e,children:t,style:n}){return e?x.jsx(Gn,{mt:Ge(4),gap:"lg",style:n,children:t}):x.jsx(or,{gap:"md",style:n,children:t})}const qyt="_fixDisabled_1k5ri_1",Wyt="_fixDisabledIcon_1k5ri_16",Gyt="_fixDisabledLabel_1k5ri_20",rf={fixDisabled:qyt,fixDisabledIcon:Wyt,fixDisabledLabel:Gyt},Yyt="_fixDisabled_d4mus_1",Qm={fixDisabled:Yyt};function gd({prompt:e,required:t,index:n,enumerateQuestions:r,infoText:i}){return x.jsxs(At,{direction:"row",wrap:"nowrap",gap:4,children:[r&&x.jsx(Ie,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${n}. `}),x.jsx(Ie,{style:{display:"block"},className:"no-last-child-bottom-padding",children:x.jsx(ap,{text:e,required:t})}),i&&x.jsx(yt,{label:i,multiline:!0,maw:400,position:"bottom",children:x.jsx(Wm,{size:16,opacity:.5,style:{marginTop:6}})})]})}function Kyt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i,otherValue:o}){const{prompt:s,required:a,secondaryText:l,horizontal:u,withOther:c,options:d,infoText:f}=e,h=Gy(),m=k.useMemo(()=>h?h.optionOrders:{},[h]),p=k.useMemo(()=>m[e.id]||d.map(w=>typeof w=="string"?{label:w,value:w}:w),[m,d,e.id]),[g,y]=k.useState(!1),v=k.useMemo(()=>lp(e,n,p),[e,n,p]);return x.jsxs(tl.Group,{label:s.length>0&&x.jsx(gd,{prompt:s,required:a,index:r,enumerateQuestions:i,infoText:f}),description:l,...n,error:v,errorProps:{c:a?"red":"orange"},style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:[x.jsx(Ie,{mt:"xs",children:x.jsxs(QAe,{horizontal:!!u,style:{flexGrow:1},children:[p.map(w=>x.jsx(tl,{disabled:t,value:w.value,label:w.label,classNames:{input:rf.fixDisabled,label:rf.fixDisabledLabel,icon:rf.fixDisabledIcon}},w.value)),c&&x.jsx(tl,{disabled:t,value:"__other",checked:g,onClick:w=>y(w.currentTarget.checked),label:u?"Other":x.jsx(Hr,{mt:-8,placeholder:"Other",disabled:!g,...o,classNames:{input:Qm.fixDisabled}}),classNames:{input:rf.fixDisabled,label:rf.fixDisabledLabel,icon:rf.fixDisabledIcon}},"__other")]})}),u&&c&&x.jsx(Hr,{mt:"sm",placeholder:"Other",disabled:!g,...o,w:216,classNames:{input:Qm.fixDisabled}})]})}function Xyt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,options:l,secondaryText:u,infoText:c}=e,d=l.map(h=>typeof h=="string"?{value:h,label:h}:h);return e.minSelections&&e.minSelections>=1||e.maxSelections&&e.maxSelections>1?x.jsx(RE,{disabled:t,label:s.length>0&&x.jsx(gd,{prompt:s,required:a,index:r,enumerateQuestions:i,infoText:c}),description:u,placeholder:n.value.length===0?o:void 0,data:d,radius:"md",size:"md",...n,value:n.value===""?[]:Array.isArray(n.value)?n.value:[n.value],error:lp(e,n,d),withErrorStyles:a,errorProps:{c:a?"red":"orange"},classNames:{input:Qm.fixDisabled},maxDropdownHeight:200,clearable:!0,searchable:!0}):x.jsx(Hm,{disabled:t,label:s.length>0&&x.jsx(gd,{prompt:s,required:a,index:r,enumerateQuestions:i,infoText:c}),description:u,placeholder:o,data:d,radius:"md",size:"md",...n,value:n.value===""?null:n.value,error:lp(e,n,d),withErrorStyles:a,errorProps:{c:a?"red":"orange"},classNames:{input:Qm.fixDisabled},maxDropdownHeight:200})}function Qyt({response:e,answer:t,index:n,enumerateQuestions:r}){const{prompt:i,required:o,secondaryText:s,infoText:a}=e;return x.jsx(Hr.Wrapper,{label:i.length>0&&x.jsx(gd,{prompt:i,required:o,index:n,enumerateQuestions:r,infoText:a}),description:s,size:"md",children:t.value&&x.jsx(Za,{children:Array.isArray(t.value)?t.value.map(l=>x.jsx(Za.Item,{children:l},l)):x.jsx(Za.Item,{children:t.value})})})}const Jyt="_fixDisabled_14ab8_1",Zyt="_fixDisabledIcon_14ab8_16",evt="_fixDisabledLabel_14ab8_20",d0={fixDisabled:Jyt,fixDisabledIcon:Zyt,fixDisabledLabel:evt};function JAe({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i,stretch:o,otherValue:s}){const{prompt:a,required:l,leftLabel:u,rightLabel:c,secondaryText:d,infoText:f,horizontal:h,withOther:m,options:p}=e,g=Gy(),y=k.useMemo(()=>g?g.optionOrders:{},[g]),v=k.useMemo(()=>y[e.id]||p.map(S=>typeof S=="string"?{label:S,value:S}:S),[y,p,e.id]),[w,E]=k.useState(!1),C=k.useMemo(()=>lp(e,n,v),[e,n,v]);return x.jsxs(ol.Group,{name:`radioInput${e.id}`,label:a.length>0&&x.jsx(gd,{prompt:a,required:l,index:r,enumerateQuestions:i,infoText:f}),description:d,...n,error:C,errorProps:{c:l?"red":"orange"},style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:[x.jsxs(Gn,{gap:"lg",align:"flex-end",mt:h?0:"sm",children:[u?x.jsx(Ve,{children:u}):null,x.jsxs(QAe,{horizontal:!!h,style:{flexGrow:1},children:[v.map(S=>x.jsxs("div",{style:{display:"flex",flexDirection:h?"column":"row",gap:h?"unset":Ge(12),flex:o?1:"unset",alignItems:"center"},children:[h&&x.jsx(ap,{text:S.label}),x.jsx(ol,{disabled:t,value:S.value,label:S.label,styles:{label:{display:h?"none":"initial"}},onChange:()=>E(!1),classNames:{radio:d0.fixDisabled,label:d0.fixDisabledLabel,icon:d0.fixDisabledIcon}})]},`${S.value}-${e.id}`)),m&&x.jsxs("div",{style:{display:"flex",flexDirection:h?"column":"row",gap:h?"unset":Ge(12),flex:o?1:"unset",alignItems:"center"},children:[h&&x.jsx(Ve,{size:"sm",children:"Other"}),x.jsx(ol,{disabled:t,value:"other",checked:w,onClick:S=>E(S.currentTarget.checked),label:!h&&x.jsx(Hr,{mt:-8,placeholder:"Other",disabled:!w,...s,classNames:{input:Qm.fixDisabled}}),mt:0,classNames:{radio:d0.fixDisabled,label:d0.fixDisabledLabel,icon:d0.fixDisabledIcon}})]})]}),x.jsx(Ve,{children:c})]}),h&&m&&x.jsx(Hr,{mt:"sm",placeholder:"Other",disabled:!w,...s,w:216,classNames:{input:Qm.fixDisabled}})]},e.id)}function tvt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{numItems:o,start:s,spacing:a}=e,l=[],u=s??1,c=a??1;for(let f=0;f<+o;f+=1){const h=u+f*c;l.push({label:`${h}`,value:`${h}`})}const d={...e,type:"radio",options:l,horizontal:!0};return x.jsx(JAe,{disabled:t,response:d,answer:n,index:r,enumerateQuestions:i,stretch:!0})}function nvt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,placeholder:a,secondaryText:l,infoText:u}=e;return x.jsx(ZK,{disabled:t,placeholder:a,label:o.length>0&&x.jsx(gd,{prompt:o,required:s,index:r,enumerateQuestions:i,infoText:u}),description:l,radius:"md",size:"md",...n,error:lp(e,n),withErrorStyles:s,errorProps:{c:s?"red":"orange"},classNames:{input:Qm.fixDisabled}})}function rvt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return k.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const J$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function UE(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function FQ(e){return"nodeType"in e}function Ql(e){var t,n;return e?UE(e)?e:FQ(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function LQ(e){const{Document:t}=Ql(e);return e instanceof t}function zk(e){return UE(e)?!1:e instanceof Ql(e).HTMLElement}function ZAe(e){return e instanceof Ql(e).SVGElement}function VE(e){return e?UE(e)?e.document:FQ(e)?LQ(e)?e:zk(e)||ZAe(e)?e.ownerDocument:document:document:document}const If=J$?k.useLayoutEffect:k.useEffect;function Z$(e){const t=k.useRef(e);return If(()=>{t.current=e}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function ivt(){const e=k.useRef(null),t=k.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=k.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function iA(e,t){t===void 0&&(t=[e]);const n=k.useRef(e);return If(()=>{n.current!==e&&(n.current=e)},t),n}function Uk(e,t){const n=k.useRef();return k.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function x4(e){const t=Z$(e),n=k.useRef(null),r=k.useCallback(i=>{i!==n.current&&t?.(i,n.current),n.current=i},[]);return[n,r]}function _4(e){const t=k.useRef();return k.useEffect(()=>{t.current=e},[e]),t.current}let m9={};function Vk(e,t){return k.useMemo(()=>{if(t)return t;const n=m9[e]==null?0:m9[e]+1;return m9[e]=n,e+"-"+n},[e,t])}function eke(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,s)=>{const a=Object.entries(s);for(const[l,u]of a){const c=o[l];c!=null&&(o[l]=c+e*u)}return o},{...t})}}const Jx=eke(1),E4=eke(-1);function ovt(e){return"clientX"in e&&"clientY"in e}function e5(e){if(!e)return!1;const{KeyboardEvent:t}=Ql(e.target);return t&&e instanceof t}function svt(e){if(!e)return!1;const{TouchEvent:t}=Ql(e.target);return t&&e instanceof t}function C4(e){if(svt(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return ovt(e)?{x:e.clientX,y:e.clientY}:null}const fy=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[fy.Translate.toString(e),fy.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),xfe="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function avt(e){return e.matches(xfe)?e:e.querySelector(xfe)}const lvt={display:"none"};function uvt(e){let{id:t,value:n}=e;return dn.createElement("div",{id:t,style:lvt},n)}function cvt(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return dn.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function dvt(){const[e,t]=k.useState("");return{announce:k.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const tke=k.createContext(null);function fvt(e){const t=k.useContext(tke);k.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function hvt(){const[e]=k.useState(()=>new Set),t=k.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[k.useCallback(r=>{let{type:i,event:o}=r;e.forEach(s=>{var a;return(a=s[i])==null?void 0:a.call(s,o)})},[e]),t]}const pvt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},mvt={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function gvt(e){let{announcements:t=mvt,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=pvt}=e;const{announce:o,announcement:s}=dvt(),a=Vk("DndLiveRegion"),[l,u]=k.useState(!1);if(k.useEffect(()=>{u(!0)},[]),fvt(k.useMemo(()=>({onDragStart(d){let{active:f}=d;o(t.onDragStart({active:f}))},onDragMove(d){let{active:f,over:h}=d;t.onDragMove&&o(t.onDragMove({active:f,over:h}))},onDragOver(d){let{active:f,over:h}=d;o(t.onDragOver({active:f,over:h}))},onDragEnd(d){let{active:f,over:h}=d;o(t.onDragEnd({active:f,over:h}))},onDragCancel(d){let{active:f,over:h}=d;o(t.onDragCancel({active:f,over:h}))}}),[o,t])),!l)return null;const c=dn.createElement(dn.Fragment,null,dn.createElement(uvt,{id:r,value:i.draggable}),dn.createElement(cvt,{id:a,announcement:s}));return n?Fh.createPortal(c,n):c}var Ss;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ss||(Ss={}));function S4(){}function _fe(e,t){return k.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function yvt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return k.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Df=Object.freeze({x:0,y:0});function vvt(e,t){const n=C4(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function bvt(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function wvt(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function xvt(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),s=i-r,a=o-n;if(r<i&&n<o){const l=t.width*t.height,u=e.width*e.height,c=s*a,d=c/(l+u-c);return Number(d.toFixed(4))}return 0}const t5=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:s}=o,a=n.get(s);if(a){const l=xvt(a,t);l>0&&i.push({id:s,data:{droppableContainer:o,value:l}})}}return i.sort(bvt)};function _vt(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function nke(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Df}function Evt(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const Cvt=Evt(1);function rke(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Svt(e,t,n){const r=rke(t);if(!r)return e;const{scaleX:i,scaleY:o,x:s,y:a}=r,l=e.left-s-(1-i)*parseFloat(n),u=e.top-a-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),c=i?e.width/i:e.width,d=o?e.height/o:e.height;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l}}const Tvt={ignoreTransform:!1};function HE(e,t){t===void 0&&(t=Tvt);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:c}=Ql(e).getComputedStyle(e);u&&(n=Svt(n,u,c))}const{top:r,left:i,width:o,height:s,bottom:a,right:l}=n;return{top:r,left:i,width:o,height:s,bottom:a,right:l}}function Efe(e){return HE(e,{ignoreTransform:!0})}function Avt(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function kvt(e,t){return t===void 0&&(t=Ql(e).getComputedStyle(e)),t.position==="fixed"}function Rvt(e,t){t===void 0&&(t=Ql(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?n.test(o):!1})}function jQ(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(LQ(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!zk(i)||ZAe(i)||n.includes(i))return n;const o=Ql(e).getComputedStyle(i);return i!==e&&Rvt(i,o)&&n.push(i),kvt(i,o)?n:r(i.parentNode)}return e?r(e):n}function ike(e){const[t]=jQ(e,1);return t??null}function g9(e){return!J$||!e?null:UE(e)?e:FQ(e)?LQ(e)||e===VE(e).scrollingElement?window:zk(e)?e:null:null}function oke(e){return UE(e)?e.scrollX:e.scrollLeft}function ske(e){return UE(e)?e.scrollY:e.scrollTop}function qH(e){return{x:oke(e),y:ske(e)}}var Ws;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ws||(Ws={}));function ake(e){return!J$||!e?!1:e===document.scrollingElement}function lke(e){const t={x:0,y:0},n=ake(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const Ivt={x:.2,y:.2};function Dvt(e,t,n,r,i){let{top:o,left:s,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=Ivt);const{isTop:u,isBottom:c,isLeft:d,isRight:f}=lke(e),h={x:0,y:0},m={x:0,y:0},p={height:t.height*i.y,width:t.width*i.x};return!u&&o<=t.top+p.height?(h.y=Ws.Backward,m.y=r*Math.abs((t.top+p.height-o)/p.height)):!c&&l>=t.bottom-p.height&&(h.y=Ws.Forward,m.y=r*Math.abs((t.bottom-p.height-l)/p.height)),!f&&a>=t.right-p.width?(h.x=Ws.Forward,m.x=r*Math.abs((t.right-p.width-a)/p.width)):!d&&s<=t.left+p.width&&(h.x=Ws.Backward,m.x=r*Math.abs((t.left+p.width-s)/p.width)),{direction:h,speed:m}}function Pvt(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:s}=window;return{top:0,left:0,right:o,bottom:s,width:o,height:s}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function uke(e){return e.reduce((t,n)=>Jx(t,qH(n)),Df)}function Ovt(e){return e.reduce((t,n)=>t+oke(n),0)}function Nvt(e){return e.reduce((t,n)=>t+ske(n),0)}function cke(e,t){if(t===void 0&&(t=HE),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);ike(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Mvt=[["x",["left","right"],Ovt],["y",["top","bottom"],Nvt]];class BQ{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=jQ(n),i=uke(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,s,a]of Mvt)for(const l of s)Object.defineProperty(this,l,{get:()=>{const u=a(r),c=i[o]-u;return this.rect[l]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}let o2=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}};function $vt(e){const{EventTarget:t}=Ql(e);return e instanceof t?e:VE(e)}function y9(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Wc;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Wc||(Wc={}));function Cfe(e){e.preventDefault()}function Fvt(e){e.stopPropagation()}var li;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(li||(li={}));const dke={start:[li.Space,li.Enter],cancel:[li.Esc],end:[li.Space,li.Enter,li.Tab]},Lvt=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case li.Right:return{...n,x:n.x+25};case li.Left:return{...n,x:n.x-25};case li.Down:return{...n,y:n.y+25};case li.Up:return{...n,y:n.y-25}}};class zQ{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new o2(VE(n)),this.windowListeners=new o2(Ql(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Wc.Resize,this.handleCancel),this.windowListeners.add(Wc.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Wc.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&cke(r),n(Df)}handleKeyDown(t){if(e5(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=dke,coordinateGetter:s=Lvt,scrollBehavior:a="smooth"}=i,{code:l}=t;if(o.end.includes(l)){this.handleEnd(t);return}if(o.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,c=u?{x:u.left,y:u.top}:Df;this.referenceCoordinates||(this.referenceCoordinates=c);const d=s(t,{active:n,context:r.current,currentCoordinates:c});if(d){const f=E4(d,c),h={x:0,y:0},{scrollableAncestors:m}=r.current;for(const p of m){const g=t.code,{isTop:y,isRight:v,isLeft:w,isBottom:E,maxScroll:C,minScroll:S}=lke(p),T=Pvt(p),A={x:Math.min(g===li.Right?T.right-T.width/2:T.right,Math.max(g===li.Right?T.left:T.left+T.width/2,d.x)),y:Math.min(g===li.Down?T.bottom-T.height/2:T.bottom,Math.max(g===li.Down?T.top:T.top+T.height/2,d.y))},D=g===li.Right&&!v||g===li.Left&&!w,I=g===li.Down&&!E||g===li.Up&&!y;if(D&&A.x!==d.x){const P=p.scrollLeft+f.x,N=g===li.Right&&P<=C.x||g===li.Left&&P>=S.x;if(N&&!f.y){p.scrollTo({left:P,behavior:a});return}N?h.x=p.scrollLeft-P:h.x=g===li.Right?p.scrollLeft-C.x:p.scrollLeft-S.x,h.x&&p.scrollBy({left:-h.x,behavior:a});break}else if(I&&A.y!==d.y){const P=p.scrollTop+f.y,N=g===li.Down&&P<=C.y||g===li.Up&&P>=S.y;if(N&&!f.x){p.scrollTo({top:P,behavior:a});return}N?h.y=p.scrollTop-P:h.y=g===li.Down?p.scrollTop-C.y:p.scrollTop-S.y,h.y&&p.scrollBy({top:-h.y,behavior:a});break}}this.handleMove(t,Jx(E4(d,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}zQ.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=dke,onActivation:i}=t,{active:o}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=o.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function Sfe(e){return!!(e&&"distance"in e)}function Tfe(e){return!!(e&&"delay"in e)}class UQ{constructor(t,n,r){var i;r===void 0&&(r=$vt(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:s}=o;this.props=t,this.events=n,this.document=VE(s),this.documentListeners=new o2(this.document),this.listeners=new o2(r),this.windowListeners=new o2(Ql(s)),this.initialCoordinates=(i=C4(o))!=null?i:Df,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Wc.Resize,this.handleCancel),this.windowListeners.add(Wc.DragStart,Cfe),this.windowListeners.add(Wc.VisibilityChange,this.handleCancel),this.windowListeners.add(Wc.ContextMenu,Cfe),this.documentListeners.add(Wc.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Tfe(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Sfe(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Wc.Click,Fvt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Wc.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:s,options:{activationConstraint:a}}=o;if(!i)return;const l=(n=C4(t))!=null?n:Df,u=E4(i,l);if(!r&&a){if(Sfe(a)){if(a.tolerance!=null&&y9(u,a.tolerance))return this.handleCancel();if(y9(u,a.distance))return this.handleStart()}if(Tfe(a)&&y9(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===li.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const jvt={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class VQ extends UQ{constructor(t){const{event:n}=t,r=VE(n.target);super(t,jvt,r)}}VQ.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const Bvt={move:{name:"mousemove"},end:{name:"mouseup"}};var WH;(function(e){e[e.RightClick=2]="RightClick"})(WH||(WH={}));class zvt extends UQ{constructor(t){super(t,Bvt,VE(t.event.target))}}zvt.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===WH.RightClick?!1:(r?.({event:n}),!0)}}];const v9={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Uvt extends UQ{constructor(t){super(t,v9)}static setup(){return window.addEventListener(v9.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(v9.move.name,t)};function t(){}}}Uvt.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var s2;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(s2||(s2={}));var T4;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(T4||(T4={}));function Vvt(e){let{acceleration:t,activator:n=s2.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:s=5,order:a=T4.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:d,threshold:f}=e;const h=qvt({delta:d,disabled:!o}),[m,p]=ivt(),g=k.useRef({x:0,y:0}),y=k.useRef({x:0,y:0}),v=k.useMemo(()=>{switch(n){case s2.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case s2.DraggableRect:return i}},[n,i,l]),w=k.useRef(null),E=k.useCallback(()=>{const S=w.current;if(!S)return;const T=g.current.x*y.current.x,A=g.current.y*y.current.y;S.scrollBy(T,A)},[]),C=k.useMemo(()=>a===T4.TreeOrder?[...u].reverse():u,[a,u]);k.useEffect(()=>{if(!o||!u.length||!v){p();return}for(const S of C){if(r?.(S)===!1)continue;const T=u.indexOf(S),A=c[T];if(!A)continue;const{direction:D,speed:I}=Dvt(S,A,v,t,f);for(const P of["x","y"])h[P][D[P]]||(I[P]=0,D[P]=0);if(I.x>0||I.y>0){p(),w.current=S,m(E,s),g.current=I,y.current=D;return}}g.current={x:0,y:0},y.current={x:0,y:0},p()},[t,E,r,p,o,s,JSON.stringify(v),JSON.stringify(h),m,u,C,c,JSON.stringify(f)])}const Hvt={x:{[Ws.Backward]:!1,[Ws.Forward]:!1},y:{[Ws.Backward]:!1,[Ws.Forward]:!1}};function qvt(e){let{delta:t,disabled:n}=e;const r=_4(t);return Uk(i=>{if(n||!r||!i)return Hvt;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Ws.Backward]:i.x[Ws.Backward]||o.x===-1,[Ws.Forward]:i.x[Ws.Forward]||o.x===1},y:{[Ws.Backward]:i.y[Ws.Backward]||o.y===-1,[Ws.Forward]:i.y[Ws.Forward]||o.y===1}}},[n,t,r])}function Wvt(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Uk(i=>{var o;return t==null?null:(o=r??i)!=null?o:null},[r,t])}function Gvt(e,t){return k.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...o]},[]),[e,t])}var oA;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(oA||(oA={}));var GH;(function(e){e.Optimized="optimized"})(GH||(GH={}));const Afe=new Map;function Yvt(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,s]=k.useState(null),{frequency:a,measure:l,strategy:u}=i,c=k.useRef(e),d=g(),f=iA(d),h=k.useCallback(function(y){y===void 0&&(y=[]),!f.current&&s(v=>v===null?y:v.concat(y.filter(w=>!v.includes(w))))},[f]),m=k.useRef(null),p=Uk(y=>{if(d&&!n)return Afe;if(!y||y===Afe||c.current!==e||o!=null){const v=new Map;for(let w of e){if(!w)continue;if(o&&o.length>0&&!o.includes(w.id)&&w.rect.current){v.set(w.id,w.rect.current);continue}const E=w.node.current,C=E?new BQ(l(E),E):null;w.rect.current=C,C&&v.set(w.id,C)}return v}return y},[e,o,n,d,l]);return k.useEffect(()=>{c.current=e},[e]),k.useEffect(()=>{d||h()},[n,d]),k.useEffect(()=>{o&&o.length>0&&s(null)},[JSON.stringify(o)]),k.useEffect(()=>{d||typeof a!="number"||m.current!==null||(m.current=setTimeout(()=>{h(),m.current=null},a))},[a,d,h,...r]),{droppableRects:p,measureDroppableContainers:h,measuringScheduled:o!=null};function g(){switch(u){case oA.Always:return!1;case oA.BeforeDragging:return n;default:return!n}}}function HQ(e,t){return Uk(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Kvt(e,t){return HQ(e,t)}function Xvt(e){let{callback:t,disabled:n}=e;const r=Z$(t),i=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return k.useEffect(()=>()=>i?.disconnect(),[i]),i}function n5(e){let{callback:t,disabled:n}=e;const r=Z$(t),i=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return k.useEffect(()=>()=>i?.disconnect(),[i]),i}function Qvt(e){return new BQ(HE(e),e)}function kfe(e,t,n){t===void 0&&(t=Qvt);const[r,i]=k.useState(null);function o(){i(l=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const c=t(e);return JSON.stringify(l)===JSON.stringify(c)?l:c})}const s=Xvt({callback(l){if(e)for(const u of l){const{type:c,target:d}=u;if(c==="childList"&&d instanceof HTMLElement&&d.contains(e)){o();break}}}}),a=n5({callback:o});return If(()=>{o(),e?(a?.observe(e),s?.observe(document.body,{childList:!0,subtree:!0})):(a?.disconnect(),s?.disconnect())},[e]),r}function Jvt(e){const t=HQ(e);return nke(e,t)}const Rfe=[];function Zvt(e){const t=k.useRef(e),n=Uk(r=>e?r&&r!==Rfe&&e&&t.current&&e.parentNode===t.current.parentNode?r:jQ(e):Rfe,[e]);return k.useEffect(()=>{t.current=e},[e]),n}function ebt(e){const[t,n]=k.useState(null),r=k.useRef(e),i=k.useCallback(o=>{const s=g9(o.target);s&&n(a=>a?(a.set(s,qH(s)),new Map(a)):null)},[]);return k.useEffect(()=>{const o=r.current;if(e!==o){s(o);const a=e.map(l=>{const u=g9(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,qH(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(o)};function s(a){a.forEach(l=>{const u=g9(l);u?.removeEventListener("scroll",i)})}},[i,e]),k.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,s)=>Jx(o,s),Df):uke(e):Df,[e,t])}function Ife(e,t){t===void 0&&(t=[]);const n=k.useRef(null);return k.useEffect(()=>{n.current=null},t),k.useEffect(()=>{const r=e!==Df;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?E4(e,n.current):Df}function tbt(e){k.useEffect(()=>{if(!J$)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function nbt(e,t){return k.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=s=>{o(s,t)},n},{}),[e,t])}function fke(e){return k.useMemo(()=>e?Avt(e):null,[e])}const Dfe=[];function rbt(e,t){t===void 0&&(t=HE);const[n]=e,r=fke(n?Ql(n):null),[i,o]=k.useState(Dfe);function s(){o(()=>e.length?e.map(l=>ake(l)?r:new BQ(t(l),l)):Dfe)}const a=n5({callback:s});return If(()=>{a?.disconnect(),s(),e.forEach(l=>a?.observe(l))},[e]),i}function hke(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return zk(t)?t:e}function ibt(e){let{measure:t}=e;const[n,r]=k.useState(null),i=k.useCallback(u=>{for(const{target:c}of u)if(zk(c)){r(d=>{const f=t(c);return d?{...d,width:f.width,height:f.height}:f});break}},[t]),o=n5({callback:i}),s=k.useCallback(u=>{const c=hke(u);o?.disconnect(),c&&o?.observe(c),r(c?t(c):null)},[t,o]),[a,l]=x4(s);return k.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const obt=[{sensor:VQ,options:{}},{sensor:zQ,options:{}}],sbt={current:{}},MO={draggable:{measure:Efe},droppable:{measure:Efe,strategy:oA.WhileDragging,frequency:GH.Optimized},dragOverlay:{measure:HE}};class a2 extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const abt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new a2,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:S4},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:MO,measureDroppableContainers:S4,windowRect:null,measuringScheduled:!1},pke={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:S4,draggableNodes:new Map,over:null,measureDroppableContainers:S4},Hk=k.createContext(pke),mke=k.createContext(abt);function lbt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new a2}}}function ubt(e,t){switch(t.type){case Ss.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ss.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ss.DragEnd:case Ss.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ss.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new a2(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Ss.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new a2(e.droppable.containers);return s.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:s}}}case Ss.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new a2(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function cbt(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=k.useContext(Hk),o=_4(r),s=_4(n?.id);return k.useEffect(()=>{if(!t&&!r&&o&&s!=null){if(!e5(o)||document.activeElement===o.target)return;const a=i.get(s);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[l.current,u.current]){if(!c)continue;const d=avt(c);if(d){d.focus();break}}})}},[r,t,i,s,o]),null}function gke(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),n):n}function dbt(e){return k.useMemo(()=>({draggable:{...MO.draggable,...e?.draggable},droppable:{...MO.droppable,...e?.droppable},dragOverlay:{...MO.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function fbt(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=k.useRef(!1),{x:s,y:a}=typeof i=="boolean"?{x:i,y:i}:i;If(()=>{if(!s&&!a||!t){o.current=!1;return}if(o.current||!r)return;const u=t?.node.current;if(!u||u.isConnected===!1)return;const c=n(u),d=nke(c,r);if(s||(d.x=0),a||(d.y=0),o.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const f=ike(u);f&&f.scrollBy({top:d.y,left:d.x})}},[t,s,a,r,n])}const r5=k.createContext({...Df,scaleX:1,scaleY:1});var f0;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(f0||(f0={}));const qQ=k.memo(function(t){var n,r,i,o;let{id:s,accessibility:a,autoScroll:l=!0,children:u,sensors:c=obt,collisionDetection:d=t5,measuring:f,modifiers:h,...m}=t;const p=k.useReducer(ubt,void 0,lbt),[g,y]=p,[v,w]=hvt(),[E,C]=k.useState(f0.Uninitialized),S=E===f0.Initialized,{draggable:{active:T,nodes:A,translate:D},droppable:{containers:I}}=g,P=T!=null?A.get(T):null,N=k.useRef({initial:null,translated:null}),$=k.useMemo(()=>{var Tn;return T!=null?{id:T,data:(Tn=P?.data)!=null?Tn:sbt,rect:N}:null},[T,P]),O=k.useRef(null),[j,B]=k.useState(null),[H,q]=k.useState(null),Y=iA(m,Object.values(m)),V=Vk("DndDescribedBy",s),L=k.useMemo(()=>I.getEnabled(),[I]),U=dbt(f),{droppableRects:z,measureDroppableContainers:G,measuringScheduled:Q}=Yvt(L,{dragging:S,dependencies:[D.x,D.y],config:U.droppable}),te=Wvt(A,T),de=k.useMemo(()=>H?C4(H):null,[H]),se=Sr(),ae=Kvt(te,U.draggable.measure);fbt({activeNode:T!=null?A.get(T):null,config:se.layoutShiftCompensation,initialRect:ae,measure:U.draggable.measure});const he=kfe(te,U.draggable.measure,ae),ie=kfe(te?te.parentElement:null),le=k.useRef({activatorEvent:null,active:null,activeNode:te,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ce=I.getNodeFor((n=le.current.over)==null?void 0:n.id),X=ibt({measure:U.dragOverlay.measure}),fe=(r=X.nodeRef.current)!=null?r:te,ce=S?(i=X.rect)!=null?i:he:null,ne=!!(X.nodeRef.current&&X.rect),ee=Jvt(ne?null:he),pe=fke(fe?Ql(fe):null),Re=Zvt(S?Ce??te:null),Se=rbt(Re),be=gke(h,{transform:{x:D.x-ee.x,y:D.y-ee.y,scaleX:1,scaleY:1},activatorEvent:H,active:$,activeNodeRect:he,containerNodeRect:ie,draggingNodeRect:ce,over:le.current.over,overlayNodeRect:X.rect,scrollableAncestors:Re,scrollableAncestorRects:Se,windowRect:pe}),Ne=de?Jx(de,D):null,Ae=ebt(Re),Pe=Ife(Ae),we=Ife(Ae,[he]),Le=Jx(be,Pe),ze=ce?Cvt(ce,be):null,tt=$&&ze?d({active:$,collisionRect:ze,droppableRects:z,droppableContainers:L,pointerCoordinates:Ne}):null,rt=wvt(tt,"id"),[bt,Kt]=k.useState(null),Wt=ne?be:Jx(be,we),Mn=_vt(Wt,(o=bt?.rect)!=null?o:null,he),Ft=k.useRef(null),hn=k.useCallback((Tn,an)=>{let{sensor:sr,options:pi}=an;if(O.current==null)return;const Tr=A.get(O.current);if(!Tr)return;const An=Tn.nativeEvent,ft=new sr({active:O.current,activeNode:Tr,event:An,options:pi,context:le,onAbort(Vt){if(!A.get(Vt))return;const{onDragAbort:un}=Y.current,tr={id:Vt};un?.(tr),v({type:"onDragAbort",event:tr})},onPending(Vt,ar,un,tr){if(!A.get(Vt))return;const{onDragPending:Lr}=Y.current,jr={id:Vt,constraint:ar,initialCoordinates:un,offset:tr};Lr?.(jr),v({type:"onDragPending",event:jr})},onStart(Vt){const ar=O.current;if(ar==null)return;const un=A.get(ar);if(!un)return;const{onDragStart:tr}=Y.current,Rr={activatorEvent:An,active:{id:ar,data:un.data,rect:N}};Fh.unstable_batchedUpdates(()=>{tr?.(Rr),C(f0.Initializing),y({type:Ss.DragStart,initialCoordinates:Vt,active:ar}),v({type:"onDragStart",event:Rr}),B(Ft.current),q(An)})},onMove(Vt){y({type:Ss.DragMove,coordinates:Vt})},onEnd:wr(Ss.DragEnd),onCancel:wr(Ss.DragCancel)});Ft.current=ft;function wr(Vt){return async function(){const{active:un,collisions:tr,over:Rr,scrollAdjustedTranslate:Lr}=le.current;let jr=null;if(un&&Lr){const{cancelDrop:gs}=Y.current;jr={activatorEvent:An,active:un,collisions:tr,delta:Lr,over:Rr},Vt===Ss.DragEnd&&typeof gs=="function"&&await Promise.resolve(gs(jr))&&(Vt=Ss.DragCancel)}O.current=null,Fh.unstable_batchedUpdates(()=>{y({type:Vt}),C(f0.Uninitialized),Kt(null),B(null),q(null),Ft.current=null;const gs=Vt===Ss.DragEnd?"onDragEnd":"onDragCancel";if(jr){const Na=Y.current[gs];Na?.(jr),v({type:gs,event:jr})}})}}},[A]),Kn=k.useCallback((Tn,an)=>(sr,pi)=>{const Tr=sr.nativeEvent,An=A.get(pi);if(O.current!==null||!An||Tr.dndKit||Tr.defaultPrevented)return;const ft={active:An};Tn(sr,an.options,ft)===!0&&(Tr.dndKit={capturedBy:an.sensor},O.current=pi,hn(sr,an))},[A,hn]),zn=Gvt(c,Kn);tbt(c),If(()=>{he&&E===f0.Initializing&&C(f0.Initialized)},[he,E]),k.useEffect(()=>{const{onDragMove:Tn}=Y.current,{active:an,activatorEvent:sr,collisions:pi,over:Tr}=le.current;if(!an||!sr)return;const An={active:an,activatorEvent:sr,collisions:pi,delta:{x:Le.x,y:Le.y},over:Tr};Fh.unstable_batchedUpdates(()=>{Tn?.(An),v({type:"onDragMove",event:An})})},[Le.x,Le.y]),k.useEffect(()=>{const{active:Tn,activatorEvent:an,collisions:sr,droppableContainers:pi,scrollAdjustedTranslate:Tr}=le.current;if(!Tn||O.current==null||!an||!Tr)return;const{onDragOver:An}=Y.current,ft=pi.get(rt),wr=ft&&ft.rect.current?{id:ft.id,rect:ft.rect.current,data:ft.data,disabled:ft.disabled}:null,Vt={active:Tn,activatorEvent:an,collisions:sr,delta:{x:Tr.x,y:Tr.y},over:wr};Fh.unstable_batchedUpdates(()=>{Kt(wr),An?.(Vt),v({type:"onDragOver",event:Vt})})},[rt]),If(()=>{le.current={activatorEvent:H,active:$,activeNode:te,collisionRect:ze,collisions:tt,droppableRects:z,draggableNodes:A,draggingNode:fe,draggingNodeRect:ce,droppableContainers:I,over:bt,scrollableAncestors:Re,scrollAdjustedTranslate:Le},N.current={initial:ce,translated:ze}},[$,te,tt,ze,A,fe,ce,z,I,bt,Re,Le]),Vvt({...se,delta:D,draggingRect:ze,pointerCoordinates:Ne,scrollableAncestors:Re,scrollableAncestorRects:Se});const Fr=k.useMemo(()=>({active:$,activeNode:te,activeNodeRect:he,activatorEvent:H,collisions:tt,containerNodeRect:ie,dragOverlay:X,draggableNodes:A,droppableContainers:I,droppableRects:z,over:bt,measureDroppableContainers:G,scrollableAncestors:Re,scrollableAncestorRects:Se,measuringConfiguration:U,measuringScheduled:Q,windowRect:pe}),[$,te,he,H,tt,ie,X,A,I,z,bt,G,Re,Se,U,Q,pe]),er=k.useMemo(()=>({activatorEvent:H,activators:zn,active:$,activeNodeRect:he,ariaDescribedById:{draggable:V},dispatch:y,draggableNodes:A,over:bt,measureDroppableContainers:G}),[H,zn,$,he,y,V,A,bt,G]);return dn.createElement(tke.Provider,{value:w},dn.createElement(Hk.Provider,{value:er},dn.createElement(mke.Provider,{value:Fr},dn.createElement(r5.Provider,{value:Mn},u)),dn.createElement(cbt,{disabled:a?.restoreFocus===!1})),dn.createElement(gvt,{...a,hiddenTextDescribedById:V}));function Sr(){const Tn=j?.autoScrollEnabled===!1,an=typeof l=="object"?l.enabled===!1:l===!1,sr=S&&!Tn&&!an;return typeof l=="object"?{...l,enabled:sr}:{enabled:sr}}}),hbt=k.createContext(null),Pfe="button",pbt="Draggable";function mbt(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=Vk(pbt),{activators:s,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:d,over:f}=k.useContext(Hk),{role:h=Pfe,roleDescription:m="draggable",tabIndex:p=0}=i??{},g=l?.id===t,y=k.useContext(g?r5:hbt),[v,w]=x4(),[E,C]=x4(),S=nbt(s,t),T=iA(n);If(()=>(d.set(t,{id:t,key:o,node:v,activatorNode:E,data:T}),()=>{const D=d.get(t);D&&D.key===o&&d.delete(t)}),[d,t]);const A=k.useMemo(()=>({role:h,tabIndex:p,"aria-disabled":r,"aria-pressed":g&&h===Pfe?!0:void 0,"aria-roledescription":m,"aria-describedby":c.draggable}),[r,h,p,g,m,c.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:A,isDragging:g,listeners:r?void 0:S,node:v,over:f,setNodeRef:w,setActivatorNodeRef:C,transform:y}}function yke(){return k.useContext(mke)}const gbt="Droppable",ybt={timeout:25};function vke(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=Vk(gbt),{active:s,dispatch:a,over:l,measureDroppableContainers:u}=k.useContext(Hk),c=k.useRef({disabled:n}),d=k.useRef(!1),f=k.useRef(null),h=k.useRef(null),{disabled:m,updateMeasurementsFor:p,timeout:g}={...ybt,...i},y=iA(p??r),v=k.useCallback(()=>{if(!d.current){d.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),h.current=null},g)},[g]),w=n5({callback:v,disabled:m||!s}),E=k.useCallback((A,D)=>{w&&(D&&(w.unobserve(D),d.current=!1),A&&w.observe(A))},[w]),[C,S]=x4(E),T=iA(t);return k.useEffect(()=>{!w||!C.current||(w.disconnect(),d.current=!1,w.observe(C.current))},[C,w]),k.useEffect(()=>(a({type:Ss.RegisterDroppable,element:{id:r,key:o,disabled:n,node:C,rect:f,data:T}}),()=>a({type:Ss.UnregisterDroppable,key:o,id:r})),[r]),k.useEffect(()=>{n!==c.current.disabled&&(a({type:Ss.SetDroppableDisabled,id:r,key:o,disabled:n}),c.current.disabled=n)},[r,o,n,a]),{active:s,rect:f,isOver:l?.id===r,node:C,over:l,setNodeRef:S}}function vbt(e){let{animation:t,children:n}=e;const[r,i]=k.useState(null),[o,s]=k.useState(null),a=_4(n);return!n&&!r&&a&&i(a),If(()=>{if(!o)return;const l=r?.key,u=r?.props.id;if(l==null||u==null){i(null);return}Promise.resolve(t(u,o)).then(()=>{i(null)})},[t,r,o]),dn.createElement(dn.Fragment,null,n,r?k.cloneElement(r,{ref:s}):null)}const bbt={x:0,y:0,scaleX:1,scaleY:1};function wbt(e){let{children:t}=e;return dn.createElement(Hk.Provider,{value:pke},dn.createElement(r5.Provider,{value:bbt},t))}const xbt={position:"fixed",touchAction:"none"},_bt=e=>e5(e)?"transform 250ms ease":void 0,Ebt=k.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:o,className:s,rect:a,style:l,transform:u,transition:c=_bt}=e;if(!a)return null;const d=i?u:{...u,scaleX:1,scaleY:1},f={...xbt,width:a.width,height:a.height,top:a.top,left:a.left,transform:fy.Transform.toString(d),transformOrigin:i&&r?vvt(r,a):void 0,transition:typeof c=="function"?c(r):c,...l};return dn.createElement(n,{className:s,style:f,ref:t},o)}),Cbt=e=>t=>{let{active:n,dragOverlay:r}=t;const i={},{styles:o,className:s}=e;if(o!=null&&o.active)for(const[a,l]of Object.entries(o.active))l!==void 0&&(i[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,l));if(o!=null&&o.dragOverlay)for(const[a,l]of Object.entries(o.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return s!=null&&s.active&&n.node.classList.add(s.active),s!=null&&s.dragOverlay&&r.node.classList.add(s.dragOverlay),function(){for(const[l,u]of Object.entries(i))n.node.style.setProperty(l,u);s!=null&&s.active&&n.node.classList.remove(s.active)}},Sbt=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:fy.Transform.toString(t)},{transform:fy.Transform.toString(n)}]},Tbt={duration:250,easing:"ease",keyframes:Sbt,sideEffects:Cbt({styles:{active:{opacity:"0"}}})};function Abt(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return Z$((o,s)=>{if(t===null)return;const a=n.get(o);if(!a)return;const l=a.node.current;if(!l)return;const u=hke(s);if(!u)return;const{transform:c}=Ql(s).getComputedStyle(s),d=rke(c);if(!d)return;const f=typeof t=="function"?t:kbt(t);return cke(l,i.draggable.measure),f({active:{id:o,data:a.data,node:l,rect:i.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:s,rect:i.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:i,transform:d})})}function kbt(e){const{duration:t,easing:n,sideEffects:r,keyframes:i}={...Tbt,...e};return o=>{let{active:s,dragOverlay:a,transform:l,...u}=o;if(!t)return;const c={x:a.rect.left-s.rect.left,y:a.rect.top-s.rect.top},d={scaleX:l.scaleX!==1?s.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?s.rect.height*l.scaleY/a.rect.height:1},f={x:l.x-c.x,y:l.y-c.y,...d},h=i({...u,active:s,dragOverlay:a,transform:{initial:l,final:f}}),[m]=h,p=h[h.length-1];if(JSON.stringify(m)===JSON.stringify(p))return;const g=r?.({active:s,dragOverlay:a,...u}),y=a.node.animate(h,{duration:t,easing:n,fill:"forwards"});return new Promise(v=>{y.onfinish=()=>{g?.(),v()}})}}let Ofe=0;function Rbt(e){return k.useMemo(()=>{if(e!=null)return Ofe++,Ofe},[e])}const WQ=dn.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:o,modifiers:s,wrapperElement:a="div",className:l,zIndex:u=999}=e;const{activatorEvent:c,active:d,activeNodeRect:f,containerNodeRect:h,draggableNodes:m,droppableContainers:p,dragOverlay:g,over:y,measuringConfiguration:v,scrollableAncestors:w,scrollableAncestorRects:E,windowRect:C}=yke(),S=k.useContext(r5),T=Rbt(d?.id),A=gke(s,{activatorEvent:c,active:d,activeNodeRect:f,containerNodeRect:h,draggingNodeRect:g.rect,over:y,overlayNodeRect:g.rect,scrollableAncestors:w,scrollableAncestorRects:E,transform:S,windowRect:C}),D=HQ(f),I=Abt({config:r,draggableNodes:m,droppableContainers:p,measuringConfiguration:v}),P=D?g.setRef:void 0;return dn.createElement(wbt,null,dn.createElement(vbt,{animation:I},d&&T?dn.createElement(Ebt,{key:T,id:d.id,ref:P,as:a,activatorEvent:c,adjustScale:t,className:l,transition:o,rect:D,style:{zIndex:u,...i},transform:A},n):null))});function GQ(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Ibt(e,t){return e.reduce((n,r,i)=>{const o=t.get(r);return o&&(n[i]=o),n},Array(e.length))}function OD(e){return e!==null&&e>=0}function Dbt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Pbt(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const bke=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const o=GQ(t,r,n),s=t[i],a=o[i];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},ND={scaleX:1,scaleY:1},sA=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:s}=e;const a=(t=o[n])!=null?t:r;if(!a)return null;if(i===n){const u=o[s];return u?{x:0,y:n<s?u.top+u.height-(a.top+a.height):u.top-a.top,...ND}:null}const l=Obt(o,i,n);return i>n&&i<=s?{x:0,y:-a.height-l,...ND}:i<n&&i>=s?{x:0,y:a.height+l,...ND}:{x:0,y:0,...ND}};function Obt(e,t,n){const r=e[t],i=e[t-1],o=e[t+1];return r?n<t?i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const wke="Sortable",xke=dn.createContext({activeIndex:-1,containerId:wke,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:bke,disabled:{draggable:!1,droppable:!1}});function aA(e){let{children:t,id:n,items:r,strategy:i=bke,disabled:o=!1}=e;const{active:s,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:c}=yke(),d=Vk(wke,n),f=a.rect!==null,h=k.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),m=s!=null,p=s?h.indexOf(s.id):-1,g=u?h.indexOf(u.id):-1,y=k.useRef(h),v=!Dbt(h,y.current),w=g!==-1&&p===-1||v,E=Pbt(o);If(()=>{v&&m&&c(h)},[v,h,m,c]),k.useEffect(()=>{y.current=h},[h]);const C=k.useMemo(()=>({activeIndex:p,containerId:d,disabled:E,disableTransforms:w,items:h,overIndex:g,useDragOverlay:f,sortedRects:Ibt(h,l),strategy:i}),[p,d,E.draggable,E.droppable,w,h,g,l,f,i]);return dn.createElement(xke.Provider,{value:C},t)}const Nbt=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return GQ(n,r,i).indexOf(t)},Mbt=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:o,newIndex:s,previousItems:a,previousContainerId:l,transition:u}=e;return!u||!r||a!==o&&i===s?!1:n?!0:s!==i&&t===l},$bt={duration:200,easing:"ease"},_ke="transform",Fbt=fy.Transition.toString({property:_ke,duration:0,easing:"linear"}),Lbt={roleDescription:"sortable"};function jbt(e){let{disabled:t,index:n,node:r,rect:i}=e;const[o,s]=k.useState(null),a=k.useRef(n);return If(()=>{if(!t&&n!==a.current&&r.current){const l=i.current;if(l){const u=HE(r.current,{ignoreTransform:!0}),c={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(c.x||c.y)&&s(c)}}n!==a.current&&(a.current=n)},[t,n,r,i]),k.useEffect(()=>{o&&s(null)},[o]),o}function Bbt(e){let{animateLayoutChanges:t=Mbt,attributes:n,disabled:r,data:i,getNewIndex:o=Nbt,id:s,strategy:a,resizeObserverConfig:l,transition:u=$bt}=e;const{items:c,containerId:d,activeIndex:f,disabled:h,disableTransforms:m,sortedRects:p,overIndex:g,useDragOverlay:y,strategy:v}=k.useContext(xke),w=zbt(r,h),E=c.indexOf(s),C=k.useMemo(()=>({sortable:{containerId:d,index:E,items:c},...i}),[d,i,E,c]),S=k.useMemo(()=>c.slice(c.indexOf(s)),[c,s]),{rect:T,node:A,isOver:D,setNodeRef:I}=vke({id:s,data:C,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...l}}),{active:P,activatorEvent:N,activeNodeRect:$,attributes:O,setNodeRef:j,listeners:B,isDragging:H,over:q,setActivatorNodeRef:Y,transform:V}=mbt({id:s,data:C,attributes:{...Lbt,...n},disabled:w.draggable}),L=rvt(I,j),U=!!P,z=U&&!m&&OD(f)&&OD(g),G=!y&&H,Q=G&&z?V:null,de=z?Q??(a??v)({rects:p,activeNodeRect:$,activeIndex:f,overIndex:g,index:E}):null,se=OD(f)&&OD(g)?o({id:s,items:c,activeIndex:f,overIndex:g}):E,ae=P?.id,he=k.useRef({activeId:ae,items:c,newIndex:se,containerId:d}),ie=c!==he.current.items,le=t({active:P,containerId:d,isDragging:H,isSorting:U,id:s,index:E,items:c,newIndex:he.current.newIndex,previousItems:he.current.items,previousContainerId:he.current.containerId,transition:u,wasDragging:he.current.activeId!=null}),Ce=jbt({disabled:!le,index:E,node:A,rect:T});return k.useEffect(()=>{U&&he.current.newIndex!==se&&(he.current.newIndex=se),d!==he.current.containerId&&(he.current.containerId=d),c!==he.current.items&&(he.current.items=c)},[U,se,d,c]),k.useEffect(()=>{if(ae===he.current.activeId)return;if(ae!=null&&he.current.activeId==null){he.current.activeId=ae;return}const fe=setTimeout(()=>{he.current.activeId=ae},50);return()=>clearTimeout(fe)},[ae]),{active:P,activeIndex:f,attributes:O,data:C,rect:T,index:E,newIndex:se,items:c,isOver:D,isSorting:U,isDragging:H,listeners:B,node:A,overIndex:g,over:q,setNodeRef:L,setActivatorNodeRef:Y,setDroppableNodeRef:I,setDraggableNodeRef:j,transform:Ce??de,transition:X()};function X(){if(Ce||ie&&he.current.newIndex===E)return Fbt;if(!(G&&!e5(N)||!u)&&(U||le))return fy.Transition.toString({...u,property:_ke})}}function zbt(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}li.Down,li.Right,li.Up,li.Left;const Ubt="_item_11oxa_1",Vbt="_itemDragging_11oxa_11",Nfe={item:Ubt,itemDragging:Vbt};function G0({item:e,index:t}){const{attributes:n,listeners:r,setNodeRef:i,transform:o,transition:s,isDragging:a}=Bbt({id:e.symbol}),l={transform:fy.Transform.toString(o),transition:s};return x.jsxs(Td,{ref:i,style:{...l,margin:"0 auto",minWidth:"200px"},className:$t(Nfe.item,{[Nfe.itemDragging]:a}),...n,...r,withBorder:!0,p:"sm",children:[t!==void 0&&x.jsx(Ve,{c:"dimmed",mr:"sm",children:t}),x.jsx(Ve,{children:e.label})]})}function lA({id:e,title:t,children:n}){const{setNodeRef:r,isOver:i}=vke({id:e});return x.jsxs(Td,{ref:r,style:{backgroundColor:i?"#f0f8ff":void 0,borderColor:i?"#4dabf7":void 0,maxWidth:"600px"},withBorder:!0,p:"sm",children:[x.jsx(Ve,{fw:500,ta:"center",mb:"sm",children:t}),n]})}const YQ=e=>e.map(t=>({id:typeof t=="string"?t:t.value,label:typeof t=="string"?t:t.label,symbol:typeof t=="string"?t:t.value})),KQ=(e,t)=>{const{setRankingAnswers:n}=Zi(),r=Po();return{sensors:yvt(_fe(VQ,{activationConstraint:{distance:5}}),_fe(zQ)),updateAnswer:s=>{t?.(s),r(n({responseId:e,values:s}))}}};function Hbt({options:e,responseId:t,answer:n,disabled:r,numItems:i,setError:o}){const{onChange:s}=n,{sensors:a,updateAnswer:l}=KQ(t,s),u=k.useMemo(()=>YQ(e),[e]),[c,d]=k.useState(null),f=k.useMemo(()=>{let v=[];return n?.value&&Object.keys(n.value).length>0&&(v=Object.entries(n.value).sort((E,C)=>parseInt(E[1],10)-parseInt(C[1],10)).map(([E])=>u.find(C=>C.id===E)).filter(Boolean),i&&i>0&&(v=v.slice(0,i))),{selected:v,unassigned:u.filter(w=>!v.find(E=>E.id===w.id))}},[u,n,i]),[h,m]=k.useState(f);k.useEffect(()=>{m(f)},[f]);const p=v=>{d(v.active.id)},g=v=>{if(d(null),r||!v.over)return;const w=v.active.id,E=v.over.id,C=h.selected.find(P=>P.symbol===w),S=h.unassigned.find(P=>P.symbol===w),T=E==="selected"||h.selected.find(P=>P.symbol===E),A=E==="unassigned",D={...h};if(C&&T){const P=h.selected.findIndex($=>$.symbol===w),N=E==="selected"?h.selected.length-1:h.selected.findIndex($=>$.symbol===E);D.selected=GQ(h.selected,P,N)}else if(S&&T){if(i&&h.selected.length>=i){o?.(`You can only add up to ${i} items.`);return}D.unassigned=h.unassigned.filter(P=>P.symbol!==w),D.selected=[...h.selected,S]}else if(C&&A)D.selected=h.selected.filter(P=>P.symbol!==w),D.unassigned=[...h.unassigned,C];else return;o?.(null),m(D);const I={};D.selected.forEach((P,N)=>{I[P.id]=N.toString()}),l(I)},y=c?u.find(v=>v.symbol===c):null;return x.jsxs(qQ,{sensors:a,collisionDetection:t5,onDragStart:p,onDragEnd:g,children:[x.jsxs(or,{gap:"md",w:"600px",mx:"auto",children:[x.jsxs(lA,{id:"selected",title:"",children:[x.jsx(Ve,{size:"md",fw:500,ta:"center",mb:"sm",children:"HIGH"}),x.jsx(aA,{items:h.selected.map(v=>v.symbol),strategy:sA,children:x.jsx(or,{children:h.selected.map((v,w)=>x.jsx(G0,{item:v,index:w+1},v.symbol))})}),x.jsx(Ve,{size:"md",fw:500,ta:"center",mt:"sm",children:"LOW"})]}),x.jsx(lA,{id:"unassigned",title:"Available Items",children:x.jsx(aA,{items:h.unassigned.map(v=>v.symbol),strategy:sA,children:x.jsx(or,{children:h.unassigned.map(v=>x.jsx(G0,{item:v},v.symbol))})})})]}),x.jsx(WQ,{children:y?x.jsx(G0,{item:y}):void 0})]})}function qbt({options:e,disabled:t,answer:n,responseId:r,numItems:i,setError:o}){const{onChange:s}=n,{sensors:a,updateAnswer:l}=KQ(r,s),u=k.useMemo(()=>YQ(e),[e]),[c,d]=k.useState(null),f=k.useMemo(()=>{const v={unassigned:[...u],HIGH:[],MEDIUM:[],LOW:[]};return n?.value&&Object.entries(n.value).forEach(([w,E])=>{const C=u.find(S=>S.id===w);C&&["HIGH","MEDIUM","LOW"].includes(E)&&(v[E].push(C),v.unassigned=v.unassigned.filter(S=>S.id!==w))}),v},[u,n]),[h,m]=k.useState(f);k.useEffect(()=>{m(f)},[f]);const p=v=>{d(v.active.id)},g=v=>{if(d(null),t||!v.over)return;const w=v.active.id,E=v.over.id,C=Object.keys(h).find(S=>h[S].find(T=>T.id===w));!C||C===E||["unassigned","HIGH","MEDIUM","LOW"].includes(E)&&m(S=>{const T=S[C].find(I=>I.id===w);if(!T)return S;if(E!=="unassigned"&&i&&S[E].length>=i)return o?.(`You can only add up to ${i} items.`),S;o?.(null);const A={...S};A[C]=A[C].filter(I=>I.id!==w),A[E]=[...A[E],T];const D={};return["HIGH","MEDIUM","LOW"].forEach(I=>{A[I].forEach(P=>{D[P.id]=I})}),l(D),A})},y=c?u.find(v=>v.id===c):null;return x.jsxs(qQ,{sensors:a,collisionDetection:t5,onDragStart:p,onDragEnd:g,children:[x.jsx(or,{gap:"md",w:"600px",mx:"auto",children:["HIGH","MEDIUM","LOW","unassigned"].map(v=>x.jsx(lA,{id:v,title:v==="unassigned"?"Available Items":v,children:x.jsx(aA,{items:h[v].map(w=>w.symbol),strategy:sA,children:x.jsx(or,{children:h[v].map(w=>x.jsx(G0,{item:w},w.symbol))})})},v))}),x.jsx(WQ,{children:y?x.jsx(G0,{item:y}):void 0})]})}function Wbt(e,t){const n={};Object.entries(e).forEach(([i,o])=>{const s=o.match(/^pair-(\d+)-(high|low)$/);if(s){const a=s[1],l=i.split("_")[0];n[a]||(n[a]=new Set),n[a].add(l)}});const r=[...n[t]||[]].sort().join("|");return r?Object.entries(n).some(([i,o])=>i!==t&&[...o].sort().join("|")===r):!1}function Gbt({options:e,disabled:t,answer:n,responseId:r,setError:i}){const{onChange:o}=n,{sensors:s,updateAnswer:a}=KQ(r,o),l=k.useMemo(()=>YQ(e),[e]),[u,c]=k.useState(["0"]),[d,f]=k.useState(null),[h,m]=k.useState(0),[p,g]=k.useState(1),{pairs:y,unassigned:v}=k.useMemo(()=>{const T={};return Object.entries(n?.value||{}).forEach(([A,D])=>{const I=D.match(/^pair-(\d+)-(high|low)$/);if(I){const[,P,N]=I;T[P]||(T[P]={high:[],low:[]}),T[P][N].push(A)}}),u.forEach(A=>{T[A]||(T[A]={high:[],low:[]})}),{pairs:T,unassigned:l}},[l,n,u]),w=T=>{f(T.active.id)},E=T=>{if(f(null),t||!T.over)return;const A=T.active.id,D=T.over.id,I={...n.value};if(D==="unassigned"){delete I[A],i?.(null),a(I);return}const P=!A.includes("_"),N=P?A:A.split("_")[0],$=D.match(/^pair-(\d+)-(high|low)$/);if($){const[,O,j]=$;if(Object.entries(I).filter(([V,L])=>L===D&&V!==A).length>=1){i?.("You can only place one item in each box.");return}const q=`pair-${O}-${j==="high"?"low":"high"}`;if(Object.entries(I).some(([V,L])=>{const U=V.split("_")[0];return L===q&&U===N})){const V=l.find(L=>L.id===N)?.label;i?.(`Item "${V}" cannot be in both HIGH and LOW.`);return}if(P){const V={...I,[`${A}_temp`]:D};if(Wbt(V,O)){i?.("This would create a duplicate pair.");return}}}P?(I[`${A}_${h}`]=D,m(O=>O+1)):(delete I[A],I[A]=D),i?.(null),a(I)},C=k.useMemo(()=>{if(!d)return null;const T=d.includes("_")?d.split("_")[0]:d;return l.find(A=>A.id===T)||null},[d,l]),S=T=>{if(t)return;const A={...n.value};Object.keys(A).forEach(D=>{A[D].startsWith(`pair-${T}-`)&&delete A[D]}),c(D=>D.filter(I=>I!==T)),i?.(null),a(A)};return x.jsxs(qQ,{sensors:s,collisionDetection:t5,onDragStart:w,onDragEnd:E,children:[x.jsx(At,{justify:"flex-end",mb:"md",children:x.jsx(Ut,{variant:"outline",onClick:()=>{t||(c(T=>[...T,p.toString()]),g(T=>T+1))},children:"Add New Pair"})}),x.jsxs(or,{gap:"md",w:"650px",mx:"auto",children:[Object.entries(y).map(([T,A])=>x.jsxs(Gn,{justify:"center",wrap:"nowrap",align:"flex",children:[["high","low"].map(D=>x.jsx(Ie,{style:{width:"300px"},children:x.jsx(lA,{id:`pair-${T}-${D}`,title:D.toUpperCase(),children:x.jsx(aA,{items:A[D],strategy:sA,children:x.jsx(or,{children:A[D].map(I=>{const P=I.split("_")[0],N=l.find($=>$.id===P);return N?x.jsx(G0,{item:{...N,id:P,symbol:I}},I):null})})})})},D)),x.jsx(Ut,{variant:"white",color:"red",size:"xs",onClick:()=>S(T),disabled:t,children:"X"})]},T)),x.jsx(lA,{id:"unassigned",title:"Available Items",children:x.jsx(aA,{items:v.map(T=>T.id),strategy:sA,children:x.jsx(or,{children:v.map(T=>x.jsx(G0,{item:T},T.id))})})})]}),x.jsx(WQ,{children:C?x.jsx(G0,{item:C}):void 0})]})}function Ybt({response:e,answer:t,index:n,disabled:r,enumerateQuestions:i}){const{prompt:o,required:s,options:a,secondaryText:l,infoText:u,numItems:c}=e,[d,f]=k.useState(null),h={disabled:r,options:a,answer:t,responseId:e.id,numItems:c};return x.jsxs(Ie,{children:[o.length>0&&x.jsx(gd,{prompt:o,required:s,index:n,enumerateQuestions:i,infoText:u}),l&&x.jsx(Ve,{c:"dimmed",size:"sm",mt:0,children:l}),d&&x.jsx(Ve,{c:s?"red":"orange",size:"sm",mt:"xs",children:d}),x.jsxs(Ie,{mt:"md",children:[e.type==="ranking-sublist"&&x.jsx(Hbt,{...h,setError:f}),e.type==="ranking-categorical"&&x.jsx(qbt,{...h,setError:f}),e.type==="ranking-pairwise"&&x.jsx(Gbt,{...h,setError:f})]})]})}const Kbt="_track_w59g7_1",Xbt="_fixDisabled_w59g7_11",Mfe={track:Kbt,fixDisabled:Xbt};function Qbt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,options:a,secondaryText:l,infoText:u,snap:c,step:d,withBar:f,tlxStyle:h,smeqStyle:m,spacing:p}=e,[g,y]=k.useMemo(()=>[Math.min(...a.map(P=>P.value)),Math.max(...a.map(P=>P.value))],[a]),v=a.some(P=>P.label!==""),w=lp(e,n),E=k.useMemo(()=>{const P=p??10**Math.floor(Math.log10((y-g)/10)),N=Math.ceil(g/P)*P,$=Math.floor((y-N)/P)+1;return Array.from({length:$},(O,j)=>N+j*P)},[g,y,p]),[C,S]=k.useState(n.value??(g+y)/2),T=(C-g)/(y-g),[A,D]=k.useState(!1),{ref:I}=uk(({y:P})=>{const N=Math.max(g,Math.min(y,g+(1-P)*(y-g))),$=d??(c?.001:(y-g)/100),O=Math.round((N-g)/$)*$+g;S(O),n?.onChange?.(O)});return x.jsx(Hr.Wrapper,{label:o.length>0&&x.jsx(gd,{prompt:o,required:s,index:r,enumerateQuestions:i,infoText:u}),description:l,error:w,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},errorProps:{c:s?"red":"orange"},children:m?x.jsx(Ie,{style:{overflow:"hidden"},children:x.jsxs(At,{direction:"row",align:"flex-start",gap:"sm",m:"md",justify:"center",wrap:"nowrap",children:[x.jsx(Ie,{style:{height:450,position:"relative",minWidth:30,textAlign:"right",flexShrink:0},children:E.map(P=>{const N=(P-g)/(y-g)*100;return x.jsx(Ie,{style:{position:"absolute",bottom:`${N}%`,fontSize:"var(--mantine-font-size-xs)",color:"var(--mantine-color-gray-7)",right:0,transform:"translateY(50%)"},children:P},P)})}),x.jsxs(Ie,{ref:I,style:{width:22,height:450,position:"relative",flexShrink:0},onMouseEnter:()=>D(!0),onMouseLeave:()=>D(!1),children:[x.jsx(Ie,{style:{position:"absolute",left:20,top:0,width:2,height:"100%",backgroundColor:"var(--mantine-color-gray-5)"}}),E.map(P=>{const N=(P-g)/(y-g)*100;return x.jsx(Ie,{style:{position:"absolute",bottom:`${N}%`,left:2,width:20,height:1,backgroundColor:"var(--mantine-color-gray-7)",transform:"translateY(50%)"}},P)}),a.map(P=>{const N=(P.value-g)/(y-g)*100;return x.jsx(Ie,{style:{position:"absolute",bottom:`${N}%`,left:P.label!==""?20:2,width:(P.label!=="",20),height:1,backgroundColor:"var(--mantine-color-gray-7)",transform:"translateY(50%)"}},P.value)}),x.jsx(Ie,{style:{backgroundColor:"var(--mantine-color-red-6)",width:20,height:1,border:"1px solid var(--mantine-color-red-6)",position:"absolute",bottom:`calc(${T*100}% - 1px)`},children:A&&x.jsx(Ie,{style:{position:"absolute",left:40,top:-10,transform:"translateX(-50%)",background:"var(--mantine-color-gray-8)",color:"white",fontSize:12,padding:"2px 6px",borderRadius:4},children:Math.round(C)})})]}),x.jsx(Ie,{style:{height:450,position:"relative",minWidth:200},children:a.map(P=>{if(!P.label)return null;const N=(P.value-g)/(y-g)*100;return x.jsx(Ie,{style:{fontSize:"var(--mantine-font-size-xs)",color:"var(--mantine-color-gray-7)",position:"absolute",bottom:`${N}%`,transform:"translateY(50%)",left:20},children:P.label},P.value)})})]})}):x.jsx(k$,{disabled:t,marks:[...E.map(P=>({value:P})),...a],min:g,max:y,step:d??(c?.001:(y-g)/100),h:v?40:void 0,...n,classNames:{track:h?Mfe.track:"",bar:Mfe.fixDisabled},restrictToMarks:c,label:P=>c?null:P,styles:P=>({mark:{...h?{height:20,width:1,marginTop:-6,marginLeft:2,borderRadius:0}:{},...f===!1?{borderColor:"var(--mantine-color-gray-2)"}:{}},bar:f===!1||h?{display:"none"}:{},markLabel:{fontSize:P.fontSizes.sm,color:P.colors.gray[7],transform:"translate(calc((var(--mark-offset) * -1) + (var(--slider-size) / 2)), calc(var(--mantine-spacing-xs) / 2)"},thumb:{...h?{borderColor:"var(--mantine-color-red-6)",width:1,borderWidth:1,height:22,borderRadius:0,backgroundColor:"var(--mantine-color-red-6)",transform:"translate(-50%, -62%)"}:{}}}),flex:1,mt:h?"sm":"xs"})})}function Jbt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,secondaryText:l,infoText:u}=e;return x.jsx($l,{disabled:t,placeholder:o,label:s.length>0&&x.jsx(gd,{prompt:s,required:a,index:r,enumerateQuestions:i,infoText:u}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:lp(e,n),withErrorStyles:a,errorProps:{c:a?"red":"orange"},classNames:{input:Qm.fixDisabled}})}function Zbt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,secondaryText:l,infoText:u}=e;return x.jsx(U2,{disabled:t,placeholder:o,label:s.length>0&&x.jsx(gd,{prompt:s,required:a,index:r,enumerateQuestions:i,infoText:u}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:lp(e,n),withErrorStyles:a,errorProps:{c:a?"red":"orange"},classNames:{input:Qm.fixDisabled}})}function e1t({_choices:e,_n:t,idx:n,question:r,answer:i,onChange:o,disabled:s}){return x.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(a=>x.jsx(tl,{disabled:s,checked:i.value[r].split("|").includes(a.value),onChange:l=>o(l,r,a),value:a.value,classNames:{input:rf.fixDisabled,icon:rf.fixDisabledIcon}},`${a.label}-${n}`))})}function t1t({_choices:e,_n:t,idx:n,question:r,response:i,answer:o,onChange:s,disabled:a}){return x.jsx(ol.Group,{name:`radioInput${i.id}-${n}`,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))",flex:1},onChange:l=>s(l,r),value:o.value[r],children:x.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(l=>x.jsx(ol,{disabled:a,value:l.value,classNames:{radio:d0.fixDisabled,icon:d0.fixDisabledIcon}},`${l.label}-${n}`))})},`${i.id}-${n}`)}function n1t({response:e,answer:t,index:n,disabled:r,enumerateQuestions:i}){const{setMatrixAnswersRadio:o,setMatrixAnswersCheckbox:s}=Zi(),a=Po(),{answerOptions:l,prompt:u,secondaryText:c,required:d,infoText:f}=e,m=typeof l=="string"?{likely5:["Highly Unlikely","Unlikely","Neutral","Likely","Highly Likely"],likely7:["Highly Unlikely","Unlikely","Slightly Unlikely","Neutral","Slightly Likely","Likely","Highly Likely"],satisfaction5:["Highly Unsatisfied","Unsatisfied","Neutral","Satisfied","Highly Satisfied"],satisfaction7:["Highly Unsatisfied","Unsatisfied","Slightly Unsatisfied","Neutral","Slightly Satisfied","Satisfied","Highly Satisfied"]}[l].map(S=>({value:S,label:S})):l.map(S=>typeof S=="string"?{value:S,label:S}:S),{questionOrders:p}=Gy(),g=k.useMemo(()=>p[e.id],[p,e.id]),y=(S,T)=>{const A={type:"radio",questionKey:T,val:S,responseId:e.id};a(o(A))},v=(S,T,A)=>{const D=S.target.checked,I={questionKey:T,responseId:e.id,value:A.value,label:A.label,isChecked:D,choiceOptions:m};a(s(I))},w=lp(e,t),E=m.length,C=g.length;return x.jsxs(x.Fragment,{children:[u.length>0&&x.jsx(gd,{prompt:u,required:d,index:n,enumerateQuestions:i,infoText:f}),x.jsx(Ve,{c:"dimmed",size:"sm",mt:0,children:c}),x.jsxs(Ie,{style:{display:"grid",gridTemplateColumns:"auto 1fr",gridTemplateRows:"auto 1fr"},m:"md",mt:"xs",children:[x.jsx("div",{style:{borderBottom:"1px solid var(--mantine-color-dark-0)",borderRight:"1px solid var(--mantine-color-dark-0)"}}),x.jsx("div",{style:{height:"100%",display:"grid",gridTemplateColumns:`repeat(${E}, 1fr)`,alignItems:"center",justifyItems:"center",borderBottom:"1px solid var(--mantine-color-dark-0)"},children:m.map((S,T)=>x.jsx(Ve,{style:{fontWeight:"bold",textAlign:"center",fontSize:"0.8em"},mb:"sm",ml:"xs",mr:"xs",children:S.label},`choice-${T}-label`))}),x.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${C}, 1fr)`},children:g.map((S,T)=>x.jsx(Ve,{style:{height:"80px",width:"100%",display:"flex",alignItems:"safe center",justifyContent:"end",borderRight:"1px solid var(--mantine-color-dark-0)",backgroundColor:`${(T+1)%2===0?"var(--mantine-color-gray-2)":"white"}`,overflowY:"auto"},ta:"right",p:"sm",miw:140,maw:400,children:S},`question-${T}-label`))}),x.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${C},1fr)`},children:g.map((S,T)=>x.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",backgroundColor:`${(T+1)%2===0?"var(--mantine-color-gray-2)":"white"}`},children:e.type==="matrix-radio"?x.jsx(t1t,{disabled:r,idx:T,question:S,answer:t,_choices:m,_n:E,onChange:y,response:e}):x.jsx(e1t,{disabled:r,idx:T,question:S,answer:t,_choices:m,_n:E,onChange:v})},`question-${T}`))})]}),w&&x.jsx(Ve,{c:d?"red":"orange",size:"sm",mt:"xs",children:w})]})}const r1t="_root_152zr_1",i1t={root:r1t};function o1t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,secondaryText:a,options:l,infoText:u}=e,c=Gy(),d=k.useMemo(()=>c?c.optionOrders:{},[c]),f=k.useMemo(()=>d[e.id]||l,[d,l,e.id]),h=k.useMemo(()=>lp(e,n,f),[e,n,f]);return x.jsx(fk,{children:x.jsx(ol.Group,{name:`radioInput${e.id}`,label:o.length>0&&x.jsx(gd,{prompt:o,required:s,index:r,enumerateQuestions:i,infoText:u}),description:a,...n,error:h,errorProps:{c:s?"red":"orange"},style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:x.jsx(At,{justify:"space-between",align:"center",gap:"xl",mt:"xs",children:f.map((m,p)=>x.jsx(ol.Card,{value:m.value,disabled:t,ta:"center",className:i1t.root,p:"xs",children:x.jsx(Ve,{children:m.label})},`radio-${p}`))})},e.id)})}function s1t({response:e}){const{prompt:t}=e;return x.jsx(At,{direction:"row",wrap:"nowrap",gap:4,children:x.jsx(Ie,{style:{display:"block"},className:"no-last-child-bottom-padding",children:x.jsx(ap,{text:t,required:!1})})})}const XQ=e=>{k.useEffect(()=>{if(!e)return()=>{};const t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=`${bo}${e}`,t.dataset.stylesheetPath=e,document.head.appendChild(t),()=>{t.parentNode&&t.parentNode.removeChild(t)}},[e])};function a1t({response:e,form:t,storedAnswer:n,index:r,config:i,dontKnowCheckbox:o,otherInput:s,disabled:a}){const l=Bu(),u=Eg(),c=fr(I=>I.sequence),d=k.useMemo(()=>md(c),[c]),f=Rc(),h=k.useMemo(()=>typeof f=="number"?d[f+1]:void 0,[f,d]),m=k.useMemo(()=>h?l.components[h]:void 0,[h,l]),p=fr(I=>I.completed),g=k.useMemo(()=>(u||Object.keys(n||{}).length>0&&!m?.previousButton||p?{value:n[e.id]}:t)||{value:void 0},[u,n,e.id,t,m?.previousButton,p]),y=(Object.keys(n||{}).length>0?{checked:n[`${e.id}-dontKnow`]}:o)||{checked:void 0},v=(Object.keys(n||{}).length>0?{value:n[`${e.id}-other`]}:s)||{value:void 0},w=Object.keys(n||{}).length>0||a||p,[E]=kc(),C=k.useMemo(()=>i?.enumerateQuestions??l.uiConfig.enumerateQuestions??!1,[i,l]);XQ(e.stylesheetPath);const S=k.useMemo(()=>{if(p)return!0;if(typeof f=="number"){const I=d[f];for(let P=0;P<c.components.length;P+=1){const N=c.components[P];if(typeof N=="string"&&N===I){if(P+1<c.components.length&&typeof c.components[P+1]!="string")return!1;break}}}if(typeof f=="number"&&f+1<d.length&&m?.previousButton)return!1;if(e.paramCapture){const I=E.get(e.paramCapture);return w||!!I}return w||a},[p,f,d,e.paramCapture,w,a,c.components,m?.previousButton,E]),T=k.useMemo(()=>e.paramCapture?E.get(e.paramCapture)||"":e.type==="reactive"||e.type==="checkbox"?[]:e.type==="matrix-radio"||e.type==="matrix-checkbox"?Object.fromEntries(e.questionOptions.map(I=>[I,""])):e.type==="slider"&&e.startingValue?e.startingValue.toString():"",[e.paramCapture,e.questionOptions,e.startingValue,e.type,E]),A=e.style||{},D=k.useMemo(()=>e.withDivider??i?.responseDividers??l.uiConfig.responseDividers,[e,i,l]);return x.jsxs(Ie,{mb:D?"xl":"lg",className:"response",id:e.id,style:A,children:[e.type==="numerical"&&x.jsx(nvt,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:C}),e.type==="shortText"&&x.jsx(Jbt,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:C}),e.type==="longText"&&x.jsx(Zbt,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:C}),e.type==="likert"&&x.jsx(tvt,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:C}),e.type==="dropdown"&&x.jsx(Xyt,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:C}),e.type==="slider"&&x.jsx(Qbt,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:C}),e.type==="radio"&&x.jsx(JAe,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:C,otherValue:v}),e.type==="checkbox"&&x.jsx(Kyt,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:C,otherValue:v}),(e.type==="ranking-sublist"||e.type==="ranking-categorical"||e.type==="ranking-pairwise")&&x.jsx(Ybt,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:C}),e.type==="reactive"&&x.jsx(Qyt,{response:e,answer:g,index:r,enumerateQuestions:C}),(e.type==="matrix-radio"||e.type==="matrix-checkbox")&&x.jsx(n1t,{disabled:S||o?.checked,response:e,answer:g,index:r,enumerateQuestions:C}),e.type==="buttons"&&x.jsx(o1t,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:C}),e.type==="textOnly"&&x.jsx(s1t,{response:e}),e.withDontKnow&&x.jsx(tl,{mt:"xs",disabled:S,label:"I don't know",classNames:{input:rf.fixDisabled,label:rf.fixDisabledLabel,icon:rf.fixDisabledIcon},...o,checked:y.checked,onChange:I=>{o?.onChange(I.currentTarget.checked),t.onChange(T)}}),(e.type==="divider"||D)&&x.jsx(TE,{mt:"xl",mb:"xs"})]})}function $fe({response:e,correctAnswer:t,alertConfig:n,identifier:r,attemptsUsed:i,trainingAttempts:o}){const s=Po(),{toggleShowHelpText:a,incrementHelpCounter:l}=Zi();return n[e.id]?.visible?x.jsxs(sd,{mb:"md",title:n[e.id].title,color:n[e.id].color,children:[n[e.id].message,n[e.id].message.includes("Please try again")&&x.jsxs(x.Fragment,{children:[x.jsx("br",{}),x.jsx("br",{}),"If you're unsure"," ",x.jsx(P1,{style:{fontSize:14},onClick:()=>{s(a()),s(l({identifier:r}))},children:"review the help text."})," "]}),x.jsx("br",{}),x.jsx("br",{}),i>=o&&o>=0&&t&&` The correct answer was: ${t}.`]}):null}function l1t(e,t){const n=[];for(const r of e)t.includes(r)&&n.push(r);return n}function YH({config:e,location:t,status:n,style:r}){const{storageEngine:i}=Mi(),o=Po(),{updateResponseBlockValidation:s,saveIncorrectAnswer:a}=Zi(),l=Rc(),u=fr(ie=>ie.analysisProvState[t]),c=k.useMemo(()=>u?.form||n?.answer,[u,n]),d=Gy(),f=k.useMemo(()=>d?.formOrder||{},[d]),h=pl(),m=k.useMemo(()=>f?.response?f.response.map(ie=>e?.response?.find(le=>le.id===ie)).filter(ie=>ie!==void 0):[],[e?.response,f]),p=k.useMemo(()=>m.filter(ie=>ie.location?ie.location===t:t==="belowStimulus"),[m,t]),g=k.useMemo(()=>p.map(ie=>ie.type!=="textOnly"&&ie.type!=="divider"?{...ie,required:ie.required===void 0?!0:ie.required}:ie),[p]),y=k.useMemo(()=>m.map(ie=>ie.type!=="textOnly"&&ie.type!=="divider"?{...ie,required:ie.required===void 0?!0:ie.required}:ie),[m]),{actions:v,trrack:w}=k.useMemo(()=>{const ie=zE.create(),le=ie.register("update",(X,fe)=>(X.form=fe,X)),Ce=Q$({registry:ie,initialState:{form:null}});return{actions:{updateFormAction:le},trrack:Ce}},[]),E=fr(ie=>ie.reactiveAnswers),C=fr(ie=>ie.matrixAnswers),S=fr(ie=>ie.rankingAnswers),T=fr(ie=>ie.trialValidation),A=Bu(),I=k.useMemo(()=>e?.provideFeedback??A.uiConfig.provideFeedback,[e,A])&&(e?.correctAnswer?.length||0)>0,P=k.useMemo(()=>e?.allowFailedTraining??A.uiConfig.allowFailedTraining??!0,[e,A]),[N,$]=k.useState(0),O=k.useMemo(()=>e?.trainingAttempts??A.uiConfig.trainingAttempts??2,[e,A]),[j,B]=k.useState(!1),[H,q]=k.useState(!1),V=N>=O&&O>=0||H,L=k.useMemo(()=>t===(e?.nextButtonLocation??A.uiConfig.nextButtonLocation??"belowStimulus"),[e,A,t]),U=Km(),z=Hyt(g,l,c||{});k.useEffect(()=>{c&&(z.setInitialValues(XAe(p,c)),z.reset(),s({location:t,identifier:U,status:z.isValid(),values:structuredClone(z.values),provenanceGraph:w.graph.backend}))},[p,c]),k.useEffect(()=>{const ie=g.find(le=>le.type==="reactive");if(E&&ie){const le=ie.id;z.setValues({...z.values,[le]:E[le]})}},[E]),k.useEffect(()=>{const ie=g.filter(X=>X.type==="matrix-radio"||X.type==="matrix-checkbox"),le=g.filter(X=>X.type==="ranking-sublist"||X.type==="ranking-categorical"||X.type==="ranking-pairwise"),Ce={...z.values};ie.forEach(X=>{const{id:fe}=X;Ce[fe]={...z.getInputProps(fe).value,...C[fe]}}),le.forEach(X=>{const{id:fe}=X;Ce[fe]={...z.getInputProps(fe).value,...S[fe]}}),z.setValues(Ce)},[C,S]),k.useEffect(()=>{w.apply("update",v.updateFormAction(structuredClone(z.values))),o(s({location:t,identifier:U,status:z.isValid(),values:structuredClone(z.values),provenanceGraph:w.graph.backend}))},[z.values,U,t,o,s]);const[G,Q]=k.useState(Object.fromEntries(y.map(ie=>[ie.id,{visible:!1,title:"Correct Answer",message:"The correct answer is: ",color:"green"}]))),te=(ie,le,Ce,X,fe)=>{Q(ce=>({...ce,[ie]:{visible:le,title:Ce,message:X,color:fe}}))},de=k.useCallback(()=>{const ie=N+1;$(ie);const le=structuredClone(T[U]),Ce=le?Object.values(le).reduce((fe,ce)=>Object.hasOwn(ce,"values")?{...fe,...ce.values}:fe,{}):{},X=Object.fromEntries(y.map(fe=>{const ce=e?.correctAnswer?.find(ee=>ee.id===fe.id)?.answer,ne=Ce[fe.id];return[fe.id,MQ(ne,ce)]}));I&&(y.forEach(fe=>{if(X[fe.id]&&!G[fe.id]?.message.includes("You've failed to answer this question correctly"))te(fe.id,!0,"Correct Answer","You have answered the question correctly.","green");else{o(a({question:U,identifier:fe.id,answer:Ce[fe.id]}));let ce="";if(O===-1?ce="Please try again.":ie>=O?(ce=`You didn't answer this question correctly after ${O} attempts. ${P?"You can continue to the next question.":"Unfortunately you have not met the criteria for continuing this study."}`,!P&&i&&i.rejectCurrentParticipant("Failed training").then(()=>{setTimeout(()=>{h("./../__trainingFailed")},5e3)}).catch(()=>{console.error("Failed to reject participant who failed training"),setTimeout(()=>{h("./../__trainingFailed")},5e3)})):O-ie===1?ce="Please try again. You have 1 attempt left.":ce=`Please try again. You have ${O-ie} attempts left.`,fe.type==="checkbox"){const ne=e?.correctAnswer?.find(Se=>Se.id===fe.id)?.answer,ee=Ce[fe.id],pe=l1t(ee,ne),Re=ne.length===pe.length&&ee.length>ne.length?"However, you have selected too many boxes. ":"";ce=`You have successfully checked ${pe.length}/${ne.length} correct boxes. ${Re}${ce}`}te(fe.id,!0,"Incorrect Answer",ce,"red")}}),q(Object.values(X).every(fe=>fe)),B(P&&ie>=O||Object.values(X).every(fe=>fe)&&ie<=O))},[N,y,e,I,O,P,i,h,U,o,G,a,T]),se=e?.nextOnEnter??A.uiConfig.nextOnEnter;k.useEffect(()=>{if(se){const ie=le=>{le.key==="Enter"&&de()};return window.addEventListener("keydown",ie),()=>{window.removeEventListener("keydown",ie)}}return()=>{}},[de,se]);const ae=k.useMemo(()=>e?.nextButtonText??A.uiConfig.nextButtonText??"Next",[e,A]);let he=0;return x.jsxs(x.Fragment,{children:[x.jsx(Ie,{className:`responseBlock responseBlock-${t}`,style:r,children:y.map(ie=>{const le=e.correctAnswer?.find(fe=>fe.id===ie.id)?.answer,Ce=Array.isArray(le)&&le.length>0?JSON.stringify(le):le,X=p.some(fe=>fe.id===ie.id);return X&&(ie.type!=="textOnly"?he+=1:ie.restartEnumeration&&(he=0)),x.jsx(dn.Fragment,{children:X?ie.hidden?"":x.jsxs(x.Fragment,{children:[x.jsx(a1t,{storedAnswer:c,form:{...z.getInputProps(ie.id,{type:ie.type==="checkbox"?"checkbox":"input"})},dontKnowCheckbox:{...z.getInputProps(`${ie.id}-dontKnow`,{type:"checkbox"})},otherInput:{...z.getInputProps(`${ie.id}-other`)},response:ie,index:he,config:e,disabled:V}),x.jsx($fe,{response:ie,correctAnswer:Ce,alertConfig:G,identifier:U,attemptsUsed:N,trainingAttempts:O})]}):x.jsx($fe,{response:ie,correctAnswer:Ce,alertConfig:G,identifier:U,attemptsUsed:N,trainingAttempts:O})},`${ie.id}-${l}`)})}),L&&x.jsx(Eyt,{disabled:I&&!j||!z.isValid(),label:ae,config:e,location:t,checkAnswer:L&&I?x.jsx(Ut,{disabled:H||N>=O&&O>=0,onClick:()=>de(),px:t==="sidebar"?8:void 0,children:"Check Answer"}):null})]})}const yS="@REVISIT_COMMS";function u1t({currentConfig:e,provState:t,answers:n}){const{setReactiveAnswers:r,updateResponseBlockValidation:i}=Zi(),o=Po(),s=N2e(),a=Km(),l=k.useRef(null),u=k.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),c=Wf(),d=k.useCallback((f,h)=>{l.current?.contentWindow?.postMessage({error:!1,type:`${yS}/${f}`,iframeId:u,message:h},"*")},[l,u]);return k.useEffect(()=>{t&&d("PROVENANCE",t)},[t,d]),k.useEffect(()=>{n&&d("ANSWERS",n)},[n,d]),k.useEffect(()=>{const f=h=>{const{data:m}=h;if(typeof m=="object"&&u===m.iframeId)switch(m.type){case`${yS}/WINDOW_READY`:e.parameters&&d("STUDY_DATA",e.parameters);break;case`${yS}/READY`:break;case`${yS}/ANSWERS`:o(r(m.message)),o(i({location:"stimulus",identifier:a,status:!0,values:m.message}));break;case`${yS}/PROVENANCE`:o(i({location:"stimulus",identifier:a,values:{},status:!0,provenanceGraph:m.message}));break}};return window.addEventListener("message",f),()=>window.removeEventListener("message",f)},[o,s,u,e,d,r,i,a]),x.jsx("iframe",{ref:l,style:{width:"100%",flexGrow:1,border:0},src:e.path.startsWith("http")?e.path:`${bo}${e.path}?trialid=${c}&id=${u}`})}async function i5(e){const n=await(await fetch(e)).text();if(!n.includes("<title>ReVISit</title>"))return n}async function c1t(e){const t=await fetch(`${bo}${e}`);let n;try{n=await t.json()}catch(r){console.error("Invalid JSON:",r)}return n}function Jm({email:e,path:t}){const n=Dd();return x.jsxs(yg,{fluid:!0,my:50,maw:800,mx:"auto",children:[x.jsx(Yr,{order:2,children:x.jsx(Ve,{span:!0,c:"orange",children:"404"})}),x.jsxs(Ve,{children:[x.jsx(Ve,{span:!0,fw:700,children:t||n.pathname})," ","not found."]}),x.jsx(ad,{h:"lg"}),x.jsxs(Za,{children:[x.jsx(Za.Item,{children:x.jsx(Ve,{children:"If you're trying to access your study please check the URL and verify that the global config file is correctly configured. Then try again."})}),x.jsx(Za.Item,{children:x.jsxs(Ve,{children:["If you're a participant, please contact the study administrator"," ",e&&x.jsxs(x.Fragment,{children:["at"," ",x.jsxs(P1,{c:"blue",href:`mailto:${e}`,children:[e," "]})]}),"."]})})]})]})}function d1t({currentConfig:e}){const t=k.useMemo(()=>e.path.startsWith("http")?e.path:`${bo}${e.path}`,[e.path]),[n,r]=k.useState(!0),[i,o]=k.useState(!1);return k.useEffect(()=>{async function s(){let a=await i5(t);a=a?.includes("File not found")?void 0:a,o(!!a),r(!1)}s()},[t]),n||i?x.jsx(vg,{mx:"auto",src:t}):x.jsx(Jm,{path:e.path})}class f1t extends dn.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?x.jsx(Ve,{children:this.state.error.toString()}):this.props.children}}const Ffe=Object.assign({"../public/libraries/adaptive-vlat/assets/VlatTrial.tsx":$2e,"../public/libraries/adaptive-vlat/assets/dynamic.tsx":j2e,"../public/libraries/adaptive-vlat/assets/utils.ts":L2e,"../public/libraries/adaptive-vlat/assets/vlatQ.tsx":M2e,"../public/libraries/berlin-num/assets/dynamic.tsx":B2e,"../public/libraries/mic-check/assets/AudioTest.tsx":z2e,"../public/libraries/screen-recording/assets/ScreenRecording.tsx":uAe,"../public/libraries/test/assets/test.tsx":cAe,"../public/libraries/virtual-chinrest/assets/ViewingDistanceCalibration.tsx":dAe,"../public/libraries/virtual-chinrest/assets/VirtualChinrestCalibration.tsx":fAe});function h1t({currentConfig:e,provState:t,answers:n}){const r=`../public/${e.path}`,i=r in Ffe?Ffe[r].default:null,o=Km(),s=Po(),{updateResponseBlockValidation:a,setReactiveAnswers:l}=Zi(),u=k.useCallback(({status:c,provenanceGraph:d,answers:f})=>{s(a({location:"stimulus",identifier:o,status:c,values:f,provenanceGraph:d})),s(l(f))},[l,s,a,o]);return x.jsx(k.Suspense,{fallback:x.jsx("div",{children:"Loading..."}),children:i?x.jsx(f1t,{children:x.jsx(i,{parameters:e.parameters,setAnswer:u,answers:n,provenanceState:t})}):x.jsx(Jm,{path:e.path})})}function p1t({currentConfig:e}){const[t,n]=k.useState(!0),[r,i]=k.useState(""),[o,s]=k.useState(!0);return k.useEffect(()=>{async function a(){const l=await i5(`${bo}${e.path}`);l!==void 0?i(l):n(!1),s(!1)}a()},[e.path]),o||t?x.jsx(ap,{text:r}):x.jsx(Jm,{path:e.path})}function Eke(){const e=Rc(),{setAlertModal:t}=Zi(),n=Po();k.useEffect(()=>{window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study.",title:"Prohibited"}))}},[e,t,n])}var Lfe=Object.prototype.hasOwnProperty;function jfe(e,t,n){for(n of e.keys())if(l2(n,t))return n}function l2(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&l2(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=jfe(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=jfe(t,i),!i)||!l2(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Lfe.call(e,n)&&++r&&!Lfe.call(t,n)||!(n in t)||!l2(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function m1t(e){var t=k.useRef(e),n=k.useRef(0);return l2(e,t.current)||(t.current=e,n.current+=1),k.useMemo(function(){return t.current},[n.current])}function g1t(e,t){return k.useEffect(e,m1t(t))}const hf=(e,t=null)=>{const[n,r]=k.useState("idle"),[i,o]=k.useState(null),[s,a]=k.useState(null),l=k.useRef(null),u=k.useRef(!1);k.useEffect(()=>(u.current=!0,()=>{u.current=!1}),[]);const c=k.useCallback((...d)=>{r("pending"),a(null);const f=Promise.resolve(e(...d)).then(h=>(u.current&&f===l.current&&(o(h),r("success")),h)).catch(h=>{throw u.current&&f===l.current&&(o(null),a(h),r("error")),h});return l.current=f,f},[e]);return g1t(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:s}};function QQ(e){const t=e.endTime===-1?void 0:e.endTime-e.startTime,n=(e.windowEvents||[]).filter(s=>s!==void 0).filter(([s,a,l])=>a==="visibility");let r=0,i=0;for(;i<n.length-1;){if(n[i][2]==="hidden"){for(let s=i+1;s<n.length;s+=1)if(n[s][2]==="visible"){r+=n[s][0]-n[i][0],i=s;break}}i+=1}return t?t-r:void 0}const y1t="_root_1spq0_1",v1t="_description_1spq0_9",b1t="_title_1spq0_10",w1t="_closeButton_1spq0_14",x1t={root:y1t,description:v1t,title:b1t,closeButton:w1t},uA=e=>{const{title:t,message:n,color:r}=e;$1.show({title:t,message:n,position:"top-center",classNames:x1t,color:r||"blue",autoClose:r==="red"||r==="yellow"?!1:5e3})},_1t=["status","rejectReason","rejectTime","percentComplete","description","instruction","responsePrompt","answer","correctAnswer","duration","cleanedDuration","meta","startTime","endTime","responseMin","responseMax","configHash"],Cke=["participantId","trialId","trialOrder","responseId"];function JQ(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function E1t(e,t,n){const r=(Object.entries(e.answers).filter(([o,s])=>s.endTime!==-1).length/Object.entries(e.answers).length*100).toFixed(2),i=new Set;return[[{participantId:e.participantId,trialId:"participantTags",trialOrder:null,responseId:"participantTags",answer:JSON.stringify(e.participantTags)},...Object.values(e.answers).map(o=>{const s=o.componentName,{trialOrder:a}=o,l=n.components[s],u=Bl(l,n),c=o.endTime===-1?void 0:o.endTime-o.startTime,d=QQ(o),f=Object.keys(o.answer).length===0?{"":void 0}:o.answer,h=Object.entries(f).map(([p,g])=>{const y={participantId:e.participantId,trialId:s,trialOrder:a,responseId:p};Object.entries(o.parameters).forEach(([w,E])=>{y[`parameters_${w}`]=E,i.add(`parameters_${w}`)});const v=u.response.find(w=>w.id===p);if(t.includes("status")&&(y.status=e.rejected?"rejected":e.completed?"completed":"in progress"),t.includes("rejectReason")&&(y.rejectReason=e.rejected?e.rejected.reason:void 0),t.includes("rejectTime")&&(y.rejectTime=e.rejected?new Date(e.rejected.timestamp).toISOString():void 0),t.includes("configHash")&&(y.configHash=e.participantConfigHash),t.includes("percentComplete")&&(y.percentComplete=r),t.includes("description")&&(y.description=u.description),t.includes("instruction")&&(y.instruction=u.instruction),t.includes("responsePrompt")&&(y.responsePrompt=v?.prompt),t.includes("answer")&&(y.answer=typeof g=="object"?JSON.stringify(g):g),t.includes("correctAnswer")){const w=u.correctAnswer?.find(S=>S.id===p)?.answer,C=o.correctAnswer.find(S=>S.id===p)?.answer||w;y.correctAnswer=typeof C=="object"?JSON.stringify(C):C}return t.includes("startTime")&&(y.startTime=new Date(o.startTime).toISOString()),t.includes("endTime")&&(y.endTime=new Date(o.endTime).toISOString()),t.includes("duration")&&(y.duration=c),t.includes("cleanedDuration")&&(y.cleanedDuration=d),t.includes("meta")&&(y.meta=JSON.stringify(u.meta,null,2)),t.includes("responseMin")&&(y.responseMin=v?.type==="numerical"?v.min:void 0),t.includes("responseMax")&&(y.responseMax=v?.type==="numerical"?v.max:void 0),y}).flat(),m={focus:o.windowEvents.filter(p=>p[1]==="focus").length,input:o.windowEvents.filter(p=>p[1]==="input").length,keydown:o.windowEvents.filter(p=>p[1]==="keydown").length,keyup:o.windowEvents.filter(p=>p[1]==="keyup").length,mousemove:o.windowEvents.filter(p=>p[1]==="mousemove").length,mousedown:o.windowEvents.filter(p=>p[1]==="mousedown").length,mouseup:o.windowEvents.filter(p=>p[1]==="mouseup").length,resize:o.windowEvents.filter(p=>p[1]==="resize").length,scroll:o.windowEvents.filter(p=>p[1]==="scroll").length,visibility:o.windowEvents.filter(p=>p[1]==="visibility").length};return h.push({participantId:e.participantId,trialId:s,trialOrder:a,responseId:"windowEvents",answer:JSON.stringify(m)}),h}).flat()],Array.from(i)]}async function C1t(e,t,n,r){if(!n)return{header:[],rows:[]};const i=[...Cke,...e],o=[...new Set(t.map(f=>f.participantConfigHash))],s=await n.getAllConfigsFromHash(o,r),a=i,l=await Promise.all(t.map(async f=>await E1t(f,i,s[f.participantConfigHash]))),u=l.map(f=>f[0]),c=new Set(l.map(f=>f[1]).flat()),d=u.flat().sort((f,h)=>f!==h?f.participantId.localeCompare(h.participantId):f.trialOrder-h.trialOrder);return{header:[...a,...c],rows:d}}function S1t({opened:e,close:t,filename:n,data:r,studyId:i}){const[o,s]=k.useState(["status","rejectReason","description","rejectTime","percentComplete","instruction","responsePrompt","answer","correctAnswer","duration","cleanedDuration"]),a=Mi(),{value:l,status:u,error:c}=hf(C1t,[o,r,a.storageEngine,i]),d=k.useCallback(()=>{if(!l)return;const m=[l.header.join(","),...l.rows.map(p=>l.header.map(g=>`"${`${p[g]}`.replace(/"/g,'""')}"`).join(","))].join(`
`);JQ(m,n)},[n,l]),f=k.useCallback(()=>{l&&(window.parent.postMessage({type:"revisitWidget/PYTHON_EXPORT_TIDY",payload:l},"*"),uA({title:"Success",message:"Data sent to python notebook",color:"green"}))},[l]),h=k.useMemo(()=>{if(!l)return"";const m=l.rows.length>5?5:l.rows.length,p=m===1?"":"s";return`This is a preview of the first ${p?m:""} row${p} of the CSV. The full CSV contains ${l.rows.length} row${p}.`},[l]);return x.jsxs(Ii,{opened:e,size:"90%",onClose:t,title:"Tidy CSV Exporter",centered:!0,withCloseButton:!1,children:[x.jsxs(Ie,{children:[x.jsx(Ve,{size:"sm",fw:500,mb:"xs",children:x.jsxs(At,{align:"center",gap:"xs",children:[x.jsx(lnt,{size:16}),"Optional columns:"]})}),x.jsx(At,{wrap:"wrap",gap:"4px",children:_1t.map(m=>{const p=o.includes(m);return x.jsx(Ut,{variant:p?"light":"white",color:p?"blue":"gray",size:"xs",onClick:()=>{s(p?o.filter(y=>y!==m):[...o,m])},styles:{root:{fontSize:"14px",height:"auto",padding:"4px 8px",borderRadius:"6px"}},children:m},m)})})]}),x.jsx(ad,{h:"md"}),x.jsxs(Ie,{h:400,style:{width:"100%",overflow:"scroll"},children:[u==="success"&&l?x.jsxs(En,{striped:!0,captionSide:"bottom",withTableBorder:!0,children:[x.jsx(En.Thead,{children:x.jsx(En.Tr,{children:l.header.map(m=>x.jsx(En.Th,{style:{whiteSpace:"nowrap",minWidth:["description","instruction","participantId"].includes(m)?200:void 0},children:x.jsxs(At,{direction:"row",justify:"space-between",align:"center",children:[m,!Cke.includes(m)&&x.jsx(Cn,{onClick:()=>s(o.filter(p=>p!==m)),style:{marginBottom:-3,marginLeft:8},variant:"subtle",color:"gray",children:x.jsx(Gm,{size:16})})]})},m))})}),x.jsx(En.Tbody,{children:l.rows.slice(0,5).map((m,p)=>x.jsx(En.Tr,{children:l.header.map(g=>x.jsx(En.Td,{style:{whiteSpace:["description","instruction","participantId"].includes(g)?"normal":"nowrap"},children:m[g]},`${p}-${g}`))},p))})]}):u==="error"&&c?x.jsx(sd,{variant:"light",children:c.message}):null,x.jsx(ql,{visible:u==="pending"||u==="idle"})]}),x.jsx(ad,{h:"sm"}),x.jsx(At,{justify:"center",fz:"sm",c:"dimmed",children:x.jsx(Ve,{children:h})}),x.jsx(ad,{h:"md"}),x.jsxs(Gn,{justify:"right",children:[x.jsx(Ut,{onClick:t,color:"dark",variant:"subtle",children:"Close"}),x.jsx(Ut,{leftSection:x.jsx(kSe,{}),onClick:d,"data-autofocus":!0,children:"Download"}),i==="__revisit-widget"&&x.jsx(Ut,{onClick:f,children:x.jsx(qet,{})})]})]})}function T1t(){const e=Bu(),{storageEngine:t}=Mi(),n=Po(),{setParticipantCompleted:r}=Zi(),i=Eg(),[o,s]=k.useState(!1);k.useEffect(()=>{if(i){s(!0);return}n(r(!0));const C=setInterval(async()=>{await t.verifyCompletion()&&(s(!0),clearInterval(C))},2e3)},[]),Eke();const[a,l]=k.useState(),[u,c]=k.useState(""),d=e.studyMetadata.title.replace(" ","_");k.useEffect(()=>{async function C(){if(t){const S=await t.getCurrentParticipantId(),T=await t.getParticipantData();c(S),l(T)}}C()},[t]);const f=k.useCallback(async()=>{JQ(JSON.stringify(a,null,2),`${d}_${u}.json`)},[d,a,u]),h=e.uiConfig.autoDownloadStudy||!1,m=h&&e.uiConfig.autoDownloadTime||-1,[p,g]=k.useState(Math.floor(m/1e3));k.useEffect(()=>{if(o){const C=setInterval(()=>{g(S=>S-1)},1e3);return p<=0?(h&&f(),clearInterval(C),()=>clearInterval(C)):()=>clearInterval(C)}return()=>{}},[h,o,p,f]);const y=qf(),[v,w]=k.useState(!1);k.useEffect(()=>{(async()=>{if(t){const S=await t.getModes(y);w(S.dataCollectionEnabled)}})()},[t,y]);const E=k.useMemo(()=>{const{studyEndMsg:C,urlParticipantIdParam:S}=e.uiConfig;return!S||!C?.includes("{PARTICIPANT_ID}")?C:C.replace(/\{PARTICIPANT_ID\}/g,()=>u)},[e,u]);return x.jsx(Iu,{style:{height:"100%"},children:x.jsx(At,{direction:"column",children:o||!v?E?x.jsx(ap,{text:E}):x.jsx(Ve,{size:"xl",display:"block",children:"Thank you for completing the study. You may close this window now."}):x.jsxs(x.Fragment,{children:[x.jsx(Ve,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),x.jsx(ad,{h:"lg"}),x.jsx(Iu,{children:x.jsx(Uf,{color:"blue"})})]})})})}function A1t(){return x.jsx(Ve,{children:"Thank you for participating. Unfortunately you have didn't answer the training correctly, which means you are not eligible to participate in the study. You may close this window now."})}function k1t(){return x.jsx(Ve,{children:"Thank you for participating. Unfortunately, you have not answered the questions within the given time limit. Because of this, you are no longer eligible to participate in the study. You may close this window now."})}const Bfe={};function KH(e,t){e===void 0&&(e=Bfe),t===void 0&&(t=Bfe);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}var R1t=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),I1t=Object.prototype.hasOwnProperty;function XH(e,t){return I1t.call(e,t)}function QH(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)XH(e,i)&&r.push(i);return r}function ac(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function JH(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Qv(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Ske(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function ZH(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(ZH(e[t]))return!0}else if(typeof e=="object"){for(var r=QH(e),i=r.length,o=0;o<i;o++)if(ZH(e[r[o]]))return!0}}return!1}function zfe(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var Tke=(function(e){R1t(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,zfe(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=zfe(n,{name:r,index:i,operation:o,tree:s}),l}return t})(Error),To=Tke,D1t=ac,Dx={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=A4(n,this.path);r&&(r=ac(r));var i=kb(n,{op:"remove",path:this.from}).removed;return kb(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=A4(n,this.from);return kb(n,{op:"add",path:this.path,value:ac(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:cA(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},P1t={add:function(e,t,n){return JH(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Dx.move,copy:Dx.copy,test:Dx.test,_get:Dx._get};function A4(e,t){if(t=="")return e;var n={op:"_get",path:t};return kb(e,n),n.value}function kb(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):k4(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=A4(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=cA(e,t.value),s.test===!1)throw new To("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new To("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=ac(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,f=void 0,h=void 0,m=void 0;for(typeof n=="function"?m=n:m=k4;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=Ske(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(u[h]===void 0?f=l.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&m(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!JH(h))throw new To("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);JH(h)&&(h=~~h)}if(c>=d){if(n&&t.op==="add"&&h>u.length)throw new To("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=P1t[t.op].call(t,u,h,e);if(s.test===!1)throw new To("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=d){var s=Dx[t.op].call(t,u,h,e);if(s.test===!1)throw new To("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[h],n&&c<d&&(!u||typeof u!="object"))throw new To("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function o5(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new To("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=ac(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=kb(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function O1t(e,t,n){var r=kb(e,t);if(r.test===!1)throw new To("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function k4(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new To("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Dx[e.op]){if(typeof e.path!="string")throw new To("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new To('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new To("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new To("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&ZH(e.value))throw new To("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new To("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new To("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=Ake([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new To("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new To("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function Ake(e,t,n){try{if(!Array.isArray(e))throw new To("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)o5(ac(t),ac(e),n||!0);else{n=n||k4;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof To)return i;throw i}}function cA(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!cA(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!cA(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const N1t=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:To,_areEquals:cA,applyOperation:kb,applyPatch:o5,applyReducer:O1t,deepClone:D1t,getValueByPointer:A4,validate:Ake,validator:k4},Symbol.toStringTag,{value:"Module"}));var ZQ=new WeakMap,M1t=(function(){function e(t){this.observers=new Map,this.obj=t}return e})(),$1t=(function(){function e(t,n){this.callback=t,this.observer=n}return e})();function F1t(e){return ZQ.get(e)}function L1t(e,t){return e.observers.get(t)}function j1t(e,t){e.observers.delete(t.callback)}function B1t(e,t){t.unobserve()}function z1t(e,t){var n=[],r,i=F1t(e);if(!i)i=new M1t(e),ZQ.set(e,i);else{var o=L1t(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=ac(e),t){r.callback=t,r.next=null;var s=function(){eq(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){eq(r),clearTimeout(r.next),j1t(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new $1t(t,r)),r}function eq(e,t){t===void 0&&(t=!1);var n=ZQ.get(e.object);eJ(n.value,e.object,e.patches,"",t),e.patches.length&&o5(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function eJ(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=QH(t),s=QH(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(XH(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?eJ(c,d,n,r+"/"+Qv(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+Qv(u),value:ac(c)}),n.push({op:"replace",path:r+"/"+Qv(u),value:ac(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Qv(u),value:ac(c)}),n.push({op:"remove",path:r+"/"+Qv(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!XH(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+Qv(u),value:ac(t[u])})}}}function U1t(e,t,n){n===void 0&&(n=!1);var r=[];return eJ(e,t,r,"",n),r}const V1t=Object.freeze(Object.defineProperty({__proto__:null,compare:U1t,generate:eq,observe:z1t,unobserve:B1t},Symbol.toStringTag,{value:"Module"}));Object.assign({},N1t,V1t,{JsonPatchError:Tke,deepClone:ac,escapePathComponent:Qv,unescapePathComponent:Ske});var b9,Ufe;function H1t(){if(Ufe)return b9;Ufe=1;var e=/("(?:[^\\"]|\\.)*")|[:,]/g;return b9=function(n,r){var i,o,s;return r=r||{},i=JSON.stringify([1],void 0,r.indent===void 0?2:r.indent).slice(2,-3),o=i===""?1/0:r.maxLength===void 0?80:r.maxLength,s=r.replacer,(function a(l,u,c){var d,f,h,m,p,g,y,v,w,E,C,S;if(l&&typeof l.toJSON=="function"&&(l=l.toJSON()),C=JSON.stringify(l,s),C===void 0)return C;if(y=o-u.length-c,C.length<=y&&(w=C.replace(e,function(T,A){return A||T+" "}),w.length<=y))return w;if(s!=null&&(l=JSON.parse(C),s=void 0),typeof l=="object"&&l!==null){if(v=u+i,h=[],f=0,Array.isArray(l))for(E="[",d="]",y=l.length;f<y;f++)h.push(a(l[f],v,f===y-1?0:1)||"null");else for(E="{",d="}",g=Object.keys(l),y=g.length;f<y;f++)m=g[f],p=JSON.stringify(m)+": ",S=a(l[m],v,p.length+(f===y-1?0:1)),S!==void 0&&h.push(p+S);if(h.length>0)return[E,i+h.join(`,
`+v),d].join(`
`+u)}return C})(n,"",0)},b9}var q1t=H1t();const w9=ms(q1t);var MD={exports:{}},x9,Vfe;function s5(){if(Vfe)return x9;Vfe=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return x9={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},x9}var _9,Hfe;function a5(){if(Hfe)return _9;Hfe=1;var e={};return _9=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},_9}var qfe;function qk(){return qfe||(qfe=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=s5(),o=a5();t=e.exports={};const s=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.safeSrc=[],c=t.t={};let d=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,r]],m=g=>{for(const[y,v]of h)g=g.split(`${y}*`).join(`${y}{0,${v}}`).split(`${y}+`).join(`${y}{1,${v}}`);return g},p=(g,y,v)=>{const w=m(y),E=d++;o(g,E,y),c[g]=E,l[E]=y,u[E]=w,s[E]=new RegExp(y,v?"g":void 0),a[E]=new RegExp(w,v?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),p("FULL",`^${l[c.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),p("LOOSE",`^${l[c.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),p("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",l[c.COERCE],!0),p("COERCERTLFULL",l[c.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(MD,MD.exports)),MD.exports}var E9,Wfe;function tJ(){if(Wfe)return E9;Wfe=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return E9=r=>r?typeof r!="object"?e:r:t,E9}var C9,Gfe;function kke(){if(Gfe)return C9;Gfe=1;const e=/^[0-9]+$/,t=(r,i)=>{const o=e.test(r),s=e.test(i);return o&&s&&(r=+r,i=+i),r===i?0:o&&!s?-1:s&&!o?1:r<i?-1:1};return C9={compareIdentifiers:t,rcompareIdentifiers:(r,i)=>t(i,r)},C9}var S9,Yfe;function Jl(){if(Yfe)return S9;Yfe=1;const e=a5(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=s5(),{safeRe:r,t:i}=qk(),o=tJ(),{compareIdentifiers:s}=kke();class a{constructor(u,c){if(c=o(c),u instanceof a){if(u.loose===!!c.loose&&u.includePrerelease===!!c.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",u,c),this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease;const d=u.trim().match(c.loose?r[i.LOOSE]:r[i.FULL]);if(!d)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(f=>{if(/^[0-9]+$/.test(f)){const h=+f;if(h>=0&&h<n)return h}return f}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(e("SemVer.compare",this.version,this.options,u),!(u instanceof a)){if(typeof u=="string"&&u===this.version)return 0;u=new a(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof a||(u=new a(u,this.options)),s(this.major,u.major)||s(this.minor,u.minor)||s(this.patch,u.patch)}comparePre(u){if(u instanceof a||(u=new a(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let c=0;do{const d=this.prerelease[c],f=u.prerelease[c];if(e("prerelease compare",c,d,f),d===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(d===void 0)return-1;if(d===f)continue;return s(d,f)}while(++c)}compareBuild(u){u instanceof a||(u=new a(u,this.options));let c=0;do{const d=this.build[c],f=u.build[c];if(e("build compare",c,d,f),d===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(d===void 0)return-1;if(d===f)continue;return s(d,f)}while(++c)}inc(u,c,d){if(u.startsWith("pre")){if(!c&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(c){const f=`-${c}`.match(this.options.loose?r[i.PRERELEASELOOSE]:r[i.PRERELEASE]);if(!f||f[1]!==c)throw new Error(`invalid identifier: ${c}`)}}switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",c,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",c,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",c,d),this.inc("pre",c,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",c,d),this.inc("pre",c,d);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const f=Number(d)?1:0;if(this.prerelease.length===0)this.prerelease=[f];else{let h=this.prerelease.length;for(;--h>=0;)typeof this.prerelease[h]=="number"&&(this.prerelease[h]++,h=-2);if(h===-1){if(c===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(f)}}if(c){let h=[c,f];d===!1&&(h=[c]),s(this.prerelease[0],c)===0?isNaN(this.prerelease[1])&&(this.prerelease=h):this.prerelease=h}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return S9=a,S9}var T9,Kfe;function qE(){if(Kfe)return T9;Kfe=1;const e=Jl();return T9=(n,r,i=!1)=>{if(n instanceof e)return n;try{return new e(n,r)}catch(o){if(!i)return null;throw o}},T9}var A9,Xfe;function W1t(){if(Xfe)return A9;Xfe=1;const e=qE();return A9=(n,r)=>{const i=e(n,r);return i?i.version:null},A9}var k9,Qfe;function G1t(){if(Qfe)return k9;Qfe=1;const e=qE();return k9=(n,r)=>{const i=e(n.trim().replace(/^[=v]+/,""),r);return i?i.version:null},k9}var R9,Jfe;function Y1t(){if(Jfe)return R9;Jfe=1;const e=Jl();return R9=(n,r,i,o,s)=>{typeof i=="string"&&(s=o,o=i,i=void 0);try{return new e(n instanceof e?n.version:n,i).inc(r,o,s).version}catch{return null}},R9}var I9,Zfe;function K1t(){if(Zfe)return I9;Zfe=1;const e=qE();return I9=(n,r)=>{const i=e(n,null,!0),o=e(r,null,!0),s=i.compare(o);if(s===0)return null;const a=s>0,l=a?i:o,u=a?o:i,c=!!l.prerelease.length;if(!!u.prerelease.length&&!c){if(!u.patch&&!u.minor)return"major";if(u.compareMain(l)===0)return u.minor&&!u.patch?"minor":"patch"}const f=c?"pre":"";return i.major!==o.major?f+"major":i.minor!==o.minor?f+"minor":i.patch!==o.patch?f+"patch":"prerelease"},I9}var D9,ehe;function X1t(){if(ehe)return D9;ehe=1;const e=Jl();return D9=(n,r)=>new e(n,r).major,D9}var P9,the;function Q1t(){if(the)return P9;the=1;const e=Jl();return P9=(n,r)=>new e(n,r).minor,P9}var O9,nhe;function J1t(){if(nhe)return O9;nhe=1;const e=Jl();return O9=(n,r)=>new e(n,r).patch,O9}var N9,rhe;function Z1t(){if(rhe)return N9;rhe=1;const e=qE();return N9=(n,r)=>{const i=e(n,r);return i&&i.prerelease.length?i.prerelease:null},N9}var M9,ihe;function Gf(){if(ihe)return M9;ihe=1;const e=Jl();return M9=(n,r,i)=>new e(n,i).compare(new e(r,i)),M9}var $9,ohe;function ewt(){if(ohe)return $9;ohe=1;const e=Gf();return $9=(n,r,i)=>e(r,n,i),$9}var F9,she;function twt(){if(she)return F9;she=1;const e=Gf();return F9=(n,r)=>e(n,r,!0),F9}var L9,ahe;function nJ(){if(ahe)return L9;ahe=1;const e=Jl();return L9=(n,r,i)=>{const o=new e(n,i),s=new e(r,i);return o.compare(s)||o.compareBuild(s)},L9}var j9,lhe;function nwt(){if(lhe)return j9;lhe=1;const e=nJ();return j9=(n,r)=>n.sort((i,o)=>e(i,o,r)),j9}var B9,uhe;function rwt(){if(uhe)return B9;uhe=1;const e=nJ();return B9=(n,r)=>n.sort((i,o)=>e(o,i,r)),B9}var z9,che;function l5(){if(che)return z9;che=1;const e=Gf();return z9=(n,r,i)=>e(n,r,i)>0,z9}var U9,dhe;function rJ(){if(dhe)return U9;dhe=1;const e=Gf();return U9=(n,r,i)=>e(n,r,i)<0,U9}var V9,fhe;function Rke(){if(fhe)return V9;fhe=1;const e=Gf();return V9=(n,r,i)=>e(n,r,i)===0,V9}var H9,hhe;function Ike(){if(hhe)return H9;hhe=1;const e=Gf();return H9=(n,r,i)=>e(n,r,i)!==0,H9}var q9,phe;function iJ(){if(phe)return q9;phe=1;const e=Gf();return q9=(n,r,i)=>e(n,r,i)>=0,q9}var W9,mhe;function oJ(){if(mhe)return W9;mhe=1;const e=Gf();return W9=(n,r,i)=>e(n,r,i)<=0,W9}var G9,ghe;function Dke(){if(ghe)return G9;ghe=1;const e=Rke(),t=Ike(),n=l5(),r=iJ(),i=rJ(),o=oJ();return G9=(a,l,u,c)=>{switch(l){case"===":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a===u;case"!==":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a!==u;case"":case"=":case"==":return e(a,u,c);case"!=":return t(a,u,c);case">":return n(a,u,c);case">=":return r(a,u,c);case"<":return i(a,u,c);case"<=":return o(a,u,c);default:throw new TypeError(`Invalid operator: ${l}`)}},G9}var Y9,yhe;function iwt(){if(yhe)return Y9;yhe=1;const e=Jl(),t=qE(),{safeRe:n,t:r}=qk();return Y9=(o,s)=>{if(o instanceof e)return o;if(typeof o=="number"&&(o=String(o)),typeof o!="string")return null;s=s||{};let a=null;if(!s.rtl)a=o.match(s.includePrerelease?n[r.COERCEFULL]:n[r.COERCE]);else{const h=s.includePrerelease?n[r.COERCERTLFULL]:n[r.COERCERTL];let m;for(;(m=h.exec(o))&&(!a||a.index+a[0].length!==o.length);)(!a||m.index+m[0].length!==a.index+a[0].length)&&(a=m),h.lastIndex=m.index+m[1].length+m[2].length;h.lastIndex=-1}if(a===null)return null;const l=a[2],u=a[3]||"0",c=a[4]||"0",d=s.includePrerelease&&a[5]?`-${a[5]}`:"",f=s.includePrerelease&&a[6]?`+${a[6]}`:"";return t(`${l}.${u}.${c}${d}${f}`,s)},Y9}var K9,vhe;function owt(){if(vhe)return K9;vhe=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(n,r)}return this}}return K9=e,K9}var X9,bhe;function Yf(){if(bhe)return X9;bhe=1;const e=/\s+/g;class t{constructor(j,B){if(B=i(B),j instanceof t)return j.loose===!!B.loose&&j.includePrerelease===!!B.includePrerelease?j:new t(j.raw,B);if(j instanceof o)return this.raw=j.value,this.set=[[j]],this.formatted=void 0,this;if(this.options=B,this.loose=!!B.loose,this.includePrerelease=!!B.includePrerelease,this.raw=j.trim().replace(e," "),this.set=this.raw.split("||").map(H=>this.parseRange(H.trim())).filter(H=>H.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const H=this.set[0];if(this.set=this.set.filter(q=>!p(q[0])),this.set.length===0)this.set=[H];else if(this.set.length>1){for(const q of this.set)if(q.length===1&&g(q[0])){this.set=[q];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let j=0;j<this.set.length;j++){j>0&&(this.formatted+="||");const B=this.set[j];for(let H=0;H<B.length;H++)H>0&&(this.formatted+=" "),this.formatted+=B[H].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(j){const H=((this.options.includePrerelease&&h)|(this.options.loose&&m))+":"+j,q=r.get(H);if(q)return q;const Y=this.options.loose,V=Y?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];j=j.replace(V,N(this.options.includePrerelease)),s("hyphen replace",j),j=j.replace(l[u.COMPARATORTRIM],c),s("comparator trim",j),j=j.replace(l[u.TILDETRIM],d),s("tilde trim",j),j=j.replace(l[u.CARETTRIM],f),s("caret trim",j);let L=j.split(" ").map(Q=>v(Q,this.options)).join(" ").split(/\s+/).map(Q=>P(Q,this.options));Y&&(L=L.filter(Q=>(s("loose invalid filter",Q,this.options),!!Q.match(l[u.COMPARATORLOOSE])))),s("range list",L);const U=new Map,z=L.map(Q=>new o(Q,this.options));for(const Q of z){if(p(Q))return[Q];U.set(Q.value,Q)}U.size>1&&U.has("")&&U.delete("");const G=[...U.values()];return r.set(H,G),G}intersects(j,B){if(!(j instanceof t))throw new TypeError("a Range is required");return this.set.some(H=>y(H,B)&&j.set.some(q=>y(q,B)&&H.every(Y=>q.every(V=>Y.intersects(V,B)))))}test(j){if(!j)return!1;if(typeof j=="string")try{j=new a(j,this.options)}catch{return!1}for(let B=0;B<this.set.length;B++)if($(this.set[B],j,this.options))return!0;return!1}}X9=t;const n=owt(),r=new n,i=tJ(),o=u5(),s=a5(),a=Jl(),{safeRe:l,t:u,comparatorTrimReplace:c,tildeTrimReplace:d,caretTrimReplace:f}=qk(),{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:m}=s5(),p=O=>O.value==="<0.0.0-0",g=O=>O.value==="",y=(O,j)=>{let B=!0;const H=O.slice();let q=H.pop();for(;B&&H.length;)B=H.every(Y=>q.intersects(Y,j)),q=H.pop();return B},v=(O,j)=>(s("comp",O,j),O=S(O,j),s("caret",O),O=E(O,j),s("tildes",O),O=A(O,j),s("xrange",O),O=I(O,j),s("stars",O),O),w=O=>!O||O.toLowerCase()==="x"||O==="*",E=(O,j)=>O.trim().split(/\s+/).map(B=>C(B,j)).join(" "),C=(O,j)=>{const B=j.loose?l[u.TILDELOOSE]:l[u.TILDE];return O.replace(B,(H,q,Y,V,L)=>{s("tilde",O,H,q,Y,V,L);let U;return w(q)?U="":w(Y)?U=`>=${q}.0.0 <${+q+1}.0.0-0`:w(V)?U=`>=${q}.${Y}.0 <${q}.${+Y+1}.0-0`:L?(s("replaceTilde pr",L),U=`>=${q}.${Y}.${V}-${L} <${q}.${+Y+1}.0-0`):U=`>=${q}.${Y}.${V} <${q}.${+Y+1}.0-0`,s("tilde return",U),U})},S=(O,j)=>O.trim().split(/\s+/).map(B=>T(B,j)).join(" "),T=(O,j)=>{s("caret",O,j);const B=j.loose?l[u.CARETLOOSE]:l[u.CARET],H=j.includePrerelease?"-0":"";return O.replace(B,(q,Y,V,L,U)=>{s("caret",O,q,Y,V,L,U);let z;return w(Y)?z="":w(V)?z=`>=${Y}.0.0${H} <${+Y+1}.0.0-0`:w(L)?Y==="0"?z=`>=${Y}.${V}.0${H} <${Y}.${+V+1}.0-0`:z=`>=${Y}.${V}.0${H} <${+Y+1}.0.0-0`:U?(s("replaceCaret pr",U),Y==="0"?V==="0"?z=`>=${Y}.${V}.${L}-${U} <${Y}.${V}.${+L+1}-0`:z=`>=${Y}.${V}.${L}-${U} <${Y}.${+V+1}.0-0`:z=`>=${Y}.${V}.${L}-${U} <${+Y+1}.0.0-0`):(s("no pr"),Y==="0"?V==="0"?z=`>=${Y}.${V}.${L}${H} <${Y}.${V}.${+L+1}-0`:z=`>=${Y}.${V}.${L}${H} <${Y}.${+V+1}.0-0`:z=`>=${Y}.${V}.${L} <${+Y+1}.0.0-0`),s("caret return",z),z})},A=(O,j)=>(s("replaceXRanges",O,j),O.split(/\s+/).map(B=>D(B,j)).join(" ")),D=(O,j)=>{O=O.trim();const B=j.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return O.replace(B,(H,q,Y,V,L,U)=>{s("xRange",O,H,q,Y,V,L,U);const z=w(Y),G=z||w(V),Q=G||w(L),te=Q;return q==="="&&te&&(q=""),U=j.includePrerelease?"-0":"",z?q===">"||q==="<"?H="<0.0.0-0":H="*":q&&te?(G&&(V=0),L=0,q===">"?(q=">=",G?(Y=+Y+1,V=0,L=0):(V=+V+1,L=0)):q==="<="&&(q="<",G?Y=+Y+1:V=+V+1),q==="<"&&(U="-0"),H=`${q+Y}.${V}.${L}${U}`):G?H=`>=${Y}.0.0${U} <${+Y+1}.0.0-0`:Q&&(H=`>=${Y}.${V}.0${U} <${Y}.${+V+1}.0-0`),s("xRange return",H),H})},I=(O,j)=>(s("replaceStars",O,j),O.trim().replace(l[u.STAR],"")),P=(O,j)=>(s("replaceGTE0",O,j),O.trim().replace(l[j.includePrerelease?u.GTE0PRE:u.GTE0],"")),N=O=>(j,B,H,q,Y,V,L,U,z,G,Q,te)=>(w(H)?B="":w(q)?B=`>=${H}.0.0${O?"-0":""}`:w(Y)?B=`>=${H}.${q}.0${O?"-0":""}`:V?B=`>=${B}`:B=`>=${B}${O?"-0":""}`,w(z)?U="":w(G)?U=`<${+z+1}.0.0-0`:w(Q)?U=`<${z}.${+G+1}.0-0`:te?U=`<=${z}.${G}.${Q}-${te}`:O?U=`<${z}.${G}.${+Q+1}-0`:U=`<=${U}`,`${B} ${U}`.trim()),$=(O,j,B)=>{for(let H=0;H<O.length;H++)if(!O[H].test(j))return!1;if(j.prerelease.length&&!B.includePrerelease){for(let H=0;H<O.length;H++)if(s(O[H].semver),O[H].semver!==o.ANY&&O[H].semver.prerelease.length>0){const q=O[H].semver;if(q.major===j.major&&q.minor===j.minor&&q.patch===j.patch)return!0}return!1}return!0};return X9}var Q9,whe;function u5(){if(whe)return Q9;whe=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,d){if(d=n(d),c instanceof t){if(c.loose===!!d.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),s("comparator",c,d),this.options=d,this.loose=!!d.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(c){const d=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],f=c.match(d);if(!f)throw new TypeError(`Invalid comparator: ${c}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(s("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return o(c,this.operator,this.semver,this.options)}intersects(c,d){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,d).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,d).test(c.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||o(this.semver,"<",c.semver,d)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||o(this.semver,">",c.semver,d)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}Q9=t;const n=tJ(),{safeRe:r,t:i}=qk(),o=Dke(),s=a5(),a=Jl(),l=Yf();return Q9}var J9,xhe;function c5(){if(xhe)return J9;xhe=1;const e=Yf();return J9=(n,r,i)=>{try{r=new e(r,i)}catch{return!1}return r.test(n)},J9}var Z9,_he;function swt(){if(_he)return Z9;_he=1;const e=Yf();return Z9=(n,r)=>new e(n,r).set.map(i=>i.map(o=>o.value).join(" ").trim().split(" ")),Z9}var e7,Ehe;function awt(){if(Ehe)return e7;Ehe=1;const e=Jl(),t=Yf();return e7=(r,i,o)=>{let s=null,a=null,l=null;try{l=new t(i,o)}catch{return null}return r.forEach(u=>{l.test(u)&&(!s||a.compare(u)===-1)&&(s=u,a=new e(s,o))}),s},e7}var t7,Che;function lwt(){if(Che)return t7;Che=1;const e=Jl(),t=Yf();return t7=(r,i,o)=>{let s=null,a=null,l=null;try{l=new t(i,o)}catch{return null}return r.forEach(u=>{l.test(u)&&(!s||a.compare(u)===1)&&(s=u,a=new e(s,o))}),s},t7}var n7,She;function uwt(){if(She)return n7;She=1;const e=Jl(),t=Yf(),n=l5();return n7=(i,o)=>{i=new t(i,o);let s=new e("0.0.0");if(i.test(s)||(s=new e("0.0.0-0"),i.test(s)))return s;s=null;for(let a=0;a<i.set.length;++a){const l=i.set[a];let u=null;l.forEach(c=>{const d=new e(c.semver.version);switch(c.operator){case">":d.prerelease.length===0?d.patch++:d.prerelease.push(0),d.raw=d.format();case"":case">=":(!u||n(d,u))&&(u=d);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),u&&(!s||n(s,u))&&(s=u)}return s&&i.test(s)?s:null},n7}var r7,The;function cwt(){if(The)return r7;The=1;const e=Yf();return r7=(n,r)=>{try{return new e(n,r).range||"*"}catch{return null}},r7}var i7,Ahe;function sJ(){if(Ahe)return i7;Ahe=1;const e=Jl(),t=u5(),{ANY:n}=t,r=Yf(),i=c5(),o=l5(),s=rJ(),a=oJ(),l=iJ();return i7=(c,d,f,h)=>{c=new e(c,h),d=new r(d,h);let m,p,g,y,v;switch(f){case">":m=o,p=a,g=s,y=">",v=">=";break;case"<":m=s,p=l,g=o,y="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(c,d,h))return!1;for(let w=0;w<d.set.length;++w){const E=d.set[w];let C=null,S=null;if(E.forEach(T=>{T.semver===n&&(T=new t(">=0.0.0")),C=C||T,S=S||T,m(T.semver,C.semver,h)?C=T:g(T.semver,S.semver,h)&&(S=T)}),C.operator===y||C.operator===v||(!S.operator||S.operator===y)&&p(c,S.semver))return!1;if(S.operator===v&&g(c,S.semver))return!1}return!0},i7}var o7,khe;function dwt(){if(khe)return o7;khe=1;const e=sJ();return o7=(n,r,i)=>e(n,r,">",i),o7}var s7,Rhe;function fwt(){if(Rhe)return s7;Rhe=1;const e=sJ();return s7=(n,r,i)=>e(n,r,"<",i),s7}var a7,Ihe;function hwt(){if(Ihe)return a7;Ihe=1;const e=Yf();return a7=(n,r,i)=>(n=new e(n,i),r=new e(r,i),n.intersects(r,i)),a7}var l7,Dhe;function pwt(){if(Dhe)return l7;Dhe=1;const e=c5(),t=Gf();return l7=(n,r,i)=>{const o=[];let s=null,a=null;const l=n.sort((f,h)=>t(f,h,i));for(const f of l)e(f,r,i)?(a=f,s||(s=f)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);const u=[];for(const[f,h]of o)f===h?u.push(f):!h&&f===l[0]?u.push("*"):h?f===l[0]?u.push(`<=${h}`):u.push(`${f} - ${h}`):u.push(`>=${f}`);const c=u.join(" || "),d=typeof r.raw=="string"?r.raw:String(r);return c.length<d.length?c:r},l7}var u7,Phe;function mwt(){if(Phe)return u7;Phe=1;const e=Yf(),t=u5(),{ANY:n}=t,r=c5(),i=Gf(),o=(d,f,h={})=>{if(d===f)return!0;d=new e(d,h),f=new e(f,h);let m=!1;e:for(const p of d.set){for(const g of f.set){const y=l(p,g,h);if(m=m||y!==null,y)continue e}if(m)return!1}return!0},s=[new t(">=0.0.0-0")],a=[new t(">=0.0.0")],l=(d,f,h)=>{if(d===f)return!0;if(d.length===1&&d[0].semver===n){if(f.length===1&&f[0].semver===n)return!0;h.includePrerelease?d=s:d=a}if(f.length===1&&f[0].semver===n){if(h.includePrerelease)return!0;f=a}const m=new Set;let p,g;for(const A of d)A.operator===">"||A.operator===">="?p=u(p,A,h):A.operator==="<"||A.operator==="<="?g=c(g,A,h):m.add(A.semver);if(m.size>1)return null;let y;if(p&&g){if(y=i(p.semver,g.semver,h),y>0)return null;if(y===0&&(p.operator!==">="||g.operator!=="<="))return null}for(const A of m){if(p&&!r(A,String(p),h)||g&&!r(A,String(g),h))return null;for(const D of f)if(!r(A,String(D),h))return!1;return!0}let v,w,E,C,S=g&&!h.includePrerelease&&g.semver.prerelease.length?g.semver:!1,T=p&&!h.includePrerelease&&p.semver.prerelease.length?p.semver:!1;S&&S.prerelease.length===1&&g.operator==="<"&&S.prerelease[0]===0&&(S=!1);for(const A of f){if(C=C||A.operator===">"||A.operator===">=",E=E||A.operator==="<"||A.operator==="<=",p){if(T&&A.semver.prerelease&&A.semver.prerelease.length&&A.semver.major===T.major&&A.semver.minor===T.minor&&A.semver.patch===T.patch&&(T=!1),A.operator===">"||A.operator===">="){if(v=u(p,A,h),v===A&&v!==p)return!1}else if(p.operator===">="&&!r(p.semver,String(A),h))return!1}if(g){if(S&&A.semver.prerelease&&A.semver.prerelease.length&&A.semver.major===S.major&&A.semver.minor===S.minor&&A.semver.patch===S.patch&&(S=!1),A.operator==="<"||A.operator==="<="){if(w=c(g,A,h),w===A&&w!==g)return!1}else if(g.operator==="<="&&!r(g.semver,String(A),h))return!1}if(!A.operator&&(g||p)&&y!==0)return!1}return!(p&&E&&!g&&y!==0||g&&C&&!p&&y!==0||T||S)},u=(d,f,h)=>{if(!d)return f;const m=i(d.semver,f.semver,h);return m>0?d:m<0||f.operator===">"&&d.operator===">="?f:d},c=(d,f,h)=>{if(!d)return f;const m=i(d.semver,f.semver,h);return m<0?d:m>0||f.operator==="<"&&d.operator==="<="?f:d};return u7=o,u7}var c7,Ohe;function gwt(){if(Ohe)return c7;Ohe=1;const e=qk(),t=s5(),n=Jl(),r=kke(),i=qE(),o=W1t(),s=G1t(),a=Y1t(),l=K1t(),u=X1t(),c=Q1t(),d=J1t(),f=Z1t(),h=Gf(),m=ewt(),p=twt(),g=nJ(),y=nwt(),v=rwt(),w=l5(),E=rJ(),C=Rke(),S=Ike(),T=iJ(),A=oJ(),D=Dke(),I=iwt(),P=u5(),N=Yf(),$=c5(),O=swt(),j=awt(),B=lwt(),H=uwt(),q=cwt(),Y=sJ(),V=dwt(),L=fwt(),U=hwt(),z=pwt(),G=mwt();return c7={parse:i,valid:o,clean:s,inc:a,diff:l,major:u,minor:c,patch:d,prerelease:f,compare:h,rcompare:m,compareLoose:p,compareBuild:g,sort:y,rsort:v,gt:w,lt:E,eq:C,neq:S,gte:T,lte:A,cmp:D,coerce:I,Comparator:P,Range:N,satisfies:$,toComparators:O,maxSatisfying:j,minSatisfying:B,minVersion:H,validRange:q,outside:Y,gtr:V,ltr:L,intersects:U,simplifyRange:z,subset:G,SemVer:n,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},c7}var Pke=gwt();function zu(e,t,n){return e.fields=t||[],e.fname=n,e}function Io(e){return e==null?null:e.fname}function sl(e){return e==null?null:e.fields}function Oke(e){return e.length===1?ywt(e[0]):vwt(e)}const ywt=e=>function(t){return t[e]},vwt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function it(e){throw Error(e)}function d5(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?u():s=a+1:l==="["?(a>s&&u(),i=s=a+1):l==="]"&&(i||it("Access path missing open bracket: "+e),i>0&&u(),i=0,s=a+1)}return i&&it("Access path missing closing bracket: "+e),r&&it("Access path missing closing quote: "+e),a>s&&(a++,u()),t}function yd(e,t,n){const r=d5(e);return e=r.length===1?r[0]:e,zu((n&&n.get||Oke)(r),[e],t||e)}const Wk=yd("id"),Wl=zu(e=>e,[],"identity"),_0=zu(()=>0,[],"zero"),WE=zu(()=>1,[],"one"),vd=zu(()=>!0,[],"true"),a0=zu(()=>!1,[],"false"),Nke=new Set([...Object.getOwnPropertyNames(Object.prototype).filter(e=>typeof Object.prototype[e]=="function"),"__proto__"]);function bwt(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const Mke=0,aJ=1,$ke=2,Fke=3,Lke=4;function jke(e,t,n=bwt){let r=e||Mke;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=aJ&&n(t||"error","ERROR",arguments),this},warn(){return r>=$ke&&n(t||"warn","WARN",arguments),this},info(){return r>=Fke&&n(t||"log","INFO",arguments),this},debug(){return r>=Lke&&n(t||"log","DEBUG",arguments),this}}}var fn=Array.isArray;function Jn(e){return e===Object(e)}const Nhe=e=>e!=="__proto__";function f5(...e){return e.reduce((t,n)=>{for(const r in n)if(r==="signals")t.signals=wwt(t.signals,n.signals);else{const i=r==="legend"?{layout:1}:r==="style"?!0:null;h5(t,r,n[r],i)}return t},{})}function h5(e,t,n,r){if(!Nhe(t))return;let i,o;if(Jn(n)&&!fn(n)){o=Jn(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?h5(o,i,n[i]):Nhe(i)&&(o[i]=n[i])}else e[t]=n}function wwt(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function Mr(e){return e[e.length-1]}function rl(e){return e==null||e===""?null:+e}const Bke=e=>t=>e*Math.exp(t),zke=e=>t=>Math.log(e*t),Uke=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),Vke=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,R4=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function p5(e,t,n,r){const i=n(e[0]),o=n(Mr(e)),s=(o-i)*t;return[r(i-s),r(o-s)]}function Hke(e,t){return p5(e,t,rl,Wl)}function qke(e,t){var n=Math.sign(e[0]);return p5(e,t,zke(n),Bke(n))}function Wke(e,t,n){return p5(e,t,R4(n),R4(1/n))}function Gke(e,t,n){return p5(e,t,Uke(n),Vke(n))}function m5(e,t,n,r,i){const o=r(e[0]),s=r(Mr(e)),a=t!=null?r(t):(o+s)/2;return[i(a+(o-a)*n),i(a+(s-a)*n)]}function lJ(e,t,n){return m5(e,t,n,rl,Wl)}function uJ(e,t,n){const r=Math.sign(e[0]);return m5(e,t,n,zke(r),Bke(r))}function I4(e,t,n,r){return m5(e,t,n,R4(r),R4(1/r))}function cJ(e,t,n,r){return m5(e,t,n,Uke(r),Vke(r))}function Yke(e){return 1+~~(new Date(e).getMonth()/3)}function Kke(e){return 1+~~(new Date(e).getUTCMonth()/3)}function _n(e){return e!=null?fn(e)?e:[e]:[]}function Xke(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function cr(e){return typeof e=="function"}const xwt="descending";function dJ(e,t,n){n=n||{},t=_n(t)||[];const r=[],i=[],o={},s=n.comparator||_wt;return _n(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===xwt?-1:1),i.push(a=cr(a)?a:yd(a,null,n)),(sl(a)||[]).forEach(u=>o[u]=1))}),i.length===0?null:zu(s(i,r),Object.keys(o))}const Gk=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),_wt=(e,t)=>e.length===1?Ewt(e[0],t[0]):Cwt(e,t,e.length),Ewt=(e,t)=>function(n,r){return Gk(e(n),e(r))*t},Cwt=(e,t,n)=>(t.push(0),function(r,i){let o,s=0,a=-1;for(;s===0&&++a<n;)o=e[a],s=Gk(o(r),o(i));return s*t[a]});function fl(e){return cr(e)?e:()=>e}function fJ(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function ur(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function up(e,t){let n=0,r,i,o,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(o=s=i;n<r;++n)i=e[n],i!=null&&(i<o&&(o=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(o=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<o&&(o=i),i>s&&(s=i))}return[o,s]}function Qke(e,t){const n=e.length;let r=-1,i,o,s,a,l;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=e[r],o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=t(e[r],r,e),o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}return[a,l]}function Nn(e,t){return Object.hasOwn(e,t)}const $D={};function GE(e){let t={},n;function r(o){return Nn(t,o)&&t[o]!==$D}const i={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,s){return r(o)||(++i.size,t[o]===$D&&--i.empty),t[o]=s,this},delete(o){return r(o)&&(--i.size,++i.empty,t[o]=$D),this},clear(){i.size=i.empty=0,i.object=t={}},test(o){return arguments.length?(n=o,i):n},clean(){const o={};let s=0;for(const a in t){const l=t[a];l!==$D&&(!n||!n(l))&&(o[a]=l,++s)}i.size=s,i.empty=0,i.object=t=o}};return e&&Object.keys(e).forEach(o=>{i.set(o,e[o])}),i}function Jke(e,t,n,r,i,o){if(!n&&n!==0)return o;const s=+n;let a=e[0],l=Mr(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=s?r:c<=s?i:o}function Pt(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),ur(r,n)}function Px(e,t,n,r){let i=t[0],o=t[t.length-1],s;return i>o&&(s=i,i=o,o=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=o:e<o)}function hJ(e){return typeof e=="boolean"}function Y0(e){return Object.prototype.toString.call(e)==="[object Date]"}function Zke(e){return e&&cr(e[Symbol.iterator])}function hy(e){return typeof e=="number"}function pJ(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function ni(e){return typeof e=="string"}function mJ(e,t,n){e&&(e=t?_n(e).map(a=>a.replace(/\\(.)/g,"$1")):_n(e));const r=e&&e.length,i=n&&n.get||Oke,o=a=>i(t?[a]:d5(a));let s;if(!r)s=function(){return""};else if(r===1){const a=o(e[0]);s=function(l){return""+a(l)}}else{const a=e.map(o);s=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return zu(s,e,"key")}function eRe(e,t){const n=e[0],r=Mr(e),i=+t;return i?i===1?r:n+i*(r-n):n}const Swt=1e4;function tRe(e){e=+e||Swt;let t,n,r;const i=()=>{t={},n={},r=0},o=(s,a)=>(++r>e&&(n=t,t={},r=1),t[s]=a);return i(),{clear:i,has:s=>Nn(t,s)||Nn(n,s),get:s=>Nn(t,s)?t[s]:Nn(n,s)?o(s,n[s]):void 0,set:(s,a)=>Nn(t,s)?t[s]=a:o(s,a)}}function nRe(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const s=r||new t.constructor(i+o);let a=0,l=0,u=0;for(;a<i&&l<o;++u)s[u]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++u)s[u]=t[a];for(;l<o;++l,++u)s[u]=n[l];return s}function pT(e,t){let n="";for(;--t>=0;)n+=e;return n}function rRe(e,t,n,r){const i=n||" ",o=e+"",s=t-o.length;return s<=0?o:r==="left"?pT(i,s)+o:r==="center"?pT(i,~~(s/2))+o+pT(i,Math.ceil(s/2)):o+pT(i,s)}function Yk(e){return e&&Mr(e)-e[0]||0}function cn(e){return fn(e)?`[${e.map(t=>t===null?"null":cn(t))}]`:Jn(e)||ni(e)?JSON.stringify(e).replaceAll("\u2028","\\u2028").replaceAll("\u2029","\\u2029"):e}function gJ(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const Twt=e=>hy(e)||Y0(e)?e:Date.parse(e);function yJ(e,t){return t=t||Twt,e==null||e===""?null:t(e)}function vJ(e){return e==null||e===""?null:e+""}function Pf(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function iRe(e,t,n,r){const i=r??"",o=e+"",s=o.length,a=Math.max(0,t-i.length);return s<=t?o:n==="left"?i+o.slice(s-a):n==="center"?o.slice(0,Math.ceil(a/2))+i+o.slice(s-~~(a/2)):o.slice(0,a)+i}function h0(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const o=t(e[i]);o&&n(o,i,e)}}else e.forEach(n)}var Mhe={},d7={},f7=34,vS=10,h7=13;function oRe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Awt(e,t){var n=oRe(e);return function(r,i){return t(n(r),i,e)}}function $he(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function pu(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function kwt(e){return e<0?"-"+pu(-e,6):e>9999?"+"+pu(e,6):pu(e,4)}function Rwt(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":kwt(e.getUTCFullYear())+"-"+pu(e.getUTCMonth()+1,2)+"-"+pu(e.getUTCDate(),2)+(i?"T"+pu(t,2)+":"+pu(n,2)+":"+pu(r,2)+"."+pu(i,3)+"Z":r?"T"+pu(t,2)+":"+pu(n,2)+":"+pu(r,2)+"Z":n||t?"T"+pu(t,2)+":"+pu(n,2)+"Z":"")}function Iwt(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(d,f){var h,m,p=i(d,function(g,y){if(h)return h(g,y-1);m=g,h=f?Awt(g,f):oRe(g)});return p.columns=m||[],p}function i(d,f){var h=[],m=d.length,p=0,g=0,y,v=m<=0,w=!1;d.charCodeAt(m-1)===vS&&--m,d.charCodeAt(m-1)===h7&&--m;function E(){if(v)return d7;if(w)return w=!1,Mhe;var S,T=p,A;if(d.charCodeAt(T)===f7){for(;p++<m&&d.charCodeAt(p)!==f7||d.charCodeAt(++p)===f7;);return(S=p)>=m?v=!0:(A=d.charCodeAt(p++))===vS?w=!0:A===h7&&(w=!0,d.charCodeAt(p)===vS&&++p),d.slice(T+1,S-1).replace(/""/g,'"')}for(;p<m;){if((A=d.charCodeAt(S=p++))===vS)w=!0;else if(A===h7)w=!0,d.charCodeAt(p)===vS&&++p;else if(A!==n)continue;return d.slice(T,S)}return v=!0,d.slice(T,m)}for(;(y=E())!==d7;){for(var C=[];y!==Mhe&&y!==d7;)C.push(y),y=E();f&&(C=f(C,g++))==null||h.push(C)}return h}function o(d,f){return d.map(function(h){return f.map(function(m){return c(h[m])}).join(e)})}function s(d,f){return f==null&&(f=$he(d)),[f.map(c).join(e)].concat(o(d,f)).join(`
`)}function a(d,f){return f==null&&(f=$he(d)),o(d,f).join(`
`)}function l(d){return d.map(u).join(`
`)}function u(d){return d.map(c).join(e)}function c(d){return d==null?"":d instanceof Date?Rwt(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}function Dwt(e){return e}function Pwt(e){if(e==null)return Dwt;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,l){l||(t=n=0);var u=2,c=a.length,d=new Array(c);for(d[0]=(t+=a[0])*r+o,d[1]=(n+=a[1])*i+s;u<c;)d[u]=a[u],++u;return d}}function Owt(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function Nwt(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return Fhe(e,n)})}:Fhe(e,t)}function Fhe(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=sRe(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function sRe(e,t){var n=Pwt(e.transform),r=e.arcs;function i(c,d){d.length&&d.pop();for(var f=r[c<0?~c:c],h=0,m=f.length;h<m;++h)d.push(n(f[h],h));c<0&&Owt(d,m)}function o(c){return n(c)}function s(c){for(var d=[],f=0,h=c.length;f<h;++f)i(c[f],d);return d.length<2&&d.push(d[0]),d}function a(c){for(var d=s(c);d.length<4;)d.push(d[0]);return d}function l(c){return c.map(a)}function u(c){var d=c.type,f;switch(d){case"GeometryCollection":return{type:d,geometries:c.geometries.map(u)};case"Point":f=o(c.coordinates);break;case"MultiPoint":f=c.coordinates.map(o);break;case"LineString":f=s(c.arcs);break;case"MultiLineString":f=c.arcs.map(s);break;case"Polygon":f=l(c.arcs);break;case"MultiPolygon":f=c.arcs.map(l);break;default:return null}return{type:d,coordinates:f}}return u(t)}function Mwt(e,t){var n={},r={},i={},o=[],s=-1;t.forEach(function(u,c){var d=e.arcs[u<0?~u:u],f;d.length<3&&!d[1][0]&&!d[1][1]&&(f=t[++s],t[s]=u,t[c]=f)}),t.forEach(function(u){var c=a(u),d=c[0],f=c[1],h,m;if(h=i[d])if(delete i[h.end],h.push(u),h.end=f,m=r[f]){delete r[m.start];var p=m===h?h:h.concat(m);r[p.start=h.start]=i[p.end=m.end]=p}else r[h.start]=i[h.end]=h;else if(h=r[f])if(delete r[h.start],h.unshift(u),h.start=d,m=i[d]){delete i[m.end];var g=m===h?h:m.concat(h);r[g.start=m.start]=i[g.end=h.end]=g}else r[h.start]=i[h.end]=h;else h=[u],r[h.start=d]=i[h.end=f]=h});function a(u){var c=e.arcs[u<0?~u:u],d=c[0],f;return e.transform?(f=[0,0],c.forEach(function(h){f[0]+=h[0],f[1]+=h[1]})):f=c[c.length-1],u<0?[f,d]:[d,f]}function l(u,c){for(var d in u){var f=u[d];delete c[f.start],delete f.start,delete f.end,f.forEach(function(h){n[h<0?~h:h]=1}),o.push(f)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function $wt(e){return sRe(e,Fwt.apply(this,arguments))}function Fwt(e,t,n){var r,i,o;if(arguments.length>1)r=Lwt(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:Mwt(e,r)}}function Lwt(e,t,n){var r=[],i=[],o;function s(d){var f=d<0?~d:d;(i[f]||(i[f]=[])).push({i:d,g:o})}function a(d){d.forEach(s)}function l(d){d.forEach(a)}function u(d){d.forEach(l)}function c(d){switch(o=d,d.type){case"GeometryCollection":d.geometries.forEach(c);break;case"LineString":a(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":u(d.arcs);break}}return c(t),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}function Dm(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jwt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function YE(e){let t,n,r;e.length!==2?(t=Dm,n=(a,l)=>Dm(e(a),l),r=(a,l)=>e(a)-l):(t=e===Dm||e===jwt?e:Bwt,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function Bwt(){return 0}function aRe(e){return e===null?NaN:+e}function*zwt(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const lRe=YE(Dm),py=lRe.right,Uwt=lRe.left;YE(aRe).center;function Vwt(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function Hwt(e,t){const n=Vwt(e,t);return n&&Math.sqrt(n)}function uRe(e,t){let n,r;for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class zl{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[r++]=a),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}class Lhe extends Map{constructor(t,n=fRe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(tq(this,t))}has(t){return super.has(tq(this,t))}set(t,n){return super.set(cRe(this,t),n)}delete(t){return super.delete(dRe(this,t))}}class D4 extends Set{constructor(t,n=fRe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(tq(this,t))}add(t){return super.add(cRe(this,t))}delete(t){return super.delete(dRe(this,t))}}function tq({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function cRe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function dRe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function fRe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function qwt(e,t){return Array.from(t,n=>e[n])}function Wwt(e=Dm){if(e===Dm)return hRe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function hRe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Gwt=Math.sqrt(50),Ywt=Math.sqrt(10),Kwt=Math.sqrt(2);function P4(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Gwt?10:o>=Ywt?5:o>=Kwt?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?P4(e,t,n*2):[a,l,u]}function nq(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?P4(t,e,n):P4(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function rq(e,t,n){return t=+t,e=+e,n=+n,P4(e,t,n)[2]}function my(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?rq(t,e,n):rq(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Rb(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function iq(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function pRe(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?hRe:Wwt(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*d/l+f)),m=Math.min(r,Math.floor(t+(l-u)*d/l+f));pRe(e,t,h,m,i)}const o=e[t];let s=n,a=r;for(bS(e,n,t),i(e[r],o)>0&&bS(e,n,r);s<a;){for(bS(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?bS(e,n,a):(++a,bS(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function bS(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function oq(e,t,n){if(e=Float64Array.from(zwt(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return iq(e);if(t>=1)return Rb(e);var r,i=(r-1)*t,o=Math.floor(i),s=Rb(pRe(e,o).subarray(0,o+1)),a=iq(e.subarray(o+1));return s+(a-s)*(i-o)}}function mRe(e,t,n=aRe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function Xwt(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function gRe(e,t){return oq(e,.5,t)}function*Qwt(e){for(const t of e)yield*t}function yRe(e){return Array.from(Qwt(e))}function lc(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function vRe(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function Jwt(e,...t){e=new D4(e),t=t.map(Zwt);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function Zwt(e){return e instanceof D4?e:new D4(e)}function ext(...e){const t=new D4;for(const n of e)for(const r of n)t.add(r);return t}function txt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function O4(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function I_(e){return e=O4(Math.abs(e)),e?e[1]:NaN}function nxt(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function rxt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ixt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xb(e){if(!(t=ixt.exec(e)))throw new Error("invalid format: "+e);var t;return new bJ({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xb.prototype=bJ.prototype;function bJ(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bJ.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oxt(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var bRe;function sxt(e,t){var n=O4(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(bRe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+O4(e,Math.max(0,t+o-1))[0]}function jhe(e,t){var n=O4(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Bhe={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:txt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>jhe(e*100,t),r:jhe,s:sxt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zhe(e){return e}var Uhe=Array.prototype.map,Vhe=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wRe(e){var t=e.grouping===void 0||e.thousands===void 0?zhe:nxt(Uhe.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?zhe:rxt(Uhe.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Xb(d);var f=d.fill,h=d.align,m=d.sign,p=d.symbol,g=d.zero,y=d.width,v=d.comma,w=d.precision,E=d.trim,C=d.type;C==="n"?(v=!0,C="g"):Bhe[C]||(w===void 0&&(w=12),E=!0,C="g"),(g||f==="0"&&h==="=")&&(g=!0,f="0",h="=");var S=p==="$"?n:p==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",T=p==="$"?r:/[%p]/.test(C)?s:"",A=Bhe[C],D=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(P){var N=S,$=T,O,j,B;if(C==="c")$=A(P)+$,P="";else{P=+P;var H=P<0||1/P<0;if(P=isNaN(P)?l:A(Math.abs(P),w),E&&(P=oxt(P)),H&&+P==0&&m!=="+"&&(H=!1),N=(H?m==="("?m:a:m==="-"||m==="("?"":m)+N,$=(C==="s"?Vhe[8+bRe/3]:"")+$+(H&&m==="("?")":""),D){for(O=-1,j=P.length;++O<j;)if(B=P.charCodeAt(O),48>B||B>57){$=(B===46?i+P.slice(O+1):P.slice(O))+$,P=P.slice(0,O);break}}}v&&!g&&(P=t(P,1/0));var q=N.length+P.length+$.length,Y=q<y?new Array(y-q+1).join(f):"";switch(v&&g&&(P=t(Y+P,Y.length?y-$.length:1/0),Y=""),h){case"<":P=N+P+$+Y;break;case"=":P=N+Y+P+$;break;case"^":P=Y.slice(0,q=Y.length>>1)+N+P+$+Y.slice(q);break;default:P=Y+N+P+$;break}return o(P)}return I.toString=function(){return d+""},I}function c(d,f){var h=u((d=Xb(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(I_(f)/3)))*3,p=Math.pow(10,-m),g=Vhe[8+m/3];return function(y){return h(p*y)+g}}return{format:u,formatPrefix:c}}var FD,g5,wJ;axt({thousands:",",grouping:[3],currency:["$",""]});function axt(e){return FD=wRe(e),g5=FD.format,wJ=FD.formatPrefix,FD}function xRe(e){return Math.max(0,-I_(Math.abs(e)))}function _Re(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(I_(t)/3)))*3-I_(Math.abs(e)))}function ERe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,I_(t)-I_(e))+1}const p7=new Date,m7=new Date;function Ms(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<s);return l},i.filter=o=>Ms(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(p7.setTime(+o),m7.setTime(+s),e(p7),e(m7),Math.floor(n(p7,m7))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const D_=Ms(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);D_.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ms(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):D_);D_.range;const ym=1e3,td=ym*60,vm=td*60,Zm=vm*24,xJ=Zm*7,Hhe=Zm*30,g7=Zm*365,bm=Ms(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ym)},(e,t)=>(t-e)/ym,e=>e.getUTCSeconds());bm.range;const y5=Ms(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ym)},(e,t)=>{e.setTime(+e+t*td)},(e,t)=>(t-e)/td,e=>e.getMinutes());y5.range;const v5=Ms(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*td)},(e,t)=>(t-e)/td,e=>e.getUTCMinutes());v5.range;const b5=Ms(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ym-e.getMinutes()*td)},(e,t)=>{e.setTime(+e+t*vm)},(e,t)=>(t-e)/vm,e=>e.getHours());b5.range;const w5=Ms(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vm)},(e,t)=>(t-e)/vm,e=>e.getUTCHours());w5.range;const Pm=Ms(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*td)/Zm,e=>e.getDate()-1);Pm.range;const K0=Ms(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zm,e=>e.getUTCDate()-1);K0.range;const CRe=Ms(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zm,e=>Math.floor(e/Zm));CRe.range;function V1(e){return Ms(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*td)/xJ)}const KE=V1(0),N4=V1(1),lxt=V1(2),uxt=V1(3),P_=V1(4),cxt=V1(5),dxt=V1(6);KE.range;N4.range;lxt.range;uxt.range;P_.range;cxt.range;dxt.range;function H1(e){return Ms(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/xJ)}const XE=H1(0),M4=H1(1),fxt=H1(2),hxt=H1(3),O_=H1(4),pxt=H1(5),mxt=H1(6);XE.range;M4.range;fxt.range;hxt.range;O_.range;pxt.range;mxt.range;const dA=Ms(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());dA.range;const fA=Ms(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fA.range;const cp=Ms(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());cp.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ms(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});cp.range;const dp=Ms(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());dp.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ms(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});dp.range;function SRe(e,t,n,r,i,o){const s=[[bm,1,ym],[bm,5,5*ym],[bm,15,15*ym],[bm,30,30*ym],[o,1,td],[o,5,5*td],[o,15,15*td],[o,30,30*td],[i,1,vm],[i,3,3*vm],[i,6,6*vm],[i,12,12*vm],[r,1,Zm],[r,2,2*Zm],[n,1,xJ],[t,1,Hhe],[t,3,3*Hhe],[e,1,g7]];function a(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:l(u,c,d),m=h?h.range(u,+c+1):[];return f?m.reverse():m}function l(u,c,d){const f=Math.abs(c-u)/d,h=YE(([,,g])=>g).right(s,f);if(h===s.length)return e.every(my(u/g7,c/g7,d));if(h===0)return D_.every(Math.max(my(u,c,d),1));const[m,p]=s[f/s[h-1][2]<s[h][2]/f?h-1:h];return m.every(p)}return[a,l]}const[gxt,yxt]=SRe(dp,fA,XE,CRe,w5,v5),[vxt,bxt]=SRe(cp,dA,KE,Pm,b5,y5),ka="year",Du="quarter",al="month",Rs="week",Pu="date",el="day",fp="dayofyear",_c="hours",Ec="minutes",bd="seconds",Of="milliseconds",_J=[ka,Du,al,Rs,Pu,el,fp,_c,Ec,bd,Of],y7=_J.reduce((e,t,n)=>(e[t]=1+n,e),{});function EJ(e){const t=_n(e).slice(),n={};return t.length||it("Missing time unit."),t.forEach(i=>{Nn(y7,i)?n[i]=1:it(`Invalid time unit: ${i}.`)}),(n[Rs]||n[el]?1:0)+(n[Du]||n[al]||n[Pu]?1:0)+(n[fp]?1:0)>1&&it(`Incompatible time units: ${e}`),t.sort((i,o)=>y7[i]-y7[o]),t}const wxt={[ka]:"%Y ",[Du]:"Q%q ",[al]:"%b ",[Pu]:"%d ",[Rs]:"W%U ",[el]:"%a ",[fp]:"%j ",[_c]:"%H:00",[Ec]:"00:%M",[bd]:":%S",[Of]:".%L",[`${ka}-${al}`]:"%Y-%m ",[`${ka}-${al}-${Pu}`]:"%Y-%m-%d ",[`${_c}-${Ec}`]:"%H:%M"};function TRe(e,t){const n=ur({},wxt,t),r=EJ(e),i=r.length;let o="",s=0,a,l;for(s=0;s<i;)for(a=r.length;a>s;--a)if(l=r.slice(s,a).join("-"),n[l]!=null){o+=n[l],s=a;break}return o.trim()}const ib=new Date;function CJ(e){return ib.setFullYear(e),ib.setMonth(0),ib.setDate(1),ib.setHours(0,0,0,0),ib}function ARe(e){return RRe(new Date(e))}function kRe(e){return sq(new Date(e))}function RRe(e){return Pm.count(CJ(e.getFullYear())-1,e)}function sq(e){return KE.count(CJ(e.getFullYear())-1,e)}function aq(e){return CJ(e).getDay()}function xxt(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,o,s);return a.setFullYear(e),a}return new Date(e,t,n,r,i,o,s)}function IRe(e){return PRe(new Date(e))}function DRe(e){return lq(new Date(e))}function PRe(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return K0.count(t-1,e)}function lq(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return XE.count(t-1,e)}function uq(e){return ib.setTime(Date.UTC(e,0,1)),ib.getUTCDay()}function _xt(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,o,s));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,o,s))}function ORe(e,t,n,r,i){const o=t||1,s=Mr(e),a=(y,v,w)=>(w=w||y,Ext(n[w],r[w],y===s&&o,v)),l=new Date,u=Pf(e),c=u[ka]?a(ka):fl(2012),d=u[al]?a(al):u[Du]?a(Du):_0,f=u[Rs]&&u[el]?a(el,1,Rs+el):u[Rs]?a(Rs,1):u[el]?a(el,1):u[Pu]?a(Pu,1):u[fp]?a(fp,1):WE,h=u[_c]?a(_c):_0,m=u[Ec]?a(Ec):_0,p=u[bd]?a(bd):_0,g=u[Of]?a(Of):_0;return function(y){l.setTime(+y);const v=c(l);return i(v,d(l),f(l,v),h(l),m(l),p(l),g(l))}}function Ext(e,t,n,r){const i=n<=1?e:r?(o,s)=>r+n*Math.floor((e(o,s)-r)/n):(o,s)=>n*Math.floor(e(o,s)/n);return t?(o,s)=>t(i(o,s),s):i}function N_(e,t,n){return t+e*7-(n+6)%7}const Cxt={[ka]:e=>e.getFullYear(),[Du]:e=>Math.floor(e.getMonth()/3),[al]:e=>e.getMonth(),[Pu]:e=>e.getDate(),[_c]:e=>e.getHours(),[Ec]:e=>e.getMinutes(),[bd]:e=>e.getSeconds(),[Of]:e=>e.getMilliseconds(),[fp]:e=>RRe(e),[Rs]:e=>sq(e),[Rs+el]:(e,t)=>N_(sq(e),e.getDay(),aq(t)),[el]:(e,t)=>N_(1,e.getDay(),aq(t))},Sxt={[Du]:e=>3*e,[Rs]:(e,t)=>N_(e,0,aq(t))};function NRe(e,t){return ORe(e,t||1,Cxt,Sxt,xxt)}const Txt={[ka]:e=>e.getUTCFullYear(),[Du]:e=>Math.floor(e.getUTCMonth()/3),[al]:e=>e.getUTCMonth(),[Pu]:e=>e.getUTCDate(),[_c]:e=>e.getUTCHours(),[Ec]:e=>e.getUTCMinutes(),[bd]:e=>e.getUTCSeconds(),[Of]:e=>e.getUTCMilliseconds(),[fp]:e=>PRe(e),[Rs]:e=>lq(e),[el]:(e,t)=>N_(1,e.getUTCDay(),uq(t)),[Rs+el]:(e,t)=>N_(lq(e),e.getUTCDay(),uq(t))},Axt={[Du]:e=>3*e,[Rs]:(e,t)=>N_(e,0,uq(t))};function MRe(e,t){return ORe(e,t||1,Txt,Axt,_xt)}const kxt={[ka]:cp,[Du]:dA.every(3),[al]:dA,[Rs]:KE,[Pu]:Pm,[el]:Pm,[fp]:Pm,[_c]:b5,[Ec]:y5,[bd]:bm,[Of]:D_},Rxt={[ka]:dp,[Du]:fA.every(3),[al]:fA,[Rs]:XE,[Pu]:K0,[el]:K0,[fp]:K0,[_c]:w5,[Ec]:v5,[bd]:bm,[Of]:D_};function QE(e){return kxt[e]}function JE(e){return Rxt[e]}function $Re(e,t,n){return e?e.offset(t,n):void 0}function FRe(e,t,n){return $Re(QE(e),t,n)}function LRe(e,t,n){return $Re(JE(e),t,n)}function jRe(e,t,n,r){return e?e.range(t,n,r):void 0}function BRe(e,t,n,r){return jRe(QE(e),t,n,r)}function zRe(e,t,n,r){return jRe(JE(e),t,n,r)}const mT=1e3,gT=mT*60,yT=gT*60,x5=yT*24,Ixt=x5*7,qhe=x5*30,cq=x5*365,URe=[ka,al,Pu,_c,Ec,bd,Of],vT=URe.slice(0,-1),bT=vT.slice(0,-1),wT=bT.slice(0,-1),Dxt=wT.slice(0,-1),Pxt=[ka,Rs],Whe=[ka,al],VRe=[ka],wS=[[vT,1,mT],[vT,5,5*mT],[vT,15,15*mT],[vT,30,30*mT],[bT,1,gT],[bT,5,5*gT],[bT,15,15*gT],[bT,30,30*gT],[wT,1,yT],[wT,3,3*yT],[wT,6,6*yT],[wT,12,12*yT],[Dxt,1,x5],[Pxt,1,Ixt],[Whe,1,qhe],[Whe,3,3*qhe],[VRe,1,cq]];function HRe(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(Yk(t))/n;let i=YE(a=>a[2]).right(wS,r),o,s;return i===wS.length?(o=VRe,s=my(t[0]/cq,t[1]/cq,n)):i?(i=wS[r/wS[i-1][2]<wS[i][2]/r?i-1:i],o=i[0],s=i[1]):(o=URe,s=Math.max(my(t[0],t[1],n),1)),{units:o,step:s}}function v7(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function b7(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function xS(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function qRe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=_S(i),c=ES(i),d=_S(o),f=ES(o),h=_S(s),m=ES(s),p=_S(a),g=ES(a),y=_S(l),v=ES(l),w={a:H,A:q,b:Y,B:V,c:null,d:Jhe,e:Jhe,f:t_t,g:d_t,G:h_t,H:Jxt,I:Zxt,j:e_t,L:WRe,m:n_t,M:r_t,p:L,q:U,Q:tpe,s:npe,S:i_t,u:o_t,U:s_t,V:a_t,w:l_t,W:u_t,x:null,X:null,y:c_t,Y:f_t,Z:p_t,"%":epe},E={a:z,A:G,b:Q,B:te,c:null,d:Zhe,e:Zhe,f:v_t,g:k_t,G:I_t,H:m_t,I:g_t,j:y_t,L:YRe,m:b_t,M:w_t,p:de,q:se,Q:tpe,s:npe,S:x_t,u:__t,U:E_t,V:C_t,w:S_t,W:T_t,x:null,X:null,y:A_t,Y:R_t,Z:D_t,"%":epe},C={a:I,A:P,b:N,B:$,c:O,d:Xhe,e:Xhe,f:Yxt,g:Khe,G:Yhe,H:Qhe,I:Qhe,j:Hxt,L:Gxt,m:Vxt,M:qxt,p:D,q:Uxt,Q:Xxt,s:Qxt,S:Wxt,u:Fxt,U:Lxt,V:jxt,w:$xt,W:Bxt,x:j,X:B,y:Khe,Y:Yhe,Z:zxt,"%":Kxt};w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),E.x=S(n,E),E.X=S(r,E),E.c=S(t,E);function S(ae,he){return function(ie){var le=[],Ce=-1,X=0,fe=ae.length,ce,ne,ee;for(ie instanceof Date||(ie=new Date(+ie));++Ce<fe;)ae.charCodeAt(Ce)===37&&(le.push(ae.slice(X,Ce)),(ne=Ghe[ce=ae.charAt(++Ce)])!=null?ce=ae.charAt(++Ce):ne=ce==="e"?" ":"0",(ee=he[ce])&&(ce=ee(ie,ne)),le.push(ce),X=Ce+1);return le.push(ae.slice(X,Ce)),le.join("")}}function T(ae,he){return function(ie){var le=xS(1900,void 0,1),Ce=A(le,ae,ie+="",0),X,fe;if(Ce!=ie.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(he&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(X=b7(xS(le.y,0,1)),fe=X.getUTCDay(),X=fe>4||fe===0?M4.ceil(X):M4(X),X=K0.offset(X,(le.V-1)*7),le.y=X.getUTCFullYear(),le.m=X.getUTCMonth(),le.d=X.getUTCDate()+(le.w+6)%7):(X=v7(xS(le.y,0,1)),fe=X.getDay(),X=fe>4||fe===0?N4.ceil(X):N4(X),X=Pm.offset(X,(le.V-1)*7),le.y=X.getFullYear(),le.m=X.getMonth(),le.d=X.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),fe="Z"in le?b7(xS(le.y,0,1)).getUTCDay():v7(xS(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(fe+5)%7:le.w+le.U*7-(fe+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,b7(le)):v7(le)}}function A(ae,he,ie,le){for(var Ce=0,X=he.length,fe=ie.length,ce,ne;Ce<X;){if(le>=fe)return-1;if(ce=he.charCodeAt(Ce++),ce===37){if(ce=he.charAt(Ce++),ne=C[ce in Ghe?he.charAt(Ce++):ce],!ne||(le=ne(ae,ie,le))<0)return-1}else if(ce!=ie.charCodeAt(le++))return-1}return le}function D(ae,he,ie){var le=u.exec(he.slice(ie));return le?(ae.p=c.get(le[0].toLowerCase()),ie+le[0].length):-1}function I(ae,he,ie){var le=h.exec(he.slice(ie));return le?(ae.w=m.get(le[0].toLowerCase()),ie+le[0].length):-1}function P(ae,he,ie){var le=d.exec(he.slice(ie));return le?(ae.w=f.get(le[0].toLowerCase()),ie+le[0].length):-1}function N(ae,he,ie){var le=y.exec(he.slice(ie));return le?(ae.m=v.get(le[0].toLowerCase()),ie+le[0].length):-1}function $(ae,he,ie){var le=p.exec(he.slice(ie));return le?(ae.m=g.get(le[0].toLowerCase()),ie+le[0].length):-1}function O(ae,he,ie){return A(ae,t,he,ie)}function j(ae,he,ie){return A(ae,n,he,ie)}function B(ae,he,ie){return A(ae,r,he,ie)}function H(ae){return s[ae.getDay()]}function q(ae){return o[ae.getDay()]}function Y(ae){return l[ae.getMonth()]}function V(ae){return a[ae.getMonth()]}function L(ae){return i[+(ae.getHours()>=12)]}function U(ae){return 1+~~(ae.getMonth()/3)}function z(ae){return s[ae.getUTCDay()]}function G(ae){return o[ae.getUTCDay()]}function Q(ae){return l[ae.getUTCMonth()]}function te(ae){return a[ae.getUTCMonth()]}function de(ae){return i[+(ae.getUTCHours()>=12)]}function se(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var he=S(ae+="",w);return he.toString=function(){return ae},he},parse:function(ae){var he=T(ae+="",!1);return he.toString=function(){return ae},he},utcFormat:function(ae){var he=S(ae+="",E);return he.toString=function(){return ae},he},utcParse:function(ae){var he=T(ae+="",!0);return he.toString=function(){return ae},he}}}var Ghe={"-":"",_:" ",0:"0"},sa=/^\s*\d+/,Oxt=/^%/,Nxt=/[\\^$*+?|[\]().{}]/g;function ri(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Mxt(e){return e.replace(Nxt,"\\$&")}function _S(e){return new RegExp("^(?:"+e.map(Mxt).join("|")+")","i")}function ES(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function $xt(e,t,n){var r=sa.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Fxt(e,t,n){var r=sa.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Lxt(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function jxt(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Bxt(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Yhe(e,t,n){var r=sa.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Khe(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function zxt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Uxt(e,t,n){var r=sa.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Vxt(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Xhe(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Hxt(e,t,n){var r=sa.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Qhe(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function qxt(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Wxt(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Gxt(e,t,n){var r=sa.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Yxt(e,t,n){var r=sa.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Kxt(e,t,n){var r=Oxt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Xxt(e,t,n){var r=sa.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Qxt(e,t,n){var r=sa.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Jhe(e,t){return ri(e.getDate(),t,2)}function Jxt(e,t){return ri(e.getHours(),t,2)}function Zxt(e,t){return ri(e.getHours()%12||12,t,2)}function e_t(e,t){return ri(1+Pm.count(cp(e),e),t,3)}function WRe(e,t){return ri(e.getMilliseconds(),t,3)}function t_t(e,t){return WRe(e,t)+"000"}function n_t(e,t){return ri(e.getMonth()+1,t,2)}function r_t(e,t){return ri(e.getMinutes(),t,2)}function i_t(e,t){return ri(e.getSeconds(),t,2)}function o_t(e){var t=e.getDay();return t===0?7:t}function s_t(e,t){return ri(KE.count(cp(e)-1,e),t,2)}function GRe(e){var t=e.getDay();return t>=4||t===0?P_(e):P_.ceil(e)}function a_t(e,t){return e=GRe(e),ri(P_.count(cp(e),e)+(cp(e).getDay()===4),t,2)}function l_t(e){return e.getDay()}function u_t(e,t){return ri(N4.count(cp(e)-1,e),t,2)}function c_t(e,t){return ri(e.getFullYear()%100,t,2)}function d_t(e,t){return e=GRe(e),ri(e.getFullYear()%100,t,2)}function f_t(e,t){return ri(e.getFullYear()%1e4,t,4)}function h_t(e,t){var n=e.getDay();return e=n>=4||n===0?P_(e):P_.ceil(e),ri(e.getFullYear()%1e4,t,4)}function p_t(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ri(t/60|0,"0",2)+ri(t%60,"0",2)}function Zhe(e,t){return ri(e.getUTCDate(),t,2)}function m_t(e,t){return ri(e.getUTCHours(),t,2)}function g_t(e,t){return ri(e.getUTCHours()%12||12,t,2)}function y_t(e,t){return ri(1+K0.count(dp(e),e),t,3)}function YRe(e,t){return ri(e.getUTCMilliseconds(),t,3)}function v_t(e,t){return YRe(e,t)+"000"}function b_t(e,t){return ri(e.getUTCMonth()+1,t,2)}function w_t(e,t){return ri(e.getUTCMinutes(),t,2)}function x_t(e,t){return ri(e.getUTCSeconds(),t,2)}function __t(e){var t=e.getUTCDay();return t===0?7:t}function E_t(e,t){return ri(XE.count(dp(e)-1,e),t,2)}function KRe(e){var t=e.getUTCDay();return t>=4||t===0?O_(e):O_.ceil(e)}function C_t(e,t){return e=KRe(e),ri(O_.count(dp(e),e)+(dp(e).getUTCDay()===4),t,2)}function S_t(e){return e.getUTCDay()}function T_t(e,t){return ri(M4.count(dp(e)-1,e),t,2)}function A_t(e,t){return ri(e.getUTCFullYear()%100,t,2)}function k_t(e,t){return e=KRe(e),ri(e.getUTCFullYear()%100,t,2)}function R_t(e,t){return ri(e.getUTCFullYear()%1e4,t,4)}function I_t(e,t){var n=e.getUTCDay();return e=n>=4||n===0?O_(e):O_.ceil(e),ri(e.getUTCFullYear()%1e4,t,4)}function D_t(){return"+0000"}function epe(){return"%"}function tpe(e){return+e}function npe(e){return Math.floor(+e/1e3)}var Kw,SJ,XRe,TJ,QRe;P_t({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function P_t(e){return Kw=qRe(e),SJ=Kw.format,XRe=Kw.parse,TJ=Kw.utcFormat,QRe=Kw.utcParse,Kw}function xT(e){const t={};return n=>t[n]||(t[n]=e(n))}function O_t(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=N_t(r,i);const s=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function N_t(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function JRe(e){const t=xT(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=Xb(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return O_t(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,o,s){s=Xb(s??",f");const a=my(r,i,o),l=Math.max(Math.abs(r),Math.abs(i));let u;if(s.precision==null)switch(s.type){case"s":return isNaN(u=_Re(a,l))||(s.precision=u),n(s,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=ERe(a,l))||(s.precision=u-(s.type==="e"));break}case"f":case"%":{isNaN(u=xRe(a))||(s.precision=u-(s.type==="%")*2);break}}return t(s)}}}let dq;ZRe();function ZRe(){return dq=JRe({format:g5,formatPrefix:wJ})}function eIe(e){return JRe(wRe(e))}function $4(e){return arguments.length?dq=eIe(e):dq}function rpe(e,t,n){n=n||{},Jn(n)||it(`Invalid time multi-format specifier: ${n}`);const r=t(bd),i=t(Ec),o=t(_c),s=t(Pu),a=t(Rs),l=t(al),u=t(Du),c=t(ka),d=e(n[Of]||".%L"),f=e(n[bd]||":%S"),h=e(n[Ec]||"%I:%M"),m=e(n[_c]||"%I %p"),p=e(n[Pu]||n[el]||"%a %d"),g=e(n[Rs]||"%b %d"),y=e(n[al]||"%B"),v=e(n[Du]||"%B"),w=e(n[ka]||"%Y");return E=>(r(E)<E?d:i(E)<E?f:o(E)<E?h:s(E)<E?m:l(E)<E?a(E)<E?p:g:c(E)<E?u(E)<E?y:v:w)(E)}function tIe(e){const t=xT(e.format),n=xT(e.utcFormat);return{timeFormat:r=>ni(r)?t(r):rpe(t,QE,r),utcFormat:r=>ni(r)?n(r):rpe(n,JE,r),timeParse:xT(e.parse),utcParse:xT(e.utcParse)}}let fq;nIe();function nIe(){return fq=tIe({format:SJ,parse:XRe,utcFormat:TJ,utcParse:QRe})}function rIe(e){return tIe(qRe(e))}function hA(e){return arguments.length?fq=rIe(e):fq}const hq=(e,t)=>ur({},e,t);function iIe(e,t){const n=e?eIe(e):$4(),r=t?rIe(t):hA();return hq(n,r)}function AJ(e,t){const n=arguments.length;return n&&n!==2&&it("defaultLocale expects either zero or two arguments."),n?hq($4(e),hA(t)):hq($4(),hA())}function M_t(){return ZRe(),nIe(),AJ()}const $_t=/^(data:|([A-Za-z]+:)?\/\/)/,F_t=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,L_t=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ipe="file://";function j_t(e){return t=>({options:t||{},sanitize:z_t,load:B_t,fileAccess:!1,file:U_t(),http:H_t})}async function B_t(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t?.http)}async function z_t(e,t){t=ur({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,s;const a=F_t.test(e.replace(L_t,""));(e==null||typeof e!="string"||!a)&&it("Sanitize failure, invalid URI: "+cn(e));const l=$_t.test(e);return(s=t.baseURL)&&!l&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),o=(i=e.startsWith(ipe))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(ipe.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function U_t(e){return V_t}async function V_t(){it("No file system access.")}async function H_t(e,t){const n=ur({},this.options.http,t),r=t&&t.response,i=await fetch(e,n);return i.ok?cr(i[r])?i[r]():i.text():it(i.status+""+i.statusText)}const q_t=e=>e!=null&&e===e,W_t=e=>e==="true"||e==="false"||e===!0||e===!1,G_t=e=>!Number.isNaN(Date.parse(e)),oIe=e=>!Number.isNaN(+e)&&!(e instanceof Date),Y_t=e=>oIe(e)&&Number.isInteger(+e),pq={boolean:gJ,integer:rl,number:rl,date:yJ,string:vJ,unknown:Wl},LD=[W_t,Y_t,oIe,G_t],K_t=["boolean","integer","number","date"];function sIe(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=LD.length,i=LD.map((o,s)=>s+1);for(let o=0,s=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(i[a]&&q_t(l)&&!LD[a](l)&&(i[a]=0,++s,s===LD.length))return"string";return K_t[i.reduce((o,s)=>o===0?s:o,0)-1]}function aIe(e,t){return t.reduce((n,r)=>(n[r]=sIe(e,r),n),{})}function ope(e){const t=function(n,r){const i={delimiter:e};return kJ(n,r?ur(r,i):i)};return t.responseType="text",t}function kJ(e,t){return t.header&&(e=t.header.map(cn).join(t.delimiter)+`
`+e),Iwt(t.delimiter).parse(e+"")}kJ.responseType="text";function X_t(e){return typeof Buffer=="function"&&cr(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function RJ(e,t){const n=t&&t.property?yd(t.property):Wl;return Jn(e)&&!X_t(e)?Q_t(n(e),t):n(JSON.parse(e))}RJ.responseType="json";function Q_t(e,t){return!fn(e)&&Zke(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const J_t={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function lIe(e,t){let n,r,i,o;return e=RJ(e,t),t&&t.feature?(n=Nwt,i=t.feature):t&&t.mesh?(n=$wt,i=t.mesh,o=J_t[t.filter]):it("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):it("Invalid TopoJSON object: "+i),r&&r.features||[r]}lIe.responseType="json";const $O={dsv:kJ,csv:ope(","),tsv:ope("	"),json:RJ,topojson:lIe};function IJ(e,t){return arguments.length>1?($O[e]=t,this):Nn($O,e)?$O[e]:null}function uIe(e){const t=IJ(e);return t&&t.responseType||"text"}function cIe(e,t,n,r){t=t||{};const i=IJ(t.type||"json");return i||it("Unknown data format type: "+t.type),e=i(e,t),t.parse&&Z_t(e,t.parse,n,r),Nn(e,"columns")&&delete e.columns,e}function Z_t(e,t,n,r){if(!e.length)return;const i=hA();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),s,a,l,u,c,d;t==="auto"&&(t=aIe(e,o)),o=Object.keys(t);const f=o.map(h=>{const m=t[h];let p,g;if(m&&(m.startsWith("date:")||m.startsWith("utc:")))return p=m.split(/:(.+)?/,2),g=p[1],(g[0]==="'"&&g[g.length-1]==="'"||g[0]==='"'&&g[g.length-1]==='"')&&(g=g.slice(1,-1)),(p[0]==="utc"?r:n)(g);if(!pq[m])throw Error("Illegal format pattern: "+h+":"+m);return pq[m]});for(l=0,c=e.length,d=o.length;l<c;++l)for(s=e[l],u=0;u<d;++u)a=o[u],s[a]=f[u](s[a])}const _5=j_t();function E5(e){const t=e||Wl,n=[],r={};return n.add=i=>{const o=t(i);return r[o]||(r[o]=1,n.push(i)),n},n.remove=i=>{const o=t(i);if(r[o]){r[o]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function FO(e,t){try{await t(e)}catch(n){e.error(n)}}const dIe=Symbol("vega_id");let eEt=1;function C5(e){return!!(e&&yn(e))}function yn(e){return e[dIe]}function fIe(e,t){return e[dIe]=t,e}function ci(e){const t=e===Object(e)?e:{data:e};return yn(t)?t:fIe(t,eEt++)}function DJ(e){return S5(e,ci({}))}function S5(e,t){for(const n in e)t[n]=e[n];return t}function hIe(e,t){return fIe(t,yn(e))}function q1(e,t){return e?t?(n,r)=>e(n,r)||yn(t(n))-yn(t(r)):(n,r)=>e(n,r)||yn(n)-yn(r):null}function pIe(e){return e&&e.constructor===W1}function W1(){const e=[],t=[],n=[],r=[],i=[];let o=null,s=!1;return{constructor:W1,insert(a){const l=_n(a),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(a){const l=cr(a)?r:t,u=_n(a),c=u.length;for(let d=0;d<c;++d)l.push(u[d]);return this},modify(a,l,u){const c={field:l,value:fl(u)};return cr(a)?(c.filter=a,i.push(c)):(c.tuple=a,n.push(c)),this},encode(a,l){return cr(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return o=a,this},reflow(){return s=!0,this},pulse(a,l){const u={},c={};let d,f,h,m,p,g;for(d=0,f=l.length;d<f;++d)u[yn(l[d])]=1;for(d=0,f=t.length;d<f;++d)p=t[d],u[yn(p)]=-1;for(d=0,f=r.length;d<f;++d)m=r[d],l.forEach(v=>{m(v)&&(u[yn(v)]=-1)});for(d=0,f=e.length;d<f;++d)p=e[d],g=yn(p),u[g]?u[g]=1:a.add.push(ci(e[d]));for(d=0,f=l.length;d<f;++d)p=l[d],u[yn(p)]<0&&a.rem.push(p);function y(v,w,E){E?v[w]=E(v):a.encode=w,s||(c[yn(v)]=v)}for(d=0,f=n.length;d<f;++d)h=n[d],p=h.tuple,m=h.field,g=u[yn(p)],g>0&&(y(p,m,h.value),a.modifies(m));for(d=0,f=i.length;d<f;++d)h=i[d],m=h.filter,l.forEach(v=>{m(v)&&u[yn(v)]>0&&y(v,h.field,h.value)}),a.modifies(h.field);if(s)a.mod=t.length||r.length?l.filter(v=>u[yn(v)]>0):l.slice();else for(g in c)a.mod.push(c[g]);return(o||o==null&&(t.length||r.length))&&a.clean(!0),a}}}const LO="_:mod:_";function T5(){Object.defineProperty(this,LO,{writable:!0,value:{}})}T5.prototype={set(e,t,n,r){const i=this,o=i[e],s=i[LO];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||r)&&(i[e]=n,s[e]=fn(n)?1+n.length:-1),i},modified(e,t){const n=this[LO];if(arguments.length){if(fn(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[LO]={},this}};let tEt=0;const nEt="pulse",rEt=new T5,iEt=1,oEt=2;function Di(e,t,n,r){this.id=++tEt,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function spe(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Di.prototype={targets(){return this._targets||(this._targets=E5(Wk))},set(e){return this.value!==e?(this.value=e,1):0},skip:spe(iEt),modified:spe(oEt),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new T5,i=this._argops=this._argops||[],o=[];let s,a,l,u;const c=(d,f,h)=>{h instanceof Di?(h!==this&&(t&&h.targets().add(this),o.push(h)),i.push({op:h,name:d,index:f})):r.set(d,f,h)};for(s in e)if(a=e[s],s===nEt)_n(a).forEach(d=>{d instanceof Di?d!==this&&(d.targets().add(this),o.push(d)):it("Pulse parameters must be operator instances.")}),this.source=a;else if(fn(a))for(r.set(s,-1,Array(l=a.length)),u=0;u<l;++u)c(s,u,a[u]);else c(s,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||rEt,n=this._argops;let r,i,o,s;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],o=r.op,s=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,s);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function sEt(e,t,n,r){let i=1,o;return e instanceof Di?o=e:e&&e.prototype instanceof Di?o=new e:cr(e)?o=new Di(null,e):(i=0,o=new Di(e,t)),this.rank(o),i&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function aEt(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let lEt=0;function A5(e,t,n){this.id=++lEt,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function l0(e,t,n){return new A5(e,t,n)}A5.prototype={_filter:vd,_apply:Wl,targets(){return this._targets||(this._targets=E5(Wk))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=l0(e);return this.targets().add(t),t},apply(e){const t=l0(null,e);return this.targets().add(t),t},merge(){const e=l0();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=l0();return this.targets().add(l0(null,null,fJ(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(l0(null,null,()=>n=!0)),t.targets().add(l0(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=vd,this._targets=null}};function uEt(e,t,n,r){const i=this,o=l0(n,r),s=function(u){u.dataflow=i;try{o.receive(u)}catch(c){i.error(c)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=_n(e);const l=a.length;for(let u=0;u<l;++u)a[u].addEventListener(t,s);return o}function cEt(e,t){const n=this.locale();return cIe(e,t,n.timeParse,n.utcParse)}function dEt(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function fEt(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:uIe(t&&t.type)});try{i=n.parse(i,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:i,status:r}}async function hEt(e,t,n){const r=this,i=r._pending||pEt(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(vd).insert(o.data||[])),i.done(),o}function pEt(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const mEt={skip:!0};function gEt(e,t,n,r,i){return(e instanceof Di?vEt:yEt)(this,e,t,n,r,i),this}function yEt(e,t,n,r,i,o){const s=ur({},o,mEt);let a,l;cr(n)||(n=fl(n)),r===void 0?a=u=>e.touch(n(u)):cr(r)?(l=new Di(null,r,i,!1),a=u=>{l.evaluate(u);const c=n(u),d=l.value;pIe(d)?e.pulse(c,d,o):e.update(c,d,s)}):a=u=>e.update(n(u),r,s),t.apply(a)}function vEt(e,t,n,r,i,o){if(r===void 0)t.targets().add(n);else{const s=o||{},a=new Di(null,bEt(n,r),i,!1);a.modified(s.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function bEt(e,t){return t=cr(t)?t:fl(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function wEt(e){e.rank=++this._rank}function xEt(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&it("Cycle detected in dataflow graph.")}const F4={},Th=1,p0=2,am=4,_Et=Th|p0,ape=Th|am,Xw=Th|p0|am,lpe=8,CS=16,upe=32,cpe=64;function X0(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function w7(e,t){const n=[];return h0(e,t,r=>n.push(r)),n}function dpe(e,t){const n={};return e.visit(t,r=>{n[yn(r)]=1}),r=>n[yn(r)]?null:r}function jD(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}X0.prototype={StopPropagation:F4,ADD:Th,REM:p0,MOD:am,ADD_REM:_Et,ADD_MOD:ape,ALL:Xw,REFLOW:lpe,SOURCE:CS,NO_SOURCE:upe,NO_FIELDS:cpe,fork(e){return new X0(this.dataflow).init(this,e)},clone(){const e=this.fork(Xw);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(Xw|CS)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new X0(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&cpe)&&(n.fields=e.fields),t&Th?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&p0?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&am?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&upe?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||Xw;return t&Th&&this.add.length||t&p0&&this.rem.length||t&am&&this.mod.length},reflow(e){if(e)return this.fork(Xw).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(am,dpe(this,Th))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return fn(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?fn(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&Th&&(n.addF=jD(n.addF,t)),e&p0&&(n.remF=jD(n.remF,t)),e&am&&(n.modF=jD(n.modF,t)),e&CS&&(n.srcF=jD(n.srcF,t)),n},materialize(e){e=e||Xw;const t=this;return e&Th&&t.addF&&(t.add=w7(t.add,t.addF),t.addF=null),e&p0&&t.remF&&(t.rem=w7(t.rem,t.remF),t.remF=null),e&am&&t.modF&&(t.mod=w7(t.mod,t.modF),t.modF=null),e&CS&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&CS)return h0(n.source,n.srcF,r),n;e&Th&&h0(n.add,n.addF,r),e&p0&&h0(n.rem,n.remF,r),e&am&&h0(n.mod,n.modF,r);const i=n.source;if(e&lpe&&i){const o=n.add.length+n.mod.length;o===i.length||(o?h0(i,dpe(n,ape),r):h0(i,n.srcF,r))}return n}};function PJ(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const a=i.fields||(i.fields={});for(const l in s.fields)a[l]=1}s.changed(i.ADD)&&(o|=i.ADD),s.changed(i.REM)&&(o|=i.REM),s.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}Pt(PJ,X0,{fork(e){const t=new X0(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?fn(e)?e.some(r=>n[r]):n[e]:0},filter(){it("MultiPulse does not support filtering.")},materialize(){it("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function EEt(e,t,n){const r=this,i=[];if(r._pulse)return mIe(r);if(r._pending&&await r._pending,t&&await FO(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new X0(r,o,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=E5(Wk);let s=0,a,l,u;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=F4),l!==F4&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++s}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${s} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((d,f)=>f.priority-d.priority);r._postrun=[];for(let d=0;d<c.length;++d)await FO(r,c[d].callback)}return n&&await FO(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(d=>{try{d(r)}catch(f){r.error(f)}})})),r}async function CEt(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function SEt(e,t,n){return this._pulse?mIe(this):(this.evaluate(e,t,n),this)}function TEt(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function mIe(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function AEt(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function kEt(e,t){const n=e.source,r=this._clock;return n&&fn(n)?new PJ(this,r,n.map(i=>i.pulse),t):this._input[e.id]||REt(this._pulse,n&&n.pulse)}function REt(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==F4&&(e.source=t.source),e)}const OJ={skip:!1,force:!1};function IEt(e,t){const n=t||OJ;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function DEt(e,t,n){const r=n||OJ;return(e.set(t)||r.force)&&this.touch(e,r),this}function PEt(e,t,n){this.touch(e,n||OJ);const r=new X0(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function OEt(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),gIe(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,NEt(t,0,e)):r=n,r}}}function gIe(e,t,n,r){let i,o;const s=e[n];for(;n>t;){if(o=n-1>>1,i=e[o],r(s,i)<0){e[n]=i,n=o;continue}break}return e[n]=s}function NEt(e,t,n){const r=t,i=e.length,o=e[t];let s=(t<<1)+1,a;for(;s<i;)a=s+1,a<i&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=o,gIe(e,r,t,n)}function Zx(){this.logger(jke()),this.logLevel(aJ),this._clock=0,this._rank=0,this._locale=AJ();try{this._loader=_5()}catch{}this._touched=E5(Wk),this._input={},this._pulse=null,this._heap=OEt((e,t)=>e.qrank-t.qrank),this._postrun=[]}function SS(e){return function(){return this._log[e].apply(this,arguments)}}Zx.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:SS("error"),warn:SS("warn"),info:SS("info"),debug:SS("debug"),logLevel:SS("level"),cleanThreshold:1e4,add:sEt,connect:aEt,rank:wEt,rerank:xEt,pulse:PEt,touch:IEt,update:DEt,changeset:W1,ingest:dEt,parse:cEt,preload:hEt,request:fEt,events:uEt,on:gEt,evaluate:EEt,run:SEt,runAsync:CEt,runAfter:TEt,_enqueue:AEt,_getPulse:kEt};function Ze(e,t){Di.call(this,e,null,t)}Pt(Ze,Di,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const M_={};function yIe(e){const t=vIe(e);return t&&t.Definition||null}function vIe(e){return e=e&&e.toLowerCase(),Nn(M_,e)?M_[e]:null}function*bIe(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function NJ(e,t,n){const r=Float64Array.from(bIe(e,n));return r.sort(Dm),t.map(i=>mRe(r,i))}function MJ(e,t){return NJ(e,[.25,.5,.75],t)}function $J(e,t){const n=e.length,r=Hwt(e,t),i=MJ(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function wIe(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o=e.extent[0],s=e.extent[1],a,l,u,c,d,f;const h=e.span||s-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(c=h/t,d=0,f=e.steps.length;d<f&&e.steps[d]<c;++d);a=e.steps[Math.max(0,d-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,a=Math.max(u,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/a)>t;)a*=n;for(d=0,f=i.length;d<f;++d)c=a/i[d],c>=u&&h/c<=t&&(a=c)}c=Math.log(a);const m=c>=0?0:~~(-c/r)+1,p=Math.pow(n,-m-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(o/a+p)*a,o=o<c?c-a:c,s=Math.ceil(s/a)*a),{start:o,stop:s===o?o+a:s,step:a}}var wd=Math.random;function MEt(e){wd=e}function xIe(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(bIe(e,r)),o=i.length,s=t;let a,l,u,c;for(u=0,c=Array(s);u<s;++u){for(a=0,l=0;l<o;++l)a+=i[~~(wd()*o)];c[u]=a/o}return c.sort(Dm),[oq(c,n/2),oq(c,1-n/2)]}function _Ie(e,t,n,r){r=r||(f=>f);const i=e.length,o=new Float64Array(i);let s=0,a=1,l=r(e[0]),u=l,c=l+t,d;for(;a<i;++a){if(d=r(e[a]),d>=c){for(u=(l+u)/2;s<a;++s)o[s]=u;c=d+t,l=d}u=d}for(u=(l+u)/2;s<a;++s)o[s]=u;return n?$Et(o,t+t/4):o}function $Et(e,t){const n=e.length;let r=0,i=1,o,s;for(;e[r]===e[i];)++i;for(;i<n;){for(o=i+1;e[i]===e[o];)++o;if(e[i]-e[i-1]<t){for(s=i+(r+o-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=o}return e}function FEt(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function LEt(e,t){t==null&&(t=e,e=0);let n,r,i;const o={min(s){return arguments.length?(n=s||0,i=r-n,o):n},max(s){return arguments.length?(r=s||0,i=r-n,o):r},sample(){return n+Math.floor(i*wd())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const a=Math.floor(s);return a<n?0:a>=r?1:(a-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return o.min(e).max(t)}const EIe=Math.sqrt(2*Math.PI),jEt=Math.SQRT2;let TS=NaN;function k5(e,t){e=e||0,t=t??1;let n=0,r=0,i,o;if(TS===TS)n=TS,TS=NaN;else{do n=wd()*2-1,r=wd()*2-1,i=n*n+r*r;while(i===0||i>1);o=Math.sqrt(-2*Math.log(i)/i),n*=o,TS=r*o}return e+n*t}function FJ(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*EIe)}function R5(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const s=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,o=s*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,o=o/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,o=s/a/2.506628274631)}return r>0?1-o:o}function I5(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*jEt*BEt(2*e-1)}function BEt(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function LJ(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>k5(n,r),pdf:o=>FJ(o,n,r),cdf:o=>R5(o,n,r),icdf:o=>I5(o,n,r)};return i.mean(e).stdev(t)}function jJ(e,t){const n=LJ();let r=0;const i={data(o){return arguments.length?(e=o,r=o?o.length:0,i.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=$J(e)),i):t},sample(){return e[~~(wd()*r)]+t*n.sample()},pdf(o){let s=0,a=0;for(;a<r;++a)s+=n.pdf((o-e[a])/t);return s/t/r},cdf(o){let s=0,a=0;for(;a<r;++a)s+=n.cdf((o-e[a])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function BJ(e,t){return e=e||0,t=t??1,Math.exp(e+k5()*t)}function zJ(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*EIe*e)}function UJ(e,t,n){return R5(Math.log(e),t,n)}function VJ(e,t,n){return Math.exp(I5(e,t,n))}function CIe(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>BJ(n,r),pdf:o=>zJ(o,n,r),cdf:o=>UJ(o,n,r),icdf:o=>VJ(o,n,r)};return i.mean(e).stdev(t)}function SIe(e,t){let n=0,r;function i(s){const a=[];let l=0,u;for(u=0;u<n;++u)l+=a[u]=s[u]==null?1:+s[u];for(u=0;u<n;++u)a[u]/=l;return a}const o={weights(s){return arguments.length?(r=i(t=s||[]),o):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),o.weights(t)):e},sample(){const s=wd();let a=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(s<l){a=e[u];break}return a.sample()},pdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(s);return a},cdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(s);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function HJ(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*wd()}function qJ(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function WJ(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function GJ(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function TIe(e,t){let n,r;const i={min(o){return arguments.length?(n=o||0,i):n},max(o){return arguments.length?(r=o??1,i):r},sample:()=>HJ(n,r),pdf:o=>qJ(o,n,r),cdf:o=>WJ(o,n,r),icdf:o=>GJ(o,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function YJ(e,t,n){let r=0,i=0;for(const o of e){const s=n(o);t(o)==null||s==null||isNaN(s)||(r+=(s-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function Kk(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function D5(e,t,n,r){e=e.filter(h=>{let m=t(h),p=n(h);return m!=null&&(m=+m)>=m&&p!=null&&(p=+p)>=p}),r&&e.sort((h,m)=>t(h)-t(m));const i=e.length,o=new Float64Array(i),s=new Float64Array(i);let a=0,l=0,u=0,c,d,f;for(f of e)o[a]=c=+t(f),s[a]=d=+n(f),++a,l+=(c-l)/a,u+=(d-u)/a;for(a=0;a<i;++a)o[a]-=l,s[a]-=u;return[o,s,l,u]}function Xk(e,t,n,r){let i=-1,o,s;for(const a of e)o=t(a),s=n(a),o!=null&&(o=+o)>=o&&s!=null&&(s=+s)>=s&&r(o,s,++i)}function ZE(e,t,n,r,i){let o=0,s=0;return Xk(e,t,n,(a,l)=>{const u=l-i(a),c=l-r;o+=u*u,s+=c*c}),1-o/s}function KJ(e,t,n){let r=0,i=0,o=0,s=0,a=0;Xk(e,t,n,(c,d)=>{++a,r+=(c-r)/a,i+=(d-i)/a,o+=(c*d-o)/a,s+=(c*c-s)/a});const l=Kk(r,i,o,s),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:ZE(e,t,n,i,u)}}function AIe(e,t,n){let r=0,i=0,o=0,s=0,a=0;Xk(e,t,n,(c,d)=>{++a,c=Math.log(c),r+=(c-r)/a,i+=(d-i)/a,o+=(c*d-o)/a,s+=(c*c-s)/a});const l=Kk(r,i,o,s),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:ZE(e,t,n,i,u)}}function kIe(e,t,n){const[r,i,o,s]=D5(e,t,n);let a=0,l=0,u=0,c=0,d=0,f,h,m;Xk(e,t,n,(v,w)=>{f=r[d++],h=Math.log(w),m=f*w,a+=(w*h-a)/d,l+=(m-l)/d,u+=(m*h-u)/d,c+=(f*m-c)/d});const[p,g]=Kk(l/s,a/s,u/s,c/s),y=v=>Math.exp(p+g*(v-o));return{coef:[Math.exp(p-g*o),g],predict:y,rSquared:ZE(e,t,n,s,y)}}function RIe(e,t,n){let r=0,i=0,o=0,s=0,a=0,l=0;Xk(e,t,n,(d,f)=>{const h=Math.log(d),m=Math.log(f);++l,r+=(h-r)/l,i+=(m-i)/l,o+=(h*m-o)/l,s+=(h*h-s)/l,a+=(f-a)/l});const u=Kk(r,i,o,s),c=d=>u[0]*Math.pow(d,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:ZE(e,t,n,a,c)}}function XJ(e,t,n){const[r,i,o,s]=D5(e,t,n),a=r.length;let l=0,u=0,c=0,d=0,f=0,h,m,p,g;for(h=0;h<a;)m=r[h],p=i[h++],g=m*m,l+=(g-l)/h,u+=(g*m-u)/h,c+=(g*g-c)/h,d+=(m*p-d)/h,f+=(g*p-f)/h;const y=c-l*l,v=l*y-u*u,w=(f*l-d*u)/v,E=(d*y-f*u)/v,C=-w*l,S=T=>(T=T-o,w*T*T+E*T+C+s);return{coef:[C-E*o+w*o*o+s,E-2*w*o,w],predict:S,rSquared:ZE(e,t,n,s,S)}}function IIe(e,t,n,r){if(r===0)return YJ(e,t,n);if(r===1)return KJ(e,t,n);if(r===2)return XJ(e,t,n);const[i,o,s,a]=D5(e,t,n),l=i.length,u=[],c=[],d=r+1;let f,h,m,p,g;for(f=0;f<d;++f){for(m=0,p=0;m<l;++m)p+=Math.pow(i[m],f)*o[m];for(u.push(p),g=new Float64Array(d),h=0;h<d;++h){for(m=0,p=0;m<l;++m)p+=Math.pow(i[m],f+h);g[h]=p}c.push(g)}c.push(u);const y=UEt(c),v=w=>{w-=s;let E=a+y[0]+y[1]*w+y[2]*w*w;for(f=3;f<d;++f)E+=y[f]*Math.pow(w,f);return E};return{coef:zEt(d,y,-s,a),predict:v,rSquared:ZE(e,t,n,a,v)}}function zEt(e,t,n,r){const i=Array(e);let o,s,a,l;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],l=1,i[o]+=a,s=1;s<=o;++s)l*=(o+1-s)/s,i[o-s]+=a*Math.pow(n,s)*l;return i[0]+=r,i}function UEt(e){const t=e.length-1,n=[];let r,i,o,s,a;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(o=r;o<t+1;++o)a=e[o][r],e[o][r]=e[o][s],e[o][s]=a;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,o=i+1;o<t;++o)a+=e[o][i]*n[o];n[i]=(e[t][i]-a)/e[i][i]}return n}const fpe=2,hpe=1e-12;function DIe(e,t,n,r){const[i,o,s,a]=D5(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),d=new Float64Array(l),f=new Float64Array(l).fill(1);for(let h=-1;++h<=fpe;){const m=[0,u-1];for(let g=0;g<l;++g){const y=i[g],v=m[0],w=m[1],E=y-i[v]>i[w]-y?v:w;let C=0,S=0,T=0,A=0,D=0;const I=1/Math.abs(i[E]-y||1);for(let $=v;$<=w;++$){const O=i[$],j=o[$],B=VEt(Math.abs(y-O)*I)*f[$],H=O*B;C+=B,S+=H,T+=j*B,A+=j*H,D+=O*H}const[P,N]=Kk(S/C,T/C,A/C,D/C);c[g]=P+N*y,d[g]=Math.abs(o[g]-c[g]),HEt(i,g+1,m)}if(h===fpe)break;const p=gRe(d);if(Math.abs(p)<hpe)break;for(let g=0,y,v;g<l;++g)y=d[g]/(6*p),f[g]=y>=1?hpe:(v=1-y*y)*v}return qEt(i,c,s,a)}function VEt(e){return(e=1-e*e*e)*e*e}function HEt(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}function qEt(e,t,n,r){const i=e.length,o=[];let s=0,a=0,l=[],u;for(;s<i;++s)u=e[s]+n,l[0]===u?l[1]+=(t[s]-l[1])/++a:(a=0,l[1]+=r,l=[u,t[s]],o.push(l));return l[1]+=r,o}const WEt=.5*Math.PI/180;function P5(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=p=>[p,e(p)],o=t[0],s=t[1],a=s-o,l=a/r,u=[i(o)],c=[];if(n===r){for(let p=1;p<r;++p)u.push(i(o+p/n*a));return u.push(i(s)),u}else{c.push(i(s));for(let p=n;--p>0;)c.push(i(o+p/n*a))}let d=u[0],f=c[c.length-1];const h=1/a,m=GEt(d[1],c);for(;f;){const p=i((d[0]+f[0])/2);p[0]-d[0]>=l&&YEt(d,p,f,h,m)>WEt?c.push(p):(d=f,u.push(f),c.pop()),f=c[c.length-1]}return u}function GEt(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const s=t[o][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function YEt(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-s)}function KEt(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function mq(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:KEt(e)}function PIe(e,t,n){return n||e+(t?"_"+t:"")}const x7=()=>{},XEt={init:x7,add:x7,rem:x7,idx:0},pA={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},Qk=Object.keys(pA).filter(e=>e!=="__count__");function QEt(e,t){return(n,r)=>ur({name:e,aggregate_param:r,out:n||e},XEt,t)}[...Qk,"__count__"].forEach(e=>{pA[e]=QEt(e,pA[e])});function OIe(e,t,n){return pA[e](n,t)}function NIe(e,t){return e.idx-t.idx}function JEt(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=pA[i]())})};return e.forEach(n),Object.values(t).sort(NIe)}function ZEt(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function eCt(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function tCt(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function nCt(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function MIe(e,t){const n=t||Wl,r=JEt(e),i=e.slice().sort(NIe);function o(s){this._ops=r,this._out=i,this.cell=s,this.init()}return o.prototype.init=ZEt,o.prototype.add=eCt,o.prototype.rem=tCt,o.prototype.set=nCt,o.prototype.get=n,o.fields=e.map(s=>s.out),o}function QJ(e){this._key=e?yd(e):yn,this.reset()}const Oa=QJ.prototype;Oa.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Oa.add=function(e){this._add.push(e)};Oa.rem=function(e){this._rem.push(e)};Oa.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),s={};let a,l,u;for(a=0;a<i;++a)s[n(t[a])]=1;for(a=0,l=0;a<r;++a)s[n(u=e[a])]?s[n(u)]=0:o[l++]=u;return this._rem=[],this._add=o};Oa.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,o;for(;--r>=0;)o=e(t[r])+"",Nn(n,o)||(n[o]=1,++i);return i};Oa.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=Qke(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};Oa.argmin=function(e){return this.extent(e)[0]||{}};Oa.argmax=function(e){return this.extent(e)[1]||{}};Oa.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};Oa.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};Oa.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=MJ(this.values(),e),this._get=e),this._q};Oa.q1=function(e){return this.quartile(e)[0]};Oa.q2=function(e){return this.quartile(e)[1]};Oa.q3=function(e){return this.quartile(e)[2]};Oa.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=xIe(this.values(),1e3,.05,e),this._get=e),this._ci};Oa.ci0=function(e){return this.ci(e)[0]};Oa.ci1=function(e){return this.ci(e)[1]};function gy(e){Ze.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}gy.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Qk},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};Pt(gy,Ze,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function o(a){let l,u,c,d;for(l in a)for(c=a[l].tuple,u=0;u<i;++u)r[u][d=c[n[u]]]=d}o(e._prev),o(t);function s(a,l,u){const c=n[u],d=r[u++];for(const f in d){const h=a?a+"|"+f:f;l[c]=d[f],u<i?s(h,l,u):t[h]||e.cell(h,l)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(v){const w=_n(sl(v)),E=w.length;let C=0,S;for(;C<E;++C)r[S=w[C]]||(r[S]=1,t.push(S))}this._dims=_n(e.groupby),this._dnames=this._dims.map(v=>{const w=Io(v);return i(v),n.push(w),w}),this.cellkey=e.key?e.key:mq(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],a=e.aggregate_params||[null],l=e.as||[],u=o.length,c={};let d,f,h,m,p,g,y;for(u!==s.length&&it("Unmatched number of fields and aggregate ops."),y=0;y<u;++y){if(d=o[y],f=s[y],h=a[y]||null,d==null&&f!=="count"&&it("Null aggregate field specified."),p=Io(d),g=PIe(f,p,l[y]),n.push(g),f==="count"){this._counts.push(g);continue}m=c[p],m||(i(d),m=c[p]=[],m.field=d,this._measures.push(m)),f!=="count"&&(this._countOnly=!1),m.push(OIe(f,h,g))}return this._measures=this._measures.map(v=>MIe(v,v.field)),Object.create(null)},cellkey:mq(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new QJ),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let s=0;s<i;++s)o[n[s]]=r[s](e);return t?hIe(t.tuple,o):ci(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,o=r.length;i<o;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,s=e.rem,a=e.mod;let l,u,c,d;if(r)for(u in r)l=r[u],(!i||l.num)&&s.push(l.tuple);for(c=0,d=this._alen;c<d;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,d=this._mlen;c<d;++c)l=n[c],(l.num===0&&i?s:a).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const rCt=1e-14;function JJ(e){Ze.call(this,null,e)}JJ.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};Pt(JJ,Ze,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,o=r.step,s=e.as||["bin0","bin1"],a=s[0],l=s[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(sl(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const d=r(c);c[a]=d,c[l]=d==null?null:i+o*(1+(d-i)/o)}:c=>c[a]=r(c)),t.modifies(n?s:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=wIe(e),r=n.step;let i=n.start,o=i+Math.ceil((n.stop-i)/r)*r,s,a;(s=e.anchor)!=null&&(a=s-(i+r*Math.floor((s-i)/r)),i+=a,o+=a);const l=function(u){let c=rl(t(u));return c==null?null:c<i?-1/0:c>o?1/0:(c=Math.max(i,Math.min(c,o-r)),i+r*Math.floor(rCt+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=zu(l,sl(t),e.name||"bin_"+Io(t))}});function $Ie(e,t,n){const r=e;let i=t||[],o=n||[],s={},a=0;return{add:l=>o.push(l),remove:l=>s[r(l)]=++a,size:()=>i.length,data:(l,u)=>(a&&(i=i.filter(c=>!s[r(c)]),s={},a=0),u&&l&&i.sort(l),o.length&&(i=l?nRe(l,i,o.sort(l)):i.concat(o),o=[]),i)}}function ZJ(e){Ze.call(this,[],e)}ZJ.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};Pt(ZJ,Ze,{transform(e,t){const n=t.fork(t.ALL),r=$Ie(yn,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(q1(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function FIe(e){Di.call(this,null,iCt,e)}Pt(FIe,Di);function iCt(e){return this.value&&!e.modified()?this.value:dJ(e.fields,e.orders)}function eZ(e){Ze.call(this,null,e)}eZ.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function oCt(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}Pt(eZ,Ze,{transform(e,t){const n=d=>f=>{for(var h=oCt(a(f),e.case,o)||[],m,p=0,g=h.length;p<g;++p)s.test(m=h[p])||d(m)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,s=this._stop,a=e.field,l=e.as||["text","count"],u=n(d=>i[d]=1+(i[d]||0)),c=n(d=>i[d]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,u;for(a in n)l=r[a],u=n[a]||0,!l&&u?(r[a]=l=ci({}),l[i]=a,l[o]=u,s.add.push(l)):u===0?(l&&s.rem.push(l),n[a]=null,r[a]=null):l[o]!==u&&(l[o]=u,s.mod.push(l));return s.modifies(t)}});function tZ(e){Ze.call(this,null,e)}tZ.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};Pt(tZ,Ze,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return s?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=sCt(a,i,o,e.filter||vd)):n.mod=a,n.source=this.value,n.modifies(r)}});function sCt(e,t,n,r){for(var i=[],o={},s=e.length,a=0,l,u;a<s;++a)for(o[t]=u=e[a],l=0;l<s;++l)o[n]=e[l],r(o)&&(i.push(ci(o)),o={},o[t]=u);return i}const ppe={kde:jJ,mixture:SIe,normal:LJ,lognormal:CIe,uniform:TIe},aCt="distributions",mpe="function",lCt="field";function LIe(e,t){const n=e[mpe];Nn(ppe,n)||it("Unknown distribution function: "+n);const r=ppe[n]();for(const i in e)i===lCt?r.data((e.from||t()).map(e[i])):i===aCt?r[i](e[i].map(o=>LIe(o,t))):typeof r[i]===mpe&&r[i](e[i]);return r}function nZ(e){Ze.call(this,null,e)}const jIe=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],uCt={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:jIe},{name:"weights",type:"number",array:!0}]};nZ.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:jIe.concat(uCt)},{name:"as",type:"string",array:!0,default:["value","density"]}]};Pt(nZ,Ze,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=LIe(e.distribution,cCt(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&it("Invalid density method: "+s),!e.extent&&!r.data&&it("Missing density extent parameter."),s=r[s];const a=e.as||["value","density"],l=e.extent||up(r.data()),u=P5(s,l,i,o).map(c=>{const d={};return d[a[0]]=c[0],d[a[1]]=c[1],ci(d)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function cCt(e){return()=>e.materialize(e.SOURCE).source}function BIe(e,t){return e?e.map((n,r)=>t[r]||Io(n)):null}function rZ(e,t,n){const r=[],i=d=>d(l);let o,s,a,l,u,c;if(t==null)r.push(e.map(n));else for(o={},s=0,a=e.length;s<a;++s)l=e[s],u=t.map(i),c=o[u],c||(o[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const zIe="bin";function iZ(e){Ze.call(this,null,e)}iZ.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:zIe}]};const dCt=(e,t)=>Yk(up(e,t))/30;Pt(iZ,Ze,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=rZ(t.source,e.groupby,Wl),i=e.smooth||!1,o=e.field,s=e.step||dCt(n,o),a=q1((m,p)=>o(m)-o(p)),l=e.as||zIe,u=r.length;let c=1/0,d=-1/0,f=0,h;for(;f<u;++f){const m=r[f].sort(a);h=-1;for(const p of _Ie(m,s,i,o))p<c&&(c=p),p>d&&(d=p),m[++h][l]=p}return this.value={start:c,stop:d,step:s},t.reflow(!0).modifies(l)}});function UIe(e){Di.call(this,null,fCt,e),this.modified(!0)}Pt(UIe,Di);function fCt(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:zu(n=>t(n,e),sl(t),Io(t))}function oZ(e){Ze.call(this,[void 0,void 0],e)}oZ.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};Pt(oZ,Ze,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],s=n[1];if((i||o==null)&&(o=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=rl(r(a));l!=null&&(l<o&&(o=l),l>s&&(s=l))}),!Number.isFinite(o)||!Number.isFinite(s)){let a=Io(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}});function sZ(e,t){Di.call(this,e),this.parent=t,this.count=0}Pt(sZ,Di,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function O5(e){Ze.call(this,{},e),this._keys=GE();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}Pt(O5,Ze,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o=Nn(i,e)&&i[e],s,a;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=r||(a=this._group[e])&&a.tuple,s=n.dataflow,o=new sZ(n.fork(n.NO_SOURCE),this),s.add(o).connect(t(s,e,a)),i[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,s=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=yn(l),c=o.get(u);c!==void 0&&(o.delete(u),a(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);o.set(yn(l),u),a(u).add(l)}),s||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=yn(l),c=o.get(u),d=r(l);c===d?a(d).mod(l):(o.set(u,d),a(c).rem(l),a(d).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(o.get(yn(l))).mod(l)}),s&&t.visit(t.REFLOW,l=>{const u=yn(l),c=o.get(u),d=r(l);c!==d&&(o.set(u,d),a(c).rem(l),a(d).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function VIe(e){Di.call(this,null,hCt,e)}Pt(VIe,Di);function hCt(e){return this.value&&!e.modified()?this.value:fn(e.name)?_n(e.name).map(t=>yd(t)):yd(e.name,e.as)}function aZ(e){Ze.call(this,GE(),e)}aZ.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};Pt(aZ,Ze,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,s=i.rem,a=i.mod,l=e.expr;let u=!0;t.visit(t.REM,d=>{const f=yn(d);r.has(f)?r.delete(f):s.push(d)}),t.visit(t.ADD,d=>{l(d,e)?o.push(d):r.set(yn(d),1)});function c(d){const f=yn(d),h=l(d,e),m=r.get(f);h&&m?(r.delete(f),o.push(d)):!h&&!m?(r.set(f,1),s.push(d)):u&&h&&!m&&a.push(d)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function lZ(e){Ze.call(this,[],e)}lZ.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};Pt(lZ,Ze,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=BIe(r,e.as||[]),o=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(m=>m(a)),u=l.reduce((m,p)=>Math.max(m,p.length),0);let c=0,d,f,h;for(;c<u;++c){for(f=DJ(a),d=0;d<s;++d)f[i[d]]=(h=l[d][c])==null?null:h;o&&(f[o]=c),n.add.push(f)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}});function uZ(e){Ze.call(this,[],e)}uZ.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};Pt(uZ,Ze,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(Io),o=e.as||["key","value"],s=o[0],a=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,d;c<l;++c)d=DJ(u),d[s]=i[c],d[a]=r[c](u),n.add.push(d)}),this.value=n.source=n.add,n.modifies(o)}});function cZ(e){Ze.call(this,null,e)}cZ.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};Pt(cZ,Ze,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,s=>s[r]=n(s,e))}});function HIe(e){Ze.call(this,[],e)}Pt(HIe,Ze,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,o=e.size-i.length,s,a,l;if(o>0){for(s=[];--o>=0;)s.push(l=ci(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else a=i.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-o);return n.source=this.value=i,n}});const BD={value:"value",median:gRe,mean:Xwt,min:iq,max:Rb},pCt=[];function dZ(e){Ze.call(this,[],e)}dZ.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function mCt(e){var t=e.method||BD.value,n;if(BD[t]==null)it("Unrecognized imputation method: "+t);else return t===BD.value?(n=e.value!==void 0?e.value:0,()=>n):BD[t]}function gCt(e){const t=e.field;return n=>n?t(n):NaN}Pt(dZ,Ze,{transform(e,t){var n=t.fork(t.ALL),r=mCt(e),i=gCt(e),o=Io(e.field),s=Io(e.key),a=(e.groupby||[]).map(Io),l=yCt(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,d=l.domain.length,f,h,m,p,g,y,v,w,E,C;for(g=0,w=l.length;g<w;++g)for(f=l[g],m=f.values,h=NaN,v=0;v<d;++v)if(f[v]==null){for(p=l.domain[v],C={_impute:!0},y=0,E=m.length;y<E;++y)C[a[y]]=m[y];C[s]=p,C[o]=Number.isNaN(h)?h=r(f,i):h,u.push(ci(C))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function yCt(e,t,n,r){var i=y=>y(g),o=[],s=r?r.slice():[],a={},l={},u,c,d,f,h,m,p,g;for(s.forEach((y,v)=>a[y]=v+1),f=0,p=e.length;f<p;++f)g=e[f],m=n(g),h=a[m]||(a[m]=s.push(m)),c=(u=t?t.map(i):pCt)+"",(d=l[c])||(d=l[c]=[],o.push(d),d.values=u),d[h-1]=g;return o.domain=s,o}function fZ(e){gy.call(this,e)}fZ.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:Qk},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};Pt(fZ,gy,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(i=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{ur(o,i[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function hZ(e){Ze.call(this,null,e)}hZ.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};Pt(hZ,Ze,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=rZ(r,e.groupby,e.field),o=(e.groupby||[]).map(Io),s=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,d=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&it("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=up(r,e.field)),d=f=e.steps||f),i.forEach(h=>{const m=jJ(h,s)[a],p=e.counts?h.length:1,g=c||up(h);P5(m,g,d,f).forEach(y=>{const v={};for(let w=0;w<o.length;++w)v[o[w]]=h.dims[w];v[l[0]]=y[0],v[l[1]]=y[1]*p,u.push(ci(v))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function qIe(e){Di.call(this,null,vCt,e)}Pt(qIe,Di);function vCt(e){return this.value&&!e.modified()?this.value:mJ(e.fields,e.flat)}function WIe(e){Ze.call(this,[],e),this._pending=null}Pt(WIe,Ze,{transform(e,t){const n=t.dataflow;return this._pending?_7(this,t,this._pending):bCt(e)?t.StopPropagation:e.values?_7(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=_n(i.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>_7(this,t,_n(r.data)))}});function bCt(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function _7(e,t,n){n.forEach(ci);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function pZ(e){Ze.call(this,{},e)}pZ.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};Pt(pZ,Ze,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=e.default==null?null:e.default,s=e.modified(),a=n.length;let l=s?t.SOURCE:t.ADD,u=t,c=e.as,d,f,h;return i?(f=i.length,a>1&&!c&&it('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*f&&it('The "as" parameter has too few output field names.'),c=c||i.map(Io),d=function(m){for(var p=0,g=0,y,v;p<a;++p)if(v=r.get(n[p](m)),v==null)for(y=0;y<f;++y,++g)m[c[g]]=o;else for(y=0;y<f;++y,++g)m[c[g]]=i[y](v)}):(c||it("Missing output field names."),d=function(m){for(var p=0,g;p<a;++p)g=r.get(n[p](m)),m[c[p]]=g??o}),s?u=t.reflow(!0):(h=n.some(m=>t.modified(m.fields)),l|=h?t.MOD:0),t.visit(l,d),u.modifies(c)}});function GIe(e){Di.call(this,null,wCt,e)}Pt(GIe,Di);function wCt(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,o,s;for(o=0;o<n;++o)s=t[o],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function YIe(e){Di.call(this,null,xCt,e)}Pt(YIe,Di);function xCt(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function KIe(e){Ze.call(this,null,e)}Pt(KIe,Ze,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function mZ(e){gy.call(this,e)}mZ.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Qk,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};Pt(mZ,gy,{_transform:gy.prototype.transform,transform(e,t){return this._transform(_Ct(e,t),t)}});function _Ct(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",o=sl(n).concat(sl(r)),s=CCt(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(a=>ECt(a,n,r,o)),as:s.map(a=>a+""),modified:e.modified.bind(e)}}function ECt(e,t,n,r){return zu(i=>t(i)===e?n(i):NaN,r,e+"")}function CCt(e,t,n){const r={},i=[];return n.visit(n.SOURCE,o=>{const s=e(o);r[s]||(r[s]=1,i.push(s))}),i.sort(Gk),t?i.slice(0,t):i}function XIe(e){O5.call(this,e)}Pt(XIe,O5,{transform(e,t){const n=e.subflow,r=e.field,i=o=>this.subflow(yn(o),n,t,o);return(e.modified("field")||r&&t.modified(sl(r)))&&it("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const s=i(o);r(o).forEach(a=>s.mod(a))}),t.visit(t.ADD,o=>{const s=i(o);r(o).forEach(a=>s.add(ci(a)))}),t.visit(t.REM,o=>{const s=i(o);r(o).forEach(a=>s.rem(a))})):(t.visit(t.MOD,o=>i(o).mod(o)),t.visit(t.ADD,o=>i(o).add(o)),t.visit(t.REM,o=>i(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function gZ(e){Ze.call(this,null,e)}gZ.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};Pt(gZ,Ze,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=BIe(e.fields,e.as||[]),o=r?(a,l)=>SCt(a,l,r,i):S5;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,a=>{const l=yn(a);n.rem.push(s[l]),s[l]=null}),t.visit(t.ADD,a=>{const l=o(a,ci({}));s[yn(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(o(a,s[yn(a)]))}),n}});function SCt(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}function QIe(e){Ze.call(this,null,e)}Pt(QIe,Ze,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function yZ(e){Ze.call(this,null,e)}yZ.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const TCt=1e-14;Pt(yZ,Ze,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,o=rZ(i,e.groupby,e.field),s=(e.groupby||[]).map(Io),a=[],l=e.step||.01,u=e.probs||lc(l/2,1-TCt,l),c=u.length;return o.forEach(d=>{const f=NJ(d,u);for(let h=0;h<c;++h){const m={};for(let p=0;p<s.length;++p)m[s[p]]=d.dims[p];m[r[0]]=u[h],m[r[1]]=f[h],a.push(ci(m))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function JIe(e){Ze.call(this,null,e)}Pt(JIe,Ze,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const o=yn(i);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,i=>{const o=DJ(i);r[yn(i)]=o,n.add.push(o)}),t.visit(t.MOD,i=>{const o=r[yn(i)];for(const s in i)o[s]=i[s],n.modifies(s);n.mod.push(o)})),n}});function vZ(e){Ze.call(this,[],e),this.count=0}vZ.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};Pt(vZ,Ze,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((c,d)=>(c[yn(d)]=1,c),{});let s=this.value,a=this.count,l=0;function u(c){let d,f;s.length<i?s.push(c):(f=~~((a+1)*wd()),f<s.length&&f>=l&&(d=s[f],o[yn(d)]&&n.rem.push(d),s[f]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const d=yn(c);o[d]&&(o[d]=-1,n.rem.push(c)),--a}),s=s.filter(c=>o[yn(c)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(l=a=s.length,t.visit(t.SOURCE,c=>{o[yn(c)]||u(c)}),l=-1),r&&s.length>i){const c=s.length-i;for(let d=0;d<c;++d)o[yn(s[d])]=-1,n.rem.push(s[d]);s=s.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{o[yn(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=s.filter(c=>!o[yn(c)])),this.count=a,this.value=n.source=s,n}});function bZ(e){Ze.call(this,null,e)}bZ.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};Pt(bZ,Ze,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=lc(e.start,e.stop,e.step||1).map(i=>{const o={};return o[r]=i,ci(o)}),n.add=t.add.concat(this.value),n}});function ZIe(e){Ze.call(this,null,e),this.modified(!0)}Pt(ZIe,Ze,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function wZ(e){Ze.call(this,null,e)}const eDe=["unit0","unit1"];wZ.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:_J,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:eDe}]};Pt(wZ,Ze,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",o=this._floor(e,t),s=(i?JE:QE)(o.unit).offset,a=e.as||eDe,l=a[0],u=a[1],c=o.step;let d=o.start||1/0,f=o.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(sl(n)))&&(t=t.reflow(!0),h=t.SOURCE,d=1/0,f=-1/0),t.visit(h,m=>{const p=n(m);let g,y;p==null?(m[l]=null,r&&(m[u]=null)):(m[l]=g=y=o(p),r&&(m[u]=y=s(g,c)),g<d&&(d=g),y>f&&(f=y))}),o.start=d,o.stop=f,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:HRe({extent:e.extent||up(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=EJ(r),s=this.value||{},a=(n?MRe:NRe)(o,i);return a.unit=Mr(o),a.units=o,a.step=i,a.start=s.start,a.stop=s.stop,this.value=a}});function tDe(e){Ze.call(this,GE(),e)}Pt(tDe,Ze,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=a=>i.set(r(a),a);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,o)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function nDe(e){Ze.call(this,null,e)}Pt(nDe,Ze,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(q1(e.sort)):t.source).map(e.field))}});function ACt(e,t,n,r){const i=mA[e](t,n);return{init:i.init||_0,update:function(o,s){s[r]=i.next(o)}}}const mA={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=mA.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||it("ntile num must be greater than zero.");const n=mA.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||it("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=kCt(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function kCt(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const RCt=Object.keys(mA);function rDe(e){const t=_n(e.ops),n=_n(e.fields),r=_n(e.params),i=_n(e.aggregate_params),o=_n(e.as),s=this.outputs=[],a=this.windows=[],l={},u={},c=[],d=[];let f=!0;function h(m){_n(sl(m)).forEach(p=>l[p]=1)}h(e.sort),t.forEach((m,p)=>{const g=n[p],y=r[p],v=i[p]||null,w=Io(g),E=PIe(m,w,o[p]);if(h(g),s.push(E),Nn(mA,m))a.push(ACt(m,g,y,E));else{if(g==null&&m!=="count"&&it("Null aggregate field specified."),m==="count"){c.push(E);return}f=!1;let C=u[w];C||(C=u[w]=[],C.field=g,d.push(C)),C.push(OIe(m,v,E))}}),(c.length||d.length)&&(this.cell=ICt(d,c,f)),this.inputs=Object.keys(l)}const iDe=rDe.prototype;iDe.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};iDe.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<o;++s)r[s].update(e,t)};function ICt(e,t,n){e=e.map(l=>MIe(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),s=0;s<i;++s)o[s]=new e[s](r);if(r.store)var a=r.data=new QJ;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let u=0;u<i;++u)o[u].add(o[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let u=0;u<i;++u)o[u].rem(o[u].get(l),l)}},r.set=function(l){let u,c;for(a&&a.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=o.length;u<c;++u)o[u].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)o[l].init()},r}function xZ(e){Ze.call(this,{},e),this._mlen=0,this._mods=[]}xZ.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:RCt.concat(Qk)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};Pt(xZ,Ze,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=q1(e.sort),i=mq(e.groupby),o=a=>this.group(i(a));let s=this.state;(!s||n)&&(s=this.state=new rDe(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)DCt(this._mods[a],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=$Ie(yn),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function DCt(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,s=r.frame||[null,0],a=e.data(n),l=a.length,u=o?YE(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||fl(-1)};t.init();for(let d=0;d<l;++d)PCt(c,s,d,l),o&&OCt(c,u),t.update(c,a[d])}function PCt(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function OCt(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,s=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<s&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const NCt=Object.freeze(Object.defineProperty({__proto__:null,aggregate:gy,bin:JJ,collect:ZJ,compare:FIe,countpattern:eZ,cross:tZ,density:nZ,dotbin:iZ,expression:UIe,extent:oZ,facet:O5,field:VIe,filter:aZ,flatten:lZ,fold:uZ,formula:cZ,generate:HIe,impute:dZ,joinaggregate:fZ,kde:hZ,key:qIe,load:WIe,lookup:pZ,multiextent:GIe,multivalues:YIe,params:KIe,pivot:mZ,prefacet:XIe,project:gZ,proxy:QIe,quantile:yZ,relay:JIe,sample:vZ,sequence:bZ,sieve:ZIe,subflow:sZ,timeunit:wZ,tupleindex:tDe,values:nDe,window:xZ},Symbol.toStringTag,{value:"Module"}));function di(e){return function(){return e}}const gpe=Math.abs,Ua=Math.atan2,Rv=Math.cos,MCt=Math.max,E7=Math.min,bh=Math.sin,gb=Math.sqrt,Ga=1e-12,$_=Math.PI,L4=$_/2,oDe=2*$_;function $Ct(e){return e>1?0:e<-1?$_:Math.acos(e)}function ype(e){return e>=1?L4:e<=-1?-L4:Math.asin(e)}const gq=Math.PI,yq=2*gq,Jv=1e-6,FCt=yq-Jv;function sDe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function LCt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sDe;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let _Z=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?sDe:LCt(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,u=i-n,c=s-t,d=a-n,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Jv)if(!(Math.abs(d*l-u*c)>Jv)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,m=i-a,p=l*l+u*u,g=h*h+m*m,y=Math.sqrt(p),v=Math.sqrt(f),w=o*Math.tan((gq-Math.acos((p+f-g)/(2*y*v)))/2),E=w/v,C=w/y;Math.abs(E-1)>Jv&&this._append`L${t+E*c},${n+E*d}`,this._append`A${o},${o},0,0,${+(d*h>c*m)},${this._x1=t+C*l},${this._y1=n+C*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,d=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Jv||Math.abs(this._y1-c)>Jv)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%yq+yq),f>FCt?this._append`A${r},${r},0,1,${d},${t-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:f>Jv&&this._append`A${r},${r},0,${+(f>=gq)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function N5(){return new _Z}N5.prototype=_Z.prototype;function M5(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new _Z(t)}function jCt(e){return e.innerRadius}function BCt(e){return e.outerRadius}function zCt(e){return e.startAngle}function UCt(e){return e.endAngle}function VCt(e){return e&&e.padAngle}function HCt(e,t,n,r,i,o,s,a){var l=n-e,u=r-t,c=s-i,d=a-o,f=d*l-c*u;if(!(f*f<Ga))return f=(c*(t-o)-d*(e-i))/f,[e+f*l,t+f*u]}function zD(e,t,n,r,i,o,s){var a=e-n,l=t-r,u=(s?o:-o)/gb(a*a+l*l),c=u*l,d=-u*a,f=e+c,h=t+d,m=n+c,p=r+d,g=(f+m)/2,y=(h+p)/2,v=m-f,w=p-h,E=v*v+w*w,C=i-o,S=f*p-m*h,T=(w<0?-1:1)*gb(MCt(0,C*C*E-S*S)),A=(S*w-v*T)/E,D=(-S*v-w*T)/E,I=(S*w+v*T)/E,P=(-S*v+w*T)/E,N=A-g,$=D-y,O=I-g,j=P-y;return N*N+$*$>O*O+j*j&&(A=I,D=P),{cx:A,cy:D,x01:-c,y01:-d,x11:A*(i/C-1),y11:D*(i/C-1)}}function qCt(){var e=jCt,t=BCt,n=di(0),r=null,i=zCt,o=UCt,s=VCt,a=null,l=M5(u);function u(){var c,d,f=+e.apply(this,arguments),h=+t.apply(this,arguments),m=i.apply(this,arguments)-L4,p=o.apply(this,arguments)-L4,g=gpe(p-m),y=p>m;if(a||(a=c=l()),h<f&&(d=h,h=f,f=d),!(h>Ga))a.moveTo(0,0);else if(g>oDe-Ga)a.moveTo(h*Rv(m),h*bh(m)),a.arc(0,0,h,m,p,!y),f>Ga&&(a.moveTo(f*Rv(p),f*bh(p)),a.arc(0,0,f,p,m,y));else{var v=m,w=p,E=m,C=p,S=g,T=g,A=s.apply(this,arguments)/2,D=A>Ga&&(r?+r.apply(this,arguments):gb(f*f+h*h)),I=E7(gpe(h-f)/2,+n.apply(this,arguments)),P=I,N=I,$,O;if(D>Ga){var j=ype(D/f*bh(A)),B=ype(D/h*bh(A));(S-=j*2)>Ga?(j*=y?1:-1,E+=j,C-=j):(S=0,E=C=(m+p)/2),(T-=B*2)>Ga?(B*=y?1:-1,v+=B,w-=B):(T=0,v=w=(m+p)/2)}var H=h*Rv(v),q=h*bh(v),Y=f*Rv(C),V=f*bh(C);if(I>Ga){var L=h*Rv(w),U=h*bh(w),z=f*Rv(E),G=f*bh(E),Q;if(g<$_)if(Q=HCt(H,q,z,G,L,U,Y,V)){var te=H-Q[0],de=q-Q[1],se=L-Q[0],ae=U-Q[1],he=1/bh($Ct((te*se+de*ae)/(gb(te*te+de*de)*gb(se*se+ae*ae)))/2),ie=gb(Q[0]*Q[0]+Q[1]*Q[1]);P=E7(I,(f-ie)/(he-1)),N=E7(I,(h-ie)/(he+1))}else P=N=0}T>Ga?N>Ga?($=zD(z,G,H,q,h,N,y),O=zD(L,U,Y,V,h,N,y),a.moveTo($.cx+$.x01,$.cy+$.y01),N<I?a.arc($.cx,$.cy,N,Ua($.y01,$.x01),Ua(O.y01,O.x01),!y):(a.arc($.cx,$.cy,N,Ua($.y01,$.x01),Ua($.y11,$.x11),!y),a.arc(0,0,h,Ua($.cy+$.y11,$.cx+$.x11),Ua(O.cy+O.y11,O.cx+O.x11),!y),a.arc(O.cx,O.cy,N,Ua(O.y11,O.x11),Ua(O.y01,O.x01),!y))):(a.moveTo(H,q),a.arc(0,0,h,v,w,!y)):a.moveTo(H,q),!(f>Ga)||!(S>Ga)?a.lineTo(Y,V):P>Ga?($=zD(Y,V,L,U,f,-P,y),O=zD(H,q,z,G,f,-P,y),a.lineTo($.cx+$.x01,$.cy+$.y01),P<I?a.arc($.cx,$.cy,P,Ua($.y01,$.x01),Ua(O.y01,O.x01),!y):(a.arc($.cx,$.cy,P,Ua($.y01,$.x01),Ua($.y11,$.x11),!y),a.arc(0,0,f,Ua($.cy+$.y11,$.cx+$.x11),Ua(O.cy+O.y11,O.cx+O.x11),y),a.arc(O.cx,O.cy,P,Ua(O.y11,O.x11),Ua(O.y01,O.x01),!y))):a.arc(0,0,f,C,E,y)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-$_/2;return[Rv(d)*c,bh(d)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:di(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:di(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:di(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:di(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:di(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:di(+c),u):o},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:di(+c),u):s},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function aDe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function lDe(e){this._context=e}lDe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function EZ(e){return new lDe(e)}function uDe(e){return e[0]}function cDe(e){return e[1]}function dDe(e,t){var n=di(!0),r=null,i=EZ,o=null,s=M5(a);e=typeof e=="function"?e:e===void 0?uDe:di(e),t=typeof t=="function"?t:t===void 0?cDe:di(t);function a(l){var u,c=(l=aDe(l)).length,d,f=!1,h;for(r==null&&(o=i(h=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(d,u,l),+t(d,u,l));if(h)return o=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:di(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:di(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:di(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function fDe(e,t,n){var r=null,i=di(!0),o=null,s=EZ,a=null,l=M5(u);e=typeof e=="function"?e:e===void 0?uDe:di(+e),t=typeof t=="function"?t:di(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?cDe:di(+n);function u(d){var f,h,m,p=(d=aDe(d)).length,g,y=!1,v,w=new Array(p),E=new Array(p);for(o==null&&(a=s(v=l())),f=0;f<=p;++f){if(!(f<p&&i(g=d[f],f,d))===y)if(y=!y)h=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=f-1;m>=h;--m)a.point(w[m],E[m]);a.lineEnd(),a.areaEnd()}y&&(w[f]=+e(g,f,d),E[f]=+t(g,f,d),a.point(r?+r(g,f,d):w[f],n?+n(g,f,d):E[f]))}if(v)return a=null,v+""||null}function c(){return dDe().defined(i).curve(s).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:di(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:di(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:di(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:di(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:di(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:di(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:di(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),u):s},u.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),u):o},u}const WCt={draw(e,t){const n=gb(t/$_);e.moveTo(n,0),e.arc(0,0,n,0,oDe)}};function GCt(e,t){let n=null,r=M5(i);e=typeof e=="function"?e:di(e||WCt),t=typeof t=="function"?t:di(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:di(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:di(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function yy(){}function j4(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function $5(e){this._context=e}$5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:j4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:j4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YCt(e){return new $5(e)}function hDe(e){this._context=e}hDe.prototype={areaStart:yy,areaEnd:yy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:j4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KCt(e){return new hDe(e)}function pDe(e){this._context=e}pDe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:j4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XCt(e){return new pDe(e)}function mDe(e,t){this._basis=new $5(e),this._beta=t}mDe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const QCt=(function e(t){function n(r){return t===1?new $5(r):new mDe(r,t)}return n.beta=function(r){return e(+r)},n})(.85);function B4(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function CZ(e,t){this._context=e,this._k=(1-t)/6}CZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:B4(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:B4(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const JCt=(function e(t){function n(r){return new CZ(r,t)}return n.tension=function(r){return e(+r)},n})(0);function SZ(e,t){this._context=e,this._k=(1-t)/6}SZ.prototype={areaStart:yy,areaEnd:yy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:B4(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ZCt=(function e(t){function n(r){return new SZ(r,t)}return n.tension=function(r){return e(+r)},n})(0);function TZ(e,t){this._context=e,this._k=(1-t)/6}TZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:B4(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const eSt=(function e(t){function n(r){return new TZ(r,t)}return n.tension=function(r){return e(+r)},n})(0);function AZ(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>Ga){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Ga){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function gDe(e,t){this._context=e,this._alpha=t}gDe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:AZ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const tSt=(function e(t){function n(r){return t?new gDe(r,t):new CZ(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function yDe(e,t){this._context=e,this._alpha=t}yDe.prototype={areaStart:yy,areaEnd:yy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:AZ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const nSt=(function e(t){function n(r){return t?new yDe(r,t):new SZ(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function vDe(e,t){this._context=e,this._alpha=t}vDe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:AZ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const rSt=(function e(t){function n(r){return t?new vDe(r,t):new TZ(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function bDe(e){this._context=e}bDe.prototype={areaStart:yy,areaEnd:yy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function iSt(e){return new bDe(e)}function vpe(e){return e<0?-1:1}function bpe(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(vpe(o)+vpe(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function wpe(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function C7(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function z4(e){this._context=e}z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:C7(this,this._t0,wpe(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,C7(this,wpe(this,n=bpe(this,e,t)),n);break;default:C7(this,this._t0,n=bpe(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function wDe(e){this._context=new xDe(e)}(wDe.prototype=Object.create(z4.prototype)).point=function(e,t){z4.prototype.point.call(this,t,e)};function xDe(e){this._context=e}xDe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function oSt(e){return new z4(e)}function sSt(e){return new wDe(e)}function _De(e){this._context=e}_De.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=xpe(e),i=xpe(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function xpe(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function aSt(e){return new _De(e)}function F5(e,t){this._context=e,this._t=t}F5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function lSt(e){return new F5(e,.5)}function uSt(e){return new F5(e,0)}function cSt(e){return new F5(e,1)}function Q0(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const dSt=()=>typeof Image<"u"?Image:null;function kp(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Yy(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const vq=Symbol("implicit");function kZ(){var e=new Lhe,t=[],n=[],r=vq;function i(o){let s=e.get(o);if(s===void 0){if(r!==vq)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Lhe;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return kZ(t,n).unknown(r)},kp.apply(i,arguments),i}function eC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Jk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ky(){}var Qb=.7,F_=1/Qb,e_="\\s*([+-]?\\d+)\\s*",gA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fSt=/^#([0-9a-f]{3,8})$/,hSt=new RegExp(`^rgb\\(${e_},${e_},${e_}\\)$`),pSt=new RegExp(`^rgb\\(${Yh},${Yh},${Yh}\\)$`),mSt=new RegExp(`^rgba\\(${e_},${e_},${e_},${gA}\\)$`),gSt=new RegExp(`^rgba\\(${Yh},${Yh},${Yh},${gA}\\)$`),ySt=new RegExp(`^hsl\\(${gA},${Yh},${Yh}\\)$`),vSt=new RegExp(`^hsla\\(${gA},${Yh},${Yh},${gA}\\)$`),_pe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eC(Ky,Jb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Epe,formatHex:Epe,formatHex8:bSt,formatHsl:wSt,formatRgb:Cpe,toString:Cpe});function Epe(){return this.rgb().formatHex()}function bSt(){return this.rgb().formatHex8()}function wSt(){return EDe(this).formatHsl()}function Cpe(){return this.rgb().formatRgb()}function Jb(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fSt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Spe(t):n===3?new Qs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?UD(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?UD(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hSt.exec(e))?new Qs(t[1],t[2],t[3],1):(t=pSt.exec(e))?new Qs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mSt.exec(e))?UD(t[1],t[2],t[3],t[4]):(t=gSt.exec(e))?UD(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ySt.exec(e))?kpe(t[1],t[2]/100,t[3]/100,1):(t=vSt.exec(e))?kpe(t[1],t[2]/100,t[3]/100,t[4]):_pe.hasOwnProperty(e)?Spe(_pe[e]):e==="transparent"?new Qs(NaN,NaN,NaN,0):null}function Spe(e){return new Qs(e>>16&255,e>>8&255,e&255,1)}function UD(e,t,n,r){return r<=0&&(e=t=n=NaN),new Qs(e,t,n,r)}function RZ(e){return e instanceof Ky||(e=Jb(e)),e?(e=e.rgb(),new Qs(e.r,e.g,e.b,e.opacity)):new Qs}function vy(e,t,n,r){return arguments.length===1?RZ(e):new Qs(e,t,n,r??1)}function Qs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}eC(Qs,vy,Jk(Ky,{brighter(e){return e=e==null?F_:Math.pow(F_,e),new Qs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qb:Math.pow(Qb,e),new Qs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qs(Ib(this.r),Ib(this.g),Ib(this.b),U4(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tpe,formatHex:Tpe,formatHex8:xSt,formatRgb:Ape,toString:Ape}));function Tpe(){return`#${yb(this.r)}${yb(this.g)}${yb(this.b)}`}function xSt(){return`#${yb(this.r)}${yb(this.g)}${yb(this.b)}${yb((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ape(){const e=U4(this.opacity);return`${e===1?"rgb(":"rgba("}${Ib(this.r)}, ${Ib(this.g)}, ${Ib(this.b)}${e===1?")":`, ${e})`}`}function U4(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ib(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yb(e){return e=Ib(e),(e<16?"0":"")+e.toString(16)}function kpe(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new lf(e,t,n,r)}function EDe(e){if(e instanceof lf)return new lf(e.h,e.s,e.l,e.opacity);if(e instanceof Ky||(e=Jb(e)),!e)return new lf;if(e instanceof lf)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new lf(s,a,l,e.opacity)}function yA(e,t,n,r){return arguments.length===1?EDe(e):new lf(e,t,n,r??1)}function lf(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}eC(lf,yA,Jk(Ky,{brighter(e){return e=e==null?F_:Math.pow(F_,e),new lf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qb:Math.pow(Qb,e),new lf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Qs(S7(e>=240?e-240:e+120,i,r),S7(e,i,r),S7(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new lf(Rpe(this.h),VD(this.s),VD(this.l),U4(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=U4(this.opacity);return`${e===1?"hsl(":"hsla("}${Rpe(this.h)}, ${VD(this.s)*100}%, ${VD(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Rpe(e){return e=(e||0)%360,e<0?e+360:e}function VD(e){return Math.max(0,Math.min(1,e||0))}function S7(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const CDe=Math.PI/180,SDe=180/Math.PI,V4=18,TDe=.96422,ADe=1,kDe=.82521,RDe=4/29,t_=6/29,IDe=3*t_*t_,_St=t_*t_*t_;function DDe(e){if(e instanceof Kh)return new Kh(e.l,e.a,e.b,e.opacity);if(e instanceof wm)return PDe(e);e instanceof Qs||(e=RZ(e));var t=R7(e.r),n=R7(e.g),r=R7(e.b),i=T7((.2225045*t+.7168786*n+.0606169*r)/ADe),o,s;return t===n&&n===r?o=s=i:(o=T7((.4360747*t+.3850649*n+.1430804*r)/TDe),s=T7((.0139322*t+.0971045*n+.7141733*r)/kDe)),new Kh(116*i-16,500*(o-i),200*(i-s),e.opacity)}function H4(e,t,n,r){return arguments.length===1?DDe(e):new Kh(e,t,n,r??1)}function Kh(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}eC(Kh,H4,Jk(Ky,{brighter(e){return new Kh(this.l+V4*(e??1),this.a,this.b,this.opacity)},darker(e){return new Kh(this.l-V4*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=TDe*A7(t),e=ADe*A7(e),n=kDe*A7(n),new Qs(k7(3.1338561*t-1.6168667*e-.4906146*n),k7(-.9787684*t+1.9161415*e+.033454*n),k7(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function T7(e){return e>_St?Math.pow(e,1/3):e/IDe+RDe}function A7(e){return e>t_?e*e*e:IDe*(e-RDe)}function k7(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function R7(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ESt(e){if(e instanceof wm)return new wm(e.h,e.c,e.l,e.opacity);if(e instanceof Kh||(e=DDe(e)),e.a===0&&e.b===0)return new wm(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*SDe;return new wm(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function q4(e,t,n,r){return arguments.length===1?ESt(e):new wm(e,t,n,r??1)}function wm(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function PDe(e){if(isNaN(e.h))return new Kh(e.l,0,0,e.opacity);var t=e.h*CDe;return new Kh(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}eC(wm,q4,Jk(Ky,{brighter(e){return new wm(this.h,this.c,this.l+V4*(e??1),this.opacity)},darker(e){return new wm(this.h,this.c,this.l-V4*(e??1),this.opacity)},rgb(){return PDe(this).rgb()}}));var ODe=-.14861,IZ=1.78277,DZ=-.29227,L5=-.90649,vA=1.97294,Ipe=vA*L5,Dpe=vA*IZ,Ppe=IZ*DZ-L5*ODe;function CSt(e){if(e instanceof Db)return new Db(e.h,e.s,e.l,e.opacity);e instanceof Qs||(e=RZ(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Ppe*r+Ipe*t-Dpe*n)/(Ppe+Ipe-Dpe),o=r-i,s=(vA*(n-i)-DZ*o)/L5,a=Math.sqrt(s*s+o*o)/(vA*i*(1-i)),l=a?Math.atan2(s,o)*SDe-120:NaN;return new Db(l<0?l+360:l,a,i,e.opacity)}function bq(e,t,n,r){return arguments.length===1?CSt(e):new Db(e,t,n,r??1)}function Db(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}eC(Db,bq,Jk(Ky,{brighter(e){return e=e==null?F_:Math.pow(F_,e),new Db(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qb:Math.pow(Qb,e),new Db(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*CDe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Qs(255*(t+n*(ODe*r+IZ*i)),255*(t+n*(DZ*r+L5*i)),255*(t+n*(vA*r)),this.opacity)}}));function NDe(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function MDe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return NDe((n-r/t)*t,s,i,o,a)}}function $De(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return NDe((n-r/t)*t,i,o,s,a)}}const j5=e=>()=>e;function FDe(e,t){return function(n){return e+n*t}}function SSt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function B5(e,t){var n=t-e;return n?FDe(e,n>180||n<-180?n-360*Math.round(n/360):n):j5(isNaN(e)?t:e)}function TSt(e){return(e=+e)==1?Js:function(t,n){return n-t?SSt(t,n,e):j5(isNaN(t)?n:t)}}function Js(e,t){var n=t-e;return n?FDe(e,n):j5(isNaN(e)?t:e)}const bA=(function e(t){var n=TSt(t);function r(i,o){var s=n((i=vy(i)).r,(o=vy(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=Js(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r})(1);function LDe(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=vy(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var ASt=LDe(MDe),kSt=LDe($De);function PZ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function jDe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function RSt(e,t){return(jDe(t)?PZ:BDe)(e,t)}function BDe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Xy(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function zDe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Kc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function UDe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Xy(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var wq=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,I7=new RegExp(wq.source,"g");function ISt(e){return function(){return e}}function DSt(e){return function(t){return e(t)+""}}function OZ(e,t){var n=wq.lastIndex=I7.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=wq.exec(e))&&(i=I7.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Kc(r,i)})),n=I7.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?DSt(l[0].x):ISt(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function Xy(e,t){var n=typeof t,r;return t==null||n==="boolean"?j5(t):(n==="number"?Kc:n==="string"?(r=Jb(t))?(t=r,bA):OZ:t instanceof Jb?bA:t instanceof Date?zDe:jDe(t)?PZ:Array.isArray(t)?BDe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?UDe:Kc)(e,t)}function PSt(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function OSt(e,t){var n=B5(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function Zk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Ope=180/Math.PI,xq={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function VDe(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Ope,skewX:Math.atan(l)*Ope,scaleX:s,scaleY:a}}var HD;function NSt(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?xq:VDe(t.a,t.b,t.c,t.d,t.e,t.f)}function MSt(e){return e==null||(HD||(HD=document.createElementNS("http://www.w3.org/2000/svg","g")),HD.setAttribute("transform",e),!(e=HD.transform.baseVal.consolidate()))?xq:(e=e.matrix,VDe(e.a,e.b,e.c,e.d,e.e,e.f))}function HDe(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,d,f,h,m){if(u!==d||c!==f){var p=h.push("translate(",null,t,null,n);m.push({i:p-4,x:Kc(u,d)},{i:p-2,x:Kc(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function s(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Kc(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Kc(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,f,h,m){if(u!==d||c!==f){var p=h.push(i(h)+"scale(",null,",",null,")");m.push({i:p-4,x:Kc(u,d)},{i:p-2,x:Kc(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,d,f),s(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var m=-1,p=f.length,g;++m<p;)d[(g=f[m]).i]=g.x(h);return d.join("")}}}var qDe=HDe(NSt,"px, ","px)","deg)"),WDe=HDe(MSt,", ",")",")"),$St=1e-12;function Npe(e){return((e=Math.exp(e))+1/e)/2}function FSt(e){return((e=Math.exp(e))-1/e)/2}function LSt(e){return((e=Math.exp(2*e))-1)/(e+1)}const jSt=(function e(t,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],d=s[1],f=s[2],h=c-a,m=d-l,p=h*h+m*m,g,y;if(p<$St)y=Math.log(f/u)/t,g=function(T){return[a+T*h,l+T*m,u*Math.exp(t*T*y)]};else{var v=Math.sqrt(p),w=(f*f-u*u+r*p)/(2*u*n*v),E=(f*f-u*u-r*p)/(2*f*n*v),C=Math.log(Math.sqrt(w*w+1)-w),S=Math.log(Math.sqrt(E*E+1)-E);y=(S-C)/t,g=function(T){var A=T*y,D=Npe(C),I=u/(n*v)*(D*LSt(t*A+C)-FSt(C));return[a+I*h,l+I*m,u*D/Npe(t*A+C)]}}return g.duration=y*1e3*t/Math.SQRT2,g}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i})(Math.SQRT2,2,4);function GDe(e){return function(t,n){var r=e((t=yA(t)).h,(n=yA(n)).h),i=Js(t.s,n.s),o=Js(t.l,n.l),s=Js(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const BSt=GDe(B5);var zSt=GDe(Js);function USt(e,t){var n=Js((e=H4(e)).l,(t=H4(t)).l),r=Js(e.a,t.a),i=Js(e.b,t.b),o=Js(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function YDe(e){return function(t,n){var r=e((t=q4(t)).h,(n=q4(n)).h),i=Js(t.c,n.c),o=Js(t.l,n.l),s=Js(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const VSt=YDe(B5);var HSt=YDe(Js);function KDe(e){return(function t(n){n=+n;function r(i,o){var s=e((i=bq(i)).h,(o=bq(o)).h),a=Js(i.s,o.s),l=Js(i.l,o.l),u=Js(i.opacity,o.opacity);return function(c){return i.h=s(c),i.s=a(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r})(1)}const qSt=KDe(B5);var WSt=KDe(Js);function NZ(e,t){t===void 0&&(t=e,e=Xy);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function GSt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const YSt=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Xy,interpolateArray:RSt,interpolateBasis:MDe,interpolateBasisClosed:$De,interpolateCubehelix:qSt,interpolateCubehelixLong:WSt,interpolateDate:zDe,interpolateDiscrete:PSt,interpolateHcl:VSt,interpolateHclLong:HSt,interpolateHsl:BSt,interpolateHslLong:zSt,interpolateHue:OSt,interpolateLab:USt,interpolateNumber:Kc,interpolateNumberArray:PZ,interpolateObject:UDe,interpolateRgb:bA,interpolateRgbBasis:ASt,interpolateRgbBasisClosed:kSt,interpolateRound:Zk,interpolateString:OZ,interpolateTransformCss:qDe,interpolateTransformSvg:WDe,interpolateZoom:jSt,piecewise:NZ,quantize:GSt},Symbol.toStringTag,{value:"Module"}));function KSt(e){return function(){return e}}function _q(e){return+e}var Mpe=[0,1];function Cu(e){return e}function Eq(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:KSt(isNaN(t)?NaN:.5)}function XSt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function QSt(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=Eq(i,r),o=n(s,o)):(r=Eq(r,i),o=n(o,s)),function(a){return o(r(a))}}function JSt(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Eq(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=py(e,a,1,r)-1;return o[l](i[l](a))}}function eR(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function z5(){var e=Mpe,t=Mpe,n=Xy,r,i,o,s=Cu,a,l,u;function c(){var f=Math.min(e.length,t.length);return s!==Cu&&(s=XSt(e[0],e[f-1])),a=f>2?JSt:QSt,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=a(e.map(r),t,n)))(r(s(f)))}return d.invert=function(f){return s(i((u||(u=a(t,e.map(r),Kc)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,_q),c()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=Zk,c()},d.clamp=function(f){return arguments.length?(s=f?!0:Cu,c()):s!==Cu},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,h){return r=f,i=h,c()}}function XDe(){return z5()(Cu,Cu)}function QDe(e,t,n,r){var i=my(e,t,n),o;switch(r=Xb(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=_Re(i,s))&&(r.precision=o),wJ(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ERe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=xRe(i))&&(r.precision=o-(r.type==="%")*2);break}}return g5(r)}function G1(e){var t=e.domain;return e.ticks=function(n){var r=t();return nq(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return QDe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=rq(s,a,n),u===l)return r[i]=s,r[o]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function Zb(){var e=XDe();return e.copy=function(){return eR(e,Zb())},kp.apply(e,arguments),G1(e)}function JDe(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,_q),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return JDe(e).unknown(t)},e=arguments.length?Array.from(e,_q):[0,1],G1(n)}function ZDe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function $pe(e){return Math.log(e)}function Fpe(e){return Math.exp(e)}function ZSt(e){return-Math.log(-e)}function eTt(e){return-Math.exp(-e)}function tTt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function nTt(e){return e===10?tTt:e===Math.E?Math.exp:t=>Math.pow(e,t)}function rTt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Lpe(e){return(t,n)=>-e(-t,n)}function MZ(e){const t=e($pe,Fpe),n=t.domain;let r=10,i,o;function s(){return i=rTt(r),o=nTt(r),n()[0]<0?(i=Lpe(i),o=Lpe(o),e(ZSt,eTt)):e($pe,Fpe),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),h=i(c),m,p;const g=a==null?10:+a;let y=[];if(!(r%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(m=1;m<r;++m)if(p=f<0?m/o(-f):m*o(f),!(p<u)){if(p>c)break;y.push(p)}}else for(;f<=h;++f)for(m=r-1;m>=1;--m)if(p=f>0?m/o(-f):m*o(f),!(p<u)){if(p>c)break;y.push(p)}y.length*2<g&&(y=nq(u,c,g))}else y=nq(f,h,Math.min(h-f,g)).map(o);return d?y.reverse():y},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Xb(l)).precision==null&&(l.trim=!0),l=g5(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(ZDe(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function ePe(){const e=MZ(z5()).domain([1,10]);return e.copy=()=>eR(e,ePe()).base(e.base()),kp.apply(e,arguments),e}function jpe(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Bpe(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $Z(e){var t=1,n=e(jpe(t),Bpe(t));return n.constant=function(r){return arguments.length?e(jpe(t=+r),Bpe(t)):t},G1(n)}function tPe(){var e=$Z(z5());return e.copy=function(){return eR(e,tPe()).constant(e.constant())},kp.apply(e,arguments)}function zpe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function iTt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function oTt(e){return e<0?-e*e:e*e}function FZ(e){var t=e(Cu,Cu),n=1;function r(){return n===1?e(Cu,Cu):n===.5?e(iTt,oTt):e(zpe(n),zpe(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},G1(t)}function LZ(){var e=FZ(z5());return e.copy=function(){return eR(e,LZ()).exponent(e.exponent())},kp.apply(e,arguments),e}function sTt(){return LZ.apply(null,arguments).exponent(.5)}function nPe(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=mRe(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[py(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Dm),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return nPe().domain(e).range(t).unknown(r)},kp.apply(o,arguments)}function rPe(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[py(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return rPe().domain([e,t]).range(i).unknown(o)},kp.apply(G1(s),arguments)}function iPe(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[py(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return iPe().domain(e).range(t).unknown(n)},kp.apply(i,arguments)}function aTt(e){return new Date(e)}function lTt(e){return e instanceof Date?+e:+new Date(+e)}function jZ(e,t,n,r,i,o,s,a,l,u){var c=XDe(),d=c.invert,f=c.domain,h=u(".%L"),m=u(":%S"),p=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),w=u("%B"),E=u("%Y");function C(S){return(l(S)<S?h:a(S)<S?m:s(S)<S?p:o(S)<S?g:r(S)<S?i(S)<S?y:v:n(S)<S?w:E)(S)}return c.invert=function(S){return new Date(d(S))},c.domain=function(S){return arguments.length?f(Array.from(S,lTt)):f().map(aTt)},c.ticks=function(S){var T=f();return e(T[0],T[T.length-1],S??10)},c.tickFormat=function(S,T){return T==null?C:u(T)},c.nice=function(S){var T=f();return(!S||typeof S.range!="function")&&(S=t(T[0],T[T.length-1],S??10)),S?f(ZDe(T,S)):c},c.copy=function(){return eR(c,jZ(e,t,n,r,i,o,s,a,l,u))},c}function uTt(){return kp.apply(jZ(vxt,bxt,cp,dA,KE,Pm,b5,y5,bm,SJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cTt(){return kp.apply(jZ(gxt,yxt,dp,fA,XE,K0,w5,v5,bm,TJ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function U5(){var e=0,t=1,n,r,i,o,s=Cu,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(f){var h,m;return arguments.length?([h,m]=f,s=d(h,m),u):[s(0),s(1)]}}return u.range=c(Xy),u.rangeRound=c(Zk),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function Qy(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function BZ(){var e=G1(U5()(Cu));return e.copy=function(){return Qy(e,BZ())},Yy.apply(e,arguments)}function oPe(){var e=MZ(U5()).domain([1,10]);return e.copy=function(){return Qy(e,oPe()).base(e.base())},Yy.apply(e,arguments)}function sPe(){var e=$Z(U5());return e.copy=function(){return Qy(e,sPe()).constant(e.constant())},Yy.apply(e,arguments)}function zZ(){var e=FZ(U5());return e.copy=function(){return Qy(e,zZ()).exponent(e.exponent())},Yy.apply(e,arguments)}function dTt(){return zZ.apply(null,arguments).exponent(.5)}function V5(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,u=Cu,c,d=!1,f;function h(p){return isNaN(p=+p)?f:(p=.5+((p=+c(p))-o)*(r*p<r*o?a:l),u(d?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,n]=p,i=c(e=+e),o=c(t=+t),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(p){return arguments.length?(d=!!p,h):d},h.interpolator=function(p){return arguments.length?(u=p,h):u};function m(p){return function(g){var y,v,w;return arguments.length?([y,v,w]=g,u=NZ(p,[y,v,w]),h):[u(0),u(.5),u(1)]}}return h.range=m(Xy),h.rangeRound=m(Zk),h.unknown=function(p){return arguments.length?(f=p,h):f},function(p){return c=p,i=p(e),o=p(t),s=p(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h}}function aPe(){var e=G1(V5()(Cu));return e.copy=function(){return Qy(e,aPe())},Yy.apply(e,arguments)}function lPe(){var e=MZ(V5()).domain([.1,1,10]);return e.copy=function(){return Qy(e,lPe()).base(e.base())},Yy.apply(e,arguments)}function uPe(){var e=$Z(V5());return e.copy=function(){return Qy(e,uPe()).constant(e.constant())},Yy.apply(e,arguments)}function UZ(){var e=FZ(V5());return e.copy=function(){return Qy(e,UZ()).exponent(e.exponent())},Yy.apply(e,arguments)}function fTt(){return UZ.apply(null,arguments).exponent(.5)}function Rp(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const hTt=Rp("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),pTt=Rp("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),mTt=Rp("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),gTt=Rp("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),yTt=Rp("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),vTt=Rp("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),bTt=Rp("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),wTt=Rp("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),xTt=Rp("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),_Tt=Rp("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function VZ(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const ETt="identity",L_="linear",eg="log",tR="pow",nR="sqrt",H5="symlog",e1="time",t1="utc",Xh="sequential",tC="diverging",j_="quantile",q5="quantize",W5="threshold",HZ="ordinal",Cq="point",cPe="band",qZ="bin-ordinal",$s="continuous",rR="discrete",iR="discretizing",Od="interpolating",WZ="temporal";function CTt(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function STt(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,s,a,l,u;for(i<r&&(a=r,r=i,i=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(o<0&&(o=l),s=l);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function GZ(){const e=kZ().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,s=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const d=t().length,f=r[1]<r[0],h=r[1-f],m=VZ(d,a,l);let p=r[f-0];i=(h-p)/(m||1),s&&(i=Math.floor(i)),p+=(h-p-i*(d-a))*u,o=i*(1-a),s&&(p=Math.round(p),o=Math.round(o));const g=lc(d).map(y=>p+i*y);return n(f?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?(r=[+d[0],+d[1]],c()):r.slice()},e.rangeRound=function(d){return r=[+d[0],+d[1]],s=!0,c()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(d){return arguments.length?(s=!!d,c()):s},e.padding=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),a=l,c()):a},e.paddingInner=function(d){return arguments.length?(a=Math.max(0,Math.min(1,d)),c()):a},e.paddingOuter=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),c()):l},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),c()):u},e.invertRange=function(d){if(d[0]==null||d[1]==null)return;const f=r[1]<r[0],h=f?n().reverse():n(),m=h.length-1;let p=+d[0],g=+d[1],y,v,w;if(!(p!==p||g!==g)&&(g<p&&(w=p,p=g,g=w),!(g<h[0]||p>r[1-f])))return y=Math.max(0,py(h,p)-1),v=p===g?y:py(h,g)-1,p-h[y]>o+1e-10&&++y,f&&(w=y,y=m-v,v=m-w),y>v?void 0:t().slice(y,v+1)},e.invert=function(d){const f=e.invertRange([d,d]);return f&&f[0]},e.copy=function(){return GZ().domain(t()).range(r).round(s).paddingInner(a).paddingOuter(l).align(u)},c()}function dPe(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return dPe(t())},e}function TTt(){return dPe(GZ().paddingInner(1))}var ATt=Array.prototype.map;function kTt(e){return ATt.call(e,rl)}const RTt=Array.prototype.slice;function fPe(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(py(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=kTt(r),n):e.slice()},n.range=function(r){return arguments.length?(t=RTt.call(r),n):t.slice()},n.tickFormat=function(r,i){return QDe(e[0],Mr(e),r??10,i)},n.copy=function(){return fPe().domain(n.domain()).range(n.range())},n}const W4=new Map,hPe=Symbol("vega_scale");function pPe(e){return e[hPe]=!0,e}function Upe(e){return e&&e[hPe]===!0}function ITt(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?CTt(o):o.invertExtent?STt(o):void 0),o.type=e,pPe(o)};return r.metadata=Pf(_n(n)),r}function ii(e,t,n){return arguments.length>1?(W4.set(e,ITt(e,t,n)),this):mPe(e)?W4.get(e):void 0}ii(ETt,JDe);ii(L_,Zb,$s);ii(eg,ePe,[$s,eg]);ii(tR,LZ,$s);ii(nR,sTt,$s);ii(H5,tPe,$s);ii(e1,uTt,[$s,WZ]);ii(t1,cTt,[$s,WZ]);ii(Xh,BZ,[$s,Od]);ii(`${Xh}-${L_}`,BZ,[$s,Od]);ii(`${Xh}-${eg}`,oPe,[$s,Od,eg]);ii(`${Xh}-${tR}`,zZ,[$s,Od]);ii(`${Xh}-${nR}`,dTt,[$s,Od]);ii(`${Xh}-${H5}`,sPe,[$s,Od]);ii(`${tC}-${L_}`,aPe,[$s,Od]);ii(`${tC}-${eg}`,lPe,[$s,Od,eg]);ii(`${tC}-${tR}`,UZ,[$s,Od]);ii(`${tC}-${nR}`,fTt,[$s,Od]);ii(`${tC}-${H5}`,uPe,[$s,Od]);ii(j_,nPe,[iR,j_]);ii(q5,rPe,iR);ii(W5,iPe,iR);ii(qZ,fPe,[rR,iR]);ii(HZ,kZ,rR);ii(cPe,GZ,rR);ii(Cq,TTt,rR);function mPe(e){return W4.has(e)}function Y1(e,t){const n=W4.get(e);return n&&n.metadata[t]}function YZ(e){return Y1(e,$s)}function B_(e){return Y1(e,rR)}function Sq(e){return Y1(e,iR)}function gPe(e){return Y1(e,eg)}function DTt(e){return Y1(e,WZ)}function yPe(e){return Y1(e,Od)}function vPe(e){return Y1(e,j_)}const PTt=["clamp","base","constant","exponent"];function bPe(e,t){const n=t[0],r=Mr(t)-n;return function(i){return e(n+i*r)}}function G5(e,t,n){return NZ(KZ(t||"rgb",n),e)}function wPe(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function xPe(e,t,n){const r=n-t;let i,o,s;return!r||!Number.isFinite(r)?fl(.5):(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),s=ii(o)().domain([t,n]).range([0,1]),PTt.forEach(a=>e[a]?s[a](e[a]()):0),s)}function KZ(e,t){const n=YSt[OTt(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function OTt(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const NTt={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},MTt={accent:pTt,category10:hTt,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:mTt,observable10:gTt,paired:yTt,pastel1:vTt,pastel2:bTt,set1:wTt,set2:xTt,set3:_Tt,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function _Pe(e){if(fn(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function EPe(e,t){for(const n in e)XZ(n,t(e[n]))}const Vpe={};EPe(MTt,_Pe);EPe(NTt,e=>G5(_Pe(e)));function XZ(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Vpe[e]=t,this):Vpe[e]}const jO="symbol",$Tt="discrete",FTt="gradient",LTt=e=>fn(e)?e.map(t=>String(t)):String(e),jTt=(e,t)=>e[1]-t[1],BTt=(e,t)=>t[1]-e[1];function QZ(e,t,n){let r;return hy(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(Yk(e.domain())/n||1)+1))),Jn(t)&&(r=t.step,t=t.interval),ni(t)&&(t=e.type===e1?QE(t):e.type==t1?JE(t):it("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function CPe(e,t,n){let r=e.range(),i=r[0],o=Mr(r),s=jTt;if(i>o&&(r=o,o=i,i=r,s=BTt),i=Math.floor(i),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=o).sort(s).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],Mr(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=a)}return t}function JZ(e,t){return e.bins?CPe(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function SPe(e,t,n,r,i,o){const s=t.type;let a=LTt;if(s===e1||i===e1)a=e.timeFormat(r);else if(s===t1||i===t1)a=e.utcFormat(r);else if(gPe(s)){const l=e.formatFloat(r);if(o||t.bins)a=l;else{const u=TPe(t,n,!1);a=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function TPe(e,t,n){const r=JZ(e,t),i=e.base(),o=Math.log(i),s=Math.max(1,i*t/r.length),a=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/o));return u*i<i-.5&&(u*=i),u<=s};return n?r.filter(a):a}const Tq={[j_]:"quantiles",[q5]:"thresholds",[W5]:"domain"},APe={[j_]:"quantiles",[q5]:"domain"};function kPe(e,t){return e.bins?VTt(e.bins):e.type===eg?TPe(e,t,!0):Tq[e.type]?UTt(e[Tq[e.type]]()):JZ(e,t)}function zTt(e,t,n){const r=t[APe[t.type]](),i=r.length;let o=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)o=Math.min(o,r[s]-r[s-1]);return e.formatSpan(0,o,30,n)}function UTt(e){const t=[-1/0].concat(e);return t.max=1/0,t}function VTt(e){const t=e.slice(0,-1);return t.max=Mr(e),t}const HTt=e=>Tq[e.type]||e.bins;function RPe(e,t,n,r,i,o,s){const a=APe[t.type]&&o!==e1&&o!==t1?zTt(e,t,i):SPe(e,t,n,i,o,s);return r===jO&&HTt(t)?qTt(a):r===$Tt?WTt(a):GTt(a)}const qTt=e=>(t,n,r)=>{const i=Hpe(r[n+1],Hpe(r.max,1/0)),o=qpe(t,e),s=qpe(i,e);return o&&s?o+"  "+s:s?"< "+s:" "+o},Hpe=(e,t)=>e??t,WTt=e=>(t,n)=>n?e(t):null,GTt=e=>t=>e(t),qpe=(e,t)=>Number.isFinite(e)?t(e):null;function YTt(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+Mr(t),o=i-r;if(e.type===W5){const s=n?o/n:.1;r-=s,i+=s,o=i-r}return s=>(s-r)/o}function KTt(e,t,n,r){const i=r||t.type;return ni(n)&&DTt(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===e1?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===t1?e.utcFormat("%A, %d %B %Y, %X UTC"):RPe(e,t,5,null,n,r,!0)}function IPe(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=KTt(e,t,n.format,n.formatType);if(Sq(t.type)){const o=kPe(t).slice(1).map(i),s=o.length;return`${s} boundar${s===1?"y":"ies"}: ${o.join(", ")}`}else if(B_(t.type)){const o=t.domain(),s=o.length,a=s>r?o.slice(0,r-2).map(i).join(", ")+", ending with "+o.slice(-1).map(i):o.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${a}`}else{const o=t.domain();return`values from ${i(o[0])} to ${i(Mr(o))}`}}let DPe=0;function XTt(){DPe=0}const G4="p_";function ZZ(e){return e&&e.gradient}function PPe(e,t,n){const r=e.gradient;let i=e.id,o=r==="radial"?G4:"";return i||(i=e.id="gradient_"+DPe++,r==="radial"?(e.x1=wh(e.x1,.5),e.y1=wh(e.y1,.5),e.r1=wh(e.r1,0),e.x2=wh(e.x2,.5),e.y2=wh(e.y2,.5),e.r2=wh(e.r2,.5),o=G4):(e.x1=wh(e.x1,0),e.y1=wh(e.y1,0),e.x2=wh(e.x2,1),e.y2=wh(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function wh(e,t){return e??t}function OPe(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,o){return n.push({offset:i,color:o}),r}}}const Wpe={basis:{curve:YCt},"basis-closed":{curve:KCt},"basis-open":{curve:XCt},bundle:{curve:QCt,tension:"beta",value:.85},cardinal:{curve:JCt,tension:"tension",value:0},"cardinal-open":{curve:eSt,tension:"tension",value:0},"cardinal-closed":{curve:ZCt,tension:"tension",value:0},"catmull-rom":{curve:tSt,tension:"alpha",value:.5},"catmull-rom-closed":{curve:nSt,tension:"alpha",value:.5},"catmull-rom-open":{curve:rSt,tension:"alpha",value:.5},linear:{curve:EZ},"linear-closed":{curve:iSt},monotone:{horizontal:sSt,vertical:oSt},natural:{curve:aSt},step:{curve:lSt},"step-after":{curve:cSt},"step-before":{curve:uSt}};function eee(e,t,n){var r=Nn(Wpe,e)&&Wpe[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const QTt={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},JTt=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,ZTt=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,e2t=/^((\s+,?\s*)|(,\s*))/,t2t=/^[01]/;function z_(e){const t=[];return(e.match(JTt)||[]).forEach(r=>{let i=r[0];const o=i.toLowerCase(),s=QTt[o],a=n2t(o,s,r.slice(1).trim()),l=a.length;if(l<s||l&&l%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,s)]),l!==s){o==="m"&&(i=i==="M"?"L":"l");for(let u=s;u<l;u+=s)t.push([i,...a.slice(u,u+s)])}}),t}function n2t(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const s=e==="a"&&(o===3||o===4)?t2t:ZTt,a=n.slice(i).match(s);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(e2t);l!==null&&(i+=l[0].length)}return r}const by=Math.PI/180,r2t=1e-14,ob=Math.PI/2,Oh=Math.PI*2,Qw=Math.sqrt(3)/2;var D7={},P7={},NPe=[].join;function i2t(e,t,n,r,i,o,s,a,l){const u=NPe.call(arguments);if(D7[u])return D7[u];const c=s*by,d=Math.sin(c),f=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=f*(a-e)*.5+d*(l-t)*.5,m=f*(l-t)*.5-d*(a-e)*.5;let p=h*h/(n*n)+m*m/(r*r);p>1&&(p=Math.sqrt(p),n*=p,r*=p);const g=f/n,y=d/n,v=-d/r,w=f/r,E=g*a+y*l,C=v*a+w*l,S=g*e+y*t,T=v*e+w*t;let D=1/((S-E)*(S-E)+(T-C)*(T-C))-.25;D<0&&(D=0);let I=Math.sqrt(D);o==i&&(I=-I);const P=.5*(E+S)-I*(T-C),N=.5*(C+T)+I*(S-E),$=Math.atan2(C-N,E-P);let j=Math.atan2(T-N,S-P)-$;j<0&&o===1?j+=Oh:j>0&&o===0&&(j-=Oh);const B=Math.ceil(Math.abs(j/(ob+.001))),H=[];for(let q=0;q<B;++q){const Y=$+q*j/B,V=$+(q+1)*j/B;H[q]=[P,N,Y,V,n,r,d,f]}return D7[u]=H}function o2t(e){const t=NPe.call(e);if(P7[t])return P7[t];var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7];const c=u*s,d=-l*a,f=l*s,h=u*a,m=Math.cos(i),p=Math.sin(i),g=Math.cos(o),y=Math.sin(o),v=.5*(o-i),w=Math.sin(v*.5),E=8/3*w*w/Math.sin(v),C=n+m-E*p,S=r+p+E*m,T=n+g,A=r+y,D=T+E*y,I=A-E*g;return P7[t]=[c*C+d*S,f*C+h*S,c*D+d*I,f*D+h*I,c*T+d*A,f*T+h*A]}const zc=["l",0,0,0,0,0,0,0];function s2t(e,t,n){const r=zc[0]=e[0];if(r==="a"||r==="A")zc[1]=t*e[1],zc[2]=n*e[2],zc[3]=e[3],zc[4]=e[4],zc[5]=e[5],zc[6]=t*e[6],zc[7]=n*e[7];else if(r==="h"||r==="H")zc[1]=t*e[1];else if(r==="v"||r==="V")zc[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)zc[i]=(i%2==1?t:n)*e[i];return zc}function wA(e,t,n,r,i,o){var s,a=null,l=0,u=0,c=0,d=0,f,h,m,p,g=0,y=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),o==null&&(o=i),e.beginPath&&e.beginPath();for(var v=0,w=t.length;v<w;++v){switch(s=t[v],(i!==1||o!==1)&&(s=s2t(s,i,o)),s[0]){case"l":l+=s[1],u+=s[2],e.lineTo(l+n,u+r);break;case"L":l=s[1],u=s[2],e.lineTo(l+n,u+r);break;case"h":l+=s[1],e.lineTo(l+n,u+r);break;case"H":l=s[1],e.lineTo(l+n,u+r);break;case"v":u+=s[1],e.lineTo(l+n,u+r);break;case"V":u=s[1],e.lineTo(l+n,u+r);break;case"m":l+=s[1],u+=s[2],g=l,y=u,e.moveTo(l+n,u+r);break;case"M":l=s[1],u=s[2],g=l,y=u,e.moveTo(l+n,u+r);break;case"c":f=l+s[5],h=u+s[6],c=l+s[3],d=u+s[4],e.bezierCurveTo(l+s[1]+n,u+s[2]+r,c+n,d+r,f+n,h+r),l=f,u=h;break;case"C":l=s[5],u=s[6],c=s[3],d=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,c+n,d+r,l+n,u+r);break;case"s":f=l+s[3],h=u+s[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,l+s[1]+n,u+s[2]+r,f+n,h+r),c=l+s[1],d=u+s[2],l=f,u=h;break;case"S":f=s[3],h=s[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,s[1]+n,s[2]+r,f+n,h+r),l=f,u=h,c=s[1],d=s[2];break;case"q":f=l+s[3],h=u+s[4],c=l+s[1],d=u+s[2],e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h;break;case"Q":f=s[3],h=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,f+n,h+r),l=f,u=h,c=s[1],d=s[2];break;case"t":f=l+s[1],h=u+s[2],a[0].match(/[QqTt]/)===null?(c=l,d=u):a[0]==="t"?(c=2*l-m,d=2*u-p):a[0]==="q"&&(c=2*l-c,d=2*u-d),m=c,p=d,e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h,c=l+s[1],d=u+s[2];break;case"T":f=s[1],h=s[2],c=2*l-c,d=2*u-d,e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h;break;case"a":Gpe(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+l+n,s[7]+u+r]),l+=s[6],u+=s[7];break;case"A":Gpe(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),l=s[6],u=s[7];break;case"z":case"Z":l=g,u=y,e.closePath();break}a=s}}function Gpe(e,t,n,r){const i=i2t(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const s=o2t(i[o]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const Ype=.5773502691896257,Kpe={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Oh)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Qw*n,i=r-n*Ype,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Qw*n,i=r-n*Ype;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Qw*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Qw*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Qw*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Qw*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function MPe(e){return Nn(Kpe,e)?Kpe[e]:a2t(e)}var O7={};function a2t(e){if(!Nn(O7,e)){const t=z_(e);O7[e]={draw:function(n,r){wA(n,t,0,0,Math.sqrt(r)/2)}}}return O7[e]}const Zg=.448084975506;function l2t(e){return e.x}function u2t(e){return e.y}function c2t(e){return e.width}function d2t(e){return e.height}function Zp(e){return typeof e=="function"?e:()=>+e}function qD(e,t,n){return Math.max(t,Math.min(e,n))}function $Pe(){var e=l2t,t=u2t,n=c2t,r=d2t,i=Zp(0),o=i,s=i,a=i,l=null;function u(c,d,f){var h,m=d??+e.call(this,c),p=f??+t.call(this,c),g=+n.call(this,c),y=+r.call(this,c),v=Math.min(g,y)/2,w=qD(+i.call(this,c),0,v),E=qD(+o.call(this,c),0,v),C=qD(+s.call(this,c),0,v),S=qD(+a.call(this,c),0,v);if(l||(l=h=N5()),w<=0&&E<=0&&C<=0&&S<=0)l.rect(m,p,g,y);else{var T=m+g,A=p+y;l.moveTo(m+w,p),l.lineTo(T-E,p),l.bezierCurveTo(T-Zg*E,p,T,p+Zg*E,T,p+E),l.lineTo(T,A-S),l.bezierCurveTo(T,A-Zg*S,T-Zg*S,A,T-S,A),l.lineTo(m+C,A),l.bezierCurveTo(m+Zg*C,A,m,A-Zg*C,m,A-C),l.lineTo(m,p+w),l.bezierCurveTo(m,p+Zg*w,m+Zg*w,p,m+w,p),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(c){return arguments.length?(e=Zp(c),u):e},u.y=function(c){return arguments.length?(t=Zp(c),u):t},u.width=function(c){return arguments.length?(n=Zp(c),u):n},u.height=function(c){return arguments.length?(r=Zp(c),u):r},u.cornerRadius=function(c,d,f,h){return arguments.length?(i=Zp(c),o=d!=null?Zp(d):i,a=f!=null?Zp(f):i,s=h!=null?Zp(h):o,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function FPe(){var e,t,n,r,i=null,o,s,a,l;function u(d,f,h){const m=h/2;if(o){var p=a-f,g=d-s;if(p||g){var y=Math.hypot(p,g),v=(p/=y)*l,w=(g/=y)*l,E=Math.atan2(g,p);i.moveTo(s-v,a-w),i.lineTo(d-p*m,f-g*m),i.arc(d,f,m,E-Math.PI,E),i.lineTo(s+v,a+w),i.arc(s,a,l,E,E+Math.PI)}else i.arc(d,f,m,0,Oh);i.closePath()}else o=1;s=d,a=f,l=m}function c(d){var f,h=d.length,m,p=!1,g;for(i==null&&(i=g=N5()),f=0;f<=h;++f)!(f<h&&r(m=d[f],f,d))===p&&(p=!p)&&(o=0),p&&u(+e(m,f,d),+t(m,f,d),+n(m,f,d));if(g)return i=null,g+""||null}return c.x=function(d){return arguments.length?(e=d,c):e},c.y=function(d){return arguments.length?(t=d,c):t},c.size=function(d){return arguments.length?(n=d,c):n},c.defined=function(d){return arguments.length?(r=d,c):r},c.context=function(d){return arguments.length?(d==null?i=null:i=d,c):i},c}function oR(e,t){return e??t}const sR=e=>e.x||0,aR=e=>e.y||0,f2t=e=>e.width||0,h2t=e=>e.height||0,p2t=e=>(e.x||0)+(e.width||0),m2t=e=>(e.y||0)+(e.height||0),g2t=e=>e.startAngle||0,y2t=e=>e.endAngle||0,v2t=e=>e.padAngle||0,b2t=e=>e.innerRadius||0,w2t=e=>e.outerRadius||0,x2t=e=>e.cornerRadius||0,_2t=e=>oR(e.cornerRadiusTopLeft,e.cornerRadius)||0,E2t=e=>oR(e.cornerRadiusTopRight,e.cornerRadius)||0,C2t=e=>oR(e.cornerRadiusBottomRight,e.cornerRadius)||0,S2t=e=>oR(e.cornerRadiusBottomLeft,e.cornerRadius)||0,T2t=e=>oR(e.size,64),A2t=e=>e.size||1,Y5=e=>e.defined!==!1,k2t=e=>MPe(e.shape||"circle"),R2t=qCt().startAngle(g2t).endAngle(y2t).padAngle(v2t).innerRadius(b2t).outerRadius(w2t).cornerRadius(x2t),I2t=fDe().x(sR).y1(aR).y0(m2t).defined(Y5),D2t=fDe().y(aR).x1(sR).x0(p2t).defined(Y5),P2t=dDe().x(sR).y(aR).defined(Y5),O2t=$Pe().x(sR).y(aR).width(f2t).height(h2t).cornerRadius(_2t,E2t,C2t,S2t),N2t=GCt().type(k2t).size(T2t),M2t=FPe().x(sR).y(aR).defined(Y5).size(A2t);function tee(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function $2t(e,t){return R2t.context(e)(t)}function F2t(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?D2t:I2t).curve(eee(r,n.orient,n.tension)).context(e)(t)}function L2t(e,t){const n=t[0],r=n.interpolate||"linear";return P2t.curve(eee(r,n.orient,n.tension)).context(e)(t)}function nC(e,t,n,r){return O2t.context(e)(t,n,r)}function j2t(e,t){return(t.mark.shape||t.shape).context(e)(t)}function B2t(e,t){return N2t.context(e)(t)}function z2t(e,t){return M2t.context(e)(t)}var LPe=1;function U2t(){LPe=1}function nee(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+LPe++),s=i.clipping[o]||(i.clipping[o]={id:o});return cr(r)?s.path=r(null):tee(n)?s.path=nC(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function ps(e){this.clear(),e&&this.union(e)}ps.prototype={clone(){return new ps(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:s}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*i+u,l*r+a*i+c,a*r-l*s+u,l*r+a*s+c,a*o-l*i+u,l*o+a*i+c,a*o-l*s+u,l*o+a*s+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function K5(e){this.mark=e,this.bounds=this.bounds||new ps}function X5(e){K5.call(this,e),this.items=this.items||[]}Pt(X5,K5);class jPe{constructor(t){this._pending=0,this._loader=t||_5()}pending(){return this._pending}sanitizeURL(t){const n=this;return Xpe(n),n._loader.sanitize(t,{context:"href"}).then(r=>(AS(n),r)).catch(()=>(AS(n),null))}loadImage(t){const n=this,r=dSt();return Xpe(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const o=i.href;if(!o||!r)throw{url:o};const s=new r,a=Nn(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(s.crossOrigin=a),s.onload=()=>AS(n),s.onerror=()=>AS(n),s.src=o,s}).catch(i=>(AS(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function Xpe(e){e._pending+=1}function AS(e){e._pending-=1}function Cg(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?V2t(t,r):0))}return e}function V2t(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const H2t=Oh-1e-8;let Q5,BO,zO,vb,Aq,UO,kq,Rq;const I0=(e,t)=>Q5.add(e,t),VO=(e,t)=>I0(BO=e,zO=t),Qpe=e=>I0(e,Q5.y1),Jpe=e=>I0(Q5.x1,e),sb=(e,t)=>Aq*e+kq*t,ab=(e,t)=>UO*e+Rq*t,N7=(e,t)=>I0(sb(e,t),ab(e,t)),M7=(e,t)=>VO(sb(e,t),ab(e,t));function lR(e,t){return Q5=e,t?(vb=t*by,Aq=Rq=Math.cos(vb),UO=Math.sin(vb),kq=-UO):(Aq=Rq=1,vb=UO=kq=0),q2t}const q2t={beginPath(){},closePath(){},moveTo:M7,lineTo:M7,rect(e,t,n,r){vb?(N7(e+n,t),N7(e+n,t+r),N7(e,t+r),M7(e,t)):(I0(e+n,t+r),VO(e,t))},quadraticCurveTo(e,t,n,r){const i=sb(e,t),o=ab(e,t),s=sb(n,r),a=ab(n,r);Zpe(BO,i,s,Qpe),Zpe(zO,o,a,Jpe),VO(s,a)},bezierCurveTo(e,t,n,r,i,o){const s=sb(e,t),a=ab(e,t),l=sb(n,r),u=ab(n,r),c=sb(i,o),d=ab(i,o);eme(BO,s,l,c,Qpe),eme(zO,a,u,d,Jpe),VO(c,d)},arc(e,t,n,r,i,o){if(r+=vb,i+=vb,BO=n*Math.cos(i)+e,zO=n*Math.sin(i)+t,Math.abs(i-r)>H2t)I0(e-n,t-n),I0(e+n,t+n);else{const s=u=>I0(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(s(r),s(i),i!==r)if(r=r%Oh,r<0&&(r+=Oh),i=i%Oh,i<0&&(i+=Oh),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=Oh,a=r-r%ob,l=0;l<4&&a>i;++l,a-=ob)s(a);else for(a=r-r%ob+ob,l=0;l<4&&a<i;++l,a=a+ob)s(a)}}};function Zpe(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function eme(e,t,n,r,i){const o=r-e+3*t-3*n,s=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(o)>r2t?(c=s*s+a*o,c>=0&&(c=Math.sqrt(c),l=(-s+c)/o,u=(-s-c)/o)):l=.5*a/s,0<l&&l<1&&i(tme(l,e,t,n,r)),0<u&&u<1&&i(tme(u,e,t,n,r))}function tme(e,t,n,r,i){const o=1-e,s=o*o,a=e*e;return s*o*t+3*s*e*n+3*o*a*r+a*e*i}var J0=(J0=Q0(1,1))?J0.getContext("2d"):null;const Iq=new ps;function ree(e){return function(t,n){if(!J0)return!0;e(J0,t),Iq.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:s}=Iq;for(let a=i;a<=s;++a)for(let l=r;l<=o;++l)if(J0.isPointInPath(l,a))return!0;return!1}}function iee(e,t){return t.contains(e.x||0,e.y||0)}function BPe(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(Iq.set(n,r,n+i,r+o))}function zPe(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return Ox(t,n,r,i,o)}function Ox(e,t,n,r,i){const{x1:o,y1:s,x2:a,y2:l}=e,u=r-t,c=i-n;let d=0,f=1,h,m,p,g;for(g=0;g<4;++g){if(g===0&&(h=-u,m=-(o-t)),g===1&&(h=u,m=a-t),g===2&&(h=-c,m=-(s-n)),g===3&&(h=c,m=l-n),Math.abs(h)<1e-10&&m<0)return!1;if(p=m/h,h<0){if(p>f)return!1;p>d&&(d=p)}else if(h>0){if(p<d)return!1;p<f&&(f=p)}}return!0}function U_(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Kd(e,t){return e??t}function nme(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function W2t(e,t,n){const r=n.width(),i=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+Kd(t.x1,.5)*r,n.y1+Kd(t.y1,.5)*i,Math.max(r,i)*Kd(t.r1,0),n.x1+Kd(t.x2,.5)*r,n.y1+Kd(t.y2,.5)*i,Math.max(r,i)*Kd(t.r2,.5));else{const s=Kd(t.x1,0),a=Kd(t.y1,0),l=Kd(t.x2,1),u=Kd(t.y2,0);if(s===l||a===u||r===i)o=e.createLinearGradient(n.x1+s*r,n.y1+a*i,n.x1+l*r,n.y1+u*i);else{const c=Q0(Math.ceil(r),Math.ceil(i)),d=c.getContext("2d");return d.scale(r,i),d.fillStyle=nme(d.createLinearGradient(s,a,l,u),t.stops),d.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return nme(o,t.stops)}function UPe(e,t,n){return ZZ(n)?W2t(e,n,t.bounds):n}function Y4(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=UPe(e,t,t.fill),!0):!1}var G2t=[];function V_(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=UPe(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||G2t),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function Y2t(e,t){return e.zindex-t.zindex||e.index-t.index}function oee(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,o;for(i=0,o=t.length;i<o;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(Y2t)}function Nf(e,t){var n=e.items,r,i;if(!n||!n.length)return;const o=oee(e);if(o&&o.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=o}for(r=0,i=n.length;r<i;++r)t(n[r])}function K4(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const o=oee(e);for(o&&o.length&&(n=o),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===o){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function see(e){return function(t,n,r){Nf(n,i=>{(!r||r.intersects(i.bounds))&&VPe(e,t,i,i)})}}function K2t(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&VPe(e,t,n.items[0],n.items)}}function VPe(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(U_(t,n),n.fill&&Y4(t,n,i)&&t.fill(),n.stroke&&V_(t,n,i)&&t.stroke()))}function J5(e){return e=e||vd,function(t,n,r,i,o,s){return r*=t.pixelRatio,i*=t.pixelRatio,K4(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,s)||!l)&&e(t,a,r,i,o,s))return a})}}function uR(e,t){return function(n,r,i,o){var s=Array.isArray(r)?r[0]:r,a=t??s.fill,l=s.stroke&&n.isPointInStroke,u,c;return l&&(u=s.strokeWidth,c=s.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o)}}function aee(e){return J5(uR(e))}function Pb(e,t){return"translate("+e+","+t+")"}function lee(e){return"rotate("+e+")"}function X2t(e,t){return"scale("+e+","+t+")"}function HPe(e){return Pb(e.x||0,e.y||0)}function Q2t(e){return Pb(e.x||0,e.y||0)+(e.angle?" "+lee(e.angle):"")}function J2t(e){return Pb(e.x||0,e.y||0)+(e.angle?" "+lee(e.angle):"")+(e.scaleX||e.scaleY?" "+X2t(e.scaleX||1,e.scaleY||1):"")}function uee(e,t,n){function r(s,a){s("transform",Q2t(a)),s("d",t(null,a))}function i(s,a){return t(lR(s,a.angle),a),Cg(s,a).translate(a.x||0,a.y||0)}function o(s,a){var l=a.x||0,u=a.y||0,c=a.angle||0;s.translate(l,u),c&&s.rotate(c*=by),s.beginPath(),t(s,a),c&&s.rotate(-c),s.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:see(o),pick:aee(o),isect:n||ree(o)}}var Z2t=uee("arc",$2t);function eAt(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,o=1/0,s,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<o&&(o=a,s=e[i]));return s}function tAt(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,o,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],s=i*i+o*o,s<n))return e[r];return null}function nAt(e,t){for(var n=e.length,r,i,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],o=r*r+i*i,r=e[n].size||1,o<r*r))return e[n];return null}function cee(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t(lR(l),c),Cg(l,c[0]))}function o(l,u){l.beginPath(),t(l,u)}const s=uR(o);function a(l,u,c,d,f,h){var m=u.items,p=u.bounds;return!m||!m.length||p&&!p.contains(f,h)?null:(c*=l.pixelRatio,d*=l.pixelRatio,s(l,m,c,d)?m[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:K2t(o),pick:a,isect:iee,tip:n}}var rAt=cee("area",F2t,eAt);function iAt(e,t){var n=t.clip;e.save(),cr(n)?(e.beginPath(),n(e),e.clip()):qPe(e,t.group)}function qPe(e,t){e.beginPath(),tee(t)?nC(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function WPe(e){const t=Kd(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function oAt(e,t){e("transform",HPe(t))}function GPe(e,t){const n=WPe(t);e("d",nC(null,t,n,n))}function sAt(e,t){e("class","background"),e("aria-hidden",!0),GPe(e,t)}function aAt(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?GPe(e,t):e("d","")}function lAt(e,t,n){const r=t.clip?nee(n,t,t):null;e("clip-path",r)}function uAt(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Cg(e,t),e.translate(t.x||0,t.y||0)}function xA(e,t,n,r){const i=WPe(t);e.beginPath(),nC(e,t,(n||0)+i,(r||0)+i)}const cAt=uR(xA),dAt=uR(xA,!1),fAt=uR(xA,!0);function hAt(e,t,n,r){Nf(t,i=>{const o=i.x||0,s=i.y||0,a=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(xA(e,i,o,s),U_(e,i),i.fill&&Y4(e,i,l)&&e.fill(),i.stroke&&!a&&V_(e,i,l)&&e.stroke()),e.save(),e.translate(o,s),i.clip&&qPe(e,i),n&&n.translate(-o,-s),Nf(i,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(o,s),e.restore(),a&&i.stroke&&l&&(xA(e,i,o,s),U_(e,i),V_(e,i,l)&&e.stroke())})}function pAt(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const s=n*e.pixelRatio,a=r*e.pixelRatio;return K4(t,l=>{let u,c,d;const f=l.bounds;if(f&&!f.contains(i,o))return;c=l.x||0,d=l.y||0;const h=c+(l.width||0),m=d+(l.height||0),p=l.clip;if(p&&(i<c||i>h||o<d||o>m))return;if(e.save(),e.translate(c,d),c=i-c,d=o-d,p&&tee(l)&&!fAt(e,l,s,a))return e.restore(),null;const g=l.strokeForeground,y=t.interactive!==!1;return y&&g&&l.stroke&&dAt(e,l,s,a)?(e.restore(),l):(u=K4(l,v=>mAt(v,c,d)?this.pick(v,n,r,c,d):null),!u&&y&&(l.fill||!g&&l.stroke)&&cAt(e,l,s,a)&&(u=l),e.restore(),u||null)})}function mAt(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var gAt={type:"group",tag:"g",nested:!1,attr:oAt,bound:uAt,draw:hAt,pick:pAt,isect:BPe,content:lAt,background:sAt,foreground:aAt},_A={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function dee(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function fee(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function hee(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function Z5(e,t){return e==="center"?t/2:e==="right"?t:0}function eF(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function yAt(e,t,n){const r=dee(t,n),i=fee(t,r),o=hee(t,r),s=(t.x||0)-Z5(t.align,i),a=(t.y||0)-eF(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,_A["xmlns:xlink"],"xlink:href"),e("transform",Pb(s,a)),e("width",i),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function vAt(e,t){const n=t.image,r=fee(t,n),i=hee(t,n),o=(t.x||0)-Z5(t.align,r),s=(t.y||0)-eF(t.baseline,i);return e.set(o,s,o+r,s+i)}function bAt(e,t,n){Nf(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=dee(r,this);let o=fee(r,i),s=hee(r,i);if(o===0||s===0)return;let a=(r.x||0)-Z5(r.align,o),l=(r.y||0)-eF(r.baseline,s),u,c,d,f;r.aspect!==!1&&(c=i.width/i.height,d=r.width/r.height,c===c&&d===d&&c!==d&&(d<c?(f=o/c,l+=(s-f)/2,s=f):(f=s*c,a+=(o-f)/2,o=f))),(i.complete||i.toDataURL)&&(U_(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,o,s))})}var wAt={type:"image",tag:"image",nested:!1,attr:yAt,bound:vAt,draw:bAt,pick:J5(),isect:vd,get:dee,xOffset:Z5,yOffset:eF},xAt=cee("line",L2t,tAt);function _At(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",J2t(t)),e("d",t.path)}function HO(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,s=t.scaleY||1,a=(t.angle||0)*by,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=z_(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),wA(e,l,0,0,o,s),e.rotate(-a),e.translate(-r,-i)):wA(e,l,r,i,o,s)}function EAt(e,t){return HO(lR(e,t.angle),t)?e.set(0,0,0,0):Cg(e,t,!0)}var CAt={type:"path",tag:"path",nested:!1,attr:_At,bound:EAt,draw:see(HO),pick:aee(HO),isect:ree(HO)};function SAt(e,t){e("d",nC(null,t))}function TAt(e,t){var n,r;return Cg(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function rme(e,t){e.beginPath(),nC(e,t)}var AAt={type:"rect",tag:"path",nested:!1,attr:SAt,bound:TAt,draw:see(rme),pick:aee(rme),isect:BPe};function kAt(e,t){e("transform",HPe(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function RAt(e,t){var n,r;return Cg(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function YPe(e,t,n){var r,i,o,s;return t.stroke&&V_(e,t,n)?(r=t.x||0,i=t.y||0,o=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,s),!0):!1}function IAt(e,t,n){Nf(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&YPe(e,r,i)&&(U_(e,r),e.stroke())}})}function DAt(e,t,n,r){return e.isPointInStroke?YPe(e,t,1)&&e.isPointInStroke(n,r):!1}var PAt={type:"rule",tag:"line",nested:!1,attr:kAt,bound:RAt,draw:IAt,pick:J5(DAt),isect:zPe},OAt=uee("shape",j2t),NAt=uee("symbol",B2t,iee);const ime=tRe();var fc={height:Ip,measureWidth:pee,estimateWidth:X4,width:X4,canvas:KPe};KPe(!0);function KPe(e){fc.width=e&&J0?pee:X4}function X4(e,t){return XPe(xy(e,t),Ip(e))}function XPe(e,t){return~~(.8*e.length*t)}function pee(e,t){return Ip(e)<=0||!(t=xy(e,t))?0:QPe(t,tF(e))}function QPe(e,t){const n=`(${t}) ${e}`;let r=ime.get(n);return r===void 0&&(J0.font=t,r=J0.measureText(e).width,ime.set(n,r)),r}function Ip(e){return e.fontSize!=null?+e.fontSize||0:11}function wy(e){return e.lineHeight!=null?e.lineHeight:Ip(e)+2}function MAt(e){return fn(e)?e.length>1?e:e[0]:e}function cR(e){return MAt(e.lineBreak&&e.text&&!fn(e.text)?e.text.split(e.lineBreak):e.text)}function mee(e){const t=cR(e);return(fn(t)?t.length-1:0)*wy(e)}function xy(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?FAt(e,n):n}function $At(e){if(fc.width===pee){const t=tF(e);return n=>QPe(n,t)}else if(fc.width===X4){const t=Ip(e);return n=>XPe(n,t)}else return t=>fc.width(e,t)}function FAt(e,t){var n=+e.limit,r=$At(e);if(r(t)<n)return t;var i=e.ellipsis||"",o=e.dir==="rtl",s=0,a=t.length,l;if(n-=r(i),o){for(;s<a;)l=s+a>>>1,r(t.slice(l))>n?s=l+1:a=l;return i+t.slice(s)}else{for(;s<a;)l=1+(s+a>>>1),r(t.slice(0,l))<n?s=l:a=l-1;return t.slice(0,s)+i}}function dR(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function tF(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Ip(e)+"px "+dR(e,t)}function gee(e){var t=e.baseline,n=Ip(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*wy(e):t==="line-bottom"?.29*n-.5*wy(e):0)}const LAt={left:"start",center:"middle",right:"end"},u2=new ps;function nF(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-ob,t+=r*Math.cos(i),n+=r*Math.sin(i)),u2.x1=t,u2.y1=n,u2}function jAt(e,t){var n=t.dx||0,r=(t.dy||0)+gee(t),i=nF(t),o=i.x1,s=i.y1,a=t.angle||0,l;e("text-anchor",LAt[t.align]||"start"),a?(l=Pb(o,s)+" "+lee(a),(n||r)&&(l+=" "+Pb(n,r))):l=Pb(o+n,s+r),e("transform",l)}function yee(e,t,n){var r=fc.height(t),i=t.align,o=nF(t),s=o.x1,a=o.y1,l=t.dx||0,u=(t.dy||0)+gee(t)-Math.round(.8*r),c=cR(t),d;if(fn(c)?(r+=wy(t)*(c.length-1),d=c.reduce((f,h)=>Math.max(f,fc.width(t,h)),0)):d=fc.width(t,c),i==="center"?l-=d/2:i==="right"&&(l-=d),e.set(l+=s,u+=a,l+d,u+r),t.angle&&!n)e.rotate(t.angle*by,s,a);else if(n===2)return e.rotatedPoints(t.angle*by,s,a);return e}function BAt(e,t,n){Nf(t,r=>{var i=r.opacity==null?1:r.opacity,o,s,a,l,u,c,d;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=tF(r),e.textAlign=r.align||"left",o=nF(r),s=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(s,a),e.rotate(r.angle*by),s=a=0),s+=r.dx||0,a+=(r.dy||0)+gee(r),c=cR(r),U_(e,r),fn(c))for(u=wy(r),l=0;l<c.length;++l)d=xy(r,c[l]),r.fill&&Y4(e,r,i)&&e.fillText(d,s,a),r.stroke&&V_(e,r,i)&&e.strokeText(d,s,a),a+=u;else d=xy(r,c),r.fill&&Y4(e,r,i)&&e.fillText(d,s,a),r.stroke&&V_(e,r,i)&&e.strokeText(d,s,a);r.angle&&e.restore()}})}function zAt(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=nF(t),a=s.x1,l=s.y1,u=yee(u2,t,1),c=-t.angle*by,d=Math.cos(c),f=Math.sin(c),h=d*i-f*o+(a-d*a+f*l),m=f*i+d*o+(l-f*a-d*l);return u.contains(h,m)}function UAt(e,t){const n=yee(u2,e,2);return Ox(t,n[0],n[1],n[2],n[3])||Ox(t,n[0],n[1],n[4],n[5])||Ox(t,n[4],n[5],n[6],n[7])||Ox(t,n[2],n[3],n[6],n[7])}var VAt={type:"text",tag:"text",nested:!1,attr:jAt,bound:yee,draw:BAt,pick:J5(zAt),isect:UAt},HAt=cee("trail",z2t,nAt),Cc={arc:Z2t,area:rAt,group:gAt,image:wAt,line:xAt,path:CAt,rect:AAt,rule:PAt,shape:OAt,symbol:NAt,text:VAt,trail:HAt};function Dq(e,t,n){var r=Cc[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new ps),e,n)}var ome={mark:null};function JPe(e,t,n){var r=Cc[e.marktype],i=r.bound,o=e.items,s=o&&o.length,a,l,u,c;if(r.nested)return s?u=o[0]:(ome.mark=e,u=ome),c=Dq(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new ps,s)for(a=0,l=o.length;a<l;++a)t.union(Dq(o[a],i,n));return e.bounds=t}const qAt=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function ZPe(e,t){return JSON.stringify(e,qAt,t)}function e3e(e){const t=typeof e=="string"?JSON.parse(e):e;return t3e(t)}function t3e(e){var t=e.marktype,n=e.items,r,i,o;if(n)for(i=0,o=n.length;i<o;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&t3e(n[i]);return t&&JPe(e),e}class n3e{constructor(t){arguments.length?this.root=e3e(t):(this.root=sme({marktype:"group",name:"root",role:"frame"}),this.root.items=[new X5(this.root)])}toJSON(t){return ZPe(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=sme(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function sme(e,t){const n={bounds:new ps,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function D0(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function vee(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function As(e,t,n,r){var i=e.childNodes[t],o;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(o=i||null,i=D0(e.ownerDocument,n,r),e.insertBefore(i,o)),i}function Xc(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function r3e(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function rF(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function WAt(e,t,n,r){var i=e&&e.mark,o,s;if(i&&(o=Cc[i.marktype]).tip){for(s=rF(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(i.items,s)}return e}let bee=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||_5(),this._tooltip=n||GAt}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const o=new MouseEvent(t.type,t),s=D0(null,"a");for(const a in i)s.setAttribute(a,i[a]);s.dispatchEvent(o)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=WAt(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,o=t.bounds,s=o.width(),a=o.height();let l=o.x1+i[0]+r.left,u=o.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,u+=t.y||0;return{x:l,y:u,width:s,height:a,left:l,top:u,right:l+s,bottom:u+a}}};function GAt(e,t,n,r){e.element().setAttribute("title",r||"")}class fR{constructor(t){this._el=null,this._bgcolor=null,this._loader=new jPe(t)}initialize(t,n,r,i,o){return this._el=t,this.resize(n,r,i,o)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const o=r._call;r._ready=r._loader.ready().then(s=>{s&&o(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const YAt="keydown",KAt="keypress",XAt="keyup",i3e="dragenter",qO="dragleave",o3e="dragover",Pq="pointerdown",QAt="pointerup",Q4="pointermove",WO="pointerout",s3e="pointerover",Oq="mousedown",JAt="mouseup",a3e="mousemove",J4="mouseout",l3e="mouseover",Z4="click",ZAt="dblclick",ekt="wheel",u3e="mousewheel",eM="touchstart",tM="touchmove",nM="touchend",tkt=[YAt,KAt,XAt,i3e,qO,o3e,Pq,QAt,Q4,WO,s3e,Oq,JAt,a3e,J4,l3e,Z4,ZAt,ekt,u3e,eM,tM,nM],Nq=Q4,c2=J4,Mq=Z4;class hR extends bee{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=tkt,this.pointermove=lme([Q4,a3e],[s3e,l3e],[WO,J4]),this.dragover=lme([o3e],[i3e],[qO]),this.pointerout=ume([WO,J4]),this.dragleave=ume([qO])}initialize(t,n,r){return this._canvas=t&&vee(t,"canvas"),[Z4,Oq,Pq,Q4,WO,qO].forEach(i=>ame(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(u3e,t)}pointerdown(t){this._down=this._active,this.fire(Pq,t)}mousedown(t){this._down=this._active,this.fire(Oq,t)}click(t){this._down===this._active&&(this.fire(Z4,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(eM,t,!0)}touchmove(t){this.fire(tM,t,!0)}touchend(t){this.fire(nM,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,o=this._handlers[t];if(n.vegaType=t,t===Mq&&i&&i.href?this.handleHref(n,i,i.href):(t===Nq||t===c2)&&this.handleTooltip(n,i,t!==c2),o)for(let s=0,a=o.length;s<a;++s)o[s].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(ame(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&i.splice(o,1),this}pickEvent(t){const n=rF(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,o){const s=this.context();return Cc[t.marktype].pick.call(this,s,t,n,r,i,o)}}const nkt=e=>e===eM||e===tM||e===nM?[eM,tM,nM]:[e];function ame(e,t){nkt(t).forEach(n=>rkt(e,n))}function rkt(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function _T(e,t,n){t.forEach(r=>e.fire(r,n))}function lme(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i?_T(this,e,r):((!i||!i.exit)&&_T(this,n,r),this._active=o,_T(this,t,r),_T(this,e,r))}}function ume(e){return function(t){_T(this,e,t),this._active=null}}function ikt(){return typeof window<"u"&&window.devicePixelRatio||1}function okt(e,t,n,r,i,o){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=s?ikt():i;e.width=t*l,e.height=n*l;for(const u in o)a[u]=o[u];return s&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class rM extends fR{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new ps,this._tempb=new ps}initialize(t,n,r,i,o,s){return this._options=s||{},this._canvas=this._options.externalContext?null:Q0(1,1,this._options.type),t&&this._canvas&&(Xc(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,o)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)okt(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const o=this._options.externalContext;o||it("CanvasRenderer is missing a valid canvas or context"),o.scale(this._scale,this._scale),o.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,o=this._width,s=this._height,a=this._dirty,l=skt(i,o,s);r.save();const u=this._redraw||a.empty()?(this._redraw=!1,l.expand(1)):akt(r,l.intersect(a),i);return this.clear(-i[0],-i[1],o,s),this.draw(r,t,u,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const o=Cc[n.marktype];n.clip&&iAt(t,n),o.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const o=this._options,s=this.context();o.type!=="pdf"&&!o.externalContext&&s.clearRect(t,n,r,i),this._bgcolor!=null&&(s.fillStyle=this._bgcolor,s.fillRect(t,n,r,i))}}const skt=(e,t,n)=>new ps().set(0,0,t,n).translate(-e[0],-e[1]);function akt(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class c3e extends bee{constructor(t,n){super(t,n);const r=this;r._hrefHandler=$7(r,(i,o)=>{o&&o.href&&r.handleHref(i,o,o.href)}),r._tooltipHandler=$7(r,(i,o)=>{r.handleTooltip(i,o,i.type!==c2)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(Mq,this._hrefHandler),i.removeEventListener(Nq,this._tooltipHandler),i.removeEventListener(c2,this._tooltipHandler)),this._svg=i=t&&vee(t,"svg"),i&&(i.addEventListener(Mq,this._hrefHandler),i.addEventListener(Nq,this._tooltipHandler),i.addEventListener(c2,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const s={type:t,handler:n,listener:$7(this,n)};(i[r]||(i[r]=[])).push(s),this._svg&&this._svg.addEventListener(r,s.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&(this._svg&&this._svg.removeEventListener(r,i[o].listener),i.splice(o,1)),this}}const $7=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},d3e="aria-hidden",wee="aria-label",xee="role",_ee="aria-roledescription",f3e="graphics-object",Eee="graphics-symbol",h3e=(e,t,n)=>({[xee]:e,[_ee]:t,[wee]:n||void 0}),lkt=Pf(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),cme={axis:{desc:"axis",caption:dkt},legend:{desc:"legend",caption:fkt},"title-text":{desc:"title",caption:e=>`Title text '${fme(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${fme(e)}'`}},dme={ariaRole:xee,ariaRoleDescription:_ee,description:wee};function p3e(e,t){const n=t.aria===!1;if(e(d3e,n||void 0),n||t.description==null)for(const r in dme)e(dme[r],void 0);else{const r=t.mark.marktype;e(wee,t.description),e(xee,t.ariaRole||(r==="group"?f3e:Eee)),e(_ee,t.ariaRoleDescription||`${r} mark`)}}function m3e(e){return e.aria===!1?{[d3e]:!0}:lkt[e.role]?null:cme[e.role]?ckt(e,cme[e.role]):ukt(e)}function ukt(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return h3e(n?f3e:Eee,`${t} mark container`,e.description)}function ckt(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return h3e(t.role||Eee,t.desc,n.description||r(n))}catch{return null}}function fme(e){return _n(e.text).join(" ")}function dkt(e){const t=e.datum,n=e.orient,r=t.title?g3e(e):null,i=e.context,o=i.scales[t.scale].value,s=i.dataflow.locale(),a=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${B_(a)?"discrete":a} scale with ${IPe(s,o,e)}`}function fkt(e){const t=e.datum,n=t.title?g3e(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,o=Object.keys(i),s=e.context,a=s.scales[i[o[0]]].value,l=s.dataflow.locale();return pkt(r)+(n?` titled '${n}'`:"")+` for ${hkt(o)} with ${IPe(l,a,e)}`}function g3e(e){try{return _n(Mr(e.items).items[0].text).join(" ")}catch{return null}}function hkt(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Mr(e)}function pkt(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const y3e=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),mkt=e=>y3e(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function Cee(){let e="",t="",n="";const r=[],i=()=>t=n="",o=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},s=(l,u)=>(u!=null&&(t+=` ${l}="${mkt(u)}"`),a),a={open(l,...u){o(l),t="<"+l;for(const c of u)for(const d in c)s(d,c[d]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:s,text:l=>(n+=y3e(l),a),toString:()=>e};return a}const v3e=e=>b3e(Cee(),e)+"";function b3e(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):b3e(e,r)}return e.close()}const iM={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},oM={blend:"mix-blend-mode"},w3e={fill:"none","stroke-miterlimit":10},kS=0,hme="http://www.w3.org/2000/xmlns/",Ts=_A.xmlns;class See extends fR{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,o){return this._defs={},this._clearDefs(),t&&(this._svg=As(t,0,"svg",Ts),this._svg.setAttributeNS(hme,"xmlns",Ts),this._svg.setAttributeNS(hme,"xmlns:xlink",_A["xmlns:xlink"]),this._svg.setAttribute("version",_A.version),this._svg.setAttribute("class","marks"),Xc(t,1),this._root=As(this._svg,kS,"g",Ts),P0(this._root,w3e),Xc(this._svg,kS+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,o)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(P0(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=As(t,kS,"rect",Ts),P0(r,{width:this._width,height:this._height,fill:n}));const i=v3e(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),Xc(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,o,s,a,l,u;for(a=0,l=t.length;a<l;++a)if(r=t[a],i=r.mark,i.marktype!==o&&(o=i.marktype,s=Cc[o]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,pme(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){s.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(s,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=s.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,pme(r,n)):this._update(s,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const o=this._svg,s=n.marktype,a=Cc[s],l=n.interactive===!1?"none":null,u=a.tag==="g",c=mme(n,t,r,"g",o);if(s!=="group"&&i!=null&&!i.includes(s))return Xc(c,0),n._svg;c.setAttribute("class",r3e(n));const d=m3e(n);for(const p in d)Tl(c,p,d[p]);u||Tl(c,"pointer-events",l),Tl(c,"clip-path",n.clip?nee(this,n,n.group):null);let f=null,h=0;const m=p=>{const g=this.isDirty(p),y=mme(p,c,f,a.tag,o);g&&(this._update(a,y,p),u&&vkt(this,y,p,i)),f=y,++h};return a.nested?n.items.length&&m(n.items[0]):Nf(n,m),Xc(c,h),c}_update(t,n,r){xm=n,Xa=n.__values__,p3e(d2,r),t.attr(d2,r,this);const i=wkt[t.type];i&&i.call(this,t,n,r),xm&&this.style(xm,r)}style(t,n){if(n!=null){for(const r in iM){let i=r==="font"?dR(n):n[r];if(i===Xa[r])continue;const o=iM[r];i==null?t.removeAttribute(o):(ZZ(i)&&(i=PPe(i,this._defs.gradient,x3e())),t.setAttribute(o,i+"")),Xa[r]=i}for(const r in oM)GO(t,oM[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const o in n.gradient)r||(n.el=r=As(t,kS+1,"defs",Ts)),i=gkt(r,n.gradient[o],i);for(const o in n.clipping)r||(n.el=r=As(t,kS+1,"defs",Ts)),i=ykt(r,n.clipping[o],i);r&&(i===0?(t.removeChild(r),n.el=null):Xc(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function pme(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function gkt(e,t,n){let r,i,o;if(t.gradient==="radial"){let s=As(e,n++,"pattern",Ts);P0(s,{id:G4+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=As(s,0,"rect",Ts),P0(s,{width:1,height:1,fill:`url(${x3e()}#${t.id})`}),e=As(e,n++,"radialGradient",Ts),P0(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=As(e,n++,"linearGradient",Ts),P0(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=As(e,r,"stop",Ts),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return Xc(e,r),n}function ykt(e,t,n){let r;return e=As(e,n,"clipPath",Ts),e.setAttribute("id",t.id),t.path?(r=As(e,0,"path",Ts),r.setAttribute("d",t.path)):(r=As(e,0,"rect",Ts),P0(r,{x:0,y:0,width:t.width,height:t.height})),Xc(e,1),n+1}function vkt(e,t,n,r){t=t.lastChild.previousSibling;let i,o=0;Nf(n,s=>{i=e.mark(t,s,i,r),++o}),Xc(t,1+o)}function mme(e,t,n,r,i){let o=e._svg,s;if(!o&&(s=t.ownerDocument,o=D0(s,r,Ts),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const a=D0(s,"path",Ts);o.appendChild(a),a.__data__=e;const l=D0(s,"g",Ts);o.appendChild(l),l.__data__=e;const u=D0(s,"path",Ts);o.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(o.ownerSVGElement!==i||bkt(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function bkt(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let xm=null,Xa=null;const wkt={group(e,t,n){const r=xm=t.childNodes[2];Xa=r.__values__,e.foreground(d2,n,this),Xa=t.__values__,xm=t.childNodes[1],e.content(d2,n,this);const i=xm=t.childNodes[0];e.background(d2,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==Xa.events&&(Tl(r,"pointer-events",o),Tl(i,"pointer-events",o),Xa.events=o),n.strokeForeground&&n.stroke){const s=n.fill;Tl(r,"display",null),this.style(i,n),Tl(i,"stroke",null),s&&(n.fill=null),Xa=r.__values__,this.style(r,n),s&&(n.fill=s),xm=null}else Tl(r,"display","none")},image(e,t,n){n.smooth===!1?(GO(t,"image-rendering","optimizeSpeed"),GO(t,"image-rendering","pixelated")):GO(t,"image-rendering",null)},text(e,t,n){const r=cR(n);let i,o,s,a;fn(r)?(o=r.map(l=>xy(n,l)),i=o.join(`
`),i!==Xa.text&&(Xc(t,0),s=t.ownerDocument,a=wy(n),o.forEach((l,u)=>{const c=D0(s,"tspan",Ts);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),Xa.text=i)):(o=xy(n,r),o!==Xa.text&&(t.textContent=o,Xa.text=o)),Tl(t,"font-family",dR(n)),Tl(t,"font-size",Ip(n)+"px"),Tl(t,"font-style",n.fontStyle),Tl(t,"font-variant",n.fontVariant),Tl(t,"font-weight",n.fontWeight)}};function d2(e,t,n){t!==Xa[e]&&(n?xkt(xm,e,t,n):Tl(xm,e,t),Xa[e]=t)}function GO(e,t,n){n!==Xa[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Xa[t]=n)}function P0(e,t){for(const n in t)Tl(e,n,t[n])}function Tl(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function xkt(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function x3e(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class _3e extends fR{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=Cee();n.open("svg",ur({},_A,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",w3e,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=Cc[n.marktype],i=r.tag,o=[p3e,r.attr];t.open("g",{class:r3e(n),"clip-path":n.clip?nee(this,n,n.group):null},m3e(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const s=a=>{const l=this.href(a);if(l&&t.open("a",l),t.open(i,this.attr(n,a,o,i!=="g"?i:null)),i==="text"){const u=cR(a);if(fn(u)){const c={x:0,dy:wy(a)};for(let d=0;d<u.length;++d)t.open("tspan",d?c:null).text(xy(a,u[d])).close()}else t.text(xy(a,u))}else if(i==="g"){const u=a.strokeForeground,c=a.fill,d=a.stroke;u&&d&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),Nf(a,f=>this.mark(t,f)),t.close(),u&&d?(c&&(a.fill=null),a.stroke=d,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),c&&(a.fill=c)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&s(n.items[0]):Nf(n,s),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const o={},s=(a,l,u,c)=>{o[c||a]=l};return Array.isArray(r)?r.forEach(a=>a(s,n,this)):r(s,n,this),i&&_kt(o,n,t,i,this._defs),o}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const o in n){const s=n[o],a=s.stops;s.gradient==="radial"?(t.open("pattern",{id:G4+o,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+o+")"}).close(),t.close(),t.open("radialGradient",{id:o,fx:s.x1,fy:s.y1,fr:s.r1,cx:s.x2,cy:s.y2,r:s.r2})):t.open("linearGradient",{id:o,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2});for(let l=0;l<a.length;++l)t.open("stop",{offset:a[l].offset,"stop-color":a[l].color}).close();t.close()}for(const o in r){const s=r[o];t.open("clipPath",{id:o}),s.path?t.open("path",{d:s.path}).close():t.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),t.close()}t.close()}}}function _kt(e,t,n,r,i){let o;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=dR(t),e["font-size"]=Ip(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in iM){let a=t[s];const l=iM[s];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(ZZ(a)&&(a=PPe(a,i.gradient,"")),e[l]=a)}for(const s in oM){const a=t[s];a!=null&&(o=o||[],o.push(`${oM[s]}: ${a};`))}return o&&(e.style=o.join(" ")),e}const ef={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function Ekt(e){ef.svgMarkTypes=e.svgMarkTypes??["text"],ef.svgOnTop=e.svgOnTop??!0,ef.debug=e.debug??!1}class $q extends fR{constructor(t){super(t),this._svgRenderer=new See(t),this._canvasRenderer=new rM(t)}initialize(t,n,r,i,o){this._root_el=As(t,0,"div");const s=As(this._root_el,0,"div"),a=As(this._root_el,1,"div");return this._root_el.style.position="relative",ef.debug||(s.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=ef.svgOnTop?a:s,this._canvasEl=ef.svgOnTop?s:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,o),this._svgRenderer.initialize(this._svgEl,n,r,i,o),super.initialize(t,n,r,i,o)}dirty(t){return ef.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(o=>!ef.svgMarkTypes.includes(o));this._svgRenderer.render(t,ef.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return ef.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class E3e extends hR{constructor(t,n){super(t,n)}initialize(t,n,r){const i=As(As(t,0,"div"),ef.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const C3e="canvas",S3e="hybrid",T3e="png",A3e="svg",k3e="none",O0={Canvas:C3e,PNG:T3e,SVG:A3e,Hybrid:S3e,None:k3e},n1={};n1[C3e]=n1[T3e]={renderer:rM,headless:rM,handler:hR};n1[A3e]={renderer:See,headless:_3e,handler:c3e};n1[S3e]={renderer:$q,headless:$q,handler:E3e};n1[k3e]={};function iF(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(n1[e]=t,this):n1[e]}function R3e(e,t,n){const r=[],i=new ps().union(t),o=e.marktype;return o?I3e(e,i,n,r):o==="group"?D3e(e,i,n,r):it("Intersect scene must be mark node or group item.")}function I3e(e,t,n,r){if(Ckt(e,t,n)){const i=e.items,o=e.marktype,s=i.length;let a=0;if(o==="group")for(;a<s;++a)D3e(i[a],t,n,r);else for(const l=Cc[o].isect;a<s;++a){const u=i[a];P3e(u,t,l)&&r.push(u)}}return r}function Ckt(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function D3e(e,t,n,r){n&&n(e.mark)&&P3e(e,t,Cc.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const s=e.x||0,a=e.y||0;t.translate(-s,-a);for(let l=0;l<o;++l)I3e(i[l],t,n,r);t.translate(s,a)}return r}function P3e(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const F7=new ps;function O3e(e){const t=e.clip;if(cr(t))t(lR(F7.clear()));else if(t)F7.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(F7)}const Skt=1e-9;function Tee(e,t,n){return e===t?!0:n==="path"?N3e(e,t):e instanceof Date&&t instanceof Date?+e==+t:hy(e)&&hy(t)?Math.abs(e-t)<=Skt:!e||!t||!Jn(e)&&!Jn(t)?e==t:Tkt(e,t)}function N3e(e,t){return Tee(z_(e),z_(t))}function Tkt(e,t){var n=Object.keys(e),r=Object.keys(t),i,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(i=n[o],!Tee(e[i],t[i],i))return!1;return typeof e==typeof t}function Akt(){U2t(),XTt()}const H_="top",uf="left",pf="right",_y="bottom",kkt="top-left",Rkt="top-right",Ikt="bottom-left",Dkt="bottom-right",Aee="start",Fq="middle",Rl="end",Pkt="x",Okt="y",oF="group",kee="axis",Ree="title",Nkt="frame",Mkt="scope",Iee="legend",M3e="row-header",$3e="row-footer",F3e="row-title",L3e="column-header",j3e="column-footer",B3e="column-title",$kt="padding",Fkt="symbol",z3e="fit",U3e="fit-x",V3e="fit-y",Lkt="pad",Dee="none",WD="all",Lq="each",Pee="flush",N0="column",M0="row";function H3e(e){Ze.call(this,null,e)}Pt(H3e,Ze,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=Cc[i],s=o.bound;let a=r.bounds,l;if(o.nested)r.items.length&&n.dirty(r.items[0]),a=GD(r,s),r.items.forEach(u=>{u.bounds.clear().union(a)});else if(i===oF||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),a.clear(),r.items.forEach(u=>a.union(GD(u,s))),r.role){case kee:case Iee:case Ree:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{a.union(GD(u,s))}),t.visit(t.MOD,u=>{l=l||a.alignsWith(u.bounds),n.dirty(u),a.union(GD(u,s))}),l&&(a.clear(),r.items.forEach(u=>a.union(u.bounds)));return O3e(r),t.modifies("bounds")}});function GD(e,t,n){return t(e.bounds.clear(),e,n)}const gme=":vega_identifier:";function Oee(e){Ze.call(this,0,e)}Oee.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Pt(Oee,Ze,{transform(e,t){const n=jkt(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++i),n.set(this.value=i),t}});function jkt(e){return e._signals[gme]||(e._signals[gme]=e.add(0))}function q3e(e){Ze.call(this,null,e)}Pt(q3e,Ze,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,Bkt(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===oF?X5:K5;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function Bkt(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function W3e(e){Ze.call(this,null,e)}const yme={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!G3e(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},G3e=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),vme=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,o;n<r;i=o,++n)if(G3e(i,o=e[n].bounds,t))return!0},zkt=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},Ukt=(e,t,n)=>{var r=e.range(),i=new ps;return t===H_||t===_y?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),o=>i.encloses(o.bounds)},bme=e=>(e.forEach(t=>t.opacity=1),e),wme=(e,t)=>e.reflow(t.modified()).modifies("opacity");Pt(W3e,Ze,{transform(e,t){const n=yme[e.method]||yme.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,o,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(bme(i),t=wme(t,e)),t;if(i=i.filter(zkt),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),o=bme(i),t=wme(t,e),o.length>=3&&vme(o,r)){do o=n(o,r);while(o.length>=3&&vme(o,r));o.length<3&&!Mr(i).opacity&&(o.length>1&&(Mr(o).opacity=0),Mr(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=Ukt(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{s(l)||(l.opacity=0)}));const a=o[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function Y3e(e){Ze.call(this,null,e)}Pt(Y3e,Ze,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const Ya=new ps;function Nx(e,t,n){return e[t]===n?0:(e[t]=n,1)}function Vkt(e){var t=e.items[0].orient;return t===uf||t===pf}function Hkt(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function qkt(e,t,n,r){var i=t.items[0],o=i.datum,s=i.translate!=null?i.translate:.5,a=i.orient,l=Hkt(o),u=i.range,c=i.offset,d=i.position,f=i.minExtent,h=i.maxExtent,m=o.title&&i.items[l[2]].items[0],p=i.titlePadding,g=i.bounds,y=m&&mee(m),v=0,w=0,E,C;switch(Ya.clear().union(g),g.clear(),(E=l[0])>-1&&g.union(i.items[E].bounds),(E=l[1])>-1&&g.union(i.items[E].bounds),a){case H_:v=d||0,w=-c,C=Math.max(f,Math.min(h,-g.y1)),g.add(0,-C).add(u,0),m&&YD(e,m,C,p,y,0,-1,g);break;case uf:v=-c,w=d||0,C=Math.max(f,Math.min(h,-g.x1)),g.add(-C,0).add(0,u),m&&YD(e,m,C,p,y,1,-1,g);break;case pf:v=n+c,w=d||0,C=Math.max(f,Math.min(h,g.x2)),g.add(0,0).add(C,u),m&&YD(e,m,C,p,y,1,1,g);break;case _y:v=d||0,w=r+c,C=Math.max(f,Math.min(h,g.y2)),g.add(0,0).add(u,C),m&&YD(e,m,C,p,0,0,1,g);break;default:v=i.x,w=i.y}return Cg(g.translate(v,w),i),Nx(i,"x",v+s)|Nx(i,"y",w+s)&&(i.bounds=Ya,e.dirty(i),i.bounds=g,e.dirty(i)),i.mark.bounds.clear().union(g)}function YD(e,t,n,r,i,o,s,a){const l=t.bounds;if(t.auto){const u=s*(n+i+r);let c=0,d=0;e.dirty(t),o?c=(t.x||0)-(t.x=u):d=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-d)),e.dirty(t)}a.union(l)}const xme=(e,t)=>Math.floor(Math.min(e,t)),_me=(e,t)=>Math.ceil(Math.max(e,t));function Wkt(e){var t=e.items,n=t.length,r=0,i,o;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],o=i.items,i.marktype===oF)switch(i.role){case kee:case Iee:case Ree:break;case M3e:s.rowheaders.push(...o);break;case $3e:s.rowfooters.push(...o);break;case L3e:s.colheaders.push(...o);break;case j3e:s.colfooters.push(...o);break;case F3e:s.rowtitle=o[0];break;case B3e:s.coltitle=o[0];break;default:s.marks.push(...o)}return s}function Gkt(e){return new ps().set(0,0,e.width||0,e.height||0)}function Ykt(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function no(e,t,n){const r=Jn(e)?e[t]:e;return r??(n!==void 0?n:0)}function Eme(e){return e<0?Math.ceil(-e):0}function K3e(e,t,n){var r=!n.nodirty,i=n.bounds===Pee?Gkt:Ykt,o=Ya.set(0,0,0,0),s=no(n.align,N0),a=no(n.align,M0),l=no(n.padding,N0),u=no(n.padding,M0),c=n.columns||t.length,d=c<=0?1:Math.ceil(t.length/c),f=t.length,h=Array(f),m=Array(c),p=0,g=Array(f),y=Array(d),v=0,w=Array(f),E=Array(f),C=Array(f),S,T,A,D,I,P,N,$,O,j,B;for(T=0;T<c;++T)m[T]=0;for(T=0;T<d;++T)y[T]=0;for(T=0;T<f;++T)P=t[T],I=C[T]=i(P),P.x=P.x||0,w[T]=0,P.y=P.y||0,E[T]=0,A=T%c,D=~~(T/c),p=Math.max(p,N=Math.ceil(I.x2)),v=Math.max(v,$=Math.ceil(I.y2)),m[A]=Math.max(m[A],N),y[D]=Math.max(y[D],$),h[T]=l+Eme(I.x1),g[T]=u+Eme(I.y1),r&&e.dirty(t[T]);for(T=0;T<f;++T)T%c===0&&(h[T]=0),T<c&&(g[T]=0);if(s===Lq)for(A=1;A<c;++A){for(B=0,T=A;T<f;T+=c)B<h[T]&&(B=h[T]);for(T=A;T<f;T+=c)h[T]=B+m[A-1]}else if(s===WD){for(B=0,T=0;T<f;++T)T%c&&B<h[T]&&(B=h[T]);for(T=0;T<f;++T)T%c&&(h[T]=B+p)}else for(s=!1,A=1;A<c;++A)for(T=A;T<f;T+=c)h[T]+=m[A-1];if(a===Lq)for(D=1;D<d;++D){for(B=0,T=D*c,S=T+c;T<S;++T)B<g[T]&&(B=g[T]);for(T=D*c;T<S;++T)g[T]=B+y[D-1]}else if(a===WD){for(B=0,T=c;T<f;++T)B<g[T]&&(B=g[T]);for(T=c;T<f;++T)g[T]=B+v}else for(a=!1,D=1;D<d;++D)for(T=D*c,S=T+c;T<S;++T)g[T]+=y[D-1];for(O=0,T=0;T<f;++T)O=h[T]+(T%c?O:0),w[T]+=O-t[T].x;for(A=0;A<c;++A)for(j=0,T=A;T<f;T+=c)j+=g[T],E[T]+=j-t[T].y;if(s&&no(n.center,N0)&&d>1)for(T=0;T<f;++T)I=s===WD?p:m[T%c],O=I-C[T].x2-t[T].x-w[T],O>0&&(w[T]+=O/2);if(a&&no(n.center,M0)&&c!==1)for(T=0;T<f;++T)I=a===WD?v:y[~~(T/c)],j=I-C[T].y2-t[T].y-E[T],j>0&&(E[T]+=j/2);for(T=0;T<f;++T)o.union(C[T].translate(w[T],E[T]));switch(O=no(n.anchor,Pkt),j=no(n.anchor,Okt),no(n.anchor,N0)){case Rl:O-=o.width();break;case Fq:O-=o.width()/2}switch(no(n.anchor,M0)){case Rl:j-=o.height();break;case Fq:j-=o.height()/2}for(O=Math.round(O),j=Math.round(j),o.clear(),T=0;T<f;++T)t[T].mark.bounds.clear();for(T=0;T<f;++T)P=t[T],P.x+=w[T]+=O,P.y+=E[T]+=j,o.union(P.mark.bounds.union(P.bounds.translate(w[T],E[T]))),r&&e.dirty(P);return o}function Kkt(e,t,n){var r=Wkt(t),i=r.marks,o=n.bounds===Pee?Xkt:Qkt,s=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),u=l*a,c,d,f,h,m,p,g;const y=K3e(e,i,n);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(p=no(n.headerBand,M0,null),c=KD(e,r.rowheaders,i,a,l,-no(s,"rowHeader"),xme,0,o,"x1",0,a,1,p)),r.colheaders&&(p=no(n.headerBand,N0,null),d=KD(e,r.colheaders,i,a,a,-no(s,"columnHeader"),xme,1,o,"y1",0,1,a,p)),r.rowfooters&&(p=no(n.footerBand,M0,null),f=KD(e,r.rowfooters,i,a,l,no(s,"rowFooter"),_me,0,o,"x2",a-1,a,1,p)),r.colfooters&&(p=no(n.footerBand,N0,null),h=KD(e,r.colfooters,i,a,a,no(s,"columnFooter"),_me,1,o,"y2",u-a,1,a,p)),r.rowtitle&&(m=no(n.titleAnchor,M0),g=no(s,"rowTitle"),g=m===Rl?f+g:c-g,p=no(n.titleBand,M0,.5),Cme(e,r.rowtitle,g,0,y,p)),r.coltitle&&(m=no(n.titleAnchor,N0),g=no(s,"columnTitle"),g=m===Rl?h+g:d-g,p=no(n.titleBand,N0,.5),Cme(e,r.coltitle,g,1,y,p))}function Xkt(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function Qkt(e,t){return e.bounds[t]}function KD(e,t,n,r,i,o,s,a,l,u,c,d,f,h){var m=n.length,p=0,g=0,y,v,w,E,C,S,T,A,D;if(!m)return p;for(y=c;y<m;y+=d)n[y]&&(p=s(p,l(n[y],u)));if(!t.length)return p;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),p+=o,v=0,E=t.length;v<E;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(y=c,v=0,E=t.length;v<E;++v,y+=d){for(S=t[v],C=S.mark.bounds,w=y;w>=0&&(T=n[w])==null;w-=f);a?(A=h==null?T.x:Math.round(T.bounds.x1+h*T.bounds.width()),D=p):(A=p,D=h==null?T.y:Math.round(T.bounds.y1+h*T.bounds.height())),C.union(S.bounds.translate(A-(S.x||0),D-(S.y||0))),S.x=A,S.y=D,e.dirty(S),g=s(g,C[u])}return g}function Cme(e,t,n,r,i,o){if(t){e.dirty(t);var s=n,a=n;r?s=Math.round(i.x1+o*i.width()):a=Math.round(i.y1+o*i.height()),t.bounds.translate(s-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=a,e.dirty(t)}}function Jkt(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function Zkt(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function eRt(e,t,n,r,i,o,s){const a=Jkt(n,t),l=Zkt(e,a("offset",0)),u=a("anchor",Aee),c=u===Rl?1:u===Fq?.5:0,d={align:Lq,bounds:a("bounds",Pee),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case uf:d.anchor={x:Math.floor(r.x1)-l,column:Rl,y:c*(s||r.height()+2*r.y1),row:u};break;case pf:d.anchor={x:Math.ceil(r.x2)+l,y:c*(s||r.height()+2*r.y1),row:u};break;case H_:d.anchor={y:Math.floor(i.y1)-l,row:Rl,x:c*(o||i.width()+2*i.x1),column:u};break;case _y:d.anchor={y:Math.ceil(i.y2)+l,x:c*(o||i.width()+2*i.x1),column:u};break;case kkt:d.anchor={x:l,y:l};break;case Rkt:d.anchor={x:o-l,y:l,column:Rl};break;case Ikt:d.anchor={x:l,y:s-l,row:Rl};break;case Dkt:d.anchor={x:o-l,y:s-l,column:Rl,row:Rl};break}return d}function tRt(e,t){var n=t.items[0],r=n.datum,i=n.orient,o=n.bounds,s=n.x,a=n.y,l,u;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),rRt(e,n,n.items[0].items[0]),o=nRt(n,o),l=2*n.padding,u=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),u=Math.ceil(o.height()+u)),r.type===Fkt&&iRt(n.items[0].items[0].items[0].items),i!==Dee&&(n.x=s=0,n.y=a=0),n.width=l,n.height=u,Cg(o.set(s,a,s+l,a+u),n),n.mark.bounds.clear().union(o),n}function nRt(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function rRt(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(!t.datum.title)(i||o)&&RS(e,n,i,o);else{var s=t.items[1].items[0],a=s.anchor,l=t.titlePadding||0,u=r-s.x,c=r-s.y;switch(s.orient){case uf:i+=Math.ceil(s.bounds.width())+l;break;case pf:case _y:break;default:o+=s.bounds.height()+l}switch((i||o)&&RS(e,n,i,o),s.orient){case uf:c+=Jw(t,n,s,a,1,1);break;case pf:u+=Jw(t,n,s,Rl,0,0)+l,c+=Jw(t,n,s,a,1,1);break;case _y:u+=Jw(t,n,s,a,0,0),c+=Jw(t,n,s,Rl,-1,0,1)+l;break;default:u+=Jw(t,n,s,a,0,0)}(u||c)&&RS(e,s,u,c),(u=Math.round(s.bounds.x1-r))<0&&(RS(e,n,-u,0),RS(e,s,-u,0))}}function Jw(e,t,n,r,i,o,s){const a=e.datum.type!=="symbol",l=n.datum.vgrad,u=a&&(o||!l)&&!s?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,d=l&&o?c:0,f=l&&o?0:c,h=i<=0?0:mee(n);return Math.round(r===Aee?d:r===Rl?f-h:.5*(c-h))}function RS(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function iRt(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function oRt(e,t,n,r,i){var o=t.items[0],s=o.frame,a=o.orient,l=o.anchor,u=o.offset,c=o.padding,d=o.items[0].items[0],f=o.items[1]&&o.items[1].items[0],h=a===uf||a===pf?r:n,m=0,p=0,g=0,y=0,v=0,w;if(s!==oF?a===uf?(m=i.y2,h=i.y1):a===pf?(m=i.y1,h=i.y2):(m=i.x1,h=i.x2):a===uf&&(m=r,h=0),w=l===Aee?m:l===Rl?h:(m+h)/2,f&&f.text){switch(a){case H_:case _y:v=d.bounds.height()+c;break;case uf:y=d.bounds.width()+c;break;case pf:y=-d.bounds.width()-c;break}Ya.clear().union(f.bounds),Ya.translate(y-(f.x||0),v-(f.y||0)),Nx(f,"x",y)|Nx(f,"y",v)&&(e.dirty(f),f.bounds.clear().union(Ya),f.mark.bounds.clear().union(Ya),e.dirty(f)),Ya.clear().union(f.bounds)}else Ya.clear();switch(Ya.union(d.bounds),a){case H_:p=w,g=i.y1-Ya.height()-u;break;case uf:p=i.x1-Ya.width()-u,g=w;break;case pf:p=i.x2+Ya.width()+u,g=w;break;case _y:p=w,g=i.y2+u;break;default:p=o.x,g=o.y}return Nx(o,"x",p)|Nx(o,"y",g)&&(Ya.translate(p,g),e.dirty(o),o.bounds.clear().union(Ya),t.bounds.clear().union(Ya),e.dirty(o)),o.bounds}function X3e(e){Ze.call(this,null,e)}Pt(X3e,Ze,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&Kkt(n,r,e.layout),aRt(n,r,e)}),sRt(e.mark.group)?t.reflow():t}});function sRt(e){return e&&e.mark.role!=="legend-entry"}function aRt(e,t,n){var r=t.items,i=Math.max(0,t.width||0),o=Math.max(0,t.height||0),s=new ps().set(0,0,i,o),a=s.clone(),l=s.clone(),u=[],c,d,f,h,m,p;for(m=0,p=r.length;m<p;++m)switch(d=r[m],d.role){case kee:h=Vkt(d)?a:l,h.union(qkt(e,d,i,o));break;case Ree:c=d;break;case Iee:u.push(tRt(e,d));break;case Nkt:case Mkt:case M3e:case $3e:case F3e:case L3e:case j3e:case B3e:a.union(d.bounds),l.union(d.bounds);break;default:s.union(d.bounds)}if(u.length){const g={};u.forEach(y=>{f=y.orient||pf,f!==Dee&&(g[f]||(g[f]=[])).push(y)});for(const y in g){const v=g[y];K3e(e,v,eRt(v,y,n.legends,a,l,i,o))}u.forEach(y=>{const v=y.bounds;if(v.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=v,e.dirty(y)),n.autosize&&(n.autosize.type===z3e||n.autosize.type===U3e||n.autosize.type===V3e))switch(y.orient){case uf:case pf:s.add(v.x1,0).add(v.x2,0);break;case H_:case _y:s.add(0,v.y1).add(0,v.y2)}else s.union(v)})}s.union(a).union(l),c&&s.union(oRt(e,c,i,o,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),lRt(e,t,s,n)}function lRt(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let s=e._width,a=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1));const f=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-c));if(i.contains===$kt){const m=e.padding();s-=m.left+m.right,a-=m.top+m.bottom}o===Dee?(u=0,d=0,l=s,c=a):o===z3e?(l=Math.max(0,s-u-f),c=Math.max(0,a-d-h)):o===U3e?(l=Math.max(0,s-u-f),a=c+d+h):o===V3e?(s=l+u+f,c=Math.max(0,a-d-h)):o===Lkt&&(s=l+u+f,a=c+d+h),e._resizeView(s,a,l,c,[u,d],i.resize)}const uRt=Object.freeze(Object.defineProperty({__proto__:null,bound:H3e,identifier:Oee,mark:q3e,overlap:W3e,render:Y3e,viewlayout:X3e},Symbol.toStringTag,{value:"Module"}));function Q3e(e){Ze.call(this,null,e)}Pt(Q3e,Ze,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,a=QZ(o,s,e.minstep),l=e.format||SPe(n,o,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?CPe(o,e.values,a):JZ(o,a);return i&&(r.rem=i),i=u.map((c,d)=>ci({index:d/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(ci({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function J3e(e){Ze.call(this,null,e)}function cRt(){return ci({})}function dRt(e){const t=GE().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}Pt(J3e,Ze,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||cRt,o=e.key||yn,s=this.value;return fn(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(o))&&it("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=dRt(o)),t.visit(t.ADD,a=>{const l=o(a);let u=s.get(l);u?u.exit?(s.empty--,r.add.push(u)):r.mod.push(u):(u=i(a),s.set(l,u),r.add.push(u)),u.datum=a,u.exit=!1}),t.visit(t.MOD,a=>{const l=o(a),u=s.get(l);u&&(u.datum=a,r.mod.push(u))}),t.visit(t.REM,a=>{const l=o(a),u=s.get(l);a===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function Z3e(e){Ze.call(this,null,e)}Pt(Z3e,Ze,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(fn(o))if(n.changed()||o.every(d=>i[d]))o=o[0],n.encode=null;else return t.StopPropagation;var s=o==="enter",a=i.update||a0,l=i.enter||a0,u=i.exit||a0,c=(o&&!s?i[o]:a)||a0;if(t.changed(t.ADD)&&(t.visit(t.ADD,d=>{l(d,e),a(d,e)}),n.modifies(l.output),n.modifies(a.output),c!==a0&&c!==a&&(t.visit(t.ADD,d=>{c(d,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==a0&&(t.visit(t.REM,d=>{u(d,e)}),n.modifies(u.output)),s||c!==a0){const d=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(d,f=>{const h=l(f,e)||r;(c(f,e)||h)&&n.mod.push(f)}),n.mod.length&&n.modifies(l.output)):t.visit(d,f=>{(c(f,e)||r)&&n.mod.push(f)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function eOe(e){Ze.call(this,[],e)}Pt(eOe,Ze,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.type||jO,s=e.scale,a=+e.limit,l=QZ(s,e.count==null?5:e.count,e.minstep),u=!!e.values||o===jO,c=e.format||RPe(n,s,l,o,e.formatSpecifier,e.formatType,u),d=e.values||kPe(s,l),f,h,m,p,g;return i&&(r.rem=i),o===jO?(a&&d.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=d.slice(0,a-1),g=!0):i=d,cr(m=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),p=i.reduce((y,v)=>Math.max(y,m(v,e)),0)):m=fl(p=m||8),i=i.map((y,v)=>ci({index:v,label:c(y,v,i),value:y,offset:p,size:m(y,e)})),g&&(g=d[i.length],i.push(ci({index:i.length,label:`${d.length-i.length} entries`,value:g,offset:p,size:m(g,e)})))):o===FTt?(f=s.domain(),h=xPe(s,f[0],Mr(f)),d.length<3&&!e.values&&f[0]!==Mr(f)&&(d=[f[0],Mr(f)]),i=d.map((y,v)=>ci({index:v,label:c(y,v,d),value:y,perc:h(y)}))):(m=d.length-1,h=YTt(s),i=d.map((y,v)=>ci({index:v,label:c(y,v,d),value:y,perc:v?h(y):0,perc2:v===m?1:h(d[v+1])}))),r.source=i,r.add=i,this.value=i,r}});const fRt=e=>e.source.x,hRt=e=>e.source.y,pRt=e=>e.target.x,mRt=e=>e.target.y;function Nee(e){Ze.call(this,{},e)}Nee.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};Pt(Nee,Ze,{transform(e,t){var n=e.sourceX||fRt,r=e.sourceY||hRt,i=e.targetX||pRt,o=e.targetY||mRt,s=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",u=Sme.get(l+"-"+a)||Sme.get(l);return u||it("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[s]=u(n(c),r(c),i(c),o(c))}),t.reflow(e.modified()).modifies(s)}});const tOe=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,gRt=(e,t,n,r)=>tOe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),nOe=(e,t,n,r)=>{var i=n-e,o=r-t,s=Math.hypot(i,o)/2,a=180*Math.atan2(o,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+a+" 0 1 "+n+","+r},yRt=(e,t,n,r)=>nOe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),rOe=(e,t,n,r)=>{const i=n-e,o=r-t,s=.2*(i+o),a=.2*(o-i);return"M"+e+","+t+"C"+(e+s)+","+(t+a)+" "+(n+a)+","+(r-s)+" "+n+","+r},vRt=(e,t,n,r)=>rOe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),bRt=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,wRt=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,xRt=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*s+","+t*a+"L"+r*s+","+r*a},_Rt=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},ERt=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},CRt=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*o+"C"+l*i+","+l*o+" "+l*s+","+l*a+" "+r*s+","+r*a},Sme=GE({line:tOe,"line-radial":gRt,arc:nOe,"arc-radial":yRt,curve:rOe,"curve-radial":vRt,"orthogonal-horizontal":bRt,"orthogonal-vertical":wRt,"orthogonal-radial":xRt,"diagonal-horizontal":_Rt,"diagonal-vertical":ERt,"diagonal-radial":CRt});function Mee(e){Ze.call(this,null,e)}Mee.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};Pt(Mee,Ze,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],o=e.field||WE,s=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(o),c=u.length,d=s,f=(a-s)/vRe(u),h=lc(c),m,p,g;for(e.sort&&h.sort((y,v)=>u[y]-u[v]),m=0;m<c;++m)g=u[h[m]],p=l[h[m]],p[r]=d,p[i]=d+=g*f;return this.value=u,t.reflow(e.modified()).modifies(n)}});const SRt=5;function TRt(e){const t=e.type;return!e.bins&&(t===L_||t===tR||t===nR)}function iOe(e){return YZ(e)&&e!==Xh}const ARt=Pf(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function oOe(e){Ze.call(this,null,e),this.modified(!0)}Pt(oOe,Ze,{transform(e,t){var n=t.dataflow,r=this.value,i=kRt(e);(!r||i!==r.type)&&(this.value=r=ii(i)());for(i in e)if(!ARt[i]){if(i==="padding"&&iOe(r.type))continue;cr(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return NRt(r,e,ORt(r,e,IRt(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function kRt(e){var t=e.type,n="",r;return t===Xh?Xh+"-"+L_:(RRt(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Xh+"-":r===3?tC+"-":""),(n+t||L_).toLowerCase())}function RRt(e){const t=e.type;return YZ(t)&&t!==e1&&t!==t1&&(e.scheme||e.range&&e.range.length&&e.range.every(ni))}function IRt(e,t,n){const r=DRt(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,s=t.zero||t.zero===void 0&&TRt(e),a,l;if(!i)return 0;if((s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[a]?a+1:l<i[0]?0:a;u!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return iOe(o)&&t.padding&&i[0]!==Mr(i)&&(i=PRt(o,i,t.range,t.padding,t.exponent,t.constant)),e.domain(sOe(o,i,n)),o===HZ&&e.unknown(t.domainImplicit?vq:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&QZ(e,t.nice)||null),i.length}function DRt(e,t,n){return t?(e.domain(sOe(e.type,t,n)),t.length):-1}function PRt(e,t,n,r,i,o){var s=Math.abs(Mr(n)-n[0]),a=s/(s-2*r),l=e===eg?uJ(t,null,a):e===nR?I4(t,null,a,.5):e===tR?I4(t,null,a,i||1):e===H5?cJ(t,null,a,o||1):lJ(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function sOe(e,t,n){if(gPe(e)){var r=Math.abs(t.reduce((i,o)=>i+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+cn(t))}return t}function ORt(e,t,n){let r=t.bins;if(r&&!fn(r)){const i=e.domain(),o=i[0],s=Mr(i),a=r.step;let l=r.start==null?o:r.start,u=r.stop==null?s:r.stop;a||it("Scale bins parameter missing step property."),l<o&&(l=a*Math.ceil(o/a)),u>s&&(u=a*Math.floor(s/a)),r=lc(l,u+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===qZ&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function NRt(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=MRt(r,t,n);else if(t.scheme&&(o=$Rt(r,t,n),cr(o))){if(e.interpolator)return e.interpolator(o);it(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&yPe(r))return e.interpolator(G5(jq(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(KZ(t.interpolate,t.interpolateGamma)):cr(e.round)?e.round(i):cr(e.rangeRound)&&e.interpolate(i?Zk:Xy),o&&e.range(jq(o,t.reverse))}function MRt(e,t,n){e!==cPe&&e!==Cq&&it("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===Cq?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*VZ(n,i,r)]}function $Rt(e,t,n){var r=t.schemeExtent,i,o;return fn(t.scheme)?o=G5(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=XZ(i),o||it(`Unrecognized scheme name: ${t.scheme}`)),n=e===W5?n+1:e===qZ?n-1:e===j_||e===q5?+t.schemeCount||SRt:n,yPe(e)?Tme(o,r,t.reverse):cr(o)?wPe(Tme(o,r),n):e===HZ?o:o.slice(0,n)}function Tme(e,t,n){return cr(e)&&(t||n)?bPe(e,jq(t||[0,1],n)):e}function jq(e,t){return t?e.slice().reverse():e}function aOe(e){Ze.call(this,null,e)}Pt(aOe,Ze,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(q1(e.sort)),this.modified(n),t}});const Ame="zero",lOe="center",uOe="normalize",cOe=["y0","y1"];function $ee(e){Ze.call(this,null,e)}$ee.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Ame,values:[Ame,lOe,uOe]},{name:"as",type:"string",array:!0,length:2,default:cOe}]};Pt($ee,Ze,{transform(e,t){var n=e.as||cOe,r=n[0],i=n[1],o=q1(e.sort),s=e.field||WE,a=e.offset===lOe?FRt:e.offset===uOe?LRt:jRt,l,u,c,d;for(l=BRt(t.source,e.groupby,o,s),u=0,c=l.length,d=l.max;u<c;++u)a(l[u],d,s,r,i);return t.reflow(e.modified()).modifies(n)}});function FRt(e,t,n,r,i){for(var o=(t-e.sum)/2,s=e.length,a=0,l;a<s;++a)l=e[a],l[r]=o,l[i]=o+=Math.abs(n(l))}function LRt(e,t,n,r,i){for(var o=1/e.sum,s=0,a=e.length,l=0,u=0,c;l<a;++l)c=e[l],c[r]=s,c[i]=s=o*(u+=Math.abs(n(c)))}function jRt(e,t,n,r,i){for(var o=0,s=0,a=e.length,l=0,u,c;l<a;++l)c=e[l],u=+n(c),u<0?(c[r]=s,c[i]=s+=u):(c[r]=o,c[i]=o+=u)}function BRt(e,t,n,r){var i=[],o=p=>p(c),s,a,l,u,c,d,f,h,m;if(t==null)i.push(e.slice());else for(s={},a=0,l=e.length;a<l;++a)c=e[a],d=t.map(o),f=s[d],f||(s[d]=f=[],i.push(f)),f.push(c);for(d=0,m=0,u=i.length;d<u;++d){for(f=i[d],a=0,h=0,l=f.length;a<l;++a)h+=Math.abs(r(f[a]));f.sum=h,h>m&&(m=h),n&&f.sort(n)}return i.max=m,i}const zRt=Object.freeze(Object.defineProperty({__proto__:null,axisticks:Q3e,datajoin:J3e,encode:Z3e,legendentries:eOe,linkpath:Nee,pie:Mee,scale:oOe,sortitems:aOe,stack:$ee},Symbol.toStringTag,{value:"Module"}));var Sn=1e-6,sM=1e-12,Er=Math.PI,Ro=Er/2,aM=Er/4,Gl=Er*2,Vo=180/Er,vr=Er/180,Nr=Math.abs,rC=Math.atan,xd=Math.atan2,kn=Math.cos,XD=Math.ceil,dOe=Math.exp,Bq=Math.hypot,lM=Math.log,L7=Math.pow,vn=Math.sin,nd=Math.sign||function(e){return e>0?1:e<0?-1:0},Yl=Math.sqrt,Fee=Math.tan;function fOe(e){return e>1?0:e<-1?Er:Math.acos(e)}function Ou(e){return e>1?Ro:e<-1?-Ro:Math.asin(e)}function Sa(){}function uM(e,t){e&&Rme.hasOwnProperty(e.type)&&Rme[e.type](e,t)}var kme={Feature:function(e,t){uM(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)uM(n[r].geometry,t)}},Rme={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){zq(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)zq(n[r],t,0)},Polygon:function(e,t){Ime(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Ime(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)uM(n[r],t)}};function zq(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function Ime(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)zq(e[n],t,1);t.polygonEnd()}function fm(e,t){e&&kme.hasOwnProperty(e.type)?kme[e.type](e,t):uM(e,t)}var cM=new zl,dM=new zl,hOe,pOe,Uq,Vq,Hq,hp={point:Sa,lineStart:Sa,lineEnd:Sa,polygonStart:function(){cM=new zl,hp.lineStart=URt,hp.lineEnd=VRt},polygonEnd:function(){var e=+cM;dM.add(e<0?Gl+e:e),this.lineStart=this.lineEnd=this.point=Sa},sphere:function(){dM.add(Gl)}};function URt(){hp.point=HRt}function VRt(){mOe(hOe,pOe)}function HRt(e,t){hp.point=mOe,hOe=e,pOe=t,e*=vr,t*=vr,Uq=e,Vq=kn(t=t/2+aM),Hq=vn(t)}function mOe(e,t){e*=vr,t*=vr,t=t/2+aM;var n=e-Uq,r=n>=0?1:-1,i=r*n,o=kn(t),s=vn(t),a=Hq*s,l=Vq*o+a*kn(i),u=a*r*vn(i);cM.add(xd(u,l)),Uq=e,Vq=o,Hq=s}function qRt(e){return dM=new zl,fm(e,hp),dM*2}function fM(e){return[xd(e[1],e[0]),Ou(e[2])]}function r1(e){var t=e[0],n=e[1],r=kn(n);return[r*kn(t),r*vn(t),vn(n)]}function QD(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function q_(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function j7(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function JD(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function hM(e){var t=Yl(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var po,bu,Co,ic,Zv,gOe,yOe,n_,f2,m0,tg,lm={point:qq,lineStart:Dme,lineEnd:Pme,polygonStart:function(){lm.point=bOe,lm.lineStart=WRt,lm.lineEnd=GRt,f2=new zl,hp.polygonStart()},polygonEnd:function(){hp.polygonEnd(),lm.point=qq,lm.lineStart=Dme,lm.lineEnd=Pme,cM<0?(po=-(Co=180),bu=-(ic=90)):f2>Sn?ic=90:f2<-Sn&&(bu=-90),tg[0]=po,tg[1]=Co},sphere:function(){po=-(Co=180),bu=-(ic=90)}};function qq(e,t){m0.push(tg=[po=e,Co=e]),t<bu&&(bu=t),t>ic&&(ic=t)}function vOe(e,t){var n=r1([e*vr,t*vr]);if(n_){var r=q_(n_,n),i=[r[1],-r[0],0],o=q_(i,r);hM(o),o=fM(o);var s=e-Zv,a=s>0?1:-1,l=o[0]*Vo*a,u,c=Nr(s)>180;c^(a*Zv<l&&l<a*e)?(u=o[1]*Vo,u>ic&&(ic=u)):(l=(l+360)%360-180,c^(a*Zv<l&&l<a*e)?(u=-o[1]*Vo,u<bu&&(bu=u)):(t<bu&&(bu=t),t>ic&&(ic=t))),c?e<Zv?nc(po,e)>nc(po,Co)&&(Co=e):nc(e,Co)>nc(po,Co)&&(po=e):Co>=po?(e<po&&(po=e),e>Co&&(Co=e)):e>Zv?nc(po,e)>nc(po,Co)&&(Co=e):nc(e,Co)>nc(po,Co)&&(po=e)}else m0.push(tg=[po=e,Co=e]);t<bu&&(bu=t),t>ic&&(ic=t),n_=n,Zv=e}function Dme(){lm.point=vOe}function Pme(){tg[0]=po,tg[1]=Co,lm.point=qq,n_=null}function bOe(e,t){if(n_){var n=e-Zv;f2.add(Nr(n)>180?n+(n>0?360:-360):n)}else gOe=e,yOe=t;hp.point(e,t),vOe(e,t)}function WRt(){hp.lineStart()}function GRt(){bOe(gOe,yOe),hp.lineEnd(),Nr(f2)>Sn&&(po=-(Co=180)),tg[0]=po,tg[1]=Co,n_=null}function nc(e,t){return(t-=e)<0?t+360:t}function YRt(e,t){return e[0]-t[0]}function Ome(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function KRt(e){var t,n,r,i,o,s,a;if(ic=Co=-(po=bu=1/0),m0=[],fm(e,lm),n=m0.length){for(m0.sort(YRt),t=1,r=m0[0],o=[r];t<n;++t)i=m0[t],Ome(r,i[0])||Ome(r,i[1])?(nc(r[0],i[1])>nc(r[0],r[1])&&(r[1]=i[1]),nc(i[0],r[1])>nc(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=i,++t)i=o[t],(a=nc(r[1],i[0]))>s&&(s=a,po=i[0],Co=r[1])}return m0=tg=null,po===1/0||bu===1/0?[[NaN,NaN],[NaN,NaN]]:[[po,bu],[Co,ic]]}var ET,pM,mM,gM,yM,vM,bM,wM,Wq,Gq,Yq,wOe,xOe,Il,Dl,Pl,mf={sphere:Sa,point:Lee,lineStart:Nme,lineEnd:Mme,polygonStart:function(){mf.lineStart=JRt,mf.lineEnd=ZRt},polygonEnd:function(){mf.lineStart=Nme,mf.lineEnd=Mme}};function Lee(e,t){e*=vr,t*=vr;var n=kn(t);pR(n*kn(e),n*vn(e),vn(t))}function pR(e,t,n){++ET,mM+=(e-mM)/ET,gM+=(t-gM)/ET,yM+=(n-yM)/ET}function Nme(){mf.point=XRt}function XRt(e,t){e*=vr,t*=vr;var n=kn(t);Il=n*kn(e),Dl=n*vn(e),Pl=vn(t),mf.point=QRt,pR(Il,Dl,Pl)}function QRt(e,t){e*=vr,t*=vr;var n=kn(t),r=n*kn(e),i=n*vn(e),o=vn(t),s=xd(Yl((s=Dl*o-Pl*i)*s+(s=Pl*r-Il*o)*s+(s=Il*i-Dl*r)*s),Il*r+Dl*i+Pl*o);pM+=s,vM+=s*(Il+(Il=r)),bM+=s*(Dl+(Dl=i)),wM+=s*(Pl+(Pl=o)),pR(Il,Dl,Pl)}function Mme(){mf.point=Lee}function JRt(){mf.point=eIt}function ZRt(){_Oe(wOe,xOe),mf.point=Lee}function eIt(e,t){wOe=e,xOe=t,e*=vr,t*=vr,mf.point=_Oe;var n=kn(t);Il=n*kn(e),Dl=n*vn(e),Pl=vn(t),pR(Il,Dl,Pl)}function _Oe(e,t){e*=vr,t*=vr;var n=kn(t),r=n*kn(e),i=n*vn(e),o=vn(t),s=Dl*o-Pl*i,a=Pl*r-Il*o,l=Il*i-Dl*r,u=Bq(s,a,l),c=Ou(u),d=u&&-c/u;Wq.add(d*s),Gq.add(d*a),Yq.add(d*l),pM+=c,vM+=c*(Il+(Il=r)),bM+=c*(Dl+(Dl=i)),wM+=c*(Pl+(Pl=o)),pR(Il,Dl,Pl)}function tIt(e){ET=pM=mM=gM=yM=vM=bM=wM=0,Wq=new zl,Gq=new zl,Yq=new zl,fm(e,mf);var t=+Wq,n=+Gq,r=+Yq,i=Bq(t,n,r);return i<sM&&(t=vM,n=bM,r=wM,pM<Sn&&(t=mM,n=gM,r=yM),i=Bq(t,n,r),i<sM)?[NaN,NaN]:[xd(n,t)*Vo,Ou(r/i)*Vo]}function Kq(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Xq(e,t){return Nr(e)>Er&&(e-=Math.round(e/Gl)*Gl),[e,t]}Xq.invert=Xq;function EOe(e,t,n){return(e%=Gl)?t||n?Kq(Fme(e),Lme(t,n)):Fme(e):t||n?Lme(t,n):Xq}function $me(e){return function(t,n){return t+=e,Nr(t)>Er&&(t-=Math.round(t/Gl)*Gl),[t,n]}}function Fme(e){var t=$me(e);return t.invert=$me(-e),t}function Lme(e,t){var n=kn(e),r=vn(e),i=kn(t),o=vn(t);function s(a,l){var u=kn(l),c=kn(a)*u,d=vn(a)*u,f=vn(l),h=f*n+c*r;return[xd(d*i-h*o,c*n-f*r),Ou(h*i+d*o)]}return s.invert=function(a,l){var u=kn(l),c=kn(a)*u,d=vn(a)*u,f=vn(l),h=f*i-d*o;return[xd(d*i+f*o,c*n+h*r),Ou(h*n-c*r)]},s}function nIt(e){e=EOe(e[0]*vr,e[1]*vr,e.length>2?e[2]*vr:0);function t(n){return n=e(n[0]*vr,n[1]*vr),n[0]*=Vo,n[1]*=Vo,n}return t.invert=function(n){return n=e.invert(n[0]*vr,n[1]*vr),n[0]*=Vo,n[1]*=Vo,n},t}function rIt(e,t,n,r,i,o){if(n){var s=kn(t),a=vn(t),l=r*n;i==null?(i=t+r*Gl,o=t-l/2):(i=jme(s,i),o=jme(s,o),(r>0?i<o:i>o)&&(i+=r*Gl));for(var u,c=i;r>0?c>o:c<o;c-=l)u=fM([s,-a*kn(c),-a*vn(c)]),e.point(u[0],u[1])}}function jme(e,t){t=r1(t),t[0]-=e,hM(t);var n=fOe(-t[1]);return((-t[2]<0?-n:n)+Gl-Sn)%Gl}function COe(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Sa,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function YO(e,t){return Nr(e[0]-t[0])<Sn&&Nr(e[1]-t[1])<Sn}function ZD(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function SOe(e,t,n,r,i){var o=[],s=[],a,l;if(e.forEach(function(m){if(!((p=m.length-1)<=0)){var p,g=m[0],y=m[p],v;if(YO(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),a=0;a<p;++a)i.point((g=m[a])[0],g[1]);i.lineEnd();return}y[0]+=2*Sn}o.push(v=new ZD(g,m,null,!0)),s.push(v.o=new ZD(g,null,v,!1)),o.push(v=new ZD(y,m,null,!1)),s.push(v.o=new ZD(y,null,v,!0))}}),!!o.length){for(s.sort(t),Bme(o),Bme(s),a=0,l=s.length;a<l;++a)s[a].e=n=!n;for(var u=o[0],c,d;;){for(var f=u,h=!0;f.v;)if((f=f.n)===u)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(a=0,l=c.length;a<l;++a)i.point((d=c[a])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(h)for(c=f.p.z,a=c.length-1;a>=0;--a)i.point((d=c[a])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,h=!h}while(!f.v);i.lineEnd()}}}function Bme(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function B7(e){return Nr(e[0])<=Er?e[0]:nd(e[0])*((Nr(e[0])+Er)%Gl-Er)}function iIt(e,t){var n=B7(t),r=t[1],i=vn(r),o=[vn(n),-kn(n),0],s=0,a=0,l=new zl;i===1?r=Ro+Sn:i===-1&&(r=-Ro-Sn);for(var u=0,c=e.length;u<c;++u)if(f=(d=e[u]).length)for(var d,f,h=d[f-1],m=B7(h),p=h[1]/2+aM,g=vn(p),y=kn(p),v=0;v<f;++v,m=E,g=S,y=T,h=w){var w=d[v],E=B7(w),C=w[1]/2+aM,S=vn(C),T=kn(C),A=E-m,D=A>=0?1:-1,I=D*A,P=I>Er,N=g*S;if(l.add(xd(N*D*vn(I),y*T+N*kn(I))),s+=P?A+D*Gl:A,P^m>=n^E>=n){var $=q_(r1(h),r1(w));hM($);var O=q_(o,$);hM(O);var j=(P^A>=0?-1:1)*Ou(O[2]);(r>j||r===j&&($[0]||$[1]))&&(a+=P^A>=0?1:-1)}}return(s<-Sn||s<Sn&&l<-sM)^a&1}function TOe(e,t,n,r){return function(i){var o=t(i),s=COe(),a=t(s),l=!1,u,c,d,f={point:h,lineStart:p,lineEnd:g,polygonStart:function(){f.point=y,f.lineStart=v,f.lineEnd=w,c=[],u=[]},polygonEnd:function(){f.point=h,f.lineStart=p,f.lineEnd=g,c=yRe(c);var E=iIt(u,r);c.length?(l||(i.polygonStart(),l=!0),SOe(c,sIt,E,n,i)):E&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(E,C){e(E,C)&&i.point(E,C)}function m(E,C){o.point(E,C)}function p(){f.point=m,o.lineStart()}function g(){f.point=h,o.lineEnd()}function y(E,C){d.push([E,C]),a.point(E,C)}function v(){a.lineStart(),d=[]}function w(){y(d[0][0],d[0][1]),a.lineEnd();var E=a.clean(),C=s.result(),S,T=C.length,A,D,I;if(d.pop(),u.push(d),d=null,!!T){if(E&1){if(D=C[0],(A=D.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),S=0;S<A;++S)i.point((I=D[S])[0],I[1]);i.lineEnd()}return}T>1&&E&2&&C.push(C.pop().concat(C.shift())),c.push(C.filter(oIt))}}return f}}function oIt(e){return e.length>1}function sIt(e,t){return((e=e.x)[0]<0?e[1]-Ro-Sn:Ro-e[1])-((t=t.x)[0]<0?t[1]-Ro-Sn:Ro-t[1])}const zme=TOe(function(){return!0},aIt,uIt,[-Er,-Ro]);function aIt(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?Er:-Er,l=Nr(o-t);Nr(l-Er)<Sn?(e.point(t,n=(n+s)/2>0?Ro:-Ro),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&l>=Er&&(Nr(t-r)<Sn&&(t-=r*Sn),Nr(o-a)<Sn&&(o-=a*Sn),n=lIt(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function lIt(e,t,n,r){var i,o,s=vn(e-n);return Nr(s)>Sn?rC((vn(t)*(o=kn(r))*vn(n)-vn(r)*(i=kn(t))*vn(e))/(i*o*s)):(t+r)/2}function uIt(e,t,n,r){var i;if(e==null)i=n*Ro,r.point(-Er,i),r.point(0,i),r.point(Er,i),r.point(Er,0),r.point(Er,-i),r.point(0,-i),r.point(-Er,-i),r.point(-Er,0),r.point(-Er,i);else if(Nr(e[0]-t[0])>Sn){var o=e[0]<t[0]?Er:-Er;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function cIt(e){var t=kn(e),n=2*vr,r=t>0,i=Nr(t)>Sn;function o(c,d,f,h){rIt(h,e,n,f,c,d)}function s(c,d){return kn(c)*kn(d)>t}function a(c){var d,f,h,m,p;return{lineStart:function(){m=h=!1,p=1},point:function(g,y){var v=[g,y],w,E=s(g,y),C=r?E?0:u(g,y):E?u(g+(g<0?Er:-Er),y):0;if(!d&&(m=h=E)&&c.lineStart(),E!==h&&(w=l(d,v),(!w||YO(d,w)||YO(v,w))&&(v[2]=1)),E!==h)p=0,E?(c.lineStart(),w=l(v,d),c.point(w[0],w[1])):(w=l(d,v),c.point(w[0],w[1],2),c.lineEnd()),d=w;else if(i&&d&&r^E){var S;!(C&f)&&(S=l(v,d,!0))&&(p=0,r?(c.lineStart(),c.point(S[0][0],S[0][1]),c.point(S[1][0],S[1][1]),c.lineEnd()):(c.point(S[1][0],S[1][1]),c.lineEnd(),c.lineStart(),c.point(S[0][0],S[0][1],3)))}E&&(!d||!YO(d,v))&&c.point(v[0],v[1]),d=v,h=E,f=C},lineEnd:function(){h&&c.lineEnd(),d=null},clean:function(){return p|(m&&h)<<1}}}function l(c,d,f){var h=r1(c),m=r1(d),p=[1,0,0],g=q_(h,m),y=QD(g,g),v=g[0],w=y-v*v;if(!w)return!f&&c;var E=t*y/w,C=-t*v/w,S=q_(p,g),T=JD(p,E),A=JD(g,C);j7(T,A);var D=S,I=QD(T,D),P=QD(D,D),N=I*I-P*(QD(T,T)-1);if(!(N<0)){var $=Yl(N),O=JD(D,(-I-$)/P);if(j7(O,T),O=fM(O),!f)return O;var j=c[0],B=d[0],H=c[1],q=d[1],Y;B<j&&(Y=j,j=B,B=Y);var V=B-j,L=Nr(V-Er)<Sn,U=L||V<Sn;if(!L&&q<H&&(Y=H,H=q,q=Y),U?L?H+q>0^O[1]<(Nr(O[0]-j)<Sn?H:q):H<=O[1]&&O[1]<=q:V>Er^(j<=O[0]&&O[0]<=B)){var z=JD(D,(-I+$)/P);return j7(z,T),[O,fM(z)]}}}function u(c,d){var f=r?e:Er-e,h=0;return c<-f?h|=1:c>f&&(h|=2),d<-f?h|=4:d>f&&(h|=8),h}return TOe(s,a,o,r?[0,-e]:[-Er,e-Er])}function dIt(e,t,n,r,i,o){var s=e[0],a=e[1],l=t[0],u=t[1],c=0,d=1,f=l-s,h=u-a,m;if(m=n-s,!(!f&&m>0)){if(m/=f,f<0){if(m<c)return;m<d&&(d=m)}else if(f>0){if(m>d)return;m>c&&(c=m)}if(m=i-s,!(!f&&m<0)){if(m/=f,f<0){if(m>d)return;m>c&&(c=m)}else if(f>0){if(m<c)return;m<d&&(d=m)}if(m=r-a,!(!h&&m>0)){if(m/=h,h<0){if(m<c)return;m<d&&(d=m)}else if(h>0){if(m>d)return;m>c&&(c=m)}if(m=o-a,!(!h&&m<0)){if(m/=h,h<0){if(m>d)return;m>c&&(c=m)}else if(h>0){if(m<c)return;m<d&&(d=m)}return c>0&&(e[0]=s+c*f,e[1]=a+c*h),d<1&&(t[0]=s+d*f,t[1]=a+d*h),!0}}}}}var CT=1e9,eP=-CT;function AOe(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function o(u,c,d,f){var h=0,m=0;if(u==null||(h=s(u,d))!==(m=s(c,d))||l(u,c)<0^d>0)do f.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+d+4)%4)!==m);else f.point(c[0],c[1])}function s(u,c){return Nr(u[0]-e)<Sn?c>0?0:3:Nr(u[0]-n)<Sn?c>0?2:1:Nr(u[1]-t)<Sn?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var d=s(u,1),f=s(c,1);return d!==f?d-f:d===0?c[1]-u[1]:d===1?u[0]-c[0]:d===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,d=COe(),f,h,m,p,g,y,v,w,E,C,S,T={point:A,lineStart:N,lineEnd:$,polygonStart:I,polygonEnd:P};function A(j,B){i(j,B)&&c.point(j,B)}function D(){for(var j=0,B=0,H=h.length;B<H;++B)for(var q=h[B],Y=1,V=q.length,L=q[0],U,z,G=L[0],Q=L[1];Y<V;++Y)U=G,z=Q,L=q[Y],G=L[0],Q=L[1],z<=r?Q>r&&(G-U)*(r-z)>(Q-z)*(e-U)&&++j:Q<=r&&(G-U)*(r-z)<(Q-z)*(e-U)&&--j;return j}function I(){c=d,f=[],h=[],S=!0}function P(){var j=D(),B=S&&j,H=(f=yRe(f)).length;(B||H)&&(u.polygonStart(),B&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),H&&SOe(f,a,j,o,u),u.polygonEnd()),c=u,f=h=m=null}function N(){T.point=O,h&&h.push(m=[]),C=!0,E=!1,v=w=NaN}function $(){f&&(O(p,g),y&&E&&d.rejoin(),f.push(d.result())),T.point=A,E&&c.lineEnd()}function O(j,B){var H=i(j,B);if(h&&m.push([j,B]),C)p=j,g=B,y=H,C=!1,H&&(c.lineStart(),c.point(j,B));else if(H&&E)c.point(j,B);else{var q=[v=Math.max(eP,Math.min(CT,v)),w=Math.max(eP,Math.min(CT,w))],Y=[j=Math.max(eP,Math.min(CT,j)),B=Math.max(eP,Math.min(CT,B))];dIt(q,Y,e,t,n,r)?(E||(c.lineStart(),c.point(q[0],q[1])),c.point(Y[0],Y[1]),H||c.lineEnd(),S=!1):H&&(c.lineStart(),c.point(j,B),S=!1)}v=j,w=B,E=H}return T}}function Ume(e,t,n){var r=lc(e,t-Sn,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function Vme(e,t,n){var r=lc(e,t-Sn,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function fIt(){var e,t,n,r,i,o,s,a,l=10,u=l,c=90,d=360,f,h,m,p,g=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return lc(XD(r/c)*c,n,c).map(m).concat(lc(XD(a/d)*d,s,d).map(p)).concat(lc(XD(t/l)*l,e,l).filter(function(w){return Nr(w%c)>Sn}).map(f)).concat(lc(XD(o/u)*u,i,u).filter(function(w){return Nr(w%d)>Sn}).map(h))}return y.lines=function(){return v().map(function(w){return{type:"LineString",coordinates:w}})},y.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(p(s).slice(1),m(n).reverse().slice(1),p(a).reverse().slice(1))]}},y.extent=function(w){return arguments.length?y.extentMajor(w).extentMinor(w):y.extentMinor()},y.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],a=+w[0][1],s=+w[1][1],r>n&&(w=r,r=n,n=w),a>s&&(w=a,a=s,s=w),y.precision(g)):[[r,a],[n,s]]},y.extentMinor=function(w){return arguments.length?(t=+w[0][0],e=+w[1][0],o=+w[0][1],i=+w[1][1],t>e&&(w=t,t=e,e=w),o>i&&(w=o,o=i,i=w),y.precision(g)):[[t,o],[e,i]]},y.step=function(w){return arguments.length?y.stepMajor(w).stepMinor(w):y.stepMinor()},y.stepMajor=function(w){return arguments.length?(c=+w[0],d=+w[1],y):[c,d]},y.stepMinor=function(w){return arguments.length?(l=+w[0],u=+w[1],y):[l,u]},y.precision=function(w){return arguments.length?(g=+w,f=Ume(o,i,90),h=Vme(t,e,g),m=Ume(a,s,90),p=Vme(r,n,g),y):g},y.extentMajor([[-180,-90+Sn],[180,90-Sn]]).extentMinor([[-180,-80-Sn],[180,80+Sn]])}const EA=e=>e;var z7=new zl,Qq=new zl,kOe,ROe,Jq,Zq,hm={point:Sa,lineStart:Sa,lineEnd:Sa,polygonStart:function(){hm.lineStart=hIt,hm.lineEnd=mIt},polygonEnd:function(){hm.lineStart=hm.lineEnd=hm.point=Sa,z7.add(Nr(Qq)),Qq=new zl},result:function(){var e=z7/2;return z7=new zl,e}};function hIt(){hm.point=pIt}function pIt(e,t){hm.point=IOe,kOe=Jq=e,ROe=Zq=t}function IOe(e,t){Qq.add(Zq*e-Jq*t),Jq=e,Zq=t}function mIt(){IOe(kOe,ROe)}var W_=1/0,xM=W_,CA=-W_,_M=CA,EM={point:gIt,lineStart:Sa,lineEnd:Sa,polygonStart:Sa,polygonEnd:Sa,result:function(){var e=[[W_,xM],[CA,_M]];return CA=_M=-(xM=W_=1/0),e}};function gIt(e,t){e<W_&&(W_=e),e>CA&&(CA=e),t<xM&&(xM=t),t>_M&&(_M=t)}var eW=0,tW=0,ST=0,CM=0,SM=0,Mx=0,nW=0,rW=0,TT=0,DOe,POe,Nh,Mh,Qc={point:i1,lineStart:Hme,lineEnd:qme,polygonStart:function(){Qc.lineStart=bIt,Qc.lineEnd=wIt},polygonEnd:function(){Qc.point=i1,Qc.lineStart=Hme,Qc.lineEnd=qme},result:function(){var e=TT?[nW/TT,rW/TT]:Mx?[CM/Mx,SM/Mx]:ST?[eW/ST,tW/ST]:[NaN,NaN];return eW=tW=ST=CM=SM=Mx=nW=rW=TT=0,e}};function i1(e,t){eW+=e,tW+=t,++ST}function Hme(){Qc.point=yIt}function yIt(e,t){Qc.point=vIt,i1(Nh=e,Mh=t)}function vIt(e,t){var n=e-Nh,r=t-Mh,i=Yl(n*n+r*r);CM+=i*(Nh+e)/2,SM+=i*(Mh+t)/2,Mx+=i,i1(Nh=e,Mh=t)}function qme(){Qc.point=i1}function bIt(){Qc.point=xIt}function wIt(){OOe(DOe,POe)}function xIt(e,t){Qc.point=OOe,i1(DOe=Nh=e,POe=Mh=t)}function OOe(e,t){var n=e-Nh,r=t-Mh,i=Yl(n*n+r*r);CM+=i*(Nh+e)/2,SM+=i*(Mh+t)/2,Mx+=i,i=Mh*e-Nh*t,nW+=i*(Nh+e),rW+=i*(Mh+t),TT+=i*3,i1(Nh=e,Mh=t)}function NOe(e){this._context=e}NOe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Gl);break}}},result:Sa};var iW=new zl,U7,MOe,$Oe,AT,kT,SA={point:Sa,lineStart:function(){SA.point=_It},lineEnd:function(){U7&&FOe(MOe,$Oe),SA.point=Sa},polygonStart:function(){U7=!0},polygonEnd:function(){U7=null},result:function(){var e=+iW;return iW=new zl,e}};function _It(e,t){SA.point=FOe,MOe=AT=e,$Oe=kT=t}function FOe(e,t){AT-=e,kT-=t,iW.add(Yl(AT*AT+kT*kT)),AT=e,kT=t}let Wme,TM,Gme,Yme;class Kme{constructor(t){this._append=t==null?LOe:EIt(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Gme||this._append!==TM){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Gme=r,TM=this._append,Yme=this._,this._=i}this._+=Yme;break}}}result(){const t=this._;return this._="",t.length?t:null}}function LOe(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function EIt(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return LOe;if(t!==Wme){const n=10**t;Wme=t,TM=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return TM}function jOe(e,t){let n=3,r=4.5,i,o;function s(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),fm(a,i(o))),o.result()}return s.area=function(a){return fm(a,i(hm)),hm.result()},s.measure=function(a){return fm(a,i(SA)),SA.result()},s.bounds=function(a){return fm(a,i(EM)),EM.result()},s.centroid=function(a){return fm(a,i(Qc)),Qc.result()},s.projection=function(a){return arguments.length?(i=a==null?(e=null,EA):(e=a).stream,s):e},s.context=function(a){return arguments.length?(o=a==null?(t=null,new Kme(n)):new NOe(t=a),typeof r!="function"&&o.pointRadius(r),s):t},s.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),s):r},s.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(o=new Kme(n)),s},s.projection(e).digits(n).context(t)}function sF(e){return function(t){var n=new oW;for(var r in e)n[r]=e[r];return n.stream=t,n}}function oW(){}oW.prototype={constructor:oW,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function jee(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),fm(n,e.stream(EM)),t(EM.result()),r!=null&&e.clipExtent(r),e}function aF(e,t,n){return jee(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},n)}function Bee(e,t,n){return aF(e,[[0,0],t],n)}function zee(e,t,n){return jee(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function Uee(e,t,n){return jee(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}var Xme=16,CIt=kn(30*vr);function Qme(e,t){return+t?TIt(e,t):SIt(e)}function SIt(e){return sF({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function TIt(e,t){function n(r,i,o,s,a,l,u,c,d,f,h,m,p,g){var y=u-r,v=c-i,w=y*y+v*v;if(w>4*t&&p--){var E=s+f,C=a+h,S=l+m,T=Yl(E*E+C*C+S*S),A=Ou(S/=T),D=Nr(Nr(S)-1)<Sn||Nr(o-d)<Sn?(o+d)/2:xd(C,E),I=e(D,A),P=I[0],N=I[1],$=P-r,O=N-i,j=v*$-y*O;(j*j/w>t||Nr((y*$+v*O)/w-.5)>.3||s*f+a*h+l*m<CIt)&&(n(r,i,o,s,a,l,P,N,D,E/=T,C/=T,S,p,g),g.point(P,N),n(P,N,D,E,C,S,u,c,d,f,h,m,p,g))}}return function(r){var i,o,s,a,l,u,c,d,f,h,m,p,g={point:y,lineStart:v,lineEnd:E,polygonStart:function(){r.polygonStart(),g.lineStart=C},polygonEnd:function(){r.polygonEnd(),g.lineStart=v}};function y(A,D){A=e(A,D),r.point(A[0],A[1])}function v(){d=NaN,g.point=w,r.lineStart()}function w(A,D){var I=r1([A,D]),P=e(A,D);n(d,f,c,h,m,p,d=P[0],f=P[1],c=A,h=I[0],m=I[1],p=I[2],Xme,r),r.point(d,f)}function E(){g.point=y,r.lineEnd()}function C(){v(),g.point=S,g.lineEnd=T}function S(A,D){w(i=A,D),o=d,s=f,a=h,l=m,u=p,g.point=w}function T(){n(d,f,c,h,m,p,o,s,i,a,l,u,Xme,r),g.lineEnd=E,E()}return g}}var AIt=sF({point:function(e,t){this.stream.point(e*vr,t*vr)}});function kIt(e){return sF({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function RIt(e,t,n,r,i){function o(s,a){return s*=r,a*=i,[t+e*s,n-e*a]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function Jme(e,t,n,r,i,o){if(!o)return RIt(e,t,n,r,i);var s=kn(o),a=vn(o),l=s*e,u=a*e,c=s/e,d=a/e,f=(a*n-s*t)/e,h=(a*t+s*n)/e;function m(p,g){return p*=r,g*=i,[l*p-u*g+t,n-u*p-l*g]}return m.invert=function(p,g){return[r*(c*p-d*g+f),i*(h-d*p-c*g)]},m}function Dp(e){return BOe(function(){return e})()}function BOe(e){var t,n=150,r=480,i=250,o=0,s=0,a=0,l=0,u=0,c,d=0,f=1,h=1,m=null,p=zme,g=null,y,v,w,E=EA,C=.5,S,T,A,D,I;function P(j){return A(j[0]*vr,j[1]*vr)}function N(j){return j=A.invert(j[0],j[1]),j&&[j[0]*Vo,j[1]*Vo]}P.stream=function(j){return D&&I===j?D:D=AIt(kIt(c)(p(S(E(I=j)))))},P.preclip=function(j){return arguments.length?(p=j,m=void 0,O()):p},P.postclip=function(j){return arguments.length?(E=j,g=y=v=w=null,O()):E},P.clipAngle=function(j){return arguments.length?(p=+j?cIt(m=j*vr):(m=null,zme),O()):m*Vo},P.clipExtent=function(j){return arguments.length?(E=j==null?(g=y=v=w=null,EA):AOe(g=+j[0][0],y=+j[0][1],v=+j[1][0],w=+j[1][1]),O()):g==null?null:[[g,y],[v,w]]},P.scale=function(j){return arguments.length?(n=+j,$()):n},P.translate=function(j){return arguments.length?(r=+j[0],i=+j[1],$()):[r,i]},P.center=function(j){return arguments.length?(o=j[0]%360*vr,s=j[1]%360*vr,$()):[o*Vo,s*Vo]},P.rotate=function(j){return arguments.length?(a=j[0]%360*vr,l=j[1]%360*vr,u=j.length>2?j[2]%360*vr:0,$()):[a*Vo,l*Vo,u*Vo]},P.angle=function(j){return arguments.length?(d=j%360*vr,$()):d*Vo},P.reflectX=function(j){return arguments.length?(f=j?-1:1,$()):f<0},P.reflectY=function(j){return arguments.length?(h=j?-1:1,$()):h<0},P.precision=function(j){return arguments.length?(S=Qme(T,C=j*j),O()):Yl(C)},P.fitExtent=function(j,B){return aF(P,j,B)},P.fitSize=function(j,B){return Bee(P,j,B)},P.fitWidth=function(j,B){return zee(P,j,B)},P.fitHeight=function(j,B){return Uee(P,j,B)};function $(){var j=Jme(n,0,0,f,h,d).apply(null,t(o,s)),B=Jme(n,r-j[0],i-j[1],f,h,d);return c=EOe(a,l,u),T=Kq(t,B),A=Kq(c,T),S=Qme(T,C),O()}function O(){return D=I=null,P}return function(){return t=e.apply(this,arguments),P.invert=t.invert&&N,$()}}function Vee(e){var t=0,n=Er/3,r=BOe(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*vr,n=o[1]*vr):[t*Vo,n*Vo]},i}function IIt(e){var t=kn(e);function n(r,i){return[r*t,vn(i)/t]}return n.invert=function(r,i){return[r/t,Ou(i*t)]},n}function DIt(e,t){var n=vn(e),r=(n+vn(t))/2;if(Nr(r)<Sn)return IIt(e);var i=1+n*(2*r-n),o=Yl(i)/r;function s(a,l){var u=Yl(i-2*r*vn(l))/r;return[u*vn(a*=r),o-u*kn(a)]}return s.invert=function(a,l){var u=o-l,c=xd(a,Nr(u))*nd(u);return u*r<0&&(c-=Er*nd(a)*nd(u)),[c/r,Ou((i-(a*a+u*u)*r*r)/(2*r))]},s}function AM(){return Vee(DIt).scale(155.424).center([0,33.6442])}function zOe(){return AM().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function PIt(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function OIt(){var e,t,n=zOe(),r,i=AM().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=AM().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(f,h){l=[f,h]}};function c(f){var h=f[0],m=f[1];return l=null,r.point(h,m),l||(o.point(h,m),l)||(a.point(h,m),l)}c.invert=function(f){var h=n.scale(),m=n.translate(),p=(f[0]-m[0])/h,g=(f[1]-m[1])/h;return(g>=.12&&g<.234&&p>=-.425&&p<-.214?i:g>=.166&&g<.234&&p>=-.214&&p<-.115?s:n).invert(f)},c.stream=function(f){return e&&t===f?e:e=PIt([n.stream(t=f),i.stream(f),s.stream(f)])},c.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),s.precision(f),d()):n.precision()},c.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),s.scale(f),c.translate(n.translate())):n.scale()},c.translate=function(f){if(!arguments.length)return n.translate();var h=n.scale(),m=+f[0],p=+f[1];return r=n.translate(f).clipExtent([[m-.455*h,p-.238*h],[m+.455*h,p+.238*h]]).stream(u),o=i.translate([m-.307*h,p+.201*h]).clipExtent([[m-.425*h+Sn,p+.12*h+Sn],[m-.214*h-Sn,p+.234*h-Sn]]).stream(u),a=s.translate([m-.205*h,p+.212*h]).clipExtent([[m-.214*h+Sn,p+.166*h+Sn],[m-.115*h-Sn,p+.234*h-Sn]]).stream(u),d()},c.fitExtent=function(f,h){return aF(c,f,h)},c.fitSize=function(f,h){return Bee(c,f,h)},c.fitWidth=function(f,h){return zee(c,f,h)},c.fitHeight=function(f,h){return Uee(c,f,h)};function d(){return e=t=null,c}return c.scale(1070)}function UOe(e){return function(t,n){var r=kn(t),i=kn(n),o=e(r*i);return o===1/0?[2,0]:[o*i*vn(t),o*vn(n)]}}function mR(e){return function(t,n){var r=Yl(t*t+n*n),i=e(r),o=vn(i),s=kn(i);return[xd(t*o,r*s),Ou(r&&n*o/r)]}}var VOe=UOe(function(e){return Yl(2/(1+e))});VOe.invert=mR(function(e){return 2*Ou(e/2)});function NIt(){return Dp(VOe).scale(124.75).clipAngle(180-.001)}var HOe=UOe(function(e){return(e=fOe(e))&&e/vn(e)});HOe.invert=mR(function(e){return e});function MIt(){return Dp(HOe).scale(79.4188).clipAngle(180-.001)}function lF(e,t){return[e,lM(Fee((Ro+t)/2))]}lF.invert=function(e,t){return[e,2*rC(dOe(t))-Ro]};function $It(){return qOe(lF).scale(961/Gl)}function qOe(e){var t=Dp(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null,a,l,u;t.scale=function(d){return arguments.length?(r(d),c()):r()},t.translate=function(d){return arguments.length?(i(d),c()):i()},t.center=function(d){return arguments.length?(n(d),c()):n()},t.clipExtent=function(d){return arguments.length?(d==null?s=a=l=u=null:(s=+d[0][0],a=+d[0][1],l=+d[1][0],u=+d[1][1]),c()):s==null?null:[[s,a],[l,u]]};function c(){var d=Er*r(),f=t(nIt(t.rotate()).invert([0,0]));return o(s==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:e===lF?[[Math.max(f[0]-d,s),a],[Math.min(f[0]+d,l),u]]:[[s,Math.max(f[1]-d,a)],[l,Math.min(f[1]+d,u)]])}return c()}function tP(e){return Fee((Ro+e)/2)}function FIt(e,t){var n=kn(e),r=e===t?vn(e):lM(n/kn(t))/lM(tP(t)/tP(e)),i=n*L7(tP(e),r)/r;if(!r)return lF;function o(s,a){i>0?a<-Ro+Sn&&(a=-Ro+Sn):a>Ro-Sn&&(a=Ro-Sn);var l=i/L7(tP(a),r);return[l*vn(r*s),i-l*kn(r*s)]}return o.invert=function(s,a){var l=i-a,u=nd(r)*Yl(s*s+l*l),c=xd(s,Nr(l))*nd(l);return l*r<0&&(c-=Er*nd(s)*nd(l)),[c/r,2*rC(L7(i/u,1/r))-Ro]},o}function LIt(){return Vee(FIt).scale(109.5).parallels([30,30])}function kM(e,t){return[e,t]}kM.invert=kM;function jIt(){return Dp(kM).scale(152.63)}function BIt(e,t){var n=kn(e),r=e===t?vn(e):(n-kn(t))/(t-e),i=n/r+e;if(Nr(r)<Sn)return kM;function o(s,a){var l=i-a,u=r*s;return[l*vn(u),i-l*kn(u)]}return o.invert=function(s,a){var l=i-a,u=xd(s,Nr(l))*nd(l);return l*r<0&&(u-=Er*nd(s)*nd(l)),[u/r,i-nd(r)*Yl(s*s+l*l)]},o}function zIt(){return Vee(BIt).scale(131.154).center([0,13.9389])}var h2=1.340264,p2=-.081106,m2=893e-6,g2=.003796,RM=Yl(3)/2,UIt=12;function WOe(e,t){var n=Ou(RM*vn(t)),r=n*n,i=r*r*r;return[e*kn(n)/(RM*(h2+3*p2*r+i*(7*m2+9*g2*r))),n*(h2+p2*r+i*(m2+g2*r))]}WOe.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,s,a,l;o<UIt&&(a=n*(h2+p2*r+i*(m2+g2*r))-t,l=h2+3*p2*r+i*(7*m2+9*g2*r),n-=s=a/l,r=n*n,i=r*r*r,!(Nr(s)<sM));++o);return[RM*e*(h2+3*p2*r+i*(7*m2+9*g2*r))/kn(n),Ou(vn(n)/RM)]};function VIt(){return Dp(WOe).scale(177.158)}function GOe(e,t){var n=kn(t),r=kn(e)*n;return[n*vn(e)/r,vn(t)/r]}GOe.invert=mR(rC);function HIt(){return Dp(GOe).scale(144.049).clipAngle(60)}function qIt(){var e=1,t=0,n=0,r=1,i=1,o=0,s,a,l=null,u,c,d,f=1,h=1,m=sF({point:function(E,C){var S=w([E,C]);this.stream.point(S[0],S[1])}}),p=EA,g,y;function v(){return f=e*r,h=e*i,g=y=null,w}function w(E){var C=E[0]*f,S=E[1]*h;if(o){var T=S*s-C*a;C=C*s+S*a,S=T}return[C+t,S+n]}return w.invert=function(E){var C=E[0]-t,S=E[1]-n;if(o){var T=S*s+C*a;C=C*s-S*a,S=T}return[C/f,S/h]},w.stream=function(E){return g&&y===E?g:g=m(p(y=E))},w.postclip=function(E){return arguments.length?(p=E,l=u=c=d=null,v()):p},w.clipExtent=function(E){return arguments.length?(p=E==null?(l=u=c=d=null,EA):AOe(l=+E[0][0],u=+E[0][1],c=+E[1][0],d=+E[1][1]),v()):l==null?null:[[l,u],[c,d]]},w.scale=function(E){return arguments.length?(e=+E,v()):e},w.translate=function(E){return arguments.length?(t=+E[0],n=+E[1],v()):[t,n]},w.angle=function(E){return arguments.length?(o=E%360*vr,a=vn(o),s=kn(o),v()):o*Vo},w.reflectX=function(E){return arguments.length?(r=E?-1:1,v()):r<0},w.reflectY=function(E){return arguments.length?(i=E?-1:1,v()):i<0},w.fitExtent=function(E,C){return aF(w,E,C)},w.fitSize=function(E,C){return Bee(w,E,C)},w.fitWidth=function(E,C){return zee(w,E,C)},w.fitHeight=function(E,C){return Uee(w,E,C)},w}function YOe(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}YOe.invert=function(e,t){var n=t,r=25,i;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while(Nr(i)>Sn&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function WIt(){return Dp(YOe).scale(175.295)}function KOe(e,t){return[kn(t)*vn(e),vn(t)]}KOe.invert=mR(Ou);function GIt(){return Dp(KOe).scale(249.5).clipAngle(90+Sn)}function XOe(e,t){var n=kn(t),r=1+kn(e)*n;return[n*vn(e)/r,vn(t)/r]}XOe.invert=mR(function(e){return 2*rC(e)});function YIt(){return Dp(XOe).scale(250).clipAngle(142)}function QOe(e,t){return[lM(Fee((Ro+t)/2)),-e]}QOe.invert=function(e,t){return[-t,2*rC(dOe(e))-Ro]};function KIt(){var e=qOe(QOe),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var XIt=Math.abs,sW=Math.cos,IM=Math.sin,QIt=1e-6,JOe=Math.PI,aW=JOe/2,Zme=JIt(2);function ege(e){return e>1?aW:e<-1?-aW:Math.asin(e)}function JIt(e){return e>0?Math.sqrt(e):0}function ZIt(e,t){var n=e*IM(t),r=30,i;do t-=i=(t+IM(t)-n)/(1+sW(t));while(XIt(i)>QIt&&--r>0);return t/2}function eDt(e,t,n){function r(i,o){return[e*i*sW(o=ZIt(n,o)),t*IM(o)]}return r.invert=function(i,o){return o=ege(o/t),[i/(e*sW(o)),ege((2*o+IM(2*o))/n)]},r}var tDt=eDt(Zme/aW,Zme,JOe);function nDt(){return Dp(tDt).scale(169.529)}const rDt=jOe(),lW=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function iDt(e,t){return function n(){const r=t();return r.type=e,r.path=jOe().projection(r),r.copy=r.copy||function(){const i=n();return lW.forEach(o=>{r[o]&&i[o](r[o]())}),i.path.pointRadius(r.path.pointRadius()),i},pPe(r)}}function Hee(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(DM[e]=iDt(e,t),this):DM[e]||null}function ZOe(e){return e&&e.path||rDt}const DM={albers:zOe,albersusa:OIt,azimuthalequalarea:NIt,azimuthalequidistant:MIt,conicconformal:LIt,conicequalarea:AM,conicequidistant:zIt,equalEarth:VIt,equirectangular:jIt,gnomonic:HIt,identity:qIt,mercator:$It,mollweide:nDt,naturalEarth1:WIt,orthographic:GIt,stereographic:YIt,transversemercator:KIt};for(const e in DM)Hee(e,DM[e]);function oDt(){}const em=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function eNe(){var e=1,t=1,n=a;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],d=[];return o(l,u,f=>{n(f,l,u),sDt(f)>0?c.push([f]):d.push(f)}),d.forEach(f=>{for(var h=0,m=c.length,p;h<m;++h)if(aDt((p=c[h])[0],f)!==-1){p.push(f);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function o(l,u,c){var d=[],f=[],h,m,p,g,y,v;for(h=m=-1,g=l[0]>=u,em[g<<1].forEach(w);++h<e-1;)p=g,g=l[h+1]>=u,em[p|g<<1].forEach(w);for(em[g<<0].forEach(w);++m<t-1;){for(h=-1,g=l[m*e+e]>=u,y=l[m*e]>=u,em[g<<1|y<<2].forEach(w);++h<e-1;)p=g,g=l[m*e+e+h+1]>=u,v=y,y=l[m*e+h+1]>=u,em[p|g<<1|y<<2|v<<3].forEach(w);em[g|y<<3].forEach(w)}for(h=-1,y=l[m*e]>=u,em[y<<2].forEach(w);++h<e-1;)v=y,y=l[m*e+h+1]>=u,em[y<<2|v<<3].forEach(w);em[y<<3].forEach(w);function w(E){var C=[E[0][0]+h,E[0][1]+m],S=[E[1][0]+h,E[1][1]+m],T=s(C),A=s(S),D,I;(D=f[T])?(I=d[A])?(delete f[D.end],delete d[I.start],D===I?(D.ring.push(S),c(D.ring)):d[D.start]=f[I.end]={start:D.start,end:I.end,ring:D.ring.concat(I.ring)}):(delete f[D.end],D.ring.push(S),f[D.end=A]=D):(D=d[A])?(I=f[T])?(delete d[D.start],delete f[I.end],D===I?(D.ring.push(S),c(D.ring)):d[I.start]=f[D.end]={start:I.start,end:D.end,ring:I.ring.concat(D.ring)}):(delete d[D.start],D.ring.unshift(C),d[D.start=T]=D):d[T]=f[A]={start:T,end:A,ring:[C,S]}}}function s(l){return l[0]*2+l[1]*(e+1)*4}function a(l,u,c){l.forEach(d=>{var f=d[0],h=d[1],m=f|0,p=h|0,g,y=u[p*e+m];f>0&&f<e&&m===f&&(g=u[p*e+m-1],d[0]=f+(c-g)/(y-g)-.5),h>0&&h<t&&p===h&&(g=u[(p-1)*e+m],d[1]=h+(c-g)/(y-g)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||it("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?a:oDt,r):n===a},r}function sDt(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function aDt(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=lDt(e,t[n]))return i;return 0}function lDt(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],u=l[0],c=l[1],d=e[a],f=d[0],h=d[1];if(uDt(l,d,t))return 0;c>r!=h>r&&n<(f-u)*(r-c)/(h-c)+u&&(i=-i)}return i}function uDt(e,t,n){var r;return cDt(e,t,n)&&dDt(e[r=+(e[0]===t[0])],n[r],t[r])}function cDt(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function dDt(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function tNe(e,t,n){return function(r){var i=up(r),o=n?Math.min(i[0],0):i[0],s=i[1],a=s-o,l=t?my(o,s,e):a/(e+1);return lc(o+l,s,l)}}function qee(e){Ze.call(this,null,e)}qee.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};Pt(qee,Ze,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||Wl,o=eNe().smooth(e.smooth!==!1),s=e.thresholds||fDt(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),d=o.size([c.width,c.height])(c.values,fn(s)?s:s(c.values));hDt(d,c,u,e),d.forEach(f=>{l.push(S5(u,ci(a!=null?{[a]:f}:f)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function fDt(e,t,n){const r=tNe(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>Rb(t(i).values)))}function hDt(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(cr(i)&&(i=i(n,r)),cr(o)&&(o=o(n,r)),(i===1||i==null)&&!o)return;const s=(hy(i)?i:i[0])||1,a=(hy(i)?i:i[1])||1,l=o&&o[0]||0,u=o&&o[1]||0;e.forEach(nNe(t,s,a,l,u))}function nNe(e,t,n,r,i){const o=e.x1||0,s=e.y1||0,a=t*n<0;function l(d){d.forEach(u)}function u(d){a&&d.reverse(),d.forEach(c)}function c(d){d[0]=(d[0]-o)*t+r,d[1]=(d[1]-s)*n+i}return function(d){return d.coordinates.forEach(l),d}}function tge(e,t,n){const r=e>=0?e:$J(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function V7(e){return cr(e)?e:fl(+e)}function rNe(){var e=l=>l[0],t=l=>l[1],n=WE,r=[-1,-1],i=960,o=500,s=2;function a(l,u){const c=tge(r[0],l,e)>>s,d=tge(r[1],l,t)>>s,f=c?c+2:0,h=d?d+2:0,m=2*f+(i>>s),p=2*h+(o>>s),g=new Float32Array(m*p),y=new Float32Array(m*p);let v=g;l.forEach(E=>{const C=f+(+e(E)>>s),S=h+(+t(E)>>s);C>=0&&C<m&&S>=0&&S<p&&(g[C+S*m]+=+n(E))}),c>0&&d>0?(Zw(m,p,g,y,c),ex(m,p,y,g,d),Zw(m,p,g,y,c),ex(m,p,y,g,d),Zw(m,p,g,y,c),ex(m,p,y,g,d)):c>0?(Zw(m,p,g,y,c),Zw(m,p,y,g,c),Zw(m,p,g,y,c),v=y):d>0&&(ex(m,p,g,y,d),ex(m,p,y,g,d),ex(m,p,g,y,d),v=y);const w=u?Math.pow(2,-2*s):1/vRe(v);for(let E=0,C=m*p;E<C;++E)v[E]*=w;return{values:v,scale:1<<s,width:m,height:p,x1:f,y1:h,x2:f+(i>>s),y2:h+(o>>s)}}return a.x=function(l){return arguments.length?(e=V7(l),a):e},a.y=function(l){return arguments.length?(t=V7(l),a):t},a.weight=function(l){return arguments.length?(n=V7(l),a):n},a.size=function(l){if(!arguments.length)return[i,o];var u=+l[0],c=+l[1];return u>=0&&c>=0||it("invalid size"),i=u,o=c,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||it("invalid cell size"),s=Math.floor(Math.log(l)/Math.LN2),a):1<<s},a.bandwidth=function(l){return arguments.length?(l=_n(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&it("invalid bandwidth"),r=l,a):r},a}function Zw(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<t;++s)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+s*e]),a>=i&&(a>=o&&(l-=n[a-o+s*e]),r[a-i+s*e]=l/Math.min(a+1,e-1+o-a,o))}function ex(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<e;++s)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[s+a*e]),a>=i&&(a>=o&&(l-=n[s+(a-o)*e]),r[s+(a-i)*e]=l/Math.min(a+1,t-1+o-a,o))}function Wee(e){Ze.call(this,null,e)}Wee.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const pDt=["x","y","weight","size","cellSize","bandwidth"];function iNe(e,t){return pDt.forEach(n=>t[n]!=null?e[n](t[n]):0),e}Pt(Wee,Ze,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=mDt(r,e.groupby),o=(e.groupby||[]).map(Io),s=iNe(rNe(),e),a=e.as||"grid",l=[];function u(c,d){for(let f=0;f<o.length;++f)c[o[f]]=d[f];return c}return l=i.map(c=>ci(u({[a]:s(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function mDt(e,t){var n=[],r=c=>c(a),i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function Gee(e){Ze.call(this,null,e)}Gee.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};Pt(Gee,Ze,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=eNe().smooth(e.smooth!==!1),i=e.values,o=e.thresholds||tNe(e.count||10,e.nice,!!i),s=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=iNe(rNe(),e)(i,!0),l=nNe(a,a.scale||1,a.scale||1,0,0),s=[a.width,a.height],i=a.values),o=fn(o)?o:o(i),i=r.size(s)(i,o),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(ci),n}});const uW="Feature",Yee="FeatureCollection",gDt="MultiPoint";function Kee(e){Ze.call(this,null,e)}Kee.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};Pt(Kee,Ze,{transform(e,t){var n=this._features,r=this._points,i=e.fields,o=i&&i[0],s=i&&i[1],a=e.geojson||!i&&Wl,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(sl(a))||o&&t.modified(sl(o))||s&&t.modified(sl(s)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,c=>n.push(a(c))),o&&s&&(t.visit(l,c=>{var d=o(c),f=s(c);d!=null&&f!=null&&(d=+d)===d&&(f=+f)===f&&r.push([d,f])}),n=n.concat({type:uW,geometry:{type:gDt,coordinates:r}})),this.value={type:Yee,features:n}}});function Xee(e){Ze.call(this,null,e)}Xee.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};Pt(Xee,Ze,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||Wl,o=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=ZOe(e.projection),n.materialize().reflow()):s=i===Wl||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=yDt(r,e.pointRadius);return n.visit(s,l=>l[o]=r(i(l))),r.pointRadius(a),n.modifies(o)}});function yDt(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function Qee(e){Ze.call(this,null,e)}Qee.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};Pt(Qee,Ze,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],s=o[0],a=o[1],l;function u(c){const d=n([r(c),i(c)]);d?(c[s]=d[0],c[a]=d[1]):(c[s]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(o)}});function Jee(e){Ze.call(this,null,e)}Jee.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};Pt(Jee,Ze,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=vDt(ZOe(e.projection),e.field||yd("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,s=>s[i]=r),n.modifies(i)}});function vDt(e,t,n){const r=n==null?i=>e(t(i)):i=>{var o=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(o),s};return r.context=i=>(e.context(i),r),r}function Zee(e){Ze.call(this,[],e),this.generator=fIt()}Zee.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};Pt(Zee,Ze,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const o in e)cr(r[o])&&r[o](e[o]);return i=r(),n.length?t.mod.push(hIe(n[0],i)):t.add.push(ci(i)),n[0]=i,t}});function ete(e){Ze.call(this,null,e)}ete.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};Pt(ete,Ze,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||Wl,o=wDt(e.opacity,e),s=bDt(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?Rb(n.map(u=>Rb(i(u).values))):0};return n.forEach(u=>{const c=i(u),d=ur({},u,l);r||(d.$max=Rb(c.values||[])),u[a]=xDt(c,d,s.dep?s:fl(s(d)),o.dep?o:fl(o(d)))}),t.reflow(!0).modifies(a)}});function bDt(e,t){let n;return cr(e)?(n=r=>vy(e(r,t)),n.dep=oNe(e)):n=fl(vy(e||"#888")),n}function wDt(e,t){let n;return cr(e)?(n=r=>e(r,t),n.dep=oNe(e)):e?n=fl(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function oNe(e){if(!cr(e))return!1;const t=Pf(sl(e));return t.$x||t.$y||t.$value||t.$max}function xDt(e,t,n,r){const i=e.width,o=e.height,s=e.x1||0,a=e.y1||0,l=e.x2||i,u=e.y2||o,c=e.values,d=c?g=>c[g]:_0,f=Q0(l-s,u-a),h=f.getContext("2d"),m=h.getImageData(0,0,l-s,u-a),p=m.data;for(let g=a,y=0;g<u;++g){t.$y=g-a;for(let v=s,w=g*i;v<l;++v,y+=4){t.$x=v-s,t.$value=d(v+w);const E=n(t);p[y+0]=E.r,p[y+1]=E.g,p[y+2]=E.b,p[y+3]=~~(255*r(t))}}return h.putImageData(m,0,0),f}function sNe(e){Ze.call(this,null,e),this.modified(!0)}Pt(sNe,Ze,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=EDt(e.type),lW.forEach(r=>{e[r]!=null&&nge(n,r,e[r])})):lW.forEach(r=>{e.modified(r)&&nge(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&_Dt(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function _Dt(e,t){const n=CDt(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function EDt(e){const t=Hee((e||"mercator").toLowerCase());return t||it("Unrecognized projection type: "+e),t()}function nge(e,t,n){cr(e[t])&&e[t](n)}function CDt(e){return e=_n(e),e.length===1?e[0]:{type:Yee,features:e.reduce((t,n)=>t.concat(SDt(n)),[])}}function SDt(e){return e.type===Yee?e.features:_n(e).filter(t=>t!=null).map(t=>t.type===uW?t:{type:uW,geometry:t})}const TDt=Object.freeze(Object.defineProperty({__proto__:null,contour:Gee,geojson:Kee,geopath:Xee,geopoint:Qee,geoshape:Jee,graticule:Zee,heatmap:ete,isocontour:qee,kde2d:Wee,projection:sNe},Symbol.toStringTag,{value:"Module"}));function ADt(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=n.length,a,l=0,u=0;for(o=0;o<s;++o)a=n[o],l+=a.x,u+=a.y;for(l=(l/s-e)*r,u=(u/s-t)*r,o=0;o<s;++o)a=n[o],a.x-=l,a.y-=u}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function kDt(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return aNe(this.cover(t,n),t,n,e)}function aNe(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,s={data:r},a=e._x0,l=e._y0,u=e._x1,c=e._y1,d,f,h,m,p,g,y,v;if(!o)return e._root=s,e;for(;o.length;)if((p=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(f=(l+c)/2))?l=f:c=f,i=o,!(o=o[y=g<<1|p]))return i[y]=s,e;if(h=+e._x.call(null,o.data),m=+e._y.call(null,o.data),t===h&&n===m)return s.next=o,i?i[y]=s:e._root=s,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(p=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(f=(l+c)/2))?l=f:c=f;while((y=g<<1|p)===(v=(m>=f)<<1|h>=d));return i[v]=o,i[y]=s,e}function RDt(e){var t,n,r=e.length,i,o,s=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,a[n]=o,i<l&&(l=i),i>c&&(c=i),o<u&&(u=o),o>d&&(d=o));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<r;++n)aNe(this,s[n],a[n],e[n]);return this}function IDt(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s=i-n||1,a=this._root,l,u;n>e||e>=i||r>t||t>=o;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=a,a=l,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function DDt(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function PDt(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ml(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function ODt(e,t,n){var r,i=this._x0,o=this._y0,s,a,l,u,c=this._x1,d=this._y1,f=[],h=this._root,m,p;for(h&&f.push(new Ml(h,i,o,c,d)),n==null?n=1/0:(i=e-n,o=t-n,c=e+n,d=t+n,n*=n);m=f.pop();)if(!(!(h=m.node)||(s=m.x0)>c||(a=m.y0)>d||(l=m.x1)<i||(u=m.y1)<o))if(h.length){var g=(s+l)/2,y=(a+u)/2;f.push(new Ml(h[3],g,y,l,u),new Ml(h[2],s,y,g,u),new Ml(h[1],g,a,l,y),new Ml(h[0],s,a,g,y)),(p=(t>=y)<<1|e>=g)&&(m=f[f.length-1],f[f.length-1]=f[f.length-1-p],f[f.length-1-p]=m)}else{var v=e-+this._x.call(null,h.data),w=t-+this._y.call(null,h.data),E=v*v+w*w;if(E<n){var C=Math.sqrt(n=E);i=e-C,o=t-C,c=e+C,d=t+C,r=h.data}}return r}function NDt(e){if(isNaN(c=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,s=this._x0,a=this._y0,l=this._x1,u=this._y1,c,d,f,h,m,p,g,y;if(!n)return this;if(n.length)for(;;){if((m=c>=(f=(s+l)/2))?s=f:l=f,(p=d>=(h=(a+u)/2))?a=h:u=h,t=n,!(n=n[g=p<<1|m]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(r=t,y=g)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[g]=o:delete t[g],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=o,this)}function MDt(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function $Dt(){return this._root}function FDt(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function LDt(e){var t=[],n,r=this._root,i,o,s,a,l;for(r&&t.push(new Ml(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(o+a)/2,c=(s+l)/2;(i=r[3])&&t.push(new Ml(i,u,c,a,l)),(i=r[2])&&t.push(new Ml(i,o,c,u,l)),(i=r[1])&&t.push(new Ml(i,u,s,a,c)),(i=r[0])&&t.push(new Ml(i,o,s,u,c))}return this}function jDt(e){var t=[],n=[],r;for(this._root&&t.push(new Ml(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(s+l)/2,d=(a+u)/2;(o=i[0])&&t.push(new Ml(o,s,a,c,d)),(o=i[1])&&t.push(new Ml(o,c,a,l,d)),(o=i[2])&&t.push(new Ml(o,s,d,c,u)),(o=i[3])&&t.push(new Ml(o,c,d,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function BDt(e){return e[0]}function zDt(e){return arguments.length?(this._x=e,this):this._x}function UDt(e){return e[1]}function VDt(e){return arguments.length?(this._y=e,this):this._y}function tte(e,t,n){var r=new nte(t??BDt,n??UDt,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function nte(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function rge(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Zl=tte.prototype=nte.prototype;Zl.copy=function(){var e=new nte(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=rge(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=rge(r));return e};Zl.add=kDt;Zl.addAll=RDt;Zl.cover=IDt;Zl.data=DDt;Zl.extent=PDt;Zl.find=ODt;Zl.remove=NDt;Zl.removeAll=MDt;Zl.root=$Dt;Zl.size=FDt;Zl.visit=LDt;Zl.visitAfter=jDt;Zl.x=zDt;Zl.y=VDt;function Fl(e){return function(){return e}}function $0(e){return(e()-.5)*1e-6}function HDt(e){return e.x+e.vx}function qDt(e){return e.y+e.vy}function WDt(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=Fl(e==null?1:+e));function s(){for(var u,c=t.length,d,f,h,m,p,g,y=0;y<o;++y)for(d=tte(t,HDt,qDt).visitAfter(a),u=0;u<c;++u)f=t[u],p=n[f.index],g=p*p,h=f.x+f.vx,m=f.y+f.vy,d.visit(v);function v(w,E,C,S,T){var A=w.data,D=w.r,I=p+D;if(A){if(A.index>f.index){var P=h-A.x-A.vx,N=m-A.y-A.vy,$=P*P+N*N;$<I*I&&(P===0&&(P=$0(r),$+=P*P),N===0&&(N=$0(r),$+=N*N),$=(I-($=Math.sqrt($)))/$*i,f.vx+=(P*=$)*(I=(D*=D)/(g+D)),f.vy+=(N*=$)*I,A.vx-=P*(I=1-I),A.vy-=N*I)}return}return E>h+I||S<h-I||C>m+I||T<m-I}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,d;for(n=new Array(c),u=0;u<c;++u)d=t[u],n[d.index]=+e(d,u,t)}}return s.initialize=function(u,c){t=u,r=c,l()},s.iterations=function(u){return arguments.length?(o=+u,s):o},s.strength=function(u){return arguments.length?(i=+u,s):i},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Fl(+u),l(),s):e},s}function GDt(e){return e.index}function ige(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function YDt(e){var t=GDt,n=d,r,i=Fl(30),o,s,a,l,u,c=1;e==null&&(e=[]);function d(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function f(g){for(var y=0,v=e.length;y<c;++y)for(var w=0,E,C,S,T,A,D,I;w<v;++w)E=e[w],C=E.source,S=E.target,T=S.x+S.vx-C.x-C.vx||$0(u),A=S.y+S.vy-C.y-C.vy||$0(u),D=Math.sqrt(T*T+A*A),D=(D-o[w])/D*g*r[w],T*=D,A*=D,S.vx-=T*(I=l[w]),S.vy-=A*I,C.vx+=T*(I=1-I),C.vy+=A*I}function h(){if(s){var g,y=s.length,v=e.length,w=new Map(s.map((C,S)=>[t(C,S,s),C])),E;for(g=0,a=new Array(y);g<v;++g)E=e[g],E.index=g,typeof E.source!="object"&&(E.source=ige(w,E.source)),typeof E.target!="object"&&(E.target=ige(w,E.target)),a[E.source.index]=(a[E.source.index]||0)+1,a[E.target.index]=(a[E.target.index]||0)+1;for(g=0,l=new Array(v);g<v;++g)E=e[g],l[g]=a[E.source.index]/(a[E.source.index]+a[E.target.index]);r=new Array(v),m(),o=new Array(v),p()}}function m(){if(s)for(var g=0,y=e.length;g<y;++g)r[g]=+n(e[g],g,e)}function p(){if(s)for(var g=0,y=e.length;g<y;++g)o[g]=+i(e[g],g,e)}return f.initialize=function(g,y){s=g,u=y,h()},f.links=function(g){return arguments.length?(e=g,h(),f):e},f.id=function(g){return arguments.length?(t=g,f):t},f.iterations=function(g){return arguments.length?(c=+g,f):c},f.strength=function(g){return arguments.length?(n=typeof g=="function"?g:Fl(+g),m(),f):n},f.distance=function(g){return arguments.length?(i=typeof g=="function"?g:Fl(+g),p(),f):i},f}var KDt={value:()=>{}};function rte(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new KO(n)}function KO(e){this._=e}function XDt(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}KO.prototype=rte.prototype={constructor:KO,on:function(e,t){var n=this._,r=XDt(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=QDt(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=oge(n[i],e.name,t);else if(t==null)for(i in n)n[i]=oge(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new KO(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function QDt(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function oge(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=KDt,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var G_=0,RT=0,IS=0,lNe=1e3,PM,IT,OM=0,o1=0,uF=0,TA=typeof performance=="object"&&performance.now?performance:Date,uNe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function cF(){return o1||(uNe(JDt),o1=TA.now()+uF)}function JDt(){o1=0}function AA(){this._call=this._time=this._next=null}AA.prototype=ite.prototype={constructor:AA,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?cF():+n)+(t==null?0:+t),!this._next&&IT!==this&&(IT?IT._next=this:PM=this,IT=this),this._call=e,this._time=n,cW()},stop:function(){this._call&&(this._call=null,this._time=1/0,cW())}};function ite(e,t,n){var r=new AA;return r.restart(e,t,n),r}function ZDt(){cF(),++G_;for(var e=PM,t;e;)(t=o1-e._time)>=0&&e._call.call(void 0,t),e=e._next;--G_}function sge(){o1=(OM=TA.now())+uF,G_=RT=0;try{ZDt()}finally{G_=0,tPt(),o1=0}}function ePt(){var e=TA.now(),t=e-OM;t>lNe&&(uF-=t,OM=e)}function tPt(){for(var e,t=PM,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:PM=n);IT=e,cW(r)}function cW(e){if(!G_){RT&&(RT=clearTimeout(RT));var t=e-o1;t>24?(e<1/0&&(RT=setTimeout(sge,e-TA.now()-uF)),IS&&(IS=clearInterval(IS))):(IS||(OM=TA.now(),IS=setInterval(ePt,lNe)),G_=1,uNe(sge))}}function age(e,t,n){var r=new AA;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function nPt(e,t,n){var r=new AA,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,s,a){s=+s,a=a==null?cF():+a,r._restart(function l(u){u+=i,r._restart(l,i+=s,a),o(u)},s,a)},r.restart(e,t,n),r)}const rPt=1664525,iPt=1013904223,lge=4294967296;function oPt(){let e=1;return()=>(e=(rPt*e+iPt)%lge)/lge}function sPt(e){return e.x}function aPt(e){return e.y}var lPt=10,uPt=Math.PI*(3-Math.sqrt(5));function cPt(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=ite(d),u=rte("tick","end"),c=oPt();e==null&&(e=[]);function d(){f(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function f(p){var g,y=e.length,v;p===void 0&&(p=1);for(var w=0;w<p;++w)for(n+=(o-n)*i,a.forEach(function(E){E(n)}),g=0;g<y;++g)v=e[g],v.fx==null?v.x+=v.vx*=s:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=s:(v.y=v.fy,v.vy=0);return t}function h(){for(var p=0,g=e.length,y;p<g;++p){if(y=e[p],y.index=p,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var v=lPt*Math.sqrt(.5+p),w=p*uPt;y.x=v*Math.cos(w),y.y=v*Math.sin(w)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function m(p){return p.initialize&&p.initialize(e,c),p}return h(),t={tick:f,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(p){return arguments.length?(e=p,h(),a.forEach(m),t):e},alpha:function(p){return arguments.length?(n=+p,t):n},alphaMin:function(p){return arguments.length?(r=+p,t):r},alphaDecay:function(p){return arguments.length?(i=+p,t):+i},alphaTarget:function(p){return arguments.length?(o=+p,t):o},velocityDecay:function(p){return arguments.length?(s=1-p,t):1-s},randomSource:function(p){return arguments.length?(c=p,a.forEach(m),t):c},force:function(p,g){return arguments.length>1?(g==null?a.delete(p):a.set(p,m(g)),t):a.get(p)},find:function(p,g,y){var v=0,w=e.length,E,C,S,T,A;for(y==null?y=1/0:y*=y,v=0;v<w;++v)T=e[v],E=p-T.x,C=g-T.y,S=E*E+C*C,S<y&&(A=T,y=S);return A},on:function(p,g){return arguments.length>1?(u.on(p,g),t):u.on(p)}}}function dPt(){var e,t,n,r,i=Fl(-30),o,s=1,a=1/0,l=.81;function u(h){var m,p=e.length,g=tte(e,sPt,aPt).visitAfter(d);for(r=h,m=0;m<p;++m)t=e[m],g.visit(f)}function c(){if(e){var h,m=e.length,p;for(o=new Array(m),h=0;h<m;++h)p=e[h],o[p.index]=+i(p,h,e)}}function d(h){var m=0,p,g,y=0,v,w,E;if(h.length){for(v=w=E=0;E<4;++E)(p=h[E])&&(g=Math.abs(p.value))&&(m+=p.value,y+=g,v+=g*p.x,w+=g*p.y);h.x=v/y,h.y=w/y}else{p=h,p.x=p.data.x,p.y=p.data.y;do m+=o[p.data.index];while(p=p.next)}h.value=m}function f(h,m,p,g){if(!h.value)return!0;var y=h.x-t.x,v=h.y-t.y,w=g-m,E=y*y+v*v;if(w*w/l<E)return E<a&&(y===0&&(y=$0(n),E+=y*y),v===0&&(v=$0(n),E+=v*v),E<s&&(E=Math.sqrt(s*E)),t.vx+=y*h.value*r/E,t.vy+=v*h.value*r/E),!0;if(h.length||E>=a)return;(h.data!==t||h.next)&&(y===0&&(y=$0(n),E+=y*y),v===0&&(v=$0(n),E+=v*v),E<s&&(E=Math.sqrt(s*E)));do h.data!==t&&(w=o[h.data.index]*r/E,t.vx+=y*w,t.vy+=v*w);while(h=h.next)}return u.initialize=function(h,m){e=h,n=m,c()},u.strength=function(h){return arguments.length?(i=typeof h=="function"?h:Fl(+h),c(),u):i},u.distanceMin=function(h){return arguments.length?(s=h*h,u):Math.sqrt(s)},u.distanceMax=function(h){return arguments.length?(a=h*h,u):Math.sqrt(a)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function fPt(e){var t=Fl(.1),n,r,i;typeof e!="function"&&(e=Fl(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Fl(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:Fl(+a),s(),o):e},o}function hPt(e){var t=Fl(.1),n,r,i;typeof e!="function"&&(e=Fl(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Fl(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:Fl(+a),s(),o):e},o}const uge={center:ADt,collide:WDt,nbody:dPt,link:YDt,x:fPt,y:hPt},DT="forces",dW=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],pPt=["static","iterations"],cNe=["x","y","vx","vy"];function ote(e){Ze.call(this,null,e)}ote.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:cNe}]};Pt(ote,Ze,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(dW),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&dNe(n,e,0,t)):(this.value=n=gPt(t.source,e),n.on("tick",mPt(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(pPt)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,u=a.length,c;l<u;++l)if(c=a[l],!(c.name!==DT||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,o=r.length,s;i<o;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(cNe)}});function mPt(e,t){return()=>e.touch(t).run()}function gPt(e,t){const n=cPt(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),dNe(n,t,!0).on("end",()=>o=!0)}function dNe(e,t,n,r){var i=_n(t.forces),o,s,a,l;for(o=0,s=dW.length;o<s;++o)a=dW[o],a!==DT&&t.modified(a)&&e[a](t[a]);for(o=0,s=i.length;o<s;++o)l=DT+o,a=n||t.modified(DT,o)?vPt(i[o]):r&&yPt(i[o],r)?e.force(l):null,a&&e.force(l,a);for(s=e.numForces||0;o<s;++o)e.force(DT+o,null);return e.numForces=i.length,e}function yPt(e,t){var n,r;for(n in e)if(cr(r=e[n])&&t.modified(sl(r)))return 1;return 0}function vPt(e){var t,n;Nn(uge,e.force)||it("Unrecognized force: "+e.force),t=uge[e.force]();for(n in e)cr(t[n])&&bPt(t[n],e[n],e);return t}function bPt(e,t,n){e(cr(t)?r=>t(r,n):t)}const wPt=Object.freeze(Object.defineProperty({__proto__:null,force:ote},Symbol.toStringTag,{value:"Module"}));function xPt(e,t){return e.parent===t.parent?1:2}function _Pt(e){return e.reduce(EPt,0)/e.length}function EPt(e,t){return e+t.x}function CPt(e){return 1+e.reduce(SPt,0)}function SPt(e,t){return Math.max(e,t.y)}function TPt(e){for(var t;t=e.children;)e=t[0];return e}function APt(e){for(var t;t=e.children;)e=t[t.length-1];return e}function kPt(){var e=xPt,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(f){var h=f.children;h?(f.x=_Pt(h),f.y=CPt(h)):(f.x=s?a+=e(f,s):0,f.y=0,s=f)});var l=TPt(o),u=APt(o),c=l.x-e(l,u)/2,d=u.x+e(u,l)/2;return o.eachAfter(r?function(f){f.x=(f.x-o.x)*t,f.y=(o.y-f.y)*n}:function(f){f.x=(f.x-c)/(d-c)*t,f.y=(1-(o.y?f.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function RPt(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function IPt(){return this.eachAfter(RPt)}function DPt(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function PPt(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function OPt(e,t){for(var n=this,r=[n],i=[],o,s,a,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function NPt(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function MPt(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function $Pt(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function FPt(e){for(var t=this,n=LPt(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function LPt(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function jPt(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function BPt(){return Array.from(this)}function zPt(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function UPt(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*VPt(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function ste(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=WPt)):t===void 0&&(t=qPt);for(var n=new Y_(e),r,i=[n],o,s,a,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new Y_(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(fNe)}function HPt(){return ste(this).eachBefore(GPt)}function qPt(e){return e.children}function WPt(e){return Array.isArray(e)?e[1]:null}function GPt(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function fNe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Y_(e){this.data=e,this.depth=this.height=0,this.parent=null}Y_.prototype=ste.prototype={constructor:Y_,count:IPt,each:DPt,eachAfter:OPt,eachBefore:PPt,find:NPt,sum:MPt,sort:$Pt,path:FPt,ancestors:jPt,descendants:BPt,leaves:zPt,links:UPt,copy:HPt,[Symbol.iterator]:VPt};function XO(e){return e==null?null:hNe(e)}function hNe(e){if(typeof e!="function")throw new Error;return e}function lb(){return 0}function xx(e){return function(){return e}}const YPt=1664525,KPt=1013904223,cge=4294967296;function XPt(){let e=1;return()=>(e=(YPt*e+KPt)%cge)/cge}function QPt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JPt(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function ZPt(e,t){for(var n=0,r=(e=JPt(Array.from(e),t)).length,i=[],o,s;n<r;)o=e[n],s&&pNe(s,o)?++n:(s=t3t(i=e3t(i,o)),n=0);return s}function e3t(e,t){var n,r;if(H7(t,e))return[t];for(n=0;n<e.length;++n)if(nP(t,e[n])&&H7(PT(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(nP(PT(e[n],e[r]),t)&&nP(PT(e[n],t),e[r])&&nP(PT(e[r],t),e[n])&&H7(mNe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function nP(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function pNe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function H7(e,t){for(var n=0;n<t.length;++n)if(!pNe(e,t[n]))return!1;return!0}function t3t(e){switch(e.length){case 1:return n3t(e[0]);case 2:return PT(e[0],e[1]);case 3:return mNe(e[0],e[1],e[2])}}function n3t(e){return{x:e.x,y:e.y,r:e.r}}function PT(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,u=s-r,c=a-i,d=Math.sqrt(l*l+u*u);return{x:(n+o+l/d*c)/2,y:(r+s+u/d*c)/2,r:(d+i+a)/2}}function mNe(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,u=n.x,c=n.y,d=n.r,f=r-s,h=r-u,m=i-a,p=i-c,g=l-o,y=d-o,v=r*r+i*i-o*o,w=v-s*s-a*a+l*l,E=v-u*u-c*c+d*d,C=h*m-f*p,S=(m*E-p*w)/(C*2)-r,T=(p*g-m*y)/C,A=(h*w-f*E)/(C*2)-i,D=(f*y-h*g)/C,I=T*T+D*D-1,P=2*(o+S*T+A*D),N=S*S+A*A-o*o,$=-(Math.abs(I)>1e-6?(P+Math.sqrt(P*P-4*I*N))/(2*I):N/P);return{x:r+S+T*$,y:i+A+D*$,r:$}}function dge(e,t,n){var r=e.x-t.x,i,o,s=e.y-t.y,a,l,u=r*r+s*s;u?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(i=(u+l-o)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(u+o-l)/(2*u),a=Math.sqrt(Math.max(0,o/u-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function fge(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function hge(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function rP(e){this._=e,this.next=null,this.previous=null}function r3t(e,t){if(!(o=(e=QPt(e)).length))return 0;var n,r,i,o,s,a,l,u,c,d,f;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;dge(r,n,i=e[2]),n=new rP(n),r=new rP(r),i=new rP(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){dge(n._,r._,i=e[l]),i=new rP(i),u=r.next,c=n.previous,d=r._.r,f=n._.r;do if(d<=f){if(fge(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.next}else{if(fge(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=hge(n);(i=i.next)!==r;)(a=hge(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=ZPt(n,t),l=0;l<o;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function i3t(e){return Math.sqrt(e.value)}function o3t(){var e=null,t=1,n=1,r=lb;function i(o){const s=XPt();return o.x=t/2,o.y=n/2,e?o.eachBefore(pge(e)).eachAfter(q7(r,.5,s)).eachBefore(mge(1)):o.eachBefore(pge(i3t)).eachAfter(q7(lb,1,s)).eachAfter(q7(r,o.r/Math.min(t,n),s)).eachBefore(mge(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=XO(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:xx(+o),i):r},i}function pge(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function q7(e,t,n){return function(r){if(i=r.children){var i,o,s=i.length,a=e(r)*t||0,l;if(a)for(o=0;o<s;++o)i[o].r+=a;if(l=r3t(i,n),a)for(o=0;o<s;++o)i[o].r-=a;r.r=l+a}}}function mge(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function gNe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function gR(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(r-t)/e.value;++a<l;)s=o[a],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*u}function s3t(){var e=1,t=1,n=0,r=!1;function i(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(o(t,a)),r&&s.eachBefore(gNe),s}function o(s,a){return function(l){l.children&&gR(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var u=l.x0,c=l.y0,d=l.x1-n,f=l.y1-n;d<u&&(u=d=(u+d)/2),f<c&&(c=f=(c+f)/2),l.x0=u,l.y0=c,l.x1=d,l.y1=f}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var a3t={depth:-1},gge={},W7={};function l3t(e){return e.id}function u3t(e){return e.parentId}function yge(){var e=l3t,t=u3t,n;function r(i){var o=Array.from(i),s=e,a=t,l,u,c,d,f,h,m,p,g=new Map;if(n!=null){const y=o.map((E,C)=>c3t(n(E,C,i))),v=y.map(vge),w=new Set(y).add("");for(const E of v)w.has(E)||(w.add(E),y.push(E),v.push(vge(E)),o.push(W7));s=(E,C)=>y[C],a=(E,C)=>v[C]}for(c=0,l=o.length;c<l;++c)u=o[c],h=o[c]=new Y_(u),(m=s(u,c,i))!=null&&(m+="")&&(p=h.id=m,g.set(p,g.has(p)?gge:h)),(m=a(u,c,i))!=null&&(m+="")&&(h.parent=m);for(c=0;c<l;++c)if(h=o[c],m=h.parent){if(f=g.get(m),!f)throw new Error("missing: "+m);if(f===gge)throw new Error("ambiguous: "+m);f.children?f.children.push(h):f.children=[h],h.parent=f}else{if(d)throw new Error("multiple roots");d=h}if(!d)throw new Error("no root");if(n!=null){for(;d.data===W7&&d.children.length===1;)d=d.children[0],--l;for(let y=o.length-1;y>=0&&(h=o[y],h.data===W7);--y)h.data=null}if(d.parent=a3t,d.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(fNe),d.parent=null,l>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(e=XO(i),r):e},r.parentId=function(i){return arguments.length?(t=XO(i),r):t},r.path=function(i){return arguments.length?(n=XO(i),r):n},r}function c3t(e){e=`${e}`;let t=e.length;return fW(e,t-1)&&!fW(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function vge(e){let t=e.length;if(t<2)return"";for(;--t>1&&!fW(e,t););return e.slice(0,t)}function fW(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function d3t(e,t){return e.parent===t.parent?1:2}function G7(e){var t=e.children;return t?t[0]:e.t}function Y7(e){var t=e.children;return t?t[t.length-1]:e.t}function f3t(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function h3t(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function p3t(e,t,n){return e.a.parent===t.parent?e.a:n}function QO(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}QO.prototype=Object.create(Y_.prototype);function m3t(e){for(var t=new QO(e,0),n,r=[t],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new QO(o[s],s)),i.parent=n;return(t.parent=new QO(null,0)).children=[t],t}function g3t(){var e=d3t,t=1,n=1,r=null;function i(u){var c=m3t(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),r)u.eachBefore(l);else{var d=u,f=u,h=u;u.eachBefore(function(v){v.x<d.x&&(d=v),v.x>f.x&&(f=v),v.depth>h.depth&&(h=v)});var m=d===f?1:e(d,f)/2,p=m-d.x,g=t/(f.x+m+p),y=n/(h.depth||1);u.eachBefore(function(v){v.x=(v.x+p)*g,v.y=v.depth*y})}return u}function o(u){var c=u.children,d=u.parent.children,f=u.i?d[u.i-1]:null;if(c){h3t(u);var h=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+e(u._,f._),u.m=u.z-h):u.z=h}else f&&(u.z=f.z+e(u._,f._));u.parent.A=a(u,f,u.parent.A||d[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,c,d){if(c){for(var f=u,h=u,m=c,p=f.parent.children[0],g=f.m,y=h.m,v=m.m,w=p.m,E;m=Y7(m),f=G7(f),m&&f;)p=G7(p),h=Y7(h),h.a=u,E=m.z+v-f.z-g+e(m._,f._),E>0&&(f3t(p3t(m,u,d),u,E),g+=E,y+=E),v+=m.m,g+=f.m,w+=p.m,y+=h.m;m&&!Y7(h)&&(h.t=m,h.m+=v-y),f&&!G7(p)&&(p.t=f,p.m+=g-w,d=u)}return d}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function dF(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(i-n)/e.value;++a<l;)s=o[a],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*u}var yNe=(1+Math.sqrt(5))/2;function vNe(e,t,n,r,i,o){for(var s=[],a=t.children,l,u,c=0,d=0,f=a.length,h,m,p=t.value,g,y,v,w,E,C,S;c<f;){h=i-n,m=o-r;do g=a[d++].value;while(!g&&d<f);for(y=v=g,C=Math.max(m/h,h/m)/(p*e),S=g*g*C,E=Math.max(v/S,S/y);d<f;++d){if(g+=u=a[d].value,u<y&&(y=u),u>v&&(v=u),S=g*g*C,w=Math.max(v/S,S/y),w>E){g-=u;break}E=w}s.push(l={value:g,dice:h<m,children:a.slice(c,d)}),l.dice?gR(l,n,r,i,p?r+=m*g/p:o):dF(l,n,r,p?n+=h*g/p:i,o),p-=g,c=d}return s}const bNe=(function e(t){function n(r,i,o,s,a){vNe(t,r,i,o,s,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(yNe);function y3t(){var e=bNe,t=!1,n=1,r=1,i=[0],o=lb,s=lb,a=lb,l=lb,u=lb;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),i=[0],t&&f.eachBefore(gNe),f}function d(f){var h=i[f.depth],m=f.x0+h,p=f.y0+h,g=f.x1-h,y=f.y1-h;g<m&&(m=g=(m+g)/2),y<p&&(p=y=(p+y)/2),f.x0=m,f.y0=p,f.x1=g,f.y1=y,f.children&&(h=i[f.depth+1]=o(f)/2,m+=u(f)-h,p+=s(f)-h,g-=a(f)-h,y-=l(f)-h,g<m&&(m=g=(m+g)/2),y<p&&(p=y=(p+y)/2),e(f,m,p,g,y))}return c.round=function(f){return arguments.length?(t=!!f,c):t},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(e=hNe(f),c):e},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(o=typeof f=="function"?f:xx(+f),c):o},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(s=typeof f=="function"?f:xx(+f),c):s},c.paddingRight=function(f){return arguments.length?(a=typeof f=="function"?f:xx(+f),c):a},c.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:xx(+f),c):l},c.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:xx(+f),c):u},c}function v3t(e,t,n,r,i){var o=e.children,s,a=o.length,l,u=new Array(a+1);for(u[0]=l=s=0;s<a;++s)u[s+1]=l+=o[s].value;c(0,a,e.value,t,n,r,i);function c(d,f,h,m,p,g,y){if(d>=f-1){var v=o[d];v.x0=m,v.y0=p,v.x1=g,v.y1=y;return}for(var w=u[d],E=h/2+w,C=d+1,S=f-1;C<S;){var T=C+S>>>1;u[T]<E?C=T+1:S=T}E-u[C-1]<u[C]-E&&d+1<C&&--C;var A=u[C]-w,D=h-A;if(g-m>y-p){var I=h?(m*D+g*A)/h:g;c(d,C,A,m,p,I,y),c(C,f,D,I,p,g,y)}else{var P=h?(p*D+y*A)/h:y;c(d,C,A,m,p,g,P),c(C,f,D,m,P,g,y)}}}function b3t(e,t,n,r,i){(e.depth&1?dF:gR)(e,t,n,r,i)}const w3t=(function e(t){function n(r,i,o,s,a){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,d,f=-1,h,m=l.length,p=r.value;++f<m;){for(u=l[f],c=u.children,d=u.value=0,h=c.length;d<h;++d)u.value+=c[d].value;u.dice?gR(u,i,o,s,p?o+=(a-o)*u.value/p:a):dF(u,i,o,p?i+=(s-i)*u.value/p:s,a),p-=u.value}else r._squarify=l=vNe(t,r,i,o,s,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(yNe);function hW(e,t,n){const r={};return e.each(i=>{const o=i.data;n(o)&&(r[t(o)]=i)}),e.lookup=r,e}function ate(e){Ze.call(this,null,e)}ate.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const x3t=e=>e.values;Pt(ate,Ze,{transform(e,t){t.source||it("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(s=>{s.children&&C5(s.data)&&i.rem.push(s.data)}),this.value=o=ste({values:_n(e.keys).reduce((s,a)=>(s.key(a),s),_3t()).entries(i.source)},x3t),n&&o.each(s=>{s.children&&(s=ci(s.data),i.add.push(s),i.source.push(s))}),hW(o,yn,yn)),i.source.root=o,i}});function _3t(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,o){if(o>=e.length)return i;const s=i.length,a=e[o++],l={},u={};let c=-1,d,f,h;for(;++c<s;)d=a(f=i[c])+"",(h=l[d])?h.push(f):l[d]=[f];for(d in l)u[d]=n(l[d],o);return u}function r(i,o){if(++o>e.length)return i;const s=[];for(const a in i)s.push({key:a,values:r(i[a],o)});return s}return t}function Sg(e){Ze.call(this,null,e)}const E3t=(e,t)=>e.parent===t.parent?1:2;Pt(Sg,Ze,{transform(e,t){(!t.source||!t.source.root)&&it(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(q1(e.sort,s=>s.data)),C3t(n,this.params,e),n.separation&&n.separation(e.separation!==!1?E3t:WE);try{this.value=n(i)}catch(s){it(s)}return i.each(s=>S3t(s,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function C3t(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}function S3t(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}const pW=["x","y","r","depth","children"];function lte(e){Sg.call(this,e)}lte.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:pW.length,default:pW}]};Pt(lte,Sg,{layout:o3t,params:["radius","size","padding"],fields:pW});const mW=["x0","y0","x1","y1","depth","children"];function ute(e){Sg.call(this,e)}ute.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:mW.length,default:mW}]};Pt(ute,Sg,{layout:s3t,params:["size","round","padding"],fields:mW});function cte(e){Ze.call(this,null,e)}cte.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};Pt(cte,Ze,{transform(e,t){t.source||it("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?hW(yge().id(e.key).parentId(e.parentKey)(i.source),e.key,vd):hW(yge()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const bge={tidy:g3t,cluster:kPt},gW=["x","y","depth","children"];function dte(e){Sg.call(this,e)}dte.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:gW.length,default:gW}]};Pt(dte,Sg,{layout(e){const t=e||"tidy";if(Nn(bge,t))return bge[t]();it("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:gW});function fte(e){Ze.call(this,[],e)}fte.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};Pt(fte,Ze,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||it("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>o[yn(s)]=1),r.each(s=>{const a=s.data,l=s.parent&&s.parent.data;l&&o[yn(a)]&&o[yn(l)]&&i.add.push(ci({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>o[yn(s)]=1),n.forEach(s=>{(o[yn(s.source)]||o[yn(s.target)])&&i.mod.push(s)})),i}});const wge={binary:v3t,dice:gR,slice:dF,slicedice:b3t,squarify:bNe,resquarify:w3t},yW=["x0","y0","x1","y1","depth","children"];function hte(e){Sg.call(this,e)}hte.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:yW.length,default:yW}]};Pt(hte,Sg,{layout(){const e=y3t();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Nn(wge,t)?e.tile(wge[t]):it("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:yW});const T3t=Object.freeze(Object.defineProperty({__proto__:null,nest:ate,pack:lte,partition:ute,stratify:cte,tree:dte,treelinks:fte,treemap:hte},Symbol.toStringTag,{value:"Module"})),K7=4278190080;function A3t(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function k3t(e,t,n,r,i){const o=e.width,s=e.height,a=r||i,l=Q0(o,s).getContext("2d"),u=Q0(o,s).getContext("2d"),c=a&&Q0(o,s).getContext("2d");n.forEach(A=>JO(l,A,!1)),JO(u,t,!1),a&&JO(c,t,!0);const d=X7(l,o,s),f=X7(u,o,s),h=a&&X7(c,o,s),m=e.bitmap(),p=a&&e.bitmap();let g,y,v,w,E,C,S,T;for(y=0;y<s;++y)for(g=0;g<o;++g)E=y*o+g,C=d[E]&K7,T=f[E]&K7,S=a&&h[E]&K7,(C||S||T)&&(v=e(g),w=e(y),!i&&(C||T)&&m.set(v,w),a&&(C||S)&&p.set(v,w));return[m,p]}function X7(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function JO(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(o=>JO(e,o.items,n))}):Cc[r].draw(e,{items:n?t.map(R3t):t})}function R3t(e){const t=S5(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const tm=5,_l=31,kA=32,g0=new Uint32Array(kA+1),of=new Uint32Array(kA+1);of[0]=0;g0[0]=~of[0];for(let e=1;e<=kA;++e)of[e]=of[e-1]<<1|1,g0[e]=~of[e];function I3t(e,t){const n=new Uint32Array(~~((e*t+kA)/kA));function r(o,s){n[o]|=s}function i(o,s){n[o]&=s}return{array:n,get:(o,s)=>{const a=s*e+o;return n[a>>>tm]&1<<(a&_l)},set:(o,s)=>{const a=s*e+o;r(a>>>tm,1<<(a&_l))},clear:(o,s)=>{const a=s*e+o;i(a>>>tm,~(1<<(a&_l)))},getRange:(o,s,a,l)=>{let u=l,c,d,f,h;for(;u>=s;--u)if(c=u*e+o,d=u*e+a,f=c>>>tm,h=d>>>tm,f===h){if(n[f]&g0[c&_l]&of[(d&_l)+1])return!0}else{if(n[f]&g0[c&_l]||n[h]&of[(d&_l)+1])return!0;for(let m=f+1;m<h;++m)if(n[m])return!0}return!1},setRange:(o,s,a,l)=>{let u,c,d,f,h;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,d=u>>>tm,f=c>>>tm,d===f)r(d,g0[u&_l]&of[(c&_l)+1]);else for(r(d,g0[u&_l]),r(f,of[(c&_l)+1]),h=d+1;h<f;++h)r(h,4294967295)},clearRange:(o,s,a,l)=>{let u,c,d,f,h;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,d=u>>>tm,f=c>>>tm,d===f)i(d,of[u&_l]|g0[(c&_l)+1]);else for(i(d,of[u&_l]),i(f,g0[(c&_l)+1]),h=d+1;h<f;++h)i(h,0)},outOfBounds:(o,s,a,l)=>o<0||s<0||l>=t||a>=e}}function D3t(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),s=a=>~~((a+n)/r);return s.invert=a=>a*r-n,s.bitmap=()=>I3t(i,o),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function P3t(e,t,n,r){const i=e.width,o=e.height;return function(s){const a=s.datum.datum.items[r].items,l=a.length,u=s.datum.fontSize,c=fc.width(s.datum,s.datum.text);let d=0,f,h,m,p,g,y,v;for(let w=0;w<l;++w)f=a[w].x,m=a[w].y,h=a[w].x2===void 0?f:a[w].x2,p=a[w].y2===void 0?m:a[w].y2,g=(f+h)/2,y=(m+p)/2,v=Math.abs(h-f+p-m),v>=d&&(d=v,s.x=g,s.y=y);return g=c/2,y=u/2,f=s.x-g,h=s.x+g,m=s.y-y,p=s.y+y,s.align="center",f<0&&h<=i?s.align="left":0<=f&&i<h&&(s.align="right"),s.baseline="middle",m<0&&p<=o?s.baseline="top":0<=m&&o<p&&(s.baseline="bottom"),!0}}function NM(e,t,n,r,i,o){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>o}function F0(e,t,n,r,i,o,s,a){const l=i*o/(r*2),u=e(t-l),c=e(t+l),d=e(n-(o=o/2)),f=e(n+o);return s.outOfBounds(u,d,c,f)||s.getRange(u,d,c,f)||a&&a.getRange(u,d,c,f)}function O3t(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1];function l(u,c,d,f,h){const m=e.invert(u),p=e.invert(c);let g=d,y=o,v;if(!NM(m,p,f,h,i,o)&&!F0(e,m,p,h,f,g,s,a)&&!F0(e,m,p,h,f,h,s,null)){for(;y-g>=1;)v=(g+y)/2,F0(e,m,p,h,f,v,s,a)?y=v:g=v;if(g>d)return[m,p,g,!0]}}return function(u){const c=u.datum.datum.items[r].items,d=c.length,f=u.datum.fontSize,h=fc.width(u.datum,u.datum.text);let m=n?f:0,p=!1,g=!1,y=0,v,w,E,C,S,T,A,D,I,P,N,$,O,j,B,H,q;for(let Y=0;Y<d;++Y){for(v=c[Y].x,E=c[Y].y,w=c[Y].x2===void 0?v:c[Y].x2,C=c[Y].y2===void 0?E:c[Y].y2,v>w&&(q=v,v=w,w=q),E>C&&(q=E,E=C,C=q),I=e(v),N=e(w),P=~~((I+N)/2),$=e(E),j=e(C),O=~~(($+j)/2),A=P;A>=I;--A)for(D=O;D>=$;--D)H=l(A,D,m,h,f),H&&([u.x,u.y,m,p]=H);for(A=P;A<=N;++A)for(D=O;D<=j;++D)H=l(A,D,m,h,f),H&&([u.x,u.y,m,p]=H);!p&&!n&&(B=Math.abs(w-v+C-E),S=(v+w)/2,T=(E+C)/2,B>=y&&!NM(S,T,h,f,i,o)&&!F0(e,S,T,f,h,f,s,null)&&(y=B,u.x=S,u.y=T,g=!0))}return p||g?(S=h/2,T=f/2,s.setRange(e(u.x-S),e(u.y-T),e(u.x+S),e(u.y+T)),u.align="center",u.baseline="middle",!0):!1}}const N3t=[-1,-1,1,1],M3t=[-1,1,-1,1];function $3t(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,d=c.length,f=u.datum.fontSize,h=fc.width(u.datum,u.datum.text),m=[];let p=n?f:0,g=!1,y=!1,v=0,w,E,C,S,T,A,D,I,P,N,$,O;for(let j=0;j<d;++j){for(w=c[j].x,C=c[j].y,E=c[j].x2===void 0?w:c[j].x2,S=c[j].y2===void 0?C:c[j].y2,m.push([e((w+E)/2),e((C+S)/2)]);m.length;)if([D,I]=m.pop(),!(s.get(D,I)||a.get(D,I)||l.get(D,I))){l.set(D,I);for(let B=0;B<4;++B)T=D+N3t[B],A=I+M3t[B],l.outOfBounds(T,A,T,A)||m.push([T,A]);if(T=e.invert(D),A=e.invert(I),P=p,N=o,!NM(T,A,h,f,i,o)&&!F0(e,T,A,f,h,P,s,a)&&!F0(e,T,A,f,h,f,s,null)){for(;N-P>=1;)$=(P+N)/2,F0(e,T,A,f,h,$,s,a)?N=$:P=$;P>p&&(u.x=T,u.y=A,p=P,g=!0)}}!g&&!n&&(O=Math.abs(E-w+S-C),T=(w+E)/2,A=(C+S)/2,O>=v&&!NM(T,A,h,f,i,o)&&!F0(e,T,A,f,h,f,s,null)&&(v=O,u.x=T,u.y=A,y=!0))}return g||y?(T=h/2,A=f/2,s.setRange(e(u.x-T),e(u.y-A),e(u.x+T),e(u.y+A)),u.align="center",u.baseline="middle",!0):!1}}const F3t=["right","center","left"],L3t=["bottom","middle","top"];function j3t(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=r.length;return function(u){const c=u.boundary,d=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>o)return!1;let f=u.textWidth??0,h,m,p,g,y,v,w,E,C,S,T,A,D,I,P;for(let N=0;N<l;++N){if(h=(n[N]&3)-1,m=(n[N]>>>2&3)-1,p=h===0&&m===0||r[N]<0,g=h&&m?Math.SQRT1_2:1,y=r[N]<0?-1:1,v=c[1+h]+r[N]*h*g,T=c[4+m]+y*d*m/2+r[N]*m*g,E=T-d/2,C=T+d/2,A=e(v),I=e(E),P=e(C),!f)if(xge(A,A,I,P,s,a,v,v,E,C,c,p))f=fc.width(u.datum,u.datum.text);else continue;if(S=v+y*f*h/2,v=S-f/2,w=S+f/2,A=e(v),D=e(w),xge(A,D,I,P,s,a,v,w,E,C,c,p))return u.x=h?h*y<0?w:v:S,u.y=m?m*y<0?C:E:T,u.align=F3t[h*y+1],u.baseline=L3t[m*y+1],s.setRange(A,I,D,P),!0}return!1}}function xge(e,t,n,r,i,o,s,a,l,u,c,d){return!(i.outOfBounds(e,n,t,r)||(d&&o||i).getRange(e,n,t,r))}const Q7=0,J7=4,Z7=8,ez=0,tz=1,nz=2,B3t={"top-left":Q7+ez,top:Q7+tz,"top-right":Q7+nz,left:J7+ez,middle:J7+tz,right:J7+nz,"bottom-left":Z7+ez,bottom:Z7+tz,"bottom-right":Z7+nz},z3t={naive:P3t,"reduced-search":O3t,floodfill:$3t};function U3t(e,t,n,r,i,o,s,a,l,u,c){if(!e.length)return e;const d=Math.max(r.length,i.length),f=V3t(r,d),h=H3t(i,d),m=q3t(e[0].datum),p=m==="group"&&e[0].datum.items[l].marktype,g=p==="area",y=W3t(m,p,a,l),v=u===null||u===1/0,w=g&&c==="naive";let E=-1,C=-1;const S=e.map(I=>{const P=v?fc.width(I,I.text):void 0;return E=Math.max(E,P),C=Math.max(C,I.fontSize),{datum:I,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(I),textWidth:P}});u=u===null||u===1/0?Math.max(E,C)+Math.max(...r):u;const T=D3t(t[0],t[1],u);let A;if(!w){n&&S.sort((N,$)=>n(N.datum,$.datum));let I=!1;for(let N=0;N<h.length&&!I;++N)I=h[N]===5||f[N]<0;const P=(m&&s||g)&&e.map(N=>N.datum);A=o.length||P?k3t(T,P||[],o,I,g):A3t(T,s&&S)}const D=g?z3t[c](T,A,s,l):j3t(T,A,h,f);return S.forEach(I=>I.opacity=+D(I)),S}function V3t(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function H3t(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=B3t[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function q3t(e){return e&&e.mark&&e.mark.marktype}function W3t(e,t,n,r){const i=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>i(o.datum):t==="line"?o=>{const s=o.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:o=>{const s=o.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const vW=["x","y","opacity","align","baseline"],wNe=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function pte(e){Ze.call(this,null,e)}pte.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:wNe},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:vW.length,default:vW}]};Pt(pte,Ze,{transform(e,t){function n(o){const s=e[o];return cr(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&it("Size parameter should be specified as a [width, height] array.");const i=e.as||vW;return U3t(t.materialize(t.SOURCE).source||[],e.size,e.sort,_n(e.offset==null?1:e.offset),_n(e.anchor||wNe),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(o=>{const s=o.datum;s[i[0]]=o.x,s[i[1]]=o.y,s[i[2]]=o.opacity,s[i[3]]=o.align,s[i[4]]=o.baseline}),t.reflow(r).modifies(i)}});const G3t=Object.freeze(Object.defineProperty({__proto__:null,label:pte},Symbol.toStringTag,{value:"Module"}));function xNe(e,t){var n=[],r=function(c){return c(a)},i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function mte(e){Ze.call(this,null,e)}mte.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};Pt(mte,Ze,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=xNe(r,e.groupby),o=(e.groupby||[]).map(Io),s=o.length,a=e.as||[Io(e.x),Io(e.y)],l=[];i.forEach(u=>{DIe(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const d={};for(let f=0;f<s;++f)d[o[f]]=u.dims[f];d[a[0]]=c[0],d[a[1]]=c[1],l.push(ci(d))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const bW={constant:YJ,linear:KJ,log:AIe,exp:kIe,pow:RIe,quad:XJ,poly:IIe},Y3t=(e,t)=>e==="poly"?t:e==="quad"?2:1;function gte(e){Ze.call(this,null,e)}gte.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(bW)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};Pt(gte,Ze,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=xNe(r,e.groupby),o=(e.groupby||[]).map(Io),s=e.method||"linear",a=e.order==null?3:e.order,l=Y3t(s,a),u=e.as||[Io(e.x),Io(e.y)],c=bW[s],d=[];let f=e.extent;Nn(bW,s)||it("Invalid regression method: "+s),f!=null&&s==="log"&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),i.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const p=c(h,e.x,e.y,a);if(e.params){d.push(ci({keys:h.dims,coef:p.coef,rSquared:p.rSquared}));return}const g=f||up(h,e.x),y=v=>{const w={};for(let E=0;E<o.length;++E)w[o[E]]=h.dims[E];w[u[0]]=v[0],w[u[1]]=v[1],d.push(ci(w))};s==="linear"||s==="constant"?g.forEach(v=>y([v,p.predict(v)])):P5(p.predict,g,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}});const K3t=Object.freeze(Object.defineProperty({__proto__:null,loess:mte,regression:gte},Symbol.toStringTag,{value:"Module"})),Om=11102230246251565e-32,Va=134217729,X3t=(3+8*Om)*Om;function rz(e,t,n,r,i){let o,s,a,l,u=t[0],c=r[0],d=0,f=0;c>u==c>-u?(o=u,u=t[++d]):(o=c,c=r[++f]);let h=0;if(d<e&&f<n)for(c>u==c>-u?(s=u+o,a=o-(s-u),u=t[++d]):(s=c+o,a=o-(s-c),c=r[++f]),o=s,a!==0&&(i[h++]=a);d<e&&f<n;)c>u==c>-u?(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++d]):(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++f]),o=s,a!==0&&(i[h++]=a);for(;d<e;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++d],o=s,a!==0&&(i[h++]=a);for(;f<n;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++f],o=s,a!==0&&(i[h++]=a);return(o!==0||h===0)&&(i[h++]=o),h}function Q3t(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function yR(e){return new Float64Array(e)}const J3t=(3+16*Om)*Om,Z3t=(2+12*Om)*Om,eOt=(9+64*Om)*Om*Om,tx=yR(4),_ge=yR(8),Ege=yR(12),Cge=yR(16),El=yR(4);function tOt(e,t,n,r,i,o,s){let a,l,u,c,d,f,h,m,p,g,y,v,w,E,C,S,T,A;const D=e-i,I=n-i,P=t-o,N=r-o;E=D*N,f=Va*D,h=f-(f-D),m=D-h,f=Va*N,p=f-(f-N),g=N-p,C=m*g-(E-h*p-m*p-h*g),S=P*I,f=Va*P,h=f-(f-P),m=P-h,f=Va*I,p=f-(f-I),g=I-p,T=m*g-(S-h*p-m*p-h*g),y=C-T,d=C-y,tx[0]=C-(y+d)+(d-T),v=E+y,d=v-E,w=E-(v-d)+(y-d),y=w-S,d=w-y,tx[1]=w-(y+d)+(d-S),A=v+y,d=A-v,tx[2]=v-(A-d)+(y-d),tx[3]=A;let $=Q3t(4,tx),O=Z3t*s;if($>=O||-$>=O||(d=e-D,a=e-(D+d)+(d-i),d=n-I,u=n-(I+d)+(d-i),d=t-P,l=t-(P+d)+(d-o),d=r-N,c=r-(N+d)+(d-o),a===0&&l===0&&u===0&&c===0)||(O=eOt*s+X3t*Math.abs($),$+=D*c+N*a-(P*u+I*l),$>=O||-$>=O))return $;E=a*N,f=Va*a,h=f-(f-a),m=a-h,f=Va*N,p=f-(f-N),g=N-p,C=m*g-(E-h*p-m*p-h*g),S=l*I,f=Va*l,h=f-(f-l),m=l-h,f=Va*I,p=f-(f-I),g=I-p,T=m*g-(S-h*p-m*p-h*g),y=C-T,d=C-y,El[0]=C-(y+d)+(d-T),v=E+y,d=v-E,w=E-(v-d)+(y-d),y=w-S,d=w-y,El[1]=w-(y+d)+(d-S),A=v+y,d=A-v,El[2]=v-(A-d)+(y-d),El[3]=A;const j=rz(4,tx,4,El,_ge);E=D*c,f=Va*D,h=f-(f-D),m=D-h,f=Va*c,p=f-(f-c),g=c-p,C=m*g-(E-h*p-m*p-h*g),S=P*u,f=Va*P,h=f-(f-P),m=P-h,f=Va*u,p=f-(f-u),g=u-p,T=m*g-(S-h*p-m*p-h*g),y=C-T,d=C-y,El[0]=C-(y+d)+(d-T),v=E+y,d=v-E,w=E-(v-d)+(y-d),y=w-S,d=w-y,El[1]=w-(y+d)+(d-S),A=v+y,d=A-v,El[2]=v-(A-d)+(y-d),El[3]=A;const B=rz(j,_ge,4,El,Ege);E=a*c,f=Va*a,h=f-(f-a),m=a-h,f=Va*c,p=f-(f-c),g=c-p,C=m*g-(E-h*p-m*p-h*g),S=l*u,f=Va*l,h=f-(f-l),m=l-h,f=Va*u,p=f-(f-u),g=u-p,T=m*g-(S-h*p-m*p-h*g),y=C-T,d=C-y,El[0]=C-(y+d)+(d-T),v=E+y,d=v-E,w=E-(v-d)+(y-d),y=w-S,d=w-y,El[1]=w-(y+d)+(d-S),A=v+y,d=A-v,El[2]=v-(A-d)+(y-d),El[3]=A;const H=rz(B,Ege,4,El,Cge);return Cge[H-1]}function iP(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),l=s-a,u=Math.abs(s+a);return Math.abs(l)>=J3t*u?l:-tOt(e,t,n,r,i,o,u)}const Sge=Math.pow(2,-52),oP=new Uint32Array(512);class MM{static from(t,n=sOt,r=aOt){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new MM(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let D=0;D<s;D++){const I=t[2*D],P=t[2*D+1];I<a&&(a=I),P<l&&(l=P),I>u&&(u=I),P>c&&(c=P),this._ids[D]=D}const d=(a+u)/2,f=(l+c)/2;let h,m,p;for(let D=0,I=1/0;D<s;D++){const P=iz(d,f,t[2*D],t[2*D+1]);P<I&&(h=D,I=P)}const g=t[2*h],y=t[2*h+1];for(let D=0,I=1/0;D<s;D++){if(D===h)continue;const P=iz(g,y,t[2*D],t[2*D+1]);P<I&&P>0&&(m=D,I=P)}let v=t[2*m],w=t[2*m+1],E=1/0;for(let D=0;D<s;D++){if(D===h||D===m)continue;const I=iOt(g,y,v,w,t[2*D],t[2*D+1]);I<E&&(p=D,E=I)}let C=t[2*p],S=t[2*p+1];if(E===1/0){for(let P=0;P<s;P++)this._dists[P]=t[2*P]-t[0]||t[2*P+1]-t[1];$x(this._ids,this._dists,0,s-1);const D=new Uint32Array(s);let I=0;for(let P=0,N=-1/0;P<s;P++){const $=this._ids[P],O=this._dists[$];O>N&&(D[I++]=$,N=O)}this.hull=D.subarray(0,I),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(iP(g,y,v,w,C,S)<0){const D=m,I=v,P=w;m=p,v=C,w=S,p=D,C=I,S=P}const T=oOt(g,y,v,w,C,S);this._cx=T.x,this._cy=T.y;for(let D=0;D<s;D++)this._dists[D]=iz(t[2*D],t[2*D+1],T.x,T.y);$x(this._ids,this._dists,0,s-1),this._hullStart=h;let A=3;r[h]=n[p]=m,r[m]=n[h]=p,r[p]=n[m]=h,i[h]=0,i[m]=1,i[p]=2,o.fill(-1),o[this._hashKey(g,y)]=h,o[this._hashKey(v,w)]=m,o[this._hashKey(C,S)]=p,this.trianglesLen=0,this._addTriangle(h,m,p,-1,-1,-1);for(let D=0,I,P;D<this._ids.length;D++){const N=this._ids[D],$=t[2*N],O=t[2*N+1];if(D>0&&Math.abs($-I)<=Sge&&Math.abs(O-P)<=Sge||(I=$,P=O,N===h||N===m||N===p))continue;let j=0;for(let V=0,L=this._hashKey($,O);V<this._hashSize&&(j=o[(L+V)%this._hashSize],!(j!==-1&&j!==r[j]));V++);j=n[j];let B=j,H;for(;H=r[B],iP($,O,t[2*B],t[2*B+1],t[2*H],t[2*H+1])>=0;)if(B=H,B===j){B=-1;break}if(B===-1)continue;let q=this._addTriangle(B,N,r[B],-1,-1,i[B]);i[N]=this._legalize(q+2),i[B]=q,A++;let Y=r[B];for(;H=r[Y],iP($,O,t[2*Y],t[2*Y+1],t[2*H],t[2*H+1])<0;)q=this._addTriangle(Y,N,H,i[N],-1,i[Y]),i[N]=this._legalize(q+2),r[Y]=Y,A--,Y=H;if(B===j)for(;H=n[B],iP($,O,t[2*H],t[2*H+1],t[2*B],t[2*B+1])<0;)q=this._addTriangle(H,N,B,-1,i[B],i[H]),this._legalize(q+2),i[H]=q,r[B]=B,A--,B=H;this._hullStart=n[N]=B,r[B]=n[Y]=N,r[N]=Y,o[this._hashKey($,O)]=N,o[this._hashKey(t[2*B],t[2*B+1])]=B}this.hull=new Uint32Array(A);for(let D=0,I=this._hullStart;D<A;D++)this.hull[D]=I,I=r[I];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(nOt(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const a=r[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=oP[--o];continue}const u=a-a%3,c=l+(t+1)%3,d=u+(a+2)%3,f=n[s],h=n[t],m=n[c],p=n[d];if(rOt(i[2*f],i[2*f+1],i[2*h],i[2*h+1],i[2*m],i[2*m+1],i[2*p],i[2*p+1])){n[t]=p,n[a]=f;const y=r[d];if(y===-1){let w=this._hullStart;do{if(this._hullTri[w]===d){this._hullTri[w]=t;break}w=this._hullPrev[w]}while(w!==this._hullStart)}this._link(t,y),this._link(a,r[s]),this._link(s,d);const v=u+(a+1)%3;o<oP.length&&(oP[o++]=v)}else{if(o===0)break;t=oP[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function nOt(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function iz(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function rOt(e,t,n,r,i,o,s,a){const l=e-s,u=t-a,c=n-s,d=r-a,f=i-s,h=o-a,m=l*l+u*u,p=c*c+d*d,g=f*f+h*h;return l*(d*g-p*h)-u*(c*g-p*f)+m*(c*h-d*f)<0}function iOt(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,d=l*l+u*u,f=.5/(s*u-a*l),h=(u*c-a*d)*f,m=(s*d-l*c)*f;return h*h+m*m}function oOt(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,d=l*l+u*u,f=.5/(s*u-a*l),h=e+(u*c-a*d)*f,m=t+(s*d-l*c)*f;return{x:h,y:m}}function $x(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let a=i-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{const i=n+r>>1;let o=n+1,s=r;DS(e,i,o),t[e[n]]>t[e[r]]&&DS(e,n,r),t[e[o]]>t[e[r]]&&DS(e,o,r),t[e[n]]>t[e[o]]&&DS(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;DS(e,o,s)}e[n+1]=e[s],e[s]=a,r-o+1>=s-n?($x(e,t,o,r),$x(e,t,n,s-1)):($x(e,t,n,s-1),$x(e,t,o,r))}}function DS(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function sOt(e){return e[0]}function aOt(e){return e[1]}const Tge=1e-6;class bb{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>Tge||Math.abs(this._y1-o)>Tge)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class wW{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let lOt=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,s;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let p=0,g=0,y=r.length,v,w;p<y;p+=3,g+=2){const E=r[p]*2,C=r[p+1]*2,S=r[p+2]*2,T=t[E],A=t[E+1],D=t[C],I=t[C+1],P=t[S],N=t[S+1],$=D-T,O=I-A,j=P-T,B=N-A,H=($*B-O*j)*2;if(Math.abs(H)<1e-9){if(o===void 0){o=s=0;for(const Y of n)o+=t[Y*2],s+=t[Y*2+1];o/=n.length,s/=n.length}const q=1e9*Math.sign((o-T)*B-(s-A)*j);v=(T+P)/2-q*B,w=(A+N)/2+q*j}else{const q=1/H,Y=$*$+O*O,V=j*j+B*B;v=T+(B*Y-O*V)*q,w=A+($*V-j*Y)*q}a[g]=v,a[g+1]=w}let l=n[n.length-1],u,c=l*4,d,f=t[2*l],h,m=t[2*l+1];i.fill(0);for(let p=0;p<n.length;++p)l=n[p],u=c,d=f,h=m,c=l*4,f=t[2*l],m=t[2*l+1],i[u+2]=i[c]=h-m,i[u+3]=i[c+1]=f-d}render(t){const n=t==null?t=new bb:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let c=0,d=r.length;c<d;++c){const f=r[c];if(f<c)continue;const h=Math.floor(c/3)*2,m=Math.floor(f/3)*2,p=s[h],g=s[h+1],y=s[m],v=s[m+1];this._renderSegment(p,g,y,v,t)}let l,u=o[o.length-1];for(let c=0;c<o.length;++c){l=u,u=o[c];const d=Math.floor(i[u]/3)*2,f=s[d],h=s[d+1],m=l*4,p=this._project(f,h,a[m+2],a[m+3]);p&&this._renderSegment(f,h,p[0],p[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new bb:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new bb:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new wW;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+l-2)%l]&&n[(o+3)%s]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const a=[];let l=s;do{const u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,o,s,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),d,f=0;for(let h=0;h<r;h+=2)if(o=a,s=l,a=n[h],l=n[h+1],u=c,c=this._regioncode(a,l),u===0&&c===0)d=f,f=0,i?i.push(a,l):i=[a,l];else{let m,p,g,y,v;if(u===0){if((m=this._clipSegment(o,s,a,l,u,c))===null)continue;[p,g,y,v]=m}else{if((m=this._clipSegment(a,l,o,s,c,u))===null)continue;[y,v,p,g]=m,d=f,f=this._edgecode(p,g),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(p,g):i=[p,g]}d=f,f=this._edgecode(y,v),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(y,v):i=[y,v]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(t,d,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){const a=o<s;for(a&&([t,n,r,i,o,s]=[r,i,t,n,s,o]);;){if(o===0&&s===0)return a?[r,i,t,n]:[t,n,r,i];if(o&s)return null;let l,u,c=o||s;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),o?(t=l,n=u,o=this._regioncode(t,n)):(r=l,i=u,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,c=a.length,d,f=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)d=f,f=this._edgecode(a[u],a[u+1]),d&&f&&(u=this._edge(t,d,f,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(t,n,r,i){let o=1/0,s,a,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(l=this.ymin,a=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(l=this.ymax,a=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(a=this.xmax,l=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(a=this.xmin,l=n+(o=s)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const uOt=2*Math.PI,nx=Math.pow;function cOt(e){return e[0]}function dOt(e){return e[1]}function fOt(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function hOt(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class yte{static from(t,n=cOt,r=dOt,i){return new yte("length"in t?pOt(t,n,r,i):Float64Array.from(mOt(t,n,r,i)))}constructor(t){this._delaunator=new MM(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&fOt(t)){this.collinear=Int32Array.from({length:n.length/2},(f,h)=>h).sort((f,h)=>n[2*f]-n[2*h]||n[2*f+1]-n[2*h+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],d=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,h=n.length/2;f<h;++f){const m=hOt(n[2*f],n[2*f+1],d);n[2*f]=m[0],n[2*f+1]=m[1]}this._delaunator=new MM(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=o[l%3===2?l-2:l+1];(r[l]===-1||s[c]===-1)&&(s[c]=l)}for(let l=0,u=i.length;l<u;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new lOt(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){const d=a.indexOf(t);d>0&&(yield a[d-1]),d<a.length-1&&(yield a[d+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=s[u],u=u%3===2?u-2:u+1,s[u]!==t)return;if(u=o[u],u===-1){const d=r[(i[t]+1)%r.length];d!==c&&(yield d);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,d=nx(n-u[t*2],2)+nx(r-u[t*2+1],2);const f=i[t];let h=f;do{let m=l[h];const p=nx(n-u[m*2],2)+nx(r-u[m*2+1],2);if(p<d&&(d=p,c=m),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=o[(s[t]+1)%o.length],h!==m&&nx(n-u[h*2],2)+nx(r-u[h*2+1],2)<d)return h;break}}while(h!==f);return c}render(t){const n=t==null?t=new bb:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){const l=i[s];if(l<s)continue;const u=o[s]*2,c=o[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new bb:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const a=i[o],l=i[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,uOt)}return r&&r.value()}renderHull(t){const n=t==null?t=new bb:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new wW;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new bb:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new wW;return this.renderTriangle(t,n),n.value()}}function pOt(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const a=e[s];o[s*2]=t.call(r,a,s,e),o[s*2+1]=n.call(r,a,s,e)}return o}function*mOt(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}function vte(e){Ze.call(this,null,e)}vte.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const gOt=[-1e5,-1e5,1e5,1e5];Pt(vte,Ze,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:gOt;const o=this.value=yte.from(r,e.x,e.y).voronoi(i);for(let s=0,a=r.length;s<a;++s){const l=o.cellPolygon(s);r[s][n]=l&&!vOt(l)?yOt(l):null}return t.reflow(e.modified()).modifies(n)}});function yOt(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function vOt(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const bOt=Object.freeze(Object.defineProperty({__proto__:null,voronoi:vte},Symbol.toStringTag,{value:"Module"}));var oz=Math.PI/180,OT=64,ZO=2048;function wOt(){var e=[256,256],t,n,r,i,o,s,a,l=_Ne,u=[],c=Math.random,d={};d.layout=function(){for(var m=f(Q0()),p=TOt((e[0]>>5)*e[1]),g=null,y=u.length,v=-1,w=[],E=u.map(S=>({text:t(S),font:n(S),style:i(S),weight:o(S),rotate:s(S),size:~~(r(S)+1e-14),padding:a(S),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:S})).sort((S,T)=>T.size-S.size);++v<y;){var C=E[v];C.x=e[0]*(c()+.5)>>1,C.y=e[1]*(c()+.5)>>1,xOt(m,C,E,v),C.hasText&&h(p,C,g)&&(w.push(C),g?EOt(g,C):g=[{x:C.x+C.x0,y:C.y+C.y0},{x:C.x+C.x1,y:C.y+C.y1}],C.x-=e[0]>>1,C.y-=e[1]>>1)}return w};function f(m){m.width=m.height=1;var p=Math.sqrt(m.getContext("2d").getImageData(0,0,1,1).data.length>>2);m.width=(OT<<5)/p,m.height=ZO/p;var g=m.getContext("2d");return g.fillStyle=g.strokeStyle="red",g.textAlign="center",{context:g,ratio:p}}function h(m,p,g){for(var y=p.x,v=p.y,w=Math.hypot(e[0],e[1]),E=l(e),C=c()<.5?1:-1,S=-C,T,A,D;(T=E(S+=C))&&(A=~~T[0],D=~~T[1],!(Math.min(Math.abs(A),Math.abs(D))>=w));)if(p.x=y+A,p.y=v+D,!(p.x+p.x0<0||p.y+p.y0<0||p.x+p.x1>e[0]||p.y+p.y1>e[1])&&(!g||!_Ot(p,m,e[0]))&&(!g||COt(p,g))){for(var I=p.sprite,P=p.width>>5,N=e[0]>>5,$=p.x-(P<<4),O=$&127,j=32-O,B=p.y1-p.y0,H=(p.y+p.y0)*N+($>>5),q,Y=0;Y<B;Y++){q=0;for(var V=0;V<=P;V++)m[H+V]|=q<<j|(V<P?(q=I[Y*P+V])>>>O:0);H+=N}return p.sprite=null,!0}return!1}return d.words=function(m){return arguments.length?(u=m,d):u},d.size=function(m){return arguments.length?(e=[+m[0],+m[1]],d):e},d.font=function(m){return arguments.length?(n=Iv(m),d):n},d.fontStyle=function(m){return arguments.length?(i=Iv(m),d):i},d.fontWeight=function(m){return arguments.length?(o=Iv(m),d):o},d.rotate=function(m){return arguments.length?(s=Iv(m),d):s},d.text=function(m){return arguments.length?(t=Iv(m),d):t},d.spiral=function(m){return arguments.length?(l=AOt[m]||m,d):l},d.fontSize=function(m){return arguments.length?(r=Iv(m),d):r},d.padding=function(m){return arguments.length?(a=Iv(m),d):a},d.random=function(m){return arguments.length?(c=m,d):c},d}function xOt(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,(OT<<5)/o,ZO/o);var s=0,a=0,l=0,u=n.length,c,d,f,h,m;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,c=i.measureText(t.text+"m").width*o,f=t.size<<1,t.rotate){var p=Math.sin(t.rotate*oz),g=Math.cos(t.rotate*oz),y=c*g,v=c*p,w=f*g,E=f*p;c=Math.max(Math.abs(y+E),Math.abs(y-E))+31>>5<<5,f=~~Math.max(Math.abs(v+w),Math.abs(v-w))}else c=c+31>>5<<5;if(f>l&&(l=f),s+c>=OT<<5&&(s=0,a+=l,l=0),a+f>=ZO)break;i.translate((s+(c>>1))/o,(a+(f>>1))/o),t.rotate&&i.rotate(t.rotate*oz),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=f,t.xoff=s,t.yoff=a,t.x1=c>>1,t.y1=f>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=c}for(var C=i.getImageData(0,0,(OT<<5)/o,ZO/o).data,S=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,d=c>>5,f=t.y1-t.y0,h=0;h<f*d;h++)S[h]=0;if(s=t.xoff,s==null)return;a=t.yoff;var T=0,A=-1;for(m=0;m<f;m++){for(h=0;h<c;h++){var D=d*m+(h>>5),I=C[(a+m)*(OT<<5)+(s+h)<<2]?1<<31-h%32:0;S[D]|=I,T|=I}T?A=m:(t.y0++,f--,m--,a++)}t.y1=t.y0+A,t.sprite=S.slice(0,(t.y1-t.y0)*d)}}}function _Ot(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,o=e.x-(i<<4),s=o&127,a=32-s,l=e.y1-e.y0,u=(e.y+e.y0)*n+(o>>5),c,d=0;d<l;d++){c=0;for(var f=0;f<=i;f++)if((c<<a|(f<i?(c=r[d*i+f])>>>s:0))&t[u+f])return!0;u+=n}return!1}function EOt(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function COt(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function _Ne(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function SOt(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(o){var s=o<0?-1:1;switch(Math.sqrt(1+4*s*o)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function TOt(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function Iv(e){return typeof e=="function"?e:function(){return e}}var AOt={archimedean:_Ne,rectangular:SOt};const ENe=["x","y","font","fontSize","fontStyle","fontWeight","angle"],kOt=["text","font","rotate","fontSize","fontStyle","fontWeight"];function bte(e){Ze.call(this,wOt(),e)}bte.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:ENe}]};Pt(bte,Ze,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&it("Wordcloud size dimensions must be non-zero.");function n(m){const p=e[m];return cr(p)&&t.modified(p.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||kOt.some(n)))return;const i=t.materialize(t.SOURCE).source,o=this.value,s=e.as||ENe;let a=e.fontSize||14,l;if(cr(a)?l=e.fontSizeRange:a=fl(a),l){const m=a,p=ii("sqrt")().domain(up(i,m)).range(l);a=g=>p(m(g))}i.forEach(m=>{m[s[0]]=NaN,m[s[1]]=NaN,m[s[3]]=0});const u=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(wd).layout(),c=o.size(),d=c[0]>>1,f=c[1]>>1,h=u.length;for(let m=0,p,g;m<h;++m)p=u[m],g=p.datum,g[s[0]]=p.x+d,g[s[1]]=p.y+f,g[s[2]]=p.font,g[s[3]]=p.size,g[s[4]]=p.style,g[s[5]]=p.weight,g[s[6]]=p.rotate;return t.reflow(r).modifies(s)}});const ROt=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:bte},Symbol.toStringTag,{value:"Module"})),IOt=e=>new Uint8Array(e),DOt=e=>new Uint16Array(e),y2=e=>new Uint32Array(e);function POt(){let e=8,t=[],n=y2(0),r=sP(0,e),i=sP(0,e);return{data:()=>t,seen:()=>n=OOt(n,t.length),add(o){for(let s=0,a=t.length,l=o.length,u;s<l;++s)u=o[s],u._index=a++,t.push(u)},remove(o,s){const a=t.length,l=Array(a-o),u=t;let c,d,f;for(d=0;!s[d]&&d<a;++d)l[d]=t[d],u[d]=d;for(f=d;d<a;++d)c=t[d],s[d]?u[d]=-1:(u[d]=f,r[f]=r[d],i[f]=i[d],l[f]=c,c._index=f++),r[d]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,s){r[o]|=s},clear(o,s){r[o]&=~s},resize(o,s){const a=r.length;(o>a||s>e)&&(e=Math.max(s,e),r=sP(o,e,r),i=sP(o,e))}}}function OOt(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function sP(e,t,n){const r=(t<257?IOt:t<65537?DOt:y2)(e);return n&&r.set(n),r}function Age(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,o){const s=this,a=s.bisect(s.range,i.value),l=i.index,u=a[0],c=a[1],d=l.length;let f;for(f=0;f<u;++f)o[l[f]]|=r;for(f=c;f<d;++f)o[l[f]]|=r;return s}}}function kge(){let e=y2(0),t=[],n=0;function r(a,l,u){if(!l.length)return[];const c=n,d=l.length,f=y2(d);let h=Array(d),m,p,g;for(g=0;g<d;++g)h[g]=a(l[g]),f[g]=g;if(h=NOt(h,f),c)m=t,p=e,t=Array(c+d),e=y2(c+d),MOt(u,m,p,c,h,f,d,t,e);else{if(u>0)for(g=0;g<d;++g)f[g]+=u;t=h,e=f}return n=c+d,{index:f,value:h}}function i(a,l){const u=n;let c,d,f;for(d=0;!l[e[d]]&&d<u;++d);for(f=d;d<u;++d)l[c=e[d]]||(e[f]=c,t[f]=t[d],++f);n=u-a}function o(a){for(let l=0,u=n;l<u;++l)e[l]=a[e[l]]}function s(a,l){let u;return l?u=l.length:(l=t,u=n),[Uwt(l,a[0],0,u),py(l,a[1],0,u)]}return{insert:r,remove:i,bisect:s,reindex:o,index:()=>e,size:()=>n}}function NOt(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],o=e[r];return i<o?-1:i>o?1:0}),qwt(e,t)}function MOt(e,t,n,r,i,o,s,a,l){let u=0,c=0,d;for(d=0;u<r&&c<s;++d)t[u]<i[c]?(a[d]=t[u],l[d]=n[u++]):(a[d]=i[c],l[d]=o[c++]+e);for(;u<r;++u,++d)a[d]=t[u],l[d]=n[u];for(;c<s;++c,++d)a[d]=i[c],l[d]=o[c]+e}function wte(e){Ze.call(this,POt(),e),this._indices=null,this._dims=null}wte.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Pt(wte,Ze,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],s=r.length;let a=0,l,u;for(;a<s;++a)l=n[a].fname,u=i[l]||(i[l]=kge()),o.push(Age(u,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,s=this._dims,a=this.value,l=a.curr(),u=a.prev(),c=a.all(),d=n.rem=n.add,f=n.mod,h=i.length,m={};let p,g,y,v,w,E,C,S,T;if(u.set(l),t.rem.length&&(w=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(E={},v=t.mod,C=0,S=v.length;C<S;++C)E[v[C]._index]=1;for(C=0;C<h;++C)T=r[C],(!s[C]||e.modified("fields",C)||t.modified(T.fields))&&(y=T.fname,(p=m[y])||(o[y]=g=kge(),m[y]=p=g.insert(T,t.source,0)),s[C]=Age(g,C,i[C]).onAdd(p,l));for(C=0,S=a.data().length;C<S;++C)w[C]||(u[C]!==l[C]?d.push(C):E[C]&&l[C]!==c&&f.push(C));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,s=this._indices,a=e.fields,l={},u=n.add,c=i.size()+r.length,d=o.length;let f=i.size(),h,m,p;i.resize(c,d),i.add(r);const g=i.curr(),y=i.prev(),v=i.all();for(h=0;h<d;++h)m=a[h].fname,p=l[m]||(l[m]=s[m].insert(a[h],r,f)),o[h].onAdd(p,g);for(;f<c;++f)y[f]=v,g[f]!==v&&u.push(f)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),s=e.mod;let a,l,u;for(a=0,l=s.length;a<l;++a)u=s[a]._index,i[u]!==o&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),s=i.prev(),a=i.all(),l={},u=n.rem,c=t.rem;let d,f,h,m;for(d=0,f=c.length;d<f;++d)h=c[d]._index,l[h]=1,s[h]=m=o[h],o[h]=a,m!==a&&u.push(h);for(h in r)r[h].remove(f,l);return this.reindex(t,f,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const o=i.remove(t,n);for(const s in r)r[s].reindex(o)})},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,s=r.length;let a=0,l,u;for(n.filters=0,u=0;u<s;++u)e.modified("query",u)&&(l=u,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,a=0;u<s;++u)e.modified("query",u)&&(a|=r[u].one,this.incrementAll(r[u],i[u],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),s=i.curr(),a=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),d=c[0],f=c[1],h=u[0],m=u[1],p=e.one;let g,y,v;if(d<h)for(g=d,y=Math.min(h,f);g<y;++g)v=l[g],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=p;else if(d>h)for(g=h,y=Math.min(d,m);g<y;++g)v=l[g],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=p;if(f>m)for(g=Math.max(d,m),y=f;g<y;++g)v=l[g],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=p;else if(f<m)for(g=Math.max(h,f),y=m;g<y;++g)v=l[g],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=p;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,o=i.curr(),s=e.index(),a=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],d=a[0],f=a[1],h=e.one;let m,p,g;if(u<d)for(m=u,p=Math.min(d,c);m<p;++m)g=s[m],o[g]^=h,n.push(g);else if(u>d)for(m=d,p=Math.min(u,f);m<p;++m)g=s[m],o[g]^=h,r.push(g);if(c>f)for(m=Math.max(u,f),p=c;m<p;++m)g=s[m],o[g]^=h,n.push(g);else if(c<f)for(m=Math.max(d,c),p=f;m<p;++m)g=s[m],o[g]^=h,r.push(g);e.range=t.slice()}});function xte(e){Ze.call(this,null,e)}xte.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Pt(xte,Ze,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if((i&n)===0)return t.StopPropagation;const o=t.fork(t.ALL),s=r.data(),a=r.curr(),l=r.prev(),u=c=>a[c]&n?null:s[c];return o.filter(o.MOD,u),i&i-1?(o.filter(o.ADD,c=>{const d=a[c]&n;return!d&&d^l[c]&n?s[c]:null}),o.filter(o.REM,c=>{const d=a[c]&n;return d&&!(d^(d^l[c]&n))?s[c]:null})):(o.filter(o.ADD,u),o.filter(o.REM,c=>(a[c]&n)===i?s[c]:null)),o.filter(o.SOURCE,c=>u(c._index))}});const $Ot=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:wte,resolvefilter:xte},Symbol.toStringTag,{value:"Module"})),FOt="RawCode",s1="Literal",LOt="Property",jOt="Identifier",BOt="ArrayExpression",zOt="BinaryExpression",CNe="CallExpression",UOt="ConditionalExpression",VOt="LogicalExpression",HOt="MemberExpression",qOt="ObjectExpression",WOt="UnaryExpression";function Kf(e){this.type=e}Kf.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=GOt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function GOt(e){switch(e.type){case BOt:return e.elements;case zOt:case VOt:return[e.left,e.right];case CNe:return[e.callee].concat(e.arguments);case UOt:return[e.test,e.consequent,e.alternate];case HOt:return[e.object,e.property];case qOt:return e.properties;case LOt:return[e.key,e.value];case WOt:return[e.argument];case jOt:case s1:case FOt:default:return[]}}var Pp,nn,ot,ll,wi,fF=1,vR=2,a1=3,Jy=4,hF=5,K1=6,yu=7,bR=8,YOt=9;Pp={};Pp[fF]="Boolean";Pp[vR]="<end>";Pp[a1]="Identifier";Pp[Jy]="Keyword";Pp[hF]="Null";Pp[K1]="Numeric";Pp[yu]="Punctuator";Pp[bR]="String";Pp[YOt]="RegularExpression";var KOt="ArrayExpression",XOt="BinaryExpression",QOt="CallExpression",JOt="ConditionalExpression",SNe="Identifier",ZOt="Literal",eNt="LogicalExpression",tNt="MemberExpression",nNt="ObjectExpression",rNt="Property",iNt="UnaryExpression",Zs="Unexpected token %0",oNt="Unexpected number",sNt="Unexpected string",aNt="Unexpected identifier",lNt="Unexpected reserved word",uNt="Unexpected end of input",xW="Invalid regular expression",sz="Invalid regular expression: missing /",TNe="Octal literals are not allowed in strict mode.",cNt="Duplicate data property in object literal not allowed in strict mode",Ta="ILLEGAL",RA="Disabled.",dNt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),fNt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function pF(e,t){if(!e)throw new Error("ASSERT: "+t)}function um(e){return e>=48&&e<=57}function _te(e){return"0123456789abcdefABCDEF".includes(e)}function v2(e){return"01234567".includes(e)}function hNt(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function IA(e){return e===10||e===13||e===8232||e===8233}function wR(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&dNt.test(String.fromCharCode(e))}function $M(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&fNt.test(String.fromCharCode(e))}const pNt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function ANe(){for(;ot<ll;){const e=nn.charCodeAt(ot);if(hNt(e)||IA(e))++ot;else break}}function _W(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)ot<ll&&_te(nn[ot])?(r=nn[ot++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Zr({},Zs,Ta);return String.fromCharCode(i)}function mNt(){var e,t,n,r;for(e=nn[ot],t=0,e==="}"&&Zr({},Zs,Ta);ot<ll&&(e=nn[ot++],!!_te(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Zr({},Zs,Ta),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function kNe(){var e,t;for(e=nn.charCodeAt(ot++),t=String.fromCharCode(e),e===92&&(nn.charCodeAt(ot)!==117&&Zr({},Zs,Ta),++ot,e=_W("u"),(!e||e==="\\"||!wR(e.charCodeAt(0)))&&Zr({},Zs,Ta),t=e);ot<ll&&(e=nn.charCodeAt(ot),!!$M(e));)++ot,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),nn.charCodeAt(ot)!==117&&Zr({},Zs,Ta),++ot,e=_W("u"),(!e||e==="\\"||!$M(e.charCodeAt(0)))&&Zr({},Zs,Ta),t+=e);return t}function gNt(){var e,t;for(e=ot++;ot<ll;){if(t=nn.charCodeAt(ot),t===92)return ot=e,kNe();if($M(t))++ot;else break}return nn.slice(e,ot)}function yNt(){var e,t,n;return e=ot,t=nn.charCodeAt(ot)===92?kNe():gNt(),t.length===1?n=a1:pNt.hasOwnProperty(t)?n=Jy:t==="null"?n=hF:t==="true"||t==="false"?n=fF:n=a1,{type:n,value:t,start:e,end:ot}}function az(){var e=ot,t=nn.charCodeAt(ot),n,r=nn[ot],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ot,{type:yu,value:String.fromCharCode(t),start:e,end:ot};default:if(n=nn.charCodeAt(ot+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ot+=2,{type:yu,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:ot};case 33:case 61:return ot+=2,nn.charCodeAt(ot)===61&&++ot,{type:yu,value:nn.slice(e,ot),start:e,end:ot}}}if(s=nn.substr(ot,4),s===">>>=")return ot+=4,{type:yu,value:s,start:e,end:ot};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return ot+=3,{type:yu,value:o,start:e,end:ot};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return ot+=2,{type:yu,value:i,start:e,end:ot};if(i==="//"&&Zr({},Zs,Ta),"<>=!+-*%&|^/".includes(r))return++ot,{type:yu,value:r,start:e,end:ot};Zr({},Zs,Ta)}function vNt(e){let t="";for(;ot<ll&&_te(nn[ot]);)t+=nn[ot++];return t.length===0&&Zr({},Zs,Ta),wR(nn.charCodeAt(ot))&&Zr({},Zs,Ta),{type:K1,value:parseInt("0x"+t,16),start:e,end:ot}}function bNt(e){let t="0"+nn[ot++];for(;ot<ll&&v2(nn[ot]);)t+=nn[ot++];return(wR(nn.charCodeAt(ot))||um(nn.charCodeAt(ot)))&&Zr({},Zs,Ta),{type:K1,value:parseInt(t,8),octal:!0,start:e,end:ot}}function Rge(){var e,t,n;if(n=nn[ot],pF(um(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=ot,e="",n!=="."){if(e=nn[ot++],n=nn[ot],e==="0"){if(n==="x"||n==="X")return++ot,vNt(t);if(v2(n))return bNt(t);n&&um(n.charCodeAt(0))&&Zr({},Zs,Ta)}for(;um(nn.charCodeAt(ot));)e+=nn[ot++];n=nn[ot]}if(n==="."){for(e+=nn[ot++];um(nn.charCodeAt(ot));)e+=nn[ot++];n=nn[ot]}if(n==="e"||n==="E")if(e+=nn[ot++],n=nn[ot],(n==="+"||n==="-")&&(e+=nn[ot++]),um(nn.charCodeAt(ot)))for(;um(nn.charCodeAt(ot));)e+=nn[ot++];else Zr({},Zs,Ta);return wR(nn.charCodeAt(ot))&&Zr({},Zs,Ta),{type:K1,value:parseFloat(e),start:t,end:ot}}function wNt(){var e="",t,n,r,i,o=!1;for(t=nn[ot],pF(t==="'"||t==='"',"String literal must starts with a quote"),n=ot,++ot;ot<ll;)if(r=nn[ot++],r===t){t="";break}else if(r==="\\")if(r=nn[ot++],!r||!IA(r.charCodeAt(0)))switch(r){case"u":case"x":nn[ot]==="{"?(++ot,e+=mNt()):e+=_W(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:v2(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),ot<ll&&v2(nn[ot])&&(o=!0,i=i*8+"01234567".indexOf(nn[ot++]),"0123".includes(r)&&ot<ll&&v2(nn[ot])&&(i=i*8+"01234567".indexOf(nn[ot++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&nn[ot]===`
`&&++ot;else{if(IA(r.charCodeAt(0)))break;e+=r}return t!==""&&Zr({},Zs,Ta),{type:bR,value:e,octal:o,start:n,end:ot}}function xNt(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Zr({},xW)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Zr({},xW)}try{return new RegExp(e,t)}catch{return null}}function _Nt(){var e,t,n,r,i;for(e=nn[ot],pF(e==="/","Regular expression literal must start with a slash"),t=nn[ot++],n=!1,r=!1;ot<ll;)if(e=nn[ot++],t+=e,e==="\\")e=nn[ot++],IA(e.charCodeAt(0))&&Zr({},sz),t+=e;else if(IA(e.charCodeAt(0)))Zr({},sz);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Zr({},sz),i=t.substr(1,t.length-2),{value:i,literal:t}}function ENt(){var e,t,n;for(t="",n="";ot<ll&&(e=nn[ot],!!$M(e.charCodeAt(0)));)++ot,e==="\\"&&ot<ll?Zr({},Zs,Ta):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Zr({},xW,n),{value:n,literal:t}}function CNt(){var e,t,n,r;return wi=null,ANe(),e=ot,t=_Nt(),n=ENt(),r=xNt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:ot}}function SNt(e){return e.type===a1||e.type===Jy||e.type===fF||e.type===hF}function RNe(){if(ANe(),ot>=ll)return{type:vR,start:ot,end:ot};const e=nn.charCodeAt(ot);return wR(e)?yNt():e===40||e===41||e===59?az():e===39||e===34?wNt():e===46?um(nn.charCodeAt(ot+1))?Rge():az():um(e)?Rge():az()}function wu(){const e=wi;return ot=e.end,wi=RNe(),ot=e.end,e}function INe(){const e=ot;wi=RNe(),ot=e}function TNt(e){const t=new Kf(KOt);return t.elements=e,t}function Ige(e,t,n){const r=new Kf(e==="||"||e==="&&"?eNt:XOt);return r.operator=e,r.left=t,r.right=n,r}function ANt(e,t){const n=new Kf(QOt);return n.callee=e,n.arguments=t,n}function kNt(e,t,n){const r=new Kf(JOt);return r.test=e,r.consequent=t,r.alternate=n,r}function Ete(e){const t=new Kf(SNe);return t.name=e,t}function NT(e){const t=new Kf(ZOt);return t.value=e.value,t.raw=nn.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Dge(e,t,n){const r=new Kf(tNt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function RNt(e){const t=new Kf(nNt);return t.properties=e,t}function Pge(e,t,n){const r=new Kf(rNt);return r.key=t,r.value=n,r.kind=e,r}function INt(e,t){const n=new Kf(iNt);return n.operator=e,n.argument=t,n.prefix=!0,n}function Zr(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(pF(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=ot,n.description=i,n}function mF(e){e.type===vR&&Zr(e,uNt),e.type===K1&&Zr(e,oNt),e.type===bR&&Zr(e,sNt),e.type===a1&&Zr(e,aNt),e.type===Jy&&Zr(e,lNt),Zr(e,Zs,e.value)}function ul(e){const t=wu();(t.type!==yu||t.value!==e)&&mF(t)}function Ki(e){return wi.type===yu&&wi.value===e}function lz(e){return wi.type===Jy&&wi.value===e}function DNt(){const e=[];for(ot=wi.start,ul("[");!Ki("]");)Ki(",")?(wu(),e.push(null)):(e.push(l1()),Ki("]")||ul(","));return wu(),TNt(e)}function Oge(){ot=wi.start;const e=wu();return e.type===bR||e.type===K1?(e.octal&&Zr(e,TNe),NT(e)):Ete(e.value)}function PNt(){var e,t,n,r;if(ot=wi.start,e=wi,e.type===a1)return n=Oge(),ul(":"),r=l1(),Pge("init",n,r);if(e.type===vR||e.type===yu)mF(e);else return t=Oge(),ul(":"),r=l1(),Pge("init",t,r)}function ONt(){var e=[],t,n,r,i={},o=String;for(ot=wi.start,ul("{");!Ki("}");)t=PNt(),t.key.type===SNe?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Zr({},cNt):i[r]=!0,e.push(t),Ki("}")||ul(",");return ul("}"),RNt(e)}function NNt(){ul("(");const e=Cte();return ul(")"),e}const MNt={if:1};function $Nt(){var e,t,n;if(Ki("("))return NNt();if(Ki("["))return DNt();if(Ki("{"))return ONt();if(e=wi.type,ot=wi.start,e===a1||MNt[wi.value])n=Ete(wu().value);else if(e===bR||e===K1)wi.octal&&Zr(wi,TNe),n=NT(wu());else{if(e===Jy)throw new Error(RA);e===fF?(t=wu(),t.value=t.value==="true",n=NT(t)):e===hF?(t=wu(),t.value=null,n=NT(t)):Ki("/")||Ki("/=")?(n=NT(CNt()),INe()):mF(wu())}return n}function FNt(){const e=[];if(ul("("),!Ki(")"))for(;ot<ll&&(e.push(l1()),!Ki(")"));)ul(",");return ul(")"),e}function LNt(){ot=wi.start;const e=wu();return SNt(e)||mF(e),Ete(e.value)}function jNt(){return ul("."),LNt()}function BNt(){ul("[");const e=Cte();return ul("]"),e}function zNt(){var e,t,n;for(e=$Nt();;)if(Ki("."))n=jNt(),e=Dge(".",e,n);else if(Ki("("))t=FNt(),e=ANt(e,t);else if(Ki("["))n=BNt(),e=Dge("[",e,n);else break;return e}function Nge(){const e=zNt();if(wi.type===yu&&(Ki("++")||Ki("--")))throw new Error(RA);return e}function eN(){var e,t;if(wi.type!==yu&&wi.type!==Jy)t=Nge();else{if(Ki("++")||Ki("--"))throw new Error(RA);if(Ki("+")||Ki("-")||Ki("~")||Ki("!"))e=wu(),t=eN(),t=INt(e.value,t);else{if(lz("delete")||lz("void")||lz("typeof"))throw new Error(RA);t=Nge()}}return t}function Mge(e){let t=0;if(e.type!==yu&&e.type!==Jy)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function UNt(){var e,t,n,r,i,o,s,a,l,u;if(e=wi,l=eN(),r=wi,i=Mge(r),i===0)return l;for(r.prec=i,wu(),t=[e,wi],s=eN(),o=[l,r,s];(i=Mge(wi))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=Ige(a,l,s),o.push(n);r=wu(),r.prec=i,o.push(r),t.push(wi),n=eN(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=Ige(o[u-1].value,o[u-2],n),u-=2;return n}function l1(){var e,t,n;return e=UNt(),Ki("?")&&(wu(),t=l1(),ul(":"),n=l1(),e=kNt(e,t,n)),e}function Cte(){const e=l1();if(Ki(","))throw new Error(RA);return e}function DNe(e){nn=e,ot=0,ll=nn.length,wi=null,INe();const t=Cte();if(wi.type!==vR)throw new Error("Unexpect token after expression.");return t}var PNe={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function ONe(e){function t(s,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+s+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(s,a,l){return u=>t(s,u,a,l)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&it("Missing arguments to clamp function."),s.length>3&&it("Too many arguments to clamp function.");const a=s.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),btoa:"btoa",atob:"atob",regexp:o,test:n("test",o),if:function(s){s.length<3&&it("Missing arguments to if function."),s.length>3&&it("Too many arguments to if function.");const a=s.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function VNt(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function NNe(e){e=e||{};const t=e.allowed?Pf(e.allowed):{},n=e.forbidden?Pf(e.forbidden):{},r=e.constants||PNe,i=(e.functions||ONe)(d),o=e.globalvar,s=e.fieldvar,a=cr(o)?o:m=>`${o}["${m}"]`;[...Object.getOwnPropertyNames(Object.prototype).filter(m=>typeof Object.prototype[m]=="function")];let l={},u={},c=0;function d(m){if(ni(m))return m;const p=f[m.type];return p==null&&it("Unsupported type: "+m.type),p(m)}const f={Literal:m=>m.raw,Identifier:m=>{const p=m.name;return c>0?p:Nn(n,p)?it("Illegal identifier: "+p):Nn(r,p)?r[p]:Nn(t,p)?p:(l[p]=1,a(p))},MemberExpression:m=>{const p=!m.computed,g=d(m.object);p&&(c+=1);const y=d(m.property);return g===s&&(u[VNt(y)]=1),p&&(c-=1),g+(p?"."+y:"["+y+"]")},CallExpression:m=>{m.callee.type!=="Identifier"&&it("Illegal callee type: "+m.callee.type);const p=m.callee.name,g=m.arguments,y=Nn(i,p)&&i[p];return y||it("Unrecognized function: "+p),cr(y)?y(g):y+"("+g.map(d).join(",")+")"},ArrayExpression:m=>"["+m.elements.map(d).join(",")+"]",BinaryExpression:m=>"("+d(m.left)+" "+m.operator+" "+d(m.right)+")",UnaryExpression:m=>"("+m.operator+d(m.argument)+")",ConditionalExpression:m=>"("+d(m.test)+"?"+d(m.consequent)+":"+d(m.alternate)+")",LogicalExpression:m=>"("+d(m.left)+m.operator+d(m.right)+")",ObjectExpression:m=>{for(const p of m.properties){const g=p.key.name;Nke.has(g)&&it("Illegal property: "+g)}return"{"+m.properties.map(d).join(",")+"}"},Property:m=>{c+=1;const p=d(m.key);return c-=1,p+":"+d(m.value)}};function h(m){const p={code:d(m),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},p}return h.functions=i,h.constants=r,h}const $ge=Symbol("vega_selection_getter");function MNe(e){return(!e.getter||!e.getter[$ge])&&(e.getter=yd(e.field),e.getter[$ge]=!0),e.getter}const Ste="intersect",Fge="union",HNt="vlMulti",qNt="vlPoint",Lge="or",WNt="and",Ih="_vgsid_",DA=yd(Ih),GNt="E",YNt="R",KNt="R-E",XNt="R-LE",QNt="R-RE",JNt="E-LT",ZNt="E-LTE",e4t="E-GT",t4t="E-GTE",n4t="E-VALID",r4t="E-ONE",FM="index:unit";function jge(e,t){for(var n=t.fields,r=t.values,i=n.length,o=0,s,a;o<i;++o)if(a=n[o],s=MNe(a)(e),Y0(s)&&(s=rl(s)),Y0(r[o])&&(r[o]=rl(r[o])),fn(r[o])&&Y0(r[o][0])&&(r[o]=r[o].map(rl)),a.type===GNt){if(fn(r[o])?!r[o].includes(s):s!==r[o])return!1}else if(a.type===YNt){if(!Px(s,r[o]))return!1}else if(a.type===QNt){if(!Px(s,r[o],!0,!1))return!1}else if(a.type===KNt){if(!Px(s,r[o],!1,!1))return!1}else if(a.type===XNt){if(!Px(s,r[o],!1,!0))return!1}else if(a.type===JNt){if(s>=r[o])return!1}else if(a.type===ZNt){if(s>r[o])return!1}else if(a.type===e4t){if(s<=r[o])return!1}else if(a.type===t4t){if(s<r[o])return!1}else if(a.type===n4t){if(s===null||isNaN(s))return!1}else if(a.type===r4t&&r[o].indexOf(s)===-1)return!1;return!0}function i4t(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],o=r?r[FM]&&r[FM].value:void 0,s=n===Ste,a=i.length,l=0,u,c,d,f,h;l<a;++l)if(u=i[l],o&&s){if(c=c||{},d=c[f=u.unit]||0,d===-1)continue;if(h=jge(t,u),c[f]=h?-1:++d,h&&o.size===1)return!0;if(!h&&d===o.get(f).count)return!1}else if(h=jge(t,u),s^h)return h;return a&&s}const $Ne=YE(DA),o4t=$Ne.left,s4t=$Ne.right;function a4t(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[FM]&&r[FM].value:void 0,s=n===Ste,a=DA(t),l=o4t(i,a);if(l===i.length||DA(i[l])!==a)return!1;if(o&&s){if(o.size===1)return!0;if(s4t(i,a)-l<o.size)return!1}return!0}function l4t(e,t){return fn(e)||it("First argument to selectionTuples must be an array."),Jn(t)||it("Second argument to selectionTuples must be an object."),e.map(n=>ur(t.fields?{values:t.fields.map(r=>MNe(r)(n.datum))}:{[Ih]:DA(n.datum)},t))}function u4t(e,t,n,r){for(var i=this.context.data[e],o=i?i.values.value:[],s={},a={},l={},u,c,d,f,h,m,p,g,y,v,w=o.length,E=0,C,S;E<w;++E)if(u=o[E],f=u.unit,c=u.fields,d=u.values,c&&d){for(C=0,S=c.length;C<S;++C)h=c[C],p=s[h.field]||(s[h.field]={}),g=p[f]||(p[f]=[]),l[h.field]=y=h.type.charAt(0),v=uz[`${y}_union`],p[f]=v(g,_n(d[C]));n&&(g=a[f]||(a[f]=[]),g.push(_n(d).reduce((T,A,D)=>(T[c[D].field]=A,T),{})))}else h=Ih,m=DA(u),p=s[h]||(s[h]={}),g=p[f]||(p[f]=[]),g.push(m),n&&(g=a[f]||(a[f]=[]),g.push({[Ih]:m}));if(t=t||Fge,s[Ih]?s[Ih]=uz[`${Ih}_${t}`](...Object.values(s[Ih])):Object.keys(s).forEach(T=>{s[T]=Object.keys(s[T]).map(A=>s[T][A]).reduce((A,D)=>A===void 0?D:uz[`${l[T]}_${t}`](A,D))}),o=Object.keys(a),n&&o.length){const T=r?qNt:HNt;s[T]=t===Fge?{[Lge]:o.reduce((A,D)=>(A.push(...a[D]),A),[])}:{[WNt]:o.map(A=>({[Lge]:a[A]}))}}return s}var uz={[`${Ih}_union`]:ext,[`${Ih}_intersect`]:Jwt,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=rl(t[0]),r=rl(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=rl(t[0]),r=rl(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const c4t=":",d4t="@";function Tte(e,t,n,r){t[0].type!==s1&&it("First argument to selection functions must be a string literal.");const i=t[0].value,o=t.length>=2&&Mr(t).value,s="unit",a=d4t+s,l=c4t+i;o===Ste&&!Nn(r,a)&&(r[a]=n.getData(i).indataRef(n,s)),Nn(r,l)||(r[l]=n.getData(i).tuplesRef())}function FNe(e){const t=this.context.data[e];return t?t.values.value:[]}function f4t(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function h4t(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(vd).insert(t)),1}function p4t(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const xR=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},m4t=xR("format"),LNe=xR("timeFormat"),g4t=xR("utcFormat"),y4t=xR("timeParse"),v4t=xR("utcParse"),aP=new Date(2e3,0,1);function gF(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(aP.setYear(2e3),aP.setMonth(e),aP.setDate(t),LNe.call(this,aP,n))}function b4t(e){return gF.call(this,e,1,"%B")}function w4t(e){return gF.call(this,e,1,"%b")}function x4t(e){return gF.call(this,0,2+e,"%A")}function _4t(e){return gF.call(this,0,2+e,"%a")}const E4t=":",C4t="@",EW="%",jNe="$";function Ate(e,t,n,r){t[0].type!==s1&&it("First argument to data functions must be a string literal.");const i=t[0].value,o=E4t+i;if(!Nn(o,r))try{r[o]=n.getData(i).tuplesRef()}catch{}}function S4t(e,t,n,r){t[0].type!==s1&&it("First argument to indata must be a string literal."),t[1].type!==s1&&it("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,s=C4t+o;Nn(s,r)||(r[s]=n.getData(i).indataRef(n,o))}function Ul(e,t,n,r){if(t[0].type===s1)Bge(n,r,t[0].value);else for(e in n.scales)Bge(n,r,e)}function Bge(e,t,n){const r=EW+n;if(!Nn(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Op(e,t){if(ni(e)){const n=t.scales[e];return n&&Upe(n.value)?n.value:void 0}else if(cr(e))return Upe(e)?e:void 0}function T4t(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Ul,n._range=Ul,n._scale=Ul;const r=i=>"_["+(i.type===s1?cn(EW+i.value):cn(EW)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function kte(e,t){return function(n,r,i){if(n){const o=Op(n,(i||this).context);return o&&o.path[e](r)}else return t(r)}}const A4t=kte("area",qRt),k4t=kte("bounds",KRt),R4t=kte("centroid",tIt);function I4t(e,t){const n=Op(e,(t||this).context);return n&&n.scale()}function D4t(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function Rte(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function P4t(){return Rte(this.context.dataflow,"warn",arguments)}function O4t(){return Rte(this.context.dataflow,"info",arguments)}function N4t(){return Rte(this.context.dataflow,"debug",arguments)}function cz(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function CW(e){const t=vy(e),n=cz(t.r),r=cz(t.g),i=cz(t.b);return .2126*n+.7152*r+.0722*i}function M4t(e,t){const n=CW(e),r=CW(t),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function $4t(){const e=[].slice.call(arguments);return e.unshift({}),ur(...e)}function BNe(e,t){return e===t||e!==e&&t!==t?!0:fn(e)?fn(t)&&e.length===t.length?F4t(e,t):!1:Jn(e)&&Jn(t)?zNe(e,t):!1}function F4t(e,t){for(let n=0,r=e.length;n<r;++n)if(!BNe(e[n],t[n]))return!1;return!0}function zNe(e,t){for(const n in e)if(!BNe(e[n],t[n]))return!1;return!0}function zge(e){return t=>zNe(e,t)}function L4t(e,t,n,r,i,o){const s=this.context.dataflow,a=this.context.data[e],l=a.input,u=s.stamp();let c=a.changes,d,f;if(s._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(a.changes=c=s.changeset(),c.stamp=u,s.runAfter(()=>{a.modified=!0,s.pulse(l,c).run()},!0,1)),n&&(d=n===!0?vd:fn(n)||C5(n)?n:zge(n),c.remove(d)),t&&c.insert(t),r&&(d=zge(r),l.value.some(d)?c.remove(d):c.insert(r)),i){if(cr(i))throw Error("modify parameter must be a data tuple, not a function");for(f in o)c.modify(i,f,o[f])}return 1}function j4t(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function B4t(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const Uge={};function z4t(e,t){const n=Uge[t]||(Uge[t]=yd(t));return fn(e)?e.map(n):n(e)}function yF(e){return fn(e)||ArrayBuffer.isView(e)?e:null}function Ite(e){return yF(e)||(ni(e)?e:null)}function U4t(e,...t){return yF(e).join(...t)}function V4t(e,...t){return Ite(e).indexOf(...t)}function H4t(e,...t){return Ite(e).lastIndexOf(...t)}function q4t(e,...t){return Ite(e).slice(...t)}function W4t(e,t,n){return cr(n)&&it("Function argument passed to replace."),!ni(t)&&!pJ(t)&&it("Please pass a string or RegExp argument to replace."),String(e).replace(t,n)}function G4t(e){return yF(e).slice().reverse()}function Y4t(e){return yF(e).slice().sort(Gk)}function K4t(e,t,n){return VZ(e||0,t||0,n||0)}function X4t(e,t){const n=Op(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function Q4t(e,t){const n=Op(e,(t||this).context);return n?n.copy():void 0}function J4t(e,t){const n=Op(e,(t||this).context);return n?n.domain():[]}function Z4t(e,t,n){const r=Op(e,(n||this).context);return r?fn(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function eMt(e,t){const n=Op(e,(t||this).context);return n&&n.range?n.range():[]}function tMt(e,t,n){const r=Op(e,(n||this).context);return r?r(t):void 0}function nMt(e,t,n,r,i){e=Op(e,(i||this).context);const o=OPe(t,n);let s=e.domain(),a=s[0],l=Mr(s),u=Wl;return l-a?u=xPe(e,a,l):e=(e.interpolator?ii("sequential")().interpolator(e.interpolator()):ii("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(s=e.ticks(+r||15),a!==s[0]&&s.unshift(a),l!==Mr(s)&&s.push(l)),s.forEach(c=>o.stop(u(c),e(c))),o}function rMt(e,t,n){const r=Op(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function iMt(e){let t=null;return function(n){return n?wA(n,t=t||z_(e)):e}}const UNe=e=>e.data;function VNe(e,t){const n=FNe.call(t,e);return n.root&&n.root.lookup||{}}function oMt(e,t,n){const r=VNe(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(UNe):void 0}function sMt(e,t){const n=VNe(e,this)[t];return n?n.ancestors().map(UNe):void 0}const HNe=()=>typeof window<"u"&&window||null;function aMt(){const e=HNe();return e?e.screen:{}}function lMt(){const e=HNe();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function uMt(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function qNe(e,t,n){if(!e)return[];const[r,i]=e,o=new ps().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return R3e(s,o,cMt(t))}function cMt(e){let t=null;if(e){const n=_n(e.marktype),r=_n(e.markname);t=i=>(!n.length||n.some(o=>i.marktype===o))&&(!r.length||r.some(o=>i.name===o))}return t}function dMt(e,t,n,r=5){e=_n(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function fMt(e){return _n(e).reduce((t,[n,r],i)=>t+=i==0?`M ${n},${r} `:i===e.length-1?" Z":`L ${n},${r} `,"")}function hMt(e,t,n){const{x:r,y:i,mark:o}=n,s=new ps().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<s.x1&&(s.x1=l),l>s.x2&&(s.x2=l),u<s.y1&&(s.y1=u),u>s.y2&&(s.y2=u);return s.translate(r,i),qNe([[s.x1,s.y1],[s.x2,s.y2]],e,o).filter(l=>pMt(l.x,l.y,t))}function pMt(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[s,a]=n[o],[l,u]=n[i];u>t!=a>t&&e<(s-l)*(t-u)/(a-u)+l&&r++}return r&1}const PA={random(){return wd()},cumulativeNormal:R5,cumulativeLogNormal:UJ,cumulativeUniform:WJ,densityNormal:FJ,densityLogNormal:zJ,densityUniform:qJ,quantileNormal:I5,quantileLogNormal:VJ,quantileUniform:GJ,sampleNormal:k5,sampleLogNormal:BJ,sampleUniform:HJ,isArray:fn,isBoolean:hJ,isDate:Y0,isDefined(e){return e!==void 0},isNumber:hy,isObject:Jn,isRegExp:pJ,isString:ni,isTuple:C5,isValid(e){return e!=null&&e===e},toBoolean:gJ,toDate(e){return yJ(e)},toNumber:rl,toString:vJ,indexof:V4t,join:U4t,lastindexof:H4t,replace:W4t,reverse:G4t,sort:Y4t,slice:q4t,flush:Jke,lerp:eRe,merge:$4t,pad:rRe,peek:Mr,pluck:z4t,span:Yk,inrange:Px,truncate:iRe,rgb:vy,lab:H4,hcl:q4,hsl:yA,luminance:CW,contrast:M4t,sequence:lc,format:m4t,utcFormat:g4t,utcParse:v4t,utcOffset:LRe,utcSequence:zRe,timeFormat:LNe,timeParse:y4t,timeOffset:FRe,timeSequence:BRe,timeUnitSpecifier:TRe,monthFormat:b4t,monthAbbrevFormat:w4t,dayFormat:x4t,dayAbbrevFormat:_4t,quarter:Yke,utcquarter:Kke,week:kRe,utcweek:DRe,dayofyear:ARe,utcdayofyear:IRe,warn:P4t,info:O4t,debug:N4t,extent(e){return up(e)},inScope:D4t,intersect:qNe,clampRange:Xke,pinchDistance:j4t,pinchAngle:B4t,screen:aMt,containerSize:uMt,windowSize:lMt,bandspace:K4t,setdata:h4t,pathShape:iMt,panLinear:Hke,panLog:qke,panPow:Wke,panSymlog:Gke,zoomLinear:lJ,zoomLog:uJ,zoomPow:I4,zoomSymlog:cJ,encode:p4t,modify:L4t,lassoAppend:dMt,lassoPath:fMt,intersectLasso:hMt},mMt=["view","item","group","xy","x","y"],gMt="event.vega.",WNe="this.",Dte={},GNe={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${cn(jNe+e)}]`,functions:yMt,constants:PNe,visitors:Dte},SW=NNe(GNe);function yMt(e){const t=ONe(e);mMt.forEach(n=>t[n]=gMt+n);for(const n in PA)t[n]=WNe+n;return ur(t,T4t(e,PA,Dte)),t}function ts(e,t,n){return arguments.length===1?PA[e]:(PA[e]=t,n&&(Dte[e]=n),SW&&(SW.functions[e]=WNe+e),this)}ts("bandwidth",X4t,Ul);ts("copy",Q4t,Ul);ts("domain",J4t,Ul);ts("range",eMt,Ul);ts("invert",Z4t,Ul);ts("scale",tMt,Ul);ts("gradient",nMt,Ul);ts("geoArea",A4t,Ul);ts("geoBounds",k4t,Ul);ts("geoCentroid",R4t,Ul);ts("geoShape",rMt,Ul);ts("geoScale",I4t,Ul);ts("indata",f4t,S4t);ts("data",FNe,Ate);ts("treePath",oMt,Ate);ts("treeAncestors",sMt,Ate);ts("vlSelectionTest",i4t,Tte);ts("vlSelectionIdTest",a4t,Tte);ts("vlSelectionResolve",u4t,Tte);ts("vlSelectionTuples",l4t);function pp(e,t){const n={};let r;try{e=ni(e)?e:cn(e)+"",r=DNe(e)}catch{it("Expression parse error: "+e)}r.visit(o=>{if(o.type!==CNe)return;const s=o.callee.name,a=GNe.visitors[s];a&&a(s,o.arguments,t,n)});const i=SW(r);return i.globals.forEach(o=>{const s=jNe+o;!Nn(n,s)&&t.getSignal(o)&&(n[s]=t.signalRef(o))}),{$expr:ur({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function vMt(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const bMt=Pf(["rule"]),Vge=Pf(["group","image","rect"]);function wMt(e,t){let n="";return bMt[t]||(e.x2&&(e.x?(Vge[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Vge[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function Pte(e){return(e+"").toLowerCase()}function xMt(e){return Pte(e)==="operator"}function _Mt(e){return Pte(e)==="collect"}function PS(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function EMt(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var CMt={operator:(e,t)=>PS(e,["_"],t.code),parameter:(e,t)=>PS(e,["datum","_"],t.code),event:(e,t)=>PS(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return PS(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const s="o["+cn(o)+"]";i+=`$=${r[o].code};if(${s}!==$)${s}=$,m=1;`}return i+=wMt(r,n),i+="return m;",PS(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(cn).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,s)=>{const a=t[s];let l,u;return o.path?(l=`a${o.path}`,u=`b${o.path}`):((n=n||{})["f"+s]=o,l=`this.f${s}(a)`,u=`this.f${s}(b)`),EMt(l,u,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function SMt(e){const t=this;xMt(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function TMt(e){const t=this;if(e.params){const n=t.get(e.id);n||it("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function AMt(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=fn(i)?i.map(o=>Hge(o,n,t)):Hge(i,n,t)}return t}function Hge(e,t,n){if(!e||!Jn(e))return e;for(let r=0,i=qge.length,o;r<i;++r)if(o=qge[r],Nn(e,o.key))return o.parse(e,t,n);return e}var qge=[{key:"$ref",parse:kMt},{key:"$key",parse:IMt},{key:"$expr",parse:RMt},{key:"$field",parse:DMt},{key:"$encode",parse:OMt},{key:"$compare",parse:PMt},{key:"$context",parse:NMt},{key:"$subflow",parse:MMt},{key:"$tupleid",parse:$Mt}];function kMt(e,t){return t.get(e.$ref)||it("Operator not defined: "+e.$ref)}function RMt(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=zu(t.parameterExpression(e.$expr),e.$fields))}function IMt(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=mJ(e.$key,e.$flat,t.expr.codegen))}function DMt(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=yd(e.$field,e.$name,t.expr.codegen))}function PMt(e,t){const n="c:"+e.$compare+"_"+e.$order,r=_n(e.$compare).map(i=>i&&i.$tupleid?yn:i);return t.fn[n]||(t.fn[n]=dJ(r,e.$order,t.expr.codegen))}function OMt(e,t){const n=e.$encode,r={};for(const i in n){const o=n[i];r[i]=zu(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}function NMt(e,t){return t}function MMt(e,t){const n=e.$subflow;return function(r,i,o){const s=t.fork().parse(n),a=s.get(n.operators[0].id),l=s.signals.parent;return l&&l.set(o),a.detachSubflow=()=>t.detach(s),a}}function $Mt(){return yn}function FMt(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(o=>t.get(o)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(o=>t.get(o)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&it("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function LMt(e){var t=this,n=Jn(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,s=void 0;r||it("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(s=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,i,o,s)}const jMt={skip:!0};function BMt(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const s=t.signals[o];e.signals(o,s)&&(r[o]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(o=>{const s=t.data[o];e.data(o,s)&&(i[o]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function zMt(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(o=>{n.update(t.signals[o],i[o],jMt)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(vd).insert(r[o]))}),(e.subcontext||[]).forEach((o,s)=>{const a=t.subcontext[s];a&&a.setState(o)})}function YNe(e,t,n,r){return new KNe(e,t,n,r)}function KNe(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||CMt,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function Wge(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}KNe.prototype=Wge.prototype={fork(){const e=new Wge(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),_Mt(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const s=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>s[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[Pte(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:vMt,parseOperator:SMt,parseOperatorParameters:TMt,parseParameters:AMt,parseStream:FMt,parseUpdate:LMt,getState:BMt,setState:zMt};function UMt(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),XNe(t,e.description()))}function XNe(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function VMt(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const dz="default";function HMt(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:dz,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,o=i?ni(i)?i:i.user:dz,s=r.item&&r.item.cursor||null;return i&&o===i.user&&s==i.item?i:{user:o,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return ni(r)||(i=r.item,r=r.user),TW(e,r&&r!==dz?r:i||r),i},{cursor:t})}function TW(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function LM(e,t){var n=e._runtime.data;return Nn(n,t)||it("Unrecognized data set: "+t),n[t]}function qMt(e,t){return arguments.length<2?LM(this,e).values.value:vF.call(this,e,W1().remove(vd).insert(t))}function vF(e,t){pIe(t)||it("Second argument to changes must be a changeset.");const n=LM(this,e);return n.modified=!0,this.pulse(n.input,t)}function WMt(e,t){return vF.call(this,e,W1().insert(t))}function GMt(e,t){return vF.call(this,e,W1().remove(t))}function QNe(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function JNe(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function bF(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function YMt(e){var t=bF(e),n=QNe(e),r=JNe(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(o){e.error(o)}})}function KMt(e,t,n){var r=e._renderer,i=r&&r.canvas(),o,s,a;return i&&(a=bF(e),s=t.changedTouches?t.changedTouches[0]:t,o=rF(s,i),o[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=XMt(e,n,o),t}function XMt(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var a=r,l;if(s){for(l=t;l;l=l.mark.group)if(l.mark.name===s){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function o(s){if(!s)return n;ni(s)&&(s=i(s));const a=n.slice();for(;s;)a[0]-=s.x||0,a[1]-=s.y||0,s=s.mark&&s.mark.group;return a}return{view:fl(e),item:fl(t||{}),group:i,xy:o,x:s=>o(s)[0],y:s=>o(s)[1]}}const Gge="view",QMt="timer",JMt="window",ZMt={trap:!1};function e6t(e){const t=ur({defaults:{}},e),n=(r,i)=>{i.forEach(o=>{fn(r[o])&&(r[o]=Pf(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function ZNe(e,t,n,r){e._eventListeners.push({type:n,sources:_n(t),handler:r})}function t6t(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function lP(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||Jn(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function n6t(e,t,n){var r=this,i=new A5(n),o=function(u,c){r.runAsync(null,()=>{e===Gge&&t6t(r,t)&&u.preventDefault(),i.receive(KMt(r,u,c))})},s;if(e===QMt)lP(r,"timer",t)&&r.timer(o,t);else if(e===Gge)lP(r,"view",t)&&r.addEventListener(t,o,ZMt);else if(e===JMt?lP(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&lP(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=s.length;a<l;++a)s[a].addEventListener(t,o);ZNe(r,s,t,o)}return i}function Yge(e){return e.item}function Kge(e){return e.item.mark.source}function Xge(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function r6t(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",Yge),Kge,Xge(e)),this.on(this.events("view","pointerout",Yge),Kge,Xge(t)),this}function i6t(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,o,s,a,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(s=r[i],o=s.sources.length;--o>=0;)s.sources[o].removeEventListener(s.type,s.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,a=n[i].handler,this._handler.off(l,a);return this}function hc(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const o6t="vega-bind",s6t="vega-bind-name",a6t="vega-bind-radio";function l6t(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=fJ(r.debounce,i.update))),(r.input==null&&r.element?u6t:d6t)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function u6t(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),ZNe(r,t,i,o),e.set=s=>{t.value=s,t.dispatchEvent(c6t(i))}}function c6t(e){return typeof Event<"u"?new Event(e):{type:e}}function d6t(e,t,n,r){const i=r.signal(n.signal),o=hc("div",{class:o6t}),s=n.input==="radio"?o:o.appendChild(hc("label"));s.appendChild(hc("span",{class:s6t},n.name||n.signal)),t.appendChild(o);let a=f6t;switch(n.input){case"checkbox":a=h6t;break;case"select":a=p6t;break;case"radio":a=m6t;break;case"range":a=g6t;break}a(e,s,n,i)}function f6t(e,t,n,r){const i=hc("input");for(const o in n)o!=="signal"&&o!=="element"&&i.setAttribute(o==="input"?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=o=>i.value=o}function h6t(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=hc("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=s=>o.checked=!!s||null}function p6t(e,t,n,r){const i=hc("select",{name:n.signal}),o=n.labels||[];n.options.forEach((s,a)=>{const l={value:s};jM(s,r)&&(l.selected=!0),i.appendChild(hc("option",l,(o[a]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let a=0,l=n.options.length;a<l;++a)if(jM(n.options[a],s)){i.selectedIndex=a;return}}}function m6t(e,t,n,r){const i=hc("span",{class:a6t}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,a)=>{const l={type:"radio",name:n.signal,value:s};jM(s,r)&&(l.checked=!0);const u=hc("input",l);u.addEventListener("change",()=>e.update(s));const c=hc("label",{},(o[a]||s)+"");return c.prepend(u),i.appendChild(c),u}),e.set=s=>{const a=e.elements,l=a.length;for(let u=0;u<l;++u)jM(a[u].value,s)&&(a[u].checked=!0)}}function g6t(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,s=n.step||my(o,i,100),a=hc("input",{type:"range",name:n.signal,min:o,max:i,step:s});a.value=r;const l=hc("span",{},+r);t.appendChild(a),t.appendChild(l);const u=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",u),a.addEventListener("change",u),e.elements=[a],e.set=c=>{a.value=c,l.textContent=c}}function jM(e,t){return e===t||e+""==t+""}function e4e(e,t,n,r,i,o){return t=t||new r(e.loader()),t.initialize(n,QNe(e),JNe(e),bF(e),i,o).background(e.background())}function Ote(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function y6t(e,t,n,r){const i=new r(e.loader(),Ote(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,bF(e),e);return t&&t.handlers().forEach(o=>{i.on(o.type,o.handler)}),i}function v6t(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=iF(r);e=n._el=e?fz(n,e,!0):null,UMt(n),o||n.error("Unrecognized renderer type: "+r);const s=o.handler||hR,a=e?o.renderer:o.headless;return n._renderer=a?e4e(n,n._renderer,e,a):null,n._handler=y6t(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=fz(n,t,!0):e.appendChild(hc("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=fz(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{l6t(n,l.element||t,l)})),n}function fz(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const OS=e=>+e||0,b6t=e=>({top:e,bottom:e,left:e,right:e});function Qge(e){return Jn(e)?{top:OS(e.top),bottom:OS(e.bottom),left:OS(e.left),right:OS(e.right)}:b6t(OS(e))}async function Nte(e,t,n,r){const i=iF(t),o=i&&i.headless;return o||it("Unrecognized renderer type: "+t),await e.runAsync(),e4e(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function w6t(e,t){e!==O0.Canvas&&e!==O0.SVG&&e!==O0.PNG&&it("Unrecognized image type: "+e);const n=await Nte(this,e,t);return e===O0.SVG?x6t(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function x6t(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function _6t(e,t){return(await Nte(this,O0.Canvas,e,t)).canvas()}async function E6t(e){return(await Nte(this,O0.SVG,e)).svg()}function C6t(e,t,n){return YNe(e,M_,PA,n).parse(t)}function S6t(e){var t=this._runtime.scales;return Nn(t,e)||it("Unrecognized scale or projection: "+e),t[e].value}var t4e="width",n4e="height",Mte="padding",Jge={skip:!0};function r4e(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===Mte?r.left+r.right:0)}function i4e(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===Mte?r.top+r.bottom:0)}function T6t(e){var t=e._signals,n=t[t4e],r=t[n4e],i=t[Mte];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=r4e(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=i4e(e,a.size),o()},{size:r});const s=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function A6t(e,t,n,r,i,o){this.runAfter(s=>{let a=0;s._autosize=0,s.width()!==n&&(a=1,s.signal(t4e,n,Jge),s._resizeWidth.skip(!0)),s.height()!==r&&(a=1,s.signal(n4e,r,Jge),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),a&&s.run("enter"),o&&s.runAfter(l=>l.resize())},!1,1)}function k6t(e){return this._runtime.getState(e||{data:R6t,signals:I6t,recurse:!0})}function R6t(e,t){return t.modified&&fn(t.input.value)&&!e.startsWith("_:vega:_")}function I6t(e,t){return!(e==="parent"||t instanceof M_.proxy)}function D6t(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function P6t(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(nPt(n,t))}function O6t(e,t,n,r){const i=e.element();i&&i.setAttribute("title",N6t(r))}function N6t(e){return e==null?"":fn(e)?o4e(e):Jn(e)&&!Y0(e)?M6t(e):e+""}function M6t(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(fn(n)?o4e(n):s4e(n))}).join(`
`)}function o4e(e){return"["+e.map(s4e).join(", ")+"]"}function s4e(e){return fn(e)?"[]":Jn(e)&&!Y0(e)?"{}":e}function $6t(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e?.();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function a4e(e,t){const n=this;if(t=t||{},Zx.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=ur({},e.locale,t.locale);n.locale(iIe(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||O0.Canvas,n._scenegraph=new n3e;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||O6t,n._redraw=!0,n._handler=new hR().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=e6t(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=C6t(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:ur({},o)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=r4e(n,n._width),n._viewHeight=i4e(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,T6t(n),VMt(n),HMt(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function uP(e,t){return Nn(e._signals,t)?e._signals[t]:it("Unrecognized signal name: "+cn(t))}function l4e(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function Zge(e,t,n,r){let i=l4e(n,r);return i||(i=Ote(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function e0e(e,t,n){const r=l4e(t,n);return r&&t._targets.remove(r),e}Pt(a4e,Zx,{async evaluate(e,t,n){if(await Zx.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,YMt(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&FO(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&XNe(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=uP(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",Qge(e)):Qge(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(iF(e)||it("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Zx.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(uP(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:A6t,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=Ote(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,o;--r>=0;)if(o=n[r].type,i=n[r].handler,e===o&&(t===i||t===i.raw)){this._handler.off(o,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return Zge(this,e,uP(this,e),t)},removeSignalListener(e,t){return e0e(this,uP(this,e),t)},addDataListener(e,t){return Zge(this,e,LM(this,e).values,t)},removeDataListener(e,t){return e0e(this,LM(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=TW(this,null);this._globalCursor=!!e,t&&TW(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:P6t,events:n6t,finalize:i6t,hover:r6t,data:qMt,change:vF,insert:WMt,remove:GMt,scale:S6t,initialize:v6t,toImageURL:w6t,toCanvas:_6t,toSVG:E6t,getState:k6t,setState:D6t,_watchPixelRatio:$6t});const F6t="view",BM="[",zM="]",u4e="{",c4e="}",L6t=":",d4e=",",j6t="@",B6t=">",z6t=/[[\]{}]/,U6t={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let f4e,h4e;function p4e(e,t,n){return f4e=t||F6t,h4e=n||U6t,m4e(e.trim()).map(AW)}function V6t(e){return h4e[e]}function b2(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.includes(a)?--s:r&&r.includes(a)&&++s}return t}function m4e(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=b2(e,i,d4e,BM+u4e,zM+c4e),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function AW(e){return e[0]==="["?H6t(e):q6t(e)}function H6t(e){const t=e.length;let n=1,r;if(n=b2(e,n,zM,BM,zM),n===t)throw"Empty between selector: "+e;if(r=m4e(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==B6t)throw"Expected '>' after between selector: "+e;r=r.map(AW);const i=AW(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function q6t(e){const t={source:f4e},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,l,u;if(e[s-1]===c4e){if(a=e.lastIndexOf(u4e),a>=0){try{r=W6t(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===j6t&&(i=++a),l=b2(e,a,L6t),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=b2(e,a,BM),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=b2(e,a,zM),a===s)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==BM)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||z6t.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):V6t(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function W6t(e){const t=e.split(d4e);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function G6t(e){return Jn(e)?e:{type:e||"pad"}}const NS=e=>+e||0,Y6t=e=>({top:e,bottom:e,left:e,right:e});function K6t(e){return Jn(e)?e.signal?e:{top:NS(e.top),bottom:NS(e.bottom),left:NS(e.left),right:NS(e.right)}:Y6t(NS(e))}const ea=e=>Jn(e)&&!fn(e)?ur({},e):{value:e};function t0e(e,t,n,r){return n!=null?(Jn(n)&&!fn(n)||fn(n)&&n.length&&Jn(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function Ia(e,t,n){for(const r in t)t0e(e,r,t[r]);for(const r in n)t0e(e,r,n[r],"update")}function iC(e,t,n){for(const r in t)n&&Nn(n,r)||(e[r]=ur(e[r]||{},t[r]));return e}function _x(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const $te="mark",Fte="frame",Lte="scope",X6t="axis",Q6t="axis-domain",J6t="axis-grid",Z6t="axis-label",e$t="axis-tick",t$t="axis-title",n$t="legend",r$t="legend-band",i$t="legend-entry",o$t="legend-gradient",g4e="legend-label",s$t="legend-symbol",a$t="legend-title",l$t="title",u$t="title-text",c$t="title-subtitle";function d$t(e,t,n,r,i){const o={},s={};let a,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!_x(l,e)&&hz(o,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===Fte?i.group:n===$te?ur({},i.mark,i[t]):null;for(l in c)u=_x(l,e)||(l==="fill"||l==="stroke")&&(_x("fill",e)||_x("stroke",e)),u||hz(o,l,c[l]);_n(r).forEach(d=>{const f=i.style&&i.style[d];for(const h in f)_x(h,e)||hz(o,h,f[h])}),e=ur({},e);for(l in o)c=o[l],c.signal?(a=a||{})[l]=c:s[l]=c;return e.enter=ur(s,e.enter),a&&(e.update=ur(a,e.update)),e}function hz(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const y4e=e=>ni(e)?cn(e):e.signal?`(${e.signal})`:v4e(e);function wF(e){if(e.gradient!=null)return h$t(e);let t=e.signal?`(${e.signal})`:e.color?f$t(e.color):e.field!=null?v4e(e.field):e.value!==void 0?cn(e.value):void 0;return e.scale!=null&&(t=p$t(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${tN(e.exponent)})`),e.mult!=null&&(t+=`*${tN(e.mult)}`),e.offset!=null&&(t+=`+${tN(e.offset)}`),e.round&&(t=`round(${t})`),t}const cP=(e,t,n,r)=>`(${e}(${[t,n,r].map(wF).join(",")})+'')`;function f$t(e){return e.c?cP("hcl",e.h,e.c,e.l):e.h||e.s?cP("hsl",e.h,e.s,e.l):e.l||e.a?cP("lab",e.l,e.a,e.b):e.r||e.g||e.b?cP("rgb",e.r,e.g,e.b):null}function h$t(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:cn(n));for(;t.length&&Mr(t)==null;)t.pop();return t.unshift(y4e(e.gradient)),`gradient(${t.join(",")})`}function tN(e){return Jn(e)?"("+wF(e)+")":e}function v4e(e){return b4e(Jn(e)?e:{datum:e})}function b4e(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):it("Invalid field reference: "+cn(e));return e.signal||(r=ni(r)?d5(r).map(cn).join("]["):b4e(r)),t+"["+r+"]"}function p$t(e,t){const n=y4e(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+tN(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function m$t(e){let t="";return e.forEach(n=>{const r=wF(n);t+=n.test?`(${n.test})?${r}:`:r}),Mr(t)===":"&&(t+="null"),t}function w4e(e,t,n,r,i,o){const s={};o=o||{},o.encoders={$encode:s},e=d$t(e,t,n,r,i.config);for(const a in e)s[a]=g$t(e[a],t,o,i);return o}function g$t(e,t,n,r){const i={},o={};for(const s in e)e[s]!=null&&(i[s]=v$t(y$t(e[s]),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function y$t(e){return fn(e)?m$t(e):wF(e)}function v$t(e,t,n,r){const i=pp(e,t);return i.$fields.forEach(o=>r[o]=1),ur(n,i.$params),i.$expr}const b$t="outer",w$t=["value","update","init","react","bind"];function n0e(e,t){it(e+' for "outer" push: '+cn(t))}function x4e(e,t){const n=e.name;if(e.push===b$t)t.signals[n]||n0e("No prior signal definition",n),w$t.forEach(r=>{e[r]!==void 0&&n0e("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function kW(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function xF(e,t,n,r){return new kW(e,t,n,r)}function UM(e,t){return xF("operator",e,t)}function gn(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function OA(e,t){return t?{$field:e,$name:t}:{$field:e}}const RW=OA("key");function r0e(e,t){return{$compare:e,$order:t}}function x$t(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const _$t="ascending",E$t="descending";function C$t(e){return Jn(e)?(e.order===E$t?"-":"+")+_F(e.op,e.field):""}function _F(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const jte="scope",IW="view";function Ds(e){return e&&e.signal}function S$t(e){return e&&e.expr}function nN(e){if(Ds(e))return!0;if(Jn(e)){for(const t in e)if(nN(e[t]))return!0}return!1}function tf(e,t){return e??t}function Ob(e){return e&&e.signal||e}const i0e="timer";function NA(e,t){return(e.merge?A$t:e.stream?k$t:e.type?R$t:it("Invalid stream specification: "+cn(e)))(e,t)}function T$t(e){return e===jte?IW:e||IW}function A$t(e,t){const n=e.merge.map(i=>NA(i,t)),r=Bte({merge:n},e,t);return t.addStream(r).id}function k$t(e,t){const n=NA(e.stream,t),r=Bte({stream:n},e,t);return t.addStream(r).id}function R$t(e,t){let n;e.type===i0e?(n=t.event(i0e,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(T$t(e.source),e.type);const r=Bte({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function Bte(e,t,n){let r=t.between;return r&&(r.length!==2&&it('Stream "between" parameter must have 2 entries: '+cn(t)),e.between=[NA(r[0],n),NA(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(I$t(t.marktype,t.markname,t.markrole)),t.source===jte&&r.push("inScope(event.item)"),r.length&&(e.filter=pp("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function I$t(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const D$t={code:"_.$value",ast:{type:"Identifier",value:"value"}};function P$t(e,t,n){const r=e.encode,i={target:n};let o=e.events,s=e.update,a=[];o||it("Signal update missing events specification."),ni(o)&&(o=p4e(o,t.isSubscope()?jte:IW)),o=_n(o).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[N$t(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),r!=null&&(s&&it("Signal encode and update are mutually exclusive."),s="encode(item(),"+cn(r)+")"),i.update=ni(s)?pp(s,t):s.expr!=null?pp(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:D$t,$params:{$value:t.signalRef(s.signal)}}:it("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(ur(O$t(l,t),i)))}function O$t(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):NA(e,t)}}function N$t(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function M$t(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?it("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=pp(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>P$t(i,t,n.id))}const Ai=e=>(t,n,r)=>xF(e,n,t||void 0,r),_4e=Ai("aggregate"),$$t=Ai("axisticks"),E4e=Ai("bound"),Xf=Ai("collect"),o0e=Ai("compare"),F$t=Ai("datajoin"),C4e=Ai("encode"),L$t=Ai("expression"),j$t=Ai("facet"),B$t=Ai("field"),z$t=Ai("key"),U$t=Ai("legendentries"),V$t=Ai("load"),H$t=Ai("mark"),q$t=Ai("multiextent"),W$t=Ai("multivalues"),G$t=Ai("overlap"),Y$t=Ai("params"),S4e=Ai("prefacet"),K$t=Ai("projection"),X$t=Ai("proxy"),Q$t=Ai("relay"),T4e=Ai("render"),J$t=Ai("scale"),X1=Ai("sieve"),Z$t=Ai("sortitems"),A4e=Ai("viewlayout"),e5t=Ai("values");let t5t=0;const k4e={min:"min",max:"max",count:"sum"};function n5t(e,t){const n=e.type||"linear";mPe(n)||it("Unrecognized scale type: "+cn(n)),t.addScale(e.name,{type:n,domain:void 0})}function r5t(e,t){const n=t.getScale(e.name).params;let r;n.domain=R4e(e.domain,e,t),e.range!=null&&(n.range=D4e(e,t,n)),e.interpolate!=null&&h5t(e.interpolate,n),e.nice!=null&&(n.nice=f5t(e.nice,t)),e.bins!=null&&(n.bins=d5t(e.bins,t));for(r in e)Nn(n,r)||r==="name"||(n[r]=rd(e[r],t))}function rd(e,t){return Jn(e)?e.signal?t.signalRef(e.signal):it("Unsupported object: "+cn(e)):e}function rN(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>rd(n,t))}function EF(e){it("Can not find data set: "+cn(e))}function R4e(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&it("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(fn(e)?i5t:e.fields?s5t:o5t)(e,t,n)}function i5t(e,t,n){return e.map(r=>rd(r,n))}function o5t(e,t,n){const r=n.getData(e.data);return r||EF(e.data),B_(t.type)?r.valuesRef(n,e.field,I4e(e.sort,!1)):vPe(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function s5t(e,t,n){const r=e.data,i=e.fields.reduce((o,s)=>(s=ni(s)?{data:r,field:s}:fn(s)||s.signal?a5t(s,n):s,o.push(s),o),[]);return(B_(t.type)?l5t:vPe(t.type)?u5t:c5t)(e,n,i)}function a5t(e,t){const n="_:vega:_"+t5t++,r=Xf({});if(fn(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+cn(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,X1({})]),{data:n,field:"data"}}function l5t(e,t,n){const r=I4e(e.sort,!0);let i,o;const s=n.map(u=>{const c=t.getData(u.data);return c||EF(u.data),c.countsRef(t,u.field,r)}),a={groupby:RW,pulse:s};r&&(i=r.op||"count",o=r.field?_F(i,r.field):"count",a.ops=[k4e[i]],a.fields=[t.fieldRef(o)],a.as=[o]),i=t.add(_4e(a));const l=t.add(Xf({pulse:gn(i)}));return o=t.add(e5t({field:RW,sort:t.sortRef(r),pulse:gn(l)})),gn(o)}function I4e(e,t){return e&&(!e.field&&!e.op?Jn(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?it("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!k4e[e.op]&&it("Multiple domain scales can not be sorted using "+e.op)),e}function u5t(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||EF(i.data),o.domainRef(t,i.field)});return gn(t.add(W$t({values:r})))}function c5t(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||EF(i.data),o.extentRef(t,i.field)});return gn(t.add(q$t({extents:r})))}function d5t(e,t){return e.signal||fn(e)?rN(e,t):t.objectProperty(e)}function f5t(e,t){return e.signal?t.signalRef(e.signal):Jn(e)?{interval:rd(e.interval),step:rd(e.step)}:rd(e)}function h5t(e,t){t.interpolate=rd(e.type||e),e.gamma!=null&&(t.interpolateGamma=rd(e.gamma))}function D4e(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(ni(i)){if(r&&Nn(r,i))return e=ur({},e,{range:r[i]}),D4e(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=B_(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:it("Unrecognized scale range value: "+cn(i))}else if(i.scheme){n.scheme=fn(i.scheme)?rN(i.scheme,t):rd(i.scheme,t),i.extent&&(n.schemeExtent=rN(i.extent,t)),i.count&&(n.schemeCount=rd(i.count,t));return}else if(i.step){n.rangeStep=rd(i.step,t);return}else{if(B_(e.type)&&!fn(i))return R4e(i,e,t);fn(i)||it("Unsupported range type: "+cn(i))}return i.map(o=>(fn(o)?rN:rd)(o,t))}function p5t(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=DW(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=DW(n[i],i,t));t.addProjection(e.name,r)}function DW(e,t,n){return fn(e)?e.map(r=>DW(r,t,n)):Jn(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:it("Unsupported parameter object: "+cn(e)):e}const Qf="top",oC="left",sC="right",Ey="bottom",P4e="center",m5t="vertical",g5t="start",y5t="middle",v5t="end",PW="index",zte="label",b5t="offset",K_="perc",w5t="perc2",ud="value",_R="guide-label",Ute="guide-title",x5t="group-title",_5t="group-subtitle",s0e="symbol",iN="gradient",OW="discrete",NW="size",E5t="shape",C5t="fill",S5t="stroke",T5t="strokeWidth",A5t="strokeDash",k5t="opacity",Vte=[NW,E5t,C5t,S5t,T5t,A5t,k5t],ER={name:1,style:1,interactive:1},Ur={value:0},cd={value:1},CF="group",O4e="rect",Hte="rule",R5t="symbol",Q1="text";function MA(e){return e.type=CF,e.interactive=e.interactive||!1,e}function Uu(e,t){const n=(r,i)=>tf(e[r],tf(t[r],i));return n.isVertical=r=>m5t===tf(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>tf(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>tf(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>tf(e.columns,tf(t.columns,+n.isVertical(!0))),n}function N4e(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function I5t(e,t,n){const r=t.config.style[n];return r&&r[e]}function SF(e,t,n){return`item.anchor === '${g5t}' ? ${e} : item.anchor === '${v5t}' ? ${t} : ${n}`}const qte=SF(cn(oC),cn(sC),cn(P4e));function D5t(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},Jn(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function M4e(e,t){return t?e?Jn(e)?Object.assign({},e,{offset:M4e(e.offset,t)}):{value:e,offset:t}:t:e}function Sc(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=iC(e.encode,t,ER)):e.interactive=!1,e}function P5t(e,t,n,r){const i=Uu(e,n),o=i.isVertical(),s=i.gradientThickness(),a=i.gradientLength();let l,u,c,d,f;o?(u=[0,1],c=[0,0],d=s,f=a):(u=[0,0],c=[1,0],d=a,f=s);const h={enter:l={opacity:Ur,x:Ur,y:Ur,width:ea(d),height:ea(f)},update:ur({},l,{opacity:cd,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:Ur}};return Ia(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),Sc({type:O4e,role:o$t,encode:h},r)}function O5t(e,t,n,r,i){const o=Uu(e,n),s=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let u,c,d,f,h="";s?(u="y",d="y2",c="x",f="width",h="1-"):(u="x",d="x2",c="y",f="height");const m={opacity:Ur,fill:{scale:t,field:ud}};m[u]={signal:h+"datum."+K_,mult:l},m[c]=Ur,m[d]={signal:h+"datum."+w5t,mult:l},m[f]=ea(a);const p={enter:m,update:ur({},m,{opacity:cd}),exit:{opacity:Ur}};return Ia(p,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),Sc({type:O4e,role:r$t,key:ud,from:i,encode:p},r)}const N5t=`datum.${K_}<=0?"${oC}":datum.${K_}>=1?"${sC}":"${P4e}"`,M5t=`datum.${K_}<=0?"${Ey}":datum.${K_}>=1?"${Qf}":"${y5t}"`;function a0e(e,t,n,r){const i=Uu(e,t),o=i.isVertical(),s=ea(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),u,c,d,f,h="";const m={enter:u={opacity:Ur},update:c={opacity:cd,text:{field:zte}},exit:{opacity:Ur}};return Ia(m,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:tf(e.labelLimit,t.gradientLabelLimit)}),o?(u.align={value:"left"},u.baseline=c.baseline={signal:M5t},d="y",f="x",h="1-"):(u.align=c.align={signal:N5t},u.baseline={value:"top"},d="x",f="y"),u[d]=c[d]={signal:h+"datum."+K_,mult:a},u[f]=c[f]=s,s.offset=tf(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+PW}:void 0,Sc({type:Q1,role:g4e,style:_R,key:ud,from:r,encode:m,overlap:l},n)}function $5t(e,t,n,r,i){const o=Uu(e,t),s=n.entries,a=!!(s&&s.interactive),l=s?s.name:void 0,u=o("clipHeight"),c=o("symbolOffset"),d={data:"value"},f=`(${i}) ? datum.${b5t} : datum.${NW}`,h=u?ea(u):{field:NW},m=`datum.${PW}`,p=`max(1, ${i})`;let g,y,v,w,E;h.mult=.5,g={enter:y={opacity:Ur,x:{signal:f,mult:.5,offset:c},y:h},update:v={opacity:cd,x:y.x,y:y.y},exit:{opacity:Ur}};let C=null,S=null;e.fill||(C=t.symbolBaseFillColor,S=t.symbolBaseStrokeColor),Ia(g,{fill:o("symbolFillColor",C),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",S),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),Vte.forEach(I=>{e[I]&&(v[I]=y[I]={scale:e[I],field:ud})});const T=Sc({type:R5t,role:s$t,key:ud,from:d,clip:u?!0:void 0,encode:g},n.symbols),A=ea(c);A.offset=o("labelOffset"),g={enter:y={opacity:Ur,x:{signal:f,offset:A},y:h},update:v={opacity:cd,text:{field:zte},x:y.x,y:y.y},exit:{opacity:Ur}},Ia(g,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const D=Sc({type:Q1,role:g4e,style:_R,key:ud,from:d,encode:g},n.labels);return g={enter:{noBound:{value:!u},width:Ur,height:u?ea(u):Ur,opacity:Ur},exit:{opacity:Ur},update:v={opacity:cd,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(w=`ceil(item.mark.items.length / ${p})`,v.row.signal=`${m}%${w}`,v.column.signal=`floor(${m} / ${w})`,E={field:["row",m]}):(v.row.signal=`floor(${m} / ${p})`,v.column.signal=`${m} % ${p}`,E={field:m}),v.column.signal=`(${i})?${v.column.signal}:${m}`,r={facet:{data:r,name:"value",groupby:PW}},MA({role:Lte,from:r,encode:iC(g,s,ER),marks:[T,D],name:l,interactive:a,sort:E})}function F5t(e,t){const n=Uu(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const Wte='item.orient === "left"',Gte='item.orient === "right"',TF=`(${Wte} || ${Gte})`,L5t=`datum.vgrad && ${TF}`,j5t=SF('"top"','"bottom"','"middle"'),B5t=SF('"right"','"left"','"center"'),z5t=`datum.vgrad && ${Gte} ? (${B5t}) : (${TF} && !(datum.vgrad && ${Wte})) ? "left" : ${qte}`,U5t=`item._anchor || (${TF} ? "middle" : "start")`,V5t=`${L5t} ? (${Wte} ? -90 : 90) : 0`,H5t=`${TF} ? (datum.vgrad ? (${Gte} ? "bottom" : "top") : ${j5t}) : "top"`;function q5t(e,t,n,r){const i=Uu(e,t),o={enter:{opacity:Ur},update:{opacity:cd,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Ur}};return Ia(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:U5t},angle:{signal:V5t},align:{signal:z5t},baseline:{signal:H5t},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),Sc({type:Q1,role:a$t,style:Ute,from:r,encode:o},n)}function W5t(e,t){let n;return Jn(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+l0e(e.path)+")":e.sphere&&(n="geoShape("+l0e(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function l0e(e){return Jn(e)&&e.signal?e.signal:cn(e)}function $4e(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===CF?Lte:t||$te}function G5t(e){return{marktype:e.type,name:e.name||void 0,role:e.role||$4e(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function Y5t(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function Yte(e,t){const n=yIe(e.type);n||it("Unrecognized transform type: "+cn(e.type));const r=xF(n.type.toLowerCase(),null,F4e(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function F4e(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const s=e.params[o];r[s.name]=K5t(s,t,n)}return r}function K5t(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return X5t(e,t,n);if(i===void 0){e.required&&it("Missing required "+cn(t.type)+" parameter: "+cn(e.name));return}else{if(r==="param")return Q5t(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Ds(i)?i.map(o=>u0e(e,o,n)):u0e(e,i,n)}function u0e(e,t,n){const r=e.type;if(Ds(t))return d0e(r)?it("Expression references can not be signals."):pz(r)?n.fieldRef(t):f0e(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||pz(r);return i&&J5t(t)?n.exprRef(t.expr,t.as):i&&Z5t(t)?OA(t.field,t.as):d0e(r)?pp(t,n):eFt(r)?gn(n.getData(t).values):pz(r)?OA(t):f0e(r)?n.compareRef(t):t}}function X5t(e,t,n){return ni(t.from)||it('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function Q5t(e,t,n){const r=t[e.name];return e.array?(fn(r)||it("Expected an array of sub-parameters. Instead: "+cn(r)),r.map(i=>c0e(e,i,n))):c0e(e,r,n)}function c0e(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||it("Unsupported parameter: "+cn(t));const o=ur(F4e(i,t,n),i.key);return gn(n.add(Y$t(o)))}const J5t=e=>e&&e.expr,Z5t=e=>e&&e.field,eFt=e=>e==="data",d0e=e=>e==="expr",pz=e=>e==="field",f0e=e=>e==="compare";function tFt(e,t,n){let r,i,o,s,a;return e?(r=e.facet)&&(t||it("Only group marks can be faceted."),r.field!=null?s=a=oN(r,n):(e.data?a=gn(n.getData(e.data).aggregate):(o=Yte(ur({type:"aggregate",groupby:_n(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=oN(r,n),s=a=gn(n.add(o))),i=n.keyRef(r.groupby,!0))):s=gn(n.add(Xf(null,[{}]))),s||(s=oN(e,n)),{key:i,pulse:s,parent:a}}function oN(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:gn(t.getData(e.data).output)}function u1(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}u1.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],s=null,a=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=gn(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(s=t[a]);return new u1(e,o,i,r,s)};function L4e(e){return ni(e)?e:null}function h0e(e,t,n){const r=_F(n.op,n.field);let i;if(t.ops){for(let o=0,s=t.as.length;o<s;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function MS(e,t,n,r,i,o,s){const a=t[n]||(t[n]={}),l=C$t(o);let u=L4e(i),c,d;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=a[u]),!c){const f=o?{field:RW,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:gn(t.output)};l&&(f.sort=e.sortRef(o)),d=e.add(xF(r,void 0,f)),s&&(t.index[i]=d),c=gn(d),u!=null&&(a[u]=c)}return c}u1.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=L4e(t);let s,a,l;return o!=null&&(e=r.scope,s=i[o]),s?n&&n.field&&h0e(e,s.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:gn(r.output)},n&&n.field&&h0e(e,l,n),a=e.add(_4e(l)),s=e.add(Xf({pulse:gn(a)})),s={agg:a,ref:gn(s)},o!=null&&(i[o]=s)),s.ref},tuplesRef(){return gn(this.values)},extentRef(e,t){return MS(e,this,"extent","extent",t,!1)},domainRef(e,t){return MS(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return MS(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return MS(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return MS(e,this,"indata","tupleindex",t,!0,!0)}};function nFt(e,t,n){const r=e.from.facet,i=r.name,o=oN(r,t);let s;r.name||it("Facet must have a name: "+cn(r)),r.data||it("Facet must reference a data set: "+cn(r)),r.field?s=t.add(S4e({field:t.fieldRef(r.field),pulse:o})):r.groupby?s=t.add(j$t({key:t.keyRef(r.groupby),group:gn(t.proxy(n.parent)),pulse:o})):it("Facet must specify groupby or field: "+cn(r));const a=t.fork(),l=a.add(Xf()),u=a.add(X1({pulse:gn(l)}));a.addData(i,new u1(a,l,l,u)),a.addSignal("parent",null),s.params.subflow={$subflow:a.parse(e).toRuntime()}}function rFt(e,t,n){const r=t.add(S4e({pulse:n.pulse})),i=t.fork();i.add(X1()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function j4e(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,s=e.modify,a=e.values,l=t.add(UM()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,o,s,a].map(d=>d??"null").join(",")+"),0)",c=pp(u,t);l.update=c.$expr,l.params=c.$params}function AF(e,t){const n=$4e(e),r=e.type===CF,i=e.from&&e.from.facet,o=e.overlap;let s=e.layout||n===Lte||n===Fte,a,l,u,c,d,f,h;const m=n===$te||s||i,p=tFt(e.from,r,t);l=t.add(F$t({key:p.key||(e.key?OA(e.key):void 0),pulse:p.pulse,clean:!r}));const g=gn(l);l=u=t.add(Xf({pulse:g})),l=t.add(H$t({markdef:G5t(e),interactive:Y5t(e.interactive,t),clip:W5t(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:gn(l)}));const y=gn(l);l=c=t.add(C4e(w4e(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(S=>{const T=Yte(S,t),A=T.metadata;(A.generates||A.changes)&&it("Mark transforms should not generate new data."),A.nomod||(c.params.mod=!0),T.params.pulse=gn(l),t.add(l=T)}),e.sort&&(l=t.add(Z$t({sort:t.compareRef(e.sort),pulse:gn(l)})));const v=gn(l);(i||s)&&(s=t.add(A4e({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:v})),f=gn(s));const w=t.add(E4e({mark:y,pulse:f||v}));h=gn(w),r&&(m&&(a=t.operators,a.pop(),s&&a.pop()),t.pushState(v,f||h,g),i?nFt(e,t,p):m?rFt(e,t,p):t.parse(e),t.popState(),m&&(s&&a.push(s),a.push(w))),o&&(h=iFt(o,h,t));const E=t.add(T4e({pulse:h})),C=t.add(X1({pulse:gn(E)},void 0,t.parent()));e.name!=null&&(d=e.name,t.addData(d,new u1(t,u,E,C)),e.on&&e.on.forEach(S=>{(S.insert||S.remove||S.toggle)&&it("Marks only support modify triggers."),j4e(S,t,d)}))}function iFt(e,t,n){const r=e.method,i=e.bound,o=e.separation,s={separation:Ds(o)?n.signalRef(o.signal):o,method:Ds(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;s.boundTolerance=Ds(a)?n.signalRef(a.signal):+a,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return gn(n.add(G$t(s)))}function oFt(e,t){const n=t.config.legend,r=e.encode||{},i=Uu(e,n),o=r.legend||{},s=o.name||void 0,a=o.interactive,l=o.style,u={};let c=0,d,f,h;Vte.forEach(w=>e[w]?(u[w]=e[w],c=c||e[w]):0),c||it("Missing valid scale for legend.");const m=sFt(e,t.scaleType(c)),p={title:e.title!=null,scales:u,type:m,vgrad:m!=="symbol"&&i.isVertical()},g=gn(t.add(Xf(null,[p]))),y={enter:{x:{value:0},y:{value:0}}},v=gn(t.add(U$t(f={type:m,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return m===iN?(h=[P5t(e,c,n,r.gradient),a0e(e,n,r.labels,v)],f.count=f.count||t.signalRef(`max(2,2*floor((${Ob(i.gradientLength())})/100))`)):m===OW?h=[O5t(e,c,n,r.gradient,v),a0e(e,n,r.labels,v)]:(d=F5t(e,n),h=[$5t(e,n,r,v,Ob(d.columns))],f.size=uFt(e,t,h[0].marks)),h=[MA({role:i$t,from:g,encode:y,marks:h,layout:d,interactive:a})],p.title&&h.push(q5t(e,n,r.title,g)),AF(MA({role:n$t,from:g,encode:iC(lFt(i,e,n),o,ER),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:a,style:l}),t)}function sFt(e,t){let n=e.type||s0e;return!e.type&&aFt(e)===1&&(e.fill||e.stroke)&&(n=YZ(t)?iN:Sq(t)?OW:s0e),n!==iN?n:Sq(t)?OW:iN}function aFt(e){return Vte.reduce((t,n)=>t+(e[n]?1:0),0)}function lFt(e,t,n){const r={enter:{},update:{}};return Ia(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function uFt(e,t,n){const r=Ob(p0e("size",e,n)),i=Ob(p0e("strokeWidth",e,n)),o=Ob(cFt(n[1].encode,t,_R));return pp(`max(ceil(sqrt(${r})+${i}),${o})`,t)}function p0e(e,t,n){return t[e]?`scale("${t[e]}",datum)`:N4e(e,n[0].encode)}function cFt(e,t,n){return N4e("fontSize",e)||I5t("fontSize",t,n)}const dFt=`item.orient==="${oC}"?-90:item.orient==="${sC}"?90:0`;function fFt(e,t){e=ni(e)?{text:e}:e;const n=Uu(e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,s=i.interactive,a=i.style,l=[],u={},c=gn(t.add(Xf(null,[u])));return l.push(mFt(e,n,hFt(e),c)),e.subtitle&&l.push(gFt(e,n,r.subtitle,c)),AF(MA({role:l$t,from:c,encode:pFt(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:a}),t)}function hFt(e){const t=e.encode;return t&&t.title||ur({name:e.name,interactive:e.interactive,style:e.style},t)}function pFt(e,t){const n={enter:{},update:{}};return Ia(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:qte},angle:{signal:dFt},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),iC(n,t,ER)}function mFt(e,t,n,r){const i={value:0},o=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Ia(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Sc({type:Q1,role:u$t,style:x5t,from:r,encode:s},n)}function gFt(e,t,n,r){const i={value:0},o=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Ia(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Sc({type:Q1,role:c$t,style:_5t,from:r,encode:s},n)}function yFt(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(Yte(r,t))}),e.on&&e.on.forEach(r=>{j4e(r,t,e.name)}),t.addDataPipeline(e.name,vFt(e,t,n))}function vFt(e,t,n){const r=[];let i=null,o=!1,s=!1,a,l,u,c,d;for(e.values?Ds(e.values)||nN(e.format)?(r.push(m0e(t,e)),r.push(i=Dv())):r.push(i=Dv({$ingest:e.values,$format:e.format})):e.url?nN(e.url)||nN(e.format)?(r.push(m0e(t,e)),r.push(i=Dv())):r.push(i=Dv({$request:e.url,$format:e.format})):e.source&&(i=a=_n(e.source).map(f=>gn(t.getData(f).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],d=c.metadata,!i&&!d.source&&r.push(i=Dv()),r.push(c),d.generates&&(s=!0),d.modifies&&!s&&(o=!0),d.source?i=c:d.changes&&(i=null);return a&&(u=a.length-1,r[0]=Q$t({derive:o,pulse:u?a:a[0]}),(o||u)&&r.splice(1,0,Dv())),i||r.push(Dv()),r.push(X1({})),r}function Dv(e){const t=Xf({},e);return t.metadata={source:!0},t}function m0e(e,t){return V$t({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const B4e=e=>e===Ey||e===Qf,kF=(e,t,n)=>Ds(e)?_Ft(e.signal,t,n):e===oC||e===Qf?t:n,ta=(e,t,n)=>Ds(e)?wFt(e.signal,t,n):B4e(e)?t:n,_f=(e,t,n)=>Ds(e)?xFt(e.signal,t,n):B4e(e)?n:t,z4e=(e,t,n)=>Ds(e)?EFt(e.signal,t,n):e===Qf?{value:t}:{value:n},bFt=(e,t,n)=>Ds(e)?CFt(e.signal,t,n):e===sC?{value:t}:{value:n},wFt=(e,t,n)=>U4e(`${e} === '${Qf}' || ${e} === '${Ey}'`,t,n),xFt=(e,t,n)=>U4e(`${e} !== '${Qf}' && ${e} !== '${Ey}'`,t,n),_Ft=(e,t,n)=>Kte(`${e} === '${oC}' || ${e} === '${Qf}'`,t,n),EFt=(e,t,n)=>Kte(`${e} === '${Qf}'`,t,n),CFt=(e,t,n)=>Kte(`${e} === '${sC}'`,t,n),U4e=(e,t,n)=>(t=t!=null?ea(t):t,n=n!=null?ea(n):n,g0e(t)&&g0e(n)?(t=t?t.signal||cn(t.value):null,n=n?n.signal||cn(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[ur({test:e},t)].concat(n||[])),g0e=e=>e==null||Object.keys(e).length===1,Kte=(e,t,n)=>({signal:`${e} ? (${Fx(t)}) : (${Fx(n)})`}),SFt=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${oC}' ? (${Fx(r)}) : `:"")+(n!=null?`${e} === '${Ey}' ? (${Fx(n)}) : `:"")+(i!=null?`${e} === '${sC}' ? (${Fx(i)}) : `:"")+(t!=null?`${e} === '${Qf}' ? (${Fx(t)}) : `:"")+"(null)"}),Fx=e=>Ds(e)?e.signal:e==null?null:cn(e),TFt=(e,t)=>t===0?0:Ds(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},r_=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function rx(e,t,n,r){let i;if(t&&Nn(t,e))return t[e];if(Nn(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[Ute][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[_R][i]}return null}function y0e(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function AFt(e,t){var n=t.config,r=n.style,i=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,a,l,u;if(Ds(s)){const d=y0e([n.axisX,n.axisY]),f=y0e([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(u of d)a[u]=ta(s,rx(u,n.axisX,i,r),rx(u,n.axisY,i,r));l={};for(u of f)l[u]=SFt(s.signal,rx(u,n.axisTop,i,r),rx(u,n.axisBottom,i,r),rx(u,n.axisLeft,i,r),rx(u,n.axisRight,i,r))}else a=s===Qf||s===Ey?n.axisX:n.axisY,l=n["axis"+s[0].toUpperCase()+s.slice(1)];return a||l||o?ur({},i,a,l,o):i}function kFt(e,t,n,r){const i=Uu(e,t),o=e.orient;let s,a;const l={enter:s={opacity:Ur},update:a={opacity:cd},exit:{opacity:Ur}};Ia(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=v0e(e,0),c=v0e(e,1);return s.x=a.x=ta(o,u,Ur),s.x2=a.x2=ta(o,c),s.y=a.y=_f(o,u,Ur),s.y2=a.y2=_f(o,c),Sc({type:Hte,role:Q6t,from:r,encode:l},n)}function v0e(e,t){return{scale:e.scale,range:t}}function RFt(e,t,n,r,i){const o=Uu(e,t),s=e.orient,a=e.gridScale,l=kF(s,1,-1),u=IFt(e.offset,l);let c,d,f;const h={enter:c={opacity:Ur},update:f={opacity:cd},exit:d={opacity:Ur}};Ia(h,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const m={scale:e.scale,field:ud,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},p=ta(s,{signal:"height"},{signal:"width"}),g=a?{scale:a,range:0,mult:l,offset:u}:{value:0,offset:u},y=a?{scale:a,range:1,mult:l,offset:u}:ur(p,{mult:l,offset:u});return c.x=f.x=ta(s,m,g),c.y=f.y=_f(s,m,g),c.x2=f.x2=_f(s,y),c.y2=f.y2=ta(s,y),d.x=ta(s,m),d.y=_f(s,m),Sc({type:Hte,role:J6t,key:ud,from:r,encode:h},n)}function IFt(e,t){if(t!==1)if(!Jn(e))e=Ds(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=ur({},e);for(;n.mult!=null;)if(Jn(n.mult))n=n.mult=ur({},n.mult);else return n.mult=Ds(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function DFt(e,t,n,r,i,o){const s=Uu(e,t),a=e.orient,l=kF(a,-1,1);let u,c,d;const f={enter:u={opacity:Ur},update:d={opacity:cd},exit:c={opacity:Ur}};Ia(f,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const h=ea(i);h.mult=l;const m={scale:e.scale,field:ud,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")};return d.y=u.y=ta(a,Ur,m),d.y2=u.y2=ta(a,h),c.x=ta(a,m),d.x=u.x=_f(a,Ur,m),d.x2=u.x2=_f(a,h),c.y=_f(a,m),Sc({type:Hte,role:e$t,key:ud,from:r,encode:f},n)}function mz(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function PFt(e,t,n,r,i,o){const s=Uu(e,t),a=e.orient,l=e.scale,u=kF(a,-1,1),c=Ob(s("labelFlush")),d=Ob(s("labelFlushOffset")),f=s("labelAlign"),h=s("labelBaseline");let m=c===0||!!c,p;const g=ea(i);g.mult=u,g.offset=ea(s("labelPadding")||0),g.offset.mult=u;const y={scale:l,field:ud,band:.5,offset:M4e(o.offset,s("labelOffset"))},v=ta(a,m?mz(l,c,'"left"','"right"','"center"'):{value:"center"},bFt(a,"left","right")),w=ta(a,z4e(a,"bottom","top"),m?mz(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),E=mz(l,c,`-(${d})`,d,0);m=m&&d;const C={opacity:Ur,x:ta(a,y,g),y:_f(a,y,g)},S={enter:C,update:p={opacity:cd,text:{field:zte},x:C.x,y:C.y,align:v,baseline:w},exit:{opacity:Ur,x:C.x,y:C.y}};Ia(S,{dx:!f&&m?ta(a,E):null,dy:!h&&m?_f(a,E):null}),Ia(S,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:f,baseline:h});const T=s("labelBound");let A=s("labelOverlap");return A=A||T?{separation:s("labelSeparation"),method:A,order:"datum.index",bound:T?{scale:l,orient:a,tolerance:T}:null}:void 0,p.align!==v&&(p.align=r_(p.align,v)),p.baseline!==w&&(p.baseline=r_(p.baseline,w)),Sc({type:Q1,role:Z6t,style:_R,key:ud,from:r,encode:S,overlap:A},n)}function OFt(e,t,n,r){const i=Uu(e,t),o=e.orient,s=kF(o,-1,1);let a,l;const u={enter:a={opacity:Ur,anchor:ea(i("titleAnchor",null)),align:{signal:qte}},update:l=ur({},a,{opacity:cd,text:ea(e.title)}),exit:{opacity:Ur}},c={signal:`lerp(range("${e.scale}"), ${SF(0,1,.5)})`};return l.x=ta(o,c),l.y=_f(o,c),a.angle=ta(o,Ur,TFt(s,90)),a.baseline=ta(o,z4e(o,Ey,Qf),{value:Ey}),l.angle=a.angle,l.baseline=a.baseline,Ia(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),NFt(i,o,u,n),u.update.align=r_(u.update.align,a.align),u.update.angle=r_(u.update.angle,a.angle),u.update.baseline=r_(u.update.baseline,a.baseline),Sc({type:Q1,role:t$t,style:Ute,from:r,encode:u},n)}function NFt(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=r_(ea(a),n.update[l]),!1):!_x(l,r),o=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===o?ea(s):ta(t,ea(s),ea(o))}function MFt(e,t){const n=AFt(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,s=i.interactive,a=i.style,l=Uu(e,n),u=D5t(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},d=gn(t.add(Xf({},[c]))),f=gn(t.add($$t({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let m;return c.grid&&h.push(RFt(e,n,r.grid,f,u)),c.ticks&&(m=l("tickSize"),h.push(DFt(e,n,r.ticks,f,m,u))),c.labels&&(m=c.ticks?m:0,h.push(PFt(e,n,r.labels,f,m,u))),c.domain&&h.push(kFt(e,n,r.domain,d)),c.title&&h.push(OFt(e,n,r.title,d)),AF(MA({role:X6t,from:d,encode:iC($Ft(l,e),i,ER),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:s,style:a}),t)}function $Ft(e,t){const n={enter:{},update:{}};return Ia(n,{orient:e("orient"),offset:e("offset")||0,position:tf(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function V4e(e,t,n){const r=_n(e.signals),i=_n(e.scales);return n||r.forEach(o=>x4e(o,t)),_n(e.projections).forEach(o=>p5t(o,t)),i.forEach(o=>n5t(o,t)),_n(e.data).forEach(o=>yFt(o,t)),i.forEach(o=>r5t(o,t)),(n||r).forEach(o=>M$t(o,t)),_n(e.axes).forEach(o=>MFt(o,t)),_n(e.marks).forEach(o=>AF(o,t)),_n(e.legends).forEach(o=>oFt(o,t)),e.title&&fFt(e.title,t),t.parseLambdas(),t}const FFt=e=>iC({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function LFt(e,t){const n=t.config,r=gn(t.root=t.add(UM())),i=jFt(e,n);i.forEach(u=>x4e(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(Xf()),s=t.add(C4e(w4e(FFt(e.encode),CF,Fte,e.style,t,{pulse:gn(o)}))),a=t.add(A4e({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:gn(s)}));t.operators.pop(),t.pushState(gn(s),gn(a),null),V4e(e,t,i),t.operators.push(a);let l=t.add(E4e({mark:r,pulse:gn(a)}));return l=t.add(T4e({pulse:gn(l)})),l=t.add(X1({pulse:gn(l)})),t.addData("root",new u1(t,o,o,l)),t}function $S(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function jFt(e,t){const n=s=>tf(e[s],t[s]),r=[$S("background",n("background")),$S("autosize",G6t(n("autosize"))),$S("padding",K6t(n("padding"))),$S("width",n("width")||0),$S("height",n("height")||0)],i=r.reduce((s,a)=>(s[a.name]=a,s),{}),o={};return _n(e.signals).forEach(s=>{Nn(i,s.name)?s=ur(i[s.name],s):r.push(s),o[s.name]=s}),_n(t.signals).forEach(s=>{!Nn(o,s.name)&&!Nn(i,s.name)&&r.push(s)}),r}function H4e(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function b0e(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}H4e.prototype=b0e.prototype={parse(e){return V4e(e,this)},fork(){return new b0e(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof kW?gn(e):e;return this.add(X$t({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,o){let s,a;r&&(s=r.data||(r.data={}),a=s[i]||(s[i]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(gn(this.add(X1({pulse:e})))),this._parent.push(t),this._lookup.push(n?gn(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Mr(this._parent)},encode(){return Mr(this._encode)},lookup(){return Mr(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(ni(e))return OA(e,t);e.signal||it("Unsupported field reference: "+cn(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=gn(this.add(B$t(i)))}return r},compareRef(e){let t=!1;const n=o=>Ds(o)?(t=!0,this.signalRef(o.signal)):S$t(o)?(t=!0,this.exprRef(o.expr)):o,r=_n(e.field).map(n),i=_n(e.order).map(n);return t?gn(this.add(o0e({fields:r,orders:i}))):r0e(r,i)},keyRef(e,t){let n=!1;const r=o=>Ds(o)?(n=!0,gn(i[o.signal])):o,i=this.signals;return e=_n(e).map(r),n?gn(this.add(z$t({fields:e,flat:t}))):x$t(e,t)},sortRef(e){if(!e)return e;const t=_F(e.op,e.field),n=e.order||_$t;return n.signal?gn(this.add(o0e({fields:t,orders:this.signalRef(n.signal)}))):r0e(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Nn(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&it("Duplicate signal name: "+cn(e));const n=t instanceof kW?t:this.add(UM(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||it("Unrecognized signal name: "+cn(e)),this.signals[e]},signalRef(e){return this.signals[e]?gn(this.signals[e]):(Nn(this.lambdas,e)||(this.lambdas[e]=this.add(UM(null))),gn(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=pp(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!Jn(e)?e:this.signalRef(e.signal||Xte(e))},exprRef(e,t){const n={expr:pp(e,this)};return t&&(n.expr.$name=t),gn(this.add(L$t(n)))},addBinding(e,t){this.bindings||it("Nested signals do not support binding: "+cn(e)),this.bindings.push(ur({signal:e},t))},addScaleProj(e,t){Nn(this.scales,e)&&it("Duplicate scale or projection name: "+cn(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,J$t(t))},addProjection(e,t){this.addScaleProj(e,K$t(t))},getScale(e){return this.scales[e]||it("Unrecognized scale name: "+cn(e)),this.scales[e]},scaleRef(e){return gn(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Nn(this.data,e)&&it("Duplicate data set name: "+cn(e)),this.data[e]=t},getData(e){return this.data[e]||it("Undefined data set name: "+cn(e)),this.data[e]},addDataPipeline(e,t){return Nn(this.data,e)&&it("Duplicate data set name: "+cn(e)),this.addData(e,u1.fromEntries(this,t))}};function Xte(e){return(fn(e)?BFt:zFt)(e)}function BFt(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(Jn(i)?i.signal||Xte(i):cn(i))}return n+"]"}function zFt(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+cn(r)+":"+(Jn(i)?i.signal||Xte(i):cn(i));return t+"}"}function UFt(){const e="sans-serif",r="#4c78a8",i="#000",o="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function VFt(e,t,n){return Jn(e)||it("Input Vega specification must be an object."),t=f5(UFt(),t,e.config),LFt(e,new H4e(t,n)).toRuntime()}var HFt="6.2.0";ur(M_,NCt,uRt,zRt,TDt,wPt,G3t,T3t,K3t,bOt,ROt,$Ot);const qFt=HFt,WFt=Object.freeze(Object.defineProperty({__proto__:null,Bounds:ps,CanvasHandler:hR,CanvasRenderer:rM,DATE:Pu,DAY:el,DAYOFYEAR:fp,Dataflow:Zx,Debug:Lke,DisallowedObjectProperties:Nke,Error:aJ,EventStream:A5,Gradient:OPe,GroupItem:X5,HOURS:_c,Handler:bee,HybridHandler:E3e,HybridRenderer:$q,Info:Fke,Item:K5,MILLISECONDS:Of,MINUTES:Ec,MONTH:al,Marks:Cc,MultiPulse:PJ,None:Mke,Operator:Di,Parameters:T5,Pulse:X0,QUARTER:Du,RenderType:O0,Renderer:fR,ResourceLoader:jPe,SECONDS:bd,SVGHandler:c3e,SVGRenderer:See,SVGStringRenderer:_3e,Scenegraph:n3e,TIME_UNITS:_J,Transform:Ze,View:a4e,WEEK:Rs,Warn:$ke,YEAR:ka,accessor:zu,accessorFields:sl,accessorName:Io,array:_n,ascending:Gk,bandwidthNRD:$J,bin:wIe,bootstrapCI:xIe,boundClip:O3e,boundContext:lR,boundItem:Dq,boundMark:JPe,boundStroke:Cg,changeset:W1,clampRange:Xke,codegenExpression:NNe,compare:dJ,constant:fl,cumulativeLogNormal:UJ,cumulativeNormal:R5,cumulativeUniform:WJ,dayofyear:ARe,debounce:fJ,defaultLocale:AJ,definition:yIe,densityLogNormal:zJ,densityNormal:FJ,densityUniform:qJ,domChild:As,domClear:Xc,domCreate:D0,domFind:vee,dotbin:_Ie,error:it,expressionFunction:ts,extend:ur,extent:up,extentIndex:Qke,falsy:a0,fastmap:GE,field:yd,flush:Jke,font:tF,fontFamily:dR,fontSize:Ip,format:$O,formatLocale:$4,formats:IJ,hasOwnProperty:Nn,id:Wk,identity:Wl,inferType:sIe,inferTypes:aIe,ingest:ci,inherits:Pt,inrange:Px,interpolate:KZ,interpolateColors:G5,interpolateRange:bPe,intersect:R3e,intersectBoxLine:Ox,intersectPath:ree,intersectPoint:iee,intersectRule:zPe,isArray:fn,isBoolean:hJ,isDate:Y0,isFunction:cr,isIterable:Zke,isNumber:hy,isObject:Jn,isRegExp:pJ,isString:ni,isTuple:C5,key:mJ,lerp:eRe,lineHeight:wy,loader:_5,locale:iIe,logger:jke,lruCache:tRe,markup:Cee,merge:nRe,mergeConfig:f5,multiLineOffset:mee,one:WE,pad:rRe,panLinear:Hke,panLog:qke,panPow:Wke,panSymlog:Gke,parse:VFt,parseExpression:DNe,parseSelector:p4e,path:N5,pathCurves:eee,pathEqual:N3e,pathParse:z_,pathRectangle:$Pe,pathRender:wA,pathSymbols:MPe,pathTrail:FPe,peek:Mr,point:rF,projection:Hee,quantileLogNormal:VJ,quantileNormal:I5,quantileUniform:GJ,quantiles:NJ,quantizeInterpolator:wPe,quarter:Yke,quartiles:MJ,get random(){return wd},randomInteger:LEt,randomKDE:jJ,randomLCG:FEt,randomLogNormal:CIe,randomMixture:SIe,randomNormal:LJ,randomUniform:TIe,read:cIe,regressionConstant:YJ,regressionExp:kIe,regressionLinear:KJ,regressionLoess:DIe,regressionLog:AIe,regressionPoly:IIe,regressionPow:RIe,regressionQuad:XJ,renderModule:iF,repeat:pT,resetDefaultLocale:M_t,resetSVGDefIds:Akt,responseType:uIe,runtimeContext:YNe,sampleCurve:P5,sampleLogNormal:BJ,sampleNormal:k5,sampleUniform:HJ,scale:ii,sceneEqual:Tee,sceneFromJSON:e3e,scenePickVisit:K4,sceneToJSON:ZPe,sceneVisit:Nf,sceneZOrder:oee,scheme:XZ,serializeXML:v3e,setHybridRendererOptions:Ekt,setRandom:MEt,span:Yk,splitAccessPath:d5,stringValue:cn,textMetrics:fc,timeBin:HRe,timeFloor:NRe,timeFormatLocale:hA,timeInterval:QE,timeOffset:FRe,timeSequence:BRe,timeUnitSpecifier:TRe,timeUnits:EJ,toBoolean:gJ,toDate:yJ,toNumber:rl,toSet:Pf,toString:vJ,transform:vIe,transforms:M_,truncate:iRe,truthy:vd,tupleid:yn,typeParsers:pq,utcFloor:MRe,utcInterval:JE,utcOffset:LRe,utcSequence:zRe,utcdayofyear:IRe,utcquarter:Kke,utcweek:DRe,version:qFt,visitArray:h0,week:kRe,writeConfig:h5,zero:_0,zoomLinear:lJ,zoomLog:uJ,zoomPow:I4,zoomSymlog:cJ},Symbol.toStringTag,{value:"Module"})),GFt="5.23.0",YFt={version:GFt};function aC(e,t,n){return e.fields=t||[],e.fname=n,e}function KFt(e){return e.length===1?XFt(e[0]):QFt(e)}const XFt=e=>function(t){return t[e]},QFt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function gz(e){throw Error(e)}function J1(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?u():s=a+1:l==="["?(a>s&&u(),i=s=a+1):l==="]"&&(i||gz("Access path missing open bracket: "+e),i>0&&u(),i=0,s=a+1)}return i&&gz("Access path missing closing bracket: "+e),r&&gz("Access path missing closing quote: "+e),a>s&&(a++,u()),t}function JFt(e,t,n){const r=J1(e);return e=r.length===1?r[0]:e,aC(KFt(r),[e],e)}JFt("id");const ZFt=aC(e=>e,[],"identity");aC(()=>0,[],"zero");aC(()=>1,[],"one");aC(()=>!0,[],"true");aC(()=>!1,[],"false");function eLt(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const tLt=1,q4e=2,nLt=3,rLt=4;function iLt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:eLt,r=e;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=tLt&&n("error","ERROR",arguments),this},warn(){return r>=q4e&&n("warn","WARN",arguments),this},info(){return r>=nLt&&n("log","INFO",arguments),this},debug(){return r>=rLt&&n("log","DEBUG",arguments),this}}}var Jt=Array.isArray;function Xr(e){return e===Object(e)}const w0e=e=>e!=="__proto__";function W4e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const o in i)if(o==="signals")r.signals=oLt(r.signals,i.signals);else{const s=o==="legend"?{layout:1}:o==="style"?!0:null;RF(r,o,i[o],s)}return r},{})}function RF(e,t,n,r){if(!w0e(t))return;let i,o;if(Xr(n)&&!Jt(n)){o=Xr(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?RF(o,i,n[i]):w0e(i)&&(o[i]=n[i])}else e[t]=n}function oLt(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function Xo(e){return e!=null?Jt(e)?e:[e]:[]}function sLt(e){return typeof e=="function"}function cs(e,t){return Object.hasOwn(e,t)}function CR(e){return typeof e=="boolean"}function ao(e){return typeof e=="number"}function nr(e){return typeof e=="string"}function Kr(e){return Jt(e)?"["+e.map(Kr)+"]":Xr(e)||nr(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function Qte(e){return vt(e,"or")}function Jte(e){return vt(e,"and")}function Zte(e){return vt(e,"not")}function sN(e,t){if(Zte(e))sN(e.not,t);else if(Jte(e))for(const n of e.and)sN(n,t);else if(Qte(e))for(const n of e.or)sN(n,t);else t(e)}function i_(e,t){return Zte(e)?{not:i_(e.not,t)}:Jte(e)?{and:e.and.map(n=>i_(n,t))}:Qte(e)?{or:e.or.map(n=>i_(n,t))}:t(e)}const Yn=structuredClone;function G4e(e){throw new Error(e)}function X_(e,t){const n={};for(const r of t)cs(e,r)&&(n[r]=e[r]);return n}function Au(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>Ti(e)).join(",")})`};function Pr(e){if(ao(e))return e;const t=nr(e)?e:Ti(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function MW(e){return e===!1||e===null}function Cr(e,t){return e.includes(t)}function Q_(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function ene(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function Y4e(e,...t){for(const n of t)aLt(e,n??{});return e}function aLt(e,t){for(const n of gt(t))RF(e,n,t[n],!0)}function jh(e,t){const n=[],r={};let i;for(const o of e)i=t(o),!(i in r)&&(r[i]=1,n.push(o));return n}function lLt(e,t){const n=gt(e),r=gt(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function K4e(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function tne(e,t){for(const n of e)if(t.has(n))return!0;return!1}function $W(e){const t=new Set;for(const n of e){const i=J1(n).map((s,a)=>a===0?s:`[${s}]`),o=i.map((s,a)=>i.slice(0,a+1).join(""));for(const s of o)t.add(s)}return t}function nne(e,t){return e===void 0||t===void 0?!0:tne($W(e),$W(t))}function Si(e){return gt(e).length===0}const gt=Object.keys,Ra=Object.values,Cy=Object.entries;function $A(e){return e===!0||e===!1}function oo(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function w2(e,t){return Zte(e)?`!(${w2(e.not,t)})`:Jte(e)?`(${e.and.map(n=>w2(n,t)).join(") && (")})`:Qte(e)?`(${e.or.map(n=>w2(n,t)).join(") || (")})`:t(e)}function VM(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&VM(e[n],t)&&delete e[n],Si(e)}function SR(e){return e.charAt(0).toUpperCase()+e.substr(1)}function rne(e,t="datum"){const n=J1(e),r=[];for(let i=1;i<=n.length;i++){const o=`[${n.slice(0,i).map(Kr).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function X4e(e,t="datum"){return`${t}[${Kr(J1(e).join("."))}]`}function bi(e){return`datum['${e.replaceAll("'","\\'")}']`}function uLt(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function _d(e){return`${J1(e).map(uLt).join("\\.")}`}function c1(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function lC(e){return`${J1(e).join(".")}`}function J_(e){return e?J1(e).length:0}function Qo(...e){return e.find(t=>t!==void 0)}let Q4e=42;function J4e(e){const t=++Q4e;return e?String(e)+t:t}function cLt(){Q4e=42}function Z4e(e){return eMe(e)?e:`__${e}`}function eMe(e){return e.startsWith("__")}function FA(e){if(e!==void 0)return(e%360+360)%360}function IF(e){return ao(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const x0e=Object.getPrototypeOf(structuredClone({}));function uc(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!uc(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;for(const o of e.entries())if(!uc(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==x0e.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==x0e.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!uc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Ti(e){const t=[];return(function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,o;if(Array.isArray(r)){for(o="[",i=0;i<r.length;i++)i&&(o+=","),o+=n(r[i])||"null";return o+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const s=t.push(r)-1,a=Object.keys(r).sort();for(o="",i=0;i<a.length;i++){const l=a[i],u=n(r[l]);u&&(o&&(o+=","),o+=JSON.stringify(l)+":"+u)}return t.splice(s,1),`{${o}}`})(e)}function vt(e,t){return Xr(e)&&cs(e,t)&&e[t]!==void 0}const Nm="row",Mm="column",DF="facet",lo="x",aa="y",Jf="x2",Np="y2",Zy="xOffset",uC="yOffset",Zf="radius",Tg="radius2",Nd="theta",Ag="theta2",eh="latitude",th="longitude",nh="latitude2",Ed="longitude2",ev="time",Nu="color",Mp="fill",$p="stroke",Mu="shape",kg="size",Z1="angle",Rg="opacity",tv="fillOpacity",nv="strokeOpacity",rv="strokeWidth",iv="strokeDash",TR="text",Z_="order",AR="detail",PF="key",d1="tooltip",OF="href",NF="url",MF="description",dLt={x:1,y:1,x2:1,y2:1},tMe={theta:1,theta2:1,radius:1,radius2:1};function nMe(e){return cs(tMe,e)}const ine={longitude:1,longitude2:1,latitude:1,latitude2:1};function rMe(e){switch(e){case eh:return"y";case nh:return"y2";case th:return"x";case Ed:return"x2"}}function iMe(e){return cs(ine,e)}const fLt=gt(ine),one={...dLt,...tMe,...ine,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function o_(e){return e===Nu||e===Mp||e===$p}const oMe={row:1,column:1,facet:1},id=gt(oMe),sne={...one,...oMe},hLt=gt(sne),{order:Ipn,detail:Dpn,tooltip:Ppn,...pLt}=sne,{row:Opn,column:Npn,facet:Mpn,...mLt}=pLt;function gLt(e){return cs(mLt,e)}function sMe(e){return cs(sne,e)}const yLt=[Jf,Np,nh,Ed,Ag,Tg];function aMe(e){return ew(e)!==e}function ew(e){switch(e){case Jf:return lo;case Np:return aa;case nh:return eh;case Ed:return th;case Ag:return Nd;case Tg:return Zf}return e}function Sy(e){if(nMe(e))switch(e){case Nd:return"startAngle";case Ag:return"endAngle";case Zf:return"outerRadius";case Tg:return"innerRadius"}return e}function Fp(e){switch(e){case lo:return Jf;case aa:return Np;case eh:return nh;case th:return Ed;case Nd:return Ag;case Zf:return Tg}}function $u(e){switch(e){case lo:case Jf:return"width";case aa:case Np:return"height"}}function lMe(e){switch(e){case lo:return"xOffset";case aa:return"yOffset";case Jf:return"x2Offset";case Np:return"y2Offset";case Nd:return"thetaOffset";case Zf:return"radiusOffset";case Ag:return"theta2Offset";case Tg:return"radius2Offset"}}function ane(e){switch(e){case lo:return"xOffset";case aa:return"yOffset"}}function vLt(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const bLt=gt(one),{x:$pn,y:Fpn,x2:Lpn,y2:jpn,xOffset:Bpn,yOffset:zpn,latitude:Upn,longitude:Vpn,latitude2:Hpn,longitude2:qpn,theta:Wpn,theta2:Gpn,radius:Ypn,radius2:Kpn,...lne}=one,wLt=gt(lne),une={x:1,y:1},Ig=gt(une);function Jo(e){return cs(une,e)}const cne={theta:1,radius:1},xLt=gt(cne);function $F(e){return e==="width"?lo:aa}const uMe={xOffset:1,yOffset:1};function kR(e){return cs(uMe,e)}const _Lt={time:1};function yz(e){return e in _Lt}const{text:Xpn,tooltip:Qpn,href:Jpn,url:Zpn,description:emn,detail:tmn,key:nmn,order:rmn,...cMe}=lne,ELt=gt(cMe);function CLt(e){return cs(lne,e)}function SLt(e){switch(e){case Nu:case Mp:case $p:case kg:case Mu:case Rg:case rv:case iv:return!0;case tv:case nv:case Z1:case ev:return!1}}const dMe={...une,...cne,...uMe,...cMe},dne=gt(dMe);function Lp(e){return cs(dMe,e)}function TLt(e,t){return kLt(e)[t]}const fMe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:imn,...ALt}=fMe;function kLt(e){switch(e){case Nu:case Mp:case $p:case MF:case AR:case PF:case d1:case OF:case Z_:case Rg:case tv:case nv:case rv:case DF:case Nm:case Mm:return fMe;case lo:case aa:case Zy:case uC:case eh:case th:case ev:return ALt;case Jf:case Np:case nh:case Ed:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case kg:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case iv:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Mu:return{point:"always",geoshape:"always"};case TR:return{text:"always"};case Z1:return{point:"always",square:"always",text:"always"};case NF:return{image:"always"};case Nd:return{text:"always",arc:"always"};case Zf:return{text:"always",arc:"always"};case Ag:case Tg:return{arc:"always"}}}function vz(e){switch(e){case lo:case aa:case Nd:case Zf:case Zy:case uC:case kg:case Z1:case rv:case Rg:case tv:case nv:case ev:case Jf:case Np:case Ag:case Tg:return;case DF:case Nm:case Mm:case Mu:case iv:case TR:case d1:case OF:case NF:case MF:return"discrete";case Nu:case Mp:case $p:return"flexible";case eh:case th:case nh:case Ed:case AR:case PF:case Z_:return}}const RLt={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},ILt={count:1,min:1,max:1};function ng(e){return vt(e,"argmin")}function ov(e){return vt(e,"argmax")}function fne(e){return nr(e)&&cs(RLt,e)}const DLt=new Set(["count","valid","missing","distinct"]);function FF(e){return nr(e)&&DLt.has(e)}function PLt(e){return nr(e)&&Cr(["min","max"],e)}const OLt=new Set(["count","sum","distinct","valid","missing"]),NLt=new Set(["mean","average","median","q1","q3","min","max"]);function hMe(e){return CR(e)&&(e=KF(e,void 0)),"bin"+gt(e).map(t=>LF(e[t])?oo(`_${t}_${Cy(e[t])}`):oo(`_${t}_${e[t]}`)).join("")}function Ui(e){return e===!0||tw(e)&&!e.binned}function va(e){return e==="binned"||tw(e)&&e.binned===!0}function tw(e){return Xr(e)}function LF(e){return vt(e,"param")}function _0e(e){switch(e){case Nm:case Mm:case kg:case Nu:case Mp:case $p:case rv:case Rg:case tv:case nv:case Mu:return 6;case iv:return 4;default:return 10}}function RR(e){return vt(e,"expr")}function wa(e,{level:t}={level:0}){const n=gt(e||{}),r={};for(const i of n)r[i]=t===0?oc(e[i]):wa(e[i],{level:t-1});return r}function pMe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:s,color:a,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:d,subtitleFontWeight:f,subtitleLineHeight:h,subtitlePadding:m,...p}=e,g={...p,...a?{fill:a}:{}},y={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...o!==void 0?{angle:o}:{},...s!==void 0?{limit:s}:{}},v={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...d?{subtitleFontStyle:d}:{},...f?{subtitleFontWeight:f}:{},...h?{subtitleLineHeight:h}:{},...m?{subtitlePadding:m}:{}},w=X_(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:g,subtitleMarkConfig:w,nonMarkTitleProperties:y,subtitle:v}}function y0(e){return nr(e)||Jt(e)&&nr(e[0])}function sn(e){return vt(e,"signal")}function nw(e){return vt(e,"step")}function MLt(e){return Jt(e)?!1:vt(e,"fields")&&!vt(e,"data")}function $Lt(e){return Jt(e)?!1:vt(e,"fields")&&vt(e,"data")}function _m(e){return Jt(e)?!1:vt(e,"field")&&vt(e,"data")}const FLt={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},LLt=gt(FLt),jLt={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},FW=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function mMe(e){const t=Jt(e.condition)?e.condition.map(E0e):E0e(e.condition);return{...oc(e),condition:t}}function oc(e){if(RR(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function E0e(e){if(RR(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Xi(e){if(RR(e)){const{expr:t,...n}=e;return{signal:t,...n}}return sn(e)?e:e!==void 0?{value:e}:void 0}function BLt(e){return sn(e)?e.signal:Kr(e)}function C0e(e){return sn(e)?e.signal:Kr(e.value)}function gf(e){return sn(e)?e.signal:e==null?null:Kr(e)}function zLt(e,t,n){for(const r of n){const i=mp(r,t.markDef,t.config);i!==void 0&&(e[r]=Xi(i))}return e}function gMe(e){return[].concat(e.type,e.style??[])}function Ci(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&vt(t,i)?t[i]:t[e]!==void 0?t[e]:o&&(!i||i===e)?void 0:mp(e,t,n,r)}function mp(e,t,n,{vgChannel:r}={}){const i=LW(e,t,n.style);return Qo(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function LW(e,t,n){return yMe(e,gMe(t),n)}function yMe(e,t,n){t=Xo(t);let r;for(const i of t){const o=n[i];vt(o,e)&&(r=o[e])}return r}function vMe(e,t){return Xo(e).reduce((n,r)=>(n.field.push(Mt(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function bMe(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(uc(i,r))return;n.push(r)}),n}function wMe(e,t){return uc(e,t)||!t?e:e?[...Xo(e),...Xo(t)].join(", "):t}function xMe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((y0(n)||sn(n))&&(y0(r)||sn(r)))return{explicit:e.explicit,value:wMe(n,r)};if(y0(n)||sn(n))return{explicit:e.explicit,value:n};if(y0(r)||sn(r))return{explicit:e.explicit,value:r};if(!y0(n)&&!sn(n)&&!y0(r)&&!sn(r))return{explicit:e.explicit,value:bMe(n,r)};throw new Error("It should never reach here")}function hne(e){return`Invalid specification ${Ti(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const ULt='Autosize "fit" only works for single views and layered views.';function S0e(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function T0e(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function A0e(e){return e?`Dropping "fit-${e}" because spec has discrete ${$u(e)}.`:'Dropping "fit" because spec has discrete size.'}function pne(e){return`Unknown field for ${e}. Cannot calculate view size.`}function k0e(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function VLt(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function HLt(e){return`The "nearest" transform is not supported for ${e} marks.`}function _Me(e){return`Selection not supported for ${e} yet.`}function qLt(e){return`Cannot find a selection named "${e}".`}const WLt="Scale bindings are currently only supported for scales with unbinned, continuous domains.",GLt="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",YLt="Legend bindings are only supported for selections over an individual field or encoding channel.";function KLt(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function XLt(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const QLt="The same selection must be used to override scale domains in a layered view.",JLt='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function ZLt(e){return`Unknown repeated value "${e}".`}function R0e(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const e8t="Multiple timer selections in one unit spec are not supported. Ignoring all but the first.",mne="Animation involving facet, layer, or concat is currently unsupported.";function t8t(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${cn(e)}.`}function n8t(e,t,n,r){return(e.length?"Multiple ":"No ")+`matching ${cn(t)} encoding found for selection ${cn(n.param)}. Using "field": ${cn(r)}.`}const r8t="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function i8t(e){return`Unrecognized parse "${e}".`}function I0e(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const o8t="Attempt to add the same child twice.";function s8t(e){return`Ignoring an invalid transform: ${Ti(e)}.`}const a8t='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function D0e(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function l8t(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Ti(t)} is overridden by a child projection ${Ti(n)}.`}const u8t="Arc marks uses theta channel rather than angle, replacing angle with theta.";function c8t(e){return`${e}Offset dropped because ${e} is continuous`}function d8t(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Ti(n)}}.`}function EMe(e){return`Invalid field type "${e}".`}function f8t(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function h8t(e){return`Invalid aggregation operator "${e}".`}function CMe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function p8t(e){return`Position range does not support relative band size for ${e}.`}function jW(e,t){return`Dropping ${Ti(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const m8t="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function jF(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function g8t(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function y8t(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function v8t(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function b8t(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function bz(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function w8t(e){return`The ${e} for range marks cannot be an expression`}function x8t(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function _8t(e,t){return`Specified orient "${e}" overridden with "${t}".`}function E8t(e){return`Cannot use the scale property "${e}" with non-color channel.`}function C8t(e){return`Cannot use the relative band size with ${e} scale.`}function S8t(e){return`Using unaggregated domain with raw field has no effect (${Ti(e)}).`}function T8t(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function A8t(e){return`Unaggregated domain is currently unsupported for log scale (${Ti(e)}).`}function k8t(e){return`Cannot apply size to non-oriented mark "${e}".`}function R8t(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function I8t(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function SMe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function TMe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function D8t(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Ti(n)} and ${Ti(r)}). Using ${Ti(n)}.`}function P8t(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Ti(n)} and ${Ti(r)}). Using the union of the two domains.`}function O8t(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function N8t(e){return`Dropping sort property ${Ti(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const P0e="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",M8t="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",$8t="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",F8t="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function L8t(e){return`Cannot stack "${e}" if there is already "${e}2".`}function j8t(e){return`Stack is applied to a non-linear scale (${e}).`}function B8t(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function HM(e,t){return`Invalid ${e}: ${Ti(t)}.`}function z8t(e){return`Dropping day from datetime ${Ti(e)} as day cannot be combined with other units.`}function U8t(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function V8t(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function H8t(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function O0e(e){return`1D error band does not support ${e}.`}function AMe(e){return`Channel ${e} is required for "binned" bin.`}function q8t(e){return`Channel ${e} should not be used with "binned" bin.`}function W8t(e){return`Domain for ${e} is required for threshold scale.`}const kMe=iLt(q4e);let f1=kMe;function G8t(e){return f1=e,f1}function Y8t(){return f1=kMe,f1}function gne(...e){f1.error(...e)}function _t(...e){f1.warn(...e)}function K8t(...e){f1.debug(...e)}function rw(e){if(e&&Xr(e)){for(const t of vne)if(vt(e,t))return!0}return!1}const RMe=["january","february","march","april","may","june","july","august","september","october","november","december"],X8t=RMe.map(e=>e.substr(0,3)),IMe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Q8t=IMe.map(e=>e.substr(0,3));function J8t(e){if(IF(e)&&(e=+e),ao(e))return e>4&&_t(HM("quarter",e)),e-1;throw new Error(HM("quarter",e))}function Z8t(e){if(IF(e)&&(e=+e),ao(e))return e-1;{const t=e.toLowerCase(),n=RMe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=X8t.indexOf(r);if(i!==-1)return i;throw new Error(HM("month",e))}}function ejt(e){if(IF(e)&&(e=+e),ao(e))return e%7;{const t=e.toLowerCase(),n=IMe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=Q8t.indexOf(r);if(i!==-1)return i;throw new Error(HM("day",e))}}function yne(e,t){const n=[];if(t&&e.day!==void 0&&gt(e).length>1&&(_t(z8t(e)),e=Yn(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?Z8t(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?J8t(e.quarter):e.quarter;n.push(ao(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?ejt(e.day):e.day;n.push(ao(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function h1(e){const n=yne(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function tjt(e){const n=yne(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function njt(e){const t=yne(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const DMe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},vne=gt(DMe);function rjt(e){return Nn(DMe,e)}function iw(e){return Xr(e)?e.binned:PMe(e)}function PMe(e){return e&&e.startsWith("binned")}function bne(e){return e.startsWith("utc")}function ijt(e){return e.substring(3)}const ojt={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function BF(e){return vne.filter(t=>NMe(e,t))}function OMe(e){const t=BF(e);return t[t.length-1]}function NMe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function sjt(e,t,{end:n}={end:!1}){const r=rne(t),i=bne(e)?"utc":"";function o(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let s;const a={};for(const l of vne)NMe(e,l)&&(a[l]=o(l),s=l);return n&&(a[s]+="+1"),tjt(a)}function MMe(e){if(!e)return;const t=BF(e);return`timeUnitSpecifier(${Ti(t)}, ${Ti(ojt)})`}function ajt(e,t,n){if(!e)return;const r=MMe(e);return`${n||bne(e)?"utc":"time"}Format(${t}, ${r})`}function ra(e){if(!e)return;let t;return nr(e)?PMe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:Xr(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),bne(t.unit)&&(t.utc=!0,t.unit=ijt(t.unit)),t}function ljt(e){const{utc:t,...n}=ra(e);return n.unit?(t?"utc":"")+gt(n).map(r=>oo(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+gt(n).map(r=>oo(`_${r}_${n[r]}`)).join("")}function $Me(e,t=n=>n){const n=ra(e),r=OMe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:s}=FMe(r,n.step),a={...i,[s]:+i[s]+o};return`${t(h1(a))} - ${t(h1(i))}`}}const ujt={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function cjt(e){return Nn(ujt,e)}function FMe(e,t=1){if(cjt(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function djt(e){return vt(e,"param")}function wne(e){return!!e?.field&&e.equal!==void 0}function xne(e){return!!e?.field&&e.lt!==void 0}function _ne(e){return!!e?.field&&e.lte!==void 0}function Ene(e){return!!e?.field&&e.gt!==void 0}function Cne(e){return!!e?.field&&e.gte!==void 0}function Sne(e){if(e?.field){if(Jt(e.range)&&e.range.length===2)return!0;if(sn(e.range))return!0}return!1}function Tne(e){return!!e?.field&&(Jt(e.oneOf)||Jt(e.in))}function fjt(e){return!!e?.field&&e.valid!==void 0}function LMe(e){return Tne(e)||wne(e)||Sne(e)||xne(e)||Ene(e)||_ne(e)||Cne(e)}function _h(e,t){return XF(e,{timeUnit:t,wrapTime:!0})}function hjt(e,t){return e.map(n=>_h(n,t))}function jMe(e,t=!0){const{field:n}=e,r=ra(e.timeUnit),{unit:i,binned:o}=r||{},s=Mt(e,{expr:"datum"}),a=i?`time(${o?s:sjt(i,n)})`:s;if(wne(e))return`${a}===${_h(e.equal,i)}`;if(xne(e)){const l=e.lt;return`${a}<${_h(l,i)}`}else if(Ene(e)){const l=e.gt;return`${a}>${_h(l,i)}`}else if(_ne(e)){const l=e.lte;return`${a}<=${_h(l,i)}`}else if(Cne(e)){const l=e.gte;return`${a}>=${_h(l,i)}`}else{if(Tne(e))return`indexof([${hjt(e.oneOf,i).join(",")}], ${a}) !== -1`;if(fjt(e))return zF(a,e.valid);if(Sne(e)){const{range:l}=wa(e),u=sn(l)?{signal:`${l.signal}[0]`}:l[0],c=sn(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return"inrange("+a+", ["+_h(u,i)+", "+_h(c,i)+"])";const d=[];return u!==null&&d.push(`${a} >= ${_h(u,i)}`),c!==null&&d.push(`${a} <= ${_h(c,i)}`),d.length>0?d.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Ti(e)}`)}function zF(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function pjt(e){return LMe(e)&&e.timeUnit?{...e,timeUnit:ra(e.timeUnit)}:e}const IR={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function mjt(e){return e==="quantitative"||e==="temporal"}function BMe(e){return e==="ordinal"||e==="nominal"}const p1=IR.quantitative,Ane=IR.ordinal,eE=IR.temporal,kne=IR.nominal,cC=IR.geojson;function gjt(e){if(e)switch(e=e.toLowerCase(),e){case"q":case p1:return"quantitative";case"t":case eE:return"temporal";case"o":case Ane:return"ordinal";case"n":case kne:return"nominal";case cC:return"geojson"}}const xa={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",TIME:"time",UTC:"utc",POINT:"point",BAND:"band"},BW={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function yjt(e,t){const n=BW[e],r=BW[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const vjt={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function N0e(e){return vjt[e]}const zMe=new Set(["linear","log","pow","sqrt","symlog"]),UMe=new Set([...zMe,"time","utc"]);function VMe(e){return zMe.has(e)}const HMe=new Set(["quantile","quantize","threshold"]),bjt=new Set([...UMe,...HMe,"sequential","identity"]),wjt=new Set(["ordinal","bin-ordinal","point","band"]);function ia(e){return wjt.has(e)}function Mf(e){return bjt.has(e)}function Bh(e){return UMe.has(e)}function tE(e){return HMe.has(e)}const xjt={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5};function _jt(e){return!nr(e)&&vt(e,"name")}function qMe(e){return vt(e,"param")}function Ejt(e){return vt(e,"unionWith")}function Cjt(e){return Xr(e)&&"field"in e}const Sjt={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:omn,domain:smn,range:amn,rangeMax:lmn,rangeMin:umn,scheme:cmn,...Tjt}=Sjt,Ajt=gt(Tjt);function zW(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Bh(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return Bh(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return Bh(e);case"nice":return Bh(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Mf(e)&&!Cr(["log","time","utc","threshold","quantile"],e)}}function WMe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return o_(e)?void 0:E8t(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function kjt(e,t){return Cr([Ane,kne],t)?e===void 0||ia(e):t===eE?Cr([xa.TIME,xa.UTC,void 0],e):t===p1?VMe(e)||tE(e)||e===void 0:!0}function Rjt(e,t,n=!1){if(!Lp(e))return!1;switch(e){case lo:case aa:case Zy:case uC:case Nd:case Zf:return Bh(t)||t==="band"?!0:t==="point"?!n:!1;case ev:return Cr(["linear","band"],t);case kg:case rv:case Rg:case tv:case nv:case Z1:return Bh(t)||tE(t)||Cr(["band","point","ordinal"],t);case Nu:case Mp:case $p:return t!=="band";case iv:case Mu:return t==="ordinal"||tE(t)}}function Ijt(e){return Xr(e)&&"value"in e}const eu={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},GMe=eu.arc,UF=eu.area,VF=eu.bar,Djt=eu.image,HF=eu.line,qF=eu.point,Pjt=eu.rect,qM=eu.rule,YMe=eu.text,Rne=eu.tick,Ojt=eu.trail,Ine=eu.circle,Dne=eu.square,KMe=eu.geoshape;function sv(e){return["line","area","trail"].includes(e)}function LA(e){return["rect","bar","image","arc","tick"].includes(e)}const Njt=new Set(gt(eu));function gp(e){return vt(e,"type")}const Mjt=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],$jt=["fill","fillOpacity"],Fjt=[...Mjt,...$jt],Ljt={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},M0e=gt(Ljt),wz=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],jjt={area:["line","point"],bar:wz,rect:wz,line:["point"],tick:["bandSize","thickness",...wz]},Bjt={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},zjt={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},XMe=gt(zjt);function m1(e){return vt(e,"band")}const Ujt={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Vjt=5,Pne={binSpacing:0,continuousBandSize:Vjt,minBandSize:.25,timeUnitBandPosition:.5},Hjt={...Pne,binSpacing:1},qjt={...Pne,thickness:1};function Wjt(e){return gp(e)?e.type:e}function QMe(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function One({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){if(!r||!Mf(r)||i)return"always-valid";const o=QMe(Ci("invalid",e,t),{isPath:sv(e.type)});return t.scale?.invalid?.[n]!==void 0?"show":o}function Gjt(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function JMe({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,o=`peek(${r})`,s=t.domainHasZero();return s==="definitely"?{scale:e,value:0}:s==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:o})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:o})`}}function ZMe({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:o}){const s=n?.get("type"),a=Ff(t),l=FF(a?.aggregate),u=One({scaleChannel:e,markDef:i,config:o,scaleType:s,isCountAggregate:l});if(a&&u==="show"){const c=o.scale.invalid?.[e]??"zero-or-min";return{test:zF(Mt(a,{expr:"datum"}),!1),...Yjt(c,n,r)}}}function Yjt(e,t,n){if(Ijt(e)){const{value:r}=e;return sn(r)?{signal:r.signal}:{value:r}}return JMe({scale:t,scaleName:n,mode:"zeroOrMin"})}function Nne(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:o,config:s}=e,a=ew(t),l=Mne(e),u=ZMe({scaleChannel:a,channelDef:n,scale:i,scaleName:o,markDef:r,config:s});return u!==void 0?[u,l]:l}function Kjt(e){const{datum:t}=e;return rw(t)?h1(t):`${Ti(t)}`}function Nb(e,t,n,r){const i={};if(t&&(i.scale=t),jp(e)){const{datum:o}=e;rw(o)?i.signal=h1(o):sn(o)?i.signal=o.signal:RR(o)?i.signal=o.expr:i.value=o}else i.field=Mt(e,n);if(r){const{offset:o,band:s}=r;o&&(i.offset=o),s&&(i.band=s)}return i}function WM({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:o="end",bandPosition:s=.5}){const a=!sn(s)&&0<s&&s<1?"datum":void 0,l=Mt(t,{expr:a,suffix:i}),u=n!==void 0?Mt(n,{expr:a}):Mt(t,{suffix:o,expr:a}),c={};if(s===0||s===1){c.scale=e;const d=s===0?l:u;c.field=d}else{const d=sn(s)?`(1-${s.signal}) * ${l} + ${s.signal} * ${u}`:`${1-s} * ${l} + ${s} * ${u}`;c.signal=`scale("${e}", ${d})`}return r&&(c.offset=r),c}function Xjt({scaleName:e,fieldDef:t}){const n=Mt(t,{expr:"datum"}),r=Mt(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function Mne({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u,bandPosition:c}){if(t){if(Xn(t)){const d=s?.get("type");if(Kl(t)){c??(c=Ty({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:f,timeUnit:h,type:m}=t;if(Ui(f)||c&&h&&m===eE)return a?.impute?Nb(t,o,{binSuffix:"mid"},{offset:l}):c&&!ia(d)?WM({scaleName:o,fieldOrDatumDef:t,bandPosition:c,offset:l}):Nb(t,o,MR(t,e)?{binSuffix:"range"}:{},{offset:l});if(va(f)){if(St(n))return WM({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});_t(AMe(e===lo?Jf:Np))}}return Nb(t,o,ia(d)?{binSuffix:"range"}:{},{offset:l,band:d==="band"?c??t.bandPosition??.5:void 0})}else if($f(t)){const d=t.value,f=l?{offset:l}:{};return{...x2(e,d),...f}}}return sLt(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function x2(e,t){return Cr(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:Cr(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:Xi(t)}function g1(e){return e&&e!=="number"&&e!=="time"}function e6e(e,t,n){return`${e}(${t}${n?`, ${Ti(n)}`:""})`}const Qjt="  ";function $ne({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){if(g1(n))return yf({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const s=t6e(e,r,i),a=nE(e);if(t===void 0&&n===void 0&&o.customFormatTypes){if(a==="quantitative"){if(i&&o.normalizedNumberFormatType)return yf({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:r,config:o});if(o.numberFormatType)return yf({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:r,config:o})}if(a==="temporal"&&o.timeFormatType&&St(e)&&e.timeUnit===void 0)return yf({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:r,config:o})}if(iE(e)){const l=Zjt({field:s,timeUnit:St(e)?ra(e.timeUnit)?.unit:void 0,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:ow(e)&&e.scale?.type===xa.UTC});return l?{signal:l}:void 0}if(t=UW({type:a,specifiedFormat:t,config:o,normalizeStack:i}),St(e)&&Ui(e.bin)){const l=Mt(e,{expr:r,binSuffix:"end"});return{signal:DR(s,l,t,n,o)}}else return t||nE(e)==="quantitative"?{signal:`${i6e(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function t6e(e,t,n){return St(e)?n?`${Mt(e,{expr:t,suffix:"end"})}-${Mt(e,{expr:t,suffix:"start"})}`:Mt(e,{expr:t}):Kjt(e)}function yf({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:s}){if(s??(s=t6e(e,r,i)),s!=="datum.value"&&St(e)&&Ui(e.bin)){const a=Mt(e,{expr:r,binSuffix:"end"});return{signal:DR(s,a,t,n,o)}}return{signal:e6e(n,s,t)}}function n6e(e,t,n,r,i,o){if(!(nr(r)&&g1(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&nE(e)==="quantitative"&&(i.normalizedNumberFormatType&&rE(e)&&e.stack==="normalize"||i.numberFormatType))){if(rE(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return UW({type:"quantitative",config:i,normalizeStack:!0});if(iE(e)){const s=St(e)?ra(e.timeUnit)?.unit:void 0;return s===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:Jjt({specifiedFormat:n,timeUnit:s,config:i,omitTimeFormatConfig:o})}return UW({type:t,specifiedFormat:n,config:i})}}function r6e(e,t,n){if(e&&(sn(e)||e==="number"||e==="time"))return e;if(iE(t)&&n!=="time"&&n!=="utc")return St(t)&&ra(t?.timeUnit)?.utc?"utc":"time"}function UW({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(nr(t))return t;if(e===p1)return r?n.normalizedNumberFormat:n.numberFormat}function Jjt({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:MMe(t)}:r?void 0:n.timeFormat)}function i6e(e,t){return`format(${e}, "${t||""}")`}function $0e(e,t,n,r){return g1(n)?e6e(n,e,t):i6e(e,(nr(t)?t:void 0)??r.numberFormat)}function DR(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return DR(e,t,i.numberFormat,i.numberFormatType,i);const o=$0e(e,n,r,i),s=$0e(t,n,r,i);return`${zF(e,!1)} ? "null" : ${o} + "${Qjt}" + ${s}`}function Zjt({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:o}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=nr(n)?n:i,`${o?"utc":"time"}Format(${e}, '${n}')`):ajt(t,e,o)}const WF="min",eBt={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function F0e(e){return cs(eBt,e)}function tBt(e){return vt(e,"encoding")}function $m(e){return e&&(e.op==="count"||vt(e,"field"))}function o6e(e){return e&&Jt(e)}function PR(e){return vt(e,"row")||vt(e,"column")}function Fne(e){return vt(e,"header")}function GF(e){return vt(e,"facet")}function nBt(e){return vt(e,"param")}function rBt(e){return!nr(e)&&vt(e,"repeat")}function L0e(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function Lne(e){return vt(e,"sort")}function Ty({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Xn(e)&&e.bandPosition!==void 0)return e.bandPosition;if(St(e)){const{timeUnit:i,bin:o}=e;if(i&&!t)return mp("timeUnitBandPosition",n,r);if(Ui(o))return .5}}function s6e({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:o,useVlSizeChannel:s}){const a=$u(e),l=Ci(s?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(St(t)){const{timeUnit:u,bin:c}=t;if(u&&!n)return{band:mp("timeUnitBandSize",r,i)};if(Ui(c)&&!ia(o))return{band:1}}if(LA(r.type))return o?ia(o)?i[r.type]?.discreteBandSize||{band:1}:i[r.type]?.continuousBandSize:i[r.type]?.discreteBandSize}function a6e(e,t,n,r){return Ui(e.bin)||e.timeUnit&&Kl(e)&&e.type==="temporal"?Ty({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function l6e(e){return vt(e,"sort")&&!vt(e,"field")}function OR(e){return vt(e,"condition")}function YF(e){const t=e?.condition;return!!t&&!Jt(t)&&St(t)}function NR(e){const t=e?.condition;return!!t&&!Jt(t)&&Xn(t)}function iBt(e){const t=e?.condition;return!!t&&(Jt(t)||$f(t))}function St(e){return vt(e,"field")||e?.aggregate==="count"}function nE(e){return e?.type}function jp(e){return vt(e,"datum")}function L0(e){return Kl(e)&&!YM(e)||GM(e)}function j0e(e){return Kl(e)&&e.type==="quantitative"&&!e.bin||GM(e)}function GM(e){return jp(e)&&ao(e.datum)}function Xn(e){return St(e)||jp(e)}function Kl(e){return e&&(vt(e,"field")||e.aggregate==="count")&&vt(e,"type")}function $f(e){return vt(e,"value")}function ow(e){return vt(e,"scale")||vt(e,"sort")}function rE(e){return vt(e,"axis")||vt(e,"stack")||vt(e,"impute")}function u6e(e){return vt(e,"legend")}function c6e(e){return vt(e,"format")||vt(e,"formatType")}function oBt(e){return Au(e,["legend","axis","header","scale"])}function sBt(e){return vt(e,"op")}function Mt(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(lBt(e))n=Z4e("count");else{let s;if(!t.nofn)if(sBt(e))s=e.op;else{const{bin:a,aggregate:l,timeUnit:u}=e;Ui(a)?(s=hMe(a),i=(t.binSuffix??"")+(t.suffix??"")):l?ov(l)?(o=`["${n}"]`,n=`argmax_${l.argmax}`):ng(l)?(o=`["${n}"]`,n=`argmin_${l.argmin}`):s=String(l):u&&!iw(u)&&(s=ljt(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?lC(n):t.expr?X4e(n,t.expr)+o:_d(n)+o}function YM(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return St(e)&&!!e.bin;case"temporal":return!1}throw new Error(EMe(e.type))}function aBt(e){return ow(e)&&tE(e.scale?.type)}function lBt(e){return e.aggregate==="count"}function uBt(e,t){const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if(o==="count")return t.countTitle;if(Ui(r))return`${n} (binned)`;if(i&&!iw(i)){const s=ra(i)?.unit;if(s)return`${n} (${BF(s).join("-")})`}else if(o)return ov(o)?`${n} for max ${o.argmax}`:ng(o)?`${n} for min ${o.argmin}`:`${SR(o)} of ${n}`;return n}function cBt(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(ov(t))return`${i} for argmax(${t.argmax})`;if(ng(t))return`${i} for argmin(${t.argmin})`;const o=r&&!iw(r)?ra(r):void 0,s=t||o?.unit||o?.maxbins&&"timeunit"||Ui(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const d6e=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return cBt(e);default:return uBt(e,t)}};let f6e=d6e;function h6e(e){f6e=e}function dBt(){h6e(d6e)}function s_(e,t,{allowDisabling:n,includeDefault:r=!0}){const i=jne(e)?.title;if(!St(e))return i??e.title;const o=e,s=r?Bne(o,t):void 0;return n?Qo(i,o.title,s):i??o.title??s}function jne(e){if(rE(e)&&e.axis)return e.axis;if(u6e(e)&&e.legend)return e.legend;if(Fne(e)&&e.header)return e.header}function Bne(e,t){return f6e(e,t)}function KM(e){if(c6e(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=jne(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function fBt(e,t){switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(Lne(e)&&Jt(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!ov(n)&&!ng(n))return"quantitative";if(ow(e)&&e.scale?.type)switch(BW[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Ff(e){if(St(e))return e;if(YF(e))return e.condition}function Is(e){if(Xn(e))return e;if(NR(e))return e.condition}function p6e(e,t,n,r={}){if(nr(e)||ao(e)||CR(e)){const i=nr(e)?"string":ao(e)?"number":"boolean";return _t(d8t(t,i,e)),{value:e}}return Xn(e)?XM(e,t,n,r):NR(e)?{...e,condition:XM(e.condition,t,n,r)}:e}function XM(e,t,n,r){if(c6e(e)){const{format:i,formatType:o,...s}=e;if(g1(o)&&!n.customFormatTypes)return _t(D0e(t)),XM(s,t,n,r)}else{const i=rE(e)?"axis":u6e(e)?"legend":Fne(e)?"header":null;if(i&&e[i]){const{format:o,formatType:s,...a}=e[i];if(g1(s)&&!n.customFormatTypes)return _t(D0e(t)),XM({...e,[i]:a},t,n,r)}}return St(e)?zne(e,t,r):hBt(e)}function hBt(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=ao(n)?"quantitative":nr(n)?"nominal":rw(n)?"temporal":void 0,{...e,type:t}}function zne(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:o,field:s}=e,a={...e};if(!n&&r&&!fne(r)&&!ov(r)&&!ng(r)&&(_t(h8t(r)),delete a.aggregate),i&&(a.timeUnit=ra(i)),s&&(a.field=`${s}`),Ui(o)&&(a.bin=KF(o,t)),va(o)&&!Jo(t)&&_t(q8t(t)),Kl(a)){const{type:l}=a,u=gjt(l);l!==u&&(a.type=u),l!=="quantitative"&&FF(r)&&(_t(f8t(l,r)),a.type="quantitative")}else if(!aMe(t)){const l=fBt(a,t);a.type=l}if(Kl(a)){const{compatible:l,warning:u}=pBt(a,t)||{};l===!1&&_t(u)}if(Lne(a)&&nr(a.sort)){const{sort:l}=a;if(F0e(l))return{...a,sort:{encoding:l}};const u=l.substring(1);if(l.charAt(0)==="-"&&F0e(u))return{...a,sort:{encoding:u,order:"descending"}}}if(Fne(a)){const{header:l}=a;if(l){const{orient:u,...c}=l;if(u)return{...a,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return a}function KF(e,t){return CR(e)?{maxbins:_0e(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:_0e(t)}:e}const ix={compatible:!0};function pBt(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Nm:case Mm:case DF:return YM(e)?ix:{compatible:!1,warning:y8t(t)};case lo:case aa:case Zy:case uC:case Nu:case Mp:case $p:case TR:case AR:case PF:case d1:case OF:case NF:case Z1:case Nd:case Zf:case MF:return ix;case th:case Ed:case eh:case nh:return n!==p1?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:ix;case Rg:case tv:case nv:case rv:case kg:case Ag:case Tg:case Jf:case Np:case ev:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:ix;case Mu:case iv:return!YM(e)&&!aBt(e)?{compatible:!1,warning:v8t(t)}:ix;case Z_:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:ix}}function iE(e){const{formatType:t}=KM(e);return t==="time"||!t&&mBt(e)}function mBt(e){return e&&(e.type==="temporal"||St(e)&&!!e.timeUnit)}function XF(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){const o=t&&ra(t)?.unit;let s=o||n==="temporal",a;return RR(e)?a=e.expr:sn(e)?a=e.signal:rw(e)?(s=!0,a=h1(e)):(nr(e)||ao(e))&&s&&(a=`datetime(${Ti(e)})`,rjt(o)&&(ao(e)&&e<1e4||nr(e)&&isNaN(Date.parse(e)))&&(a=h1({[o]:e}))),a?r&&s?`time(${a})`:a:i?void 0:Ti(e)}function m6e(e,t){const{type:n}=e;return t.map(r=>{const i=St(e)&&!iw(e.timeUnit)?e.timeUnit:void 0,o=XF(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return o!==void 0?{signal:o}:r})}function MR(e,t){return Ui(e.bin)?Lp(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const B0e={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function $R(e){return e?.condition}const g6e=["domain","grid","labels","ticks","title"],gBt={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},y6e={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},yBt={...y6e,style:1,labelExpr:1,encoding:1};function z0e(e){return cs(yBt,e)}const vBt={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},v6e=gt(vBt);function Dg(e){return vt(e,"mark")}class QF{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return Dg(t)?Wjt(t.mark)===this.name:!1}}function Mb(e,t){const n=e&&e[t];return n?Jt(n)?Q_(n,r=>!!r.field):St(n)||YF(n):!1}function b6e(e,t){const n=e&&e[t];return n?Jt(n)?Q_(n,r=>!!r.field):St(n)||jp(n)||NR(n):!1}function w6e(e,t){if(Jo(t)){const n=e[t];if((St(n)||jp(n))&&(BMe(n.type)||St(n)&&n.timeUnit)){const r=ane(t);return b6e(e,r)}}return!1}function x6e(e){return Q_(hLt,t=>{if(Mb(e,t)){const n=e[t];if(Jt(n))return Q_(n,r=>!!r.aggregate);{const r=Ff(n);return r&&!!r.aggregate}}return!1})}function _6e(e,t){const n=[],r=[],i=[],o=[],s={};return Une(e,(a,l)=>{if(St(a)){const{field:u,aggregate:c,bin:d,timeUnit:f,...h}=a;if(c||f||d){const p=jne(a)?.title;let g=Mt(a,{forAs:!0});const y={...p?[]:{title:s_(a,t,{allowDisabling:!0})},...h,field:g};if(c){let v;if(ov(c)?(v="argmax",g=Mt({op:"argmax",field:c.argmax},{forAs:!0}),y.field=`${g}.${u}`):ng(c)?(v="argmin",g=Mt({op:"argmin",field:c.argmin},{forAs:!0}),y.field=`${g}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(v=c),v){const w={op:v,as:g};u&&(w.field=u),o.push(w)}}else if(n.push(g),Kl(a)&&Ui(d)){if(r.push({bin:d,field:u,as:g}),n.push(Mt(a,{binSuffix:"end"})),MR(a,l)&&n.push(Mt(a,{binSuffix:"range"})),Jo(l)){const v={field:`${g}_end`};s[`${l}2`]=v}y.bin="binned",aMe(l)||(y.type=p1)}else if(f&&!iw(f)){i.push({timeUnit:f,field:u,as:g});const v=Kl(a)&&a.type!==eE&&"time";v&&(l===TR||l===d1?y.formatType=v:CLt(l)?y.legend={formatType:v,...y.legend}:Jo(l)&&(y.axis={formatType:v,...y.axis}))}s[l]=y}else n.push(u),s[l]=e[l]}else s[l]=e[l]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:s}}function bBt(e,t,n){const r=TLt(t,n);if(r){if(r==="binned"){const i=e[t===Jf?lo:aa];return!!(St(i)&&St(e[t])&&va(i.bin))}}else return!1;return!0}function wBt(e,t,n,r){const i={};for(const o of gt(e))sMe(o)||_t(g8t(o));for(let o of bLt){if(!e[o])continue;const s=e[o];if(kR(o)){const a=vLt(o),l=i[a];if(St(l)&&mjt(l.type)&&St(s)&&!l.timeUnit){_t(c8t(a));continue}}if(o==="angle"&&t==="arc"&&!e.theta&&(_t(u8t),o=Nd),!bBt(e,o,t)){_t(jF(o,t));continue}if(o===kg&&t==="line"&&Ff(e[o])?.aggregate){_t(m8t);continue}if(o===Nu&&(n?"fill"in e:"stroke"in e)){_t(CMe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(o===AR||o===Z_&&!Jt(s)&&!$f(s)||o===d1&&Jt(s)){if(s){if(o===Z_){const a=e[o];if(l6e(a)){i[o]=a;continue}}i[o]=Xo(s).reduce((a,l)=>(St(l)?a.push(zne(l,o)):_t(jW(l,o)),a),[])}}else{if(o===d1&&s===null)i[o]=null;else if(!St(s)&&!jp(s)&&!$f(s)&&!OR(s)&&!sn(s)){_t(jW(s,o));continue}i[o]=p6e(s,o,r)}}return i}function JF(e,t){const n={};for(const r of gt(e)){const i=p6e(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function xBt(e){const t=[];for(const n of gt(e))if(Mb(e,n)){const r=e[n],i=Xo(r);for(const o of i)St(o)?t.push(o):YF(o)&&t.push(o.condition)}return t}function Une(e,t,n){if(e)for(const r of gt(e)){const i=e[r];if(Jt(i))for(const o of i)t.call(n,o,r);else t.call(n,i,r)}}function _Bt(e,t,n,r){return e?gt(e).reduce((i,o)=>{const s=e[o];return Jt(s)?s.reduce((a,l)=>t.call(r,a,l,o),i):t.call(r,i,s,o)},n):n}function E6e(e,t){return gt(t).reduce((n,r)=>{switch(r){case lo:case aa:case OF:case MF:case NF:case Jf:case Np:case Zy:case uC:case Nd:case Ag:case Zf:case Tg:case ev:case eh:case th:case nh:case Ed:case TR:case Mu:case Z1:case d1:return n;case Z_:if(e==="line"||e==="trail")return n;case AR:case PF:{const i=t[r];if(Jt(i)||St(i))for(const o of Xo(i))o.aggregate||n.push(Mt(o,{}));return n}case kg:if(e==="trail")return n;case Nu:case Mp:case $p:case Rg:case tv:case nv:case iv:case rv:{const i=Ff(t[r]);return i&&!i.aggregate&&n.push(Mt(i,{})),n}}},[])}function EBt(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(Jt(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(i||(i=[]),i.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return Jt(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function VW(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:a})=>{const l=r?` of ${Vne(t)}`:"";return{field:s+t.field,type:t.type,title:sn(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),o=xBt(n).map(oBt);return{tooltip:[...i,...jh(o,Pr)]}}function Vne(e){const{title:t,field:n}=e;return Qo(t,n)}function Hne(e,t,n,r,i){const{scale:o,axis:s}=n;return({partName:a,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:d={}})=>{const f=Vne(n);return C6e(e,a,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...f!==void 0?{title:f}:{},...o!==void 0?{scale:o}:{},...s!==void 0?{axis:s}:{}},...nr(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...d}})}}function C6e(e,t,n,r){const{clip:i,color:o,opacity:s}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...s?{opacity:s}:{},...gp(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...CR(e[t])?{}:e[t]}}]:[]}function S6e(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",o=r[i],s=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:dP(o,n),continuousAxisChannelDef2:dP(s,n),continuousAxisChannelDefError:dP(a,n),continuousAxisChannelDefError2:dP(l,n),continuousAxis:i}}function dP(e,t){if(e?.aggregate){const{aggregate:n,...r}=e;return n!==t&&_t(H8t(n,t)),r}else return e}function T6e(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(gp(n)&&n.orient)return n.orient;if(L0(i)){if(L0(o)){const s=St(i)&&i.aggregate,a=St(o)&&o.aggregate;if(!s&&a===t)return"vertical";if(!a&&s===t)return"horizontal";if(s===t&&a===t)throw new Error("Both x and y cannot have aggregate");return iE(o)&&!iE(i)?"horizontal":"vertical"}return"horizontal"}else{if(L0(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const QM="boxplot",CBt=["box","median","outliers","rule","ticks"],SBt=new QF(QM,k6e);function A6e(e){return ao(e)?"tukey":e}function k6e(e,{config:t}){e={...e,encoding:JF(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:o,...s}=e,a=gp(n)?n:{type:n};i&&_t(_Me("boxplot"));const l=a.extent??t.boxplot.extent,u=Ci("size",a,t),c=a.invalid,d=A6e(l),{bins:f,timeUnits:h,transform:m,continuousAxisChannelDef:p,continuousAxis:g,groupby:y,aggregate:v,encodingWithoutContinuousAxis:w,ticksOrient:E,boxOrient:C,customTooltipWithoutAggregatedField:S}=TBt(e,l,t),T=lC(p.field),{color:A,size:D,...I}=w,P=ee=>Hne(a,g,p,ee,t.boxplot),N=P(I),$=P(w),O=(Xr(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",j=P({...I,...D?{size:D}:{},color:{condition:{test:`${bi(`lower_box_${p.field}`)} >= ${bi(`upper_box_${p.field}`)}`,...A||{value:O}}}}),B=VW([{fieldPrefix:d==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:d==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],p,w),H={type:"tick",color:"black",opacity:1,orient:E,invalid:c,aria:!1},q=d==="min-max"?B:VW([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],p,w),Y=[...N({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:q}),...N({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:q}),...N({partName:"ticks",mark:H,positionPrefix:"lower_whisker",extraEncoding:q}),...N({partName:"ticks",mark:H,positionPrefix:"upper_whisker",extraEncoding:q})],V=[...d!=="tukey"?Y:[],...$({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:C,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:B}),...j({partName:"median",mark:{type:"tick",invalid:c,...Xr(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:E,aria:!1},positionPrefix:"mid_box",extraEncoding:B})];if(d==="min-max")return{...s,transform:(s.transform??[]).concat(m),layer:V};const L=bi(`lower_box_${p.field}`),U=bi(`upper_box_${p.field}`),z=`(${U} - ${L})`,G=`${L} - ${l} * ${z}`,Q=`${U} + ${l} * ${z}`,te=bi(p.field),de={joinaggregate:R6e(p.field),groupby:y},se={transform:[{filter:`(${G} <= ${te}) && (${te} <= ${Q})`},{aggregate:[{op:"min",field:p.field,as:`lower_whisker_${T}`},{op:"max",field:p.field,as:`upper_whisker_${T}`},{op:"min",field:`lower_box_${p.field}`,as:`lower_box_${T}`},{op:"max",field:`upper_box_${p.field}`,as:`upper_box_${T}`},...v],groupby:y}],layer:Y},{tooltip:ae,...he}=I,{scale:ie,axis:le}=p,Ce=Vne(p),X=Au(le,["title"]),fe=C6e(a,"outliers",t.boxplot,{transform:[{filter:`(${te} < ${G}) || (${te} > ${Q})`}],mark:"point",encoding:{[g]:{field:p.field,type:p.type,...Ce!==void 0?{title:Ce}:{},...ie!==void 0?{scale:ie}:{},...Si(X)?{}:{axis:X}},...he,...A?{color:A}:{},...S?{tooltip:S}:{}}})[0];let ce;const ne=[...f,...h,de];return fe?ce={transform:ne,layer:[fe,se]}:(ce=se,ce.transform.unshift(...ne)),{...s,layer:[ce,{transform:m,layer:V}]}}function R6e(e){const t=lC(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function TBt(e,t,n){const r=T6e(e,QM),{continuousAxisChannelDef:i,continuousAxis:o}=S6e(e,r,QM),s=i.field,a=lC(s),l=A6e(t),u=[...R6e(s),{op:"median",field:s,as:`mid_box_${a}`},{op:"min",field:s,as:(l==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:s,as:(l==="min-max"?"upper_whisker_":"max_")+a}],c=l==="min-max"||l==="tukey"?[]:[{calculate:`${bi(`upper_box_${a}`)} - ${bi(`lower_box_${a}`)}`,as:`iqr_${a}`},{calculate:`min(${bi(`upper_box_${a}`)} + ${bi(`iqr_${a}`)} * ${t}, ${bi(`max_${a}`)})`,as:`upper_whisker_${a}`},{calculate:`max(${bi(`lower_box_${a}`)} - ${bi(`iqr_${a}`)} * ${t}, ${bi(`min_${a}`)})`,as:`lower_whisker_${a}`}],{[o]:d,...f}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:m}=EBt(f),{bins:p,timeUnits:g,aggregate:y,groupby:v,encoding:w}=_6e(m,n),E=r==="vertical"?"horizontal":"vertical",C=r,S=[...p,...g,{aggregate:[...y,...u],groupby:v},...c];return{bins:p,timeUnits:g,transform:S,groupby:v,aggregate:y,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:w,ticksOrient:E,boxOrient:C,customTooltipWithoutAggregatedField:h}}const qne="errorbar",ABt=["ticks","rule"],kBt=new QF(qne,I6e);function I6e(e,{config:t}){e={...e,encoding:JF(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:s,markDef:a,outerSpec:l,tooltipEncoding:u}=D6e(e,qne,t);delete o.size;const c=Hne(a,i,r,o,t.errorbar),d=a.thickness,f=a.size,h={type:"tick",orient:s,aria:!1,...d!==void 0?{thickness:d}:{},...f!==void 0?{size:f}:{}},m=[...c({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...d!==void 0?{size:d}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...m.length>1?{layer:m}:{...m[0]}}}function RBt(e,t){const{encoding:n}=e;if(IBt(n))return{orient:T6e(e,t),inputType:"raw"};const r=DBt(n),i=PBt(n),o=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(Xn(a)&&Xn(l))throw new Error(`${t} cannot have both x2 and y2`);if(Xn(a)){if(L0(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Xn(l)){if(L0(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(Xn(l)&&!Xn(a))throw new Error(`${t} cannot have xError2 without xError`);if(Xn(c)&&!Xn(u))throw new Error(`${t} cannot have yError2 without yError`);if(Xn(a)&&Xn(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Xn(a)){if(L0(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Xn(u)){if(L0(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function IBt(e){return(Xn(e.x)||Xn(e.y))&&!Xn(e.x2)&&!Xn(e.y2)&&!Xn(e.xError)&&!Xn(e.xError2)&&!Xn(e.yError)&&!Xn(e.yError2)}function DBt(e){return Xn(e.x2)||Xn(e.y2)}function PBt(e){return Xn(e.xError)||Xn(e.xError2)||Xn(e.yError)||Xn(e.yError2)}function D6e(e,t,n){const{mark:r,encoding:i,params:o,projection:s,...a}=e,l=gp(r)?r:{type:r};o&&_t(_Me(t));const{orient:u,inputType:c}=RBt(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:f,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:m,continuousAxis:p}=S6e(e,u,t),{errorBarSpecificAggregate:g,postAggregateCalculates:y,tooltipSummary:v,tooltipTitleWithFieldName:w}=OBt(l,d,f,h,m,c,t,n),{[p]:E,[p==="x"?"x2":"y2"]:C,[p==="x"?"xError":"yError"]:S,[p==="x"?"xError2":"yError2"]:T,...A}=i,{bins:D,timeUnits:I,aggregate:P,groupby:N,encoding:$}=_6e(A,n),O=[...P,...g],j=c!=="raw"?[]:N,B=VW(v,d,$,w);return{transform:[...a.transform??[],...D,...I,...O.length===0?[]:[{aggregate:O,groupby:j}],...y],groupby:j,continuousAxisChannelDef:d,continuousAxis:p,encodingWithoutContinuousAxis:$,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:B}}function OBt(e,t,n,r,i,o,s,a){let l=[],u=[];const c=t.field;let d,f=!1;if(o==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,m=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(m==="iqr")&&_t(V8t(h,m,s)),m==="stderr"||m==="stdev")l=[{op:m,field:c,as:`extent_${c}`},{op:h,field:c,as:`center_${c}`}],u=[{calculate:`${bi(`center_${c}`)} + ${bi(`extent_${c}`)}`,as:`upper_${c}`},{calculate:`${bi(`center_${c}`)} - ${bi(`extent_${c}`)}`,as:`lower_${c}`}],d=[{fieldPrefix:"center_",titlePrefix:SR(h)},{fieldPrefix:"upper_",titlePrefix:U0e(h,m,"+")},{fieldPrefix:"lower_",titlePrefix:U0e(h,m,"-")}],f=!0;else{let p,g,y;m==="ci"?(p="mean",g="ci0",y="ci1"):(p="median",g="q1",y="q3"),l=[{op:g,field:c,as:`lower_${c}`},{op:y,field:c,as:`upper_${c}`},{op:p,field:c,as:`center_${c}`}],d=[{fieldPrefix:"upper_",titlePrefix:s_({field:c,aggregate:y,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:s_({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:s_({field:c,aggregate:p,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&_t(U8t(e.center,e.extent)),o==="aggregated-upper-lower"?(d=[],u=[{calculate:bi(n.field),as:`upper_${c}`},{calculate:bi(c),as:`lower_${c}`}]):o==="aggregated-error"&&(d=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`${bi(c)} + ${bi(r.field)}`,as:`upper_${c}`}],i?u.push({calculate:`${bi(c)} + ${bi(i.field)}`,as:`lower_${c}`}):u.push({calculate:`${bi(c)} - ${bi(r.field)}`,as:`lower_${c}`}));for(const h of u)d.push({fieldPrefix:h.as.substring(0,6),titlePrefix:c1(c1(h.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:d,tooltipTitleWithFieldName:f}}function U0e(e,t,n){return`${SR(e)} ${n} ${t}`}const Wne="errorband",NBt=["band","borders"],MBt=new QF(Wne,P6e);function P6e(e,{config:t}){e={...e,encoding:JF(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:s,outerSpec:a,tooltipEncoding:l}=D6e(e,Wne,t),u=s,c=Hne(u,i,r,o,t.errorband),d=e.encoding.x!==void 0&&e.encoding.y!==void 0;let f={type:d?"area":"rect"},h={type:d?"line":"rule"};const m={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return d?(f={...f,...m,ariaRoleDescription:"errorband"},h={...h,...m,aria:!1}):u.interpolate?_t(O0e("interpolate")):u.tension&&_t(O0e("tension")),{...a,transform:n,layer:[...c({partName:"band",mark:f,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:l})]}}const O6e={};function Gne(e,t,n){const r=new QF(e,t);O6e[e]={normalizer:r,parts:n}}function $Bt(){return gt(O6e)}Gne(QM,k6e,CBt);Gne(qne,I6e,ABt);Gne(Wne,P6e,NBt);const FBt=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],N6e={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},M6e={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},LBt=gt(N6e),jBt=gt(M6e),BBt={header:1,headerRow:1,headerColumn:1,headerFacet:1},$6e=gt(BBt),F6e=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],zBt={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},UBt={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Lf="_vgsid_",VBt={point:{on:"click",fields:[Lf],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function Yne(e){return e==="legend"||!!e?.legend}function xz(e){return Yne(e)&&Xr(e)}function Kne(e){return!!e?.select}function L6e(e){const t=[];for(const n of e||[]){if(Kne(n))continue;const{expr:r,bind:i,...o}=n;if(i&&r){const s={...o,bind:i,init:r};t.push(s)}else{const s={...o,...r?{update:r}:{},...i?{bind:i}:{}};t.push(s)}}return t}function HBt(e){return ZF(e)||Qne(e)||Xne(e)}function Xne(e){return vt(e,"concat")}function ZF(e){return vt(e,"vconcat")}function Qne(e){return vt(e,"hconcat")}function j6e({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function yp(e){return vt(e,"step")}function V0e(e){return vt(e,"view")||vt(e,"width")||vt(e,"height")}const H0e=20,qBt={align:1,bounds:1,center:1,columns:1,spacing:1},WBt=gt(qBt);function GBt(e,t,n){const r=n[t],i={},{spacing:o,columns:s}=r;o!==void 0&&(i.spacing=o),s!==void 0&&(GF(e)&&!PR(e.facet)||Xne(e))&&(i.columns=s),ZF(e)&&(i.columns=1);for(const a of WBt)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=ao(l)?l:{row:l.row??o,column:l.column??o}}else i[a]=e[a];return i}function HW(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function qW(e,t){const n=JM(e,t);return yp(n)?n.step:B6e}function JM(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return Qo(n,{step:e.step})}const B6e=20,YBt={continuousWidth:200,continuousHeight:200,step:B6e},KBt={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:YBt,mark:Bjt,arc:{},area:{},bar:Hjt,circle:{},geoshape:{},image:{},line:{},point:{},rect:Pne,rule:{color:"black"},square:{},text:{color:"black"},tick:qjt,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:xjt,projection:{},legend:zBt,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:VBt,style:{},title:{},facet:{spacing:H0e},concat:{spacing:H0e},normalizedNumberFormat:".0%"},nm=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],q0e={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},W0e={blue:nm[0],orange:nm[1],red:nm[2],teal:nm[3],green:nm[4],yellow:nm[5],purple:nm[6],pink:nm[7],brown:nm[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function XBt(e={}){return{signals:[{name:"color",value:Xr(e)?{...W0e,...e}:W0e}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function QBt(e){return{signals:[{name:"fontSize",value:Xr(e)?{...q0e,...e}:q0e}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function JBt(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function z6e(e){const t=gt(e||{}),n={};for(const r of t){const i=e[r];n[r]=$R(i)?mMe(i):oc(i)}return n}function ZBt(e){const t=gt(e),n={};for(const r of t)n[r]=z6e(e[r]);return n}const e9t=[...XMe,...v6e,...$6e,"background","padding","legend","lineBreak","scale","style","title","view"];function U6e(e={}){const{color:t,font:n,fontSize:r,selection:i,...o}=e,s=W4e({},Yn(KBt),n?JBt(n):{},t?XBt(t):{},r?QBt(r):{},o||{});i&&RF(s,"selection",i,!0);const a=Au(s,e9t);for(const l of["background","lineBreak","padding"])s[l]&&(a[l]=oc(s[l]));for(const l of XMe)s[l]&&(a[l]=wa(s[l]));for(const l of v6e)s[l]&&(a[l]=z6e(s[l]));for(const l of $6e)s[l]&&(a[l]=wa(s[l]));if(s.legend&&(a.legend=wa(s.legend)),s.scale){const{invalid:l,...u}=s.scale,c=wa(l,{level:1});a.scale={...wa(u),...gt(c).length>0?{invalid:c}:{}}}return s.style&&(a.style=ZBt(s.style)),s.title&&(a.title=wa(s.title)),s.view&&(a.view=wa(s.view)),a}const t9t=new Set(["view",...Njt]),n9t=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],r9t={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...jjt};function i9t(e){e=Yn(e);for(const t of n9t)delete e[t];if(e.axis)for(const t in e.axis)$R(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of FBt)delete e.legend[t];if(e.mark){for(const t of M0e)delete e.mark[t];e.mark.tooltip&&Xr(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(L6e(e.params)),delete e.params);for(const t of t9t){for(const r of M0e)delete e[t][r];const n=r9t[t];if(n)for(const r of n)delete e[t][r];s9t(e,t)}for(const t of $Bt())delete e[t];o9t(e);for(const t in e)Xr(e[t])&&Si(e[t])&&delete e[t];return Si(e)?void 0:e}function o9t(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=pMe(e.title);Si(t)||(e.style["group-title"]={...e.style["group-title"],...t}),Si(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),Si(r)?delete e.title:e.title=r}function s9t(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const o={...i,...e.style[n??t]};Si(o)||(e.style[n??t]=o),delete e[t]}function eL(e){return vt(e,"layer")}function a9t(e){return vt(e,"repeat")}function l9t(e){return!Jt(e.repeat)&&vt(e.repeat,"layer")}class Jne{map(t,n){return GF(t)?this.mapFacet(t,n):a9t(t)?this.mapRepeat(t,n):Qne(t)?this.mapHConcat(t,n):ZF(t)?this.mapVConcat(t,n):Xne(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(eL(t))return this.mapLayer(t,n);if(Dg(t))return this.mapUnit(t,n);throw new Error(hne(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(o=>this.map(o,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const u9t={zero:1,center:1,normalize:1};function c9t(e){return cs(u9t,e)}const d9t=new Set([GMe,VF,UF,qM,qF,Ine,Dne,HF,YMe,Rne]),f9t=new Set([VF,UF,GMe]);function ox(e){return St(e)&&nE(e)==="quantitative"&&!e.bin}function G0e(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",o=t==="x"&&["bar","area"].includes(r),s=e[t],a=e[i];if(St(s)&&St(a))if(ox(s)&&ox(a)){if(s.stack)return t;if(a.stack)return i;const l=St(s)&&!!s.aggregate,u=St(a)&&!!a.aggregate;if(l!==u)return l?t:i;if(o){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(ox(s))return t;if(ox(a))return i}else{if(ox(s))return o&&n==="vertical"?void 0:t;if(ox(a))return o&&n==="horizontal"?void 0:i}}function h9t(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function V6e(e,t){const n=gp(e)?e:{type:e},r=n.type;if(!d9t.has(r))return null;const i=G0e(t,"x",n)||G0e(t,"theta",n);if(!i)return null;const o=t[i],s=St(o)?Mt(o,{}):void 0,a=h9t(i),l=[],u=new Set;if(t[a]){const p=t[a],g=St(p)?Mt(p,{}):void 0;g&&g!==s&&(l.push(a),u.add(g))}const c=a==="x"?"xOffset":"yOffset",d=t[c],f=St(d)?Mt(d,{}):void 0;f&&f!==s&&(l.push(c),u.add(f));const h=wLt.reduce((p,g)=>{if(g!=="tooltip"&&Mb(t,g)){const y=t[g];for(const v of Xo(y)){const w=Ff(v);if(w.aggregate)continue;const E=Mt(w,{});(!E||!u.has(E))&&p.push({channel:g,fieldDef:w})}}return p},[]);let m;return o.stack!==void 0?CR(o.stack)?m=o.stack?"zero":null:m=o.stack:f9t.has(r)&&(m="zero"),!m||!c9t(m)||x6e(t)&&h.length===0?null:(o?.scale?.type&&o?.scale?.type!==xa.LINEAR&&o?.stack&&_t(j8t(o.scale.type)),Xn(t[Fp(i)])?(o.stack!==void 0&&_t(L8t(i)),null):(St(o)&&o.aggregate&&!OLt.has(o.aggregate)&&_t(B8t(o.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:o.impute===null?!1:sv(r),stackBy:h,offset:m}))}function H6e(e,t,n){const r=wa(e),i=Ci("orient",r,n);if(r.orient=y9t(r.type,t,i),i!==void 0&&i!==r.orient&&_t(_8t(r.orient,i)),r.type==="bar"&&r.orient){const l=Ci("cornerRadiusEnd",r,n);if(l!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:Ujt[r.orient];for(const c of u)r[c]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const o=Ci("opacity",r,n),s=Ci("fillOpacity",r,n);return o===void 0&&s===void 0&&(r.opacity=m9t(r.type,t)),Ci("cursor",r,n)===void 0&&(r.cursor=p9t(r,t,n)),r}function p9t(e,t,n){return t.href||e.href||Ci("href",e,n)?"pointer":e.cursor}function m9t(e,t){if(Cr([qF,Rne,Ine,Dne],e)&&!x6e(t))return .7}function g9t(e,t,{graticule:n}){if(n)return!1;const r=mp("filled",e,t),i=e.type;return Qo(r,i!==qF&&i!==HF&&i!==qM)}function y9t(e,t,n){switch(e){case qF:case Ine:case Dne:case YMe:case Pjt:case Djt:return}const{x:r,y:i,x2:o,y2:s}=t;switch(e){case VF:if(St(r)&&(va(r.bin)||St(i)&&i.aggregate&&!r.aggregate))return"vertical";if(St(i)&&(va(i.bin)||St(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||o){if(n)return n;if(!o)return(St(r)&&r.type===p1&&!Ui(r.bin)||GM(r))&&St(i)&&va(i.bin)?"horizontal":"vertical";if(!s)return(St(i)&&i.type===p1&&!Ui(i.bin)||GM(i))&&St(r)&&va(r.bin)?"vertical":"horizontal"}case qM:if(o&&!(St(r)&&va(r.bin))&&s&&!(St(i)&&va(i.bin)))return;case UF:if(s)return St(i)&&va(i.bin)?"horizontal":"vertical";if(o)return St(r)&&va(r.bin)?"vertical":"horizontal";if(e===qM){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case HF:case Rne:{const a=j0e(r),l=j0e(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const u=Kl(r)&&r.type===eE,c=Kl(i)&&i.type===eE;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}function v9t(e){const{point:t,line:n,...r}=e;return gt(r).length>1?r:r.type}function b9t(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:Au(e[t],["point","line"])});return e}function _z(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Xr(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Xr(t.point)?t.point:{}:void 0}function Y0e(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class w9t{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(Dg(t)){const{mark:r,encoding:i}=t,o=gp(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!_z(o,n[o.type],i);case"area":return!!_z(o,n[o.type],i)||!!Y0e(o,n[o.type])}}return!1}run(t,n,r){const{config:i}=n,{params:o,projection:s,mark:a,name:l,encoding:u,...c}=t,d=JF(u,i),f=gp(a)?a:{type:a},h=_z(f,i[f.type],d),m=f.type==="area"&&Y0e(f,i[f.type]),p=[{name:l,...o?{params:o}:{},mark:v9t({...f.type==="area"&&f.opacity===void 0&&f.fillOpacity===void 0?{opacity:.7}:{},...f}),encoding:Au(d,["shape"])}],g=V6e(H6e(f,d,i),d);let y=d;if(g){const{fieldChannel:v,offset:w}=g;y={...d,[v]:{...d[v],...w?{stack:w}:{}}}}return y=Au(y,["y2","x2"]),m&&p.push({...s?{projection:s}:{},mark:{type:"line",...X_(f,["clip","interpolate","tension","tooltip"]),...m},encoding:y}),h&&p.push({...s?{projection:s}:{},mark:{type:"point",opacity:1,filled:!0,...X_(f,["clip","tooltip"]),...h},encoding:y}),r({...c,layer:p},{...n,config:b9t(i)})}}function x9t(e,t){return t?PR(e)?W6e(e,t):q6e(e,t):e}function Ez(e,t){return t?W6e(e,t):e}function WW(e,t,n){const r=t[e];if(rBt(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};_t(ZLt(r.repeat));return}return t}function q6e(e,t){if(e=WW("field",e,t),e!==void 0){if(e===null)return null;if(Lne(e)&&$m(e.sort)){const n=WW("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function K0e(e,t){if(St(e))return q6e(e,t);{const n=WW("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function X0e(e,t){if(Xn(e)){const n=K0e(e,t);if(n)return n;if(OR(e))return{condition:e.condition}}else{if(NR(e)){const n=K0e(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function W6e(e,t){const n={};for(const r in e)if(vt(e,r)){const i=e[r];if(Jt(i))n[r]=i.map(o=>X0e(o,t)).filter(o=>o);else{const o=X0e(i,t);o!==void 0&&(n[r]=o)}}return n}class _9t{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(Dg(t)){const{encoding:n,mark:r}=t;if(r==="line"||gp(r)&&r.type==="line")for(const i of yLt){const o=ew(i),s=n[o];if(n[i]&&(St(s)&&!va(s.bin)||jp(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:o}=t;return _t(x8t(!!i.x2,!!i.y2)),r({...t,mark:Xr(o)?{...o,type:"rule"}:"rule"},n)}}class E9t extends Jne{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[SBt,kBt,MBt,new w9t,new _9t]}map(t,n){if(Dg(t)){const r=Mb(t.encoding,Nm),i=Mb(t.encoding,Mm),o=Mb(t.encoding,DF);if(r||i||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,o=Ez(t.encoding,n.repeater),s={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...o?{encoding:o}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(s,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(s,n.config))return l.run(s,n,a);return s}mapRepeat(t,n){return l9t(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...o}=t,{row:s,column:a,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return s||a?this.mapRepeat({...t,repeat:{...s?{row:s}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:i}},n):{...o,layer:l.map(d=>{const f={...u,layer:d},h=`${(i.name?`${i.name}_`:"")+c}child__layer_${oo(d)}`,m=this.mapLayerOrUnit(i,{...n,repeater:f,repeaterPrefix:h});return m.name=h,m})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:o,...s}=t;!Jt(r)&&t.columns&&(t=Au(t,["columns"]),_t(R0e("repeat")));const a=[],{repeater:l={},repeaterPrefix:u=""}=n,c=!Jt(r)&&r.row||[l?l.row:null],d=!Jt(r)&&r.column||[l?l.column:null],f=Jt(r)&&r||[l?l.repeat:null];for(const m of f)for(const p of c)for(const g of d){const y={repeat:m,row:p,column:g,layer:l.layer},v=(i.name?`${i.name}_`:"")+u+"child__"+(Jt(r)?`${oo(m)}`:(r.row?`row_${oo(p)}`:"")+(r.column?`column_${oo(g)}`:"")),w=this.map(i,{...n,repeater:y,repeaterPrefix:v});w.name=v,a.push(Au(w,["data"]))}const h=Jt(r)?t.columns:r.column?r.column.length:1;return{data:i.data??o,align:"all",...s,columns:h,concat:a}}mapFacet(t,n){const{facet:r}=t;return PR(r)&&t.columns&&(t=Au(t,["columns"]),_t(R0e("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:o,parentProjection:s,config:a}=n,l=J0e({parentProjection:s,projection:i}),u=Q0e({parentEncoding:o,encoding:Ez(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...u?{encoding:u}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:o,...s}=t.encoding,{mark:a,width:l,projection:u,height:c,view:d,params:f,encoding:h,...m}=t,{facetMapping:p,layout:g}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},n),y=Ez(s,n.repeater);return this.mapFacet({...m,...g,facet:p,spec:{...l?{width:l}:{},...c?{height:c}:{},...d?{view:d}:{},...u?{projection:u}:{},mark:a,encoding:y,...f?{params:f}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:o}=t;if(r||i){o&&_t(b8t([...r?[Nm]:[],...i?[Mm]:[]]));const s={},a={};for(const l of[Nm,Mm]){const u=t[l];if(u){const{align:c,center:d,spacing:f,columns:h,...m}=u;s[l]=m;for(const p of["align","center","spacing"])u[p]!==void 0&&(a[p]??(a[p]={}),a[p][l]=u[p])}}return{facetMapping:s,layout:a}}else{const{align:s,center:a,spacing:l,columns:u,...c}=o;return{facetMapping:x9t(c,n.repeater),layout:{...s?{align:s}:{},...a?{center:a}:{},...l?{spacing:l}:{},...u?{columns:u}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:o,projection:s,...a}=t,l={...i,parentEncoding:Q0e({parentEncoding:n,encoding:o,layer:!0}),parentProjection:J0e({parentProjection:r,projection:s})};return super.mapLayer({...a,...t.name?{name:[l.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}},l)}}function Q0e({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...gt(e),...gt(t)]);for(const o of i){const s=t[o],a=e[o];if(Xn(s)){const l={...a,...s};r[o]=l}else NR(s)?r[o]={...s,condition:{...a,...s.condition}}:s||s===null?r[o]=s:(n||$f(a)||sn(a)||Xn(a)||Jt(a))&&(r[o]=a)}}else r=t;return!r||Si(r)?void 0:r}function J0e(e){const{parentProjection:t,projection:n}=e;return t&&n&&_t(l8t({parentProjection:t,projection:n})),n??t}function Zne(e){return vt(e,"filter")}function C9t(e){return vt(e,"stop")}function G6e(e){return vt(e,"lookup")}function S9t(e){return vt(e,"data")}function T9t(e){return vt(e,"param")}function A9t(e){return vt(e,"pivot")}function k9t(e){return vt(e,"density")}function R9t(e){return vt(e,"quantile")}function I9t(e){return vt(e,"regression")}function D9t(e){return vt(e,"loess")}function P9t(e){return vt(e,"sample")}function O9t(e){return vt(e,"window")}function N9t(e){return vt(e,"joinaggregate")}function M9t(e){return vt(e,"flatten")}function $9t(e){return vt(e,"calculate")}function Y6e(e){return vt(e,"bin")}function F9t(e){return vt(e,"impute")}function L9t(e){return vt(e,"timeUnit")}function j9t(e){return vt(e,"aggregate")}function B9t(e){return vt(e,"stack")}function z9t(e){return vt(e,"fold")}function U9t(e){return vt(e,"extent")&&!vt(e,"density")&&!vt(e,"regression")}function V9t(e){return e.map(t=>Zne(t)?{filter:i_(t.filter,pjt)}:t)}class H9t extends Jne{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=Z0e(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=Z0e(t,n),t.encoding){const r={};for(const[i,o]of Cy(t.encoding))r[i]=K6e(o,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:Cy(r).map(([o,s])=>{const{init:a,bind:l,empty:u,...c}=s;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[o]=u!=="none";for(const d of Ra(n.selectionPredicates[o]??{}))d.empty=u!=="none";return{name:o,value:a,select:c,bind:l}})}:t}}function Z0e(e,t){const{transform:n,...r}=e;if(n){const i=n.map(o=>{if(Zne(o))return{filter:GW(o,t)};if(Y6e(o)&&tw(o.bin))return{...o,bin:X6e(o.bin)};if(G6e(o)){const{selection:s,...a}=o.from;return s?{...o,from:{param:s,...a}}:o}return o});return{...r,transform:i}}return e}function K6e(e,t){const n=Yn(e);if(St(n)&&tw(n.bin)&&(n.bin=X6e(n.bin)),ow(n)&&n.scale?.domain?.selection){const{selection:r,...i}=n.scale.domain;n.scale.domain={...i,...r?{param:r}:{}}}if(OR(n))if(Jt(n.condition))n.condition=n.condition.map(r=>{const{selection:i,param:o,test:s,...a}=r;return o?r:{...a,test:GW(r,t)}});else{const{selection:r,param:i,test:o,...s}=K6e(n.condition,t);n.condition=i?n.condition:{...s,test:GW(n.condition,t)}}return n}function X6e(e){const t=e.extent;if(t?.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function GW(e,t){const n=r=>i_(r,i=>{var o;const s=t.emptySelections[i]??!0,a={param:i,empty:s};return(o=t.selectionPredicates)[i]??(o[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):i_(e.test||e.filter,r=>r.selection?n(r.selection):r)}class YW extends Jne{map(t,n){const r=n.selections??[];if(t.params&&!Dg(t)){const i=[];for(const o of t.params)Kne(o)?r.push(o):i.push(o);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),o=[];for(const s of r)if(!s.views||!s.views.length)o.push(s);else for(const a of s.views)(nr(a)&&(a===t.name||i.includes(a))||Jt(a)&&a.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&o.push(s);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=YW.prototype[e];YW.prototype[e]=function(n,r){return t.call(this,n,q9t(n,r))}}function q9t(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function Q6e(e,t){t===void 0&&(t=U6e(e.config));const n=K9t(e,t),{width:r,height:i}=e,o=X9t(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const W9t=new E9t,G9t=new H9t,Y9t=new YW;function K9t(e,t={}){const n={config:t};return Y9t.map(W9t.map(G9t.map(e,n),n),n)}function eye(e){return nr(e)?{type:e}:e??{}}function X9t(e,t,n){let{width:r,height:i}=t;const o=Dg(e)||eL(e),s={};o?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&(_t(S0e("width")),r=void 0),i=="container"&&(_t(S0e("height")),i=void 0));const a={type:"pad",...s,...n?eye(n.autosize):{},...eye(e.autosize)};if(a.type==="fit"&&!o&&(_t(ULt),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&_t(T0e("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&_t(T0e("height")),!uc(a,{type:"pad"}))return a}function Q9t(e){return["fit","fit-x","fit-y"].includes(e)}function J9t(e){return e?`fit-${$F(e)}`:"fit"}const Z9t=["background","padding"];function tye(e,t){const n={};for(const r of Z9t)e&&e[r]!==void 0&&(n[r]=oc(e[r]));return t&&(n.params=e.params),n}class Pg{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new Pg(Yn(this.explicit),Yn(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return Qo(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of gt(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Ah(e){return{explicit:!0,value:e}}function tc(e){return{explicit:!1,value:e}}function J6e(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:tL(t,n,r,i)}}function tL(e,t,n,r){return e.explicit&&t.explicit&&_t(D8t(n,r,e.value,t.value)),e}function Ay(e,t,n,r,i=tL){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:uc(e.value,t.value)?e:i(e,t,n,r)}class e7t extends Pg{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function oE(e){return vt(e,"url")}function jA(e){return vt(e,"values")}function Z6e(e){return vt(e,"name")&&!oE(e)&&!jA(e)&&!Z0(e)}function Z0(e){return e&&(e$e(e)||t$e(e)||ere(e))}function e$e(e){return vt(e,"sequence")}function t$e(e){return vt(e,"sphere")}function ere(e){return vt(e,"graticule")}var yo;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(yo||(yo={}));function n$e({invalid:e,isPath:t}){switch(QMe(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function t7t(e){const{marks:t,scales:n}=n$e(e);return t===n?yo.Main:n==="include-invalid-values"?yo.PreFilterInvalid:yo.PostFilterInvalid}const n7t="view",ZM="[",e6="]",r$e="{",i$e="}",r7t=":",o$e=",",i7t="@",o7t=">",s7t=/[[\]{}]/,a7t={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let s$e,a$e;function dC(e,t,n){return s$e=t||n7t,a$e=a7t,l$e(e.trim()).map(KW)}function l7t(e){return a$e[e]}function _2(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.indexOf(a)>=0?--s:r&&r.indexOf(a)>=0&&++s}return t}function l$e(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=_2(e,i,o$e,ZM+r$e,e6+i$e),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function KW(e){return e[0]==="["?u7t(e):c7t(e)}function u7t(e){const t=e.length;let n=1,r;if(n=_2(e,n,e6,ZM,e6),n===t)throw"Empty between selector: "+e;if(r=l$e(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==o7t)throw"Expected '>' after between selector: "+e;r=r.map(KW);const i=KW(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function c7t(e){const t={source:s$e},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,l,u;if(e[s-1]===i$e){if(a=e.lastIndexOf(r$e),a>=0){try{r=d7t(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===i7t&&(i=++a),l=_2(e,a,r7t),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=_2(e,a,ZM),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=_2(e,a,e6),a===s)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==ZM)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||s7t.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):l7t(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function d7t(e){const t=e.split(o$e);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}class _i{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){_t(o8t);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class ku extends _i{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${J4e()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function Cz(e){return e.as!==void 0}function nye(e){return`${e}_end`}class Qh extends _i{clone(){return new Qh(null,Yn(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{const{field:a,timeUnit:l}=o;if(l){let u;if(iw(l)){if(mo(n)){const{mark:c,markDef:d,config:f}=n,h=Ty({fieldDef:o,markDef:d,config:f});(LA(c)||h)&&(u={timeUnit:ra(l),field:a})}}else u={as:Mt(o,{forAs:!0}),field:a,timeUnit:l};if(mo(n)){const{mark:c,markDef:d,config:f}=n,h=Ty({fieldDef:o,markDef:d,config:f});LA(c)&&Jo(s)&&h!==.5&&(u.rectBandPosition=h)}u&&(i[Pr(u)]=u)}return i},{});return Si(r)?null:new Qh(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},o=ra(r),s={...i,timeUnit:o};return new Qh(t,{[Pr(s)]:s})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of Cy(this.timeUnits)){const o=Cz(i)?i.as:`${i.field}_end`;t.has(o)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(Ra(this.timeUnits).map(t=>Cz(t)?t.as:nye(t.field)))}dependentFields(){return new Set(Ra(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${Pr(this.timeUnits)}`}assemble(){const t=[];for(const n of Ra(this.timeUnits)){const{rectBandPosition:r}=n,i=ra(n.timeUnit);if(Cz(n)){const{field:o,as:s}=n,{unit:a,utc:l,...u}=i,c=[s,`${s}_end`];t.push({field:_d(o),type:"timeunit",...a?{units:BF(a)}:{},...l?{timezone:"utc"}:{},...u,as:c}),t.push(...rye(c,r,i))}else if(n){const{field:o}=n,s=o.replaceAll("\\.","."),a=u$e({timeUnit:i,field:s}),l=nye(s);t.push({type:"formula",expr:a,as:l}),t.push(...rye([s,l],r,i))}}return t}}const nL="offsetted_rect_start",rL="offsetted_rect_end";function u$e({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,o=OMe(r),{part:s,step:a}=FMe(o,e.step);return`${i?"utcOffset":"timeOffset"}('${s}', ${bi(t)}, ${n?-a:a})`}function rye([e,t],n,r){if(n!==void 0&&n!==.5){const i=bi(e),o=bi(t);return[{type:"formula",expr:iye([u$e({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${nL}`},{type:"formula",expr:iye([i,o],n+.5),as:`${e}_${rL}`}]}return[]}function iye([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const FR="_tuple_fields";class f7t{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const h7t={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new f7t),o={},s={},a=new Set,l=(m,p)=>{const g=p==="visual"?m.channel:m.field;let y=oo(`${r}_${g}`);for(let v=1;a.has(y);v++)y=oo(`${r}_${g}_${v}`);return a.add(y),{[p]:y}},u=t.type,c=e.config.selection[u],d=n.value!==void 0?Xo(n.value):null;let{fields:f,encodings:h}=Xr(n.select)?n.select:{};if(!f&&!h&&d){for(const m of d)if(Xr(m))for(const p of gt(m))gLt(p)?(h||(h=[])).push(p):u==="interval"?(_t(JLt),h=c.encodings):(f??(f=[])).push(p)}!f&&!h&&(h=c.encodings,"fields"in c&&(f=c.fields));for(const m of h??[]){const p=e.fieldDef(m);if(p){let g=p.field;if(p.aggregate){_t(VLt(m,p.aggregate));continue}else if(!g){_t(k0e(m));continue}if(p.timeUnit&&!iw(p.timeUnit)){g=e.vgField(m);const y={timeUnit:p.timeUnit,as:g,field:p.field};s[Pr(y)]=y}if(!o[g]){const y=u==="interval"&&Lp(m)&&Mf(e.getScaleComponent(m).get("type"))?"R":p.bin?"R-RE":"E",v={field:g,channel:m,type:y,index:i.items.length};v.signals={...l(v,"data"),...l(v,"visual")},i.items.push(o[g]=v),i.hasField[g]=o[g],i.hasSelectionId=i.hasSelectionId||g===Lf,iMe(m)?(v.geoChannel=m,v.channel=rMe(m),i.hasChannel[v.channel]=o[g]):i.hasChannel[m]=o[g]}}else _t(k0e(m))}for(const m of f??[]){if(i.hasField[m])continue;const p={type:"E",field:m,index:i.items.length};p.signals={...l(p,"data")},i.items.push(p),i.hasField[m]=p,i.hasSelectionId=i.hasSelectionId||m===Lf}d&&(t.init=d.map(m=>i.items.map(p=>Xr(m)?m[p.geoChannel||p.channel]!==void 0?m[p.geoChannel||p.channel]:m[p.field]:m))),Si(s)||(i.timeUnit=new Qh(null,s))},signals:(e,t,n)=>{const r=t.name+FR;return n.filter(o=>o.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(h$e)})}},c$e="_curr",aN="anim_value",Ex="anim_clock",XW="eased_anim_clock",d$e="min_extent",f$e="max_range_extent",Sz="last_tick_at",Tz="is_playing",p7t=1/60*1e3,m7t=(e,t)=>[{name:XW,update:Ex},{name:`${e}_domain`,init:`domain('${t}')`},{name:d$e,init:`extent(${e}_domain)[0]`},{name:f$e,init:`extent(range('${t}'))[1]`},{name:aN,update:`invert('${t}', ${XW})`}],g7t={defined:e=>e.type==="point",topLevelSignals:(e,t,n)=>(Jh(t)&&(n=n.concat([{name:Ex,init:"0",on:[{events:{type:"timer",throttle:p7t},update:`${Tz} ? (${Ex} + (now() - ${Sz}) > ${f$e} ? 0 : ${Ex} + (now() - ${Sz})) : ${Ex}`}]},{name:Sz,init:"now()",on:[{events:[{signal:Ex},{signal:Tz}],update:"now()"}]},{name:Tz,init:"true"}])),n),signals:(e,t,n)=>{const r=t.name,i=r+FR,o=t.project,s="(item().isVoronoi ? datum.datum : datum)",a=Ra(e.component.selection??{}).reduce((c,d)=>d.type==="interval"?c.concat(d.name+a_):c,[]).map(c=>`indexof(item().mark.name, '${c}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let u=`unit: ${$b(e)}, `;if(t.project.hasSelectionId)u+=`${Lf}: ${s}[${Kr(Lf)}]`;else if(Jh(t))u+=`fields: ${i}, values: [${aN} ? ${aN} : ${d$e}]`;else{const c=o.items.map(d=>e.fieldDef(d.channel)?.bin?`[${s}[${Kr(e.vgField(d.channel,{}))}], ${s}[${Kr(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${s}[${Kr(d.field)}]`).join(", ");u+=`fields: ${i}, values: [${c}]`}if(Jh(t))return n.concat(m7t(t.name,e.scaleName(ev)),[{name:r+ig,on:[{events:[{signal:XW},{signal:aN}],update:`{${u}}`,force:!0}]}]);{const c=t.events;return n.concat([{name:r+ig,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}}};function h$e(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=_d(i.field),i}function y1(e,t=!0,n=ZFt){if(Jt(e)){const r=e.map(i=>y1(i,t,n));return t?`[${r.join(", ")}]`:r}else if(rw(e))return n(t?h1(e):njt(e));return t?n(Ti(e)):e}function y7t(e,t){for(const n of Ra(e.component.selection??{})){const r=n.name;let i=`${r}${ig}, ${n.resolve==="global"?"true":`{unit: ${$b(e)}}`}`;for(const o of oL)o.defined(n)&&(o.signals&&(t=o.signals(e,n,t)),o.modifyExpr&&(i=o.modifyExpr(e,n,i)));t.push({name:r+H7t,on:[{events:{signal:n.name+ig},update:`modify(${Kr(n.name+v1)}, ${i})`}]})}return tre(t)}function v7t(e,t){if(e.component.selection&&gt(e.component.selection).length){const n=Kr(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:dC("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return tre(t)}function b7t(e,t){let n=!1;for(const r of Ra(e.component.selection??{})){const i=r.name,o=Kr(i+v1);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${I$e}(${o}, ${Kr(a)}${l}`})}n=!0;for(const a of oL)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),tre(t)}function w7t(e,t){const n=[],r=[],i=$b(e,{escape:!1});for(const o of Ra(e.component.selection??{})){const s={name:o.name+v1};if(o.project.hasSelectionId&&(s.transform=[{type:"collect",sort:{field:Lf}}]),o.init){const l=o.project.items.map(h$e);s.values=o.project.hasSelectionId?o.init.map(u=>({unit:i,[Lf]:y1(u,!1)[0]})):o.init.map(u=>({unit:i,fields:l,values:y1(u,!1)}))}if([...n,...t].filter(l=>l.name===o.name+v1).length||n.push(s),Jh(o)&&t.length){const l=e.lookupDataSource(e.getDataName(yo.Main)),u=t.find(d=>d.name===l),c=u.transform.find(d=>d.type==="filter"&&d.expr.includes("vlSelectionTest"));if(c){u.transform=u.transform.filter(f=>f!==c);const d={name:u.name+c$e,source:u.name,transform:[c]};r.push(d)}}}return n.concat(t,r)}function p$e(e,t){for(const n of Ra(e.component.selection??{}))for(const r of oL)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function x7t(e,t){for(const n of e.children)mo(n)&&(t=p$e(n,t));return t}function _7t(e,t,n,r){const i=z$e(e,t.param,t);return{signal:Mf(n.get("type"))&&Jt(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function tre(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const Fm={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!Lp(i))continue;const o=e.getScaleComponent(i),s=o?o.get("type"):void 0;if(s=="sequential"&&_t(GLt),!o||!Mf(s)){_t(WLt);continue}o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(a=>a.name===s.signals.data).length===0);if(!e.parent||JW(e)||r.length===0)return n;const i=n.find(s=>s.name===t.name);let o=i.update;if(o.includes(I$e))i.update=`{${r.map(s=>`${Kr(_d(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const a=`${Kr(_d(s.field))}: ${s.signals.data}`;o.includes(a)||(o=`${o.substring(0,o.length-1)}, ${a}}`)}i.update=o}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!JW(e))for(const r of t.scales){const i=n.find(o=>o.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function QW(e,t){return`domain(${Kr(e.scaleName(t))})`}function JW(e){return e.parent&&gC(e.parent)&&(!e.parent.parent||JW(e.parent.parent))}const a_="_brush",m$e="_scale_trigger",FS="geo_interval_init_tick",g$e="_init",E7t="_center",C7t={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...Jn(n.select)?n.select:{}};i.fields=[Lf],i.encodings||(i.encodings=n.value?gt(n.value):[th,eh]),n.select={type:"interval",...i}}if(t.translate&&!Fm.defined(t)){const i=`!event.item || event.item.mark.name !== ${Kr(t.name+a_)}`;for(const o of t.events){if(!o.between){_t(`${o} is not an ordered event stream for interval selections.`);continue}const s=Xo((r=o.between[0]).filter??(r.filter=[]));s.includes(i)||s.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+ig,o=Ra(t.project.hasChannel).filter(a=>a.channel===lo||a.channel===aa),s=t.init?t.init[0]:null;if(n.push(...o.reduce((a,l)=>a.concat(S7t(e,t,l,s&&s[l.index])),[])),e.hasProjection){const a=Kr(e.projectionName()),l=e.projectionName()+E7t,{x:u,y:c}=t.project.hasChannel,d=u&&u.signals.visual,f=c&&c.signals.visual,h=u?s&&s[u.index]:`${l}[0]`,m=c?s&&s[c.index]:`${l}[1]`,p=C=>e.getSizeSignalRef(C).signal,g=`[[${d?d+"[0]":"0"}, ${f?f+"[0]":"0"}],[${d?d+"[1]":p("width")}, ${f?f+"[1]":p("height")}]]`;s&&(n.unshift({name:r+g$e,init:`[scale(${a}, [${u?h[0]:h}, ${c?m[0]:m}]), scale(${a}, [${u?h[1]:h}, ${c?m[1]:m}])]`}),(!u||!c)&&(n.find(S=>S.name===l)||n.unshift({name:l,update:`invert(${a}, [${p("width")}/2, ${p("height")}/2])`})));const y=`intersect(${g}, {markname: ${Kr(e.getName("marks"))}}, unit.mark)`,v=`{unit: ${$b(e)}}`,w=`vlSelectionTuples(${y}, ${v})`,E=o.map(C=>C.signals.visual);return n.concat({name:i,on:[{events:[...E.length?[{signal:E.join(" || ")}]:[],...s?[{signal:FS}]:[]],update:w}]})}else{if(!Fm.defined(t)){const u=r+m$e,c=o.map(d=>{const f=d.channel,{data:h,visual:m}=d.signals,p=Kr(e.scaleName(f)),g=e.getScaleComponent(f).get("type"),y=Mf(g)?"+":"";return`(!isArray(${h}) || (${y}invert(${p}, ${m})[0] === ${y}${h}[0] && ${y}invert(${p}, ${m})[1] === ${y}${h}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:o.map(d=>({scale:e.scaleName(d.channel)})),update:c.join(" && ")+` ? ${u} : {}`}]})}const a=o.map(u=>u.signals.data),l=`unit: ${$b(e)}, fields: ${r+FR}, values`;return n.concat({name:i,...s?{init:`{${l}: ${y1(s)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(mo(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===FS).length||n.unshift({name:FS,value:null,on:[{events:"timer{1}",update:`${FS} === null ? {} : ${FS}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,s=i?.signals.visual,a=o?.signals.visual,l=`data(${Kr(t.name+v1)})`;if(Fm.defined(t)||!i&&!o)return n;const u={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:o!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const g of gt(u))u[g]=[{test:`${l}.length && ${l}[0].unit === ${$b(e)}`,...u[g]},{value:0}];const{fill:c,fillOpacity:d,cursor:f,...h}=t.mark,m=gt(h).reduce((g,y)=>(g[y]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,o!==void 0&&`${a}[0] !== ${a}[1]`].filter(v=>v).join(" && "),value:h[y]},{value:null}],g),{}),p=f??(t.translate?"move":null);return[{name:`${r+a_}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:d}},update:u}},...n,{name:r+a_,type:"rect",clip:!0,encode:{enter:{...p?{cursor:{value:p}}:{},fill:{value:"transparent"}},update:{...u,...m}}}]}};function S7t(e,t,n,r){const i=!e.hasProjection,o=n.channel,s=n.signals.visual,a=Kr(i?e.scaleName(o):e.projectionName()),l=f=>`scale(${a}, ${f})`,u=e.getSizeSignalRef(o===lo?"width":"height").signal,c=`${o}(unit)`,d=t.events.reduce((f,h)=>[...f,{events:h.between[0],update:`[${c}, ${c}]`},{events:h,update:`[${s}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const f=n.signals.data,h=Fm.defined(t),m=e.getScaleComponent(o),p=m?m.get("type"):void 0,g=r?{init:y1(r,!0,l)}:{value:[]};return d.push({events:{signal:t.name+m$e},update:Mf(p)?`[${l(`${f}[0]`)}, ${l(`${f}[1]`)}]`:"[0, 0]"}),h?[{name:f,on:[]}]:[{name:s,...g,on:d},{name:f,...r?{init:y1(r)}:{},on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${a}, ${s})`}]}]}else{const f=o===lo?0:1,h=t.name+g$e,m=r?{init:`[${h}[0][${f}], ${h}[1][${f}]]`}:{value:[]};return[{name:s,...m,on:d}]}}function fC({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const o=OR(t)&&t.condition;let s=[];o&&(s=Xo(o).map(u=>{const c=i(u);if(nBt(u)){const{param:d,empty:f}=u;return{test:B$e(e,{param:d,empty:f}),...c}}else return{test:i6(e,u.test),...c}})),r!==void 0&&s.push(r);const a=i(t);return a!==void 0&&s.push(a),s.length>1||s.length===1&&s[0].test?{[n]:s}:s.length===1?{[n]:s[0]}:{}}function nre(e,t="text"){const n=e.encoding[t];return fC({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>iL(r,e.config),invalidValueRef:void 0})}function iL(e,t,n="datum"){if(e){if($f(e))return Xi(e.value);if(Xn(e)){const{format:r,formatType:i}=KM(e);return $ne({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function y$e(e,t={}){const{encoding:n,markDef:r,config:i,stack:o}=e,s=n.tooltip;if(Jt(s))return{tooltip:oye({tooltip:s},o,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return fC({model:e,channelDef:s,vgChannel:"tooltip",mainRefFn:u=>{const c=iL(u,i,a);if(c)return c;if(u===null)return;let d=Ci("tooltip",r,i);if(d===!0&&(d={content:"encoding"}),nr(d))return{value:d};if(Xr(d))return sn(d)?d:d.content==="encoding"?oye(n,o,i,t):{signal:a}},invalidValueRef:void 0})}}function v$e(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},o=new Set,s=r?"datum.datum":"datum",a=[];function l(c,d){const f=ew(d),h=Kl(c)?c:{...c,type:e[f].type},m=h.title||Bne(h,i),p=Xo(m).join(", ").replaceAll(/"/g,'\\"');let g;if(Jo(d)){const y=d==="x"?"x2":"y2",v=Ff(e[y]);if(va(h.bin)&&v){const w=Mt(h,{expr:s}),E=Mt(v,{expr:s}),{format:C,formatType:S}=KM(h);g=DR(w,E,C,S,i),o.add(y)}}if((Jo(d)||d===Nd||d===Zf)&&t&&t.fieldChannel===d&&t.offset==="normalize"){const{format:y,formatType:v}=KM(h);g=$ne({fieldOrDatumDef:h,format:y,formatType:v,expr:s,config:i,normalizeStack:!0}).signal}g??(g=iL(h,i,s).signal),a.push({channel:d,key:p,value:g})}Une(e,(c,d)=>{St(c)?l(c,d):YF(c)&&l(c.condition,d)});const u={};for(const{channel:c,key:d,value:f}of a)!o.has(c)&&!u[d]&&(u[d]=f);return u}function oye(e,t,n,{reactiveGeom:r}={}){const i=v$e(e,t,n,{reactiveGeom:r}),o=Cy(i).map(([s,a])=>`"${s}": ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function T7t(e){const{markDef:t,config:n}=e,r=Ci("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...A7t(e),...k7t(e)}}function A7t(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=Ci("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:cs(jLt,t)?{}:{ariaRoleDescription:{value:t}}}function k7t(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return fC({model:e,channelDef:o,vgChannel:"description",mainRefFn:l=>iL(l,e.config),invalidValueRef:void 0});const s=Ci("description",n,r);if(s!=null)return{description:Xi(s)};if(r.aria===!1)return{};const a=v$e(t,i,r);if(!Si(a))return{description:{signal:Cy(a).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function Ea(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:s}=n;let{defaultRef:a,defaultValue:l}=n;const u=i[e];a===void 0&&(l??(l=Ci(e,r,o,{vgChannel:s,ignoreVgConfig:!OR(u)})),l!==void 0&&(a=Xi(l)));const c={markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},d=ZMe({...c,scaleChannel:e,channelDef:u});return fC({model:t,channelDef:u,vgChannel:s??e,invalidValueRef:d,mainRefFn:h=>Mne({...c,channel:e,channelDef:h,stack:null,defaultRef:a})})}function b$e(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:o}=n,s=t.filled??Ci("filled",n,i),a=Cr(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,l=Ci(s===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[s===!0&&"color"]??a,u=Ci(s===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[s===!1&&"color"],c=s?"fill":"stroke",d={...l?{fill:Xi(l)}:{},...u?{stroke:Xi(u)}:{}};return n.color&&(s?n.fill:n.stroke)&&_t(CMe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...d,...Ea("color",e,{vgChannel:c,defaultValue:s?l:u}),...Ea("fill",e,{defaultValue:r.fill?l:void 0}),...Ea("stroke",e,{defaultValue:r.stroke?u:void 0})}}function R7t(e){const{encoding:t,mark:n}=e,r=t.order;return!sv(n)&&$f(r)?fC({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>Xi(i.value),invalidValueRef:void 0}):{}}function sE({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const o=`${e}Offset`,s=t[o],a=n[o];if((o==="xOffset"||o==="yOffset")&&a)return{offsetType:"encoding",offset:Mne({channel:o,channelDef:a,markDef:t,config:r?.config,scaleName:r.scaleName(o),scale:r.getScaleComponent(o),stack:null,defaultRef:Xi(s),bandPosition:i})};const l=t[o];return l?{offsetType:"visual",offset:l}:{}}function Ll(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:o,config:s,stack:a}=t,l=i[e],u=i[Fp(e)],c=t.scaleName(e),d=t.getScaleComponent(e),{offset:f,offsetType:h}=sE({channel:e,markDef:o,encoding:i,model:t,bandPosition:.5}),m=rre({model:t,defaultPos:n,channel:e,scaleName:c,scale:d}),p=!l&&Jo(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:I7t({channel:e,channelDef:l,channel2Def:u,markDef:o,config:s,scaleName:c,scale:d,stack:a,offset:f,defaultRef:m,bandPosition:h==="encoding"?0:void 0});return p?{[r||e]:p}:void 0}function I7t(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:s}=e;if(Xn(n)&&i&&t===i.fieldChannel){if(St(n)){let a=n.bandPosition;if(a===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return WM({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:o})}return Nb(n,r,{suffix:"end"},{offset:o})}return Nne(e)}function rre({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:s}=e;return()=>{const a=ew(n),l=Sy(n),u=Ci(n,o,s,{vgChannel:l});if(u!==void 0)return x2(n,u);switch(t){case"zeroOrMin":return sye({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:a,config:s});case"zeroOrMax":return sye({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:a,config:s});case"mid":return{...e[$u(n)],mult:.5}}}}function sye({mainChannel:e,config:t,...n}){const r=JMe(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:o,heightSignal:s}=i.zeroOrMax;return{signal:`min(${o},${s})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const D7t={left:"x",center:"xc",right:"x2"},P7t={top:"y",middle:"yc",bottom:"y2"};function w$e(e,t,n,r="middle"){if(e==="radius"||e==="theta")return Sy(e);const i=e==="x"?"align":"baseline",o=Ci(i,t,n);let s;return sn(o)?(_t(w8t(i)),s=void 0):s=o,e==="x"?D7t[s||(r==="top"?"left":"center")]:P7t[s||r]}function t6(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?x$e(e,t,{defaultPos:n,defaultPos2:r}):Ll(e,t,{defaultPos:n})}function x$e(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,s=Fp(e),a=$u(e),l=O7t(t,r,s),u=l[a]?w$e(e,i,o):Sy(e);return{...Ll(e,t,{defaultPos:n,vgChannel:u}),...l}}function O7t(e,t,n){const{encoding:r,mark:i,markDef:o,stack:s,config:a}=e,l=ew(n),u=$u(n),c=Sy(n),d=r[l],f=e.scaleName(l),h=e.getScaleComponent(l),{offset:m}=n in r||n in o?sE({channel:n,markDef:o,encoding:r,model:e}):sE({channel:l,markDef:o,encoding:r,model:e});if(!d&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const g=$u(n),y=e.markDef[g];return y!=null?{[g]:{value:y}}:{[c]:{field:e.getName(n)}}}const p=N7t({channel:n,channelDef:d,channel2Def:r[n],markDef:o,config:a,scaleName:f,scale:h,stack:s,offset:m,defaultRef:void 0});return p!==void 0?{[c]:p}:fP(n,o)||fP(n,{[n]:LW(n,o,a.style),[u]:LW(u,o,a.style)})||fP(n,a[i])||fP(n,a.mark)||{[c]:rre({model:e,defaultPos:t,channel:n,scaleName:f,scale:h})()}}function N7t({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u}){return Xn(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?Nb(t,o,{suffix:"start"},{offset:l}):Nne({channel:e,channelDef:n,scaleName:o,scale:s,stack:a,markDef:r,config:i,offset:l,defaultRef:u})}function fP(e,t){const n=$u(e),r=Sy(e);if(t[r]!==void 0)return{[r]:x2(e,t[r])};if(t[e]!==void 0)return{[r]:x2(e,t[e])};if(t[n]){const i=t[n];if(m1(i))_t(p8t(n));else return{[n]:x2(e,i)}}}function rg(e,t){const{config:n,encoding:r,markDef:i}=e,o=i.type,s=Fp(t),a=$u(t),l=r[t],u=r[s],c=e.getScaleComponent(t),d=c?c.get("type"):void 0,f=i.orient,h=r[a]??r.size??Ci("size",i,n,{vgChannel:a}),m=lMe(t),p=o==="bar"&&(t==="x"?f==="vertical":f==="horizontal")||o==="tick"&&(t==="y"?f==="vertical":f==="horizontal");return St(l)&&(Ui(l.bin)||va(l.bin)||l.timeUnit&&!u)&&!(h&&!m1(h))&&!r[m]&&!ia(d)?F7t({fieldDef:l,fieldDef2:u,channel:t,model:e}):(Xn(l)&&ia(d)||p)&&!u?$7t(l,t,e):x$e(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function M7t(e,t,n,r,i,o,s){if(m1(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=mp("minBandSize",{type:s},r);return{signal:c?`max(${gf(c)}, ${u})`:u}}else i.band!==1&&(_t(C8t(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(sn(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(nw(l)&&ao(l.step))return{value:l.step-2}}if(!o){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c,tickBandPaddingInner:d}=r.scale,f=Qo(l,s==="tick"?d:s==="bar"?u:c);if(sn(f))return{signal:`(1 - (${f.signal})) * ${e}`};if(ao(f))return{signal:`${1-f} * ${e}`}}return{value:qW(r.view,e)-2}}function $7t(e,t,n){const{markDef:r,encoding:i,config:o,stack:s}=n,a=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=$u(t),d=Fp(t),f=lMe(t),h=n.scaleName(f),m=n.getScaleComponent(ane(t)),p=r.type==="tick"||a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let g;(i.size||r.size)&&(p?g=Ea("size",n,{vgChannel:c,defaultRef:Xi(r.size)}):_t(k8t(r.type)));const y=!!g,v=s6e({channel:t,fieldDef:e,markDef:r,config:o,scaleType:(u||m)?.get("type"),useVlSizeChannel:p});g=g||{[c]:M7t(c,h||l,m||u,o,v,!!e,r.type)};const w=(u||m)?.get("type")==="band"&&m1(v)&&!y?"top":"middle",E=w$e(t,r,o,w),C=E==="xc"||E==="yc",{offset:S,offsetType:T}=sE({channel:t,markDef:r,encoding:i,model:n,bandPosition:C?.5:0}),A=Nne({channel:t,channelDef:e,markDef:r,config:o,scaleName:l,scale:u,stack:s,offset:S,defaultRef:rre({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:C?T==="encoding"?0:.5:sn(v)?{signal:`(1-${v})/2`}:m1(v)?(1-v.band)/2:0});if(c)return{[E]:A,...g};{const D=Sy(d),I=g[c],P=S?{...I,offset:S}:I;return{[E]:A,[D]:Jt(A)?[A[0],{...A[1],offset:P}]:{...A,offset:P}}}}function aye(e,t,n,r,i,o,s){if(nMe(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(sn(n)||sn(i)||sn(r)||o){const u=gf(n),c=gf(i),d=gf(r),f=gf(o),m=o?`(${s} < ${f} ? ${a?"":"-"}0.5 * (${f} - (${s})) : ${l})`:l,p=d?`${d} + `:"",g=u?`(${u} ? -1 : 1) * `:"",y=c?`(${c} + ${m})`:m;return{signal:p+g+y}}else return i=i||0,r+(n?-i-l:+i+l)}function F7t({fieldDef:e,fieldDef2:t,channel:n,model:r}){const{config:i,markDef:o,encoding:s}=r,a=r.getScaleComponent(n),l=r.scaleName(n),u=a?a.get("type"):void 0,c=a.get("reverse"),d=s6e({channel:n,fieldDef:e,markDef:o,config:i,scaleType:u}),h=r.component.axes[n]?.[0]?.get("translate")??.5,m=Jo(n)?Ci("binSpacing",o,i)??0:0,p=Fp(n),g=Sy(n),y=Sy(p),v=mp("minBandSize",o,i),{offset:w}=sE({channel:n,markDef:o,encoding:s,model:r,bandPosition:0}),{offset:E}=sE({channel:p,markDef:o,encoding:s,model:r,bandPosition:0}),C=Xjt({fieldDef:e,scaleName:l}),S=aye(n,m,c,h,w,v,C),T=aye(p,m,c,h,E??w,v,C),A=sn(d)?{signal:`(1-${d.signal})/2`}:m1(d)?(1-d.band)/2:.5,D=Ty({fieldDef:e,fieldDef2:t,markDef:o,config:i});if(Ui(e.bin)||e.timeUnit){const I=e.timeUnit&&D!==.5;return{[y]:lye({fieldDef:e,scaleName:l,bandPosition:A,offset:T,useRectOffsetField:I}),[g]:lye({fieldDef:e,scaleName:l,bandPosition:sn(A)?{signal:`1-${A.signal}`}:1-A,offset:S,useRectOffsetField:I})}}else if(va(e.bin)){const I=Nb(e,l,{},{offset:T});if(St(t))return{[y]:I,[g]:Nb(t,l,{},{offset:S})};if(tw(e.bin)&&e.bin.step)return{[y]:I,[g]:{signal:`scale("${l}", ${Mt(e,{expr:"datum"})} + ${e.bin.step})`,offset:S}}}_t(AMe(p))}function lye({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return WM({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:nL,endSuffix:rL}:{}})}const L7t=new Set(["aria","width","height"]);function Md(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?b$e(e):{};return{...j7t(e.markDef,t),...uye("fill",n),...uye("stroke",r),...Ea("opacity",e),...Ea("fillOpacity",e),...Ea("strokeOpacity",e),...Ea("strokeWidth",e),...Ea("strokeDash",e),...R7t(e),...y$e(e),...nre(e,"href"),...T7t(e)}}function uye(e,t){return t?{[e]:t}:{}}function j7t(e,t){return LLt.reduce((n,r)=>(!L7t.has(r)&&vt(e,r)&&t[r]!=="ignore"&&(n[r]=Xi(e[r])),n),{})}function ire(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,o)=>{let s;if(!Lp(o)||!(s=e.getScaleType(o)))return;const a=FF(i.aggregate),l=One({scaleChannel:o,markDef:n,config:t,scaleType:s,isCountAggregate:a});if(Gjt(l)){const u=e.vgField(o,{expr:"datum",binSuffix:e.stack?.impute?"mid":void 0});u&&r.add(u)}}),r.size>0)return{defined:{signal:[...r].map(o=>zF(o,!0)).join(" && ")}}}function cye(e,t){if(t!==void 0)return{[e]:Xi(t)}}const Az="voronoi",_$e={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(Az)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(sv(o))return _t(HLt(o)),n;const s={name:e.getName(Az),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...y$e(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((u,c)=>{const d=u.name??"";d===e.component.mark[0].name?a=c:d.includes(Az)&&(l=!0)}),l||n.splice(a+1,0,s),n}},E$e={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!Yne(e.bind),parse:(e,t,n)=>D$e(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,s=t.init&&t.init[0],a=_$e.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,u)=>{const c=oo(`${r}_${l.field}`);n.filter(f=>f.name===c).length||n.unshift({name:c,...s?{init:y1(s[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${Kr(l.field)}] : null`}]:[],bind:o[l.field]??o[l.channel]??o})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(u=>u.name===r+ig),s=r+FR,a=i.items.map(u=>oo(`${r}_${u.field}`)),l=a.map(u=>`${u} !== null`).join(" && ");return a.length&&(o.update=`${l} ? {fields: ${s}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},n6="_toggle",C$e={defined:e=>e.type==="point"&&!Jh(e)&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+n6,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+ig,r=t.name+n6;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${$b(e)}}, `)+`${r} ? ${n} : null`}},B7t={defined:e=>e.clear!==void 0&&e.clear!==!1&&!Jh(e),parse:(e,t)=>{t.clear&&(t.clear=nr(t.clear)?dC(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(E$e.defined(t))for(const r of t.project.items){const i=n.findIndex(o=>o.name===oo(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,o){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const i of t.project.items){const o=n.findIndex(s=>s.name===i.signals.visual);if(r(o,"[0, 0]"),o===-1){const s=n.findIndex(a=>a.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(o=>o.name===t.name+ig);r(i,"null"),C$e.defined(t)&&(i=n.findIndex(o=>o.name===t.name+n6),r(i,"false"))}return n}},S$e={defined:e=>{const t=e.resolve==="global"&&e.bind&&Yne(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Lf;return t&&!n&&_t(YLt),t&&n},parse:(e,t,n)=>{const r=Yn(n);if(r.select=nr(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},D$e(t,r),Jn(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=Xo(a.filter??[]),a.filter.includes(s)||a.filter.push(s)}const i=xz(t.bind)?t.bind.legend:"click",o=nr(i)?dC(i,"view"):Xo(i);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=xz(t.bind)&&t.bind.legend,o=s=>a=>{const l=Yn(a);return l.markname=s,l};for(const s of t.project.items){if(!s.hasLegend)continue;const a=`${oo(s.field)}_legend`,l=`${r}_${a}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(o(`${a}_symbols`)).concat(i.merge.map(o(`${a}_labels`))).concat(i.merge.map(o(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(f=>f.name===r+ig),s=r+FR,a=i.items.filter(f=>f.hasLegend).map(f=>oo(`${r}_${oo(f.field)}_legend`)),u=`${a.map(f=>`${f} !== null`).join(" && ")} ? {fields: ${s}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(f=>({signal:f})),update:u}):a.length>0&&(o.update=u,delete o.value,delete o.on);const c=n.find(f=>f.name===r+n6),d=xz(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:d}):c.on[0].events=d),n}};function z7t(e,t,n){const r=e.fieldDef(t)?.field;for(const i of Ra(e.component.selection??{})){const o=i.project.hasField[r]??i.project.hasChannel[t];if(o&&S$e.defined(i)){const s=n.get("selections")??[];s.push(i.name),n.set("selections",s,!1),o.hasLegend=!0}}}const T$e="_translate_anchor",A$e="_translate_delta",U7t={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=Fm.defined(t),o=r+T$e,{x:s,y:a}=t.project.hasChannel;let l=dC(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+a_,u))),n.push({name:o,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(s!==void 0?`, extent_x: ${i?QW(e,lo):`slice(${s.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?QW(e,aa):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+A$e,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),s!==void 0&&dye(e,t,s,"width",n),a!==void 0&&dye(e,t,a,"height",n),n}};function dye(e,t,n,r,i){const o=t.name,s=o+T$e,a=o+A$e,l=n.channel,u=Fm.defined(t),c=i.find(C=>C.name===n.signals[u?"data":"visual"]),d=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(l),h=f&&f.get("type"),m=f&&f.get("reverse"),p=u?l===lo?m?"":"-":m?"-":"":"",g=`${s}.extent_${l}`,y=`${p}${a}.${l} / ${u?`${d}`:`span(${g})`}`,v=!u||!f?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",w=u?h==="pow"?`, ${f.get("exponent")??1}`:h==="symlog"?`, ${f.get("constant")??1}`:"":"",E=`${v}(${g}, ${y}${w})`;c.on.push({events:{signal:a},update:u?E:`clampRange(${E}, 0, ${d})`})}const k$e="_zoom_anchor",R$e="_zoom_delta",V7t={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=Fm.defined(t),o=r+R$e,{x:s,y:a}=t.project.hasChannel,l=Kr(e.scaleName(lo)),u=Kr(e.scaleName(aa));let c=dC(t.zoom,"scope");return i||(c=c.map(d=>(d.markname=r+a_,d))),n.push({name:r+k$e,on:[{events:c,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(d=>d).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&fye(e,t,s,"width",n),a!==void 0&&fye(e,t,a,"height",n),n}};function fye(e,t,n,r,i){const o=t.name,s=n.channel,a=Fm.defined(t),l=i.find(v=>v.name===n.signals[a?"data":"visual"]),u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(s),d=c&&c.get("type"),f=a?QW(e,s):l.name,h=o+R$e,m=`${o}${k$e}.${s}`,p=!a||!c?"zoomLinear":d==="log"?"zoomLog":d==="symlog"?"zoomSymlog":d==="pow"?"zoomPow":"zoomLinear",g=a?d==="pow"?`, ${c.get("exponent")??1}`:d==="symlog"?`, ${c.get("constant")??1}`:"":"",y=`${p}(${f}, ${m}, ${h}${g})`;l.on.push({events:{signal:h},update:a?y:`clampRange(${y}, 0, ${u})`})}const v1="_store",ig="_tuple",H7t="_modify",I$e="vlSelectionResolve",oL=[g7t,C7t,h7t,C$e,E$e,Fm,S$e,B7t,U7t,V7t,_$e];function q7t(e){let t=e.parent;for(;t&&!pc(t);)t=t.parent;return t}function $b(e,{escape:t}={escape:!0}){let n=t?Kr(e.name):e.name;const r=q7t(e);if(r){const{facet:i}=r;for(const o of id)i[o]&&(n+=` + '__facet_${o}_' + (facet[${Kr(r.vgField(o))}])`)}return n}function ore(e){return Ra(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function D$e(e,t){(ni(t.select)||!t.select.on)&&delete e.events,(ni(t.select)||!t.select.clear)&&delete e.clear,(ni(t.select)||!t.select.toggle)&&delete e.toggle}function Jh(e){return e.events?.find(t=>"type"in t&&t.type==="timer")}const W7t="RawCode",G7t="Literal",Y7t="Property",K7t="Identifier",X7t="ArrayExpression",Q7t="BinaryExpression",J7t="CallExpression",Z7t="ConditionalExpression",ezt="LogicalExpression",tzt="MemberExpression",nzt="ObjectExpression",rzt="UnaryExpression";function rh(e){this.type=e}rh.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=izt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function izt(e){switch(e.type){case X7t:return e.elements;case Q7t:case ezt:return[e.left,e.right];case J7t:return[e.callee].concat(e.arguments);case Z7t:return[e.test,e.consequent,e.alternate];case tzt:return[e.object,e.property];case nzt:return e.properties;case Y7t:return[e.key,e.value];case rzt:return[e.argument];case K7t:case G7t:case W7t:default:return[]}}var Bp,rn,st,cl,xi,sL=1,LR=2,b1=3,av=4,aL=5,sw=6,vu=7,jR=8,ozt=9;Bp={};Bp[sL]="Boolean";Bp[LR]="<end>";Bp[b1]="Identifier";Bp[av]="Keyword";Bp[aL]="Null";Bp[sw]="Numeric";Bp[vu]="Punctuator";Bp[jR]="String";Bp[ozt]="RegularExpression";var szt="ArrayExpression",azt="BinaryExpression",lzt="CallExpression",uzt="ConditionalExpression",P$e="Identifier",czt="Literal",dzt="LogicalExpression",fzt="MemberExpression",hzt="ObjectExpression",pzt="Property",mzt="UnaryExpression",na="Unexpected token %0",gzt="Unexpected number",yzt="Unexpected string",vzt="Unexpected identifier",bzt="Unexpected reserved word",wzt="Unexpected end of input",ZW="Invalid regular expression",kz="Invalid regular expression: missing /",O$e="Octal literals are not allowed in strict mode.",xzt="Duplicate data property in object literal not allowed in strict mode",Aa="ILLEGAL",BA="Disabled.",_zt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Ezt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function lL(e,t){if(!e)throw new Error("ASSERT: "+t)}function cm(e){return e>=48&&e<=57}function sre(e){return"0123456789abcdefABCDEF".includes(e)}function E2(e){return"01234567".includes(e)}function Czt(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function zA(e){return e===10||e===13||e===8232||e===8233}function BR(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&_zt.test(String.fromCharCode(e))}function r6(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&Ezt.test(String.fromCharCode(e))}const Szt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function N$e(){for(;st<cl;){const e=rn.charCodeAt(st);if(Czt(e)||zA(e))++st;else break}}function eG(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)st<cl&&sre(rn[st])?(r=rn[st++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):ei({},na,Aa);return String.fromCharCode(i)}function Tzt(){var e,t,n,r;for(e=rn[st],t=0,e==="}"&&ei({},na,Aa);st<cl&&(e=rn[st++],!!sre(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&ei({},na,Aa),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function M$e(){var e,t;for(e=rn.charCodeAt(st++),t=String.fromCharCode(e),e===92&&(rn.charCodeAt(st)!==117&&ei({},na,Aa),++st,e=eG("u"),(!e||e==="\\"||!BR(e.charCodeAt(0)))&&ei({},na,Aa),t=e);st<cl&&(e=rn.charCodeAt(st),!!r6(e));)++st,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),rn.charCodeAt(st)!==117&&ei({},na,Aa),++st,e=eG("u"),(!e||e==="\\"||!r6(e.charCodeAt(0)))&&ei({},na,Aa),t+=e);return t}function Azt(){var e,t;for(e=st++;st<cl;){if(t=rn.charCodeAt(st),t===92)return st=e,M$e();if(r6(t))++st;else break}return rn.slice(e,st)}function kzt(){var e,t,n;return e=st,t=rn.charCodeAt(st)===92?M$e():Azt(),t.length===1?n=b1:Szt.hasOwnProperty(t)?n=av:t==="null"?n=aL:t==="true"||t==="false"?n=sL:n=b1,{type:n,value:t,start:e,end:st}}function Rz(){var e=st,t=rn.charCodeAt(st),n,r=rn[st],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++st,{type:vu,value:String.fromCharCode(t),start:e,end:st};default:if(n=rn.charCodeAt(st+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return st+=2,{type:vu,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:st};case 33:case 61:return st+=2,rn.charCodeAt(st)===61&&++st,{type:vu,value:rn.slice(e,st),start:e,end:st}}}if(s=rn.substr(st,4),s===">>>=")return st+=4,{type:vu,value:s,start:e,end:st};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return st+=3,{type:vu,value:o,start:e,end:st};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return st+=2,{type:vu,value:i,start:e,end:st};if(i==="//"&&ei({},na,Aa),"<>=!+-*%&|^/".includes(r))return++st,{type:vu,value:r,start:e,end:st};ei({},na,Aa)}function Rzt(e){let t="";for(;st<cl&&sre(rn[st]);)t+=rn[st++];return t.length===0&&ei({},na,Aa),BR(rn.charCodeAt(st))&&ei({},na,Aa),{type:sw,value:parseInt("0x"+t,16),start:e,end:st}}function Izt(e){let t="0"+rn[st++];for(;st<cl&&E2(rn[st]);)t+=rn[st++];return(BR(rn.charCodeAt(st))||cm(rn.charCodeAt(st)))&&ei({},na,Aa),{type:sw,value:parseInt(t,8),octal:!0,start:e,end:st}}function hye(){var e,t,n;if(n=rn[st],lL(cm(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=st,e="",n!=="."){if(e=rn[st++],n=rn[st],e==="0"){if(n==="x"||n==="X")return++st,Rzt(t);if(E2(n))return Izt(t);n&&cm(n.charCodeAt(0))&&ei({},na,Aa)}for(;cm(rn.charCodeAt(st));)e+=rn[st++];n=rn[st]}if(n==="."){for(e+=rn[st++];cm(rn.charCodeAt(st));)e+=rn[st++];n=rn[st]}if(n==="e"||n==="E")if(e+=rn[st++],n=rn[st],(n==="+"||n==="-")&&(e+=rn[st++]),cm(rn.charCodeAt(st)))for(;cm(rn.charCodeAt(st));)e+=rn[st++];else ei({},na,Aa);return BR(rn.charCodeAt(st))&&ei({},na,Aa),{type:sw,value:parseFloat(e),start:t,end:st}}function Dzt(){var e="",t,n,r,i,o=!1;for(t=rn[st],lL(t==="'"||t==='"',"String literal must starts with a quote"),n=st,++st;st<cl;)if(r=rn[st++],r===t){t="";break}else if(r==="\\")if(r=rn[st++],!r||!zA(r.charCodeAt(0)))switch(r){case"u":case"x":rn[st]==="{"?(++st,e+=Tzt()):e+=eG(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:E2(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),st<cl&&E2(rn[st])&&(o=!0,i=i*8+"01234567".indexOf(rn[st++]),"0123".includes(r)&&st<cl&&E2(rn[st])&&(i=i*8+"01234567".indexOf(rn[st++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&rn[st]===`
`&&++st;else{if(zA(r.charCodeAt(0)))break;e+=r}return t!==""&&ei({},na,Aa),{type:jR,value:e,octal:o,start:n,end:st}}function Pzt(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";ei({},ZW)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{ei({},ZW)}try{return new RegExp(e,t)}catch{return null}}function Ozt(){var e,t,n,r,i;for(e=rn[st],lL(e==="/","Regular expression literal must start with a slash"),t=rn[st++],n=!1,r=!1;st<cl;)if(e=rn[st++],t+=e,e==="\\")e=rn[st++],zA(e.charCodeAt(0))&&ei({},kz),t+=e;else if(zA(e.charCodeAt(0)))ei({},kz);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||ei({},kz),i=t.substr(1,t.length-2),{value:i,literal:t}}function Nzt(){var e,t,n;for(t="",n="";st<cl&&(e=rn[st],!!r6(e.charCodeAt(0)));)++st,e==="\\"&&st<cl?ei({},na,Aa):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&ei({},ZW,n),{value:n,literal:t}}function Mzt(){var e,t,n,r;return xi=null,N$e(),e=st,t=Ozt(),n=Nzt(),r=Pzt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:st}}function $zt(e){return e.type===b1||e.type===av||e.type===sL||e.type===aL}function $$e(){if(N$e(),st>=cl)return{type:LR,start:st,end:st};const e=rn.charCodeAt(st);return BR(e)?kzt():e===40||e===41||e===59?Rz():e===39||e===34?Dzt():e===46?cm(rn.charCodeAt(st+1))?hye():Rz():cm(e)?hye():Rz()}function xu(){const e=xi;return st=e.end,xi=$$e(),st=e.end,e}function F$e(){const e=st;xi=$$e(),st=e}function Fzt(e){const t=new rh(szt);return t.elements=e,t}function pye(e,t,n){const r=new rh(e==="||"||e==="&&"?dzt:azt);return r.operator=e,r.left=t,r.right=n,r}function Lzt(e,t){const n=new rh(lzt);return n.callee=e,n.arguments=t,n}function jzt(e,t,n){const r=new rh(uzt);return r.test=e,r.consequent=t,r.alternate=n,r}function are(e){const t=new rh(P$e);return t.name=e,t}function MT(e){const t=new rh(czt);return t.value=e.value,t.raw=rn.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function mye(e,t,n){const r=new rh(fzt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function Bzt(e){const t=new rh(hzt);return t.properties=e,t}function gye(e,t,n){const r=new rh(pzt);return r.key=t,r.value=n,r.kind=e,r}function zzt(e,t){const n=new rh(mzt);return n.operator=e,n.argument=t,n.prefix=!0,n}function ei(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(lL(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=st,n.description=i,n}function uL(e){e.type===LR&&ei(e,wzt),e.type===sw&&ei(e,gzt),e.type===jR&&ei(e,yzt),e.type===b1&&ei(e,vzt),e.type===av&&ei(e,bzt),ei(e,na,e.value)}function dl(e){const t=xu();(t.type!==vu||t.value!==e)&&uL(t)}function Qi(e){return xi.type===vu&&xi.value===e}function Iz(e){return xi.type===av&&xi.value===e}function Uzt(){const e=[];for(st=xi.start,dl("[");!Qi("]");)Qi(",")?(xu(),e.push(null)):(e.push(w1()),Qi("]")||dl(","));return xu(),Fzt(e)}function yye(){st=xi.start;const e=xu();return e.type===jR||e.type===sw?(e.octal&&ei(e,O$e),MT(e)):are(e.value)}function Vzt(){var e,t,n,r;if(st=xi.start,e=xi,e.type===b1)return n=yye(),dl(":"),r=w1(),gye("init",n,r);if(e.type===LR||e.type===vu)uL(e);else return t=yye(),dl(":"),r=w1(),gye("init",t,r)}function Hzt(){var e=[],t,n,r,i={},o=String;for(st=xi.start,dl("{");!Qi("}");)t=Vzt(),t.key.type===P$e?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?ei({},xzt):i[r]=!0,e.push(t),Qi("}")||dl(",");return dl("}"),Bzt(e)}function qzt(){dl("(");const e=lre();return dl(")"),e}const Wzt={if:1};function Gzt(){var e,t,n;if(Qi("("))return qzt();if(Qi("["))return Uzt();if(Qi("{"))return Hzt();if(e=xi.type,st=xi.start,e===b1||Wzt[xi.value])n=are(xu().value);else if(e===jR||e===sw)xi.octal&&ei(xi,O$e),n=MT(xu());else{if(e===av)throw new Error(BA);e===sL?(t=xu(),t.value=t.value==="true",n=MT(t)):e===aL?(t=xu(),t.value=null,n=MT(t)):Qi("/")||Qi("/=")?(n=MT(Mzt()),F$e()):uL(xu())}return n}function Yzt(){const e=[];if(dl("("),!Qi(")"))for(;st<cl&&(e.push(w1()),!Qi(")"));)dl(",");return dl(")"),e}function Kzt(){st=xi.start;const e=xu();return $zt(e)||uL(e),are(e.value)}function Xzt(){return dl("."),Kzt()}function Qzt(){dl("[");const e=lre();return dl("]"),e}function Jzt(){var e,t,n;for(e=Gzt();;)if(Qi("."))n=Xzt(),e=mye(".",e,n);else if(Qi("("))t=Yzt(),e=Lzt(e,t);else if(Qi("["))n=Qzt(),e=mye("[",e,n);else break;return e}function vye(){const e=Jzt();if(xi.type===vu&&(Qi("++")||Qi("--")))throw new Error(BA);return e}function lN(){var e,t;if(xi.type!==vu&&xi.type!==av)t=vye();else{if(Qi("++")||Qi("--"))throw new Error(BA);if(Qi("+")||Qi("-")||Qi("~")||Qi("!"))e=xu(),t=lN(),t=zzt(e.value,t);else{if(Iz("delete")||Iz("void")||Iz("typeof"))throw new Error(BA);t=vye()}}return t}function bye(e){let t=0;if(e.type!==vu&&e.type!==av)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function Zzt(){var e,t,n,r,i,o,s,a,l,u;if(e=xi,l=lN(),r=xi,i=bye(r),i===0)return l;for(r.prec=i,xu(),t=[e,xi],s=lN(),o=[l,r,s];(i=bye(xi))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=pye(a,l,s),o.push(n);r=xu(),r.prec=i,o.push(r),t.push(xi),n=lN(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=pye(o[u-1].value,o[u-2],n),u-=2;return n}function w1(){var e,t,n;return e=Zzt(),Qi("?")&&(xu(),t=w1(),dl(":"),n=w1(),e=jzt(e,t,n)),e}function lre(){const e=w1();if(Qi(","))throw new Error(BA);return e}function eUt(e){rn=e,st=0,cl=rn.length,xi=null,F$e();const t=lre();if(xi.type!==LR)throw new Error("Unexpect token after expression.");return t}function tG(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...tG(e.object)),t.push(...tG(e.property))),t)}function L$e(e){return e.object.type==="MemberExpression"?L$e(e.object):e.object.name==="datum"}function j$e(e){const t=eUt(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&L$e(r)&&n.add(tG(r).slice(1).join("."))}),n}class hC extends _i{clone(){return new hC(null,this.model,Yn(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=i6(this.model,this.filter,this),this._dependentFields=j$e(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function tUt(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;let i=0;for(const o of t){const s=oo(o.name),a=o.select,l=nr(a)?a:a.type,u=Xr(a)?Yn(a):{type:l},c=r[l];for(const h in c)h==="fields"||h==="encodings"||(h==="mark"&&(u.mark={...c.mark,...u.mark}),(u[h]===void 0||u[h]===!0)&&(u[h]=Yn(c[h]??u[h])));const d=n[s]={...u,name:s,type:l,init:o.value,bind:o.bind,events:nr(u.on)?dC(u.on,"scope"):Xo(Yn(u.on))};if(Jh(d)&&(i++,i>1)){delete n[s];continue}const f=Yn(o);for(const h of oL)h.defined(d)&&h.parse&&h.parse(e,d,f)}return i>1&&_t(e8t),n}function B$e(e,t,n,r="datum"){const i=nr(t)?t:t.param,o=oo(i),s=Kr(o+v1);let a;try{a=e.getSelectionComponent(o,i)}catch{return`!!${o}`}if(a.project.timeUnit){const f=n??e.component.data.raw,h=a.project.timeUnit.clone();f.parent?h.insertAsParentOf(f):f.parent=h}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=a.resolve==="global"?")":`, ${Kr(a.resolve)})`,c=`${l}${s}, ${r}${u}`,d=`length(data(${s}))`;return t.empty===!1?`${d} && ${c}`:`!${d} || ${c}`}function z$e(e,t,n){const r=oo(t),i=n.encoding;let o=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!o)o=s.project.items[0].field,s.project.items.length>1&&_t(t8t(o));else if(i&&!o){const a=s.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(o=s.project.items[0].field,_t(n8t(a,i,n,o))):o=a[0].field}return`${s.name}[${Kr(_d(o))}]`}function nUt(e,t){for(const[n,r]of Cy(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new ku(new hC(t,e,{param:n}),i,yo.Lookup,e.component.data.outputNodeRefCounts)}}function i6(e,t,n){return w2(t,r=>nr(r)?r:djt(r)?B$e(e,r,n):jMe(r))}function rUt(e,t){if(e)return Jt(e)&&!y0(e)?e.map(n=>Bne(n,t)).join(", "):e}function Dz(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function $T(e,t,n,r={header:!1}){const{disable:i,orient:o,scale:s,labelExpr:a,title:l,zindex:u,...c}=e.combine();if(!i){for(const d in c){const f=d,h=gBt[f],m=c[f];if(h&&h!==t&&h!=="both")delete c[f];else if($R(m)){const{condition:p,...g}=m,y=Xo(p),v=B0e[f];if(v){const{vgProp:w,part:E}=v,C=[...y.map(S=>{const{test:T,...A}=S;return{test:i6(null,T),...A}}),g];Dz(c,E,w,C),delete c[f]}else if(v===null){const w={signal:y.map(E=>{const{test:C,...S}=E;return`${i6(null,C)} ? ${C0e(S)} : `}).join("")+C0e(g)};c[f]=w}}else if(sn(m)){const p=B0e[f];if(p){const{vgProp:g,part:y}=p;Dz(c,y,g,m),delete c[f]}}Cr(["labelAlign","labelBaseline"],f)&&c[f]===null&&delete c[f]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:d}=c.encode;c.encode={...d?{grid:d}:{}},Si(c.encode)&&delete c.encode}return{scale:s,orient:o,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Qo(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let f=a;c.encode?.labels?.update&&sn(c.encode.labels.update.text)&&(f=c1(a,"datum.label",c.encode.labels.update.text.signal)),Dz(c,"labels","text",{signal:f})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const f of g6e)e.hasAxisPart(f)||delete c.encode[f];Si(c.encode)&&delete c.encode}const d=rUt(l,n);return{scale:s,orient:o,grid:!1,...d?{title:d}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:Qo(u,0)}}}}function U$e(e){const{axes:t}=e.component,n=[];for(const r of Ig)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const o=r==="x"?"height":"width",s=e.getSizeSignalRef(o).signal;o!==s&&n.push({name:o,update:s})}}return n}function iUt(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>$T(i,"grid",t)),...r.map(i=>$T(i,"grid",t)),...n.map(i=>$T(i,"main",t)),...r.map(i=>$T(i,"main",t))].filter(i=>i)}function wye(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const o=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...gt(s),...gt(a)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${o}" ? ${gf(s[c])} : ${gf(a[c])}`};return u}return t[i]})])}function oUt(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:VMe(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",s=sn(n)?"axisOrient":`axis${SR(n)}`,a=[...i,...i.map(u=>o+u.substr(4))],l=["axis",s,o];return{vlOnlyAxisConfig:wye(a,r,e,n),vgAxisConfig:wye(l,r,e,n),axisConfigStyle:sUt([...l,...a],r)}}function sUt(e,t){const n=[{}];for(const r of e){let i=t[r]?.style;if(i){i=Xo(i);for(const o of i)n.push(t.style[o])}}return Object.assign.apply(null,n)}function nG(e,t,n,r={}){const i=yMe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const o of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(r[o]?.[e]!==void 0)return{configFrom:o,configValue:r[o][e]};return{}}const xye={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??aUt(n,e),gridScale:({model:e,channel:t})=>lUt(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||H$e(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||V$e(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??cUt(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??dUt(t.type,n,St(t)&&!!t.timeUnit,St(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const o=e==="x"?"width":e==="y"?"height":void 0,s=o?t.getSizeSignalRef(o):void 0;return n.tickCount??hUt({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},tickMinStep:pUt,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=q$e(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),o=n==="x"?"x2":"y2",s=t.fieldDef(o);return bMe(i?[L0e(i)]:[],St(s)?[L0e(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>mUt(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??gUt(n,t)};function aUt(e,t){return!ia(e)&&St(t)&&!Ui(t?.bin)&&!va(t?.bin)}function lUt(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function uUt(e,t,n,r,i){const o=t?.labelAngle;if(o!==void 0)return sn(o)?o:FA(o);{const{configValue:s}=nG("labelAngle",r,t?.style,i);return s!==void 0?FA(s):n===lo&&Cr([kne,Ane],e.type)&&!(St(e)&&e.timeUnit)?270:void 0}}function rG(e){return`(((${e.signal} % 360) + 360) % 360)`}function V$e(e,t,n,r){if(e!==void 0)if(n==="x"){if(sn(e)){const i=rG(e),o=sn(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(sn(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(sn(e)){const i=rG(e),o=sn(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(sn(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function H$e(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,o=r?"bottom":"left";if(sn(e)){const s=rG(e),a=sn(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(sn(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${o}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function cUt(e,t){if(t==="x"&&Cr(["quantitative","temporal"],e))return!0}function dUt(e,t,n,r){if(n&&!Xr(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function fUt(e){return e==="x"?"bottom":"left"}function hUt({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){if(!r&&!ia(t)&&t!=="log"){if(St(e)){if(Ui(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&Cr(["month","hours","day","quarter"],ra(e.timeUnit)?.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function pUt({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(St(t)){const{timeUnit:n}=t;if(n){const r=$Me(n);if(r)return{signal:r}}}}function q$e(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,s=i?i.title:void 0;if(o&&s)return wMe(o,s);if(o)return o;if(s)return s;if(o!==void 0)return o;if(s!==void 0)return s}function mUt(e,t){const n=e.values;if(Jt(n))return m6e(t,n);if(sn(n))return n}function gUt(e,t){return e==="rect"&&YM(t)?1:0}class aE extends _i{clone(){return new aE(null,Yn(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=j$e(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(ow(r)&&o6e(r.sort)){const{field:o,timeUnit:s}=r,a=r.sort,l=a.map((u,c)=>`${jMe({field:o,timeUnit:s,equal:u})} ? ${c} : `).join("")+a.length;t=new aE(t,{calculate:l,as:lE(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Pr(this.transform)}`}}function lE(e,t,n){return Mt(e,{prefix:t,suffix:"sort_index",...n})}function cL(e,t){return Cr(["top","bottom"],t)?"column":Cr(["left","right"],t)||e==="row"?"row":"column"}function uE(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return Qo((t||{})[e],i[e],n.header[e])}function dL(e,t,n,r){const i={};for(const o of e){const s=uE(o,t||{},n,r);s!==void 0&&(i[o]=s)}return i}const ure=["row","column"],cre=["header","footer"];function yUt(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:s,titleOrient:a}=dL(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=cL(t,a),u=FA(s);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...G$e(u,l),...W$e(l,u,o),...Y$e(r,i,t,LBt,N6e)}}}function W$e(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=H$e(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function G$e(e,t){const n=V$e(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function vUt(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of cre)if(n[i])for(const o of n[i]){const s=wUt(e,t,i,n,o);s!=null&&r.push(s)}return r}function bUt(e,t){const{sort:n}=e;return $m(n)?{field:Mt(n,{expr:"datum"}),order:n.order??"ascending"}:Jt(n)?{field:lE(e,t,{expr:"datum"}),order:"ascending"}:{field:Mt(e,{expr:"datum"}),order:n??"ascending"}}function iG(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:s,labelOrient:a,labelExpr:l}=dL(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=$ne({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=cL(t,a);return{text:{signal:l?c1(c1(l,"datum.label",u),"datum.value",Mt(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...G$e(o,c),...W$e(c,o,s),...Y$e(n,e,t,jBt,M6e)}}function wUt(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:s}=r,a=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:d}=dL(["labelOrient"],s.header,a,t);(t==="row"&&!Cr(["top","bottom"],d)||t==="column"&&!Cr(["left","right"],d))&&(o=iG(s,t,a))}const l=pc(e)&&!PR(e.facet),u=i.axes,c=u?.length>0;if(o||c){const d=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:bUt(s,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[d]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const xUt={column:{start:0,end:1},row:{start:1,end:0}};function _Ut(e,t){return xUt[t][e]}function EUt(e,t){const n={};for(const r of id){const i=e[r];if(i?.facetFieldDef){const{titleAnchor:o,titleOrient:s}=dL(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=cL(r,s),l=_Ut(o,a);l!==void 0&&(n[a]=l)}}return Si(n)?void 0:n}function Y$e(e,t,n,r,i){const o={};for(const s of r){if(!i[s])continue;const a=uE(s,t?.header,e,n);a!==void 0&&(o[i[s]]=a)}return o}function dre(e){return[...hP(e,"width"),...hP(e,"height"),...hP(e,"childWidth"),...hP(e,"childHeight")]}function hP(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const s=o.get("type"),a=o.get("range");if(ia(s)&&nw(a)){const l=e.scaleName(n);return pc(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[_ye(l,a)]:[_ye(l,a),{name:i,update:K$e(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=i.endsWith("width"),s=o?"containerSize()[0]":"containerSize()[1]",a=HW(e.config.view,o?"width":"height"),l=`isFinite(${s}) ? ${s} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function _ye(e,t){const n=`${e}_step`;return sn(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function K$e(e,t,n){const r=t.get("type"),i=t.get("padding"),o=Qo(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${gf(s)}, ${gf(o)}) * ${e}_step`}function X$e(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function Q$e(e,t){return gt(e).reduce((n,r)=>({...n,...fC({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>Xi(i.value),invalidValueRef:void 0})}),{})}function J$e(e,t){if(pc(t))return e==="theta"?"independent":"shared";if(gC(t))return"shared";if(vre(t))return Jo(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function fre(e,t){const n=e.scale[t],r=Jo(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&_t(O8t(t)),"independent"):e[r][t]||"shared"}const CUt={...UBt,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},Z$e=gt(CUt);class SUt extends Pg{}const Eye={symbols:TUt,gradient:AUt,labels:kUt,entries:RUt};function TUt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:o}){if(o!=="symbol")return;const{markDef:s,encoding:a,config:l,mark:u}=n,c=s.filled&&u!=="trail";let d={...zLt({},n,Fjt),...b$e(n,{filled:c})};const f=i.get("symbolOpacity")??l.legend.symbolOpacity,h=i.get("symbolFillColor")??l.legend.symbolFillColor,m=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,p=f===void 0?e5e(a.opacity)??s.opacity:void 0;if(d.fill){if(r==="fill"||c&&r===Nu)delete d.fill;else if(vt(d.fill,"field"))h?delete d.fill:(d.fill=Xi(l.legend.symbolBaseFillColor??"black"),d.fillOpacity=Xi(p??1));else if(Jt(d.fill)){const g=oG(a.fill??a.color)??s.fill??(c&&s.color);g&&(d.fill=Xi(g))}}if(d.stroke){if(r==="stroke"||!c&&r===Nu)delete d.stroke;else if(vt(d.stroke,"field")||m)delete d.stroke;else if(Jt(d.stroke)){const g=Qo(oG(a.stroke||a.color),s.stroke,c?s.color:void 0);g&&(d.stroke={value:g})}}if(r!==Rg){const g=St(t)&&n5e(n,i,t);g?d.opacity=[{test:g,...Xi(p??1)},Xi(l.legend.unselectedOpacity)]:p&&(d.opacity=Xi(p))}return d={...d,...e},Si(d)?void 0:d}function AUt(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:o,encoding:s}=t;let a={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?e5e(s.opacity)||o.opacity:void 0;return u&&(a.opacity=Xi(u)),a={...a,...e},Si(a)?void 0:a}function kUt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},s=n.config,a=St(t)?n5e(n,i,t):void 0,l=a?[{test:a,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=o;let d;g1(c)?d=yf({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:s}):u===void 0&&c===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?d=yf({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&St(t)&&t.timeUnit===void 0&&(d=yf({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const f={...l?{opacity:l}:{},...d?{text:d}:{},...e};return Si(f)?void 0:f}function RUt(e,{legendCmpt:t}){return t.get("selections")?.length?{...e,fill:{value:"transparent"}}:e}function e5e(e){return t5e(e,(t,n)=>Math.max(t,n.value))}function oG(e){return t5e(e,(t,n)=>Qo(t,n.value))}function t5e(e,t){if(iBt(e))return Xo(e.condition).reduce(t,e.value);if($f(e))return e.value}function n5e(e,t,n){const r=t.get("selections");if(!r?.length)return;const i=Kr(n.field);return r.map(o=>`(!length(data(${Kr(oo(o)+v1)})) || (${o}[${i}] && indexof(${o}[${i}], datum.value) >= 0))`).join(" || ")}const Cye={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return n6e(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return r6e(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??$Ut(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??FUt(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??DUt(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>s_(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(o_(n)&&Bh(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>IUt(t,e)};function IUt(e,t){const n=e.values;if(Jt(n))return m6e(t,n);if(sn(n))return n}function DUt(e,t,n,r){if(t!=="shape"){const i=oG(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function PUt(e){const{legend:t}=e;return Qo(t.type,OUt(e))}function OUt({channel:e,timeUnit:t,scaleType:n}){if(o_(e)){if(Cr(["quarter","month","day"],t))return"symbol";if(Bh(n))return"gradient"}return"symbol"}function NUt({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??MUt(n,t)}function MUt(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function $Ut({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:s,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(Bh(i))return n==="horizontal"?r==="top"||r==="bottom"?Sye(t,"width",s,o):s:Sye(t,"height",l,a)}function Sye(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function FUt(e){if(Cr(["quantile","threshold","log","symlog"],e))return"greedy"}function r5e(e){const t=mo(e)?LUt(e):UUt(e);return e.component.legends=t,t}function LUt(e){const{encoding:t}=e,n={};for(const r of[Nu,...F6e]){const i=Is(t[r]);!i||!e.getScaleComponent(r)||r===Mu&&St(i)&&i.type===cC||(n[r]=zUt(e,r))}return n}function jUt(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function BUt(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!n?.values;case"title":if(t==="title"&&e===r?.title)return!0}return e===(n||{})[t]}function zUt(e,t){let n=e.legend(t);const{markDef:r,encoding:i,config:o}=e,s=o.legend,a=new SUt({},jUt(e,t));z7t(e,t,a);const l=n!==void 0?!n:s.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const u=e.getScaleComponent(t).get("type"),c=Is(i[t]),d=St(c)?ra(c.timeUnit)?.unit:void 0,f=n.orient||o.legend.orient||"right",h=PUt({legend:n,channel:t,timeUnit:d,scaleType:u}),m=NUt({legend:n,legendType:h,orient:f,legendConfig:s}),p={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:s,config:o,scaleType:u,orient:f,legendType:h,direction:m};for(const E of Z$e){if(h==="gradient"&&E.startsWith("symbol")||h==="symbol"&&E.startsWith("gradient"))continue;const C=E in Cye?Cye[E](p):n[E];if(C!==void 0){const S=BUt(C,E,n,e.fieldDef(t));(S||o.legend[E]===void 0)&&a.set(E,C,S)}}const g=n?.encoding??{},y=a.get("selections"),v={},w={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:a,legendType:h};for(const E of["labels","legend","title","symbols","gradient","entries"]){const C=Q$e(g[E]??{},e),S=E in Eye?Eye[E](C,w):C;S!==void 0&&!Si(S)&&(v[E]={...y?.length&&St(c)?{name:`${oo(c.field)}_legend_${E}`}:{},...y?.length?{interactive:!!y}:{},update:S})}return Si(v)||a.set("encode",v,!!n?.encoding),a}function UUt(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){r5e(r);for(const i of gt(r.component.legends))n.legend[i]=fre(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=i5e(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of gt(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function i5e(e,t){if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const o of Z$e){const s=Ay(e.getWithExplicit(o),t.getWithExplicit(o),o,"legend",(a,l)=>{switch(o){case"symbolType":return VUt(a,l);case"title":return xMe(a,l);case"type":return i=!0,tc("symbol")}return tL(a,l,o,"legend")});e.setWithExplicit(o,s)}return i&&(e.implicit?.encode?.gradient&&VM(e.implicit,["encode","gradient"]),e.explicit?.encode?.gradient&&VM(e.explicit,["encode","gradient"])),e}function VUt(e,t){return t.value==="circle"?t:e}function HUt(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function o5e(e){const t=e.component.legends,n={};for(const i of gt(t)){const o=e.getScaleComponent(i),s=Ti(o.get("domains"));if(n[s])for(const a of n[s])i5e(a,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return Ra(n).flat().map(i=>qUt(i,e.config)).filter(i=>i!==void 0)}function qUt(e,t){const{disable:n,labelExpr:r,selections:i,...o}=e.combine();if(!n){if(t.aria===!1&&o.aria==null&&(o.aria=!1),o.encode?.symbols){const s=o.encode.symbols.update;s.fill&&s.fill.value!=="transparent"&&!s.stroke&&!o.stroke&&(s.stroke={value:"transparent"});for(const a of F6e)o[a]&&delete s[a]}if(o.title||delete o.title,r!==void 0){let s=r;o.encode?.labels?.update&&sn(o.encode.labels.update.text)&&(s=c1(r,"datum.label",o.encode.labels.update.text.signal)),HUt(o,"labels","text",{signal:s})}return o}}function WUt(e){return gC(e)||vre(e)?GUt(e):s5e(e)}function GUt(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),s5e(e))}function s5e(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},o=t.data.reduce((s,a)=>{const l=sn(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return Cr(s,l)||s.push(l),s},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const YUt=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class a5e extends Pg{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function l5e(e){e.component.projection=mo(e)?KUt(e):JUt(e)}function KUt(e){if(e.hasProjection){const t=wa(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?XUt(e):void 0,o=new a5e(e.projectionName(!0),{...wa(e.config.projection),...t},r,i);return o.get("type")||o.set("type","equalEarth",!1),o}}function XUt(e){const t=[],{encoding:n}=e;for(const r of[[th,eh],[Ed,nh]])(Is(n[r[0]])||Is(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(Mu)&&e.typedFieldDef(Mu).type===cC&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(yo.Main)),t}function QUt(e,t){const n=ene(YUt,i=>!!(!cs(e.explicit,i)&&!cs(t.explicit,i)||cs(e.explicit,i)&&cs(t.explicit,i)&&uc(e.get(i),t.get(i))));if(uc(e.size,t.size)){if(n)return e;if(uc(e.explicit,{}))return t;if(uc(t.explicit,{}))return e}return null}function JUt(e){if(e.children.length===0)return;let t;for(const r of e.children)l5e(r);const n=ene(e.children,r=>{const i=r.component.projection;if(i)if(t){const o=QUt(t,i);return o&&(t=o),!!o}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new a5e(r,t.specifiedProjection,t.size,Yn(t.data));for(const o of e.children){const s=o.component.projection;s&&(s.isFit&&i.data.push(...o.component.projection.data),o.renameProjection(s.get("name"),r),s.merged=!0)}return i}}function ZUt(e,t,n,r){if(MR(t,n)){const i=mo(e)?e.axis(n)??e.legend(n)??{}:{},o=Mt(t,{expr:"datum"}),s=Mt(t,{expr:"datum",binSuffix:"end"});return{formulaAs:Mt(t,{binSuffix:"range",forAs:!0}),formula:DR(o,s,i.format,i.formatType,r)}}return{}}function u5e(e,t){return`${hMe(e)}_${t}`}function eVt(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function hre(e,t,n){const r=KF(n,void 0)??{},i=u5e(r,t);return e.getName(`${i}_bins`)}function tVt(e){return"as"in e}function Tye(e,t,n){let r,i;tVt(e)?r=nr(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[Mt(e,{forAs:!0}),Mt(e,{binSuffix:"end",forAs:!0})];const o={...KF(t,void 0)},s=u5e(o,e.field),{signal:a,extentSignal:l}=eVt(n,s);if(LF(o.extent)){const c=o.extent;i=z$e(n,c.param,c),delete o.extent}const u={bin:o,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:s,binComponent:u}}class Zh extends _i{clone(){return new Zh(null,Yn(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{if(Kl(o)&&Ui(o.bin)){const{key:a,binComponent:l}=Tye(o,o.bin,n);i[a]={...l,...i[a],...ZUt(n,o,s,n.config)}}return i},{});return Si(r)?null:new Zh(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:o}=Tye(n,n.bin,r);return new Zh(t,{[i]:o})}merge(t,n){for(const r of gt(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=jh([...this.bins[r].as,...t.bins[r].as],Pr)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(Ra(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(Ra(this.bins).map(t=>t.field))}hash(){return`Bin ${Pr(this.bins)}`}assemble(){return Ra(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:o,...s}=t.bin,a={type:"bin",field:_d(t.field),as:r,signal:t.signal,...LF(o)?{extent:null}:{extent:o},...t.span?{span:{signal:`span(${t.span})`}}:{},...s};!o&&t.extentSignal&&(n.push({type:"extent",field:_d(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const l of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:Mt({field:r[u]},{expr:"datum"}),as:l[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function nVt(e,t,n,r){const i=mo(r)?r.encoding[Fp(t)]:void 0;if(Kl(n)&&mo(r)&&a6e(n,i,r.markDef,r.config)){e.add(Mt(n,{})),e.add(Mt(n,{suffix:"end"}));const{mark:o,markDef:s,config:a}=r,l=Ty({fieldDef:n,markDef:s,config:a});LA(o)&&l!==.5&&Jo(t)&&(e.add(Mt(n,{suffix:nL})),e.add(Mt(n,{suffix:rL}))),n.bin&&MR(n,t)&&e.add(Mt(n,{binSuffix:"range"}))}else if(iMe(t)){const o=rMe(t);e.add(r.getName(o))}else e.add(Mt(n));return ow(n)&&Cjt(n.scale?.range)&&e.add(n.scale.range.field),e}function rVt(e,t){for(const n of gt(t)){const r=t[n];for(const i of gt(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class Ef extends _i{clone(){return new Ef(null,new Set(this.dimensions),Yn(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(s=>{s.aggregate&&(r=!0)});const i={},o=new Set;return!r||(n.forEachFieldDef((s,a)=>{const{aggregate:l,field:u}=s;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([Mt(s,{forAs:!0})]);else{if(ng(l)||ov(l)){const c=ng(l)?"argmin":"argmax",d=l[c];i[d]??(i[d]={}),i[d][c]=new Set([Mt({op:c,field:d},{forAs:!0})])}else i[u]??(i[u]={}),i[u][l]=new Set([Mt(s,{forAs:!0})]);Lp(a)&&n.scaleDomain(a)==="unaggregated"&&(i[u]??(i[u]={}),i[u].min=new Set([Mt({field:u,aggregate:"min"},{forAs:!0})]),i[u].max=new Set([Mt({field:u,aggregate:"max"},{forAs:!0})]))}else nVt(o,a,s,n)}),o.size+gt(i).length===0)?null:new Ef(t,o,i)}static makeFromTransform(t,n){var r;const i=new Set,o={};for(const s of n.aggregate){const{op:a,field:l,as:u}=s;a&&(a==="count"?(o["*"]??(o["*"]={}),o["*"].count=new Set([u||Mt(s,{forAs:!0})])):(o[l]??(o[l]={}),(r=o[l])[a]??(r[a]=new Set),o[l][a].add(u||Mt(s,{forAs:!0}))))}for(const s of n.groupby??[])i.add(s);return i.size+gt(o).length===0?null:new Ef(t,i,o)}merge(t){return K4e(this.dimensions,t.dimensions)?(rVt(this.measures,t.measures),!0):(K8t("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...gt(this.measures)])}producedFields(){const t=new Set;for(const n of gt(this.measures))for(const r of gt(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${Pr({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const o of gt(this.measures))for(const s of gt(this.measures[o]))for(const a of this.measures[o][s])r.push(a),t.push(s),n.push(o==="*"?null:_d(o));return{type:"aggregate",groupby:[...this.dimensions].map(_d),ops:t,fields:n,as:r}}}class pC extends _i{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const o of id){const s=n.facet[o];if(s){const{bin:a,sort:l}=s;this[o]={name:n.getName(`${o}_domain`),fields:[Mt(s),...Ui(a)?[Mt(s,{binSuffix:"end"})]:[]],...$m(l)?{sortField:l}:Jt(l)?{sortIndexField:lE(s,o)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of id)this[n]&&(t+=` ${n.charAt(0)}:${Pr(this[n])}`);return t}get fields(){const t=[];for(const n of id)this[n]?.fields&&t.push(...this[n].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of id)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of Ig){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),o=r.get("range");if(ia(i)&&nw(o)){const s=fL(this.childModel,n),a=yre(s);a?t[n]=a:_t(pne(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],o=[],s=[],a=[];i&&r&&r[i]&&(n?(o.push(`distinct_${r[i]}`),s.push("max")):(o.push(r[i]),s.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=WF,field:d}=l;o.push(d),s.push(c),a.push(Mt(l,{forAs:!0}))}else u&&(o.push(u),s.push("max"),a.push(u));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...o.length?{fields:o,ops:s,as:a}:{}}]}}assembleFacetHeaderData(t){const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],o={};for(const l of ure){for(const u of cre){const c=(r[l]&&r[l][u])??[];for(const d of c)if(d.axes?.length>0){o[l]=!0;break}}if(o[l]){const u=`length(data("${this.facet.name}"))`,c=l==="row"?n?{signal:`ceil(${u} / ${n})`}:1:n?{signal:`min(${u}, ${n})`}:{signal:u};i.push({name:`${this.facet.name}_${l}`,transform:[{type:"sequence",start:0,stop:c}]})}}const{row:s,column:a}=o;return(s||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:o,facet:s}=this;if(i&&o&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),l=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:l}]})}for(const a of[Mm,Nm])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(s){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function Aye(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function iVt(e,t){const n=rne(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=Aye(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=Aye(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return _t(i8t(t)),null}function oVt(e){const t={};return sN(e.filter,n=>{if(LMe(n)){let r=null;wne(n)?r=oc(n.equal):_ne(n)?r=oc(n.lte):xne(n)?r=oc(n.lt):Ene(n)?r=oc(n.gt):Cne(n)?r=oc(n.gte):Sne(n)?r=n.range[0]:Tne(n)&&(r=(n.oneOf??n.in)[0]),r&&(rw(r)?t[n.field]="date":ao(r)?t[n.field]="number":nr(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function sVt(e){const t={};function n(r){iE(r)?t[r.field]="date":r.type==="quantitative"&&PLt(r.aggregate)?t[r.field]="number":J_(r.field)>1?r.field in t||(t[r.field]="flatten"):ow(r)&&$m(r.sort)&&J_(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((mo(e)||pc(e))&&e.forEachFieldDef((r,i)=>{if(Kl(r))n(r);else{const o=ew(i),s=e.fieldDef(o);n({...r,type:s.type})}}),mo(e)){const{mark:r,markDef:i,encoding:o}=e;if(sv(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",a=o[s];St(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function aVt(e){const t={};if(mo(e)&&e.component.selection)for(const n of gt(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&J_(i.field)>1&&(t[i.field]="flatten")}return t}class il extends _i{clone(){return new il(null,Yn(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${Pr(this._parse)}`}static makeExplicit(t,n,r){let i={};const o=n.data;return!Z0(o)&&o?.format?.parse&&(i=o.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of gt(r)){const l=i.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:_t(I0e(a,r[a],l.value)))}for(const a of gt(n)){const l=i.get(a);l!==void 0&&(l===n[a]?delete n[a]:_t(I0e(a,n[a],l)))}const o=new Pg(n,r);i.copyAll(o);const s={};for(const a of gt(o.combine())){const l=o.get(a);l!==null&&(s[a]=l)}return gt(s).length===0||i.parseNothing?null:new il(t,s)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of gt(this._parse)){const r=this._parse[n];J_(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(gt(this._parse))}dependentFields(){return new Set(gt(this._parse))}assembleTransforms(t=!1){return gt(this._parse).filter(n=>t?J_(n)>1:!0).map(n=>{const r=iVt(n,this._parse[n]);return r?{type:"formula",expr:r,as:lC(n)}:null}).filter(n=>n!==null)}}class ky extends _i{clone(){return new ky(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Lf])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Lf}}}class zR extends _i{clone(){return new zR(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Pr(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class UR extends _i{clone(){return new UR(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${Pr(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class x1 extends _i{constructor(t){super(null),t??(t={name:"source"});let n;if(Z0(t)||(n=t.format?{...Au(t.format,["parse"])}:{}),jA(t))this._data={values:t.values};else if(oE(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];Cr(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else t$e(t)?this._data={values:[{type:"Sphere"}]}:(Z6e(t)||Z0(t))&&(this._data={});this._generator=Z0(t),t.name&&(this._name=t.name),n&&!Si(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var kye=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},lVt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},FT;function pre(e){return e instanceof x1||e instanceof zR||e instanceof UR}class mre{constructor(){FT.set(this,void 0),kye(this,FT,!1,"f")}setModified(){kye(this,FT,!0,"f")}get modifiedFlag(){return lVt(this,FT,"f")}}FT=new WeakMap;class aw extends mre{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,o)=>o[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class gre extends mre{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class uVt extends gre{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of gt(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class cVt extends gre{constructor(t){super(),this.requiresSelectionId=t&&ore(t)}run(t){t instanceof ky&&(this.requiresSelectionId&&(pre(t.parent)||t.parent instanceof Ef||t.parent instanceof il)||(this.setModified(),t.remove()))}}class dVt extends mre{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof Qh&&(r=t.producedFields(),tne(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class fVt extends gre{constructor(){super()}run(t){t instanceof ku&&!t.isRequired()&&(this.setModified(),t.remove())}}class hVt extends aw{run(t){if(!pre(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof il)if(t instanceof il)this.setModified(),t.merge(n);else{if(nne(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class pVt extends aw{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof il);if(t.numChildren()>1&&r.length>=1){const i={},o=new Set;for(const s of r){const a=s.parse;for(const l of gt(a))l in i?i[l]!==a[l]&&o.add(l):i[l]=a[l]}for(const s of o)delete i[s];if(!Si(i)){this.setModified();const s=new il(t,i);for(const a of n){if(a instanceof il)for(const l of gt(i))delete a.parse[l];t.removeChild(a),a.parent=s,a instanceof il&&gt(a.parse).length===0&&a.remove()}}}}}class mVt extends aw{run(t){t instanceof ku||t.numChildren()>0||t instanceof pC||t instanceof x1||(this.setModified(),t.remove())}}class gVt extends aw{run(t){const n=t.children.filter(i=>i instanceof Qh),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class yVt extends aw{run(t){const n=t.children.filter(i=>i instanceof Ef),r={};for(const i of n){const o=Pr(i.groupBy);o in r||(r[o]=[]),r[o].push(i)}for(const i of gt(r)){const o=r[i];if(o.length>1){const s=o.pop();for(const a of o)s.merge(a)&&(t.removeChild(a),a.parent=s,a.remove(),this.setModified())}}}}class vVt extends aw{constructor(t){super(),this.model=t}run(t){const n=!(pre(t)||t instanceof hC||t instanceof il||t instanceof ky),r=[],i=[];for(const o of t.children)o instanceof Zh&&(n&&!nne(t.producedFields(),o.dependentFields())?r.push(o):i.push(o));if(r.length>0){const o=r.pop();for(const s of r)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Zh?t.merge(o,this.model.renameSignal.bind(this.model)):o.swapWithParent()}if(i.length>1){const o=i.pop();for(const s of i)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class bVt extends aw{run(t){const n=[...t.children];if(!Q_(n,s=>s instanceof ku)||t.numChildren()<=1)return;const i=[];let o;for(const s of n)if(s instanceof ku){let a=s;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof ku)a=l;else break}i.push(...a.children),o?(t.removeChild(s),s.parent=o.parent,o.parent.removeChild(o),o.parent=a,this.setModified()):o=a}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=o}}}class lw extends _i{clone(){return new lw(null,Yn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=jh(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??Mt(t)}hash(){return`JoinAggregateTransform ${Pr(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const o of this.transform.joinaggregate)n.push(o.op),r.push(this.getDefaultName(o)),t.push(o.field===void 0?null:o.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class cE extends _i{clone(){return new cE(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:o}=n,{marks:s,scales:a}=r;if(s==="include-invalid-values"&&a==="include-invalid-values")return null;const l=n.reduceFieldDef((u,c,d)=>{const f=Lp(d)&&n.getScaleComponent(d);if(f){const h=f.get("type"),{aggregate:m}=c,p=One({scaleChannel:d,markDef:o,config:i,scaleType:h,isCountAggregate:FF(m)});p!=="show"&&p!=="always-valid"&&(u[c.field]=c)}return u},{});return gt(l).length?new cE(t,l):null}dependentFields(){return new Set(gt(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Pr(this.filter)}`}assemble(){const t=gt(this.filter).reduce((n,r)=>{const i=this.filter[r],o=Mt(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${o}) || (${sG(o)}))`):i.type==="quantitative"&&n.push(sG(o))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function sG(e){return`isValid(${e}) && isFinite(+${e})`}function wVt(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=Mt(r);return i&&t.push(i),t},[])}function xVt(e){return Jt(e)&&e.every(t=>nr(t))&&e.length>1}class Lm extends _i{clone(){return new Lm(null,Yn(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:o,offset:s="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const d of n.sort)a.push(d.field),l.push(Qo(d.order,"ascending"));const u={field:a,order:l};let c;return xVt(o)?c=o:nr(o)?c=[o,`${o}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new Lm(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:s,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:o,fieldChannel:s,offset:a,impute:l}=r,u=o.map(h=>{const m=i[h];return Ff(m)}).filter(h=>!!h),c=wVt(n),d=n.encoding.order;let f;if(Jt(d)||St(d))f=vMe(d);else{const h=l6e(d)?d.sort:s==="y"?"descending":"ascending";f=c.reduce((m,p)=>(m.field.includes(p)||(m.field.push(p),m.order.push(h)),m),{field:[],order:[]})}return new Lm(t,{dimensionFieldDefs:u,stackField:n.vgField(s),facetby:[],stackby:c,sort:f,offset:a,impute:l,as:[n.vgField(s,{suffix:"start",forAs:!0}),n.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Pr(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[Mt(i,{binSuffix:"mid"})]:[Mt(i,{}),Mt(i,{binSuffix:"end"})]:[Mt(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:o,sort:s,offset:a,impute:l,as:u}=this._stack;if(l)for(const c of r){const{bandPosition:d=.5,bin:f}=c;if(f){const h=Mt(c,{expr:"datum"}),m=Mt(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${sG(h)} ? ${d}*${h}+${1-d}*${m} : ${h}`,as:Mt(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...o,...n],key:Mt(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:s,as:u,offset:a}),t}}class mC extends _i{clone(){return new mC(null,Yn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=jh(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??Mt(t)}hash(){return`WindowTransform ${Pr(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const d of this.transform.window)n.push(d.op),r.push(this.getDefaultName(d)),i.push(d.param===void 0?null:d.param),t.push(d.field===void 0?null:d.field);const o=this.transform.frame,s=this.transform.groupby;if(o&&o[0]===null&&o[1]===null&&n.every(d=>fne(d)))return{type:"joinaggregate",as:r,ops:n,fields:t,...s!==void 0?{groupby:s}:{}};const a=[],l=[];if(this.transform.sort!==void 0)for(const d of this.transform.sort)a.push(d.field),l.push(d.order??"ascending");const u={field:a,order:l},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:u,...c!==void 0?{ignorePeers:c}:{},...s!==void 0?{groupby:s}:{},...o!==void 0?{frame:o}:{}}}}function _Vt(e){function t(n){if(!(n instanceof pC)){const r=n.clone();if(r instanceof ku){const i=lG+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof Ef||r instanceof Lm||r instanceof mC||r instanceof lw)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function aG(e){if(e instanceof pC)if(e.numChildren()===1&&!(e.children[0]instanceof ku)){const t=e.children[0];(t instanceof Ef||t instanceof Lm||t instanceof mC||t instanceof lw)&&t.addDimensions(e.fields),t.swapWithParent(),aG(e)}else{const t=e.model.component.data.main;c5e(t);const n=_Vt(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(aG)}function c5e(e){if(e instanceof ku&&e.type===yo.Main&&e.numChildren()===1){const t=e.children[0];t instanceof pC||(t.swapWithParent(),c5e(e))}}const lG="scale_",pP=5;function uG(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!uG(t.children))return!1}return!0}function Wd(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function Rye(e,t,n){let r=e.sources,i=!1;return i=Wd(new fVt,r)||i,i=Wd(new cVt(t),r)||i,r=r.filter(o=>o.numChildren()>0),i=Wd(new mVt,r)||i,r=r.filter(o=>o.numChildren()>0),n||(i=Wd(new hVt,r)||i,i=Wd(new vVt(t),r)||i,i=Wd(new dVt,r)||i,i=Wd(new pVt,r)||i,i=Wd(new yVt,r)||i,i=Wd(new gVt,r)||i,i=Wd(new uVt,r)||i,i=Wd(new bVt,r)||i),e.sources=r,i}function EVt(e,t){uG(e.sources);let n=0,r=0;for(let i=0;i<pP&&Rye(e,t,!0);i++)n++;e.sources.map(aG);for(let i=0;i<pP&&Rye(e,t,!1);i++)r++;uG(e.sources),Math.max(n,r)===pP&&_t(`Maximum optimization runs(${pP}) reached.`)}class Ys{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Ys(()=>t(n))}}function d5e(e){mo(e)?CVt(e):SVt(e)}function CVt(e){const t=e.component.scales;for(const n of gt(t)){const r=AVt(e,n);if(t[n].setWithExplicit("domains",r),RVt(e,n),e.component.data.isFaceted){let o=e;for(;!pc(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const a of r.value)_m(a)&&(a.data=lG+a.data.replace(lG,""))}}}function SVt(e){for(const n of e.children)d5e(n);const t=e.component.scales;for(const n of gt(t)){let r,i=null;for(const o of e.children){const s=o.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=Ay(r,s.getWithExplicit("domains"),"domains","scale",cG);const a=s.get("selectionExtent");i&&a&&i.param!==a.param&&_t(QLt),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function TVt(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:o}=Iye(t,n);if(!i){_t(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=Iye(t,n);if(i)return"unaggregated"}return e}function AVt(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=TVt(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&Is(r.x2)?Is(r.x)?Ay(u0(n,i,e,"x"),u0(n,i,e,"x2"),"domain","scale",cG):u0(n,i,e,"x2"):t==="y"&&Is(r.y2)?Is(r.y)?Ay(u0(n,i,e,"y"),u0(n,i,e,"y2"),"domain","scale",cG):u0(n,i,e,"y2"):u0(n,i,e,t)}function kVt(e,t,n){return e.map(r=>({signal:`{data: ${XF(r,{timeUnit:n,type:t})}}`}))}function Pz(e,t,n){const r=ra(n)?.unit;return t==="temporal"||r?kVt(e,t,r):[e]}function u0(e,t,n,r){const{encoding:i,markDef:o,mark:s,config:a,stack:l}=n,u=Is(i[r]),{type:c}=u,d=u.timeUnit,f=t7t({invalid:mp("invalid",o,a),isPath:sv(s)});if(Ejt(t)){const p=u0(e,void 0,n,r),g=Pz(t.unionWith,c,d);return Ah([...g,...p.value])}else{if(sn(t))return Ah([t]);if(t&&t!=="unaggregated"&&!qMe(t))return Ah(Pz(t,c,d))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return tc([[0,1]]);const p=n.requestDataName(f);return tc([{data:p,field:n.vgField(r,{suffix:"start"})},{data:p,field:n.vgField(r,{suffix:"end"})}])}const h=Lp(r)&&St(u)?IVt(n,r,e):void 0;if(jp(u)){const p=Pz([u.datum],c,d);return tc(p)}const m=u;if(t==="unaggregated"){const{field:p}=u;return tc([{data:n.requestDataName(f),field:Mt({field:p,aggregate:"min"})},{data:n.requestDataName(f),field:Mt({field:p,aggregate:"max"})}])}else if(Ui(m.bin)){if(ia(e))return tc(e==="bin-ordinal"?[]:[{data:$A(h)?n.requestDataName(f):n.requestDataName(yo.Raw),field:n.vgField(r,MR(m,r)?{binSuffix:"range"}:{}),sort:h===!0||!Xr(h)?{field:n.vgField(r,{}),op:"min"}:h}]);{const{bin:p}=m;if(Ui(p)){const g=hre(n,m.field,p);return tc([new Ys(()=>{const y=n.getSignalName(g);return`[${y}.start, ${y}.stop]`})])}else return tc([{data:n.requestDataName(f),field:n.vgField(r,{})}])}}else if(m.timeUnit&&Cr(["time","utc"],e)){const p=i[Fp(r)];if(a6e(m,p,o,a)){const g=n.requestDataName(f),y=Ty({fieldDef:m,fieldDef2:p,markDef:o,config:a}),v=LA(s)&&y!==.5&&Jo(r);return tc([{data:g,field:n.vgField(r,v?{suffix:nL}:{})},{data:g,field:n.vgField(r,{suffix:v?rL:"end"})}])}}return tc(h?[{data:$A(h)?n.requestDataName(f):n.requestDataName(yo.Raw),field:n.vgField(r),sort:h}]:[{data:n.requestDataName(f),field:n.vgField(r)}])}function Oz(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":WF),...r?{field:_d(r)}:{},...i?{order:i}:{}}}function RVt(e,t){const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=e.fieldDef(t)?.bin,o=qMe(r)?r:void 0,s=tw(i)&&LF(i.extent)?i.extent:void 0;(o||s)&&n.set("selectionExtent",o??s,!0)}function IVt(e,t,n){if(!ia(n))return;const r=e.fieldDef(t),i=r.sort;if(o6e(i))return{op:"min",field:lE(r,t),order:"ascending"};const{stack:o}=e,s=o?new Set([...o.groupbyFields,...o.stackBy.map(a=>a.fieldDef.field)]):void 0;if($m(i)){const a=o&&!s.has(i.field);return Oz(i,a)}else if(tBt(i)){const{encoding:a,order:l}=i,u=e.fieldDef(a),{aggregate:c,field:d}=u,f=o&&!s.has(d);if(ng(c)||ov(c))return Oz({field:Mt(u),order:l},f);if(fne(c)||!c)return Oz({op:c,field:d,order:l},f)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(Cr(["ascending",void 0],i))return!0}}function Iye(e,t){const{aggregate:n,type:r}=e;return n?nr(n)&&!NLt.has(n)?{valid:!1,reason:T8t(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:A8t(e)}:{valid:!0}:{valid:!1,reason:S8t(e)}}function cG(e,t,n,r){return e.explicit&&t.explicit&&_t(P8t(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function DVt(e){const t=jh(e.map(s=>{if(_m(s)){const{sort:a,...l}=s;return l}return s}),Pr),n=jh(e.map(s=>{if(_m(s)){const a=s.sort;return a!==void 0&&!$A(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(s=>s!==void 0),Pr);if(t.length===0)return;if(t.length===1){const s=e[0];if(_m(s)&&n.length>0){let a=n[0];if(n.length>1){_t(P0e);const l=n.filter(u=>Xr(u)&&"op"in u&&u.op!=="min");n.every(u=>Xr(u)&&"op"in u)&&l.length===1?a=l[0]:a=!0}else if(Xr(a)&&"field"in a){const l=a.field;s.field===l&&(a=a.order?{order:a.order}:!0)}return{...s,sort:a}}return s}const r=jh(n.map(s=>$A(s)||!("op"in s)||nr(s.op)&&cs(ILt,s.op)?s:(_t(N8t(s)),!0)),Pr);let i;r.length===1?i=r[0]:r.length>1&&(_t(P0e),i=!0);const o=jh(e.map(s=>_m(s)?s.data:null),s=>s);return o.length===1&&o[0]!==null?{data:o[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function yre(e){if(_m(e)&&nr(e.field))return e.field;if(MLt(e)){let t;for(const n of e.fields)if(_m(n)&&nr(n.field)){if(!t)t=n.field;else if(t!==n.field)return _t(M8t),t}return _t($8t),t}else if($Lt(e)){_t(F8t);const t=e.fields[0];return nr(t)?t:void 0}}function fL(e,t){const r=e.component.scales[t].get("domains").map(i=>(_m(i)&&(i.data=e.lookupDataSource(i.data)),i));return DVt(r)}function f5e(e){return gC(e)||vre(e)?e.children.reduce((t,n)=>t.concat(f5e(n)),Dye(e)):Dye(e)}function Dye(e){return gt(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:s,selectionExtent:a,domains:l,range:u,reverse:c,...d}=i,f=PVt(i.range,o,n,e),h=fL(e,n),m=a?_7t(e,a,r,h):null;return t.push({name:o,type:s,...h?{domain:h}:{},...m?{domainRaw:m}:{},range:f,...c!==void 0?{reverse:c}:{},...d}),t},[])}function PVt(e,t,n,r){if(Jo(n)){if(nw(e))return{step:{signal:`${t}_step`}}}else if(Xr(e)&&_m(e))return{...e,data:r.lookupDataSource(e.data)};return e}class h5e extends Pg{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(Cr([xa.LOG,xa.TIME,xa.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&Cr([xa.LINEAR,xa.SQRT,xa.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,o=!1,s=!1;for(const a of r){if(Jt(a)){const l=a[0],u=a[a.length-1];if(ao(l)&&ao(u))if(l<=0&&u>=0){i=!0;continue}else{o=!0;continue}}s=!0}if(i)return"definitely";if(o&&!s)return"definitely-not"}return"maybe"}}const OVt=["range","scheme"];function NVt(e){const t=e.component.scales;for(const n of dne){const r=t[n];if(!r)continue;const i=MVt(n,e);r.setWithExplicit("range",i)}}function Pye(e,t){const n=e.fieldDef(t);if(n?.bin){const{bin:r,field:i}=n,o=$u(t),s=e.getName(o);if(Xr(r)&&r.binned&&r.step!==void 0)return new Ys(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${l})`});if(Ui(r)){const a=hre(e,i,r);return new Ys(()=>{const l=e.getSignalName(a),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(s)} / (${u})`})}}}function MVt(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const d of OVt)if(n[d]!==void 0){const f=zW(o,d),h=WMe(e,d);if(!f)_t(SMe(o,d,e));else if(h)_t(h);else switch(d){case"range":{const m=n.range;if(Jt(m)){if(Jo(e))return Ah(m.map(p=>{if(p==="width"||p==="height"){const g=t.getName(p),y=t.getSignalName.bind(t);return Ys.fromName(y,g)}return p}))}else if(Xr(m))return Ah({data:t.requestDataName(yo.Main),field:m.field,sort:{op:"min",field:t.vgField(e)}});return Ah(m)}case"scheme":return Ah($Vt(n[d]))}}const s=e===lo||e==="xOffset"?"width":"height",a=r[s];if(yp(a)){if(Jo(e))if(ia(o)){const d=m5e(a,t,e);if(d)return Ah({step:d})}else _t(TMe(s));else if(kR(e)){const d=e===Zy?"x":"y";if(t.getScaleComponent(d).get("type")==="band"){const m=g5e(a,o);if(m)return Ah(m)}}}const{rangeMin:l,rangeMax:u}=n,c=FVt(e,t);return(l!==void 0||u!==void 0)&&zW(o,"rangeMin")&&Jt(c)&&c.length===2?Ah([l??c[0],u??c[1]]):tc(c)}function $Vt(e){return _jt(e)?{scheme:e.name,...Au(e,["name"])}:{scheme:e}}function p5e(e,t,n,{center:r}={}){const i=$u(e),o=t.getName(i),s=t.getSignalName.bind(t);return e===aa&&Mf(n)?r?[Ys.fromName(a=>`${s(a)}/2`,o),Ys.fromName(a=>`-${s(a)}/2`,o)]:[Ys.fromName(s,o),0]:r?[Ys.fromName(a=>`-${s(a)}/2`,o),Ys.fromName(a=>`${s(a)}/2`,o)]:[0,Ys.fromName(s,o)]}function FVt(e,t){const{size:n,config:r,mark:i,encoding:o}=t,{type:s}=Is(o[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case lo:case aa:{if(Cr(["point","band"],l)){const d=y5e(e,n,r.view);if(yp(d))return{step:m5e(d,t,e)}}return p5e(e,t,l)}case Zy:case uC:return LVt(e,t,l);case kg:{const d=zVt(i,r),f=UVt(i,n,t,r);return tE(l)?BVt(d,f,jVt(l,r,u,e)):[d,f]}case Nd:return[0,Math.PI*2];case Z1:return[0,360];case Zf:return[0,new Ys(()=>{const d=t.getSignalName(pc(t.parent)?"child_width":"width"),f=t.getSignalName(pc(t.parent)?"child_height":"height");return`min(${d},${f})/2`})];case ev:return{step:1e3/r.scale.framesPerSecond};case rv:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case iv:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Mu:return"symbol";case Nu:case Mp:case $p:return l==="ordinal"?s==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case Rg:case tv:case nv:return[r.scale.minOpacity,r.scale.maxOpacity]}}function m5e(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=ane(n),s=r[o];if(j6e({step:e,offsetIsDiscrete:Xn(s)&&BMe(s.type)})==="offset"&&b6e(r,o)){const l=t.getScaleComponent(o);let c=`domain('${t.scaleName(o)}').length`;if(l.get("type")==="band"){const f=l.get("paddingInner")??l.get("padding")??0,h=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${f}, ${h})`}const d=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${BLt(d)})`}}else return e.step}function g5e(e,t){if(j6e({step:e,offsetIsDiscrete:ia(t)})==="offset")return{step:e.step}}function LVt(e,t,n){const r=e===Zy?"x":"y",i=t.getScaleComponent(r);if(!i)return p5e(r,t,n,{center:!0});const o=i.get("type"),s=t.scaleName(r),{markDef:a,config:l}=t;if(o==="band"){const u=y5e(r,t.size,t.config.view);if(yp(u)){const c=g5e(u,n);if(c)return c}return[0,{signal:`bandwidth('${s}')`}]}else{const u=t.encoding[r];if(St(u)&&u.timeUnit){const c=$Me(u.timeUnit,m=>`scale('${s}', ${m})`),d=t.config.scale.bandWithNestedOffsetPaddingInner,f=Ty({fieldDef:u,markDef:a,config:l})-.5,h=f!==0?` + ${f}`:"";if(d){const m=sn(d)?`${d.signal}/2`+h:`${d/2+f}`,p=sn(d)?`(1 - ${d.signal}/2)`+h:`${1-d/2+f}`;return[{signal:`${m} * (${c})`},{signal:`${p} * (${c})`}]}return[0,{signal:c}]}return G4e(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function y5e(e,t,n){const r=e===lo?"width":"height",i=t[r];return i||JM(n,r)}function jVt(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&Jt(n)?n.length+1:(_t(W8t(r)),3)}}function BVt(e,t,n){const r=()=>{const i=gf(t),o=gf(e),s=`(${i} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${i} + ${s}, ${s})`};return sn(t)?new Ys(r):{signal:r()}}function zVt(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(jF("size",e))}const Oye=.95;function UVt(e,t,n,r){const i={x:Pye(n,"x"),y:Pye(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=Nye(t,i,r.view);return ao(o)?o-1:new Ys(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=Nye(t,i,r.view);return ao(o)?Math.pow(Oye*o,2):new Ys(()=>`pow(${Oye} * ${o.signal}, 2)`)}}throw new Error(jF("size",e))}function Nye(e,t,n){const r=yp(e.width)?e.width.step:qW(n,"width"),i=yp(e.height)?e.height.step:qW(n,"height");return t.x||t.y?new Ys(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function v5e(e,t){mo(e)?VVt(e,t):w5e(e,t)}function VVt(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:s}=e;for(const a of gt(n)){const l=s[a],u=n[a],c=e.getScaleComponent(a),d=Is(i[a]),f=l[t],h=c.get("type"),m=c.get("padding"),p=c.get("paddingInner"),g=zW(h,t),y=WMe(a,t);if(f!==void 0&&(g?y&&_t(y):_t(SMe(h,t,a))),g&&y===void 0)if(f!==void 0){const v=d.timeUnit,w=d.type;switch(t){case"domainMax":case"domainMin":rw(l[t])||w==="temporal"||v?u.set(t,{signal:XF(l[t],{type:w,timeUnit:v})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const v=vt(Mye,t)?Mye[t]({model:e,channel:a,fieldOrDatumDef:d,scaleType:h,scalePadding:m,scalePaddingInner:p,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:r,hasNestedOffsetScale:w6e(i,a),hasSecondaryRangeChannel:!!i[Fp(a)]}):r.scale[t];v!==void 0&&u.set(t,v,!1)}}}const Mye={bins:({model:e,fieldOrDatumDef:t})=>St(t)?HVt(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>qVt(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:o})=>WVt(e,t,n,r,i,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>GVt(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:o})=>YVt(e,t,n.type,r,i.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:o})=>KVt(e,t,n,r,i.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=St(e)?e.sort:void 0;return XVt(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:o,hasSecondaryRangeChannel:s})=>QVt(e,t,n,r,i,o.scale,s)};function b5e(e){mo(e)?NVt(e):w5e(e,"range")}function w5e(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?b5e(r):v5e(r,t);for(const r of gt(n)){let i;for(const o of e.children){const s=o.component.scales[r];if(s){const a=s.getWithExplicit(t);i=Ay(i,a,t,"scale",J6e((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function HVt(e,t){const n=t.bin;if(Ui(n)){const r=hre(e,t.field,n);return new Ys(()=>e.getSignalName(r))}else if(va(n)&&tw(n)&&n.step!==void 0)return{step:n.step}}function qVt(e,t){if(Cr([Nu,Mp,$p],e)&&t!=="nominal")return"hcl"}function WVt(e,t,n,r,i,o){if(!(Ff(o)?.bin||Jt(n)||i!=null||r!=null||Cr([xa.TIME,xa.UTC],e)))return Jo(t)?!0:void 0}function GVt(e,t,n,r,i,o){if(Jo(e)){if(Bh(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:a}=i;if(s==="bar"&&!(St(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===xa.POINT)return n.pointPadding}}function YVt(e,t,n,r,i,o=!1){if(e===void 0){if(Jo(t)){const{bandPaddingInner:s,barBandPaddingInner:a,rectBandPaddingInner:l,tickBandPaddingInner:u,bandWithNestedOffsetPaddingInner:c}=i;return o?c:Qo(s,n==="bar"?a:n==="tick"?u:l)}else if(kR(t)&&r===xa.BAND)return i.offsetBandPaddingInner}}function KVt(e,t,n,r,i,o=!1){if(e===void 0){if(Jo(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:a}=i;if(o)return a;if(n===xa.BAND)return Qo(s,sn(r)?{signal:`${r.signal}/2`}:r/2)}else if(kR(t)){if(n===xa.POINT)return .5;if(n===xa.BAND)return i.offsetBandPaddingOuter}}}function XVt(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Mf(e)&&t==="descending"?sn(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Mf(e)&&t==="descending")return!0}function QVt(e,t,n,r,i,o,s){if(!!n&&n!=="unaggregated"&&Mf(i)){if(Jt(n)){const l=n[0],u=n[n.length-1];if(ao(l)&&l<=0&&ao(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!tE(i))return!0;if(!(St(t)&&t.bin)&&Cr([...Ig,...xLt],e)){const{orient:l,type:u}=r;return Cr(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:Cr(["bar","area"],u)&&!s?!0:o?.zero}return!1}function JVt(e,t,n,r,i=!1){const o=ZVt(t,n,r,i),{type:s}=e;return Lp(t)?s!==void 0?Rjt(t,s)?St(n)&&!kjt(s,n.type)?(_t(I8t(s,o)),o):s:(_t(R8t(t,s,o)),o):o:null}function ZVt(e,t,n,r){switch(t.type){case"nominal":case"ordinal":{if(o_(e)||vz(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&_t(bz(e,"ordinal")),"ordinal";if(yz(e))return"band";if(Jo(e)||kR(e)){if(Cr(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in cne)return"band";const i=n[$u(e)];return m1(i)||rE(t)&&t.axis?.tickBand?"band":"point"}case"temporal":return o_(e)?"time":vz(e)==="discrete"?(_t(bz(e,"temporal")),"ordinal"):St(t)&&t.timeUnit&&ra(t.timeUnit).utc?"utc":yz(e)?"band":"time";case"quantitative":return o_(e)?St(t)&&Ui(t.bin)?"bin-ordinal":"linear":vz(e)==="discrete"?(_t(bz(e,"quantitative")),"ordinal"):yz(e)?"band":"linear";case"geojson":return}throw new Error(EMe(t.type))}function eHt(e,{ignoreRange:t}={}){x5e(e),d5e(e);for(const n of Ajt)v5e(e,n);t||b5e(e)}function x5e(e){mo(e)?e.component.scales=tHt(e):e.component.scales=rHt(e)}function tHt(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of dne){const s=Is(t[o]);if(s&&n===KMe&&o===Mu&&s.type===cC)continue;let a=s&&s.scale;if(s&&a!==null&&a!==!1){a??(a={});const l=w6e(t,o),u=JVt(a,o,s,r,l);i[o]=new h5e(e.scaleName(`${o}`,!0),{value:u,explicit:a.type===u})}}return i}const nHt=J6e((e,t)=>N0e(e)-N0e(t));function rHt(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const o of e.children){x5e(o);for(const s of gt(o.component.scales))if((t=i.scale)[s]??(t[s]=J$e(s,e)),i.scale[s]==="shared"){const a=r[s],l=o.component.scales[s].getWithExplicit("type");a?yjt(a.value,l.value)?r[s]=Ay(a,l,"type","scale",nHt):(i.scale[s]="independent",delete r[s]):r[s]=l}}for(const o of gt(r)){const s=e.scaleName(o,!0),a=r[o];n[o]=new h5e(s,a);for(const l of e.children){const u=l.component.scales[o];u&&(l.renameScale(u.get("name"),s),u.merged=!0)}}return n}class Nz{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function mo(e){return e?.type==="unit"}function pc(e){return e?.type==="facet"}function vre(e){return e?.type==="concat"}function gC(e){return e?.type==="layer"}class bre{constructor(t,n,r,i,o,s,a){this.type=n,this.parent=r,this.config=o,this.parent=r,this.config=o,this.view=wa(a),this.name=t.name??i,this.title=y0(t.title)?{text:t.title}:t.title?wa(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new Nz,this.projectionNameMap=r?r.projectionNameMap:new Nz,this.signalNameMap=r?r.signalNameMap:new Nz,this.data=t.data,this.description=t.description,this.transforms=V9t(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:GBt(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:GF(t)||r?.component.data.isFaceted&&t.data===void 0},layoutSize:new Pg,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...s?Yn(s):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){eHt(this)}parseProjection(){l5e(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){r5e(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const o of gt(r)){const s=r[o];s!==void 0&&(i[o]=Xi(s))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=Xi(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:Si(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,o=EUt(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of id)t[r].title&&n.push(yUt(this,r));for(const r of ure)n=n.concat(vUt(this,r));return n}assembleAxes(){return iUt(this.component.axes,this.config)}assembleLegends(){return o5e(this)}assembleProjections(){return WUt(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...pMe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return Cr(["unit","layer"],this.type)?Cr(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),Si(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||pc(this.parent)?f5e(this):[];i.length>0&&(n.scales=i);const o=this.assembleAxes();o.length>0&&(n.axes=o);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return oo((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(yo[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(pc(this.parent)){const n=X$e(t),r=$F(n),i=this.component.scales[r];if(i&&!i.merged){const o=i.get("type"),s=i.get("range");if(ia(o)&&nw(s)){const a=i.get("name"),l=fL(this,r),u=yre(l);if(u){const c=Mt({aggregate:"distinct",field:u},{expr:"datum"});return{signal:K$e(a,i,c)}}else return _t(pne(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(sMe(t)&&Lp(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(qLt(n));return r}hasAxisOrientSignalRef(){return this.component.axes.x?.some(t=>t.hasOrientSignalRef())||this.component.axes.y?.some(t=>t.hasOrientSignalRef())}}class _5e extends bre{vgField(t,n={}){const r=this.fieldDef(t);if(r)return Mt(r,n)}reduceFieldDef(t,n){return _Bt(this.getMapping(),(r,i,o)=>{const s=Ff(i);return s?t(r,s,o):r},n)}forEachFieldDef(t,n){Une(this.getMapping(),(r,i)=>{const o=Ff(r);o&&t(o,i)},n)}}class hL extends _i{clone(){return new hL(null,Yn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Yn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Pr(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class pL extends _i{clone(){return new pL(null,Yn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Yn(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Pr(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class mL extends _i{clone(){return new mL(this.parent,Yn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Yn(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((o,s)=>i[s]??o)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Pr(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class gL extends _i{clone(){return new gL(null,Yn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Yn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Pr(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class l_ extends _i{clone(){return new l_(null,Yn(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[th,eh],[Ed,nh]]){const o=i.map(s=>{const a=Is(n.encoding[s]);return St(a)?a.field:jp(a)?{expr:`${a.datum}`}:$f(a)?{expr:`${a.value}`}:void 0});(o[0]||o[1])&&(t=new l_(t,o,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(Mu)){const i=n.typedFieldDef(Mu);i.type===cC&&(t=new l_(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(nr);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Pr(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class UA extends _i{clone(){return new UA(null,this.projection,Yn(this.fields),Yn(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[th,eh],[Ed,nh]]){const i=r.map(s=>{const a=Is(n.encoding[s]);return St(a)?a.field:jp(a)?{expr:`${a.datum}`}:$f(a)?{expr:`${a.value}`}:void 0}),o=r[0]===Ed?"2":"";(i[0]||i[1])&&(t=new UA(t,n.projectionName(),i,[n.getName(`x${o}`),n.getName(`y${o}`)]))}return t}dependentFields(){return new Set(this.fields.filter(nr))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Pr(this.fields)} ${Pr(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Fb extends _i{clone(){return new Fb(null,Yn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new Fb(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,o=r.y;if(St(i)&&St(o)){const s=i.impute?i:o.impute?o:void 0;if(s===void 0)return;const a=i.impute?o:o.impute?i:void 0,{method:l,value:u,frame:c,keyvals:d}=s.impute,f=E6e(n.mark,r);return new Fb(t,{impute:s.field,key:a.field,...l?{method:l}:{},...u!==void 0?{value:u}:{},...c?{frame:c}:{},...d!==void 0?{keyvals:d}:{},...f.length?{groupby:f}:{}})}return null}hash(){return`Impute ${Pr(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:o,value:s,frame:a=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:C9t(r)?this.processSequence(r):r}:{},method:"value",...o?{groupby:o}:{},value:!i||i==="value"?s:null};if(i&&i!=="value"){const u={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...o?{groupby:o}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class yL extends _i{clone(){return new yL(null,Yn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Yn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Pr(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class VA extends _i{clone(){return new VA(null,Yn(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const o=n.component.data.sources,{from:s}=r;let a=null;if(S9t(s)){let l=S5e(s.data,o);l||(l=new x1(s.data),o.push(l));const u=n.getName(`lookup_${i}`);a=new ku(l,u,yo.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=a}else if(T9t(s)){const l=s.param;r={as:l,...r};let u;try{u=n.getSelectionComponent(oo(l),l)}catch{throw new Error(KLt(l))}if(a=u.materialized,!a)throw new Error(XLt(l))}return new VA(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Xo(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Pr({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:Xo(this.transform.as)}:{}};else{let n=this.transform.as;nr(n)||(_t(a8t),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class vL extends _i{clone(){return new vL(null,Yn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Yn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Pr(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class bL extends _i{clone(){return new bL(null,Yn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Yn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Pr(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class wL extends _i{clone(){return new wL(null,Yn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=jh((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${Pr(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:o}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...o!==void 0?{op:o}:{},...r!==void 0?{groupby:r}:{}}}}class xL extends _i{clone(){return new xL(null,Yn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Pr(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function E5e(e){let t=0;function n(r,i){if(r instanceof x1&&!r.isGenerator&&!oE(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof il&&(r.parent instanceof x1&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof pC){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof zR||r instanceof UR||r instanceof cE||r instanceof hC||r instanceof aE||r instanceof UA||r instanceof Ef||r instanceof VA||r instanceof mC||r instanceof lw||r instanceof gL||r instanceof mL||r instanceof hL||r instanceof yL||r instanceof vL||r instanceof bL||r instanceof ky||r instanceof xL||r instanceof wL||r instanceof pL)&&i.transform.push(r.assemble()),(r instanceof Zh||r instanceof Qh||r instanceof Fb||r instanceof Lm||r instanceof l_)&&i.transform.push(...r.assemble()),r instanceof ku&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof ku?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof ku&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const s of r.children)n(s,{name:null,source:o,transform:[]});break}}}return n}function iHt(e){const t=[],n=E5e(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function oHt(e,t){const n=[],r=E5e(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName=`source_${i++}`);const a=s.assemble();r(s,a)}for(const s of n)s.transform.length===0&&delete s.transform;let o=0;for(const[s,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(o++,0,n.splice(s,1)[0]);for(const s of n)for(const a of s.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const s of n)s.name in t&&(s.values=t[s.name]);return n}function sHt(e){return e==="top"||e==="left"||sn(e)?"header":"footer"}function aHt(e){for(const t of id)lHt(e,t);$ye(e,"x"),$ye(e,"y")}function lHt(e,t){const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){const s=n[t],a=uE("title",null,r,t);let l=s_(s,r,{allowDisabling:!0,includeDefault:a===void 0||!!a});i.component.layoutHeaders[t].title&&(l=Jt(l)?l.join(", "):l,l+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const u=uE("labelOrient",s.header,r,t),c=s.header!==null?Qo(s.header?.labels,r.header.labels,!0):!1,d=Cr(["bottom","right"],u)?"footer":"header";o.layoutHeaders[t]={title:s.header!==null?l:null,facetFieldDef:s,[d]:t==="facet"?[]:[C5e(e,t,c)]}}}function C5e(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function $ye(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=fre(i,t),i.axis[t]==="shared"){const o=t==="x"?"column":"row",s=r[o];for(const a of n.component.axes[t]){const l=sHt(a.get("orient"));s[l]??(s[l]=[C5e(e,o,!1)]);const u=$T(a,"main",e.config,{header:!0});u&&s[l][0].axes.push(u),a.mainExtracted=!0}}}}function uHt(e){wre(e),o6(e,"width"),o6(e,"height")}function cHt(e){wre(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";o6(e,t),o6(e,n)}function wre(e){for(const t of e.children)t.parseLayoutSize()}function o6(e,t){const n=X$e(t),r=$F(n),i=e.component.resolve,o=e.component.layoutSize;let s;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),u=i.scale[r]??J$e(r,e);if(u==="independent"&&l.value==="step"){s=void 0;break}if(s){if(u==="independent"&&s.value!==l.value){s=void 0;break}s=Ay(s,l,n,"")}else s=l}if(s){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,s)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function dHt(e){const{size:t,component:n}=e;for(const r of Ig){const i=$u(r);if(t[i]){const o=t[i];n.layoutSize.set(i,yp(o)?"step":o,!0)}else{const o=fHt(e,i);n.layoutSize.set(i,o,!1)}}}function fHt(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const o=i.get("type"),s=i.get("range");if(ia(o)){const a=JM(r.view,t);return nw(s)||yp(a)?"step":a}else return HW(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return HW(r.view,t);{const o=JM(r.view,t);return yp(o)?o.step:o}}}function dG(e,t,n){return Mt(t,{suffix:`by_${Mt(e)}`,...n})}class C2 extends _5e{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=Sre(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!PR(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=gt(t),r={};for(const i of n){if(![Nm,Mm].includes(i)){_t(jF(i,"facet"));break}const o=t[i];if(o.field===void 0){_t(jW(o,i));break}r[i]=this.initFacetFieldDef(o,i)}return r}initFacetFieldDef(t,n){const r=zne(t,n);return r.header?r.header=wa(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return vt(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=_L(this),this.child.parseData()}parseLayoutSize(){wre(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Object.values(this.component.selection).some(t=>Jh(t))&&gne(mne)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),aHt(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of id)for(const r of cre){const i=this.component.layoutHeaders[n],o=i[r],{facetFieldDef:s}=i;if(s){const a=uE("titleOrient",s.header,this.config,n);if(["right","bottom"].includes(a)){const l=cL(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(o?.[0]){const a=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof C2))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof C2?{...this.channelHasField("column")?{encode:{update:{columns:{field:Mt(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof C2){if(this.child.channelHasField("column")){const i=Mt(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of Ig){const o=this.child.component.scales[i];if(o&&!o.merged){const s=o.get("type"),a=o.get("range");if(ia(s)&&nw(a)){const l=fL(this.child,i),u=yre(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):_t(pne(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:o,ops:s,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of id){const d=this.facet[c];if(d){l.push(Mt(d));const{bin:f,sort:h}=d;if(Ui(f)&&l.push(Mt(d,{binSuffix:"end"})),$m(h)){const{field:m,op:p=WF}=h,g=dG(d,h);r&&i?(o.push(g),s.push("max"),a.push(g)):(o.push(m),s.push(p),a.push(g))}else if(Jt(h)){const m=lE(d,c);o.push(m),s.push("max"),a.push(m)}}}const u=!!r&&!!i;return{name:t,data:n,groupby:l,...u||o.length>0?{aggregate:{...u?{cross:u}:{},...o.length?{fields:o,ops:s,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?$m(r.sort)?[dG(r,r.sort,{expr:"datum"})]:Jt(r.sort)?[lE(r,t,{expr:"datum"})]:[Mt(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[($m(i)?i.order:!Jt(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){const{facet:t,config:n}=this;if(t.facet)return iG(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const i of ure)if(t[i]){const o=uE("labelOrient",t[i]?.header,n,i);if(r[i].includes(o))return iG(t[i],i,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=iHt(n),i=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...o?{title:o}:{},...s?{style:s}:{},from:{facet:this.assembleFacet()},sort:{field:id.map(l=>this.facetSortFields(l)).flat(),order:id.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(v7t(this,[]))}]}getMapping(){return this.facet}}function hHt(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const o of[n,r])if($m(o.sort)){const{field:s,op:a=WF}=o.sort;e=i=new lw(e,{joinaggregate:[{op:a,field:s,as:dG(o,o.sort,{forAs:!0})}],groupby:[Mt(o)]})}return i}return null}function S5e(e,t){for(const n of t){const r=n.data;if(e.name&&n.hasName()&&e.name!==n.dataName)continue;const i=e.format?.mesh,o=r.format?.feature;if(i&&o)continue;const s=e.format?.feature;if((s||o)&&s!==o)continue;const a=r.format?.mesh;if(!((i||a)&&i!==a)){if(jA(e)&&jA(r)){if(uc(e.values,r.values))return n}else if(oE(e)&&oE(r)){if(e.url===r.url)return n}else if(Z6e(e)&&e.name===n.dataName)return n}}return null}function pHt(e,t){if(e.data||!e.parent){if(e.data===null){const r=new x1({values:[]});return t.push(r),r}const n=S5e(e.data,t);if(n)return Z0(e.data)||(n.data.format=Y4e({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new x1(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function mHt(e,t,n){let r=0;for(const i of t.transforms){let o,s;if($9t(i))s=e=new aE(e,i),o="derived";else if(Zne(i)){const a=oVt(i);s=e=il.makeWithAncestors(e,{},a,n)??e,e=new hC(e,t,i.filter)}else if(Y6e(i))s=e=Zh.makeFromTransform(e,i,t),o="number";else if(L9t(i))o="date",n.getWithExplicit(i.field).value===void 0&&(e=new il(e,{[i.field]:o}),n.set(i.field,o,!1)),s=e=Qh.makeFromTransform(e,i);else if(j9t(i))s=e=Ef.makeFromTransform(e,i),o="number",ore(t)&&(e=new ky(e));else if(G6e(i))s=e=VA.make(e,t,i,r++),o="derived";else if(O9t(i))s=e=new mC(e,i),o="number";else if(N9t(i))s=e=new lw(e,i),o="number";else if(B9t(i))s=e=Lm.makeFromTransform(e,i),o="derived";else if(z9t(i))s=e=new gL(e,i),o="derived";else if(U9t(i))s=e=new pL(e,i),o="derived";else if(M9t(i))s=e=new mL(e,i),o="derived";else if(A9t(i))s=e=new wL(e,i),o="derived";else if(P9t(i))e=new xL(e,i);else if(F9t(i))s=e=Fb.makeFromTransform(e,i),o="derived";else if(k9t(i))s=e=new hL(e,i),o="derived";else if(R9t(i))s=e=new vL(e,i),o="derived";else if(I9t(i))s=e=new bL(e,i),o="derived";else if(D9t(i))s=e=new yL(e,i),o="derived";else{_t(s8t(i));continue}if(s&&o!==void 0)for(const a of s.producedFields()??[])n.set(a,o,!1)}return e}function _L(e){let t=pHt(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,s=!(i&&(Z0(i)||oE(i)||jA(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new e7t;Z0(i)?(e$e(i)?t=new UR(t,i.sequence):ere(i)&&(t=new zR(t,i.graticule)),s.parseNothing=!0):i?.format?.parse===null&&(s.parseNothing=!0),t=il.makeExplicit(t,e,s)??t,t=new ky(t);const a=e.parent&&gC(e.parent);(mo(e)||pc(e))&&a&&(t=Zh.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=mHt(t,e,s));const l=aVt(e),u=sVt(e);t=il.makeWithAncestors(t,{},{...l,...u},s)??t,mo(e)&&(t=l_.parseAll(t,e),t=UA.parseAll(t,e)),(mo(e)||pc(e))&&(a||(t=Zh.makeFromEncoding(t,e)??t),t=Qh.makeFromEncoding(t,e)??t,t=aE.parseAllForSortIndex(t,e));const c=t=mP(yo.Raw,e,t);if(mo(e)){const g=Ef.makeFromEncoding(t,e);g&&(t=g,ore(e)&&(t=new ky(t))),t=Fb.makeFromEncoding(t,e)??t,t=Lm.makeFromEncoding(t,e)??t}let d,f;if(mo(e)){const{markDef:g,mark:y,config:v}=e,w=Ci("invalid",g,v),{marks:E,scales:C}=f=n$e({invalid:w,isPath:sv(y)});E!==C&&C==="include-invalid-values"&&(d=t=mP(yo.PreFilterInvalid,e,t)),E==="exclude-invalid-values"&&(t=cE.make(t,e,f)??t)}const h=t=mP(yo.Main,e,t);let m;if(mo(e)&&f){const{marks:g,scales:y}=f;g==="include-invalid-values"&&y==="exclude-invalid-values"&&(t=cE.make(t,e,f)??t,m=t=mP(yo.PostFilterInvalid,e,t))}mo(e)&&nUt(e,h);let p=null;if(pc(e)){const g=e.getName("facet");t=hHt(t,e.facet)??t,p=new pC(t,e,g,h.getSource()),n[g]=p}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:h,facetRoot:p,ancestorParse:s,preFilterInvalid:d,postFilterInvalid:m}}function mP(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,o=t.getDataName(e),s=new ku(n,o,e,i);return r[o]=s,s}class gHt extends bre{constructor(t,n,r,i){super(t,"concat",n,r,i,t.resolve),(t.resolve?.axis?.x==="shared"||t.resolve?.axis?.y==="shared")&&_t(r8t),this.children=this.getChildren(t).map((o,s)=>Sre(o,this,this.getName(`concat_${s}`),void 0,i))}parseData(){this.component.data=_L(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of gt(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>Jh(t))&&gne(mne)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return ZF(t)?t.vconcat:Qne(t)?t.hconcat:t.concat}parseLayoutSize(){cHt(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=dre(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function yHt(e){return e===!1||e===null}const vHt={disable:1,gridScale:1,scale:1,...y6e,labelExpr:1,encode:1},T5e=gt(vHt);class xre extends Pg{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new xre(Yn(this.explicit),Yn(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!yHt(this.get(t))}hasOrientSignalRef(){return sn(this.explicit.orient)}}function bHt(e,t,n){const{encoding:r,config:i}=e,o=Is(r[t])??Is(r[Fp(t)]),s=e.axis(t)||{},{format:a,formatType:l}=s;if(g1(l))return{text:yf({fieldOrDatumDef:o,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if(nE(o)==="quantitative"){if(rE(o)&&o.stack==="normalize"&&i.normalizedNumberFormatType)return{text:yf({fieldOrDatumDef:o,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:yf({fieldOrDatumDef:o,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(nE(o)==="temporal"&&i.timeFormatType&&St(o)&&!o.timeUnit)return{text:yf({fieldOrDatumDef:o,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function wHt(e){return Ig.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[AHt(n,e)]),t),{})}const xHt={bottom:"top",top:"bottom",left:"right",right:"left"};function _Ht(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const o of gt(i.component.axes))n.axis[o]=fre(e.component.resolve,o),n.axis[o]==="shared"&&(t[o]=EHt(t[o],i.component.axes[o]),t[o]||(n.axis[o]="independent",delete t[o]))}for(const i of Ig){for(const o of e.children)if(o.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(o.component.axes[i]);for(const s of o.component.axes[i]){const{value:a,explicit:l}=s.getWithExplicit("orient");if(!sn(a)){if(r[a]>0&&!l){const u=xHt[a];r[a]>r[u]&&s.set("orient",u,!1)}r[a]++}}}delete o.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[o,s]of(t[i]||[]).entries())o>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function EHt(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){const s=i.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(s.explicit&&a.explicit&&s.value!==a.value)return;e[r]=CHt(i,o)}}}else return t.map(n=>n.clone());return e}function CHt(e,t){for(const n of T5e){const r=Ay(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,o)=>{switch(n){case"title":return xMe(i,o);case"gridScale":return{explicit:i.explicit,value:Qo(i.value,o.value)}}return tL(i,o,n,"axis")});e.setWithExplicit(n,r)}return e}function SHt(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(sn(n.labelAngle)?n.labelAngle:FA(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===q$e(r,i))return!0}return e===n[t]}const THt=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function AHt(e,t){let n=t.axis(e);const r=new xre,i=Is(t.encoding[e]),{mark:o,config:s}=t,a=n?.orient||s[e==="x"?"axisX":"axisY"]?.orient||s.axis?.orient||fUt(e),l=t.getScaleComponent(e).get("type"),u=oUt(e,l,a,t.config),c=n!==void 0?!n:nG("disable",s.style,n?.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const d=uUt(i,n,e,s.style,u),f=r6e(n.formatType,i,l),h=n6e(i,i.type,n.format,n.formatType,s,!0),m={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:d,format:h,formatType:f,mark:o,config:s};for(const y of T5e){const v=y in xye?xye[y](m):z0e(y)?n[y]:void 0,w=v!==void 0,E=SHt(v,y,n,t,e);if(w&&E)r.set(y,v,E);else{const{configValue:C=void 0,configFrom:S=void 0}=z0e(y)&&y!=="values"?nG(y,s.style,n.style,u):{},T=C!==void 0;w&&!T?r.set(y,v,E):(S!=="vgAxisConfig"||THt.has(y)&&T||$R(C)||sn(C))&&r.set(y,C,!1)}}const p=n.encoding??{},g=g6e.reduce((y,v)=>{if(!r.hasAxisPart(v))return y;const w=Q$e(p[v]??{},t),E=v==="labels"?bHt(t,e,w):w;return E!==void 0&&!Si(E)&&(y[v]={update:E}),y},{});return Si(g)||r.set("encode",g,!!n.encoding||n.labelAngle!==void 0),r}function kHt({encoding:e,size:t}){for(const n of Ig){const r=$u(n);yp(t[r])&&L0(e[n])&&(delete t[r],_t(TMe(r)))}return t}const RHt={vgMark:"arc",encodeEntry:e=>({...Md(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Ll("x",e,{defaultPos:"mid"}),...Ll("y",e,{defaultPos:"mid"}),...rg(e,"radius"),...rg(e,"theta")})},IHt={vgMark:"area",encodeEntry:e=>({...Md(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...t6("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...t6("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...ire(e)})},DHt={vgMark:"rect",encodeEntry:e=>({...Md(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...rg(e,"x"),...rg(e,"y")})},PHt={vgMark:"shape",encodeEntry:e=>({...Md(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&St(n)&&n.type===cC?{field:Mt(n,{expr:"datum"})}:{}}]}},OHt={vgMark:"image",encodeEntry:e=>({...Md(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...rg(e,"x"),...rg(e,"y"),...nre(e,"url")})},NHt={vgMark:"line",encodeEntry:e=>({...Md(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Ll("x",e,{defaultPos:"mid"}),...Ll("y",e,{defaultPos:"mid"}),...Ea("size",e,{vgChannel:"strokeWidth"}),...ire(e)})},MHt={vgMark:"trail",encodeEntry:e=>({...Md(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Ll("x",e,{defaultPos:"mid"}),...Ll("y",e,{defaultPos:"mid"}),...Ea("size",e),...ire(e)})};function _re(e,t){const{config:n}=e;return{...Md(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Ll("x",e,{defaultPos:"mid"}),...Ll("y",e,{defaultPos:"mid"}),...Ea("size",e),...Ea("angle",e),...$Ht(e,n,t)}}function $Ht(e,t,n){return n?{shape:{value:n}}:Ea("shape",e)}const FHt={vgMark:"symbol",encodeEntry:e=>_re(e)},LHt={vgMark:"symbol",encodeEntry:e=>_re(e,"circle")},jHt={vgMark:"symbol",encodeEntry:e=>_re(e,"square")},BHt={vgMark:"rect",encodeEntry:e=>({...Md(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...rg(e,"x"),...rg(e,"y")})},zHt={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...Md(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...t6("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...t6("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...Ea("size",e,{vgChannel:"strokeWidth"})}}},UHt={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Md(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Ll("x",e,{defaultPos:"mid"}),...Ll("y",e,{defaultPos:"mid"}),...nre(e),...Ea("size",e,{vgChannel:"fontSize"}),...Ea("angle",e),...cye("align",VHt(e.markDef,n,t)),...cye("baseline",HHt(e.markDef,n,t)),...Ll("radius",e,{defaultPos:null}),...Ll("theta",e,{defaultPos:null})}}};function VHt(e,t,n){if(Ci("align",e,n)===void 0)return"center"}function HHt(e,t,n){if(Ci("baseline",e,n)===void 0)return"middle"}const qHt={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",o=r==="horizontal"?"y":"x",s=r==="horizontal"?"height":"width";return{...Md(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...rg(e,i),...Ll(o,e,{defaultPos:"mid",vgChannel:o==="y"?"yc":"xc"}),[s]:Xi(Ci("thickness",n,t))}}},gP={arc:RHt,area:IHt,bar:DHt,circle:LHt,geoshape:PHt,image:OHt,line:NHt,point:FHt,rect:BHt,rule:zHt,square:jHt,text:UHt,tick:qHt,trail:MHt};function WHt(e){if(Cr([HF,UF,Ojt],e.mark)){const t=E6e(e.mark,e.encoding);if(t.length>0)return GHt(e,t)}else if(e.mark===VF){const t=FW.some(n=>Ci(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return YHt(e)}return Ere(e)}const Fye="faceted_path_";function GHt(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:Fye+e.requestDataName(yo.Main),data:e.requestDataName(yo.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Ere(e,{fromPrefix:Fye})}]}const Lye="stack_group_";function YHt(e){const[t]=Ere(e,{fromPrefix:Lye}),n=e.scaleName(e.stack.fieldChannel),r=(u={})=>e.vgField(e.stack.fieldChannel,u),i=(u,c)=>{const d=[r({prefix:"min",suffix:"start",expr:c}),r({prefix:"max",suffix:"start",expr:c}),r({prefix:"min",suffix:"end",expr:c}),r({prefix:"max",suffix:"end",expr:c})];return`${u}(${d.map(f=>`scale('${n}',${f})`).join(",")})`};let o,s;e.stack.fieldChannel==="x"?(o={...X_(t.encode.update,["y","yc","y2","height",...FW]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...Au(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...X_(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...Au(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const u of FW){const c=mp(u,e.markDef,e.config);t.encode.update[u]?(o[u]=t.encode.update[u],delete t.encode.update[u]):c&&(o[u]=Xi(c)),c&&(t.encode.update[u]={value:0})}const a=[];if(e.stack.groupbyChannels?.length>0)for(const u of e.stack.groupbyChannels){const c=e.fieldDef(u),d=Mt(c);d&&a.push(d),(c?.bin||c?.timeUnit)&&a.push(Mt(c,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((u,c)=>{if(t.encode.update[c])return{...u,[c]:t.encode.update[c]};{const d=mp(c,e.markDef,e.config);return d!==void 0?{...u,[c]:Xi(d)}:u}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(yo.Main),name:Lye+e.requestDataName(yo.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function KHt(e){const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,s=t.order;if(!(!Jt(s)&&$f(s)&&MW(s.value)||!s&&MW(Ci("order",i,o)))){if((Jt(s)||St(s))&&!n)return vMe(s,{expr:"datum"});if(sv(r)){const a=i.orient==="horizontal"?"y":"x",l=t[a];if(St(l))return{field:a}}}}function Ere(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:o}=e,s=Qo(r.clip,XHt(e),QHt(e)),a=gMe(r),l=i.key,u=KHt(e),c=JHt(e),d=Ci("aria",r,o),f=gP[n].postEncodingTransform?gP[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:gP[n].vgMark,...s?{clip:s}:{},...a?{style:a}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...d===!1?{aria:d}:{},from:{data:t.fromPrefix+e.requestDataName(yo.Main)},encode:{update:gP[n].encodeEntry(e)},...f?{transform:f}:{}}]}function XHt(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t?.get("selectionExtent")||n?.get("selectionExtent")?!0:void 0}function QHt(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function JHt(e){if(!e.component.selection)return null;const t=gt(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=gt(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class A5e extends _5e{constructor(t,n,r,i={},o){super(t,"unit",n,r,o,void 0,V0e(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[],this.correctDataNames=u=>(u.from?.data&&(u.from.data=this.lookupDataSource(u.from.data),"time"in this.encoding&&(u.from.data=u.from.data+c$e)),u.from?.facet?.data&&(u.from.facet.data=this.lookupDataSource(u.from.facet.data)),u);const s=gp(t.mark)?{...t.mark}:{type:t.mark},a=s.type;s.filled===void 0&&(s.filled=g9t(s,o,{graticule:t.data&&ere(t.data)}));const l=this.encoding=wBt(t.encoding||{},a,s.filled,o);this.markDef=H6e(s,l,o),this.size=kHt({encoding:l,size:V0e(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=V6e(this.markDef,l),this.specifiedScales=this.initScales(a,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(u=>Kne(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===KMe,r=t&&fLt.some(i=>Xn(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return dne.reduce((r,i)=>{const o=Is(n[i]);return o&&(r[i]=this.initScale(o.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=wa(t);return Jt(n)&&(i.domain=n.map(oc)),Jt(r)&&(i.range=r.map(oc)),i}initAxes(t){return Ig.reduce((n,r)=>{const i=t[r];if(Xn(i)||r===lo&&Xn(t.x2)||r===aa&&Xn(t.y2)){const o=Xn(i)?i.axis:void 0;n[r]=o&&this.initAxis({...o})}return n},{})}initAxis(t){const n=gt(t),r={};for(const i of n){const o=t[i];r[i]=$R(o)?mMe(o):oc(o)}return r}initLegends(t){return ELt.reduce((n,r)=>{const i=Is(t[r]);if(i&&SLt(r)){const o=i.legend;n[r]=o&&wa(o)}return n},{})}parseData(){this.component.data=_L(this)}parseLayoutSize(){dHt(this)}parseSelections(){this.component.selection=tUt(this,this.selection)}parseMarkGroup(){this.component.mark=WHt(this)}parseAxesAndHeaders(){this.component.axes=wHt(this)}assembleSelectionTopLevelSignals(t){return b7t(this,t)}assembleSignals(){return[...U$e(this),...y7t(this,[])]}assembleSelectionData(t){return w7t(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return dre(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!gC(this.parent))&&(t=p$e(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return Mb(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return Ff(n)}typedFieldDef(t){const n=this.fieldDef(t);return Kl(n)?n:null}}class Cre extends bre{constructor(t,n,r,i,o){super(t,"layer",n,r,o,t.resolve,t.view);const s={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,l)=>{if(eL(a))return new Cre(a,this,this.getName(`layer_${l}`),s,o);if(Dg(a))return new A5e(a,this,this.getName(`layer_${l}`),s,o);throw new Error(hne(a))})}parseData(){this.component.data=_L(this);for(const t of this.children)t.parseData()}parseLayoutSize(){uHt(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of gt(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>Jh(t))&&gne(mne)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){_Ht(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),U$e(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),dre(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of Xo(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return x7t(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),o5e(this))}}function Sre(e,t,n,r,i){if(GF(e))return new C2(e,t,n,i);if(eL(e))return new Cre(e,t,n,r,i);if(Dg(e))return new A5e(e,t,n,r,i);if(HBt(e))return new gHt(e,t,n,i);throw new Error(hne(e))}function ZHt(e,t={}){t.logger&&G8t(t.logger),t.fieldTitle&&h6e(t.fieldTitle);try{const n=U6e(W4e(t.config,e.config)),r=Q6e(e,n),i=Sre(r,null,"",void 0,n);return i.parse(),EVt(i.component.data,i),{spec:tqt(i,eqt(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&Y8t(),t.fieldTitle&&dBt()}}function eqt(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):nr(t)&&(t={type:t}),i&&o&&Q9t(t.type)){if(i==="step"&&o==="step")_t(A0e()),t.type="pad";else if(i==="step"||o==="step"){const s=i==="step"?"width":"height";_t(A0e($F(s)));const a=s==="width"?"height":"width";t.type=J9t(a)}}return{...gt(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...tye(n,!1),...tye(e,!0)}}function tqt(e,t,n={},r){const i=e.config?i9t(e.config):void 0,o=oHt(e.component.data,n),s=e.assembleSelectionData(o),a=e.assembleProjections(),l=e.assembleTitle(),u=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let d=e.assembleLayoutSignals();d=d.filter(m=>(m.name==="width"||m.name==="height")&&m.value!==void 0?(t[m.name]=+m.value,!1):!0);const{params:f,...h}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...h,...l?{title:l}:{},...u?{style:u}:{},...c?{encode:{update:c}}:{},data:s,...a.length>0?{projections:a}:{},...e.assembleGroup([...d,...e.assembleSelectionTopLevelSignals([]),...L6e(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const nqt=YFt.version,rqt=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:J_,accessPathWithDatum:rne,accessWithDatumToUnescapedPath:bi,compile:ZHt,contains:Cr,deepEqual:uc,deleteNestedProperty:VM,duplicate:Yn,entries:Cy,every:ene,fieldIntersection:nne,flatAccessWithDatum:X4e,getFirstDefined:Qo,hasIntersection:tne,hasProperty:vt,hash:Pr,internalField:Z4e,isBoolean:$A,isEmpty:Si,isEqual:lLt,isInternalField:eMe,isNullOrFalse:MW,isNumeric:IF,keys:gt,logicalExpr:w2,mergeDeep:Y4e,never:G4e,normalize:Q6e,normalizeAngle:FA,omit:Au,pick:X_,prefixGenerator:$W,removePathFromField:lC,replaceAll:c1,replacePathInField:_d,resetIdCounter:cLt,setEqual:K4e,some:Q_,stringify:Ti,titleCase:SR,unique:jh,uniqueId:J4e,vals:Ra,varName:oo,version:nqt},Symbol.toStringTag,{value:"Module"}));var yP={},jye;function iqt(){if(jye)return yP;jye=1,Object.defineProperty(yP,"__esModule",{value:!0});function e(t){var n=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g,r=n.exec(t).slice(1,3),i=r[0],o=r[1];return{library:i,version:o}}return yP.default=e,yP}var oqt=iqt();const k5e=ms(oqt);var sqt="2.15.0",aqt={version:sqt};const sx="#fff",Bye="#888",lqt={background:"#333",view:{stroke:Bye},title:{color:sx,subtitleColor:sx},style:{"guide-label":{fill:sx},"guide-title":{fill:sx}},axis:{domainColor:sx,gridColor:Bye,tickColor:sx}},Pv="#4572a7",uqt={background:"#fff",arc:{fill:Pv},area:{fill:Pv},line:{stroke:Pv,strokeWidth:2},path:{stroke:Pv},rect:{fill:Pv},shape:{stroke:Pv},symbol:{fill:Pv,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Ov="#30a2da",Mz="#cbcbcb",cqt="#999",dqt="#333",zye="#f0f0f0",Uye="#333",fqt={arc:{fill:Ov},area:{fill:Ov},axis:{domainColor:Mz,grid:!0,gridColor:Mz,gridWidth:1,labelColor:cqt,labelFontSize:10,titleColor:dqt,tickColor:Mz,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:zye,group:{fill:zye},legend:{labelColor:Uye,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:Uye,titleFontSize:14,titlePadding:10},line:{stroke:Ov,strokeWidth:2},path:{stroke:Ov,strokeWidth:.5},rect:{fill:Ov},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Ov},bar:{binSpacing:2,fill:Ov,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Nv="#000",hqt={group:{fill:"#e5e5e5"},arc:{fill:Nv},area:{fill:Nv},line:{stroke:Nv},path:{stroke:Nv},rect:{fill:Nv},shape:{stroke:Nv},symbol:{fill:Nv,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},pqt=22,mqt="normal",Vye="Benton Gothic, sans-serif",Hye=11.5,gqt="normal",Mv="#82c6df",$z="Benton Gothic Bold, sans-serif",qye="normal",Wye=13,LS={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},yqt={background:"#ffffff",title:{anchor:"start",color:"#000000",font:$z,fontSize:pqt,fontWeight:mqt},arc:{fill:Mv},area:{fill:Mv},line:{stroke:Mv,strokeWidth:2},path:{stroke:Mv},rect:{fill:Mv},shape:{stroke:Mv},symbol:{fill:Mv,size:30},axis:{labelFont:Vye,labelFontSize:Hye,labelFontWeight:gqt,titleFont:$z,titleFontSize:Wye,titleFontWeight:qye},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Vye,labelFontSize:Hye,symbolType:"square",titleFont:$z,titleFontSize:Wye,titleFontWeight:qye},range:{category:LS["category-6"],diverging:LS["fireandice-6"],heatmap:LS["fire-7"],ordinal:LS["fire-7"],ramp:LS["fire-7"]}},$v="#ab5787",vP="#979797",vqt={background:"#f9f9f9",arc:{fill:$v},area:{fill:$v},line:{stroke:$v},path:{stroke:$v},rect:{fill:$v},shape:{stroke:$v},symbol:{fill:$v,size:30},axis:{domainColor:vP,domainWidth:.5,gridWidth:.2,labelColor:vP,tickColor:vP,tickWidth:.2,titleColor:vP},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Fv="#3e5c69",bqt={background:"#fff",arc:{fill:Fv},area:{fill:Fv},line:{stroke:Fv},path:{stroke:Fv},rect:{fill:Fv},shape:{stroke:Fv},symbol:{fill:Fv},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Uc="#1696d2",Gye="#000000",wqt="#FFFFFF",bP="Lato",Fz="Lato",xqt="Lato",_qt="#DEDDDD",Eqt=18,jS={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},Cqt={background:wqt,title:{anchor:"start",fontSize:Eqt,font:bP},axisX:{domain:!0,domainColor:Gye,domainWidth:1,grid:!1,labelFontSize:12,labelFont:Fz,labelAngle:0,tickColor:Gye,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:bP},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:_qt,gridWidth:1,labelFontSize:12,labelFont:Fz,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:bP,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:Fz,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:bP,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:jS["six-groups-cat-1"],diverging:jS["diverging-colors"],heatmap:jS["diverging-colors"],ordinal:jS["six-groups-seq"],ramp:jS["shades-blue"]},area:{fill:Uc},rect:{fill:Uc},line:{color:Uc,stroke:Uc,strokeWidth:5},trail:{color:Uc,stroke:Uc,strokeWidth:0,size:1},path:{stroke:Uc,strokeWidth:.5},point:{filled:!0},text:{font:xqt,color:Uc,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Uc,stroke:null}},arc:{fill:Uc},shape:{stroke:Uc},symbol:{fill:Uc,size:30}},Lv="#3366CC",Yye="#ccc",wP="Arial, sans-serif",Sqt={arc:{fill:Lv},area:{fill:Lv},path:{stroke:Lv},rect:{fill:Lv},shape:{stroke:Lv},symbol:{stroke:Lv},circle:{fill:Lv},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:wP,fontSize:12},"guide-title":{font:wP,fontSize:12},"group-title":{font:wP,fontSize:12}},title:{font:wP,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:Yye,tickColor:Yye,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},Tre=e=>e*(1/3+1),Kye=Tre(9),Xye=Tre(10),Qye=Tre(12),BS="Segoe UI",Jye="wf_standard-font, helvetica, arial, sans-serif",Zye="#252423",zS="#605E5C",eve="transparent",Tqt="#C8C6C4",Xd="#118DFF",Aqt="#12239E",kqt="#E66C37",Rqt="#6B007B",Iqt="#E044A7",Dqt="#744EC2",Pqt="#D9B300",Oqt="#D64550",R5e=Xd,I5e="#DEEFFF",tve=[I5e,R5e],Nqt=[I5e,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",R5e],Mqt={view:{stroke:eve},background:eve,font:BS,header:{titleFont:Jye,titleFontSize:Qye,titleColor:Zye,labelFont:BS,labelFontSize:Xye,labelColor:zS},axis:{ticks:!1,grid:!1,domain:!1,labelColor:zS,labelFontSize:Kye,titleFont:Jye,titleColor:Zye,titleFontSize:Qye,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:Tqt,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Xd},line:{stroke:Xd,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:BS,fontSize:Kye,fill:zS},arc:{fill:Xd},area:{fill:Xd,line:!0,opacity:.6},path:{stroke:Xd},rect:{fill:Xd},point:{fill:Xd,filled:!0,size:75},shape:{stroke:Xd},symbol:{fill:Xd,strokeWidth:1.5,size:50},legend:{titleFont:BS,titleFontWeight:"bold",titleColor:zS,labelFont:BS,labelFontSize:Xye,labelColor:zS,symbolType:"circle",symbolSize:75},range:{category:[Xd,Aqt,kqt,Rqt,Iqt,Dqt,Pqt,Oqt],diverging:tve,heatmap:tve,ordinal:Nqt}},Lz='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',$qt='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',jz=400,xP={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},Fqt=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],Lqt=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function EL({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=xP.gridBg[e],i=xP.textPrimary[e],o=xP.textSecondary[e],s=n==="dark"?Fqt:Lqt,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:Lz,fontWeight:600},axis:{labelColor:o,labelFontSize:12,labelFont:$qt,labelFontWeight:jz,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:xP.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:Lz,fill:o,fontWeight:jz},"guide-title":{font:Lz,fill:o,fontWeight:jz}},range:{category:s,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const jqt=EL({theme:"white",background:"#ffffff"}),Bqt=EL({theme:"g10",background:"#f4f4f4"}),zqt=EL({theme:"g90",background:"#262626"}),Uqt=EL({theme:"g100",background:"#161616"}),Vqt=aqt.version,Hqt=Object.freeze(Object.defineProperty({__proto__:null,carbong10:Bqt,carbong100:Uqt,carbong90:zqt,carbonwhite:jqt,dark:lqt,excel:uqt,fivethirtyeight:fqt,ggplot2:hqt,googlecharts:Sqt,latimes:yqt,powerbi:Mqt,quartz:vqt,urbaninstitute:Cqt,version:Vqt,vox:bqt},Symbol.toStringTag,{value:"Module"})),qqt=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black; }
  #vg-tooltip-element.visible {
    visibility: visible; }
  #vg-tooltip-element h2 {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 13px; }
  #vg-tooltip-element table {
    border-spacing: 0; }
    #vg-tooltip-element table tr {
      border: none; }
      #vg-tooltip-element table tr td {
        overflow: hidden;
        text-overflow: ellipsis;
        padding-top: 2px;
        padding-bottom: 2px; }
        #vg-tooltip-element table tr td.key {
          color: #808080;
          max-width: 150px;
          text-align: right;
          padding-right: 4px; }
        #vg-tooltip-element table tr td.value {
          display: block;
          max-width: 300px;
          max-height: 7em;
          text-align: left; }
  #vg-tooltip-element.dark-theme {
    background-color: rgba(32, 32, 32, 0.9);
    border: 1px solid #f5f5f5;
    color: white; }
    #vg-tooltip-element.dark-theme td.key {
      color: #bfbfbf; }
`,D5e="vg-tooltip-element",Wqt={offsetX:10,offsetY:10,id:D5e,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:Gqt,maxDepth:2};function Gqt(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function Yqt(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return qqt.toString().replace(D5e,e)}function yC(e,t,n){return e.fields=t||[],e.fname=n,e}function Kqt(e){return e.length===1?Xqt(e[0]):Qqt(e)}const Xqt=e=>function(t){return t[e]},Qqt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function Bz(e){throw Error(e)}function Jqt(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?u():s=a+1:l==="["?(a>s&&u(),i=s=a+1):l==="]"&&(i||Bz("Access path missing open bracket: "+e),i>0&&u(),i=0,s=a+1)}return i&&Bz("Access path missing closing bracket: "+e),r&&Bz("Access path missing closing quote: "+e),a>s&&(a++,u()),t}function Zqt(e,t,n){const r=Jqt(e);return e=r.length===1?r[0]:e,yC(Kqt(r),[e],e)}Zqt("id");yC(e=>e,[],"identity");yC(()=>0,[],"zero");yC(()=>1,[],"one");yC(()=>!0,[],"true");yC(()=>!1,[],"false");var eWt=Array.isArray;function nve(e){return e===Object(e)}function tWt(e){return typeof e=="string"}var nWt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function rWt(e,t,n){if(eWt(e))return`[${e.map(r=>t(tWt(r)?r:rve(r,n))).join(", ")}]`;if(nve(e)){let r="";const i=e,{title:o}=i,s=nWt(i,["title"]);o&&(r+=`<h2>${t(o)}</h2>`);const a=Object.keys(s);if(a.length>0){r+="<table>";for(const l of a){let u=s[l];u!==void 0&&(nve(u)&&(u=rve(u,n)),r+=`<tr><td class="key">${t(l)}:</td><td class="value">${t(u)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(e)}function iWt(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function rve(e,t){return JSON.stringify(e,iWt(t))}function oWt(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}class sWt{constructor(t){this.options=Object.assign(Object.assign({},Wqt),t);const n=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=Yqt(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}this.el=document.getElementById(n),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",n),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(t,n,r,i){if(i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=rWt(i,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:s}=oWt(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${s}px; left: ${o}px`)}}function aWt(e,t,n){const r=e.open(t),i=250;let o=40;function s(l){l.source===r&&(o=0,e.removeEventListener("message",s,!1))}e.addEventListener("message",s,!1);function a(){o<=0||(r.postMessage(n,"*"),setTimeout(a,i),o-=1)}setTimeout(a,i)}const lWt=`.vega-embed {
  position: relative;
  display: inline-block; }
  .vega-embed.has-actions {
    padding-right: 38px; }
  .vega-embed details:not([open]) > :not(summary) {
    display: none !important; }
  .vega-embed summary {
    list-style: none;
    position: absolute;
    top: 0;
    right: 0;
    padding: 6px;
    z-index: 1000;
    background: white;
    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
    color: #1b1e23;
    border: 1px solid #aaa;
    border-radius: 999px;
    opacity: 0.2;
    transition: opacity 0.4s ease-in;
    outline: none;
    cursor: pointer;
    line-height: 0px; }
    .vega-embed summary::-webkit-details-marker {
      display: none; }
    .vega-embed summary:active {
      box-shadow: #aaa 0px 0px 0px 1px inset; }
    .vega-embed summary svg {
      width: 14px;
      height: 14px; }
  .vega-embed details[open] summary {
    opacity: 0.7; }
  .vega-embed:hover summary,
  .vega-embed:focus summary {
    opacity: 1 !important;
    transition: opacity 0.2s ease; }
  .vega-embed .vega-actions {
    position: absolute;
    z-index: 1001;
    top: 35px;
    right: -9px;
    display: flex;
    flex-direction: column;
    padding-bottom: 8px;
    padding-top: 8px;
    border-radius: 4px;
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
    border: 1px solid #d9d9d9;
    background: white;
    animation-duration: 0.15s;
    animation-name: scale-in;
    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
    text-align: left; }
    .vega-embed .vega-actions a {
      padding: 8px 16px;
      font-family: sans-serif;
      font-size: 14px;
      font-weight: 600;
      white-space: nowrap;
      color: #434a56;
      text-decoration: none; }
      .vega-embed .vega-actions a:hover {
        background-color: #f7f7f9;
        color: black; }
    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
      content: "";
      display: inline-block;
      position: absolute; }
    .vega-embed .vega-actions::before {
      left: auto;
      right: 14px;
      top: -16px;
      border: 8px solid #0000;
      border-bottom-color: #d9d9d9; }
    .vega-embed .vega-actions::after {
      left: auto;
      right: 15px;
      top: -14px;
      border: 7px solid #0000;
      border-bottom-color: #fff; }

.vega-embed-wrapper {
  max-width: 100%;
  overflow: scroll;
  padding-right: 14px; }

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6); }
  to {
    opacity: 1;
    transform: scale(1); } }
`;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});function P5e(e,...t){for(const n of t)uWt(e,n);return e}function uWt(e,t){for(const n of Object.keys(t))h5(e,n,t[n],!0)}var zz;const E0=WFt;let HA=rqt;const _P=typeof window<"u"?window:void 0;HA===void 0&&(!((zz=_P?.vl)===null||zz===void 0)&&zz.compile)&&(HA=_P.vl);const cWt={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},dWt={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},LT={vega:"Vega","vega-lite":"Vega-Lite"},s6={vega:E0.version,"vega-lite":HA?HA.version:"not available"},fWt={vega:e=>e,"vega-lite":(e,t)=>HA.compile(e,{config:t}).spec},hWt=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`;function pWt(e){return typeof e=="function"}function ive(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,s=window.open("");s.document.write(i+e+o),s.document.title=`${LT[r]} JSON Source`}function mWt(e,t){var n;if(e.$schema){const r=k5e(e.$schema);t&&t!==r.library&&console.warn(`The given visualization spec is written in ${LT[r.library]}, but mode argument sets ${(n=LT[t])!==null&&n!==void 0?n:t}.`);const i=r.library;return Pke.satisfies(s6[i],`^${r.version.slice(1)}`)||console.warn(`The input spec uses ${LT[i]} ${r.version}, but the current version of ${LT[i]} is v${s6[i]}.`),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function gWt(e){return!!(e&&"load"in e)}function yWt(e,t,n={}){var r,i,o;return ON(this,void 0,void 0,function*(){const s=gWt(n.loader)?n.loader:E0.loader(n.loader),a=ni(t)?JSON.parse(yield s.load(t)):t,l=yield ove((r=a.usermeta&&a.usermeta.embedOptions)!==null&&r!==void 0?r:{},s),u=yield ove(n,s),c=Object.assign(Object.assign({},P5e(u,l)),{config:f5((i=u.config)!==null&&i!==void 0?i:{},(o=l.config)!==null&&o!==void 0?o:{})});return yield vWt(e,a,c,s)})}function ove(e,t){var n;return ON(this,void 0,void 0,function*(){const r=ni(e.config)?JSON.parse(yield t.load(e.config)):(n=e.config)!==null&&n!==void 0?n:{},i=ni(e.patch)?JSON.parse(yield t.load(e.patch)):e.patch;return Object.assign(Object.assign(Object.assign({},e),i?{patch:i}:{}),r?{config:r}:{})})}function vWt(e,t,n={},r){var i,o,s,a,l,u;return ON(this,void 0,void 0,function*(){const c=n.theme?f5(Hqt[n.theme],(i=n.config)!==null&&i!==void 0?i:{}):n.config,d=hJ(n.actions)?n.actions:P5e({},cWt,(o=n.actions)!==null&&o!==void 0?o:{}),f=Object.assign(Object.assign({},dWt),n.i18n),h=(s=n.renderer)!==null&&s!==void 0?s:"canvas",m=(a=n.logLevel)!==null&&a!==void 0?a:E0.Warn,p=(l=n.downloadFileName)!==null&&l!==void 0?l:"visualization";if(n.defaultStyle!==!1){const D="vega-embed-style";if(!document.getElementById(D)){const I=document.createElement("style");I.id=D,I.innerText=n.defaultStyle===void 0||n.defaultStyle===!0?lWt.toString():n.defaultStyle,document.head.appendChild(I)}}const g=mWt(t,n.mode);let y=fWt[g](t,c);if(g==="vega-lite"&&y.$schema){const D=k5e(y.$schema);Pke.satisfies(s6.vega,`^${D.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${D.version}, but current version is v${s6.vega}.`)}const v=typeof e=="string"?document.querySelector(e):e;if(!v)throw Error(`${e} does not exist`);v.classList.add("vega-embed"),d&&v.classList.add("has-actions"),v.innerHTML="";const w=n.patch;w&&(w instanceof Function?y=w(y):y=o5(y,w,!0,!1).newDocument),n.formatLocale&&E0.formatLocale(n.formatLocale),n.timeFormatLocale&&E0.timeFormatLocale(n.timeFormatLocale);const E=E0.parse(y,g==="vega-lite"?{}:c),C=new E0.View(E,{loader:r,logLevel:m,renderer:h});if(n.tooltip!==!1){let D;pWt(n.tooltip)?D=n.tooltip:D=new sWt(n.tooltip===!0?{}:n.tooltip).call,C.tooltip(D)}let{hover:S}=n;if(S===void 0&&(S=g==="vega"),S){const{hoverSet:D,updateSet:I}=typeof S=="boolean"?{}:S;C.hover(D,I)}n&&(n.width!=null&&C.width(n.width),n.height!=null&&C.height(n.height),n.padding!=null&&C.padding(n.padding)),yield C.initialize(e).runAsync();let T;if(d!==!1){let D=v;if(n.defaultStyle!==!1){const P=document.createElement("details");P.title=f.CLICK_TO_VIEW_ACTIONS,v.append(P),D=P;const N=document.createElement("summary");N.innerHTML=hWt,P.append(N),T=$=>{P.contains($.target)||P.removeAttribute("open")},document.addEventListener("click",T)}const I=document.createElement("div");if(D.append(I),I.classList.add("vega-actions"),d===!0||d.export!==!1){for(const P of["svg","png"])if(d===!0||d.export===!0||d.export[P]){const N=f[`${P.toUpperCase()}_ACTION`],$=document.createElement("a");$.text=N,$.href="#",$.target="_blank",$.download=`${p}.${P}`,$.addEventListener("mousedown",function(O){return ON(this,void 0,void 0,function*(){O.preventDefault();const j=yield C.toImageURL(P,n.scaleFactor);this.href=j})}),I.append($)}}if(d===!0||d.source!==!1){const P=document.createElement("a");P.text=f.SOURCE_ACTION,P.href="#",P.addEventListener("mousedown",function(N){var $,O;ive(w9(t),($=n.sourceHeader)!==null&&$!==void 0?$:"",(O=n.sourceFooter)!==null&&O!==void 0?O:"",g),N.preventDefault()}),I.append(P)}if(g==="vega-lite"&&(d===!0||d.compiled!==!1)){const P=document.createElement("a");P.text=f.COMPILED_ACTION,P.href="#",P.addEventListener("mousedown",function(N){var $,O;ive(w9(y),($=n.sourceHeader)!==null&&$!==void 0?$:"",(O=n.sourceFooter)!==null&&O!==void 0?O:"","vega"),N.preventDefault()}),I.append(P)}if(d===!0||d.editor!==!1){const P=(u=n.editorUrl)!==null&&u!==void 0?u:"https://vega.github.io/editor/",N=document.createElement("a");N.text=f.EDITOR_ACTION,N.href="#",N.addEventListener("mousedown",function($){aWt(window,P,{config:c,mode:g,renderer:h,spec:w9(t)}),$.preventDefault()}),I.append(N)}}function A(){T&&document.removeEventListener("click",T),C.finalize()}return{view:C,spec:t,vgSpec:y,finalize:A}})}function bWt(e){return!!e&&{}.toString.call(e)==="[object Function]"}function wWt(e,t,n){n&&(bWt(n)?n(e.data(t)):e.change(t,E0.changeset().remove(()=>!0).insert(n)))}function xWt(e,t){Object.keys(t).forEach(n=>{wWt(e,n,t[n])})}function O5e(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const N5e=()=>{};function Uz(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}function _Wt(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=O5e([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!hT(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function sve(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function Vz(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function jT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class M5e extends dn.PureComponent{constructor(){super(...arguments),jT(this,"containerRef",dn.createRef()),jT(this,"resultPromise",void 0),jT(this,"handleError",t=>{const{onError:n=N5e}=this.props;n(t,this.containerRef.current),console.warn(t)}),jT(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=O5e([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=_Wt(Vz(this.props),Vz(t)),{signalListeners:i}=this.props,{signalListeners:o}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const s=!KH(i,o);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),s&&(o&&sve(a,o),i&&Uz(a,i)),a.run()})}else KH(i,o)||this.modifyView(s=>{o&&sve(s,o),i&&Uz(s,i),s.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:o,...s}=this.props;if(this.containerRef.current){const a=Vz(this.props);this.resultPromise=yWt(this.containerRef.current,a,s).then(l=>{if(l){const{view:u}=l;Uz(u,r)&&u.run()}return l}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return dn.createElement("div",{ref:this.containerRef,className:t,style:n})}}jT(M5e,"propTypes",{className:YN.string,onError:YN.func});function fG(){return fG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fG.apply(this,arguments)}function hG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const EWt={};class Are extends dn.PureComponent{constructor(){super(...arguments),hG(this,"vegaEmbed",dn.createRef()),hG(this,"handleNewView",t=>{this.update();const{onNewView:n=N5e}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){KH(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{xWt(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return dn.createElement(M5e,fG({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}hG(Are,"defaultProps",{data:EWt});function pG(){return pG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pG.apply(this,arguments)}function ave(e){return dn.createElement(Are,pG({},e,{mode:"vega-lite"}))}const CWt=Are;function SWt({currentConfig:e,provState:t}){const n=Po(),[r,i]=k.useState(null),[o,s]=k.useState(!0),a=Km(),{updateResponseBlockValidation:l,setReactiveAnswers:u}=Zi(),[c,d]=k.useState(),{actions:f,trrack:h}=k.useMemo(()=>{const v=zE.create(),w=v.register("signal",(C,S)=>(C.event=S,C)),E=Q$({registry:v,initialState:{event:{}}});return{actions:{signalAction:w},trrack:E}},[]),m=k.useCallback(({status:v,provenanceGraph:w,answers:E})=>{n(l({location:"stimulus",identifier:a,status:v,values:E,provenanceGraph:w})),n(u(E))},[n,l,a,u]),p=k.useCallback((v,w)=>{h.apply(v,f.signalAction({key:v,value:w}))},[f,h]),g=k.useCallback((v,w)=>{const{responseId:E,response:C}=w;m({status:!0,provenanceGraph:h.graph.backend,answers:{[E]:C}})},[m,h.graph.backend]),y=k.useMemo(()=>{const v=r?.config?.signals;return v?v.reduce((w,E)=>(E.name==="revisitAnswer"?w[E.name]=g:w[E.name]=p,w),{}):{}},[g,p,r]);return k.useEffect(()=>{async function v(){s(!0);let w;"path"in e?w=await c1t(e.path):w=e.config,w!==void 0&&i(w),s(!1)}e&&v()},[e]),k.useEffect(()=>{c&&t&&t.event&&t.event.key&&c.signal(t.event.key,t.event.value).run()},[c,t]),o?x.jsx("div",{children:"Loading..."}):"path"in e&&!r?x.jsx(Jm,{path:e.path}):r?x.jsx(CWt,{spec:structuredClone(r),signalListeners:y,onNewView:v=>d(v),actions:e.withActions}):x.jsx("div",{children:"Failed to load vega config"})}function zt(e,t,n){return(t=AWt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TWt(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AWt(e){var t=TWt(e,"string");return typeof t=="symbol"?t:String(t)}function kWt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RWt(e,t,n){return t&&lve(e.prototype,t),n&&lve(e,n),e}function IWt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function cve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uve(Object(n),!0).forEach((function(r){IWt(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uve(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var dve={addCSS:!0,thumbWidth:15,watch:!0};function DWt(e,t){return(function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function PWt(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}var VR=function(e){return e!=null?e.constructor:null},kre=function(e,t){return!!(e&&t&&e instanceof t)},$5e=function(e){return e==null},F5e=function(e){return VR(e)===Object},OWt=function(e){return VR(e)===Number&&!Number.isNaN(e)},L5e=function(e){return VR(e)===String},NWt=function(e){return VR(e)===Boolean},MWt=function(e){return VR(e)===Function},j5e=function(e){return Array.isArray(e)},B5e=function(e){return kre(e,NodeList)},$Wt=function(e){return kre(e,Element)},FWt=function(e){return kre(e,Event)},LWt=function(e){return $5e(e)||(L5e(e)||j5e(e)||B5e(e))&&!e.length||F5e(e)&&!Object.keys(e).length},Ha={nullOrUndefined:$5e,object:F5e,number:OWt,string:L5e,boolean:NWt,function:MWt,array:j5e,nodeList:B5e,element:$Wt,event:FWt,empty:LWt};function jWt(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function BWt(e,t){if(1>t){var n=jWt(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}var zWt=(function(){function e(t,n){kWt(this,e),Ha.element(t)?this.element=t:Ha.string(t)&&(this.element=document.querySelector(t)),Ha.element(this.element)&&Ha.empty(this.element.rangeTouch)&&(this.config=cve({},dve,{},n),this.init())}return RWt(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(t){var n=this,r=t?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(i){n.element[r](i,(function(o){return n.set(o)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!Ha.event(t))return null;var n,r=t.target,i=t.changedTouches[0],o=parseFloat(r.getAttribute("min"))||0,s=parseFloat(r.getAttribute("max"))||100,a=parseFloat(r.getAttribute("step"))||1,l=r.getBoundingClientRect(),u=100/l.width*(this.config.thumbWidth/2)/100;return 0>(n=100/l.width*(i.clientX-l.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*u:50<n&&(n+=2*(n-50)*u),o+BWt(n/100*(s-o),a)}},{key:"set",value:function(t){e.enabled&&Ha.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),PWt(t.target,t.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},r=null;if(Ha.empty(t)||Ha.string(t)?r=Array.from(document.querySelectorAll(Ha.string(t)?t:'input[type="range"]')):Ha.element(t)?r=[t]:Ha.nodeList(t)?r=Array.from(t):Ha.array(t)&&(r=t.filter(Ha.element)),Ha.empty(r))return null;var i=cve({},dve,{},n);if(Ha.string(t)&&i.watch){var o=new MutationObserver((function(s){Array.from(s).forEach((function(a){Array.from(a.addedNodes).forEach((function(l){Ha.element(l)&&DWt(l,t)&&new e(l,i)}))}))}));o.observe(document.body,{childList:!0,subtree:!0})}return r.map((function(s){return new e(s,n)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e})();const HR=e=>e!=null?e.constructor:null,og=(e,t)=>!!(e&&t&&e instanceof t),Rre=e=>e==null,z5e=e=>HR(e)===Object,UWt=e=>HR(e)===Number&&!Number.isNaN(e),CL=e=>HR(e)===String,VWt=e=>HR(e)===Boolean,U5e=e=>typeof e=="function",V5e=e=>Array.isArray(e),HWt=e=>og(e,WeakMap),H5e=e=>og(e,NodeList),qWt=e=>HR(e)===Text,WWt=e=>og(e,Event),GWt=e=>og(e,KeyboardEvent),YWt=e=>og(e,window.TextTrackCue)||og(e,window.VTTCue),KWt=e=>og(e,TextTrack)||!Rre(e)&&CL(e.kind),XWt=e=>og(e,Promise)&&U5e(e.then),QWt=e=>e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.style=="object"&&typeof e.ownerDocument=="object",q5e=e=>Rre(e)||(CL(e)||V5e(e)||H5e(e))&&!e.length||z5e(e)&&!Object.keys(e).length,JWt=e=>{if(og(e,window.URL))return!0;if(!CL(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!q5e(new URL(t).hostname)}catch{return!1}};var Te={nullOrUndefined:Rre,object:z5e,number:UWt,string:CL,boolean:VWt,function:U5e,array:V5e,weakMap:HWt,nodeList:H5e,element:QWt,textNode:qWt,event:WWt,keyboardEvent:GWt,cue:YWt,track:KWt,promise:XWt,url:JWt,empty:q5e};const mG=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n=Object.keys(t).find((r=>e.style[r]!==void 0));return!!Te.string(n)&&t[n]})();function W5e(e,t){setTimeout((()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch{}}),t)}const ZWt=!!window.document.documentMode,eGt=/Edge/g.test(navigator.userAgent),tGt="WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),nGt=/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,rGt=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,iGt=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var Gs={isIE:ZWt,isEdge:eGt,isWebKit:tGt,isIPhone:nGt,isIPadOS:rGt,isIos:iGt};function oGt(e){return JSON.parse(JSON.stringify(e))}function G5e(e,t){return t.split(".").reduce(((n,r)=>n&&n[r]),e)}function Uo(e={},...t){if(!t.length)return e;const n=t.shift();return Te.object(n)?(Object.keys(n).forEach((r=>{Te.object(n[r])?(Object.keys(e).includes(r)||Object.assign(e,{[r]:{}}),Uo(e[r],n[r])):Object.assign(e,{[r]:n[r]})})),Uo(e,...t)):e}function Y5e(e,t){const n=e.length?e:[e];Array.from(n).reverse().forEach(((r,i)=>{const o=i>0?t.cloneNode(!0):t,s=r.parentNode,a=r.nextSibling;o.appendChild(r),a?s.insertBefore(o,a):s.appendChild(o)}))}function gG(e,t){Te.element(e)&&!Te.empty(t)&&Object.entries(t).filter((([,n])=>!Te.nullOrUndefined(n))).forEach((([n,r])=>e.setAttribute(n,r)))}function jn(e,t,n){const r=document.createElement(e);return Te.object(t)&&gG(r,t),Te.string(n)&&(r.innerText=n),r}function sGt(e,t){Te.element(e)&&Te.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)}function fve(e,t,n,r){Te.element(t)&&t.appendChild(jn(e,n,r))}function Em(e){Te.nodeList(e)||Te.array(e)?Array.from(e).forEach(Em):Te.element(e)&&Te.element(e.parentNode)&&e.parentNode.removeChild(e)}function uN(e){if(!Te.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function a6(e,t){return Te.element(t)&&Te.element(t.parentNode)&&Te.element(e)?(t.parentNode.replaceChild(e,t),e):null}function Sh(e,t){if(!Te.string(e)||Te.empty(e))return{};const n={},r=Uo({},t);return e.split(",").forEach((i=>{const o=i.trim(),s=o.replace(".",""),a=o.replace(/[[\]]/g,"").split("="),[l]=a,u=a.length>1?a[1].replace(/["']/g,""):"";switch(o.charAt(0)){case".":Te.string(r.class)?n.class=`${r.class} ${s}`:n.class=s;break;case"#":n.id=o.replace("#","");break;case"[":n[l]=u}})),Uo(r,n)}function jv(e,t){if(!Te.element(e))return;let n=t;Te.boolean(n)||(n=!e.hidden),e.hidden=n}function fi(e,t,n){if(Te.nodeList(e))return Array.from(e).map((r=>fi(r,t,n)));if(Te.element(e)){let r="toggle";return n!==void 0&&(r=n?"add":"remove"),e.classList[r](t),e.classList.contains(t)}return!1}function l6(e,t){return Te.element(e)&&e.classList.contains(t)}function wb(e,t){const{prototype:n}=Element;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function aGt(e,t){const{prototype:n}=Element;return(n.closest||function(){let r=this;do{if(wb.matches(r,t))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null}).call(e,t)}function qA(e){return this.elements.container.querySelectorAll(e)}function Es(e){return this.elements.container.querySelector(e)}function Hz(e=null,t=!1){Te.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}const hve={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},Ho={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const n=Ho[e]||t!=="html5";return{api:n,ui:n&&Ho.rangeInput}},pip:!(Gs.isIPhone||!Te.function(jn("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||jn("video").disablePictureInPicture)),airplay:Te.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(Te.empty(e))return!1;const[t]=e.split("/");let n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(hve).includes(n)&&(n+=`; codecs="${hve[e]}"`);try{return!!(n&&this.media.canPlayType(n).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range",e.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:mG!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},lGt=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e})();function WA(e,t,n,r=!1,i=!0,o=!1){if(!e||!("addEventListener"in e)||Te.empty(t)||!Te.function(n))return;const s=t.split(" ");let a=o;lGt&&(a={passive:i,capture:o}),s.forEach((l=>{this&&this.eventListeners&&r&&this.eventListeners.push({element:e,type:l,callback:n,options:a}),e[r?"addEventListener":"removeEventListener"](l,n,a)}))}function Gr(e,t="",n,r=!0,i=!1){WA.call(this,e,t,n,!0,r,i)}function SL(e,t="",n,r=!0,i=!1){WA.call(this,e,t,n,!1,r,i)}function Ire(e,t="",n,r=!0,i=!1){const o=(...s)=>{SL(e,t,o,r,i),n.apply(this,s)};WA.call(this,e,t,o,!0,r,i)}function Vn(e,t="",n=!1,r={}){if(!Te.element(e)||Te.empty(t))return;const i=new CustomEvent(t,{bubbles:n,detail:{...r,plyr:this}});e.dispatchEvent(i)}function uGt(){this&&this.eventListeners&&(this.eventListeners.forEach((e=>{const{element:t,type:n,callback:r,options:i}=e;t.removeEventListener(n,r,i)})),this.eventListeners=[])}function cGt(){return new Promise((e=>this.ready?setTimeout(e,0):Gr.call(this,this.elements.container,"ready",e))).then((()=>{}))}function $h(e){Te.promise(e)&&e.then(null,(()=>{}))}function yG(e){return Te.array(e)?e.filter(((t,n)=>e.indexOf(t)===n)):e}function K5e(e,t){return Te.array(e)&&e.length?e.reduce(((n,r)=>Math.abs(r-t)<Math.abs(n-t)?r:n)):null}function X5e(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const pve=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce(((e,[t,n])=>({...e,[t/n]:[t,n]})),{});function Q5e(e){return Te.array(e)||Te.string(e)&&e.includes(":")?(Te.array(e)?e:e.split(":")).map(Number).every(Te.number):!1}function u6(e){if(!Te.array(e)||!e.every(Te.number))return null;const[t,n]=e,r=(o,s)=>s===0?o:r(s,o%s),i=r(t,n);return[t/i,n/i]}function Dre(e){const t=r=>Q5e(r)?r.split(":").map(Number):null;let n=t(e);if(n===null&&(n=t(this.config.ratio)),n===null&&!Te.empty(this.embed)&&Te.array(this.embed.ratio)&&({ratio:n}=this.embed),n===null&&this.isHTML5){const{videoWidth:r,videoHeight:i}=this.media;n=[r,i]}return u6(n)}function dE(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,n=Dre.call(this,e);if(!Te.array(n))return{};const[r,i]=u6(n),o=100/r*i;if(X5e(`aspect-ratio: ${r}/${i}`)?t.style.aspectRatio=`${r}/${i}`:t.style.paddingBottom=`${o}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const s=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),a=(s-o)/(s/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${a}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:o,ratio:n}}function J5e(e,t,n=.05){const r=e/t,i=K5e(Object.keys(pve),r);return Math.abs(i-r)<=n?pve[i]:[e,t]}function dGt(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const j0={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((e=>{const t=e.getAttribute("type");return!!Te.empty(t)||Ho.mime.call(this,t)})):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:j0.getSources.call(this).map((e=>Number(e.getAttribute("size")))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,Te.empty(this.config.ratio)||dE.call(e),Object.defineProperty(e.media,"quality",{get(){const t=j0.getSources.call(e).find((n=>n.getAttribute("src")===e.source));return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&Te.function(e.config.quality.onChange))e.config.quality.onChange(t);else{const n=j0.getSources.call(e).find((l=>Number(l.getAttribute("size"))===t));if(!n)return;const{currentTime:r,paused:i,preload:o,readyState:s,playbackRate:a}=e.media;e.media.src=n.getAttribute("src"),(o!=="none"||s)&&(e.once("loadedmetadata",(()=>{e.speed=a,e.currentTime=r,i||$h(e.play())})),e.media.load())}Vn.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(Em(j0.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function fGt(e){return`${e}-${Math.floor(1e4*Math.random())}`}function vG(e,...t){return Te.empty(e)?e:e.toString().replace(/{(\d+)}/g,((n,r)=>t[r].toString()))}function hGt(e,t){return e===0||t===0||Number.isNaN(e)||Number.isNaN(t)?0:(e/t*100).toFixed(2)}const S2=(e="",t="",n="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString()),Z5e=(e="")=>e.toString().replace(/\w\S*/g,(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()));function pGt(e=""){let t=e.toString();return t=S2(t,"-"," "),t=S2(t,"_"," "),t=Z5e(t),S2(t," ","")}function mGt(e=""){let t=e.toString();return t=pGt(t),t.charAt(0).toLowerCase()+t.slice(1)}function gGt(e){const t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText}function yGt(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const mve={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Hs={get(e="",t={}){if(Te.empty(e)||Te.empty(t))return"";let n=G5e(t.i18n,e);if(Te.empty(n))return Object.keys(mve).includes(e)?mve[e]:"";const r={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(r).forEach((([i,o])=>{n=S2(n,i,o)})),n}};class GA{constructor(t){zt(this,"get",(n=>{if(!GA.supported||!this.enabled)return null;const r=window.localStorage.getItem(this.key);if(Te.empty(r))return null;const i=JSON.parse(r);return Te.string(n)&&n.length?i[n]:i})),zt(this,"set",(n=>{if(!GA.supported||!this.enabled||!Te.object(n))return;let r=this.get();Te.empty(r)&&(r={}),Uo(r,n);try{window.localStorage.setItem(this.key,JSON.stringify(r))}catch{}})),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}}}function qR(e,t="text"){return new Promise(((n,r)=>{try{const i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",(()=>{if(t==="text")try{n(JSON.parse(i.responseText))}catch{n(i.responseText)}else n(i.response)})),i.addEventListener("error",(()=>{throw new Error(i.status)})),i.open("GET",e,!0),i.responseType=t,i.send()}catch(i){r(i)}}))}function eFe(e,t){if(!Te.string(e))return;const n="cache",r=Te.string(t);let i=!1;const o=()=>document.getElementById(t)!==null,s=(a,l)=>{a.innerHTML=l,r&&o()||document.body.insertAdjacentElement("afterbegin",a)};if(!r||!o()){const a=GA.supported,l=document.createElement("div");if(l.setAttribute("hidden",""),r&&l.setAttribute("id",t),a){const u=window.localStorage.getItem(`${n}-${t}`);if(i=u!==null,i){const c=JSON.parse(u);s(l,c.content)}}qR(e).then((u=>{if(!Te.empty(u)){if(a)try{window.localStorage.setItem(`${n}-${t}`,JSON.stringify({content:u}))}catch{}s(l,u)}})).catch((()=>{}))}}const tFe=e=>Math.trunc(e/60/60%60,10),vGt=e=>Math.trunc(e/60%60,10),bGt=e=>Math.trunc(e%60,10);function TL(e=0,t=!1,n=!1){if(!Te.number(e))return TL(void 0,t,n);const r=a=>`0${a}`.slice(-2);let i=tFe(e);const o=vGt(e),s=bGt(e);return i=t||i>0?`${i}:`:"",`${n&&e>0?"-":""}${i}${r(o)}:${r(s)}`}const Lt={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,n=e.host!==t||Gs.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:n}},findElements(){try{return this.elements.controls=Es.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:qA.call(this,this.config.selectors.buttons.play),pause:Es.call(this,this.config.selectors.buttons.pause),restart:Es.call(this,this.config.selectors.buttons.restart),rewind:Es.call(this,this.config.selectors.buttons.rewind),fastForward:Es.call(this,this.config.selectors.buttons.fastForward),mute:Es.call(this,this.config.selectors.buttons.mute),pip:Es.call(this,this.config.selectors.buttons.pip),airplay:Es.call(this,this.config.selectors.buttons.airplay),settings:Es.call(this,this.config.selectors.buttons.settings),captions:Es.call(this,this.config.selectors.buttons.captions),fullscreen:Es.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=Es.call(this,this.config.selectors.progress),this.elements.inputs={seek:Es.call(this,this.config.selectors.inputs.seek),volume:Es.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:Es.call(this,this.config.selectors.display.buffer),currentTime:Es.call(this,this.config.selectors.display.currentTime),duration:Es.call(this,this.config.selectors.display.duration)},Te.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const n="http://www.w3.org/2000/svg",r=Lt.getIconUrl.call(this),i=`${r.cors?"":r.url}#${this.config.iconPrefix}`,o=document.createElementNS(n,"svg");gG(o,Uo(t,{"aria-hidden":"true",focusable:"false"}));const s=document.createElementNS(n,"use"),a=`${i}-${e}`;return"href"in s&&s.setAttributeNS("http://www.w3.org/1999/xlink","href",a),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),o.appendChild(s),o},createLabel(e,t={}){const n=Hs.get(e,this.config);return jn("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},n)},createBadge(e){if(Te.empty(e))return null;const t=jn("span",{class:this.config.classNames.menu.value});return t.appendChild(jn("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const n=Uo({},t);let r=mGt(e);const i={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((s=>{Object.keys(n).includes(s)&&(i[s]=n[s],delete n[s])})),i.element!=="button"||Object.keys(n).includes("type")||(n.type="button"),Object.keys(n).includes("class")?n.class.split(" ").some((s=>s===this.config.classNames.control))||Uo(n,{class:`${n.class} ${this.config.classNames.control}`}):n.class=this.config.classNames.control,e){case"play":i.toggle=!0,i.label="play",i.labelPressed="pause",i.icon="play",i.iconPressed="pause";break;case"mute":i.toggle=!0,i.label="mute",i.labelPressed="unmute",i.icon="volume",i.iconPressed="muted";break;case"captions":i.toggle=!0,i.label="enableCaptions",i.labelPressed="disableCaptions",i.icon="captions-off",i.iconPressed="captions-on";break;case"fullscreen":i.toggle=!0,i.label="enterFullscreen",i.labelPressed="exitFullscreen",i.icon="enter-fullscreen",i.iconPressed="exit-fullscreen";break;case"play-large":n.class+=` ${this.config.classNames.control}--overlaid`,r="play",i.label="play",i.icon="play";break;default:Te.empty(i.label)&&(i.label=r),Te.empty(i.icon)&&(i.icon=e)}const o=jn(i.element);return i.toggle?(o.appendChild(Lt.createIcon.call(this,i.iconPressed,{class:"icon--pressed"})),o.appendChild(Lt.createIcon.call(this,i.icon,{class:"icon--not-pressed"})),o.appendChild(Lt.createLabel.call(this,i.labelPressed,{class:"label--pressed"})),o.appendChild(Lt.createLabel.call(this,i.label,{class:"label--not-pressed"}))):(o.appendChild(Lt.createIcon.call(this,i.icon)),o.appendChild(Lt.createLabel.call(this,i.label))),Uo(n,Sh(this.config.selectors.buttons[r],n)),gG(o,n),r==="play"?(Te.array(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(o)):this.elements.buttons[r]=o,o},createRange(e,t){const n=jn("input",Uo(Sh(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Hs.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,Lt.updateRangeFill.call(this,n),zWt.setup(n),n},createProgress(e,t){const n=jn("progress",Uo(Sh(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if(e!=="volume"){n.appendChild(jn("span",null,"0"));const r={played:"played",buffer:"buffered"}[e],i=r?Hs.get(r,this.config):"";n.innerText=`% ${i.toLowerCase()}`}return this.elements.display[e]=n,n},createTime(e,t){const n=Sh(this.config.selectors.display[e],t),r=jn("div",Uo(n,{class:`${n.class?n.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":Hs.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=r,r},bindMenuItemShortcuts(e,t){Gr.call(this,e,"keydown keyup",(n=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(n.key)||(n.preventDefault(),n.stopPropagation(),n.type==="keydown"))return;const r=wb(e,'[role="menuitemradio"]');if(!r&&[" ","ArrowRight"].includes(n.key))Lt.showMenuPanel.call(this,t,!0);else{let i;n.key!==" "&&(n.key==="ArrowDown"||r&&n.key==="ArrowRight"?(i=e.nextElementSibling,Te.element(i)||(i=e.parentNode.firstElementChild)):(i=e.previousElementSibling,Te.element(i)||(i=e.parentNode.lastElementChild)),Hz.call(this,i,!0))}}),!1),Gr.call(this,e,"keyup",(n=>{n.key==="Return"&&Lt.focusFirstMenuItem.call(this,null,!0)}))},createMenuItem({value:e,list:t,type:n,title:r,badge:i=null,checked:o=!1}){const s=Sh(this.config.selectors.inputs[n]),a=jn("button",Uo(s,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${s.class?s.class:""}`.trim(),"aria-checked":o,value:e})),l=jn("span");l.innerHTML=r,Te.element(i)&&l.appendChild(i),a.appendChild(l),Object.defineProperty(a,"checked",{enumerable:!0,get:()=>a.getAttribute("aria-checked")==="true",set(u){u&&Array.from(a.parentNode.children).filter((c=>wb(c,'[role="menuitemradio"]'))).forEach((c=>c.setAttribute("aria-checked","false"))),a.setAttribute("aria-checked",u?"true":"false")}}),this.listeners.bind(a,"click keyup",(u=>{if(!Te.keyboardEvent(u)||u.key===" "){switch(u.preventDefault(),u.stopPropagation(),a.checked=!0,n){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}Lt.showMenuPanel.call(this,"home",Te.keyboardEvent(u))}}),n,!1),Lt.bindMenuItemShortcuts.call(this,a,n),t.appendChild(a)},formatTime(e=0,t=!1){return Te.number(e)?TL(e,tFe(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,n=!1){Te.element(e)&&Te.number(t)&&(e.innerText=Lt.formatTime(t,n))},updateVolume(){this.supported.ui&&(Te.element(this.elements.inputs.volume)&&Lt.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),Te.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(e,t=0){Te.element(e)&&(e.value=t,Lt.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!Te.event(e))return;let t=0;const n=(r,i)=>{const o=Te.number(i)?i:0,s=Te.element(r)?r:this.elements.display.buffer;if(Te.element(s)){s.value=o;const a=s.getElementsByTagName("span")[0];Te.element(a)&&(a.childNodes[0].nodeValue=o)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=hGt(this.currentTime,this.duration),e.type==="timeupdate"&&Lt.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":n(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(e){const t=Te.event(e)?e.target:e;if(Te.element(t)&&t.getAttribute("type")==="range"){if(wb(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const n=Lt.formatTime(this.currentTime),r=Lt.formatTime(this.duration),i=Hs.get("seekLabel",this.config);t.setAttribute("aria-valuetext",i.replace("{currentTime}",n).replace("{duration}",r))}else if(wb(t,this.config.selectors.inputs.volume)){const n=100*t.value;t.setAttribute("aria-valuenow",n),t.setAttribute("aria-valuetext",`${n.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(Gs.isWebKit||Gs.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,n;if(!this.config.tooltips.seek||!Te.element(this.elements.inputs.seek)||!Te.element(this.elements.display.seekTooltip)||this.duration===0)return;const r=this.elements.display.seekTooltip,i=`${this.config.classNames.tooltip}--visible`,o=c=>fi(r,i,c);if(this.touch)return void o(!1);let s=0;const a=this.elements.progress.getBoundingClientRect();if(Te.event(e))s=100/a.width*(e.pageX-a.left);else{if(!l6(r,i))return;s=parseFloat(r.style.left,10)}s<0?s=0:s>100&&(s=100);const l=this.duration/100*s;r.innerText=Lt.formatTime(l);const u=(t=this.config.markers)===null||t===void 0||(n=t.points)===null||n===void 0?void 0:n.find((({time:c})=>c===Math.round(l)));u&&r.insertAdjacentHTML("afterbegin",`${u.label}<br>`),r.style.left=`${s}%`,Te.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&o(e.type==="mouseenter")},timeUpdate(e){const t=!Te.element(this.elements.display.duration)&&this.config.invertTime;Lt.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&e.type==="timeupdate"&&this.media.seeking||Lt.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return jv(this.elements.display.currentTime,!0),void jv(this.elements.progress,!0);Te.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=Te.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Lt.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Lt.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Lt.setMarkers.call(this),Lt.updateSeekTooltip.call(this)},toggleMenuButton(e,t){jv(this.elements.settings.buttons[e],!t)},updateSetting(e,t,n){const r=this.elements.settings.panels[e];let i=null,o=t;if(e==="captions")i=this.currentTrack;else{if(i=Te.empty(n)?this[e]:n,Te.empty(i)&&(i=this.config[e].default),!Te.empty(this.options[e])&&!this.options[e].includes(i))return void this.debug.warn(`Unsupported value of '${i}' for ${e}`);if(!this.config[e].options.includes(i))return void this.debug.warn(`Disabled value of '${i}' for ${e}`)}if(Te.element(o)||(o=r&&r.querySelector('[role="menu"]')),!Te.element(o))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=Lt.getLabel.call(this,e,i);const s=o&&o.querySelector(`[value="${i}"]`);Te.element(s)&&(s.checked=!0)},getLabel(e,t){switch(e){case"speed":return t===1?Hs.get("normal",this.config):`${t}&times;`;case"quality":if(Te.number(t)){const n=Hs.get(`qualityLabel.${t}`,this.config);return n.length?n:`${t}p`}return Z5e(t);case"captions":return Jr.getLabel.call(this);default:return null}},setQualityMenu(e){if(!Te.element(this.elements.settings.panels.quality))return;const t="quality",n=this.elements.settings.panels.quality.querySelector('[role="menu"]');Te.array(e)&&(this.options.quality=yG(e).filter((o=>this.config.quality.options.includes(o))));const r=!Te.empty(this.options.quality)&&this.options.quality.length>1;if(Lt.toggleMenuButton.call(this,t,r),uN(n),Lt.checkMenu.call(this),!r)return;const i=o=>{const s=Hs.get(`qualityBadge.${o}`,this.config);return s.length?Lt.createBadge.call(this,s):null};this.options.quality.sort(((o,s)=>{const a=this.config.quality.options;return a.indexOf(o)>a.indexOf(s)?1:-1})).forEach((o=>{Lt.createMenuItem.call(this,{value:o,list:n,type:t,title:Lt.getLabel.call(this,"quality",o),badge:i(o)})})),Lt.updateSetting.call(this,t,n)},setCaptionsMenu(){if(!Te.element(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),n=Jr.getTracks.call(this),r=!!n.length;if(Lt.toggleMenuButton.call(this,e,r),uN(t),Lt.checkMenu.call(this),!r)return;const i=n.map(((o,s)=>({value:s,checked:this.captions.toggled&&this.currentTrack===s,title:Jr.getLabel.call(this,o),badge:o.language&&Lt.createBadge.call(this,o.language.toUpperCase()),list:t,type:"language"})));i.unshift({value:-1,checked:!this.captions.toggled,title:Hs.get("disabled",this.config),list:t,type:"language"}),i.forEach(Lt.createMenuItem.bind(this)),Lt.updateSetting.call(this,e,t)},setSpeedMenu(){if(!Te.element(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((r=>r>=this.minimumSpeed&&r<=this.maximumSpeed));const n=!Te.empty(this.options.speed)&&this.options.speed.length>1;Lt.toggleMenuButton.call(this,e,n),uN(t),Lt.checkMenu.call(this),n&&(this.options.speed.forEach((r=>{Lt.createMenuItem.call(this,{value:r,list:t,type:e,title:Lt.getLabel.call(this,"speed",r)})})),Lt.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!Te.empty(e)&&Object.values(e).some((n=>!n.hidden));jv(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let n=e;Te.element(n)||(n=Object.values(this.elements.settings.panels).find((i=>!i.hidden)));const r=n.querySelector('[role^="menuitem"]');Hz.call(this,r,t)},toggleMenu(e){const{popup:t}=this.elements.settings,n=this.elements.buttons.settings;if(!Te.element(t)||!Te.element(n))return;const{hidden:r}=t;let i=r;if(Te.boolean(e))i=e;else if(Te.keyboardEvent(e)&&e.key==="Escape")i=!1;else if(Te.event(e)){const o=Te.function(e.composedPath)?e.composedPath()[0]:e.target,s=t.contains(o);if(s||!s&&e.target!==n&&i)return}n.setAttribute("aria-expanded",i),jv(t,!i),fi(this.elements.container,this.config.classNames.menu.open,i),i&&Te.keyboardEvent(e)?Lt.focusFirstMenuItem.call(this,null,!0):i||r||Hz.call(this,n,Te.keyboardEvent(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const n=t.scrollWidth,r=t.scrollHeight;return Em(t),{width:n,height:r}},showMenuPanel(e="",t=!1){const n=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!Te.element(n))return;const r=n.parentNode,i=Array.from(r.children).find((o=>!o.hidden));if(Ho.transitions&&!Ho.reducedMotion){r.style.width=`${i.scrollWidth}px`,r.style.height=`${i.scrollHeight}px`;const o=Lt.getMenuSize.call(this,n),s=a=>{a.target===r&&["width","height"].includes(a.propertyName)&&(r.style.width="",r.style.height="",SL.call(this,r,mG,s))};Gr.call(this,r,mG,s),r.style.width=`${o.width}px`,r.style.height=`${o.height}px`}jv(i,!0),jv(n,!1),Lt.focusFirstMenuItem.call(this,n,t)},setDownloadUrl(){const e=this.elements.buttons.download;Te.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:n,createProgress:r,createRange:i,createTime:o,setQualityMenu:s,setSpeedMenu:a,showMenuPanel:l}=Lt;this.elements.controls=null,Te.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(n.call(this,"play-large"));const u=jn("div",Sh(this.config.selectors.controls.wrapper));this.elements.controls=u;const c={class:"plyr__controls__item"};return yG(Te.array(this.config.controls)?this.config.controls:[]).forEach((d=>{if(d==="restart"&&u.appendChild(n.call(this,"restart",c)),d==="rewind"&&u.appendChild(n.call(this,"rewind",c)),d==="play"&&u.appendChild(n.call(this,"play",c)),d==="fast-forward"&&u.appendChild(n.call(this,"fast-forward",c)),d==="progress"){const f=jn("div",{class:`${c.class} plyr__progress__container`}),h=jn("div",Sh(this.config.selectors.progress));if(h.appendChild(i.call(this,"seek",{id:`plyr-seek-${e.id}`})),h.appendChild(r.call(this,"buffer")),this.config.tooltips.seek){const m=jn("span",{class:this.config.classNames.tooltip},"00:00");h.appendChild(m),this.elements.display.seekTooltip=m}this.elements.progress=h,f.appendChild(this.elements.progress),u.appendChild(f)}if(d==="current-time"&&u.appendChild(o.call(this,"currentTime",c)),d==="duration"&&u.appendChild(o.call(this,"duration",c)),d==="mute"||d==="volume"){let{volume:f}=this.elements;if(Te.element(f)&&u.contains(f)||(f=jn("div",Uo({},c,{class:`${c.class} plyr__volume`.trim()})),this.elements.volume=f,u.appendChild(f)),d==="mute"&&f.appendChild(n.call(this,"mute")),d==="volume"&&!Gs.isIos&&!Gs.isIPadOS){const h={max:1,step:.05,value:this.config.volume};f.appendChild(i.call(this,"volume",Uo(h,{id:`plyr-volume-${e.id}`})))}}if(d==="captions"&&u.appendChild(n.call(this,"captions",c)),d==="settings"&&!Te.empty(this.config.settings)){const f=jn("div",Uo({},c,{class:`${c.class} plyr__menu`.trim(),hidden:""}));f.appendChild(n.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const h=jn("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),m=jn("div"),p=jn("div",{id:`plyr-settings-${e.id}-home`}),g=jn("div",{role:"menu"});p.appendChild(g),m.appendChild(p),this.elements.settings.panels.home=p,this.config.settings.forEach((y=>{const v=jn("button",Uo(Sh(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,v,y),Gr.call(this,v,"click",(()=>{l.call(this,y,!1)}));const w=jn("span",null,Hs.get(y,this.config)),E=jn("span",{class:this.config.classNames.menu.value});E.innerHTML=e[y],w.appendChild(E),v.appendChild(w),g.appendChild(v);const C=jn("div",{id:`plyr-settings-${e.id}-${y}`,hidden:""}),S=jn("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});S.appendChild(jn("span",{"aria-hidden":!0},Hs.get(y,this.config))),S.appendChild(jn("span",{class:this.config.classNames.hidden},Hs.get("menuBack",this.config))),Gr.call(this,C,"keydown",(T=>{T.key==="ArrowLeft"&&(T.preventDefault(),T.stopPropagation(),l.call(this,"home",!0))}),!1),Gr.call(this,S,"click",(()=>{l.call(this,"home",!1)})),C.appendChild(S),C.appendChild(jn("div",{role:"menu"})),m.appendChild(C),this.elements.settings.buttons[y]=v,this.elements.settings.panels[y]=C})),h.appendChild(m),f.appendChild(h),u.appendChild(f),this.elements.settings.popup=h,this.elements.settings.menu=f}if(d==="pip"&&Ho.pip&&u.appendChild(n.call(this,"pip",c)),d==="airplay"&&Ho.airplay&&u.appendChild(n.call(this,"airplay",c)),d==="download"){const f=Uo({},c,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(f.download="");const{download:h}=this.config.urls;!Te.url(h)&&this.isEmbed&&Uo(f,{icon:`logo-${this.provider}`,label:this.provider}),u.appendChild(n.call(this,"download",f))}d==="fullscreen"&&u.appendChild(n.call(this,"fullscreen",c))})),this.isHTML5&&s.call(this,j0.getQualityOptions.call(this)),a.call(this),u},inject(){if(this.config.loadSprite){const i=Lt.getIconUrl.call(this);i.cors&&eFe(i.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let n=!0;Te.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),Te.element(this.config.controls)||Te.string(this.config.controls)?e=this.config.controls:(e=Lt.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Jr.getLabel.call(this)}),n=!1);let r;if(n&&Te.string(this.config.controls)&&(e=(i=>{let o=i;return Object.entries(t).forEach((([s,a])=>{o=S2(o,`{${s}}`,a)})),o})(e)),Te.string(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),Te.element(r)||(r=this.elements.container),r[Te.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),Te.element(this.elements.controls)||Lt.findElements.call(this),!Te.empty(this.elements.buttons)){const i=o=>{const s=this.config.classNames.controlPressed;o.setAttribute("aria-pressed","false"),Object.defineProperty(o,"pressed",{configurable:!0,enumerable:!0,get:()=>l6(o,s),set(a=!1){fi(o,s,a),o.setAttribute("aria-pressed",a?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach((o=>{Te.array(o)||Te.nodeList(o)?Array.from(o).filter(Boolean).forEach(i):i(o)}))}if(Gs.isEdge&&W5e(r),this.config.tooltips.controls){const{classNames:i,selectors:o}=this.config,s=`${o.controls.wrapper} ${o.labels} .${i.hidden}`,a=qA.call(this,s);Array.from(a).forEach((l=>{fi(l,this.config.classNames.hidden,!1),fi(l,this.config.classNames.tooltip,!0)}))}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const n=(e=this.config.markers)===null||e===void 0||(t=e.points)===null||t===void 0?void 0:t.filter((({time:l})=>l>0&&l<this.duration));if(n==null||!n.length)return;const r=document.createDocumentFragment(),i=document.createDocumentFragment();let o=null;const s=`${this.config.classNames.tooltip}--visible`,a=l=>fi(o,s,l);n.forEach((l=>{const u=jn("span",{class:this.config.classNames.marker},""),c=l.time/this.duration*100+"%";o&&(u.addEventListener("mouseenter",(()=>{l.label||(o.style.left=c,o.innerHTML=l.label,a(!0))})),u.addEventListener("mouseleave",(()=>{a(!1)}))),u.addEventListener("click",(()=>{this.currentTime=l.time})),u.style.left=c,i.appendChild(u)})),r.appendChild(i),this.config.tooltips.seek||(o=jn("span",{class:this.config.classNames.tooltip},""),r.appendChild(o)),this.elements.markers={points:i,tip:o},this.elements.progress.appendChild(r)}};function nFe(e,t=!0){let n=e;if(t){const r=document.createElement("a");r.href=n,n=r.href}try{return new URL(n)}catch{return null}}function rFe(e){const t=new URLSearchParams;return Te.object(e)&&Object.entries(e).forEach((([n,r])=>{t.set(n,r)})),t}const Jr={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!Ho.textTracks)return void(Te.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Lt.setCaptionsMenu.call(this));if(Te.element(this.elements.captions)||(this.elements.captions=jn("div",Sh(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),sGt(this.elements.captions,this.elements.wrapper)),Gs.isIE&&window.URL){const r=this.media.querySelectorAll("track");Array.from(r).forEach((i=>{const o=i.getAttribute("src"),s=nFe(o);s!==null&&s.hostname!==window.location.href.hostname&&["http:","https:"].includes(s.protocol)&&qR(o,"blob").then((a=>{i.setAttribute("src",window.URL.createObjectURL(a))})).catch((()=>{Em(i)}))}))}const e=yG((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((r=>r.split("-")[0])));let t=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();t==="auto"&&([t]=e);let n=this.storage.get("captions");if(Te.boolean(n)||({active:n}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n,language:t,languages:e}),this.isHTML5){const r=this.config.captions.update?"addtrack removetrack":"removetrack";Gr.call(this,this.media.textTracks,r,Jr.update.bind(this))}setTimeout(Jr.update.bind(this),0)},update(){const e=Jr.getTracks.call(this,!0),{active:t,language:n,meta:r,currentTrackNode:i}=this.captions,o=!!e.find((s=>s.language===n));this.isHTML5&&this.isVideo&&e.filter((s=>!r.get(s))).forEach((s=>{this.debug.log("Track added",s),r.set(s,{default:s.mode==="showing"}),s.mode==="showing"&&(s.mode="hidden"),Gr.call(this,s,"cuechange",(()=>Jr.updateCues.call(this)))})),(o&&this.language!==n||!e.includes(i))&&(Jr.setLanguage.call(this,n),Jr.toggle.call(this,t&&o)),this.elements&&fi(this.elements.container,this.config.classNames.captions.enabled,!Te.empty(e)),Te.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Lt.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:n}=this.captions,r=this.config.classNames.captions.active,i=Te.nullOrUndefined(e)?!n:e;if(i!==n){if(t||(this.captions.active=i,this.storage.set({captions:i})),!this.language&&i&&!t){const o=Jr.getTracks.call(this),s=Jr.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=s.language,void Jr.set.call(this,o.indexOf(s))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=i),fi(this.elements.container,r,i),this.captions.toggled=i,Lt.updateSetting.call(this,"captions"),Vn.call(this,this.media,i?"captionsenabled":"captionsdisabled")}setTimeout((()=>{i&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")}))},set(e,t=!0){const n=Jr.getTracks.call(this);if(e!==-1)if(Te.number(e))if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const r=n[e],{language:i}=r||{};this.captions.currentTrackNode=r,Lt.updateSetting.call(this,"captions"),t||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i),Vn.call(this,this.media,"languagechange")}Jr.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&Jr.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else Jr.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!Te.string(e))return void this.debug.warn("Invalid language argument",e);const n=e.toLowerCase();this.captions.language=n;const r=Jr.getTracks.call(this),i=Jr.findTrack.call(this,[n]);Jr.set.call(this,r.indexOf(i),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter((t=>!this.isHTML5||e||this.captions.meta.has(t))).filter((t=>["captions","subtitles"].includes(t.kind)))},findTrack(e,t=!1){const n=Jr.getTracks.call(this),r=s=>Number((this.captions.meta.get(s)||{}).default),i=Array.from(n).sort(((s,a)=>r(a)-r(s)));let o;return e.every((s=>(o=i.find((a=>a.language===s)),!o))),o||(t?i[0]:void 0)},getCurrentTrack(){return Jr.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!Te.track(t)&&Ho.textTracks&&this.captions.toggled&&(t=Jr.getCurrentTrack.call(this)),Te.track(t)?Te.empty(t.label)?Te.empty(t.language)?Hs.get("enabled",this.config):e.language.toUpperCase():t.label:Hs.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!Te.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!Te.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const r=Jr.getCurrentTrack.call(this);t=Array.from((r||{}).activeCues||[]).map((i=>i.getCueAsHTML())).map(yGt)}const n=t.map((r=>r.trim())).join(`
`);if(n!==this.elements.captions.innerHTML){uN(this.elements.captions);const r=jn("span",Sh(this.config.selectors.caption));r.innerHTML=n,this.elements.captions.appendChild(r),Vn.call(this,this.media,"cuechange")}}},iFe={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},qz={active:"picture-in-picture",inactive:"inline"},C0={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Wz={audio:"audio",video:"video"};function wGt(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?C0.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?C0.vimeo:null}const Gz=()=>{};class xGt{constructor(t=!1){this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):Gz}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):Gz}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):Gz}}class Jd{constructor(t){zt(this,"onChange",(()=>{if(!this.supported)return;const n=this.player.elements.buttons.fullscreen;Te.element(n)&&(n.pressed=this.active);const r=this.target===this.player.media?this.target:this.player.elements.container;Vn.call(this.player,r,this.active?"enterfullscreen":"exitfullscreen",!0)})),zt(this,"toggleFallback",((n=!1)=>{if(n?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=n?"hidden":"",fi(this.target,this.player.config.classNames.fullscreen.fallback,n),Gs.isIos){let r=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";r||(r=document.createElement("meta"),r.setAttribute("name","viewport"));const o=Te.string(r.content)&&r.content.includes(i);n?(this.cleanupViewport=!o,o||(r.content+=`,${i}`)):this.cleanupViewport&&(r.content=r.content.split(",").filter((s=>s.trim()!==i)).join(","))}this.onChange()})),zt(this,"trapFocus",(n=>{if(Gs.isIos||Gs.isIPadOS||!this.active||n.key!=="Tab")return;const r=document.activeElement,i=qA.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[o]=i,s=i[i.length-1];r!==s||n.shiftKey?r===o&&n.shiftKey&&(s.focus(),n.preventDefault()):(o.focus(),n.preventDefault())})),zt(this,"update",(()=>{if(this.supported){let n;n=this.forceFallback?"Fallback (forced)":Jd.nativeSupported?"Native":"Fallback",this.player.debug.log(`${n} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");fi(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)})),zt(this,"enter",(()=>{this.supported&&(Gs.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!Jd.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?Te.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))})),zt(this,"exit",(()=>{if(this.supported)if(Gs.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),$h(this.player.play());else if(!Jd.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!Te.empty(this.prefix)){const n=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${n}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),zt(this,"toggle",(()=>{this.active?this.exit():this.enter()})),this.player=t,this.prefix=Jd.prefix,this.property=Jd.property,this.scrollPosition={x:0,y:0},this.forceFallback=t.config.fullscreen.fallback==="force",this.player.elements.fullscreen=t.config.fullscreen.container&&aGt(this.player.elements.container,t.config.fullscreen.container),Gr.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,(()=>{this.onChange()})),Gr.call(this.player,this.player.elements.container,"dblclick",(n=>{Te.element(this.player.elements.controls)&&this.player.elements.controls.contains(n.target)||this.player.listeners.proxy(n,this.toggle,"fullscreen")})),Gr.call(this,this.player.elements.container,"keydown",(n=>this.trapFocus(n))),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return Jd.nativeSupported&&!this.forceFallback}static get prefix(){if(Te.function(document.exitFullscreen))return"";let t="";return["webkit","moz","ms"].some((n=>!(!Te.function(document[`${n}ExitFullscreen`])&&!Te.function(document[`${n}CancelFullScreen`]))&&(t=n,!0))),t}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,Jd.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||Jd.nativeSupported||!Gs.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!Jd.nativeSupported||this.forceFallback)return l6(this.target,this.player.config.classNames.fullscreen.fallback);const t=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}get target(){return Gs.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function cN(e,t=1){return new Promise(((n,r)=>{const i=new Image,o=()=>{delete i.onload,delete i.onerror,(i.naturalWidth>=t?n:r)(i)};Object.assign(i,{onload:o,onerror:o,src:e})}))}const Ei={addStyleHook(){fi(this.elements.container,this.config.selectors.container.replace(".",""),!0),fi(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void Ei.toggleNativeControls.call(this,!0);Te.element(this.elements.controls)||(Lt.inject.call(this),this.listeners.controls()),Ei.toggleNativeControls.call(this),this.isHTML5&&Jr.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Lt.updateVolume.call(this),Lt.timeUpdate.call(this),Lt.durationUpdate.call(this),Ei.checkPlaying.call(this),fi(this.elements.container,this.config.classNames.pip.supported,Ho.pip&&this.isHTML5&&this.isVideo),fi(this.elements.container,this.config.classNames.airplay.supported,Ho.airplay&&this.isHTML5),fi(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((()=>{Vn.call(this,this.media,"ready")}),0),Ei.setTitle.call(this),this.poster&&Ei.setPoster.call(this,this.poster,!1).catch((()=>{})),this.config.duration&&Lt.durationUpdate.call(this),this.config.mediaMetadata&&Lt.setMediaMetadata.call(this)},setTitle(){let e=Hs.get("play",this.config);if(Te.string(this.config.title)&&!Te.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach((t=>{t.setAttribute("aria-label",e)})),this.isEmbed){const t=Es.call(this,"iframe");if(!Te.element(t))return;const n=Te.empty(this.config.title)?"video":this.config.title,r=Hs.get("frameTitle",this.config);t.setAttribute("title",r.replace("{title}",n))}},togglePoster(e){fi(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),cGt.call(this).then((()=>cN(e))).catch((n=>{throw e===this.poster&&Ei.togglePoster.call(this,!1),n})).then((()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),Ei.togglePoster.call(this,!0),e))))},checkPlaying(e){fi(this.elements.container,this.config.classNames.playing,this.playing),fi(this.elements.container,this.config.classNames.paused,this.paused),fi(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((t=>{Object.assign(t,{pressed:this.playing}),t.setAttribute("aria-label",Hs.get(this.playing?"pause":"play",this.config))})),Te.event(e)&&e.type==="timeupdate"||Ei.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((()=>{fi(this.elements.container,this.config.classNames.loading,this.loading),Ei.toggleControls.call(this)}),this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(e||this.loading||this.paused||t.pressed||t.hover||n))}},migrateStyles(){Object.values({...this.media.style}).filter((e=>!Te.empty(e)&&Te.string(e)&&e.startsWith("--plyr"))).forEach((e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)})),Te.empty(this.media.style)&&this.media.removeAttribute("style")}};class _Gt{constructor(t){zt(this,"firstTouch",(()=>{const{player:n}=this,{elements:r}=n;n.touch=!0,fi(r.container,n.config.classNames.isTouch,!0)})),zt(this,"global",((n=!0)=>{const{player:r}=this;r.config.keyboard.global&&WA.call(r,window,"keydown keyup",this.handleKey,n,!1),WA.call(r,document.body,"click",this.toggleMenu,n),Ire.call(r,document.body,"touchstart",this.firstTouch)})),zt(this,"container",(()=>{const{player:n}=this,{config:r,elements:i,timers:o}=n;!r.keyboard.global&&r.keyboard.focused&&Gr.call(n,i.container,"keydown keyup",this.handleKey,!1),Gr.call(n,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(l=>{const{controls:u}=i;u&&l.type==="enterfullscreen"&&(u.pressed=!1,u.hover=!1);let c=0;["touchstart","touchmove","mousemove"].includes(l.type)&&(Ei.toggleControls.call(n,!0),c=n.touch?3e3:2e3),clearTimeout(o.controls),o.controls=setTimeout((()=>Ei.toggleControls.call(n,!1)),c)}));const s=()=>{if(!n.isVimeo||n.config.vimeo.premium)return;const l=i.wrapper,{active:u}=n.fullscreen,[c,d]=Dre.call(n),f=X5e(`aspect-ratio: ${c} / ${d}`);if(!u)return void(f?(l.style.width=null,l.style.height=null):(l.style.maxWidth=null,l.style.margin=null));const[h,m]=dGt(),p=h/m>c/d;f?(l.style.width=p?"auto":"100%",l.style.height=p?"100%":"auto"):(l.style.maxWidth=p?m/d*c+"px":null,l.style.margin=p?"0 auto":null)},a=()=>{clearTimeout(o.resized),o.resized=setTimeout(s,50)};Gr.call(n,i.container,"enterfullscreen exitfullscreen",(l=>{const{target:u}=n.fullscreen;u===i.container&&(!n.isEmbed&&Te.empty(n.config.ratio)||(s(),(l.type==="enterfullscreen"?Gr:SL).call(n,window,"resize",a)))}))})),zt(this,"media",(()=>{const{player:n}=this,{elements:r}=n;if(Gr.call(n,n.media,"timeupdate seeking seeked",(o=>Lt.timeUpdate.call(n,o))),Gr.call(n,n.media,"durationchange loadeddata loadedmetadata",(o=>Lt.durationUpdate.call(n,o))),Gr.call(n,n.media,"ended",(()=>{n.isHTML5&&n.isVideo&&n.config.resetOnEnd&&(n.restart(),n.pause())})),Gr.call(n,n.media,"progress playing seeking seeked",(o=>Lt.updateProgress.call(n,o))),Gr.call(n,n.media,"volumechange",(o=>Lt.updateVolume.call(n,o))),Gr.call(n,n.media,"playing play pause ended emptied timeupdate",(o=>Ei.checkPlaying.call(n,o))),Gr.call(n,n.media,"waiting canplay seeked playing",(o=>Ei.checkLoading.call(n,o))),n.supported.ui&&n.config.clickToPlay&&!n.isAudio){const o=Es.call(n,`.${n.config.classNames.video}`);if(!Te.element(o))return;Gr.call(n,r.container,"click",(s=>{([r.container,o].includes(s.target)||o.contains(s.target))&&(n.touch&&n.config.hideControls||(n.ended?(this.proxy(s,n.restart,"restart"),this.proxy(s,(()=>{$h(n.play())}),"play")):this.proxy(s,(()=>{$h(n.togglePlay())}),"play")))}))}n.supported.ui&&n.config.disableContextMenu&&Gr.call(n,r.wrapper,"contextmenu",(o=>{o.preventDefault()}),!1),Gr.call(n,n.media,"volumechange",(()=>{n.storage.set({volume:n.volume,muted:n.muted})})),Gr.call(n,n.media,"ratechange",(()=>{Lt.updateSetting.call(n,"speed"),n.storage.set({speed:n.speed})})),Gr.call(n,n.media,"qualitychange",(o=>{Lt.updateSetting.call(n,"quality",null,o.detail.quality)})),Gr.call(n,n.media,"ready qualitychange",(()=>{Lt.setDownloadUrl.call(n)}));const i=n.config.events.concat(["keyup","keydown"]).join(" ");Gr.call(n,n.media,i,(o=>{let{detail:s={}}=o;o.type==="error"&&(s=n.media.error),Vn.call(n,r.container,o.type,!0,s)}))})),zt(this,"proxy",((n,r,i)=>{const{player:o}=this,s=o.config.listeners[i];let a=!0;Te.function(s)&&(a=s.call(o,n)),a!==!1&&Te.function(r)&&r.call(o,n)})),zt(this,"bind",((n,r,i,o,s=!0)=>{const{player:a}=this,l=a.config.listeners[o],u=Te.function(l);Gr.call(a,n,r,(c=>this.proxy(c,i,o)),s&&!u)})),zt(this,"controls",(()=>{const{player:n}=this,{elements:r}=n,i=Gs.isIE?"change":"input";if(r.buttons.play&&Array.from(r.buttons.play).forEach((o=>{this.bind(o,"click",(()=>{$h(n.togglePlay())}),"play")})),this.bind(r.buttons.restart,"click",n.restart,"restart"),this.bind(r.buttons.rewind,"click",(()=>{n.lastSeekTime=Date.now(),n.rewind()}),"rewind"),this.bind(r.buttons.fastForward,"click",(()=>{n.lastSeekTime=Date.now(),n.forward()}),"fastForward"),this.bind(r.buttons.mute,"click",(()=>{n.muted=!n.muted}),"mute"),this.bind(r.buttons.captions,"click",(()=>n.toggleCaptions())),this.bind(r.buttons.download,"click",(()=>{Vn.call(n,n.media,"download")}),"download"),this.bind(r.buttons.fullscreen,"click",(()=>{n.fullscreen.toggle()}),"fullscreen"),this.bind(r.buttons.pip,"click",(()=>{n.pip="toggle"}),"pip"),this.bind(r.buttons.airplay,"click",n.airplay,"airplay"),this.bind(r.buttons.settings,"click",(o=>{o.stopPropagation(),o.preventDefault(),Lt.toggleMenu.call(n,o)}),null,!1),this.bind(r.buttons.settings,"keyup",(o=>{[" ","Enter"].includes(o.key)&&(o.key!=="Enter"?(o.preventDefault(),o.stopPropagation(),Lt.toggleMenu.call(n,o)):Lt.focusFirstMenuItem.call(n,null,!0))}),null,!1),this.bind(r.settings.menu,"keydown",(o=>{o.key==="Escape"&&Lt.toggleMenu.call(n,o)})),this.bind(r.inputs.seek,"mousedown mousemove",(o=>{const s=r.progress.getBoundingClientRect(),a=100/s.width*(o.pageX-s.left);o.currentTarget.setAttribute("seek-value",a)})),this.bind(r.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(o=>{const s=o.currentTarget,a="play-on-seeked";if(Te.keyboardEvent(o)&&!["ArrowLeft","ArrowRight"].includes(o.key))return;n.lastSeekTime=Date.now();const l=s.hasAttribute(a),u=["mouseup","touchend","keyup"].includes(o.type);l&&u?(s.removeAttribute(a),$h(n.play())):!u&&n.playing&&(s.setAttribute(a,""),n.pause())})),Gs.isIos){const o=qA.call(n,'input[type="range"]');Array.from(o).forEach((s=>this.bind(s,i,(a=>W5e(a.target)))))}this.bind(r.inputs.seek,i,(o=>{const s=o.currentTarget;let a=s.getAttribute("seek-value");Te.empty(a)&&(a=s.value),s.removeAttribute("seek-value"),n.currentTime=a/s.max*n.duration}),"seek"),this.bind(r.progress,"mouseenter mouseleave mousemove",(o=>Lt.updateSeekTooltip.call(n,o))),this.bind(r.progress,"mousemove touchmove",(o=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.startMove(o)})),this.bind(r.progress,"mouseleave touchend click",(()=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.endMove(!1,!0)})),this.bind(r.progress,"mousedown touchstart",(o=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.startScrubbing(o)})),this.bind(r.progress,"mouseup touchend",(o=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.endScrubbing(o)})),Gs.isWebKit&&Array.from(qA.call(n,'input[type="range"]')).forEach((o=>{this.bind(o,"input",(s=>Lt.updateRangeFill.call(n,s.target)))})),n.config.toggleInvert&&!Te.element(r.display.duration)&&this.bind(r.display.currentTime,"click",(()=>{n.currentTime!==0&&(n.config.invertTime=!n.config.invertTime,Lt.timeUpdate.call(n))})),this.bind(r.inputs.volume,i,(o=>{n.volume=o.target.value}),"volume"),this.bind(r.controls,"mouseenter mouseleave",(o=>{r.controls.hover=!n.touch&&o.type==="mouseenter"})),r.fullscreen&&Array.from(r.fullscreen.children).filter((o=>!o.contains(r.container))).forEach((o=>{this.bind(o,"mouseenter mouseleave",(s=>{r.controls&&(r.controls.hover=!n.touch&&s.type==="mouseenter")}))})),this.bind(r.controls,"mousedown mouseup touchstart touchend touchcancel",(o=>{r.controls.pressed=["mousedown","touchstart"].includes(o.type)})),this.bind(r.controls,"focusin",(()=>{const{config:o,timers:s}=n;fi(r.controls,o.classNames.noTransition,!0),Ei.toggleControls.call(n,!0),setTimeout((()=>{fi(r.controls,o.classNames.noTransition,!1)}),0);const a=this.touch?3e3:4e3;clearTimeout(s.controls),s.controls=setTimeout((()=>Ei.toggleControls.call(n,!1)),a)})),this.bind(r.inputs.volume,"wheel",(o=>{const s=o.webkitDirectionInvertedFromDevice,[a,l]=[o.deltaX,-o.deltaY].map((d=>s?-d:d)),u=Math.sign(Math.abs(a)>Math.abs(l)?a:l);n.increaseVolume(u/50);const{volume:c}=n.media;(u===1&&c<1||u===-1&&c>0)&&o.preventDefault()}),"volume",!1)})),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(t){const{player:n}=this,{elements:r}=n,{key:i,type:o,altKey:s,ctrlKey:a,metaKey:l,shiftKey:u}=t,c=o==="keydown",d=c&&i===this.lastKey;if(!(s||a||l||u)&&i){if(c){const h=document.activeElement;if(Te.element(h)){const{editable:m}=n.config.selectors,{seek:p}=r.inputs;if(h!==p&&wb(h,m)||t.key===" "&&wb(h,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(i)&&(t.preventDefault(),t.stopPropagation()),i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d||(f=parseInt(i,10),n.currentTime=n.duration/10*f);break;case" ":case"k":d||$h(n.togglePlay());break;case"ArrowUp":n.increaseVolume(.1);break;case"ArrowDown":n.decreaseVolume(.1);break;case"m":d||(n.muted=!n.muted);break;case"ArrowRight":n.forward();break;case"ArrowLeft":n.rewind();break;case"f":n.fullscreen.toggle();break;case"c":d||n.toggleCaptions();break;case"l":n.loop=!n.loop}i==="Escape"&&!n.fullscreen.usingNative&&n.fullscreen.active&&n.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null;var f}}toggleMenu(t){Lt.toggleMenu.call(this.player,t)}}function EGt(e,t){return e(t={exports:{}},t.exports),t.exports}var CGt=EGt((function(e,t){e.exports=(function(){var n=function(){},r={},i={},o={};function s(f,h){f=f.push?f:[f];var m,p,g,y=[],v=f.length,w=v;for(m=function(E,C){C.length&&y.push(E),--w||h(y)};v--;)p=f[v],(g=i[p])?m(p,g):(o[p]=o[p]||[]).push(m)}function a(f,h){if(f){var m=o[f];if(i[f]=h,m)for(;m.length;)m[0](f,h),m.splice(0,1)}}function l(f,h){f.call&&(f={success:f}),h.length?(f.error||n)(h):(f.success||n)(f)}function u(f,h,m,p){var g,y,v=document,w=m.async,E=(m.numRetries||0)+1,C=m.before||n,S=f.replace(/[\?|#].*$/,""),T=f.replace(/^(css|img)!/,"");p=p||0,/(^css!|\.css$)/.test(S)?((y=v.createElement("link")).rel="stylesheet",y.href=T,(g="hideFocus"in y)&&y.relList&&(g=0,y.rel="preload",y.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(S)?(y=v.createElement("img")).src=T:((y=v.createElement("script")).src=f,y.async=w===void 0||w),y.onload=y.onerror=y.onbeforeload=function(A){var D=A.type[0];if(g)try{y.sheet.cssText.length||(D="e")}catch(I){I.code!=18&&(D="e")}if(D=="e"){if((p+=1)<E)return u(f,h,m,p)}else if(y.rel=="preload"&&y.as=="style")return y.rel="stylesheet";h(f,D,A.defaultPrevented)},C(f,y)!==!1&&v.head.appendChild(y)}function c(f,h,m){var p,g,y=(f=f.push?f:[f]).length,v=y,w=[];for(p=function(E,C,S){if(C=="e"&&w.push(E),C=="b"){if(!S)return;w.push(E)}--y||h(w)},g=0;g<v;g++)u(f[g],p,m)}function d(f,h,m){var p,g;if(h&&h.trim&&(p=h),g=(p?m:h)||{},p){if(p in r)throw"LoadJS";r[p]=!0}function y(v,w){c(f,(function(E){l(g,E),v&&l({success:v,error:w},E),a(p,E)}),g)}if(g.returnPromise)return new Promise(y);y()}return d.ready=function(f,h){return s(f,(function(m){l(h,m)})),d},d.done=function(f){a(f,[])},d.reset=function(){r={},i={},o={}},d.isDefined=function(f){return f in r},d})()}));function Pre(e){return new Promise(((t,n)=>{CGt(e,{success:t,error:n})}))}function SGt(e){return Te.empty(e)?null:Te.number(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e}function TGt(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&t.length===5?t[4]:null}function US(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Vn.call(this,this.media,e?"play":"pause"))}const bG={setup(){const e=this;fi(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,dE.call(e),Te.object(window.Vimeo)?bG.ready.call(e):Pre(e.config.urls.vimeo.sdk).then((()=>{bG.ready.call(e)})).catch((t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready(){const e=this,t=e.config.vimeo,{premium:n,referrerPolicy:r,...i}=t;let o=e.media.getAttribute("src"),s="";Te.empty(o)?(o=e.media.getAttribute(e.config.attributes.embed.id),s=e.media.getAttribute(e.config.attributes.embed.hash)):s=TGt(o);const a=s?{h:s}:{};n&&Object.assign(i,{controls:!1,sidedock:!1});const l=rFe({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...a,...i}),u=SGt(o),c=jn("iframe"),d=vG(e.config.urls.vimeo.iframe,u,l);if(c.setAttribute("src",d),c.setAttribute("allowfullscreen",""),c.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),Te.empty(r)||c.setAttribute("referrerPolicy",r),n||!t.customControls)c.setAttribute("data-poster",e.poster),e.media=a6(c,e.media);else{const v=jn("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});v.appendChild(c),e.media=a6(v,e.media)}t.customControls||qR(vG(e.config.urls.vimeo.api,d)).then((v=>{!Te.empty(v)&&v.thumbnail_url&&Ei.setPoster.call(e,v.thumbnail_url).catch((()=>{}))})),e.embed=new window.Vimeo.Player(c,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(US.call(e,!0),e.embed.play()),e.media.pause=()=>(US.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:f}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>f,set(v){const{embed:w,media:E,paused:C,volume:S}=e,T=C&&!w.hasPlayed;E.seeking=!0,Vn.call(e,E,"seeking"),Promise.resolve(T&&w.setVolume(0)).then((()=>w.setCurrentTime(v))).then((()=>T&&w.pause())).then((()=>T&&w.setVolume(S))).catch((()=>{}))}});let h=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>h,set(v){e.embed.setPlaybackRate(v).then((()=>{h=v,Vn.call(e,e.media,"ratechange")})).catch((()=>{e.options.speed=[1]}))}});let{volume:m}=e.config;Object.defineProperty(e.media,"volume",{get:()=>m,set(v){e.embed.setVolume(v).then((()=>{m=v,Vn.call(e,e.media,"volumechange")}))}});let{muted:p}=e.config;Object.defineProperty(e.media,"muted",{get:()=>p,set(v){const w=!!Te.boolean(v)&&v;e.embed.setMuted(!!w||e.config.muted).then((()=>{p=w,Vn.call(e,e.media,"volumechange")}))}});let g,{loop:y}=e.config;Object.defineProperty(e.media,"loop",{get:()=>y,set(v){const w=Te.boolean(v)?v:e.config.loop.active;e.embed.setLoop(w).then((()=>{y=w}))}}),e.embed.getVideoUrl().then((v=>{g=v,Lt.setDownloadUrl.call(e)})).catch((v=>{this.debug.warn(v)})),Object.defineProperty(e.media,"currentSrc",{get:()=>g}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then((v=>{const[w,E]=v;e.embed.ratio=J5e(w,E),dE.call(this)})),e.embed.setAutopause(e.config.autopause).then((v=>{e.config.autopause=v})),e.embed.getVideoTitle().then((v=>{e.config.title=v,Ei.setTitle.call(this)})),e.embed.getCurrentTime().then((v=>{f=v,Vn.call(e,e.media,"timeupdate")})),e.embed.getDuration().then((v=>{e.media.duration=v,Vn.call(e,e.media,"durationchange")})),e.embed.getTextTracks().then((v=>{e.media.textTracks=v,Jr.setup.call(e)})),e.embed.on("cuechange",(({cues:v=[]})=>{const w=v.map((E=>gGt(E.text)));Jr.updateCues.call(e,w)})),e.embed.on("loaded",(()=>{e.embed.getPaused().then((v=>{US.call(e,!v),v||Vn.call(e,e.media,"playing")})),Te.element(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)})),e.embed.on("bufferstart",(()=>{Vn.call(e,e.media,"waiting")})),e.embed.on("bufferend",(()=>{Vn.call(e,e.media,"playing")})),e.embed.on("play",(()=>{US.call(e,!0),Vn.call(e,e.media,"playing")})),e.embed.on("pause",(()=>{US.call(e,!1)})),e.embed.on("timeupdate",(v=>{e.media.seeking=!1,f=v.seconds,Vn.call(e,e.media,"timeupdate")})),e.embed.on("progress",(v=>{e.media.buffered=v.percent,Vn.call(e,e.media,"progress"),parseInt(v.percent,10)===1&&Vn.call(e,e.media,"canplaythrough"),e.embed.getDuration().then((w=>{w!==e.media.duration&&(e.media.duration=w,Vn.call(e,e.media,"durationchange"))}))})),e.embed.on("seeked",(()=>{e.media.seeking=!1,Vn.call(e,e.media,"seeked")})),e.embed.on("ended",(()=>{e.media.paused=!0,Vn.call(e,e.media,"ended")})),e.embed.on("error",(v=>{e.media.error=v,Vn.call(e,e.media,"error")})),t.customControls&&setTimeout((()=>Ei.build.call(e)),0)}};function AGt(e){return Te.empty(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e}function VS(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Vn.call(this,this.media,e?"play":"pause"))}function kGt(e){return e.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const dN={setup(){if(fi(this.elements.wrapper,this.config.classNames.embed,!0),Te.object(window.YT)&&Te.function(window.YT.Player))dN.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{Te.function(e)&&e(),dN.ready.call(this)},Pre(this.config.urls.youtube.sdk).catch((t=>{this.debug.warn("YouTube API failed to load",t)}))}},getTitle(e){qR(vG(this.config.urls.youtube.api,e)).then((t=>{if(Te.object(t)){const{title:n,height:r,width:i}=t;this.config.title=n,Ei.setTitle.call(this),this.embed.ratio=J5e(i,r)}dE.call(this)})).catch((()=>{dE.call(this)}))},ready(){const e=this,t=e.config.youtube,n=e.media&&e.media.getAttribute("id");if(!Te.empty(n)&&n.startsWith("youtube-"))return;let r=e.media.getAttribute("src");Te.empty(r)&&(r=e.media.getAttribute(this.config.attributes.embed.id));const i=AGt(r),o=jn("div",{id:fGt(e.provider),"data-poster":t.customControls?e.poster:void 0});if(e.media=a6(o,e.media),t.customControls){const s=a=>`https://i.ytimg.com/vi/${i}/${a}default.jpg`;cN(s("maxres"),121).catch((()=>cN(s("sd"),121))).catch((()=>cN(s("hq")))).then((a=>Ei.setPoster.call(e,a.src))).then((a=>{a.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((()=>{}))}e.embed=new window.YT.Player(e.media,{videoId:i,host:kGt(t),playerVars:Uo({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(s){if(!e.media.error){const a=s.data,l={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[a]||"An unknown error occurred";e.media.error={code:a,message:l},Vn.call(e,e.media,"error")}},onPlaybackRateChange(s){const a=s.target;e.media.playbackRate=a.getPlaybackRate(),Vn.call(e,e.media,"ratechange")},onReady(s){if(Te.function(e.media.play))return;const a=s.target;dN.getTitle.call(e,i),e.media.play=()=>{VS.call(e,!0),a.playVideo()},e.media.pause=()=>{VS.call(e,!1),a.pauseVideo()},e.media.stop=()=>{a.stopVideo()},e.media.duration=a.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(a.getCurrentTime()),set(d){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,Vn.call(e,e.media,"seeking"),a.seekTo(d)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>a.getPlaybackRate(),set(d){a.setPlaybackRate(d)}});let{volume:l}=e.config;Object.defineProperty(e.media,"volume",{get:()=>l,set(d){l=d,a.setVolume(100*l),Vn.call(e,e.media,"volumechange")}});let{muted:u}=e.config;Object.defineProperty(e.media,"muted",{get:()=>u,set(d){const f=Te.boolean(d)?d:u;u=f,a[f?"mute":"unMute"](),a.setVolume(100*l),Vn.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>a.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const c=a.getAvailablePlaybackRates();e.options.speed=c.filter((d=>e.config.speed.options.includes(d))),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),Vn.call(e,e.media,"timeupdate"),Vn.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((()=>{e.media.buffered=a.getVideoLoadedFraction(),(e.media.lastBuffered===null||e.media.lastBuffered<e.media.buffered)&&Vn.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,e.media.buffered===1&&(clearInterval(e.timers.buffering),Vn.call(e,e.media,"canplaythrough"))}),200),t.customControls&&setTimeout((()=>Ei.build.call(e)),50)},onStateChange(s){const a=s.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(s.data)&&(e.media.seeking=!1,Vn.call(e,e.media,"seeked")),s.data){case-1:Vn.call(e,e.media,"timeupdate"),e.media.buffered=a.getVideoLoadedFraction(),Vn.call(e,e.media,"progress");break;case 0:VS.call(e,!1),e.media.loop?(a.stopVideo(),a.playVideo()):Vn.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(VS.call(e,!0),Vn.call(e,e.media,"playing"),e.timers.playing=setInterval((()=>{Vn.call(e,e.media,"timeupdate")}),50),e.media.duration!==a.getDuration()&&(e.media.duration=a.getDuration(),Vn.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),VS.call(e,!1);break;case 3:Vn.call(e,e.media,"waiting")}Vn.call(e,e.elements.container,"statechange",!1,{code:s.data})}}})}},oFe={setup(){this.media?(fi(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),fi(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&fi(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=jn("div",{class:this.config.classNames.video}),Y5e(this.media,this.elements.wrapper),this.elements.poster=jn("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?j0.setup.call(this):this.isYouTube?dN.setup.call(this):this.isVimeo&&bG.setup.call(this)):this.debug.warn("No media element found!")}};class RGt{constructor(t){zt(this,"load",(()=>{this.enabled&&(Te.object(window.google)&&Te.object(window.google.ima)?this.ready():Pre(this.player.config.urls.googleIMA.sdk).then((()=>{this.ready()})).catch((()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))})))})),zt(this,"ready",(()=>{var n;this.enabled||((n=this).manager&&n.manager.destroy(),n.elements.displayContainer&&n.elements.displayContainer.destroy(),n.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((()=>{this.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()})),zt(this,"setupIMA",(()=>{this.elements.container=jn("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(n=>this.onAdsManagerLoaded(n)),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(n=>this.onAdError(n)),!1),this.requestAds()})),zt(this,"requestAds",(()=>{const{container:n}=this.player.elements;try{const r=new google.ima.AdsRequest;r.adTagUrl=this.tagUrl,r.linearAdSlotWidth=n.offsetWidth,r.linearAdSlotHeight=n.offsetHeight,r.nonLinearAdSlotWidth=n.offsetWidth,r.nonLinearAdSlotHeight=n.offsetHeight,r.forceNonLinearFullSlot=!1,r.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(r)}catch(r){this.onAdError(r)}})),zt(this,"pollCountdown",((n=!1)=>{if(!n)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval((()=>{const r=TL(Math.max(this.manager.getRemainingTime(),0)),i=`${Hs.get("advertisement",this.player.config)} - ${r}`;this.elements.container.setAttribute("data-badge-text",i)}),100)})),zt(this,"onAdsManagerLoaded",(n=>{if(!this.enabled)return;const r=new google.ima.AdsRenderingSettings;r.restoreCustomPlaybackStateOnAdBreakComplete=!0,r.enablePreloading=!0,this.manager=n.getAdsManager(this.player,r),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(i=>this.onAdError(i))),Object.keys(google.ima.AdEvent.Type).forEach((i=>{this.manager.addEventListener(google.ima.AdEvent.Type[i],(o=>this.onAdEvent(o)))})),this.trigger("loaded")})),zt(this,"addCuePoints",(()=>{Te.empty(this.cuePoints)||this.cuePoints.forEach((n=>{if(n!==0&&n!==-1&&n<this.player.duration){const r=this.player.elements.progress;if(Te.element(r)){const i=100/this.player.duration*n,o=jn("span",{class:this.player.config.classNames.cues});o.style.left=`${i.toString()}%`,r.appendChild(o)}}}))})),zt(this,"onAdEvent",(n=>{const{container:r}=this.player.elements,i=n.getAd(),o=n.getAdData();switch((s=>{Vn.call(this.player,this.player.media,`ads${s.replace(/_/g,"").toLowerCase()}`)})(n.type),n.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=r.offsetWidth,i.height=r.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:o.adError&&this.player.debug.warn(`Non-fatal ad error: ${o.adError.getMessage()}`)}})),zt(this,"onAdError",(n=>{this.cancel(),this.player.debug.warn("Ads error",n)})),zt(this,"listeners",(()=>{const{container:n}=this.player.elements;let r;this.player.on("canplay",(()=>{this.addCuePoints()})),this.player.on("ended",(()=>{this.loader.contentComplete()})),this.player.on("timeupdate",(()=>{r=this.player.currentTime})),this.player.on("seeked",(()=>{const i=this.player.currentTime;Te.empty(this.cuePoints)||this.cuePoints.forEach(((o,s)=>{r<o&&o<i&&(this.manager.discardAdBreak(),this.cuePoints.splice(s,1))}))})),window.addEventListener("resize",(()=>{this.manager&&this.manager.resize(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL)}))})),zt(this,"play",(()=>{const{container:n}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then((()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(r){this.onAdError(r)}})).catch((()=>{}))})),zt(this,"resumeContent",(()=>{this.elements.container.style.zIndex="",this.playing=!1,$h(this.player.media.play())})),zt(this,"pauseContent",(()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()})),zt(this,"cancel",(()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()})),zt(this,"loadAds",(()=>{this.managerPromise.then((()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise((n=>{this.on("loaded",n),this.player.debug.log(this.manager)})),this.initialized=!1,this.requestAds()})).catch((()=>{}))})),zt(this,"trigger",((n,...r)=>{const i=this.events[n];Te.array(i)&&i.forEach((o=>{Te.function(o)&&o.apply(this,r)}))})),zt(this,"on",((n,r)=>(Te.array(this.events[n])||(this.events[n]=[]),this.events[n].push(r),this))),zt(this,"startSafetyTimer",((n,r)=>{this.player.debug.log(`Safety timer invoked from: ${r}`),this.safetyTimer=setTimeout((()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")}),n)})),zt(this,"clearSafetyTimer",(n=>{Te.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${n}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)})),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(((n,r)=>{this.on("loaded",n),this.on("error",r)})),this.load()}get enabled(){const{config:t}=this;return this.player.isHTML5&&this.player.isVideo&&t.enabled&&(!Te.empty(t.publisherId)||Te.url(t.tagUrl))}get tagUrl(){const{config:t}=this;return Te.url(t.tagUrl)?t.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${rFe({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:t.publisherId})}`}}function sFe(e=0,t=0,n=255){return Math.min(Math.max(e,t),n)}const IGt=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach((n=>{const r={};n.split(/\r\n|\n|\r/).forEach((i=>{if(Te.number(r.startTime)){if(!Te.empty(i.trim())&&Te.empty(r.text)){const o=i.trim().split("#xywh=");[r.text]=o,o[1]&&([r.x,r.y,r.w,r.h]=o[1].split(","))}}else{const o=i.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);o&&(r.startTime=60*Number(o[1]||0)*60+60*Number(o[2])+Number(o[3])+ +`0.${o[4]}`,r.endTime=60*Number(o[6]||0)*60+60*Number(o[7])+Number(o[8])+ +`0.${o[9]}`)}})),r.text&&t.push(r)})),t},gve=(e,t)=>{const n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n};class wG{constructor(t){zt(this,"load",(()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)}))})),zt(this,"getThumbnails",(()=>new Promise((n=>{const{src:r}=this.player.config.previewThumbnails;if(Te.empty(r))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort(((o,s)=>o.height-s.height)),this.player.debug.log("Preview thumbnails",this.thumbnails),n()};if(Te.function(r))r((o=>{this.thumbnails=o,i()}));else{const o=(Te.string(r)?[r]:r).map((s=>this.getThumbnail(s)));Promise.all(o).then(i)}})))),zt(this,"getThumbnail",(n=>new Promise((r=>{qR(n).then((i=>{const o={frames:IGt(i),height:null,urlPrefix:""};o.frames[0].text.startsWith("/")||o.frames[0].text.startsWith("http://")||o.frames[0].text.startsWith("https://")||(o.urlPrefix=n.substring(0,n.lastIndexOf("/")+1));const s=new Image;s.onload=()=>{o.height=s.naturalHeight,o.width=s.naturalWidth,this.thumbnails.push(o),r()},s.src=o.urlPrefix+o.frames[0].text}))})))),zt(this,"startMove",(n=>{if(this.loaded&&Te.event(n)&&["touchmove","mousemove"].includes(n.type)&&this.player.media.duration){if(n.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var r,i;const o=this.player.elements.progress.getBoundingClientRect(),s=100/o.width*(n.pageX-o.left);this.seekTime=this.player.media.duration*(s/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=n.pageX,this.elements.thumb.time.innerText=TL(this.seekTime);const a=(r=this.player.config.markers)===null||r===void 0||(i=r.points)===null||i===void 0?void 0:i.find((({time:l})=>l===Math.round(this.seekTime)));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${a.label}<br>`)}this.showImageAtCurrentTime()}})),zt(this,"endMove",(()=>{this.toggleThumbContainer(!1,!0)})),zt(this,"startScrubbing",(n=>{(Te.nullOrUndefined(n.button)||n.button===!1||n.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))})),zt(this,"endScrubbing",(()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):Ire.call(this.player,this.player.media,"timeupdate",(()=>{this.mouseDown||this.toggleScrubbingContainer(!1)}))})),zt(this,"listeners",(()=>{this.player.on("play",(()=>{this.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(()=>{this.toggleThumbContainer(!1)})),this.player.on("timeupdate",(()=>{this.lastTime=this.player.media.currentTime}))})),zt(this,"render",(()=>{this.elements.thumb.container=jn("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=jn("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const n=jn("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=jn("span",{},"00:00"),n.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(n),Te.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=jn("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)})),zt(this,"destroy",(()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()})),zt(this,"showImageAtCurrentTime",(()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const n=this.thumbnails[0].frames.findIndex((o=>this.seekTime>=o.startTime&&this.seekTime<=o.endTime)),r=n>=0;let i=0;this.mouseDown||this.toggleThumbContainer(r),r&&(this.thumbnails.forEach(((o,s)=>{this.loadedImages.includes(o.frames[n].text)&&(i=s)})),n!==this.showingThumb&&(this.showingThumb=n,this.loadImage(i)))})),zt(this,"loadImage",((n=0)=>{const r=this.showingThumb,i=this.thumbnails[n],{urlPrefix:o}=i,s=i.frames[r],a=i.frames[r].text,l=o+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,s,n,r,a,!1),this.currentImageElement.dataset.index=r,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const u=new Image;u.src=l,u.dataset.index=r,u.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${l}`),u.onload=()=>this.showImage(u,s,n,r,a,!0),this.loadingImage=u,this.removeOldImages(u)}})),zt(this,"showImage",((n,r,i,o,s,a=!0)=>{this.player.debug.log(`Showing thumb: ${s}. num: ${o}. qual: ${i}. newimg: ${a}`),this.setImageSizeAndOffset(n,r),a&&(this.currentImageContainer.appendChild(n),this.currentImageElement=n,this.loadedImages.includes(s)||this.loadedImages.push(s)),this.preloadNearby(o,!0).then(this.preloadNearby(o,!1)).then(this.getHigherQuality(i,n,r,s))})),zt(this,"removeOldImages",(n=>{Array.from(this.currentImageContainer.children).forEach((r=>{if(r.tagName.toLowerCase()!=="img")return;const i=this.usingSprites?500:1e3;if(r.dataset.index!==n.dataset.index&&!r.dataset.deleting){r.dataset.deleting=!0;const{currentImageContainer:o}=this;setTimeout((()=>{o.removeChild(r),this.player.debug.log(`Removing thumb: ${r.dataset.filename}`)}),i)}}))})),zt(this,"preloadNearby",((n,r=!0)=>new Promise((i=>{setTimeout((()=>{const o=this.thumbnails[0].frames[n].text;if(this.showingThumbFilename===o){let s;s=r?this.thumbnails[0].frames.slice(n):this.thumbnails[0].frames.slice(0,n).reverse();let a=!1;s.forEach((l=>{const u=l.text;if(u!==o&&!this.loadedImages.includes(u)){a=!0,this.player.debug.log(`Preloading thumb filename: ${u}`);const{urlPrefix:c}=this.thumbnails[0],d=c+u,f=new Image;f.src=d,f.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${u}`),this.loadedImages.includes(u)||this.loadedImages.push(u),i()}}})),a||i()}}),300)})))),zt(this,"getHigherQuality",((n,r,i,o)=>{if(n<this.thumbnails.length-1){let s=r.naturalHeight;this.usingSprites&&(s=i.h),s<this.thumbContainerHeight&&setTimeout((()=>{this.showingThumbFilename===o&&(this.player.debug.log(`Showing higher quality thumb for: ${o}`),this.loadImage(n+1))}),300)}})),zt(this,"toggleThumbContainer",((n=!1,r=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,n),!n&&r&&(this.showingThumb=null,this.showingThumbFilename=null)})),zt(this,"toggleScrubbingContainer",((n=!1)=>{const r=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(r,n),n||(this.showingThumb=null,this.showingThumbFilename=null)})),zt(this,"determineContainerAutoSizing",(()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)})),zt(this,"setThumbContainerSizeAndPos",(()=>{const{imageContainer:n}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(n.clientHeight>20&&n.clientWidth<20){const r=Math.floor(n.clientHeight*this.thumbAspectRatio);n.style.width=`${r}px`}else if(n.clientHeight<20&&n.clientWidth>20){const r=Math.floor(n.clientWidth/this.thumbAspectRatio);n.style.height=`${r}px`}}else{const r=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);n.style.height=`${this.thumbContainerHeight}px`,n.style.width=`${r}px`}this.setThumbContainerPos()})),zt(this,"setThumbContainerPos",(()=>{const n=this.player.elements.progress.getBoundingClientRect(),r=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,o=r.left-n.left+10,s=r.right-n.left-i.clientWidth-10,a=this.mousePosX-n.left-i.clientWidth/2,l=sFe(a,o,s);i.style.left=`${l}px`,i.style.setProperty("--preview-arrow-offset",a-l+"px")})),zt(this,"setScrubbingContainerSize",(()=>{const{width:n,height:r}=gve(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${n}px`,this.elements.scrubbing.container.style.height=`${r}px`})),zt(this,"setImageSizeAndOffset",((n,r)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/r.h;n.style.height=n.naturalHeight*i+"px",n.style.width=n.naturalWidth*i+"px",n.style.left=`-${r.x*i}px`,n.style.top=`-${r.y*i}px`})),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:t}=gve(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return t}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(t){this.mouseDown?this.currentScrubbingImageElement=t:this.currentThumbnailImageElement=t}}const xG={insertElements(e,t){Te.string(t)?fve(e,this.media,{src:t}):Te.array(t)&&t.forEach((n=>{fve(e,this.media,n)}))},change(e){G5e(e,"sources.length")?(j0.cancelRequests.call(this),this.destroy.call(this,(()=>{this.options.quality=[],Em(this.media),this.media=null,Te.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:n}=e,[{provider:r=C0.html5,src:i}]=t,o=r==="html5"?n:"div",s=r==="html5"?{}:{src:i};Object.assign(this,{provider:r,type:n,supported:Ho.check(n,r,this.config.playsinline),media:jn(o,s)}),this.elements.container.appendChild(this.media),Te.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),Te.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),Ei.addStyleHook.call(this),this.isHTML5&&xG.insertElements.call(this,"source",t),this.config.title=e.title,oFe.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&xG.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Ei.build.call(this),this.isHTML5&&this.media.load(),Te.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new wG(this))),this.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}};let aFe=class _G{constructor(t,n){if(zt(this,"play",(()=>Te.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((()=>this.ads.play())).catch((()=>$h(this.media.play()))),this.media.play()):null)),zt(this,"pause",(()=>this.playing&&Te.function(this.media.pause)?this.media.pause():null)),zt(this,"togglePlay",(a=>(Te.boolean(a)?a:!this.playing)?this.play():this.pause())),zt(this,"stop",(()=>{this.isHTML5?(this.pause(),this.restart()):Te.function(this.media.stop)&&this.media.stop()})),zt(this,"restart",(()=>{this.currentTime=0})),zt(this,"rewind",(a=>{this.currentTime-=Te.number(a)?a:this.config.seekTime})),zt(this,"forward",(a=>{this.currentTime+=Te.number(a)?a:this.config.seekTime})),zt(this,"increaseVolume",(a=>{const l=this.media.muted?0:this.volume;this.volume=l+(Te.number(a)?a:0)})),zt(this,"decreaseVolume",(a=>{this.increaseVolume(-a)})),zt(this,"airplay",(()=>{Ho.airplay&&this.media.webkitShowPlaybackTargetPicker()})),zt(this,"toggleControls",(a=>{if(this.supported.ui&&!this.isAudio){const l=l6(this.elements.container,this.config.classNames.hideControls),u=a===void 0?void 0:!a,c=fi(this.elements.container,this.config.classNames.hideControls,u);if(c&&Te.array(this.config.controls)&&this.config.controls.includes("settings")&&!Te.empty(this.config.settings)&&Lt.toggleMenu.call(this,!1),c!==l){const d=c?"controlshidden":"controlsshown";Vn.call(this,this.media,d)}return!c}return!1})),zt(this,"on",((a,l)=>{Gr.call(this,this.elements.container,a,l)})),zt(this,"once",((a,l)=>{Ire.call(this,this.elements.container,a,l)})),zt(this,"off",((a,l)=>{SL(this.elements.container,a,l)})),zt(this,"destroy",((a,l=!1)=>{if(!this.ready)return;const u=()=>{document.body.style.overflow="",this.embed=null,l?(Object.keys(this.elements).length&&(Em(this.elements.buttons.play),Em(this.elements.captions),Em(this.elements.controls),Em(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),Te.function(a)&&a()):(uGt.call(this),j0.cancelRequests.call(this),a6(this.elements.original,this.elements.container),Vn.call(this,this.elements.original,"destroyed",!0),Te.function(a)&&a.call(this.elements.original),this.ready=!1,setTimeout((()=>{this.elements=null,this.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(Ei.toggleNativeControls.call(this,!0),u()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&Te.function(this.embed.destroy)&&this.embed.destroy(),u()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(u),setTimeout(u,200))})),zt(this,"supports",(a=>Ho.mime.call(this,a))),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=Ho.touch,this.media=t,Te.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||Te.nodeList(this.media)||Te.array(this.media))&&(this.media=this.media[0]),this.config=Uo({},iFe,_G.defaults,n||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new xGt(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",Ho),Te.nullOrUndefined(this.media)||!Te.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!Ho.check().api)return void this.debug.error("Setup failed: no support");const r=this.media.cloneNode(!0);r.autoplay=!1,this.elements.original=r;const i=this.media.tagName.toLowerCase();let o=null,s=null;switch(i){case"div":if(o=this.media.querySelector("iframe"),Te.element(o)){if(s=nFe(o.getAttribute("src")),this.provider=wGt(s.toString()),this.elements.container=this.media,this.media=o,this.elements.container.className="",s.search.length){const a=["1","true"];a.includes(s.searchParams.get("autoplay"))&&(this.config.autoplay=!0),a.includes(s.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=a.includes(s.searchParams.get("playsinline")),this.config.youtube.hl=s.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(Te.empty(this.provider)||!Object.values(C0).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=Wz.video;break;case"video":case"audio":this.type=i,this.provider=C0.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=Ho.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new _Gt(this),this.storage=new GA(this),this.media.plyr=this,Te.element(this.elements.container)||(this.elements.container=jn("div"),Y5e(this.media,this.elements.container)),Ei.migrateStyles.call(this),Ei.addStyleHook.call(this),oFe.setup.call(this),this.config.debug&&Gr.call(this,this.elements.container,this.config.events.join(" "),(a=>{this.debug.log(`event: ${a.type}`)})),this.fullscreen=new Jd(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Ei.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new RGt(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(()=>$h(this.play()))),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new wG(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===C0.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===C0.youtube}get isVimeo(){return this.provider===C0.vimeo}get isVideo(){return this.type===Wz.video}get isAudio(){return this.type===Wz.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(t){if(!this.duration)return;const n=Te.number(t)&&t>0;this.media.currentTime=n?Math.min(t,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:t}=this.media;return Te.number(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const t=parseFloat(this.config.duration),n=(this.media||{}).duration,r=Te.number(n)&&n!==1/0?n:0;return t||r}set volume(t){let n=t;Te.string(n)&&(n=Number(n)),Te.number(n)||(n=this.storage.get("volume")),Te.number(n)||({volume:n}=this.config),n>1&&(n=1),n<0&&(n=0),this.config.volume=n,this.media.volume=n,!Te.empty(t)&&this.muted&&n>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(t){let n=t;Te.boolean(n)||(n=this.storage.get("muted")),Te.boolean(n)||(n=this.config.muted),this.config.muted=n,this.media.muted=n}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(t){let n=null;Te.number(t)&&(n=t),Te.number(n)||(n=this.storage.get("speed")),Te.number(n)||(n=this.config.speed.selected);const{minimumSpeed:r,maximumSpeed:i}=this;n=sFe(n,r,i),this.config.speed.selected=n,setTimeout((()=>{this.media&&(this.media.playbackRate=n)}),0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(t){const n=this.config.quality,r=this.options.quality;if(!r.length)return;let i=[!Te.empty(t)&&Number(t),this.storage.get("quality"),n.selected,n.default].find(Te.number),o=!0;if(!r.includes(i)){const s=K5e(r,i);this.debug.warn(`Unsupported quality option: ${i}, using ${s} instead`),i=s,o=!1}n.selected=i,this.media.quality=i,o&&this.storage.set({quality:i})}get quality(){return this.media.quality}set loop(t){const n=Te.boolean(t)?t:this.config.loop.active;this.config.loop.active=n,this.media.loop=n}get loop(){return!!this.media.loop}set source(t){xG.change.call(this,t)}get source(){return this.media.currentSrc}get download(){const{download:t}=this.config.urls;return Te.url(t)?t:this.source}set download(t){Te.url(t)&&(this.config.urls.download=t,Lt.setDownloadUrl.call(this))}set poster(t){this.isVideo?Ei.setPoster.call(this,t,!1).catch((()=>{})):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const t=u6(Dre.call(this));return Te.array(t)?t.join(":"):t}set ratio(t){this.isVideo?Te.string(t)&&Q5e(t)?(this.config.ratio=u6(t),dE.call(this)):this.debug.error(`Invalid aspect ratio specified (${t})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(t){this.config.autoplay=Te.boolean(t)?t:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(t){Jr.toggle.call(this,t,!1)}set currentTrack(t){Jr.set.call(this,t,!1),Jr.setup.call(this)}get currentTrack(){const{toggled:t,currentTrack:n}=this.captions;return t?n:-1}set language(t){Jr.setLanguage.call(this,t,!1)}get language(){return(Jr.getCurrentTrack.call(this)||{}).language}set pip(t){if(!Ho.pip)return;const n=Te.boolean(t)?t:!this.pip;Te.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(n?qz.active:qz.inactive),Te.function(this.media.requestPictureInPicture)&&(!this.pip&&n?this.media.requestPictureInPicture():this.pip&&!n&&document.exitPictureInPicture())}get pip(){return Ho.pip?Te.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===qz.active:null}setPreviewThumbnails(t){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,t),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new wG(this))}static supported(t,n){return Ho.check(t,n)}static loadSprite(t,n){return eFe(t,n)}static setup(t,n={}){let r=null;return Te.string(t)?r=Array.from(document.querySelectorAll(t)):Te.nodeList(t)?r=Array.from(t):Te.array(t)&&(r=t.filter(Te.element)),Te.empty(r)?null:r.map((i=>new _G(i,n)))}};aFe.defaults=oGt(iFe);function DGt(e,t,n=[]){const[r,i]=k.useState(null),o=k.useRef(null),{instantiate:s,destroy:a,getAPI:l,params:u}=t;k.useEffect(()=>{const d=s(o.current,u);return i(d),()=>{a&&a(d,u)}},n);const c=k.useMemo(()=>l(r,u),[r]);return k.useImperativeHandle(e,c,[c]),o}const PGt={},OGt=(e,t)=>{const n=new aFe(".plyr-react",t.options||{});return t.source&&(n.source=t.source),n},NGt=e=>{e&&e.destroy()},MGt=()=>{},$Gt=e=>e?()=>({plyr:e}):()=>new Proxy({plyr:{source:null}},{get:(t,n)=>n==="plyr"?t[n]:MGt});function lFe(e,t,n=null){return DGt(e,{instantiate:OGt,getAPI:$Gt,destroy:NGt,params:t},n||[t.options,t.source])}const Yz=k.forwardRef((e,t)=>{const{source:n,options:r=null,...i}=e,o=lFe(t,{source:n,options:r});return x.jsx("video",{ref:o,className:"plyr-react plyr",...i})});(PGt&&"production")!=="production"&&(Yz.displayName="Plyr",Yz.defaultProps={options:{controls:["rewind","play","fast-forward","progress","current-time","duration","mute","volume","settings","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop"}},source:{type:"video",sources:[{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:720},{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:1080}]}},Yz.propTypes={options:YN.object,source:YN.any});function FGt(e){return/^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)[\w-]{11}/.test(e)}function LGt(e){return/^(https?:\/\/)?(www\.)?vimeo\.com\/\d+/.test(e)}const jGt=k.forwardRef((e,t)=>{const{source:n,options:r=null,endedCallback:i}=e,o=lFe(t,{options:r,source:n});return k.useEffect(()=>{const{current:s}=t;s.plyr.source!==null&&s.plyr.on("ended",i)}),x.jsx("video",{ref:o,className:"plyr-react plyr"})});function BGt({currentConfig:e}){const t=k.useMemo(()=>e.path.startsWith("http")?e.path:`${bo}${e.path}`,[e.path]),[n,r]=k.useState(!0),[i,o]=k.useState(!1);k.useEffect(()=>{async function m(){if(r(!0),t.includes("youtube")){const p=`https://www.youtube.com/oembed?url=${encodeURIComponent(t)}&format=json`;try{const g=await fetch(p);o(g.ok)}catch{o(!1)}}else if(t.includes("vimeo")){const p=`https://vimeo.com/api/oembed.json?url=${encodeURIComponent(t)}`;try{const g=await fetch(p);o(g.ok)}catch{o(!1)}}else{const p=await i5(t);o(!!p)}r(!1)}m()},[t]);const s=k.useMemo(()=>t.includes("youtube")?FGt(t)?[{src:t,provider:"youtube"}]:(o(!1),[]):t.includes("vimeo")?LGt(t)?[{src:t,provider:"vimeo"}]:(o(!1),[]):[{src:t,type:"video/mp4"}],[t]),a=k.useMemo(()=>({controls:[e.forceCompletion!==!1?"play-large":"play","current-time",...e.withTimeline?["progress"]:[],"volume","fullscreen"]}),[e.forceCompletion,e.withTimeline]),l=Wf(),u=Rc(),c=Po(),{updateResponseBlockValidation:d}=Zi();k.useEffect(()=>{e.forceCompletion&&c(d({location:"stimulus",identifier:`${l}_${u}`,status:!1,values:{}}))},[l,e.forceCompletion,u,c,d]);const f=k.useCallback(()=>{e.forceCompletion&&c(d({location:"stimulus",identifier:`${l}_${u}`,status:!0,values:{}}))},[l,e.forceCompletion,u,c,d]),h=k.useRef(null);return i&&s.length>0?x.jsx(Ie,{children:x.jsx(jGt,{ref:h,source:{type:"video",sources:s},options:a,endedCallback:f})}):n?x.jsx(ql,{}):x.jsx(Jm,{path:e.path})}function zGt(){const[e]=kc(),t=k.useMemo(()=>e.get("participantId")||void 0,[e]),[n,r]=k.useState(!1),[i,o]=k.useState(!1),s=fr(p=>p.analysisIsPlaying),a=fr(p=>p.provenanceJumpTime),l=k.useRef(null),{storageEngine:u}=Mi(),{setAnalysisHasScreenRecording:c,setAnalysisCanPlayScreenRecording:d}=Zi(),f=Po(),h=Eg(),m=Km();return k.useEffect(()=>{l.current&&(l.current.currentTime=(0+a)/1e3,s?l.current.play():l.current.pause())},[s,a]),k.useEffect(()=>{const p=l.current;p&&(p.currentTime=0,p.onpause=()=>{o(!1)},p.onplay=()=>{o(!0)},setTimeout(()=>{r(!0)},300))},[d,f]),k.useEffect(()=>{async function p(){if(h&&m&&u)try{if(!t)throw new Error("Participant ID is required to load audio");const g=await u.getScreenRecording(m,t);if(!g){f(c(!1)),f(d(!1));return}if(f(c(!0)),l.current){const y=l.current;y.preload="metadata",g&&(l.current.src=g)}}catch(g){throw f(c(!1)),f(d(!1)),new Error(g)}else f(c(!1)),f(d(!1))}p()},[h,m,u,t,f,c,d]),x.jsxs(Ie,{pos:"relative",children:[x.jsx(ql,{visible:!n,zIndex:1e3,overlayProps:{blur:5,bg:"rgba(255, 255, 255, .98)"}}),x.jsxs("video",{ref:l,width:"100%",style:{background:"black",maxWidth:"100%",maxHeight:"calc(100vh - 270px)",display:"block",margin:"20px auto",height:n?"auto":200,border:`5px solid ${i?"#ccc":"black"}`},children:[x.jsx("source",{type:"video/mp4"}),"Your browser does not support the video tag."]})]})}function UGt(){const e=Bu(),t=Rc(),n=Wf(),r=qf(),i=e.components[n],{storageEngine:o}=Mi(),s=fr(te=>te.answers),a=k.useRef(null),l=fr(te=>te.analysisCanPlayScreenRecording),{setIsRecording:u,setAnalysisCanPlayScreenRecording:c}=Zi(),d=fr(te=>te.analysisProvState.stimulus),f=k.useRef(null),h=Km(),m=pl(),{studyHasScreenRecording:p,studyHasAudioRecording:g,currentComponentHasAudioRecording:y,currentComponentHasScreenRecording:v}=mQ(),{isMediaCapturing:w,stopScreenCapture:E,startScreenRecording:C,stopScreenRecording:S,combinedMediaRecorder:T}=gQ(),A=Eg(),D=Gy(),I=fr(te=>te.sequence),P=fr(te=>te.modes),[N]=kc(),$=fr(te=>te.participantId),O=k.useMemo(()=>N.get("participantId"),[N]);Eke();const j=Po(),{setAlertModal:B}=Zi();k.useEffect(()=>{o?.getEngine()!=="firebase"&&j(B({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh.",title:"Failed to connect to the storage engine"}))},[B,o,j]),k.useEffect(()=>{!e||p||!g||!o||D&&D.endTime>0||A||(a.current&&(a.current.stream.getTracks().forEach(te=>{te.stop(),a.current?.stream.removeTrack(te)}),a.current.stream.getAudioTracks().forEach(te=>{te.stop(),a.current?.stream.removeTrack(te)}),a.current.stop(),a.current=null),i&&!y||n==="end"?j(u(!1)):navigator.mediaDevices.getUserMedia({audio:!0}).then(te=>{const de=new MediaRecorder(te);a.current=de;let se=[];de.addEventListener("start",()=>{se=[]}),de.addEventListener("dataavailable",he=>{he.data&&he.data.size>0&&se.push(he.data)});const ae=h;de.addEventListener("stop",()=>{const{mimeType:he}=de,ie=new Blob(se,{type:he});o?.saveAudioRecording(ie,ae)}),a.current.start(),j(u(!0))}))},[n,h,y]),k.useEffect(()=>{!e||!p||!o||D&&D.endTime>0||A||(T.current&&(S(),f.current=null),n!=="end"&&w&&f.current!==h&&(y||v)&&(f.current=h,C(h)),n==="end"&&E())},[n,h,y,v,w]);const[H,q]=k.useState([]),Y=k.useRef([]);k.useEffect(()=>{if(A)return;async function te(){const se=iAe(I,t)?.map(ae=>ae.currentBlock.id).filter(ae=>ae!==void 0)||[];q(se)}async function de(){const se=Y.current;JSON.stringify(se)!==JSON.stringify(H)&&H.length>0&&o&&await o.addParticipantTags(H),Y.current=H}te().then(de)},[t,o,I]);const V=Km(),L=k.useMemo(()=>{const te=n&&n!=="end"&&!n.startsWith("__")&&Bl(i,e);if(typeof te=="object"){const de=s[V]?.parameters,se=s[V]?.correctAnswer;return{...te,parameters:de||te.parameters||{},correctAnswer:se||te.correctAnswer||void 0}}return te},[s,n,V,i,e]);k.useEffect(()=>{j(c(!0))},[t,c,j]),XQ(L?.stylesheetPath);const{funcIndex:U}=hs();if(k.useEffect(()=>{if(D&&D.endTime>0&&!A&&!P.studyNavigatorEnabled&&n!=="end"&&!n.startsWith("__")&&typeof t=="number"){let te="0";Object.values(s).forEach(ie=>{ie.endTime>0&&(te=ie.trialOrder)});const[de,se]=te.split("_"),ae=Number(de),he=se?Number(se):void 0;(ae>t||ae===t&&he!==void 0&&U!==void 0&&he>Number(wf(U)))&&m(`/${r}/${ko(ae)}${he!==void 0?`/${ko(he)}`:""}`)}},[s,n,t,U,A,P.studyNavigatorEnabled,m,D,r]),n==="end")return x.jsx(T1t,{});if(n==="__dynamicLoading")return null;if(n==="__trainingFailed")return x.jsx(A1t,{});if(n==="__timedOut")return x.jsx(k1t,{});if(n==="Notfound")return x.jsx(Jm,{email:e.uiConfig.contactEmail});if(!o?.isConnected())return x.jsxs(Iu,{style:{height:"80vh",flexDirection:"column",textAlign:"center"},children:[x.jsx(Int,{size:48,stroke:1.5,color:"orange"}),x.jsx(Yr,{mt:"md",order:4,children:"Database Disconnected"}),x.jsx(Ve,{mt:"md",children:"Please check your network connection or disable your adblocker for this site, then refresh the page."})]});if(O&&$!==O)return x.jsx(Iu,{style:{height:"80vh"},children:x.jsx(Uf,{})});const z=L?.instruction||"",G=L.instructionLocation??e.uiConfig.instructionLocation??"sidebar",Q=G==="sidebar";return p&&A&&l?x.jsx(zGt,{},`${t}-stimulus`):x.jsxs(x.Fragment,{children:[G==="aboveStimulus"&&x.jsx(ap,{text:z}),x.jsx(YH,{status:D,config:L,location:"aboveStimulus"},`${t}-above-response-block`),x.jsx(Ie,{id:n,className:L.type,style:{width:"100%",display:"flex",flexGrow:L.type==="website"?1:void 0,flexDirection:"column",...L.style},children:x.jsx(k.Suspense,{fallback:x.jsx("div",{children:"Loading..."}),children:x.jsxs(x.Fragment,{children:[L.type==="markdown"&&x.jsx(p1t,{currentConfig:L}),L.type==="website"&&x.jsx(u1t,{currentConfig:L,provState:d,answers:s}),L.type==="image"&&x.jsx(d1t,{currentConfig:L}),L.type==="react-component"&&x.jsx(h1t,{currentConfig:L,provState:d,answers:s}),L.type==="vega"&&x.jsx(SWt,{currentConfig:L,provState:d}),L.type==="video"&&x.jsx(BGt,{currentConfig:L})]})},`${t}-stimulus`)}),(G==="belowStimulus"||G===void 0&&!Q)&&x.jsx(ap,{text:z}),x.jsx(YH,{status:D,config:L,location:"belowStimulus"},`${t}-below-response-block`)]})}function uFe(e){const[t]=kc();return x.jsx(RX,{...e,to:{pathname:e.to,search:t.toString()}})}var Kz,yve;function VGt(){if(yve)return Kz;yve=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=typeof Ri=="object"&&Ri&&Ri.Object===Object&&Ri,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,f=d.toString,h=Math.max,m=Math.min,p=function(){return c.Date.now()};function g(C,S,T){var A,D,I,P,N,$,O=0,j=!1,B=!1,H=!0;if(typeof C!="function")throw new TypeError(e);S=E(S)||0,y(T)&&(j=!!T.leading,B="maxWait"in T,I=B?h(E(T.maxWait)||0,S):I,H="trailing"in T?!!T.trailing:H);function q(de){var se=A,ae=D;return A=D=void 0,O=de,P=C.apply(ae,se),P}function Y(de){return O=de,N=setTimeout(U,S),j?q(de):P}function V(de){var se=de-$,ae=de-O,he=S-se;return B?m(he,I-ae):he}function L(de){var se=de-$,ae=de-O;return $===void 0||se>=S||se<0||B&&ae>=I}function U(){var de=p();if(L(de))return z(de);N=setTimeout(U,V(de))}function z(de){return N=void 0,H&&A?q(de):(A=D=void 0,P)}function G(){N!==void 0&&clearTimeout(N),O=0,A=$=D=N=void 0}function Q(){return N===void 0?P:z(p())}function te(){var de=p(),se=L(de);if(A=arguments,D=this,$=de,se){if(N===void 0)return Y($);if(B)return N=setTimeout(U,S),q($)}return N===void 0&&(N=setTimeout(U,S)),P}return te.cancel=G,te.flush=Q,te}function y(C){var S=typeof C;return!!C&&(S=="object"||S=="function")}function v(C){return!!C&&typeof C=="object"}function w(C){return typeof C=="symbol"||v(C)&&f.call(C)==n}function E(C){if(typeof C=="number")return C;if(w(C))return t;if(y(C)){var S=typeof C.valueOf=="function"?C.valueOf():C;C=y(S)?S+"":S}if(typeof C!="string")return C===0?C:+C;C=C.replace(r,"");var T=o.test(C);return T||s.test(C)?a(C.slice(2),T?2:8):i.test(C)?t:+C}return Kz=g,Kz}var HGt=VGt();const Qd=ms(HGt);function cFe(e,t,n,r){let i=0;for(let o=0;o<e.components.length;o+=1){const s=e.components[o];if(typeof s=="string"){if(r===e.orderPath&&s===t&&o>=n)break;i+=1}else if(s.order==="dynamic"?i+=1:i+=cFe(s,t,n,r),r.includes(s.orderPath))break}return i}function dFe(e,t){let n=0;return t.components.forEach(r=>{if(typeof r=="string"&&e.interruptions?.flatMap(i=>i.components).includes(r))n+=1;else if(typeof r!="string"){const i=e.components.find(o=>typeof o!="string"&&o.orderPath===r.orderPath);n+=dFe(i,r)}}),n}function qGt(e,t){const n=[];return t.forEach(r=>{const i=e.findIndex(o=>typeof o=="string"?o===r:typeof r!="string"&&o.orderPath===r.orderPath);i!==-1&&(n.push(e[i]),e.splice(i,1)),i===-1&&typeof r=="string"&&n.push(r)}),e&&n.push(...e),n}function WGt(e){return e.some(t=>t.type==="radio"||t.type==="checkbox"||t.type==="buttons"?t.optionOrder==="random":t.type==="matrix-radio"||t.type==="matrix-checkbox"?t.questionOrder==="random":!1)}function GGt({step:e,disabled:t,fullSequence:n,startIndex:r,interruption:i,participantView:o,studyConfig:s,subSequence:a,analysisNavigation:l,parentBlock:u,parentActive:c,answers:d}){const f=qf(),h=pl(),m=Rc(),p=s.components[e]&&Bl(s.components[e],s),g=a&&a.components.slice(r).includes(e)?cFe(n,e,r,a.orderPath):-1,{trialId:y,funcIndex:v,analysisTab:w}=hs(),[E]=kc(),C=k.useMemo(()=>E.get("participantId"),[E]),S=w?[]:qy(),T=y===e,A=c&&u&&v?r===wf(v):!1,D=o?m===g||A:m===`reviewer-${e}`,I=l?T:D,P=y?`./../${e}`:`./${e}`,N=u.order==="dynamic"?`/${f}/${ko(S.indexOf(u.id))}/${ko(r)}`:"",$=o?u.order==="dynamic"?N:`/${f}/${ko(g)}`:`/${f}/reviewer-${e}`,O=l?()=>h(P):()=>h(`${$}${C?`?participantId=${C}`:""}`),j=e.includes(".co.")?".co.":e.includes(".components.")?".components.":!1,B=e.includes("$")&&j&&e.includes(j)?e.split(j).at(-1):e,H=u.order==="dynamic"?Object.entries(d).find(([ae,he])=>ae===`${u.id}_${S.indexOf(u.id)}_${B}_${r}`):Object.entries(d).find(([ae,he])=>ae===`${B}_${g}`||ae===`${e}_${g}`),q=H?H[1]:null,Y=q&&q.correctAnswer.length>0&&Object.keys(q.answer).length>0&&q.correctAnswer,V=Y&&q&&U1(q.answer,Y),L=q&&Y?V?x.jsx(ay,{size:16,style:{marginRight:4,flexShrink:0},color:"green"}):x.jsx(Gm,{size:16,style:{marginRight:4,flexShrink:0},color:"red"}):null,U=6,z=p&&JSON.stringify(p.response,null,2),[G,Q]=k.useState(U),te=q&&q.correctAnswer.length>0?JSON.stringify(q.correctAnswer,null,2):p&&p.correctAnswer?JSON.stringify(p.correctAnswer,null,2):void 0,[de,se]=k.useState(U);return x.jsxs(Tb,{withinPortal:!0,position:"left",withArrow:!0,arrowSize:10,shadow:"md",offset:0,closeDelay:0,children:[x.jsx(g$,{active:I,style:{lineHeight:"32px",height:"32px"},label:x.jsxs(At,{align:"center",children:[i&&x.jsx(yt,{label:"Interruption",position:"right",withArrow:!0,children:x.jsx(Uet,{size:16,style:{marginRight:4,flexShrink:0},color:"orange"})}),e!==B&&x.jsx(yt,{label:"Package import",position:"right",withArrow:!0,children:x.jsx(_nt,{size:16,style:{marginRight:4,flexShrink:0},color:"blue"})}),p?.responseOrder==="random"&&x.jsx(yt,{label:"Random responses",position:"right",withArrow:!0,children:x.jsx(Ptt,{size:16,opacity:.8,style:{marginRight:4,flexShrink:0},color:"black"})}),p?.response&&WGt(p.response)&&x.jsx(yt,{label:"Random options",position:"right",withArrow:!0,children:x.jsx(Ntt,{size:16,opacity:.8,style:{marginRight:4,flexShrink:0},color:"black"})}),L,x.jsx(Ve,{size:"sm",span:I,fw:I?"700":void 0,display:"inline",title:B,style:{textWrap:"nowrap",flexGrow:1,width:0,textOverflow:"ellipsis",overflow:"hidden"},children:B}),B!=="end"&&x.jsx(Tb.Target,{children:x.jsx(Wm,{size:16,style:{marginLeft:"5px",verticalAlign:"middle"},opacity:.5})})]}),onClick:O,disabled:t&&u.order!=="dynamic"}),p&&x.jsx(Tb.Dropdown,{children:x.jsxs(Ie,{mah:700,maw:500,style:{overflow:"auto"},children:[x.jsxs(Ie,{children:[x.jsx(Ve,{fw:900,display:"inline-block",mr:2,children:"Name:"})," ",x.jsx(Ve,{fw:400,component:"span",children:B})]}),p.description&&x.jsxs(Ie,{children:[x.jsx(Ve,{fw:900,display:"inline-block",mr:2,children:"Description:"})," ",x.jsx(Ve,{fw:400,component:"span",children:p.description})]}),("parameters"in p||q)&&x.jsxs(Ie,{children:[x.jsx(Ve,{fw:900,display:"inline-block",mr:2,children:"Parameters:"})," ",x.jsx(Ph,{block:!0,children:q&&JSON.stringify(Object.keys(q).length>0?q.parameters:"parameters"in p?p.parameters:{},null,2)})]}),q&&Object.keys(q.answer).length>0&&x.jsxs(Ie,{children:[x.jsxs(Ve,{fw:900,display:"inline-block",mr:2,children:[L,"Participant Answer:"]})," ",x.jsx(Ph,{block:!0,children:JSON.stringify(q.answer,null,2)})]}),te&&x.jsxs(Ie,{children:[x.jsx(Ve,{fw:900,display:"inline-block",mr:2,children:"Correct Answer:"})," ",x.jsxs(Ph,{block:!0,children:[x.jsx(Ve,{size:"xs",lineClamp:de,children:te}),te.split(`
`).length>U&&x.jsx(At,{justify:"flex-end",children:(de===void 0||te.split(`
`).length>de)&&x.jsx(Ut,{variant:"light",size:"xs",onClick:()=>{se(ae=>ae===U?void 0:U)},children:de!==void 0?"Show more":"Show less"})})]})]}),x.jsxs(Ie,{children:[x.jsx(Ve,{fw:900,display:"inline-block",mr:2,children:"Response:"})," ",x.jsxs(Ph,{block:!0,children:[x.jsx(Ve,{size:"xs",lineClamp:G,children:z}),z.split(`
`).length>U&&x.jsx(At,{justify:"flex-end",children:(G===void 0||z.split(`
`).length>G)&&x.jsx(Ut,{variant:"light",size:"xs",onClick:()=>{Q(ae=>ae===U?void 0:U)},children:G!==void 0?"Show more":"Show less"})})]})]}),p.meta&&x.jsxs(Ie,{children:[x.jsx(Ve,{fw:"900",component:"span",children:"Task Meta: "}),x.jsx(Ph,{block:!0,children:JSON.stringify(p.meta,null,2)})]})]})})]})}function c6({configSequence:e,fullSequence:t,participantSequence:n,participantView:r,studyConfig:i,analysisNavigation:o}){let s=structuredClone(e.components);n&&r&&(s=qGt(structuredClone(e.components),structuredClone(n.components)));const{analysisTab:a}=hs();let l={};a||(l=fr(T=>T.answers)),r||(s=[...e.interruptions?.flatMap(T=>T.components)||[],...s||[]]);const u=k.useMemo(()=>n?md(n).length-dFe(e,n):0,[e,n]),c=k.useMemo(()=>md(e),[e]),[d,f]=k.useState(u>0),[h]=kc(),m=k.useMemo(()=>h.get("participantId"),[h]),p=Rc(),g=a?[]:qy(),y=typeof p=="number"&&e.order==="dynamic"&&g[p]===e.id,v=e.id&&g.indexOf(e.id)||-1,w=qf(),E=pl(),C=()=>E(`/${w}/${ko(v)}/${ko(0)}${m?`?participantId=${m}`:""}`),S=[...s,...Object.entries(l).filter(([T,A])=>T.startsWith(`${e.id}_${v}_`)).map(([T,A])=>A.componentName)];return x.jsx(g$,{active:y,label:x.jsxs(At,{align:"center",style:{opacity:u>0?1:.5},children:[x.jsx(Ve,{size:"sm",display:"inline",fw:y?900:700,title:e.id?e.id:e.order,style:{textWrap:"nowrap",flexGrow:1,width:0,textOverflow:"ellipsis",overflow:"hidden"},children:e.id?e.id:e.order}),e.order==="random"||e.order==="latinSquare"?x.jsx(yt,{label:e.order,position:"right",withArrow:!0,children:x.jsx(ket,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}})}):null,r&&x.jsx(us,{ml:5,variant:"light",children:e.order==="dynamic"?`${Object.keys(l).filter(T=>T.startsWith(`${e.id}_`)).length} / ?`:`${u}/${c.length}`}),r&&e.interruptions&&x.jsx(us,{ml:5,color:"orange",variant:"light",children:n?.components.filter(T=>typeof T=="string"&&e.interruptions?.flatMap(A=>A.components).includes(T)).length||0})]}),opened:d,onClick:()=>e.order==="dynamic"&&!o&&r?C():f(!d),childrenOffset:32,style:{lineHeight:"32px",height:"32px"},children:d?x.jsx(Ie,{style:{borderLeft:"1px solid #e9ecef"},children:S.map((T,A)=>{if(typeof T=="string")return x.jsx(GGt,{step:T,disabled:r&&n?.components[A]!==T,fullSequence:t,startIndex:A,interruption:e.interruptions&&e.interruptions.findIndex(I=>I.components.includes(T))>-1||!1,participantView:r,studyConfig:i,subSequence:n,analysisNavigation:o,parentBlock:e,parentActive:y,answers:l},A);const D=n?.components.find(I=>typeof I!="string"&&I.orderPath===T.orderPath);return x.jsx(c6,{configSequence:T,participantSequence:D,fullSequence:t,participantView:r,studyConfig:i,analysisNavigation:o},A)})}):null},e.id)}function fFe(e,t){e?.clearCurrentParticipantId().then(()=>{window.location.href=t}).catch(n=>{console.error(n)})}function vve({text:e}){return x.jsx(yt,{label:e,multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:x.jsx(Wm,{size:16,style:{marginBottom:-3,marginLeft:4}})})}function YGt(){const e=fr(h=>h.sequence),{toggleStudyBrowser:t}=Zi(),n=Bu(),r=Po(),i=qf(),o=QN(`/${i}`),{storageEngine:s}=Mi(),a=Eg(),l=k.useMemo(()=>{let h=structuredClone(n.sequence);return h=pQ(h,"root"),h.components.push("end"),h},[n.sequence]),[u,c]=k.useState("participant"),d=k.useMemo(()=>u==="allTrials"||a,[u,a]),f=fr(h=>h.modes);return x.jsxs(io.Aside,{className:"studyBrowser",p:"0",children:[x.jsxs(io.Section,{p:"sm",pb:0,children:[x.jsxs(At,{direction:"row",justify:"space-between",children:[x.jsx(Ve,{size:"md",fw:700,pt:3,children:"Study Browser"}),x.jsx(yt,{label:"Go to the sequence of the next participant in the experiment. Sequences can be different between participants due to randomization, etc.",w:280,multiline:!0,disabled:d,children:x.jsx(Ut,{variant:"light",leftSection:x.jsx($X,{size:14}),onClick:()=>fFe(s,o),size:"xs",disabled:d,children:"Next Participant"})}),a?x.jsx(yt,{label:"The study browser cannot be closed in replay mode",withinPortal:!0,children:x.jsx(sp,{onClick:()=>r(t()),mt:1,disabled:a})}):x.jsx(sp,{onClick:()=>r(t()),mt:1,disabled:a})]}),x.jsxs(At,{direction:"row",justify:"space-between",align:"center",mt:"xs",opacity:.7,children:[x.jsxs(Ve,{size:"sm",children:["Study Status:"," ",f?.dataCollectionEnabled?"Collecting Data":"Data Collection Disabled"]}),x.jsxs(At,{gap:"sm",align:"center",children:[x.jsx(yt,{label:"Edit Study Settings",withinPortal:!0,position:"bottom",children:x.jsx(Cn,{variant:"white","aria-label":"Edit Study Modes",component:"a",href:QN(`/analysis/stats/${i}/manage`),p:0,children:x.jsx(Hnt,{style:{width:"70%",height:"70%"},stroke:1.5,size:16})})}),f?.analyticsInterfacePubliclyAccessible?x.jsx(yt,{label:"Analytics interface publicly accessible",multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:x.jsx(wSe,{size:16,color:"green"})}):x.jsx(yt,{label:"Analytics interface not publicly accessible",multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:x.jsx(bSe,{size:16,color:"red"})}),s?.getEngine()==="localStorage"?x.jsx(yt,{label:"Local storage enabled",withinPortal:!0,position:"bottom",children:x.jsx(JN,{size:16,color:"green"})}):s?.getEngine()==="firebase"?x.jsx(yt,{label:"Firebase enabled",withinPortal:!0,position:"bottom",children:x.jsx(hSe,{size:16,color:"green"})}):s?.getEngine()==="supabase"?x.jsx(yt,{label:"Supabase enabled",withinPortal:!0,position:"bottom",children:x.jsx(NX,{size:16,color:"green"})}):x.jsx(yt,{label:"Unknown storage engine enabled",withinPortal:!0,position:"bottom",children:x.jsx(JN,{size:16,color:"red"})})]})]})]}),x.jsx(io.Section,{grow:!0,component:op,p:"xs",pt:4,children:x.jsxs(gr,{value:u,onChange:c,children:[x.jsx(Ie,{style:{position:"sticky",top:0,backgroundColor:"white",zIndex:1},children:x.jsxs(gr.List,{grow:!0,children:[x.jsxs(gr.Tab,{value:"participant",children:["Participant View",x.jsx(vve,{text:"The Participants View shows items just as a participants would see them, considering randomization, omissions, etc. You can navigate between multiple participants using the next participant button."})]}),x.jsxs(gr.Tab,{value:"allTrials",disabled:a,children:["All Trials View",x.jsx(vve,{text:"The All Trials View shows all items in the order defined in the config."})]})]})}),x.jsx(gr.Panel,{value:"participant",children:x.jsx(c6,{configSequence:l,participantSequence:e,fullSequence:e,participantView:!0,studyConfig:n})}),x.jsx(gr.Panel,{value:"allTrials",children:x.jsx(c6,{configSequence:l,participantSequence:e,fullSequence:e,participantView:!1,studyConfig:n})})]})})]})}function KGt({studyNavigatorEnabled:e,dataCollectionEnabled:t}){const n=fr(q=>q.config),r=fr(q=>q.answers),i=fr(q=>q.storageEngineFailedToConnect),o=qy(),s=Po(),{toggleShowHelpText:a,toggleStudyBrowser:l,incrementHelpCounter:u}=Zi(),{storageEngine:c}=Mi(),d=Wf(),f=k.useMemo(()=>Bl(n.components[d]||{},n),[d,n]),h=Rc(),m=k.useMemo(()=>{const q=Object.values(r).filter(V=>V.endTime>-1).length,Y=o.map((V,L)=>n.components[V]?1:typeof h=="number"&&h<=L&&V!=="end"?55:Object.entries(r).filter(([U,z])=>U.includes(`${V}_`)).length).reduce((V,L)=>V+L,0);return q/Y*100},[r,h,o,n.components]),[p,g]=k.useState(!1),y=n?.uiConfig.logoPath,v=k.useMemo(()=>f.withProgressBar??n.uiConfig.withProgressBar,[f,n]),w=k.useMemo(()=>f.showTitle??n.uiConfig.showTitle??!0,[f,n]),E=qf(),C=QN(`/${E}`),S=k.useRef(null),[T,A]=k.useState(!1),D=k.useRef(0),I=fr(q=>q.isRecording),{isScreenRecording:P,isAudioRecording:N}=gQ(),$=I||N,{funcIndex:O}=hs();k.useEffect(()=>{const q=S.current;q&&A(q.scrollWidth>q.offsetWidth)},[n]),k.useEffect(()=>{if(n&&c&&t){const q=lht(r,o,n,h,O),Y=q.total>0?q.answered.length/q.total*100:0;Y!==D.current&&Y>0&&!Number.isNaN(Y)&&(D.current=Y,c.updateProgressData(q).catch(V=>{console.warn("Failed to update progress data:",V)}))}},[r,o,n,h,c,t,O]);const{setAlertModal:j}=Zi(),[B,H]=k.useState(!0);return i&&B&&(s(j({show:!0,message:`You may be behind a firewall blocking access, or the server collecting data may be down. Study data will not be saved. If you're taking the study you will not be compensated for your efforts. You are welcome to look around. If you are attempting to participate in the study, please email ${n.uiConfig.contactEmail} for assistance.`,title:"Failed to connect to the storage engine"})),H(!1)),x.jsx(io.Header,{className:"header",p:"md",children:x.jsxs(go,{mt:-7,align:"center",children:[x.jsx(go.Col,{span:4,children:x.jsxs(At,{align:"center",children:[x.jsx(vg,{w:40,src:`${bo}${y}`,alt:"Study Logo",className:"logoImage"}),x.jsx(ad,{w:"md"}),w?x.jsx(Yr,{ref:S,order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:T?n?.studyMetadata.title:void 0,className:"studyTitle",children:n?.studyMetadata.title}):null]})}),x.jsx(go.Col,{span:4,children:v&&x.jsx(O1,{radius:"md",size:"lg",value:m,className:"progressBar"})}),x.jsx(go.Col,{span:4,children:x.jsxs(Gn,{wrap:"nowrap",justify:"right",children:[($||P)&&x.jsxs(Gn,{ml:"xl",gap:20,wrap:"nowrap",children:[x.jsxs(Ve,{c:"red",children:["Recording",P&&" screen",P&&$&&" and",$&&" audio"]}),$&&x.jsx(cQ,{})]}),i&&x.jsx(yt,{multiline:!0,withArrow:!0,arrowSize:6,w:300,label:"Failed to connect to the storage engine. Study data will not be saved. Check your connection or restart the app.",children:x.jsx(us,{size:"lg",color:"red",children:"Storage Disconnected"})}),!i&&!t&&x.jsx(yt,{multiline:!0,withArrow:!0,arrowSize:6,w:300,label:"This is a demo version of the study, were not collecting any data.",children:x.jsx(us,{size:"lg",color:"orange",children:"Demo Mode"})}),n?.uiConfig.helpTextPath!==void 0&&x.jsx(Ut,{variant:"outline",onClick:()=>{s(a()),s(u({identifier:`${d}_${h}`}))},children:"Help"}),x.jsxs(Pn,{shadow:"md",width:200,withinPortal:!0,opened:p,onChange:g,children:[x.jsx(Pn.Target,{children:x.jsx(Cn,{size:"lg",className:"studyBrowserMenuDropdown",variant:"subtle",color:"gray",children:x.jsx(ySe,{})})}),x.jsxs(Pn.Dropdown,{children:[e&&x.jsx(Pn.Item,{leftSection:x.jsx(SSe,{size:14}),onClick:()=>s(l()),children:"Study Browser"}),x.jsx(Pn.Item,{component:"a",href:n!==null?`mailto:${n.uiConfig.contactEmail}`:void 0,leftSection:x.jsx(hnt,{size:14}),children:"Contact"}),e&&x.jsx(Pn.Item,{leftSection:x.jsx($X,{size:14}),onClick:()=>fFe(c,C),children:"Next Participant"}),e&&x.jsx(Pn.Item,{leftSection:x.jsx(pSe,{size:14}),component:"a",href:`${bo}analysis/stats/${E}`,children:"Analyze & Manage"})]})]})]})})]})})}function XGt({width:e,top:t,sidebarOpen:n}){const r=Bu(),i=Wf(),o=r.components[i],s=k.useMemo(()=>o?Bl(o,r):null,[o,r]),a=Gy(),l=s?.instruction||"",c=k.useMemo(()=>s?.instructionLocation??r.uiConfig.instructionLocation??"sidebar",[s,r])==="sidebar";return s?x.jsxs(Ie,{className:"sidebar",bg:"gray.1",display:n?"block":"none",style:{zIndex:0,marginTop:t,position:"relative"},w:e,miw:e,children:[c&&l!==""&&x.jsxs(Ie,{bg:"gray.3",p:"md",children:[x.jsx(Ve,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),x.jsx(ap,{text:l})]}),x.jsx(Ie,{p:"md",children:x.jsx(YH,{status:a,config:s,location:"sidebar"},`${i}-sidebar-response-block`)})]}):null}function QGt(){const e=fr(h=>h.showHelpText),t=fr(h=>h.config),n=Po(),{toggleShowHelpText:r}=Zi(),[i,o]=k.useState(!0),[s,a]=k.useState(""),[l,u]=k.useState(!0),c=Wf(),d=k.useMemo(()=>Bl(t.components[c]||{},t),[c,t]),f=k.useMemo(()=>d.helpTextPath??t.uiConfig.helpTextPath,[d.helpTextPath,t.uiConfig.helpTextPath]);return k.useEffect(()=>{async function h(){if(!f){o(!1),u(!1);return}const m=await i5(`${bo}${f}`);m!==void 0?a(m):o(!1),u(!1)}h()},[f]),x.jsx(Ii,{className:"helpModal",size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:l||i?x.jsx(ap,{text:s}):x.jsx(Jm,{path:t.uiConfig.helpTextPath})})}function JGt(){const e=fr(s=>s.alertModal),{setAlertModal:t}=Zi(),n=Po(),[r,i]=k.useState(e.show),o=k.useCallback(()=>n(t({...e,show:!1,title:""})),[e,t,n]);return k.useEffect(()=>i(e.show),[e.show]),x.jsx(Ii,{opened:r,centered:!0,size:"lg",withCloseButton:!1,onClose:o,children:x.jsxs(sd,{color:"red",radius:"xs",title:e.title,icon:x.jsx(wet,{}),onClose:o,styles:{root:{backgroundColor:"unset"}},children:[x.jsx(Ve,{my:"md",children:e.message}),x.jsx(Gn,{w:"100%",justify:"end",children:x.jsx(Ut,{onClick:o,color:"red",variant:"filled",m:"xs",children:"Continue Study"})})]})})}var EG="http://www.w3.org/1999/xhtml";const bve={svg:"http://www.w3.org/2000/svg",xhtml:EG,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function AL(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),bve.hasOwnProperty(t)?{space:bve[t],local:e}:e}function ZGt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===EG&&t.documentElement.namespaceURI===EG?t.createElement(e):t.createElementNS(n,e)}}function eYt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hFe(e){var t=AL(e);return(t.local?eYt:ZGt)(t)}function tYt(){}function Ore(e){return e==null?tYt:function(){return this.querySelector(e)}}function nYt(e){typeof e!="function"&&(e=Ore(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new jf(r,this._parents)}function rYt(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function iYt(){return[]}function pFe(e){return e==null?iYt:function(){return this.querySelectorAll(e)}}function oYt(e){return function(){return rYt(e.apply(this,arguments))}}function sYt(e){typeof e=="function"?e=oYt(e):e=pFe(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new jf(r,i)}function mFe(e){return function(){return this.matches(e)}}function gFe(e){return function(t){return t.matches(e)}}var aYt=Array.prototype.find;function lYt(e){return function(){return aYt.call(this.children,e)}}function uYt(){return this.firstElementChild}function cYt(e){return this.select(e==null?uYt:lYt(typeof e=="function"?e:gFe(e)))}var dYt=Array.prototype.filter;function fYt(){return Array.from(this.children)}function hYt(e){return function(){return dYt.call(this.children,e)}}function pYt(e){return this.selectAll(e==null?fYt:hYt(typeof e=="function"?e:gFe(e)))}function mYt(e){typeof e!="function"&&(e=mFe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new jf(r,this._parents)}function yFe(e){return new Array(e.length)}function gYt(){return new jf(this._enter||this._groups.map(yFe),this._parents)}function d6(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}d6.prototype={constructor:d6,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function yYt(e){return function(){return e}}function vYt(e,t,n,r,i,o){for(var s=0,a,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new d6(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function bYt(e,t,n,r,i,o,s){var a,l,u=new Map,c=t.length,d=o.length,f=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(f[a]=h=s.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<d;++a)h=s.call(e,o[a],a,o)+"",(l=u.get(h))?(r[a]=l,l.__data__=o[a],u.delete(h)):n[a]=new d6(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(f[a])===l&&(i[a]=l)}function wYt(e){return e.__data__}function xYt(e,t){if(!arguments.length)return Array.from(this,wYt);var n=t?bYt:vYt,r=this._parents,i=this._groups;typeof e!="function"&&(e=yYt(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],d=i[u],f=d.length,h=_Yt(e.call(c,c&&c.__data__,u,r)),m=h.length,p=a[u]=new Array(m),g=s[u]=new Array(m),y=l[u]=new Array(f);n(c,d,p,g,y,h,t);for(var v=0,w=0,E,C;v<m;++v)if(E=p[v]){for(v>=w&&(w=v+1);!(C=g[w])&&++w<m;);E._next=C||null}}return s=new jf(s,r),s._enter=a,s._exit=l,s}function _Yt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function EYt(){return new jf(this._exit||this._groups.map(yFe),this._parents)}function CYt(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function SYt(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],d=u.length,f=a[l]=new Array(d),h,m=0;m<d;++m)(h=u[m]||c[m])&&(f[m]=h);for(;l<i;++l)a[l]=n[l];return new jf(a,this._parents)}function TYt(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function AYt(e){e||(e=kYt);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new jf(i,this._parents).order()}function kYt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function RYt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function IYt(){return Array.from(this)}function DYt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function PYt(){let e=0;for(const t of this)++e;return e}function OYt(){return!this.node()}function NYt(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function MYt(e){return function(){this.removeAttribute(e)}}function $Yt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function FYt(e,t){return function(){this.setAttribute(e,t)}}function LYt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function jYt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function BYt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function zYt(e,t){var n=AL(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?$Yt:MYt:typeof t=="function"?n.local?BYt:jYt:n.local?LYt:FYt)(n,t))}function vFe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function UYt(e){return function(){this.style.removeProperty(e)}}function VYt(e,t,n){return function(){this.style.setProperty(e,t,n)}}function HYt(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function qYt(e,t,n){return arguments.length>1?this.each((t==null?UYt:typeof t=="function"?HYt:VYt)(e,t,n??"")):fE(this.node(),e)}function fE(e,t){return e.style.getPropertyValue(t)||vFe(e).getComputedStyle(e,null).getPropertyValue(t)}function WYt(e){return function(){delete this[e]}}function GYt(e,t){return function(){this[e]=t}}function YYt(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function KYt(e,t){return arguments.length>1?this.each((t==null?WYt:typeof t=="function"?YYt:GYt)(e,t)):this.node()[e]}function bFe(e){return e.trim().split(/^|\s+/)}function Nre(e){return e.classList||new wFe(e)}function wFe(e){this._node=e,this._names=bFe(e.getAttribute("class")||"")}wFe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function xFe(e,t){for(var n=Nre(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function _Fe(e,t){for(var n=Nre(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function XYt(e){return function(){xFe(this,e)}}function QYt(e){return function(){_Fe(this,e)}}function JYt(e,t){return function(){(t.apply(this,arguments)?xFe:_Fe)(this,e)}}function ZYt(e,t){var n=bFe(e+"");if(arguments.length<2){for(var r=Nre(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?JYt:t?XYt:QYt)(n,t))}function eKt(){this.textContent=""}function tKt(e){return function(){this.textContent=e}}function nKt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function rKt(e){return arguments.length?this.each(e==null?eKt:(typeof e=="function"?nKt:tKt)(e)):this.node().textContent}function iKt(){this.innerHTML=""}function oKt(e){return function(){this.innerHTML=e}}function sKt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function aKt(e){return arguments.length?this.each(e==null?iKt:(typeof e=="function"?sKt:oKt)(e)):this.node().innerHTML}function lKt(){this.nextSibling&&this.parentNode.appendChild(this)}function uKt(){return this.each(lKt)}function cKt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dKt(){return this.each(cKt)}function fKt(e){var t=typeof e=="function"?e:hFe(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function hKt(){return null}function pKt(e,t){var n=typeof e=="function"?e:hFe(e),r=t==null?hKt:typeof t=="function"?t:Ore(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function mKt(){var e=this.parentNode;e&&e.removeChild(this)}function gKt(){return this.each(mKt)}function yKt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function vKt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function bKt(e){return this.select(e?vKt:yKt)}function wKt(e){return arguments.length?this.property("__data__",e):this.node().__data__}function xKt(e){return function(t){e.call(this,t,this.__data__)}}function _Kt(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function EKt(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function CKt(e,t,n){return function(){var r=this.__on,i,o=xKt(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function SKt(e,t,n){var r=_Kt(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?CKt:EKt,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function EFe(e,t,n){var r=vFe(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function TKt(e,t){return function(){return EFe(this,e,t)}}function AKt(e,t){return function(){return EFe(this,e,t.apply(this,arguments))}}function kKt(e,t){return this.each((typeof t=="function"?AKt:TKt)(e,t))}function*RKt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var IKt=[null];function jf(e,t){this._groups=e,this._parents=t}function WR(){return new jf([[document.documentElement]],IKt)}function DKt(){return this}jf.prototype=WR.prototype={constructor:jf,select:nYt,selectAll:sYt,selectChild:cYt,selectChildren:pYt,filter:mYt,data:xYt,enter:gYt,exit:EYt,join:CYt,merge:SYt,selection:DKt,order:TYt,sort:AYt,call:RYt,nodes:IYt,node:DYt,size:PYt,empty:OYt,each:NYt,attr:zYt,style:qYt,property:KYt,classed:ZYt,text:rKt,html:aKt,raise:uKt,lower:dKt,append:fKt,insert:pKt,remove:gKt,clone:bKt,datum:wKt,on:SKt,dispatch:kKt,[Symbol.iterator]:RKt};var PKt=rte("start","end","cancel","interrupt"),OKt=[],CFe=0,wve=1,CG=2,fN=3,xve=4,SG=5,hN=6;function kL(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;NKt(e,n,{name:t,index:r,group:i,on:PKt,tween:OKt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:CFe})}function Mre(e,t){var n=ih(e,t);if(n.state>CFe)throw new Error("too late; already scheduled");return n}function zp(e,t){var n=ih(e,t);if(n.state>fN)throw new Error("too late; already running");return n}function ih(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function NKt(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=ite(o,0,n.time);function o(u){n.state=wve,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,f,h;if(n.state!==wve)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===fN)return age(s);h.state===xve?(h.state=hN,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=hN,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(age(function(){n.state===fN&&(n.state=xve,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=CG,n.on.call("start",e,e.__data__,n.index,n.group),n.state===CG){for(n.state=fN,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=SG,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===SG&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=hN,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function MKt(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>CG&&r.state<SG,r.state=hN,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function $Kt(e){return this.each(function(){MKt(this,e)})}function FKt(e,t){var n,r;return function(){var i=zp(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function LKt(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=zp(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function jKt(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ih(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?FKt:LKt)(n,e,t))}function $re(e,t,n){var r=e._id;return e.each(function(){var i=zp(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ih(i,r).value[t]}}function SFe(e,t){var n;return(typeof t=="number"?Kc:t instanceof Jb?bA:(n=Jb(t))?(t=n,bA):OZ)(e,t)}function BKt(e){return function(){this.removeAttribute(e)}}function zKt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function UKt(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function VKt(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function HKt(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function qKt(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function WKt(e,t){var n=AL(e),r=n==="transform"?WDe:SFe;return this.attrTween(e,typeof t=="function"?(n.local?qKt:HKt)(n,r,$re(this,"attr."+e,t)):t==null?(n.local?zKt:BKt)(n):(n.local?VKt:UKt)(n,r,t))}function GKt(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function YKt(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function KKt(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&YKt(e,o)),n}return i._value=t,i}function XKt(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&GKt(e,o)),n}return i._value=t,i}function QKt(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=AL(e);return this.tween(n,(r.local?KKt:XKt)(r,t))}function JKt(e,t){return function(){Mre(this,e).delay=+t.apply(this,arguments)}}function ZKt(e,t){return t=+t,function(){Mre(this,e).delay=t}}function eXt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?JKt:ZKt)(t,e)):ih(this.node(),t).delay}function tXt(e,t){return function(){zp(this,e).duration=+t.apply(this,arguments)}}function nXt(e,t){return t=+t,function(){zp(this,e).duration=t}}function rXt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?tXt:nXt)(t,e)):ih(this.node(),t).duration}function iXt(e,t){if(typeof t!="function")throw new Error;return function(){zp(this,e).ease=t}}function oXt(e){var t=this._id;return arguments.length?this.each(iXt(t,e)):ih(this.node(),t).ease}function sXt(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;zp(this,e).ease=n}}function aXt(e){if(typeof e!="function")throw new Error;return this.each(sXt(this._id,e))}function lXt(e){typeof e!="function"&&(e=mFe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new sg(r,this._parents,this._name,this._id)}function uXt(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],u=n[a],c=l.length,d=s[a]=new Array(c),f,h=0;h<c;++h)(f=l[h]||u[h])&&(d[h]=f);for(;a<r;++a)s[a]=t[a];return new sg(s,this._parents,this._name,this._id)}function cXt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function dXt(e,t,n){var r,i,o=cXt(t)?Mre:zp;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function fXt(e,t){var n=this._id;return arguments.length<2?ih(this.node(),n).on.on(e):this.each(dXt(n,e,t))}function hXt(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function pXt(){return this.on("end.remove",hXt(this._id))}function mXt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ore(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,kL(u[f],t,n,f,u,ih(c,n)));return new sg(o,this._parents,t,n)}function gXt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=pFe(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=e.call(c,c.__data__,d,l),h,m=ih(c,n),p=0,g=f.length;p<g;++p)(h=f[p])&&kL(h,t,n,p,f,m);o.push(f),s.push(c)}return new sg(o,s,t,n)}var yXt=WR.prototype.constructor;function vXt(){return new yXt(this._groups,this._parents)}function bXt(e,t){var n,r,i;return function(){var o=fE(this,e),s=(this.style.removeProperty(e),fE(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function TFe(e){return function(){this.style.removeProperty(e)}}function wXt(e,t,n){var r,i=n+"",o;return function(){var s=fE(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function xXt(e,t,n){var r,i,o;return function(){var s=fE(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),fE(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function _Xt(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=zp(this,e),u=l.on,c=l.value[o]==null?a||(a=TFe(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function EXt(e,t,n){var r=(e+="")=="transform"?qDe:SFe;return t==null?this.styleTween(e,bXt(e,r)).on("end.style."+e,TFe(e)):typeof t=="function"?this.styleTween(e,xXt(e,r,$re(this,"style."+e,t))).each(_Xt(this._id,e)):this.styleTween(e,wXt(e,r,t),n).on("end.style."+e,null)}function CXt(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function SXt(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&CXt(e,s,n)),r}return o._value=t,o}function TXt(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,SXt(e,t,n??""))}function AXt(e){return function(){this.textContent=e}}function kXt(e){return function(){var t=e(this);this.textContent=t??""}}function RXt(e){return this.tween("text",typeof e=="function"?kXt($re(this,"text",e)):AXt(e==null?"":e+""))}function IXt(e){return function(t){this.textContent=e.call(this,t)}}function DXt(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&IXt(i)),t}return r._value=e,r}function PXt(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,DXt(e))}function OXt(){for(var e=this._name,t=this._id,n=AFe(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=ih(l,t);kL(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new sg(r,this._parents,e,n)}function NXt(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=zp(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&o()})}var MXt=0;function sg(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function AFe(){return++MXt}var rm=WR.prototype;sg.prototype={constructor:sg,select:mXt,selectAll:gXt,selectChild:rm.selectChild,selectChildren:rm.selectChildren,filter:lXt,merge:uXt,selection:vXt,transition:OXt,call:rm.call,nodes:rm.nodes,node:rm.node,size:rm.size,empty:rm.empty,each:rm.each,on:fXt,attr:WKt,attrTween:QKt,style:EXt,styleTween:TXt,text:RXt,textTween:PXt,remove:pXt,tween:jKt,delay:eXt,duration:rXt,ease:oXt,easeVarying:aXt,end:NXt,[Symbol.iterator]:rm[Symbol.iterator]};function $Xt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var FXt={time:null,delay:0,duration:250,ease:$Xt};function LXt(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function jXt(e){var t,n;e instanceof sg?(t=e._id,e=e._name):(t=AFe(),(n=FXt).time=cF(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&kL(l,e,t,u,s,n||LXt(l,t));return new sg(r,this._parents,e,t)}WR.prototype.interrupt=$Kt;WR.prototype.transition=jXt;function BT(e,t,n){this.k=e,this.x=t,this.y=n}BT.prototype={constructor:BT,scale:function(e){return e===1?this:new BT(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new BT(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};BT.prototype;const BXt=k.createContext(null);function Ol(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(u){try{l(r.next(u))}catch(c){o(c)}}function a(u){try{l(r.throw(u))}catch(c){o(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof n?c:new n((function(d){d(c)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}class GR{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),r?.once){const i=(...o)=>{this.un(t,i),n(...o)};return this.listeners[t].add(i),()=>this.un(t,i)}return this.listeners[t].add(n),()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach((r=>r(...n)))}}const EP={decode:function(e,t){return Ol(this,void 0,void 0,(function*(){const n=new AudioContext({sampleRate:t});try{return yield n.decodeAudioData(e)}finally{n.close()}}))},createBuffer:function(e,t){if(!e||e.length===0)throw new Error("channelData must be a non-empty array");if(t<=0)throw new Error("duration must be greater than 0");if(typeof e[0]=="number"&&(e=[e]),!e[0]||e[0].length===0)throw new Error("channelData must contain non-empty channel arrays");(function(r){const i=r[0];if(i.some((o=>o>1||o<-1))){const o=i.length;let s=0;for(let a=0;a<o;a++){const l=Math.abs(i[a]);l>s&&(s=l)}for(const a of r)for(let l=0;l<o;l++)a[l]/=s}})(e);const n=e.map((r=>r instanceof Float32Array?r:Float32Array.from(r)));return{duration:t,length:n[0].length,sampleRate:n[0].length/t,numberOfChannels:n.length,getChannelData:r=>{const i=n[r];if(!i)throw new Error(`Channel ${r} not found`);return i},copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function kFe(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children"&&i)for(const[o,s]of Object.entries(i))s instanceof Node?n.appendChild(s):typeof s=="string"?n.appendChild(document.createTextNode(s)):n.appendChild(kFe(o,s));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function _ve(e,t,n){const r=kFe(e,t||{});return n?.appendChild(r),r}var zXt=Object.freeze({__proto__:null,createElement:_ve,default:_ve});const UXt={fetchBlob:function(e,t,n){return Ol(this,void 0,void 0,(function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return(function(i,o){Ol(this,void 0,void 0,(function*(){if(!i.body||!i.headers)return;const s=i.body.getReader(),a=Number(i.headers.get("Content-Length"))||0;let l=0;const u=c=>{l+=c?.length||0;const d=Math.round(l/a*100);o(d)};try{for(;;){const c=yield s.read();if(c.done)break;u(c.value)}}catch(c){console.warn("Progress tracking error:",c)}}))})(r.clone(),t),r.blob()}))}};class VXt extends GR{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onMediaEvent("canplay",(()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)}),{once:!0})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n,r)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){const r=this.getSrc();if(t&&r===t)return;this.revokeSrc();const i=n instanceof Blob&&(this.canPlayType(n.type)||!t)?URL.createObjectURL(n):t;if(r&&this.media.removeAttribute("src"),i||t)try{this.media.src=i}catch{this.media.src=t}}destroy(){this.isExternalMedia||(this.media.pause(),this.revokeSrc(),this.media.removeAttribute("src"),this.media.load(),this.media.remove())}setMediaElement(t){this.media=t}play(){return Ol(this,void 0,void 0,(function*(){try{return yield this.media.play()}catch(t){if(t instanceof DOMException&&t.name==="AbortError")return;throw t}}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=Math.max(0,Math.min(t,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}function Xz(e){return e<0?0:e>1?1:e}function HXt({maxTop:e,maxBottom:t,halfHeight:n,vScale:r}){const i=Math.round(e*n*r);return{topHeight:i,totalHeight:i+Math.round(t*n*r)||1}}function qXt({barAlign:e,halfHeight:t,topHeight:n,totalHeight:r,canvasHeight:i}){return e==="top"?0:e==="bottom"?i-r:t-n}function Eve(e,t,n){const r=t-e.left,i=n-e.top;return[r/e.width,i/e.height]}function RFe(e){return!!(e.barWidth||e.barGap||e.barAlign)}function Cve(e,t){if(!RFe(t))return e;const n=t.barWidth||.5,r=n+(t.barGap||n/2);return r===0?e:Math.floor(e/r)*r}function Sve({scrollLeft:e,totalWidth:t,numCanvases:n}){if(t===0)return[0];const r=e/t,i=Math.floor(r*n);return[i-1,i,i+1]}function Tve({scrollLeft:e,clientWidth:t,scrollWidth:n}){return n===0?{startX:0,endX:0}:{startX:e/n,endX:(e+t)/n}}class WXt extends GR{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.dragUnsubscribe=null,this.subscriptions=[],this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,o]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=o.querySelector(".scroll"),this.wrapper=o.querySelector(".wrapper"),this.canvasWrapper=o.querySelector(".canvases"),this.progressWrapper=o.querySelector(".progress"),this.cursor=o.querySelector(".cursor"),n&&o.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){if(this.wrapper.addEventListener("click",(t=>{const n=this.wrapper.getBoundingClientRect(),[r,i]=Eve(n,t.clientX,t.clientY);this.emit("click",r,i)})),this.wrapper.addEventListener("dblclick",(t=>{const n=this.wrapper.getBoundingClientRect(),[r,i]=Eve(n,t.clientX,t.clientY);this.emit("dblclick",r,i)})),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",(()=>{const{scrollLeft:t,scrollWidth:n,clientWidth:r}=this.scrollContainer,{startX:i,endX:o}=Tve({scrollLeft:t,scrollWidth:n,clientWidth:r});this.emit("scroll",i,o,t,t+r)})),typeof ResizeObserver=="function"){const t=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{t().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender(),this.emit("resize"))}initDrag(){this.dragUnsubscribe||(this.dragUnsubscribe=(function(t,n,r,i,o=3,s=0,a=100){if(!t)return()=>{};const l=new Map,u=matchMedia("(pointer: coarse)").matches;let c=()=>{};const d=f=>{if(f.button!==s||(l.set(f.pointerId,f),l.size>1))return;let h=f.clientX,m=f.clientY,p=!1;const g=Date.now(),y=S=>{if(S.defaultPrevented||l.size>1||u&&Date.now()-g<a)return;const T=S.clientX,A=S.clientY,D=T-h,I=A-m;if(p||Math.abs(D)>o||Math.abs(I)>o){S.preventDefault(),S.stopPropagation();const P=t.getBoundingClientRect(),{left:N,top:$}=P;p||(r?.(h-N,m-$),p=!0),n(D,I,T-N,A-$),h=T,m=A}},v=S=>{if(l.delete(S.pointerId),p){const T=S.clientX,A=S.clientY,D=t.getBoundingClientRect(),{left:I,top:P}=D;i?.(T-I,A-P)}c()},w=S=>{l.delete(S.pointerId),S.relatedTarget&&S.relatedTarget!==document.documentElement||v(S)},E=S=>{p&&(S.stopPropagation(),S.preventDefault())},C=S=>{S.defaultPrevented||l.size>1||p&&S.preventDefault()};document.addEventListener("pointermove",y),document.addEventListener("pointerup",v),document.addEventListener("pointerout",w),document.addEventListener("pointercancel",w),document.addEventListener("touchmove",C,{passive:!1}),document.addEventListener("click",E,{capture:!0}),c=()=>{document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",v),document.removeEventListener("pointerout",w),document.removeEventListener("pointercancel",w),document.removeEventListener("touchmove",C),setTimeout((()=>{document.removeEventListener("click",E,{capture:!0})}),10)}};return t.addEventListener("pointerdown",d),()=>{c(),t.removeEventListener("pointerdown",d),l.clear()}})(this.wrapper,((t,n,r)=>{const i=this.wrapper.getBoundingClientRect().width;this.emit("drag",Xz(r/i))}),(t=>{this.isDragging=!0;const n=this.wrapper.getBoundingClientRect().width;this.emit("dragstart",Xz(t/n))}),(t=>{this.isDragging=!1;const n=this.wrapper.getBoundingClientRect().width;this.emit("dragend",Xz(t/n))})),this.subscriptions.push(this.dragUnsubscribe))}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"}),r=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return n.innerHTML=`
      <style${r?` nonce="${r}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
          pointer-events: none;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t;this.subscriptions.forEach((n=>n())),this.container.remove(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),(t=this.unsubscribeOnScroll)===null||t===void 0||t.forEach((n=>n())),this.unsubscribeOnScroll=[]}createDelay(t=10){let n,r;const i=()=>{n&&(clearTimeout(n),n=void 0),r&&(r(),r=void 0)};return this.timeouts.push(i),()=>new Promise(((o,s)=>{i(),r=s,n=setTimeout((()=>{n=void 0,r=void 0,o()}),t)}))}getHeight(t,n){var r;const i=((r=this.audioData)===null||r===void 0?void 0:r.numberOfChannels)||1;return(function({optionsHeight:o,optionsSplitChannels:s,parentHeight:a,numberOfChannels:l,defaultHeight:u=128}){if(o==null)return u;const c=Number(o);if(!isNaN(c))return c;if(o==="auto"){const d=a||u;return s?.every((f=>!f.overlay))?d/l:d}return u})({optionsHeight:t,optionsSplitChannels:n,parentHeight:this.parent.clientHeight,numberOfChannels:i,defaultHeight:128})}convertColorValues(t){return(function(n,r){if(!Array.isArray(n))return n||"";if(n.length===0)return"#999";if(n.length<2)return n[0]||"";const i=document.createElement("canvas"),o=i.getContext("2d"),s=i.height*r,a=o.createLinearGradient(0,0,0,s||r),l=1/(n.length-1);return n.forEach(((u,c)=>{a.addColorStop(c*l,u)})),a})(t,this.getPixelRatio())}getPixelRatio(){return t=window.devicePixelRatio,Math.max(1,t||1);var t}renderBarWaveform(t,n,r,i){const{width:o,height:s}=r.canvas,{halfHeight:a,barWidth:l,barRadius:u,barIndexScale:c,barSpacing:d}=(function({width:h,height:m,length:p,options:g,pixelRatio:y}){const v=m/2,w=g.barWidth?g.barWidth*y:1,E=g.barGap?g.barGap*y:g.barWidth?w/2:0,C=w+E||1;return{halfHeight:v,barWidth:w,barGap:E,barRadius:g.barRadius||0,barIndexScale:p>0?h/C/p:0,barSpacing:C}})({width:o,height:s,length:(t[0]||[]).length,options:n,pixelRatio:this.getPixelRatio()}),f=(function({channelData:h,barIndexScale:m,barSpacing:p,barWidth:g,halfHeight:y,vScale:v,canvasHeight:w,barAlign:E}){const C=h[0]||[],S=h[1]||C,T=C.length,A=[];let D=0,I=0,P=0;for(let N=0;N<=T;N++){const $=Math.round(N*m);if($>D){const{topHeight:B,totalHeight:H}=HXt({maxTop:I,maxBottom:P,halfHeight:y,vScale:v}),q=qXt({barAlign:E,halfHeight:y,topHeight:B,totalHeight:H,canvasHeight:w});A.push({x:D*p,y:q,width:g,height:H}),D=$,I=0,P=0}const O=Math.abs(C[N]||0),j=Math.abs(S[N]||0);O>I&&(I=O),j>P&&(P=j)}return A})({channelData:t,barIndexScale:c,barSpacing:d,barWidth:l,halfHeight:a,vScale:i,canvasHeight:s,barAlign:n.barAlign});r.beginPath();for(const h of f)u&&"roundRect"in r?r.roundRect(h.x,h.y,h.width,h.height,u):r.rect(h.x,h.y,h.width,h.height);r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const{width:o,height:s}=r.canvas,a=(function({channelData:l,width:u,height:c,vScale:d}){const f=c/2,h=l[0]||[];return[h,l[1]||h].map(((m,p)=>{const g=m.length,y=g?u/g:0,v=f,w=p===0?-1:1,E=[{x:0,y:v}];let C=0,S=0;for(let T=0;T<=g;T++){const A=Math.round(T*y);if(A>C){const I=v+(Math.round(S*f*d)||1)*w;E.push({x:C,y:I}),C=A,S=0}const D=Math.abs(m[T]||0);D>S&&(S=D)}return E.push({x:C,y:v}),E}))})({channelData:t,width:o,height:s,vScale:i});r.beginPath();for(const l of a)if(l.length){r.moveTo(l[0].x,l[0].y);for(let u=1;u<l.length;u++){const c=l[u];r.lineTo(c.x,c.y)}}r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(t,r);const i=(function({channelData:o,barHeight:s,normalize:a}){var l;const u=s||1;if(!a)return u;const c=o[0];if(!c||c.length===0)return u;let d=0;for(let f=0;f<c.length;f++){const h=(l=c[f])!==null&&l!==void 0?l:0,m=Math.abs(h);m>d&&(d=m)}return d?u/d:u})({channelData:t,barHeight:n.barHeight,normalize:n.normalize});RFe(n)?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,o,s,a){const l=this.getPixelRatio(),u=document.createElement("canvas");u.width=Math.round(r*l),u.height=Math.round(i*l),u.style.width=`${r}px`,u.style.height=`${i}px`,u.style.left=`${Math.round(o)}px`,s.appendChild(u);const c=u.getContext("2d");if(n.renderFunction?(c.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction(t,c)):this.renderWaveform(t,n,c),u.width>0&&u.height>0){const d=u.cloneNode(),f=d.getContext("2d");f.drawImage(u,0,0),f.globalCompositeOperation="source-in",f.fillStyle=this.convertColorValues(n.progressColor),f.fillRect(0,0,u.width,u.height),a.appendChild(d)}}renderMultiCanvas(t,n,r,i,o,s){const a=this.getPixelRatio(),{clientWidth:l}=this.scrollContainer,u=r/a,c=(function({clientWidth:m,totalWidth:p,options:g}){return Cve(Math.min(8e3,m,p),g)})({clientWidth:l,totalWidth:u,options:n});let d={};if(c===0)return;const f=m=>{if(m<0||m>=h||d[m])return;d[m]=!0;const p=m*c;let g=Math.min(u-p,c);if(g=Cve(g,n),g<=0)return;const y=(function({channelData:v,offset:w,clampedWidth:E,totalWidth:C}){return v.map((S=>{const T=Math.floor(w/C*S.length),A=Math.floor((w+E)/C*S.length);return S.slice(T,A)}))})({channelData:t,offset:p,clampedWidth:g,totalWidth:u});this.renderSingleCanvas(y,n,g,i,p,o,s)},h=Math.ceil(u/c);if(!this.isScrollable){for(let m=0;m<h;m++)f(m);return}if(Sve({scrollLeft:this.scrollContainer.scrollLeft,totalWidth:u,numCanvases:h}).forEach((m=>f(m))),h>1){const m=this.on("scroll",(()=>{const{scrollLeft:p}=this.scrollContainer;Object.keys(d).length>10&&(o.innerHTML="",s.innerHTML="",d={}),Sve({scrollLeft:p,totalWidth:u,numCanvases:h}).forEach((g=>f(g)))}));this.unsubscribeOnScroll.push(m)}}renderChannel(t,n,r,i){var{overlay:o}=n,s=(function(c,d){var f={};for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&d.indexOf(h)<0&&(f[h]=c[h]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var m=0;for(h=Object.getOwnPropertySymbols(c);m<h.length;m++)d.indexOf(h[m])<0&&Object.prototype.propertyIsEnumerable.call(c,h[m])&&(f[h[m]]=c[h[m]])}return f})(n,["overlay"]);const a=document.createElement("div"),l=this.getHeight(s.height,s.splitChannels);a.style.height=`${l}px`,o&&i>0&&(a.style.marginTop=`-${l}px`),this.canvasWrapper.style.minHeight=`${l}px`,this.canvasWrapper.appendChild(a);const u=a.cloneNode();this.progressWrapper.appendChild(u),this.renderMultiCanvas(t,s,r,l,a,u)}render(t){return Ol(this,void 0,void 0,(function*(){var n;this.timeouts.forEach((u=>u())),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const r=this.getPixelRatio(),i=this.scrollContainer.clientWidth,{scrollWidth:o,isScrollable:s,useParentWidth:a,width:l}=(function({duration:u,minPxPerSec:c=0,parentWidth:d,fillParent:f,pixelRatio:h}){const m=Math.ceil(u*c),p=m>d,g=!!(f&&!p);return{scrollWidth:m,isScrollable:p,useParentWidth:g,width:(g?d:m)*h}})({duration:t.duration,minPxPerSec:this.options.minPxPerSec||0,parentWidth:i,fillParent:this.options.fillParent,pixelRatio:r});if(this.isScrollable=s,this.wrapper.style.width=a?"100%":`${o}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render"),this.options.splitChannels)for(let u=0;u<t.numberOfChannels;u++){const c=Object.assign(Object.assign({},this.options),(n=this.options.splitChannels)===null||n===void 0?void 0:n[u]);this.renderChannel([t.getChannelData(u)],c,l,u)}else{const u=[t.getChannelData(0)];t.numberOfChannels>1&&u.push(t.getChannelData(1)),this.renderChannel(u,this.options,l,0)}Promise.resolve().then((()=>this.emit("rendered")))}))}reRender(){if(this.unsubscribeOnScroll.forEach((r=>r())),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect(),i=(function(o){const s=2*o;return(s<0?Math.floor(s):Math.ceil(s))/2})(r-n);this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:o}=this.scrollContainer,s=t*i,a=r,l=r+o,u=o/2;if(this.isDragging)s+30>l?this.scrollContainer.scrollLeft+=30:s-30<a&&(this.scrollContainer.scrollLeft-=30);else{(s<a||s>l)&&(this.scrollContainer.scrollLeft=s-(this.options.autoCenter?u:0));const c=s-r-u;n&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=c)}{const c=this.scrollContainer.scrollLeft,{startX:d,endX:f}=Tve({scrollLeft:c,scrollWidth:i,clientWidth:o});this.emit("scroll",d,f,c,c+o)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0%, 100% 0%, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=this.options.cursorWidth?`translateX(-${t*this.options.cursorWidth}px)`:"",this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,n)}exportImage(t,n,r){return Ol(this,void 0,void 0,(function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const o=Array.from(i).map((s=>s.toDataURL(t,n)));return Promise.resolve(o)}return Promise.all(Array.from(i).map((o=>new Promise(((s,a)=>{o.toBlob((l=>{l?s(l):a(new Error("Could not export image"))}),t,n)})))))}))}}class GXt extends GR{constructor(){super(...arguments),this.animationFrameId=null,this.isRunning=!1}start(){if(this.isRunning)return;this.isRunning=!0;const t=()=>{this.isRunning&&(this.emit("tick"),this.animationFrameId=requestAnimationFrame(t))};t()}stop(){this.isRunning=!1,this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}destroy(){this.stop()}}class Qz extends GR{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return Ol(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then((n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()})).then((n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n))).then((n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})).catch((n=>{console.error("WebAudioPlayer load error:",n)}))}_play(){if(!this.paused)return;this.paused=!1,this.bufferNode&&(this.bufferNode.onended=null,this.bufferNode.disconnect()),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let t=this.playedDuration*this._playbackRate;(t>=this.duration||t<0)&&(t=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,t),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return Ol(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit("play"))}))}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){const n=t-this.currentTime,r=this.bufferNode;r?.stop(this.audioContext.currentTime+n),r?.addEventListener("ended",(()=>{r===this.bufferNode&&(this.bufferNode=null,this.pause())}),{once:!0})}setSinkId(t){return Ol(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(t)}))}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var t,n;return(t=this._duration)!==null&&t!==void 0?t:((n=this.buffer)===null||n===void 0?void 0:n.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}removeAttribute(t){switch(t){case"src":this.src="";break;case"playbackRate":this.playbackRate=0;break;case"currentTime":this.currentTime=0;break;case"duration":this.duration=0;break;case"volume":this.volume=0;break;case"muted":this.muted=!1}}}const YXt={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class YA extends VXt{static create(t){return new YA(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new Qz:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},YXt,t),this.timer=new GXt;const r=n?void 0:this.getMediaElement();this.renderer=new WXt(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const i=this.options.url||this.getSrc()||"";Promise.resolve().then((()=>{this.emit("init");const{peaks:o,duration:s}=this.options;(i||o&&s)&&this.load(i,o,s).catch((a=>{this.emit("error",a instanceof Error?a:new Error(String(a)))}))}))}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",(()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t),this.stopAtPosition!=null&&this.isPlaying()&&t>=this.stopAtPosition&&this.pause()}})))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",(()=>{const t=this.updateProgress();this.emit("timeupdate",t)})),this.onMediaEvent("play",(()=>{this.emit("play"),this.timer.start()})),this.onMediaEvent("pause",(()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("emptied",(()=>{this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("ended",(()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null})),this.onMediaEvent("seeking",(()=>{this.emit("seeking",this.getCurrentTime())})),this.onMediaEvent("error",(()=>{var t;this.emit("error",(t=this.getMediaElement().error)!==null&&t!==void 0?t:new Error("Media error")),this.stopAtPosition=null})))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",((t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))})),this.renderer.on("dblclick",((t,n)=>{this.emit("dblclick",t,n)})),this.renderer.on("scroll",((t,n,r,i)=>{const o=this.getDuration();this.emit("scroll",t*o,n*o,r,i)})),this.renderer.on("render",(()=>{this.emit("redraw")})),this.renderer.on("rendered",(()=>{this.emit("redrawcomplete")})),this.renderer.on("dragstart",(t=>{this.emit("dragstart",t)})),this.renderer.on("dragend",(t=>{this.emit("dragend",t)})),this.renderer.on("resize",(()=>{this.emit("resize")})));{let t;const n=this.renderer.on("drag",(r=>{var i;if(!this.options.interact)return;this.renderer.renderProgress(r),clearTimeout(t);let o=0;const s=this.options.dragToSeek;this.isPlaying()?o=0:s===!0?o=200:s&&typeof s=="object"&&(o=(i=s.debounceTime)!==null&&i!==void 0?i:200),t=setTimeout((()=>{this.seekTo(r)}),o),this.emit("interaction",r*this.getDuration()),this.emit("drag",r)}));this.subscriptions.push((()=>{clearTimeout(t),n()}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach((n=>{this.registerPlugin(n)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((t=>t())),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),t.duration&&!t.peaks&&(this.decodedData=EP.createBuffer(this.exportPeaks(),t.duration)),t.peaks&&t.duration&&(this.decodedData=EP.createBuffer(t.peaks,t.duration)),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){if(this.plugins.includes(t))return t;t._init(this),this.plugins.push(t);const n=t.once("destroy",(()=>{this.plugins=this.plugins.filter((r=>r!==t)),this.subscriptions=this.subscriptions.filter((r=>r!==n))}));return this.subscriptions.push(n),t}unregisterPlugin(t){this.plugins=this.plugins.filter((n=>n!==t)),t.destroy()}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return Ol(this,void 0,void 0,(function*(){var o;if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,(o=this.abortController)===null||o===void 0||o.abort(),this.abortController=null,!n&&!r){const a=this.options.fetchParams||{};window.AbortController&&!a.signal&&(this.abortController=new AbortController,a.signal=this.abortController.signal);const l=c=>this.emit("loading",c);n=yield UXt.fetchBlob(t,l,a);const u=this.options.blobMimeType;u&&(n=new Blob([n],{type:u}))}this.setSrc(t,n);const s=yield new Promise((a=>{const l=i||this.getDuration();l?a(l):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",(()=>a(this.getDuration())),{once:!0}))}));if(!t&&!n){const a=this.getMediaElement();a instanceof Qz&&(a.duration=s)}if(r)this.decodedData=EP.createBuffer(r,s||0);else if(n){const a=yield n.arrayBuffer();this.decodedData=yield EP.decode(a,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())}))}load(t,n,r){return Ol(this,void 0,void 0,(function*(){try{return yield this.loadAudio(t,void 0,n,r)}catch(i){throw this.emit("error",i),i}}))}loadBlob(t,n,r){return Ol(this,void 0,void 0,(function*(){try{return yield this.loadAudio("",t,n,r)}catch(i){throw this.emit("error",i),i}}))}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),o=[];for(let s=0;s<i;s++){const a=this.decodedData.getChannelData(s),l=[],u=a.length/n;for(let c=0;c<n;c++){const d=a.slice(Math.floor(c*u),Math.ceil((c+1)*u));let f=0;for(let h=0;h<d.length;h++){const m=d[h];Math.abs(m)>Math.abs(f)&&(f=m)}l.push(Math.round(f*r)/r)}o.push(l)}return o}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){this.stopAtPosition=null,super.setTime(t),this.updateProgress(t),this.emit("timeupdate",t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}play(t,n){const r=Object.create(null,{play:{get:()=>super.play}});return Ol(this,void 0,void 0,(function*(){t!=null&&this.setTime(t);const i=yield r.play.call(this);return n!=null&&(this.media instanceof Qz?this.media.stopAt(n):this.stopAtPosition=n),i}))}playPause(){return Ol(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return Ol(this,arguments,void 0,(function*(t="image/png",n=1,r="dataURL"){return this.renderer.exportImage(t,n,r)}))}destroy(){var t;this.emit("destroy"),(t=this.abortController)===null||t===void 0||t.abort(),this.plugins.forEach((n=>n.destroy())),this.subscriptions.forEach((n=>n())),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}YA.BasePlugin=class extends GR{constructor(e){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=e}onInit(){}_init(e){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((e=>e())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}},YA.dom=zXt;function KXt(e){return YA.create(e)}function XXt(e){const{plugin:t,options:n,creator:r="create"}=e,i=t[r];if(!t)throw new Error("Please pass a valid plugin in plugin list");if(!r)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof i!="function")throw new Error(`"${r}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return i(n)}const Ave=e=>e.reduce((t,n)=>(t[n[0]]=n[1],t),{}),QXt=(e,t)=>{const n=Object.entries(e),r=Object.entries(t),i=n.filter(([s])=>r.findIndex(([a])=>a===s)===-1),o=r.filter(([s])=>n.findIndex(([a])=>a===s)===-1);return{disabled:Ave(i),enabled:Ave(o)}};function kve(e,t){const n={},r=[...t];for(;r.length>=1;){const i=r.shift();!!e[i.key]?n[i.key]=e[i.key]:n[i.key]=XXt(i)}return n}function JXt({container:e,plugins:t=[],onMount:n,...r}){const i=k.useRef(!1),[o,s]=k.useState({}),a=k.useRef([]),[l,u]=k.useState(null);return k.useEffect(()=>{if(!e)return;const c=e;if(i.current)return;i.current=!0;const d=kve(o,t);a.current=Object.keys(d);const f=KXt({container:e,...r,plugins:Object.values(d)});return n?.(f),s(d),u(f),()=>{c!==e&&f.destroy()}},[e]),k.useEffect(()=>{if(l){const c=kve(o,t),{disabled:d,enabled:f}=QXt(o,c);Object.keys(d).forEach(h=>{d[h].destroy()}),Object.keys(f).forEach(h=>{a.current.includes(h)||(console.log("register plugin",h,f[h]),l?.registerPlugin(f[h]))}),a.current=Object.keys(f),s(c)}},[t]),[l,o,Object.values(o)]}function ZXt({children:e,plugins:t=[],onMount:n,...r}){const i=JXt({plugins:t,onMount:n,...r});return dn.createElement(BXt.Provider,{value:i},e)}const eQt=({id:e="waveform",children:t})=>dn.createElement("div",{id:e},t),CP=15,SP=3,Rve=["#4269d0","#ff725c","#6cc5b0","#3ca951","#ff8ab7","#a463f2","#97bbf5","#9c6b4e"];function tQt({xScale:e,height:t,currentNode:n,provenance:r,answer:i}){const o=k.useMemo(()=>{const s=new Map;if(s.set("Root","#efb118"),i.provenanceGraph){let a=0;Object.entries(i.provenanceGraph.stimulus?.nodes||{}).forEach(l=>{const[,u]=l;s.has(u.label)||(s.set(u.label,Rve[a]),a=(a+1)%Rve.length)})}return s},[i]);return x.jsxs("g",{style:{cursor:"pointer"},children:[r?Object.entries(r.nodes||{}).map(s=>{const[a,l]=s;return x.jsx("g",{children:x.jsx("rect",{fill:o.get(l.label)||"#9498a0",opacity:l.id===n?1:.7,x:e(l.createdOn)-SP/2,y:t/2-CP/2,width:SP,height:CP})},a)}):null,n&&r&&r.nodes[n]&&x.jsx("rect",{fill:o.get(r.nodes[n].label)||"#9498a0",x:e(r.nodes[n].createdOn)-SP/2,y:t/2-CP/2,width:SP,height:CP}),x.jsx(iK,{position:{bottom:10,left:10}})]})}const Ive={left:5};function nQt({xScale:e,answers:t,width:n,height:r,currentNode:i,trialName:o}){const s=k.useMemo(()=>Object.entries(t).filter(a=>o?o===a[0]:!0).map(a=>{const[l,u]=a;return Object.keys(u.provenanceGraph).map(d=>{const f=u.provenanceGraph[d];return f?x.jsx(tQt,{answer:t[o],height:r,currentNode:i,xScale:e,provenance:f},l+d):null})}),[i,r,t,o,e]);return x.jsxs("svg",{style:{width:n,height:r},children:[x.jsx("line",{stroke:"black",strokeWidth:1,x1:Ive.left,x2:n+Ive.left,y1:r/2,y2:r/2}),s]})}function pm(e){const t=k.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return k.useLayoutEffect(()=>{t.current=e}),k.useCallback((...n)=>t.current?.(...n),[])}function rQt({width:e,height:t,debounceUpdateTimer:n,directUpdateTimer:r,duration:i,isPlaying:o,xScale:s,startTime:a,initialTime:l,speed:u}){const c=k.useRef(0),d=k.useRef(Date.now()),[f,h]=k.useState(0);k.useEffect(()=>{if(a){const g=l;c.current=g-a,r(g,(g-a)/i),localStorage.setItem("currentTime",`${a+c.current}_${(c.current/i).toString()}_${c.current}`)}},[a,r,l,i]);const m=pm(()=>{if(c.current>=i)return;const g=Date.now();c.current+=(g-d.current)*u,d.current=g,n(a+c.current,void 0),h(f+1)});k.useEffect(()=>{o&&c.current>=i&&(r(a,0),d.current=Date.now()-c.current,c.current=0)},[a,o,i,r]),k.useEffect(()=>{let g=null;return o&&c.current<i&&(d.current=Date.now(),g=setInterval(()=>{o&&m()},30)),()=>{g&&clearInterval(g)}},[i,m,o]),k.useEffect(()=>{const g=y=>{y.key==="currentTime"&&y.newValue&&(c.current=+y.newValue.split("_")[2],d.current=Date.now(),r(+y.newValue.split("_")[0],+y.newValue.split("_")[1]),h(f+1))};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)},[r,f,s]);const p=k.useCallback(g=>{c.current=s.invert(g.clientX-10)-s.domain()[0],d.current=Date.now(),h(f+1),localStorage.setItem("currentTime",`${a+c.current}_${c.current/i}_${c.current}`),r(a+c.current,c.current/i)},[r,i,f,a,s]);return x.jsx("svg",{onClick:p,style:{width:e,height:t,position:"absolute",zIndex:1e4},children:x.jsx("line",{stroke:"#e15759",strokeWidth:3,y1:0,y2:t,x1:s(a+c.current),x2:s(a+c.current)})})}function TG(e){if(Number.isNaN(e))return;if(e<=0)return"0s";const t=Math.floor(e/1e3/60/60),n=Math.floor((e/1e3/60/60-t)*60),r=Math.floor(((e/1e3/60/60-t)*60-n)*60),i=r<10?`0${r}`:`${r}`,o=n<10?`0${n}`:`${n}`,s=t<10?`0${t}`:`${t}`;return`${t>0?`${s}:`:""}${`${o}`}:${i}`}function Jz(e,t,n,r,i,o){const s=k.useMemo(()=>{const a=zE.create(),l=Q$({registry:a,initialState:{}});return n&&l.importObject(structuredClone(n)),l},[n]);k.useEffect(()=>{if(!o)return;if(!n){r&&(i(null,e),o({prov:null,location:e}));return}if(!r||!n.nodes[r]){i(n.root,e),o({prov:s.getState(n.nodes[n.root]),location:e});return}let a=n.nodes[r];for(;;)if(t<a.createdOn){if($Ae(a))break;{const l=a.parent;a=n.nodes[l]}}else if(a.children.length>0){const l=a.children[0];if(t>n.nodes[l].createdOn)a=n.nodes[l];else break}else break;a.id!==r&&(i(a.id,e),o({prov:s.getState(a),location:e}))},[r,t,n,e,i,s,o])}const Zz={left:0,right:0};function Dve(e){return e.catch(()=>null)}function iQt({setTimeString:e,answers:t,setTime:n,taskName:r,context:i,saveProvenance:o,analysisIsPlaying:s,setAnalysisIsPlaying:a,speed:l,jumpedToAudioTime:u,setHasAudio:c,setSpeed:d,isMuted:f,onProvenanceTimelineChange:h}){const[m,p]=kc(),g=k.useMemo(()=>m.get("participantId")||"",[m]),y=k.useMemo(()=>m.get("t")||"",[m]),v=k.useMemo(()=>{if(!y)return;if(!Number.isNaN(Number(y)))return parseInt(y,10);const ce=parseInt(y.match(/(\d+)h/)?.[1]||"0",10),ne=parseInt(y.match(/(\d+)m/)?.[1]||"0",10),ee=parseInt(y.match(/(\d+)s/)?.[1]||"0",10);return(ce*3600+ne*60+ee)*1e3},[y]),{storageEngine:w}=Mi(),[E,C]=k.useState(!0),S=k.useCallback(ce=>{C(ce),c(ce)},[c]),[T,{width:A}]=R1(),[D,I]=k.useState(0),P=k.useMemo(()=>t[r]?.startTime||0,[t,r]),[N,$]=k.useState(null),[O,j]=k.useState({aboveStimulus:void 0,belowStimulus:void 0,sidebar:void 0,stimulus:void 0}),[B,H]=k.useState(null),[q,Y]=k.useState(0),[V,L]=k.useState(0),U=k.useRef(null),z=k.useRef(0),G=k.useRef(null),Q=pl(),[te,de]=k.useState(!0),se=k.useRef(null),ae=pm((ce,ne)=>{const ee=t[r]?.provenanceGraph[ne];ee&&ce&&(!B||ee.nodes[ce].createdOn>B.time||V<B.time)&&H({name:ce||"",time:ee.nodes[ce].createdOn}),j({...O,[ne]:ce})}),he=vUe((ce,ne)=>{const ee=q*1e3+P;if(ce>ee){a(!1),L(ce);return}L(ce),U.current&&ne!==void 0&&!Number.isNaN(ne)&&setTimeout(()=>{U.current?.seekTo(ne)}),n&&n(ce)},100),ie=k.useCallback((ce,ne)=>{const ee=q*1e3+P;if(ce>ee){a(!1),L(ce);return}L(ce),h&&h(ce-P),U.current&&ne!==void 0&&!Number.isNaN(ne)&&setTimeout(()=>{U.current?.seekTo(ne)}),n&&n(ce)},[a,n,P,q,h]);k.useEffect(()=>{he(P+u*1e3+1,void 0)},[he,u,P,q]),k.useEffect(()=>{r&&(localStorage.setItem("currentTrial",r),t[r]?.trialOrder&&localStorage.setItem("trialOrder",t[r].trialOrder))},[t,r]),k.useEffect(()=>{const ce=ne=>{ne.newValue&&(ne.key==="participantId"&&p(ee=>(ee.set("participantId",ne.newValue||""),ee)),ne.key==="currentTrial"&&p(ee=>(ee.set("currentTrial",ne.newValue||""),ee)),ne.key==="currentSpeed"&&d(+ne.newValue),ne.key==="analysisIsPlaying"&&a(ne.newValue==="true"),ne.key==="trialOrder"&&i==="provenanceVis"&&Q(r?`./../${ko(+ne.newValue)}?participantId=${g}&currentTrial=${r}`:`./${ne.newValue}?participantId=${g}&currentTrial=${r}`))};return window.addEventListener("storage",ce),()=>window.removeEventListener("storage",ce)},[he,i,Q,g,a,p,d,ie,r]),Jz("aboveStimulus",V,t[r]?.provenanceGraph.aboveStimulus,O.aboveStimulus,ae,o),Jz("belowStimulus",V,t[r]?.provenanceGraph.belowStimulus,O.belowStimulus,ae,o),Jz("sidebar",V,t[r]?.provenanceGraph.sidebar,O.sidebar,ae,o),k.useEffect(()=>{if(r&&t[r]?.provenanceGraph){const ce=zE.create(),ne=Q$({registry:ce,initialState:{}});t[r]?.provenanceGraph.stimulus&&(ne.importObject(structuredClone(t[r]?.provenanceGraph.stimulus)),se.current=ne)}},[t,r]);const le=k.useCallback(ce=>{ce&&(r&&se.current&&i==="provenanceVis"&&o&&(o({prov:se.current.getState(t[r]?.provenanceGraph.stimulus?.nodes[ce]),location:"stimulus"}),se.current.to(ce)),ae(ce,"stimulus"),$(ce))},[r,i,ae,o,t]);k.useEffect(()=>{if(!r||!se.current||!t[r]?.provenanceGraph)return;const ce=t[r]?.provenanceGraph;if(!ce.stimulus)return;if(!N||!ce.stimulus.nodes[N]){le(ce.stimulus.root);return}let ne=ce.stimulus.nodes[N];for(;;)if(V<ne.createdOn){if($Ae(ne))break;{const ee=ne.parent;ne=ce.stimulus.nodes[ee]}}else if(ne.children.length>0){const ee=ne.children[0];if(V>ce.stimulus.nodes[ee].createdOn)ne=ce.stimulus.nodes[ee];else break}else break;ne.id!==N&&le(ne.id)},[le,N,g,V,r,t]),k.useEffect(()=>{P&&(L(P+(v||0)),z.current=v||0)},[P,v]),k.useEffect(()=>{q===0?e(""):V!==0&&e(`${TG(V-P)}/${TG(q*1e3)}`)},[r,V,e,P,q]),k.useEffect(()=>{const ce=t[r]?.endTime-t[r]?.startTime;Y(ce>-1?ce/1e3:0)},[E,t,r]);const Ce=Eg(),X=pm(async ce=>{if(U.current=ce,!r.includes("__dynamicLoading"))if(ce&&Ce&&r&&w)try{if(!g)throw new Error("Participant ID is required to load audio");const[ne,ee]=await Promise.all([Dve(w.getAudio(r,g)),Dve(w.getScreenRecording(r,g))]);U.current?.setMuted(!!ee);const pe=ee??ne??null;pe||(S(!1),de(!1),U.current?.empty()),await ce.load(pe,void 0,q),de(!1),I(ce.getWidth()),S(!0),ce.setPlaybackRate(l),ce.seekTo(0),ce.on("redrawcomplete",()=>I(ce.getWidth()))}catch(ne){throw S(!1),de(!1),new Error(ne)}else S(!1),de(!1),Y(0)});k.useEffect(()=>{U.current&&(s?U.current.play():U.current.pause())},[U,s,q,P,L]),k.useEffect(()=>{U.current?.setPlaybackRate(l)},[l]),k.useEffect(()=>{U.current?.setMuted(f)},[f]);const fe=k.useMemo(()=>{if(!t[r]?.startTime||!t[r]?.endTime)return null;const ce=q>0?t[r]?.startTime+q*1e3:t[r]?.endTime;return Zb([Zz.left,A+Zz.left+Zz.right]).domain([t[r]?.startTime,ce]).clamp(!0)},[t,r,q,A]);return k.useEffect(()=>{de(!0),X(U.current)},[he,X,g,U,r]),x.jsx(Gn,{wrap:"nowrap",gap:10,mx:10,children:x.jsxs(or,{ref:T,style:{width:"100%"},gap:0,children:[x.jsx(ql,{visible:te,overlayProps:{blur:5,backgroundOpacity:.35}}),g!==void 0&&r?x.jsx(Ie,{ref:G,style:{overflow:"hidden",width:"100%",pointerEvents:"none"},display:E?"block":"none",id:"waveformDiv",children:x.jsx(ZXt,{backend:"MediaElement",onMount:X,plugins:[],container:"#waveformDiv",height:50,waveColor:"#484848",progressColor:"cornflowerblue",barHeight:0,cursorColor:"rgba(0, 0, 0, 0)",children:x.jsx(eQt,{id:"waveform",height:50})})}):null,fe&&r&&t[r]?.provenanceGraph?x.jsx(nQt,{xScale:fe,trialName:r,currentNode:B?.name||"",answers:t,width:D||A,height:25}):null,fe?x.jsx(rQt,{duration:q*1e3,initialTime:u?P+u*1e3+1:v?P+v:P,height:(E?50:0)+25,isPlaying:s,speed:l,startTime:P,width:A,xScale:fe,debounceUpdateTimer:he,directUpdateTimer:ie}):null]})})}const Pve={top:5};function oQt({transcriptLines:e,xScale:t,startTime:n,currentShownTranscription:r}){const i=k.useMemo(()=>e.map(o=>x.jsxs("g",{children:[x.jsx("line",{stroke:r>=o.lineStart&&r<=o.lineEnd?"cornflowerblue":"lightgray",strokeWidth:5,y1:Pve.top,y2:Pve.top,x1:t(n+o.start*1e3)+2,x2:t(n+o.end*1e3)-2}),o.tags.map((s,a)=>x.jsx("g",{children:s.map((l,u)=>{const c=t(n+o.start*1e3),d=t(n+o.end*1e3);return l?x.jsx("foreignObject",{x:c+(d-c)/o.tags.length*(a+.5)-6+(-(s.length-1)*15/2+u*15),y:15,height:"20px",width:"20px",children:x.jsx(yt,{label:l.name,withArrow:!0,arrowSize:6,children:x.jsx(Vm,{size:12,color:l.color})})},l.name):null})},a))]},o.start)),[r,n,e,t]);return x.jsx("svg",{style:{width:"100%",height:"30px"},children:i})}function sQt({selectedTags:e,removeFunc:t}){return e.map(n=>{if(!n||!n.id)return null;const r=yA(n.color).l;return x.jsx(yt,{label:n.name,withinPortal:!0,children:x.jsx(Vb,{style:{width:"80px"},withRemoveButton:!!t,styles:{root:{backgroundColor:n.color,color:r>.7?"black":"white"}},onRemove:()=>t?t(n.id):null,children:n.name})},n.id)})}const ga=[];for(let e=0;e<256;++e)ga.push((e+256).toString(16).slice(1));function aQt(e,t=0){return(ga[e[t+0]]+ga[e[t+1]]+ga[e[t+2]]+ga[e[t+3]]+"-"+ga[e[t+4]]+ga[e[t+5]]+"-"+ga[e[t+6]]+ga[e[t+7]]+"-"+ga[e[t+8]]+ga[e[t+9]]+"-"+ga[e[t+10]]+ga[e[t+11]]+ga[e[t+12]]+ga[e[t+13]]+ga[e[t+14]]+ga[e[t+15]]).toLowerCase()}let eU;const lQt=new Uint8Array(16);function uQt(){if(!eU){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");eU=crypto.getRandomValues.bind(crypto)}return eU(lQt)}const cQt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ove={randomUUID:cQt};function IFe(e,t,n){if(Ove.randomUUID&&!e)return Ove.randomUUID();e=e||{};const r=e.random??e.rng?.()??uQt();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,aQt(r)}function AG({addTagCallback:e,currentNames:t,editTag:n=!1,editableTag:r}){const[i,o]=k.useState(n?r.name:""),[s,a]=k.useState(n?r.color:"#fd7e14"),l=k.useCallback(()=>{const u=IFe();e({color:s,name:i,id:n&&r?r.id:u})},[e,s,n,r,i]);return x.jsxs(or,{gap:"xs",children:[x.jsxs(Gn,{children:[x.jsx(Vm,{color:s}),x.jsx($l,{required:!0,placeholder:"Enter tag name",value:i,onChange:u=>o(u.currentTarget.value),error:t.includes(i)&&(!n||r.name!==i)?"Tag with this name already exists":null})]}),x.jsx(s$,{withPicker:n,style:{width:"100%"},value:s,onChange:u=>a(u),swatches:["#2e2e2e","#868e96","#fa5252","#e64980","#be4bdb","#7950f2","#4c6ef5","#228be6","#15aabf","#12b886","#40c057","#82c91e","#fab005","#fd7e14"]}),x.jsx(Ut,{disabled:n&&s===r.color&&(i.length===0||t.includes(i)),size:"compact-sm",onClick:()=>l(),children:n?"Edit Tag":"Add Tag"})]})}function dQt({createTagCallback:e,tags:t}){const[n,r]=k.useState(!1);return x.jsxs(Or,{trapFocus:!0,withinPortal:!1,children:[x.jsx(or,{justify:"center",children:x.jsx(Or.Target,{children:x.jsx(Ut,{style:{width:"100%"},variant:"light",onClick:()=>r(!n),children:"Create new tag"})})}),t?x.jsx(Or.Dropdown,{children:x.jsx(AG,{currentNames:t.map(i=>i.name),addTagCallback:i=>{r(!1),e(i)}})}):x.jsx(Uf,{})]})}function kG({tags:e,selectedTags:t,onSelectTags:n,disabled:r=!1,tagsEmptyText:i,createTagCallback:o,editTagCallback:s,width:a}){const l=yk(),u=k.useCallback(m=>n(t.filter(p=>p!==void 0&&p.id!==m)),[n,t]),c=k.useCallback(m=>{if(t.find(p=>p.id===m)){u(m);return}n([...t,[...e].find(p=>p.id===m)])},[u,n,t,e]),d=x.jsx(sQt,{selectedTags:t,removeFunc:u}),f=k.useMemo(()=>e.filter(m=>m!==void 0&&t.find(p=>p&&p.id===m.id)).map(m=>x.jsx(qn.Option,{value:m.id,active:!0,children:x.jsxs(Gn,{justify:"space-between",gap:"sm",style:{width:"100%"},wrap:"nowrap",children:[x.jsx(yt,{label:m.name,withArrow:!0,openDelay:600,children:x.jsxs(Gn,{wrap:"nowrap",children:[x.jsx(SK,{size:12}),x.jsx(Vm,{size:10,color:m.color}),x.jsx(Ve,{style:{width:a-120},truncate:"end",children:m.name})]})}),x.jsx(Ie,{onClick:p=>{p.preventDefault(),p.stopPropagation()},children:x.jsxs(Or,{trapFocus:!0,withinPortal:!1,children:[x.jsx(Or.Target,{children:x.jsx(Cn,{variant:"light",size:"sm",children:x.jsx(ZN,{})})}),x.jsx(Or.Dropdown,{children:x.jsx(AG,{editTag:!0,currentNames:e.map(p=>p.id),addTagCallback:p=>{s(m,p)},editableTag:m})})]})})]})},m.id)),[s,t,e,a]),h=k.useMemo(()=>e.filter(m=>m!==void 0&&!t.find(p=>p&&p.id===m.id)).map(m=>x.jsx(qn.Option,{value:m.id,children:x.jsxs(Gn,{justify:"space-between",gap:"sm",style:{width:"100%"},wrap:"nowrap",children:[x.jsx(yt,{label:m.name,withArrow:!0,openDelay:600,children:x.jsxs(Gn,{wrap:"nowrap",children:[x.jsx(Vm,{size:10,color:m.color}),x.jsx(Ve,{style:{width:a-100},truncate:"end",children:m.name})]})}),x.jsx(Ie,{onClick:p=>{p.preventDefault(),p.stopPropagation()},children:x.jsxs(Or,{trapFocus:!0,withinPortal:!1,children:[x.jsx(Or.Target,{children:x.jsx(Cn,{variant:"light",size:"sm",onClick:p=>{p.stopPropagation(),p.preventDefault()},children:x.jsx(ZN,{})})}),x.jsx(Or.Dropdown,{children:x.jsx(AG,{editTag:!0,currentNames:e.map(p=>p.id),addTagCallback:p=>{s(m,p)},editableTag:m})})]})})]})},m.id)),[s,t,e,a]);return x.jsxs(qn,{disabled:r,width:a,store:l,onOptionSubmit:c,withinPortal:!0,children:[x.jsx(qn.DropdownTarget,{children:x.jsx(E_,{style:{width:a},pointer:!0,onClick:()=>l.toggleDropdown(),children:x.jsxs(Vb.Group,{children:[t.length>0?d:x.jsx(Hr.Placeholder,{children:i}),x.jsx(qn.EventsTarget,{children:x.jsx(E_.Field,{type:"hidden"})})]})})}),x.jsx(qn.Dropdown,{children:x.jsxs(qn.Options,{children:[h.length===0&&f.length===0?x.jsx(qn.Empty,{children:"No additional tags"}):[...f,...h],x.jsx(dQt,{createTagCallback:o,tags:e||[]})]})})]})}var tU={exports:{}};var Nve;function fQt(){return Nve||(Nve=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,o){function s(u,c){if(!i[u]){if(!r[u]){var d=typeof gm=="function"&&gm;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(m){var p=r[u][1][m];return s(p||m)},h,h.exports,n,r,i,o)}return i[u].exports}for(var a=typeof gm=="function"&&gm,l=0;l<o.length;l++)s(o[l]);return s})({1:[function(n,r,i){var o=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,d,f,h,m,p,g=[],y=0,v=l.length,w=v,E=o.getTypeOf(l)!=="string";y<l.length;)w=v-y,d=E?(u=l[y++],c=y<v?l[y++]:0,y<v?l[y++]:0):(u=l.charCodeAt(y++),c=y<v?l.charCodeAt(y++):0,y<v?l.charCodeAt(y++):0),f=u>>2,h=(3&u)<<4|c>>4,m=1<w?(15&c)<<2|d>>6:64,p=2<w?63&d:64,g.push(a.charAt(f)+a.charAt(h)+a.charAt(m)+a.charAt(p));return g.join("")},i.decode=function(l){var u,c,d,f,h,m,p=0,g=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var v,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&w--,l.charAt(l.length-2)===a.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=s.uint8array?new Uint8Array(0|w):new Array(0|w);p<l.length;)u=a.indexOf(l.charAt(p++))<<2|(f=a.indexOf(l.charAt(p++)))>>4,c=(15&f)<<4|(h=a.indexOf(l.charAt(p++)))>>2,d=(3&h)<<6|(m=a.indexOf(l.charAt(p++))),v[g++]=u,h!==64&&(v[g++]=c),m!==64&&(v[g++]=d);return v}},{"./support":30,"./utils":32}],2:[function(n,r,i){var o=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,d,f,h,m){this.compressedSize=c,this.uncompressedSize=d,this.crc32=f,this.compression=h,this.compressedContent=m}u.prototype={getContentWorker:function(){var c=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return c.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,d,f){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var o=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var o=n("./utils"),s=(function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l})();r.exports=function(a,l){return a!==void 0&&a.length?o.getTypeOf(a)!=="string"?(function(u,c,d,f){var h=s,m=f+d;u^=-1;for(var p=f;p<m;p++)u=u>>>8^h[255&(u^c[p])];return-1^u})(0|l,a,a.length,0):(function(u,c,d,f){var h=s,m=f+d;u^=-1;for(var p=f;p<m;p++)u=u>>>8^h[255&(u^c.charCodeAt(p))];return-1^u})(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var o=null;o=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:o}},{lie:37}],7:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=o?"uint8array":"array";function c(d,f){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=f,this.meta={}}i.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,d.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(f){d.push({data:f,meta:d.meta})}},i.compressWorker=function(d){return new c("Deflate",d)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function o(h,m){var p,g="";for(p=0;p<m;p++)g+=String.fromCharCode(255&h),h>>>=8;return g}function s(h,m,p,g,y,v){var w,E,C=h.file,S=h.compression,T=v!==u.utf8encode,A=a.transformTo("string",v(C.name)),D=a.transformTo("string",u.utf8encode(C.name)),I=C.comment,P=a.transformTo("string",v(I)),N=a.transformTo("string",u.utf8encode(I)),$=D.length!==C.name.length,O=N.length!==I.length,j="",B="",H="",q=C.dir,Y=C.date,V={crc32:0,compressedSize:0,uncompressedSize:0};m&&!p||(V.crc32=h.crc32,V.compressedSize=h.compressedSize,V.uncompressedSize=h.uncompressedSize);var L=0;m&&(L|=8),T||!$&&!O||(L|=2048);var U=0,z=0;q&&(U|=16),y==="UNIX"?(z=798,U|=(function(Q,te){var de=Q;return Q||(de=te?16893:33204),(65535&de)<<16})(C.unixPermissions,q)):(z=20,U|=(function(Q){return 63&(Q||0)})(C.dosPermissions)),w=Y.getUTCHours(),w<<=6,w|=Y.getUTCMinutes(),w<<=5,w|=Y.getUTCSeconds()/2,E=Y.getUTCFullYear()-1980,E<<=4,E|=Y.getUTCMonth()+1,E<<=5,E|=Y.getUTCDate(),$&&(B=o(1,1)+o(c(A),4)+D,j+="up"+o(B.length,2)+B),O&&(H=o(1,1)+o(c(P),4)+N,j+="uc"+o(H.length,2)+H);var G="";return G+=`
\0`,G+=o(L,2),G+=S.magic,G+=o(w,2),G+=o(E,2),G+=o(V.crc32,4),G+=o(V.compressedSize,4),G+=o(V.uncompressedSize,4),G+=o(A.length,2),G+=o(j.length,2),{fileRecord:d.LOCAL_FILE_HEADER+G+A+j,dirRecord:d.CENTRAL_FILE_HEADER+o(z,2)+G+o(P.length,2)+"\0\0\0\0"+o(U,4)+o(g,4)+A+j+P}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),d=n("../signature");function f(h,m,p,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=p,this.encodeFileName=g,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(h){var m=h.meta.percent||0,p=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:p?(m+100*(p-g-1))/p:100}}))},f.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var m=this.streamFiles&&!h.file.dir;if(m){var p=s(h,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(h){this.accumulate=!1;var m=this.streamFiles&&!h.file.dir,p=s(h,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),m)this.push({data:(function(g){return d.DATA_DESCRIPTOR+o(g.crc32,4)+o(g.compressedSize,4)+o(g.uncompressedSize,4)})(h),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var h=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var p=this.bytesWritten-h,g=(function(y,v,w,E,C){var S=a.transformTo("string",C(E));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(y,2)+o(y,2)+o(v,4)+o(w,4)+o(S.length,2)+S})(this.dirRecords.length,p,h,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(h){this._sources.push(h);var m=this;return h.on("data",function(p){m.processChunk(p)}),h.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),h.on("error",function(p){m.error(p)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(h){var m=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var p=0;p<m.length;p++)try{m[p].error(h)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,m=0;m<h.length;m++)h[m].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var o=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(a,l,u){var c=new s(l.streamFiles,u,l.platform,l.encodeFileName),d=0;try{a.forEach(function(f,h){d++;var m=(function(v,w){var E=v||w,C=o[E];if(!C)throw new Error(E+" is not a valid compression method !");return C})(h.options.compression,l.compression),p=h.options.compressionOptions||l.compressionOptions||{},g=h.dir,y=h.date;h._compressWorker(m,p).withStreamInfo("file",{name:f,dir:g,date:y,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(c)}),c.entriesCount=d}catch(f){c.error(f)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(s,a){return new o().loadAsync(s,a)},o.external=n("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var o=n("./utils"),s=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function d(f){return new s.Promise(function(h,m){var p=f.decompressed.getContentWorker().pipe(new u);p.on("error",function(g){m(g)}).on("end",function(){p.streamInfo.crc32!==f.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(f,h){var m=this;return h=o.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(f)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",f,!0,h.optimizedBinaryString,h.base64).then(function(p){var g=new l(h);return g.load(p),g}).then(function(p){var g=[s.Promise.resolve(p)],y=p.files;if(h.checkCRC32)for(var v=0;v<y.length;v++)g.push(d(y[v]));return s.Promise.all(g)}).then(function(p){for(var g=p.shift(),y=g.files,v=0;v<y.length;v++){var w=y[v],E=w.fileNameStr,C=o.resolve(w.fileNameStr);m.file(C,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:h.createFolders}),w.dir||(m.file(C).unsafeOriginalName=E)}return g.zipComment.length&&(m.comment=g.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var o=n("../utils"),s=n("../stream/GenericWorker");function a(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}o.inherits(a,s),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var o=n("readable-stream").Readable;function s(a,l,u){o.call(this,l),this._helper=a;var c=this;a.on("data",function(d,f){c.push(d)||c._helper.pause(),u&&u(f)}).on("error",function(d){c.emit("error",d)}).on("end",function(){c.push(null)})}n("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,r,i){function o(C,S,T){var A,D=a.getTypeOf(S),I=a.extend(T||{},c);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(C=y(C)),I.createFolders&&(A=g(C))&&v.call(this,A,!0);var P=D==="string"&&I.binary===!1&&I.base64===!1;T&&T.binary!==void 0||(I.binary=!P),(S instanceof d&&S.uncompressedSize===0||I.dir||!S||S.length===0)&&(I.base64=!1,I.binary=!0,S="",I.compression="STORE",D="string");var N=null;N=S instanceof d||S instanceof l?S:m.isNode&&m.isStream(S)?new p(C,S):a.prepareContent(C,S,I.binary,I.optimizedBinaryString,I.base64);var $=new f(C,N,I);this.files[C]=$}var s=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),d=n("./compressedObject"),f=n("./zipObject"),h=n("./generate"),m=n("./nodejsUtils"),p=n("./nodejs/NodejsStreamInputAdapter"),g=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var S=C.lastIndexOf("/");return 0<S?C.substring(0,S):""},y=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},v=function(C,S){return S=S!==void 0?S:c.createFolders,C=y(C),this.files[C]||o.call(this,C,null,{dir:!0,createFolders:S}),this.files[C]};function w(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var S,T,A;for(S in this.files)A=this.files[S],(T=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&C(T,A)},filter:function(C){var S=[];return this.forEach(function(T,A){C(T,A)&&S.push(A)}),S},file:function(C,S,T){if(arguments.length!==1)return C=this.root+C,o.call(this,C,S,T),this;if(w(C)){var A=C;return this.filter(function(I,P){return!P.dir&&A.test(I)})}var D=this.files[this.root+C];return D&&!D.dir?D:null},folder:function(C){if(!C)return this;if(w(C))return this.filter(function(D,I){return I.dir&&C.test(D)});var S=this.root+C,T=v.call(this,S),A=this.clone();return A.root=T.name,A},remove:function(C){C=this.root+C;var S=this.files[C];if(S||(C.slice(-1)!=="/"&&(C+="/"),S=this.files[C]),S&&!S.dir)delete this.files[C];else for(var T=this.filter(function(D,I){return I.name.slice(0,C.length)===C}),A=0;A<T.length;A++)delete this.files[T[A].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var S,T={};try{if((T=a.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");a.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var A=T.comment||this.comment||"";S=h.generateWorker(this,T,A)}catch(D){(S=new l("error")).error(D)}return new u(S,T.type||"string",T.mimeType)},generateAsync:function(C,S){return this.generateInternalStream(C).accumulate(S)},generateNodeStream:function(C,S){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(S)}};r.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===u&&this.data[f+2]===c&&this.data[f+3]===d)return f-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&u===f[1]&&c===f[2]&&d===f[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var o=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return o.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var o=n("./Uint8ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var o=n("./ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var o=n("../utils"),s=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(d){var f=o.getTypeOf(d);return o.checkSupport(f),f!=="string"||s.uint8array?f==="nodebuffer"?new u(d):s.uint8array?new c(o.transformTo("uint8array",d)):new a(o.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var o=n("./GenericWorker"),s=n("../utils");function a(l){o.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,o),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var o=n("./GenericWorker"),s=n("../crc32");function a(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,o),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(a,s),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=o.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}o.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=o},{}],29:[function(n,r,i){var o=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),d=null;if(u.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(m,p){return new c.Promise(function(g,y){var v=[],w=m._internalType,E=m._outputType,C=m._mimeType;m.on("data",function(S,T){v.push(S),p&&p(T)}).on("error",function(S){v=[],y(S)}).on("end",function(){try{var S=(function(T,A,D){switch(T){case"blob":return o.newBlob(o.transformTo("arraybuffer",A),D);case"base64":return l.encode(A);default:return o.transformTo(T,A)}})(E,(function(T,A){var D,I=0,P=null,N=0;for(D=0;D<A.length;D++)N+=A[D].length;switch(T){case"string":return A.join("");case"array":return Array.prototype.concat.apply([],A);case"uint8array":for(P=new Uint8Array(N),D=0;D<A.length;D++)P.set(A[D],I),I+=A[D].length;return P;case"nodebuffer":return Buffer.concat(A);default:throw new Error("concat : unsupported type '"+T+"'")}})(w,v),C);g(S)}catch(T){y(T)}v=[]}).resume()})}function h(m,p,g){var y=p;switch(p){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=p,this._mimeType=g,o.checkSupport(y),this._worker=m.pipe(new s(y)),m.lock()}catch(v){this._worker=new a("error"),this._worker.error(v)}}h.prototype={accumulate:function(m){return f(this,m)},on:function(m,p){var g=this;return m==="data"?this._worker.on(m,function(y){p.call(g,y.data,y.meta)}):this._worker.on(m,function(){o.delay(p,arguments,g)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},m)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var o=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return s.nodebuffer?a.newBufferFrom(h,"utf-8"):(function(m){var p,g,y,v,w,E=m.length,C=0;for(v=0;v<E;v++)(64512&(g=m.charCodeAt(v)))==55296&&v+1<E&&(64512&(y=m.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),v++),C+=g<128?1:g<2048?2:g<65536?3:4;for(p=s.uint8array?new Uint8Array(C):new Array(C),v=w=0;w<C;v++)(64512&(g=m.charCodeAt(v)))==55296&&v+1<E&&(64512&(y=m.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),v++),g<128?p[w++]=g:(g<2048?p[w++]=192|g>>>6:(g<65536?p[w++]=224|g>>>12:(p[w++]=240|g>>>18,p[w++]=128|g>>>12&63),p[w++]=128|g>>>6&63),p[w++]=128|63&g);return p})(h)},i.utf8decode=function(h){return s.nodebuffer?o.transformTo("nodebuffer",h).toString("utf-8"):(function(m){var p,g,y,v,w=m.length,E=new Array(2*w);for(p=g=0;p<w;)if((y=m[p++])<128)E[g++]=y;else if(4<(v=u[y]))E[g++]=65533,p+=v-1;else{for(y&=v===2?31:v===3?15:7;1<v&&p<w;)y=y<<6|63&m[p++],v--;1<v?E[g++]=65533:y<65536?E[g++]=y:(y-=65536,E[g++]=55296|y>>10&1023,E[g++]=56320|1023&y)}return E.length!==g&&(E.subarray?E=E.subarray(0,g):E.length=g),o.applyFromCharCode(E)})(h=o.transformTo(s.uint8array?"uint8array":"array",h))},o.inherits(d,l),d.prototype.processChunk=function(h){var m=o.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var p=m;(m=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),m.set(p,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var g=(function(v,w){var E;for((w=w||v.length)>v.length&&(w=v.length),E=w-1;0<=E&&(192&v[E])==128;)E--;return E<0||E===0?w:E+u[v[E]]>w?E:w})(m),y=m;g!==m.length&&(s.uint8array?(y=m.subarray(0,g),this.leftOver=m.subarray(g,m.length)):(y=m.slice(0,g),this.leftOver=m.slice(g,m.length))),this.push({data:i.utf8decode(y),meta:h.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,o.inherits(f,l),f.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var o=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(p){return p}function c(p,g){for(var y=0;y<p.length;++y)g[y]=255&p.charCodeAt(y);return g}n("setimmediate"),i.newBlob=function(p,g){i.checkSupport("blob");try{return new Blob([p],{type:g})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(p),y.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(p,g,y){var v=[],w=0,E=p.length;if(E<=y)return String.fromCharCode.apply(null,p);for(;w<E;)g==="array"||g==="nodebuffer"?v.push(String.fromCharCode.apply(null,p.slice(w,Math.min(w+y,E)))):v.push(String.fromCharCode.apply(null,p.subarray(w,Math.min(w+y,E)))),w+=y;return v.join("")},stringifyByChar:function(p){for(var g="",y=0;y<p.length;y++)g+=String.fromCharCode(p[y]);return g},applyCanBeUsed:{uint8array:(function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}})()}};function f(p){var g=65536,y=i.getTypeOf(p),v=!0;if(y==="uint8array"?v=d.applyCanBeUsed.uint8array:y==="nodebuffer"&&(v=d.applyCanBeUsed.nodebuffer),v)for(;1<g;)try{return d.stringifyByChunk(p,y,g)}catch{g=Math.floor(g/2)}return d.stringifyByChar(p)}function h(p,g){for(var y=0;y<p.length;y++)g[y]=p[y];return g}i.applyFromCharCode=f;var m={};m.string={string:u,array:function(p){return c(p,new Array(p.length))},arraybuffer:function(p){return m.string.uint8array(p).buffer},uint8array:function(p){return c(p,new Uint8Array(p.length))},nodebuffer:function(p){return c(p,a.allocBuffer(p.length))}},m.array={string:f,array:u,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(p)}},m.arraybuffer={string:function(p){return f(new Uint8Array(p))},array:function(p){return h(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:u,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(new Uint8Array(p))}},m.uint8array={string:f,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:u,nodebuffer:function(p){return a.newBufferFrom(p)}},m.nodebuffer={string:f,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return m.nodebuffer.uint8array(p).buffer},uint8array:function(p){return h(p,new Uint8Array(p.length))},nodebuffer:u},i.transformTo=function(p,g){if(g=g||"",!p)return g;i.checkSupport(p);var y=i.getTypeOf(g);return m[y][p](g)},i.resolve=function(p){for(var g=p.split("/"),y=[],v=0;v<g.length;v++){var w=g[v];w==="."||w===""&&v!==0&&v!==g.length-1||(w===".."?y.pop():y.push(w))}return y.join("/")},i.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":o.nodebuffer&&a.isBuffer(p)?"nodebuffer":o.uint8array&&p instanceof Uint8Array?"uint8array":o.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(p){if(!o[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(p){var g,y,v="";for(y=0;y<(p||"").length;y++)v+="\\x"+((g=p.charCodeAt(y))<16?"0":"")+g.toString(16).toUpperCase();return v},i.delay=function(p,g,y){setImmediate(function(){p.apply(y||null,g||[])})},i.inherits=function(p,g){function y(){}y.prototype=g.prototype,p.prototype=new y},i.extend=function(){var p,g,y={};for(p=0;p<arguments.length;p++)for(g in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],g)&&y[g]===void 0&&(y[g]=arguments[p][g]);return y},i.prepareContent=function(p,g,y,v,w){return l.Promise.resolve(g).then(function(E){return o.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new l.Promise(function(C,S){var T=new FileReader;T.onload=function(A){C(A.target.result)},T.onerror=function(A){S(A.target.error)},T.readAsArrayBuffer(E)}):E}).then(function(E){var C=i.getTypeOf(E);return C?(C==="arraybuffer"?E=i.transformTo("uint8array",E):C==="string"&&(w?E=s.decode(E):y&&v!==!0&&(E=(function(S){return c(S,o.uint8array?new Uint8Array(S.length):new Array(S.length))})(E))),E):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(d){this.files=[],this.loadOptions=d}c.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(f)+", expected "+s.pretty(d)+")")}},isSignature:function(d,f){var h=this.reader.index;this.reader.setIndex(d);var m=this.reader.readString(4)===f;return this.reader.setIndex(h),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),f=u.uint8array?"uint8array":"array",h=s.transformTo(f,d);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,f,h,m=this.zip64EndOfCentralSize-44;0<m;)d=this.reader.readInt(2),f=this.reader.readInt(4),h=this.reader.readData(f),this.zip64ExtensibleData[d]={id:d,length:f,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,f;for(d=0;d<this.files.length;d++)f=this.files[d],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var f=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var m=f-h;if(0<m)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(d){this.reader=o(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),d=n("./support");function f(h,m){this.options=h,this.loadOptions=m}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var m,p;if(h.skip(22),this.fileNameLength=h.readInt(2),p=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=(function(g){for(var y in c)if(Object.prototype.hasOwnProperty.call(c,y)&&c[y].magic===g)return c[y];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,m,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var m=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(m),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var m,p,g,y=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<y;)m=h.readInt(2),p=h.readInt(2),g=h.readData(p),this.extraFields[m]={id:m,length:p,value:g};h.setIndex(y)},handleUTF8:function(){var h=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var p=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var y=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var m=o(h.value);return m.readInt(1)!==1||l(this.fileName)!==m.readInt(4)?null:u.utf8decode(m.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var m=o(h.value);return m.readInt(1)!==1||l(this.fileComment)!==m.readInt(4)?null:u.utf8decode(m.readData(h.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function o(m,p,g){this.name=m,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=p,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");o.prototype={internalStream:function(m){var p=null,g="string";try{if(!m)throw new Error("No output type specified.");var y=(g=m.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),p=this._decompressWorker();var v=!this._dataBinary;v&&!y&&(p=p.pipe(new l.Utf8EncodeWorker)),!v&&y&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(w){(p=new c("error")).error(w)}return new s(p,g,"")},async:function(m,p){return this.internalStream(m).accumulate(p)},nodeStream:function(m,p){return this.internalStream(m||"nodebuffer").toNodejsStream(p)},_compressWorker:function(m,p){if(this._data instanceof u&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(g,m,p)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<d.length;h++)o.prototype[d[h]]=f;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(o){var s,a,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var u=0,c=new l(m),d=o.document.createTextNode("");c.observe(d,{characterData:!0}),s=function(){d.data=u=++u%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var p=o.document.createElement("script");p.onreadystatechange=function(){m(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},o.document.documentElement.appendChild(p)}:function(){setTimeout(m,0)};else{var f=new o.MessageChannel;f.port1.onmessage=m,s=function(){f.port2.postMessage(0)}}var h=[];function m(){var p,g;a=!0;for(var y=h.length;y;){for(g=h,h=[],p=-1;++p<y;)g[p]();y=h.length}a=!1}r.exports=function(p){h.push(p)!==1||a||s()}}).call(this,typeof Ri<"u"?Ri:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var o=n("immediate");function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function d(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,y!==s&&p(this,y)}function f(y,v,w){this.promise=y,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function h(y,v,w){o(function(){var E;try{E=v(w)}catch(C){return a.reject(y,C)}E===y?a.reject(y,new TypeError("Cannot resolve promise with itself")):a.resolve(y,E)})}function m(y){var v=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof v=="function")return function(){v.apply(y,arguments)}}function p(y,v){var w=!1;function E(T){w||(w=!0,a.reject(y,T))}function C(T){w||(w=!0,a.resolve(y,T))}var S=g(function(){v(C,E)});S.status==="error"&&E(S.value)}function g(y,v){var w={};try{w.value=y(v),w.status="success"}catch(E){w.status="error",w.value=E}return w}(r.exports=d).prototype.finally=function(y){if(typeof y!="function")return this;var v=this.constructor;return this.then(function(w){return v.resolve(y()).then(function(){return w})},function(w){return v.resolve(y()).then(function(){throw w})})},d.prototype.catch=function(y){return this.then(null,y)},d.prototype.then=function(y,v){if(typeof y!="function"&&this.state===u||typeof v!="function"&&this.state===l)return this;var w=new this.constructor(s);return this.state!==c?h(w,this.state===u?y:v,this.outcome):this.queue.push(new f(w,y,v)),w},f.prototype.callFulfilled=function(y){a.resolve(this.promise,y)},f.prototype.otherCallFulfilled=function(y){h(this.promise,this.onFulfilled,y)},f.prototype.callRejected=function(y){a.reject(this.promise,y)},f.prototype.otherCallRejected=function(y){h(this.promise,this.onRejected,y)},a.resolve=function(y,v){var w=g(m,v);if(w.status==="error")return a.reject(y,w.value);var E=w.value;if(E)p(y,E);else{y.state=u,y.outcome=v;for(var C=-1,S=y.queue.length;++C<S;)y.queue[C].callFulfilled(v)}return y},a.reject=function(y,v){y.state=l,y.outcome=v;for(var w=-1,E=y.queue.length;++w<E;)y.queue[w].callRejected(v);return y},d.resolve=function(y){return y instanceof this?y:a.resolve(new this(s),y)},d.reject=function(y){var v=new this(s);return a.reject(v,y)},d.all=function(y){var v=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=y.length,E=!1;if(!w)return this.resolve([]);for(var C=new Array(w),S=0,T=-1,A=new this(s);++T<w;)D(y[T],T);return A;function D(I,P){v.resolve(I).then(function(N){C[P]=N,++S!==w||E||(E=!0,a.resolve(A,C))},function(N){E||(E=!0,a.reject(A,N))})}},d.race=function(y){var v=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=y.length,E=!1;if(!w)return this.resolve([]);for(var C=-1,S=new this(s);++C<w;)T=y[C],v.resolve(T).then(function(A){E||(E=!0,a.resolve(S,A))},function(A){E||(E=!0,a.reject(S,A))});var T;return S}},{immediate:36}],38:[function(n,r,i){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var o=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,d=0,f=-1,h=0,m=8;function p(y){if(!(this instanceof p))return new p(y);this.options=s.assign({level:f,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},y||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var w=o.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(w!==d)throw new Error(l[w]);if(v.header&&o.deflateSetHeader(this.strm,v.header),v.dictionary){var E;if(E=typeof v.dictionary=="string"?a.string2buf(v.dictionary):c.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(w=o.deflateSetDictionary(this.strm,E))!==d)throw new Error(l[w]);this._dict_set=!0}}function g(y,v){var w=new p(v);if(w.push(y,!0),w.err)throw w.msg||l[w.err];return w.result}p.prototype.push=function(y,v){var w,E,C=this.strm,S=this.options.chunkSize;if(this.ended)return!1;E=v===~~v?v:v===!0?4:0,typeof y=="string"?C.input=a.string2buf(y):c.call(y)==="[object ArrayBuffer]"?C.input=new Uint8Array(y):C.input=y,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new s.Buf8(S),C.next_out=0,C.avail_out=S),(w=o.deflate(C,E))!==1&&w!==d)return this.onEnd(w),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(C.output,C.next_out))):this.onData(s.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&w!==1);return E===4?(w=o.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===d):E!==2||(this.onEnd(d),!(C.avail_out=0))},p.prototype.onData=function(y){this.chunks.push(y)},p.prototype.onEnd=function(y){y===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=p,i.deflate=g,i.deflateRaw=function(y,v){return(v=v||{}).raw=!0,g(y,v)},i.gzip=function(y,v){return(v=v||{}).gzip=!0,g(y,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var o=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),d=n("./zlib/gzheader"),f=Object.prototype.toString;function h(p){if(!(this instanceof h))return new h(p);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},p||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||p&&p.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var y=o.inflateInit2(this.strm,g.windowBits);if(y!==l.Z_OK)throw new Error(u[y]);this.header=new d,o.inflateGetHeader(this.strm,this.header)}function m(p,g){var y=new h(g);if(y.push(p,!0),y.err)throw y.msg||u[y.err];return y.result}h.prototype.push=function(p,g){var y,v,w,E,C,S,T=this.strm,A=this.options.chunkSize,D=this.options.dictionary,I=!1;if(this.ended)return!1;v=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?T.input=a.binstring2buf(p):f.call(p)==="[object ArrayBuffer]"?T.input=new Uint8Array(p):T.input=p,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new s.Buf8(A),T.next_out=0,T.avail_out=A),(y=o.inflate(T,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&D&&(S=typeof D=="string"?a.string2buf(D):f.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,y=o.inflateSetDictionary(this.strm,S)),y===l.Z_BUF_ERROR&&I===!0&&(y=l.Z_OK,I=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&y!==l.Z_STREAM_END&&(T.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=a.utf8border(T.output,T.next_out),E=T.next_out-w,C=a.buf2string(T.output,w),T.next_out=E,T.avail_out=A-E,E&&s.arraySet(T.output,T.output,w,E,0),this.onData(C)):this.onData(s.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(I=!0)}while((0<T.avail_in||T.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(y=o.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(T.avail_out=0))},h.prototype.onData=function(p){this.chunks.push(p)},h.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Inflate=h,i.inflate=m,i.inflateRaw=function(p,g){return(g=g||{}).raw=!0,m(p,g)},i.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(l[d]=c[d])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,c,d,f){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+d),f);else for(var h=0;h<d;h++)l[f+h]=u[c+h]},flattenChunks:function(l){var u,c,d,f,h,m;for(u=d=0,c=l.length;u<c;u++)d+=l[u].length;for(m=new Uint8Array(d),u=f=0,c=l.length;u<c;u++)h=l[u],m.set(h,f),f+=h.length;return m}},a={arraySet:function(l,u,c,d,f){for(var h=0;h<d;h++)l[f+h]=u[c+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(o)},{}],42:[function(n,r,i){var o=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new o.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(d,f){if(f<65537&&(d.subarray&&a||!d.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(d,f));for(var h="",m=0;m<f;m++)h+=String.fromCharCode(d[m]);return h}l[254]=l[254]=1,i.string2buf=function(d){var f,h,m,p,g,y=d.length,v=0;for(p=0;p<y;p++)(64512&(h=d.charCodeAt(p)))==55296&&p+1<y&&(64512&(m=d.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(m-56320),p++),v+=h<128?1:h<2048?2:h<65536?3:4;for(f=new o.Buf8(v),p=g=0;g<v;p++)(64512&(h=d.charCodeAt(p)))==55296&&p+1<y&&(64512&(m=d.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(m-56320),p++),h<128?f[g++]=h:(h<2048?f[g++]=192|h>>>6:(h<65536?f[g++]=224|h>>>12:(f[g++]=240|h>>>18,f[g++]=128|h>>>12&63),f[g++]=128|h>>>6&63),f[g++]=128|63&h);return f},i.buf2binstring=function(d){return c(d,d.length)},i.binstring2buf=function(d){for(var f=new o.Buf8(d.length),h=0,m=f.length;h<m;h++)f[h]=d.charCodeAt(h);return f},i.buf2string=function(d,f){var h,m,p,g,y=f||d.length,v=new Array(2*y);for(h=m=0;h<y;)if((p=d[h++])<128)v[m++]=p;else if(4<(g=l[p]))v[m++]=65533,h+=g-1;else{for(p&=g===2?31:g===3?15:7;1<g&&h<y;)p=p<<6|63&d[h++],g--;1<g?v[m++]=65533:p<65536?v[m++]=p:(p-=65536,v[m++]=55296|p>>10&1023,v[m++]=56320|1023&p)}return c(v,m)},i.utf8border=function(d,f){var h;for((f=f||d.length)>d.length&&(f=d.length),h=f-1;0<=h&&(192&d[h])==128;)h--;return h<0||h===0?f:h+l[d[h]]>f?h:f}},{"./common":41}],43:[function(n,r,i){r.exports=function(o,s,a,l){for(var u=65535&o|0,c=o>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;c=c+(u=u+s[l++]|0)|0,--d;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var o=(function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a})();r.exports=function(s,a,l,u){var c=o,d=u+l;s^=-1;for(var f=u;f<d;f++)s=s>>>8^c[255&(s^a[f])];return-1^s}},{}],46:[function(n,r,i){var o,s=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),d=0,f=4,h=0,m=-2,p=-1,g=4,y=2,v=8,w=9,E=286,C=30,S=19,T=2*E+1,A=15,D=3,I=258,P=I+D+1,N=42,$=113,O=1,j=2,B=3,H=4;function q(X,fe){return X.msg=c[fe],fe}function Y(X){return(X<<1)-(4<X?9:0)}function V(X){for(var fe=X.length;0<=--fe;)X[fe]=0}function L(X){var fe=X.state,ce=fe.pending;ce>X.avail_out&&(ce=X.avail_out),ce!==0&&(s.arraySet(X.output,fe.pending_buf,fe.pending_out,ce,X.next_out),X.next_out+=ce,fe.pending_out+=ce,X.total_out+=ce,X.avail_out-=ce,fe.pending-=ce,fe.pending===0&&(fe.pending_out=0))}function U(X,fe){a._tr_flush_block(X,0<=X.block_start?X.block_start:-1,X.strstart-X.block_start,fe),X.block_start=X.strstart,L(X.strm)}function z(X,fe){X.pending_buf[X.pending++]=fe}function G(X,fe){X.pending_buf[X.pending++]=fe>>>8&255,X.pending_buf[X.pending++]=255&fe}function Q(X,fe){var ce,ne,ee=X.max_chain_length,pe=X.strstart,Re=X.prev_length,Se=X.nice_match,be=X.strstart>X.w_size-P?X.strstart-(X.w_size-P):0,Ne=X.window,Ae=X.w_mask,Pe=X.prev,we=X.strstart+I,Le=Ne[pe+Re-1],ze=Ne[pe+Re];X.prev_length>=X.good_match&&(ee>>=2),Se>X.lookahead&&(Se=X.lookahead);do if(Ne[(ce=fe)+Re]===ze&&Ne[ce+Re-1]===Le&&Ne[ce]===Ne[pe]&&Ne[++ce]===Ne[pe+1]){pe+=2,ce++;do;while(Ne[++pe]===Ne[++ce]&&Ne[++pe]===Ne[++ce]&&Ne[++pe]===Ne[++ce]&&Ne[++pe]===Ne[++ce]&&Ne[++pe]===Ne[++ce]&&Ne[++pe]===Ne[++ce]&&Ne[++pe]===Ne[++ce]&&Ne[++pe]===Ne[++ce]&&pe<we);if(ne=I-(we-pe),pe=we-I,Re<ne){if(X.match_start=fe,Se<=(Re=ne))break;Le=Ne[pe+Re-1],ze=Ne[pe+Re]}}while((fe=Pe[fe&Ae])>be&&--ee!=0);return Re<=X.lookahead?Re:X.lookahead}function te(X){var fe,ce,ne,ee,pe,Re,Se,be,Ne,Ae,Pe=X.w_size;do{if(ee=X.window_size-X.lookahead-X.strstart,X.strstart>=Pe+(Pe-P)){for(s.arraySet(X.window,X.window,Pe,Pe,0),X.match_start-=Pe,X.strstart-=Pe,X.block_start-=Pe,fe=ce=X.hash_size;ne=X.head[--fe],X.head[fe]=Pe<=ne?ne-Pe:0,--ce;);for(fe=ce=Pe;ne=X.prev[--fe],X.prev[fe]=Pe<=ne?ne-Pe:0,--ce;);ee+=Pe}if(X.strm.avail_in===0)break;if(Re=X.strm,Se=X.window,be=X.strstart+X.lookahead,Ne=ee,Ae=void 0,Ae=Re.avail_in,Ne<Ae&&(Ae=Ne),ce=Ae===0?0:(Re.avail_in-=Ae,s.arraySet(Se,Re.input,Re.next_in,Ae,be),Re.state.wrap===1?Re.adler=l(Re.adler,Se,Ae,be):Re.state.wrap===2&&(Re.adler=u(Re.adler,Se,Ae,be)),Re.next_in+=Ae,Re.total_in+=Ae,Ae),X.lookahead+=ce,X.lookahead+X.insert>=D)for(pe=X.strstart-X.insert,X.ins_h=X.window[pe],X.ins_h=(X.ins_h<<X.hash_shift^X.window[pe+1])&X.hash_mask;X.insert&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[pe+D-1])&X.hash_mask,X.prev[pe&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=pe,pe++,X.insert--,!(X.lookahead+X.insert<D)););}while(X.lookahead<P&&X.strm.avail_in!==0)}function de(X,fe){for(var ce,ne;;){if(X.lookahead<P){if(te(X),X.lookahead<P&&fe===d)return O;if(X.lookahead===0)break}if(ce=0,X.lookahead>=D&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+D-1])&X.hash_mask,ce=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),ce!==0&&X.strstart-ce<=X.w_size-P&&(X.match_length=Q(X,ce)),X.match_length>=D)if(ne=a._tr_tally(X,X.strstart-X.match_start,X.match_length-D),X.lookahead-=X.match_length,X.match_length<=X.max_lazy_match&&X.lookahead>=D){for(X.match_length--;X.strstart++,X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+D-1])&X.hash_mask,ce=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart,--X.match_length!=0;);X.strstart++}else X.strstart+=X.match_length,X.match_length=0,X.ins_h=X.window[X.strstart],X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+1])&X.hash_mask;else ne=a._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++;if(ne&&(U(X,!1),X.strm.avail_out===0))return O}return X.insert=X.strstart<D-1?X.strstart:D-1,fe===f?(U(X,!0),X.strm.avail_out===0?B:H):X.last_lit&&(U(X,!1),X.strm.avail_out===0)?O:j}function se(X,fe){for(var ce,ne,ee;;){if(X.lookahead<P){if(te(X),X.lookahead<P&&fe===d)return O;if(X.lookahead===0)break}if(ce=0,X.lookahead>=D&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+D-1])&X.hash_mask,ce=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),X.prev_length=X.match_length,X.prev_match=X.match_start,X.match_length=D-1,ce!==0&&X.prev_length<X.max_lazy_match&&X.strstart-ce<=X.w_size-P&&(X.match_length=Q(X,ce),X.match_length<=5&&(X.strategy===1||X.match_length===D&&4096<X.strstart-X.match_start)&&(X.match_length=D-1)),X.prev_length>=D&&X.match_length<=X.prev_length){for(ee=X.strstart+X.lookahead-D,ne=a._tr_tally(X,X.strstart-1-X.prev_match,X.prev_length-D),X.lookahead-=X.prev_length-1,X.prev_length-=2;++X.strstart<=ee&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+D-1])&X.hash_mask,ce=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),--X.prev_length!=0;);if(X.match_available=0,X.match_length=D-1,X.strstart++,ne&&(U(X,!1),X.strm.avail_out===0))return O}else if(X.match_available){if((ne=a._tr_tally(X,0,X.window[X.strstart-1]))&&U(X,!1),X.strstart++,X.lookahead--,X.strm.avail_out===0)return O}else X.match_available=1,X.strstart++,X.lookahead--}return X.match_available&&(ne=a._tr_tally(X,0,X.window[X.strstart-1]),X.match_available=0),X.insert=X.strstart<D-1?X.strstart:D-1,fe===f?(U(X,!0),X.strm.avail_out===0?B:H):X.last_lit&&(U(X,!1),X.strm.avail_out===0)?O:j}function ae(X,fe,ce,ne,ee){this.good_length=X,this.max_lazy=fe,this.nice_length=ce,this.max_chain=ne,this.func=ee}function he(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*T),this.dyn_dtree=new s.Buf16(2*(2*C+1)),this.bl_tree=new s.Buf16(2*(2*S+1)),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(A+1),this.heap=new s.Buf16(2*E+1),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*E+1),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ie(X){var fe;return X&&X.state?(X.total_in=X.total_out=0,X.data_type=y,(fe=X.state).pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?N:$,X.adler=fe.wrap===2?0:1,fe.last_flush=d,a._tr_init(fe),h):q(X,m)}function le(X){var fe=ie(X);return fe===h&&(function(ce){ce.window_size=2*ce.w_size,V(ce.head),ce.max_lazy_match=o[ce.level].max_lazy,ce.good_match=o[ce.level].good_length,ce.nice_match=o[ce.level].nice_length,ce.max_chain_length=o[ce.level].max_chain,ce.strstart=0,ce.block_start=0,ce.lookahead=0,ce.insert=0,ce.match_length=ce.prev_length=D-1,ce.match_available=0,ce.ins_h=0})(X.state),fe}function Ce(X,fe,ce,ne,ee,pe){if(!X)return m;var Re=1;if(fe===p&&(fe=6),ne<0?(Re=0,ne=-ne):15<ne&&(Re=2,ne-=16),ee<1||w<ee||ce!==v||ne<8||15<ne||fe<0||9<fe||pe<0||g<pe)return q(X,m);ne===8&&(ne=9);var Se=new he;return(X.state=Se).strm=X,Se.wrap=Re,Se.gzhead=null,Se.w_bits=ne,Se.w_size=1<<Se.w_bits,Se.w_mask=Se.w_size-1,Se.hash_bits=ee+7,Se.hash_size=1<<Se.hash_bits,Se.hash_mask=Se.hash_size-1,Se.hash_shift=~~((Se.hash_bits+D-1)/D),Se.window=new s.Buf8(2*Se.w_size),Se.head=new s.Buf16(Se.hash_size),Se.prev=new s.Buf16(Se.w_size),Se.lit_bufsize=1<<ee+6,Se.pending_buf_size=4*Se.lit_bufsize,Se.pending_buf=new s.Buf8(Se.pending_buf_size),Se.d_buf=1*Se.lit_bufsize,Se.l_buf=3*Se.lit_bufsize,Se.level=fe,Se.strategy=pe,Se.method=ce,le(X)}o=[new ae(0,0,0,0,function(X,fe){var ce=65535;for(ce>X.pending_buf_size-5&&(ce=X.pending_buf_size-5);;){if(X.lookahead<=1){if(te(X),X.lookahead===0&&fe===d)return O;if(X.lookahead===0)break}X.strstart+=X.lookahead,X.lookahead=0;var ne=X.block_start+ce;if((X.strstart===0||X.strstart>=ne)&&(X.lookahead=X.strstart-ne,X.strstart=ne,U(X,!1),X.strm.avail_out===0)||X.strstart-X.block_start>=X.w_size-P&&(U(X,!1),X.strm.avail_out===0))return O}return X.insert=0,fe===f?(U(X,!0),X.strm.avail_out===0?B:H):(X.strstart>X.block_start&&(U(X,!1),X.strm.avail_out),O)}),new ae(4,4,8,4,de),new ae(4,5,16,8,de),new ae(4,6,32,32,de),new ae(4,4,16,16,se),new ae(8,16,32,32,se),new ae(8,16,128,128,se),new ae(8,32,128,256,se),new ae(32,128,258,1024,se),new ae(32,258,258,4096,se)],i.deflateInit=function(X,fe){return Ce(X,fe,v,15,8,0)},i.deflateInit2=Ce,i.deflateReset=le,i.deflateResetKeep=ie,i.deflateSetHeader=function(X,fe){return X&&X.state?X.state.wrap!==2?m:(X.state.gzhead=fe,h):m},i.deflate=function(X,fe){var ce,ne,ee,pe;if(!X||!X.state||5<fe||fe<0)return X?q(X,m):m;if(ne=X.state,!X.output||!X.input&&X.avail_in!==0||ne.status===666&&fe!==f)return q(X,X.avail_out===0?-5:m);if(ne.strm=X,ce=ne.last_flush,ne.last_flush=fe,ne.status===N)if(ne.wrap===2)X.adler=0,z(ne,31),z(ne,139),z(ne,8),ne.gzhead?(z(ne,(ne.gzhead.text?1:0)+(ne.gzhead.hcrc?2:0)+(ne.gzhead.extra?4:0)+(ne.gzhead.name?8:0)+(ne.gzhead.comment?16:0)),z(ne,255&ne.gzhead.time),z(ne,ne.gzhead.time>>8&255),z(ne,ne.gzhead.time>>16&255),z(ne,ne.gzhead.time>>24&255),z(ne,ne.level===9?2:2<=ne.strategy||ne.level<2?4:0),z(ne,255&ne.gzhead.os),ne.gzhead.extra&&ne.gzhead.extra.length&&(z(ne,255&ne.gzhead.extra.length),z(ne,ne.gzhead.extra.length>>8&255)),ne.gzhead.hcrc&&(X.adler=u(X.adler,ne.pending_buf,ne.pending,0)),ne.gzindex=0,ne.status=69):(z(ne,0),z(ne,0),z(ne,0),z(ne,0),z(ne,0),z(ne,ne.level===9?2:2<=ne.strategy||ne.level<2?4:0),z(ne,3),ne.status=$);else{var Re=v+(ne.w_bits-8<<4)<<8;Re|=(2<=ne.strategy||ne.level<2?0:ne.level<6?1:ne.level===6?2:3)<<6,ne.strstart!==0&&(Re|=32),Re+=31-Re%31,ne.status=$,G(ne,Re),ne.strstart!==0&&(G(ne,X.adler>>>16),G(ne,65535&X.adler)),X.adler=1}if(ne.status===69)if(ne.gzhead.extra){for(ee=ne.pending;ne.gzindex<(65535&ne.gzhead.extra.length)&&(ne.pending!==ne.pending_buf_size||(ne.gzhead.hcrc&&ne.pending>ee&&(X.adler=u(X.adler,ne.pending_buf,ne.pending-ee,ee)),L(X),ee=ne.pending,ne.pending!==ne.pending_buf_size));)z(ne,255&ne.gzhead.extra[ne.gzindex]),ne.gzindex++;ne.gzhead.hcrc&&ne.pending>ee&&(X.adler=u(X.adler,ne.pending_buf,ne.pending-ee,ee)),ne.gzindex===ne.gzhead.extra.length&&(ne.gzindex=0,ne.status=73)}else ne.status=73;if(ne.status===73)if(ne.gzhead.name){ee=ne.pending;do{if(ne.pending===ne.pending_buf_size&&(ne.gzhead.hcrc&&ne.pending>ee&&(X.adler=u(X.adler,ne.pending_buf,ne.pending-ee,ee)),L(X),ee=ne.pending,ne.pending===ne.pending_buf_size)){pe=1;break}pe=ne.gzindex<ne.gzhead.name.length?255&ne.gzhead.name.charCodeAt(ne.gzindex++):0,z(ne,pe)}while(pe!==0);ne.gzhead.hcrc&&ne.pending>ee&&(X.adler=u(X.adler,ne.pending_buf,ne.pending-ee,ee)),pe===0&&(ne.gzindex=0,ne.status=91)}else ne.status=91;if(ne.status===91)if(ne.gzhead.comment){ee=ne.pending;do{if(ne.pending===ne.pending_buf_size&&(ne.gzhead.hcrc&&ne.pending>ee&&(X.adler=u(X.adler,ne.pending_buf,ne.pending-ee,ee)),L(X),ee=ne.pending,ne.pending===ne.pending_buf_size)){pe=1;break}pe=ne.gzindex<ne.gzhead.comment.length?255&ne.gzhead.comment.charCodeAt(ne.gzindex++):0,z(ne,pe)}while(pe!==0);ne.gzhead.hcrc&&ne.pending>ee&&(X.adler=u(X.adler,ne.pending_buf,ne.pending-ee,ee)),pe===0&&(ne.status=103)}else ne.status=103;if(ne.status===103&&(ne.gzhead.hcrc?(ne.pending+2>ne.pending_buf_size&&L(X),ne.pending+2<=ne.pending_buf_size&&(z(ne,255&X.adler),z(ne,X.adler>>8&255),X.adler=0,ne.status=$)):ne.status=$),ne.pending!==0){if(L(X),X.avail_out===0)return ne.last_flush=-1,h}else if(X.avail_in===0&&Y(fe)<=Y(ce)&&fe!==f)return q(X,-5);if(ne.status===666&&X.avail_in!==0)return q(X,-5);if(X.avail_in!==0||ne.lookahead!==0||fe!==d&&ne.status!==666){var Se=ne.strategy===2?(function(be,Ne){for(var Ae;;){if(be.lookahead===0&&(te(be),be.lookahead===0)){if(Ne===d)return O;break}if(be.match_length=0,Ae=a._tr_tally(be,0,be.window[be.strstart]),be.lookahead--,be.strstart++,Ae&&(U(be,!1),be.strm.avail_out===0))return O}return be.insert=0,Ne===f?(U(be,!0),be.strm.avail_out===0?B:H):be.last_lit&&(U(be,!1),be.strm.avail_out===0)?O:j})(ne,fe):ne.strategy===3?(function(be,Ne){for(var Ae,Pe,we,Le,ze=be.window;;){if(be.lookahead<=I){if(te(be),be.lookahead<=I&&Ne===d)return O;if(be.lookahead===0)break}if(be.match_length=0,be.lookahead>=D&&0<be.strstart&&(Pe=ze[we=be.strstart-1])===ze[++we]&&Pe===ze[++we]&&Pe===ze[++we]){Le=be.strstart+I;do;while(Pe===ze[++we]&&Pe===ze[++we]&&Pe===ze[++we]&&Pe===ze[++we]&&Pe===ze[++we]&&Pe===ze[++we]&&Pe===ze[++we]&&Pe===ze[++we]&&we<Le);be.match_length=I-(Le-we),be.match_length>be.lookahead&&(be.match_length=be.lookahead)}if(be.match_length>=D?(Ae=a._tr_tally(be,1,be.match_length-D),be.lookahead-=be.match_length,be.strstart+=be.match_length,be.match_length=0):(Ae=a._tr_tally(be,0,be.window[be.strstart]),be.lookahead--,be.strstart++),Ae&&(U(be,!1),be.strm.avail_out===0))return O}return be.insert=0,Ne===f?(U(be,!0),be.strm.avail_out===0?B:H):be.last_lit&&(U(be,!1),be.strm.avail_out===0)?O:j})(ne,fe):o[ne.level].func(ne,fe);if(Se!==B&&Se!==H||(ne.status=666),Se===O||Se===B)return X.avail_out===0&&(ne.last_flush=-1),h;if(Se===j&&(fe===1?a._tr_align(ne):fe!==5&&(a._tr_stored_block(ne,0,0,!1),fe===3&&(V(ne.head),ne.lookahead===0&&(ne.strstart=0,ne.block_start=0,ne.insert=0))),L(X),X.avail_out===0))return ne.last_flush=-1,h}return fe!==f?h:ne.wrap<=0?1:(ne.wrap===2?(z(ne,255&X.adler),z(ne,X.adler>>8&255),z(ne,X.adler>>16&255),z(ne,X.adler>>24&255),z(ne,255&X.total_in),z(ne,X.total_in>>8&255),z(ne,X.total_in>>16&255),z(ne,X.total_in>>24&255)):(G(ne,X.adler>>>16),G(ne,65535&X.adler)),L(X),0<ne.wrap&&(ne.wrap=-ne.wrap),ne.pending!==0?h:1)},i.deflateEnd=function(X){var fe;return X&&X.state?(fe=X.state.status)!==N&&fe!==69&&fe!==73&&fe!==91&&fe!==103&&fe!==$&&fe!==666?q(X,m):(X.state=null,fe===$?q(X,-3):h):m},i.deflateSetDictionary=function(X,fe){var ce,ne,ee,pe,Re,Se,be,Ne,Ae=fe.length;if(!X||!X.state||(pe=(ce=X.state).wrap)===2||pe===1&&ce.status!==N||ce.lookahead)return m;for(pe===1&&(X.adler=l(X.adler,fe,Ae,0)),ce.wrap=0,Ae>=ce.w_size&&(pe===0&&(V(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),Ne=new s.Buf8(ce.w_size),s.arraySet(Ne,fe,Ae-ce.w_size,ce.w_size,0),fe=Ne,Ae=ce.w_size),Re=X.avail_in,Se=X.next_in,be=X.input,X.avail_in=Ae,X.next_in=0,X.input=fe,te(ce);ce.lookahead>=D;){for(ne=ce.strstart,ee=ce.lookahead-(D-1);ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[ne+D-1])&ce.hash_mask,ce.prev[ne&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=ne,ne++,--ee;);ce.strstart=ne,ce.lookahead=D-1,te(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=D-1,ce.match_available=0,X.next_in=Se,X.input=be,X.avail_in=Re,ce.wrap=pe,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(o,s){var a,l,u,c,d,f,h,m,p,g,y,v,w,E,C,S,T,A,D,I,P,N,$,O,j;a=o.state,l=o.next_in,O=o.input,u=l+(o.avail_in-5),c=o.next_out,j=o.output,d=c-(s-o.avail_out),f=c+(o.avail_out-257),h=a.dmax,m=a.wsize,p=a.whave,g=a.wnext,y=a.window,v=a.hold,w=a.bits,E=a.lencode,C=a.distcode,S=(1<<a.lenbits)-1,T=(1<<a.distbits)-1;e:do{w<15&&(v+=O[l++]<<w,w+=8,v+=O[l++]<<w,w+=8),A=E[v&S];t:for(;;){if(v>>>=D=A>>>24,w-=D,(D=A>>>16&255)===0)j[c++]=65535&A;else{if(!(16&D)){if((64&D)==0){A=E[(65535&A)+(v&(1<<D)-1)];continue t}if(32&D){a.mode=12;break e}o.msg="invalid literal/length code",a.mode=30;break e}I=65535&A,(D&=15)&&(w<D&&(v+=O[l++]<<w,w+=8),I+=v&(1<<D)-1,v>>>=D,w-=D),w<15&&(v+=O[l++]<<w,w+=8,v+=O[l++]<<w,w+=8),A=C[v&T];n:for(;;){if(v>>>=D=A>>>24,w-=D,!(16&(D=A>>>16&255))){if((64&D)==0){A=C[(65535&A)+(v&(1<<D)-1)];continue n}o.msg="invalid distance code",a.mode=30;break e}if(P=65535&A,w<(D&=15)&&(v+=O[l++]<<w,(w+=8)<D&&(v+=O[l++]<<w,w+=8)),h<(P+=v&(1<<D)-1)){o.msg="invalid distance too far back",a.mode=30;break e}if(v>>>=D,w-=D,(D=c-d)<P){if(p<(D=P-D)&&a.sane){o.msg="invalid distance too far back",a.mode=30;break e}if($=y,(N=0)===g){if(N+=m-D,D<I){for(I-=D;j[c++]=y[N++],--D;);N=c-P,$=j}}else if(g<D){if(N+=m+g-D,(D-=g)<I){for(I-=D;j[c++]=y[N++],--D;);if(N=0,g<I){for(I-=D=g;j[c++]=y[N++],--D;);N=c-P,$=j}}}else if(N+=g-D,D<I){for(I-=D;j[c++]=y[N++],--D;);N=c-P,$=j}for(;2<I;)j[c++]=$[N++],j[c++]=$[N++],j[c++]=$[N++],I-=3;I&&(j[c++]=$[N++],1<I&&(j[c++]=$[N++]))}else{for(N=c-P;j[c++]=j[N++],j[c++]=j[N++],j[c++]=j[N++],2<(I-=3););I&&(j[c++]=j[N++],1<I&&(j[c++]=j[N++]))}break}}break}}while(l<u&&c<f);l-=I=w>>3,v&=(1<<(w-=I<<3))-1,o.next_in=l,o.next_out=c,o.avail_in=l<u?u-l+5:5-(l-u),o.avail_out=c<f?f-c+257:257-(c-f),a.hold=v,a.bits=w}},{}],49:[function(n,r,i){var o=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,d=2,f=0,h=-2,m=1,p=852,g=592;function y(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(N){var $;return N&&N.state?($=N.state,N.total_in=N.total_out=$.total=0,N.msg="",$.wrap&&(N.adler=1&$.wrap),$.mode=m,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new o.Buf32(p),$.distcode=$.distdyn=new o.Buf32(g),$.sane=1,$.back=-1,f):h}function E(N){var $;return N&&N.state?(($=N.state).wsize=0,$.whave=0,$.wnext=0,w(N)):h}function C(N,$){var O,j;return N&&N.state?(j=N.state,$<0?(O=0,$=-$):(O=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?h:(j.window!==null&&j.wbits!==$&&(j.window=null),j.wrap=O,j.wbits=$,E(N))):h}function S(N,$){var O,j;return N?(j=new v,(N.state=j).window=null,(O=C(N,$))!==f&&(N.state=null),O):h}var T,A,D=!0;function I(N){if(D){var $;for(T=new o.Buf32(512),A=new o.Buf32(32),$=0;$<144;)N.lens[$++]=8;for(;$<256;)N.lens[$++]=9;for(;$<280;)N.lens[$++]=7;for(;$<288;)N.lens[$++]=8;for(u(c,N.lens,0,288,T,0,N.work,{bits:9}),$=0;$<32;)N.lens[$++]=5;u(d,N.lens,0,32,A,0,N.work,{bits:5}),D=!1}N.lencode=T,N.lenbits=9,N.distcode=A,N.distbits=5}function P(N,$,O,j){var B,H=N.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new o.Buf8(H.wsize)),j>=H.wsize?(o.arraySet(H.window,$,O-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(j<(B=H.wsize-H.wnext)&&(B=j),o.arraySet(H.window,$,O-j,B,H.wnext),(j-=B)?(o.arraySet(H.window,$,O-j,j,0),H.wnext=j,H.whave=H.wsize):(H.wnext+=B,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=B))),0}i.inflateReset=E,i.inflateReset2=C,i.inflateResetKeep=w,i.inflateInit=function(N){return S(N,15)},i.inflateInit2=S,i.inflate=function(N,$){var O,j,B,H,q,Y,V,L,U,z,G,Q,te,de,se,ae,he,ie,le,Ce,X,fe,ce,ne,ee=0,pe=new o.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return h;(O=N.state).mode===12&&(O.mode=13),q=N.next_out,B=N.output,V=N.avail_out,H=N.next_in,j=N.input,Y=N.avail_in,L=O.hold,U=O.bits,z=Y,G=V,fe=f;e:for(;;)switch(O.mode){case m:if(O.wrap===0){O.mode=13;break}for(;U<16;){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}if(2&O.wrap&&L===35615){pe[O.check=0]=255&L,pe[1]=L>>>8&255,O.check=a(O.check,pe,2,0),U=L=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&L)<<8)+(L>>8))%31){N.msg="incorrect header check",O.mode=30;break}if((15&L)!=8){N.msg="unknown compression method",O.mode=30;break}if(U-=4,X=8+(15&(L>>>=4)),O.wbits===0)O.wbits=X;else if(X>O.wbits){N.msg="invalid window size",O.mode=30;break}O.dmax=1<<X,N.adler=O.check=1,O.mode=512&L?10:12,U=L=0;break;case 2:for(;U<16;){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}if(O.flags=L,(255&O.flags)!=8){N.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){N.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=L>>8&1),512&O.flags&&(pe[0]=255&L,pe[1]=L>>>8&255,O.check=a(O.check,pe,2,0)),U=L=0,O.mode=3;case 3:for(;U<32;){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}O.head&&(O.head.time=L),512&O.flags&&(pe[0]=255&L,pe[1]=L>>>8&255,pe[2]=L>>>16&255,pe[3]=L>>>24&255,O.check=a(O.check,pe,4,0)),U=L=0,O.mode=4;case 4:for(;U<16;){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}O.head&&(O.head.xflags=255&L,O.head.os=L>>8),512&O.flags&&(pe[0]=255&L,pe[1]=L>>>8&255,O.check=a(O.check,pe,2,0)),U=L=0,O.mode=5;case 5:if(1024&O.flags){for(;U<16;){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}O.length=L,O.head&&(O.head.extra_len=L),512&O.flags&&(pe[0]=255&L,pe[1]=L>>>8&255,O.check=a(O.check,pe,2,0)),U=L=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(Y<(Q=O.length)&&(Q=Y),Q&&(O.head&&(X=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),o.arraySet(O.head.extra,j,H,Q,X)),512&O.flags&&(O.check=a(O.check,j,Q,H)),Y-=Q,H+=Q,O.length-=Q),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(Y===0)break e;for(Q=0;X=j[H+Q++],O.head&&X&&O.length<65536&&(O.head.name+=String.fromCharCode(X)),X&&Q<Y;);if(512&O.flags&&(O.check=a(O.check,j,Q,H)),Y-=Q,H+=Q,X)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(Y===0)break e;for(Q=0;X=j[H+Q++],O.head&&X&&O.length<65536&&(O.head.comment+=String.fromCharCode(X)),X&&Q<Y;);if(512&O.flags&&(O.check=a(O.check,j,Q,H)),Y-=Q,H+=Q,X)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;U<16;){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}if(L!==(65535&O.check)){N.msg="header crc mismatch",O.mode=30;break}U=L=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),N.adler=O.check=0,O.mode=12;break;case 10:for(;U<32;){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}N.adler=O.check=y(L),U=L=0,O.mode=11;case 11:if(O.havedict===0)return N.next_out=q,N.avail_out=V,N.next_in=H,N.avail_in=Y,O.hold=L,O.bits=U,2;N.adler=O.check=1,O.mode=12;case 12:if($===5||$===6)break e;case 13:if(O.last){L>>>=7&U,U-=7&U,O.mode=27;break}for(;U<3;){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}switch(O.last=1&L,U-=1,3&(L>>>=1)){case 0:O.mode=14;break;case 1:if(I(O),O.mode=20,$!==6)break;L>>>=2,U-=2;break e;case 2:O.mode=17;break;case 3:N.msg="invalid block type",O.mode=30}L>>>=2,U-=2;break;case 14:for(L>>>=7&U,U-=7&U;U<32;){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}if((65535&L)!=(L>>>16^65535)){N.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&L,U=L=0,O.mode=15,$===6)break e;case 15:O.mode=16;case 16:if(Q=O.length){if(Y<Q&&(Q=Y),V<Q&&(Q=V),Q===0)break e;o.arraySet(B,j,H,Q,q),Y-=Q,H+=Q,V-=Q,q+=Q,O.length-=Q;break}O.mode=12;break;case 17:for(;U<14;){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}if(O.nlen=257+(31&L),L>>>=5,U-=5,O.ndist=1+(31&L),L>>>=5,U-=5,O.ncode=4+(15&L),L>>>=4,U-=4,286<O.nlen||30<O.ndist){N.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;U<3;){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}O.lens[Re[O.have++]]=7&L,L>>>=3,U-=3}for(;O.have<19;)O.lens[Re[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,ce={bits:O.lenbits},fe=u(0,O.lens,0,19,O.lencode,0,O.work,ce),O.lenbits=ce.bits,fe){N.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;ae=(ee=O.lencode[L&(1<<O.lenbits)-1])>>>16&255,he=65535&ee,!((se=ee>>>24)<=U);){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}if(he<16)L>>>=se,U-=se,O.lens[O.have++]=he;else{if(he===16){for(ne=se+2;U<ne;){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}if(L>>>=se,U-=se,O.have===0){N.msg="invalid bit length repeat",O.mode=30;break}X=O.lens[O.have-1],Q=3+(3&L),L>>>=2,U-=2}else if(he===17){for(ne=se+3;U<ne;){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}U-=se,X=0,Q=3+(7&(L>>>=se)),L>>>=3,U-=3}else{for(ne=se+7;U<ne;){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}U-=se,X=0,Q=11+(127&(L>>>=se)),L>>>=7,U-=7}if(O.have+Q>O.nlen+O.ndist){N.msg="invalid bit length repeat",O.mode=30;break}for(;Q--;)O.lens[O.have++]=X}}if(O.mode===30)break;if(O.lens[256]===0){N.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,ce={bits:O.lenbits},fe=u(c,O.lens,0,O.nlen,O.lencode,0,O.work,ce),O.lenbits=ce.bits,fe){N.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,ce={bits:O.distbits},fe=u(d,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,ce),O.distbits=ce.bits,fe){N.msg="invalid distances set",O.mode=30;break}if(O.mode=20,$===6)break e;case 20:O.mode=21;case 21:if(6<=Y&&258<=V){N.next_out=q,N.avail_out=V,N.next_in=H,N.avail_in=Y,O.hold=L,O.bits=U,l(N,G),q=N.next_out,B=N.output,V=N.avail_out,H=N.next_in,j=N.input,Y=N.avail_in,L=O.hold,U=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;ae=(ee=O.lencode[L&(1<<O.lenbits)-1])>>>16&255,he=65535&ee,!((se=ee>>>24)<=U);){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}if(ae&&(240&ae)==0){for(ie=se,le=ae,Ce=he;ae=(ee=O.lencode[Ce+((L&(1<<ie+le)-1)>>ie)])>>>16&255,he=65535&ee,!(ie+(se=ee>>>24)<=U);){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}L>>>=ie,U-=ie,O.back+=ie}if(L>>>=se,U-=se,O.back+=se,O.length=he,ae===0){O.mode=26;break}if(32&ae){O.back=-1,O.mode=12;break}if(64&ae){N.msg="invalid literal/length code",O.mode=30;break}O.extra=15&ae,O.mode=22;case 22:if(O.extra){for(ne=O.extra;U<ne;){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}O.length+=L&(1<<O.extra)-1,L>>>=O.extra,U-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;ae=(ee=O.distcode[L&(1<<O.distbits)-1])>>>16&255,he=65535&ee,!((se=ee>>>24)<=U);){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}if((240&ae)==0){for(ie=se,le=ae,Ce=he;ae=(ee=O.distcode[Ce+((L&(1<<ie+le)-1)>>ie)])>>>16&255,he=65535&ee,!(ie+(se=ee>>>24)<=U);){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}L>>>=ie,U-=ie,O.back+=ie}if(L>>>=se,U-=se,O.back+=se,64&ae){N.msg="invalid distance code",O.mode=30;break}O.offset=he,O.extra=15&ae,O.mode=24;case 24:if(O.extra){for(ne=O.extra;U<ne;){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}O.offset+=L&(1<<O.extra)-1,L>>>=O.extra,U-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){N.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(V===0)break e;if(Q=G-V,O.offset>Q){if((Q=O.offset-Q)>O.whave&&O.sane){N.msg="invalid distance too far back",O.mode=30;break}te=Q>O.wnext?(Q-=O.wnext,O.wsize-Q):O.wnext-Q,Q>O.length&&(Q=O.length),de=O.window}else de=B,te=q-O.offset,Q=O.length;for(V<Q&&(Q=V),V-=Q,O.length-=Q;B[q++]=de[te++],--Q;);O.length===0&&(O.mode=21);break;case 26:if(V===0)break e;B[q++]=O.length,V--,O.mode=21;break;case 27:if(O.wrap){for(;U<32;){if(Y===0)break e;Y--,L|=j[H++]<<U,U+=8}if(G-=V,N.total_out+=G,O.total+=G,G&&(N.adler=O.check=O.flags?a(O.check,B,G,q-G):s(O.check,B,G,q-G)),G=V,(O.flags?L:y(L))!==O.check){N.msg="incorrect data check",O.mode=30;break}U=L=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;U<32;){if(Y===0)break e;Y--,L+=j[H++]<<U,U+=8}if(L!==(4294967295&O.total)){N.msg="incorrect length check",O.mode=30;break}U=L=0}O.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return h}return N.next_out=q,N.avail_out=V,N.next_in=H,N.avail_in=Y,O.hold=L,O.bits=U,(O.wsize||G!==N.avail_out&&O.mode<30&&(O.mode<27||$!==4))&&P(N,N.output,N.next_out,G-N.avail_out)?(O.mode=31,-4):(z-=N.avail_in,G-=N.avail_out,N.total_in+=z,N.total_out+=G,O.total+=G,O.wrap&&G&&(N.adler=O.check=O.flags?a(O.check,B,G,N.next_out-G):s(O.check,B,G,N.next_out-G)),N.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(z==0&&G===0||$===4)&&fe===f&&(fe=-5),fe)},i.inflateEnd=function(N){if(!N||!N.state)return h;var $=N.state;return $.window&&($.window=null),N.state=null,f},i.inflateGetHeader=function(N,$){var O;return N&&N.state?(2&(O=N.state).wrap)==0?h:((O.head=$).done=!1,f):h},i.inflateSetDictionary=function(N,$){var O,j=$.length;return N&&N.state?(O=N.state).wrap!==0&&O.mode!==11?h:O.mode===11&&s(1,$,j,0)!==O.check?-3:P(N,$,j,j)?(O.mode=31,-4):(O.havedict=1,f):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var o=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,d,f,h,m,p,g,y){var v,w,E,C,S,T,A,D,I,P=y.bits,N=0,$=0,O=0,j=0,B=0,H=0,q=0,Y=0,V=0,L=0,U=null,z=0,G=new o.Buf16(16),Q=new o.Buf16(16),te=null,de=0;for(N=0;N<=15;N++)G[N]=0;for($=0;$<h;$++)G[d[f+$]]++;for(B=P,j=15;1<=j&&G[j]===0;j--);if(j<B&&(B=j),j===0)return m[p++]=20971520,m[p++]=20971520,y.bits=1,0;for(O=1;O<j&&G[O]===0;O++);for(B<O&&(B=O),N=Y=1;N<=15;N++)if(Y<<=1,(Y-=G[N])<0)return-1;if(0<Y&&(c===0||j!==1))return-1;for(Q[1]=0,N=1;N<15;N++)Q[N+1]=Q[N]+G[N];for($=0;$<h;$++)d[f+$]!==0&&(g[Q[d[f+$]]++]=$);if(T=c===0?(U=te=g,19):c===1?(U=s,z-=257,te=a,de-=257,256):(U=l,te=u,-1),N=O,S=p,q=$=L=0,E=-1,C=(V=1<<(H=B))-1,c===1&&852<V||c===2&&592<V)return 1;for(;;){for(A=N-q,I=g[$]<T?(D=0,g[$]):g[$]>T?(D=te[de+g[$]],U[z+g[$]]):(D=96,0),v=1<<N-q,O=w=1<<H;m[S+(L>>q)+(w-=v)]=A<<24|D<<16|I|0,w!==0;);for(v=1<<N-1;L&v;)v>>=1;if(v!==0?(L&=v-1,L+=v):L=0,$++,--G[N]==0){if(N===j)break;N=d[f+g[$]]}if(B<N&&(L&C)!==E){for(q===0&&(q=B),S+=O,Y=1<<(H=N-q);H+q<j&&!((Y-=G[H+q])<=0);)H++,Y<<=1;if(V+=1<<H,c===1&&852<V||c===2&&592<V)return 1;m[E=L&C]=B<<24|H<<16|S-p|0}}return L!==0&&(m[S+L]=N-q<<24|64<<16|0),y.bits=B,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var o=n("../utils/common"),s=0,a=1;function l(ee){for(var pe=ee.length;0<=--pe;)ee[pe]=0}var u=0,c=29,d=256,f=d+1+c,h=30,m=19,p=2*f+1,g=15,y=16,v=7,w=256,E=16,C=17,S=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(f+2));l(P);var N=new Array(2*h);l(N);var $=new Array(512);l($);var O=new Array(256);l(O);var j=new Array(c);l(j);var B,H,q,Y=new Array(h);function V(ee,pe,Re,Se,be){this.static_tree=ee,this.extra_bits=pe,this.extra_base=Re,this.elems=Se,this.max_length=be,this.has_stree=ee&&ee.length}function L(ee,pe){this.dyn_tree=ee,this.max_code=0,this.stat_desc=pe}function U(ee){return ee<256?$[ee]:$[256+(ee>>>7)]}function z(ee,pe){ee.pending_buf[ee.pending++]=255&pe,ee.pending_buf[ee.pending++]=pe>>>8&255}function G(ee,pe,Re){ee.bi_valid>y-Re?(ee.bi_buf|=pe<<ee.bi_valid&65535,z(ee,ee.bi_buf),ee.bi_buf=pe>>y-ee.bi_valid,ee.bi_valid+=Re-y):(ee.bi_buf|=pe<<ee.bi_valid&65535,ee.bi_valid+=Re)}function Q(ee,pe,Re){G(ee,Re[2*pe],Re[2*pe+1])}function te(ee,pe){for(var Re=0;Re|=1&ee,ee>>>=1,Re<<=1,0<--pe;);return Re>>>1}function de(ee,pe,Re){var Se,be,Ne=new Array(g+1),Ae=0;for(Se=1;Se<=g;Se++)Ne[Se]=Ae=Ae+Re[Se-1]<<1;for(be=0;be<=pe;be++){var Pe=ee[2*be+1];Pe!==0&&(ee[2*be]=te(Ne[Pe]++,Pe))}}function se(ee){var pe;for(pe=0;pe<f;pe++)ee.dyn_ltree[2*pe]=0;for(pe=0;pe<h;pe++)ee.dyn_dtree[2*pe]=0;for(pe=0;pe<m;pe++)ee.bl_tree[2*pe]=0;ee.dyn_ltree[2*w]=1,ee.opt_len=ee.static_len=0,ee.last_lit=ee.matches=0}function ae(ee){8<ee.bi_valid?z(ee,ee.bi_buf):0<ee.bi_valid&&(ee.pending_buf[ee.pending++]=ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0}function he(ee,pe,Re,Se){var be=2*pe,Ne=2*Re;return ee[be]<ee[Ne]||ee[be]===ee[Ne]&&Se[pe]<=Se[Re]}function ie(ee,pe,Re){for(var Se=ee.heap[Re],be=Re<<1;be<=ee.heap_len&&(be<ee.heap_len&&he(pe,ee.heap[be+1],ee.heap[be],ee.depth)&&be++,!he(pe,Se,ee.heap[be],ee.depth));)ee.heap[Re]=ee.heap[be],Re=be,be<<=1;ee.heap[Re]=Se}function le(ee,pe,Re){var Se,be,Ne,Ae,Pe=0;if(ee.last_lit!==0)for(;Se=ee.pending_buf[ee.d_buf+2*Pe]<<8|ee.pending_buf[ee.d_buf+2*Pe+1],be=ee.pending_buf[ee.l_buf+Pe],Pe++,Se===0?Q(ee,be,pe):(Q(ee,(Ne=O[be])+d+1,pe),(Ae=T[Ne])!==0&&G(ee,be-=j[Ne],Ae),Q(ee,Ne=U(--Se),Re),(Ae=A[Ne])!==0&&G(ee,Se-=Y[Ne],Ae)),Pe<ee.last_lit;);Q(ee,w,pe)}function Ce(ee,pe){var Re,Se,be,Ne=pe.dyn_tree,Ae=pe.stat_desc.static_tree,Pe=pe.stat_desc.has_stree,we=pe.stat_desc.elems,Le=-1;for(ee.heap_len=0,ee.heap_max=p,Re=0;Re<we;Re++)Ne[2*Re]!==0?(ee.heap[++ee.heap_len]=Le=Re,ee.depth[Re]=0):Ne[2*Re+1]=0;for(;ee.heap_len<2;)Ne[2*(be=ee.heap[++ee.heap_len]=Le<2?++Le:0)]=1,ee.depth[be]=0,ee.opt_len--,Pe&&(ee.static_len-=Ae[2*be+1]);for(pe.max_code=Le,Re=ee.heap_len>>1;1<=Re;Re--)ie(ee,Ne,Re);for(be=we;Re=ee.heap[1],ee.heap[1]=ee.heap[ee.heap_len--],ie(ee,Ne,1),Se=ee.heap[1],ee.heap[--ee.heap_max]=Re,ee.heap[--ee.heap_max]=Se,Ne[2*be]=Ne[2*Re]+Ne[2*Se],ee.depth[be]=(ee.depth[Re]>=ee.depth[Se]?ee.depth[Re]:ee.depth[Se])+1,Ne[2*Re+1]=Ne[2*Se+1]=be,ee.heap[1]=be++,ie(ee,Ne,1),2<=ee.heap_len;);ee.heap[--ee.heap_max]=ee.heap[1],(function(ze,tt){var rt,bt,Kt,Wt,Mn,Ft,hn=tt.dyn_tree,Kn=tt.max_code,zn=tt.stat_desc.static_tree,Fr=tt.stat_desc.has_stree,er=tt.stat_desc.extra_bits,Sr=tt.stat_desc.extra_base,Tn=tt.stat_desc.max_length,an=0;for(Wt=0;Wt<=g;Wt++)ze.bl_count[Wt]=0;for(hn[2*ze.heap[ze.heap_max]+1]=0,rt=ze.heap_max+1;rt<p;rt++)Tn<(Wt=hn[2*hn[2*(bt=ze.heap[rt])+1]+1]+1)&&(Wt=Tn,an++),hn[2*bt+1]=Wt,Kn<bt||(ze.bl_count[Wt]++,Mn=0,Sr<=bt&&(Mn=er[bt-Sr]),Ft=hn[2*bt],ze.opt_len+=Ft*(Wt+Mn),Fr&&(ze.static_len+=Ft*(zn[2*bt+1]+Mn)));if(an!==0){do{for(Wt=Tn-1;ze.bl_count[Wt]===0;)Wt--;ze.bl_count[Wt]--,ze.bl_count[Wt+1]+=2,ze.bl_count[Tn]--,an-=2}while(0<an);for(Wt=Tn;Wt!==0;Wt--)for(bt=ze.bl_count[Wt];bt!==0;)Kn<(Kt=ze.heap[--rt])||(hn[2*Kt+1]!==Wt&&(ze.opt_len+=(Wt-hn[2*Kt+1])*hn[2*Kt],hn[2*Kt+1]=Wt),bt--)}})(ee,pe),de(Ne,Le,ee.bl_count)}function X(ee,pe,Re){var Se,be,Ne=-1,Ae=pe[1],Pe=0,we=7,Le=4;for(Ae===0&&(we=138,Le=3),pe[2*(Re+1)+1]=65535,Se=0;Se<=Re;Se++)be=Ae,Ae=pe[2*(Se+1)+1],++Pe<we&&be===Ae||(Pe<Le?ee.bl_tree[2*be]+=Pe:be!==0?(be!==Ne&&ee.bl_tree[2*be]++,ee.bl_tree[2*E]++):Pe<=10?ee.bl_tree[2*C]++:ee.bl_tree[2*S]++,Ne=be,Le=(Pe=0)===Ae?(we=138,3):be===Ae?(we=6,3):(we=7,4))}function fe(ee,pe,Re){var Se,be,Ne=-1,Ae=pe[1],Pe=0,we=7,Le=4;for(Ae===0&&(we=138,Le=3),Se=0;Se<=Re;Se++)if(be=Ae,Ae=pe[2*(Se+1)+1],!(++Pe<we&&be===Ae)){if(Pe<Le)for(;Q(ee,be,ee.bl_tree),--Pe!=0;);else be!==0?(be!==Ne&&(Q(ee,be,ee.bl_tree),Pe--),Q(ee,E,ee.bl_tree),G(ee,Pe-3,2)):Pe<=10?(Q(ee,C,ee.bl_tree),G(ee,Pe-3,3)):(Q(ee,S,ee.bl_tree),G(ee,Pe-11,7));Ne=be,Le=(Pe=0)===Ae?(we=138,3):be===Ae?(we=6,3):(we=7,4)}}l(Y);var ce=!1;function ne(ee,pe,Re,Se){G(ee,(u<<1)+(Se?1:0),3),(function(be,Ne,Ae,Pe){ae(be),z(be,Ae),z(be,~Ae),o.arraySet(be.pending_buf,be.window,Ne,Ae,be.pending),be.pending+=Ae})(ee,pe,Re)}i._tr_init=function(ee){ce||((function(){var pe,Re,Se,be,Ne,Ae=new Array(g+1);for(be=Se=0;be<c-1;be++)for(j[be]=Se,pe=0;pe<1<<T[be];pe++)O[Se++]=be;for(O[Se-1]=be,be=Ne=0;be<16;be++)for(Y[be]=Ne,pe=0;pe<1<<A[be];pe++)$[Ne++]=be;for(Ne>>=7;be<h;be++)for(Y[be]=Ne<<7,pe=0;pe<1<<A[be]-7;pe++)$[256+Ne++]=be;for(Re=0;Re<=g;Re++)Ae[Re]=0;for(pe=0;pe<=143;)P[2*pe+1]=8,pe++,Ae[8]++;for(;pe<=255;)P[2*pe+1]=9,pe++,Ae[9]++;for(;pe<=279;)P[2*pe+1]=7,pe++,Ae[7]++;for(;pe<=287;)P[2*pe+1]=8,pe++,Ae[8]++;for(de(P,f+1,Ae),pe=0;pe<h;pe++)N[2*pe+1]=5,N[2*pe]=te(pe,5);B=new V(P,T,d+1,f,g),H=new V(N,A,0,h,g),q=new V(new Array(0),D,0,m,v)})(),ce=!0),ee.l_desc=new L(ee.dyn_ltree,B),ee.d_desc=new L(ee.dyn_dtree,H),ee.bl_desc=new L(ee.bl_tree,q),ee.bi_buf=0,ee.bi_valid=0,se(ee)},i._tr_stored_block=ne,i._tr_flush_block=function(ee,pe,Re,Se){var be,Ne,Ae=0;0<ee.level?(ee.strm.data_type===2&&(ee.strm.data_type=(function(Pe){var we,Le=4093624447;for(we=0;we<=31;we++,Le>>>=1)if(1&Le&&Pe.dyn_ltree[2*we]!==0)return s;if(Pe.dyn_ltree[18]!==0||Pe.dyn_ltree[20]!==0||Pe.dyn_ltree[26]!==0)return a;for(we=32;we<d;we++)if(Pe.dyn_ltree[2*we]!==0)return a;return s})(ee)),Ce(ee,ee.l_desc),Ce(ee,ee.d_desc),Ae=(function(Pe){var we;for(X(Pe,Pe.dyn_ltree,Pe.l_desc.max_code),X(Pe,Pe.dyn_dtree,Pe.d_desc.max_code),Ce(Pe,Pe.bl_desc),we=m-1;3<=we&&Pe.bl_tree[2*I[we]+1]===0;we--);return Pe.opt_len+=3*(we+1)+5+5+4,we})(ee),be=ee.opt_len+3+7>>>3,(Ne=ee.static_len+3+7>>>3)<=be&&(be=Ne)):be=Ne=Re+5,Re+4<=be&&pe!==-1?ne(ee,pe,Re,Se):ee.strategy===4||Ne===be?(G(ee,2+(Se?1:0),3),le(ee,P,N)):(G(ee,4+(Se?1:0),3),(function(Pe,we,Le,ze){var tt;for(G(Pe,we-257,5),G(Pe,Le-1,5),G(Pe,ze-4,4),tt=0;tt<ze;tt++)G(Pe,Pe.bl_tree[2*I[tt]+1],3);fe(Pe,Pe.dyn_ltree,we-1),fe(Pe,Pe.dyn_dtree,Le-1)})(ee,ee.l_desc.max_code+1,ee.d_desc.max_code+1,Ae+1),le(ee,ee.dyn_ltree,ee.dyn_dtree)),se(ee),Se&&ae(ee)},i._tr_tally=function(ee,pe,Re){return ee.pending_buf[ee.d_buf+2*ee.last_lit]=pe>>>8&255,ee.pending_buf[ee.d_buf+2*ee.last_lit+1]=255&pe,ee.pending_buf[ee.l_buf+ee.last_lit]=255&Re,ee.last_lit++,pe===0?ee.dyn_ltree[2*Re]++:(ee.matches++,pe--,ee.dyn_ltree[2*(O[Re]+d+1)]++,ee.dyn_dtree[2*U(pe)]++),ee.last_lit===ee.lit_bufsize-1},i._tr_align=function(ee){G(ee,2,3),Q(ee,w,P),(function(pe){pe.bi_valid===16?(z(pe,pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0):8<=pe.bi_valid&&(pe.pending_buf[pe.pending++]=255&pe.bi_buf,pe.bi_buf>>=8,pe.bi_valid-=8)})(ee)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(o){(function(s,a){if(!s.setImmediate){var l,u,c,d,f=1,h={},m=!1,p=s.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(s);g=g&&g.setTimeout?g:s,l={}.toString.call(s.process)==="[object process]"?function(E){process.nextTick(function(){v(E)})}:(function(){if(s.postMessage&&!s.importScripts){var E=!0,C=s.onmessage;return s.onmessage=function(){E=!1},s.postMessage("","*"),s.onmessage=C,E}})()?(d="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",w,!1):s.attachEvent("onmessage",w),function(E){s.postMessage(d+E,"*")}):s.MessageChannel?((c=new MessageChannel).port1.onmessage=function(E){v(E.data)},function(E){c.port2.postMessage(E)}):p&&"onreadystatechange"in p.createElement("script")?(u=p.documentElement,function(E){var C=p.createElement("script");C.onreadystatechange=function(){v(E),C.onreadystatechange=null,u.removeChild(C),C=null},u.appendChild(C)}):function(E){setTimeout(v,0,E)},g.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var C=new Array(arguments.length-1),S=0;S<C.length;S++)C[S]=arguments[S+1];var T={callback:E,args:C};return h[f]=T,l(f),f++},g.clearImmediate=y}function y(E){delete h[E]}function v(E){if(m)setTimeout(v,0,E);else{var C=h[E];if(C){m=!0;try{(function(S){var T=S.callback,A=S.args;switch(A.length){case 0:T();break;case 1:T(A[0]);break;case 2:T(A[0],A[1]);break;case 3:T(A[0],A[1],A[2]);break;default:T.apply(a,A)}})(C)}finally{y(E),m=!1}}}}function w(E){E.source===s&&typeof E.data=="string"&&E.data.indexOf(d)===0&&v(+E.data.slice(d.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Ri<"u"?Ri:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(tU)),tU.exports}var hQt=fQt();const RL=ms(hQt);async function pQt({storageEngine:e,participantId:t,identifier:n,audioUrl:r}){const i=r||await e.getAudioUrl(n,t);if(i){const s=await(await fetch(i)).blob(),a=URL.createObjectURL(s);Object.assign(document.createElement("a"),{href:a,download:`${t}_${n}_audio.webm`}).click(),URL.revokeObjectURL(a)}const o=await e.getTranscriptUrl(n,t);if(o){const s=await(await fetch(o)).blob(),a=URL.createObjectURL(s);Object.assign(document.createElement("a"),{href:a,download:`${t}_${n}_transcript.txt`}).click(),URL.revokeObjectURL(a)}}async function mQt({storageEngine:e,participantId:t,identifier:n,screenRecordingUrl:r}){const i=r||await e.getScreenRecording(n,t);if(i){const o=await(await fetch(i)).blob(),s=URL.createObjectURL(o);Object.assign(document.createElement("a"),{href:s,download:`${t}_${n}_screenRecording.webm`}).click(),URL.revokeObjectURL(s)}}async function RG(e,t,n){if(n){const i=await(await fetch(n)).blob();e.file(t,i)}}async function IL(e,t){const n=await e.generateAsync({type:"blob"}),r=URL.createObjectURL(n);Object.assign(document.createElement("a"),{href:r,download:t}).click(),URL.revokeObjectURL(r)}async function gQt({storageEngine:e,participantId:t,identifier:n,namePrefix:r,zip:i}){const o=i||new RL;try{const s=await e.getAudioUrl(n,t);await RG(o,`${r}_${t}_${n}.webm`,s);const a=await e.getTranscriptUrl(n,t);await RG(o,`${r}_${t}_${n}_transcript.txt`,a),i||IL(o,`${r}_${t}_${n}_audio.zip`)}catch(s){console.warn(`Failed to fetch files for ${n}:`,s)}}async function yQt({storageEngine:e,participants:t,studyId:n,fileName:r}){const i=r||n,o=new RL,s=t.flatMap(a=>Object.values(a.answers).filter(u=>u.endTime>0).sort((u,c)=>u.startTime-c.startTime).map(async u=>{const c=`${u.componentName}_${u.trialOrder}`;await gQt({storageEngine:e,participantId:a.participantId,identifier:c,namePrefix:i,zip:o})}));await Promise.all(s),await IL(o,`${i}_audio.zip`)}async function vQt({storageEngine:e,participantId:t,identifier:n,namePrefix:r,zip:i}){const o=i||new RL;try{const s=await e.getScreenRecording(n,t);await RG(o,`${r}_${t}_${n}.webm`,s),i||IL(o,`${r}_${t}_${n}_screenRecording.zip`)}catch(s){console.warn(`Failed to fetch files for ${n}:`,s)}}async function bQt({storageEngine:e,participants:t,studyId:n,fileName:r}){const i=r||n,o=new RL,s=t.flatMap(a=>Object.values(a.answers).filter(u=>u.endTime>0).sort((u,c)=>u.startTime-c.startTime).map(async u=>{const c=`${u.componentName}_${u.trialOrder}`;await vQt({storageEngine:e,participantId:a.participantId,identifier:c,namePrefix:i,zip:o})}));await Promise.all(s),await IL(o,`${i}_screenRecording.zip`)}function DFe({selectedParticipants:e=[],refresh:t,footer:n=!1}){const{storageEngine:r}=Mi(),{user:i}=Hy(),{studyId:o}=hs(),[s]=kc(),a=k.useMemo(()=>s.get("participantId")||void 0,[s]),[l,u]=k.useState(null);k.useEffect(()=>{async function A(){if(r&&a&&o){const D=await r.getParticipantData(a);u(D)}else u(null)}A()},[r,a,o]);const c=k.useCallback(async()=>{if(r&&a&&o){const A=await r.getParticipantData(a);u(A)}},[r,a,o]),[d,f]=k.useState(!1),[h,m]=k.useState(!1),[p,g]=k.useState(""),y=k.useMemo(()=>[...e,l].filter(A=>A!==null),[e,l]),v=k.useMemo(()=>y.filter(A=>A.rejected).length,[y]),w=k.useMemo(()=>y.filter(A=>!A.rejected).length,[y]),E=k.useCallback(async(A,D)=>{if(r&&o){const I=D===""?"Rejected by admin":D;await r.rejectParticipant(A,I)}},[r,o]),C=k.useCallback(async A=>{r&&o&&await r.undoRejectParticipant(A)},[r,o]),S=k.useCallback(async()=>{if(f(!1),y.length>0){const D=y.filter(I=>!I.rejected).map(async I=>await E(I.participantId,p));await Promise.all(D)}else await E(a||"",p);t&&await t(),l&&await c(),g("")},[y,t,l,E,p,a,c]),T=k.useCallback(async()=>{if(m(!1),y.length>0){const A=y.map(async D=>await C(D.participantId));await Promise.all(A)}else await C(a||""),await c();t&&await t(),l&&await c()},[y,t,l,C,a,c]);return x.jsxs(x.Fragment,{children:[v>0&&x.jsx(yt,{label:"Only admins can undo rejection",disabled:i.isAdmin,children:x.jsxs(Ut,{disabled:!i.isAdmin,onClick:()=>m(!0),color:"blue",children:["Undo Reject",n?"":` Participants (${v})`]})}),w>0&&x.jsx(yt,{label:"Only admins can reject participants",disabled:i.isAdmin,children:x.jsxs(Ut,{disabled:!i.isAdmin,onClick:()=>f(!0),color:"red",children:["Reject",n?"":` Participants (${w})`]})}),x.jsxs(Ii,{opened:d,onClose:()=>f(!1),title:w>0?`Reject Participants (${w})`:"Reject Participant",children:[x.jsxs(sd,{icon:x.jsx(ld,{size:16}),title:"Warning",color:"orange",mb:"md",children:[y.length>0&&v>0&&x.jsxs(x.Fragment,{children:[v," ","of your"," ",y.length," ","selected participant",y.length===1?"":"s"," ",v===1?"has":"have"," ","already been rejected. Clicking reject participants will now reject the other"," ",w,".",x.jsx("br",{}),x.jsx("br",{})]}),"When participants are rejected, their sequences will be reassigned to other participants."]}),x.jsx($l,{label:"Please enter the reason for rejection.",onChange:A=>g(A.target.value)}),x.jsxs(At,{mt:"sm",justify:"right",children:[x.jsx(Ut,{mr:5,variant:"subtle",color:"dark",onClick:()=>{f(!1),g("")},children:"Cancel"}),x.jsx(Ut,{color:"red",onClick:S,children:y.length>0?"Reject Participants":"Reject Participant"})]})]}),x.jsxs(Ii,{opened:h,onClose:()=>m(!1),title:x.jsx(Ve,{children:`Undo Reject Participants (${y.length})`}),children:[x.jsx(sd,{icon:x.jsx(ld,{size:16}),title:"Warning",color:"orange",mb:"md",children:"When you undo participant rejections, you may end up with unbalanced latin squares. This is because the rejected sequence may have been reassigned."}),y.length>0?x.jsx(Ve,{children:"Are you sure you want to undo the rejection of these participants?"}):x.jsxs(x.Fragment,{children:[x.jsx(Ve,{children:"The participant has been rejected."}),x.jsxs(Ve,{children:["Reason:"," ",l?.rejected&&typeof l.rejected=="object"?l.rejected.reason:"No reason provided"]})]}),x.jsxs(At,{mt:"sm",justify:"right",children:[x.jsx(Ut,{mr:5,variant:"subtle",color:"dark",onClick:()=>m(!1),children:"Cancel"}),x.jsx(Ut,{color:"blue",onClick:T,children:y.length>0?"Undo Reject Participants":"Undo Reject Participant"})]})]})]})}const nU={left:5,right:5};function wQt(e,t){return t?t.getParticipantData(e):null}async function xQt(e,t,n,r){return r&&t?await r.getAllParticipantAndTaskTags(e,t):null}async function Mve(e,t){if(e){const n=await e.getTags(t);return Array.isArray(n)?n:[]}return[]}function PFe({visibleParticipants:e,rawTranscript:t,currentShownTranscription:n,width:r,onTimeUpdate:i,isReplay:o,editedTranscript:s,currentTrial:a,saveProvenance:l,jumpedToLine:u=0,studyId:c,setHasAudio:d,storageEngine:f,forceMute:h,onAnalysisIsPlayingChange:m,onProvenanceTimelineChange:p}){const g=Hy(),[y,v]=k.useState(1),[w,E]=kc(),C=k.useMemo(()=>w.get("participantId")||"",[w]),{value:S}=hf(wQt,[C,f]),{value:T,execute:A}=hf(Mve,[f,"task"]),{value:D,execute:I}=hf(Mve,[f,"participant"]),[P,N]=k.useState(!1),[$,O]=k.useState(!0),j=h?!0:$,[B,H]=k.useState(null),[q,Y]=k.useState(null);k.useEffect(()=>{async function Se(){if(!f||!C||!a){H(null);return}try{const be=await f.getAudioUrl(a,C);H(be)}catch{H(null)}try{const be=await f.getScreenRecording(a,C);Y(be)}catch{Y(null)}}Se()},[f,C,a]);const V=k.useCallback(async()=>{!f||!C||!a||await pQt({storageEngine:f,participantId:C,identifier:a,audioUrl:B})},[f,C,a,B]),L=k.useCallback(async()=>{!f||!C||!a||await mQt({storageEngine:f,participantId:C,identifier:a,screenRecordingUrl:q})},[f,C,a,q]),U=k.useCallback(Se=>{localStorage.setItem("analysisIsPlaying",Se?"true":"false"),Se||O(!0),N(Se),m&&m(Se)},[m]),[z,G]=k.useState(null),{value:Q,execute:te}=hf(xQt,[g.user.user?.email||"temp",C,c,f]),[de,se]=k.useState();k.useEffect(()=>{Q&&se(Q)},[Q]);const ae=k.useMemo(()=>(S&&!S.answers[a]&&E({participantId:C,currentTrial:Object.entries(S.answers).find(([Se,be])=>+be.trialOrder.split("_")[0]==0)?.[0]||""}),S?S.answers[a].componentName:""),[a,S,C,E]),he=k.useMemo(()=>{if(!S||!S.answers[a])return null;const Se=Object.values(S.answers||{}).map(Ae=>[Ae.startTime,Ae.endTime]).flat(),be=uRe(Se);return Zb([nU.left,r+nU.left+nU.right]).domain(a?[S.answers[a].startTime,S.answers[a].endTime]:be).clamp(!0)},[S,a,r]);k.useEffect(()=>{const Se=[];if(!s||s.length===0){G(null);return}s.forEach((be,Ne)=>{t&&(Ne===0||be.transcriptMappingStart!==s[Ne-1].transcriptMappingStart)&&Se.push({start:Ne===0?0:t.results[be.transcriptMappingStart-1].resultEndTime,end:Ne===s.length-1?t.results[be.transcriptMappingEnd].resultEndTime+500:t.results[be.transcriptMappingEnd].resultEndTime,lineStart:be.transcriptMappingStart,lineEnd:be.transcriptMappingEnd,tags:s.filter(Ae=>Ae.transcriptMappingStart===be.transcriptMappingStart&&Ae.transcriptMappingEnd===be.transcriptMappingEnd).map(Ae=>Ae.selectedTags)})}),G(Se)},[s,G,t]);const ie=k.useCallback(Se=>{let be=e.findIndex(Ne=>Ne===C)+Se;be>=e.length?be=0:be<0&&(be=e.length-1),localStorage.setItem("participantId",e[be]),E({participantId:e[be]||""})},[C,E,e]),le=k.useCallback(Se=>{if(!S||!a)return;let be=+S.answers[a].trialOrder.split("_")[0]+Se;be>=Object.values(S.answers).length?be=0:be<0&&(be=Object.values(S.answers).length-1);const Ne=Object.values(S.answers).find(Pe=>+Pe.trialOrder.split("_")[0]===be),Ae=Ne?`${Ne.componentName}_${Ne.trialOrder.split("_")[0]}`:"";localStorage.setItem("currentTrial",Ae),E({participantId:C,currentTrial:Ae})},[a,S,C,E]),Ce=k.useCallback((Se,be)=>{f&&f.saveTags(Se,be).then(()=>{be==="task"?A(f,be):I(f,be)})},[I,A,f]),X=k.useCallback((Se,be)=>{if(!T)return;const Ne=T.findIndex(Pe=>Pe.id===Se.id),Ae=Array.from(T);Ae[Ne]=be,Ce(Ae,"task")},[Ce,T]),fe=k.useCallback((Se,be)=>{if(!D)return;const Ne=D.findIndex(Pe=>Pe.id===Se.id),Ae=Array.from(D);Ae[Ne]=be,Ce(Ae,"participant")},[Ce,D]),ce=k.useCallback(Se=>{Ce([...T||[],Se],"task")},[Ce,T]),ne=k.useCallback(Se=>{Ce([...T||[],Se],"participant")},[Ce,T]),ee=k.useMemo(()=>z&&z[u]?.start||0,[u,z]),[pe,Re]=k.useState("");return x.jsx(io.Footer,{zIndex:101,withBorder:!1,children:x.jsxs(or,{style:{backgroundColor:"var(--mantine-color-blue-1)",height:"100%"},gap:5,justify:"center",children:[x.jsx(iQt,{isMuted:j,setHasAudio:d,jumpedToAudioTime:ee,speed:y,setSpeed:v,saveProvenance:l,analysisIsPlaying:P,setAnalysisIsPlaying:U,setTime:i,setTimeString:Se=>Re(Se),answers:S?S.answers:{},taskName:a,context:o?"provenanceVis":"audioAnalysis",onProvenanceTimelineChange:p}),he&&z?x.jsx(oQt,{startTime:he.domain()[0],xScale:he,transcriptLines:z,currentShownTranscription:n||0}):null,x.jsxs(Gn,{gap:"xs",style:{width:"100%"},justify:"center",wrap:"nowrap",children:[x.jsxs(Gn,{wrap:"nowrap",children:[x.jsx(Ve,{ff:"monospace",style:{textAlign:"right"},mt:"lg",c:"dimmed",children:pe}),x.jsx(yt,{label:"Play",children:x.jsx(Cn,{mt:25,size:"xl",variant:"light",onClick:()=>{U(!P),O(!$)},children:P?x.jsx(hrt,{}):x.jsx(mrt,{})})}),x.jsxs(Or,{styles:{dropdown:{padding:0}},position:"bottom",withArrow:!0,shadow:"md",children:[x.jsx(Or.Target,{children:x.jsx(yt,{label:"Speed",children:x.jsx(Cn,{style:{width:"50px"},mt:25,variant:"light",children:`${y}x`})})}),x.jsxs(Or.Dropdown,{children:[x.jsx(aX,{value:y.toString(),onChange:Se=>{v(+Se),localStorage.setItem("currentSpeed",Se)},orientation:"vertical",data:[{label:"0.5x",value:"0.5"},{label:"1x",value:"1"},{label:"1.5x",value:"1.5"},{label:"2x",value:"2"},{label:"4x",value:"4"},{label:"8x",value:"8"}]}),x.jsx(or,{gap:"xs"})]})]})]}),x.jsxs(Gn,{wrap:"nowrap",gap:"lg",children:[x.jsx(Hm,{leftSection:x.jsx(yt,{label:"Previous Participant",children:x.jsx(Cn,{size:"sm",variant:"light",onClick:()=>ie(-1),children:x.jsx(GV,{})})}),rightSection:x.jsx(yt,{label:"Next Participant",children:x.jsx(Cn,{size:"sm",variant:"light",onClick:()=>ie(1),style:{pointerEvents:"all"},children:x.jsx(Sue,{})})}),label:"Participant Id",style:{width:"200px"},value:C,onChange:Se=>{E({currentTrial:a,participantId:Se||""}),localStorage.setItem("participantId",Se||"")},data:e.map(Se=>Se).sort(),searchable:!0}),x.jsxs(or,{gap:"4",children:[x.jsxs(Gn,{gap:"xs",align:"center",children:[x.jsx(Ve,{size:"sm",fw:500,children:"Participant Tags"}),x.jsx(yt,{w:300,multiline:!0,label:"Participant tags allow you to categorize or label the participant. Click in the box to add, create, or edit tags.",children:x.jsx(Wm,{size:16})})]}),x.jsx(kG,{width:200,tags:D||[],editTagCallback:fe,createTagCallback:ne,tagsEmptyText:"Add Participant Tags",onSelectTags:Se=>{if(f&&Q){let be=structuredClone(Q);be||(be={participantTags:[],taskTags:{}}),be.participantTags=Se,se(be),f.saveAllParticipantAndTaskTags(g.user.user?.email||"temp",C,be).then(()=>{te(g.user.user?.email||"temp",C,c,f)})}},selectedTags:de?de.participantTags:[]})]}),x.jsx(Hm,{leftSection:x.jsx(yt,{label:"Previous Task",children:x.jsx(Cn,{size:"sm",variant:"light",onClick:()=>le(-1),children:x.jsx(GV,{})})}),rightSection:x.jsx(yt,{label:"Next Task",children:x.jsx(Cn,{size:"sm",variant:"light",onClick:()=>le(1),style:{pointerEvents:"all"},children:x.jsx(Sue,{})})}),label:"Task",style:{width:"200px"},value:ae,onChange:Se=>{if(S&&Se){const be=Object.entries(S.answers).find(([Ne,Ae])=>+Ae.trialOrder.split("_")[0]===md(S?.sequence).indexOf(Se))?.[0]||"";localStorage.setItem("currentTrial",be),E({participantId:C,currentTrial:be})}},data:S?md(S?.sequence):[],searchable:!0}),x.jsxs(or,{gap:"4",children:[x.jsxs(Gn,{gap:"xs",align:"center",children:[x.jsx(Ve,{size:"sm",fw:500,children:"Task Tags"}),x.jsx(yt,{w:300,multiline:!0,label:"Task tags allow you to categorize or label the current task. Click in the box to add, create, or edit tags.",children:x.jsx(Wm,{size:16})})]}),x.jsx(kG,{width:200,tags:T||[],editTagCallback:X,createTagCallback:ce,tagsEmptyText:"Add Task Tags",onSelectTags:Se=>{if(f&&Q){let be=structuredClone(Q);be||(be={participantTags:[],taskTags:{}}),be.taskTags[a]=Se,se(be),f.saveAllParticipantAndTaskTags(g.user.user?.email||"temp",C,be).then(()=>{te(g.user.user?.email||"temp",C,c,f)})}},selectedTags:de?de.taskTags[a]||[]:[]})]})]}),x.jsx(Ut,{mt:"lg",variant:"light",component:"a",href:o?`${bo}analysis/stats/${c}/tagging?participantId=${C}&currentTrial=${a}`:`${bo}${c}/${ko(S?+(S.answers[a]?.trialOrder.split("_")[0]||0):0)}?participantId=${C}&currentTrial=${a}`,target:"_blank",children:o?"Transcript":"Replay"}),x.jsxs(Gn,{mt:"lg",children:[B&&x.jsx(yt,{label:"Download audio",children:x.jsx(Cn,{variant:"light",size:30,onClick:V,children:x.jsx(_Se,{})})}),q&&x.jsx(yt,{label:"Download screen recording",children:x.jsx(Cn,{variant:"filled",size:30,onClick:L,children:x.jsx(gSe,{})})}),x.jsx(DFe,{selectedParticipants:[],footer:!0})]})]})]})})}function _Qt(e){return e?e.getAllParticipantIds():null}function EQt({setHasAudio:e}){const{storageEngine:t}=Mi(),{value:n}=hf(_Qt,[t]),r=Km(),i=Po(),{currentComponentHasScreenRecording:o}=mQ(),{studyId:s}=hs(),{saveAnalysisState:a}=Zi(),{setAnalysisIsPlaying:l,setProvenanceJumpTime:u}=Zi(),c=k.useCallback(h=>{i(u(h))},[i,u]),d=k.useCallback(h=>{i(l(h))},[i,l]),f=k.useCallback(h=>i(a(h)),[i,a]);return x.jsx(PFe,{storageEngine:t,setHasAudio:e,studyId:s||"",currentTrial:r,isReplay:!0,visibleParticipants:n||[],rawTranscript:null,currentShownTranscription:null,width:3e3,onTimeUpdate:()=>{},saveProvenance:f,onProvenanceTimelineChange:c,onAnalysisIsPlayingChange:d,forceMute:o})}function CQt(){const e=Bu(),t=e.uiConfig.minWidthSize,n=e.uiConfig.minHeightSize,[r,i]=k.useState(!1),[o,s]=k.useState(!1),[a,l]=k.useState(60),[u,c]=k.useState(!1),[d,f]=k.useState({width:0,height:0}),h=k.useRef(null),{storageEngine:m}=Mi(),p=qf(),g=pl();return k.useEffect(()=>{const y=()=>{if(f({width:window.innerWidth,height:window.innerHeight}),t===void 0||n===void 0)return;const v=window.innerWidth<t,w=window.innerHeight<n,E=v||w,C=()=>{l(60),h.current&&(clearInterval(h.current),h.current=null),h.current=setInterval(()=>{l(S=>S<=1?(h.current&&(clearInterval(h.current),h.current=null),m&&!o&&(s(!0),c(!0),m.rejectCurrentParticipant("Screen resolution too small").catch(()=>{console.error("Failed to reject participant who failed training")})),0):S-1)},1e3)};o||(E?(i(!0),C()):(i(!1),h.current&&(clearInterval(h.current),h.current=null)))};return y(),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y),h.current&&clearInterval(h.current)}},[t,n,m,p,g,o]),r?x.jsx(Ii,{opened:r,onClose:()=>{},fullScreen:!0,withCloseButton:!1,children:x.jsxs(or,{align:"center",justify:"center",children:[x.jsx(ld,{size:64,color:"orange"}),x.jsx(Yr,{order:3,children:" Screen Resolution Warning "}),x.jsx(Ve,{size:"md",ta:"center",children:u?x.jsxs(x.Fragment,{children:["Thank you for participating in this study. You have been timed out and will not be able to continue.",x.jsx("br",{}),"You may now close this page."]}):x.jsxs(x.Fragment,{children:["Your screen resolution is below the minimum requirement:",x.jsx("br",{}),t!==void 0&&` Width: ${t}px`,n!==void 0&&` Height: ${n}px`,x.jsx("br",{}),`Detected: Width: ${d.width}px Height: ${d.height}px`,x.jsx("br",{}),"Please resize your browser window to the minimum required size within"," ",a," ","seconds."]})})]})}):null}function SQt(){return x.jsx(Ii,{opened:!0,onClose:()=>{},fullScreen:!0,withCloseButton:!1,children:x.jsxs(or,{align:"center",justify:"center",children:[x.jsx(ld,{size:64,color:"orange"}),x.jsx(Yr,{order:3,children:" Screen Recording Stopped "}),x.jsx(Ve,{size:"md",ta:"center",children:x.jsxs(x.Fragment,{children:["Thank you for participating in this study. Screen recording was stopped and you will not be able to continue.",x.jsx("br",{}),"You may now close this page."]})})]})})}function TQt(){const e=k.useRef([]),t=Po(),{toggleStudyBrowser:n}=Zi(),r=Eg(),i=Bu(),o=Wf(),s=k.useMemo(()=>Bl(i.components[o]||{},i),[o,i]),a=k.useMemo(()=>s.windowEventDebounceTime??i.uiConfig.windowEventDebounceTime??100,[s,i]);XQ(i?.uiConfig.stylesheetPath);const l=fr(S=>S.showStudyBrowser),u=fr(S=>S.modes),c=fmt(),{isRejected:d}=c,f=fr(S=>S.analysisHasScreenRecording),h=fr(S=>S.analysisCanPlayScreenRecording);k.useEffect(()=>{const S=Qd(B=>{e.current.push([Date.now(),"focus",B.target instanceof HTMLElement?B.target.tagName:""])},a,{maxWait:a}),T=Qd(B=>{e.current.push([Date.now(),"input",B.data??""])},a,{maxWait:a}),A=Qd(B=>{e.current.push([Date.now(),"keydown",B.key])},a,{maxWait:a}),D=Qd(B=>{e.current.push([Date.now(),"keyup",B.key])},a,{maxWait:a}),I=Qd(B=>{e.current.push([Date.now(),"mousedown",[B.clientX,B.clientY]])},a,{maxWait:a}),P=Qd(B=>{e.current.push([Date.now(),"mouseup",[B.clientX,B.clientY]])},a,{maxWait:a}),N=Qd(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},a,{maxWait:a}),$=Qd(B=>{e.current.push([Date.now(),"mousemove",[B.clientX,B.clientY]])},a,{maxWait:a}),O=Qd(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},a,{maxWait:a}),j=Qd(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},a,{maxWait:a});return window.addEventListener("focus",S,!0),window.addEventListener("input",T),window.addEventListener("keydown",A),window.addEventListener("keyup",D),window.addEventListener("mousedown",I),window.addEventListener("mouseup",P),window.addEventListener("resize",N),window.addEventListener("mousemove",$),window.addEventListener("scroll",O),document.addEventListener("visibilitychange",j),()=>{window.removeEventListener("focus",S,!0),window.removeEventListener("input",T),window.removeEventListener("keydown",A),window.removeEventListener("keyup",D),window.removeEventListener("mousedown",I),window.removeEventListener("mouseup",P),window.removeEventListener("resize",N),window.removeEventListener("mousemove",$),window.removeEventListener("scroll",O),document.removeEventListener("visibilitychange",j)}},[]);const{studyNavigatorEnabled:m,dataCollectionEnabled:p}=k.useMemo(()=>u,[u]),g=k.useMemo(()=>f&&h||o==="end"?!1:s.withSidebar??i.uiConfig.withSidebar,[f,h,o,s.withSidebar,i.uiConfig.withSidebar]),y=k.useMemo(()=>s?.sidebarWidth??i.uiConfig.sidebarWidth??300,[s,i]),v=k.useMemo(()=>s.showTitleBar??i.uiConfig.showTitleBar??!0,[s,i]),w=k.useMemo(()=>m&&l,[m,l]),[E,C]=k.useState();return x.jsx(HAe.Provider,{value:e,children:x.jsx(lAe.Provider,{value:c,children:x.jsxs(io,{padding:"md",header:{height:v?70:0},aside:{width:360,breakpoint:"xs",collapsed:{desktop:!w,mobile:!w}},footer:{height:r?125+(E?55:0):0},children:[x.jsx(YGt,{}),v&&x.jsx(KGt,{studyNavigatorEnabled:m,dataCollectionEnabled:p}),x.jsx(CQt,{}),d&&x.jsx(SQt,{}),x.jsx(QGt,{}),x.jsx(JGt,{}),x.jsxs(At,{direction:"row",gap:"xs",children:[x.jsx(XGt,{width:y,top:v?70:0,sidebarOpen:g}),x.jsxs(io.Main,{className:"main",style:{display:"flex",flexDirection:"column"},w:g?`calc(100% - ${y}px - 10px)`:"100%",children:[!v&&!l&&m&&x.jsx(Ut,{variant:"subtle",leftSection:x.jsx(GV,{size:14}),onClick:()=>t(n()),size:"xs",style:{position:"fixed",top:"10px",right:"10px"},children:"Study Browser"}),x.jsx(TZe,{})]})]}),r&&x.jsx(EQt,{setHasAudio:C})]})})})}function AQt(e,t=!1){return typeof e=="number"?$ve(e,t):$ve(e.length,t).map(r=>r.map(i=>e[i]))}function $ve(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let o=0;o<e;o++)o<2?n[o]=o:o%2==0?n[o]=e-o/2:n[o]=Math.floor(o/2)+1;let r=[n],i=n;for(let o=1;o<e;o+=1){let s=i.map(a=>(a+1)%e);r.push(s),i=s}if(t&&e%2>0)for(let o=0;o<e;o+=1)r.push(r[o].slice().reverse());return r}function OFe(e){let t=e.length;for(;t!==0;){const n=Math.floor(Math.random()*t);t-=1,[e[t],e[n]]=[e[n],e[t]]}}function NFe(e,t,n){if(pd(e))return{id:e.id,orderPath:n,order:e.order,components:[],skip:[]};let r=e.components;if(e.order==="random"){const i=structuredClone(e.components);OFe(i),r=i}else e.order==="latinSquare"&&t&&(r=t[n].pop().map(i=>i.startsWith("_componentBlock")?e.components[+i.slice(15)]:i));r=r.slice(0,e.numSamples);for(let i=0;i<r.length;i+=1){const o=r[i];if(typeof o!="string"&&!Array.isArray(o)){const s=e.components.findIndex(a=>jH(a,o));r[i]=NFe(o,t,`${n}-${s}`)}}return e.interruptions&&e.interruptions.forEach(i=>{const o=[];if(i.spacing!=="random")for(let s=0;s<r.length;s+=1)(s===i.firstLocation||s>i.firstLocation&&s%i.spacing===0)&&o.push(...i.components),o.push(r[s]);if(i.spacing==="random"){const s=new Set;if(i.numInterruptions>r.length-1)throw new Error("Number of interruptions cannot be greater than the number of components");for(;s.size<i.numInterruptions;){const u=Math.floor(Math.random()*r.length-1)+1;s.add(u)}const a=Array.from(s).sort((u,c)=>u-c);let l=0;for(let u=0;u<r.length;u+=1)u===a[l]&&(o.push(...i.components),l+=1),o.push(r[u])}r=o}),{id:e.id,orderPath:n,order:e.order,components:r.flat(),skip:e.skip}}function kQt(e,t){const n=structuredClone(e);return NFe(n,t,"root")}function MFe(e,t,n,r){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),!pd(e)&&e.components.forEach((o,s)=>{typeof o!="string"&&!pd(o)&&MFe(o,t,i,s)})}function RQt(e){const t=[];return MFe(e,t,"",0),t}function Fve(e,t){const n=t.split("-");let r={};n.forEach(s=>{if(s==="root")r=e.sequence;else{if(pd(r))return;r=r.components[+s]}});const i=r.components.map((s,a)=>typeof s=="string"?s:`_componentBlock${a}`);return OFe(i),AQt(i,!0)}function rU(e){const n=RQt(e.sequence).map(o=>({[o]:Fve(e,o)})).reduce((o,s)=>({...o,...s}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const o=kQt(e.sequence,n);o.components.push("end"),i.push(o),Object.entries(n).forEach(([s,a])=>{a.length===0&&(n[s]=Fve(e,s))})}),i}var TP={exports:{}},iU={},im={},Bv={},oU={},sU={},aU={},Lve;function f6(){return Lve||(Lve=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((w,E)=>`${w}${E}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((w,E)=>(E instanceof n&&(w[E.str]=(w[E.str]||0)+1),w),{})}}e._Code=r,e.nil=new r("");function i(y,...v){const w=[y[0]];let E=0;for(;E<v.length;)a(w,v[E]),w.push(y[++E]);return new r(w)}e._=i;const o=new r("+");function s(y,...v){const w=[h(y[0])];let E=0;for(;E<v.length;)w.push(o),a(w,v[E]),w.push(o,h(y[++E]));return l(w),new r(w)}e.str=s;function a(y,v){v instanceof r?y.push(...v._items):v instanceof n?y.push(v):y.push(d(v))}e.addCodeArg=a;function l(y){let v=1;for(;v<y.length-1;){if(y[v]===o){const w=u(y[v-1],y[v+1]);if(w!==void 0){y.splice(v-1,3,w);continue}y[v++]="+"}v++}}function u(y,v){if(v==='""')return y;if(y==='""')return v;if(typeof y=="string")return v instanceof n||y[y.length-1]!=='"'?void 0:typeof v!="string"?`${y.slice(0,-1)}${v}"`:v[0]==='"'?y.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(y instanceof n))return`"${y}${v.slice(1)}`}function c(y,v){return v.emptyStr()?y:y.emptyStr()?v:s`${y}${v}`}e.strConcat=c;function d(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:h(Array.isArray(y)?y.join(","):y)}function f(y){return new r(h(y))}e.stringify=f;function h(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function m(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new r(`.${y}`):i`[${y}]`}e.getProperty=m;function p(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new r(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=p;function g(y){return new r(y.toString())}e.regexpCode=g})(aU)),aU}var lU={},jve;function Bve(){return jve||(jve=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=f6();class n extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,d;if(!((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0)&&d.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class o extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:d}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${d}]`}}e.ValueScopeName=o;const s=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?s:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,c){var d;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const f=this.toName(u),{prefix:h}=f,m=(d=c.key)!==null&&d!==void 0?d:c.ref;let p=this._values[h];if(p){const v=p.get(m);if(v)return v}else p=this._values[h]=new Map;p.set(m,f);const g=this._scope[h]||(this._scope[h]=[]),y=g.length;return g[y]=c.ref,f.setValue(c,{property:h,itemIndex:y}),f}getValue(u,c){const d=this._values[u];if(d)return d.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${u}${d.scopePath}`})}scopeCode(u=this._values,c,d){return this._reduceValues(u,f=>{if(f.value===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return f.value.code},c,d)}_reduceValues(u,c,d={},f){let h=t.nil;for(const m in u){const p=u[m];if(!p)continue;const g=d[m]=d[m]||new Map;p.forEach(y=>{if(g.has(y))return;g.set(y,r.Started);let v=c(y);if(v){const w=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${w} ${y} = ${v};${this.opts._n}`}else if(v=f?.(y))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new n(y);g.set(y,r.Completed)})}return h}}e.ValueScope=a})(lU)),lU}var zve;function kr(){return zve||(zve=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=f6(),n=Bve();var r=f6();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=Bve();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(G,Q){return this}}class s extends o{constructor(G,Q,te){super(),this.varKind=G,this.name=Q,this.rhs=te}render({es5:G,_n:Q}){const te=G?n.varKinds.var:this.varKind,de=this.rhs===void 0?"":` = ${this.rhs}`;return`${te} ${this.name}${de};`+Q}optimizeNames(G,Q){if(G[this.name.str])return this.rhs&&(this.rhs=O(this.rhs,G,Q)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends o{constructor(G,Q,te){super(),this.lhs=G,this.rhs=Q,this.sideEffects=te}render({_n:G}){return`${this.lhs} = ${this.rhs};`+G}optimizeNames(G,Q){if(!(this.lhs instanceof t.Name&&!G[this.lhs.str]&&!this.sideEffects))return this.rhs=O(this.rhs,G,Q),this}get names(){const G=this.lhs instanceof t.Name?{}:{...this.lhs.names};return $(G,this.rhs)}}class l extends a{constructor(G,Q,te,de){super(G,te,de),this.op=Q}render({_n:G}){return`${this.lhs} ${this.op}= ${this.rhs};`+G}}class u extends o{constructor(G){super(),this.label=G,this.names={}}render({_n:G}){return`${this.label}:`+G}}class c extends o{constructor(G){super(),this.label=G,this.names={}}render({_n:G}){return`break${this.label?` ${this.label}`:""};`+G}}class d extends o{constructor(G){super(),this.error=G}render({_n:G}){return`throw ${this.error};`+G}get names(){return this.error.names}}class f extends o{constructor(G){super(),this.code=G}render({_n:G}){return`${this.code};`+G}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(G,Q){return this.code=O(this.code,G,Q),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends o{constructor(G=[]){super(),this.nodes=G}render(G){return this.nodes.reduce((Q,te)=>Q+te.render(G),"")}optimizeNodes(){const{nodes:G}=this;let Q=G.length;for(;Q--;){const te=G[Q].optimizeNodes();Array.isArray(te)?G.splice(Q,1,...te):te?G[Q]=te:G.splice(Q,1)}return G.length>0?this:void 0}optimizeNames(G,Q){const{nodes:te}=this;let de=te.length;for(;de--;){const se=te[de];se.optimizeNames(G,Q)||(j(G,se.names),te.splice(de,1))}return te.length>0?this:void 0}get names(){return this.nodes.reduce((G,Q)=>N(G,Q.names),{})}}class m extends h{render(G){return"{"+G._n+super.render(G)+"}"+G._n}}class p extends h{}class g extends m{}g.kind="else";class y extends m{constructor(G,Q){super(Q),this.condition=G}render(G){let Q=`if(${this.condition})`+super.render(G);return this.else&&(Q+="else "+this.else.render(G)),Q}optimizeNodes(){super.optimizeNodes();const G=this.condition;if(G===!0)return this.nodes;let Q=this.else;if(Q){const te=Q.optimizeNodes();Q=this.else=Array.isArray(te)?new g(te):te}if(Q)return G===!1?Q instanceof y?Q:Q.nodes:this.nodes.length?this:new y(B(G),Q instanceof y?[Q]:Q.nodes);if(!(G===!1||!this.nodes.length))return this}optimizeNames(G,Q){var te;if(this.else=(te=this.else)===null||te===void 0?void 0:te.optimizeNames(G,Q),!!(super.optimizeNames(G,Q)||this.else))return this.condition=O(this.condition,G,Q),this}get names(){const G=super.names;return $(G,this.condition),this.else&&N(G,this.else.names),G}}y.kind="if";class v extends m{}v.kind="for";class w extends v{constructor(G){super(),this.iteration=G}render(G){return`for(${this.iteration})`+super.render(G)}optimizeNames(G,Q){if(super.optimizeNames(G,Q))return this.iteration=O(this.iteration,G,Q),this}get names(){return N(super.names,this.iteration.names)}}class E extends v{constructor(G,Q,te,de){super(),this.varKind=G,this.name=Q,this.from=te,this.to=de}render(G){const Q=G.es5?n.varKinds.var:this.varKind,{name:te,from:de,to:se}=this;return`for(${Q} ${te}=${de}; ${te}<${se}; ${te}++)`+super.render(G)}get names(){const G=$(super.names,this.from);return $(G,this.to)}}class C extends v{constructor(G,Q,te,de){super(),this.loop=G,this.varKind=Q,this.name=te,this.iterable=de}render(G){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(G)}optimizeNames(G,Q){if(super.optimizeNames(G,Q))return this.iterable=O(this.iterable,G,Q),this}get names(){return N(super.names,this.iterable.names)}}class S extends m{constructor(G,Q,te){super(),this.name=G,this.args=Q,this.async=te}render(G){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(G)}}S.kind="func";class T extends h{render(G){return"return "+super.render(G)}}T.kind="return";class A extends m{render(G){let Q="try"+super.render(G);return this.catch&&(Q+=this.catch.render(G)),this.finally&&(Q+=this.finally.render(G)),Q}optimizeNodes(){var G,Q;return super.optimizeNodes(),(G=this.catch)===null||G===void 0||G.optimizeNodes(),(Q=this.finally)===null||Q===void 0||Q.optimizeNodes(),this}optimizeNames(G,Q){var te,de;return super.optimizeNames(G,Q),(te=this.catch)===null||te===void 0||te.optimizeNames(G,Q),(de=this.finally)===null||de===void 0||de.optimizeNames(G,Q),this}get names(){const G=super.names;return this.catch&&N(G,this.catch.names),this.finally&&N(G,this.finally.names),G}}class D extends m{constructor(G){super(),this.error=G}render(G){return`catch(${this.error})`+super.render(G)}}D.kind="catch";class I extends m{render(G){return"finally"+super.render(G)}}I.kind="finally";class P{constructor(G,Q={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...Q,_n:Q.lines?`
`:""},this._extScope=G,this._scope=new n.Scope({parent:G}),this._nodes=[new p]}toString(){return this._root.render(this.opts)}name(G){return this._scope.name(G)}scopeName(G){return this._extScope.name(G)}scopeValue(G,Q){const te=this._extScope.value(G,Q);return(this._values[te.prefix]||(this._values[te.prefix]=new Set)).add(te),te}getScopeValue(G,Q){return this._extScope.getValue(G,Q)}scopeRefs(G){return this._extScope.scopeRefs(G,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(G,Q,te,de){const se=this._scope.toName(Q);return te!==void 0&&de&&(this._constants[se.str]=te),this._leafNode(new s(G,se,te)),se}const(G,Q,te){return this._def(n.varKinds.const,G,Q,te)}let(G,Q,te){return this._def(n.varKinds.let,G,Q,te)}var(G,Q,te){return this._def(n.varKinds.var,G,Q,te)}assign(G,Q,te){return this._leafNode(new a(G,Q,te))}add(G,Q){return this._leafNode(new l(G,e.operators.ADD,Q))}code(G){return typeof G=="function"?G():G!==t.nil&&this._leafNode(new f(G)),this}object(...G){const Q=["{"];for(const[te,de]of G)Q.length>1&&Q.push(","),Q.push(te),(te!==de||this.opts.es5)&&(Q.push(":"),(0,t.addCodeArg)(Q,de));return Q.push("}"),new t._Code(Q)}if(G,Q,te){if(this._blockNode(new y(G)),Q&&te)this.code(Q).else().code(te).endIf();else if(Q)this.code(Q).endIf();else if(te)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(G){return this._elseNode(new y(G))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(y,g)}_for(G,Q){return this._blockNode(G),Q&&this.code(Q).endFor(),this}for(G,Q){return this._for(new w(G),Q)}forRange(G,Q,te,de,se=this.opts.es5?n.varKinds.var:n.varKinds.let){const ae=this._scope.toName(G);return this._for(new E(se,ae,Q,te),()=>de(ae))}forOf(G,Q,te,de=n.varKinds.const){const se=this._scope.toName(G);if(this.opts.es5){const ae=Q instanceof t.Name?Q:this.var("_arr",Q);return this.forRange("_i",0,(0,t._)`${ae}.length`,he=>{this.var(se,(0,t._)`${ae}[${he}]`),te(se)})}return this._for(new C("of",de,se,Q),()=>te(se))}forIn(G,Q,te,de=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(G,(0,t._)`Object.keys(${Q})`,te);const se=this._scope.toName(G);return this._for(new C("in",de,se,Q),()=>te(se))}endFor(){return this._endBlockNode(v)}label(G){return this._leafNode(new u(G))}break(G){return this._leafNode(new c(G))}return(G){const Q=new T;if(this._blockNode(Q),this.code(G),Q.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(G,Q,te){if(!Q&&!te)throw new Error('CodeGen: "try" without "catch" and "finally"');const de=new A;if(this._blockNode(de),this.code(G),Q){const se=this.name("e");this._currNode=de.catch=new D(se),Q(se)}return te&&(this._currNode=de.finally=new I,this.code(te)),this._endBlockNode(D,I)}throw(G){return this._leafNode(new d(G))}block(G,Q){return this._blockStarts.push(this._nodes.length),G&&this.code(G).endBlock(Q),this}endBlock(G){const Q=this._blockStarts.pop();if(Q===void 0)throw new Error("CodeGen: not in self-balancing block");const te=this._nodes.length-Q;if(te<0||G!==void 0&&te!==G)throw new Error(`CodeGen: wrong number of nodes: ${te} vs ${G} expected`);return this._nodes.length=Q,this}func(G,Q=t.nil,te,de){return this._blockNode(new S(G,Q,te)),de&&this.code(de).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(G=1){for(;G-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(G){return this._currNode.nodes.push(G),this}_blockNode(G){this._currNode.nodes.push(G),this._nodes.push(G)}_endBlockNode(G,Q){const te=this._currNode;if(te instanceof G||Q&&te instanceof Q)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${Q?`${G.kind}/${Q.kind}`:G.kind}"`)}_elseNode(G){const Q=this._currNode;if(!(Q instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=Q.else=G,this}get _root(){return this._nodes[0]}get _currNode(){const G=this._nodes;return G[G.length-1]}set _currNode(G){const Q=this._nodes;Q[Q.length-1]=G}}e.CodeGen=P;function N(z,G){for(const Q in G)z[Q]=(z[Q]||0)+(G[Q]||0);return z}function $(z,G){return G instanceof t._CodeOrName?N(z,G.names):z}function O(z,G,Q){if(z instanceof t.Name)return te(z);if(!de(z))return z;return new t._Code(z._items.reduce((se,ae)=>(ae instanceof t.Name&&(ae=te(ae)),ae instanceof t._Code?se.push(...ae._items):se.push(ae),se),[]));function te(se){const ae=Q[se.str];return ae===void 0||G[se.str]!==1?se:(delete G[se.str],ae)}function de(se){return se instanceof t._Code&&se._items.some(ae=>ae instanceof t.Name&&G[ae.str]===1&&Q[ae.str]!==void 0)}}function j(z,G){for(const Q in G)z[Q]=(z[Q]||0)-(G[Q]||0)}function B(z){return typeof z=="boolean"||typeof z=="number"||z===null?!z:(0,t._)`!${U(z)}`}e.not=B;const H=L(e.operators.AND);function q(...z){return z.reduce(H)}e.and=q;const Y=L(e.operators.OR);function V(...z){return z.reduce(Y)}e.or=V;function L(z){return(G,Q)=>G===t.nil?Q:Q===t.nil?G:(0,t._)`${U(G)} ${z} ${U(Q)}`}function U(z){return z instanceof t.Name?z:(0,t._)`(${z})`}})(sU)),sU}var mr={},Uve;function oi(){if(Uve)return mr;Uve=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.checkStrictMode=mr.getErrorPath=mr.Type=mr.useFunc=mr.setEvaluated=mr.evaluatedPropsToName=mr.mergeEvaluated=mr.eachItem=mr.unescapeJsonPointer=mr.escapeJsonPointer=mr.escapeFragment=mr.unescapeFragment=mr.schemaRefOrVal=mr.schemaHasRulesButRef=mr.schemaHasRules=mr.checkUnknownRules=mr.alwaysValidSchema=mr.toHash=void 0;const e=kr(),t=f6();function n(C){const S={};for(const T of C)S[T]=!0;return S}mr.toHash=n;function r(C,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(i(C,S),!o(S,C.self.RULES.all))}mr.alwaysValidSchema=r;function i(C,S=C.schema){const{opts:T,self:A}=C;if(!T.strictSchema||typeof S=="boolean")return;const D=A.RULES.keywords;for(const I in S)D[I]||E(C,`unknown keyword: "${I}"`)}mr.checkUnknownRules=i;function o(C,S){if(typeof C=="boolean")return!C;for(const T in C)if(S[T])return!0;return!1}mr.schemaHasRules=o;function s(C,S){if(typeof C=="boolean")return!C;for(const T in C)if(T!=="$ref"&&S.all[T])return!0;return!1}mr.schemaHasRulesButRef=s;function a({topSchemaRef:C,schemaPath:S},T,A,D){if(!D){if(typeof T=="number"||typeof T=="boolean")return T;if(typeof T=="string")return(0,e._)`${T}`}return(0,e._)`${C}${S}${(0,e.getProperty)(A)}`}mr.schemaRefOrVal=a;function l(C){return d(decodeURIComponent(C))}mr.unescapeFragment=l;function u(C){return encodeURIComponent(c(C))}mr.escapeFragment=u;function c(C){return typeof C=="number"?`${C}`:C.replace(/~/g,"~0").replace(/\//g,"~1")}mr.escapeJsonPointer=c;function d(C){return C.replace(/~1/g,"/").replace(/~0/g,"~")}mr.unescapeJsonPointer=d;function f(C,S){if(Array.isArray(C))for(const T of C)S(T);else S(C)}mr.eachItem=f;function h({mergeNames:C,mergeToName:S,mergeValues:T,resultToName:A}){return(D,I,P,N)=>{const $=P===void 0?I:P instanceof e.Name?(I instanceof e.Name?C(D,I,P):S(D,I,P),P):I instanceof e.Name?(S(D,P,I),I):T(I,P);return N===e.Name&&!($ instanceof e.Name)?A(D,$):$}}mr.mergeEvaluated={props:h({mergeNames:(C,S,T)=>C.if((0,e._)`${T} !== true && ${S} !== undefined`,()=>{C.if((0,e._)`${S} === true`,()=>C.assign(T,!0),()=>C.assign(T,(0,e._)`${T} || {}`).code((0,e._)`Object.assign(${T}, ${S})`))}),mergeToName:(C,S,T)=>C.if((0,e._)`${T} !== true`,()=>{S===!0?C.assign(T,!0):(C.assign(T,(0,e._)`${T} || {}`),p(C,T,S))}),mergeValues:(C,S)=>C===!0?!0:{...C,...S},resultToName:m}),items:h({mergeNames:(C,S,T)=>C.if((0,e._)`${T} !== true && ${S} !== undefined`,()=>C.assign(T,(0,e._)`${S} === true ? true : ${T} > ${S} ? ${T} : ${S}`)),mergeToName:(C,S,T)=>C.if((0,e._)`${T} !== true`,()=>C.assign(T,S===!0?!0:(0,e._)`${T} > ${S} ? ${T} : ${S}`)),mergeValues:(C,S)=>C===!0?!0:Math.max(C,S),resultToName:(C,S)=>C.var("items",S)})};function m(C,S){if(S===!0)return C.var("props",!0);const T=C.var("props",(0,e._)`{}`);return S!==void 0&&p(C,T,S),T}mr.evaluatedPropsToName=m;function p(C,S,T){Object.keys(T).forEach(A=>C.assign((0,e._)`${S}${(0,e.getProperty)(A)}`,!0))}mr.setEvaluated=p;const g={};function y(C,S){return C.scopeValue("func",{ref:S,code:g[S.code]||(g[S.code]=new t._Code(S.code))})}mr.useFunc=y;var v;(function(C){C[C.Num=0]="Num",C[C.Str=1]="Str"})(v||(mr.Type=v={}));function w(C,S,T){if(C instanceof e.Name){const A=S===v.Num;return T?A?(0,e._)`"[" + ${C} + "]"`:(0,e._)`"['" + ${C} + "']"`:A?(0,e._)`"/" + ${C}`:(0,e._)`"/" + ${C}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return T?(0,e.getProperty)(C).toString():"/"+c(C)}mr.getErrorPath=w;function E(C,S,T=C.opts.strictSchema){if(T){if(S=`strict mode: ${S}`,T===!0)throw new Error(S);C.self.logger.warn(S)}}return mr.checkStrictMode=E,mr}var AP={},Vve;function lv(){if(Vve)return AP;Vve=1,Object.defineProperty(AP,"__esModule",{value:!0});const e=kr(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return AP.default=t,AP}var Hve;function DL(){return Hve||(Hve=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=kr(),n=oi(),r=lv();e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:y})=>y?(0,t.str)`"${g}" keyword must be ${y} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function i(g,y=e.keywordError,v,w){const{it:E}=g,{gen:C,compositeRule:S,allErrors:T}=E,A=d(g,y,v);w??(S||T)?l(C,A):u(E,(0,t._)`[${A}]`)}e.reportError=i;function o(g,y=e.keywordError,v){const{it:w}=g,{gen:E,compositeRule:C,allErrors:S}=w,T=d(g,y,v);l(E,T),C||S||u(w,r.default.vErrors)}e.reportExtraError=o;function s(g,y){g.assign(r.default.errors,y),g.if((0,t._)`${r.default.vErrors} !== null`,()=>g.if(y,()=>g.assign((0,t._)`${r.default.vErrors}.length`,y),()=>g.assign(r.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:g,keyword:y,schemaValue:v,data:w,errsCount:E,it:C}){if(E===void 0)throw new Error("ajv implementation error");const S=g.name("err");g.forRange("i",E,r.default.errors,T=>{g.const(S,(0,t._)`${r.default.vErrors}[${T}]`),g.if((0,t._)`${S}.instancePath === undefined`,()=>g.assign((0,t._)`${S}.instancePath`,(0,t.strConcat)(r.default.instancePath,C.errorPath))),g.assign((0,t._)`${S}.schemaPath`,(0,t.str)`${C.errSchemaPath}/${y}`),C.opts.verbose&&(g.assign((0,t._)`${S}.schema`,v),g.assign((0,t._)`${S}.data`,w))})}e.extendErrors=a;function l(g,y){const v=g.const("err",y);g.if((0,t._)`${r.default.vErrors} === null`,()=>g.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),g.code((0,t._)`${r.default.errors}++`)}function u(g,y){const{gen:v,validateName:w,schemaEnv:E}=g;E.$async?v.throw((0,t._)`new ${g.ValidationError}(${y})`):(v.assign((0,t._)`${w}.errors`,y),v.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(g,y,v){const{createErrors:w}=g.it;return w===!1?(0,t._)`{}`:f(g,y,v)}function f(g,y,v={}){const{gen:w,it:E}=g,C=[h(E,v),m(g,v)];return p(g,y,C),w.object(...C)}function h({errorPath:g},{instancePath:y}){const v=y?(0,t.str)`${g}${(0,n.getErrorPath)(y,n.Type.Str)}`:g;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function m({keyword:g,it:{errSchemaPath:y}},{schemaPath:v,parentSchema:w}){let E=w?y:(0,t.str)`${y}/${g}`;return v&&(E=(0,t.str)`${E}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,E]}function p(g,{params:y,message:v},w){const{keyword:E,data:C,schemaValue:S,it:T}=g,{opts:A,propertyName:D,topSchemaRef:I,schemaPath:P}=T;w.push([c.keyword,E],[c.params,typeof y=="function"?y(g):y||(0,t._)`{}`]),A.messages&&w.push([c.message,typeof v=="function"?v(g):v]),A.verbose&&w.push([c.schema,S],[c.parentSchema,(0,t._)`${I}${P}`],[r.default.data,C]),D&&w.push([c.propertyName,D])}})(oU)),oU}var qve;function IQt(){if(qve)return Bv;qve=1,Object.defineProperty(Bv,"__esModule",{value:!0}),Bv.boolOrEmptySchema=Bv.topBoolOrEmptySchema=void 0;const e=DL(),t=kr(),n=lv(),r={message:"boolean schema is false"};function i(a){const{gen:l,schema:u,validateName:c}=a;u===!1?s(a,!1):typeof u=="object"&&u.$async===!0?l.return(n.default.data):(l.assign((0,t._)`${c}.errors`,null),l.return(!0))}Bv.topBoolOrEmptySchema=i;function o(a,l){const{gen:u,schema:c}=a;c===!1?(u.var(l,!1),s(a)):u.var(l,!0)}Bv.boolOrEmptySchema=o;function s(a,l){const{gen:u,data:c}=a,d={gen:u,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(d,r,void 0,l)}return Bv}var ha={},zv={},Wve;function $Fe(){if(Wve)return zv;Wve=1,Object.defineProperty(zv,"__esModule",{value:!0}),zv.getRules=zv.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function n(i){return typeof i=="string"&&t.has(i)}zv.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return zv.getRules=r,zv}var om={},Gve;function FFe(){if(Gve)return om;Gve=1,Object.defineProperty(om,"__esModule",{value:!0}),om.shouldUseRule=om.shouldUseGroup=om.schemaHasRulesForType=void 0;function e({schema:r,self:i},o){const s=i.RULES.types[o];return s&&s!==!0&&t(r,s)}om.schemaHasRulesForType=e;function t(r,i){return i.rules.some(o=>n(r,o))}om.shouldUseGroup=t;function n(r,i){var o;return r[i.keyword]!==void 0||((o=i.definition.implements)===null||o===void 0?void 0:o.some(s=>r[s]!==void 0))}return om.shouldUseRule=n,om}var Yve;function h6(){if(Yve)return ha;Yve=1,Object.defineProperty(ha,"__esModule",{value:!0}),ha.reportTypeError=ha.checkDataTypes=ha.checkDataType=ha.coerceAndCheckDataType=ha.getJSONTypes=ha.getSchemaTypes=ha.DataType=void 0;const e=$Fe(),t=FFe(),n=DL(),r=kr(),i=oi();var o;(function(v){v[v.Correct=0]="Correct",v[v.Wrong=1]="Wrong"})(o||(ha.DataType=o={}));function s(v){const w=a(v.type);if(w.includes("null")){if(v.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!w.length&&v.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');v.nullable===!0&&w.push("null")}return w}ha.getSchemaTypes=s;function a(v){const w=Array.isArray(v)?v:v?[v]:[];if(w.every(e.isJSONType))return w;throw new Error("type must be JSONType or JSONType[]: "+w.join(","))}ha.getJSONTypes=a;function l(v,w){const{gen:E,data:C,opts:S}=v,T=c(w,S.coerceTypes),A=w.length>0&&!(T.length===0&&w.length===1&&(0,t.schemaHasRulesForType)(v,w[0]));if(A){const D=m(w,C,S.strictNumbers,o.Wrong);E.if(D,()=>{T.length?d(v,w,T):g(v)})}return A}ha.coerceAndCheckDataType=l;const u=new Set(["string","number","integer","boolean","null"]);function c(v,w){return w?v.filter(E=>u.has(E)||w==="array"&&E==="array"):[]}function d(v,w,E){const{gen:C,data:S,opts:T}=v,A=C.let("dataType",(0,r._)`typeof ${S}`),D=C.let("coerced",(0,r._)`undefined`);T.coerceTypes==="array"&&C.if((0,r._)`${A} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>C.assign(S,(0,r._)`${S}[0]`).assign(A,(0,r._)`typeof ${S}`).if(m(w,S,T.strictNumbers),()=>C.assign(D,S))),C.if((0,r._)`${D} !== undefined`);for(const P of E)(u.has(P)||P==="array"&&T.coerceTypes==="array")&&I(P);C.else(),g(v),C.endIf(),C.if((0,r._)`${D} !== undefined`,()=>{C.assign(S,D),f(v,D)});function I(P){switch(P){case"string":C.elseIf((0,r._)`${A} == "number" || ${A} == "boolean"`).assign(D,(0,r._)`"" + ${S}`).elseIf((0,r._)`${S} === null`).assign(D,(0,r._)`""`);return;case"number":C.elseIf((0,r._)`${A} == "boolean" || ${S} === null
              || (${A} == "string" && ${S} && ${S} == +${S})`).assign(D,(0,r._)`+${S}`);return;case"integer":C.elseIf((0,r._)`${A} === "boolean" || ${S} === null
              || (${A} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(D,(0,r._)`+${S}`);return;case"boolean":C.elseIf((0,r._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(D,!1).elseIf((0,r._)`${S} === "true" || ${S} === 1`).assign(D,!0);return;case"null":C.elseIf((0,r._)`${S} === "" || ${S} === 0 || ${S} === false`),C.assign(D,null);return;case"array":C.elseIf((0,r._)`${A} === "string" || ${A} === "number"
              || ${A} === "boolean" || ${S} === null`).assign(D,(0,r._)`[${S}]`)}}}function f({gen:v,parentData:w,parentDataProperty:E},C){v.if((0,r._)`${w} !== undefined`,()=>v.assign((0,r._)`${w}[${E}]`,C))}function h(v,w,E,C=o.Correct){const S=C===o.Correct?r.operators.EQ:r.operators.NEQ;let T;switch(v){case"null":return(0,r._)`${w} ${S} null`;case"array":T=(0,r._)`Array.isArray(${w})`;break;case"object":T=(0,r._)`${w} && typeof ${w} == "object" && !Array.isArray(${w})`;break;case"integer":T=A((0,r._)`!(${w} % 1) && !isNaN(${w})`);break;case"number":T=A();break;default:return(0,r._)`typeof ${w} ${S} ${v}`}return C===o.Correct?T:(0,r.not)(T);function A(D=r.nil){return(0,r.and)((0,r._)`typeof ${w} == "number"`,D,E?(0,r._)`isFinite(${w})`:r.nil)}}ha.checkDataType=h;function m(v,w,E,C){if(v.length===1)return h(v[0],w,E,C);let S;const T=(0,i.toHash)(v);if(T.array&&T.object){const A=(0,r._)`typeof ${w} != "object"`;S=T.null?A:(0,r._)`!${w} || ${A}`,delete T.null,delete T.array,delete T.object}else S=r.nil;T.number&&delete T.integer;for(const A in T)S=(0,r.and)(S,h(A,w,E,C));return S}ha.checkDataTypes=m;const p={message:({schema:v})=>`must be ${v}`,params:({schema:v,schemaValue:w})=>typeof v=="string"?(0,r._)`{type: ${v}}`:(0,r._)`{type: ${w}}`};function g(v){const w=y(v);(0,n.reportError)(w,p)}ha.reportTypeError=g;function y(v){const{gen:w,data:E,schema:C}=v,S=(0,i.schemaRefOrVal)(v,C,"type");return{gen:w,keyword:"type",data:E,schema:C.type,schemaCode:S,schemaValue:S,parentSchema:C,params:{},it:v}}return ha}var HS={},Kve;function DQt(){if(Kve)return HS;Kve=1,Object.defineProperty(HS,"__esModule",{value:!0}),HS.assignDefaults=void 0;const e=kr(),t=oi();function n(i,o){const{properties:s,items:a}=i.schema;if(o==="object"&&s)for(const l in s)r(i,l,s[l].default);else o==="array"&&Array.isArray(a)&&a.forEach((l,u)=>r(i,u,l.default))}HS.assignDefaults=n;function r(i,o,s){const{gen:a,compositeRule:l,data:u,opts:c}=i;if(s===void 0)return;const d=(0,e._)`${u}${(0,e.getProperty)(o)}`;if(l){(0,t.checkStrictMode)(i,`default is ignored for: ${d}`);return}let f=(0,e._)`${d} === undefined`;c.useDefaults==="empty"&&(f=(0,e._)`${f} || ${d} === null || ${d} === ""`),a.if(f,(0,e._)`${d} = ${(0,e.stringify)(s)}`)}return HS}var Gd={},vi={},Xve;function oh(){if(Xve)return vi;Xve=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.validateUnion=vi.validateArray=vi.usePattern=vi.callValidateCode=vi.schemaProperties=vi.allSchemaProperties=vi.noPropertyInData=vi.propertyInData=vi.isOwnProperty=vi.hasPropFunc=vi.reportMissingProp=vi.checkMissingProp=vi.checkReportMissingProp=void 0;const e=kr(),t=oi(),n=lv(),r=oi();function i(v,w){const{gen:E,data:C,it:S}=v;E.if(c(E,C,w,S.opts.ownProperties),()=>{v.setParams({missingProperty:(0,e._)`${w}`},!0),v.error()})}vi.checkReportMissingProp=i;function o({gen:v,data:w,it:{opts:E}},C,S){return(0,e.or)(...C.map(T=>(0,e.and)(c(v,w,T,E.ownProperties),(0,e._)`${S} = ${T}`)))}vi.checkMissingProp=o;function s(v,w){v.setParams({missingProperty:w},!0),v.error()}vi.reportMissingProp=s;function a(v){return v.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}vi.hasPropFunc=a;function l(v,w,E){return(0,e._)`${a(v)}.call(${w}, ${E})`}vi.isOwnProperty=l;function u(v,w,E,C){const S=(0,e._)`${w}${(0,e.getProperty)(E)} !== undefined`;return C?(0,e._)`${S} && ${l(v,w,E)}`:S}vi.propertyInData=u;function c(v,w,E,C){const S=(0,e._)`${w}${(0,e.getProperty)(E)} === undefined`;return C?(0,e.or)(S,(0,e.not)(l(v,w,E))):S}vi.noPropertyInData=c;function d(v){return v?Object.keys(v).filter(w=>w!=="__proto__"):[]}vi.allSchemaProperties=d;function f(v,w){return d(w).filter(E=>!(0,t.alwaysValidSchema)(v,w[E]))}vi.schemaProperties=f;function h({schemaCode:v,data:w,it:{gen:E,topSchemaRef:C,schemaPath:S,errorPath:T},it:A},D,I,P){const N=P?(0,e._)`${v}, ${w}, ${C}${S}`:w,$=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,T)],[n.default.parentData,A.parentData],[n.default.parentDataProperty,A.parentDataProperty],[n.default.rootData,n.default.rootData]];A.opts.dynamicRef&&$.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const O=(0,e._)`${N}, ${E.object(...$)}`;return I!==e.nil?(0,e._)`${D}.call(${I}, ${O})`:(0,e._)`${D}(${O})`}vi.callValidateCode=h;const m=(0,e._)`new RegExp`;function p({gen:v,it:{opts:w}},E){const C=w.unicodeRegExp?"u":"",{regExp:S}=w.code,T=S(E,C);return v.scopeValue("pattern",{key:T.toString(),ref:T,code:(0,e._)`${S.code==="new RegExp"?m:(0,r.useFunc)(v,S)}(${E}, ${C})`})}vi.usePattern=p;function g(v){const{gen:w,data:E,keyword:C,it:S}=v,T=w.name("valid");if(S.allErrors){const D=w.let("valid",!0);return A(()=>w.assign(D,!1)),D}return w.var(T,!0),A(()=>w.break()),T;function A(D){const I=w.const("len",(0,e._)`${E}.length`);w.forRange("i",0,I,P=>{v.subschema({keyword:C,dataProp:P,dataPropType:t.Type.Num},T),w.if((0,e.not)(T),D)})}}vi.validateArray=g;function y(v){const{gen:w,schema:E,keyword:C,it:S}=v;if(!Array.isArray(E))throw new Error("ajv implementation error");if(E.some(I=>(0,t.alwaysValidSchema)(S,I))&&!S.opts.unevaluated)return;const A=w.let("valid",!1),D=w.name("_valid");w.block(()=>E.forEach((I,P)=>{const N=v.subschema({keyword:C,schemaProp:P,compositeRule:!0},D);w.assign(A,(0,e._)`${A} || ${D}`),v.mergeValidEvaluated(N,D)||w.if((0,e.not)(A))})),v.result(A,()=>v.reset(),()=>v.error(!0))}return vi.validateUnion=y,vi}var Qve;function PQt(){if(Qve)return Gd;Qve=1,Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.validateKeywordUsage=Gd.validSchemaType=Gd.funcKeywordCode=Gd.macroKeywordCode=void 0;const e=kr(),t=lv(),n=oh(),r=DL();function i(f,h){const{gen:m,keyword:p,schema:g,parentSchema:y,it:v}=f,w=h.macro.call(v.self,g,y,v),E=u(m,p,w);v.opts.validateSchema!==!1&&v.self.validateSchema(w,!0);const C=m.name("valid");f.subschema({schema:w,schemaPath:e.nil,errSchemaPath:`${v.errSchemaPath}/${p}`,topSchemaRef:E,compositeRule:!0},C),f.pass(C,()=>f.error(!0))}Gd.macroKeywordCode=i;function o(f,h){var m;const{gen:p,keyword:g,schema:y,parentSchema:v,$data:w,it:E}=f;l(E,h);const C=!w&&h.compile?h.compile.call(E.self,y,v,E):h.validate,S=u(p,g,C),T=p.let("valid");f.block$data(T,A),f.ok((m=h.valid)!==null&&m!==void 0?m:T);function A(){if(h.errors===!1)P(),h.modifying&&s(f),N(()=>f.error());else{const $=h.async?D():I();h.modifying&&s(f),N(()=>a(f,$))}}function D(){const $=p.let("ruleErrs",null);return p.try(()=>P((0,e._)`await `),O=>p.assign(T,!1).if((0,e._)`${O} instanceof ${E.ValidationError}`,()=>p.assign($,(0,e._)`${O}.errors`),()=>p.throw(O))),$}function I(){const $=(0,e._)`${S}.errors`;return p.assign($,null),P(e.nil),$}function P($=h.async?(0,e._)`await `:e.nil){const O=E.opts.passContext?t.default.this:t.default.self,j=!("compile"in h&&!w||h.schema===!1);p.assign(T,(0,e._)`${$}${(0,n.callValidateCode)(f,S,O,j)}`,h.modifying)}function N($){var O;p.if((0,e.not)((O=h.valid)!==null&&O!==void 0?O:T),$)}}Gd.funcKeywordCode=o;function s(f){const{gen:h,data:m,it:p}=f;h.if(p.parentData,()=>h.assign(m,(0,e._)`${p.parentData}[${p.parentDataProperty}]`))}function a(f,h){const{gen:m}=f;m.if((0,e._)`Array.isArray(${h})`,()=>{m.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${h} : ${t.default.vErrors}.concat(${h})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(f)},()=>f.error())}function l({schemaEnv:f},h){if(h.async&&!f.$async)throw new Error("async keyword in sync schema")}function u(f,h,m){if(m===void 0)throw new Error(`keyword "${h}" failed to compile`);return f.scopeValue("keyword",typeof m=="function"?{ref:m}:{ref:m,code:(0,e.stringify)(m)})}function c(f,h,m=!1){return!h.length||h.some(p=>p==="array"?Array.isArray(f):p==="object"?f&&typeof f=="object"&&!Array.isArray(f):typeof f==p||m&&typeof f>"u")}Gd.validSchemaType=c;function d({schema:f,opts:h,self:m,errSchemaPath:p},g,y){if(Array.isArray(g.keyword)?!g.keyword.includes(y):g.keyword!==y)throw new Error("ajv implementation error");const v=g.dependencies;if(v?.some(w=>!Object.prototype.hasOwnProperty.call(f,w)))throw new Error(`parent schema must have dependencies of ${y}: ${v.join(",")}`);if(g.validateSchema&&!g.validateSchema(f[y])){const E=`keyword "${y}" value is invalid at path "${p}": `+m.errorsText(g.validateSchema.errors);if(h.validateSchema==="log")m.logger.error(E);else throw new Error(E)}}return Gd.validateKeywordUsage=d,Gd}var sm={},Jve;function OQt(){if(Jve)return sm;Jve=1,Object.defineProperty(sm,"__esModule",{value:!0}),sm.extendSubschemaMode=sm.extendSubschemaData=sm.getSubschema=void 0;const e=kr(),t=oi();function n(o,{keyword:s,schemaProp:a,schema:l,schemaPath:u,errSchemaPath:c,topSchemaRef:d}){if(s!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const f=o.schema[s];return a===void 0?{schema:f,schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(s)}`,errSchemaPath:`${o.errSchemaPath}/${s}`}:{schema:f[a],schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(s)}${(0,e.getProperty)(a)}`,errSchemaPath:`${o.errSchemaPath}/${s}/${(0,t.escapeFragment)(a)}`}}if(l!==void 0){if(u===void 0||c===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:u,topSchemaRef:d,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}sm.getSubschema=n;function r(o,s,{dataProp:a,dataPropType:l,data:u,dataTypes:c,propertyName:d}){if(u!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:f}=s;if(a!==void 0){const{errorPath:m,dataPathArr:p,opts:g}=s,y=f.let("data",(0,e._)`${s.data}${(0,e.getProperty)(a)}`,!0);h(y),o.errorPath=(0,e.str)`${m}${(0,t.getErrorPath)(a,l,g.jsPropertySyntax)}`,o.parentDataProperty=(0,e._)`${a}`,o.dataPathArr=[...p,o.parentDataProperty]}if(u!==void 0){const m=u instanceof e.Name?u:f.let("data",u,!0);h(m),d!==void 0&&(o.propertyName=d)}c&&(o.dataTypes=c);function h(m){o.data=m,o.dataLevel=s.dataLevel+1,o.dataTypes=[],s.definedProperties=new Set,o.parentData=s.data,o.dataNames=[...s.dataNames,m]}}sm.extendSubschemaData=r;function i(o,{jtdDiscriminator:s,jtdMetadata:a,compositeRule:l,createErrors:u,allErrors:c}){l!==void 0&&(o.compositeRule=l),u!==void 0&&(o.createErrors=u),c!==void 0&&(o.allErrors=c),o.jtdDiscriminator=s,o.jtdMetadata=a}return sm.extendSubschemaMode=i,sm}var Cl={},uU={exports:{}},Zve;function NQt(){if(Zve)return uU.exports;Zve=1;var e=uU.exports=function(r,i,o){typeof i=="function"&&(o=i,i={}),o=i.cb||o;var s=typeof o=="function"?o:o.pre||function(){},a=o.post||function(){};t(i,s,a,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,i,o,s,a,l,u,c,d,f){if(s&&typeof s=="object"&&!Array.isArray(s)){i(s,a,l,u,c,d,f);for(var h in s){var m=s[h];if(Array.isArray(m)){if(h in e.arrayKeywords)for(var p=0;p<m.length;p++)t(r,i,o,m[p],a+"/"+h+"/"+p,l,a,h,s,p)}else if(h in e.propsKeywords){if(m&&typeof m=="object")for(var g in m)t(r,i,o,m[g],a+"/"+h+"/"+n(g),l,a,h,s,g)}else(h in e.keywords||r.allKeys&&!(h in e.skipKeywords))&&t(r,i,o,m,a+"/"+h,l,a,h,s)}o(s,a,l,u,c,d,f)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return uU.exports}var ebe;function PL(){if(ebe)return Cl;ebe=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.getSchemaRefs=Cl.resolveUrl=Cl.normalizeId=Cl._getFullPath=Cl.getFullPath=Cl.inlineRef=void 0;const e=oi(),t=$Q(),n=NQt(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(p,g=!0){return typeof p=="boolean"?!0:g===!0?!s(p):g?a(p)<=g:!1}Cl.inlineRef=i;const o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(p){for(const g in p){if(o.has(g))return!0;const y=p[g];if(Array.isArray(y)&&y.some(s)||typeof y=="object"&&s(y))return!0}return!1}function a(p){let g=0;for(const y in p){if(y==="$ref")return 1/0;if(g++,!r.has(y)&&(typeof p[y]=="object"&&(0,e.eachItem)(p[y],v=>g+=a(v)),g===1/0))return 1/0}return g}function l(p,g="",y){y!==!1&&(g=d(g));const v=p.parse(g);return u(p,v)}Cl.getFullPath=l;function u(p,g){return p.serialize(g).split("#")[0]+"#"}Cl._getFullPath=u;const c=/#\/?$/;function d(p){return p?p.replace(c,""):""}Cl.normalizeId=d;function f(p,g,y){return y=d(y),p.resolve(g,y)}Cl.resolveUrl=f;const h=/^[a-z_][-a-z0-9._]*$/i;function m(p,g){if(typeof p=="boolean")return{};const{schemaId:y,uriResolver:v}=this.opts,w=d(p[y]||g),E={"":w},C=l(v,w,!1),S={},T=new Set;return n(p,{allKeys:!0},(I,P,N,$)=>{if($===void 0)return;const O=C+P;let j=E[$];typeof I[y]=="string"&&(j=B.call(this,I[y])),H.call(this,I.$anchor),H.call(this,I.$dynamicAnchor),E[P]=j;function B(q){const Y=this.opts.uriResolver.resolve;if(q=d(j?Y(j,q):q),T.has(q))throw D(q);T.add(q);let V=this.refs[q];return typeof V=="string"&&(V=this.refs[V]),typeof V=="object"?A(I,V.schema,q):q!==d(O)&&(q[0]==="#"?(A(I,S[q],q),S[q]=I):this.refs[q]=O),q}function H(q){if(typeof q=="string"){if(!h.test(q))throw new Error(`invalid anchor "${q}"`);B.call(this,`#${q}`)}}}),S;function A(I,P,N){if(P!==void 0&&!t(I,P))throw D(N)}function D(I){return new Error(`reference "${I}" resolves to more than one schema`)}}return Cl.getSchemaRefs=m,Cl}var tbe;function OL(){if(tbe)return im;tbe=1,Object.defineProperty(im,"__esModule",{value:!0}),im.getData=im.KeywordCxt=im.validateFunctionCode=void 0;const e=IQt(),t=h6(),n=FFe(),r=h6(),i=DQt(),o=PQt(),s=OQt(),a=kr(),l=lv(),u=PL(),c=oi(),d=DL();function f(ie){if(C(ie)&&(T(ie),E(ie))){g(ie);return}h(ie,()=>(0,e.topBoolOrEmptySchema)(ie))}im.validateFunctionCode=f;function h({gen:ie,validateName:le,schema:Ce,schemaEnv:X,opts:fe},ce){fe.code.es5?ie.func(le,(0,a._)`${l.default.data}, ${l.default.valCxt}`,X.$async,()=>{ie.code((0,a._)`"use strict"; ${v(Ce,fe)}`),p(ie,fe),ie.code(ce)}):ie.func(le,(0,a._)`${l.default.data}, ${m(fe)}`,X.$async,()=>ie.code(v(Ce,fe)).code(ce))}function m(ie){return(0,a._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${ie.dynamicRef?(0,a._)`, ${l.default.dynamicAnchors}={}`:a.nil}}={}`}function p(ie,le){ie.if(l.default.valCxt,()=>{ie.var(l.default.instancePath,(0,a._)`${l.default.valCxt}.${l.default.instancePath}`),ie.var(l.default.parentData,(0,a._)`${l.default.valCxt}.${l.default.parentData}`),ie.var(l.default.parentDataProperty,(0,a._)`${l.default.valCxt}.${l.default.parentDataProperty}`),ie.var(l.default.rootData,(0,a._)`${l.default.valCxt}.${l.default.rootData}`),le.dynamicRef&&ie.var(l.default.dynamicAnchors,(0,a._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{ie.var(l.default.instancePath,(0,a._)`""`),ie.var(l.default.parentData,(0,a._)`undefined`),ie.var(l.default.parentDataProperty,(0,a._)`undefined`),ie.var(l.default.rootData,l.default.data),le.dynamicRef&&ie.var(l.default.dynamicAnchors,(0,a._)`{}`)})}function g(ie){const{schema:le,opts:Ce,gen:X}=ie;h(ie,()=>{Ce.$comment&&le.$comment&&$(ie),I(ie),X.let(l.default.vErrors,null),X.let(l.default.errors,0),Ce.unevaluated&&y(ie),A(ie),O(ie)})}function y(ie){const{gen:le,validateName:Ce}=ie;ie.evaluated=le.const("evaluated",(0,a._)`${Ce}.evaluated`),le.if((0,a._)`${ie.evaluated}.dynamicProps`,()=>le.assign((0,a._)`${ie.evaluated}.props`,(0,a._)`undefined`)),le.if((0,a._)`${ie.evaluated}.dynamicItems`,()=>le.assign((0,a._)`${ie.evaluated}.items`,(0,a._)`undefined`))}function v(ie,le){const Ce=typeof ie=="object"&&ie[le.schemaId];return Ce&&(le.code.source||le.code.process)?(0,a._)`/*# sourceURL=${Ce} */`:a.nil}function w(ie,le){if(C(ie)&&(T(ie),E(ie))){S(ie,le);return}(0,e.boolOrEmptySchema)(ie,le)}function E({schema:ie,self:le}){if(typeof ie=="boolean")return!ie;for(const Ce in ie)if(le.RULES.all[Ce])return!0;return!1}function C(ie){return typeof ie.schema!="boolean"}function S(ie,le){const{schema:Ce,gen:X,opts:fe}=ie;fe.$comment&&Ce.$comment&&$(ie),P(ie),N(ie);const ce=X.const("_errs",l.default.errors);A(ie,ce),X.var(le,(0,a._)`${ce} === ${l.default.errors}`)}function T(ie){(0,c.checkUnknownRules)(ie),D(ie)}function A(ie,le){if(ie.opts.jtd)return B(ie,[],!1,le);const Ce=(0,t.getSchemaTypes)(ie.schema),X=(0,t.coerceAndCheckDataType)(ie,Ce);B(ie,Ce,!X,le)}function D(ie){const{schema:le,errSchemaPath:Ce,opts:X,self:fe}=ie;le.$ref&&X.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(le,fe.RULES)&&fe.logger.warn(`$ref: keywords ignored in schema at path "${Ce}"`)}function I(ie){const{schema:le,opts:Ce}=ie;le.default!==void 0&&Ce.useDefaults&&Ce.strictSchema&&(0,c.checkStrictMode)(ie,"default is ignored in the schema root")}function P(ie){const le=ie.schema[ie.opts.schemaId];le&&(ie.baseId=(0,u.resolveUrl)(ie.opts.uriResolver,ie.baseId,le))}function N(ie){if(ie.schema.$async&&!ie.schemaEnv.$async)throw new Error("async schema in sync schema")}function $({gen:ie,schemaEnv:le,schema:Ce,errSchemaPath:X,opts:fe}){const ce=Ce.$comment;if(fe.$comment===!0)ie.code((0,a._)`${l.default.self}.logger.log(${ce})`);else if(typeof fe.$comment=="function"){const ne=(0,a.str)`${X}/$comment`,ee=ie.scopeValue("root",{ref:le.root});ie.code((0,a._)`${l.default.self}.opts.$comment(${ce}, ${ne}, ${ee}.schema)`)}}function O(ie){const{gen:le,schemaEnv:Ce,validateName:X,ValidationError:fe,opts:ce}=ie;Ce.$async?le.if((0,a._)`${l.default.errors} === 0`,()=>le.return(l.default.data),()=>le.throw((0,a._)`new ${fe}(${l.default.vErrors})`)):(le.assign((0,a._)`${X}.errors`,l.default.vErrors),ce.unevaluated&&j(ie),le.return((0,a._)`${l.default.errors} === 0`))}function j({gen:ie,evaluated:le,props:Ce,items:X}){Ce instanceof a.Name&&ie.assign((0,a._)`${le}.props`,Ce),X instanceof a.Name&&ie.assign((0,a._)`${le}.items`,X)}function B(ie,le,Ce,X){const{gen:fe,schema:ce,data:ne,allErrors:ee,opts:pe,self:Re}=ie,{RULES:Se}=Re;if(ce.$ref&&(pe.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(ce,Se))){fe.block(()=>de(ie,"$ref",Se.all.$ref.definition));return}pe.jtd||q(ie,le),fe.block(()=>{for(const Ne of Se.rules)be(Ne);be(Se.post)});function be(Ne){(0,n.shouldUseGroup)(ce,Ne)&&(Ne.type?(fe.if((0,r.checkDataType)(Ne.type,ne,pe.strictNumbers)),H(ie,Ne),le.length===1&&le[0]===Ne.type&&Ce&&(fe.else(),(0,r.reportTypeError)(ie)),fe.endIf()):H(ie,Ne),ee||fe.if((0,a._)`${l.default.errors} === ${X||0}`))}}function H(ie,le){const{gen:Ce,schema:X,opts:{useDefaults:fe}}=ie;fe&&(0,i.assignDefaults)(ie,le.type),Ce.block(()=>{for(const ce of le.rules)(0,n.shouldUseRule)(X,ce)&&de(ie,ce.keyword,ce.definition,le.type)})}function q(ie,le){ie.schemaEnv.meta||!ie.opts.strictTypes||(Y(ie,le),ie.opts.allowUnionTypes||V(ie,le),L(ie,ie.dataTypes))}function Y(ie,le){if(le.length){if(!ie.dataTypes.length){ie.dataTypes=le;return}le.forEach(Ce=>{z(ie.dataTypes,Ce)||Q(ie,`type "${Ce}" not allowed by context "${ie.dataTypes.join(",")}"`)}),G(ie,le)}}function V(ie,le){le.length>1&&!(le.length===2&&le.includes("null"))&&Q(ie,"use allowUnionTypes to allow union type keyword")}function L(ie,le){const Ce=ie.self.RULES.all;for(const X in Ce){const fe=Ce[X];if(typeof fe=="object"&&(0,n.shouldUseRule)(ie.schema,fe)){const{type:ce}=fe.definition;ce.length&&!ce.some(ne=>U(le,ne))&&Q(ie,`missing type "${ce.join(",")}" for keyword "${X}"`)}}}function U(ie,le){return ie.includes(le)||le==="number"&&ie.includes("integer")}function z(ie,le){return ie.includes(le)||le==="integer"&&ie.includes("number")}function G(ie,le){const Ce=[];for(const X of ie.dataTypes)z(le,X)?Ce.push(X):le.includes("integer")&&X==="number"&&Ce.push("integer");ie.dataTypes=Ce}function Q(ie,le){const Ce=ie.schemaEnv.baseId+ie.errSchemaPath;le+=` at "${Ce}" (strictTypes)`,(0,c.checkStrictMode)(ie,le,ie.opts.strictTypes)}class te{constructor(le,Ce,X){if((0,o.validateKeywordUsage)(le,Ce,X),this.gen=le.gen,this.allErrors=le.allErrors,this.keyword=X,this.data=le.data,this.schema=le.schema[X],this.$data=Ce.$data&&le.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(le,this.schema,X,this.$data),this.schemaType=Ce.schemaType,this.parentSchema=le.schema,this.params={},this.it=le,this.def=Ce,this.$data)this.schemaCode=le.gen.const("vSchema",he(this.$data,le));else if(this.schemaCode=this.schemaValue,!(0,o.validSchemaType)(this.schema,Ce.schemaType,Ce.allowUndefined))throw new Error(`${X} value must be ${JSON.stringify(Ce.schemaType)}`);("code"in Ce?Ce.trackErrors:Ce.errors!==!1)&&(this.errsCount=le.gen.const("_errs",l.default.errors))}result(le,Ce,X){this.failResult((0,a.not)(le),Ce,X)}failResult(le,Ce,X){this.gen.if(le),X?X():this.error(),Ce?(this.gen.else(),Ce(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(le,Ce){this.failResult((0,a.not)(le),void 0,Ce)}fail(le){if(le===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(le),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(le){if(!this.$data)return this.fail(le);const{schemaCode:Ce}=this;this.fail((0,a._)`${Ce} !== undefined && (${(0,a.or)(this.invalid$data(),le)})`)}error(le,Ce,X){if(Ce){this.setParams(Ce),this._error(le,X),this.setParams({});return}this._error(le,X)}_error(le,Ce){(le?d.reportExtraError:d.reportError)(this,this.def.error,Ce)}$dataError(){(0,d.reportError)(this,this.def.$dataError||d.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,d.resetErrorsCount)(this.gen,this.errsCount)}ok(le){this.allErrors||this.gen.if(le)}setParams(le,Ce){Ce?Object.assign(this.params,le):this.params=le}block$data(le,Ce,X=a.nil){this.gen.block(()=>{this.check$data(le,X),Ce()})}check$data(le=a.nil,Ce=a.nil){if(!this.$data)return;const{gen:X,schemaCode:fe,schemaType:ce,def:ne}=this;X.if((0,a.or)((0,a._)`${fe} === undefined`,Ce)),le!==a.nil&&X.assign(le,!0),(ce.length||ne.validateSchema)&&(X.elseIf(this.invalid$data()),this.$dataError(),le!==a.nil&&X.assign(le,!1)),X.else()}invalid$data(){const{gen:le,schemaCode:Ce,schemaType:X,def:fe,it:ce}=this;return(0,a.or)(ne(),ee());function ne(){if(X.length){if(!(Ce instanceof a.Name))throw new Error("ajv implementation error");const pe=Array.isArray(X)?X:[X];return(0,a._)`${(0,r.checkDataTypes)(pe,Ce,ce.opts.strictNumbers,r.DataType.Wrong)}`}return a.nil}function ee(){if(fe.validateSchema){const pe=le.scopeValue("validate$data",{ref:fe.validateSchema});return(0,a._)`!${pe}(${Ce})`}return a.nil}}subschema(le,Ce){const X=(0,s.getSubschema)(this.it,le);(0,s.extendSubschemaData)(X,this.it,le),(0,s.extendSubschemaMode)(X,le);const fe={...this.it,...X,items:void 0,props:void 0};return w(fe,Ce),fe}mergeEvaluated(le,Ce){const{it:X,gen:fe}=this;X.opts.unevaluated&&(X.props!==!0&&le.props!==void 0&&(X.props=c.mergeEvaluated.props(fe,le.props,X.props,Ce)),X.items!==!0&&le.items!==void 0&&(X.items=c.mergeEvaluated.items(fe,le.items,X.items,Ce)))}mergeValidEvaluated(le,Ce){const{it:X,gen:fe}=this;if(X.opts.unevaluated&&(X.props!==!0||X.items!==!0))return fe.if(Ce,()=>this.mergeEvaluated(le,a.Name)),!0}}im.KeywordCxt=te;function de(ie,le,Ce,X){const fe=new te(ie,Ce,le);"code"in Ce?Ce.code(fe,X):fe.$data&&Ce.validate?(0,o.funcKeywordCode)(fe,Ce):"macro"in Ce?(0,o.macroKeywordCode)(fe,Ce):(Ce.compile||Ce.validate)&&(0,o.funcKeywordCode)(fe,Ce)}const se=/^\/(?:[^~]|~0|~1)*$/,ae=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function he(ie,{dataLevel:le,dataNames:Ce,dataPathArr:X}){let fe,ce;if(ie==="")return l.default.rootData;if(ie[0]==="/"){if(!se.test(ie))throw new Error(`Invalid JSON-pointer: ${ie}`);fe=ie,ce=l.default.rootData}else{const Re=ae.exec(ie);if(!Re)throw new Error(`Invalid JSON-pointer: ${ie}`);const Se=+Re[1];if(fe=Re[2],fe==="#"){if(Se>=le)throw new Error(pe("property/index",Se));return X[le-Se]}if(Se>le)throw new Error(pe("data",Se));if(ce=Ce[le-Se],!fe)return ce}let ne=ce;const ee=fe.split("/");for(const Re of ee)Re&&(ce=(0,a._)`${ce}${(0,a.getProperty)((0,c.unescapeJsonPointer)(Re))}`,ne=(0,a._)`${ne} && ${ce}`);return ne;function pe(Re,Se){return`Cannot access ${Re} ${Se} levels up, current level is ${le}`}}return im.getData=he,im}var kP={},nbe;function Fre(){if(nbe)return kP;nbe=1,Object.defineProperty(kP,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return kP.default=e,kP}var RP={},rbe;function NL(){if(rbe)return RP;rbe=1,Object.defineProperty(RP,"__esModule",{value:!0});const e=PL();class t extends Error{constructor(r,i,o,s){super(s||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,e.resolveUrl)(r,i,o),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return RP.default=t,RP}var Ju={},ibe;function Lre(){if(ibe)return Ju;ibe=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.resolveSchema=Ju.getCompilingSchema=Ju.resolveRef=Ju.compileSchema=Ju.SchemaEnv=void 0;const e=kr(),t=Fre(),n=lv(),r=PL(),i=oi(),o=OL();class s{constructor(y){var v;this.refs={},this.dynamicAnchors={};let w;typeof y.schema=="object"&&(w=y.schema),this.schema=y.schema,this.schemaId=y.schemaId,this.root=y.root||this,this.baseId=(v=y.baseId)!==null&&v!==void 0?v:(0,r.normalizeId)(w?.[y.schemaId||"$id"]),this.schemaPath=y.schemaPath,this.localRefs=y.localRefs,this.meta=y.meta,this.$async=w?.$async,this.refs={}}}Ju.SchemaEnv=s;function a(g){const y=c.call(this,g);if(y)return y;const v=(0,r.getFullPath)(this.opts.uriResolver,g.root.baseId),{es5:w,lines:E}=this.opts.code,{ownProperties:C}=this.opts,S=new e.CodeGen(this.scope,{es5:w,lines:E,ownProperties:C});let T;g.$async&&(T=S.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const A=S.scopeName("validate");g.validateName=A;const D={gen:S,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:S.scopeValue("schema",this.opts.code.source===!0?{ref:g.schema,code:(0,e.stringify)(g.schema)}:{ref:g.schema}),validateName:A,ValidationError:T,schema:g.schema,schemaEnv:g,rootId:v,baseId:g.baseId||v,schemaPath:e.nil,errSchemaPath:g.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let I;try{this._compilations.add(g),(0,o.validateFunctionCode)(D),S.optimize(this.opts.code.optimize);const P=S.toString();I=`${S.scopeRefs(n.default.scope)}return ${P}`,this.opts.code.process&&(I=this.opts.code.process(I,g));const $=new Function(`${n.default.self}`,`${n.default.scope}`,I)(this,this.scope.get());if(this.scope.value(A,{ref:$}),$.errors=null,$.schema=g.schema,$.schemaEnv=g,g.$async&&($.$async=!0),this.opts.code.source===!0&&($.source={validateName:A,validateCode:P,scopeValues:S._values}),this.opts.unevaluated){const{props:O,items:j}=D;$.evaluated={props:O instanceof e.Name?void 0:O,items:j instanceof e.Name?void 0:j,dynamicProps:O instanceof e.Name,dynamicItems:j instanceof e.Name},$.source&&($.source.evaluated=(0,e.stringify)($.evaluated))}return g.validate=$,g}catch(P){throw delete g.validate,delete g.validateName,I&&this.logger.error("Error compiling schema, function code:",I),P}finally{this._compilations.delete(g)}}Ju.compileSchema=a;function l(g,y,v){var w;v=(0,r.resolveUrl)(this.opts.uriResolver,y,v);const E=g.refs[v];if(E)return E;let C=f.call(this,g,v);if(C===void 0){const S=(w=g.localRefs)===null||w===void 0?void 0:w[v],{schemaId:T}=this.opts;S&&(C=new s({schema:S,schemaId:T,root:g,baseId:y}))}if(C!==void 0)return g.refs[v]=u.call(this,C)}Ju.resolveRef=l;function u(g){return(0,r.inlineRef)(g.schema,this.opts.inlineRefs)?g.schema:g.validate?g:a.call(this,g)}function c(g){for(const y of this._compilations)if(d(y,g))return y}Ju.getCompilingSchema=c;function d(g,y){return g.schema===y.schema&&g.root===y.root&&g.baseId===y.baseId}function f(g,y){let v;for(;typeof(v=this.refs[y])=="string";)y=v;return v||this.schemas[y]||h.call(this,g,y)}function h(g,y){const v=this.opts.uriResolver.parse(y),w=(0,r._getFullPath)(this.opts.uriResolver,v);let E=(0,r.getFullPath)(this.opts.uriResolver,g.baseId,void 0);if(Object.keys(g.schema).length>0&&w===E)return p.call(this,v,g);const C=(0,r.normalizeId)(w),S=this.refs[C]||this.schemas[C];if(typeof S=="string"){const T=h.call(this,g,S);return typeof T?.schema!="object"?void 0:p.call(this,v,T)}if(typeof S?.schema=="object"){if(S.validate||a.call(this,S),C===(0,r.normalizeId)(y)){const{schema:T}=S,{schemaId:A}=this.opts,D=T[A];return D&&(E=(0,r.resolveUrl)(this.opts.uriResolver,E,D)),new s({schema:T,schemaId:A,root:g,baseId:E})}return p.call(this,v,S)}}Ju.resolveSchema=h;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function p(g,{baseId:y,schema:v,root:w}){var E;if(((E=g.fragment)===null||E===void 0?void 0:E[0])!=="/")return;for(const T of g.fragment.slice(1).split("/")){if(typeof v=="boolean")return;const A=v[(0,i.unescapeFragment)(T)];if(A===void 0)return;v=A;const D=typeof v=="object"&&v[this.opts.schemaId];!m.has(T)&&D&&(y=(0,r.resolveUrl)(this.opts.uriResolver,y,D))}let C;if(typeof v!="boolean"&&v.$ref&&!(0,i.schemaHasRulesButRef)(v,this.RULES)){const T=(0,r.resolveUrl)(this.opts.uriResolver,y,v.$ref);C=h.call(this,w,T)}const{schemaId:S}=this.opts;if(C=C||new s({schema:v,schemaId:S,root:w,baseId:y}),C.schema!==C.root.schema)return C}return Ju}const MQt="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",$Qt="Meta-schema for $data reference (JSON AnySchema extension proposal)",FQt="object",LQt=["$data"],jQt={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},BQt=!1,zQt={$id:MQt,description:$Qt,type:FQt,required:LQt,properties:jQt,additionalProperties:BQt};var IP={},qS={exports:{}},cU,obe;function UQt(){return obe||(obe=1,cU={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),cU}var dU,sbe;function VQt(){if(sbe)return dU;sbe=1;const{HEX:e}=UQt(),t=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function n(p){if(a(p,".")<3)return{host:p,isIPV4:!1};const g=p.match(t)||[],[y]=g;return y?{host:s(y,"."),isIPV4:!0}:{host:p,isIPV4:!1}}function r(p,g=!1){let y="",v=!0;for(const w of p){if(e[w]===void 0)return;w!=="0"&&v===!0&&(v=!1),v||(y+=w)}return g&&y.length===0&&(y="0"),y}function i(p){let g=0;const y={error:!1,address:"",zone:""},v=[],w=[];let E=!1,C=!1,S=!1;function T(){if(w.length){if(E===!1){const A=r(w);if(A!==void 0)v.push(A);else return y.error=!0,!1}w.length=0}return!0}for(let A=0;A<p.length;A++){const D=p[A];if(!(D==="["||D==="]"))if(D===":"){if(C===!0&&(S=!0),!T())break;if(g++,v.push(":"),g>7){y.error=!0;break}A-1>=0&&p[A-1]===":"&&(C=!0);continue}else if(D==="%"){if(!T())break;E=!0}else{w.push(D);continue}}return w.length&&(E?y.zone=w.join(""):S?v.push(w.join("")):v.push(r(w))),y.address=v.join(""),y}function o(p){if(a(p,":")<2)return{host:p,isIPV6:!1};const g=i(p);if(g.error)return{host:p,isIPV6:!1};{let y=g.address,v=g.address;return g.zone&&(y+="%"+g.zone,v+="%25"+g.zone),{host:y,escapedHost:v,isIPV6:!0}}}function s(p,g){let y="",v=!0;const w=p.length;for(let E=0;E<w;E++){const C=p[E];C==="0"&&v?(E+1<=w&&p[E+1]===g||E+1===w)&&(y+=C,v=!1):(C===g?v=!0:v=!1,y+=C)}return y}function a(p,g){let y=0;for(let v=0;v<p.length;v++)p[v]===g&&y++;return y}const l=/^\.\.?\//u,u=/^\/\.(?:\/|$)/u,c=/^\/\.\.(?:\/|$)/u,d=/^\/?(?:.|\n)*?(?=\/|$)/u;function f(p){const g=[];for(;p.length;)if(p.match(l))p=p.replace(l,"");else if(p.match(u))p=p.replace(u,"/");else if(p.match(c))p=p.replace(c,"/"),g.pop();else if(p==="."||p==="..")p="";else{const y=p.match(d);if(y){const v=y[0];p=p.slice(v.length),g.push(v)}else throw new Error("Unexpected dot segment condition")}return g.join("")}function h(p,g){const y=g!==!0?escape:unescape;return p.scheme!==void 0&&(p.scheme=y(p.scheme)),p.userinfo!==void 0&&(p.userinfo=y(p.userinfo)),p.host!==void 0&&(p.host=y(p.host)),p.path!==void 0&&(p.path=y(p.path)),p.query!==void 0&&(p.query=y(p.query)),p.fragment!==void 0&&(p.fragment=y(p.fragment)),p}function m(p){const g=[];if(p.userinfo!==void 0&&(g.push(p.userinfo),g.push("@")),p.host!==void 0){let y=unescape(p.host);const v=n(y);if(v.isIPV4)y=v.host;else{const w=o(v.host);w.isIPV6===!0?y=`[${w.escapedHost}]`:y=p.host}g.push(y)}return(typeof p.port=="number"||typeof p.port=="string")&&(g.push(":"),g.push(String(p.port))),g.length?g.join(""):void 0}return dU={recomposeAuthority:m,normalizeComponentEncoding:h,removeDotSegments:f,normalizeIPv4:n,normalizeIPv6:o,stringArrayToHexStripped:r},dU}var fU,abe;function HQt(){if(abe)return fU;abe=1;const e=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function n(v){return typeof v.secure=="boolean"?v.secure:String(v.scheme).toLowerCase()==="wss"}function r(v){return v.host||(v.error=v.error||"HTTP URIs must have a host."),v}function i(v){const w=String(v.scheme).toLowerCase()==="https";return(v.port===(w?443:80)||v.port==="")&&(v.port=void 0),v.path||(v.path="/"),v}function o(v){return v.secure=n(v),v.resourceName=(v.path||"/")+(v.query?"?"+v.query:""),v.path=void 0,v.query=void 0,v}function s(v){if((v.port===(n(v)?443:80)||v.port==="")&&(v.port=void 0),typeof v.secure=="boolean"&&(v.scheme=v.secure?"wss":"ws",v.secure=void 0),v.resourceName){const[w,E]=v.resourceName.split("?");v.path=w&&w!=="/"?w:void 0,v.query=E,v.resourceName=void 0}return v.fragment=void 0,v}function a(v,w){if(!v.path)return v.error="URN can not be parsed",v;const E=v.path.match(t);if(E){const C=w.scheme||v.scheme||"urn";v.nid=E[1].toLowerCase(),v.nss=E[2];const S=`${C}:${w.nid||v.nid}`,T=y[S];v.path=void 0,T&&(v=T.parse(v,w))}else v.error=v.error||"URN can not be parsed.";return v}function l(v,w){const E=w.scheme||v.scheme||"urn",C=v.nid.toLowerCase(),S=`${E}:${w.nid||C}`,T=y[S];T&&(v=T.serialize(v,w));const A=v,D=v.nss;return A.path=`${C||w.nid}:${D}`,w.skipEscape=!0,A}function u(v,w){const E=v;return E.uuid=E.nss,E.nss=void 0,!w.tolerant&&(!E.uuid||!e.test(E.uuid))&&(E.error=E.error||"UUID is not valid."),E}function c(v){const w=v;return w.nss=(v.uuid||"").toLowerCase(),w}const d={scheme:"http",domainHost:!0,parse:r,serialize:i},f={scheme:"https",domainHost:d.domainHost,parse:r,serialize:i},h={scheme:"ws",domainHost:!0,parse:o,serialize:s},m={scheme:"wss",domainHost:h.domainHost,parse:h.parse,serialize:h.serialize},y={http:d,https:f,ws:h,wss:m,urn:{scheme:"urn",parse:a,serialize:l,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:u,serialize:c,skipNormalize:!0}};return fU=y,fU}var lbe;function qQt(){if(lbe)return qS.exports;lbe=1;const{normalizeIPv6:e,normalizeIPv4:t,removeDotSegments:n,recomposeAuthority:r,normalizeComponentEncoding:i}=VQt(),o=HQt();function s(g,y){return typeof g=="string"?g=c(m(g,y),y):typeof g=="object"&&(g=m(c(g,y),y)),g}function a(g,y,v){const w=Object.assign({scheme:"null"},v),E=l(m(g,w),m(y,w),w,!0);return c(E,{...w,skipEscape:!0})}function l(g,y,v,w){const E={};return w||(g=m(c(g,v),v),y=m(c(y,v),v)),v=v||{},!v.tolerant&&y.scheme?(E.scheme=y.scheme,E.userinfo=y.userinfo,E.host=y.host,E.port=y.port,E.path=n(y.path||""),E.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(E.userinfo=y.userinfo,E.host=y.host,E.port=y.port,E.path=n(y.path||""),E.query=y.query):(y.path?(y.path.charAt(0)==="/"?E.path=n(y.path):((g.userinfo!==void 0||g.host!==void 0||g.port!==void 0)&&!g.path?E.path="/"+y.path:g.path?E.path=g.path.slice(0,g.path.lastIndexOf("/")+1)+y.path:E.path=y.path,E.path=n(E.path)),E.query=y.query):(E.path=g.path,y.query!==void 0?E.query=y.query:E.query=g.query),E.userinfo=g.userinfo,E.host=g.host,E.port=g.port),E.scheme=g.scheme),E.fragment=y.fragment,E}function u(g,y,v){return typeof g=="string"?(g=unescape(g),g=c(i(m(g,v),!0),{...v,skipEscape:!0})):typeof g=="object"&&(g=c(i(g,!0),{...v,skipEscape:!0})),typeof y=="string"?(y=unescape(y),y=c(i(m(y,v),!0),{...v,skipEscape:!0})):typeof y=="object"&&(y=c(i(y,!0),{...v,skipEscape:!0})),g.toLowerCase()===y.toLowerCase()}function c(g,y){const v={host:g.host,scheme:g.scheme,userinfo:g.userinfo,port:g.port,path:g.path,query:g.query,nid:g.nid,nss:g.nss,uuid:g.uuid,fragment:g.fragment,reference:g.reference,resourceName:g.resourceName,secure:g.secure,error:""},w=Object.assign({},y),E=[],C=o[(w.scheme||v.scheme||"").toLowerCase()];C&&C.serialize&&C.serialize(v,w),v.path!==void 0&&(w.skipEscape?v.path=unescape(v.path):(v.path=escape(v.path),v.scheme!==void 0&&(v.path=v.path.split("%3A").join(":")))),w.reference!=="suffix"&&v.scheme&&E.push(v.scheme,":");const S=r(v);if(S!==void 0&&(w.reference!=="suffix"&&E.push("//"),E.push(S),v.path&&v.path.charAt(0)!=="/"&&E.push("/")),v.path!==void 0){let T=v.path;!w.absolutePath&&(!C||!C.absolutePath)&&(T=n(T)),S===void 0&&(T=T.replace(/^\/\//u,"/%2F")),E.push(T)}return v.query!==void 0&&E.push("?",v.query),v.fragment!==void 0&&E.push("#",v.fragment),E.join("")}const d=Array.from({length:127},(g,y)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(y)));function f(g){let y=0;for(let v=0,w=g.length;v<w;++v)if(y=g.charCodeAt(v),y>126||d[y])return!0;return!1}const h=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function m(g,y){const v=Object.assign({},y),w={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},E=g.indexOf("%")!==-1;let C=!1;v.reference==="suffix"&&(g=(v.scheme?v.scheme+":":"")+"//"+g);const S=g.match(h);if(S){if(w.scheme=S[1],w.userinfo=S[3],w.host=S[4],w.port=parseInt(S[5],10),w.path=S[6]||"",w.query=S[7],w.fragment=S[8],isNaN(w.port)&&(w.port=S[5]),w.host){const A=t(w.host);if(A.isIPV4===!1){const D=e(A.host);w.host=D.host.toLowerCase(),C=D.isIPV6}else w.host=A.host,C=!0}w.scheme===void 0&&w.userinfo===void 0&&w.host===void 0&&w.port===void 0&&!w.path&&w.query===void 0?w.reference="same-document":w.scheme===void 0?w.reference="relative":w.fragment===void 0?w.reference="absolute":w.reference="uri",v.reference&&v.reference!=="suffix"&&v.reference!==w.reference&&(w.error=w.error||"URI is not a "+v.reference+" reference.");const T=o[(v.scheme||w.scheme||"").toLowerCase()];if(!v.unicodeSupport&&(!T||!T.unicodeSupport)&&w.host&&(v.domainHost||T&&T.domainHost)&&C===!1&&f(w.host))try{w.host=URL.domainToASCII(w.host.toLowerCase())}catch(A){w.error=w.error||"Host's domain name can not be converted to ASCII: "+A}(!T||T&&!T.skipNormalize)&&(E&&w.scheme!==void 0&&(w.scheme=unescape(w.scheme)),E&&w.host!==void 0&&(w.host=unescape(w.host)),w.path&&w.path.length&&(w.path=escape(unescape(w.path))),w.fragment&&w.fragment.length&&(w.fragment=encodeURI(decodeURIComponent(w.fragment)))),T&&T.parse&&T.parse(w,v)}else w.error=w.error||"URI can not be parsed.";return w}const p={SCHEMES:o,normalize:s,resolve:a,resolveComponents:l,equal:u,serialize:c,parse:m};return qS.exports=p,qS.exports.default=p,qS.exports.fastUri=p,qS.exports}var ube;function WQt(){if(ube)return IP;ube=1,Object.defineProperty(IP,"__esModule",{value:!0});const e=qQt();return e.code='require("ajv/dist/runtime/uri").default',IP.default=e,IP}var cbe;function GQt(){return cbe||(cbe=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=OL();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=kr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=Fre(),i=NL(),o=$Fe(),s=Lre(),a=kr(),l=PL(),u=h6(),c=oi(),d=zQt,f=WQt(),h=(V,L)=>new RegExp(V,L);h.code="new RegExp";const m=["removeAdditional","useDefaults","coerceTypes"],p=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function w(V){var L,U,z,G,Q,te,de,se,ae,he,ie,le,Ce,X,fe,ce,ne,ee,pe,Re,Se,be,Ne,Ae,Pe;const we=V.strict,Le=(L=V.code)===null||L===void 0?void 0:L.optimize,ze=Le===!0||Le===void 0?1:Le||0,tt=(z=(U=V.code)===null||U===void 0?void 0:U.regExp)!==null&&z!==void 0?z:h,rt=(G=V.uriResolver)!==null&&G!==void 0?G:f.default;return{strictSchema:(te=(Q=V.strictSchema)!==null&&Q!==void 0?Q:we)!==null&&te!==void 0?te:!0,strictNumbers:(se=(de=V.strictNumbers)!==null&&de!==void 0?de:we)!==null&&se!==void 0?se:!0,strictTypes:(he=(ae=V.strictTypes)!==null&&ae!==void 0?ae:we)!==null&&he!==void 0?he:"log",strictTuples:(le=(ie=V.strictTuples)!==null&&ie!==void 0?ie:we)!==null&&le!==void 0?le:"log",strictRequired:(X=(Ce=V.strictRequired)!==null&&Ce!==void 0?Ce:we)!==null&&X!==void 0?X:!1,code:V.code?{...V.code,optimize:ze,regExp:tt}:{optimize:ze,regExp:tt},loopRequired:(fe=V.loopRequired)!==null&&fe!==void 0?fe:v,loopEnum:(ce=V.loopEnum)!==null&&ce!==void 0?ce:v,meta:(ne=V.meta)!==null&&ne!==void 0?ne:!0,messages:(ee=V.messages)!==null&&ee!==void 0?ee:!0,inlineRefs:(pe=V.inlineRefs)!==null&&pe!==void 0?pe:!0,schemaId:(Re=V.schemaId)!==null&&Re!==void 0?Re:"$id",addUsedSchema:(Se=V.addUsedSchema)!==null&&Se!==void 0?Se:!0,validateSchema:(be=V.validateSchema)!==null&&be!==void 0?be:!0,validateFormats:(Ne=V.validateFormats)!==null&&Ne!==void 0?Ne:!0,unicodeRegExp:(Ae=V.unicodeRegExp)!==null&&Ae!==void 0?Ae:!0,int32range:(Pe=V.int32range)!==null&&Pe!==void 0?Pe:!0,uriResolver:rt}}class E{constructor(L={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,L=this.opts={...L,...w(L)};const{es5:U,lines:z}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:p,es5:U,lines:z}),this.logger=N(L.logger);const G=L.validateFormats;L.validateFormats=!1,this.RULES=(0,o.getRules)(),C.call(this,g,L,"NOT SUPPORTED"),C.call(this,y,L,"DEPRECATED","warn"),this._metaOpts=I.call(this),L.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),L.keywords&&D.call(this,L.keywords),typeof L.meta=="object"&&this.addMetaSchema(L.meta),T.call(this),L.validateFormats=G}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:L,meta:U,schemaId:z}=this.opts;let G=d;z==="id"&&(G={...d},G.id=G.$id,delete G.$id),U&&L&&this.addMetaSchema(G,G[z],!1)}defaultMeta(){const{meta:L,schemaId:U}=this.opts;return this.opts.defaultMeta=typeof L=="object"?L[U]||L:void 0}validate(L,U){let z;if(typeof L=="string"){if(z=this.getSchema(L),!z)throw new Error(`no schema with key or ref "${L}"`)}else z=this.compile(L);const G=z(U);return"$async"in z||(this.errors=z.errors),G}compile(L,U){const z=this._addSchema(L,U);return z.validate||this._compileSchemaEnv(z)}compileAsync(L,U){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:z}=this.opts;return G.call(this,L,U);async function G(he,ie){await Q.call(this,he.$schema);const le=this._addSchema(he,ie);return le.validate||te.call(this,le)}async function Q(he){he&&!this.getSchema(he)&&await G.call(this,{$ref:he},!0)}async function te(he){try{return this._compileSchemaEnv(he)}catch(ie){if(!(ie instanceof i.default))throw ie;return de.call(this,ie),await se.call(this,ie.missingSchema),te.call(this,he)}}function de({missingSchema:he,missingRef:ie}){if(this.refs[he])throw new Error(`AnySchema ${he} is loaded but ${ie} cannot be resolved`)}async function se(he){const ie=await ae.call(this,he);this.refs[he]||await Q.call(this,ie.$schema),this.refs[he]||this.addSchema(ie,he,U)}async function ae(he){const ie=this._loading[he];if(ie)return ie;try{return await(this._loading[he]=z(he))}finally{delete this._loading[he]}}}addSchema(L,U,z,G=this.opts.validateSchema){if(Array.isArray(L)){for(const te of L)this.addSchema(te,void 0,z,G);return this}let Q;if(typeof L=="object"){const{schemaId:te}=this.opts;if(Q=L[te],Q!==void 0&&typeof Q!="string")throw new Error(`schema ${te} must be string`)}return U=(0,l.normalizeId)(U||Q),this._checkUnique(U),this.schemas[U]=this._addSchema(L,z,U,G,!0),this}addMetaSchema(L,U,z=this.opts.validateSchema){return this.addSchema(L,U,!0,z),this}validateSchema(L,U){if(typeof L=="boolean")return!0;let z;if(z=L.$schema,z!==void 0&&typeof z!="string")throw new Error("$schema must be a string");if(z=z||this.opts.defaultMeta||this.defaultMeta(),!z)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const G=this.validate(z,L);if(!G&&U){const Q="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(Q);else throw new Error(Q)}return G}getSchema(L){let U;for(;typeof(U=S.call(this,L))=="string";)L=U;if(U===void 0){const{schemaId:z}=this.opts,G=new s.SchemaEnv({schema:{},schemaId:z});if(U=s.resolveSchema.call(this,G,L),!U)return;this.refs[L]=U}return U.validate||this._compileSchemaEnv(U)}removeSchema(L){if(L instanceof RegExp)return this._removeAllSchemas(this.schemas,L),this._removeAllSchemas(this.refs,L),this;switch(typeof L){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const U=S.call(this,L);return typeof U=="object"&&this._cache.delete(U.schema),delete this.schemas[L],delete this.refs[L],this}case"object":{const U=L;this._cache.delete(U);let z=L[this.opts.schemaId];return z&&(z=(0,l.normalizeId)(z),delete this.schemas[z],delete this.refs[z]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(L){for(const U of L)this.addKeyword(U);return this}addKeyword(L,U){let z;if(typeof L=="string")z=L,typeof U=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),U.keyword=z);else if(typeof L=="object"&&U===void 0){if(U=L,z=U.keyword,Array.isArray(z)&&!z.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(O.call(this,z,U),!U)return(0,c.eachItem)(z,Q=>j.call(this,Q)),this;H.call(this,U);const G={...U,type:(0,u.getJSONTypes)(U.type),schemaType:(0,u.getJSONTypes)(U.schemaType)};return(0,c.eachItem)(z,G.type.length===0?Q=>j.call(this,Q,G):Q=>G.type.forEach(te=>j.call(this,Q,G,te))),this}getKeyword(L){const U=this.RULES.all[L];return typeof U=="object"?U.definition:!!U}removeKeyword(L){const{RULES:U}=this;delete U.keywords[L],delete U.all[L];for(const z of U.rules){const G=z.rules.findIndex(Q=>Q.keyword===L);G>=0&&z.rules.splice(G,1)}return this}addFormat(L,U){return typeof U=="string"&&(U=new RegExp(U)),this.formats[L]=U,this}errorsText(L=this.errors,{separator:U=", ",dataVar:z="data"}={}){return!L||L.length===0?"No errors":L.map(G=>`${z}${G.instancePath} ${G.message}`).reduce((G,Q)=>G+U+Q)}$dataMetaSchema(L,U){const z=this.RULES.all;L=JSON.parse(JSON.stringify(L));for(const G of U){const Q=G.split("/").slice(1);let te=L;for(const de of Q)te=te[de];for(const de in z){const se=z[de];if(typeof se!="object")continue;const{$data:ae}=se.definition,he=te[de];ae&&he&&(te[de]=Y(he))}}return L}_removeAllSchemas(L,U){for(const z in L){const G=L[z];(!U||U.test(z))&&(typeof G=="string"?delete L[z]:G&&!G.meta&&(this._cache.delete(G.schema),delete L[z]))}}_addSchema(L,U,z,G=this.opts.validateSchema,Q=this.opts.addUsedSchema){let te;const{schemaId:de}=this.opts;if(typeof L=="object")te=L[de];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof L!="boolean")throw new Error("schema must be object or boolean")}let se=this._cache.get(L);if(se!==void 0)return se;z=(0,l.normalizeId)(te||z);const ae=l.getSchemaRefs.call(this,L,z);return se=new s.SchemaEnv({schema:L,schemaId:de,meta:U,baseId:z,localRefs:ae}),this._cache.set(se.schema,se),Q&&!z.startsWith("#")&&(z&&this._checkUnique(z),this.refs[z]=se),G&&this.validateSchema(L,!0),se}_checkUnique(L){if(this.schemas[L]||this.refs[L])throw new Error(`schema with key or id "${L}" already exists`)}_compileSchemaEnv(L){if(L.meta?this._compileMetaSchema(L):s.compileSchema.call(this,L),!L.validate)throw new Error("ajv implementation error");return L.validate}_compileMetaSchema(L){const U=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,L)}finally{this.opts=U}}}E.ValidationError=r.default,E.MissingRefError=i.default,e.default=E;function C(V,L,U,z="error"){for(const G in V){const Q=G;Q in L&&this.logger[z](`${U}: option ${G}. ${V[Q]}`)}}function S(V){return V=(0,l.normalizeId)(V),this.schemas[V]||this.refs[V]}function T(){const V=this.opts.schemas;if(V)if(Array.isArray(V))this.addSchema(V);else for(const L in V)this.addSchema(V[L],L)}function A(){for(const V in this.opts.formats){const L=this.opts.formats[V];L&&this.addFormat(V,L)}}function D(V){if(Array.isArray(V)){this.addVocabulary(V);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const L in V){const U=V[L];U.keyword||(U.keyword=L),this.addKeyword(U)}}function I(){const V={...this.opts};for(const L of m)delete V[L];return V}const P={log(){},warn(){},error(){}};function N(V){if(V===!1)return P;if(V===void 0)return console;if(V.log&&V.warn&&V.error)return V;throw new Error("logger must implement log, warn and error methods")}const $=/^[a-z_$][a-z0-9_$:-]*$/i;function O(V,L){const{RULES:U}=this;if((0,c.eachItem)(V,z=>{if(U.keywords[z])throw new Error(`Keyword ${z} is already defined`);if(!$.test(z))throw new Error(`Keyword ${z} has invalid name`)}),!!L&&L.$data&&!("code"in L||"validate"in L))throw new Error('$data keyword must have "code" or "validate" function')}function j(V,L,U){var z;const G=L?.post;if(U&&G)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:Q}=this;let te=G?Q.post:Q.rules.find(({type:se})=>se===U);if(te||(te={type:U,rules:[]},Q.rules.push(te)),Q.keywords[V]=!0,!L)return;const de={keyword:V,definition:{...L,type:(0,u.getJSONTypes)(L.type),schemaType:(0,u.getJSONTypes)(L.schemaType)}};L.before?B.call(this,te,de,L.before):te.rules.push(de),Q.all[V]=de,(z=L.implements)===null||z===void 0||z.forEach(se=>this.addKeyword(se))}function B(V,L,U){const z=V.rules.findIndex(G=>G.keyword===U);z>=0?V.rules.splice(z,0,L):(V.rules.push(L),this.logger.warn(`rule ${U} is not defined`))}function H(V){let{metaSchema:L}=V;L!==void 0&&(V.$data&&this.opts.$data&&(L=Y(L)),V.validateSchema=this.compile(L,!0))}const q={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Y(V){return{anyOf:[V,q]}}})(iU)),iU}var DP={},PP={},OP={},dbe;function YQt(){if(dbe)return OP;dbe=1,Object.defineProperty(OP,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return OP.default=e,OP}var e0={},fbe;function KQt(){if(fbe)return e0;fbe=1,Object.defineProperty(e0,"__esModule",{value:!0}),e0.callRef=e0.getValidate=void 0;const e=NL(),t=oh(),n=kr(),r=lv(),i=Lre(),o=oi(),s={keyword:"$ref",schemaType:"string",code(u){const{gen:c,schema:d,it:f}=u,{baseId:h,schemaEnv:m,validateName:p,opts:g,self:y}=f,{root:v}=m;if((d==="#"||d==="#/")&&h===v.baseId)return E();const w=i.resolveRef.call(y,v,h,d);if(w===void 0)throw new e.default(f.opts.uriResolver,h,d);if(w instanceof i.SchemaEnv)return C(w);return S(w);function E(){if(m===v)return l(u,p,m,m.$async);const T=c.scopeValue("root",{ref:v});return l(u,(0,n._)`${T}.validate`,v,v.$async)}function C(T){const A=a(u,T);l(u,A,T,T.$async)}function S(T){const A=c.scopeValue("schema",g.code.source===!0?{ref:T,code:(0,n.stringify)(T)}:{ref:T}),D=c.name("valid"),I=u.subschema({schema:T,dataTypes:[],schemaPath:n.nil,topSchemaRef:A,errSchemaPath:d},D);u.mergeEvaluated(I),u.ok(D)}}};function a(u,c){const{gen:d}=u;return c.validate?d.scopeValue("validate",{ref:c.validate}):(0,n._)`${d.scopeValue("wrapper",{ref:c})}.validate`}e0.getValidate=a;function l(u,c,d,f){const{gen:h,it:m}=u,{allErrors:p,schemaEnv:g,opts:y}=m,v=y.passContext?r.default.this:n.nil;f?w():E();function w(){if(!g.$async)throw new Error("async schema referenced by sync schema");const T=h.let("valid");h.try(()=>{h.code((0,n._)`await ${(0,t.callValidateCode)(u,c,v)}`),S(c),p||h.assign(T,!0)},A=>{h.if((0,n._)`!(${A} instanceof ${m.ValidationError})`,()=>h.throw(A)),C(A),p||h.assign(T,!1)}),u.ok(T)}function E(){u.result((0,t.callValidateCode)(u,c,v),()=>S(c),()=>C(c))}function C(T){const A=(0,n._)`${T}.errors`;h.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${A} : ${r.default.vErrors}.concat(${A})`),h.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function S(T){var A;if(!m.opts.unevaluated)return;const D=(A=d?.validate)===null||A===void 0?void 0:A.evaluated;if(m.props!==!0)if(D&&!D.dynamicProps)D.props!==void 0&&(m.props=o.mergeEvaluated.props(h,D.props,m.props));else{const I=h.var("props",(0,n._)`${T}.evaluated.props`);m.props=o.mergeEvaluated.props(h,I,m.props,n.Name)}if(m.items!==!0)if(D&&!D.dynamicItems)D.items!==void 0&&(m.items=o.mergeEvaluated.items(h,D.items,m.items));else{const I=h.var("items",(0,n._)`${T}.evaluated.items`);m.items=o.mergeEvaluated.items(h,I,m.items,n.Name)}}}return e0.callRef=l,e0.default=s,e0}var hbe;function XQt(){if(hbe)return PP;hbe=1,Object.defineProperty(PP,"__esModule",{value:!0});const e=YQt(),t=KQt(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return PP.default=n,PP}var NP={},MP={},pbe;function QQt(){if(pbe)return MP;pbe=1,Object.defineProperty(MP,"__esModule",{value:!0});const e=kr(),t=e.operators,n={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:o,schemaCode:s})=>(0,e.str)`must be ${n[o].okStr} ${s}`,params:({keyword:o,schemaCode:s})=>(0,e._)`{comparison: ${n[o].okStr}, limit: ${s}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(o){const{keyword:s,data:a,schemaCode:l}=o;o.fail$data((0,e._)`${a} ${n[s].fail} ${l} || isNaN(${a})`)}};return MP.default=i,MP}var $P={},mbe;function JQt(){if(mbe)return $P;mbe=1,Object.defineProperty($P,"__esModule",{value:!0});const e=kr(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:o,schemaCode:s,it:a}=r,l=a.opts.multipleOfPrecision,u=i.let("res"),c=l?(0,e._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${l}`:(0,e._)`${u} !== parseInt(${u})`;r.fail$data((0,e._)`(${s} === 0 || (${u} = ${o}/${s}, ${c}))`)}};return $P.default=n,$P}var FP={},LP={},gbe;function ZQt(){if(gbe)return LP;gbe=1,Object.defineProperty(LP,"__esModule",{value:!0});function e(t){const n=t.length;let r=0,i=0,o;for(;i<n;)r++,o=t.charCodeAt(i++),o>=55296&&o<=56319&&i<n&&(o=t.charCodeAt(i),(o&64512)===56320&&i++);return r}return LP.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',LP}var ybe;function eJt(){if(ybe)return FP;ybe=1,Object.defineProperty(FP,"__esModule",{value:!0});const e=kr(),t=oi(),n=ZQt(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:o,schemaCode:s}){const a=o==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${s} characters`},params:({schemaCode:o})=>(0,e._)`{limit: ${o}}`},code(o){const{keyword:s,data:a,schemaCode:l,it:u}=o,c=s==="maxLength"?e.operators.GT:e.operators.LT,d=u.opts.unicode===!1?(0,e._)`${a}.length`:(0,e._)`${(0,t.useFunc)(o.gen,n.default)}(${a})`;o.fail$data((0,e._)`${d} ${c} ${l}`)}};return FP.default=i,FP}var jP={},vbe;function tJt(){if(vbe)return jP;vbe=1,Object.defineProperty(jP,"__esModule",{value:!0});const e=oh(),t=kr(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,t.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,t._)`{pattern: ${i}}`},code(i){const{data:o,$data:s,schema:a,schemaCode:l,it:u}=i,c=u.opts.unicodeRegExp?"u":"",d=s?(0,t._)`(new RegExp(${l}, ${c}))`:(0,e.usePattern)(i,a);i.fail$data((0,t._)`!${d}.test(${o})`)}};return jP.default=r,jP}var BP={},bbe;function nJt(){if(bbe)return BP;bbe=1,Object.defineProperty(BP,"__esModule",{value:!0});const e=kr(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const o=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${i} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:o,schemaCode:s}=r,a=i==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${o}).length ${a} ${s}`)}};return BP.default=n,BP}var zP={},wbe;function rJt(){if(wbe)return zP;wbe=1,Object.defineProperty(zP,"__esModule",{value:!0});const e=oh(),t=kr(),n=oi(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:o}})=>(0,t.str)`must have required property '${o}'`,params:({params:{missingProperty:o}})=>(0,t._)`{missingProperty: ${o}}`},code(o){const{gen:s,schema:a,schemaCode:l,data:u,$data:c,it:d}=o,{opts:f}=d;if(!c&&a.length===0)return;const h=a.length>=f.loopRequired;if(d.allErrors?m():p(),f.strictRequired){const v=o.parentSchema.properties,{definedProperties:w}=o.it;for(const E of a)if(v?.[E]===void 0&&!w.has(E)){const C=d.schemaEnv.baseId+d.errSchemaPath,S=`required property "${E}" is not defined at "${C}" (strictRequired)`;(0,n.checkStrictMode)(d,S,d.opts.strictRequired)}}function m(){if(h||c)o.block$data(t.nil,g);else for(const v of a)(0,e.checkReportMissingProp)(o,v)}function p(){const v=s.let("missing");if(h||c){const w=s.let("valid",!0);o.block$data(w,()=>y(v,w)),o.ok(w)}else s.if((0,e.checkMissingProp)(o,a,v)),(0,e.reportMissingProp)(o,v),s.else()}function g(){s.forOf("prop",l,v=>{o.setParams({missingProperty:v}),s.if((0,e.noPropertyInData)(s,u,v,f.ownProperties),()=>o.error())})}function y(v,w){o.setParams({missingProperty:v}),s.forOf(v,l,()=>{s.assign(w,(0,e.propertyInData)(s,u,v,f.ownProperties)),s.if((0,t.not)(w),()=>{o.error(),s.break()})},t.nil)}}};return zP.default=i,zP}var UP={},xbe;function iJt(){if(xbe)return UP;xbe=1,Object.defineProperty(UP,"__esModule",{value:!0});const e=kr(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const o=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${i} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:o,schemaCode:s}=r,a=i==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${o}.length ${a} ${s}`)}};return UP.default=n,UP}var VP={},HP={},_be;function jre(){if(_be)return HP;_be=1,Object.defineProperty(HP,"__esModule",{value:!0});const e=$Q();return e.code='require("ajv/dist/runtime/equal").default',HP.default=e,HP}var Ebe;function oJt(){if(Ebe)return VP;Ebe=1,Object.defineProperty(VP,"__esModule",{value:!0});const e=h6(),t=kr(),n=oi(),r=jre(),o={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:s,j:a}})=>(0,t.str)`must NOT have duplicate items (items ## ${a} and ${s} are identical)`,params:({params:{i:s,j:a}})=>(0,t._)`{i: ${s}, j: ${a}}`},code(s){const{gen:a,data:l,$data:u,schema:c,parentSchema:d,schemaCode:f,it:h}=s;if(!u&&!c)return;const m=a.let("valid"),p=d.items?(0,e.getSchemaTypes)(d.items):[];s.block$data(m,g,(0,t._)`${f} === false`),s.ok(m);function g(){const E=a.let("i",(0,t._)`${l}.length`),C=a.let("j");s.setParams({i:E,j:C}),a.assign(m,!0),a.if((0,t._)`${E} > 1`,()=>(y()?v:w)(E,C))}function y(){return p.length>0&&!p.some(E=>E==="object"||E==="array")}function v(E,C){const S=a.name("item"),T=(0,e.checkDataTypes)(p,S,h.opts.strictNumbers,e.DataType.Wrong),A=a.const("indices",(0,t._)`{}`);a.for((0,t._)`;${E}--;`,()=>{a.let(S,(0,t._)`${l}[${E}]`),a.if(T,(0,t._)`continue`),p.length>1&&a.if((0,t._)`typeof ${S} == "string"`,(0,t._)`${S} += "_"`),a.if((0,t._)`typeof ${A}[${S}] == "number"`,()=>{a.assign(C,(0,t._)`${A}[${S}]`),s.error(),a.assign(m,!1).break()}).code((0,t._)`${A}[${S}] = ${E}`)})}function w(E,C){const S=(0,n.useFunc)(a,r.default),T=a.name("outer");a.label(T).for((0,t._)`;${E}--;`,()=>a.for((0,t._)`${C} = ${E}; ${C}--;`,()=>a.if((0,t._)`${S}(${l}[${E}], ${l}[${C}])`,()=>{s.error(),a.assign(m,!1).break(T)})))}}};return VP.default=o,VP}var qP={},Cbe;function sJt(){if(Cbe)return qP;Cbe=1,Object.defineProperty(qP,"__esModule",{value:!0});const e=kr(),t=oi(),n=jre(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:o})=>(0,e._)`{allowedValue: ${o}}`},code(o){const{gen:s,data:a,$data:l,schemaCode:u,schema:c}=o;l||c&&typeof c=="object"?o.fail$data((0,e._)`!${(0,t.useFunc)(s,n.default)}(${a}, ${u})`):o.fail((0,e._)`${c} !== ${a}`)}};return qP.default=i,qP}var WP={},Sbe;function aJt(){if(Sbe)return WP;Sbe=1,Object.defineProperty(WP,"__esModule",{value:!0});const e=kr(),t=oi(),n=jre(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:o})=>(0,e._)`{allowedValues: ${o}}`},code(o){const{gen:s,data:a,$data:l,schema:u,schemaCode:c,it:d}=o;if(!l&&u.length===0)throw new Error("enum must have non-empty array");const f=u.length>=d.opts.loopEnum;let h;const m=()=>h??(h=(0,t.useFunc)(s,n.default));let p;if(f||l)p=s.let("valid"),o.block$data(p,g);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const v=s.const("vSchema",c);p=(0,e.or)(...u.map((w,E)=>y(v,E)))}o.pass(p);function g(){s.assign(p,!1),s.forOf("v",c,v=>s.if((0,e._)`${m()}(${a}, ${v})`,()=>s.assign(p,!0).break()))}function y(v,w){const E=u[w];return typeof E=="object"&&E!==null?(0,e._)`${m()}(${a}, ${v}[${w}])`:(0,e._)`${a} === ${E}`}}};return WP.default=i,WP}var Tbe;function lJt(){if(Tbe)return NP;Tbe=1,Object.defineProperty(NP,"__esModule",{value:!0});const e=QQt(),t=JQt(),n=eJt(),r=tJt(),i=nJt(),o=rJt(),s=iJt(),a=oJt(),l=sJt(),u=aJt(),c=[e.default,t.default,n.default,r.default,i.default,o.default,s.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,u.default];return NP.default=c,NP}var GP={},ax={},Abe;function LFe(){if(Abe)return ax;Abe=1,Object.defineProperty(ax,"__esModule",{value:!0}),ax.validateAdditionalItems=void 0;const e=kr(),t=oi(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{parentSchema:s,it:a}=o,{items:l}=s;if(!Array.isArray(l)){(0,t.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(o,l)}};function i(o,s){const{gen:a,schema:l,data:u,keyword:c,it:d}=o;d.items=!0;const f=a.const("len",(0,e._)`${u}.length`);if(l===!1)o.setParams({len:s.length}),o.pass((0,e._)`${f} <= ${s.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(d,l)){const m=a.var("valid",(0,e._)`${f} <= ${s.length}`);a.if((0,e.not)(m),()=>h(m)),o.ok(m)}function h(m){a.forRange("i",s.length,f,p=>{o.subschema({keyword:c,dataProp:p,dataPropType:t.Type.Num},m),d.allErrors||a.if((0,e.not)(m),()=>a.break())})}}return ax.validateAdditionalItems=i,ax.default=r,ax}var YP={},lx={},kbe;function jFe(){if(kbe)return lx;kbe=1,Object.defineProperty(lx,"__esModule",{value:!0}),lx.validateTuple=void 0;const e=kr(),t=oi(),n=oh(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(o){const{schema:s,it:a}=o;if(Array.isArray(s))return i(o,"additionalItems",s);a.items=!0,!(0,t.alwaysValidSchema)(a,s)&&o.ok((0,n.validateArray)(o))}};function i(o,s,a=o.schema){const{gen:l,parentSchema:u,data:c,keyword:d,it:f}=o;p(u),f.opts.unevaluated&&a.length&&f.items!==!0&&(f.items=t.mergeEvaluated.items(l,a.length,f.items));const h=l.name("valid"),m=l.const("len",(0,e._)`${c}.length`);a.forEach((g,y)=>{(0,t.alwaysValidSchema)(f,g)||(l.if((0,e._)`${m} > ${y}`,()=>o.subschema({keyword:d,schemaProp:y,dataProp:y},h)),o.ok(h))});function p(g){const{opts:y,errSchemaPath:v}=f,w=a.length,E=w===g.minItems&&(w===g.maxItems||g[s]===!1);if(y.strictTuples&&!E){const C=`"${d}" is ${w}-tuple, but minItems or maxItems/${s} are not specified or different at path "${v}"`;(0,t.checkStrictMode)(f,C,y.strictTuples)}}}return lx.validateTuple=i,lx.default=r,lx}var Rbe;function uJt(){if(Rbe)return YP;Rbe=1,Object.defineProperty(YP,"__esModule",{value:!0});const e=jFe(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};return YP.default=t,YP}var KP={},Ibe;function cJt(){if(Ibe)return KP;Ibe=1,Object.defineProperty(KP,"__esModule",{value:!0});const e=kr(),t=oi(),n=oh(),r=LFe(),o={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,e.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,e._)`{limit: ${s}}`},code(s){const{schema:a,parentSchema:l,it:u}=s,{prefixItems:c}=l;u.items=!0,!(0,t.alwaysValidSchema)(u,a)&&(c?(0,r.validateAdditionalItems)(s,c):s.ok((0,n.validateArray)(s)))}};return KP.default=o,KP}var XP={},Dbe;function dJt(){if(Dbe)return XP;Dbe=1,Object.defineProperty(XP,"__esModule",{value:!0});const e=kr(),t=oi(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:o}})=>o===void 0?(0,e.str)`must contain at least ${i} valid item(s)`:(0,e.str)`must contain at least ${i} and no more than ${o} valid item(s)`,params:({params:{min:i,max:o}})=>o===void 0?(0,e._)`{minContains: ${i}}`:(0,e._)`{minContains: ${i}, maxContains: ${o}}`},code(i){const{gen:o,schema:s,parentSchema:a,data:l,it:u}=i;let c,d;const{minContains:f,maxContains:h}=a;u.opts.next?(c=f===void 0?1:f,d=h):c=1;const m=o.const("len",(0,e._)`${l}.length`);if(i.setParams({min:c,max:d}),d===void 0&&c===0){(0,t.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(d!==void 0&&c>d){(0,t.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,t.alwaysValidSchema)(u,s)){let w=(0,e._)`${m} >= ${c}`;d!==void 0&&(w=(0,e._)`${w} && ${m} <= ${d}`),i.pass(w);return}u.items=!0;const p=o.name("valid");d===void 0&&c===1?y(p,()=>o.if(p,()=>o.break())):c===0?(o.let(p,!0),d!==void 0&&o.if((0,e._)`${l}.length > 0`,g)):(o.let(p,!1),g()),i.result(p,()=>i.reset());function g(){const w=o.name("_valid"),E=o.let("count",0);y(w,()=>o.if(w,()=>v(E)))}function y(w,E){o.forRange("i",0,m,C=>{i.subschema({keyword:"contains",dataProp:C,dataPropType:t.Type.Num,compositeRule:!0},w),E()})}function v(w){o.code((0,e._)`${w}++`),d===void 0?o.if((0,e._)`${w} >= ${c}`,()=>o.assign(p,!0).break()):(o.if((0,e._)`${w} > ${d}`,()=>o.assign(p,!1).break()),c===1?o.assign(p,!0):o.if((0,e._)`${w} >= ${c}`,()=>o.assign(p,!0)))}}};return XP.default=r,XP}var hU={},Pbe;function fJt(){return Pbe||(Pbe=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=kr(),n=oi(),r=oh();e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const d=u===1?"property":"properties";return(0,t.str)`must have ${d} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:d}})=>(0,t._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=o(l);s(l,u),a(l,c)}};function o({schema:l}){const u={},c={};for(const d in l){if(d==="__proto__")continue;const f=Array.isArray(l[d])?u:c;f[d]=l[d]}return[u,c]}function s(l,u=l.schema){const{gen:c,data:d,it:f}=l;if(Object.keys(u).length===0)return;const h=c.let("missing");for(const m in u){const p=u[m];if(p.length===0)continue;const g=(0,r.propertyInData)(c,d,m,f.opts.ownProperties);l.setParams({property:m,depsCount:p.length,deps:p.join(", ")}),f.allErrors?c.if(g,()=>{for(const y of p)(0,r.checkReportMissingProp)(l,y)}):(c.if((0,t._)`${g} && (${(0,r.checkMissingProp)(l,p,h)})`),(0,r.reportMissingProp)(l,h),c.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:c,data:d,keyword:f,it:h}=l,m=c.name("valid");for(const p in u)(0,n.alwaysValidSchema)(h,u[p])||(c.if((0,r.propertyInData)(c,d,p,h.opts.ownProperties),()=>{const g=l.subschema({keyword:f,schemaProp:p},m);l.mergeValidEvaluated(g,m)},()=>c.var(m,!0)),l.ok(m))}e.validateSchemaDeps=a,e.default=i})(hU)),hU}var QP={},Obe;function hJt(){if(Obe)return QP;Obe=1,Object.defineProperty(QP,"__esModule",{value:!0});const e=kr(),t=oi(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,e._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:o,schema:s,data:a,it:l}=i;if((0,t.alwaysValidSchema)(l,s))return;const u=o.name("valid");o.forIn("key",a,c=>{i.setParams({propertyName:c}),i.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},u),o.if((0,e.not)(u),()=>{i.error(!0),l.allErrors||o.break()})}),i.ok(u)}};return QP.default=r,QP}var JP={},Nbe;function BFe(){if(Nbe)return JP;Nbe=1,Object.defineProperty(JP,"__esModule",{value:!0});const e=oh(),t=kr(),n=lv(),r=oi(),o={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:s})=>(0,t._)`{additionalProperty: ${s.additionalProperty}}`},code(s){const{gen:a,schema:l,parentSchema:u,data:c,errsCount:d,it:f}=s;if(!d)throw new Error("ajv implementation error");const{allErrors:h,opts:m}=f;if(f.props=!0,m.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(f,l))return;const p=(0,e.allSchemaProperties)(u.properties),g=(0,e.allSchemaProperties)(u.patternProperties);y(),s.ok((0,t._)`${d} === ${n.default.errors}`);function y(){a.forIn("key",c,S=>{!p.length&&!g.length?E(S):a.if(v(S),()=>E(S))})}function v(S){let T;if(p.length>8){const A=(0,r.schemaRefOrVal)(f,u.properties,"properties");T=(0,e.isOwnProperty)(a,A,S)}else p.length?T=(0,t.or)(...p.map(A=>(0,t._)`${S} === ${A}`)):T=t.nil;return g.length&&(T=(0,t.or)(T,...g.map(A=>(0,t._)`${(0,e.usePattern)(s,A)}.test(${S})`))),(0,t.not)(T)}function w(S){a.code((0,t._)`delete ${c}[${S}]`)}function E(S){if(m.removeAdditional==="all"||m.removeAdditional&&l===!1){w(S);return}if(l===!1){s.setParams({additionalProperty:S}),s.error(),h||a.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(f,l)){const T=a.name("valid");m.removeAdditional==="failing"?(C(S,T,!1),a.if((0,t.not)(T),()=>{s.reset(),w(S)})):(C(S,T),h||a.if((0,t.not)(T),()=>a.break()))}}function C(S,T,A){const D={keyword:"additionalProperties",dataProp:S,dataPropType:r.Type.Str};A===!1&&Object.assign(D,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(D,T)}}};return JP.default=o,JP}var ZP={},Mbe;function pJt(){if(Mbe)return ZP;Mbe=1,Object.defineProperty(ZP,"__esModule",{value:!0});const e=OL(),t=oh(),n=oi(),r=BFe(),i={keyword:"properties",type:"object",schemaType:"object",code(o){const{gen:s,schema:a,parentSchema:l,data:u,it:c}=o;c.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(c,r.default,"additionalProperties"));const d=(0,t.allSchemaProperties)(a);for(const g of d)c.definedProperties.add(g);c.opts.unevaluated&&d.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(s,(0,n.toHash)(d),c.props));const f=d.filter(g=>!(0,n.alwaysValidSchema)(c,a[g]));if(f.length===0)return;const h=s.name("valid");for(const g of f)m(g)?p(g):(s.if((0,t.propertyInData)(s,u,g,c.opts.ownProperties)),p(g),c.allErrors||s.else().var(h,!0),s.endIf()),o.it.definedProperties.add(g),o.ok(h);function m(g){return c.opts.useDefaults&&!c.compositeRule&&a[g].default!==void 0}function p(g){o.subschema({keyword:"properties",schemaProp:g,dataProp:g},h)}}};return ZP.default=i,ZP}var e3={},$be;function mJt(){if($be)return e3;$be=1,Object.defineProperty(e3,"__esModule",{value:!0});const e=oh(),t=kr(),n=oi(),r=oi(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(o){const{gen:s,schema:a,data:l,parentSchema:u,it:c}=o,{opts:d}=c,f=(0,e.allSchemaProperties)(a),h=f.filter(E=>(0,n.alwaysValidSchema)(c,a[E]));if(f.length===0||h.length===f.length&&(!c.opts.unevaluated||c.props===!0))return;const m=d.strictSchema&&!d.allowMatchingProperties&&u.properties,p=s.name("valid");c.props!==!0&&!(c.props instanceof t.Name)&&(c.props=(0,r.evaluatedPropsToName)(s,c.props));const{props:g}=c;y();function y(){for(const E of f)m&&v(E),c.allErrors?w(E):(s.var(p,!0),w(E),s.if(p))}function v(E){for(const C in m)new RegExp(E).test(C)&&(0,n.checkStrictMode)(c,`property ${C} matches pattern ${E} (use allowMatchingProperties)`)}function w(E){s.forIn("key",l,C=>{s.if((0,t._)`${(0,e.usePattern)(o,E)}.test(${C})`,()=>{const S=h.includes(E);S||o.subschema({keyword:"patternProperties",schemaProp:E,dataProp:C,dataPropType:r.Type.Str},p),c.opts.unevaluated&&g!==!0?s.assign((0,t._)`${g}[${C}]`,!0):!S&&!c.allErrors&&s.if((0,t.not)(p),()=>s.break())})})}}};return e3.default=i,e3}var t3={},Fbe;function gJt(){if(Fbe)return t3;Fbe=1,Object.defineProperty(t3,"__esModule",{value:!0});const e=oi(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:o}=n;if((0,e.alwaysValidSchema)(o,i)){n.fail();return}const s=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),n.failResult(s,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return t3.default=t,t3}var n3={},Lbe;function yJt(){if(Lbe)return n3;Lbe=1,Object.defineProperty(n3,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:oh().validateUnion,error:{message:"must match a schema in anyOf"}};return n3.default=t,n3}var r3={},jbe;function vJt(){if(jbe)return r3;jbe=1,Object.defineProperty(r3,"__esModule",{value:!0});const e=kr(),t=oi(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,e._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:o,schema:s,parentSchema:a,it:l}=i;if(!Array.isArray(s))throw new Error("ajv implementation error");if(l.opts.discriminator&&a.discriminator)return;const u=s,c=o.let("valid",!1),d=o.let("passing",null),f=o.name("_valid");i.setParams({passing:d}),o.block(h),i.result(c,()=>i.reset(),()=>i.error(!0));function h(){u.forEach((m,p)=>{let g;(0,t.alwaysValidSchema)(l,m)?o.var(f,!0):g=i.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},f),p>0&&o.if((0,e._)`${f} && ${c}`).assign(c,!1).assign(d,(0,e._)`[${d}, ${p}]`).else(),o.if(f,()=>{o.assign(c,!0),o.assign(d,p),g&&i.mergeEvaluated(g,e.Name)})})}}};return r3.default=r,r3}var i3={},Bbe;function bJt(){if(Bbe)return i3;Bbe=1,Object.defineProperty(i3,"__esModule",{value:!0});const e=oi(),t={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:o}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const s=r.name("valid");i.forEach((a,l)=>{if((0,e.alwaysValidSchema)(o,a))return;const u=n.subschema({keyword:"allOf",schemaProp:l},s);n.ok(s),n.mergeEvaluated(u)})}};return i3.default=t,i3}var o3={},zbe;function wJt(){if(zbe)return o3;zbe=1,Object.defineProperty(o3,"__esModule",{value:!0});const e=kr(),t=oi(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:o})=>(0,e.str)`must match "${o.ifClause}" schema`,params:({params:o})=>(0,e._)`{failingKeyword: ${o.ifClause}}`},code(o){const{gen:s,parentSchema:a,it:l}=o;a.then===void 0&&a.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const u=i(l,"then"),c=i(l,"else");if(!u&&!c)return;const d=s.let("valid",!0),f=s.name("_valid");if(h(),o.reset(),u&&c){const p=s.let("ifClause");o.setParams({ifClause:p}),s.if(f,m("then",p),m("else",p))}else u?s.if(f,m("then")):s.if((0,e.not)(f),m("else"));o.pass(d,()=>o.error(!0));function h(){const p=o.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);o.mergeEvaluated(p)}function m(p,g){return()=>{const y=o.subschema({keyword:p},f);s.assign(d,f),o.mergeValidEvaluated(y,d),g?s.assign(g,(0,e._)`${p}`):o.setParams({ifClause:p})}}}};function i(o,s){const a=o.schema[s];return a!==void 0&&!(0,t.alwaysValidSchema)(o,a)}return o3.default=r,o3}var s3={},Ube;function xJt(){if(Ube)return s3;Ube=1,Object.defineProperty(s3,"__esModule",{value:!0});const e=oi(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,e.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return s3.default=t,s3}var Vbe;function _Jt(){if(Vbe)return GP;Vbe=1,Object.defineProperty(GP,"__esModule",{value:!0});const e=LFe(),t=uJt(),n=jFe(),r=cJt(),i=dJt(),o=fJt(),s=hJt(),a=BFe(),l=pJt(),u=mJt(),c=gJt(),d=yJt(),f=vJt(),h=bJt(),m=wJt(),p=xJt();function g(y=!1){const v=[c.default,d.default,f.default,h.default,m.default,p.default,s.default,a.default,o.default,l.default,u.default];return y?v.push(t.default,r.default):v.push(e.default,n.default),v.push(i.default),v}return GP.default=g,GP}var a3={},l3={},Hbe;function EJt(){if(Hbe)return l3;Hbe=1,Object.defineProperty(l3,"__esModule",{value:!0});const e=kr(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,i){const{gen:o,data:s,$data:a,schema:l,schemaCode:u,it:c}=r,{opts:d,errSchemaPath:f,schemaEnv:h,self:m}=c;if(!d.validateFormats)return;a?p():g();function p(){const y=o.scopeValue("formats",{ref:m.formats,code:d.code.formats}),v=o.const("fDef",(0,e._)`${y}[${u}]`),w=o.let("fType"),E=o.let("format");o.if((0,e._)`typeof ${v} == "object" && !(${v} instanceof RegExp)`,()=>o.assign(w,(0,e._)`${v}.type || "string"`).assign(E,(0,e._)`${v}.validate`),()=>o.assign(w,(0,e._)`"string"`).assign(E,v)),r.fail$data((0,e.or)(C(),S()));function C(){return d.strictSchema===!1?e.nil:(0,e._)`${u} && !${E}`}function S(){const T=h.$async?(0,e._)`(${v}.async ? await ${E}(${s}) : ${E}(${s}))`:(0,e._)`${E}(${s})`,A=(0,e._)`(typeof ${E} == "function" ? ${T} : ${E}.test(${s}))`;return(0,e._)`${E} && ${E} !== true && ${w} === ${i} && !${A}`}}function g(){const y=m.formats[l];if(!y){C();return}if(y===!0)return;const[v,w,E]=S(y);v===i&&r.pass(T());function C(){if(d.strictSchema===!1){m.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${l}" ignored in schema at path "${f}"`}}function S(A){const D=A instanceof RegExp?(0,e.regexpCode)(A):d.code.formats?(0,e._)`${d.code.formats}${(0,e.getProperty)(l)}`:void 0,I=o.scopeValue("formats",{key:l,ref:A,code:D});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,e._)`${I}.validate`]:["string",A,I]}function T(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!h.$async)throw new Error("async format in sync schema");return(0,e._)`await ${E}(${s})`}return typeof w=="function"?(0,e._)`${E}(${s})`:(0,e._)`${E}.test(${s})`}}}};return l3.default=n,l3}var qbe;function CJt(){if(qbe)return a3;qbe=1,Object.defineProperty(a3,"__esModule",{value:!0});const t=[EJt().default];return a3.default=t,a3}var Uv={},Wbe;function SJt(){return Wbe||(Wbe=1,Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.contentVocabulary=Uv.metadataVocabulary=void 0,Uv.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Uv.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Uv}var Gbe;function TJt(){if(Gbe)return DP;Gbe=1,Object.defineProperty(DP,"__esModule",{value:!0});const e=XQt(),t=lJt(),n=_Jt(),r=CJt(),i=SJt(),o=[e.default,t.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return DP.default=o,DP}var u3={},WS={},Ybe;function AJt(){if(Ybe)return WS;Ybe=1,Object.defineProperty(WS,"__esModule",{value:!0}),WS.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(WS.DiscrError=e={})),WS}var Kbe;function kJt(){if(Kbe)return u3;Kbe=1,Object.defineProperty(u3,"__esModule",{value:!0});const e=kr(),t=AJt(),n=Lre(),r=NL(),i=oi(),s={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:l}})=>a===t.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:u}})=>(0,e._)`{error: ${a}, tag: ${u}, tagValue: ${l}}`},code(a){const{gen:l,data:u,schema:c,parentSchema:d,it:f}=a,{oneOf:h}=d;if(!f.opts.discriminator)throw new Error("discriminator: requires discriminator option");const m=c.propertyName;if(typeof m!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");const p=l.let("valid",!1),g=l.const("tag",(0,e._)`${u}${(0,e.getProperty)(m)}`);l.if((0,e._)`typeof ${g} == "string"`,()=>y(),()=>a.error(!1,{discrError:t.DiscrError.Tag,tag:g,tagName:m})),a.ok(p);function y(){const E=w();l.if(!1);for(const C in E)l.elseIf((0,e._)`${g} === ${C}`),l.assign(p,v(E[C]));l.else(),a.error(!1,{discrError:t.DiscrError.Mapping,tag:g,tagName:m}),l.endIf()}function v(E){const C=l.name("valid"),S=a.subschema({keyword:"oneOf",schemaProp:E},C);return a.mergeEvaluated(S,e.Name),C}function w(){var E;const C={},S=A(d);let T=!0;for(let P=0;P<h.length;P++){let N=h[P];if(N?.$ref&&!(0,i.schemaHasRulesButRef)(N,f.self.RULES)){const O=N.$ref;if(N=n.resolveRef.call(f.self,f.schemaEnv.root,f.baseId,O),N instanceof n.SchemaEnv&&(N=N.schema),N===void 0)throw new r.default(f.opts.uriResolver,f.baseId,O)}const $=(E=N?.properties)===null||E===void 0?void 0:E[m];if(typeof $!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);T=T&&(S||A(N)),D($,P)}if(!T)throw new Error(`discriminator: "${m}" must be required`);return C;function A({required:P}){return Array.isArray(P)&&P.includes(m)}function D(P,N){if(P.const)I(P.const,N);else if(P.enum)for(const $ of P.enum)I($,N);else throw new Error(`discriminator: "properties/${m}" must have "const" or "enum"`)}function I(P,N){if(typeof P!="string"||P in C)throw new Error(`discriminator: "${m}" values must be unique strings`);C[P]=N}}}};return u3.default=s,u3}const RJt="http://json-schema.org/draft-07/schema#",IJt="http://json-schema.org/draft-07/schema#",DJt="Core schema meta-schema",PJt={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},OJt=["object","boolean"],NJt={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},MJt={$schema:RJt,$id:IJt,title:DJt,definitions:PJt,type:OJt,properties:NJt,default:!0};var Xbe;function $Jt(){return Xbe||(Xbe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=GQt(),r=TJt(),i=kJt(),o=MJt,s=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(m,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=OL();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=kr();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var d=Fre();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var f=NL();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(TP,TP.exports)),TP.exports}var FJt=$Jt();const Bre=ms(FJt),zre=Symbol.for("yaml.alias"),IG=Symbol.for("yaml.document"),ey=Symbol.for("yaml.map"),zFe=Symbol.for("yaml.pair"),vp=Symbol.for("yaml.scalar"),vC=Symbol.for("yaml.seq"),Cd=Symbol.for("yaml.node.type"),uw=e=>!!e&&typeof e=="object"&&e[Cd]===zre,ML=e=>!!e&&typeof e=="object"&&e[Cd]===IG,YR=e=>!!e&&typeof e=="object"&&e[Cd]===ey,Zo=e=>!!e&&typeof e=="object"&&e[Cd]===zFe,Vi=e=>!!e&&typeof e=="object"&&e[Cd]===vp,KR=e=>!!e&&typeof e=="object"&&e[Cd]===vC;function Go(e){if(e&&typeof e=="object")switch(e[Cd]){case ey:case vC:return!0}return!1}function Ko(e){if(e&&typeof e=="object")switch(e[Cd]){case zre:case ey:case vp:case vC:return!0}return!1}const UFe=e=>(Vi(e)||Go(e))&&!!e.anchor,eb=Symbol("break visit"),LJt=Symbol("skip children"),T2=Symbol("remove node");function bC(e,t){const n=jJt(t);ML(e)?Lx(null,e.contents,n,Object.freeze([e]))===T2&&(e.contents=null):Lx(null,e,n,Object.freeze([]))}bC.BREAK=eb;bC.SKIP=LJt;bC.REMOVE=T2;function Lx(e,t,n,r){const i=BJt(e,t,n,r);if(Ko(i)||Zo(i))return zJt(e,r,i),Lx(e,i,n,r);if(typeof i!="symbol"){if(Go(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){const s=Lx(o,t.items[o],n,r);if(typeof s=="number")o=s-1;else{if(s===eb)return eb;s===T2&&(t.items.splice(o,1),o-=1)}}}else if(Zo(t)){r=Object.freeze(r.concat(t));const o=Lx("key",t.key,n,r);if(o===eb)return eb;o===T2&&(t.key=null);const s=Lx("value",t.value,n,r);if(s===eb)return eb;s===T2&&(t.value=null)}}return i}function jJt(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function BJt(e,t,n,r){if(typeof n=="function")return n(e,t,r);if(YR(t))return n.Map?.(e,t,r);if(KR(t))return n.Seq?.(e,t,r);if(Zo(t))return n.Pair?.(e,t,r);if(Vi(t))return n.Scalar?.(e,t,r);if(uw(t))return n.Alias?.(e,t,r)}function zJt(e,t,n){const r=t[t.length-1];if(Go(r))r.items[e]=n;else if(Zo(r))e==="key"?r.key=n:r.value=n;else if(ML(r))r.contents=n;else{const i=uw(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const UJt={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},VJt=e=>e.replace(/[!,[\]{}]/g,t=>UJt[t]);class Al{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Al.defaultYaml,t),this.tags=Object.assign({},Al.defaultTags,n)}clone(){const t=new Al(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Al(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Al.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Al.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:Al.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Al.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[o,s]=r;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[o]=r;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const s=/^\d+\.\d+$/.test(o);return n(6,`Unsupported YAML version ${o}`,s),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const s=t.slice(2,-1);return s==="!"||s==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),s)}const[,r,i]=t.match(/^(.*!)([^!]*)$/s);i||n(`The ${t} tag has no suffix`);const o=this.tags[r];if(o)try{return o+decodeURIComponent(i)}catch(s){return n(String(s)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+VJt(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&Ko(t.contents)){const o={};bC(t.contents,(s,a)=>{Ko(a)&&a.tag&&(o[a.tag]=!0)}),i=Object.keys(o)}else i=[];for(const[o,s]of r)o==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(s)))&&n.push(`%TAG ${o} ${s}`);return n.join(`
`)}}Al.defaultYaml={explicit:!1,version:"1.2"};Al.defaultTags={"!!":"tag:yaml.org,2002:"};function VFe(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function HFe(e){const t=new Set;return bC(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function qFe(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function HJt(e,t){const n=[],r=new Map;let i=null;return{onAnchor:o=>{n.push(o),i??(i=HFe(e));const s=qFe(t,i);return i.add(s),s},setAnchors:()=>{for(const o of n){const s=r.get(o);if(typeof s=="object"&&s.anchor&&(Vi(s.node)||Go(s.node)))s.node.anchor=s.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:r}}function jx(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,o=r.length;i<o;++i){const s=r[i],a=jx(e,r,String(i),s);a===void 0?delete r[i]:a!==s&&(r[i]=a)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const o=r.get(i),s=jx(e,r,i,o);s===void 0?r.delete(i):s!==o&&r.set(i,s)}else if(r instanceof Set)for(const i of Array.from(r)){const o=jx(e,r,i,i);o===void 0?r.delete(i):o!==i&&(r.delete(i),r.add(o))}else for(const[i,o]of Object.entries(r)){const s=jx(e,r,i,o);s===void 0?delete r[i]:s!==o&&(r[i]=s)}return e.call(t,n,r)}function dd(e,t,n){if(Array.isArray(e))return e.map((r,i)=>dd(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!UFe(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=o=>{r.res=o,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!n?.keep?Number(e):e}class Ure{constructor(t){Object.defineProperty(this,Cd,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:o}={}){if(!ML(t))throw new TypeError("A document argument is required");const s={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=dd(this,"",s);if(typeof i=="function")for(const{count:l,res:u}of s.anchors.values())i(u,l);return typeof o=="function"?jx(o,{"":a},"",a):a}}class Vre extends Ure{constructor(t){super(zre),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t,n){let r;n?.aliasResolveCache?r=n.aliasResolveCache:(r=[],bC(t,{Node:(o,s)=>{(uw(s)||UFe(s))&&r.push(s)}}),n&&(n.aliasResolveCache=r));let i;for(const o of r){if(o===this)break;o.anchor===this.source&&(i=o)}return i}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:o}=n,s=this.resolve(i,n);if(!s){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=r.get(s);if(a||(dd(s,null,n),a=r.get(s)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=pN(i,s,r)),a.count*a.aliasCount>o)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(VFe(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${i} `}return i}}function pN(e,t,n){if(uw(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(Go(t)){let r=0;for(const i of t.items){const o=pN(e,i,n);o>r&&(r=o)}return r}else if(Zo(t)){const r=pN(e,t.key,n),i=pN(e,t.value,n);return Math.max(r,i)}return 1}const WFe=e=>!e||typeof e!="function"&&typeof e!="object";class ir extends Ure{constructor(t){super(vp),this.value=t}toJSON(t,n){return n?.keep?this.value:dd(this.value,t,n)}toString(){return String(this.value)}}ir.BLOCK_FOLDED="BLOCK_FOLDED";ir.BLOCK_LITERAL="BLOCK_LITERAL";ir.PLAIN="PLAIN";ir.QUOTE_DOUBLE="QUOTE_DOUBLE";ir.QUOTE_SINGLE="QUOTE_SINGLE";const qJt="tag:yaml.org,2002:";function WJt(e,t,n){if(t){const r=n.filter(o=>o.tag===t),i=r.find(o=>!o.format)??r[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return n.find(r=>r.identify?.(e)&&!r.format)}function KA(e,t,n){if(ML(e)&&(e=e.contents),Ko(e))return e;if(Zo(e)){const d=n.schema[ey].createNode?.(n.schema,null,n);return d.items.push(e),d}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:o,schema:s,sourceObjects:a}=n;let l;if(r&&e&&typeof e=="object"){if(l=a.get(e),l)return l.anchor??(l.anchor=i(e)),new Vre(l.anchor);l={anchor:null,node:null},a.set(e,l)}t?.startsWith("!!")&&(t=qJt+t.slice(2));let u=WJt(e,t,s.tags);if(!u){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const d=new ir(e);return l&&(l.node=d),d}u=e instanceof Map?s[ey]:Symbol.iterator in Object(e)?s[vC]:s[ey]}o&&(o(u),delete n.onTagObj);const c=u?.createNode?u.createNode(n.schema,e,n):typeof u?.nodeClass?.from=="function"?u.nodeClass.from(n.schema,e,n):new ir(e);return t?c.tag=t:u.default||(c.tag=u.tag),l&&(l.node=c),c}function p6(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const o=t[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const s=[];s[o]=r,r=s}else r=new Map([[o,r]])}return KA(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const zT=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class GFe extends Ure{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>Ko(r)||Zo(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(zT(t))this.add(n);else{const[r,...i]=t,o=this.get(r,!0);if(Go(o))o.addIn(i,n);else if(o===void 0&&this.schema)this.set(r,p6(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(Go(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,o=this.get(r,!0);return i.length===0?!n&&Vi(o)?o.value:o:Go(o)?o.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!Zo(n))return!1;const r=n.value;return r==null||t&&Vi(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return Go(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const o=this.get(r,!0);if(Go(o))o.setIn(i,n);else if(o===void 0&&this.schema)this.set(r,p6(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}const GJt=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Cm(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const xb=(e,t,n)=>e.endsWith(`
`)?Cm(n,t):n.includes(`
`)?`
`+Cm(n,t):(e.endsWith(" ")?"":" ")+n,YFe="flow",DG="block",mN="quoted";function $L(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!i||i<0)return e;i<o&&(o=0);const l=Math.max(1+o,1+i-t.length);if(e.length<=l)return e;const u=[],c={};let d=i-t.length;typeof r=="number"&&(r>i-Math.max(2,o)?u.push(0):d=i-r);let f,h,m=!1,p=-1,g=-1,y=-1;n===DG&&(p=Qbe(e,p,t.length),p!==-1&&(d=p+l));for(let w;w=e[p+=1];){if(n===mN&&w==="\\"){switch(g=p,e[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}y=p}if(w===`
`)n===DG&&(p=Qbe(e,p,t.length)),d=p+t.length+l,f=void 0;else{if(w===" "&&h&&h!==" "&&h!==`
`&&h!=="	"){const E=e[p+1];E&&E!==" "&&E!==`
`&&E!=="	"&&(f=p)}if(p>=d)if(f)u.push(f),d=f+l,f=void 0;else if(n===mN){for(;h===" "||h==="	";)h=w,w=e[p+=1],m=!0;const E=p>y+1?p-2:g-1;if(c[E])return e;u.push(E),c[E]=!0,d=E+l,f=void 0}else m=!0}h=w}if(m&&a&&a(),u.length===0)return e;s&&s();let v=e.slice(0,u[0]);for(let w=0;w<u.length;++w){const E=u[w],C=u[w+1]||e.length;E===0?v=`
${t}${e.slice(0,C)}`:(n===mN&&c[E]&&(v+=`${e[E]}\\`),v+=`
${t}${e.slice(E+1,C)}`)}return v}function Qbe(e,t,n){let r=t,i=t+1,o=e[i];for(;o===" "||o==="	";)if(t<i+n)o=e[++t];else{do o=e[++t];while(o&&o!==`
`);r=t,i=t+1,o=e[i]}return r}const FL=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),LL=e=>/^(%|---|\.\.\.)/m.test(e);function YJt(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let o=0,s=0;o<i;++o)if(e[o]===`
`){if(o-s>r)return!0;if(s=o+1,i-s<=r)return!1}return!0}function A2(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(LL(e)?"  ":"");let s="",a=0;for(let l=0,u=n[l];u;u=n[++l])if(u===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(s+=n.slice(a,l)+"\\ ",l+=1,a=l,u="\\"),u==="\\")switch(n[l+1]){case"u":{s+=n.slice(a,l);const c=n.substr(l+2,4);switch(c){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:c.substr(0,2)==="00"?s+="\\x"+c.substr(2):s+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<i)l+=1;else{for(s+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)s+=`
`,l+=2;s+=o,n[l+2]===" "&&(s+="\\"),l+=1,a=l+1}break;default:l+=1}return s=a?s+n.slice(a):n,r?s:$L(s,o,mN,FL(t,!1))}function PG(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return A2(e,t);const n=t.indent||(LL(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:$L(r,n,YFe,FL(t,!1))}function Bx(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=A2;else{const i=e.includes('"'),o=e.includes("'");i&&!o?r=PG:o&&!i?r=A2:r=n?PG:A2}return r(e,t)}let OG;try{OG=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{OG=/\n+(?!\n|$)/g}function gN({comment:e,type:t,value:n},r,i,o){const{blockQuote:s,commentString:a,lineWidth:l}=r.options;if(!s||/\n[\t ]+$/.test(n))return Bx(n,r);const u=r.indent||(r.forceBlockIndent||LL(n)?"  ":""),c=s==="literal"?!0:s==="folded"||t===ir.BLOCK_FOLDED?!1:t===ir.BLOCK_LITERAL?!0:!YJt(n,l,u.length);if(!n)return c?`|
`:`>
`;let d,f;for(f=n.length;f>0;--f){const C=n[f-1];if(C!==`
`&&C!=="	"&&C!==" ")break}let h=n.substring(f);const m=h.indexOf(`
`);m===-1?d="-":n===h||m!==h.length-1?(d="+",o&&o()):d="",h&&(n=n.slice(0,-h.length),h[h.length-1]===`
`&&(h=h.slice(0,-1)),h=h.replace(OG,`$&${u}`));let p=!1,g,y=-1;for(g=0;g<n.length;++g){const C=n[g];if(C===" ")p=!0;else if(C===`
`)y=g;else break}let v=n.substring(0,y<g?y+1:g);v&&(n=n.substring(v.length),v=v.replace(/\n+/g,`$&${u}`));let E=(p?u?"2":"1":"")+d;if(e&&(E+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),!c){const C=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);let S=!1;const T=FL(r,!0);s!=="folded"&&t!==ir.BLOCK_FOLDED&&(T.onOverflow=()=>{S=!0});const A=$L(`${v}${C}${h}`,u,DG,T);if(!S)return`>${E}
${u}${A}`}return n=n.replace(/\n+/g,`$&${u}`),`|${E}
${u}${v}${n}${h}`}function KJt(e,t,n,r){const{type:i,value:o}=e,{actualString:s,implicitKey:a,indent:l,indentStep:u,inFlow:c}=t;if(a&&o.includes(`
`)||c&&/[[\]{},]/.test(o))return Bx(o,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||c||!o.includes(`
`)?Bx(o,t):gN(e,t,n,r);if(!a&&!c&&i!==ir.PLAIN&&o.includes(`
`))return gN(e,t,n,r);if(LL(o)){if(l==="")return t.forceBlockIndent=!0,gN(e,t,n,r);if(a&&l===u)return Bx(o,t)}const d=o.replace(/\n+/g,`$&
${l}`);if(s){const f=p=>p.default&&p.tag!=="tag:yaml.org,2002:str"&&p.test?.test(d),{compat:h,tags:m}=t.doc.schema;if(m.some(f)||h?.some(f))return Bx(o,t)}return a?d:$L(d,l,YFe,FL(t,!1))}function Hre(e,t,n,r){const{implicitKey:i,inFlow:o}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==ir.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=ir.QUOTE_DOUBLE);const l=c=>{switch(c){case ir.BLOCK_FOLDED:case ir.BLOCK_LITERAL:return i||o?Bx(s.value,t):gN(s,t,n,r);case ir.QUOTE_DOUBLE:return A2(s.value,t);case ir.QUOTE_SINGLE:return PG(s.value,t);case ir.PLAIN:return KJt(s,t,n,r);default:return null}};let u=l(a);if(u===null){const{defaultKeyType:c,defaultStringType:d}=t.options,f=i&&c||d;if(u=l(f),u===null)throw new Error(`Unsupported default string type ${f}`)}return u}function KFe(e,t){const n=Object.assign({blockQuote:!0,commentString:GJt,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function XJt(e,t){if(t.tag){const i=e.filter(o=>o.tag===t.tag);if(i.length>0)return i.find(o=>o.format===t.format)??i[0]}let n,r;if(Vi(t)){r=t.value;let i=e.filter(o=>o.identify?.(r));if(i.length>1){const o=i.filter(s=>s.test);o.length>0&&(i=o)}n=i.find(o=>o.format===t.format)??i.find(o=>!o.format)}else r=t,n=e.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){const i=r?.constructor?.name??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${i} value`)}return n}function QJt(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],o=(Vi(e)||Go(e))&&e.anchor;o&&VFe(o)&&(n.add(o),i.push(`&${o}`));const s=e.tag??(t.default?null:t.tag);return s&&i.push(r.directives.tagString(s)),i.join(" ")}function hE(e,t,n,r){if(Zo(e))return e.toString(t,n,r);if(uw(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const o=Ko(e)?e:t.doc.createNode(e,{onTagObj:l=>i=l});i??(i=XJt(t.doc.schema.tags,o));const s=QJt(o,i,t);s.length>0&&(t.indentAtStart=(t.indentAtStart??0)+s.length+1);const a=typeof i.stringify=="function"?i.stringify(o,t,n,r):Vi(o)?Hre(o,t,n,r):o.toString(t,n,r);return s?Vi(o)||a[0]==="{"||a[0]==="["?`${s} ${a}`:`${s}
${t.indent}${a}`:a}function JJt({key:e,value:t},n,r,i){const{allNullValues:o,doc:s,indent:a,indentStep:l,options:{commentString:u,indentSeq:c,simpleKeys:d}}=n;let f=Ko(e)&&e.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Go(e)||!Ko(e)&&typeof e=="object"){const T="With simple keys, collection cannot be used as a key value";throw new Error(T)}}let h=!d&&(!e||f&&t==null&&!n.inFlow||Go(e)||(Vi(e)?e.type===ir.BLOCK_FOLDED||e.type===ir.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!h&&(d||!o),indent:a+l});let m=!1,p=!1,g=hE(e,n,()=>m=!0,()=>p=!0);if(!h&&!n.inFlow&&g.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(n.inFlow){if(o||t==null)return m&&r&&r(),g===""?"?":h?`? ${g}`:g}else if(o&&!d||t==null&&h)return g=`? ${g}`,f&&!m?g+=xb(g,n.indent,u(f)):p&&i&&i(),g;m&&(f=null),h?(f&&(g+=xb(g,n.indent,u(f))),g=`? ${g}
${a}:`):(g=`${g}:`,f&&(g+=xb(g,n.indent,u(f))));let y,v,w;Ko(t)?(y=!!t.spaceBefore,v=t.commentBefore,w=t.comment):(y=!1,v=null,w=null,t&&typeof t=="object"&&(t=s.createNode(t))),n.implicitKey=!1,!h&&!f&&Vi(t)&&(n.indentAtStart=g.length+1),p=!1,!c&&l.length>=2&&!n.inFlow&&!h&&KR(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let E=!1;const C=hE(t,n,()=>E=!0,()=>p=!0);let S=" ";if(f||y||v){if(S=y?`
`:"",v){const T=u(v);S+=`
${Cm(T,n.indent)}`}C===""&&!n.inFlow?S===`
`&&(S=`

`):S+=`
${n.indent}`}else if(!h&&Go(t)){const T=C[0],A=C.indexOf(`
`),D=A!==-1,I=n.inFlow??t.flow??t.items.length===0;if(D||!I){let P=!1;if(D&&(T==="&"||T==="!")){let N=C.indexOf(" ");T==="&"&&N!==-1&&N<A&&C[N+1]==="!"&&(N=C.indexOf(" ",N+1)),(N===-1||A<N)&&(P=!0)}P||(S=`
${n.indent}`)}}else(C===""||C[0]===`
`)&&(S="");return g+=S+C,n.inFlow?E&&r&&r():w&&!E?g+=xb(g,n.indent,u(w)):p&&i&&i(),g}function ZJt(e,t){(e==="debug"||e==="warn")&&console.warn(t)}const c3="<<",jm={identify:e=>e===c3||typeof e=="symbol"&&e.description===c3,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new ir(Symbol(c3)),{addToJSMap:XFe}),stringify:()=>c3},eZt=(e,t)=>(jm.identify(t)||Vi(t)&&(!t.type||t.type===ir.PLAIN)&&jm.identify(t.value))&&e?.doc.schema.tags.some(n=>n.tag===jm.tag&&n.default);function XFe(e,t,n){if(n=e&&uw(n)?n.resolve(e.doc):n,KR(n))for(const r of n.items)pU(e,t,r);else if(Array.isArray(n))for(const r of n)pU(e,t,r);else pU(e,t,n)}function pU(e,t,n){const r=e&&uw(n)?n.resolve(e.doc):n;if(!YR(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[o,s]of i)t instanceof Map?t.has(o)||t.set(o,s):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function QFe(e,t,{key:n,value:r}){if(Ko(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(eZt(e,n))XFe(e,t,r);else{const i=dd(n,"",e);if(t instanceof Map)t.set(i,dd(r,i,e));else if(t instanceof Set)t.add(i);else{const o=tZt(n,i,e),s=dd(r,o,e);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}function tZt(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(Ko(e)&&n?.doc){const r=KFe(n.doc,{});r.anchors=new Set;for(const o of n.anchors.keys())r.anchors.add(o.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),ZJt(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function qre(e,t,n){const r=KA(e,void 0,n),i=KA(t,void 0,n);return new Vl(r,i)}class Vl{constructor(t,n=null){Object.defineProperty(this,Cd,{value:zFe}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return Ko(n)&&(n=n.clone(t)),Ko(r)&&(r=r.clone(t)),new Vl(n,r)}toJSON(t,n){const r=n?.mapAsMap?new Map:{};return QFe(n,r,this)}toString(t,n,r){return t?.doc?JJt(this,t,n,r):JSON.stringify(this)}}function JFe(e,t,n){return(t.inFlow??e.flow?rZt:nZt)(e,t,n)}function nZt({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:o,onChompKeep:s,onComment:a}){const{indent:l,options:{commentString:u}}=n,c=Object.assign({},n,{indent:o,type:null});let d=!1;const f=[];for(let m=0;m<t.length;++m){const p=t[m];let g=null;if(Ko(p))!d&&p.spaceBefore&&f.push(""),m6(n,f,p.commentBefore,d),p.comment&&(g=p.comment);else if(Zo(p)){const v=Ko(p.key)?p.key:null;v&&(!d&&v.spaceBefore&&f.push(""),m6(n,f,v.commentBefore,d))}d=!1;let y=hE(p,c,()=>g=null,()=>d=!0);g&&(y+=xb(y,o,u(g))),d&&g&&(d=!1),f.push(r+y)}let h;if(f.length===0)h=i.start+i.end;else{h=f[0];for(let m=1;m<f.length;++m){const p=f[m];h+=p?`
${l}${p}`:`
`}}return e?(h+=`
`+Cm(u(e),l),a&&a()):d&&s&&s(),h}function rZt({items:e},t,{flowChars:n,itemIndent:r}){const{indent:i,indentStep:o,flowCollectionPadding:s,options:{commentString:a}}=t;r+=o;const l=Object.assign({},t,{indent:r,inFlow:!0,type:null});let u=!1,c=0;const d=[];for(let m=0;m<e.length;++m){const p=e[m];let g=null;if(Ko(p))p.spaceBefore&&d.push(""),m6(t,d,p.commentBefore,!1),p.comment&&(g=p.comment);else if(Zo(p)){const v=Ko(p.key)?p.key:null;v&&(v.spaceBefore&&d.push(""),m6(t,d,v.commentBefore,!1),v.comment&&(u=!0));const w=Ko(p.value)?p.value:null;w?(w.comment&&(g=w.comment),w.commentBefore&&(u=!0)):p.value==null&&v?.comment&&(g=v.comment)}g&&(u=!0);let y=hE(p,l,()=>g=null);m<e.length-1&&(y+=","),g&&(y+=xb(y,r,a(g))),!u&&(d.length>c||y.includes(`
`))&&(u=!0),d.push(y),c=d.length}const{start:f,end:h}=n;if(d.length===0)return f+h;if(!u){const m=d.reduce((p,g)=>p+g.length+2,2);u=t.options.lineWidth>0&&m>t.options.lineWidth}if(u){let m=f;for(const p of d)m+=p?`
${o}${i}${p}`:`
`;return`${m}
${i}${h}`}else return`${f}${s}${d.join(" ")}${s}${h}`}function m6({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const o=Cm(t(r),e);n.push(o.trimStart())}}function _b(e,t){const n=Vi(t)?t.value:t;for(const r of e)if(Zo(r)&&(r.key===t||r.key===n||Vi(r.key)&&r.key.value===n))return r}class Jc extends GFe{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(ey,t),this.items=[]}static from(t,n,r){const{keepUndefined:i,replacer:o}=r,s=new this(t),a=(l,u)=>{if(typeof o=="function")u=o.call(n,l,u);else if(Array.isArray(o)&&!o.includes(l))return;(u!==void 0||i)&&s.items.push(qre(l,u,r))};if(n instanceof Map)for(const[l,u]of n)a(l,u);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof t.sortMapEntries=="function"&&s.items.sort(t.sortMapEntries),s}add(t,n){let r;Zo(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new Vl(t,t?.value):r=new Vl(t.key,t.value);const i=_b(this.items,r.key),o=this.schema?.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);Vi(i.value)&&WFe(r.value)?i.value.value=r.value:i.value=r.value}else if(o){const s=this.items.findIndex(a=>o(r,a)<0);s===-1?this.items.push(r):this.items.splice(s,0,r)}else this.items.push(r)}delete(t){const n=_b(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const i=_b(this.items,t)?.value;return(!n&&Vi(i)?i.value:i)??void 0}has(t){return!!_b(this.items,t)}set(t,n){this.add(new Vl(t,n),!0)}toJSON(t,n,r){const i=r?new r:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(i);for(const o of this.items)QFe(n,i,o);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!Zo(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),JFe(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const wC={collection:"map",default:!0,nodeClass:Jc,tag:"tag:yaml.org,2002:map",resolve(e,t){return YR(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>Jc.from(e,t,n)};class _1 extends GFe{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(vC,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=d3(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=d3(t);if(typeof r!="number")return;const i=this.items[r];return!n&&Vi(i)?i.value:i}has(t){const n=d3(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=d3(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];Vi(i)&&WFe(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n?.onCreate&&n.onCreate(r);let i=0;for(const o of this.items)r.push(dd(o,String(i++),n));return r}toString(t,n,r){return t?JFe(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n)){let s=0;for(let a of n){if(typeof i=="function"){const l=n instanceof Set?a:String(s++);a=i.call(n,l,a)}o.items.push(KA(a,void 0,r))}}return o}}function d3(e){let t=Vi(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const xC={collection:"seq",default:!0,nodeClass:_1,tag:"tag:yaml.org,2002:seq",resolve(e,t){return KR(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>_1.from(e,t,n)},jL={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),Hre(e,t,n,r)}},BL={identify:e=>e==null,createNode:()=>new ir(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new ir(null),stringify:({source:e},t)=>typeof e=="string"&&BL.test.test(e)?e:t.options.nullStr},Wre={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new ir(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&Wre.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function sh({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=t-(o.length-s-1);for(;a-- >0;)o+="0"}return o}const ZFe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:sh},eLe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():sh(e)}},tLe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new ir(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:sh},zL=e=>typeof e=="bigint"||Number.isInteger(e),Gre=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function nLe(e,t,n){const{value:r}=e;return zL(r)&&r>=0?n+r.toString(t):sh(e)}const rLe={identify:e=>zL(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Gre(e,2,8,n),stringify:e=>nLe(e,8,"0o")},iLe={identify:zL,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Gre(e,0,10,n),stringify:sh},oLe={identify:e=>zL(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Gre(e,2,16,n),stringify:e=>nLe(e,16,"0x")},iZt=[wC,xC,jL,BL,Wre,rLe,iLe,oLe,ZFe,eLe,tLe];function Jbe(e){return typeof e=="bigint"||Number.isInteger(e)}const f3=({value:e})=>JSON.stringify(e),oZt=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:f3},{identify:e=>e==null,createNode:()=>new ir(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:f3},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>e==="true",stringify:f3},{identify:Jbe,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>Jbe(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:f3}],sZt={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},aZt=[wC,xC].concat(oZt,sZt),Yre={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,o){if(!n)return"";const s=n;let a;if(typeof btoa=="function"){let l="";for(let u=0;u<s.length;++u)l+=String.fromCharCode(s[u]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t??(t=ir.BLOCK_LITERAL),t!==ir.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(a.length/l),c=new Array(u);for(let d=0,f=0;d<u;++d,f+=l)c[d]=a.substr(f,l);a=c.join(t===ir.BLOCK_LITERAL?`
`:" ")}return Hre({comment:e,type:t,value:a},r,i,o)}};function sLe(e,t){if(KR(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!Zo(r)){if(YR(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const i=r.items[0]||new Vl(new ir(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const o=i.value??i.key;o.comment=o.comment?`${r.comment}
${o.comment}`:r.comment}r=i}e.items[n]=Zo(r)?r:new Vl(r)}}else t("Expected a sequence for this tag");return e}function aLe(e,t,n){const{replacer:r}=n,i=new _1(e);i.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof r=="function"&&(s=r.call(t,String(o++),s));let a,l;if(Array.isArray(s))if(s.length===2)a=s[0],l=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){const u=Object.keys(s);if(u.length===1)a=u[0],l=s[a];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else a=s;i.items.push(qre(a,l,n))}return i}const Kre={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:sLe,createNode:aLe};class u_ extends _1{constructor(){super(),this.add=Jc.prototype.add.bind(this),this.delete=Jc.prototype.delete.bind(this),this.get=Jc.prototype.get.bind(this),this.has=Jc.prototype.has.bind(this),this.set=Jc.prototype.set.bind(this),this.tag=u_.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n?.onCreate&&n.onCreate(r);for(const i of this.items){let o,s;if(Zo(i)?(o=dd(i.key,"",n),s=dd(i.value,o,n)):o=dd(i,"",n),r.has(o))throw new Error("Ordered maps must not include duplicate keys");r.set(o,s)}return r}static from(t,n,r){const i=aLe(t,n,r),o=new this;return o.items=i.items,o}}u_.tag="tag:yaml.org,2002:omap";const Xre={collection:"seq",identify:e=>e instanceof Map,nodeClass:u_,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=sLe(e,t),r=[];for(const{key:i}of n.items)Vi(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new u_,n)},createNode:(e,t,n)=>u_.from(e,t,n)};function lLe({value:e,source:t},n){return t&&(e?uLe:cLe).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const uLe={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new ir(!0),stringify:lLe},cLe={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new ir(!1),stringify:lLe},lZt={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:sh},uZt={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():sh(e)}},cZt={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new ir(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:sh},XR=e=>typeof e=="bigint"||Number.isInteger(e);function UL(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const s=BigInt(e);return i==="-"?BigInt(-1)*s:s}const o=parseInt(e,n);return i==="-"?-1*o:o}function Qre(e,t,n){const{value:r}=e;if(XR(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return sh(e)}const dZt={identify:XR,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>UL(e,2,2,n),stringify:e=>Qre(e,2,"0b")},fZt={identify:XR,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>UL(e,1,8,n),stringify:e=>Qre(e,8,"0")},hZt={identify:XR,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>UL(e,0,10,n),stringify:sh},pZt={identify:XR,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>UL(e,2,16,n),stringify:e=>Qre(e,16,"0x")};class c_ extends Jc{constructor(t){super(t),this.tag=c_.tag}add(t){let n;Zo(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new Vl(t.key,null):n=new Vl(t,null),_b(this.items,n.key)||this.items.push(n)}get(t,n){const r=_b(this.items,t);return!n&&Zo(r)?Vi(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=_b(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Vl(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n))for(let s of n)typeof i=="function"&&(s=i.call(n,s,s)),o.items.push(qre(s,null,r));return o}}c_.tag="tag:yaml.org,2002:set";const Jre={collection:"map",identify:e=>e instanceof Set,nodeClass:c_,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>c_.from(e,t,n),resolve(e,t){if(YR(e)){if(e.hasAllNullValues(!0))return Object.assign(new c_,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function Zre(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),o=r.replace(/_/g,"").split(":").reduce((s,a)=>s*i(60)+i(a),i(0));return n==="-"?i(-1)*o:o}function dLe(e){let{value:t}=e,n=s=>s;if(typeof t=="bigint")n=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return sh(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),r+o.map(s=>String(s).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const fLe={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Zre(e,n),stringify:dLe},hLe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Zre(e,!1),stringify:dLe},VL={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(VL.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,o,s,a]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,i,o||0,s||0,a||0,l);const c=t[8];if(c&&c!=="Z"){let d=Zre(c,!1);Math.abs(d)<30&&(d*=60),u-=6e4*d}return new Date(u)},stringify:({value:e})=>e?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},Zbe=[wC,xC,jL,BL,uLe,cLe,dZt,fZt,hZt,pZt,lZt,uZt,cZt,Yre,jm,Xre,Kre,Jre,fLe,hLe,VL],e1e=new Map([["core",iZt],["failsafe",[wC,xC,jL]],["json",aZt],["yaml11",Zbe],["yaml-1.1",Zbe]]),t1e={binary:Yre,bool:Wre,float:tLe,floatExp:eLe,floatNaN:ZFe,floatTime:hLe,int:iLe,intHex:oLe,intOct:rLe,intTime:fLe,map:wC,merge:jm,null:BL,omap:Xre,pairs:Kre,seq:xC,set:Jre,timestamp:VL},mZt={"tag:yaml.org,2002:binary":Yre,"tag:yaml.org,2002:merge":jm,"tag:yaml.org,2002:omap":Xre,"tag:yaml.org,2002:pairs":Kre,"tag:yaml.org,2002:set":Jre,"tag:yaml.org,2002:timestamp":VL};function mU(e,t,n){const r=e1e.get(t);if(r&&!e)return n&&!r.includes(jm)?r.concat(jm):r.slice();let i=r;if(!i)if(Array.isArray(e))i=[];else{const o=Array.from(e1e.keys()).filter(s=>s!=="yaml11").map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${o} or define customTags array`)}if(Array.isArray(e))for(const o of e)i=i.concat(o);else typeof e=="function"&&(i=e(i.slice()));return n&&(i=i.concat(jm)),i.reduce((o,s)=>{const a=typeof s=="string"?t1e[s]:s;if(!a){const l=JSON.stringify(s),u=Object.keys(t1e).map(c=>JSON.stringify(c)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${u}`)}return o.includes(a)||o.push(a),o},[])}const gZt=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class eie{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(t)?mU(t,"compat"):t?mU(null,t):null,this.name=typeof o=="string"&&o||"core",this.knownTags=i?mZt:{},this.tags=mU(n,this.name,r),this.toStringOptions=a??null,Object.defineProperty(this,ey,{value:wC}),Object.defineProperty(this,vp,{value:jL}),Object.defineProperty(this,vC,{value:xC}),this.sortMapEntries=typeof s=="function"?s:s===!0?gZt:null}clone(){const t=Object.create(eie.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function yZt(e,t){const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const l=e.directives.toString(e);l?(n.push(l),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=KFe(e,t),{commentString:o}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const l=o(e.commentBefore);n.unshift(Cm(l,""))}let s=!1,a=null;if(e.contents){if(Ko(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const c=o(e.contents.commentBefore);n.push(Cm(c,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}const l=a?void 0:()=>s=!0;let u=hE(e.contents,i,()=>a=null,l);a&&(u+=xb(u,"",o(a))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(hE(e.contents,i));if(e.directives?.docEnd)if(e.comment){const l=o(e.comment);l.includes(`
`)?(n.push("..."),n.push(Cm(l,""))):n.push(`... ${l}`)}else n.push("...");else{let l=e.comment;l&&s&&(l=l.replace(/^\n+/,"")),l&&((!s||a)&&n[n.length-1]!==""&&n.push(""),n.push(Cm(o(l),"")))}return n.join(`
`)+`
`}class HL{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Cd,{value:IG});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=o;let{version:s}=o;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new Al({version:s}),this.setSchema(s,r),this.contents=t===void 0?null:this.createNode(t,i,r)}clone(){const t=Object.create(HL.prototype,{[Cd]:{value:IG}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Ko(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){ux(this.contents)&&this.contents.add(t)}addIn(t,n){ux(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=HFe(this);t.anchor=!n||r.has(n)?qFe(n||"a",r):n}return new Vre(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const g=v=>typeof v=="number"||v instanceof String||v instanceof Number,y=n.filter(g).map(String);y.length>0&&(n=n.concat(y)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:l,onTagObj:u,tag:c}=r??{},{onAnchor:d,setAnchors:f,sourceObjects:h}=HJt(this,s||"a"),m={aliasDuplicateObjects:o??!0,keepUndefined:l??!1,onAnchor:d,onTagObj:u,replacer:i,schema:this.schema,sourceObjects:h},p=KA(t,c,m);return a&&Go(p)&&(p.flow=!0),f(),p}createPair(t,n,r={}){const i=this.createNode(t,null,r),o=this.createNode(n,null,r);return new Vl(i,o)}delete(t){return ux(this.contents)?this.contents.delete(t):!1}deleteIn(t){return zT(t)?this.contents==null?!1:(this.contents=null,!0):ux(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return Go(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return zT(t)?!n&&Vi(this.contents)?this.contents.value:this.contents:Go(this.contents)?this.contents.getIn(t,n):void 0}has(t){return Go(this.contents)?this.contents.has(t):!1}hasIn(t){return zT(t)?this.contents!==void 0:Go(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=p6(this.schema,[t],n):ux(this.contents)&&this.contents.set(t,n)}setIn(t,n){zT(t)?this.contents=n:this.contents==null?this.contents=p6(this.schema,Array.from(t),n):ux(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Al({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Al({version:t}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new eie(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:o,reviver:s}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=dd(this.contents,n??"",a);if(typeof o=="function")for(const{count:u,res:c}of a.anchors.values())o(c,u);return typeof s=="function"?jx(s,{"":l},"",l):l}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return yZt(this,t)}}function ux(e){if(Go(e))return!0;throw new Error("Expected a YAML collection as document contents")}class pLe extends Error{constructor(t,n,r,i){super(),this.name=t,this.code=r,this.message=i,this.pos=n}}class UT extends pLe{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class vZt extends pLe{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const n1e=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>t.linePos(a));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let o=i-1,s=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){const a=Math.min(o-39,s.length-79);s=""+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+""),r>1&&/^ *$/.test(s.substring(0,o))){let a=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`
`),s=a+s}if(/[^ ]/.test(s)){let a=1;const l=n.linePos[1];l&&l.line===r&&l.col>i&&(a=Math.max(1,Math.min(l.col-i,80-o)));const u=" ".repeat(o)+"^".repeat(a);n.message+=`:

${s}
${u}
`}};function pE(e,{flow:t,indicator:n,next:r,offset:i,onError:o,parentIndent:s,startOnNewline:a}){let l=!1,u=a,c=a,d="",f="",h=!1,m=!1,p=null,g=null,y=null,v=null,w=null,E=null,C=null;for(const A of e)switch(m&&(A.type!=="space"&&A.type!=="newline"&&A.type!=="comma"&&o(A.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m=!1),p&&(u&&A.type!=="comment"&&A.type!=="newline"&&o(p,"TAB_AS_INDENT","Tabs are not allowed as indentation"),p=null),A.type){case"space":!t&&(n!=="doc-start"||r?.type!=="flow-collection")&&A.source.includes("	")&&(p=A),c=!0;break;case"comment":{c||o(A,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const D=A.source.substring(1)||" ";d?d+=f+D:d=D,f="",u=!1;break}case"newline":u?d?d+=A.source:(!E||n!=="seq-item-ind")&&(l=!0):f+=A.source,u=!0,h=!0,(g||y)&&(v=A),c=!0;break;case"anchor":g&&o(A,"MULTIPLE_ANCHORS","A node can have at most one anchor"),A.source.endsWith(":")&&o(A.offset+A.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=A,C??(C=A.offset),u=!1,c=!1,m=!0;break;case"tag":{y&&o(A,"MULTIPLE_TAGS","A node can have at most one tag"),y=A,C??(C=A.offset),u=!1,c=!1,m=!0;break}case n:(g||y)&&o(A,"BAD_PROP_ORDER",`Anchors and tags must be after the ${A.source} indicator`),E&&o(A,"UNEXPECTED_TOKEN",`Unexpected ${A.source} in ${t??"collection"}`),E=A,u=n==="seq-item-ind"||n==="explicit-key-ind",c=!1;break;case"comma":if(t){w&&o(A,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),w=A,u=!1,c=!1;break}default:o(A,"UNEXPECTED_TOKEN",`Unexpected ${A.type} token`),u=!1,c=!1}const S=e[e.length-1],T=S?S.offset+S.source.length:i;return m&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&o(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p&&(u&&p.indent<=s||r?.type==="block-map"||r?.type==="block-seq")&&o(p,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:w,found:E,spaceBefore:l,comment:d,hasNewline:h,anchor:g,tag:y,newlineAfterProp:v,end:T,start:C??T}}function XA(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(XA(t.key)||XA(t.value))return!0}return!1;default:return!0}}function NG(e,t,n){if(t?.type==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&XA(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function mLe(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const i=typeof r=="function"?r:(o,s)=>o===s||Vi(o)&&Vi(s)&&o.value===s.value;return t.some(o=>i(o.key,n))}const r1e="All mapping items must start at the same column";function bZt({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=o?.nodeClass??Jc,a=new s(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,u=null;for(const c of r.items){const{start:d,key:f,sep:h,value:m}=c,p=pE(d,{indicator:"explicit-key-ind",next:f??h?.[0],offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0}),g=!p.found;if(g){if(f&&(f.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in f&&f.indent!==r.indent&&i(l,"BAD_INDENT",r1e)),!p.anchor&&!p.tag&&!h){u=p.end,p.comment&&(a.comment?a.comment+=`
`+p.comment:a.comment=p.comment);continue}(p.newlineAfterProp||XA(f))&&i(f??d[d.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else p.found?.indent!==r.indent&&i(l,"BAD_INDENT",r1e);n.atKey=!0;const y=p.end,v=f?e(n,f,p,i):t(n,y,d,null,p,i);n.schema.compat&&NG(r.indent,f,i),n.atKey=!1,mLe(n,a.items,v)&&i(y,"DUPLICATE_KEY","Map keys must be unique");const w=pE(h??[],{indicator:"map-value-ind",next:m,offset:v.range[2],onError:i,parentIndent:r.indent,startOnNewline:!f||f.type==="block-scalar"});if(l=w.end,w.found){g&&(m?.type==="block-map"&&!w.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&p.start<w.found.offset-1024&&i(v.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const E=m?e(n,m,w,i):t(n,l,h,null,w,i);n.schema.compat&&NG(r.indent,m,i),l=E.range[2];const C=new Vl(v,E);n.options.keepSourceTokens&&(C.srcToken=c),a.items.push(C)}else{g&&i(v.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),w.comment&&(v.comment?v.comment+=`
`+w.comment:v.comment=w.comment);const E=new Vl(v);n.options.keepSourceTokens&&(E.srcToken=c),a.items.push(E)}}return u&&u<l&&i(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,l,u??l],a}function wZt({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=o?.nodeClass??_1,a=new s(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,u=null;for(const{start:c,value:d}of r.items){const f=pE(c,{indicator:"seq-item-ind",next:d,offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0});if(!f.found)if(f.anchor||f.tag||d)d&&d.type==="block-seq"?i(f.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{u=f.end,f.comment&&(a.comment=f.comment);continue}const h=d?e(n,d,f,i):t(n,f.end,c,null,f,i);n.schema.compat&&NG(r.indent,d,i),l=h.range[2],a.items.push(h)}return a.range=[r.offset,l,u??l],a}function QR(e,t,n,r){let i="";if(e){let o=!1,s="";for(const a of e){const{source:l,type:u}=a;switch(u){case"space":o=!0;break;case"comment":{n&&!o&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const c=l.substring(1)||" ";i?i+=s+c:i=c,s="";break}case"newline":i&&(s+=l),o=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}t+=l.length}}return{comment:i,offset:t}}const gU="Block collections are not allowed within flow collections",yU=e=>e&&(e.type==="block-map"||e.type==="block-seq");function xZt({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=r.start.source==="{",a=s?"flow map":"flow sequence",l=o?.nodeClass??(s?Jc:_1),u=new l(n.schema);u.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let d=r.offset+r.start.source.length;for(let g=0;g<r.items.length;++g){const y=r.items[g],{start:v,key:w,sep:E,value:C}=y,S=pE(v,{flow:a,indicator:"explicit-key-ind",next:w??E?.[0],offset:d,onError:i,parentIndent:r.indent,startOnNewline:!1});if(!S.found){if(!S.anchor&&!S.tag&&!E&&!C){g===0&&S.comma?i(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):g<r.items.length-1&&i(S.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),S.comment&&(u.comment?u.comment+=`
`+S.comment:u.comment=S.comment),d=S.end;continue}!s&&n.options.strict&&XA(w)&&i(w,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(g===0)S.comma&&i(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(S.comma||i(S.start,"MISSING_CHAR",`Missing , between ${a} items`),S.comment){let T="";e:for(const A of v)switch(A.type){case"comma":case"space":break;case"comment":T=A.source.substring(1);break e;default:break e}if(T){let A=u.items[u.items.length-1];Zo(A)&&(A=A.value??A.key),A.comment?A.comment+=`
`+T:A.comment=T,S.comment=S.comment.substring(T.length+1)}}if(!s&&!E&&!S.found){const T=C?e(n,C,S,i):t(n,S.end,E,null,S,i);u.items.push(T),d=T.range[2],yU(C)&&i(T.range,"BLOCK_IN_FLOW",gU)}else{n.atKey=!0;const T=S.end,A=w?e(n,w,S,i):t(n,T,v,null,S,i);yU(w)&&i(A.range,"BLOCK_IN_FLOW",gU),n.atKey=!1;const D=pE(E??[],{flow:a,indicator:"map-value-ind",next:C,offset:A.range[2],onError:i,parentIndent:r.indent,startOnNewline:!1});if(D.found){if(!s&&!S.found&&n.options.strict){if(E)for(const N of E){if(N===D.found)break;if(N.type==="newline"){i(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}S.start<D.found.offset-1024&&i(D.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else C&&("source"in C&&C.source&&C.source[0]===":"?i(C,"MISSING_CHAR",`Missing space after : in ${a}`):i(D.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const I=C?e(n,C,D,i):D.found?t(n,D.end,E,null,D,i):null;I?yU(C)&&i(I.range,"BLOCK_IN_FLOW",gU):D.comment&&(A.comment?A.comment+=`
`+D.comment:A.comment=D.comment);const P=new Vl(A,I);if(n.options.keepSourceTokens&&(P.srcToken=y),s){const N=u;mLe(n,N.items,A)&&i(T,"DUPLICATE_KEY","Map keys must be unique"),N.items.push(P)}else{const N=new Jc(n.schema);N.flow=!0,N.items.push(P);const $=(I??A).range;N.range=[A.range[0],$[1],$[2]],u.items.push(N)}d=I?I.range[2]:D.end}}const f=s?"}":"]",[h,...m]=r.end;let p=d;if(h&&h.source===f)p=h.offset+h.source.length;else{const g=a[0].toUpperCase()+a.substring(1),y=c?`${g} must end with a ${f}`:`${g} in block collection must be sufficiently indented and end with a ${f}`;i(d,c?"MISSING_CHAR":"BAD_INDENT",y),h&&h.source.length!==1&&m.unshift(h)}if(m.length>0){const g=QR(m,p,n.options.strict,i);g.comment&&(u.comment?u.comment+=`
`+g.comment:u.comment=g.comment),u.range=[r.offset,p,g.offset]}else u.range=[r.offset,p,p];return u}function vU(e,t,n,r,i,o){const s=n.type==="block-map"?bZt(e,t,n,r,o):n.type==="block-seq"?wZt(e,t,n,r,o):xZt(e,t,n,r,o),a=s.constructor;return i==="!"||i===a.tagName?(s.tag=a.tagName,s):(i&&(s.tag=i),s)}function _Zt(e,t,n,r,i){const o=r.tag,s=o?t.directives.tagName(o.source,f=>i(o,"TAG_RESOLVE_FAILED",f)):null;if(n.type==="block-seq"){const{anchor:f,newlineAfterProp:h}=r,m=f&&o?f.offset>o.offset?f:o:f??o;m&&(!h||h.offset<m.offset)&&i(m,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!o||!s||s==="!"||s===Jc.tagName&&a==="map"||s===_1.tagName&&a==="seq")return vU(e,t,n,i,s);let l=t.schema.tags.find(f=>f.tag===s&&f.collection===a);if(!l){const f=t.schema.knownTags[s];if(f&&f.collection===a)t.schema.tags.push(Object.assign({},f,{default:!1})),l=f;else return f?i(o,"BAD_COLLECTION_TYPE",`${f.tag} used for ${a} collection, but expects ${f.collection??"scalar"}`,!0):i(o,"TAG_RESOLVE_FAILED",`Unresolved tag: ${s}`,!0),vU(e,t,n,i,s)}const u=vU(e,t,n,i,s,l),c=l.resolve?.(u,f=>i(o,"TAG_RESOLVE_FAILED",f),t.options)??u,d=Ko(c)?c:new ir(c);return d.range=u.range,d.tag=s,l?.format&&(d.format=l.format),d}function EZt(e,t,n){const r=t.offset,i=CZt(t,e.options.strict,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const o=i.mode===">"?ir.BLOCK_FOLDED:ir.BLOCK_LITERAL,s=t.source?SZt(t.source):[];let a=s.length;for(let p=s.length-1;p>=0;--p){const g=s[p][1];if(g===""||g==="\r")a=p;else break}if(a===0){const p=i.chomp==="+"&&s.length>0?`
`.repeat(Math.max(1,s.length-1)):"";let g=r+i.length;return t.source&&(g+=t.source.length),{value:p,type:o,comment:i.comment,range:[r,g,g]}}let l=t.indent+i.indent,u=t.offset+i.length,c=0;for(let p=0;p<a;++p){const[g,y]=s[p];if(y===""||y==="\r")i.indent===0&&g.length>l&&(l=g.length);else{g.length<l&&n(u+g.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(l=g.length),c=p,l===0&&!e.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=g.length+y.length+1}for(let p=s.length-1;p>=a;--p)s[p][0].length>l&&(a=p+1);let d="",f="",h=!1;for(let p=0;p<c;++p)d+=s[p][0].slice(l)+`
`;for(let p=c;p<a;++p){let[g,y]=s[p];u+=g.length+y.length+1;const v=y[y.length-1]==="\r";if(v&&(y=y.slice(0,-1)),y&&g.length<l){const E=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(u-y.length-(v?2:1),"BAD_INDENT",E),g=""}o===ir.BLOCK_LITERAL?(d+=f+g.slice(l)+y,f=`
`):g.length>l||y[0]==="	"?(f===" "?f=`
`:!h&&f===`
`&&(f=`

`),d+=f+g.slice(l)+y,f=`
`,h=!0):y===""?f===`
`?d+=`
`:f=`
`:(d+=f+y,f=" ",h=!1)}switch(i.chomp){case"-":break;case"+":for(let p=a;p<s.length;++p)d+=`
`+s[p][0].slice(l);d[d.length-1]!==`
`&&(d+=`
`);break;default:d+=`
`}const m=r+i.length+t.source.length;return{value:d,type:o,comment:i.comment,range:[r,m,m]}}function CZt({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],o=i[0];let s=0,a="",l=-1;for(let f=1;f<i.length;++f){const h=i[f];if(!a&&(h==="-"||h==="+"))a=h;else{const m=Number(h);!s&&m?s=m:l===-1&&(l=e+f)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let u=!1,c="",d=i.length;for(let f=1;f<t.length;++f){const h=t[f];switch(h.type){case"space":u=!0;case"newline":d+=h.source.length;break;case"comment":n&&!u&&r(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=h.source.length,c=h.source.substring(1);break;case"error":r(h,"UNEXPECTED_TOKEN",h.message),d+=h.source.length;break;default:{const m=`Unexpected token in block scalar header: ${h.type}`;r(h,"UNEXPECTED_TOKEN",m);const p=h.source;p&&typeof p=="string"&&(d+=p.length)}}}return{mode:o,indent:s,chomp:a,comment:c,length:d}}function SZt(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),o=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let s=1;s<t.length;s+=2)o.push([t[s],t[s+1]]);return o}function TZt(e,t,n){const{offset:r,type:i,source:o,end:s}=e;let a,l;const u=(f,h,m)=>n(r+f,h,m);switch(i){case"scalar":a=ir.PLAIN,l=AZt(o,u);break;case"single-quoted-scalar":a=ir.QUOTE_SINGLE,l=kZt(o,u);break;case"double-quoted-scalar":a=ir.QUOTE_DOUBLE,l=RZt(o,u);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+o.length,r+o.length]}}const c=r+o.length,d=QR(s,c,t,n);return{value:l,type:a,comment:d.comment,range:[r,c,d.offset]}}function AZt(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),gLe(e)}function kZt(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),gLe(e.slice(1,-1)).replace(/''/g,"'")}function gLe(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let i=r[1],o=" ",s=t.lastIndex;for(n.lastIndex=s;r=n.exec(e);)r[1]===""?o===`
`?i+=o:o=`
`:(i+=o+r[1],o=" "),s=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=s,r=a.exec(e),i+o+(r?.[1]??"")}function RZt(e,t){let n="";for(let r=1;r<e.length-1;++r){const i=e[r];if(!(i==="\r"&&e[r+1]===`
`))if(i===`
`){const{fold:o,offset:s}=IZt(e,r);n+=o,r=s}else if(i==="\\"){let o=e[++r];const s=DZt[o];if(s)n+=s;else if(o===`
`)for(o=e[r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="\r"&&e[r+1]===`
`)for(o=e[++r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="x"||o==="u"||o==="U"){const a={x:2,u:4,U:8}[o];n+=PZt(e,r+1,a,t),r+=a}else{const a=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const o=r;let s=e[r+1];for(;s===" "||s==="	";)s=e[++r+1];s!==`
`&&!(s==="\r"&&e[r+2]===`
`)&&(n+=r>o?e.slice(o,r+1):i)}else n+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function IZt(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const DZt={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function PZt(e,t,n,r){const i=e.substr(t,n),s=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){const a=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}function yLe(e,t,n,r){const{value:i,type:o,comment:s,range:a}=t.type==="block-scalar"?EZt(e,t,r):TZt(t,e.options.strict,r),l=n?e.directives.tagName(n.source,d=>r(n,"TAG_RESOLVE_FAILED",d)):null;let u;e.options.stringKeys&&e.atKey?u=e.schema[vp]:l?u=OZt(e.schema,i,l,n,r):t.type==="scalar"?u=NZt(e,i,t,r):u=e.schema[vp];let c;try{const d=u.resolve(i,f=>r(n??t,"TAG_RESOLVE_FAILED",f),e.options);c=Vi(d)?d:new ir(d)}catch(d){const f=d instanceof Error?d.message:String(d);r(n??t,"TAG_RESOLVE_FAILED",f),c=new ir(i)}return c.range=a,c.source=i,o&&(c.type=o),l&&(c.tag=l),u.format&&(c.format=u.format),s&&(c.comment=s),c}function OZt(e,t,n,r,i){if(n==="!")return e[vp];const o=[];for(const a of e.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)o.push(a);else return a;for(const a of o)if(a.test?.test(t))return a;const s=e.knownTags[n];return s&&!s.collection?(e.tags.push(Object.assign({},s,{default:!1,test:void 0})),s):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[vp])}function NZt({atKey:e,directives:t,schema:n},r,i,o){const s=n.tags.find(a=>(a.default===!0||e&&a.default==="key")&&a.test?.test(r))||n[vp];if(n.compat){const a=n.compat.find(l=>l.default&&l.test?.test(r))??n[vp];if(s.tag!==a.tag){const l=t.tagString(s.tag),u=t.tagString(a.tag),c=`Value may be parsed as either ${l} or ${u}`;o(i,"TAG_RESOLVE_FAILED",c,!0)}}return s}function MZt(e,t,n){if(t){n??(n=t.length);for(let r=n-1;r>=0;--r){let i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];i?.type==="space";)e+=i.source.length,i=t[++r];break}}return e}const $Zt={composeNode:vLe,composeEmptyNode:tie};function vLe(e,t,n,r){const i=e.atKey,{spaceBefore:o,comment:s,anchor:a,tag:l}=n;let u,c=!0;switch(t.type){case"alias":u=FZt(e,t,r),(a||l)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=yLe(e,t,l,r),a&&(u.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=_Zt($Zt,e,t,n,r),a&&(u.anchor=a.source.substring(1));break;default:{const d=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",d),u=tie(e,t.offset,void 0,null,n,r),c=!1}}return a&&u.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&e.options.stringKeys&&(!Vi(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(l??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),o&&(u.spaceBefore=!0),s&&(t.type==="scalar"&&t.source===""?u.comment=s:u.commentBefore=s),e.options.keepSourceTokens&&c&&(u.srcToken=t),u}function tie(e,t,n,r,{spaceBefore:i,comment:o,anchor:s,tag:a,end:l},u){const c={type:"scalar",offset:MZt(t,n,r),indent:-1,source:""},d=yLe(e,c,a,u);return s&&(d.anchor=s.source.substring(1),d.anchor===""&&u(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(d.spaceBefore=!0),o&&(d.comment=o,d.range[2]=l),d}function FZt({options:e},{offset:t,source:n,end:r},i){const o=new Vre(n.substring(1));o.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=t+n.length,a=QR(r,s,e.strict,i);return o.range=[t,s,a.offset],a.comment&&(o.comment=a.comment),o}function LZt(e,t,{offset:n,start:r,value:i,end:o},s){const a=Object.assign({_directives:t},e),l=new HL(void 0,a),u={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},c=pE(r,{indicator:"doc-start",next:i??o?.[0],offset:n,onError:s,parentIndent:0,startOnNewline:!0});c.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!c.hasNewline&&s(c.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?vLe(u,i,c,s):tie(u,c.end,r,null,c,s);const d=l.contents.range[2],f=QR(o,d,!1,s);return f.comment&&(l.comment=f.comment),l.range=[n,d,f.offset],l}function GS(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function i1e(e){let t="",n=!1,r=!1;for(let i=0;i<e.length;++i){const o=e[i];switch(o[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(o.substring(1)||" "),n=!0,r=!1;break;case"%":e[i+1]?.[0]!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class jZt{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,o)=>{const s=GS(n);o?this.warnings.push(new vZt(s,r,i)):this.errors.push(new UT(s,r,i))},this.directives=new Al({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:i}=i1e(this.prelude);if(r){const o=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(i||t.directives.docStart||!o)t.commentBefore=r;else if(Go(o)&&!o.flow&&o.items.length>0){let s=o.items[0];Zo(s)&&(s=s.key);const a=s.commentBefore;s.commentBefore=a?`${r}
${a}`:r}else{const s=o.commentBefore;o.commentBefore=s?`${r}
${s}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:i1e(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const i of t)yield*this.next(i);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,i)=>{const o=GS(t);o[0]+=n,this.onError(o,"BAD_DIRECTIVE",r,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=LZt(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new UT(GS(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new UT(GS(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=QR(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new UT(GS(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),i=new HL(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}const bLe="\uFEFF",wLe="",xLe="",MG="";function BZt(e){switch(e){case bLe:return"byte-order-mark";case wLe:return"doc-mode";case xLe:return"flow-error-end";case MG:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function Yd(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const o1e=new Set("0123456789ABCDEFabcdef"),zZt=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),h3=new Set(",[]{}"),UZt=new Set(` ,[]{}
\r	`),bU=e=>!e||UZt.has(e);class VZt{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const i=this.buffer[r+t+1];if(i===`
`||!i&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&Yd(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===bLe&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length,r=t.indexOf("#");for(;r!==-1;){const o=t[r-1];if(o===" "||o==="	"){n=r-1;break}else r=t.indexOf("#",r+1)}for(;;){const o=t[n-1];if(o===" "||o==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield wLe,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&Yd(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Yd(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&Yd(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(bU),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&Yd(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield xLe,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(bU),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const s=this.charAt(1);if(this.flowKey||Yd(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let o=0;for(;this.buffer[n-1-o]==="\\";)o+=1;if(o%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const o=this.continueScalar(i+1);if(o===-1)break;i=r.indexOf(`
`,o)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Yd(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let o=this.pos;r=this.buffer[o];++o)switch(r){case" ":n+=1;break;case`
`:t=o,n=0;break;case"\r":{const s=this.buffer[o+1];if(!s&&!this.atEnd)return this.setNext("block-scalar");if(s===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const o=this.continueScalar(t+1);if(o===-1)break;t=this.buffer.indexOf(`
`,o)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let i=t+1;for(r=this.buffer[i];r===" ";)r=this.buffer[++i];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++i];t=i-1}else if(!this.blockScalarKeep)do{let o=t-1,s=this.buffer[o];s==="\r"&&(s=this.buffer[--o]);const a=o;for(;s===" ";)s=this.buffer[--o];if(s===`
`&&o>=this.pos&&o+1+n>a)t=o;else break}while(!0);return yield MG,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const o=this.buffer[r+1];if(Yd(o)||t&&h3.has(o))break;n=r}else if(Yd(i)){let o=this.buffer[r+1];if(i==="\r"&&(o===`
`?(r+=1,i=`
`,o=this.buffer[r+1]):n=r),o==="#"||t&&h3.has(o))break;if(i===`
`){const s=this.continueScalar(r+1);if(s===-1)break;r=Math.max(r,s-2)}}else{if(t&&h3.has(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield MG,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(bU))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(Yd(n)||t&&h3.has(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!Yd(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(zZt.has(n))n=this.buffer[++t];else if(n==="%"&&o1e.has(this.buffer[t+1])&&o1e.has(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class HZt{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const o=n+r>>1;this.lineStarts[o]<t?n=o+1:r=o}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const i=this.lineStarts[n-1];return{line:n,col:t-i+1}}}}function v0(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function s1e(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function _Le(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function p3(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function cx(e){if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;e[++t]?.type==="space";);return e.splice(t,e.length)}function a1e(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!v0(t.start,"explicit-key-ind")&&!v0(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,_Le(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class qZt{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new VZt,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=BZt(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&a1e(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&s1e(i.start)===-1&&(n.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{s1e(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=p3(this.peek(2)),r=cx(n);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const r=!this.onKeyLine&&this.indent===t.indent,i=r&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(i&&n.sep&&!n.value){const s=[];for(let a=0;a<n.sep.length;++a){const l=n.sep[a];switch(l.type){case"newline":s.push(a);break;case"space":break;case"comment":l.indent>t.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(o=n.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(o.push(this.sourceToken),t.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(v0(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(_Le(n.key)&&!v0(n.sep,"newline")){const s=cx(n.start),a=n.key,l=n.sep;l.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:a,sep:l}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(v0(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const s=cx(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?t.items.push({start:o,key:null,sep:[this.sourceToken]}):v0(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);i||n.value?(t.items.push({start:o,key:s,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(s):(Object.assign(n,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{const s=this.startBlockValue(t);if(s){if(s.type==="block-seq"){if(!n.explicitKey&&n.sep&&!v0(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else r&&t.items.push({start:o});this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||v0(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const r=this.startBlockValue(t);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=p3(r),o=cx(i);a1e(t);const s=t.end.splice(1,t.end.length);s.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=p3(t),r=cx(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=p3(t),r=cx(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function WZt(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new HZt||null,prettyErrors:t}}function GZt(e,t={}){const{lineCounter:n,prettyErrors:r}=WZt(t),i=new qZt(n?.addNewLine),o=new jZt(t);let s=null;for(const a of o.compose(i.parse(e),!0,e.length))if(!s)s=a;else if(s.options.logLevel!=="silent"){s.errors.push(new UT(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(s.errors.forEach(n1e(e,n)),s.warnings.forEach(n1e(e,n))),s}const YZt="#/definitions/StudyConfig",KZt="http://json-schema.org/draft-07/schema#",XZt=JSON.parse('{"Answer":{"additionalProperties":false,"description":"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.\\n\\nAnswers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.\\n\\nHere\'s an example of how to use the Answer interface to define the correct answer to a question:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/question.md\\", \\"response\\": [  {    \\"id\\": \\"response1\\",    \\"prompt\\": \\"What is 2 + 2?\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"numerical\\"  } ] \\"correctAnswer\\": [{  \\"id\\": \\"response1\\",  \\"answer\\": 4 }] } ```\\n\\nIn this example, the correct answer to the question \\"What is 2 + 2?\\" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.","properties":{"acceptableHigh":{"description":"The acceptable high value for the answer. This is used to define a range of acceptable answers.","type":"number"},"acceptableLow":{"description":"The acceptable low value for the answer. This is used to define a range of acceptable answers.","type":"number"},"answer":{"description":"The correct answer to the question."},"id":{"description":"The id of the answer. This is used to identify the answer in the data file.","type":"string"}},"required":["id","answer"],"type":"object"},"BaseComponents":{"additionalProperties":{"additionalProperties":false,"properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"type":"object"},"description":"The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\\n\\n Using baseComponents:\\n\\n```js \\"baseComponents\\": { \\"my-image-component\\": { \\"instructionLocation\\": \\"sidebar\\", \\"nextButtonLocation\\": \\"sidebar\\", \\"path\\": \\"<study-name>/assets/my-image.jpg\\", \\"response\\": [   {     \\"id\\": \\"my-image-id\\",     \\"options\\": [\\"Europe\\", \\"Japan\\", \\"USA\\"],     \\"prompt\\": \\"Your Selected Answer:\\",     \\"type\\": \\"dropdown\\"   } ], \\"type\\": \\"image\\" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `\\"baseComponent\\":\\"my-image-component\\"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js \\"components\\": { \\"q1\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with largest GDP\\", \\"instruction\\": \\"Which region has the largest GDP?\\" }, \\"q2\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with lowest GDP\\", \\"instruction\\": \\"Which region has the lowest GDP?\\" }, \\"q3\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with highest exports of Wheat\\", \\"instruction\\": \\"Which region had the most Wheat exported in 2022?\\" } } ```","type":"object"},"ButtonsResponse":{"additionalProperties":false,"description":"The ButtonsResponse interface is used to define the properties of a buttons response. ButtonsResponses render as a list of buttons that the participant can click. When a button is clicked, the value of the button is stored in the data file. Participants can cycle through the options using the arrow keys.\\n\\nExample: ```js {   \\"id\\": \\"buttonsResponse\\",   \\"type\\": \\"buttons\\",   \\"prompt\\": \\"Click a button\\",   \\"location\\": \\"belowStimulus\\",   \\"options\\": [     \\"Option 1\\",     \\"Option 2\\",     \\"Option 3\\"   ] } ``` In this example, the participant can click one of the buttons labeled \\"Option 1\\", \\"Option 2\\", or \\"Option 3\\".","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"buttons","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"CheckboxResponse":{"additionalProperties":false,"description":"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\\n\\n```js { \\"id\\": \\"q7\\", \\"prompt\\": \\"Checkbox example (not required)\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"checkbox\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\", \\"Option 3\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the checkboxes horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required.","type":"number"},"optionOrder":{"description":"The order in which the checkboxes are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"checkbox","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the checkboxes with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ComponentBlock":{"additionalProperties":false,"description":"The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\\n\\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\\n\\nHere\'s a snippet that shows how to use the random order:\\n\\n```js { \\"order\\": \\"random\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\\n\\n```js [ [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component1\\", \\"component3\\", \\"component2\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], ... ] ```\\n\\nIn addition to the order property, the ComponentBlock interface also includes the `\\"numSamples\\"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `\\"numSamples\\"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ], \\"numSamples\\": 2 } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\"], [\\"component2\\", \\"component3\\"], [\\"component3\\", \\"component1\\"], ... ] ```\\n\\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\\n\\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.","properties":{"components":{"description":"The components that are included in the order.","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}]},"type":"array"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"interruptions":{"description":"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.","items":{"$ref":"#/definitions/InterruptionBlock"},"type":"array"},"numSamples":{"description":"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.","type":"number"},"order":{"description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","enum":["random","latinSquare","fixed"],"type":"string"},"skip":{"$ref":"#/definitions/SkipConditions","description":"The skip conditions for the block."}},"required":["order","components"],"type":"object"},"ComponentBlockCondition":{"additionalProperties":false,"description":"The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.\\n\\nAnswers are checked against the correct answers defined in the IndividualComponent\'s [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.\\n\\nYou might use this if a participant answers two questions in a block incorrectly. Here\'s an example of how to use the ComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"check\\": \\"block\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.\\n\\nWhen the condition is met, the participant will immediately be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"block","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["check","condition","value","to"],"type":"object"},"ConfigResponseBlockLocation":{"enum":["sidebar","aboveStimulus","belowStimulus"],"type":"string"},"DeterministicInterruption":{"additionalProperties":false,"description":"The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.\\n\\nFor example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.\\n\\nThe components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the DeterministicInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"firstLocation\\": 2,   \\"spacing\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"firstLocation":{"description":"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).","type":"number"},"spacing":{"description":"The number of components between breaks.","type":"number"}},"required":["firstLocation","spacing","components"],"type":"object"},"DividerResponse":{"additionalProperties":false,"properties":{"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"not":{}},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"not":{}},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"divider","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","type"],"type":"object"},"DropdownResponse":{"additionalProperties":false,"description":"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\\n\\nExample: ```js { \\"id\\": \\"q-color\\", \\"prompt\\": \\"What is your favorite color?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"dropdown\\", \\"placeholder\\": \\"Please choose your favorite color\\", \\"options\\": [\\"Red\\", \\"Blue\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required. This will make the dropdown a multiselect dropdown.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required. This will make the dropdown a multiselect dropdown.","type":"number"},"options":{"description":"The options that are displayed in the dropdown.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"dropdown","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"DynamicBlock":{"additionalProperties":false,"description":"The DynamicBlock interface is used to define a block where displayed components are controlled by a function. This is useful when you want to generate the sequence based on answers to previous questions or other factors.\\n\\nThe functionPath property is a path to the function that generates the components. This should be a relative path from the src/public folder.\\n\\nHere\'s an example of how to use the DynamicBlock:\\n\\n```js {   \\"id\\": \\"funcBlock\\",   \\"order\\": \\"dynamic\\",   \\"functionPath\\": \\"<study-name>/assets/function.js\\",   \\"parameters\\": {     \\"param1\\": \\"value1\\",     \\"param2\\": \\"value2\\"   } } ```","properties":{"functionPath":{"description":"The path to the function that generates the components. This should be a relative path from the src/public folder.","type":"string"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"order":{"const":"dynamic","description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the function. These can be used within your function to render different things.","type":"object"}},"required":["id","order","functionPath"],"type":"object"},"ImageComponent":{"additionalProperties":false,"description":"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\\n\\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { \\"type\\": \\"image\\", \\"path\\": \\"<study-name>/assets/image.jpg\\", \\"style\\": { \\"maxWidth\\": \\"50%\\" } } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"image","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"IndividualComponent":{"anyOf":[{"$ref":"#/definitions/MarkdownComponent"},{"$ref":"#/definitions/ReactComponent"},{"$ref":"#/definitions/ImageComponent"},{"$ref":"#/definitions/WebsiteComponent"},{"$ref":"#/definitions/QuestionnaireComponent"},{"$ref":"#/definitions/VegaComponent"},{"$ref":"#/definitions/VideoComponent"}]},"IndividualComponentAllResponsesCondition":{"additionalProperties":false,"description":"The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\n\\nHere\'s an example of how to use the IndividualComponentAllResponsesCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"responses\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, if all responses to the component with the ID \\"attentionCheck\\" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"responses","description":"The check we\'ll perform.","type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"}},"required":["name","check","to"],"type":"object"},"IndividualComponentSingleResponseCondition":{"additionalProperties":false,"description":"The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\nFor example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here\'s an example of how to use the IndividualComponentSingleResponseCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"response\\",   \\"responseId\\": \\"attentionCheckResponse\\",   \\"value\\": \\"the right answer\\",   \\"comparison\\": \\"equal\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, we assign our skip logic to the component whose ID is \\"attentionCheck\\". If the answer given to the response \\"attentionCheckResponse\\" is equal to \\"the right answer\\", then the user will be redirected to the end of the study. If the response is _not_ equal to \\"the right answer\\", then the participant will continue to the next component in the sequence.","properties":{"check":{"const":"response","description":"The check we\'ll perform.","type":"string"},"comparison":{"description":"The comparison to use.","enum":["equal","notEqual"],"type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"responseId":{"description":"The response id to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The value to check.","type":["string","number"]}},"required":["name","check","responseId","value","comparison","to"],"type":"object"},"InheritedComponent":{"additionalProperties":false,"description":"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"baseComponent":{"type":"string"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["baseComponent"],"type":"object"},"InterruptionBlock":{"anyOf":[{"$ref":"#/definitions/DeterministicInterruption"},{"$ref":"#/definitions/RandomInterruption"}],"description":"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},"LikertResponse":{"additionalProperties":false,"description":"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as \'Strongly Disagree\' and \'Strongly Agree\'.\\n\\nExample for a five-point Likert Scale:\\n\\n```js { \\"id\\": \\"q-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"likert\\", \\"leftLabel\\": \\"Not Enjoyable\\", \\"rightLabel\\": \\"Very Enjoyable\\", \\"numItems\\": 5, \\"start\\": 1, \\"spacing\\": 1 } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"leftLabel":{"description":"The left label of the likert scale. E.g Strongly Disagree","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of options to render.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the likert scale. E.g Strongly Agree","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"spacing":{"description":"The spacing between the options. Defaults to 1.","type":"number"},"start":{"description":"The starting value of the likert scale. Defaults to 1.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"likert","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","numItems","prompt","type"],"type":"object"},"LongTextResponse":{"additionalProperties":false,"description":"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { \\"id\\": \\"q-name\\", \\"prompt\\": \\"What is your first name?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"longText\\", \\"placeholder\\": \\"Please enter your first name\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"longText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"MarkdownComponent":{"additionalProperties":false,"description":"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/help.md\\", \\"response\\": [] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"markdown","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"MatrixResponse":{"additionalProperties":false,"description":"The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, `answerOptions` can be set to one of the following custom strings: \'satisfaction5\',\'satisfaction7\', \'likely5\', \'likely7\'. This will automatically generate the appropriate headers for the matrix.\\n\\nExample for a 5-scale satisfaction matrix with three questions:\\n\\n```js { \\"id\\": \\"multi-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-radio\\", \\"answerOptions\\": \\"satisfaction5\\", \\"questionOptions\\": [  \\"The tool we created\\",  \\"The technique we developed\\",  \\"The authors of the tools\\" ] } ```\\n\\nHere\'s an example using custom columns (answerOptions):\\n\\n```js { \\"id\\": \\"multi-custom\\", \\"prompt\\": \\"Which categories do the following items belong to?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-checkbox\\", \\"answerOptions\\": [  \\"Has Legs\\",  \\"Has Wings\\",  \\"Can Swim\\" ], \\"questionOptions\\": [  \\"Dog\\",  \\"Snake\\",  \\"Eagle\\",  \\"Salmon\\",  \\"Platypus\\" ]\\n\\n} ```","properties":{"answerOptions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"const":"likely5","type":"string"},{"const":"likely7","type":"string"},{"const":"satisfaction5","type":"string"},{"const":"satisfaction7","type":"string"}],"description":"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"questionOptions":{"description":"The question options (rows) are the prompts for each response you\'d like to record.","items":{"type":"string"},"type":"array"},"questionOrder":{"description":"The order in which the questions are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["matrix-radio","matrix-checkbox"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["answerOptions","id","prompt","questionOptions","type"],"type":"object"},"NumberOption":{"additionalProperties":false,"description":"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"number"}},"required":["label","value"],"type":"object"},"NumericalResponse":{"additionalProperties":false,"description":"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\\n\\nExample: ```js { \\"id\\": \\"q-numerical\\", \\"prompt\\": \\"Numerical example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"numerical\\", \\"placeholder\\": \\"Enter your age, range from 0 - 120\\", \\"max\\": 120, \\"min\\": 0 } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"max":{"description":"The maximum value that is accepted in the input.","type":"number"},"min":{"description":"The minimum value that is accepted in the input.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"numerical","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"QuestionnaireComponent":{"additionalProperties":false,"description":"A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\\n\\n```js { \\"type\\": \\"questionnaire\\", \\"response\\": [  {    \\"id\\": \\"gender\\",    \\"prompt\\": \\"Gender:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"checkbox\\",    \\"options\\": [\\"Man\\", \\"Woman\\", \\"Genderqueer\\", \\"Third-gender\\", ...]  } ] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"questionnaire","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["response","type"],"type":"object"},"RadioResponse":{"additionalProperties":false,"description":"The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\\n\\nExample: ```js { \\"id\\": \\"q-radio\\", \\"prompt\\": \\"Radio button example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"radio\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the radio buttons horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"leftLabel":{"description":"The left label of the radio group. Used in Likert scales for example","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the radio buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the radio group. Used in Likert scales for example","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"radio","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the radios with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"RandomInterruption":{"additionalProperties":false,"description":"The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\\n\\nFor example, if you want to show a single interruption randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 1. If you want to show 3 interruptions randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 3.\\n\\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the RandomInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"spacing\\": \\"random\\",   \\"numInterruptions\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"interruption1\\", \\"interruption2\\", \\"component5\\", \\"component6\\"], [\\"component1\\", \\"component2\\" \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"interruption1\\", \\"interruption2\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"numInterruptions":{"description":"The number of times the interruption will be randomly added","type":"number"},"spacing":{"const":"random","description":"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.","type":"string"}},"required":["spacing","numInterruptions","components"],"type":"object"},"RankingResponse":{"additionalProperties":false,"description":"The RankingResponse interface is used to define the properties of a ranking widget response. RankingResponses render as a ranking widget with user specified options.\\n\\nThere are three types of ranking widgets: Ranking Sublist: The participant is asked to rank a subset of items from a larger list. Ranking Categorical: The participant is asked to rank items within categories: HIGH, MEDIUM, and LOW. Ranking Pairwise: The participant is asked to rank items by comparing them in pairs.\\n\\n```js { \\"id\\": \\"ranking-sublist\\", \\"type\\": \\"ranking-sublist\\", \\"prompt\\": \\"Rank your top 2 favorite fruits from the list below\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Apple\\", \\"Banana\\", \\"Orange\\", \\"Strawberry\\", \\"Grapes\\"], \\"numItems\\": 2 }, { \\"id\\": \\"ranking-categorical\\", \\"type\\": \\"ranking-categorical\\", \\"prompt\\": \\"Sort these hobbies into the categories of HIGH, MEDIUM, and LOW based on your level of interest.\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Drawing\\", \\"Singing\\", \\"Hiking\\", \\"Dancing\\", \\"Photography\\"] }, { \\"id\\": \\"ranking-pairwise\\", \\"type\\": \\"ranking-pairwise\\", \\"prompt\\": \\"Which meal would you prefer\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Pizza\\", \\"Sushi\\", \\"Burger\\", \\"Pasta\\", \\"Salad\\", \\"Tacos\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of items to rank. Applies only to sublist and categorical ranking widgets.","type":"number"},"options":{"description":"The options that are displayed as ranking options, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["ranking-sublist","ranking-categorical","ranking-pairwise"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ReactComponent":{"additionalProperties":false,"description":"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\\n\\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\\n\\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\\n\\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\\n\\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don\'t use the default answer interface, and instead have something more unique.\\n\\nSo, for example, if I had the following ReactComponent in my config ```js { type: \'react-component\'; path: \'my_study/CoolComponent.tsx\'; parameters: {  name: \'Zach\';  age: 26; } } ```\\n\\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\\n\\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\\n\\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-click-accuracy-test (https://github.com/revisit-studies/study/tree/v2.3.2/src/public/demo-click-accuracy-test/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.3.2/src/public/example-brush-interactions/assets)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},"path":{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"react-component","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"ReactiveResponse":{"additionalProperties":false,"description":"The ReactiveResponse interface is used to define the properties of a reactive response. ReactiveResponses render as a list, that is connected to a WebsiteComponent, VegaComponent, or ReactComponent. When data is sent from the components, it is displayed in the list.\\n\\n```js { \\"id\\": \\"reactiveResponse\\", \\"prompt\\": \\"Answer clicked in the stimulus\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"reactive\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"reactive","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"RepeatedComponentBlockCondition":{"additionalProperties":false,"description":"The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.\\n\\nHere\'s an example of how to use the RepeatedComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"repeatedComponent\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of incorrect responses to the repeated component with the name \\"attentionCheck\\" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"repeatedComponent","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"name":{"description":"The name of the repeated component to check (e.g. attentionCheck).","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["name","check","condition","value","to"],"type":"object"},"Response":{"anyOf":[{"$ref":"#/definitions/NumericalResponse"},{"$ref":"#/definitions/ShortTextResponse"},{"$ref":"#/definitions/LongTextResponse"},{"$ref":"#/definitions/LikertResponse"},{"$ref":"#/definitions/DropdownResponse"},{"$ref":"#/definitions/SliderResponse"},{"$ref":"#/definitions/RadioResponse"},{"$ref":"#/definitions/CheckboxResponse"},{"$ref":"#/definitions/RankingResponse"},{"$ref":"#/definitions/ReactiveResponse"},{"$ref":"#/definitions/MatrixResponse"},{"$ref":"#/definitions/ButtonsResponse"},{"$ref":"#/definitions/TextOnlyResponse"},{"$ref":"#/definitions/DividerResponse"}]},"ShortTextResponse":{"additionalProperties":false,"description":"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\\n\\n```js { \\"id\\": \\"q-short-text\\", \\"prompt\\": \\"Short text example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"shortText\\", \\"placeholder\\": \\"Enter your answer here\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"shortText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"SkipConditions":{"description":"The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks\' skip conditions will be considered when computing the skip logic.\\n\\nSkip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.\\n\\nSkip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.\\n\\nPlease see the interface definitions for more specific information on the different types of skip conditions.","items":{"anyOf":[{"$ref":"#/definitions/IndividualComponentSingleResponseCondition"},{"$ref":"#/definitions/IndividualComponentAllResponsesCondition"},{"$ref":"#/definitions/ComponentBlockCondition"},{"$ref":"#/definitions/RepeatedComponentBlockCondition"}]},"type":"array"},"SliderResponse":{"additionalProperties":false,"description":"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\\n\\nExample: ```js { \\"id\\": \\"q-slider\\", \\"prompt\\": \\"How are you feeling?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"slider\\", \\"options\\": [  {    \\"label\\": \\"Bad\\",    \\"value\\": 0  },  {    \\"label\\": \\"OK\\",    \\"value\\": 50  },  {    \\"label\\": \\"Good\\",    \\"value\\": 100  } ] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.","items":{"$ref":"#/definitions/NumberOption"},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"smeqStyle":{"description":"Whether to render the slider with a SMEQ style. Defaults to false.","type":"boolean"},"snap":{"description":"Whether the slider should snap between values. Defaults to false. Slider snapping disables the label above the handle.","type":"boolean"},"spacing":{"description":"The spacing between the ticks. If not provided, the spacing is calculated as the range of the slider divided by power of 10.","type":"number"},"startingValue":{"description":"The starting value of the slider. Defaults to the minimum value.","type":"number"},"step":{"description":"The step value of the slider. If not provided (and snap not enabled), the step value is calculated as the range of the slider divided by 100.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"tlxStyle":{"description":"Whether to render the slider with a NASA-tlx style. Defaults to false.","type":"boolean"},"type":{"const":"slider","type":"string"},"withBar":{"description":"Whether to render the slider with a bar to the left. Defaults to true.","type":"boolean"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"StringOption":{"additionalProperties":false,"description":"The StringOption interface is used to define the options for a dropdown, radio, buttons, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants. Markdown is supported.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"string"}},"required":["label","value"],"type":"object"},"StudyConfig":{"additionalProperties":false,"description":"The StudyConfig interface is used to define the properties of a study configuration. This is a JSON object with four main components: the StudyMetadata, the UIConfig, the Components, and the Sequence. Below is the general template that should be followed when constructing a Study configuration file.\\n\\n```js { \\"$schema\\": \\"https://raw.githubusercontent.com/revisit-studies/study/v2.3.2/src/parser/StudyConfigSchema.json\\", \\"studyMetadata\\": {  ... }, \\"uiConfig\\": {  ... }, \\"components\\": {  ... }, \\"sequence\\": {  ... } } ```\\n\\n:::info For information about each of the individual pieces of the study configuration file, you can visit the documentation for each one individually. ::: <br/>\\n\\nThe `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration.","properties":{"$schema":{"description":"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information","type":"string"},"baseComponents":{"$ref":"#/definitions/BaseComponents","description":"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},"components":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/IndividualComponent"},{"$ref":"#/definitions/InheritedComponent"}]},"description":"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.","type":"object"},"importedLibraries":{"description":"A list of libraries that are used in the study. This is used to import external libraries into the study. Library names are valid namespaces to be used later.","items":{"type":"string"},"type":"array"},"sequence":{"anyOf":[{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}],"description":"The order of the components in the study. This might include some randomness."},"studyMetadata":{"$ref":"#/definitions/StudyMetadata","description":"The metadata for the study. This is used to identify the study and version in the data file."},"uiConfig":{"$ref":"#/definitions/UIConfig","description":"The UI configuration for the study. This is used to configure the UI of the app."}},"required":["$schema","studyMetadata","uiConfig","components","sequence"],"type":"object"},"StudyMetadata":{"additionalProperties":false,"description":"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. Below is an example of a StudyMetadata entry in your study configuration file:\\n\\n```js \\"studyMetadata\\" : { \\"title\\": \\"My New Study\\", \\"version\\": \\"pilot\\", \\"authors\\": [  \\"Jane Doe\\",  \\"John Doe\\" ], \\"date\\": \\"2024-04-01\\", \\"description\\": \\"This study is meant to test your ability.\\", \\"organizations\\": [  \\"The reVISit Team\\",  \\"The Other Team\\" ] } ```","properties":{"authors":{"description":"The authors of your study.","items":{"type":"string"},"type":"array"},"date":{"description":"The date of your study, may be useful for the researcher.","type":"string"},"description":{"description":"The description of your study, shown on the landing page.","type":"string"},"organizations":{"description":"The organizations that are associated with your study.","items":{"type":"string"},"type":"array"},"title":{"description":"The title of your study, shown on the landing page.","type":"string"},"version":{"description":"The version of your study. When you change a configuration file after a study has already been distributed to participants, you can change the version number so that the participants who see this new configuration file can be identified.","type":"string"}},"required":["title","version","authors","date","description","organizations"],"type":"object"},"Styles":{"additionalProperties":false,"properties":{"background":{"description":"Background","type":"string"},"backgroundColor":{"type":"string"},"backgroundImage":{"type":"string"},"backgroundPosition":{"type":"string"},"backgroundSize":{"type":"string"},"border":{"description":"Border","type":"string"},"borderRadius":{"type":"string"},"bottom":{"type":"string"},"color":{"description":"Typography","type":"string"},"filter":{"description":"Filter","type":"string"},"font":{"type":"string"},"fontFamily":{"type":"string"},"fontSize":{"type":"string"},"fontStyle":{"enum":["normal","italic","oblique"],"type":"string"},"fontWeight":{"type":["string","number"]},"height":{"description":"Sizing","type":"string"},"left":{"type":"string"},"letterSpacing":{"type":"string"},"lineHeight":{"type":["string","number"]},"margin":{"description":"Spacing","type":"string"},"maxHeight":{"type":"string"},"maxWidth":{"type":"string"},"minHeight":{"type":"string"},"minWidth":{"type":"string"},"padding":{"type":"string"},"position":{"description":"Positioning","enum":["static","relative","absolute","fixed","sticky"],"type":"string"},"right":{"type":"string"},"textAlign":{"enum":["start","center","end","justify","left","right","match-parent"],"type":"string"},"textDecoration":{"enum":["none","underline","overline","line-through","underline-overline"],"type":"string"},"textTransform":{"enum":["capitalize","lowercase","none","uppercase"],"type":"string"},"top":{"type":"string"},"transform":{"description":"Transform","type":"string"},"width":{"type":"string"},"wordSpacing":{"type":"string"}},"type":"object"},"TextOnlyResponse":{"additionalProperties":false,"description":"The TextOnlyResponse interface is used to define the properties of a text only response. TextOnlyResponses render as a block of text that is displayed to the user. This can be used to display instructions or other information. It does not accept any input from the user.\\n\\nExample: ```js {   \\"id\\": \\"textOnlyResponse\\",   \\"type\\": \\"textOnly\\",   \\"prompt\\": \\"This is a text only response, it accepts markdown so you can **bold** or _italicize_ text.\\",   \\"location\\": \\"belowStimulus\\",   \\"restartEnumeration\\": true } ```\\n\\nIn this example, the text only response is displayed below the stimulus and the enumeration of the questions is restarted.","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"description":"The markdown text that is displayed to the user.","type":"string"},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"restartEnumeration":{"description":"Whether to restart the enumeration of the questions. Defaults to false.","type":"boolean"},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"textOnly","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","prompt","type"],"type":"object"},"UIConfig":{"additionalProperties":false,"description":"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses. Below is an example of how the UI Config would look in your study configuration (note, there are optional fields that are not shown here): ```js uiConfig:{ \\"contactEmail\\": \\"contact@revisit.dev\\", \\"helpTextPath\\": \\"<study-name>/assets/help.md\\", \\"logoPath\\": \\"<study-name>/assets/logo.jpg\\", \\"withProgressBar\\": true, \\"autoDownloadStudy\\": true \\"autoDownloadTime\\": 5000, \\"studyEndMsg\\": \\"Thank you for completing this study. You\'re the best!\\", \\"withSidebar\\": true, \\"windowEventDebounceTime\\": 500, \\"urlParticipantIdParam\\": \\"PROLIFIC_ID\\", \\"numSequences\\": 500 } ``` In the above, the `<study-name>/assets/` path is referring to the path to your individual study assets. It is common practice to have your study directory contain an `assets` directory where all components and images relevant to your study reside. Note that this path is relative to the `public` folder of the repository - as is all other paths you define in reVISit (aside from React components whose paths are relative to `src/public`.)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. Defaults to true.","type":"boolean"},"autoDownloadStudy":{"description":"Controls whether the study data is automatically downloaded at the end of the study.","type":"boolean"},"autoDownloadTime":{"description":"The time in milliseconds to wait before automatically downloading the study data.","type":"number"},"contactEmail":{"description":"The email address that used during the study if a participant clicks contact.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"logoPath":{"description":"The path to the logo image. This is displayed on the landing page and the header.","type":"string"},"minHeightSize":{"description":"The minimum screen height size for the study","type":"number"},"minWidthSize":{"description":"The minimum screen width size for the study","type":"number"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text to display on the next button.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. Defaults to false.","type":"boolean"},"numSequences":{"description":"The number of sequences to generate for the study. This is used to generate the random sequences for the study. Defaults to 1000.","type":"number"},"participantNameField":{"description":"The default name field for a participant. Directs revisit to use the task and response id as a name in UI elements. For example, if you wanted the response \'prolificId\' from the task \'introduction\' to be the name, this field would be \'introduction.prolificId\'","type":"string"},"previousButtonText":{"description":"The text that is displayed on the previous button.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. Defaults to false.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If true, will record audio on all components unless deactivated on individual components. Defaults to false.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If true, will record audio on all components unless deactivated on individual components. This must be set to true if you want to record audio on any component in your study. Defaults to false. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before any component that you want to record the screen on to ensure permissions are granted and screen capture has started.","type":"boolean"},"recordScreenFPS":{"description":"Desired fps for recording screen. If possible, this value will be used, but if it\'s not possible, the user agent will use the closest possible match.","type":"number"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"showTitle":{"description":"Controls whether the title should be hidden in the study.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. Defaults to 300.","type":"number"},"studyEndMsg":{"description":"The message to display when the study ends.","type":"string"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"timeoutReject":{"description":"Whether to redirect a timed out participant to a rejection page. This only works for components where the `nextButtonDisableTime` field is set.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"urlParticipantIdParam":{"description":"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered in the study.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question.","type":"boolean"}},"required":["logoPath","contactEmail","withProgressBar","withSidebar"],"type":"object"},"VegaComponent":{"anyOf":[{"$ref":"#/definitions/VegaComponentPath"},{"$ref":"#/definitions/VegaComponentConfig"}]},"VegaComponentConfig":{"additionalProperties":false,"description":"The VegaComponentConfig interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component by adding Vega/Vega-Lite specs within the reVISit config itself.\\n\\nTo do this, would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"config\\": { ... vega specs here ...}, }\\n\\nIIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["config","response","type"],"type":"object"},"VegaComponentPath":{"additionalProperties":false,"description":"The VegaComponentPath interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component with path pointing to your Vega/Vega-Lite specs file.\\n\\nFor example, to render a vega based stimuli with a path of `<study-name>/assets/vega.spec.json`, you would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"path\\": \\"<study-name>/assets/vega.spec.json\\", } ```\\n\\nIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec file\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. This signal is then passed to reVISit as the participant\'s response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"VideoComponent":{"additionalProperties":false,"description":"The VideoComponent interface is used to define the properties of a video component. This component is used to render a video with optional controls.\\n\\nMost often, video components will be used for trainings, and will have a `forceCompletion` field set to true. This will prevent the participant from moving on until the video has finished playing.\\n\\nAs such, the `forceCompletion` field is set to true by default, and the `withTimeline` field is set to false by default.\\n\\nFor example, to render a training video with a path of `<study-name>/assets/video.mp4`, you would use the following snippet: ```js {   \\"type\\": \\"video\\",   \\"path\\": \\"<study-name>/assets/video.mp4\\", } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"video","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"WebsiteComponent":{"additionalProperties":false,"description":"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/assets/website.html\\", } ```\\n\\nTo pass a data from the config to the website, you can use the `parameters` field as below:\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/website.html\\", \\"parameters\\": {  \\"barData\\": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] }, \\"response\\": [  {    \\"id\\": \\"barChart\\",    \\"prompt\\": \\"Your selected answer:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"reactive\\"  } ] } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\\n\\n```html <script src=\\"../../revisitUtilities/revisit-communicate.js\\"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\\n\\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\\n\\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenanceGraph` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\\n\\n```js const trrack = initializeTrrack({ initialState, registry });\\n\\n... Revisit.postProvenance(trrack.graph.backend); ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"},"path":{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"website","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"}}'),QZt={$ref:YZt,$schema:KZt,definitions:XZt},JZt="#/definitions/GlobalConfig",ZZt="http://json-schema.org/draft-07/schema#",een={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples in the public folder for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"},test:{description:"Indicates whether the study is a test study. This is used to hide the study from the landing page.",type:"boolean"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},ten={$ref:JZt,$schema:ZZt,definitions:een},nen="#/definitions/LibraryConfig",ren="http://json-schema.org/draft-07/schema#",ien=JSON.parse('{"Answer":{"additionalProperties":false,"description":"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.\\n\\nAnswers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.\\n\\nHere\'s an example of how to use the Answer interface to define the correct answer to a question:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/question.md\\", \\"response\\": [  {    \\"id\\": \\"response1\\",    \\"prompt\\": \\"What is 2 + 2?\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"numerical\\"  } ] \\"correctAnswer\\": [{  \\"id\\": \\"response1\\",  \\"answer\\": 4 }] } ```\\n\\nIn this example, the correct answer to the question \\"What is 2 + 2?\\" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.","properties":{"acceptableHigh":{"description":"The acceptable high value for the answer. This is used to define a range of acceptable answers.","type":"number"},"acceptableLow":{"description":"The acceptable low value for the answer. This is used to define a range of acceptable answers.","type":"number"},"answer":{"description":"The correct answer to the question."},"id":{"description":"The id of the answer. This is used to identify the answer in the data file.","type":"string"}},"required":["id","answer"],"type":"object"},"BaseComponents":{"additionalProperties":{"additionalProperties":false,"properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"type":"object"},"description":"The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\\n\\n Using baseComponents:\\n\\n```js \\"baseComponents\\": { \\"my-image-component\\": { \\"instructionLocation\\": \\"sidebar\\", \\"nextButtonLocation\\": \\"sidebar\\", \\"path\\": \\"<study-name>/assets/my-image.jpg\\", \\"response\\": [   {     \\"id\\": \\"my-image-id\\",     \\"options\\": [\\"Europe\\", \\"Japan\\", \\"USA\\"],     \\"prompt\\": \\"Your Selected Answer:\\",     \\"type\\": \\"dropdown\\"   } ], \\"type\\": \\"image\\" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `\\"baseComponent\\":\\"my-image-component\\"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js \\"components\\": { \\"q1\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with largest GDP\\", \\"instruction\\": \\"Which region has the largest GDP?\\" }, \\"q2\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with lowest GDP\\", \\"instruction\\": \\"Which region has the lowest GDP?\\" }, \\"q3\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with highest exports of Wheat\\", \\"instruction\\": \\"Which region had the most Wheat exported in 2022?\\" } } ```","type":"object"},"ButtonsResponse":{"additionalProperties":false,"description":"The ButtonsResponse interface is used to define the properties of a buttons response. ButtonsResponses render as a list of buttons that the participant can click. When a button is clicked, the value of the button is stored in the data file. Participants can cycle through the options using the arrow keys.\\n\\nExample: ```js {   \\"id\\": \\"buttonsResponse\\",   \\"type\\": \\"buttons\\",   \\"prompt\\": \\"Click a button\\",   \\"location\\": \\"belowStimulus\\",   \\"options\\": [     \\"Option 1\\",     \\"Option 2\\",     \\"Option 3\\"   ] } ``` In this example, the participant can click one of the buttons labeled \\"Option 1\\", \\"Option 2\\", or \\"Option 3\\".","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"buttons","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"CheckboxResponse":{"additionalProperties":false,"description":"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\\n\\n```js { \\"id\\": \\"q7\\", \\"prompt\\": \\"Checkbox example (not required)\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"checkbox\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\", \\"Option 3\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the checkboxes horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required.","type":"number"},"optionOrder":{"description":"The order in which the checkboxes are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"checkbox","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the checkboxes with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ComponentBlock":{"additionalProperties":false,"description":"The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\\n\\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\\n\\nHere\'s a snippet that shows how to use the random order:\\n\\n```js { \\"order\\": \\"random\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\\n\\n```js [ [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component1\\", \\"component3\\", \\"component2\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], ... ] ```\\n\\nIn addition to the order property, the ComponentBlock interface also includes the `\\"numSamples\\"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `\\"numSamples\\"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ], \\"numSamples\\": 2 } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\"], [\\"component2\\", \\"component3\\"], [\\"component3\\", \\"component1\\"], ... ] ```\\n\\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\\n\\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.","properties":{"components":{"description":"The components that are included in the order.","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}]},"type":"array"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"interruptions":{"description":"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.","items":{"$ref":"#/definitions/InterruptionBlock"},"type":"array"},"numSamples":{"description":"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.","type":"number"},"order":{"description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","enum":["random","latinSquare","fixed"],"type":"string"},"skip":{"$ref":"#/definitions/SkipConditions","description":"The skip conditions for the block."}},"required":["order","components"],"type":"object"},"ComponentBlockCondition":{"additionalProperties":false,"description":"The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.\\n\\nAnswers are checked against the correct answers defined in the IndividualComponent\'s [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.\\n\\nYou might use this if a participant answers two questions in a block incorrectly. Here\'s an example of how to use the ComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"check\\": \\"block\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.\\n\\nWhen the condition is met, the participant will immediately be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"block","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["check","condition","value","to"],"type":"object"},"ConfigResponseBlockLocation":{"enum":["sidebar","aboveStimulus","belowStimulus"],"type":"string"},"DeterministicInterruption":{"additionalProperties":false,"description":"The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.\\n\\nFor example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.\\n\\nThe components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the DeterministicInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"firstLocation\\": 2,   \\"spacing\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"firstLocation":{"description":"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).","type":"number"},"spacing":{"description":"The number of components between breaks.","type":"number"}},"required":["firstLocation","spacing","components"],"type":"object"},"DividerResponse":{"additionalProperties":false,"properties":{"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"not":{}},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"not":{}},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"divider","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","type"],"type":"object"},"DropdownResponse":{"additionalProperties":false,"description":"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\\n\\nExample: ```js { \\"id\\": \\"q-color\\", \\"prompt\\": \\"What is your favorite color?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"dropdown\\", \\"placeholder\\": \\"Please choose your favorite color\\", \\"options\\": [\\"Red\\", \\"Blue\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required. This will make the dropdown a multiselect dropdown.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required. This will make the dropdown a multiselect dropdown.","type":"number"},"options":{"description":"The options that are displayed in the dropdown.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"dropdown","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"DynamicBlock":{"additionalProperties":false,"description":"The DynamicBlock interface is used to define a block where displayed components are controlled by a function. This is useful when you want to generate the sequence based on answers to previous questions or other factors.\\n\\nThe functionPath property is a path to the function that generates the components. This should be a relative path from the src/public folder.\\n\\nHere\'s an example of how to use the DynamicBlock:\\n\\n```js {   \\"id\\": \\"funcBlock\\",   \\"order\\": \\"dynamic\\",   \\"functionPath\\": \\"<study-name>/assets/function.js\\",   \\"parameters\\": {     \\"param1\\": \\"value1\\",     \\"param2\\": \\"value2\\"   } } ```","properties":{"functionPath":{"description":"The path to the function that generates the components. This should be a relative path from the src/public folder.","type":"string"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"order":{"const":"dynamic","description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the function. These can be used within your function to render different things.","type":"object"}},"required":["id","order","functionPath"],"type":"object"},"ImageComponent":{"additionalProperties":false,"description":"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\\n\\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { \\"type\\": \\"image\\", \\"path\\": \\"<study-name>/assets/image.jpg\\", \\"style\\": { \\"maxWidth\\": \\"50%\\" } } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"image","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"IndividualComponent":{"anyOf":[{"$ref":"#/definitions/MarkdownComponent"},{"$ref":"#/definitions/ReactComponent"},{"$ref":"#/definitions/ImageComponent"},{"$ref":"#/definitions/WebsiteComponent"},{"$ref":"#/definitions/QuestionnaireComponent"},{"$ref":"#/definitions/VegaComponent"},{"$ref":"#/definitions/VideoComponent"}]},"IndividualComponentAllResponsesCondition":{"additionalProperties":false,"description":"The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\n\\nHere\'s an example of how to use the IndividualComponentAllResponsesCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"responses\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, if all responses to the component with the ID \\"attentionCheck\\" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"responses","description":"The check we\'ll perform.","type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"}},"required":["name","check","to"],"type":"object"},"IndividualComponentSingleResponseCondition":{"additionalProperties":false,"description":"The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\nFor example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here\'s an example of how to use the IndividualComponentSingleResponseCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"response\\",   \\"responseId\\": \\"attentionCheckResponse\\",   \\"value\\": \\"the right answer\\",   \\"comparison\\": \\"equal\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, we assign our skip logic to the component whose ID is \\"attentionCheck\\". If the answer given to the response \\"attentionCheckResponse\\" is equal to \\"the right answer\\", then the user will be redirected to the end of the study. If the response is _not_ equal to \\"the right answer\\", then the participant will continue to the next component in the sequence.","properties":{"check":{"const":"response","description":"The check we\'ll perform.","type":"string"},"comparison":{"description":"The comparison to use.","enum":["equal","notEqual"],"type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"responseId":{"description":"The response id to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The value to check.","type":["string","number"]}},"required":["name","check","responseId","value","comparison","to"],"type":"object"},"InheritedComponent":{"additionalProperties":false,"description":"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"baseComponent":{"type":"string"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["baseComponent"],"type":"object"},"InterruptionBlock":{"anyOf":[{"$ref":"#/definitions/DeterministicInterruption"},{"$ref":"#/definitions/RandomInterruption"}],"description":"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},"LibraryConfig":{"additionalProperties":false,"description":"LibraryConfig is used to define the properties of a library configuration. This is a JSON object with three main components: baseComponents, components, and the sequences. Libraries are useful for defining components and sequences of these components that are to be reused across multiple studies. We (the reVISit team) provide several libraries that can be used in your study configurations. Check the public/libraries folder in the reVISit-studies repository for available libraries. We also plan to accept community contributions for libraries. If you have a library that you think would be useful for others, please reach out to us. We would love to include it in our repository.\\n\\nBelow is the general template that should be followed when constructing a Library configuration file.\\n\\n```js {  \\"$schema\\": \\"https://raw.githubusercontent.com/revisit-studies/study/v2.3.2/src/parser/LibraryConfigSchema.json\\",  \\"baseComponents\\": {    // BaseComponents here are defined exactly as is in the StudyConfig  },  \\"components\\": {    // Components here are defined exactly as is in the StudyConfig  },  \\"sequences\\": {   // Sequences here are defined as \\"key\\": \\"value\\" pairs where the key is the name of the sequence and the value is a ComponentBlock, just like in the StudyConfig  } } ```","properties":{"$schema":{"description":"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information","type":"string"},"additionalDescription":{"description":"Additional description of the library. It accepts markdown formatting.","type":"string"},"baseComponents":{"$ref":"#/definitions/BaseComponents","description":"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},"components":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/IndividualComponent"},{"$ref":"#/definitions/InheritedComponent"}]},"description":"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.","type":"object"},"description":{"description":"A description of the library.","type":"string"},"doi":{"description":"The DOI of the paper where the content of the library is based on.","type":"string"},"externalLink":{"description":"The external link to the paper/website where the content of the library is based on.","type":"string"},"reference":{"description":"The reference to the paper where the content of the library is based on.","type":"string"},"sequences":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}],"description":"The order of the components in the study. This might include some randomness."},"description":"The order of the components in the study. This might include some randomness.","type":"object"}},"required":["$schema","description","components","sequences"],"type":"object"},"LikertResponse":{"additionalProperties":false,"description":"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as \'Strongly Disagree\' and \'Strongly Agree\'.\\n\\nExample for a five-point Likert Scale:\\n\\n```js { \\"id\\": \\"q-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"likert\\", \\"leftLabel\\": \\"Not Enjoyable\\", \\"rightLabel\\": \\"Very Enjoyable\\", \\"numItems\\": 5, \\"start\\": 1, \\"spacing\\": 1 } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"leftLabel":{"description":"The left label of the likert scale. E.g Strongly Disagree","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of options to render.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the likert scale. E.g Strongly Agree","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"spacing":{"description":"The spacing between the options. Defaults to 1.","type":"number"},"start":{"description":"The starting value of the likert scale. Defaults to 1.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"likert","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","numItems","prompt","type"],"type":"object"},"LongTextResponse":{"additionalProperties":false,"description":"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { \\"id\\": \\"q-name\\", \\"prompt\\": \\"What is your first name?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"longText\\", \\"placeholder\\": \\"Please enter your first name\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"longText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"MarkdownComponent":{"additionalProperties":false,"description":"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/help.md\\", \\"response\\": [] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"markdown","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"MatrixResponse":{"additionalProperties":false,"description":"The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, `answerOptions` can be set to one of the following custom strings: \'satisfaction5\',\'satisfaction7\', \'likely5\', \'likely7\'. This will automatically generate the appropriate headers for the matrix.\\n\\nExample for a 5-scale satisfaction matrix with three questions:\\n\\n```js { \\"id\\": \\"multi-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-radio\\", \\"answerOptions\\": \\"satisfaction5\\", \\"questionOptions\\": [  \\"The tool we created\\",  \\"The technique we developed\\",  \\"The authors of the tools\\" ] } ```\\n\\nHere\'s an example using custom columns (answerOptions):\\n\\n```js { \\"id\\": \\"multi-custom\\", \\"prompt\\": \\"Which categories do the following items belong to?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-checkbox\\", \\"answerOptions\\": [  \\"Has Legs\\",  \\"Has Wings\\",  \\"Can Swim\\" ], \\"questionOptions\\": [  \\"Dog\\",  \\"Snake\\",  \\"Eagle\\",  \\"Salmon\\",  \\"Platypus\\" ]\\n\\n} ```","properties":{"answerOptions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"const":"likely5","type":"string"},{"const":"likely7","type":"string"},{"const":"satisfaction5","type":"string"},{"const":"satisfaction7","type":"string"}],"description":"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"questionOptions":{"description":"The question options (rows) are the prompts for each response you\'d like to record.","items":{"type":"string"},"type":"array"},"questionOrder":{"description":"The order in which the questions are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["matrix-radio","matrix-checkbox"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["answerOptions","id","prompt","questionOptions","type"],"type":"object"},"NumberOption":{"additionalProperties":false,"description":"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"number"}},"required":["label","value"],"type":"object"},"NumericalResponse":{"additionalProperties":false,"description":"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\\n\\nExample: ```js { \\"id\\": \\"q-numerical\\", \\"prompt\\": \\"Numerical example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"numerical\\", \\"placeholder\\": \\"Enter your age, range from 0 - 120\\", \\"max\\": 120, \\"min\\": 0 } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"max":{"description":"The maximum value that is accepted in the input.","type":"number"},"min":{"description":"The minimum value that is accepted in the input.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"numerical","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"QuestionnaireComponent":{"additionalProperties":false,"description":"A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\\n\\n```js { \\"type\\": \\"questionnaire\\", \\"response\\": [  {    \\"id\\": \\"gender\\",    \\"prompt\\": \\"Gender:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"checkbox\\",    \\"options\\": [\\"Man\\", \\"Woman\\", \\"Genderqueer\\", \\"Third-gender\\", ...]  } ] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"questionnaire","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["response","type"],"type":"object"},"RadioResponse":{"additionalProperties":false,"description":"The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\\n\\nExample: ```js { \\"id\\": \\"q-radio\\", \\"prompt\\": \\"Radio button example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"radio\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the radio buttons horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"leftLabel":{"description":"The left label of the radio group. Used in Likert scales for example","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the radio buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the radio group. Used in Likert scales for example","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"radio","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the radios with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"RandomInterruption":{"additionalProperties":false,"description":"The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\\n\\nFor example, if you want to show a single interruption randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 1. If you want to show 3 interruptions randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 3.\\n\\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the RandomInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"spacing\\": \\"random\\",   \\"numInterruptions\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"interruption1\\", \\"interruption2\\", \\"component5\\", \\"component6\\"], [\\"component1\\", \\"component2\\" \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"interruption1\\", \\"interruption2\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"numInterruptions":{"description":"The number of times the interruption will be randomly added","type":"number"},"spacing":{"const":"random","description":"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.","type":"string"}},"required":["spacing","numInterruptions","components"],"type":"object"},"RankingResponse":{"additionalProperties":false,"description":"The RankingResponse interface is used to define the properties of a ranking widget response. RankingResponses render as a ranking widget with user specified options.\\n\\nThere are three types of ranking widgets: Ranking Sublist: The participant is asked to rank a subset of items from a larger list. Ranking Categorical: The participant is asked to rank items within categories: HIGH, MEDIUM, and LOW. Ranking Pairwise: The participant is asked to rank items by comparing them in pairs.\\n\\n```js { \\"id\\": \\"ranking-sublist\\", \\"type\\": \\"ranking-sublist\\", \\"prompt\\": \\"Rank your top 2 favorite fruits from the list below\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Apple\\", \\"Banana\\", \\"Orange\\", \\"Strawberry\\", \\"Grapes\\"], \\"numItems\\": 2 }, { \\"id\\": \\"ranking-categorical\\", \\"type\\": \\"ranking-categorical\\", \\"prompt\\": \\"Sort these hobbies into the categories of HIGH, MEDIUM, and LOW based on your level of interest.\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Drawing\\", \\"Singing\\", \\"Hiking\\", \\"Dancing\\", \\"Photography\\"] }, { \\"id\\": \\"ranking-pairwise\\", \\"type\\": \\"ranking-pairwise\\", \\"prompt\\": \\"Which meal would you prefer\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Pizza\\", \\"Sushi\\", \\"Burger\\", \\"Pasta\\", \\"Salad\\", \\"Tacos\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of items to rank. Applies only to sublist and categorical ranking widgets.","type":"number"},"options":{"description":"The options that are displayed as ranking options, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["ranking-sublist","ranking-categorical","ranking-pairwise"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ReactComponent":{"additionalProperties":false,"description":"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\\n\\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\\n\\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\\n\\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\\n\\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don\'t use the default answer interface, and instead have something more unique.\\n\\nSo, for example, if I had the following ReactComponent in my config ```js { type: \'react-component\'; path: \'my_study/CoolComponent.tsx\'; parameters: {  name: \'Zach\';  age: 26; } } ```\\n\\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\\n\\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\\n\\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-click-accuracy-test (https://github.com/revisit-studies/study/tree/v2.3.2/src/public/demo-click-accuracy-test/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.3.2/src/public/example-brush-interactions/assets)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},"path":{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"react-component","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"ReactiveResponse":{"additionalProperties":false,"description":"The ReactiveResponse interface is used to define the properties of a reactive response. ReactiveResponses render as a list, that is connected to a WebsiteComponent, VegaComponent, or ReactComponent. When data is sent from the components, it is displayed in the list.\\n\\n```js { \\"id\\": \\"reactiveResponse\\", \\"prompt\\": \\"Answer clicked in the stimulus\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"reactive\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"reactive","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"RepeatedComponentBlockCondition":{"additionalProperties":false,"description":"The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.\\n\\nHere\'s an example of how to use the RepeatedComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"repeatedComponent\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of incorrect responses to the repeated component with the name \\"attentionCheck\\" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"repeatedComponent","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"name":{"description":"The name of the repeated component to check (e.g. attentionCheck).","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["name","check","condition","value","to"],"type":"object"},"Response":{"anyOf":[{"$ref":"#/definitions/NumericalResponse"},{"$ref":"#/definitions/ShortTextResponse"},{"$ref":"#/definitions/LongTextResponse"},{"$ref":"#/definitions/LikertResponse"},{"$ref":"#/definitions/DropdownResponse"},{"$ref":"#/definitions/SliderResponse"},{"$ref":"#/definitions/RadioResponse"},{"$ref":"#/definitions/CheckboxResponse"},{"$ref":"#/definitions/RankingResponse"},{"$ref":"#/definitions/ReactiveResponse"},{"$ref":"#/definitions/MatrixResponse"},{"$ref":"#/definitions/ButtonsResponse"},{"$ref":"#/definitions/TextOnlyResponse"},{"$ref":"#/definitions/DividerResponse"}]},"ShortTextResponse":{"additionalProperties":false,"description":"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\\n\\n```js { \\"id\\": \\"q-short-text\\", \\"prompt\\": \\"Short text example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"shortText\\", \\"placeholder\\": \\"Enter your answer here\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"shortText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"SkipConditions":{"description":"The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks\' skip conditions will be considered when computing the skip logic.\\n\\nSkip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.\\n\\nSkip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.\\n\\nPlease see the interface definitions for more specific information on the different types of skip conditions.","items":{"anyOf":[{"$ref":"#/definitions/IndividualComponentSingleResponseCondition"},{"$ref":"#/definitions/IndividualComponentAllResponsesCondition"},{"$ref":"#/definitions/ComponentBlockCondition"},{"$ref":"#/definitions/RepeatedComponentBlockCondition"}]},"type":"array"},"SliderResponse":{"additionalProperties":false,"description":"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\\n\\nExample: ```js { \\"id\\": \\"q-slider\\", \\"prompt\\": \\"How are you feeling?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"slider\\", \\"options\\": [  {    \\"label\\": \\"Bad\\",    \\"value\\": 0  },  {    \\"label\\": \\"OK\\",    \\"value\\": 50  },  {    \\"label\\": \\"Good\\",    \\"value\\": 100  } ] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.","items":{"$ref":"#/definitions/NumberOption"},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"smeqStyle":{"description":"Whether to render the slider with a SMEQ style. Defaults to false.","type":"boolean"},"snap":{"description":"Whether the slider should snap between values. Defaults to false. Slider snapping disables the label above the handle.","type":"boolean"},"spacing":{"description":"The spacing between the ticks. If not provided, the spacing is calculated as the range of the slider divided by power of 10.","type":"number"},"startingValue":{"description":"The starting value of the slider. Defaults to the minimum value.","type":"number"},"step":{"description":"The step value of the slider. If not provided (and snap not enabled), the step value is calculated as the range of the slider divided by 100.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"tlxStyle":{"description":"Whether to render the slider with a NASA-tlx style. Defaults to false.","type":"boolean"},"type":{"const":"slider","type":"string"},"withBar":{"description":"Whether to render the slider with a bar to the left. Defaults to true.","type":"boolean"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"StringOption":{"additionalProperties":false,"description":"The StringOption interface is used to define the options for a dropdown, radio, buttons, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants. Markdown is supported.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"string"}},"required":["label","value"],"type":"object"},"Styles":{"additionalProperties":false,"properties":{"background":{"description":"Background","type":"string"},"backgroundColor":{"type":"string"},"backgroundImage":{"type":"string"},"backgroundPosition":{"type":"string"},"backgroundSize":{"type":"string"},"border":{"description":"Border","type":"string"},"borderRadius":{"type":"string"},"bottom":{"type":"string"},"color":{"description":"Typography","type":"string"},"filter":{"description":"Filter","type":"string"},"font":{"type":"string"},"fontFamily":{"type":"string"},"fontSize":{"type":"string"},"fontStyle":{"enum":["normal","italic","oblique"],"type":"string"},"fontWeight":{"type":["string","number"]},"height":{"description":"Sizing","type":"string"},"left":{"type":"string"},"letterSpacing":{"type":"string"},"lineHeight":{"type":["string","number"]},"margin":{"description":"Spacing","type":"string"},"maxHeight":{"type":"string"},"maxWidth":{"type":"string"},"minHeight":{"type":"string"},"minWidth":{"type":"string"},"padding":{"type":"string"},"position":{"description":"Positioning","enum":["static","relative","absolute","fixed","sticky"],"type":"string"},"right":{"type":"string"},"textAlign":{"enum":["start","center","end","justify","left","right","match-parent"],"type":"string"},"textDecoration":{"enum":["none","underline","overline","line-through","underline-overline"],"type":"string"},"textTransform":{"enum":["capitalize","lowercase","none","uppercase"],"type":"string"},"top":{"type":"string"},"transform":{"description":"Transform","type":"string"},"width":{"type":"string"},"wordSpacing":{"type":"string"}},"type":"object"},"TextOnlyResponse":{"additionalProperties":false,"description":"The TextOnlyResponse interface is used to define the properties of a text only response. TextOnlyResponses render as a block of text that is displayed to the user. This can be used to display instructions or other information. It does not accept any input from the user.\\n\\nExample: ```js {   \\"id\\": \\"textOnlyResponse\\",   \\"type\\": \\"textOnly\\",   \\"prompt\\": \\"This is a text only response, it accepts markdown so you can **bold** or _italicize_ text.\\",   \\"location\\": \\"belowStimulus\\",   \\"restartEnumeration\\": true } ```\\n\\nIn this example, the text only response is displayed below the stimulus and the enumeration of the questions is restarted.","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"description":"The markdown text that is displayed to the user.","type":"string"},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"restartEnumeration":{"description":"Whether to restart the enumeration of the questions. Defaults to false.","type":"boolean"},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"textOnly","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","prompt","type"],"type":"object"},"VegaComponent":{"anyOf":[{"$ref":"#/definitions/VegaComponentPath"},{"$ref":"#/definitions/VegaComponentConfig"}]},"VegaComponentConfig":{"additionalProperties":false,"description":"The VegaComponentConfig interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component by adding Vega/Vega-Lite specs within the reVISit config itself.\\n\\nTo do this, would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"config\\": { ... vega specs here ...}, }\\n\\nIIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["config","response","type"],"type":"object"},"VegaComponentPath":{"additionalProperties":false,"description":"The VegaComponentPath interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component with path pointing to your Vega/Vega-Lite specs file.\\n\\nFor example, to render a vega based stimuli with a path of `<study-name>/assets/vega.spec.json`, you would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"path\\": \\"<study-name>/assets/vega.spec.json\\", } ```\\n\\nIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec file\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. This signal is then passed to reVISit as the participant\'s response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"VideoComponent":{"additionalProperties":false,"description":"The VideoComponent interface is used to define the properties of a video component. This component is used to render a video with optional controls.\\n\\nMost often, video components will be used for trainings, and will have a `forceCompletion` field set to true. This will prevent the participant from moving on until the video has finished playing.\\n\\nAs such, the `forceCompletion` field is set to true by default, and the `withTimeline` field is set to false by default.\\n\\nFor example, to render a training video with a path of `<study-name>/assets/video.mp4`, you would use the following snippet: ```js {   \\"type\\": \\"video\\",   \\"path\\": \\"<study-name>/assets/video.mp4\\", } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"video","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"WebsiteComponent":{"additionalProperties":false,"description":"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/assets/website.html\\", } ```\\n\\nTo pass a data from the config to the website, you can use the `parameters` field as below:\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/website.html\\", \\"parameters\\": {  \\"barData\\": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] }, \\"response\\": [  {    \\"id\\": \\"barChart\\",    \\"prompt\\": \\"Your selected answer:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"reactive\\"  } ] } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\\n\\n```html <script src=\\"../../revisitUtilities/revisit-communicate.js\\"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\\n\\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\\n\\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenanceGraph` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\\n\\n```js const trrack = initializeTrrack({ initialState, registry });\\n\\n... Revisit.postProvenance(trrack.graph.backend); ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"},"path":{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"website","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"}}'),oen={$ref:nen,$schema:ren,definitions:ien},ELe=new Bre({allowUnionTypes:!0});ELe.addSchema(oen);const sen=ELe.getSchema("#/definitions/LibraryConfig");function CLe(e,t){return pd(e)?e:{...e,components:e.components.map(n=>typeof n=="object"?CLe(n,t):`$${t}.components.${n}`)}}function SLe(e,t,n=[]){return pd(e)?e:{...e,components:(e.components||[]).map(r=>{if(typeof r=="object")return SLe(r,t);const i=r.includes(".se.")?".se.":r.includes(".sequences.")?".sequences.":!1;if(typeof r=="string"&&r.startsWith("$")&&i){const[o,s]=r.split(i),a=o.slice(1);if(!t[a]){const c={message:`Library ${a} not found in imported libraries`,instancePath:"",params:{action:"check the library name"}};return n.push(c),r}let u=t[a].sequences[s];if(!u){const c={message:`Sequence ${s} not found in library ${o}`,instancePath:"",params:{action:"check the sequence name"}};return n.push(c),r}return u=CLe(u,a),u}return r})}}function aen(e,t,n){Object.entries(n).forEach(([r,i])=>{Object.entries(i.components).forEach(([o,s])=>{q$(s)&&!i.baseComponents?.[s.baseComponent]&&t.push({message:`Base component \`${s.baseComponent}\` is not defined in baseComponents object in library \`${r}\``,instancePath:`/importedLibraries/${r}/components/${o}`,params:{action:"add the base component to the baseComponents object"}})})})}function len(e,t){let n=!1,r;try{r=JSON.parse(e),n=sen(r)}catch{n=!1}const i=[],o=[];return r?n||i.push({message:"Library config is not valid",instancePath:"",params:{action:"fix the errors in the library config"}}):i.push({message:`Could not find library \`${t}\``,instancePath:"/importedLibraries/",params:{action:"make sure the library is in the correct location"}}),{...r,errors:i,warnings:o}}async function uen(e){const t=await(await fetch(`${bo}libraries/${e}/config.json`)).text();return len(t,e)}async function cen(e,t,n){const r=e.map(async o=>{const s=await uen(o);return s.errors&&t.push(...s.errors),s.warnings&&n.push(...s.warnings),[o,s]}),i=Object.fromEntries(await Promise.all(r));return Object.entries(i).forEach(([o,s])=>{s.components||delete i[o]}),e.forEach(o=>{i[o]&&(i[o].components=Object.fromEntries(Object.entries(i[o].components).map(([s,a])=>{if(q$(a)){const l=sAe({},i[o].baseComponents[a.baseComponent],a);return delete l.baseComponent,[[`$${o}.components.${s}`,l],[`$${o}.co.${s}`,l]]}return[[`$${o}.components.${s}`,a],[`$${o}.co.${s}`,a]]}).reduce((s,[a,l])=>(s.push(a,l),s),[])))}),i}const TLe=new Bre({allowUnionTypes:!0});TLe.addSchema(ten);const l1e=TLe.getSchema("#/definitions/GlobalConfig"),ALe=new Bre({allowUnionTypes:!0});ALe.addSchema(QZt);const wU=ALe.getSchema("#/definitions/StudyConfig");function den(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function fen(e){const t=JSON.parse(e),n=l1e(t),r=den(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...l1e.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function kLe(e,t,n=[]){if(!pd(e)){if(e.components.length===0){n.push({message:"Sequence has an empty components array",instancePath:"/sequence/",params:{action:"remove empty components block"}});return}e.id&&t.map((i,o)=>i===e.id?o:null).forEach(i=>{i!==null&&t.splice(i,1)}),e.components.forEach(r=>{typeof r=="string"?t.includes(r)&&t.map((o,s)=>o===r?s:null).forEach(o=>{o!==null&&t.splice(o,1)}):kLe(r,t,n)}),e.skip&&t.push(...e.skip.map(r=>r.to).filter(r=>r!=="end"))}}function hen(e,t){const n=[],r=[];aen(e,n,t),Object.entries(e.components).forEach(([s,a])=>{q$(a)&&!e.baseComponents?.[a.baseComponent]&&n.push({message:`Base component \`${a.baseComponent}\` is not defined in baseComponents object`,instancePath:`/components/${s}`,params:{action:"add the base component to the baseComponents object"}})});const i=nAe(e.sequence);i.forEach(s=>{e.components[s]||n.push({message:e.baseComponents?.[s]?`Component \`${s}\` is a base component and cannot be used in the sequence`:`Component \`${s}\` is not defined in components object`,instancePath:"/sequence/",params:{action:"add the component to the components object"}})}),Object.keys(e.components).filter(s=>!i.includes(s)&&!s.includes(".se.")&&!s.includes(".sequences.")&&!s.includes(".co.")&&!s.includes(".components.")).forEach(s=>{r.push({message:`Component \`${s}\` is defined in components object but not used deterministically in the sequence`,instancePath:"/components/",params:{action:"remove the component from the components object or add it to the sequence"}})});const o=[];return kLe(e.sequence,o),o.forEach(s=>{n.push({message:`Skip target \`${s}\` does not occur after the skip block it is used in`,instancePath:"/sequence/",params:{action:"add the target to the sequence after the skip block"}})}),{errors:n,warnings:r}}async function nie(e){let t=!1,n;try{n=JSON.parse(e),t=wU(n)}catch{try{n=GZt(e).toJSON(),t=wU(n)}catch(o){console.error("Error parsing study config file:",o),t=!1}}let r=wU.errors||[],i=[];if(t&&n){const o=n.importedLibraries||[],s=await cen(o,r,i);Object.values(s).forEach(u=>{n.components={...n.components,...u.components},n.baseComponents={...n.baseComponents,...u.components}}),n.sequence=SLe(n.sequence,s,r);const{errors:a,warnings:l}=hen(n,s);r=[...r,...a],i=[...i,...l]}else r=[...r,{message:"There was an issue validating your config file",instancePath:"root",params:{action:"fix the errors in your file or make sure the global config references the right file path"}}];return{...n,errors:r,warnings:i}}async function pen(e){const t=await(await fetch(`${bo}${e}`)).text();return await nie(t)}async function rie(e,t){const n=t.configsList.find(r=>ISe(r)===e);if(n){const r=t.configs[n];return await pen(`${r.path}`)}return null}async function men(e){const t={},n=e.configsList.map(async i=>rie(i,e)),r=await Promise.all(n);return e.configsList.forEach((i,o)=>{t[i]=r[o]}),t}function gen({globalConfig:e}){const t=qf(),[n,r]=k.useState(null),i=e.configsList.includes(t)||t==="__revisit-widget";k.useEffect(()=>{if(t!=="__revisit-widget")return rie(t,e).then(m=>{r(m)}),()=>{};if(e&&t){const m=p=>{p.data.type==="revisitWidget/CONFIG"&&nie(p.data.payload).then(async g=>{r(g);const y=await rU(g);window.parent.postMessage({type:"revisitWidget/SEQUENCE_ARRAY",payload:y},"*")})};return window.addEventListener("message",m),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",m)}}return()=>{}},[e,t]);const[o,s]=k.useState([]),[a,l]=k.useState(null),{storageEngine:u}=Mi(),[c]=kc(),d=k.useMemo(()=>c.get("participantId"),[c]);k.useEffect(()=>{async function m(){if(!(!u||!n||!t)){try{await u.initializeStudyDb(t),await u.saveConfig(n),await u.getSequenceArray()||await u.setSequenceArray(await rU(n));const g=n.uiConfig.urlParticipantIdParam&&c.get(n.uiConfig.urlParticipantIdParam)||void 0,y=Object.fromEntries(c.entries()),v=await fetch("https://api.ipify.org?format=json").catch(I=>""),w=v instanceof Response?await v.json():{ip:""},E={language:navigator.language,userAgent:navigator.userAgent,resolution:{width:window.screen.width,height:window.screen.height,availHeight:window.screen.availHeight,availWidth:window.screen.availWidth,colorDepth:window.screen.colorDepth,orientation:window.screen.orientation.type,pixelDepth:window.screen.pixelDepth},ip:w.ip},C=await u.initializeParticipantSession(y,n,E,d||g),S=await u.getModes(t),T=await fH(JSON.stringify(n));let A=n;C.participantConfigHash!==T&&(A=(await u.getAllConfigsFromHash([C.participantConfigHash],t))[C.participantConfigHash]);const D=await tde(t,A,C.sequence,E,C.answers,S,C.participantId,C.completed,!1);l(D)}catch(p){console.error("Error initializing user store routing:",p);const g=await tde(t,n,rU(n)[0],{language:"",userAgent:"",resolution:{width:0,height:0,availHeight:0,availWidth:0,colorDepth:0,orientation:"",pixelDepth:0},ip:""},{},{studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0,dataCollectionEnabled:!1},"",!1,!0);l(g)}s([{element:x.jsx(TQt,{}),children:[{path:"/",element:x.jsx(uFe,{to:ko(0),replace:!0})},{path:"/:index/:funcIndex?",element:n.errors.length>0?x.jsxs(x.Fragment,{children:[x.jsx(Yr,{order:2,mb:8,children:"Error loading config"}),x.jsx(X3,{issues:n.errors,type:"error"})]}):x.jsx(UGt,{})}]}])}}m()},[u,n,t,c,d]);const f=iSe(o);let h=null;return i?o.length===0?h=x.jsx(ql,{visible:!0}):h=f&&a?x.jsx(aAe.Provider,{value:a,children:x.jsx(kht,{store:a.store,children:f})}):x.jsx(Jm,{}):h=x.jsx(Jm,{}),h}function yN({studyIds:e}){const t=pl(),{studyId:n}=hs(),r=Dd(),i=e.map(s=>({value:s,label:s})).sort((s,a)=>s.label.localeCompare(a.label)),o=r.pathname.includes("analysis");return x.jsx(io.Header,{p:"md",children:x.jsxs(go,{mt:-7,align:"center",children:[x.jsx(go.Col,{span:6,children:x.jsxs(At,{align:"center",onClick:()=>t("/"),style:{cursor:"pointer"},children:[x.jsx(vg,{w:40,src:`${bo}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),x.jsx(ad,{w:"md"}),x.jsx(Yr,{order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:o?"ReVISit Analytics Platform":"ReVISit Studies"})]})}),x.jsx(go.Col,{span:6,children:x.jsxs(At,{justify:"flex-end",direction:"row",children:[o&&x.jsxs(x.Fragment,{children:[x.jsx(Hm,{allowDeselect:!1,placeholder:"Select Study",data:i,value:n,onChange:s=>t(`/analysis/stats/${s}`),mr:16}),x.jsx(Ut,{component:"a",href:`${bo}${n}`,target:"_blank",leftSection:x.jsx(xSe,{}),mr:"sm",children:"Go to Study"})]}),x.jsx(ASe,{onClick:()=>t("/settings"),style:{cursor:"pointer",marginTop:o?6:void 0}})]})})]})})}const m3=20,yen=5,t0={left:5,right:5,top:10,bottom:10},n0={UNANSWERED:{FILL:"grey",STROKE:"#666"},ANSWERED:{FILL:"green",STROKE:"#166534"},DYNAMIC:{FILL:"teal",STROKE:"#0d9488"},TEXT:"white"};function ven({total:e,answered:t,isDynamic:n}){const r=n?t.length:e,i=k.useMemo(()=>{const u=Math.max(300,r*50);return Zb().domain([0,r]).range([t0.left,u-t0.right])},[r]);if(!e||e<=0||Number.isNaN(e))return null;const o=()=>{const u=[];for(let c=0;c<r;c+=1){const d=c<t.length,f=d?`Question ${c+1}: ${t[c]}`:`Question ${c+1}: Not answered`;let h=n0.UNANSWERED.FILL,m=n0.UNANSWERED.STROKE;n?(h=n0.DYNAMIC.FILL,m=n0.DYNAMIC.STROKE):d&&(h=n0.ANSWERED.FILL,m=n0.ANSWERED.STROKE);const p=i(c),g=i(c+1)-i(c)-yen,y=Math.max(g,2);u.push(x.jsx(yt,{label:f,position:"top",withinPortal:!0,children:x.jsxs("g",{children:[x.jsx("rect",{x:p,y:t0.top,width:y,height:m3,fill:h,stroke:m,strokeWidth:"1.5",rx:"3",style:{cursor:"pointer"}}),x.jsxs("text",{x:p+y/2,y:t0.top+m3/2+4,fontSize:"11",fontWeight:"600",fill:n0.TEXT,textAnchor:"middle",pointerEvents:"none",children:["Q",c+1]})]})},c))}return n&&r>0&&u.push(x.jsx("text",{x:i(r)+10,y:t0.top+m3/2+7,fontSize:"20",fontWeight:"bold",fill:n0.DYNAMIC.FILL,children:"?"},"question-mark")),u},s=Math.max(300,i(r)+(n?40:t0.right)),a=m3+t0.top+t0.bottom;return x.jsxs(x.Fragment,{children:[x.jsx("style",{children:`
      .progress-heatmap {
        display: inline-block;
        vertical-align: top;
        width: 50%;
        overflow-x: auto;
        overflow-y: hidden;
        white-space: nowrap;
      }
      .progress-heatmap svg {
        display: inline-block;
        vertical-align: top;
      }
      
      /* Custom scrollbar styling */
      .progress-heatmap::-webkit-scrollbar {
        height: 8px;
      }
      .progress-heatmap::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 4px;
      }
      .progress-heatmap::-webkit-scrollbar-thumb {
        background: #c1c1c1;
        border-radius: 4px;
      }
      .progress-heatmap::-webkit-scrollbar-thumb:hover {
        background: #a8a8a8;
      }
      
      @media (max-width: 900px) {
        .progress-heatmap {
          width: 100% !important;
          display: block;
        }
      }
    `}),x.jsx("div",{className:"progress-heatmap",children:x.jsx("svg",{width:s,height:a,children:o()})})]})}function xU({title:e,titleColor:t,participants:n,showProgressHeatmap:r=!1,showDynamicBadge:i=!1,progressValue:o,progressColor:s,progressLabel:a}){const[l,u]=k.useState(!0);return x.jsxs(x.Fragment,{children:[x.jsxs(Gn,{gap:"xs",style:{cursor:"pointer"},onClick:()=>u(!l),children:[x.jsx(Cn,{variant:"subtle",color:t,size:"sm",children:l?x.jsx(MX,{size:18}):x.jsx(mSe,{size:18})}),x.jsxs(Yr,{order:5,c:t,children:[e," ","(",n.length,")"]})]}),x.jsx(Cp,{in:l,children:n.length>0&&x.jsx(go,{mt:"xs",children:n.map(({assignment:c,progress:d},f)=>x.jsx(go.Col,{span:12,children:x.jsx(Uy,{shadow:"sm",padding:"sm",radius:"md",withBorder:!0,children:x.jsxs(Gn,{justify:"space-between",align:"center",children:[x.jsxs("div",{children:[x.jsxs(Gn,{gap:"xs",align:"center",children:[x.jsxs(Ve,{fw:500,size:"sm",children:["Participant:"," ",c.participantId||`#${f+1}`]}),i&&c.isDynamic&&x.jsx(us,{size:"xs",color:"cyan",children:"DYNAMIC"})]}),x.jsxs(Ve,{size:"xs",c:"dimmed",children:["Started:"," ",new Date(c.createdTime).toLocaleString()]})]}),r&&x.jsx(ven,{total:c.total,answered:c.answered,isDynamic:c.isDynamic}),x.jsx(S$,{size:60,thickness:6,sections:[{value:o(c,d),color:s}],label:dn.createElement(a,{assignment:c,progress:d})})]})})},c.participantId||`${e.toLowerCase()}-${f}`))})})]})}function ben({assignment:e,progress:t}){return x.jsxs(Ve,{c:"orange",fw:700,ta:"center",size:"xs",children:[e.isDynamic?"?":Math.round(t),"%"]})}function wen(){return x.jsx(Iu,{children:x.jsx(Cn,{color:"teal",variant:"light",radius:"xl",size:"sm",children:x.jsx(ay,{size:16})})})}function xen({progress:e}){return x.jsxs(Ve,{c:"red",fw:700,ta:"center",size:"xs",children:[Math.round(e),"%"]})}function _en({studyConfig:e,storageEngine:t,studyId:n,includedParticipants:r,selectedStages:i}){const o=t,[s,a]=k.useState([]),[l,u]=k.useState("connecting"),[c,d]=k.useState(null),[f,h]=k.useState(!1),m=v=>{a(v),d(new Date),h(!1)},p=k.useCallback(async()=>{if(!o||!n||f)return;if(!navigator.onLine){u("disconnected");return}h(!0),u("connecting");const v=setTimeout(()=>{l==="connecting"&&(u("disconnected"),h(!1))},1e4);try{o.initializeStudyDb(n);const w=await o.getAllSequenceAssignments(n);clearTimeout(v),m(w),u("connected")}catch(w){console.error("Reconnection failed:",w),clearTimeout(v),u("disconnected"),h(!1)}},[o,n,f,l]);k.useEffect(()=>{if(!o||!n){u("disconnected");return}u("connecting"),o.initializeStudyDb(n);const v=o._setupSequenceAssignmentListener?.(n,w=>{m(w)});return u(typeof v=="function"?"connected":"disconnected"),()=>{v?.()}},[o,n]),k.useEffect(()=>{const v=()=>{o&&n&&l==="disconnected"&&p()},w=()=>{u("disconnected"),h(!1)};return window.addEventListener("online",v),window.addEventListener("offline",w),()=>{window.removeEventListener("online",v),window.removeEventListener("offline",w)}},[o,n,l,p]);const g=k.useMemo(()=>s.map(v=>{const w=v.total>0?v.answered.length/v.total*100:0,E=v.completed!==null,C=v.rejected;return{assignment:v,progress:w,isCompleted:E,isRejected:C}}).filter(({isCompleted:v,isRejected:w,assignment:E})=>{const C=w?"rejected":v?"completed":"inprogress",S=r.includes(C),T=i.includes("ALL")||i.includes(E.stage||"");return S&&T}).sort((v,w)=>w.assignment.createdTime-v.assignment.createdTime),[s,r,i]),y=k.useMemo(()=>{const v=g.filter(C=>!C.isCompleted&&!C.isRejected),w=g.filter(C=>C.isCompleted&&!C.isRejected),E=g.filter(C=>C.isRejected);return{inProgress:v,completed:w,rejected:E}},[g]);return x.jsxs(or,{gap:"sm",children:[x.jsx(Uy,{shadow:"sm",padding:"sm",radius:"md",withBorder:!0,style:{position:"sticky",top:0,zIndex:100,backgroundColor:"white",marginBottom:"1rem"},children:x.jsxs(At,{justify:"space-between",align:"center",children:[x.jsxs(Gn,{gap:"md",children:[x.jsx(Yr,{order:5,size:"h5",children:"Live Monitor"}),x.jsxs(Ve,{size:"sm",c:"dimmed",children:["Total:"," ",g.length]}),x.jsxs(Gn,{gap:"xs",children:[x.jsxs(us,{color:"green",variant:"light",size:"sm",children:[g.filter(v=>v.isCompleted).length," ","Completed"]}),x.jsxs(us,{color:"orange",variant:"light",size:"sm",children:[g.filter(v=>!v.isCompleted&&!v.isRejected).length," ","Active"]}),x.jsxs(us,{color:"red",variant:"light",size:"sm",children:[g.filter(v=>v.isRejected).length," ","Rejected"]})]})]}),x.jsxs(Gn,{gap:"xs",children:[l==="disconnected"&&x.jsx(Ut,{size:"xs",variant:"light",color:"blue",leftSection:x.jsx(CSe,{size:12}),loading:f,onClick:p,disabled:!o||!n,children:"Reconnect"}),x.jsx(yt,{label:l==="connected"?`Connected${c?` - Last data update: ${c.toLocaleTimeString()}`:""}`:l==="connecting"?"Connecting...":"Disconnected",position:"bottom-end",children:x.jsx(a$,{color:l==="connected"?"green":l==="connecting"?"yellow":"red",position:"top-end",size:10,withBorder:!0,children:l==="connected"?x.jsx(lrt,{size:22,color:"green"}):x.jsx(srt,{size:22,color:l==="connecting"?"orange":"red"})})})]})]})}),x.jsx(Yr,{order:4,mt:"lg",children:"Participant Progress"}),x.jsxs(or,{gap:"md",children:[x.jsx(xU,{title:"In Progress",titleColor:"orange",participants:y.inProgress,showProgressHeatmap:!0,showDynamicBadge:!0,progressValue:(v,w)=>v.isDynamic?50:w,progressColor:"orange",progressLabel:ben}),x.jsx(xU,{title:"Completed",titleColor:"teal",participants:y.completed,progressValue:()=>100,progressColor:"teal",progressLabel:wen}),x.jsx(xU,{title:"Rejected",titleColor:"red",participants:y.rejected,progressValue:(v,w)=>w,progressColor:"red",progressLabel:xen})]})]})}function Een({overviewData:e,mismatchDetails:t}){const n=r=>{if(!t)return!1;const i=t[r];return i.current!==i.calculated};return x.jsxs(Td,{shadow:"sm",p:"md",withBorder:!0,children:[x.jsx(Yr,{order:4,mb:"md",children:"Overview Statistics"}),e===null?x.jsx(Ve,{ta:"center",mb:"md",children:"No data available"}):x.jsxs(At,{justify:"space-between",m:"xs",gap:"xl",wrap:"wrap",children:[x.jsxs("div",{children:[x.jsx(Ve,{size:"xl",fw:"bold",children:e.participantCounts.total}),x.jsx(Ve,{size:"sm",c:"dimmed",children:"Total Participants"})]}),x.jsxs("div",{children:[x.jsxs(At,{align:"center",gap:"xs",children:[n("completed")&&t&&x.jsx(yt,{label:`Calculated: ${t.completed.calculated}, Current: ${t.completed.current}`,children:x.jsx(ld,{size:16,color:"orange"})}),x.jsx(Ve,{size:"xl",fw:"bold",c:"green",children:e.participantCounts.completed})]}),x.jsx(Ve,{size:"sm",c:"dimmed",children:"Completed"})]}),x.jsxs("div",{children:[x.jsxs(At,{align:"center",gap:"xs",children:[n("inProgress")&&t&&x.jsx(yt,{label:`Calculated: ${t.inProgress.calculated}, Current: ${t.inProgress.current}`,children:x.jsx(ld,{size:16,color:"orange"})}),x.jsx(Ve,{size:"xl",fw:"bold",c:"yellow",children:e.participantCounts.inProgress})]}),x.jsx(Ve,{size:"sm",c:"dimmed",children:"In Progress"})]}),x.jsxs("div",{children:[x.jsxs(At,{align:"center",gap:"xs",children:[n("rejected")&&t&&x.jsx(yt,{label:`Calculated: ${t.rejected.calculated}, Current: ${t.rejected.current}`,children:x.jsx(ld,{size:16,color:"orange"})}),x.jsx(Ve,{size:"xl",fw:"bold",c:"red",children:e.participantCounts.rejected})]}),x.jsx(Ve,{size:"sm",c:"dimmed",children:"Rejected"})]}),x.jsxs("div",{children:[x.jsx(Ve,{size:"xl",fw:"bold",children:e.startDate?.toLocaleDateString()||"N/A"}),x.jsx(Ve,{size:"sm",c:"dimmed",children:"Start Date"})]}),x.jsxs("div",{children:[x.jsx(Ve,{size:"xl",fw:"bold",children:e.endDate?.toLocaleDateString()||"N/A"}),x.jsx(Ve,{size:"sm",c:"dimmed",children:"End Date"})]}),x.jsxs("div",{children:[x.jsx(Ve,{size:"xl",fw:"bold",children:Number.isFinite(e.avgTime)?`${e.avgTime.toFixed(1)} s`:"N/A"}),x.jsx(Ve,{size:"sm",c:"dimmed",children:"Average Time"})]}),x.jsxs("div",{children:[x.jsx(Ve,{size:"xl",fw:"bold",children:Number.isFinite(e.avgCleanTime)?`${e.avgCleanTime.toFixed(1)} s`:"N/A"}),x.jsx(Ve,{size:"sm",c:"dimmed",children:"Average Clean Time"})]}),x.jsxs("div",{children:[x.jsx(Ve,{size:"xl",fw:"bold",children:Number.isFinite(e.correctnessStats)?`${e.correctnessStats.toFixed(1)}%`:"N/A"}),x.jsx(Ve,{size:"sm",c:"dimmed",children:"Correctness"})]})]})]})}function B0(e,t){return typeof e=="function"?e(t):e}function Tc(e,t){return n=>{t.setState(r=>({...r,[e]:B0(n,r[e])}))}}function qL(e){return e instanceof Function}function Cen(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function RLe(e,t){const n=[],r=i=>{i.forEach(o=>{n.push(o);const s=t(o);s!=null&&s.length&&r(s)})};return r(e),n}function wn(e,t,n){let r=[],i;return o=>{let s;n.key&&n.debug&&(s=Date.now());const a=e(o);if(!(a.length!==r.length||a.some((c,d)=>r[d]!==c)))return i;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),i=t(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-s)*100)/100,d=Math.round((Date.now()-u)*100)/100,f=d/16,h=(m,p)=>{for(m=String(m);m.length<p;)m=" "+m;return m};console.info(`%c ${h(d,5)} /${h(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n?.key)}return i}}function xn(e,t,n,r){return{debug:()=>{var i;return(i=e?.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function Sen(e,t,n,r){const i=()=>{var s;return(s=o.getValue())!=null?s:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:wn(()=>[e,n,t,o],(s,a,l,u)=>({table:s,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),xn(e.options,"debugCells"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(o,n,t,e)},{}),o}function Ten(e,t,n,r){var i,o;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(i=(o=a.id)!=null?o:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,c;if(a.accessorFn?c=a.accessorFn:l&&(l.includes(".")?c=f=>{let h=f;for(const p of l.split(".")){var m;h=(m=h)==null?void 0:m[p]}return h}:c=f=>f[a.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:wn(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(h=>h.getFlatColumns())]},xn(e.options,"debugColumns")),getLeafColumns:wn(()=>[e._getOrderColumnsFn()],f=>{var h;if((h=d.columns)!=null&&h.length){let m=d.columns.flatMap(p=>p.getLeafColumns());return f(m)}return[d]},xn(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(d,e);return d}const qa="debugHeaders";function u1e(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),s.push(l)};return a(o),s},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(o,e)}),o}const Aen={createTable:e=>{e.getHeaderGroups=wn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var o,s;const a=(o=r?.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?o:[],l=(s=i?.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?s:[],u=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(i!=null&&i.includes(d.id)));return g3(t,[...a,...u,...l],e)},xn(e.options,qa)),e.getCenterHeaderGroups=wn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(i!=null&&i.includes(o.id))),g3(t,n,e,"center")),xn(e.options,qa)),e.getLeftHeaderGroups=wn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const o=(i=r?.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return g3(t,o,e,"left")},xn(e.options,qa)),e.getRightHeaderGroups=wn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const o=(i=r?.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return g3(t,o,e,"right")},xn(e.options,qa)),e.getFooterGroups=wn(()=>[e.getHeaderGroups()],t=>[...t].reverse(),xn(e.options,qa)),e.getLeftFooterGroups=wn(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),xn(e.options,qa)),e.getCenterFooterGroups=wn(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),xn(e.options,qa)),e.getRightFooterGroups=wn(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),xn(e.options,qa)),e.getFlatHeaders=wn(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),xn(e.options,qa)),e.getLeftFlatHeaders=wn(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),xn(e.options,qa)),e.getCenterFlatHeaders=wn(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),xn(e.options,qa)),e.getRightFlatHeaders=wn(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),xn(e.options,qa)),e.getCenterLeafHeaders=wn(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),xn(e.options,qa)),e.getLeftLeafHeaders=wn(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),xn(e.options,qa)),e.getRightLeafHeaders=wn(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),xn(e.options,qa)),e.getLeafHeaders=wn(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,o,s,a,l,u;return[...(i=(o=t[0])==null?void 0:o.headers)!=null?i:[],...(s=(a=n[0])==null?void 0:a.headers)!=null?s:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(c=>c.getLeafHeaders()).flat()},xn(e.options,qa))}};function g3(e,t,n,r){var i,o;let s=0;const a=function(f,h){h===void 0&&(h=1),s=Math.max(s,h),f.filter(m=>m.getIsVisible()).forEach(m=>{var p;(p=m.columns)!=null&&p.length&&a(m.columns,h+1)},0)};a(e);let l=[];const u=(f,h)=>{const m={depth:h,id:[r,`${h}`].filter(Boolean).join("_"),headers:[]},p=[];f.forEach(g=>{const y=[...p].reverse()[0],v=g.column.depth===m.depth;let w,E=!1;if(v&&g.column.parent?w=g.column.parent:(w=g.column,E=!0),y&&y?.column===w)y.subHeaders.push(g);else{const C=u1e(n,w,{id:[r,h,w.id,g?.id].filter(Boolean).join("_"),isPlaceholder:E,placeholderId:E?`${p.filter(S=>S.column===w).length}`:void 0,depth:h,index:p.length});C.subHeaders.push(g),p.push(C)}m.headers.push(g),g.headerGroup=m}),l.push(m),h>0&&u(p,h-1)},c=t.map((f,h)=>u1e(n,f,{depth:s,index:h}));u(c,s-1),l.reverse();const d=f=>f.filter(m=>m.column.getIsVisible()).map(m=>{let p=0,g=0,y=[0];m.subHeaders&&m.subHeaders.length?(y=[],d(m.subHeaders).forEach(w=>{let{colSpan:E,rowSpan:C}=w;p+=E,y.push(C)})):p=1;const v=Math.min(...y);return g=g+v,m.colSpan=p,m.rowSpan=g,{colSpan:p,rowSpan:g}});return d((i=(o=l[0])==null?void 0:o.headers)!=null?i:[]),l}const _C=(e,t,n,r,i,o,s)=>{let a={id:t,index:r,original:n,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:o??[],getLeafRows:()=>RLe(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const c=u.getParentRow();if(!c)break;l.push(c),u=c}return l.reverse()},getAllCells:wn(()=>[e.getAllLeafColumns()],l=>l.map(u=>Sen(e,a,u,u.id)),xn(e.options,"debugRows")),_getAllCellsByColumnId:wn(()=>[a.getAllCells()],l=>l.reduce((u,c)=>(u[c.column.id]=c,u),{}),xn(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a},ken={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},ILe=(e,t,n)=>{var r,i;const o=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(o))};ILe.autoRemove=e=>Cf(e);const DLe=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};DLe.autoRemove=e=>Cf(e);const PLe=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};PLe.autoRemove=e=>Cf(e);const OLe=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};OLe.autoRemove=e=>Cf(e)||!(e!=null&&e.length);const NLe=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});NLe.autoRemove=e=>Cf(e)||!(e!=null&&e.length);const MLe=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});MLe.autoRemove=e=>Cf(e)||!(e!=null&&e.length);const $Le=(e,t,n)=>e.getValue(t)===n;$Le.autoRemove=e=>Cf(e);const FLe=(e,t,n)=>e.getValue(t)==n;FLe.autoRemove=e=>Cf(e);const iie=(e,t,n)=>{let[r,i]=n;const o=e.getValue(t);return o>=r&&o<=i};iie.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(i)?1/0:i;if(o>s){const a=o;o=s,s=a}return[o,s]};iie.autoRemove=e=>Cf(e)||Cf(e[0])&&Cf(e[1]);const kh={includesString:ILe,includesStringSensitive:DLe,equalsString:PLe,arrIncludes:OLe,arrIncludesAll:NLe,arrIncludesSome:MLe,equals:$Le,weakEquals:FLe,inNumberRange:iie};function Cf(e){return e==null||e===""}const Ren={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Tc("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);return typeof r=="string"?kh.includesString:typeof r=="number"?kh.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?kh.equals:Array.isArray(r)?kh.arrIncludes:kh.weakEquals},e.getFilterFn=()=>{var n,r;return qL(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:kh[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),o=r?.find(c=>c.id===e.id),s=B0(n,o?o.value:void 0);if(c1e(i,s,e)){var a;return(a=r?.filter(c=>c.id!==e.id))!=null?a:[]}const l={id:e.id,value:s};if(o){var u;return(u=r?.map(c=>c.id===e.id?l:c))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var o;return(o=B0(t,i))==null?void 0:o.filter(s=>{const a=n.find(l=>l.id===s.id);if(a){const l=a.getFilterFn();if(c1e(l,s.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function c1e(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Ien=(e,t,n)=>n.reduce((r,i)=>{const o=i.getValue(e);return r+(typeof o=="number"?o:0)},0),Den=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},Pen=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},Oen=(e,t,n)=>{let r,i;return n.forEach(o=>{const s=o.getValue(e);s!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)))}),[r,i]},Nen=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let o=i.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},Men=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!Cen(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((o,s)=>o-s);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},$en=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Fen=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Len=(e,t)=>t.length,vN={sum:Ien,min:Den,max:Pen,extent:Oen,mean:Nen,median:Men,unique:$en,uniqueCount:Fen,count:Len},jen={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Tc("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);if(typeof r=="number")return vN.sum;if(Object.prototype.toString.call(r)==="[object Date]")return vN.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return qL(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:vN[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function Ben(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(s=>s.id===o)).filter(Boolean),...r]}const zen={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Tc("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=wn(n=>[k2(t,n)],n=>n.findIndex(r=>r.id===e.id),xn(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=k2(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=k2(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=wn(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let o=[];if(!(t!=null&&t.length))o=i;else{const s=[...t],a=[...i];for(;a.length&&s.length;){const l=s.shift(),u=a.findIndex(c=>c.id===l);u>-1&&o.push(a.splice(u,1)[0])}o=[...o,...a]}return Ben(o,n,r)},xn(e.options,"debugTable"))}},_U=()=>({left:[],right:[]}),Uen={getInitialState:e=>({columnPinning:_U(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Tc("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var o,s;if(n==="right"){var a,l;return{left:((a=i?.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=i?.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var u,c;return{left:[...((u=i?.left)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((c=i?.right)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((o=i?.left)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d))),right:((s=i?.right)!=null?s:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,o,s;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((o=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:i}=t.getState().columnPinning,o=n.some(a=>r?.includes(a)),s=n.some(a=>i?.includes(a));return o?"left":s?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=wn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const o=[...r??[],...i??[]];return n.filter(s=>!o.includes(s.column.id))},xn(t.options,"debugRows")),e.getLeftVisibleCells=wn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),xn(t.options,"debugRows")),e.getRightVisibleCells=wn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),xn(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?_U():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:_U())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,o;return!!((i=r.left)!=null&&i.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=wn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),xn(e.options,"debugColumns")),e.getRightLeafColumns=wn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),xn(e.options,"debugColumns")),e.getCenterLeafColumns=wn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(o=>!i.includes(o.id))},xn(e.options,"debugColumns"))}},y3={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},EU=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Ven={getDefaultColumnDef:()=>y3,getInitialState:e=>({columnSizing:{},columnSizingInfo:EU(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Tc("columnSizing",e),onColumnSizingInfoChange:Tc("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:y3.minSize,(r=o??e.columnDef.size)!=null?r:y3.size),(i=e.columnDef.maxSize)!=null?i:y3.maxSize)},e.getStart=wn(n=>[n,k2(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,o)=>i+o.getSize(),0),xn(t.options,"debugColumns")),e.getAfter=wn(n=>[n,k2(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,o)=>i+o.getSize(),0),xn(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var o;n+=(o=i.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r?.getCanResize();return o=>{if(!r||!i||(o.persist==null||o.persist(),CU(o)&&o.touches&&o.touches.length>1))return;const s=e.getSize(),a=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[r.id,r.getSize()]],l=CU(o)?Math.round(o.touches[0].clientX):o.clientX,u={},c=(y,v)=>{typeof v=="number"&&(t.setColumnSizingInfo(w=>{var E,C;const S=t.options.columnResizeDirection==="rtl"?-1:1,T=(v-((E=w?.startOffset)!=null?E:0))*S,A=Math.max(T/((C=w?.startSize)!=null?C:0),-.999999);return w.columnSizingStart.forEach(D=>{let[I,P]=D;u[I]=Math.round(Math.max(P+P*A,0)*100)/100}),{...w,deltaOffset:T,deltaPercentage:A}}),(t.options.columnResizeMode==="onChange"||y==="end")&&t.setColumnSizing(w=>({...w,...u})))},d=y=>c("move",y),f=y=>{c("end",y),t.setColumnSizingInfo(v=>({...v,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=n||typeof document<"u"?document:null,m={moveHandler:y=>d(y.clientX),upHandler:y=>{h?.removeEventListener("mousemove",m.moveHandler),h?.removeEventListener("mouseup",m.upHandler),f(y.clientX)}},p={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),d(y.touches[0].clientX),!1),upHandler:y=>{var v;h?.removeEventListener("touchmove",p.moveHandler),h?.removeEventListener("touchend",p.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),f((v=y.touches[0])==null?void 0:v.clientX)}},g=Hen()?{passive:!1}:!1;CU(o)?(h?.addEventListener("touchmove",p.moveHandler,g),h?.addEventListener("touchend",p.upHandler,g)):(h?.addEventListener("mousemove",m.moveHandler,g),h?.addEventListener("mouseup",m.upHandler,g)),t.setColumnSizingInfo(y=>({...y,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?EU():(n=e.initialState.columnSizingInfo)!=null?n:EU())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let v3=null;function Hen(){if(typeof v3=="boolean")return v3;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return v3=e,v3}function CU(e){return e.type==="touchstart"}const qen={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Tc("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(o=>o.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=wn(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),xn(t.options,"debugRows")),e.getVisibleCells=wn(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],xn(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>wn(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),xn(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,o)=>({...i,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function k2(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Wen={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Gen={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Tc("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>kh.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return qL(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:kh[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Yen={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Tc("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,o;e.setExpanded(r?{}:(i=(o=e.initialState)==null?void 0:o.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const s=o.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const o=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{s[a]=!0}):s=r,n=(i=n)!=null?i:!o,!o&&n)return{...s,[e.id]:!0};if(o&&!n){const{[e.id]:a,...l}=s;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r?.[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},$G=0,FG=10,SU=()=>({pageIndex:$G,pageSize:FG}),Ken={getInitialState:e=>({...e,pagination:{...SU(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:Tc("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=o=>B0(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?SU():(i=e.initialState.pagination)!=null?i:SU())},e.setPageIndex=r=>{e.setPagination(i=>{let o=B0(r,i.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,s)),{...i,pageIndex:o}})},e.resetPageIndex=r=>{var i,o;e.setPageIndex(r?$G:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?i:$G)},e.resetPageSize=r=>{var i,o;e.setPageSize(r?FG:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?i:FG)},e.setPageSize=r=>{e.setPagination(i=>{const o=Math.max(1,B0(r,i.pageSize)),s=i.pageSize*i.pageIndex,a=Math.floor(s/o);return{...i,pageIndex:a,pageSize:o}})},e.setPageCount=r=>e.setPagination(i=>{var o;let s=B0(r,(o=e.options.pageCount)!=null?o:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...i,pageCount:s}}),e.getPageOptions=wn(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((o,s)=>s)),i},xn(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},TU=()=>({top:[],bottom:[]}),Xen={getInitialState:e=>({rowPinning:TU(),...e}),getDefaultOptions:e=>({onRowPinningChange:Tc("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const o=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],s=i?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...s,e.id,...o]);t.setRowPinning(l=>{var u,c;if(n==="bottom"){var d,f;return{top:((d=l?.top)!=null?d:[]).filter(p=>!(a!=null&&a.has(p))),bottom:[...((f=l?.bottom)!=null?f:[]).filter(p=>!(a!=null&&a.has(p))),...Array.from(a)]}}if(n==="top"){var h,m;return{top:[...((h=l?.top)!=null?h:[]).filter(p=>!(a!=null&&a.has(p))),...Array.from(a)],bottom:((m=l?.bottom)!=null?m:[]).filter(p=>!(a!=null&&a.has(p)))}}return{top:((u=l?.top)!=null?u:[]).filter(p=>!(a!=null&&a.has(p))),bottom:((c=l?.bottom)!=null?c:[]).filter(p=>!(a!=null&&a.has(p)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,o=n.some(a=>r?.includes(a)),s=n.some(a=>i?.includes(a));return o?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const o=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(s=>{let{id:a}=s;return a});return(r=o?.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?TU():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:TU())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,o;return!!((i=r.top)!=null&&i.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(s=>{const a=e.getRow(s,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(s=>t.find(a=>a.id===s))).filter(Boolean).map(s=>({...s,position:r}))},e.getTopRows=wn(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),xn(e.options,"debugRows")),e.getBottomRows=wn(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),xn(e.options,"debugRows")),e.getCenterRows=wn(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(o=>!i.has(o.id))},xn(e.options,"debugRows"))}},Qen={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Tc("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):i.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(o=>{LG(i,o.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=wn(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?AU(e,n):{rows:[],flatRows:[],rowsById:{}},xn(e.options,"debugTable")),e.getFilteredSelectedRowModel=wn(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?AU(e,n):{rows:[],flatRows:[],rowsById:{}},xn(e.options,"debugTable")),e.getGroupedSelectedRowModel=wn(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?AU(e,n):{rows:[],flatRows:[],rowsById:{}},xn(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(o=>{var s;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return o;const a={...o};return LG(a,e.id,n,(s=r?.selectChildren)!=null?s:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return oie(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return jG(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return jG(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},LG=(e,t,n,r,i)=>{var o;const s=i.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=s.subRows)!=null&&o.length&&s.getCanSelectSubRows()&&s.subRows.forEach(a=>LG(e,a.id,n,r,i))};function AU(e,t){const n=e.getState().rowSelection,r=[],i={},o=function(s,a){return s.map(l=>{var u;const c=oie(l,n);if(c&&(r.push(l),i[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:o(l.subRows)}),c)return l}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:i}}function oie(e,t){var n;return(n=t[e.id])!=null?n:!1}function jG(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,o=!1;return e.subRows.forEach(s=>{if(!(o&&!i)&&(s.getCanSelect()&&(oie(s,t)?o=!0:i=!1),s.subRows&&s.subRows.length)){const a=jG(s,t);a==="all"?o=!0:(a==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const BG=/([0-9]+)/gm,Jen=(e,t,n)=>LLe(Ry(e.getValue(n)).toLowerCase(),Ry(t.getValue(n)).toLowerCase()),Zen=(e,t,n)=>LLe(Ry(e.getValue(n)),Ry(t.getValue(n))),etn=(e,t,n)=>sie(Ry(e.getValue(n)).toLowerCase(),Ry(t.getValue(n)).toLowerCase()),ttn=(e,t,n)=>sie(Ry(e.getValue(n)),Ry(t.getValue(n))),ntn=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},rtn=(e,t,n)=>sie(e.getValue(n),t.getValue(n));function sie(e,t){return e===t?0:e>t?1:-1}function Ry(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function LLe(e,t){const n=e.split(BG).filter(Boolean),r=t.split(BG).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),o=r.shift(),s=parseInt(i,10),a=parseInt(o,10),l=[s,a].sort();if(isNaN(l[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>a)return 1;if(a>s)return-1}return n.length-r.length}const ub={alphanumeric:Jen,alphanumericCaseSensitive:Zen,text:etn,textCaseSensitive:ttn,datetime:ntn,basic:rtn},itn={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Tc("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const o=i?.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return ub.datetime;if(typeof o=="string"&&(r=!0,o.split(BG).length>1))return ub.alphanumeric}return r?ub.text:ub.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof n?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return qL(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:ub[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(s=>{const a=s?.find(h=>h.id===e.id),l=s?.findIndex(h=>h.id===e.id);let u=[],c,d=o?n:i==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?a?c="toggle":c="add":s!=null&&s.length&&l!==s.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(o||i||(c="remove")),c==="add"){var f;u=[...s,{id:e.id,desc:d}],u.splice(0,u.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=s.map(h=>h.id===e.id?{...h,desc:d}:h):c==="remove"?u=s.filter(h=>h.id!==e.id):u=[{id:e.id,desc:d}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const o=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:s==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},otn=[Aen,qen,zen,Uen,ken,Ren,Wen,Gen,itn,jen,Yen,Ken,Xen,Qen,Ven];function stn(e){var t,n;const r=[...otn,...(t=e._features)!=null?t:[]];let i={_features:r};const o=i._features.reduce((f,h)=>Object.assign(f,h.getDefaultOptions==null?void 0:h.getDefaultOptions(i)),{}),s=f=>i.options.mergeOptions?i.options.mergeOptions(o,f):{...o,...f};let l={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(f=>{var h;l=(h=f.getInitialState==null?void 0:f.getInitialState(l))!=null?h:l});const u=[];let c=!1;const d={_features:r,options:{...o,...e},initialState:l,_queue:f=>{u.push(f),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(h=>setTimeout(()=>{throw h})))},reset:()=>{i.setState(i.initialState)},setOptions:f=>{const h=B0(f,i.options);i.options=s(h)},getState:()=>i.options.state,setState:f=>{i.options.onStateChange==null||i.options.onStateChange(f)},_getRowId:(f,h,m)=>{var p;return(p=i.options.getRowId==null?void 0:i.options.getRowId(f,h,m))!=null?p:`${m?[m.id,h].join("."):h}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(f,h)=>{let m=(h?i.getPrePaginationRowModel():i.getRowModel()).rowsById[f];if(!m&&(m=i.getCoreRowModel().rowsById[f],!m))throw new Error;return m},_getDefaultColumnDef:wn(()=>[i.options.defaultColumn],f=>{var h;return f=(h=f)!=null?h:{},{header:m=>{const p=m.header.column.columnDef;return p.accessorKey?p.accessorKey:p.accessorFn?p.id:null},cell:m=>{var p,g;return(p=(g=m.renderValue())==null||g.toString==null?void 0:g.toString())!=null?p:null},...i._features.reduce((m,p)=>Object.assign(m,p.getDefaultColumnDef==null?void 0:p.getDefaultColumnDef()),{}),...f}},xn(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:wn(()=>[i._getColumnDefs()],f=>{const h=function(m,p,g){return g===void 0&&(g=0),m.map(y=>{const v=Ten(i,y,g,p),w=y;return v.columns=w.columns?h(w.columns,v,g+1):[],v})};return h(f)},xn(e,"debugColumns")),getAllFlatColumns:wn(()=>[i.getAllColumns()],f=>f.flatMap(h=>h.getFlatColumns()),xn(e,"debugColumns")),_getAllFlatColumnsById:wn(()=>[i.getAllFlatColumns()],f=>f.reduce((h,m)=>(h[m.id]=m,h),{}),xn(e,"debugColumns")),getAllLeafColumns:wn(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(f,h)=>{let m=f.flatMap(p=>p.getLeafColumns());return h(m)},xn(e,"debugColumns")),getColumn:f=>i._getAllFlatColumnsById()[f]};Object.assign(i,d);for(let f=0;f<i._features.length;f++){const h=i._features[f];h==null||h.createTable==null||h.createTable(i)}return i}function atn(){return e=>wn(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,o,s){o===void 0&&(o=0);const a=[];for(let u=0;u<i.length;u++){const c=_C(e,e._getRowId(i[u],u,s),i[u],u,o,void 0,s?.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),e.options.getSubRows){var l;c.originalSubRows=e.options.getSubRows(i[u],u),(l=c.originalSubRows)!=null&&l.length&&(c.subRows=r(c.originalSubRows,o+1,c))}}return a};return n.rows=r(t),n},xn(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function ltn(){return e=>wn(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(t,n,r)=>!n.rows.length||t!==!0&&!Object.keys(t??{}).length||!r?n:jLe(n),xn(e.options,"debugTable"))}function jLe(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function utn(){return(e,t)=>wn(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return;const r=n.flatRows.flatMap(s=>{var a;return(a=s.getUniqueValues(t))!=null?a:[]}).map(Number).filter(s=>!Number.isNaN(s));if(!r.length)return;let i=r[0],o=r[r.length-1];for(const s of r)s<i?i=s:s>o&&(o=s);return[i,o]},xn(e.options,"debugTable"))}function BLe(e,t,n){return n.options.filterFromLeafRows?ctn(e,t,n):dtn(e,t,n)}function ctn(e,t,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){var d;let h=l[f];const m=_C(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);if(m.columnFilters=h.columnFilters,(d=h.subRows)!=null&&d.length&&u<s){if(m.subRows=a(h.subRows,u+1),h=m,t(h)&&!m.subRows.length){c.push(h),o[h.id]=h,i.push(h);continue}if(t(h)||m.subRows.length){c.push(h),o[h.id]=h,i.push(h);continue}}else h=m,t(h)&&(c.push(h),o[h.id]=h,i.push(h))}return c};return{rows:a(e),flatRows:i,rowsById:o}}function dtn(e,t,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){let h=l[f];if(t(h)){var d;if((d=h.subRows)!=null&&d.length&&u<s){const p=_C(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);p.subRows=a(h.subRows,u+1),h=p}c.push(h),i.push(h),o[h.id]=h}}return c};return{rows:a(e),flatRows:i,rowsById:o}}function ftn(){return(e,t)=>wn(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,i)=>{if(!n.rows.length||!(r!=null&&r.length)&&!i)return n;const o=[...r.map(a=>a.id).filter(a=>a!==t),i?"__global__":void 0].filter(Boolean),s=a=>{for(let l=0;l<o.length;l++)if(a.columnFilters[o[l]]===!1)return!1;return!0};return BLe(n.rows,s,e)},xn(e.options,"debugTable"))}function htn(){return(e,t)=>wn(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let o=0;o<n.flatRows.length;o++){const s=n.flatRows[o].getUniqueValues(t);for(let a=0;a<s.length;a++){const l=s[a];if(r.has(l)){var i;r.set(l,((i=r.get(l))!=null?i:0)+1)}else r.set(l,1)}}return r},xn(e.options,"debugTable"))}function ptn(){return e=>wn(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<t.flatRows.length;f++)t.flatRows[f].columnFilters={},t.flatRows[f].columnFiltersMeta={};return t}const i=[],o=[];(n??[]).forEach(f=>{var h;const m=e.getColumn(f.id);if(!m)return;const p=m.getFilterFn();p&&i.push({id:f.id,filterFn:p,resolvedValue:(h=p.resolveFilterValue==null?void 0:p.resolveFilterValue(f.value))!=null?h:f.value})});const s=(n??[]).map(f=>f.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&a&&l.length&&(s.push("__global__"),l.forEach(f=>{var h;o.push({id:f.id,filterFn:a,resolvedValue:(h=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?h:r})}));let u,c;for(let f=0;f<t.flatRows.length;f++){const h=t.flatRows[f];if(h.columnFilters={},i.length)for(let m=0;m<i.length;m++){u=i[m];const p=u.id;h.columnFilters[p]=u.filterFn(h,p,u.resolvedValue,g=>{h.columnFiltersMeta[p]=g})}if(o.length){for(let m=0;m<o.length;m++){c=o[m];const p=c.id;if(c.filterFn(h,p,c.resolvedValue,g=>{h.columnFiltersMeta[p]=g})){h.columnFilters.__global__=!0;break}}h.columnFilters.__global__!==!0&&(h.columnFilters.__global__=!1)}}const d=f=>{for(let h=0;h<s.length;h++)if(f.columnFilters[s[h]]===!1)return!1;return!0};return BLe(t.rows,d,e)},xn(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function mtn(){return e=>wn(()=>[e.getState().grouping,e.getPreGroupedRowModel()],(t,n)=>{if(!n.rows.length||!t.length)return n.rows.forEach(l=>{l.depth=0,l.parentId=void 0}),n;const r=t.filter(l=>e.getColumn(l)),i=[],o={},s=function(l,u,c){if(u===void 0&&(u=0),u>=r.length)return l.map(m=>(m.depth=u,i.push(m),o[m.id]=m,m.subRows&&(m.subRows=s(m.subRows,u+1,m.id)),m));const d=r[u],f=gtn(l,d);return Array.from(f.entries()).map((m,p)=>{let[g,y]=m,v=`${d}:${g}`;v=c?`${c}>${v}`:v;const w=s(y,u+1,v);w.forEach(S=>{S.parentId=v});const E=u?RLe(y,S=>S.subRows):y,C=_C(e,v,E[0].original,p,u,void 0,c);return Object.assign(C,{groupingColumnId:d,groupingValue:g,subRows:w,leafRows:E,getValue:S=>{if(r.includes(S)){if(C._valuesCache.hasOwnProperty(S))return C._valuesCache[S];if(y[0]){var T;C._valuesCache[S]=(T=y[0].getValue(S))!=null?T:void 0}return C._valuesCache[S]}if(C._groupingValuesCache.hasOwnProperty(S))return C._groupingValuesCache[S];const A=e.getColumn(S),D=A?.getAggregationFn();if(D)return C._groupingValuesCache[S]=D(S,E,y),C._groupingValuesCache[S]}}),w.forEach(S=>{i.push(S),o[S.id]=S}),C})},a=s(n.rows,0);return a.forEach(l=>{i.push(l),o[l.id]=l}),{rows:a,flatRows:i,rowsById:o}},xn(e.options,"debugTable","getGroupedRowModel",()=>{e._queue(()=>{e._autoResetExpanded(),e._autoResetPageIndex()})}))}function gtn(e,t){const n=new Map;return e.reduce((r,i)=>{const o=`${i.getGroupingValue(t)}`,s=r.get(o);return s?s.push(i):r.set(o,[i]),r},n)}function ytn(e){return t=>wn(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:o}=n;let{rows:s,flatRows:a,rowsById:l}=r;const u=i*o,c=u+i;s=s.slice(u,c);let d;t.options.paginateExpandedRows?d={rows:s,flatRows:a,rowsById:l}:d=jLe({rows:s,flatRows:a,rowsById:l}),d.flatRows=[];const f=h=>{d.flatRows.push(h),h.subRows.length&&h.subRows.forEach(f)};return d.rows.forEach(f),d},xn(t.options,"debugTable"))}function vtn(){return e=>wn(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,i=[],o=r.filter(l=>{var u;return(u=e.getColumn(l.id))==null?void 0:u.getCanSort()}),s={};o.forEach(l=>{const u=e.getColumn(l.id);u&&(s[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=l=>{const u=l.map(c=>({...c}));return u.sort((c,d)=>{for(let h=0;h<o.length;h+=1){var f;const m=o[h],p=s[m.id],g=p.sortUndefined,y=(f=m?.desc)!=null?f:!1;let v=0;if(g){const w=c.getValue(m.id),E=d.getValue(m.id),C=w===void 0,S=E===void 0;if(C||S){if(g==="first")return C?-1:1;if(g==="last")return C?1:-1;v=C&&S?0:C?g:-g}}if(v===0&&(v=p.sortingFn(c,d,m.id)),v!==0)return y&&(v*=-1),p.invertSorting&&(v*=-1),v}return c.index-d.index}),u.forEach(c=>{var d;i.push(c),(d=c.subRows)!=null&&d.length&&(c.subRows=a(c.subRows))}),u};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},xn(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function btn(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=k.useState(()=>({current:stn(t)})),[r,i]=k.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:s=>{i(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}const zLe={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"A",:"A",:"A",:"C",:"C",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"Y",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"a",:"a",:"a",:"c",:"c",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"y",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",C:"C",c:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"G",:"g",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"K",:"k",K:"K",k:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"l",:"l",:"M",:"m",M:"M",m:"m",:"N",:"n",:"N",:"n",:"N",:"n",:"n",N:"N",n:"n",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",P:"P",p:"p",:"R",:"r",:"R",:"r",:"R",:"r",R:"R",r:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"S",:"s",:"s",:"S",:"s",:"T",:"t",:"t",:"T",:"T",:"t",:"T",:"t",T:"T",t:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",V:"V",v:"v",:"W",:"w",:"W",:"w",X:"X",x:"x",:"Y",:"y",:"Y",Y:"Y",y:"y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"s",:"f",:"O",:"o",:"U",:"u",:"A",:"a",:"I",:"i",:"O",:"o",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"A",:"a",:"AE",:"ae",:"O",:"o",:"TH",:"th",:"P",:"p",:"S",:"s",X:"X",x:"x",:"",:"",:"",:"",A:"A",a:"a",E:"E",e:"e",I:"I",i:"i",:"N",:"n",:"O",:"o",:"O",:"o",:"U",:"u",:"W",:"w",:"Y",:"y",:"A",:"a",:"E",:"e",:"I",:"i",:"O",:"o",:"R",:"r",:"U",:"u",B:"B",b:"b",:"C",:"c",:"E",:"e",F:"F",f:"f",:"G",:"g",:"H",:"h",J:"J",:"j",:"K",:"k",M:"M",m:"m",P:"P",p:"p",Q:"Q",q:"q",:"R",:"r",:"S",:"s",V:"V",v:"v",W:"W",w:"w",X:"X",x:"x",Y:"Y",y:"y",A:"A",a:"a",B:"B",b:"b",:"D",:"d",:"E",:"e",:"E",:"e",:"H",:"h",I:"I",i:"i",:"I",:"i",M:"M",m:"m",O:"O",o:"o",Q:"Q",q:"q",U:"U",u:"u",X:"X",x:"x",Z:"Z",z:"z"},wtn=Object.keys(zLe).join("|"),xtn=new RegExp(wtn,"g");function _tn(e){return e.replace(xtn,t=>zLe[t])}const kl={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function Etn(e,t,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:kl.MATCHES,!n.accessors){const s=d1e(e,t,n);return{rankedValue:e,rank:s,accessorIndex:-1,accessorThreshold:n.threshold,passed:s>=n.threshold}}const i=ktn(e,n.accessors),o={rankedValue:e,rank:kl.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let s=0;s<i.length;s++){const a=i[s];let l=d1e(a.itemValue,t,n);const{minRanking:u,maxRanking:c,threshold:d=n.threshold}=a.attributes;l<u&&l>=kl.MATCHES?l=u:l>c&&(l=c),l=Math.min(l,c),l>=d&&l>o.rank&&(o.rank=l,o.passed=!0,o.accessorIndex=s,o.accessorThreshold=d,o.rankedValue=a.itemValue)}return o}function d1e(e,t,n){return e=f1e(e,n),t=f1e(t,n),t.length>e.length?kl.NO_MATCH:e===t?kl.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?kl.EQUAL:e.startsWith(t)?kl.STARTS_WITH:e.includes(` ${t}`)?kl.WORD_STARTS_WITH:e.includes(t)?kl.CONTAINS:t.length===1?kl.NO_MATCH:Ctn(e).includes(t)?kl.ACRONYM:Stn(e,t))}function Ctn(e){let t="";return e.split(" ").forEach(r=>{r.split("-").forEach(o=>{t+=o.substr(0,1)})}),t}function Stn(e,t){let n=0,r=0;function i(l,u,c){for(let d=c,f=u.length;d<f;d++)if(u[d]===l)return n+=1,d+1;return-1}function o(l){const u=1/l,c=n/t.length;return kl.MATCHES+c*u}const s=i(t[0],e,0);if(s<0)return kl.NO_MATCH;r=s;for(let l=1,u=t.length;l<u;l++){const c=t[l];if(r=i(c,e,r),!(r>-1))return kl.NO_MATCH}const a=r-s;return o(a)}function Ttn(e,t){return e.rank===t.rank?0:e.rank>t.rank?-1:1}function f1e(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=_tn(e)),e}function Atn(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const r=n(e);return r==null?[]:Array.isArray(r)?r:[String(r)]}function ktn(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const o=t[r],s=Rtn(o),a=Atn(e,o);for(let l=0,u=a.length;l<u;l++)n.push({itemValue:a[l],attributes:s})}return n}const h1e={maxRanking:1/0,minRanking:-1/0};function Rtn(e){return typeof e=="function"?h1e:{...h1e,...e}}function dx(e,t,n){let r=n.initialDeps??[],i;return()=>{var o,s,a,l;let u;n.key&&((o=n.debug)!=null&&o.call(n))&&(u=Date.now());const c=e();if(!(c.length!==r.length||c.some((h,m)=>r[m]!==h)))return i;r=c;let f;if(n.key&&((s=n.debug)!=null&&s.call(n))&&(f=Date.now()),i=t(...c),n.key&&((a=n.debug)!=null&&a.call(n))){const h=Math.round((Date.now()-u)*100)/100,m=Math.round((Date.now()-f)*100)/100,p=m/16,g=(y,v)=>{for(y=String(y);y.length<v;)y=" "+y;return y};console.info(`%c ${g(m,5)} /${g(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n?.key)}return(l=n?.onChange)==null||l.call(n,i),i}}function kU(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Itn=(e,t)=>Math.abs(e-t)<1,Dtn=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},Ptn=e=>e,ULe=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},Otn=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=s=>{const{width:a,height:l}=s;t({width:Math.round(a),height:Math.round(l)})};if(i(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(s=>{const a=s[0];if(a?.borderBoxSize){const l=a.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(n.getBoundingClientRect())});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},p1e={passive:!0},Ntn=typeof window>"u"?!0:"onscrollend"in window,Mtn=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const o=e.options.useScrollendEvent&&Ntn?()=>{}:Dtn(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),s=u=>()=>{const{horizontal:c,isRtl:d}=e.options;i=c?n.scrollLeft*(d&&-1||1):n.scrollTop,o(),t(i,u)},a=s(!0),l=s(!1);return l(),n.addEventListener("scroll",a,p1e),n.addEventListener("scrollend",l,p1e),()=>{n.removeEventListener("scroll",a),n.removeEventListener("scrollend",l)}},$tn=(e,t,n)=>{if(t?.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},Ftn=(e,{adjustments:t=0,behavior:n},r)=>{var i,o;const s=e+t;(o=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class Ltn{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(o=>{this._measureElement(o.target,o)})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var o;return(o=r())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=r())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Ptn,rangeExtractor:ULe,onChange:()=>{},measureElement:$tn,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=dx(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,o=new Map;for(let s=r-1;s>=0;s--){const a=n[s];if(i.has(a.lane))continue;const l=o.get(a.lane);if(l==null||a.end>l.end?o.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurementOptions=dx(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,o,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s}),{key:!1}),this.getMeasurements=dx(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s},a)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(c=>{this.itemSizeCache.set(c.key,c.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let c=l;c<n;c++){const d=o(c),f=this.options.lanes===1?u[c-1]:this.getFurthestMeasurement(u,c),h=f?f.end+this.options.gap:r+i,m=a.get(d),p=typeof m=="number"?m:this.options.estimateSize(c),g=h+p,y=f?f.lane:c%this.options.lanes;u[c]={index:c,start:h,size:p,end:g,key:d,lane:y}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=dx(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,i)=>this.range=n.length>0&&r>0?jtn({measurements:n,outerSize:r,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=dx(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,i,o)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:i,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),o=this.measurementsCache[i];if(!o)return;const s=o.key,a=this.elementsCache.get(s);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const o=this.itemSizeCache.get(i.key)??i.size,s=r-o;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=dx(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let o=0,s=n.length;o<s;o++){const a=n[o],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return kU(r[VLe(0,r.length-1,i=>kU(r[i]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const i=this.getSize(),o=this.getScrollOffset();r==="auto"&&n>=o+i&&(r="end"),r==="end"&&(n-=i);const s=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[s]:this.scrollElement[s]:0)-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const o=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+o-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const a=i.start-this.options.scrollPaddingStart+(i.size-o)/2;switch(r){case"center":return[this.getOffsetForAlignment(a,r),r];case"end":return[this.getOffsetForAlignment(i.end+this.options.scrollPaddingEnd,r),r];default:return[this.getOffsetForAlignment(i.start-this.options.scrollPaddingStart,r),r]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=this.getOffsetForIndex(n,r);if(!o)return;const[s,a]=o;this._scrollToOffset(s,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[u]=kU(this.getOffsetForIndex(n,a));Itn(u,this.getScrollOffset())||this.scrollToIndex(n,{align:a,behavior:i})}else this.scrollToIndex(n,{align:a,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;return r.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(o=>o.end)),Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const VLe=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else if(o>r)t=i-1;else return i}return e>0?e-1:0};function jtn({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,o=VLe(0,r,a=>e[a].start,n);let s=o;for(;s<r&&e[s].end<n+t;)s++;return{startIndex:o,endIndex:s}}const m1e=typeof document<"u"?k.useLayoutEffect:k.useEffect;function Btn(e){const t=k.useReducer(()=>({}),{})[1],n={...e,onChange:(i,o)=>{var s;o?Fh.flushSync(t):t(),(s=e.onChange)==null||s.call(e,i,o)}},[r]=k.useState(()=>new Ltn(n));return r.setOptions(n),m1e(()=>r._didMount(),[]),m1e(()=>r._willUpdate()),r}function HLe(e){return Btn({observeElementRect:Otn,observeElementOffset:Mtn,scrollToFn:Ftn,...e})}var bN={exports:{}},ztn=bN.exports,g1e;function Utn(){return g1e||(g1e=1,(function(e,t){(function(n,r){e.exports=r()})(ztn,(function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",u="day",c="week",d="month",f="quarter",h="year",m="date",p="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var j=["th","st","nd","rd"],B=O%100;return"["+O+(j[(B-20)%10]||j[B]||j[0])+"]"}},w=function(O,j,B){var H=String(O);return!H||H.length>=j?O:""+Array(j+1-H.length).join(B)+O},E={s:w,z:function(O){var j=-O.utcOffset(),B=Math.abs(j),H=Math.floor(B/60),q=B%60;return(j<=0?"+":"-")+w(H,2,"0")+":"+w(q,2,"0")},m:function O(j,B){if(j.date()<B.date())return-O(B,j);var H=12*(B.year()-j.year())+(B.month()-j.month()),q=j.clone().add(H,d),Y=B-q<0,V=j.clone().add(H+(Y?-1:1),d);return+(-(H+(B-q)/(Y?q-V:V-q))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:d,y:h,w:c,d:u,D:m,h:l,m:a,s,ms:o,Q:f}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},C="en",S={};S[C]=v;var T="$isDayjsObject",A=function(O){return O instanceof N||!(!O||!O[T])},D=function O(j,B,H){var q;if(!j)return C;if(typeof j=="string"){var Y=j.toLowerCase();S[Y]&&(q=Y),B&&(S[Y]=B,q=Y);var V=j.split("-");if(!q&&V.length>1)return O(V[0])}else{var L=j.name;S[L]=j,q=L}return!H&&q&&(C=q),q||!H&&C},I=function(O,j){if(A(O))return O.clone();var B=typeof j=="object"?j:{};return B.date=O,B.args=arguments,new N(B)},P=E;P.l=D,P.i=A,P.w=function(O,j){return I(O,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var N=(function(){function O(B){this.$L=D(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[T]=!0}var j=O.prototype;return j.parse=function(B){this.$d=(function(H){var q=H.date,Y=H.utc;if(q===null)return new Date(NaN);if(P.u(q))return new Date;if(q instanceof Date)return new Date(q);if(typeof q=="string"&&!/Z$/i.test(q)){var V=q.match(g);if(V){var L=V[2]-1||0,U=(V[7]||"0").substring(0,3);return Y?new Date(Date.UTC(V[1],L,V[3]||1,V[4]||0,V[5]||0,V[6]||0,U)):new Date(V[1],L,V[3]||1,V[4]||0,V[5]||0,V[6]||0,U)}}return new Date(q)})(B),this.init()},j.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},j.$utils=function(){return P},j.isValid=function(){return this.$d.toString()!==p},j.isSame=function(B,H){var q=I(B);return this.startOf(H)<=q&&q<=this.endOf(H)},j.isAfter=function(B,H){return I(B)<this.startOf(H)},j.isBefore=function(B,H){return this.endOf(H)<I(B)},j.$g=function(B,H,q){return P.u(B)?this[H]:this.set(q,B)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(B,H){var q=this,Y=!!P.u(H)||H,V=P.p(B),L=function(ae,he){var ie=P.w(q.$u?Date.UTC(q.$y,he,ae):new Date(q.$y,he,ae),q);return Y?ie:ie.endOf(u)},U=function(ae,he){return P.w(q.toDate()[ae].apply(q.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(he)),q)},z=this.$W,G=this.$M,Q=this.$D,te="set"+(this.$u?"UTC":"");switch(V){case h:return Y?L(1,0):L(31,11);case d:return Y?L(1,G):L(0,G+1);case c:var de=this.$locale().weekStart||0,se=(z<de?z+7:z)-de;return L(Y?Q-se:Q+(6-se),G);case u:case m:return U(te+"Hours",0);case l:return U(te+"Minutes",1);case a:return U(te+"Seconds",2);case s:return U(te+"Milliseconds",3);default:return this.clone()}},j.endOf=function(B){return this.startOf(B,!1)},j.$set=function(B,H){var q,Y=P.p(B),V="set"+(this.$u?"UTC":""),L=(q={},q[u]=V+"Date",q[m]=V+"Date",q[d]=V+"Month",q[h]=V+"FullYear",q[l]=V+"Hours",q[a]=V+"Minutes",q[s]=V+"Seconds",q[o]=V+"Milliseconds",q)[Y],U=Y===u?this.$D+(H-this.$W):H;if(Y===d||Y===h){var z=this.clone().set(m,1);z.$d[L](U),z.init(),this.$d=z.set(m,Math.min(this.$D,z.daysInMonth())).$d}else L&&this.$d[L](U);return this.init(),this},j.set=function(B,H){return this.clone().$set(B,H)},j.get=function(B){return this[P.p(B)]()},j.add=function(B,H){var q,Y=this;B=Number(B);var V=P.p(H),L=function(G){var Q=I(Y);return P.w(Q.date(Q.date()+Math.round(G*B)),Y)};if(V===d)return this.set(d,this.$M+B);if(V===h)return this.set(h,this.$y+B);if(V===u)return L(1);if(V===c)return L(7);var U=(q={},q[a]=r,q[l]=i,q[s]=n,q)[V]||1,z=this.$d.getTime()+B*U;return P.w(z,this)},j.subtract=function(B,H){return this.add(-1*B,H)},j.format=function(B){var H=this,q=this.$locale();if(!this.isValid())return q.invalidDate||p;var Y=B||"YYYY-MM-DDTHH:mm:ssZ",V=P.z(this),L=this.$H,U=this.$m,z=this.$M,G=q.weekdays,Q=q.months,te=q.meridiem,de=function(he,ie,le,Ce){return he&&(he[ie]||he(H,Y))||le[ie].slice(0,Ce)},se=function(he){return P.s(L%12||12,he,"0")},ae=te||function(he,ie,le){var Ce=he<12?"AM":"PM";return le?Ce.toLowerCase():Ce};return Y.replace(y,(function(he,ie){return ie||(function(le){switch(le){case"YY":return String(H.$y).slice(-2);case"YYYY":return P.s(H.$y,4,"0");case"M":return z+1;case"MM":return P.s(z+1,2,"0");case"MMM":return de(q.monthsShort,z,Q,3);case"MMMM":return de(Q,z);case"D":return H.$D;case"DD":return P.s(H.$D,2,"0");case"d":return String(H.$W);case"dd":return de(q.weekdaysMin,H.$W,G,2);case"ddd":return de(q.weekdaysShort,H.$W,G,3);case"dddd":return G[H.$W];case"H":return String(L);case"HH":return P.s(L,2,"0");case"h":return se(1);case"hh":return se(2);case"a":return ae(L,U,!0);case"A":return ae(L,U,!1);case"m":return String(U);case"mm":return P.s(U,2,"0");case"s":return String(H.$s);case"ss":return P.s(H.$s,2,"0");case"SSS":return P.s(H.$ms,3,"0");case"Z":return V}return null})(he)||V.replace(":","")}))},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(B,H,q){var Y,V=this,L=P.p(H),U=I(B),z=(U.utcOffset()-this.utcOffset())*r,G=this-U,Q=function(){return P.m(V,U)};switch(L){case h:Y=Q()/12;break;case d:Y=Q();break;case f:Y=Q()/3;break;case c:Y=(G-z)/6048e5;break;case u:Y=(G-z)/864e5;break;case l:Y=G/i;break;case a:Y=G/r;break;case s:Y=G/n;break;default:Y=G}return q?Y:P.a(Y)},j.daysInMonth=function(){return this.endOf(d).$D},j.$locale=function(){return S[this.$L]},j.locale=function(B,H){if(!B)return this.$L;var q=this.clone(),Y=D(B,H,!0);return Y&&(q.$L=Y),q},j.clone=function(){return P.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},O})(),$=N.prototype;return I.prototype=$,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",u],["$M",d],["$y",h],["$D",m]].forEach((function(O){$[O[1]]=function(j){return this.$g(j,O[0],O[1])}})),I.extend=function(O,j){return O.$i||(O(j,N,I),O.$i=!0),I},I.locale=D,I.isDayjs=A,I.unix=function(O){return I(1e3*O)},I.en=S[C],I.Ls=S,I.p={},I}))})(bN)),bN.exports}var Vtn=Utn();const on=ms(Vtn);function Htn({direction:e,levelIndex:t,rowIndex:n,cellIndex:r,size:i}){switch(e){case"up":return t===0&&n===0?null:n===0?{levelIndex:t-1,rowIndex:r<=i[t-1][i[t-1].length-1]-1?i[t-1].length-1:i[t-1].length-2,cellIndex:r}:{levelIndex:t,rowIndex:n-1,cellIndex:r};case"down":return n===i[t].length-1?{levelIndex:t+1,rowIndex:0,cellIndex:r}:n===i[t].length-2&&r>=i[t][i[t].length-1]?{levelIndex:t+1,rowIndex:0,cellIndex:r}:{levelIndex:t,rowIndex:n+1,cellIndex:r};case"left":return t===0&&n===0&&r===0?null:n===0&&r===0?{levelIndex:t-1,rowIndex:i[t-1].length-1,cellIndex:i[t-1][i[t-1].length-1]-1}:r===0?{levelIndex:t,rowIndex:n-1,cellIndex:i[t][n-1]-1}:{levelIndex:t,rowIndex:n,cellIndex:r-1};case"right":return n===i[t].length-1&&r===i[t][n]-1?{levelIndex:t+1,rowIndex:0,cellIndex:0}:r===i[t][n]-1?{levelIndex:t,rowIndex:n+1,cellIndex:0}:{levelIndex:t,rowIndex:n,cellIndex:r+1};default:return{levelIndex:t,rowIndex:n,cellIndex:r}}}function qLe({controlsRef:e,direction:t,levelIndex:n,rowIndex:r,cellIndex:i,size:o}){const s=Htn({direction:t,size:o,rowIndex:r,cellIndex:i,levelIndex:n});if(!s)return;const a=e.current?.[s.levelIndex]?.[s.rowIndex]?.[s.cellIndex];a&&(a.disabled||a.getAttribute("data-hidden")||a.getAttribute("data-outside")?qLe({controlsRef:e,direction:t,levelIndex:s.levelIndex,cellIndex:s.cellIndex,rowIndex:s.rowIndex,size:o}):a.focus())}function qtn(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function Wtn(e){return e.current?.map(t=>t.map(n=>n.length))}function aie({controlsRef:e,levelIndex:t,rowIndex:n,cellIndex:r,event:i}){const o=qtn(i.key);if(o){i.preventDefault();const s=Wtn(e);qLe({controlsRef:e,direction:o,levelIndex:t,rowIndex:n,cellIndex:r,size:s})}}function Gtn(e,t){if(!e||!t)return t;const n=e.getHours(),r=e.getMinutes(),i=e.getSeconds(),o=e.getMilliseconds(),s=new Date(t);return s.setHours(n),s.setMinutes(r),s.setSeconds(i),s.setMilliseconds(o),s}var wN={exports:{}},Ytn=wN.exports,y1e;function Ktn(){return y1e||(y1e=1,(function(e,t){(function(n,r){e.exports=r()})(Ytn,(function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,o,s){var a,l=function(f,h,m){m===void 0&&(m={});var p=new Date(f),g=(function(y,v){v===void 0&&(v={});var w=v.timeZoneName||"short",E=y+"|"+w,C=r[E];return C||(C=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:y,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:w}),r[E]=C),C})(h,m);return g.formatToParts(p)},u=function(f,h){for(var m=l(f,h),p=[],g=0;g<m.length;g+=1){var y=m[g],v=y.type,w=y.value,E=n[v];E>=0&&(p[E]=parseInt(w,10))}var C=p[3],S=C===24?0:C,T=p[0]+"-"+p[1]+"-"+p[2]+" "+S+":"+p[4]+":"+p[5]+":000",A=+f;return(s.utc(T).valueOf()-(A-=A%1e3))/6e4},c=o.prototype;c.tz=function(f,h){f===void 0&&(f=a);var m,p=this.utcOffset(),g=this.toDate(),y=g.toLocaleString("en-US",{timeZone:f}),v=Math.round((g-new Date(y))/1e3/60),w=15*-Math.round(g.getTimezoneOffset()/15)-v;if(!Number(w))m=this.utcOffset(0,h);else if(m=s(y,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(w,!0),h){var E=m.utcOffset();m=m.add(p-E,"minute")}return m.$x.$timezone=f,m},c.offsetName=function(f){var h=this.$x.$timezone||s.tz.guess(),m=l(this.valueOf(),h,{timeZoneName:f}).find((function(p){return p.type.toLowerCase()==="timezonename"}));return m&&m.value};var d=c.startOf;c.startOf=function(f,h){if(!this.$x||!this.$x.$timezone)return d.call(this,f,h);var m=s(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return d.call(m,f,h).tz(this.$x.$timezone,!0)},s.tz=function(f,h,m){var p=m&&h,g=m||h||a,y=u(+s(),g);if(typeof f!="string")return s(f).tz(g);var v=(function(S,T,A){var D=S-60*T*1e3,I=u(D,A);if(T===I)return[D,T];var P=u(D-=60*(I-T)*1e3,A);return I===P?[D,I]:[S-60*Math.min(I,P)*1e3,Math.max(I,P)]})(s.utc(f,p).valueOf(),y,g),w=v[0],E=v[1],C=s(w).utcOffset(E);return C.$x.$timezone=g,C},s.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},s.tz.setDefault=function(f){a=f}}}))})(wN)),wN.exports}var Xtn=Ktn();const Qtn=ms(Xtn);var xN={exports:{}},Jtn=xN.exports,v1e;function Ztn(){return v1e||(v1e=1,(function(e,t){(function(n,r){e.exports=r()})(Jtn,(function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,s,a){var l=s.prototype;a.utc=function(p){var g={date:p,utc:!0,args:arguments};return new s(g)},l.utc=function(p){var g=a(this.toDate(),{locale:this.$L,utc:!0});return p?g.add(this.utcOffset(),n):g},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),u.call(this,p)};var c=l.init;l.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else c.call(this)};var d=l.utcOffset;l.utcOffset=function(p,g){var y=this.$utils().u;if(y(p))return this.$u?0:y(this.$offset)?d.call(this):this.$offset;if(typeof p=="string"&&(p=(function(C){C===void 0&&(C="");var S=C.match(r);if(!S)return null;var T=(""+S[0]).match(i)||["-",0,0],A=T[0],D=60*+T[1]+ +T[2];return D===0?0:A==="+"?D:-D})(p),p===null))return this;var v=Math.abs(p)<=16?60*p:p;if(v===0)return this.utc(g);var w=this.clone();if(g)return w.$offset=v,w.$u=!1,w;var E=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(w=this.local().add(v+E,n)).$offset=v,w.$x.$localOffset=E,w};var f=l.format;l.format=function(p){var g=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,g)},l.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(p){return p==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var m=l.diff;l.diff=function(p,g,y){if(p&&this.$u===p.$u)return m.call(this,p,g,y);var v=this.local(),w=a(p).local();return m.call(v,w,g,y)}}}))})(xN)),xN.exports}var enn=Ztn();const tnn=ms(enn);on.extend(tnn);on.extend(Qtn);function nnn(e,t){return t?on(e).tz(t).utcOffset()+e.getTimezoneOffset():0}const b1e=(e,t,n)=>{if(!e)return null;if(!t)return e;let r=nnn(e,t);return n==="remove"&&(r*=-1),on(e).add(r,"minutes").toDate()};function Lb(e,t,n,r){return r||!t?t:Array.isArray(t)?t.map(i=>b1e(i,n,e)):b1e(t,n,e)}const rnn={locale:"en",timezone:null,firstDayOfWeek:1,weekendDays:[0,6],labelSeparator:"",consistentWeeks:!1},inn=k.createContext(rnn);function $d(){const e=k.useContext(inn),t=k.useCallback(s=>s||e.locale,[e.locale]),n=k.useCallback(s=>s||e.timezone||void 0,[e.timezone]),r=k.useCallback(s=>typeof s=="number"?s:e.firstDayOfWeek,[e.firstDayOfWeek]),i=k.useCallback(s=>Array.isArray(s)?s:e.weekendDays,[e.weekendDays]),o=k.useCallback(s=>typeof s=="string"?s:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:t,getTimezone:n,getFirstDayOfWeek:r,getWeekendDays:i,getLabelSeparator:o}}function onn(e,t){const n=$d(),r=i=>Lb("remove",i,n.getTimezone()).toISOString();if(t==="range"&&Array.isArray(e)){const[i,o]=e;return i?o?`${r(i)}  ${r(o)}`:`${r(i)} `:""}return t==="multiple"&&Array.isArray(e)?e.map(i=>i&&r(i)).filter(Boolean).join(", "):!Array.isArray(e)&&e?r(e):""}function WLe({value:e,type:t,name:n,form:r}){return x.jsx("input",{type:"hidden",value:onn(e,t),name:n,form:r})}WLe.displayName="@mantine/dates/HiddenDatesInput";var GLe={day:"m_396ce5cb"};const snn={},ann=(e,{size:t})=>({day:{"--day-size":mn(t,"day-size")}}),lie=et((e,t)=>{const n=He("Day",snn,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,date:u,disabled:c,__staticSelector:d,weekend:f,outside:h,selected:m,renderDay:p,inRange:g,firstInRange:y,lastInRange:v,hidden:w,static:E,highlightToday:C,...S}=n,T=Dt({name:d||"Day",classes:GLe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:ann,rootSelector:"day"}),A=$d();return x.jsx(fs,{...T("day",{style:w?{display:"none"}:void 0}),component:E?"div":"button",ref:t,disabled:c,"data-today":on(u).isSame(Lb("add",new Date,A.getTimezone()),"day")||void 0,"data-hidden":w||void 0,"data-highlight-today":C||void 0,"data-disabled":c||void 0,"data-weekend":!c&&!h&&f||void 0,"data-outside":!c&&h||void 0,"data-selected":!c&&m||void 0,"data-in-range":g&&!c||void 0,"data-first-in-range":y&&!c||void 0,"data-last-in-range":v&&!c||void 0,"data-static":E||void 0,unstyled:a,...S,children:p?.(u)||on(u).date()})});lie.classes=GLe;lie.displayName="@mantine/dates/Day";function lnn({locale:e,format:t="dd",firstDayOfWeek:n=1}){const r=on().day(n),i=[];for(let o=0;o<7;o+=1)typeof t=="string"?i.push(on(r).add(o,"days").locale(e).format(t)):i.push(t(on(r).add(o,"days").toDate()));return i}var YLe={weekday:"m_18a3eca"};const unn={},cnn=(e,{size:t})=>({weekdaysRow:{"--wr-fz":vo(t),"--wr-spacing":Bi(t)}}),uie=et((e,t)=>{const n=He("WeekdaysRow",unn,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,locale:u,firstDayOfWeek:c,weekdayFormat:d,cellComponent:f="th",__staticSelector:h,withWeekNumbers:m,...p}=n,g=Dt({name:h||"WeekdaysRow",classes:YLe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:cnn,rootSelector:"weekdaysRow"}),y=$d(),v=lnn({locale:y.getLocale(u),format:d,firstDayOfWeek:y.getFirstDayOfWeek(c)}).map((w,E)=>x.jsx(f,{...g("weekday"),children:w},E));return x.jsxs(Ie,{component:"tr",ref:t,...g("weekdaysRow"),...p,children:[m&&x.jsx(f,{...g("weekday"),children:"#"}),v]})});uie.classes=YLe;uie.displayName="@mantine/dates/WeekdaysRow";function dnn(e,t=1){let n=on(e);const r=t===0?6:t-1;for(;n.day()!==r;)n=n.add(1,"day");return n.toDate()}function fnn(e,t=1){let n=on(e);for(;n.day()!==t;)n=n.subtract(1,"day");return n.toDate()}function hnn({month:e,firstDayOfWeek:t=1,consistentWeeks:n}){const r=on(e).subtract(on(e).date()-1,"day"),i=on(r).startOf("day"),o=i.toDate(),s=i.add(+i.daysInMonth()-1,"day").toDate(),a=dnn(s,t),l=fnn(o,t),u=[];for(;l<=a;){const c=[];for(let d=0;d<7;d+=1)c.push(new Date(l)),l.setDate(l.getDate()+1);u.push(c)}if(n&&u.length<6){const c=u[u.length-1],d=c[c.length-1],f=new Date(d);for(f.setDate(f.getDate()+1);u.length<6;){const h=[];for(let m=0;m<7;m+=1)h.push(new Date(f)),f.setDate(f.getDate()+1);u.push(h)}}return u}function KLe(e,t){return on(e).format("YYYY-MM")===on(t).format("YYYY-MM")}function XLe(e,t){return t instanceof Date?on(e).isAfter(on(t).subtract(1,"day"),"day"):!0}function QLe(e,t){return t instanceof Date?on(e).isBefore(on(t).add(1,"day"),"day"):!0}function pnn(e,t,n,r,i,o,s){const a=e.flat().filter(c=>QLe(c,n)&&XLe(c,t)&&!i?.(c)&&!r?.(c)?.disabled&&(!o||KLe(c,s))),l=a.find(c=>r?.(c)?.selected);if(l)return l;const u=a.find(c=>on().isSame(c,"date"));return u||a[0]}var _N={exports:{}},mnn=_N.exports,w1e;function gnn(){return w1e||(w1e=1,(function(e,t){(function(n,r){e.exports=r()})(mnn,(function(){var n="day";return function(r,i,o){var s=function(u){return u.add(4-u.isoWeekday(),n)},a=i.prototype;a.isoWeekYear=function(){return s(this).year()},a.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),n);var c,d,f,h,m=s(this),p=(c=this.isoWeekYear(),d=this.$u,f=(d?o.utc:o)().year(c).startOf("year"),h=4-f.isoWeekday(),f.isoWeekday()>4&&(h+=7),f.add(h,n));return m.diff(p,"week")+1},a.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var l=a.startOf;a.startOf=function(u,c){var d=this.$utils(),f=!!d.u(c)||c;return d.p(u)==="isoweek"?f?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(u,c)}}}))})(_N)),_N.exports}var ynn=gnn();const vnn=ms(ynn);on.extend(vnn);function bnn(e){const t=e.find(n=>on(n).day()===1);return on(t).isoWeek()}var JLe={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const wnn={withCellSpacing:!0},xnn=(e,{size:t})=>({weekNumber:{"--wn-fz":vo(t),"--wn-size":mn(t,"wn-size")}}),WL=et((e,t)=>{const n=He("Month",wnn,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,__staticSelector:u,locale:c,firstDayOfWeek:d,weekdayFormat:f,month:h,weekendDays:m,getDayProps:p,excludeDate:g,minDate:y,maxDate:v,renderDay:w,hideOutsideDates:E,hideWeekdays:C,getDayAriaLabel:S,static:T,__getDayRef:A,__onDayKeyDown:D,__onDayClick:I,__onDayMouseEnter:P,__preventFocus:N,__stopPropagation:$,withCellSpacing:O,size:j,highlightToday:B,withWeekNumbers:H,...q}=n,Y=Dt({name:u||"Month",classes:JLe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:xnn,rootSelector:"month"}),V=$d(),L=hnn({month:h,firstDayOfWeek:V.getFirstDayOfWeek(d),consistentWeeks:V.consistentWeeks}),U=pnn(L,y,v,p,g,E,h),{resolvedClassNames:z,resolvedStyles:G}=zf({classNames:r,styles:s,props:n}),Q=L.map((te,de)=>{const se=te.map((ae,he)=>{const ie=!KLe(ae,h),le=S?.(ae)||on(ae).locale(c||V.locale).format("D MMMM YYYY"),Ce=p?.(ae),X=on(ae).isSame(U,"date");return x.jsx("td",{...Y("monthCell"),"data-with-spacing":O||void 0,children:x.jsx(lie,{__staticSelector:u||"Month",classNames:z,styles:G,unstyled:a,"data-mantine-stop-propagation":$||void 0,highlightToday:B,renderDay:w,date:ae,size:j,weekend:V.getWeekendDays(m).includes(ae.getDay()),outside:ie,hidden:E?ie:!1,"aria-label":le,static:T,disabled:g?.(ae)||!QLe(ae,v)||!XLe(ae,y),ref:fe=>A?.(de,he,fe),...Ce,onKeyDown:fe=>{Ce?.onKeyDown?.(fe),D?.(fe,{rowIndex:de,cellIndex:he,date:ae})},onMouseEnter:fe=>{Ce?.onMouseEnter?.(fe),P?.(fe,ae)},onClick:fe=>{Ce?.onClick?.(fe),I?.(fe,ae)},onMouseDown:fe=>{Ce?.onMouseDown?.(fe),N&&fe.preventDefault()},tabIndex:N||!X?-1:0})},ae.toString())});return x.jsxs("tr",{...Y("monthRow"),children:[H&&x.jsx("td",{...Y("weekNumber"),children:bnn(te)}),se]},de)});return x.jsxs(Ie,{component:"table",...Y("month"),size:j,ref:t,...q,children:[!C&&x.jsx("thead",{...Y("monthThead"),children:x.jsx(uie,{__staticSelector:u||"Month",locale:c,firstDayOfWeek:d,weekdayFormat:f,size:j,classNames:z,styles:G,unstyled:a,withWeekNumbers:H})}),x.jsx("tbody",{...Y("monthTbody"),children:Q})]})});WL.classes=JLe;WL.displayName="@mantine/dates/Month";var ZLe={pickerControl:"m_dc6a3c71"};const _nn={},Enn=(e,{size:t})=>({pickerControl:{"--dpc-fz":vo(t),"--dpc-size":mn(t,"dpc-size")}}),GL=et((e,t)=>{const n=He("PickerControl",_nn,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,firstInRange:u,lastInRange:c,inRange:d,__staticSelector:f,selected:h,disabled:m,...p}=n,g=Dt({name:f||"PickerControl",classes:ZLe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Enn,rootSelector:"pickerControl"});return x.jsx(fs,{...g("pickerControl"),ref:t,unstyled:a,"data-picker-control":!0,"data-selected":h&&!m||void 0,"data-disabled":m||void 0,"data-in-range":d&&!m&&!h||void 0,"data-first-in-range":u&&!m||void 0,"data-last-in-range":c&&!m||void 0,disabled:m,...p})});GL.classes=ZLe;GL.displayName="@mantine/dates/PickerControl";function e8e(e,t,n){return!t&&!n?!1:!!(t&&on(e).isBefore(t,"year")||n&&on(e).isAfter(n,"year"))}function Cnn(e,t,n,r){const i=e.flat().filter(a=>!e8e(a,t,n)&&!r?.(a)?.disabled),o=i.find(a=>r?.(a)?.selected);if(o)return o;const s=i.find(a=>on().isSame(a,"year"));return s||i[0]}function t8e(e){const t=e.getFullYear(),n=t-t%10;let r=0;const i=[[],[],[],[]];for(let o=0;o<4;o+=1){const s=o===3?1:3;for(let a=0;a<s;a+=1)i[o].push(new Date(n+r,0)),r+=1}return i}var n8e={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const Snn={yearsListFormat:"YYYY",withCellSpacing:!0},YL=et((e,t)=>{const n=He("YearsList",Snn,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,decade:u,yearsListFormat:c,locale:d,minDate:f,maxDate:h,getYearControlProps:m,__staticSelector:p,__getControlRef:g,__onControlKeyDown:y,__onControlClick:v,__onControlMouseEnter:w,__preventFocus:E,__stopPropagation:C,withCellSpacing:S,size:T,...A}=n,D=Dt({name:p||"YearsList",classes:n8e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,rootSelector:"yearsList"}),I=$d(),P=t8e(u),N=Cnn(P,f,h,m),$=P.map((O,j)=>{const B=O.map((H,q)=>{const Y=m?.(H),V=on(H).isSame(N,"year");return x.jsx("td",{...D("yearsListCell"),"data-with-spacing":S||void 0,children:x.jsx(GL,{...D("yearsListControl"),size:T,unstyled:a,"data-mantine-stop-propagation":C||void 0,disabled:e8e(H,f,h),ref:L=>g?.(j,q,L),...Y,onKeyDown:L=>{Y?.onKeyDown?.(L),y?.(L,{rowIndex:j,cellIndex:q,date:H})},onClick:L=>{Y?.onClick?.(L),v?.(L,H)},onMouseEnter:L=>{Y?.onMouseEnter?.(L),w?.(L,H)},onMouseDown:L=>{Y?.onMouseDown?.(L),E&&L.preventDefault()},tabIndex:E||!V?-1:0,children:on(H).locale(I.getLocale(d)).format(c)})},q)});return x.jsx("tr",{...D("yearsListRow"),children:B},j)});return x.jsx(Ie,{component:"table",ref:t,size:T,...D("yearsList"),...A,children:x.jsx("tbody",{children:$})})});YL.classes=n8e;YL.displayName="@mantine/dates/YearsList";function r8e(e,t,n){return!t&&!n?!1:!!(t&&on(e).isBefore(t,"month")||n&&on(e).isAfter(n,"month"))}function Tnn(e,t,n,r){const i=e.flat().filter(a=>!r8e(a,t,n)&&!r?.(a)?.disabled),o=i.find(a=>r?.(a)?.selected);if(o)return o;const s=i.find(a=>on().isSame(a,"month"));return s||i[0]}function Ann(e){const t=on(e).startOf("year").toDate(),n=[[],[],[],[]];let r=0;for(let i=0;i<4;i+=1)for(let o=0;o<3;o+=1)n[i].push(on(t).add(r,"months").toDate()),r+=1;return n}var i8e={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const knn={monthsListFormat:"MMM",withCellSpacing:!0},KL=et((e,t)=>{const n=He("MonthsList",knn,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,__staticSelector:u,year:c,monthsListFormat:d,locale:f,minDate:h,maxDate:m,getMonthControlProps:p,__getControlRef:g,__onControlKeyDown:y,__onControlClick:v,__onControlMouseEnter:w,__preventFocus:E,__stopPropagation:C,withCellSpacing:S,size:T,...A}=n,D=Dt({name:u||"MonthsList",classes:i8e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,rootSelector:"monthsList"}),I=$d(),P=Ann(c),N=Tnn(P,h,m,p),$=P.map((O,j)=>{const B=O.map((H,q)=>{const Y=p?.(H),V=on(H).isSame(N,"month");return x.jsx("td",{...D("monthsListCell"),"data-with-spacing":S||void 0,children:x.jsx(GL,{...D("monthsListControl"),size:T,unstyled:a,__staticSelector:u||"MonthsList","data-mantine-stop-propagation":C||void 0,disabled:r8e(H,h,m),ref:L=>g?.(j,q,L),...Y,onKeyDown:L=>{Y?.onKeyDown?.(L),y?.(L,{rowIndex:j,cellIndex:q,date:H})},onClick:L=>{Y?.onClick?.(L),v?.(L,H)},onMouseEnter:L=>{Y?.onMouseEnter?.(L),w?.(L,H)},onMouseDown:L=>{Y?.onMouseDown?.(L),E&&L.preventDefault()},tabIndex:E||!V?-1:0,children:on(H).locale(I.getLocale(f)).format(d)})},q)});return x.jsx("tr",{...D("monthsListRow"),children:B},j)});return x.jsx(Ie,{component:"table",ref:t,size:T,...D("monthsList"),...A,children:x.jsx("tbody",{children:$})})});KL.classes=i8e;KL.displayName="@mantine/dates/MonthsList";var o8e={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const Rnn={nextDisabled:!1,previousDisabled:!1,hasNextLevel:!0,withNext:!0,withPrevious:!0},Inn=(e,{size:t})=>({calendarHeader:{"--dch-control-size":mn(t,"dch-control-size"),"--dch-fz":vo(t)}}),uv=et((e,t)=>{const n=He("CalendarHeader",Rnn,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,nextIcon:u,previousIcon:c,nextLabel:d,previousLabel:f,onNext:h,onPrevious:m,onLevelClick:p,label:g,nextDisabled:y,previousDisabled:v,hasNextLevel:w,levelControlAriaLabel:E,withNext:C,withPrevious:S,__staticSelector:T,__preventFocus:A,__stopPropagation:D,...I}=n,P=Dt({name:T||"CalendarHeader",classes:o8e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Inn,rootSelector:"calendarHeader"}),N=A?$=>$.preventDefault():void 0;return x.jsxs(Ie,{...P("calendarHeader"),ref:t,...I,children:[S&&x.jsx(fs,{...P("calendarHeaderControl"),"data-direction":"previous","aria-label":f,onClick:m,unstyled:a,onMouseDown:N,disabled:v,"data-disabled":v||void 0,tabIndex:A||v?-1:0,"data-mantine-stop-propagation":D||void 0,children:c||x.jsx(x_,{...P("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})}),x.jsx(fs,{component:w?"button":"div",...P("calendarHeaderLevel"),onClick:w?p:void 0,unstyled:a,onMouseDown:w?N:void 0,disabled:!w,"data-static":!w||void 0,"aria-label":E,tabIndex:A||!w?-1:0,"data-mantine-stop-propagation":D||void 0,children:g}),C&&x.jsx(fs,{...P("calendarHeaderControl"),"data-direction":"next","aria-label":d,onClick:h,unstyled:a,onMouseDown:N,disabled:y,"data-disabled":y||void 0,tabIndex:A||y?-1:0,"data-mantine-stop-propagation":D||void 0,children:u||x.jsx(x_,{...P("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})})]})});uv.classes=o8e;uv.displayName="@mantine/dates/CalendarHeader";function Dnn(e){const t=t8e(e);return[t[0][0],t[3][0]]}const Pnn={decadeLabelFormat:"YYYY"},XL=et((e,t)=>{const n=He("DecadeLevel",Pnn,e),{decade:r,locale:i,minDate:o,maxDate:s,yearsListFormat:a,getYearControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:m,nextIcon:p,previousIcon:g,nextLabel:y,previousLabel:v,onNext:w,onPrevious:E,nextDisabled:C,previousDisabled:S,levelControlAriaLabel:T,withNext:A,withPrevious:D,decadeLabelFormat:I,classNames:P,styles:N,unstyled:$,__staticSelector:O,__stopPropagation:j,size:B,...H}=n,q=$d(),[Y,V]=Dnn(r),L={__staticSelector:O||"DecadeLevel",classNames:P,styles:N,unstyled:$,size:B},U=typeof C=="boolean"?C:s?!on(V).endOf("year").isBefore(s):!1,z=typeof S=="boolean"?S:o?!on(Y).startOf("year").isAfter(o):!1,G=(Q,te)=>on(Q).locale(i||q.locale).format(te);return x.jsxs(Ie,{"data-decade-level":!0,size:B,ref:t,...H,children:[x.jsx(uv,{label:typeof I=="function"?I(Y,V):`${G(Y,I)}  ${G(V,I)}`,__preventFocus:m,__stopPropagation:j,nextIcon:p,previousIcon:g,nextLabel:y,previousLabel:v,onNext:w,onPrevious:E,nextDisabled:U,previousDisabled:z,hasNextLevel:!1,levelControlAriaLabel:T,withNext:A,withPrevious:D,...L}),x.jsx(YL,{decade:r,locale:i,minDate:o,maxDate:s,yearsListFormat:a,getYearControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,__preventFocus:m,__stopPropagation:j,withCellSpacing:h,...L})]})});XL.classes={...YL.classes,...uv.classes};XL.displayName="@mantine/dates/DecadeLevel";const Onn={yearLabelFormat:"YYYY"},QL=et((e,t)=>{const n=He("YearLevel",Onn,e),{year:r,locale:i,minDate:o,maxDate:s,monthsListFormat:a,getMonthControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:m,nextIcon:p,previousIcon:g,nextLabel:y,previousLabel:v,onNext:w,onPrevious:E,onLevelClick:C,nextDisabled:S,previousDisabled:T,hasNextLevel:A,levelControlAriaLabel:D,withNext:I,withPrevious:P,yearLabelFormat:N,__staticSelector:$,__stopPropagation:O,size:j,classNames:B,styles:H,unstyled:q,...Y}=n,V=$d(),L={__staticSelector:$||"YearLevel",classNames:B,styles:H,unstyled:q,size:j},U=typeof S=="boolean"?S:s?!on(r).endOf("year").isBefore(s):!1,z=typeof T=="boolean"?T:o?!on(r).startOf("year").isAfter(o):!1;return x.jsxs(Ie,{"data-year-level":!0,size:j,ref:t,...Y,children:[x.jsx(uv,{label:typeof N=="function"?N(r):on(r).locale(i||V.locale).format(N),__preventFocus:m,__stopPropagation:O,nextIcon:p,previousIcon:g,nextLabel:y,previousLabel:v,onNext:w,onPrevious:E,onLevelClick:C,nextDisabled:U,previousDisabled:z,hasNextLevel:A,levelControlAriaLabel:D,withNext:I,withPrevious:P,...L}),x.jsx(KL,{year:r,locale:i,minDate:o,maxDate:s,monthsListFormat:a,getMonthControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,__preventFocus:m,__stopPropagation:O,withCellSpacing:h,...L})]})});QL.classes={...uv.classes,...KL.classes};QL.displayName="@mantine/dates/YearLevel";const Nnn={monthLabelFormat:"MMMM YYYY"},JL=et((e,t)=>{const n=He("MonthLevel",Nnn,e),{month:r,locale:i,firstDayOfWeek:o,weekdayFormat:s,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:m,getDayAriaLabel:p,__getDayRef:g,__onDayKeyDown:y,__onDayClick:v,__onDayMouseEnter:w,withCellSpacing:E,highlightToday:C,withWeekNumbers:S,__preventFocus:T,__stopPropagation:A,nextIcon:D,previousIcon:I,nextLabel:P,previousLabel:N,onNext:$,onPrevious:O,onLevelClick:j,nextDisabled:B,previousDisabled:H,hasNextLevel:q,levelControlAriaLabel:Y,withNext:V,withPrevious:L,monthLabelFormat:U,classNames:z,styles:G,unstyled:Q,__staticSelector:te,size:de,static:se,...ae}=n,he=$d(),ie={__staticSelector:te||"MonthLevel",classNames:z,styles:G,unstyled:Q,size:de},le=typeof B=="boolean"?B:d?!on(r).endOf("month").isBefore(d):!1,Ce=typeof H=="boolean"?H:c?!on(r).startOf("month").isAfter(c):!1;return x.jsxs(Ie,{"data-month-level":!0,size:de,ref:t,...ae,children:[x.jsx(uv,{label:typeof U=="function"?U(r):on(r).locale(i||he.locale).format(U),__preventFocus:T,__stopPropagation:A,nextIcon:D,previousIcon:I,nextLabel:P,previousLabel:N,onNext:$,onPrevious:O,onLevelClick:j,nextDisabled:le,previousDisabled:Ce,hasNextLevel:q,levelControlAriaLabel:Y,withNext:V,withPrevious:L,...ie}),x.jsx(WL,{month:r,locale:i,firstDayOfWeek:o,weekdayFormat:s,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:m,getDayAriaLabel:p,__getDayRef:g,__onDayKeyDown:y,__onDayClick:v,__onDayMouseEnter:w,__preventFocus:T,__stopPropagation:A,static:se,withCellSpacing:E,highlightToday:C,withWeekNumbers:S,...ie})]})});JL.classes={...WL.classes,...uv.classes};JL.displayName="@mantine/dates/MonthLevel";var s8e={levelsGroup:"m_30b26e33"};const Mnn={},cv=et((e,t)=>{const n=He("LevelsGroup",Mnn,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,__staticSelector:u,...c}=n,d=Dt({name:u||"LevelsGroup",classes:s8e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,rootSelector:"levelsGroup"});return x.jsx(Ie,{ref:t,...d("levelsGroup"),...c})});cv.classes=s8e;cv.displayName="@mantine/dates/LevelsGroup";const $nn={numberOfColumns:1},ZL=et((e,t)=>{const n=He("DecadeLevelGroup",$nn,e),{decade:r,locale:i,minDate:o,maxDate:s,yearsListFormat:a,getYearControlProps:l,__onControlClick:u,__onControlMouseEnter:c,withCellSpacing:d,__preventFocus:f,nextIcon:h,previousIcon:m,nextLabel:p,previousLabel:g,onNext:y,onPrevious:v,nextDisabled:w,previousDisabled:E,classNames:C,styles:S,unstyled:T,__staticSelector:A,__stopPropagation:D,numberOfColumns:I,levelControlAriaLabel:P,decadeLabelFormat:N,size:$,vars:O,...j}=n,B=k.useRef([]),H=Array(I).fill(0).map((q,Y)=>{const V=on(r).add(Y*10,"years").toDate();return x.jsx(XL,{size:$,yearsListFormat:a,decade:V,withNext:Y===I-1,withPrevious:Y===0,decadeLabelFormat:N,__onControlClick:u,__onControlMouseEnter:c,__onControlKeyDown:(L,U)=>aie({levelIndex:Y,rowIndex:U.rowIndex,cellIndex:U.cellIndex,event:L,controlsRef:B}),__getControlRef:(L,U,z)=>{Array.isArray(B.current[Y])||(B.current[Y]=[]),Array.isArray(B.current[Y][L])||(B.current[Y][L]=[]),B.current[Y][L][U]=z},levelControlAriaLabel:typeof P=="function"?P(V):P,locale:i,minDate:o,maxDate:s,__preventFocus:f,__stopPropagation:D,nextIcon:h,previousIcon:m,nextLabel:p,previousLabel:g,onNext:y,onPrevious:v,nextDisabled:w,previousDisabled:E,getYearControlProps:l,__staticSelector:A||"DecadeLevelGroup",classNames:C,styles:S,unstyled:T,withCellSpacing:d},Y)});return x.jsx(cv,{classNames:C,styles:S,__staticSelector:A||"DecadeLevelGroup",ref:t,size:$,unstyled:T,...j,children:H})});ZL.classes={...cv.classes,...XL.classes};ZL.displayName="@mantine/dates/DecadeLevelGroup";const Fnn={numberOfColumns:1},e8=et((e,t)=>{const n=He("YearLevelGroup",Fnn,e),{year:r,locale:i,minDate:o,maxDate:s,monthsListFormat:a,getMonthControlProps:l,__onControlClick:u,__onControlMouseEnter:c,withCellSpacing:d,__preventFocus:f,nextIcon:h,previousIcon:m,nextLabel:p,previousLabel:g,onNext:y,onPrevious:v,onLevelClick:w,nextDisabled:E,previousDisabled:C,hasNextLevel:S,classNames:T,styles:A,unstyled:D,__staticSelector:I,__stopPropagation:P,numberOfColumns:N,levelControlAriaLabel:$,yearLabelFormat:O,size:j,vars:B,...H}=n,q=k.useRef([]),Y=Array(N).fill(0).map((V,L)=>{const U=on(r).add(L,"years").toDate();return x.jsx(QL,{size:j,monthsListFormat:a,year:U,withNext:L===N-1,withPrevious:L===0,yearLabelFormat:O,__stopPropagation:P,__onControlClick:u,__onControlMouseEnter:c,__onControlKeyDown:(z,G)=>aie({levelIndex:L,rowIndex:G.rowIndex,cellIndex:G.cellIndex,event:z,controlsRef:q}),__getControlRef:(z,G,Q)=>{Array.isArray(q.current[L])||(q.current[L]=[]),Array.isArray(q.current[L][z])||(q.current[L][z]=[]),q.current[L][z][G]=Q},levelControlAriaLabel:typeof $=="function"?$(U):$,locale:i,minDate:o,maxDate:s,__preventFocus:f,nextIcon:h,previousIcon:m,nextLabel:p,previousLabel:g,onNext:y,onPrevious:v,onLevelClick:w,nextDisabled:E,previousDisabled:C,hasNextLevel:S,getMonthControlProps:l,classNames:T,styles:A,unstyled:D,__staticSelector:I||"YearLevelGroup",withCellSpacing:d},L)});return x.jsx(cv,{classNames:T,styles:A,__staticSelector:I||"YearLevelGroup",ref:t,size:j,unstyled:D,...H,children:Y})});e8.classes={...QL.classes,...cv.classes};e8.displayName="@mantine/dates/YearLevelGroup";const Lnn={numberOfColumns:1},t8=et((e,t)=>{const n=He("MonthLevelGroup",Lnn,e),{month:r,locale:i,firstDayOfWeek:o,weekdayFormat:s,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:m,getDayAriaLabel:p,__onDayClick:g,__onDayMouseEnter:y,withCellSpacing:v,highlightToday:w,withWeekNumbers:E,__preventFocus:C,nextIcon:S,previousIcon:T,nextLabel:A,previousLabel:D,onNext:I,onPrevious:P,onLevelClick:N,nextDisabled:$,previousDisabled:O,hasNextLevel:j,classNames:B,styles:H,unstyled:q,numberOfColumns:Y,levelControlAriaLabel:V,monthLabelFormat:L,__staticSelector:U,__stopPropagation:z,size:G,static:Q,vars:te,...de}=n,se=k.useRef([]),ae=Array(Y).fill(0).map((he,ie)=>{const le=on(r).add(ie,"months").toDate();return x.jsx(JL,{month:le,withNext:ie===Y-1,withPrevious:ie===0,monthLabelFormat:L,__stopPropagation:z,__onDayClick:g,__onDayMouseEnter:y,__onDayKeyDown:(Ce,X)=>aie({levelIndex:ie,rowIndex:X.rowIndex,cellIndex:X.cellIndex,event:Ce,controlsRef:se}),__getDayRef:(Ce,X,fe)=>{Array.isArray(se.current[ie])||(se.current[ie]=[]),Array.isArray(se.current[ie][Ce])||(se.current[ie][Ce]=[]),se.current[ie][Ce][X]=fe},levelControlAriaLabel:typeof V=="function"?V(le):V,locale:i,firstDayOfWeek:o,weekdayFormat:s,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:m,getDayAriaLabel:p,__preventFocus:C,nextIcon:S,previousIcon:T,nextLabel:A,previousLabel:D,onNext:I,onPrevious:P,onLevelClick:N,nextDisabled:$,previousDisabled:O,hasNextLevel:j,classNames:B,styles:H,unstyled:q,__staticSelector:U||"MonthLevelGroup",size:G,static:Q,withCellSpacing:v,highlightToday:w,withWeekNumbers:E},ie)});return x.jsx(cv,{classNames:B,styles:H,__staticSelector:U||"MonthLevelGroup",ref:t,size:G,...de,children:ae})});t8.classes={...cv.classes,...JL.classes};t8.displayName="@mantine/dates/MonthLevelGroup";const x1e=e=>e==="range"?[null,null]:e==="multiple"?[]:null;function zG({type:e,value:t,defaultValue:n,onChange:r,applyTimezone:i=!0}){const o=k.useRef(e),s=$d(),[a,l,u]=zi({value:Lb("add",t,s.getTimezone(),!i),defaultValue:Lb("add",n,s.getTimezone(),!i),finalValue:x1e(e),onChange:d=>{r?.(Lb("remove",d,s.getTimezone(),!i))}});let c=a;return o.current!==e&&(o.current=e,t===void 0&&(c=n!==void 0?n:x1e(e),l(c))),[c,l,u]}function RU(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function jnn(e){return e===0?"month":e===1?"year":"decade"}function YS(e,t,n){return jnn(od(RU(e,0),RU(t,0),RU(n,2)))}const Bnn={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0},n8=et((e,t)=>{const n=He("Calendar",Bnn,e),{vars:r,maxLevel:i,minLevel:o,defaultLevel:s,level:a,onLevelChange:l,date:u,defaultDate:c,onDateChange:d,numberOfColumns:f,columnsToScroll:h,ariaLabels:m,nextLabel:p,previousLabel:g,onYearSelect:y,onMonthSelect:v,onYearMouseEnter:w,onMonthMouseEnter:E,__updateDateOnYearSelect:C,__updateDateOnMonthSelect:S,firstDayOfWeek:T,weekdayFormat:A,weekendDays:D,getDayProps:I,excludeDate:P,renderDay:N,hideOutsideDates:$,hideWeekdays:O,getDayAriaLabel:j,monthLabelFormat:B,nextIcon:H,previousIcon:q,__onDayClick:Y,__onDayMouseEnter:V,withCellSpacing:L,highlightToday:U,withWeekNumbers:z,monthsListFormat:G,getMonthControlProps:Q,yearLabelFormat:te,yearsListFormat:de,getYearControlProps:se,decadeLabelFormat:ae,classNames:he,styles:ie,unstyled:le,minDate:Ce,maxDate:X,locale:fe,__staticSelector:ce,size:ne,__preventFocus:ee,__stopPropagation:pe,onNextDecade:Re,onPreviousDecade:Se,onNextYear:be,onPreviousYear:Ne,onNextMonth:Ae,onPreviousMonth:Pe,static:we,__timezoneApplied:Le,...ze}=n,{resolvedClassNames:tt,resolvedStyles:rt}=zf({classNames:he,styles:ie,props:n}),[bt,Kt]=zi({value:a?YS(a,o,i):void 0,defaultValue:s?YS(s,o,i):void 0,finalValue:YS(void 0,o,i),onChange:l}),[Wt,Mn]=zG({type:"default",value:u,defaultValue:c,onChange:d,applyTimezone:!Le}),Ft={__staticSelector:ce||"Calendar",styles:rt,classNames:tt,unstyled:le,size:ne},hn=$d(),Kn=h||f||1,zn=new Date,Fr=Ce&&Ce>zn?Ce:zn,er=Wt||Lb("add",Fr,hn.getTimezone()),Sr=()=>{const An=on(er).add(Kn,"month").toDate();Ae?.(An),Mn(An)},Tn=()=>{const An=on(er).subtract(Kn,"month").toDate();Pe?.(An),Mn(An)},an=()=>{const An=on(er).add(Kn,"year").toDate();be?.(An),Mn(An)},sr=()=>{const An=on(er).subtract(Kn,"year").toDate();Ne?.(An),Mn(An)},pi=()=>{const An=on(er).add(10*Kn,"year").toDate();Re?.(An),Mn(An)},Tr=()=>{const An=on(er).subtract(10*Kn,"year").toDate();Se?.(An),Mn(An)};return x.jsxs(Ie,{ref:t,size:ne,"data-calendar":!0,...ze,children:[bt==="month"&&x.jsx(t8,{month:er,minDate:Ce,maxDate:X,firstDayOfWeek:T,weekdayFormat:A,weekendDays:D,getDayProps:I,excludeDate:P,renderDay:N,hideOutsideDates:$,hideWeekdays:O,getDayAriaLabel:j,onNext:Sr,onPrevious:Tn,hasNextLevel:i!=="month",onLevelClick:()=>Kt("year"),numberOfColumns:f,locale:fe,levelControlAriaLabel:m?.monthLevelControl,nextLabel:m?.nextMonth??p,nextIcon:H,previousLabel:m?.previousMonth??g,previousIcon:q,monthLabelFormat:B,__onDayClick:Y,__onDayMouseEnter:V,__preventFocus:ee,__stopPropagation:pe,static:we,withCellSpacing:L,highlightToday:U,withWeekNumbers:z,...Ft}),bt==="year"&&x.jsx(e8,{year:er,numberOfColumns:f,minDate:Ce,maxDate:X,monthsListFormat:G,getMonthControlProps:Q,locale:fe,onNext:an,onPrevious:sr,hasNextLevel:i!=="month"&&i!=="year",onLevelClick:()=>Kt("decade"),levelControlAriaLabel:m?.yearLevelControl,nextLabel:m?.nextYear??p,nextIcon:H,previousLabel:m?.previousYear??g,previousIcon:q,yearLabelFormat:te,__onControlMouseEnter:E,__onControlClick:(An,ft)=>{S&&Mn(ft),Kt(YS("month",o,i)),v?.(ft)},__preventFocus:ee,__stopPropagation:pe,withCellSpacing:L,...Ft}),bt==="decade"&&x.jsx(ZL,{decade:er,minDate:Ce,maxDate:X,yearsListFormat:de,getYearControlProps:se,locale:fe,onNext:pi,onPrevious:Tr,numberOfColumns:f,nextLabel:m?.nextDecade??p,nextIcon:H,previousLabel:m?.previousDecade??g,previousIcon:q,decadeLabelFormat:ae,__onControlMouseEnter:w,__onControlClick:(An,ft)=>{C&&Mn(ft),Kt(YS("year",o,i)),y?.(ft)},__preventFocus:ee,__stopPropagation:pe,withCellSpacing:L,...Ft})]})});n8.classes={...ZL.classes,...e8.classes,...t8.classes};n8.displayName="@mantine/dates/Calendar";function znn(e){const{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:o,nextIcon:s,previousIcon:a,date:l,defaultDate:u,onDateChange:c,numberOfColumns:d,columnsToScroll:f,ariaLabels:h,nextLabel:m,previousLabel:p,onYearSelect:g,onMonthSelect:y,onYearMouseEnter:v,onMonthMouseEnter:w,onNextMonth:E,onPreviousMonth:C,onNextYear:S,onPreviousYear:T,onNextDecade:A,onPreviousDecade:D,withCellSpacing:I,highlightToday:P,__updateDateOnYearSelect:N,__updateDateOnMonthSelect:$,withWeekNumbers:O,firstDayOfWeek:j,weekdayFormat:B,weekendDays:H,getDayProps:q,excludeDate:Y,renderDay:V,hideOutsideDates:L,hideWeekdays:U,getDayAriaLabel:z,monthLabelFormat:G,monthsListFormat:Q,getMonthControlProps:te,yearLabelFormat:de,yearsListFormat:se,getYearControlProps:ae,decadeLabelFormat:he,allowSingleDateInRange:ie,allowDeselect:le,minDate:Ce,maxDate:X,locale:fe,...ce}=e;return{calendarProps:{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:o,nextIcon:s,previousIcon:a,date:l,defaultDate:u,onDateChange:c,numberOfColumns:d,columnsToScroll:f,ariaLabels:h,nextLabel:m,previousLabel:p,onYearSelect:g,onMonthSelect:y,onYearMouseEnter:v,onMonthMouseEnter:w,onNextMonth:E,onPreviousMonth:C,onNextYear:S,onPreviousYear:T,onNextDecade:A,onPreviousDecade:D,withCellSpacing:I,highlightToday:P,__updateDateOnYearSelect:N,__updateDateOnMonthSelect:$,withWeekNumbers:O,firstDayOfWeek:j,weekdayFormat:B,weekendDays:H,getDayProps:q,excludeDate:Y,renderDay:V,hideOutsideDates:L,hideWeekdays:U,getDayAriaLabel:z,monthLabelFormat:G,monthsListFormat:Q,getMonthControlProps:te,yearLabelFormat:de,yearsListFormat:se,getYearControlProps:ae,decadeLabelFormat:he,allowSingleDateInRange:ie,allowDeselect:le,minDate:Ce,maxDate:X,locale:fe},others:ce}}function Unn(e,t){if(e===null)return null;const n=Lb("add",new Date(e),t);return Number.isNaN(n.getTime())||!e?null:n}function Vnn({date:e,maxDate:t,minDate:n}){return!(e==null||Number.isNaN(e.getTime())||t&&on(e).isAfter(t,"date")||n&&on(e).isBefore(n,"date"))}const Hnn={valueFormat:"MMMM D, YYYY",fixOnBlur:!0,preserveTime:!0},cie=et((e,t)=>{const n=JY("DateInput",Hnn,e),{inputProps:r,wrapperProps:i,value:o,defaultValue:s,onChange:a,clearable:l,clearButtonProps:u,popoverProps:c,getDayProps:d,locale:f,valueFormat:h,dateParser:m,minDate:p,maxDate:g,fixOnBlur:y,onFocus:v,onBlur:w,onClick:E,onKeyDown:C,readOnly:S,name:T,form:A,rightSection:D,unstyled:I,classNames:P,styles:N,allowDeselect:$,preserveTime:O,date:j,defaultDate:B,onDateChange:H,...q}=n,Y=k.useRef(null),V=k.useRef(null),[L,U]=k.useState(!1),{calendarProps:z,others:G}=znn(q),Q=$d(),de=m||(Ae=>{const Pe=on(Ae,h,Q.getLocale(f)).toDate();return Number.isNaN(Pe.getTime())?Unn(Ae,Q.getTimezone()):Pe}),se=$!==void 0?$:l,ae=Ae=>Ae?on(Ae).locale(Q.getLocale(f)).format(h):"",[he,ie,le]=zG({type:"default",value:o,defaultValue:s,onChange:a}),[Ce,X]=zG({type:"default",value:j,defaultValue:s||B,onChange:H});k.useEffect(()=>{le&&o!==null&&X(o)},[le,o]);const[fe,ce]=k.useState(ae(he));k.useEffect(()=>{ce(ae(he))},[Q.getLocale(f)]);const ne=Ae=>{const Pe=Ae.currentTarget.value;if(ce(Pe),U(!0),Pe.trim()===""&&l)ie(null);else{const we=de(Pe);Vnn({date:we,minDate:p,maxDate:g})&&(ie(we),X(we))}},ee=Ae=>{w?.(Ae),U(!1),y&&ce(ae(he))},pe=Ae=>{v?.(Ae),U(!0)},Re=Ae=>{E?.(Ae),U(!0)},Se=Ae=>{Ae.key==="Escape"&&U(!1),C?.(Ae)},be=Ae=>({...d?.(Ae),selected:on(he).isSame(Ae,"day"),onClick:Pe=>{d?.(Ae).onClick?.(Pe);const we=O?Gtn(he,Ae):Ae,Le=l&&se&&on(he).isSame(Ae,"day")?null:we;ie(Le),!le&&ce(ae(Le)),U(!1)}}),Ne=D||(l&&he&&!S?x.jsx(sp,{variant:"transparent",onMouseDown:Ae=>Ae.preventDefault(),tabIndex:-1,onClick:()=>{ie(null),!le&&ce(""),U(!1)},unstyled:I,size:r.size||"sm",...u}):null);return Hl(()=>{he!==void 0&&!L&&ce(ae(he))},[he]),Uxe(()=>U(!1),void 0,[Y.current,V.current]),x.jsxs(x.Fragment,{children:[x.jsx(Hr.Wrapper,{...i,__staticSelector:"DateInput",ref:Y,children:x.jsxs(Or,{opened:L,trapFocus:!1,position:"bottom-start",disabled:S,withRoles:!1,unstyled:I,...c,children:[x.jsx(Or.Target,{children:x.jsx(Hr,{"data-dates-input":!0,"data-read-only":S||void 0,autoComplete:"off",ref:t,value:fe,onChange:ne,onBlur:ee,onFocus:pe,onClick:Re,onKeyDown:Se,readOnly:S,rightSection:Ne,...r,...G,__staticSelector:"DateInput"})}),x.jsx(Or.Dropdown,{onMouseDown:Ae=>Ae.preventDefault(),"data-dates-dropdown":!0,ref:V,children:x.jsx(n8,{__staticSelector:"DateInput",__timezoneApplied:!0,...z,classNames:P,styles:N,unstyled:I,__preventFocus:!0,minDate:p,maxDate:g,locale:f,getDayProps:be,size:r.size,date:Ce,onDateChange:X})})]})}),x.jsx(WLe,{name:T,form:A,value:he,type:"default"})]})});cie.classes={...Hr.classes,...n8.classes};cie.displayName="@mantine/dates/DateInput";function Fn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var qc={root:"MRT_TableBody-module_root__kGhRy","root-grid":"MRT_TableBody-module_root-grid__WdOGg","root-no-rows":"MRT_TableBody-module_root-no-rows__iyi9K","root-virtualized":"MRT_TableBody-module_root-virtualized__TxPAi","empty-row-tr-grid":"MRT_TableBody-module_empty-row-tr-grid__LTgxw","empty-row-td-grid":"MRT_TableBody-module_empty-row-td-grid__pzlgG","empty-row-td-content":"MRT_TableBody-module_empty-row-td-content__Cc2XW",pinned:"MRT_TableBody-module_pinned__XHpcs"},IU={root:"MRT_TableBodyRow-module_root__2c3D4","root-grid":"MRT_TableBodyRow-module_root-grid__AwXTe","root-virtualized":"MRT_TableBodyRow-module_root-virtualized__zYgxq"},xh={root:"MRT_TableBodyCell-module_root__Wf-zi","root-grid":"MRT_TableBodyCell-module_root-grid__zIuC-","root-virtualized":"MRT_TableBodyCell-module_root-virtualized__jLl8R","root-data-col":"MRT_TableBodyCell-module_root-data-col__HHcxc","root-nowrap":"MRT_TableBodyCell-module_root-nowrap__-k1Jo","root-cursor-pointer":"MRT_TableBodyCell-module_root-cursor-pointer__4kw7J","root-editable-hover":"MRT_TableBodyCell-module_root-editable-hover__2DKSa","root-cell-hover-reveal":"MRT_TableBodyCell-module_root-cell-hover-reveal__T1fAH","cell-hover-reveal":"MRT_TableBodyCell-module_cell-hover-reveal__Q-1Xj",overflowing:"MRT_TableBodyCell-module_overflowing__QcXP4"};const jt=(e,t)=>e instanceof Function?e(t):e,DU=["string","number"],qnn=["text","autocomplete"],_1e=({cell:e,renderedColumnIndex:t=0,renderedRowIndex:n=0,table:r})=>{var i,o;const{getState:s,options:{enableFilterMatchHighlighting:a,mantineHighlightProps:l}}=r,{column:u,row:c}=e,{columnDef:d}=u,{globalFilter:f,globalFilterFn:h}=s(),m=u.getFilterValue(),p=jt(l,{cell:e,column:u,row:c,table:r});let g=e.getIsAggregated()&&d.AggregatedCell?d.AggregatedCell({cell:e,column:u,row:c,table:r}):c.getIsGrouped()&&!e.getIsGrouped()?null:e.getIsGrouped()&&d.GroupedCell?d.GroupedCell({cell:e,column:u,row:c,table:r}):void 0;const y=g!==void 0;if(y||(g=e.renderValue()),a&&d.enableFilterMatchHighlighting!==!1&&g&&DU.includes(typeof g)&&(m&&DU.includes(typeof m)&&qnn.includes(d.filterVariant)||f&&DU.includes(typeof f)&&u.getCanGlobalFilter())){let v=((o=(i=u.getFilterValue())!==null&&i!==void 0?i:f)!==null&&o!==void 0?o:"").toString();(m?d._filterFn:h)==="fuzzy"&&(v=v.split(" ")),g=x.jsx(jK,Object.assign({color:"yellow.3",highlight:v},p,{children:g?.toString()}))}return d.Cell&&!y&&(g=d.Cell({cell:e,column:u,renderedCellValue:g,renderedColumnIndex:t,renderedRowIndex:n,row:c,table:r})),g},Sf=e=>e.replace(/[^a-zA-Z0-9]/g,"_"),Wnn=e=>{var t,n;return typeof e.primaryShade=="number"?e.primaryShade:(n=(t=e.primaryShade)===null||t===void 0?void 0:t.dark)!==null&&n!==void 0?n:7},Gnn=(e,t)=>e.colors[e.primaryColor][Wnn(e)];function g6(e,t){const n=`data-${e}`;switch(typeof t){case"boolean":return t?{[n]:""}:null;case"number":return{[n]:`${t}`};case"string":return{[n]:t};default:return null}}var Ynn={root:"MRT_CopyButton-module_root__mkXy4"};const Knn=e=>{var{cell:t,children:n,table:r}=e,i=Fn(e,["cell","children","table"]);const{options:{localization:{clickToCopy:o,copiedToClipboard:s},mantineCopyButtonProps:a}}=r,{column:l,row:u}=t,{columnDef:c}=l,d={cell:t,column:l,row:u,table:r},f=Object.assign(Object.assign(Object.assign({},jt(a,d)),jt(c.mantineCopyButtonProps,d)),i);return x.jsx(YEe,{value:t.getValue(),children:({copied:h,copy:m})=>{var p;return x.jsx(yt,{color:h?"green":void 0,label:(p=f?.title)!==null&&p!==void 0?p:h?s:o,openDelay:1e3,withinPortal:!0,children:x.jsx(fs,Object.assign({},f,{className:$t("mrt-copy-button",Ynn.root,f?.className),onClick:g=>{g.stopPropagation(),m()},role:"presentation",title:void 0,children:n}))})}})},r8=e=>{var t,{cell:n,table:r}=e,i=Fn(e,["cell","table"]);const{getState:o,options:{createDisplayMode:s,editDisplayMode:a,mantineEditSelectProps:l,mantineEditTextInputProps:u},refs:{editInputRefs:c},setCreatingRow:d,setEditingCell:f,setEditingRow:h}=r,{column:m,row:p}=n,{columnDef:g}=m,{creatingRow:y,editingRow:v}=o(),w=y?.id===p.id,E=v?.id===p.id,C=g.editVariant==="select",S=g.editVariant==="multi-select",[T,A]=k.useState(()=>n.getValue()),D={cell:n,column:m,row:p,table:r},I=Object.assign(Object.assign(Object.assign({},jt(u,D)),jt(g.mantineEditTextInputProps,D)),i),P=Object.assign(Object.assign(Object.assign({},jt(l,D)),jt(g.mantineEditSelectProps,D)),i),N=B=>{p._valuesCache[m.id]=B,w?d(p):E&&h(p)},$=B=>{var H;(H=I.onBlur)===null||H===void 0||H.call(I,B),N(T),f(null)},O=B=>{var H,q;(H=I.onKeyDown)===null||H===void 0||H.call(I,B),B.key==="Enter"&&((q=c.current[n.id])===null||q===void 0||q.blur())};if(g.Edit)return(t=g.Edit)===null||t===void 0?void 0:t.call(g,{cell:n,column:m,row:p,table:r});const j={disabled:jt(g.enableEditing,p)===!1,label:["custom","modal"].includes(w?s:a)?m.columnDef.header:void 0,name:n.id,onClick:B=>{var H;B.stopPropagation(),(H=I?.onClick)===null||H===void 0||H.call(I,B)},placeholder:["custom","modal"].includes(w?s:a)?void 0:g.header,value:T,variant:a==="table"?"unstyled":"default"};return C?x.jsx(Hm,Object.assign({},j,{searchable:!0,value:T},P,{onBlur:$,onChange:(B,H)=>{var q,Y;(Y=(q=P).onChange)===null||Y===void 0||Y.call(q,B,H),A(B)},onClick:B=>{var H;B.stopPropagation(),(H=P?.onClick)===null||H===void 0||H.call(P,B)},ref:B=>{B&&(c.current[n.id]=B,P.ref&&(P.ref.current=B))}})):S?x.jsx(RE,Object.assign({},j,{searchable:!0,value:T},P,{onBlur:$,onChange:B=>{var H,q;(q=(H=P).onChange)===null||q===void 0||q.call(H,T),A(B),document.activeElement!==c.current[n.id]&&N(B)},onClick:B=>{var H;B.stopPropagation(),(H=P?.onClick)===null||H===void 0||H.call(P,B)},ref:B=>{B&&(c.current[n.id]=B,P.ref&&(P.ref.current=B))}})):x.jsx($l,Object.assign({},j,{onKeyDown:O,value:T??""},I,{onBlur:$,onChange:B=>{var H;(H=I.onChange)===null||H===void 0||H.call(I,B),A(B.target.value)},onClick:B=>{var H;B.stopPropagation(),(H=I?.onClick)===null||H===void 0||H.call(I,B)},ref:B=>{B&&(c.current[n.id]=B,I.ref&&(I.ref.current=B))}}))},a8e=e=>{var t,n,r,i,o,{cell:s,numRows:a=1,renderedColumnIndex:l=0,renderedRowIndex:u=0,rowRef:c,table:d,virtualCell:f}=e,h=Fn(e,["cell","numRows","renderedColumnIndex","renderedRowIndex","rowRef","table","virtualCell"]);const m=Lu(),{getState:p,options:{columnResizeDirection:g,columnResizeMode:y,createDisplayMode:v,editDisplayMode:w,enableClickToCopy:E,enableColumnOrdering:C,enableColumnPinning:S,enableEditing:T,enableGrouping:A,layoutMode:D,mantineSkeletonProps:I,mantineTableBodyCellProps:P},refs:{editInputRefs:N},setEditingCell:$,setHoveredColumn:O}=d,{columnSizingInfo:j,creatingRow:B,density:H,draggingColumn:q,editingCell:Y,editingRow:V,hoveredColumn:L,isLoading:U,showSkeletons:z}=p(),{column:G,row:Q}=s,{columnDef:te}=G,{columnDefType:de}=te,se={cell:s,column:G,renderedColumnIndex:l,renderedRowIndex:u,row:Q,table:d},ae=Object.assign(Object.assign(Object.assign({},jt(P,se)),jt(te.mantineTableBodyCellProps,se)),h),he=jt(I,se),[ie,le]=k.useState(100);k.useEffect(()=>{if(!U&&!z||ie!==100)return;const rt=G.getSize();le(de==="display"?rt/2:Math.round(Math.random()*(rt-rt/3)+rt/3))},[U,z]);const Ce={minWidth:`max(calc(var(--col-${Sf(G?.id)}-size) * 1px), ${(t=te.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--col-${Sf(G.id)}-size) * 1px)`};D==="grid"?Ce.flex=`${[0,!1].includes(te.grow)?0:`var(--col-${Sf(G.id)}-size)`} 0 auto`:D==="grid-no-grow"&&(Ce.flex=`${+(te.grow||0)} 0 auto`);const X=q?.id===G.id,fe=L?.id===G.id,ce=S&&te.columnDefType!=="group"&&G.getIsPinned(),ne=!s.getIsPlaceholder()&&jt(T,Q)&&jt(te.enableEditing,Q)!==!1,ee=ne&&!["custom","modal"].includes(w)&&(w==="table"||V?.id===Q.id||Y?.id===s.id)&&!Q.getIsGrouped(),pe=ne&&v==="row"&&B?.id===Q.id,Re=jt(E,s)||jt(te.enableClickToCopy,s)&&jt(te.enableClickToCopy,s)!==!1,Se=rt=>{var bt;(bt=ae?.onDoubleClick)===null||bt===void 0||bt.call(ae,rt),ne&&w==="cell"&&($(s),setTimeout(()=>{var Kt;const Wt=N.current[s.id];Wt&&(Wt.focus(),(Kt=Wt.select)===null||Kt===void 0||Kt.call(Wt))},100))},be=rt=>{var bt;(bt=ae?.onDragEnter)===null||bt===void 0||bt.call(ae,rt),A&&L?.id==="drop-zone"&&O(null),C&&q&&O(te.enableColumnOrdering!==!1?G:null)},Ne={cell:s,renderedColumnIndex:l,renderedRowIndex:u,table:d},Ae=k.useRef(null),[Pe,we]=k.useState(!1),Le=()=>{if(!te.enableCellHoverReveal)return;const rt=Ae.current;if(rt){const bt=rt.scrollWidth>rt.clientWidth;we(bt)}},ze=()=>{te.enableCellHoverReveal&&we(!1)},tt=()=>{var rt,bt,Kt;return s.getIsPlaceholder()?(bt=(rt=te.PlaceholderCell)===null||rt===void 0?void 0:rt.call(te,{cell:s,column:G,row:Q,table:d}))!==null&&bt!==void 0?bt:null:z!==!1&&(U||z)?x.jsx(uX,Object.assign({height:20,width:ie},he)):de==="display"&&(["mrt-row-expand","mrt-row-numbers","mrt-row-select"].includes(G.id)||!Q.getIsGrouped())?(Kt=te.Cell)===null||Kt===void 0?void 0:Kt.call(te,Object.assign({column:G,renderedCellValue:s.renderValue(),row:Q,rowRef:c},Ne)):pe||ee?x.jsx(r8,{cell:s,table:d}):Re&&te.enableClickToCopy!==!1?x.jsx(Knn,{cell:s,table:d,children:x.jsx(_1e,Object.assign({},Ne))}):x.jsx(_1e,Object.assign({},Ne))};return x.jsx(Ck,Object.assign({"data-column-pinned":ce||void 0,"data-dragging-column":X||void 0,"data-first-right-pinned":ce==="right"&&G.getIsFirstColumn(ce)||void 0,"data-hovered-column-target":fe||void 0,"data-index":l,"data-last-left-pinned":ce==="left"&&G.getIsLastColumn(ce)||void 0,"data-last-row":u===a-1||void 0,"data-resizing":y==="onChange"&&j?.isResizingColumn===G.id&&g||void 0},ae,{__vars:Object.assign({"--mrt-cell-align":(n=ae.align)!==null&&n!==void 0?n:m.dir==="rtl"?"right":"left","--mrt-table-cell-left":ce==="left"?`${G.getStart(ce)}`:void 0,"--mrt-table-cell-right":ce==="right"?`${G.getAfter(ce)}`:void 0},ae.__vars),className:$t(xh.root,D?.startsWith("grid")&&xh["root-grid"],f&&xh["root-virtualized"],ne&&w==="cell"&&xh["root-cursor-pointer"],ne&&["cell","table"].includes(w??"")&&de!=="display"&&xh["root-editable-hover"],de==="data"&&xh["root-data-col"],H==="xs"&&xh["root-nowrap"],te.enableCellHoverReveal&&xh["root-cell-hover-reveal"],ae?.className),onDoubleClick:Se,onDragEnter:be,onMouseEnter:Le,onMouseLeave:ze,style:rt=>Object.assign(Object.assign({},Ce),jt(ae.style,rt)),children:x.jsx(x.Fragment,{children:(r=ae.children)!==null&&r!==void 0?r:te.enableCellHoverReveal?x.jsxs("div",{className:$t(te.enableCellHoverReveal&&!(pe||ee)&&xh["cell-hover-reveal"],Pe&&xh.overflowing),ref:Ae,children:[tt(),s.getIsGrouped()&&!te.GroupedCell&&x.jsxs(x.Fragment,{children:[" (",(i=Q.subRows)===null||i===void 0?void 0:i.length,")"]})]}):x.jsxs(x.Fragment,{children:[tt(),s.getIsGrouped()&&!te.GroupedCell&&x.jsxs(x.Fragment,{children:[" (",(o=Q.subRows)===null||o===void 0?void 0:o.length,")"]})]})})}))},Xnn=k.memo(a8e,(e,t)=>t.cell===e.cell);var Vv={root:"MRT_TableDetailPanel-module_root__vQAlM","root-grid":"MRT_TableDetailPanel-module_root-grid__7UMC6","root-virtual-row":"MRT_TableDetailPanel-module_root-virtual-row__r-X4Z",inner:"MRT_TableDetailPanel-module_inner__o-Fk-","inner-grid":"MRT_TableDetailPanel-module_inner-grid__WLZgF","inner-expanded":"MRT_TableDetailPanel-module_inner-expanded__6tg9T","inner-virtual":"MRT_TableDetailPanel-module_inner-virtual__TItRy"};const Qnn=e=>{var t,n,{parentRowRef:r,renderedRowIndex:i=0,row:o,rowVirtualizer:s,striped:a,table:l,virtualRow:u}=e,c=Fn(e,["parentRowRef","renderedRowIndex","row","rowVirtualizer","striped","table","virtualRow"]);const{getState:d,getVisibleLeafColumns:f,options:{layoutMode:h,mantineDetailPanelProps:m,mantineTableBodyRowProps:p,renderDetailPanel:g}}=l,{isLoading:y}=d(),v=jt(p,{isDetailPanel:!0,row:o,table:l}),w=Object.assign(Object.assign({},jt(m,{row:o,table:l})),c),E=o.getAllCells().filter(S=>S.column.columnDef.columnDefType==="data").map(S=>x.jsx(r8,{cell:S,table:l},S.id)),C=!y&&o.getIsExpanded()&&g?.({internalEditComponents:E,row:o,table:l});return x.jsx(km,Object.assign({"data-index":g?i*2+1:i,"data-striped":a,ref:S=>{var T;S&&((T=s?.measureElement)===null||T===void 0||T.call(s,S))}},v,{__vars:Object.assign({"--mrt-parent-row-height":u?`${(n=(t=r.current)===null||t===void 0?void 0:t.getBoundingClientRect())===null||n===void 0?void 0:n.height}px`:void 0,"--mrt-virtual-row-start":u?`${u.start}px`:void 0},v?.__vars),className:$t("mantine-Table-tr-detail-panel",Vv.root,h?.startsWith("grid")&&Vv["root-grid"],u&&Vv["root-virtual-row"],v?.className),children:x.jsx(Ck,Object.assign({colSpan:f().length,component:"td"},w,{__vars:{"--mrt-inner-width":`${l.getTotalSize()}px`},className:$t("mantine-Table-td-detail-panel",Vv.inner,h?.startsWith("grid")&&Vv["inner-grid"],o.getIsExpanded()&&Vv["inner-expanded"],u&&Vv["inner-virtual"]),p:o.getIsExpanded()&&C?"md":0,children:s?o.getIsExpanded()&&C:x.jsx(Cp,{in:o.getIsExpanded(),children:C})}))}))},Jnn=(e,t,n)=>{let r=0;return e.columnFiltersMeta[n]&&(r=Ttn(e.columnFiltersMeta[n],t.columnFiltersMeta[n])),r===0?ub.alphanumeric(e,t,n):r},Znn=Object.assign(Object.assign({},ub),{fuzzy:Jnn}),ern=(e,t)=>Math.max(...Object.values(t.columnFiltersMeta).map(n=>n.rank))-Math.max(...Object.values(e.columnFiltersMeta).map(n=>n.rank)),l8e=(e,t)=>{const{getCenterRows:n,getPrePaginationRowModel:r,getRowModel:i,getState:o,getTopRows:s,options:{createDisplayMode:a,enablePagination:l,enableRowPinning:u,manualPagination:c,positionCreatingRow:d,rowPinningDisplayMode:f}}=e,{creatingRow:h,pagination:m}=o(),p=trn(e);let g=[];if(!p)g=!u||f?.includes("sticky")?t?r().rows:i().rows:n();else{if(g=r().rows.sort((y,v)=>ern(y,v)),l&&!c&&!t){const y=m.pageIndex*m.pageSize;g=g.slice(y,y+m.pageSize)}u&&!f?.includes("sticky")&&(g=g.filter(y=>!y.getIsPinned()))}if(u&&f?.includes("sticky")){const y=g.filter(v=>v.getIsPinned()).map(v=>v.id);g=[...s().filter(v=>!y.includes(v.id)),...g]}if(d!==void 0&&h&&a==="row"){const y=isNaN(+d)?d==="top"?0:g.length:+d;g=[...g.slice(0,y),h,...g.slice(y)]}return g},u8e=e=>{const{getState:t,options:{enableGlobalFilterRankedResults:n,manualExpanding:r,manualFiltering:i,manualGrouping:o,manualSorting:s}}=e,{expanded:a,globalFilterFn:l}=t();return!r&&!i&&!o&&!s&&n&&l==="fuzzy"&&a!==!0&&!Object.values(a).some(Boolean)},trn=e=>{const{globalFilter:t,sorting:n}=e.getState();return u8e(e)&&t&&!Object.values(n).some(Boolean)},y6=({row:e,table:t})=>{const{options:{enableRowSelection:n}}=t;return e.getIsSelected()||jt(n,e)&&e.getCanSelectSubRows()&&e.getIsAllSubRowsSelected()},nrn=({renderedRowIndex:e=0,row:t,table:n})=>(r,i)=>{var o;const{getState:s,options:{enableBatchRowSelection:a,enableMultiRowSelection:l,enableRowPinning:u,manualPagination:c,rowPinningDisplayMode:d},refs:{lastSelectedRowId:f}}=n,{pagination:{pageIndex:h,pageSize:m}}=s(),p=c?0:m*h,g=y6({row:t,table:n});t.toggleSelected(i??!g);const y=new Set([t.id]);if(a&&l&&r.nativeEvent.shiftKey&&f.current!==null){const v=l8e(n,!0),w=v.findIndex(E=>E.id===f.current);if(w!==-1){const E=y6({row:v?.[w],table:n}),C=e+p,[S,T]=w<C?[w,C]:[C,w];if(g!==E)for(let A=S;A<=T;A++)v[A].toggleSelected(!g),y.add(v[A].id)}}f.current=t.id,t.getCanSelectSubRows()&&t.getIsAllSubRowsSelected()&&((o=t.subRows)===null||o===void 0||o.forEach(v=>v.toggleSelected(!1))),u&&d?.includes("select")&&y.forEach(v=>{n.getRow(v).pin(g?!1:d?.includes("bottom")?"bottom":"top")})},c8e=({table:e})=>(t,n,r)=>{const{options:{enableRowPinning:i,rowPinningDisplayMode:o,selectAllMode:s},refs:{lastSelectedRowId:a}}=e;s==="all"||r?e.toggleAllRowsSelected(n??t.target.checked):e.toggleAllPageRowsSelected(n??t.target.checked),i&&o?.includes("select")&&e.setRowPinning({bottom:[],top:[]}),a.current=null},R2=e=>{var t,n,r,{children:i,columnVirtualizer:o,numRows:s,pinnedRowIds:a,renderedRowIndex:l=0,row:u,rowVirtualizer:c,table:d,tableProps:f,virtualRow:h}=e,m=Fn(e,["children","columnVirtualizer","numRows","pinnedRowIds","renderedRowIndex","row","rowVirtualizer","table","tableProps","virtualRow"]);const{getState:p,options:{enableRowOrdering:g,enableRowPinning:y,enableStickyFooter:v,enableStickyHeader:w,layoutMode:E,mantineTableBodyRowProps:C,memoMode:S,renderDetailPanel:T,rowPinningDisplayMode:A},refs:{tableFooterRef:D,tableHeadRef:I},setHoveredRow:P}=d,{density:N,draggingColumn:$,draggingRow:O,editingCell:j,editingRow:B,hoveredRow:H,isFullScreen:q,rowPinning:Y}=p(),V=u.getVisibleCells(),{virtualColumns:L,virtualPaddingLeft:U,virtualPaddingRight:z}=o??{},G=y6({row:u,table:d}),Q=y&&u.getIsPinned(),te=Q&&A?.includes("sticky")&&"sticky",de=O?.id===u.id,se=H?.id===u.id,ae=Object.assign(Object.assign({},jt(C,{renderedRowIndex:l,row:u,table:d})),m),[he,ie]=k.useMemo(()=>!y||!te||!a||!u.getIsPinned()?[]:[[...a].reverse().indexOf(u.id),a.indexOf(u.id)],[a,Y]),le=(w||q)&&((t=I.current)===null||t===void 0?void 0:t.clientHeight)||0,Ce=v&&((n=D.current)===null||n===void 0?void 0:n.clientHeight)||0,X=parseInt((r=ae?.style)===null||r===void 0?void 0:r.height,10)||(N==="xs"?37:N==="md"?53:69),fe=ee=>{g&&O&&P(u)},ce=k.useRef(null);let ne=f.striped;return ne&&(ne===!0&&(ne="odd"),ne==="odd"&&l%2!==0&&(ne=!1),ne==="even"&&l%2===0&&(ne=!1)),x.jsxs(x.Fragment,{children:[x.jsxs(km,Object.assign({"data-dragging-row":de||void 0,"data-hovered-row-target":se||void 0,"data-index":T?l*2:l,"data-row-pinned":te||Q||void 0,"data-selected":G||void 0,"data-striped":ne,onDragEnter:fe,ref:ee=>{ee&&(ce.current=ee,c?.measureElement(ee))}},ae,{__vars:Object.assign(Object.assign({},ae?.__vars),{"--mrt-pinned-row-bottom":!h&&he!==void 0&&Q?`${he*X+(v?Ce-1:0)}`:void 0,"--mrt-pinned-row-top":h?void 0:ie!==void 0&&Q?`${ie*X+(w||q?le-1:0)}`:void 0,"--mrt-virtual-row-start":h?`${h.start}`:void 0}),className:$t(IU.root,E?.startsWith("grid")&&IU["root-grid"],h&&IU["root-virtualized"],ae?.className),children:[U?x.jsx(Ie,{component:"td",display:"flex",w:U}):null,i||(L??u.getVisibleCells()).map((ee,pe)=>{let Re=ee;o&&(pe=ee.index,Re=V[pe]);const Se={cell:Re,numRows:s,renderedColumnIndex:pe,renderedRowIndex:l,rowRef:ce,table:d,virtualCell:o?ee:void 0};return S==="cells"&&Re.column.columnDef.columnDefType==="data"&&!$&&!O&&j?.id!==Re.id&&B?.id!==u.id?x.jsx(Xnn,Object.assign({},Se),Re.id):x.jsx(a8e,Object.assign({},Se),Re.id)}),z?x.jsx(Ie,{component:"td",display:"flex",w:z}):null]})),T&&!u.getIsGrouped()&&x.jsx(Qnn,{parentRowRef:ce,renderedRowIndex:l,row:u,rowVirtualizer:c,striped:ne,table:d,virtualRow:h})]})},PU=k.memo(R2,(e,t)=>e.row===t.row);var KS={root:"MRT_ExpandButton-module_root__IFYio","root-ltr":"MRT_ExpandButton-module_root-ltr__FHNnp",chevron:"MRT_ExpandButton-module_chevron__XzC5P",right:"MRT_ExpandButton-module_right__-pC-A",up:"MRT_ExpandButton-module_up__TZGBo","root-rtl":"MRT_ExpandButton-module_root-rtl__zoudS"};const UG=e=>{var t,n,{row:r,table:i}=e,o=Fn(e,["row","table"]);const s=Lu(),{options:{icons:{IconChevronDown:a},localization:l,mantineExpandButtonProps:u,positionExpandColumn:c,renderDetailPanel:d}}=i,f=Object.assign(Object.assign({},jt(u,{row:r,table:i})),o),h=r.getAllCells().filter(w=>w.column.columnDef.columnDefType==="data").map(w=>x.jsx(r8,{cell:w,table:i},w.id)),m=r.getCanExpand(),p=r.getIsExpanded(),g=!!d?.({internalEditComponents:h,row:r,table:i}),y=w=>{var E;w.stopPropagation(),r.toggleExpanded(),(E=f?.onClick)===null||E===void 0||E.call(f,w)},v=s.dir==="rtl"||c==="last";return x.jsx(yt,{disabled:!m&&!g,label:(t=f?.title)!==null&&t!==void 0?t:p?l.collapse:l.expand,openDelay:1e3,withinPortal:!0,children:x.jsx(Cn,Object.assign({"aria-label":l.expand,color:"gray",disabled:!m&&!g,variant:"subtle"},f,{__vars:{"--mrt-row-depth":`${r.depth}`},className:$t("mrt-expand-button",KS.root,KS[`root-${v?"rtl":"ltr"}`],f?.className),onClick:y,title:void 0,children:(n=f?.children)!==null&&n!==void 0?n:x.jsx(a,{className:$t("mrt-expand-button-chevron",KS.chevron,!m&&!d?KS.right:p?KS.up:void 0)})}))})},rrn=e=>{var t,n,{table:r,tableProps:i}=e,o=Fn(e,["table","tableProps"]);const{getState:s,options:{layoutMode:a,localization:l,renderDetailPanel:u,renderEmptyRowsFallback:c},refs:{tablePaperRef:d}}=r,{columnFilters:f,globalFilter:h}=s(),m=k.useMemo(()=>_C(r,"mrt-row-empty",{},0,0),[]),p=Object.assign(Object.assign({},o),{renderedRowIndex:0,row:m,virtualRow:void 0});return x.jsxs(R2,Object.assign({className:$t("mrt-table-body-row",a?.startsWith("grid")&&qc["empty-row-tr-grid"]),table:r,tableProps:i},p,{children:[u&&x.jsx(Ck,{className:$t("mrt-table-body-cell",a?.startsWith("grid")&&qc["empty-row-td-grid"]),colSpan:1,children:x.jsx(UG,{row:m,table:r})}),x.jsx("td",{className:$t("mrt-table-body-cell",a?.startsWith("grid")&&qc["empty-row-td-grid"]),colSpan:r.getVisibleLeafColumns().length,children:(t=c?.({table:r}))!==null&&t!==void 0?t:x.jsx(Ve,{__vars:{"--mrt-paper-width":`${(n=d.current)===null||n===void 0?void 0:n.clientWidth}`},className:$t(qc["empty-row-td-content"]),children:h||f.length?l.noResultsFound:l.noRecordsToDisplay})})]}))},irn=e=>{const{getRowModel:t,getState:n,options:{data:r,enableGlobalFilterRankedResults:i,positionCreatingRow:o}}=e,{creatingRow:s,expanded:a,globalFilter:l,pagination:u,rowPinning:c,sorting:d}=n();return k.useMemo(()=>l8e(e),[s,r,i,a,t().rows,l,u.pageIndex,u.pageSize,o,c,d])},d8e=(e,t)=>{const n=ULe(e);return t===void 0||(t>=0&&t<Math.max(e.startIndex-e.overscan,0)&&n.unshift(t),t>=0&&t>e.endIndex+e.overscan&&n.push(t)),n},orn=(e,t)=>{var n;const{getRowModel:r,getState:i,options:{enableRowVirtualization:o,renderDetailPanel:s,rowVirtualizerInstanceRef:a,rowVirtualizerOptions:l},refs:{tableContainerRef:u}}=e,{density:c,draggingRow:d,expanded:f}=i();if(!o)return;const h=jt(l,{table:e}),m=(n=t?.length)!==null&&n!==void 0?n:r().rows.length,p=c==="xs"?42.7:c==="md"?54.7:70.7,g=HLe(Object.assign({count:s?m*2:m,estimateSize:y=>s&&y%2===1?f===!0?100:0:p,getScrollElement:()=>u.current,measureElement:typeof window<"u"&&navigator.userAgent.indexOf("Firefox")===-1?y=>y?.getBoundingClientRect().height:void 0,overscan:4,rangeExtractor:k.useCallback(y=>{var v;return d8e(y,(v=d?.index)!==null&&v!==void 0?v:0)},[d])},h));return g.virtualRows=g.getVirtualItems(),a&&(a.current=g),g},f8e=e=>{var t,n,r,{columnVirtualizer:i,table:o,tableProps:s}=e,a=Fn(e,["columnVirtualizer","table","tableProps"]);const{getBottomRows:l,getIsSomeRowsPinned:u,getRowModel:c,getState:d,getTopRows:f,options:{enableStickyFooter:h,enableStickyHeader:m,layoutMode:p,mantineTableBodyProps:g,memoMode:y,renderDetailPanel:v,rowPinningDisplayMode:w},refs:{tableFooterRef:E,tableHeadRef:C}}=o,{isFullScreen:S,rowPinning:T}=d(),A=Object.assign(Object.assign({},jt(g,{table:o})),a),D=(m||S)&&((t=C.current)===null||t===void 0?void 0:t.clientHeight)||0,I=h&&((n=E.current)===null||n===void 0?void 0:n.clientHeight)||0,P=k.useMemo(()=>{var B,H;return!(!((B=T.bottom)===null||B===void 0)&&B.length)&&!(!((H=T.top)===null||H===void 0)&&H.length)?[]:c().rows.filter(q=>q.getIsPinned()).map(q=>q.id)},[T,c().rows]),N=irn(o),$=orn(o,N),{virtualRows:O}=$??{},j={columnVirtualizer:i,numRows:N.length,table:o,tableProps:s};return x.jsxs(x.Fragment,{children:[!w?.includes("sticky")&&u("top")&&x.jsx(YT,Object.assign({},A,{__vars:Object.assign({"--mrt-table-head-height":`${D}`},A?.__vars),className:$t(qc.pinned,p?.startsWith("grid")&&qc["root-grid"],A?.className),children:f().map((B,H)=>{const q=Object.assign(Object.assign({},j),{renderedRowIndex:H,row:B});return y==="rows"?x.jsx(PU,Object.assign({},q),B.id):x.jsx(R2,Object.assign({},q),B.id)})})),x.jsx(YT,Object.assign({},A,{__vars:Object.assign({"--mrt-table-body-height":$?`${$.getTotalSize()}px`:void 0},A?.__vars),className:$t(qc.root,p?.startsWith("grid")&&qc["root-grid"],!N.length&&qc["root-no-rows"],$&&qc["root-virtualized"],A?.className),children:(r=A?.children)!==null&&r!==void 0?r:N.length?x.jsx(x.Fragment,{children:(O??N).map((B,H)=>{if($)if(v){if(B.index%2===1)return null;H=B.index/2}else H=B.index;const q=$?N[H]:B,Y=Object.assign(Object.assign({},j),{pinnedRowIds:P,renderedRowIndex:H,row:q,rowVirtualizer:$,virtualRow:$?B:void 0}),V=`${q.id}-${q.index}`;return y==="rows"?x.jsx(PU,Object.assign({},Y),V):x.jsx(R2,Object.assign({},Y),V)})}):x.jsx(rrn,Object.assign({},j))})),!w?.includes("sticky")&&u("bottom")&&x.jsx(YT,Object.assign({},A,{__vars:Object.assign({"--mrt-table-footer-height":`${I}`},A?.__vars),className:$t(qc.pinned,p?.startsWith("grid")&&qc["root-grid"],A?.className),children:l().map((B,H)=>{const q=Object.assign(Object.assign({},j),{renderedRowIndex:H,row:B});return y==="rows"?x.jsx(PU,Object.assign({},q),B.id):x.jsx(R2,Object.assign({},q),B.id)})}))]})},srn=k.memo(f8e,(e,t)=>e.table.options.data===t.table.options.data);var arn={"grab-icon":"MRT_GrabHandleButton-module_grab-icon__mQimy"};const die=({actionIconProps:e,onDragEnd:t,onDragStart:n,table:{options:{icons:{IconGripHorizontal:r},localization:{move:i}}}})=>{var o,s;return x.jsx(yt,{label:(o=e?.title)!==null&&o!==void 0?o:i,openDelay:1e3,withinPortal:!0,children:x.jsx(Cn,Object.assign({"aria-label":(s=e?.title)!==null&&s!==void 0?s:i,draggable:!0},e,{className:$t("mrt-grab-handle-button",arn["grab-icon"],e?.className),color:"gray",onClick:a=>{var l;a.stopPropagation(),(l=e?.onClick)===null||l===void 0||l.call(e,a)},onDragEnd:t,onDragStart:n,size:"sm",title:void 0,variant:"transparent",children:x.jsx(r,{size:"100%"})}))})},lrn=e=>{var{row:t,rowRef:n,table:r}=e,i=Fn(e,["row","rowRef","table"]);const{options:{mantineRowDragHandleProps:o}}=r,s=Object.assign(Object.assign({},jt(o,{row:t,table:r})),i),a=u=>{var c;(c=s?.onDragStart)===null||c===void 0||c.call(s,u),u.dataTransfer.setDragImage(n.current,0,0),r.setDraggingRow(t)},l=u=>{var c;(c=s?.onDragEnd)===null||c===void 0||c.call(s,u),r.setDraggingRow(null),r.setHoveredRow(null)};return x.jsx(die,{actionIconProps:s,onDragEnd:l,onDragStart:a,table:r})},OU=e=>{var{pinningPosition:t,row:n,table:r}=e,i=Fn(e,["pinningPosition","row","table"]);const{options:{icons:{IconPinned:o,IconX:s},localization:a,rowPinningDisplayMode:l}}=r,u=n.getIsPinned(),[c,d]=k.useState(!1),f=h=>{d(!1),h.stopPropagation(),n.pin(u?!1:t)};return x.jsx(yt,{label:u?a.unpin:a.pin,openDelay:1e3,opened:c,children:x.jsx(Cn,Object.assign({"aria-label":a.pin,color:"gray",onClick:f,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),size:"xs",style:{height:"24px",width:"24px"},variant:"subtle"},i,{children:u?x.jsx(s,{}):x.jsx(o,{fontSize:"small",style:{transform:`rotate(${l==="sticky"?135:t==="top"?180:0}deg)`}})}))})},urn=e=>{var{row:t,table:n}=e,r=Fn(e,["row","table"]);const{getState:i,options:{enableRowPinning:o,rowPinningDisplayMode:s}}=n,{density:a}=i();if(!jt(o,t))return null;const u=Object.assign({row:t,table:n},r);return s==="top-and-bottom"&&!t.getIsPinned()?x.jsxs(Ie,{style:{display:"flex",flexDirection:a==="xs"?"row":"column"},children:[x.jsx(OU,Object.assign({pinningPosition:"top"},u)),x.jsx(OU,Object.assign({pinningPosition:"bottom"},u))]}):x.jsx(OU,Object.assign({pinningPosition:s==="bottom"?"bottom":"top"},u))};var NU={root:"MRT_ColumnPinningButtons-module_root__scTtW",left:"MRT_ColumnPinningButtons-module_left__W6Aog",right:"MRT_ColumnPinningButtons-module_right__7AJE3"};const crn=({column:e,table:t})=>{const{options:{icons:{IconPinned:n,IconPinnedOff:r},localization:i}}=t;return x.jsx(At,{className:$t("mrt-column-pinning-buttons",NU.root),children:e.getIsPinned()?x.jsx(yt,{label:i.unpin,withinPortal:!0,children:x.jsx(Cn,{color:"gray",onClick:()=>e.pin(!1),size:"md",variant:"subtle",children:x.jsx(r,{})})}):x.jsxs(x.Fragment,{children:[x.jsx(yt,{label:i.pinToLeft,withinPortal:!0,children:x.jsx(Cn,{color:"gray",onClick:()=>e.pin("left"),size:"md",variant:"subtle",children:x.jsx(n,{className:NU.left})})}),x.jsx(yt,{label:i.pinToRight,withinPortal:!0,children:x.jsx(Cn,{color:"gray",onClick:()=>e.pin("right"),size:"md",variant:"subtle",children:x.jsx(n,{className:NU.right})})})]})})};var drn={root:"MRT_EditActionButtons-module_root__BfxVZ"};const h8e=e=>{var{row:t,table:n,variant:r="icon"}=e,i=Fn(e,["row","table","variant"]);const{getState:o,options:{icons:{IconCircleX:s,IconDeviceFloppy:a},localization:l,onCreatingRowCancel:u,onCreatingRowSave:c,onEditingRowCancel:d,onEditingRowSave:f},refs:{editInputRefs:h},setCreatingRow:m,setEditingRow:p}=n,{creatingRow:g,editingRow:y,isSaving:v}=o(),w=g?.id===t.id,E=y?.id===t.id,C=()=>{w?(u?.({row:t,table:n}),m(null)):E&&(d?.({row:t,table:n}),p(null)),t._valuesCache={}},S=()=>{var T;(T=Object.values(h?.current).filter(A=>{var D,I;return t.id===((I=(D=A?.name)===null||D===void 0?void 0:D.split("_"))===null||I===void 0?void 0:I[0])}))===null||T===void 0||T.forEach(A=>{A.value!==void 0&&Object.hasOwn(t?._valuesCache,A.name)&&(t._valuesCache[A.name]=A.value)}),w?c?.({exitCreatingMode:()=>m(null),row:t,table:n,values:t._valuesCache}):E&&f?.({exitEditingMode:()=>p(null),row:t,table:n,values:t?._valuesCache})};return x.jsx(Ie,Object.assign({className:$t("mrt-edit-action-buttons",drn.root),onClick:T=>T.stopPropagation()},i,{children:r==="icon"?x.jsxs(x.Fragment,{children:[x.jsx(yt,{label:l.cancel,withinPortal:!0,children:x.jsx(Cn,{"aria-label":l.cancel,color:"red",onClick:C,variant:"subtle",children:x.jsx(s,{})})}),x.jsx(yt,{label:l.save,withinPortal:!0,children:x.jsx(Cn,{"aria-label":l.save,color:"blue",loading:v,onClick:S,variant:"subtle",children:x.jsx(a,{})})})]}):x.jsxs(x.Fragment,{children:[x.jsx(Ut,{onClick:C,variant:"subtle",children:l.cancel}),x.jsx(Ut,{loading:v,onClick:S,variant:"filled",children:l.save})]})}))};var b3={root:"MRT_ExpandAllButton-module_root__gkBZD",chevron:"MRT_ExpandAllButton-module_chevron__Iep0j",up:"MRT_ExpandAllButton-module_up__Xth3U",right:"MRT_ExpandAllButton-module_right__bS4L-"};const frn=e=>{var t,n,{table:r}=e,i=Fn(e,["table"]);const{getCanSomeRowsExpand:o,getIsAllRowsExpanded:s,getIsSomeRowsExpanded:a,getState:l,options:{icons:{IconChevronsDown:u},localization:c,mantineExpandAllButtonProps:d,renderDetailPanel:f},toggleAllRowsExpanded:h}=r,{density:m,isLoading:p}=l(),g=Object.assign(Object.assign({},jt(d,{table:r})),i),y=s();return x.jsx(yt,{label:((t=g?.title)!==null&&t!==void 0?t:y)?c.collapseAll:c.expandAll,openDelay:1e3,withinPortal:!0,children:x.jsx(Cn,Object.assign({"aria-label":c.expandAll,color:"gray",variant:"subtle"},g,{className:$t("mrt-expand-all-button",b3.root,g?.className,m),disabled:p||!f&&!o(),onClick:()=>h(!y),title:void 0,children:(n=g?.children)!==null&&n!==void 0?n:x.jsx(u,{className:$t(b3.chevron,y?b3.up:a()?b3.right:void 0)})}))})};var E1e={root:"MRT_ShowHideColumnsMenu-module_root__2UWak",content:"MRT_ShowHideColumnsMenu-module_content__ehkWQ"},fx={root:"MRT_ShowHideColumnsMenuItems-module_root__wYgv-",menu:"MRT_ShowHideColumnsMenuItems-module_menu__CeATR",grab:"MRT_ShowHideColumnsMenuItems-module_grab__a-d-y",pin:"MRT_ShowHideColumnsMenuItems-module_pin__P437b",switch:"MRT_ShowHideColumnsMenuItems-module_switch__tMsdt",header:"MRT_ShowHideColumnsMenuItems-module_header__xVkKb"};const d_=e=>{var t,n,r,i;return(i=(t=e.id)!==null&&t!==void 0?t:(r=(n=e.accessorKey)===null||n===void 0?void 0:n.toString)===null||r===void 0?void 0:r.call(n))!==null&&i!==void 0?i:e.header},v6=e=>{const t=[],n=r=>{r.forEach(i=>{i.columns?n(i.columns):t.push(i)})};return n(e),t},p8e=({columnDefs:e,tableOptions:t})=>{const{aggregationFns:n={},defaultDisplayColumn:r,filterFns:i={},sortingFns:o={},state:{columnFilterFns:s={}}={}}=t;return e.map(a=>{var l,u;if(a.id||(a.id=d_(a)),a.columnDefType||(a.columnDefType="data"),!((l=a.columns)===null||l===void 0)&&l.length)a.columnDefType="group",a.columns=p8e({columnDefs:a.columns,tableOptions:t});else if(a.columnDefType==="data"){if(Array.isArray(a.aggregationFn)){const c=a.aggregationFn;a.aggregationFn=(d,f,h)=>c.map(m=>{var p;return(p=n[m])===null||p===void 0?void 0:p.call(n,d,f,h)})}Object.keys(i).includes(s[a.id])&&(a.filterFn=(u=i[s[a.id]])!==null&&u!==void 0?u:i.fuzzy,a._filterFn=s[a.id]),Object.keys(o).includes(a.sortingFn)&&(a.sortingFn=o[a.sortingFn])}else a.columnDefType==="display"&&(a=Object.assign(Object.assign({},r),a));return a})},m8e=(e,t,n)=>{e.getCanPin()&&e.pin(t.getIsPinned());const r=[...n];return r.splice(r.indexOf(t.id),0,r.splice(r.indexOf(e.id),1)[0]),r},hrn=e=>{const{filterVariant:t}=e;return t==="multi-select"?"arrIncludesSome":t?.includes("range")?"betweenInclusive":["checkbox","date","select"].includes(t||"")?"equals":"fuzzy"},g8e=({allColumns:e,column:t,hoveredColumn:n,setHoveredColumn:r,table:i})=>{var o;const s=uo(),{getState:a,options:{enableColumnOrdering:l,enableColumnPinning:u,enableHiding:c,localization:d},setColumnOrder:f}=i,{columnOrder:h}=a(),{columnDef:m}=t,{columnDefType:p}=m,g=p!=="group"&&t.getIsVisible()||p==="group"&&t.getLeafColumns().some(A=>A.getIsVisible()),y=A=>{var D,I;p==="group"?(I=(D=A?.columns)===null||D===void 0?void 0:D.forEach)===null||I===void 0||I.call(D,P=>{P.toggleVisibility(!g)}):A.toggleVisibility()},v=k.useRef(null),[w,E]=k.useState(!1),C=A=>{E(!0),A.dataTransfer.setDragImage(v.current,0,0)},S=A=>{E(!1),r(null),n&&f(m8e(t,n,h))},T=A=>{!w&&m.enableColumnOrdering!==!1&&r(t)};return!m.header||m.visibleInShowHideMenu===!1?null:x.jsxs(x.Fragment,{children:[x.jsx(Pn.Item,Object.assign({className:fx.root,component:"span",onDragEnter:T,ref:v,style:{"--_column-depth":`${(t.depth+.5)*2}rem`,"--_hover-color":Gnn(s)}},g6("dragging",w),g6("order-hovered",n?.id===t.id),{children:x.jsxs(Ie,{className:fx.menu,children:[p!=="group"&&l&&!e.some(A=>A.columnDef.columnDefType==="group")&&(m.enableColumnOrdering!==!1?x.jsx(die,{onDragEnd:S,onDragStart:C,table:i}):x.jsx(Ie,{className:fx.grab})),u&&(t.getCanPin()?x.jsx(crn,{column:t,table:i}):x.jsx(Ie,{className:fx.pin})),c?x.jsx(yt,{label:d.toggleVisibility,openDelay:1e3,withinPortal:!0,children:x.jsx(H0,{checked:g,className:fx.switch,disabled:!t.getCanHide(),label:m.header,onChange:()=>y(t)})}):x.jsx(Ve,{className:fx.header,children:m.header})]})})),(o=t.columns)===null||o===void 0?void 0:o.map((A,D)=>x.jsx(g8e,{allColumns:e,column:A,hoveredColumn:n,setHoveredColumn:r,table:i},`${D}-${A.id}`))]})};function cw({header:e,id:t,size:n,tableOptions:r}){const{defaultDisplayColumn:i,displayColumnDefOptions:o,localization:s}=r;return Object.assign(Object.assign(Object.assign(Object.assign({},i),{header:e?s[e]:"",size:n}),o?.[t]),{id:t})}const y8e=e=>{const{enableRowPinning:t,rowPinningDisplayMode:n}=e;return!!(t&&!n?.startsWith("select"))},v8e=e=>{const{enableRowDragging:t,enableRowOrdering:n}=e;return!!(t||n)},fie=e=>{const{enableExpanding:t,enableGrouping:n,renderDetailPanel:r,state:{grouping:i}}=e;return!!(t||n&&i?.length||r)},hie=e=>{const{createDisplayMode:t,editDisplayMode:n,enableEditing:r,enableRowActions:i,state:{creatingRow:o}}=e;return!!(i||o&&t==="row"||r&&["modal","row"].includes(n??""))},b8e=e=>!!e.enableRowSelection,w8e=e=>!!e.enableRowNumbers,x8e=e=>e.layoutMode==="grid-no-grow",prn=e=>[y8e(e)&&"mrt-row-pin",v8e(e)&&"mrt-row-drag",e.positionActionsColumn==="first"&&hie(e)&&"mrt-row-actions",e.positionExpandColumn==="first"&&fie(e)&&"mrt-row-expand",b8e(e)&&"mrt-row-select",w8e(e)&&"mrt-row-numbers"].filter(Boolean),mrn=e=>[e.positionActionsColumn==="last"&&hie(e)&&"mrt-row-actions",e.positionExpandColumn==="last"&&fie(e)&&"mrt-row-expand",x8e(e)&&"mrt-row-spacer"].filter(Boolean),pie=(e,t=!1)=>{const{state:{columnOrder:n=[]}}=e,r=prn(e),i=mrn(e),o=v6(e.columns).map(a=>d_(a));let s=t?o:Array.from(new Set([...n,...o]));return s=s.filter(a=>!r.includes(a)&&!i.includes(a)),[...r,...s,...i]},grn=({table:e})=>{const{getAllColumns:t,getAllLeafColumns:n,getCenterLeafColumns:r,getIsAllColumnsVisible:i,getIsSomeColumnsPinned:o,getIsSomeColumnsVisible:s,getLeftLeafColumns:a,getRightLeafColumns:l,getState:u,options:{enableColumnOrdering:c,enableColumnPinning:d,enableHiding:f,localization:h}}=e,{columnOrder:m,columnPinning:p}=u(),g=E=>{n().filter(C=>C.columnDef.enableHiding!==!1).forEach(C=>C.toggleVisibility(E))},y=k.useMemo(()=>{const E=t();return m.length>0&&!E.some(C=>C.columnDef.columnDefType==="group")?[...a(),...Array.from(new Set(m)).map(C=>r().find(S=>S?.id===C)),...l()].filter(Boolean):E},[m,p,t(),r(),a(),l()]),[v,w]=k.useState(null);return x.jsxs(Pn.Dropdown,{className:$t("mrt-show-hide-columns-menu",E1e.root),children:[x.jsxs(At,{className:E1e.content,children:[f&&x.jsx(Ut,{disabled:!s(),onClick:()=>g(!1),variant:"subtle",children:h.hideAll}),c&&x.jsx(Ut,{onClick:()=>e.setColumnOrder(pie(e.options,!0)),variant:"subtle",children:h.resetOrder}),d&&x.jsx(Ut,{disabled:!o(),onClick:()=>e.resetColumnPinning(!0),variant:"subtle",children:h.unpinAll}),f&&x.jsx(Ut,{disabled:i(),onClick:()=>g(!0),variant:"subtle",children:h.showAll})]}),x.jsx(Pn.Divider,{}),y.map((E,C)=>x.jsx(g8e,{allColumns:y,column:E,hoveredColumn:v,setHoveredColumn:w,table:e},`${C}-${E.id}`))]})},yrn=e=>{var{table:t,title:n}=e,r=Fn(e,["table","title"]);const{icons:{IconColumns:i},localization:{showHideColumns:o}}=t.options;return x.jsxs(Pn,{closeOnItemClick:!1,withinPortal:!0,children:[x.jsx(yt,{label:n??o,withinPortal:!0,children:x.jsx(Pn.Target,{children:x.jsx(Cn,Object.assign({"aria-label":n??o,color:"gray",size:"lg",variant:"subtle"},r,{children:x.jsx(i,{})}))})}),x.jsx(grn,{table:t})]})},vrn={md:"xs",xl:"md",xs:"xl"},brn=e=>{var{table:{getState:t,options:{icons:{IconBaselineDensityLarge:n,IconBaselineDensityMedium:r,IconBaselineDensitySmall:i},localization:{toggleDensity:o}},setDensity:s},title:a}=e,l=Fn(e,["table","title"]);const{density:u}=t();return x.jsx(yt,{label:a??o,withinPortal:!0,children:x.jsx(Cn,Object.assign({"aria-label":a??o,color:"gray",onClick:()=>s(c=>vrn[c]),size:"lg",variant:"subtle"},l,{children:u==="xs"?x.jsx(i,{}):u==="md"?x.jsx(r,{}):x.jsx(n,{})}))})},wrn=e=>{var{table:{getState:t,options:{icons:{IconFilter:n,IconFilterOff:r},localization:{showHideFilters:i}},setShowColumnFilters:o},title:s}=e,a=Fn(e,["table","title"]);const{showColumnFilters:l}=t();return x.jsx(yt,{label:s??i,withinPortal:!0,children:x.jsx(Cn,Object.assign({"aria-label":s??i,color:"gray",onClick:()=>o(u=>!u),size:"lg",variant:"subtle"},a,{children:l?x.jsx(r,{}):x.jsx(n,{})}))})},xrn=e=>{var{table:{getState:t,options:{icons:{IconMaximize:n,IconMinimize:r},localization:{toggleFullScreen:i}},setIsFullScreen:o},title:s}=e,a=Fn(e,["table","title"]);const{isFullScreen:l}=t(),[u,c]=k.useState(!1),d=()=>{c(!1),o(f=>!f)};return x.jsx(yt,{label:s??i,opened:u,withinPortal:!0,children:x.jsx(Cn,Object.assign({"aria-label":s??i,color:"gray",onClick:d,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),size:"lg",variant:"subtle"},a,{children:l?x.jsx(r,{}):x.jsx(n,{})}))})},_rn=e=>{var{table:{getState:t,options:{icons:{IconSearch:n,IconSearchOff:r},localization:{showHideSearch:i}},refs:{searchInputRef:o},setShowGlobalFilter:s},title:a}=e,l=Fn(e,["table","title"]);const{globalFilter:u,showGlobalFilter:c}=t(),d=()=>{s(!c),setTimeout(()=>{var f;return(f=o.current)===null||f===void 0?void 0:f.focus()},100)};return x.jsx(yt,{label:a??i,withinPortal:!0,children:x.jsx(Cn,Object.assign({"aria-label":a??i,color:"gray",disabled:!!u,onClick:d,size:"lg",variant:"subtle"},l,{children:c?x.jsx(r,{}):x.jsx(n,{})}))})},Ern=e=>{var{handleEdit:t,row:n,table:r}=e,i=Fn(e,["handleEdit","row","table"]);const{options:{editDisplayMode:o,enableEditing:s,icons:{IconDots:a,IconEdit:l},localization:u,positionActionsColumn:c,renderRowActionMenuItems:d}}=r;return x.jsxs(Pn,{closeOnItemClick:!0,position:c==="first"?"bottom-start":c==="last"?"bottom-end":void 0,withinPortal:!0,children:[x.jsx(yt,{label:u.rowActions,openDelay:1e3,withinPortal:!0,children:x.jsx(Pn.Target,{children:x.jsx(Cn,Object.assign({"aria-label":u.rowActions,color:"gray",onClick:f=>f.stopPropagation(),size:"sm",variant:"subtle"},i,{children:x.jsx(a,{})}))})}),x.jsxs(Pn.Dropdown,{onClick:f=>f.stopPropagation(),children:[s&&o!=="table"&&x.jsx(Pn.Item,{leftSection:x.jsx(l,{}),onClick:t,children:u.edit}),d?.({row:n,table:r})]})]})},Crn=({cell:e,row:t,table:n})=>{const{getState:r,options:{createDisplayMode:i,editDisplayMode:o,enableEditing:s,icons:{IconEdit:a},localization:{edit:l},renderRowActionMenuItems:u,renderRowActions:c},setEditingRow:d}=n,{creatingRow:f,editingRow:h}=r(),m=f?.id===t.id,p=h?.id===t.id,g=v=>{v.stopPropagation(),d(Object.assign({},t))},y=m&&i==="row"||p&&o==="row";return x.jsx(x.Fragment,{children:c&&!y?c({cell:e,row:t,table:n}):y?x.jsx(h8e,{row:t,table:n}):!u&&jt(s,t)?x.jsx(yt,{label:l,openDelay:1e3,position:"right",withinPortal:!0,children:x.jsx(Cn,{"aria-label":l,color:"gray",disabled:!!h&&h.id!==t.id,onClick:g,size:"md",variant:"subtle",children:x.jsx(a,{})})}):u?x.jsx(Ern,{handleEdit:g,row:t,table:n}):null})};var MU={root:"MRT_TableFooter-module_root__-JXpw",grid:"MRT_TableFooter-module_grid__J3Ga-",sticky:"MRT_TableFooter-module_sticky__GcoK6"},C1e={root:"MRT_TableFooterRow-module_root__EuoPr","layout-mode-grid":"MRT_TableFooterRow-module_layout-mode-grid__dUEMF"},$U={root:"MRT_TableFooterCell-module_root__d8Scs",grid:"MRT_TableFooterCell-module_grid__H9jLk",group:"MRT_TableFooterCell-module_group__l3-p-"};const Srn=e=>{var t,n,r,i,o,{footer:s,renderedColumnIndex:a,table:l}=e,u=Fn(e,["footer","renderedColumnIndex","table"]);const c=Lu(),{options:{enableColumnPinning:d,layoutMode:f,mantineTableFooterCellProps:h}}=l,{column:m}=s,{columnDef:p}=m,{columnDefType:g}=p,y=d&&p.columnDefType!=="group"&&m.getIsPinned(),v={column:m,table:l},w=Object.assign(Object.assign(Object.assign({},jt(h,v)),jt(p.mantineTableFooterCellProps,v)),u),E={minWidth:`max(calc(var(--header-${Sf(s?.id)}-size) * 1px), ${(t=p.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--header-${Sf(s.id)}-size) * 1px)`};return f==="grid"?E.flex=`${[0,!1].includes(p.grow)?0:`var(--header-${Sf(s.id)}-size)`} 0 auto`:f==="grid-no-grow"&&(E.flex=`${+(p.grow||0)} 0 auto`),x.jsx(C_,Object.assign({colSpan:s.colSpan,"data-column-pinned":y||void 0,"data-first-right-pinned":y==="right"&&m.getIsFirstColumn(y)||void 0,"data-index":a,"data-last-left-pinned":y==="left"&&m.getIsLastColumn(y)||void 0},w,{__vars:Object.assign({"--mrt-cell-align":(n=w.align)!==null&&n!==void 0?n:g==="group"?"center":c.dir==="rtl"?"right":"left","--mrt-table-cell-left":y==="left"?`${m.getStart(y)}`:void 0,"--mrt-table-cell-right":y==="right"?`${m.getAfter(y)}`:void 0},w?.__vars),className:$t($U.root,f?.startsWith("grid")&&$U.grid,g==="group"&&$U.group,w?.className),style:C=>Object.assign(Object.assign({},E),jt(w.style,C)),children:(r=w.children)!==null&&r!==void 0?r:s.isPlaceholder?null:(o=(i=jt(p.Footer,{column:m,footer:s,table:l}))!==null&&i!==void 0?i:p.footer)!==null&&o!==void 0?o:null}))},Trn=e=>{var t,{columnVirtualizer:n,footerGroup:r,table:i}=e,o=Fn(e,["columnVirtualizer","footerGroup","table"]);const{options:{layoutMode:s,mantineTableFooterRowProps:a}}=i,{virtualColumns:l,virtualPaddingLeft:u,virtualPaddingRight:c}=n??{};if(!(!((t=r.headers)===null||t===void 0)&&t.some(f=>typeof f.column.columnDef.footer=="string"&&!!f.column.columnDef.footer||f.column.columnDef.Footer)))return null;const d=Object.assign(Object.assign({},jt(a,{footerGroup:r,table:i})),o);return x.jsxs(km,Object.assign({className:$t(C1e.root,s?.startsWith("grid")&&C1e["layout-mode-grid"])},d,{children:[u?x.jsx(Ie,{component:"th",display:"flex",w:u}):null,(l??r.headers).map((f,h)=>{let m=f;return n&&(h=f.index,m=r.headers[h]),x.jsx(Srn,{footer:m,renderedColumnIndex:h,table:i},m.id)}),c?x.jsx(Ie,{component:"th",display:"flex",w:c}):null]}))},Arn=e=>{var{columnVirtualizer:t,table:n}=e,r=Fn(e,["columnVirtualizer","table"]);const{getFooterGroups:i,getState:o,options:{enableStickyFooter:s,layoutMode:a,mantineTableFooterProps:l},refs:{tableFooterRef:u}}=n,{isFullScreen:c}=o(),d=Object.assign(Object.assign({},jt(l,{table:n})),r),f=(c||s)&&s!==!1;return x.jsx(gX,Object.assign({},d,{className:$t(MU.root,d?.className,f&&MU.sticky,a?.startsWith("grid")&&MU.grid),ref:h=>{u.current=h,d?.ref&&(d.ref.current=h)},children:i().map(h=>x.jsx(Trn,{columnVirtualizer:t,footerGroup:h,table:n},h.id))}))};var r0={root:"MRT_TableHead-module_root__j9NkO","root-grid":"MRT_TableHead-module_root-grid__c3aGl","root-table-row-group":"MRT_TableHead-module_root-table-row-group__d9FO4","root-sticky":"MRT_TableHead-module_root-sticky__0kuDE","banner-tr":"MRT_TableHead-module_banner-tr__EhT-x","banner-th":"MRT_TableHead-module_banner-th__KwM5a",grid:"MRT_TableHead-module_grid__OJ-td"},FU={root:"MRT_TableHeadRow-module_root__hUKv4","layout-mode-grid":"MRT_TableHeadRow-module_layout-mode-grid__4ZGri",sticky:"MRT_TableHeadRow-module_sticky__Ej7Ax"},pa={root:"MRT_TableHeadCell-module_root__6y50a","root-grid":"MRT_TableHeadCell-module_root-grid__bAf1d","root-virtualized":"MRT_TableHeadCell-module_root-virtualized__CWLit","root-no-select":"MRT_TableHeadCell-module_root-no-select__BEOVU",content:"MRT_TableHeadCell-module_content__-pzSK","content-spaced":"MRT_TableHeadCell-module_content-spaced__S85Aa","content-center":"MRT_TableHeadCell-module_content-center__c-17L","content-right":"MRT_TableHeadCell-module_content-right__NSRZU","content-wrapper":"MRT_TableHeadCell-module_content-wrapper__py6aJ","content-wrapper-hidden-overflow":"MRT_TableHeadCell-module_content-wrapper-hidden-overflow__QY40r","content-wrapper-nowrap":"MRT_TableHeadCell-module_content-wrapper-nowrap__-4aIg",labels:"MRT_TableHeadCell-module_labels__oiMSr","labels-right":"MRT_TableHeadCell-module_labels-right__6ZJp-","labels-center":"MRT_TableHeadCell-module_labels-center__MM9q8","labels-sortable":"MRT_TableHeadCell-module_labels-sortable__tyuLr","labels-data":"MRT_TableHeadCell-module_labels-data__PvFGO","content-actions":"MRT_TableHeadCell-module_content-actions__utxbm"},krn={"filter-mode-label":"MRT_TableHeadCellFilterContainer-module_filter-mode-label__8reK-"};const _8e=(e,t,n,r)=>{const i=Etn(e.getValue(t),n,{threshold:kl.MATCHES});return r(i),i.passed};_8e.autoRemove=e=>!e;const E8e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().includes(n.toString().toLowerCase().trim())};E8e.autoRemove=e=>!e;const C8e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().startsWith(n.toString().toLowerCase().trim())};C8e.autoRemove=e=>!e;const S8e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().endsWith(n.toString().toLowerCase().trim())};S8e.autoRemove=e=>!e;const i8=(e,t,n)=>{var r;return((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())===n?.toString().toLowerCase().trim()};i8.autoRemove=e=>!e;const T8e=(e,t,n)=>{var r;return((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())!==n.toString().toLowerCase().trim()};T8e.autoRemove=e=>!e;const o8=(e,t,n)=>{var r;return!isNaN(+n)&&!isNaN(+e.getValue(t))?+e.getValue(t)>+n:((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())>n?.toString().toLowerCase().trim()};o8.autoRemove=e=>!e;const mie=(e,t,n)=>i8(e,t,n)||o8(e,t,n);mie.autoRemove=e=>!e;const s8=(e,t,n)=>{var r;return!isNaN(+n)&&!isNaN(+e.getValue(t))?+e.getValue(t)<+n:((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())<n?.toString().toLowerCase().trim()};s8.autoRemove=e=>!e;const gie=(e,t,n)=>i8(e,t,n)||s8(e,t,n);gie.autoRemove=e=>!e;const A8e=(e,t,n)=>(["",void 0].includes(n[0])||o8(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||s8(e,t,n[1]));A8e.autoRemove=e=>!e;const k8e=(e,t,n)=>(["",void 0].includes(n[0])||mie(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||gie(e,t,n[1]));k8e.autoRemove=e=>!e;const R8e=(e,t,n)=>{var r;return!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().trim())};R8e.autoRemove=e=>!e;const I8e=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().trim())};I8e.autoRemove=e=>!e;const Rrn=Object.assign(Object.assign({},kh),{between:A8e,betweenInclusive:k8e,contains:E8e,empty:R8e,endsWith:S8e,equals:i8,fuzzy:_8e,greaterThan:o8,greaterThanOrEqualTo:mie,lessThan:s8,lessThanOrEqualTo:gie,notEmpty:I8e,notEquals:T8e,startsWith:C8e});function yie(e,t){var n;if(!t)return"";const r=`filter${t[0].toUpperCase()}${t.slice(1)}`;return(n=e[r])!==null&&n!==void 0?n:""}var Irn={root:"MRT_FilterCheckBox-module_root__59h9r"};const Drn=e=>{var t,n,r,{column:i,table:o}=e,s=Fn(e,["column","table"]);const{getState:a,options:{localization:l,mantineFilterCheckboxProps:u}}=o,{density:c}=a(),{columnDef:d}=i,f={column:i,table:o},h=Object.assign(Object.assign(Object.assign({},jt(u,f)),jt(d.mantineFilterCheckboxProps,f)),s),m=(t=l.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",d.header),p=i.getFilterValue();return x.jsx(yt,{label:(n=h?.title)!==null&&n!==void 0?n:m,openDelay:1e3,withinPortal:!0,children:x.jsx(tl,Object.assign({checked:p==="true",className:$t("mrt-filter-checkbox",Irn.root),indeterminate:p===void 0,label:(r=h.title)!==null&&r!==void 0?r:m,size:c==="xs"?"sm":"md"},h,{onChange:g=>{var y;i.setFilterValue(i.getFilterValue()===void 0?"true":i.getFilterValue()==="true"?"false":void 0),(y=h?.onChange)===null||y===void 0||y.call(h,g)},onClick:g=>{var y;g.stopPropagation(),(y=h?.onClick)===null||y===void 0||y.call(h,g)},title:void 0}))})};var Prn={root:"MRT_FilterRangeFields-module_root__KfCcg"},XS={root:"MRT_FilterTextInput-module_root__Ss8Ql","date-filter":"MRT_FilterTextInput-module_date-filter__jOBLB","range-filter":"MRT_FilterTextInput-module_range-filter__JQHAL","not-filter-chip":"MRT_FilterTextInput-module_not-filter-chip__u8b1y","filter-chip-badge":"MRT_FilterTextInput-module_filter-chip-badge__Sel2k"};const VG=e=>{var t,n,r,i,o,s,a,l,{header:u,rangeFilterIndex:c,table:d}=e,f=Fn(e,["header","rangeFilterIndex","table"]);const{options:{columnFilterDisplayMode:h,columnFilterModeOptions:m,icons:{IconX:p},localization:g,mantineFilterAutocompleteProps:y,mantineFilterDateInputProps:v,mantineFilterMultiSelectProps:w={clearable:!0},mantineFilterSelectProps:E,mantineFilterTextInputProps:C,manualFiltering:S},refs:{filterInputRefs:T},setColumnFilterFns:A}=d,{column:D}=u,{columnDef:I}=D,P={column:D,rangeFilterIndex:c,table:d},N=Object.assign(Object.assign(Object.assign({},jt(C,P)),jt(I.mantineFilterTextInputProps,P)),f),$=Object.assign(Object.assign({},jt(E,P)),jt(I.mantineFilterSelectProps,P)),O=Object.assign(Object.assign({},jt(w,P)),jt(I.mantineFilterMultiSelectProps,P)),j=Object.assign(Object.assign({},jt(v,P)),jt(I.mantineFilterDateInputProps,P)),B=Object.assign(Object.assign({},jt(y,P)),jt(I.mantineFilterAutocompleteProps,P)),H=I.filterVariant==="range"||I.filterVariant==="date-range"||c!==void 0,q=I.filterVariant==="select",Y=I.filterVariant==="multi-select",V=I.filterVariant==="date"||I.filterVariant==="date-range",L=I.filterVariant==="autocomplete",U=(t=I?.columnFilterModeOptions)!==null&&t!==void 0?t:m,z=I._filterFn,G=["empty","notEmpty"].includes(z)?yie(g,z):"",Q=H?c===0?g.min:c===1?g.max:"":(n=N?.placeholder)!==null&&n!==void 0?n:(r=g.filterByColumn)===null||r===void 0?void 0:r.replace("{column}",String(I.header)),te=D.getFacetedUniqueValues(),de=k.useMemo(()=>{var ee,pe,Re;return((Re=(pe=(ee=B?.data)!==null&&ee!==void 0?ee:$?.data)!==null&&pe!==void 0?pe:O?.data)!==null&&Re!==void 0?Re:(L||q||Y)&&te?Array.from(te.keys()).filter(Se=>Se!==null).sort((Se,be)=>Se.localeCompare(be)):[]).filter(Se=>Se!=null)},[B?.data,te,L,Y,q,O?.data,$?.data]),se=k.useRef(!1),[ae,he]=k.useState(()=>{var ee,pe;return Y?D.getFilterValue()||[]:H?((ee=D.getFilterValue())===null||ee===void 0?void 0:ee[c])||"":(pe=D.getFilterValue())!==null&&pe!==void 0?pe:""}),[ie]=Vxe(ae,S?400:200);k.useEffect(()=>{se.current&&(H?D.setFilterValue(ee=>{const pe=Array.isArray(ee)?ee:["",""];return pe[c]=ie,pe}):D.setFilterValue(ie??void 0))},[ie]),k.useEffect(()=>{if(!se.current){se.current=!0;return}const ee=D.getFilterValue();ee===void 0?le():he(H&&c!==void 0?(ee??["",""])[c]:ee??"")},[D.getFilterValue()]);const le=()=>{Y?(he([]),D.setFilterValue([])):H?(he(""),D.setFilterValue(ee=>{const pe=Array.isArray(ee)?ee:["",""];return pe[c]=void 0,pe})):q?(he(null),D.setFilterValue(null)):(he(""),D.setFilterValue(void 0))},Ce=()=>{Y?(he([]),D.setFilterValue([])):(he(""),D.setFilterValue(void 0)),A(ee=>{var pe;return Object.assign(Object.assign({},ee),{[u.id]:(pe=U?.[0])!==null&&pe!==void 0?pe:"fuzzy"})})},X={"aria-label":Q,className:$t("mrt-filter-text-input",XS.root,V?XS["date-filter"]:H?XS["range-filter"]:!G&&XS["not-filter-chip"]),disabled:!!G,onChange:he,onClick:ee=>ee.stopPropagation(),placeholder:Q,style:Object.assign({},Y?O?.style:q?$?.style:V?j?.style:N?.style),title:Q,value:Y&&!Array.isArray(ae)?[]:ae,variant:"unstyled"},{className:fe}=X,ce=Fn(X,["className"]),ne=ae?x.jsx(Cn,{"aria-label":g.clearFilter,color:"var(--mantine-color-gray-7)",onClick:le,size:"sm",title:(i=g.clearFilter)!==null&&i!==void 0?i:"",variant:"transparent",children:x.jsx(p,{})}):null;return I.Filter?x.jsx(x.Fragment,{children:(o=I.Filter)===null||o===void 0?void 0:o.call(I,{column:D,header:u,rangeFilterIndex:c,table:d})}):G?x.jsx(Ie,{style:ce.style,children:x.jsx(us,{className:XS["filter-chip-badge"],onClick:Ce,rightSection:ne,size:"lg",children:G})}):Y?x.jsx(RE,Object.assign({},ce,{searchable:!0},O,{className:$t(fe,O.className),data:de,onChange:ee=>he(ee),ref:ee=>{ee&&(T.current[`${D.id}-${c??0}`]=ee,O.ref&&(O.ref.current=ee))},rightSection:!((s=ae?.toString())===null||s===void 0)&&s.length&&O?.clearable?ne:void 0,style:ce.style})):q?x.jsx(Hm,Object.assign({},ce,{clearable:!0,searchable:!0},$,{className:$t(fe,$.className),clearButtonProps:{size:"md"},data:de,ref:ee=>{ee&&(T.current[`${D.id}-${c??0}`]=ee,$.ref&&($.ref.current=ee))},style:ce.style})):V?x.jsx(cie,Object.assign({},ce,{allowDeselect:!0,clearable:!0,popoverProps:{withinPortal:h!=="popover"}},j,{className:$t(fe,j.className),onChange:ee=>ce.onChange(ee===null?"":ee),ref:ee=>{ee&&(T.current[`${D.id}-${c??0}`]=ee,j.ref&&(j.ref.current=ee))},style:ce.style})):L?x.jsx(kK,Object.assign({},ce,{onChange:ee=>he(ee),rightSection:!((a=ae?.toString())===null||a===void 0)&&a.length?ne:void 0},B,{className:$t(fe,B.className),data:de,ref:ee=>{ee&&(T.current[`${D.id}-${c??0}`]=ee,B.ref&&(B.ref.current=ee))},style:ce.style})):x.jsx($l,Object.assign({},ce,{onChange:ee=>he(ee.target.value),rightSection:!((l=ae?.toString())===null||l===void 0)&&l.length?ne:void 0},N,{className:$t(fe,N.className),mt:0,ref:ee=>{ee&&(T.current[`${D.id}-${c??0}`]=ee,N.ref&&(N.ref.current=ee))},style:ce.style}))},Orn=e=>{var{header:t,table:n}=e,r=Fn(e,["header","table"]);return x.jsxs(Ie,Object.assign({},r,{className:$t("mrt-filter-range-fields",Prn.root,r.className),children:[x.jsx(VG,{header:t,rangeFilterIndex:0,table:n}),x.jsx(VG,{header:t,rangeFilterIndex:1,table:n})]}))};var Nrn={root:"MRT_FilterRangeSlider-module_root__uwYEk"};const Mrn=e=>{var t,{header:n,table:r}=e,i=Fn(e,["header","table"]);const{options:{mantineFilterRangeSliderProps:o},refs:{filterInputRefs:s}}=r,{column:a}=n,{columnDef:l}=a,u={column:a,table:r},c=Object.assign(Object.assign(Object.assign({},jt(o,u)),jt(l.mantineFilterRangeSliderProps,u)),i);let[d,f]=c.min!==void 0&&c.max!==void 0?[c.min,c.max]:(t=a.getFacetedMinMaxValues())!==null&&t!==void 0?t:[0,1];Array.isArray(d)&&(d=d[0]),Array.isArray(f)&&(f=f[0]),d===null&&(d=0),f===null&&(f=1);const[h,m]=k.useState([d,f]),p=a.getFilterValue(),g=k.useRef(!1);return k.useEffect(()=>{g.current&&(p===void 0?m([d,f]):Array.isArray(p)&&m(p)),g.current=!0},[p,d,f]),x.jsx(fX,Object.assign({className:$t("mrt-filter-range-slider",Nrn.root),max:f,min:d,onChange:y=>{m(y)},onChangeEnd:y=>{Array.isArray(y)&&(y[0]<=d&&y[1]>=f?a.setFilterValue(void 0):a.setFilterValue(y))},value:h},c,{ref:y=>{y&&(s.current[`${a.id}-0`]=y,c?.ref&&(c.ref=y))}}))};var $rn={symbol:"MRT_FilterOptionMenu-module_symbol__a1Bsy"};const Frn=e=>[{divider:!1,label:e.filterFuzzy,option:"fuzzy",symbol:""},{divider:!1,label:e.filterContains,option:"contains",symbol:"*"},{divider:!1,label:e.filterStartsWith,option:"startsWith",symbol:"a"},{divider:!0,label:e.filterEndsWith,option:"endsWith",symbol:"z"},{divider:!1,label:e.filterEquals,option:"equals",symbol:"="},{divider:!0,label:e.filterNotEquals,option:"notEquals",symbol:""},{divider:!1,label:e.filterBetween,option:"between",symbol:""},{divider:!0,label:e.filterBetweenInclusive,option:"betweenInclusive",symbol:""},{divider:!1,label:e.filterGreaterThan,option:"greaterThan",symbol:">"},{divider:!1,label:e.filterGreaterThanOrEqualTo,option:"greaterThanOrEqualTo",symbol:""},{divider:!1,label:e.filterLessThan,option:"lessThan",symbol:"<"},{divider:!0,label:e.filterLessThanOrEqualTo,option:"lessThanOrEqualTo",symbol:""},{divider:!1,label:e.filterEmpty,option:"empty",symbol:""},{divider:!1,label:e.filterNotEmpty,option:"notEmpty",symbol:"!"}],w3=["between","betweenInclusive","inNumberRange"],LU=["empty","notEmpty"],Lrn=["arrIncludesSome","arrIncludesAll","arrIncludes"],S1e=["range-slider","date-range","range"],D8e=({header:e,onSelect:t,table:n})=>{var r,i,o,s;const{getState:a,options:{columnFilterModeOptions:l,globalFilterModeOptions:u,localization:c,renderColumnFilterModeMenuItems:d,renderGlobalFilterModeMenuItems:f},setColumnFilterFns:h,setGlobalFilterFn:m}=n,{globalFilterFn:p}=a(),{column:g}=e??{},{columnDef:y}=g??{},v=g?.getFilterValue();let w=(r=y?.columnFilterModeOptions)!==null&&r!==void 0?r:l;S1e.includes(y?.filterVariant)&&(w=[...w3,...w??[]].filter(T=>w3.includes(T)));const E=k.useMemo(()=>Frn(c).filter(T=>y?w===void 0||w?.includes(T.option):(!u||u.includes(T.option))&&["contains","fuzzy","startsWith"].includes(T.option)),[]),C=T=>{var A;const D=(A=y?._filterFn)!==null&&A!==void 0?A:"";!e||!g?m(T):T!==D&&(h(I=>Object.assign(Object.assign({},I),{[e.id]:T})),LU.includes(T)?v!==" "&&!LU.includes(D)?g.setFilterValue(" "):v&&g.setFilterValue(v):y?.filterVariant==="multi-select"||Lrn.includes(T)?v instanceof String||v?.length?g.setFilterValue([]):v&&g.setFilterValue(v):S1e.includes(y?.filterVariant)||w3.includes(T)?!Array.isArray(v)||!v?.every(I=>I==="")&&!w3.includes(D)?g.setFilterValue(["",""]):g.setFilterValue(v):Array.isArray(v)?g.setFilterValue(""):v===" "&&LU.includes(D)?g.setFilterValue(void 0):g.setFilterValue(v)),t?.()},S=e&&y?y._filterFn:p;return x.jsx(Pn.Dropdown,{children:(s=e&&g&&y?(o=(i=y.renderColumnFilterModeMenuItems)===null||i===void 0?void 0:i.call(y,{column:g,internalFilterOptions:E,onSelectFilterMode:C,table:n}))!==null&&o!==void 0?o:d?.({column:g,internalFilterOptions:E,onSelectFilterMode:C,table:n}):f?.({internalFilterOptions:E,onSelectFilterMode:C,table:n}))!==null&&s!==void 0?s:E.map(({divider:T,label:A,option:D,symbol:I},P)=>x.jsxs(k.Fragment,{children:[x.jsx(Pn.Item,{color:D===S?"blue":void 0,leftSection:x.jsx("span",{className:$rn.symbol,children:I}),onClick:()=>C(D),value:D,children:A}),T&&x.jsx(Pn.Divider,{})]},P))})},P8e=e=>{var t,n,{header:r,table:i}=e,o=Fn(e,["header","table"]);const{getState:s,options:{columnFilterDisplayMode:a,columnFilterModeOptions:l,enableColumnFilterModes:u,icons:{IconFilterCog:c},localization:d},refs:{filterInputRefs:f}}=i,{showColumnFilters:h}=s(),{column:m}=r,{columnDef:p}=m,g=p._filterFn,y=(t=p?.columnFilterModeOptions)!==null&&t!==void 0?t:l,v=u&&p.enableColumnFilterModes!==!1&&(y===void 0||!!y?.length);return x.jsx(Cp,{in:h||a==="popover",children:x.jsxs(At,Object.assign({direction:"column"},o,{children:[x.jsxs(At,{align:"flex-end",children:[p.filterVariant==="checkbox"?x.jsx(Drn,{column:m,table:i}):p.filterVariant==="range-slider"?x.jsx(Mrn,{header:r,table:i}):["date-range","range"].includes((n=p.filterVariant)!==null&&n!==void 0?n:"")||["between","betweenInclusive","inNumberRange"].includes(p._filterFn)?x.jsx(Orn,{header:r,table:i}):x.jsx(VG,{header:r,table:i}),v&&x.jsxs(Pn,{withinPortal:a!=="popover",children:[x.jsx(yt,{label:d.changeFilterMode,position:"bottom-start",withinPortal:!0,children:x.jsx(Pn.Target,{children:x.jsx(Cn,{"aria-label":d.changeFilterMode,color:"gray",size:"md",variant:"subtle",children:x.jsx(c,{})})})}),x.jsx(D8e,{header:r,onSelect:()=>setTimeout(()=>{var w;return(w=f.current[`${m.id}-0`])===null||w===void 0?void 0:w.focus()},100),table:i})]})]}),v?x.jsx(Ve,{c:"dimmed",className:krn["filter-mode-label"],component:"label",children:d.filterMode.replace("{filterType}",yie(d,g))}):null]}))})};var jrn={root:"MRT_TableHeadCellFilterLabel-module_root__Rur2R"};const Brn=e=>{var t,n,r,{header:i,table:o}=e,s=Fn(e,["header","table"]);const{options:{columnFilterDisplayMode:a,icons:{IconFilter:l},localization:u},refs:{filterInputRefs:c},setShowColumnFilters:d}=o,{column:f}=i,{columnDef:h}=f,m=f.getFilterValue(),[p,g]=k.useState(!1),y=Array.isArray(m)&&m.some(Boolean)||!!m&&!Array.isArray(m),v=h.filterVariant==="range"||h.filterVariant==="date-range"||["between","betweenInclusive","inNumberRange"].includes(h._filterFn),w=h._filterFn,E=h.filterTooltipValueFn||(S=>S),C=a==="popover"&&!y?(t=u.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",String(h.header)):u.filteringByColumn.replace("{column}",String(h.header)).replace("{filterType}",yie(u,w)).replace("{filterValue}",`"${Array.isArray(f.getFilterValue())?f.getFilterValue().map(S=>E(S)).join(`" ${v?u.and:u.or} "`):E(f.getFilterValue())}"`).replace('" "',"");return x.jsx(x.Fragment,{children:x.jsxs(Or,{keepMounted:h.filterVariant==="range-slider",onChange:g,onClose:()=>g(!1),opened:p,position:"top",shadow:"xl",width:360,withinPortal:!0,children:[x.jsx(Ad,{mounted:a==="popover"||!!f.getFilterValue()&&!v||v&&(!!(!((n=f.getFilterValue())===null||n===void 0)&&n[0])||!!(!((r=f.getFilterValue())===null||r===void 0)&&r[1])),transition:"scale",children:()=>x.jsx(Or.Target,{children:x.jsx(yt,{disabled:p,label:C,multiline:!0,w:C.length>40?300:void 0,withinPortal:!0,children:x.jsx(Cn,Object.assign({className:$t("mrt-table-head-cell-filter-label-icon",jrn.root),size:18},g6("active",y),{onClick:S=>{S.stopPropagation(),a==="popover"?g(T=>!T):d(!0),setTimeout(()=>{const T=c.current[`${f.id}-0`];T?.focus(),T?.select()},100)}},s,{children:x.jsx(l,{size:"100%"})}))})})}),a==="popover"&&x.jsx(Or.Dropdown,{onClick:S=>S.stopPropagation(),onKeyDown:S=>S.key==="Enter"&&g(!1),onMouseDown:S=>S.stopPropagation(),children:x.jsx(P8e,{header:i,table:o})})]})})},zrn=e=>{var{column:t,table:n,tableHeadCellRef:r}=e,i=Fn(e,["column","table","tableHeadCellRef"]);const{getState:o,options:{enableColumnOrdering:s,mantineColumnDragHandleProps:a},setColumnOrder:l,setDraggingColumn:u,setHoveredColumn:c}=n,{columnDef:d}=t,{columnOrder:f,draggingColumn:h,hoveredColumn:m}=o(),p={column:t,table:n},g=Object.assign(Object.assign(Object.assign({},jt(a,p)),jt(d.mantineColumnDragHandleProps,p)),i),y=w=>{var E;(E=g?.onDragStart)===null||E===void 0||E.call(g,w),u(t),w.dataTransfer.setDragImage(r.current,0,0)},v=w=>{var E;(E=g?.onDragEnd)===null||E===void 0||E.call(g,w),m?.id==="drop-zone"?t.toggleGrouping():s&&m&&m?.id!==h?.id&&l(m8e(t,m,f)),u(null),c(null)};return x.jsx(die,{actionIconProps:g,onDragEnd:v,onDragStart:y,table:n})};var jU={root:"MRT_TableHeadCellResizeHandle-module_root__paufe","root-ltr":"MRT_TableHeadCellResizeHandle-module_root-ltr__652AZ","root-rtl":"MRT_TableHeadCellResizeHandle-module_root-rtl__5VlSo","root-hide":"MRT_TableHeadCellResizeHandle-module_root-hide__-ILlD"};const Urn=e=>{var t,{header:n,table:r}=e,i=Fn(e,["header","table"]);const{getState:o,options:{columnResizeDirection:s,columnResizeMode:a},setColumnSizingInfo:l}=r,{density:u}=o(),{column:c}=n,d=n.getResizeHandler(),f=c.getIsResizing()&&a==="onEnd"?`translateX(${(s==="rtl"?-1:1)*((t=o().columnSizingInfo.deltaOffset)!==null&&t!==void 0?t:0)}px)`:void 0;return x.jsx(Ie,Object.assign({onDoubleClick:()=>{l(h=>Object.assign(Object.assign({},h),{isResizingColumn:!1})),c.resetSize()},onMouseDown:d,onTouchStart:d,role:"separator"},i,{__vars:Object.assign({"--mrt-transform":f},i.__vars),className:$t("mrt-table-head-cell-resize-handle",jU.root,jU[`root-${s}`],!n.subHeaders.length&&a==="onChange"&&jU["root-hide"],u,i.className)}))};var T1e={"sort-icon":"MRT_TableHeadCellSortLabel-module_sort-icon__zs1xA","multi-sort-indicator":"MRT_TableHeadCellSortLabel-module_multi-sort-indicator__MGBj2"};const Vrn=e=>{var{header:t,table:n}=e,r=Fn(e,["header","table"]);const{getState:i,options:{icons:{IconArrowsSort:o,IconSortAscending:s,IconSortDescending:a},localization:l}}=n,u=t.column,{columnDef:c}=u,{sorting:d}=i(),f=u.getIsSorted(),h=u.getSortIndex(),m=f?f==="desc"?l.sortedByColumnDesc.replace("{column}",c.header):l.sortedByColumnAsc.replace("{column}",c.header):u.getNextSortingOrder()==="desc"?l.sortByColumnDesc.replace("{column}",c.header):l.sortByColumnAsc.replace("{column}",c.header),p=x.jsx(Cn,Object.assign({"aria-label":m},g6("sorted",f),r,{className:$t("mrt-table-head-sort-button",T1e["sort-icon"],r.className),children:f==="desc"?x.jsx(a,{size:"100%"}):f==="asc"?x.jsx(s,{size:"100%"}):x.jsx(o,{size:"100%"})}));return x.jsx(yt,{label:m,openDelay:1e3,withinPortal:!0,children:d.length<2||h===-1?p:x.jsx(a$,{className:$t("mrt-table-head-multi-sort-indicator",T1e["multi-sort-indicator"]),inline:!0,label:h+1,offset:4,children:p})})};var A1e={left:"MRT_ColumnActionMenu-module_left__cfNmY",right:"MRT_ColumnActionMenu-module_right__-nK56"};const Hrn=e=>{var t,n,r,i,o,s,a,l,u,c,{header:d,table:f}=e,h=Fn(e,["header","table"]);const{getState:m,options:{columnFilterDisplayMode:p,enableColumnFilters:g,enableColumnPinning:y,enableColumnResizing:v,enableGrouping:w,enableHiding:E,enableSorting:C,enableSortingRemoval:S,icons:{IconArrowAutofitContent:T,IconBoxMultiple:A,IconClearAll:D,IconColumns:I,IconDotsVertical:P,IconEyeOff:N,IconFilter:$,IconFilterOff:O,IconPinned:j,IconPinnedOff:B,IconSortAscending:H,IconSortDescending:q},localization:Y,mantineColumnActionsButtonProps:V,renderColumnActionsMenuItems:L},refs:{filterInputRefs:U},setColumnOrder:z,setColumnSizingInfo:G,setShowColumnFilters:Q,toggleAllColumnsVisible:te}=f,{column:de}=d,{columnDef:se}=de,{columnSizing:ae,columnVisibility:he}=m(),ie={column:de,table:f},le=Object.assign(Object.assign({},jt(V,ie)),jt(se.mantineColumnActionsButtonProps,ie)),Ce=()=>{de.clearSorting()},X=()=>{de.toggleSorting(!1)},fe=()=>{de.toggleSorting(!0)},ce=()=>{G(Ae=>Object.assign(Object.assign({},Ae),{isResizingColumn:!1})),de.resetSize()},ne=()=>{de.toggleVisibility(!1)},ee=Ae=>{de.pin(Ae)},pe=()=>{de.toggleGrouping(),z(Ae=>["mrt-row-expand",...Ae])},Re=()=>{de.setFilterValue("")},Se=()=>{Q(!0),setTimeout(()=>{var Ae;return(Ae=U.current[`${de.id}-0`])===null||Ae===void 0?void 0:Ae.focus()},100)},be=()=>{te(!0)},Ne=x.jsxs(x.Fragment,{children:[C&&de.getCanSort()&&x.jsxs(x.Fragment,{children:[S!==!1&&x.jsx(Pn.Item,{disabled:!de.getIsSorted(),leftSection:x.jsx(D,{}),onClick:Ce,children:Y.clearSort}),x.jsx(Pn.Item,{disabled:de.getIsSorted()==="asc",leftSection:x.jsx(H,{}),onClick:X,children:(t=Y.sortByColumnAsc)===null||t===void 0?void 0:t.replace("{column}",String(se.header))}),x.jsx(Pn.Item,{disabled:de.getIsSorted()==="desc",leftSection:x.jsx(q,{}),onClick:fe,children:(n=Y.sortByColumnDesc)===null||n===void 0?void 0:n.replace("{column}",String(se.header))}),(g||w||E)&&x.jsx(Pn.Divider,{},3)]}),g&&p!=="popover"&&de.getCanFilter()&&x.jsxs(x.Fragment,{children:[x.jsx(Pn.Item,{disabled:!de.getFilterValue(),leftSection:x.jsx(O,{}),onClick:Re,children:Y.clearFilter}),x.jsx(Pn.Item,{leftSection:x.jsx($,{}),onClick:Se,children:(r=Y.filterByColumn)===null||r===void 0?void 0:r.replace("{column}",String(se.header))}),(w||E)&&x.jsx(Pn.Divider,{},2)]}),w&&de.getCanGroup()&&x.jsxs(x.Fragment,{children:[x.jsx(Pn.Item,{leftSection:x.jsx(A,{}),onClick:pe,children:(i=Y[de.getIsGrouped()?"ungroupByColumn":"groupByColumn"])===null||i===void 0?void 0:i.replace("{column}",String(se.header))}),y&&x.jsx(Pn.Divider,{})]}),y&&de.getCanPin()&&x.jsxs(x.Fragment,{children:[x.jsx(Pn.Item,{disabled:de.getIsPinned()==="left"||!de.getCanPin(),leftSection:x.jsx(j,{className:A1e.left}),onClick:()=>ee("left"),children:Y.pinToLeft}),x.jsx(Pn.Item,{disabled:de.getIsPinned()==="right"||!de.getCanPin(),leftSection:x.jsx(j,{className:A1e.right}),onClick:()=>ee("right"),children:Y.pinToRight}),x.jsx(Pn.Item,{disabled:!de.getIsPinned(),leftSection:x.jsx(B,{}),onClick:()=>ee(!1),children:Y.unpin}),E&&x.jsx(Pn.Divider,{})]}),v&&de.getCanResize()&&x.jsx(Pn.Item,{disabled:!ae[de.id],leftSection:x.jsx(T,{}),onClick:ce,children:Y.resetColumnSize},0),E&&x.jsxs(x.Fragment,{children:[x.jsx(Pn.Item,{disabled:!de.getCanHide(),leftSection:x.jsx(N,{}),onClick:ne,children:(o=Y.hideColumn)===null||o===void 0?void 0:o.replace("{column}",String(se.header))},0),x.jsx(Pn.Item,{disabled:!Object.values(he).filter(Ae=>!Ae).length,leftSection:x.jsx(I,{}),onClick:be,children:(s=Y.showAllColumns)===null||s===void 0?void 0:s.replace("{column}",String(se.header))},1)]})]});return x.jsxs(Pn,Object.assign({closeOnItemClick:!0,position:"bottom-start",withinPortal:!0},h,{children:[x.jsx(yt,{label:(a=le?.title)!==null&&a!==void 0?a:Y.columnActions,openDelay:1e3,withinPortal:!0,children:x.jsx(Pn.Target,{children:x.jsx(Cn,Object.assign({"aria-label":Y.columnActions,color:"gray",size:"sm",variant:"subtle"},le,{children:x.jsx(P,{size:"100%"})}))})}),x.jsx(Pn.Dropdown,{children:(c=(u=(l=se.renderColumnActionsMenuItems)===null||l===void 0?void 0:l.call(se,{column:de,internalColumnMenuItems:Ne,table:f}))!==null&&u!==void 0?u:L?.({column:de,internalColumnMenuItems:Ne,table:f}))!==null&&c!==void 0?c:Ne})]}))},qrn=e=>{var t,n,r,i,o,s,{columnVirtualizer:a,header:l,renderedHeaderIndex:u=0,table:c}=e,d=Fn(e,["columnVirtualizer","header","renderedHeaderIndex","table"]);const f=Lu(),{getState:h,options:{columnFilterDisplayMode:m,columnResizeDirection:p,columnResizeMode:g,enableColumnActions:y,enableColumnDragging:v,enableColumnOrdering:w,enableColumnPinning:E,enableGrouping:C,enableHeaderActionsHoverReveal:S,enableMultiSort:T,layoutMode:A,mantineTableHeadCellProps:D},refs:{tableHeadCellRefs:I},setHoveredColumn:P}=c,{columnSizingInfo:N,draggingColumn:$,grouping:O,hoveredColumn:j}=h(),{column:B}=l,{columnDef:H}=B,{columnDefType:q}=H,Y={column:B,table:c},V=Object.assign(Object.assign(Object.assign({},jt(D,Y)),jt(H.mantineTableHeadCellProps,Y)),d),L={minWidth:`max(calc(var(--header-${Sf(l?.id)}-size) * 1px), ${(t=H.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--header-${Sf(l.id)}-size) * 1px)`};A==="grid"?L.flex=`${[0,!1].includes(H.grow)?0:`var(--header-${Sf(l.id)}-size)`} 0 auto`:A==="grid-no-grow"&&(L.flex=`${+(H.grow||0)} 0 auto`);const U=E&&H.columnDefType!=="group"&&B.getIsPinned(),z=$?.id===B.id,G=j?.id===B.id,{hovered:Q,ref:te}=cUe(),[de,se]=k.useState(!1),ae=(y||H.enableColumnActions)&&H.enableColumnActions!==!1,he=!S||de||Q&&!c.getVisibleFlatColumns().find(fe=>fe.getIsResizing()),ie=v!==!1&&H.enableColumnDragging!==!1&&(v||w&&H.enableColumnOrdering!==!1||C&&H.enableGrouping!==!1&&!O.includes(B.id))&&he,le=k.useMemo(()=>{let fe=0;return B.getCanSort()&&fe++,he&&(fe+=1.75),ie&&(fe+=1.25),fe},[he,ie]),Ce=fe=>{C&&j?.id==="drop-zone"&&P(null),w&&$&&q!=="group"&&P(H.enableColumnOrdering!==!1?B:null)},X=H?.Header instanceof Function?(n=H?.Header)===null||n===void 0?void 0:n.call(H,{column:B,header:l,table:c}):(r=H?.Header)!==null&&r!==void 0?r:H.header;return x.jsxs(C_,Object.assign({colSpan:l.colSpan,"data-column-pinned":U||void 0,"data-dragging-column":z||void 0,"data-first-right-pinned":U==="right"&&B.getIsFirstColumn(U)||void 0,"data-hovered-column-target":G||void 0,"data-index":u,"data-last-left-pinned":U==="left"&&B.getIsLastColumn(U)||void 0,"data-resizing":g==="onChange"&&N?.isResizingColumn===B.id&&p||void 0},V,{__vars:{"--mrt-table-cell-left":U==="left"?`${B.getStart(U)}`:void 0,"--mrt-table-cell-right":U==="right"?`${B.getAfter(U)}`:void 0},align:q==="group"?"center":f.dir==="rtl"?"right":"left",className:$t(pa.root,A?.startsWith("grid")&&pa["root-grid"],T&&B.getCanSort()&&pa["root-no-select"],a&&pa["root-virtualized"],V?.className),onDragEnter:Ce,ref:fe=>{var ce;fe&&(I.current[B.id]=fe,te.current=fe,q!=="group"&&((ce=a?.measureElement)===null||ce===void 0||ce.call(a,fe)))},style:fe=>Object.assign(Object.assign({},L),jt(V?.style,fe)),children:[l.isPlaceholder?null:(i=V.children)!==null&&i!==void 0?i:x.jsxs(At,{className:$t("mrt-table-head-cell-content",pa.content,(q==="group"||V?.align==="center")&&pa["content-center"],V?.align==="right"&&pa["content-right"],B.getCanResize()&&pa["content-spaced"]),children:[x.jsxs(At,{__vars:{"--mrt-table-head-cell-labels-padding-left":`${le}`},className:$t("mrt-table-head-cell-labels",pa.labels,B.getCanSort()&&q!=="group"&&pa["labels-sortable"],V?.align==="right"?pa["labels-right"]:V?.align==="center"&&pa["labels-center"],q==="data"&&pa["labels-data"]),onClick:B.getToggleSortingHandler(),children:[x.jsx(At,{className:$t("mrt-table-head-cell-content-wrapper",pa["content-wrapper"],q==="data"&&pa["content-wrapper-hidden-overflow"],((s=(o=H.header)===null||o===void 0?void 0:o.length)!==null&&s!==void 0?s:0)<20&&pa["content-wrapper-nowrap"]),children:X}),B.getCanFilter()&&(B.getIsFiltered()||he)&&x.jsx(Brn,{header:l,table:c}),B.getCanSort()&&(B.getIsSorted()||he)&&x.jsx(Vrn,{header:l,table:c})]}),q!=="group"&&x.jsxs(At,{className:$t("mrt-table-head-cell-content-actions",pa["content-actions"]),children:[ie&&x.jsx(zrn,{column:B,table:c,tableHeadCellRef:{current:I.current[B.id]}}),ae&&he&&x.jsx(Hrn,{header:l,onChange:se,opened:de,table:c})]}),B.getCanResize()&&x.jsx(Urn,{header:l,table:c})]}),m==="subheader"&&B.getCanFilter()&&x.jsx(P8e,{header:l,table:c})]}))},Wrn=e=>{var{columnVirtualizer:t,headerGroup:n,table:r}=e,i=Fn(e,["columnVirtualizer","headerGroup","table"]);const{getState:o,options:{enableStickyHeader:s,layoutMode:a,mantineTableHeadRowProps:l}}=r,{isFullScreen:u}=o(),{virtualColumns:c,virtualPaddingLeft:d,virtualPaddingRight:f}=t??{},h=Object.assign(Object.assign({},jt(l,{headerGroup:n,table:r})),i);return x.jsxs(km,Object.assign({},h,{className:$t(FU.root,(s||u)&&FU.sticky,a?.startsWith("grid")&&FU["layout-mode-grid"],h?.className),children:[d?x.jsx(Ie,{component:"th",display:"flex",w:d}):null,(c??n.headers).map((m,p)=>{let g=m;return t&&(p=m.index,g=n.headers[p]),x.jsx(qrn,{columnVirtualizer:t,header:g,renderedHeaderIndex:p,table:r},g.id)}),f?x.jsx(Ie,{component:"th",display:"flex",w:f}):null]}))};var hx={alert:"MRT_ToolbarAlertBanner-module_alert__PAhUK","alert-stacked":"MRT_ToolbarAlertBanner-module_alert-stacked__HR7Nq","alert-bottom":"MRT_ToolbarAlertBanner-module_alert-bottom__u9L-S","alert-badge":"MRT_ToolbarAlertBanner-module_alert-badge__GwDmX","toolbar-alert":"MRT_ToolbarAlertBanner-module_toolbar-alert__3sJGU","head-overlay":"MRT_ToolbarAlertBanner-module_head-overlay__Hw7jK"};const HG=e=>{var t,{renderedRowIndex:n=0,row:r,table:i}=e,o=Fn(e,["renderedRowIndex","row","table"]);const{getState:s,options:{enableMultiRowSelection:a,localization:l,mantineSelectAllCheckboxProps:u,mantineSelectCheckboxProps:c,selectAllMode:d,selectDisplayMode:f}}=i,{density:h,isLoading:m}=s(),p=!r,g=p?d==="page"?i.getIsAllPageRowsSelected():i.getIsAllRowsSelected():void 0,y=p?g:y6({row:r,table:i}),v=Object.assign(Object.assign({},p?jt(u,{table:i}):jt(c,{row:r,table:i})),o),w=r?nrn({renderedRowIndex:n,row:r,table:i}):void 0,E=c8e({table:i}),C=Object.assign(Object.assign({"aria-label":p?l.toggleSelectAll:l.toggleSelectRow,checked:y,disabled:m||r&&!r.getCanSelect()||r?.id==="mrt-row-create",onChange:S=>{S.stopPropagation(),p?E(S):w(S)},size:h==="xs"?"sm":"md"},v),{onClick:S=>{var T;S.stopPropagation(),(T=v?.onClick)===null||T===void 0||T.call(v,S)},title:void 0});return x.jsx(yt,{label:(t=v?.title)!==null&&t!==void 0?t:p?l.toggleSelectAll:l.toggleSelectRow,openDelay:1e3,withinPortal:!0,children:x.jsx("span",{children:f==="switch"?x.jsx(H0,Object.assign({},C)):f==="radio"||a===!1?x.jsx(ol,Object.assign({},C)):x.jsx(tl,Object.assign({indeterminate:!y&&p?i.getIsSomeRowsSelected():r?.getIsSomeSelected()&&r.getCanSelectSubRows()},C))})})},vie=e=>{var t,n,r,{stackAlertBanner:i,table:o}=e,s=Fn(e,["stackAlertBanner","table"]);const{getFilteredSelectedRowModel:a,getPrePaginationRowModel:l,getState:u,options:{enableRowSelection:c,enableSelectAll:d,icons:{IconX:f},localization:h,mantineToolbarAlertBannerBadgeProps:m,mantineToolbarAlertBannerProps:p,manualPagination:g,positionToolbarAlertBanner:y,renderToolbarAlertBannerContent:v,rowCount:w}}=o,{density:E,grouping:C,rowSelection:S,showAlertBanner:T}=u(),A=Object.assign(Object.assign({},jt(p,{table:o})),s),D=jt(m,{table:o}),I=w??l().flatRows.length,P=k.useMemo(()=>g?Object.values(S).filter(Boolean).length:a().rows.length,[S,I,g]),N=P?x.jsxs(At,{align:"center",gap:"sm",children:[(n=(t=h.selectedCountOfRowCountRowsSelected)===null||t===void 0?void 0:t.replace("{selectedCount}",P.toString()))===null||n===void 0?void 0:n.replace("{rowCount}",I.toString()),x.jsx(Ut,{onClick:O=>c8e({table:o})(O,!1,!0),size:"compact-xs",variant:"subtle",children:h.clearSelection})]}):null,$=C.length>0?x.jsxs(At,{children:[h.groupedBy," ",C.map((O,j)=>x.jsxs(k.Fragment,{children:[j>0?h.thenBy:"",x.jsxs(us,Object.assign({className:hx["alert-badge"],rightSection:x.jsx(Cn,{color:"white",onClick:()=>o.getColumn(O).toggleGrouping(),size:"xs",variant:"subtle",children:x.jsx(f,{style:{transform:"scale(0.8)"}})}),variant:"filled"},D,{children:[o.getColumn(O).columnDef.header," "]}))]},`${j}-${O}`))]}):null;return x.jsx(Cp,{in:T||!!N||!!$,transitionDuration:i?200:0,children:x.jsx(sd,Object.assign({color:"blue",icon:!1},A,{className:$t(hx.alert,i&&!y&&hx["alert-stacked"],!i&&y==="bottom"&&hx["alert-bottom"],A?.className),children:(r=v?.({groupedAlert:$,selectedAlert:N,table:o}))!==null&&r!==void 0?r:x.jsxs(At,{className:$t(hx["toolbar-alert"],y==="head-overlay"&&hx["head-overlay"],E),children:[c&&d&&y==="head-overlay"&&x.jsx(HG,{table:o}),x.jsxs(or,{children:[A?.children,N,$]})]})}))})},Grn=e=>{var{columnVirtualizer:t,table:n}=e,r=Fn(e,["columnVirtualizer","table"]);const{getHeaderGroups:i,getSelectedRowModel:o,getState:s,options:{enableStickyHeader:a,layoutMode:l,mantineTableHeadProps:u,positionToolbarAlertBanner:c},refs:{tableHeadRef:d}}=n,{isFullScreen:f,showAlertBanner:h}=s(),m=Object.assign(Object.assign({},jt(u,{table:n})),r),p=a||f;return x.jsx(mX,Object.assign({},m,{className:$t(r0.root,l?.startsWith("grid")?r0["root-grid"]:r0["root-table-row-group"],p&&r0["root-sticky"],m?.className),pos:p&&l?.startsWith("grid")?"sticky":"relative",ref:g=>{d.current=g,m?.ref&&(m.ref.current=g)},children:c==="head-overlay"&&(h||o().rows.length>0)?x.jsx(km,{className:$t(r0["banner-tr"],l?.startsWith("grid")&&r0.grid),children:x.jsx(C_,{className:$t(r0["banner-th"],l?.startsWith("grid")&&r0.grid),colSpan:n.getVisibleLeafColumns().length,children:x.jsx(vie,{table:n})})}):i().map(g=>x.jsx(Wrn,{columnVirtualizer:t,headerGroup:g,table:n},g.id))}))};var k1e={root:"MRT_GlobalFilterTextInput-module_root__Xmcpv",collapse:"MRT_GlobalFilterTextInput-module_collapse__v311d"};const BU=e=>{var{table:t}=e,n=Fn(e,["table"]);const{getState:r,options:{enableGlobalFilterModes:i,icons:{IconSearch:o,IconX:s},localization:a,mantineSearchTextInputProps:l,manualFiltering:u,positionGlobalFilter:c},refs:{searchInputRef:d},setGlobalFilter:f}=t,{globalFilter:h,showGlobalFilter:m}=r(),p=Object.assign(Object.assign({},jt(l,{table:t})),n),g=k.useRef(!1),[y,v]=k.useState(h??""),[w]=Vxe(y,u?500:250);k.useEffect(()=>{f(w||void 0)},[w]);const E=()=>{v(""),f(void 0)};return k.useEffect(()=>{g.current&&(h===void 0?E():v(h)),g.current=!0},[h]),x.jsxs(Cp,{className:k1e.collapse,in:m,children:[i&&x.jsxs(Pn,{withinPortal:!0,children:[x.jsx(Pn.Target,{children:x.jsx(Cn,{"aria-label":a.changeSearchMode,color:"gray",size:"sm",variant:"transparent",children:x.jsx(o,{})})}),x.jsx(D8e,{onSelect:E,table:t})]}),x.jsx($l,Object.assign({leftSection:!i&&x.jsx(o,{}),mt:0,mx:c!=="left"?"mx":void 0,onChange:C=>v(C.target.value),placeholder:a.search,rightSection:y?x.jsx(Cn,{"aria-label":a.clearSearch,color:"gray",disabled:!y?.length,onClick:E,size:"sm",variant:"transparent",children:x.jsx(yt,{label:a.clearSearch,withinPortal:!0,children:x.jsx(s,{})})}):null,value:y??"",variant:"filled"},p,{className:$t("mrt-global-filter-text-input",k1e.root,p?.className),ref:C=>{C&&(d.current=C,p?.ref&&(p.ref=C))}}))]})},Yrn=(e,t,n=-1,r=0,i,o)=>_C(e,"mrt-row-create",Object.assign({},...v6(e.options.columns).map(s=>({[d_(s)]:""}))),n,r,i,o),Krn=e=>Object.assign({Cell:({cell:t,row:n,table:r})=>x.jsx(Crn,{cell:t,row:n,table:r})},cw({header:"actions",id:"mrt-row-actions",size:70,tableOptions:e})),Xrn=e=>Object.assign({Cell:({row:t,rowRef:n,table:r})=>x.jsx(lrn,{row:t,rowRef:n,table:r}),grow:!1},cw({header:"move",id:"mrt-row-drag",size:60,tableOptions:e})),Qrn=e=>{var t;const{defaultColumn:n,enableExpandAll:r,groupedColumnMode:i,positionExpandColumn:o,renderDetailPanel:s,state:{grouping:a}}=e,l=o==="last"?{align:"right"}:void 0;return Object.assign({Cell:({cell:u,column:c,row:d,table:f})=>{var h,m,p;const g={row:d,table:f},y=(h=d.subRows)===null||h===void 0?void 0:h.length;return e.groupedColumnMode==="remove"&&d.groupingColumnId?x.jsxs(At,{align:"center",gap:"0.25rem",children:[x.jsx(UG,Object.assign({},g)),x.jsx(yt,{label:f.getColumn(d.groupingColumnId).columnDef.header,openDelay:1e3,position:"right",children:x.jsx("span",{children:d.groupingValue})}),!!y&&x.jsxs("span",{children:["(",y,")"]})]}):x.jsxs(x.Fragment,{children:[x.jsx(UG,Object.assign({},g)),(p=(m=c.columnDef).GroupedCell)===null||p===void 0?void 0:p.call(m,{cell:u,column:c,row:d,table:f})]})},Header:r?({table:u})=>{var c;return x.jsxs(At,{align:"center",children:[x.jsx(frn,{table:u}),i==="remove"&&((c=a?.map(d=>u.getColumn(d).columnDef.header))===null||c===void 0?void 0:c.join(", "))]})}:void 0,mantineTableBodyCellProps:l,mantineTableHeadCellProps:l},cw({header:"expand",id:"mrt-row-expand",size:i==="remove"?(t=n?.size)!==null&&t!==void 0?t:180:s?r?60:70:100,tableOptions:e}))},Jrn=e=>{const{localization:t,rowNumberDisplayMode:n}=e,{pagination:{pageIndex:r,pageSize:i}}=e.state;return Object.assign({Cell:({renderedRowIndex:o=0,row:s})=>{var a;return((a=n==="static"?o+i*r:s.index)!==null&&a!==void 0?a:0)+1},grow:!1,Header:()=>t.rowNumber},cw({header:"rowNumbers",id:"mrt-row-numbers",size:50,tableOptions:e}))},Zrn=e=>Object.assign({Cell:({row:t,table:n})=>x.jsx(urn,{row:t,table:n}),grow:!1},cw({header:"pin",id:"mrt-row-pin",size:60,tableOptions:e})),ein=e=>{const{enableMultiRowSelection:t,enableSelectAll:n}=e;return Object.assign({Cell:({renderedRowIndex:r,row:i,table:o})=>x.jsx(HG,{renderedRowIndex:r,row:i,table:o}),grow:!1,Header:n&&t?({table:r})=>x.jsx(HG,{table:r}):void 0},cw({header:"select",id:"mrt-row-select",size:n?60:70,tableOptions:e}))},tin=Object.assign({},vN),nin={IconArrowAutofitContent:Eet,IconArrowsSort:Iet,IconBaselineDensityLarge:Net,IconBaselineDensityMedium:$et,IconBaselineDensitySmall:Let,IconBoxMultiple:Bet,IconChevronDown:MX,IconChevronLeft:att,IconChevronLeftPipe:ott,IconChevronRight:mSe,IconChevronRightPipe:utt,IconChevronsDown:ftt,IconCircleX:ptt,IconClearAll:gtt,IconColumns:wtt,IconDeviceFloppy:Itt,IconDots:vSe,IconDotsVertical:ySe,IconEdit:ZN,IconEyeOff:Vtt,IconFilter:Ktt,IconFilterCog:qtt,IconFilterOff:Gtt,IconGripHorizontal:tnt,IconMaximize:mnt,IconMinimize:ynt,IconPinned:knt,IconPinnedOff:Tnt,IconSearch:TSe,IconSearchOff:jnt,IconSortAscending:Gnt,IconSortDescending:Knt,IconX:Gm},rin={actions:"Actions",and:"and",cancel:"Cancel",changeFilterMode:"Change filter mode",changeSearchMode:"Change search mode",clearFilter:"Clear filter",clearSearch:"Clear search",clearSelection:"Clear selection",clearSort:"Clear sort",clickToCopy:"Click to copy",copy:"Copy",collapse:"Collapse",collapseAll:"Collapse all",columnActions:"Column Actions",copiedToClipboard:"Copied to clipboard",dropToGroupBy:"Drop to group by {column}",edit:"Edit",expand:"Expand",expandAll:"Expand all",filterArrIncludes:"Includes",filterArrIncludesAll:"Includes all",filterArrIncludesSome:"Includes",filterBetween:"Between",filterBetweenInclusive:"Between Inclusive",filterByColumn:"Filter by {column}",filterContains:"Contains",filterEmpty:"Empty",filterEndsWith:"Ends With",filterEquals:"Equals",filterEqualsString:"Equals",filterFuzzy:"Fuzzy",filterGreaterThan:"Greater Than",filterGreaterThanOrEqualTo:"Greater Than Or Equal To",filterInNumberRange:"Between",filterIncludesString:"Contains",filterIncludesStringSensitive:"Contains",filterLessThan:"Less Than",filterLessThanOrEqualTo:"Less Than Or Equal To",filterMode:"Filter Mode: {filterType}",filterNotEmpty:"Not Empty",filterNotEquals:"Not Equals",filterStartsWith:"Starts With",filterWeakEquals:"Equals",filteringByColumn:"Filtering by {column} - {filterType} {filterValue}",goToFirstPage:"Go to first page",goToLastPage:"Go to last page",goToNextPage:"Go to next page",goToPreviousPage:"Go to previous page",grab:"Grab",groupByColumn:"Group by {column}",groupedBy:"Grouped by ",hideAll:"Hide all",hideColumn:"Hide {column} column",max:"Max",min:"Min",move:"Move",noRecordsToDisplay:"No records to display",noResultsFound:"No results found",of:"of",or:"or",pin:"Pin",pinToLeft:"Pin to left",pinToRight:"Pin to right",resetColumnSize:"Reset column size",resetOrder:"Reset order",rowActions:"Row Actions",rowNumber:"#",rowNumbers:"Row Numbers",rowsPerPage:"Rows per page",save:"Save",search:"Search",selectedCountOfRowCountRowsSelected:"{selectedCount} of {rowCount} row(s) selected",select:"Select",showAll:"Show all",showAllColumns:"Show all columns",showHideColumns:"Show/Hide columns",showHideFilters:"Show/Hide filters",showHideSearch:"Show/Hide search",sortByColumnAsc:"Sort by {column} ascending",sortByColumnDesc:"Sort by {column} descending",sortedByColumnAsc:"Sorted by {column} ascending",sortedByColumnDesc:"Sorted by {column} descending",thenBy:", then by ",toggleDensity:"Toggle density",toggleFullScreen:"Toggle full screen",toggleSelectAll:"Toggle select all",toggleSelectRow:"Toggle select row",toggleVisibility:"Toggle visibility",ungroupByColumn:"Ungroup by {column}",unpin:"Unpin",unpinAll:"Unpin all"},iin={filterVariant:"text",maxSize:1e3,minSize:40,size:180},O8e={columnDefType:"display",enableClickToCopy:!1,enableColumnActions:!1,enableColumnDragging:!1,enableColumnFilter:!1,enableColumnOrdering:!1,enableEditing:!1,enableGlobalFilter:!1,enableGrouping:!1,enableHiding:!1,enableResizing:!1,enableSorting:!1},oin=e=>{var t,{aggregationFns:n,autoResetExpanded:r=!1,columnFilterDisplayMode:i="subheader",columnResizeDirection:o,columnResizeMode:s="onChange",createDisplayMode:a="modal",defaultColumn:l,defaultDisplayColumn:u,editDisplayMode:c="modal",enableBatchRowSelection:d=!0,enableBottomToolbar:f=!0,enableColumnActions:h=!0,enableColumnFilters:m=!0,enableColumnOrdering:p=!1,enableColumnPinning:g=!1,enableColumnResizing:y=!1,enableColumnVirtualization:v,enableDensityToggle:w=!0,enableExpandAll:E=!0,enableExpanding:C,enableFacetedValues:S=!1,enableFilterMatchHighlighting:T=!0,enableFilters:A=!0,enableFullScreenToggle:D=!0,enableGlobalFilter:I=!0,enableGlobalFilterRankedResults:P=!0,enableGrouping:N=!1,enableHeaderActionsHoverReveal:$=!1,enableHiding:O=!0,enableMultiRowSelection:j=!0,enableMultiSort:B=!0,enablePagination:H=!0,enableRowPinning:q=!1,enableRowSelection:Y=!1,enableRowVirtualization:V,enableSelectAll:L=!0,enableSorting:U=!0,enableStickyHeader:z=!1,enableTableFooter:G=!0,enableTableHead:Q=!0,enableToolbarInternalActions:te=!0,enableTopToolbar:de=!0,filterFns:se,icons:ae,layoutMode:he,localization:ie,manualFiltering:le,manualGrouping:Ce,manualPagination:X,manualSorting:fe,paginationDisplayMode:ce="default",positionActionsColumn:ne="first",positionCreatingRow:ee="top",positionExpandColumn:pe="first",positionGlobalFilter:Re="right",positionPagination:Se="bottom",positionToolbarAlertBanner:be="top",positionToolbarDropZone:Ne="top",rowNumberDisplayMode:Ae="static",rowPinningDisplayMode:Pe="sticky",selectAllMode:we="page",sortingFns:Le}=e,ze=Fn(e,["aggregationFns","autoResetExpanded","columnFilterDisplayMode","columnResizeDirection","columnResizeMode","createDisplayMode","defaultColumn","defaultDisplayColumn","editDisplayMode","enableBatchRowSelection","enableBottomToolbar","enableColumnActions","enableColumnFilters","enableColumnOrdering","enableColumnPinning","enableColumnResizing","enableColumnVirtualization","enableDensityToggle","enableExpandAll","enableExpanding","enableFacetedValues","enableFilterMatchHighlighting","enableFilters","enableFullScreenToggle","enableGlobalFilter","enableGlobalFilterRankedResults","enableGrouping","enableHeaderActionsHoverReveal","enableHiding","enableMultiRowSelection","enableMultiSort","enablePagination","enableRowPinning","enableRowSelection","enableRowVirtualization","enableSelectAll","enableSorting","enableStickyHeader","enableTableFooter","enableTableHead","enableToolbarInternalActions","enableTopToolbar","filterFns","icons","layoutMode","localization","manualFiltering","manualGrouping","manualPagination","manualSorting","paginationDisplayMode","positionActionsColumn","positionCreatingRow","positionExpandColumn","positionGlobalFilter","positionPagination","positionToolbarAlertBanner","positionToolbarDropZone","rowNumberDisplayMode","rowPinningDisplayMode","selectAllMode","sortingFns"]);const tt=Lu();return ae=k.useMemo(()=>Object.assign(Object.assign({},nin),ae),[ae]),ie=k.useMemo(()=>Object.assign(Object.assign({},rin),ie),[ie]),n=k.useMemo(()=>Object.assign(Object.assign({},tin),n),[]),se=k.useMemo(()=>Object.assign(Object.assign({},Rrn),se),[]),Le=k.useMemo(()=>Object.assign(Object.assign({},Znn),Le),[]),l=k.useMemo(()=>Object.assign(Object.assign({},iin),l),[l]),u=k.useMemo(()=>Object.assign(Object.assign({},O8e),u),[u]),[v,V]=k.useMemo(()=>[v,V],[]),o||(o=tt.dir||"ltr"),he=he||(y?"grid-no-grow":"semantic"),he==="semantic"&&(V||v)&&(he="grid"),V&&(z=!0),H===!1&&X===void 0&&(X=!0),!((t=ze.data)===null||t===void 0)&&t.length||(le=!0,Ce=!0,X=!0,fe=!0),Object.assign({aggregationFns:n,autoResetExpanded:r,columnFilterDisplayMode:i,columnResizeDirection:o,columnResizeMode:s,createDisplayMode:a,defaultColumn:l,defaultDisplayColumn:u,editDisplayMode:c,enableBatchRowSelection:d,enableBottomToolbar:f,enableColumnActions:h,enableColumnFilters:m,enableColumnOrdering:p,enableColumnPinning:g,enableColumnResizing:y,enableColumnVirtualization:v,enableDensityToggle:w,enableExpandAll:E,enableExpanding:C,enableFacetedValues:S,enableFilterMatchHighlighting:T,enableFilters:A,enableFullScreenToggle:D,enableGlobalFilter:I,enableGlobalFilterRankedResults:P,enableGrouping:N,enableHeaderActionsHoverReveal:$,enableHiding:O,enableMultiRowSelection:j,enableMultiSort:B,enablePagination:H,enableRowPinning:q,enableRowSelection:Y,enableRowVirtualization:V,enableSelectAll:L,enableSorting:U,enableStickyHeader:z,enableTableFooter:G,enableTableHead:Q,enableToolbarInternalActions:te,enableTopToolbar:de,filterFns:se,getCoreRowModel:atn(),getExpandedRowModel:C||N?ltn():void 0,getFacetedMinMaxValues:S?utn():void 0,getFacetedRowModel:S?ftn():void 0,getFacetedUniqueValues:S?htn():void 0,getFilteredRowModel:m||I||A?ptn():void 0,getGroupedRowModel:N?mtn():void 0,getPaginationRowModel:H?ytn():void 0,getSortedRowModel:U?vtn():void 0,getSubRows:rt=>rt?.subRows,icons:ae,layoutMode:he,localization:ie,manualFiltering:le,manualGrouping:Ce,manualPagination:X,manualSorting:fe,paginationDisplayMode:ce,positionActionsColumn:ne,positionCreatingRow:ee,positionExpandColumn:pe,positionGlobalFilter:Re,positionPagination:Se,positionToolbarAlertBanner:be,positionToolbarDropZone:Ne,rowNumberDisplayMode:Ae,rowPinningDisplayMode:Pe,selectAllMode:we,sortingFns:Le},ze)},zU={children:null,style:{minWidth:0,padding:0,width:0}},sin=e=>Object.assign(Object.assign(Object.assign(Object.assign({},cw({id:"mrt-row-spacer",size:0,tableOptions:e})),{grow:!0}),O8e),{mantineTableBodyCellProps:zU,mantineTableFooterCellProps:zU,mantineTableHeadCellProps:zU}),ain=e=>{const{getIsSomeRowsPinned:t,getPrePaginationRowModel:n,getState:r,options:{enablePagination:i,enableRowPinning:o,rowCount:s}}=e,{columnOrder:a,density:l,globalFilter:u,isFullScreen:c,isLoading:d,pagination:f,showSkeletons:h,sorting:m}=r(),p=e.options.columns.length,g=s??n().rows.length,y=k.useReducer(()=>({}),{})[1],v=k.useRef(),w=k.useRef();k.useEffect(()=>{typeof window<"u"&&(v.current=document.body.style.height)},[]),k.useEffect(()=>{if(typeof window<"u")if(c)w.current=document.body.getBoundingClientRect().top,document.body.style.height="100dvh";else{if(document.body.style.height=v.current,!w.current)return;window.scrollTo({behavior:"instant",top:-1*w.current})}},[c]),k.useEffect(()=>{p!==a.length&&e.setColumnOrder(pie(e.options))},[p]),k.useEffect(()=>{if(!i||d||h)return;const{pageIndex:C,pageSize:S}=f,T=C*S;T>=g&&T>0&&e.setPageIndex(Math.ceil(g/S)-1)},[g]);const E=k.useRef(m);k.useEffect(()=>{m.length&&(E.current=m)},[m]),k.useEffect(()=>{u8e(e)&&(u?e.setSorting([]):e.setSorting(()=>E.current||[]))},[u]),k.useEffect(()=>{o&&t()&&setTimeout(()=>{y()},150)},[l])},lin=e=>{var t,n,r,i,o,s,a,l,u,c,d,f,h,m,p,g,y,v,w,E,C,S,T,A,D,I,P,N,$,O,j,B,H;const q=k.useRef(null),Y=k.useRef(null),V=k.useRef({}),L=k.useRef({}),U=k.useRef(null),z=k.useRef(null),G=k.useRef({}),Q=k.useRef(null),te=k.useRef(null),de=k.useRef(null),se=k.useRef(null),ae=k.useMemo(()=>{var ar,un,tr;const Rr=(ar=e.initialState)!==null&&ar!==void 0?ar:{};return Rr.columnOrder=(un=Rr.columnOrder)!==null&&un!==void 0?un:pie(Object.assign(Object.assign({},e),{state:Object.assign(Object.assign({},e.initialState),e.state)})),Rr.globalFilterFn=(tr=e.globalFilterFn)!==null&&tr!==void 0?tr:"fuzzy",Rr},[]);e.initialState=ae;const[he,ie]=k.useState((t=ae.creatingRow)!==null&&t!==void 0?t:null),[le,Ce]=k.useState(()=>Object.assign({},...v6(e.columns).map(ar=>{var un,tr,Rr,Lr;return{[d_(ar)]:ar.filterFn instanceof Function?(un=ar.filterFn.name)!==null&&un!==void 0?un:"custom":(Lr=(tr=ar.filterFn)!==null&&tr!==void 0?tr:(Rr=ae?.columnFilterFns)===null||Rr===void 0?void 0:Rr[d_(ar)])!==null&&Lr!==void 0?Lr:hrn(ar)}}))),[X,fe]=k.useState((n=ae.columnOrder)!==null&&n!==void 0?n:[]),[ce,ne]=k.useState((r=ae.columnSizingInfo)!==null&&r!==void 0?r:{}),[ee,pe]=k.useState((i=ae?.density)!==null&&i!==void 0?i:"md"),[Re,Se]=k.useState((o=ae.draggingColumn)!==null&&o!==void 0?o:null),[be,Ne]=k.useState((s=ae.draggingRow)!==null&&s!==void 0?s:null),[Ae,Pe]=k.useState((a=ae.editingCell)!==null&&a!==void 0?a:null),[we,Le]=k.useState((l=ae.editingRow)!==null&&l!==void 0?l:null),[ze,tt]=k.useState((u=ae.globalFilterFn)!==null&&u!==void 0?u:"fuzzy"),[rt,bt]=k.useState((c=ae.grouping)!==null&&c!==void 0?c:[]),[Kt,Wt]=k.useState((d=ae.hoveredColumn)!==null&&d!==void 0?d:null),[Mn,Ft]=k.useState((f=ae.hoveredRow)!==null&&f!==void 0?f:null),[hn,Kn]=k.useState((h=ae?.isFullScreen)!==null&&h!==void 0?h:!1),[zn,Fr]=k.useState((m=ae?.pagination)!==null&&m!==void 0?m:{pageIndex:0,pageSize:10}),[er,Sr]=k.useState((p=ae?.showAlertBanner)!==null&&p!==void 0?p:!1),[Tn,an]=k.useState((g=ae?.showColumnFilters)!==null&&g!==void 0?g:!1),[sr,pi]=k.useState((y=ae?.showGlobalFilter)!==null&&y!==void 0?y:!1),[Tr,An]=k.useState((v=ae?.showToolbarDropZone)!==null&&v!==void 0?v:!1);e.state=Object.assign({columnFilterFns:le,columnOrder:X,columnSizingInfo:ce,creatingRow:he,density:ee,draggingColumn:Re,draggingRow:be,editingCell:Ae,editingRow:we,globalFilterFn:ze,grouping:rt,hoveredColumn:Kt,hoveredRow:Mn,isFullScreen:hn,pagination:zn,showAlertBanner:er,showColumnFilters:Tn,showGlobalFilter:sr,showToolbarDropZone:Tr},e.state);const ft=e,wr=k.useRef([]);ft.columns=ft.state.columnSizingInfo.isResizingColumn||ft.state.draggingColumn||ft.state.draggingRow?wr.current:p8e({columnDefs:[...[y8e(ft)&&Zrn(ft),v8e(ft)&&Xrn(ft),hie(ft)&&Krn(ft),fie(ft)&&Qrn(ft),b8e(ft)&&ein(ft),w8e(ft)&&Jrn(ft)].filter(Boolean),...ft.columns,...[x8e(ft)&&sin(ft)].filter(Boolean)],tableOptions:ft}),wr.current=ft.columns,ft.data=k.useMemo(()=>(ft.state.isLoading||ft.state.showSkeletons)&&!ft.data.length?[...Array(Math.min(ft.state.pagination.pageSize,20)).fill(null)].map(()=>Object.assign({},...v6(ft.columns).map(ar=>({[d_(ar)]:null})))):ft.data,[ft.data,ft.state.isLoading,ft.state.showSkeletons]);const Vt=btn(Object.assign(Object.assign({onColumnOrderChange:fe,onColumnSizingInfoChange:ne,onGroupingChange:bt,onPaginationChange:Fr},ft),{globalFilterFn:(w=ft.filterFns)===null||w===void 0?void 0:w[ze??"fuzzy"]}));return Vt.refs={bottomToolbarRef:Y,editInputRefs:V,filterInputRefs:L,lastSelectedRowId:q,searchInputRef:U,tableContainerRef:z,tableFooterRef:se,tableHeadCellRefs:G,tableHeadRef:de,tablePaperRef:Q,topToolbarRef:te},Vt.setCreatingRow=ar=>{let un=ar;ar===!0&&(un=Yrn(Vt)),ft?.onCreatingRowChange?ft.onCreatingRowChange(un):ie(un)},Vt.setColumnFilterFns=(E=ft.onColumnFilterFnsChange)!==null&&E!==void 0?E:Ce,Vt.setDensity=(C=ft.onDensityChange)!==null&&C!==void 0?C:pe,Vt.setDraggingColumn=(S=ft.onDraggingColumnChange)!==null&&S!==void 0?S:Se,Vt.setDraggingRow=(T=ft.onDraggingRowChange)!==null&&T!==void 0?T:Ne,Vt.setEditingCell=(A=ft.onEditingCellChange)!==null&&A!==void 0?A:Pe,Vt.setEditingRow=(D=ft.onEditingRowChange)!==null&&D!==void 0?D:Le,Vt.setGlobalFilterFn=(I=ft.onGlobalFilterFnChange)!==null&&I!==void 0?I:tt,Vt.setHoveredColumn=(P=ft.onHoveredColumnChange)!==null&&P!==void 0?P:Wt,Vt.setHoveredRow=(N=ft.onHoveredRowChange)!==null&&N!==void 0?N:Ft,Vt.setIsFullScreen=($=ft.onIsFullScreenChange)!==null&&$!==void 0?$:Kn,Vt.setShowAlertBanner=(O=ft.onShowAlertBannerChange)!==null&&O!==void 0?O:Sr,Vt.setShowColumnFilters=(j=ft.onShowColumnFiltersChange)!==null&&j!==void 0?j:an,Vt.setShowGlobalFilter=(B=ft.onShowGlobalFilterChange)!==null&&B!==void 0?B:pi,Vt.setShowToolbarDropZone=(H=ft.onShowToolbarDropZoneChange)!==null&&H!==void 0?H:An,ain(Vt),Vt},a8=e=>lin(oin(e));var uin={root:"MRT_TablePaper-module_root__q0v5L"},UU={root:"MRT_TableContainer-module_root__JIsGB","root-sticky":"MRT_TableContainer-module_root-sticky__uC4qx","root-fullscreen":"MRT_TableContainer-module_root-fullscreen__aM8Jg"},R1e={root:"MRT_Table-module_root__ms2uS","root-grid":"MRT_Table-module_root-grid__2Pynz"};const cin=e=>{var t,n,r,i;const{getLeftLeafColumns:o,getRightLeafColumns:s,getState:a,getVisibleLeafColumns:l,options:{columnVirtualizerInstanceRef:u,columnVirtualizerOptions:c,enableColumnPinning:d,enableColumnVirtualization:f},refs:{tableContainerRef:h}}=e,{columnPinning:m,draggingColumn:p}=a();if(!f)return;const g=jt(c,{table:e}),y=l(),[v,w]=k.useMemo(()=>d?[o().map(I=>I.getPinnedIndex()),s().map(I=>y.length-I.getPinnedIndex()-1).sort((I,P)=>I-P)]:[[],[]],[y.length,m,d]),E=v.length,C=w.length,S=k.useMemo(()=>p?.id?y.findIndex(I=>I.id===p?.id):void 0,[p?.id]),T=HLe(Object.assign({count:y.length,estimateSize:I=>y[I].getSize(),getScrollElement:()=>h.current,horizontal:!0,overscan:3,rangeExtractor:k.useCallback(I=>{const P=d8e(I,S);return!E&&!C?P:[...new Set([...v,...P,...w])]},[v,w,S])},g)),A=T.getVirtualItems();T.virtualColumns=A;const D=A.length;if(D){const I=T.getTotalSize(),P=((t=A[E])===null||t===void 0?void 0:t.start)||0,N=((n=A[v.length-1])===null||n===void 0?void 0:n.end)||0,$=((r=A[D-C])===null||r===void 0?void 0:r.start)||0,O=((i=A[D-C-1])===null||i===void 0?void 0:i.end)||0;T.virtualPaddingLeft=P-N,T.virtualPaddingRight=I-O-(C?I-$:0)}return u&&(u.current=T),T},din=e=>{var{table:t}=e,n=Fn(e,["table"]);const{getFlatHeaders:r,getState:i,options:{columns:o,enableTableFooter:s,enableTableHead:a,layoutMode:l,mantineTableProps:u,memoMode:c}}=t,{columnSizing:d,columnSizingInfo:f,columnVisibility:h,density:m}=i(),p=Object.assign(Object.assign({highlightOnHover:!0,horizontalSpacing:m,verticalSpacing:m},jt(u,{table:t})),n),g=k.useMemo(()=>{const C=r(),S={};for(let T=0;T<C.length;T++){const A=C[T],D=A.getSize();S[`--header-${Sf(A.id)}-size`]=D,S[`--col-${Sf(A.column.id)}-size`]=D}return S},[o,d,f,h]),v={columnVirtualizer:cin(t),table:t},{colorScheme:w}=fVe(),{stripedColor:E}=p;return x.jsxs(En,Object.assign({className:$t("mrt-table",R1e.root,l?.startsWith("grid")&&R1e["root-grid"],p.className)},p,{__vars:Object.assign(Object.assign(Object.assign({},g),{"--mrt-striped-row-background-color":E,"--mrt-striped-row-hover-background-color":E?w==="dark"?dVe(E,.08):nT(E,.12):void 0}),p.__vars),children:[a&&x.jsx(Grn,Object.assign({},v)),c==="table-body"||f.isResizingColumn?x.jsx(srn,Object.assign({},v,{tableProps:p})):x.jsx(f8e,Object.assign({},v,{tableProps:p})),s&&x.jsx(Arn,Object.assign({},v))]}))},fin=e=>{var t,{open:n,table:r}=e,i=Fn(e,["open","table"]);const{getState:o,options:{mantineCreateRowModalProps:s,mantineEditRowModalProps:a,onCreatingRowCancel:l,onEditingRowCancel:u,renderCreateRowModalContent:c,renderEditRowModalContent:d},setCreatingRow:f,setEditingRow:h}=r,{creatingRow:m,editingRow:p}=o(),g=m??p,y={row:g,table:r},v=Object.assign(Object.assign(Object.assign({},jt(a,y)),m&&jt(s,y)),i),w=g.getAllCells().filter(C=>C.column.columnDef.columnDefType==="data").map(C=>x.jsx(r8,{cell:C,table:r},C.id)),E=()=>{var C;m?(l?.({row:g,table:r}),f(null)):(u?.({row:g,table:r}),h(null)),g._valuesCache={},(C=v.onClose)===null||C===void 0||C.call(v)};return k.createElement(Ii,Object.assign({opened:n,withCloseButton:!1},v,{key:g.id,onClose:E}),(t=m&&c?.({internalEditComponents:w,row:g,table:r})||d?.({internalEditComponents:w,row:g,table:r}))!==null&&t!==void 0?t:x.jsxs(x.Fragment,{children:[x.jsx("form",{onSubmit:C=>C.preventDefault(),children:x.jsx(or,{gap:"lg",pb:24,pt:16,children:w})}),x.jsx(At,{justify:"flex-end",children:x.jsx(h8e,{row:g,table:r,variant:"text"})})]}))},hin=typeof window<"u"?k.useLayoutEffect:k.useEffect,pin=e=>{var{table:t}=e,n=Fn(e,["table"]);const{getState:r,options:{createDisplayMode:i,editDisplayMode:o,enableStickyHeader:s,mantineLoadingOverlayProps:a,mantineTableContainerProps:l},refs:{bottomToolbarRef:u,tableContainerRef:c,topToolbarRef:d}}=t,{creatingRow:f,editingRow:h,isFullScreen:m,isLoading:p,showLoadingOverlay:g}=r(),[y,v]=k.useState(0),w=Object.assign(Object.assign({},jt(l,{table:t})),n),E=jt(a,{table:t});hin(()=>{var T,A,D,I;const P=typeof document<"u"&&(A=(T=d.current)===null||T===void 0?void 0:T.offsetHeight)!==null&&A!==void 0?A:0,N=typeof document<"u"&&(I=(D=u?.current)===null||D===void 0?void 0:D.offsetHeight)!==null&&I!==void 0?I:0;v(P+N)});const C=i==="modal"&&f,S=o==="modal"&&h;return x.jsxs(Ie,Object.assign({},w,{__vars:Object.assign({"--mrt-top-toolbar-height":`${y}`},w?.__vars),className:$t("mrt-table-container",UU.root,s&&UU["root-sticky"],m&&UU["root-fullscreen"],w?.className),ref:T=>{T&&(c.current=T,w?.ref&&(w.ref.current=T))},children:[x.jsx(ql,Object.assign({visible:p||g,zIndex:2},E)),x.jsx(din,{table:t}),(C||S)&&x.jsx(fin,{open:!0,table:t})]}))};var N8e={"common-toolbar-styles":"common-styles-module_common-toolbar-styles__DnjR8"},QS={root:"MRT_BottomToolbar-module_root__VDeWo","root-fullscreen":"MRT_BottomToolbar-module_root-fullscreen__esE15","custom-toolbar-container":"MRT_BottomToolbar-module_custom-toolbar-container__XcDRF","paginator-container":"MRT_BottomToolbar-module_paginator-container__A3eWY","paginator-container-alert-banner":"MRT_BottomToolbar-module_paginator-container-alert-banner__gyqtO"},I1e={collapse:"MRT_ProgressBar-module_collapse__rOLJH","collapse-top":"MRT_ProgressBar-module_collapse-top__oCi0h"};const M8e=e=>{var{isTopToolbar:t,table:n}=e,r=Fn(e,["isTopToolbar","table"]);const{getState:i,options:{mantineProgressProps:o}}=n,{isSaving:s,showProgressBars:a}=i(),l=Object.assign(Object.assign({},jt(o,{isTopToolbar:t,table:n})),r);return x.jsx(Cp,{className:$t(I1e.collapse,t&&I1e["collapse-top"]),in:s||a,children:x.jsx(O1,Object.assign({animated:!0,"aria-busy":"true","aria-label":"Loading",radius:0,value:100},l))})};var VU={root:"MRT_TablePagination-module_root__yZ8pm",pagesize:"MRT_TablePagination-module_pagesize__-vmTn","with-top-margin":"MRT_TablePagination-module_with-top-margin__aM5-m"};const D1e=[5,10,15,20,25,30,50,100].map(e=>e.toString()),$8e=e=>{var t,{position:n="bottom",table:r}=e,i=Fn(e,["position","table"]);const{getPrePaginationRowModel:o,getState:s,options:{enableToolbarInternalActions:a,icons:{IconChevronLeft:l,IconChevronLeftPipe:u,IconChevronRight:c,IconChevronRightPipe:d},localization:f,mantinePaginationProps:h,paginationDisplayMode:m,rowCount:p},setPageIndex:g,setPageSize:y}=r,{pagination:{pageIndex:v=0,pageSize:w=10},showGlobalFilter:E}=s(),C=Object.assign(Object.assign({},jt(h,{table:r})),i),S=p??o().rows.length,T=Math.ceil(S/w),A=T>2,D=v*w,I=Math.min(v*w+w,S),P=C??{},{rowsPerPageOptions:N=D1e,showRowsPerPage:$=!0,withEdges:O=A}=P,j=Fn(P,["rowsPerPageOptions","showRowsPerPage","withEdges"]),B=n==="top"&&a&&!E;return x.jsxs(Ie,{className:$t("mrt-table-pagination",VU.root,B&&VU["with-top-margin"]),children:[C?.showRowsPerPage!==!1&&x.jsxs(Gn,{gap:"xs",children:[x.jsx(Ve,{id:"rpp-label",children:f.rowsPerPage}),x.jsx(Hm,{allowDeselect:!1,"aria-labelledby":"rpp-label",className:VU.pagesize,data:(t=C?.rowsPerPageOptions)!==null&&t!==void 0?t:D1e,onChange:H=>y(+H),value:w.toString()})]}),m==="pages"?x.jsx(Vf,Object.assign({firstIcon:u,lastIcon:d,nextIcon:c,onChange:H=>g(H-1),previousIcon:l,total:T,value:v+1,withEdges:O},j)):m==="default"?x.jsxs(x.Fragment,{children:[x.jsx(Ve,{children:`${I===0?0:(D+1).toLocaleString()}-${I.toLocaleString()} ${f.of} ${S.toLocaleString()}`}),x.jsxs(Gn,{gap:6,children:[O&&x.jsx(Cn,{"aria-label":f.goToFirstPage,color:"gray",disabled:v<=0,onClick:()=>g(0),variant:"subtle",children:x.jsx(u,{})}),x.jsx(Cn,{"aria-label":f.goToPreviousPage,color:"gray",disabled:v<=0,onClick:()=>g(v-1),variant:"subtle",children:x.jsx(l,{})}),x.jsx(Cn,{"aria-label":f.goToNextPage,color:"gray",disabled:I>=S,onClick:()=>g(v+1),variant:"subtle",children:x.jsx(c,{})}),O&&x.jsx(Cn,{"aria-label":f.goToLastPage,color:"gray",disabled:I>=S,onClick:()=>g(T-1),variant:"subtle",children:x.jsx(d,{})})]})]}):null]})};var P1e={root:"MRT_ToolbarDropZone-module_root__eGTXb",hovered:"MRT_ToolbarDropZone-module_hovered__g7PeJ"};const F8e=e=>{var{table:t}=e,n=Fn(e,["table"]);const{getState:r,options:{enableGrouping:i,localization:o},setHoveredColumn:s,setShowToolbarDropZone:a}=t,{draggingColumn:l,grouping:u,hoveredColumn:c,showToolbarDropZone:d}=r(),f=h=>{s({id:"drop-zone"})};return k.useEffect(()=>{var h;((h=t.options.state)===null||h===void 0?void 0:h.showToolbarDropZone)!==void 0&&a(!!i&&!!l&&l.columnDef.enableGrouping!==!1&&!u.includes(l.id))},[i,l,u]),x.jsx(Ad,{mounted:d,transition:"fade",children:()=>{var h,m;return x.jsx(At,Object.assign({className:$t("mrt-toolbar-dropzone",P1e.root,c?.id==="drop-zone"&&P1e.hovered),onDragEnter:f},n,{children:x.jsx(Ve,{children:o.dropToGroupBy.replace("{column}",(m=(h=l?.columnDef)===null||h===void 0?void 0:h.header)!==null&&m!==void 0?m:"")})}))}})},min=e=>{var{table:t}=e,n=Fn(e,["table"]);const{getState:r,options:{enablePagination:i,mantineBottomToolbarProps:o,positionPagination:s,positionToolbarAlertBanner:a,positionToolbarDropZone:l,renderBottomToolbarCustomActions:u},refs:{bottomToolbarRef:c}}=t,{isFullScreen:d}=r(),f=j2("(max-width: 720px)"),h=Object.assign(Object.assign({},jt(o,{table:t})),n),m=f||!!u;return x.jsxs(Ie,Object.assign({},h,{className:$t("mrt-bottom-toolbar",QS.root,N8e["common-toolbar-styles"],d&&QS["root-fullscreen"],h?.className),ref:p=>{p&&(c.current=p,h?.ref&&(h.ref.current=p))},children:[x.jsx(M8e,{isTopToolbar:!1,table:t}),a==="bottom"&&x.jsx(vie,{stackAlertBanner:m,table:t}),["both","bottom"].includes(l??"")&&x.jsx(F8e,{table:t}),x.jsxs(Ie,{className:QS["custom-toolbar-container"],children:[u?u({table:t}):x.jsx("span",{}),x.jsx(Ie,{className:$t(QS["paginator-container"],m&&QS["paginator-container-alert-banner"]),children:i&&["both","bottom"].includes(s??"")&&x.jsx($8e,{position:"bottom",table:t})})]})]}))};var x3={root:"MRT_TopToolbar-module_root__r4-V9","root-fullscreen":"MRT_TopToolbar-module_root-fullscreen__3itT8","actions-container":"MRT_TopToolbar-module_actions-container__-uL0u","actions-container-stack-alert":"MRT_TopToolbar-module_actions-container-stack-alert__OYDL6"},gin={root:"MRT_ToolbarInternalButtons-module_root__NKoUG"};const yin=e=>{var t,{table:n}=e,r=Fn(e,["table"]);const{options:{columnFilterDisplayMode:i,enableColumnFilters:o,enableColumnOrdering:s,enableColumnPinning:a,enableDensityToggle:l,enableFilters:u,enableFullScreenToggle:c,enableGlobalFilter:d,enableHiding:f,initialState:h,renderToolbarInternalActions:m}}=n;return x.jsx(At,Object.assign({},r,{className:$t("mrt-toolbar-internal-buttons",gin.root,r?.className),children:(t=m?.({table:n}))!==null&&t!==void 0?t:x.jsxs(x.Fragment,{children:[u&&d&&!h?.showGlobalFilter&&x.jsx(_rn,{table:n}),u&&o&&i!=="popover"&&x.jsx(wrn,{table:n}),(f||s||a)&&x.jsx(yrn,{table:n}),l&&x.jsx(brn,{table:n}),c&&x.jsx(xrn,{table:n})]})}))},vin=e=>{var t,{table:n}=e,r=Fn(e,["table"]);const{getState:i,options:{enableGlobalFilter:o,enablePagination:s,enableToolbarInternalActions:a,mantineTopToolbarProps:l,positionGlobalFilter:u,positionPagination:c,positionToolbarAlertBanner:d,positionToolbarDropZone:f,renderTopToolbarCustomActions:h},refs:{topToolbarRef:m}}=n,{isFullScreen:p,showGlobalFilter:g}=i(),y=j2("(max-width:720px)"),v=j2("(max-width:1024px)"),w=Object.assign(Object.assign({},jt(l,{table:n})),r),E=y||!!h||g&&v,C={style:v?void 0:{zIndex:3},table:n};return x.jsxs(Ie,Object.assign({},w,{className:$t(N8e["common-toolbar-styles"],x3.root,p&&x3["root-fullscreen"],w?.className),ref:S=>{S&&(m.current=S,w?.ref&&(w.ref.current=S))},children:[d==="top"&&x.jsx(vie,{stackAlertBanner:E,table:n}),["both","top"].includes(f??"")&&x.jsx(F8e,{table:n}),x.jsxs(At,{className:$t(x3["actions-container"],E&&x3["actions-container-stack-alert"]),children:[o&&u==="left"&&x.jsx(BU,Object.assign({},C)),(t=h?.({table:n}))!==null&&t!==void 0?t:x.jsx("span",{}),a?x.jsxs(At,{justify:"end",wrap:"wrap-reverse",children:[o&&u==="right"&&x.jsx(BU,Object.assign({},C)),x.jsx(yin,{table:n})]}):o&&u==="right"&&x.jsx(BU,Object.assign({},C))]}),s&&["both","top"].includes(c??"")&&x.jsx(At,{justify:"end",children:x.jsx($8e,{position:"top",table:n})}),x.jsx(M8e,{isTopToolbar:!0,table:n})]}))},bin=e=>{var t,n,{table:r}=e,i=Fn(e,["table"]);const{getState:o,options:{enableBottomToolbar:s,enableTopToolbar:a,mantinePaperProps:l,renderBottomToolbar:u,renderTopToolbar:c},refs:{tablePaperRef:d}}=r,{isFullScreen:f}=o(),h=Object.assign(Object.assign({},jt(l,{table:r})),i);return x.jsxs(Td,Object.assign({shadow:"xs",withBorder:!0},h,{className:$t("mrt-table-paper",uin.root,f&&"mrt-table-paper-fullscreen",h?.className),ref:m=>{d.current=m,h?.ref&&(h.ref.current=m)},style:m=>Object.assign(Object.assign({zIndex:f?200:void 0},jt(h?.style,m)),f?{border:0,borderRadius:0,bottom:0,height:"100vh",left:0,margin:0,maxHeight:"100vh",maxWidth:"100vw",padding:0,position:"fixed",right:0,top:0,width:"100vw"}:null),children:[a&&((t=jt(c,{table:r}))!==null&&t!==void 0?t:x.jsx(vin,{table:r})),x.jsx(pin,{table:r}),s&&((n=jt(u,{table:r}))!==null&&n!==void 0?n:x.jsx(min,{table:r}))]}))},win=e=>e.table!==void 0,bie=e=>{let t;return win(e)?t=e.table:t=a8(e),x.jsx(bin,{table:t})};function xin(e){return{total:e.length,completed:e.filter(t=>t.completed&&!t.rejected).length,inProgress:e.filter(t=>!t.completed&&!t.rejected).length,rejected:e.filter(t=>t.rejected).length}}function _in(e){const n=e.filter(o=>!o.rejected).map(o=>{const s=Object.values(o.answers).filter(a=>a.startTime).sort((a,l)=>a.startTime-l.startTime);return{startTime:s.length>0?s[0].startTime:void 0,endTime:s.length>0?s[s.length-1].endTime:void 0}}),r=n.map(o=>o.startTime).filter(o=>o!=null),i=n.map(o=>o.endTime).filter(o=>o!=null);return{startDate:r.length>0?new Date(Math.min(...r)):null,endDate:i.length>0?new Date(Math.max(...i)):null}}function Ein(e){const n=e.filter(r=>!r.rejected).reduce((r,i)=>{const o=Object.values(i.answers).filter(s=>s.endTime!==-1).map(s=>({totalTime:(s.endTime-s.startTime)/1e3,cleanTime:(()=>{const a=QQ(s);return a?a/1e3:0})()}));return o.length>0&&(r.count+=o.length,r.totalTimeSum+=o.reduce((s,a)=>s+a.totalTime,0),r.cleanTimeSum+=o.reduce((s,a)=>s+a.cleanTime,0)),r},{totalTimeSum:0,cleanTimeSum:0,count:0});return{avgTime:n.count>0?n.totalTimeSum/n.count:NaN,avgCleanTime:n.count>0?n.cleanTimeSum/n.count:NaN}}function Cin(e){const t=e.filter(o=>!o.rejected),n=t.some(o=>Object.values(o.answers).some(s=>s.correctAnswer&&s.correctAnswer.length>0));let r=0;const i=t.reduce((o,s)=>{const a=Object.values(s.answers).filter(l=>l.correctAnswer&&l.correctAnswer.length>0);return a.length>0&&a.forEach(l=>{r+=l.correctAnswer.length,U1(l.answer,l.correctAnswer)&&(o.correctSum+=l.correctAnswer.length)}),o},{correctSum:0});return n?i.correctSum/r*100:NaN}function L8e(e){const t=e.filter(r=>!r.rejected),n={};return t.forEach(r=>{const i=new Set;Object.entries(r.answers).forEach(([o,s])=>{const a=`${o.split("_")[0]}`;if(n[a]||(n[a]={name:a,avgTime:0,avgCleanTime:0,participantCount:0,correctness:0}),s.endTime===-1)return;const l=n[a],u=(s.endTime-s.startTime)/1e3,c=QQ(s),d=c?c/1e3:0;if(l.avgTime+=u,l.avgCleanTime+=d,i.has(a)||(i.add(a),l.participantCount+=1),s.correctAnswer&&s.correctAnswer.length>0){const f=U1(s.answer,s.correctAnswer);l.correctness+=f?1:0}})}),Object.values(n).map(r=>{const i=Object.values(t).flatMap(a=>Object.keys(a.answers).filter(l=>l.startsWith(r.name)&&a.answers[l]?.correctAnswer?.length>0)),o=Object.values(t).reduce((a,l)=>a+Object.keys(l.answers).filter(u=>u.startsWith(r.name)&&l.answers[u].endTime!==-1).length,0),s=i.length>0;return{...r,avgTime:o?r.avgTime/o:0,avgCleanTime:o?r.avgCleanTime/o:0,correctness:s?r.correctness/i.length*100:NaN}})}function j8e(e){const t=e.filter(r=>!r.rejected),n={};return t.forEach(r=>{Object.entries(r.answers).forEach(([i,o])=>{const s=i.split("_"),a=s.length===4?s[2]:s[0];if(n[a]||(n[a]={name:a,correctness:0,participantCount:0}),o.endTime===-1)return;const l=n[a];if(l.participantCount+=1,o.correctAnswer&&o.correctAnswer.length>0){const u=U1(o.answer,o.correctAnswer);l.correctness+=u?1:0}})}),Object.values(n).map(r=>{const i=Object.values(t).some(o=>Object.entries(o.answers).some(([s,a])=>{const l=s.split("_");return(l.length===4?l[2]:l[0])===r.name&&a.correctAnswer&&a.correctAnswer.length>0}));return{...r,correctness:i?r.correctness/r.participantCount*100:NaN}})}function B8e(e){return e.type==="slider"?e.options.map(t=>`${t.label} (${t.value})`).join(", "):"options"in e?e.options.join(", "):"answerOptions"in e&&"questionOptions"in e?`Questions: ${e.questionOptions.join(", ")} 
 Answers: ${Array.isArray(e.answerOptions)?e.answerOptions.join(", "):e.answerOptions}`:"numItems"in e?`${e.leftLabel?` ${e.leftLabel} ~ ${e.rightLabel}`:""} (${e.numItems} items)`:"N/A"}const px=(e,t)=>e==="N/A"?-1:parseFloat(e.replace(t,""))||0;function Sin({visibleParticipants:e}){const t=k.useMemo(()=>L8e(e).map(o=>({component:o.name,participants:o.participantCount,avgTime:Number.isFinite(o.avgTime)?`${o.avgTime.toFixed(1)}s`:"N/A",avgCleanTime:Number.isFinite(o.avgCleanTime)?`${o.avgCleanTime.toFixed(1)}s`:"N/A",correctness:Number.isNaN(o.correctness)?"N/A":`${o.correctness.toFixed(1)}%`})),[e]),n=k.useMemo(()=>[{accessorKey:"component",header:"Component"},{accessorKey:"participants",header:"Participants"},{accessorKey:"avgTime",header:"Avg Time",sortingFn:(i,o)=>{const s=px(i.original.avgTime,"s"),a=px(o.original.avgTime,"s");return s-a}},{accessorKey:"avgCleanTime",header:"Avg Clean Time",sortingFn:(i,o)=>{const s=px(i.original.avgCleanTime,"s"),a=px(o.original.avgCleanTime,"s");return s-a}},{accessorKey:"correctness",header:"Correctness",sortingFn:(i,o)=>{const s=px(i.original.correctness,"%"),a=px(o.original.correctness,"%");return s-a}}],[]),r=a8({columns:n,data:t,enableGlobalFilter:!0,enableColumnFilters:!1,enableSorting:!0,enablePagination:!0,initialState:{pagination:{pageSize:10,pageIndex:0},sorting:[{id:"component",desc:!1}]},mantineSearchTextInputProps:{placeholder:"Search components...",leftSection:x.jsx(TSe,{size:16})},mantinePaperProps:{style:{overflow:"hidden"}},mantineTableContainerProps:{style:{overflow:"auto"}}});return x.jsxs(Td,{shadow:"sm",p:"md",withBorder:!0,children:[x.jsx(Yr,{order:4,mb:"md",children:"Component Statistics"}),e.length===0||t.length===0?x.jsx(Ve,{ta:"center",mb:"md",children:"No data available"}):x.jsx(bie,{table:r})]})}const O1e=(e,t)=>e==="N/A"?-1:parseFloat(e.replace(t,""))||0;function Tin({visibleParticipants:e,studyConfig:t}){const n=k.useMemo(()=>{const o=j8e(e),s=[];return o.forEach(a=>{const l=t.components[a.name];if(!l)return;const u=Bl(l,t).response;u.length!==0&&u.forEach(c=>{const d=Number.isNaN(a.correctness)?"N/A":`${a.correctness.toFixed(1)}%`;s.push({component:a.name,type:c.type,question:c.prompt||"",options:B8e(c),correctness:d})})}),s},[e,t]),r=k.useMemo(()=>[{accessorKey:"component",header:"Component"},{accessorKey:"type",header:"Type"},{accessorKey:"question",header:"Question"},{accessorKey:"options",header:"Options"},{accessorKey:"correctness",header:"Correctness",sortingFn:(o,s)=>{const a=O1e(o.original.correctness,"%"),l=O1e(s.original.correctness,"%");return a-l}}],[]),i=a8({columns:r,data:n,initialState:{sorting:[{id:"component",desc:!1}]},mantinePaperProps:{style:{overflow:"hidden"}},mantineTableContainerProps:{style:{overflow:"auto"}}});return x.jsxs(Td,{shadow:"sm",p:"md",withBorder:!0,children:[x.jsx(Yr,{order:4,mb:"md",children:"Response Statistics"}),e.length===0||n.length===0?x.jsx(Ve,{ta:"center",mb:"md",children:"No data available"}):x.jsx(bie,{table:i})]})}function Ain({visibleParticipants:e,studyConfig:t}){const n=k.useMemo(()=>{if(e.length===0)return null;const r=xin(e),{avgTime:i,avgCleanTime:o}=Ein(e),{startDate:s,endDate:a}=_in(e),l=Cin(e),c=L8e(e).map(f=>({component:f.name,participants:f.participantCount,avgTime:Number.isFinite(f.avgTime)?`${f.avgTime.toFixed(1)}s`:"N/A",avgCleanTime:Number.isFinite(f.avgCleanTime)?`${f.avgCleanTime.toFixed(1)}s`:"N/A",correctness:Number.isNaN(f.correctness)?"N/A":`${f.correctness.toFixed(1)}%`})),d=t?(()=>{const f=j8e(e),h=[];return f.forEach(m=>{const p=t.components[m.name];if(!p)return;const g=Bl(p,t).response;g.length!==0&&g.forEach(y=>{const v=Number.isNaN(m.correctness)?"N/A":`${m.correctness.toFixed(1)}%`;h.push({component:m.name,type:y.type,question:y.prompt||"",options:B8e(y),correctness:v})})}),h})():[];return{participantCounts:r,avgTime:i,avgCleanTime:o,startDate:s,endDate:a,correctnessStats:l,responseData:d,componentData:c}},[e,t]);return x.jsxs(or,{gap:"md",children:[x.jsx(Een,{overviewData:n,mismatchDetails:null}),x.jsxs(Gn,{align:"flex-start",gap:"md",grow:!0,children:[x.jsx(Sin,{visibleParticipants:e}),x.jsx(Tin,{visibleParticipants:e,studyConfig:t})]})]})}function kin(e,t){if(!e)return null;if(t?.uiConfig&&t.uiConfig.participantNameField){const[n,r]=t.uiConfig.participantNameField.split("."),i=Object.keys(e.answers).find(o=>o.startsWith(n));if(i)return`${e.answers[i].answer[r]}`}return null}function Rin({xScale:e,height:t,labelHeight:n=0,scaleStart:r}){return x.jsx("g",{children:x.jsx("line",{stroke:"gray",strokeWidth:1,x1:e(r)+2,x2:e(r)+2,y1:t-45-n,y2:t-25})})}function Iin(){return k.useCallback((e,t,n)=>{const r=e.split("_").map(o=>ko(+o)).join("/"),i=`${n}/${r}?participantId=${t}`;window.open(`${bo}${i}`,"_blank")},[])}const _3=3,mx=25,E3=25,C3=20,N1e=1,HU=15;function Din({xScale:e,name:t,height:n,labelHeight:r=0,isCorrect:i,hasCorrect:o,scaleStart:s,scaleEnd:a,incomplete:l,trialOrder:u,participantId:c,studyId:d}){const[f,h]=k.useState(!1),[m,{width:p}]=R1(),g=Iin();return x.jsxs("g",{onClick:()=>g(u,c,d),onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{cursor:"pointer"},children:[x.jsx("rect",{opacity:1,fill:f?"cornflowerblue":l?"#e9ecef":"lightgray",x:e(s)+N1e,width:e(a)-e(s)-N1e*2,y:n-mx,height:mx}),x.jsx("rect",{rx:3,opacity:1,x:e(s)-_3,width:p+_3*2+(o?HU:0),y:n-mx-E3-r,height:C3,fill:"whitesmoke"}),x.jsx("line",{stroke:"black",strokeWidth:1,x1:e(s)-_3,x2:p+e(s)+_3+(o?HU:0),y1:n-mx-E3+C3-r,y2:n-mx-E3+C3-r}),x.jsx("foreignObject",{x:e(s),width:p+(o?HU:0),y:n-mx-E3-r,height:C3,children:x.jsx(Iu,{style:{width:"fit-content"},children:x.jsxs(Gn,{wrap:"nowrap",gap:2,children:[x.jsx(Ve,{lineClamp:1,ref:m,mx:0,style:{width:"fit-content",fontWeight:600},size:"12px",children:t}),l?x.jsx(ESe,{color:"orange",size:"14"}):o?i?x.jsx(ay,{color:"var(--mantine-color-green-6)",style:{marginTop:2,strokeWidth:4},size:"14"}):x.jsx(Gm,{color:"var(--mantine-color-red-6)",style:{marginTop:2,strokeWidth:4},size:14}):""]})})})]})}const qU=25,M1e=8,JS={left:20,top:20,right:20,bottom:20},Pin=(e,t)=>{const n=e[1].trialOrder.split("_"),r=t[1].trialOrder.split("_");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]};function Oin({participantData:e,width:t,studyId:n,studyConfig:r,maxLength:i}){const o=k.useMemo(()=>{const d=Object.entries(e.answers||{}).filter(f=>f[1].startTime===0);return(Object.entries(e.answers).length-d.length)/Object.entries(e.answers).length},[e.answers]),s=k.useMemo(()=>{const d=Object.values(e.answers||{}).filter(m=>m.startTime).map(m=>[m.startTime,m.endTime]).flat(),f=uRe(d);return Zb([JS.left,t*o-(o!==1?0:JS.right)]).domain([f[0],i?f[0]+i:f[1]]).clamp(!0)},[i,e.answers,o,t]),a=k.useMemo(()=>Zb([t*o,t-JS.right]).domain([0,Object.entries(e.answers||{}).filter(f=>f[1].startTime===0).length]).clamp(!0),[e.answers,o,t]),l=k.useMemo(()=>{const d=Object.entries(e.answers||{}).filter(m=>!!m[1].startTime).sort((m,p)=>m[1].startTime-p[1].startTime);let f=0,h=0;return d.forEach((m,p)=>{const[g,y]=m,v=p>0?d[p-f-1]:null;v&&v[0].length*(M1e+1)+s(v[1].startTime)>s(y.startTime)?f+=1:f=0,f>h&&(h=f)}),(h+1)*qU+JS.top+JS.bottom},[e.answers,s]),u=k.useMemo(()=>{let d=0;const f=Object.entries(e.answers||{}).filter(g=>g[1].startTime===0).sort(Pin),m=[...Object.entries(e.answers||{}).filter(g=>!!g[1].startTime).sort((g,y)=>g[1].startTime-y[1].startTime),...f];return m.map((g,y)=>{const v=g[1].startTime===0?a:s,[w,E]=g,C=y>0?m[y-d-1]:null,S=C&&C[1].startTime?s:a,T=C?C[1].startTime?C[1].startTime:f.indexOf(C):0,A=E.startTime?E.startTime:f.indexOf(g),D=E.endTime>0?E.endTime:f.indexOf(g)+1;C&&C[0].length*(M1e+1)+S(T)>v(A)?d+=1:d=0;const I=w.split("_"),P=I.slice(0,I.length-1).join("_"),N=r?.components[P],$=U1(E.answer,E.correctAnswer),O=!!(N&&N.correctAnswer||E.correctAnswer.length>0);return{line:x.jsx(Rin,{labelHeight:d*qU,height:l,xScale:v,scaleStart:A},w),label:x.jsx(yt,{withinPortal:!0,position:"bottom-start",px:4,py:0,withArrow:!0,label:x.jsx(or,{gap:0,children:Object.entries(E.answer).map(j=>{const[B,H]=j,q=N?.correctAnswer?.find(V=>V.id===B)?.answer,Y=H==null||H===""?"N/A":typeof H=="object"?JSON.stringify(H):H;return x.jsx(Ve,{children:`${B}: ${Y} ${q?`[${typeof q=="object"?JSON.stringify(q):q}]`:""}`},B)})}),children:x.jsx("g",{children:x.jsx(Din,{incomplete:E.startTime===0,isCorrect:$,hasCorrect:O,labelHeight:d*qU,height:l,name:w,xScale:v,scaleStart:A,scaleEnd:D,trialOrder:E.trialOrder,participantId:e.participantId,studyId:n},w)})},`${w}-tooltip`)}})},[e.answers,e.participantId,a,s,r?.components,l,n]),c=k.useMemo(()=>Object.entries(e.answers||{}).sort((f,h)=>f[1].startTime-h[1].startTime).map(f=>{const[h,m]=f,p=[];let g=[-1,-1],y="visible";if(m.windowEvents)for(let v=0;v<m.windowEvents.length;v+=1)m.windowEvents[v][1]==="visibility"&&(m.windowEvents[v][2]==="hidden"&&y==="visible"?(g=[m.windowEvents[v][0],-1],y="hidden"):m.windowEvents[v][2]==="visible"&&y==="hidden"&&(g[1]=m.windowEvents[v][0],p.push(g),g=[-1,-1],y="visible"));return p.map((v,w)=>x.jsx(yt,{withinPortal:!0,label:"Browsed away",children:x.jsx("rect",{x:s(v[0]),width:s(v[1])-s(v[0]),y:l-5,height:10})},w))}),[s,l,e.answers]);return x.jsx(Iu,{children:x.jsx(or,{gap:15,style:{width:"100%"},children:x.jsxs("svg",{style:{width:t,height:l,overflow:"visible"},children:[u.map(d=>d.line),u.map(d=>d.label),c]})})})}function Nin({metaData:e}){return x.jsx(hX,{w:200,hideLabel:"hide",maxHeight:50,showLabel:"more",children:x.jsxs(or,{gap:"xs",children:[x.jsxs(Ie,{children:[x.jsx("strong",{children:"Resolution:"})," ",JSON.stringify(e?.resolution,null,2)]}),x.jsxs(Ie,{children:[x.jsx("strong",{children:"User Agent:"})," ",e?.userAgent]}),x.jsxs(Ie,{children:[x.jsx("strong",{children:"IP:"})," ",e?.ip]}),x.jsxs(Ie,{children:[x.jsx("strong",{children:"Language:"})," ",e?.language]})]})})}function Min(e){return e.valueOf()===0||Number.isNaN(e.valueOf())?x.jsx(Ve,{size:"sm",c:"dimmed",children:"None"}):e.toLocaleDateString([],{hour:"2-digit",minute:"2-digit"})}function $in({visibleParticipants:e,studyConfig:t,refresh:n,width:r,stageColors:i,selectedParticipants:o,onSelectionChange:s}){const{studyId:a}=hs(),[l,u]=k.useState({});k.useEffect(()=>{const h=Object.keys(l).filter(m=>l[m]).map(m=>e.find(p=>p.participantId===m)).filter(m=>m!==void 0);s(h)},[l,e,s]);const c=k.useCallback(async()=>{await n()},[n]),d=k.useMemo(()=>[{accessorFn:h=>{const m=Object.entries(h.answers||{}).filter(p=>p[1].startTime===0);return{percent:(Object.entries(h.answers).length-m.length)/(md(h.sequence).length-1),completed:h.completed,rejected:h.rejected}},header:"Status",size:50,Cell:({cell:h})=>{const m=h.getValue();return m.rejected?x.jsxs(or,{align:"center",justify:"center",gap:4,w:"100%",children:[x.jsx(yt,{label:"Rejected",children:x.jsx(Gm,{size:30,color:"red",style:{marginBottom:-3}})}),x.jsx(Ve,{size:"xs",c:"dimmed",ta:"center",children:m.rejected.reason})]}):m.completed?x.jsx(Gn,{align:"center",justify:"center",w:"100%",children:x.jsx(yt,{label:"Completed",children:x.jsx(ay,{size:30,color:"teal",style:{marginBottom:-3}})})}):x.jsx(Gn,{align:"center",justify:"center",w:"100%",children:x.jsx(yt,{label:"In Progress",children:x.jsx(S$,{size:30,thickness:4,sections:[{value:m.percent*100,color:"blue"}]})})})}},{accessorKey:"participantIndex",header:"#",size:50},{accessorKey:"stage",header:"Stage",size:120,Cell:({cell:h})=>{const m=h.getValue();if(!m||m==="")return x.jsx(us,{color:"gray",variant:"light",size:"md",children:"N/A"});const p=i[m]||"#F05A30";return x.jsx(us,{color:p,variant:"filled",size:"md",children:m})}},{accessorKey:"participantId",header:"ID"},...t.uiConfig.participantNameField?[{accessorFn:h=>kin(h,t),header:"Name"}]:[],{accessorFn:h=>new Date(Math.max(...Object.values(h.answers).filter(m=>m.endTime>0).map(m=>m.endTime))-Math.min(...Object.values(h.answers).filter(m=>m.startTime>0).map(m=>m.startTime))),header:"Duration",Cell:({cell:h})=>Number.isNaN(h.getValue())?"Incomplete":x.jsx(us,{variant:"light",size:"lg",color:"gray",leftSection:x.jsx(rnt,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:`${TG(+h.getValue())||"N/A"}`})},{accessorFn:h=>new Date(Math.min(...Object.values(h.answers).filter(m=>m.startTime>0).map(m=>m.startTime))),Cell:({cell:h})=>Min(h.getValue()),header:"Start Time"},{accessorFn:h=>Object.values(h.answers).filter(m=>m.correctAnswer.length>0&&m.endTime>0).map(m=>U1(m.answer,m.correctAnswer)),header:"Correct Answers",Cell:({cell:h})=>x.jsxs(x.Fragment,{children:[x.jsx(us,{variant:"light",size:"lg",color:"green",leftSection:x.jsx(ay,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:h.getValue().filter(m=>m).length}),x.jsx(us,{variant:"light",size:"lg",color:"red",leftSection:x.jsx(Gm,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:h.getValue().length-h.getValue().filter(m=>m).length})]})},{accessorKey:"metadata",header:"Metadata",Cell:({cell:h})=>x.jsx(Nin,{metaData:h.getValue()})}],[t,i]),f=a8({columns:d,data:e,enableColumnResizing:!0,columnResizeMode:"onEnd",enableRowSelection:!0,getRowId:h=>h.participantId,onRowSelectionChange:u,manualPagination:!0,state:{rowSelection:l},paginationDisplayMode:"pages",enablePagination:!1,enableRowVirtualization:!0,mantinePaperProps:{style:{maxHeight:"100%",display:"flex",flexDirection:"column"}},layoutMode:"grid",renderDetailPanel:({row:h})=>{const m=h.original;return m.participantId?x.jsx(Oin,{maxLength:void 0,studyConfig:t,studyId:a||"",participantData:m,width:r-60}):null},defaultColumn:{minSize:20,maxSize:1e3,size:180},enableDensityToggle:!1,positionToolbarAlertBanner:"none",renderTopToolbarCustomActions:()=>x.jsx(At,{mb:8,p:8,children:x.jsx(DFe,{selectedParticipants:o,refresh:c})})});return e.length>0?x.jsx(bie,{table:f}):x.jsxs(x.Fragment,{children:[x.jsx(ad,{h:"xl"}),x.jsx(At,{justify:"center",align:"center",children:x.jsx(Ve,{children:"No data available"})})]})}function Fin({response:e,participantData:t,trialId:n,trialConfig:r}){const[i,{toggle:o}]=CY(!0),[s,a]=R1(),l=k.useMemo(()=>e.type==="metadata"?void 0:r.correctAnswer?.find(f=>f.id===e.id),[e.id,e.type,r.correctAnswer]),u=k.useMemo(()=>e.type==="metadata"?[]:t.map(f=>Object.entries(f.answers).filter(([h])=>h.slice(0,h.lastIndexOf("_"))===n)).map(f=>f.filter(([,h])=>h.startTime>0).map(([,h])=>{const m={...h.answer};if(l){const p=h.answer[e.id],g=l.answer;m.result=MQ(p,g)?"correct":"incorrect"}return m})).flat(),[t,e.type,n,l,e.id]),c=k.useMemo(()=>{const d={height:"container",width:"container"};if(e.type==="shortText"||e.type==="longText")return{};if(e.type==="metadata"){const h=t.map(p=>Object.entries(p.answers).filter(([g])=>g.slice(0,g.lastIndexOf("_"))===n)).map(p=>p.filter(([g,y])=>y.endTime!==-1).map(([g,y])=>(y.endTime-y.startTime)/1e3)).flat();return{...d,data:{values:h},mark:"bar",encoding:{x:{field:"data",bin:!0,type:"quantitative",title:"Time (s)"},y:{aggregate:"count",type:"quantitative",title:"Count"}}}}const f={params:[{name:"correctAnswer",value:l?.answer},{name:"variable",value:e.id}],transform:[{calculate:"datum[variable] === correctAnswer ? 'correct' : 'incorrect'",as:"result"},{calculate:"if(datum.result === 'correct', 0, if(datum.result === 'incorrect', 1, 2))",as:"order"}],color:{field:"result",type:"nominal",scale:{domain:["correct","incorrect"],range:["#69DB7C","#ADB5BD"]}},order:{field:"order"}};if(e.type==="matrix-radio"||e.type==="matrix-checkbox"){const h=u.map(p=>Object.entries(p[e.id]||{}).map(([g,y])=>e.type==="matrix-checkbox"?y.split("|").map(v=>({question:g,value:v})):[{question:g,value:y}]).flat()).flat();return{...d,data:{values:h},mark:"bar",params:l!==void 0?f.params:void 0,transform:Array.isArray(l?.answer)?void 0:l!==void 0?f.transform:void 0,encoding:{row:{field:"question",type:"nominal",header:{title:"Question"}},x:{field:"value",type:"ordinal",title:"Answer"},y:{aggregate:"count",type:"quantitative",title:"Count"},color:l!==void 0?f.color:void 0},order:l!==void 0?f.order:void 0,resolve:{scale:{x:"independent"}}}}if(e.type==="numerical"||e.type==="slider"||e.type==="likert"){let h,m;return e.type==="numerical"&&(h=e.min,m=e.max),e.type==="slider"&&(h=Math.min(...e.options.map(g=>g.value)),m=Math.max(...e.options.map(g=>g.value))),e.type==="likert"&&(h=1,m=e.numItems),{...d,data:{values:u},mark:"bar",params:l!==void 0?f.params:void 0,transform:[{bin:e.type==="likert"?{step:1}:{maxbins:10},field:e.id,as:"bins"},...l!==void 0?f.transform:[]],encoding:{x:{field:"bins",scale:h!==void 0&&m!==void 0?{domain:[h,m]}:void 0,type:"quantitative",title:"Answer"},x2:{field:"bins_end"},y:{aggregate:"count",type:"quantitative",title:"Count",stack:!0},color:l!==void 0?f.color:void 0,order:l!==void 0?f.order:void 0}}}if(e.type==="radio"||e.type==="dropdown"||e.type==="checkbox"||e.type==="buttons"||e.type==="ranking-sublist"||e.type==="ranking-categorical"||e.type==="ranking-pairwise")return{...d,data:{values:u},mark:"bar",params:l!==void 0?f.params:void 0,transform:Array.isArray(l?.answer)?void 0:l!==void 0?f.transform:void 0,encoding:{x:{field:e.id,type:"ordinal",title:"Answer"},y:{aggregate:"count",type:"quantitative",title:"Count"},color:l!==void 0?f.color:void 0}}},[t,u,e.id,e.max,e.min,e.numItems,e.options,e.type,n,l]);return x.jsxs(Td,{p:"lg",withBorder:!0,ref:s,children:[x.jsxs(At,{direction:"row",justify:"space-between",onClick:o,children:[x.jsxs(At,{align:"center",children:[e.type==="metadata"&&x.jsx(vtt,{size:20}),e.type==="numerical"&&x.jsx(wnt,{size:20}),(e.type==="shortText"||e.type==="longText")&&x.jsx(Yet,{size:20}),e.type==="likert"&&x.jsx(vSe,{size:20}),e.type==="dropdown"&&x.jsx(Unt,{size:20}),e.type==="slider"&&x.jsx(vet,{size:20}),e.type==="radio"&&x.jsx(Ont,{size:20}),e.type==="checkbox"&&x.jsx(Qnt,{size:20}),(e.type==="ranking-sublist"||e.type==="ranking-categorical"||e.type==="ranking-pairwise")&&x.jsx(Ltt,{size:20}),e.type==="matrix-radio"&&x.jsx(Ztt,{size:20}),e.type==="matrix-checkbox"&&x.jsx(Jet,{size:20}),e.type==="buttons"&&x.jsx(_tt,{size:20}),e.type==="reactive"&&x.jsx(ont,{size:20}),e.type==="textOnly"&&x.jsx(cnt,{size:20}),x.jsx(Yr,{order:5,ml:4,children:e.id})]}),x.jsx(MX,{style:{rotate:i?"180deg":"none",transition:"rotate 200ms"}})]}),x.jsxs(Cp,{in:i,mah:400,children:[x.jsx(Ie,{style:{top:0,position:"sticky",backgroundColor:"white",zIndex:2},py:"md",children:x.jsx(TE,{})}),x.jsxs(lX,{cols:2,h:360,children:[x.jsx(op,{mih:200,children:e.type!=="metadata"&&e.type!=="shortText"&&e.type!=="longText"&&e.type!=="reactive"&&e.type!=="textOnly"&&e.type!=="ranking-sublist"&&e.type!=="ranking-categorical"&&e.type!=="ranking-pairwise"?x.jsx(ave,{spec:c,actions:!1,height:270,width:e.type==="matrix-checkbox"||e.type==="matrix-radio"?500:a.width/2-60-(l===void 0?0:60),padding:0,style:{justifySelf:"center"},renderer:"svg"}):x.jsx(At,{direction:"column",gap:"xs",style:{overflowX:"clip"},children:e.type==="metadata"?x.jsx(Ph,{block:!0,children:`${JSON.stringify(r,null,2)}`}):x.jsxs(x.Fragment,{children:[x.jsx(Ve,{fw:700,children:"Response Values: "}),e.type==="textOnly"||e.type==="ranking-sublist"||e.type==="ranking-categorical"||e.type==="ranking-pairwise"?x.jsx(Ve,{children:"N/A"}):u.map((d,f)=>x.jsx(At,{align:"center",gap:"xs",children:x.jsx(Ve,{children:d[e.id]})},f))]})})}),x.jsx(op,{mih:200,children:e.type==="metadata"?x.jsx(ave,{spec:c,actions:!1,width:a.width/2-60,height:270,padding:0,style:{justifySelf:"center"}}):x.jsxs(x.Fragment,{children:[x.jsx(Ve,{fw:700,children:"Response Specification: "}),x.jsx(Ph,{block:!0,children:JSON.stringify(e,null,2)}),x.jsx("br",{}),l&&x.jsxs(x.Fragment,{children:[x.jsx(Ve,{fw:700,children:"Correct Answer: "}),x.jsx(Ph,{block:!0,children:JSON.stringify(l,null,2)})]})]})})]})]})]})}function Lin({participantData:e,studyConfig:t,trialId:n}){const r=n&&n!=="end"&&Bl(t.components[n],t),i=k.useMemo(()=>[{id:"Config and Timing",type:"metadata"},...r?r.response:[]],[r]);return r?x.jsx(At,{w:"100%",direction:"column",gap:"xs",children:i.map(o=>x.jsx(Fin,{response:o,participantData:e,trialId:n,trialConfig:r},o.id))}):x.jsx(At,{justify:"center",align:"center",pt:"lg",pb:"md",w:"100%",children:x.jsx(Ve,{children:n!=="end"?"No trial selected":"The end component has no data."})})}function jin({studyConfig:e,visibleParticipants:t}){const n=k.useMemo(()=>{let i=structuredClone(e.sequence);return i=pQ(i,"root"),i.components.push("end"),i},[e.sequence]),{trialId:r}=hs();return x.jsx(Td,{shadow:"sm",p:"md",withBorder:!0,children:t.length===0?x.jsx(At,{justify:"center",align:"center",pt:"lg",pb:"md",children:x.jsx(Ve,{children:"No data available."})}):x.jsxs(At,{direction:"row",children:[x.jsx(Ie,{w:340,children:x.jsx(c6,{configSequence:n,participantSequence:n,fullSequence:n,participantView:!1,studyConfig:e,analysisNavigation:!0})}),x.jsx(TE,{orientation:"vertical",mx:"md"}),x.jsx(Lin,{participantData:t,studyConfig:e,trialId:r})]})})}function z8e({visibleParticipants:e,studyId:t,gap:n,fileName:r,hasAudio:i,hasScreenRecording:o}){const[s,{open:a,close:l}]=CY(!1),[u,c]=k.useState([]),[d,f]=k.useState(!1),[h,m]=k.useState(!1),{storageEngine:p}=Mi(),g=async()=>typeof e=="function"?await e():e,y=async()=>{const S=await g(),T=r?`${r}.json`:`${t}_all.json`;JQ(JSON.stringify(S,null,2),T)},v=async()=>{const S=await g();c(S),a()},w=async()=>{f(!0);try{const S=await g();if(!p)return;await yQt({storageEngine:p,participants:S,studyId:t,fileName:r})}finally{f(!1)}},E=async()=>{m(!0);try{const S=await g();if(!p)return;await bQt({storageEngine:p,participants:S,studyId:t,fileName:r})}finally{m(!1)}},C=typeof e!="function"?`Download ${e.length} participants`:"Download participants data";return x.jsxs(x.Fragment,{children:[x.jsxs(Gn,{style:{gap:n},children:[x.jsx(yt,{label:`${C} as JSON`,children:x.jsx(Ut,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:y,px:4,children:x.jsx(Ttt,{})})}),x.jsx(yt,{label:`${C} as tidy CSV`,children:x.jsx(Ut,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:v,px:4,children:x.jsx(kSe,{})})}),i&&x.jsx(yt,{label:`${C} audio & transcripts as ZIP`,children:x.jsx(Ut,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:w,px:4,loading:d,children:x.jsx(_Se,{})})}),o&&x.jsx(yt,{label:`${C} screen recordings ZIP`,children:x.jsx(Ut,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:E,px:4,loading:h,children:x.jsx(gSe,{})})})]}),s&&u.length>0&&x.jsx(S1t,{opened:s,close:l,filename:r?`${r}_tidy.csv`:`${t}_all_tidy.csv`,data:u,studyId:t})]})}function Bin({studyId:e,refresh:t}){const[n,r]=k.useState(!1),[i,o]=k.useState(!1),[s,a]=k.useState(!1),[l,u]=k.useState(!1),[c,d]=k.useState(""),[f,h]=k.useState({}),[m,p]=k.useState(""),[g,y]=k.useState(""),[v,w]=k.useState(!1),[E,C]=k.useState(!1),{storageEngine:S}=Mi(),T=k.useCallback(async()=>{if(!S)return;C(!0);const Y=await S.getSnapshots(e);h(Y),C(!1)},[S,e]);if(k.useEffect(()=>{T()},[T]),!S)return null;const A=async Y=>{w(!0);let V;switch(Y.type){case"create":V=await S.createSnapshot(e,Y.archive);break;case"rename":V=await S.renameSnapshot(Y.snapshot,Y.newName,e);break;case"restore":V=await S.restoreSnapshot(e,Y.snapshot);break;case"deleteSnapshot":V=await S.removeSnapshotOrLive(Y.snapshot,e);break;case"deleteLive":V=await S.removeSnapshotOrLive(e,e);break;default:throw w(!1),new Error("Unknown action")}V.status==="SUCCESS"?(await T(),w(!1),await t(),V.notifications?.forEach(L=>uA(L))):(w(!1),uA({title:V.error.title,message:V.error.message,color:"red"}))},D=()=>A({type:"create",archive:!1}),I=()=>{p(""),r(!1),A({type:"create",archive:!0})},P=()=>{a(!1),A({type:"rename",snapshot:c,newName:g})},N=Y=>A({type:"restore",snapshot:Y}),$=()=>{p(""),o(!1),A({type:"deleteSnapshot",snapshot:c})},O=()=>{p(""),u(!1),A({type:"deleteLive"})},j=()=>Eue({title:"Create a Snapshot",children:x.jsx(Ve,{mb:30,children:"This will create a snapshot of the live database without impacting the live data."}),labels:{confirm:"Create",cancel:"Cancel"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>D()}),B=Y=>Eue({title:"Restore Snapshot",children:x.jsx(Ve,{mb:30,children:"Restoring this snapshot will perform 2 actions. First, we will create a snapshot of the current live database, then we will restore the selected snapshot into the live database."}),labels:{confirm:"Restore",cancel:"Cancel"},confirmProps:{color:"red"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>N(Y)}),H=Y=>{const V=/-snapshot-(.+)$/,L=Y.match(V);return L&&L[1]?L[1].replace("T"," "):null},q=async Y=>{const V=Y.slice(Y.indexOf("-")+1);return await S.getAllParticipantsData(V)};return x.jsxs(x.Fragment,{children:[x.jsx(ql,{visible:v}),x.jsxs(At,{justify:"space-between",align:"center",children:[x.jsxs(Ie,{style:{width:"70%"},children:[x.jsx(Yr,{order:5,children:"Create a Snapshot"}),x.jsxs(Ve,{children:["This will create a snapshot of the live"," ",x.jsx(Ve,{span:!0,fw:700,children:e})," ","database. It will"," ",x.jsx(Ve,{span:!0,fw:700,fs:"italic",children:"not"})," ","remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),x.jsx(yt,{label:"Create a snapshot",children:x.jsx(Ut,{onClick:j,children:"Snapshot"})})]}),x.jsx(ad,{h:"lg"}),x.jsxs(At,{justify:"space-between",align:"center",children:[x.jsxs(Ie,{style:{width:"70%"},children:[x.jsx(Yr,{order:5,children:"Archive Data"}),x.jsxs(Ve,{children:["This will create a snapshot of the live"," ",x.jsx(Ve,{span:!0,fw:700,children:e})," ","database. It will then remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),x.jsx(yt,{label:"Snapshot and Delete Data",children:x.jsx(Ut,{color:"red",onClick:()=>r(!0),children:"Archive"})})]}),x.jsx(ad,{h:"lg"}),x.jsxs(At,{justify:"space-between",align:"center",children:[x.jsxs(Ie,{style:{width:"70%"},children:[x.jsx(Yr,{order:5,children:"Delete Data"}),x.jsxs(Ve,{children:["This will delete the live"," ",x.jsx(Ve,{span:!0,fw:700,children:e})," ","database. Since this does not create a snapshot the data will be permanently deleted and cannot be restored."]})]}),x.jsx(yt,{label:"Delete Data",children:x.jsx(Ut,{color:"red",onClick:()=>u(!0),children:"Delete"})})]}),x.jsx(ad,{h:"xl"}),x.jsxs(At,{direction:"column",children:[x.jsx(At,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:"xs",pb:"sm",children:x.jsx(Yr,{order:5,children:"Snapshots"})}),x.jsxs(Ie,{style:{position:"relative"},children:[x.jsx(ql,{visible:E}),Object.keys(f).length>0?x.jsxs(En,{children:[x.jsx(En.Thead,{children:x.jsxs(En.Tr,{children:[x.jsx(En.Th,{children:"Snapshot Name"}),x.jsx(En.Th,{children:"Date Created"}),x.jsx(En.Th,{children:"Actions"})]})}),x.jsx(En.Tbody,{children:Object.entries(f).map(([Y,V])=>x.jsxs(En.Tr,{children:[x.jsx(En.Td,{children:V.name}),x.jsx(En.Td,{children:H(Y)}),x.jsx(En.Td,{children:x.jsxs(At,{children:[x.jsx(yt,{label:"Rename",children:x.jsx(Ut,{color:"green",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{a(!0),d(Y)},children:x.jsx(Cnt,{})})}),x.jsx(yt,{label:"Restore Snapshot",children:x.jsx(Ut,{color:"blue",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{B(Y)},children:x.jsx(CSe,{})})}),x.jsx(yt,{label:"Delete Snapshot",children:x.jsx(Ut,{color:"red",px:4,variant:"light",style:{margin:"0px 10px 0px 5px"},onClick:()=>{o(!0),d(Y)},children:x.jsx(RSe,{})})}),x.jsx(z8e,{visibleParticipants:()=>q(Y),studyId:e,gap:"10px",fileName:V.name})]})})]},Y))})]}):x.jsx(Ve,{children:"No snapshots."})]})]}),x.jsxs(Ii,{opened:n,onClose:()=>{r(!1),p("")},title:x.jsx(Ve,{children:"Archive Data"}),children:[x.jsx(Ve,{mb:"sm",children:"This will create a snapshot of the live database and remove the data from the live database."}),x.jsx($l,{label:"To archive this data, please enter the name of the study.",placeholder:e,onChange:Y=>p(Y.target.value)}),x.jsxs(At,{mt:"sm",justify:"right",children:[x.jsx(Ut,{mr:5,variant:"subtle",color:"dark",onClick:()=>{r(!1),p("")},children:"Cancel"}),x.jsx(Ut,{color:"red",onClick:I,disabled:m!==e,children:"Archive"})]})]}),x.jsxs(Ii,{opened:i,onClose:()=>{o(!1),p("")},title:x.jsx(Ve,{children:"Delete Snapshot"}),children:[x.jsxs(Ve,{mb:"sm",children:["This will permanently remove this snapshot. This action is"," ",x.jsx(Ve,{span:!0,fw:700,children:"irreversible"}),"."]}),x.jsx($l,{label:"To delete this snapshot, please enter the name of the study.",placeholder:e,onChange:Y=>p(Y.target.value)}),x.jsxs(At,{mt:"sm",justify:"right",children:[x.jsx(Ut,{mr:5,variant:"subtle",color:"dark",onClick:()=>{o(!1),p("")},children:"Cancel"}),x.jsx(Ut,{color:"red",onClick:$,disabled:m!==e,children:"Delete"})]})]}),x.jsxs(Ii,{opened:s,onClose:()=>{a(!1),y("")},title:x.jsx(Ve,{children:"Rename Snapshot"}),children:[x.jsx($l,{label:"Enter the new name of the snapshot.",placeholder:c,onChange:Y=>y(Y.target.value)}),x.jsxs(At,{mt:"sm",justify:"right",children:[x.jsx(Ut,{mr:5,variant:"subtle",color:"dark",onClick:()=>{a(!1),y("")},children:"Cancel"}),x.jsx(Ut,{color:"green",onClick:P,disabled:!g||g.length===0,children:"Rename"})]})]}),x.jsxs(Ii,{opened:l,onClose:()=>{u(!1),p("")},title:x.jsx(Ve,{children:"Delete Live Data"}),children:[x.jsxs(Ve,{mb:"sm",children:["This will permanently delete the live"," ",x.jsx(Ve,{span:!0,fw:700,children:e})," ","data. This action is"," ",x.jsx(Ve,{span:!0,fw:700,children:"irreversible"}),". Please consider using archive data to create a snapshot of the live data before deleting."]}),x.jsx($l,{label:"To delete this live data, please enter the name of the study.",placeholder:e,onChange:Y=>p(Y.target.value)}),x.jsxs(At,{mt:"sm",justify:"right",children:[x.jsx(Ut,{mr:5,variant:"subtle",color:"dark",onClick:()=>{u(!1),p("")},children:"Cancel"}),x.jsx(Ut,{color:"red",onClick:O,disabled:m!==e,children:"Delete"})]})]})]})}function zin({studyId:e}){const{storageEngine:t}=Mi(),[n,r]=k.useState(!1),[i,o]=k.useState(!1),[s,a]=k.useState(!1),[l,u]=k.useState(!1);k.useEffect(()=>{(async()=>{if(t){const f=await t.getModes(e);o(f.dataCollectionEnabled),a(f.studyNavigatorEnabled),u(f.analyticsInterfacePubliclyAccessible),r(!0)}})()},[t,e]);const c=async(d,f)=>{t&&(await t.setMode(e,d,f),d==="dataCollectionEnabled"?o(f):d==="studyNavigatorEnabled"?a(f):d==="analyticsInterfacePubliclyAccessible"&&u(f))};return n&&x.jsxs(or,{children:[x.jsx(H0,{label:"Data Collection Enabled",checked:i,onChange:d=>c("dataCollectionEnabled",d.currentTarget.checked)}),x.jsx(H0,{label:"Study Navigator Enabled",checked:s,onChange:d=>c("studyNavigatorEnabled",d.currentTarget.checked)}),x.jsx(H0,{label:"Analytics Interface Publicly Accessible",checked:l,onChange:d=>c("analyticsInterfacePubliclyAccessible",d.currentTarget.checked)})]})}function Uin({studyId:e}){const{storageEngine:t}=Mi(),[n,r]=k.useState(!1),[i,o]=k.useState({stageName:"DEFAULT",color:"#F05A30"}),[s,a]=k.useState([{stageName:"DEFAULT",color:"#F05A30"}]),[l,u]=k.useState(null),[c,d]=k.useState(""),[f,h]=k.useState("#F05A30"),[m,p]=k.useState(""),[g,y]=k.useState(!1),[v,w]=k.useState(""),[E,C]=k.useState("#F05A30"),[S,T]=k.useState("");k.useEffect(()=>{(async()=>{if(t)try{const B=await t.getStageData(e);o(B.currentStage),a(B.allStages),r(!0)}catch(B){console.error("Failed to load stage data:",B),o({stageName:"DEFAULT",color:"#F05A30"}),a([{stageName:"DEFAULT",color:"#F05A30"}]),r(!0)}})()},[t,e]);const A=async(j,B)=>{t&&(await t.setCurrentStage(e,j,B),o({stageName:j,color:B}))},D=j=>{u(j),d(s[j].stageName),h(s[j].color),p("")},I=async j=>{if(t){await t.updateStageColor(e,j,f);const B=await t.getStageData(e);o(B.currentStage),a(B.allStages),u(null),p("")}},P=()=>{u(null),d(""),h("#F05A30"),p("")},N=()=>{y(!0),w(""),C("#F05A30"),T("")},$=async()=>{if(!v.trim()){T("Stage name cannot be empty");return}const j=v.trim(),B=j.toLowerCase();if(B==="n/a"){T('Stage name "N/A" is reserved and cannot be used');return}if(B==="all"){T('Stage name "ALL" is reserved and cannot be used');return}if(B==="default"){T('Stage name "DEFAULT" is reserved and cannot be used');return}if(s.some(H=>H.stageName===j)){T("A stage with this name already exists");return}if(T(""),t){await t.setCurrentStage(e,j,E);const H=await t.getStageData(e);o(H.currentStage),a(H.allStages),y(!1),w(""),C("#F05A30")}},O=()=>{y(!1),w(""),C("#F05A30"),T("")};return n?x.jsxs(or,{children:[x.jsx(Gn,{justify:"space-between",mb:"md",children:!g&&x.jsx(Ut,{size:"sm",onClick:N,children:"Add New Stage"})}),x.jsxs(En,{striped:!0,highlightOnHover:!0,withTableBorder:!0,children:[x.jsx(En.Thead,{children:x.jsxs(En.Tr,{children:[x.jsx(En.Th,{style:{width:"80px",whiteSpace:"nowrap"},children:"Current"}),x.jsx(En.Th,{children:"Stage Name"}),x.jsx(En.Th,{style:{width:"200px"},children:"Color"}),x.jsx(En.Th,{style:{width:"80px",whiteSpace:"nowrap"},children:"Edit"})]})}),x.jsxs(En.Tbody,{children:[s.map((j,B)=>x.jsxs(En.Tr,{children:[x.jsx(En.Td,{children:x.jsx(ol,{checked:i.stageName===j.stageName,onChange:()=>A(j.stageName,j.color)})}),x.jsx(En.Td,{children:l===B?x.jsx($l,{value:c,onChange:H=>d(H.currentTarget.value),error:m,size:"xs",disabled:!0}):x.jsx(Ve,{size:"sm",children:j.stageName})}),x.jsx(En.Td,{children:l===B?x.jsx(HN,{value:f,onChange:h,size:"xs"}):x.jsxs(Gn,{gap:"xs",children:[x.jsx("div",{style:{width:20,height:20,backgroundColor:j.color,border:"1px solid #dee2e6",borderRadius:4}}),x.jsx(Ve,{size:"sm",c:"dimmed",children:j.color})]})}),x.jsx(En.Td,{children:l===B?x.jsxs(Gn,{gap:"xs",children:[x.jsx(Cn,{size:"sm",color:"green",onClick:()=>I(j.stageName),children:x.jsx(ay,{size:16})}),x.jsx(Cn,{size:"sm",color:"gray",onClick:P,children:x.jsx(Gm,{size:16})})]}):x.jsx(Cn,{size:"sm",onClick:()=>D(B),children:x.jsx(ZN,{size:16})})})]},j.stageName)),g&&x.jsxs(En.Tr,{style:{backgroundColor:"#f8f9fa"},children:[x.jsx(En.Td,{}),x.jsx(En.Td,{children:x.jsx($l,{placeholder:"Enter stage name",value:v,onChange:j=>w(j.currentTarget.value),error:S,size:"xs"})}),x.jsx(En.Td,{children:x.jsx(HN,{value:E,onChange:C,size:"xs"})}),x.jsx(En.Td,{children:x.jsxs(Gn,{gap:"xs",children:[x.jsx(Cn,{size:"sm",color:"green",onClick:$,children:x.jsx(ay,{size:16})}),x.jsx(Cn,{size:"sm",color:"gray",onClick:O,children:x.jsx(Gm,{size:16})})]})})]})]})]}),m&&x.jsx(Ve,{size:"sm",c:"red",mt:"xs",children:"Note: Stage names cannot be changed, only colors can be edited."})]}):x.jsxs(or,{align:"center",p:"md",children:[x.jsx(Uf,{size:"sm"}),x.jsx(Ve,{size:"sm",c:"dimmed",children:"Loading stage data..."})]})}function Vin({studyId:e,refresh:t}){return x.jsx(yg,{children:x.jsxs(Cs,{multiple:!0,variant:"contained",children:[x.jsxs(Cs.Item,{value:"ReVISit Modes",children:[x.jsx(Cs.Control,{children:x.jsx(Yr,{order:5,children:"ReVISit Modes"})}),x.jsx(Cs.Panel,{children:x.jsx(zin,{studyId:e})})]},"modes"),x.jsxs(Cs.Item,{value:"Stage Management",children:[x.jsx(Cs.Control,{children:x.jsx(Yr,{order:5,children:"Stage Management"})}),x.jsx(Cs.Panel,{children:x.jsx(Uin,{studyId:e})})]},"stageManagement"),x.jsxs(Cs.Item,{value:"Data Management",children:[x.jsx(Cs.Control,{children:x.jsx(Yr,{order:5,children:"Data Management"})}),x.jsx(Cs.Panel,{children:x.jsx(Bin,{studyId:e,refresh:t})})]},"dataManagement")]})})}function Hin(e){const[t,n]=k.useState(!1),[r,i]=k.useState(!1);return k.useEffect(()=>{if(!e){n(!1),i(!1);return}const{recordAudio:o,recordScreen:s}=e.uiConfig,a=Object.keys(e.components).map(l=>Bl(e.components[l],e));n(o||a.some(l=>l.recordAudio)),i(s||a.some(l=>l.recordScreen))},[e]),{hasAudioRecording:t,hasScreenRecording:r}}function qin({annotation:e,setAnnotation:t,start:n,current:r,end:i,text:o,tags:s,selectedTags:a,onTextChange:l,deleteRowCallback:u,addRowCallback:c,onSelectTags:d,addRef:f,index:h,editTagCallback:m,createTagCallback:p,onClickLine:g}){const[y,v]=k.useState(e),w=k.useRef(0);k.useEffect(()=>{w.current=h},[h]);const[E,{width:C}]=R1();return k.useMemo(()=>x.jsxs(go,{style:{width:"100%"},children:[x.jsx(go.Col,{span:8,children:x.jsx(Gn,{wrap:"nowrap",gap:0,px:10,style:{width:"100%",borderRadius:"10px",backgroundColor:r>=n&&r<=i?"rgba(100, 149, 237, 0.3)":"white"},children:x.jsx(U2,{ref:T=>T?f(w.current,T):void 0,autosize:!0,minRows:1,maxRows:4,style:{width:"100%"},variant:"unstyled",value:o,onFocus:()=>g(w.current),onChange:T=>{l(w.current,T.currentTarget.value)},onKeyDown:(T=>{T.key==="Enter"&&T.currentTarget.selectionStart!==null?(c(w.current,T.currentTarget.selectionStart),T.preventDefault(),T.stopPropagation()):T.key==="Backspace"&&T.currentTarget.selectionStart===0&&T.currentTarget.selectionEnd===0&&(u(w.current),T.preventDefault(),T.stopPropagation())})})})}),x.jsx(go.Col,{ref:E,span:2,children:x.jsx(kG,{width:C-20,createTagCallback:p,editTagCallback:m,onSelectTags:T=>d(w.current,T),selectedTags:a,tags:s,tagsEmptyText:"Add Text Tags"})}),x.jsx(go.Col,{span:2,children:x.jsx(U2,{autosize:!0,style:{width:C-20},minRows:1,maxRows:4,value:y,onChange:T=>v(T.currentTarget.value),placeholder:"Add Annotation",onBlur:()=>t(w.current,y)})})]}),[f,c,y,p,r,u,m,i,g,d,l,E,a,t,n,s,o,C])}async function Win(e){if(e){const t=await e.getTags("text");return Array.isArray(t)?t:[]}return[]}function Gin({currentShownTranscription:e,transcriptList:t,setTranscriptList:n,onClickLine:r}){const{storageEngine:i}=Mi(),{value:o,execute:s}=hf(Win,[i]),a=k.useCallback(v=>{i&&i.saveTags(v,"text").then(()=>s(i))},[s,i]),l=k.useRef([]),u=pm((v,w)=>{const E=[...t];E[v].text=w,n(E)}),c=pm((v,w)=>{const E=[...t];E[v].selectedTags=w,n(E)}),d=pm((v,w)=>{const E=[...t];E[v].annotation=w,n(E)}),f=pm(v=>{if(v===0)return;const w=structuredClone(t);w[v-1].text=t[v-1].text+t[v].text,w[v-1].transcriptMappingEnd=t[v].transcriptMappingEnd,w[v-1].selectedTags=[...t[v-1].selectedTags,...t[v].selectedTags.filter(E=>!t[v-1].selectedTags.find(C=>C.id===E.id))],w.splice(v,1),w.filter(E=>E.transcriptMappingStart===w[v-1].transcriptMappingStart).forEach(E=>{E.transcriptMappingEnd=w[v-1].transcriptMappingEnd}),n(w),setTimeout(()=>{l.current[v-1].focus(),l.current[v-1].setSelectionRange(t[v-1].text.length,t[v-1].text.length,"none")},1)}),h=pm((v,w)=>{const E=structuredClone(t),C=E[v];E.splice(v+1,0,{transcriptMappingEnd:C.transcriptMappingEnd,transcriptMappingStart:C.transcriptMappingStart,text:C.text.slice(w),selectedTags:C.selectedTags,annotation:""}),E[v].text=E[v].text.slice(0,w),n(E),setTimeout(()=>{l.current[v+1].focus(),l.current[v+1].setSelectionRange(0,0)},1)}),m=k.useCallback((v,w)=>{if(!o)return;const E=o.findIndex(S=>S.id===v.id),C=Array.from(o);C[E]=w,a(C)},[a,o]),p=k.useCallback(v=>{a([...o||[],v])},[a,o]),g=k.useCallback((v,w)=>{l.current[v]=w},[]),y=k.useMemo(()=>t.map((v,w)=>x.jsx(qin,{onClickLine:r,editTagCallback:m,createTagCallback:p,annotation:v.annotation,setAnnotation:d,addRef:g,onSelectTags:c,addRowCallback:h,deleteRowCallback:f,onTextChange:u,tags:o||[],selectedTags:v.selectedTags,text:v.text,index:w,start:v.transcriptMappingStart,end:v.transcriptMappingEnd,current:e===null?0:e},w)),[h,c,g,p,e,f,m,r,d,o,u,t]);return x.jsxs(or,{gap:0,children:[x.jsxs(go,{style:{width:"100%"},mb:"sm",children:[x.jsx(go.Col,{span:8,children:x.jsx(Ve,{fw:700,size:"xl",children:"Transcripts"})}),x.jsx(go.Col,{span:2,children:x.jsxs(Gn,{gap:"xs",align:"center",children:[x.jsx(Ve,{fw:700,size:"xl",children:"Text Tags"}),x.jsx(yt,{w:300,multiline:!0,label:"Text tags allow you to categorize segments of text. Click in the box to add, create, or edit tags.",children:x.jsx(Wm,{size:16})})]})}),x.jsx(go.Col,{span:2,children:x.jsxs(Gn,{gap:"xs",align:"center",children:[x.jsx(Ve,{fw:700,size:"xl",children:"Annotations"}),x.jsx(yt,{w:300,multiline:!0,label:"Annotations allow you to add additional context or notes to segments of text.",children:x.jsx(Wm,{size:16})})]})})]}),x.jsx(or,{gap:5,children:y})]})}async function Yin(e,t,n,r){return e&&t&&n&&r?await e.getEditedTranscript(t,r,n):null}function Kin(e,t){return t?t.getParticipantData(e):null}function Xin(e,t,n,r){return e&&r?e.getTranscription(t,n).then(i=>!i||!i.results?null:{results:i.results.map(s=>({...s,resultEndTime:+s.resultEndTime.split("s")[0]})).flat()}):null}function Qin({visibleParticipants:e,storageEngine:t}){const n=Hy(),[r,i]=kc(),[o,s]=k.useState(0),a=k.useMemo(()=>r.get("currentTrial")||"",[r]),l=k.useMemo(()=>r.get("participantId")||"",[r]),[u,c]=k.useState(0),{value:d}=hf(Kin,[l,t]),{studyId:f}=hs(),[h,m]=k.useState(),[p,{width:g}]=R1(),[y,v]=k.useState([]),{value:w,status:E}=hf(Xin,[t,a,l,f]),C=k.useMemo(()=>t&&l&&a?Qd(P=>t.saveEditedTranscript(l,n.user.user?.email||"temp",a,P),1e3,{maxWait:5e3}):P=>null,[a,n.user.user?.email,t,l]);k.useEffect(()=>{!a&&!l&&e.length>0&&i({participantId:e[0].participantId,currentTrial:Object.entries(e[0].answers).find(([P,N])=>+N.trialOrder.split("_")[0]==0)?.[0]||""})},[]);const S=k.useCallback(P=>{v(P),C(P)},[C]),{value:T,status:A}=hf(Yin,[t,l,a,n.user.user?.email||"temp"]);k.useEffect(()=>{v(T&&A==="success"?T:[])},[T,A]);const D=pm(P=>{if(w&&u!==null&&d&&P>0){let N=u;const $=a?d.answers[a].startTime:d.answers.audioTest.startTime,O=Math.abs(P-$)/1e3;if(O>w.results[N].resultEndTime){for(;O>w.results[N].resultEndTime;)if(N+=1,N>w.results.length-1){N=w.results.length-1;break}}else if(N>0&&O<w.results[N-1].resultEndTime)for(;N>0&&O<w.results[N-1].resultEndTime;)N-=1;if(u===N)return;c(N)}});k.useEffect(()=>{A==="success"&&(!T||T.length===0)&&E==="success"&&w&&S(w.results.map((P,N)=>({transcriptMappingStart:N,transcriptMappingEnd:N,text:P.alternatives[0].transcript?.trim()||"",selectedTags:[],annotation:""})))},[n.user.user?.email,a,T,l,w,E,S,t,A]);const I=k.useCallback(P=>{const N=y[P].transcriptMappingStart;s(N)},[y]);return k.useEffect(()=>{s(0)},[l,a]),x.jsx(Gn,{wrap:"nowrap",gap:25,children:x.jsxs(or,{ref:p,style:{width:"100%"},gap:10,children:[!l||!a?x.jsx(Iu,{children:x.jsx(Ve,{c:"dimmed",size:"24",children:"Select a Participant and Trial to Analyze"})}):!h||E==="success"&&w===null?x.jsx(Iu,{children:x.jsx(Ve,{c:"dimmed",size:"24",children:"No transcripts found for this task"})}):x.jsx(or,{children:x.jsx(Gin,{onClickLine:I,transcriptList:y,setTranscriptList:S,currentShownTranscription:u})}),x.jsx(PFe,{setHasAudio:m,saveProvenance:()=>null,studyId:f||"",jumpedToLine:o,editedTranscript:y,currentTrial:a,isReplay:!1,visibleParticipants:e.map(P=>P.participantId),rawTranscript:w,onTimeUpdate:D,currentShownTranscription:u,width:g,storageEngine:t})]})})}const Jin=37;function Zin(e,t){const n=Object.values(e.answers).map(i=>i.startTime).filter(i=>i!==void 0).sort(),r=Object.values(t.answers).map(i=>i.startTime).filter(i=>i!==void 0).sort();return n.length===0||r.length===0?n.length>0?-1:r.length>0?1:t.participantIndex-e.participantIndex:r[0]-n[0]}async function eon(e,t,n){return n&&t&&await t.initializeStudyDb(n),!e||!t||!n?[]:await t.getAllParticipantsData(n)}function ton({globalConfig:e}){const{studyId:t}=hs(),[n,r]=k.useState(void 0),[i,o]=k.useState(["completed","inprogress","rejected"]),[s,a]=k.useState(["ALL"]),[l,u]=k.useState([{value:"ALL",label:"ALL"}]),[c,d]=k.useState({}),[f,h]=k.useState([]),{hasAudioRecording:m,hasScreenRecording:p}=Hin(n),{storageEngine:g}=Mi(),y=pl(),{analysisTab:v}=hs(),{user:w}=Hy(),[E,{width:C}]=R1(),{value:S,execute:T,status:A}=hf(eon,[n,g,t]),D=k.useMemo(()=>{if(!S)return{completed:0,inprogress:0,rejected:0};const $=Object.values(S),O=s.includes("ALL")?$:$.filter(j=>s.includes(j.stage||""));return{completed:O.filter(j=>!j.rejected&&j.completed).length,inprogress:O.filter(j=>!j.rejected&&!j.completed).length,rejected:O.filter(j=>j.rejected).length}},[S,s]),I=k.useMemo(()=>f.length===0?{completed:0,inprogress:0,rejected:0}:{completed:f.filter($=>!$.rejected&&$.completed).length,inprogress:f.filter($=>!$.rejected&&!$.completed).length,rejected:f.filter($=>$.rejected).length},[f]),P=k.useMemo(()=>{if(!S)return[];const $=Object.values(S),O=i.includes("completed")?$.filter(Y=>!Y.rejected&&Y.completed):[],j=i.includes("inprogress")?$.filter(Y=>!Y.rejected&&!Y.completed):[],B=i.includes("rejected")?$.filter(Y=>Y.rejected):[],H=[...O,...j,...B];return(s.includes("ALL")?H:H.filter(Y=>s.includes(Y.stage||""))).sort(Zin)},[S,i,s]),N=k.useCallback(async()=>{if(!(!t||!g))try{const $=await g.getStageData(t),O=$.allStages.map(B=>({value:B.stageName,label:B.stageName}));u([{value:"ALL",label:"ALL"},...O]);const j={};$.allStages.forEach(B=>{j[B.stageName]=B.color}),d(j)}catch($){console.error("Failed to load stages:",$),u([{value:"ALL",label:"ALL"}]),d({})}},[t,g]);return k.useEffect(()=>{N(),h([])},[N,v]),k.useEffect(()=>{if(!t)return()=>{};if(t==="__revisit-widget"){const $=async O=>{if(O.data.type==="revisitWidget/CONFIG"&&g){const j=await nie(O.data.payload);r(j)}};return window.addEventListener("message",$),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",$)}}return rie(t,e).then($=>{$&&r($)}),()=>{}},[t,e,g]),x.jsxs(x.Fragment,{children:[x.jsx(yN,{studyIds:e.configsList}),x.jsx(io.Main,{style:{height:"100dvh"},children:x.jsxs(or,{ref:E,style:{height:"100%",maxHeight:"100dvh",overflow:"hidden"},justify:"space-between",children:[x.jsxs(At,{direction:"row",align:"center",justify:"space-between",children:[x.jsxs(At,{direction:"row",align:"center",gap:"md",children:[x.jsx(Yr,{order:5,mr:"sm",children:t}),n&&x.jsx(z8e,{visibleParticipants:f.length>0?f:P,studyId:t||"",gap:"10px",hasAudio:m,hasScreenRecording:p})]}),x.jsxs(At,{direction:"row",align:"center",children:[x.jsx(Ve,{size:"sm",fw:500,children:"Stage:"}),x.jsx(RE,{data:l,value:s,onChange:$=>{$.includes("ALL")&&!s.includes("ALL")?a(["ALL"]):$.includes("ALL")&&s.includes("ALL")?a($.filter(O=>O!=="ALL")):$.length===0?a(["ALL"]):a($)},w:250,size:"sm",clearable:!1,maxValues:5,styles:{input:{minHeight:"36px"}},mx:"sm"}),x.jsx(Ve,{mt:-2,size:"sm",children:"Participants: "}),x.jsx(tl.Group,{value:i,onChange:$=>o($),mb:"xs",mt:8,ml:"xs",children:x.jsxs(Gn,{children:[x.jsx(tl,{value:"completed",label:f.length>0?`Completed (${I.completed} of ${D.completed})`:`Completed (${D.completed})`}),x.jsx(tl,{value:"inprogress",label:f.length>0?`In Progress (${I.inprogress} of ${D.inprogress})`:`In Progress (${D.inprogress})`}),x.jsx(tl,{value:"rejected",label:f.length>0?`Rejected (${I.rejected} of ${D.rejected})`:`Rejected (${D.rejected})`})]})})]})]}),x.jsx(ql,{visible:A==="pending"}),A==="success"?x.jsxs(gr,{style:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"},keepMounted:!1,variant:"outline",value:v,onChange:$=>y(`/analysis/stats/${t}/${$}`),children:[x.jsxs(gr.List,{children:[x.jsx(gr.Tab,{value:"summary",leftSection:x.jsx(ttt,{size:16}),children:"Study Summary"}),x.jsx(gr.Tab,{value:"table",leftSection:x.jsx(ert,{size:16}),children:"Participant View"}),x.jsx(gr.Tab,{value:"stats",leftSection:x.jsx(Xet,{size:16}),children:"Trial Stats"}),x.jsx(gr.Tab,{value:"tagging",leftSection:x.jsx(nrt,{size:16}),children:"Coding"}),g?.getEngine()==="firebase"&&x.jsx(gr.Tab,{value:"live-monitor",leftSection:x.jsx(Ctt,{size:16}),children:"Live Monitor"}),x.jsx(gr.Tab,{value:"manage",leftSection:x.jsx(ASe,{size:16}),disabled:!w.isAdmin,children:"Manage"})]}),x.jsx(gr.Panel,{style:{overflow:"auto"},value:"summary",pt:"xs",children:n&&x.jsx(Ain,{studyConfig:n,visibleParticipants:P})}),x.jsx(gr.Panel,{style:{height:`calc(100% - ${Jin}px)`},value:"table",pt:"xs",children:n&&x.jsx($in,{width:C,stageColors:c,visibleParticipants:P,studyConfig:n,refresh:()=>T(n,g,t),selectedParticipants:f,onSelectionChange:h})}),x.jsx(gr.Panel,{style:{overflow:"auto"},value:"stats",pt:"xs",children:n&&x.jsx(jin,{studyConfig:n,visibleParticipants:P})}),x.jsx(gr.Panel,{value:"tagging",pt:"xs",children:n&&g?.getEngine()==="firebase"?x.jsx(Qin,{visibleParticipants:P,storageEngine:g}):x.jsx(Iu,{children:"Think aloud coding is only available when using Firebase."})}),g?.getEngine()==="firebase"&&x.jsx(gr.Panel,{style:{overflow:"auto"},value:"live-monitor",pt:"xs",children:n&&x.jsx(_en,{studyConfig:n,storageEngine:g,studyId:t,includedParticipants:i,selectedStages:s})}),x.jsx(gr.Panel,{value:"manage",pt:"xs",children:t&&w.isAdmin?x.jsx(Vin,{studyId:t,refresh:()=>T(n,g,t)}):x.jsx(yg,{mt:20,children:x.jsx(sd,{title:"Unauthorized Access",variant:"light",color:"red",icon:x.jsx(Wm,{}),children:"You are not authorized to manage the data for this study."})})})]}):null]})})]})}function $1e({children:e,paramToCheck:t,paramCallback:n}){const{user:r,verifyAdminStatus:i,logout:o}=Hy(),{storageEngine:s}=Mi(),[a,l]=k.useState(!1),u=hs();return k.useEffect(()=>{(async()=>{if(a===!1)if(t&&n&&u[t]){const d=await n(u[t]);d&&l(d)}else l(!0);if(a)try{r&&await i(r)||o()}catch(d){o(),console.warn(d)}})()},[r.isAdmin,a]),r.determiningStatus||!s?x.jsx(ql,{visible:r.determiningStatus||!s?.getEngine()}):a&&!r.isAdmin&&!r.determiningStatus?x.jsx(RX,{to:"/login"}):x.jsx(x.Fragment,{children:e})}async function U8e(e,t){if(e&&Yc(e)){t(!0);try{return await e.login()}catch(n){uA({title:"Error",message:n.message,color:"red"})}finally{t(!1)}}return null}function non(){const{user:e}=Hy(),[t,n]=k.useState(!1),{storageEngine:r}=Mi();k.useEffect(()=>{!e.determiningStatus&&!e.isAdmin&&e.adminVerification&&uA({title:"Unauthorized",message:"You are not authorized to use this application.",color:"red"})},[e.adminVerification]);const i=k.useMemo(()=>r?.getEngine(),[r]);return!e.determiningStatus&&e.isAdmin?x.jsx(RX,{to:"/"}):x.jsx(yg,{children:x.jsx(Uy,{padding:"lg",children:x.jsxs(At,{align:"center",direction:"column",justify:"center",children:[x.jsx(vg,{maw:200,mt:50,mb:100,src:`${bo}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),x.jsxs(x.Fragment,{children:[x.jsxs(Ve,{mb:20,children:["To access admin settings, please sign in using"," ",i==="supabase"?" Supabase":" Google","."]}),x.jsxs(Ut,{onClick:()=>U8e(r,n),leftSection:i==="supabase"?x.jsx(NX,{}):x.jsx(drt,{}),variant:"filled",children:["Sign In With"," ",i==="supabase"?"Supabase":" Google "]})]}),x.jsx(ql,{visible:t})]})})})}function ron(){const{user:e,triggerAuth:t,logout:n}=Hy(),{storageEngine:r}=Mi(),[i,o]=k.useState(!1),[s,a]=k.useState([]),[l,u]=k.useState(!1),[c,d]=k.useState(!1),[f,h]=k.useState(!1),[m,p]=k.useState(!1),[g,y]=k.useState(!1),[v,w]=k.useState(""),[E,C]=k.useState(null),S=WAe({initialValues:{email:""},validate:{email:zyt("Invalid email")}});k.useEffect(()=>{(async()=>{if(u(!0),r&&Yc(r)){const O=await r?.getUserManagementData("authentication");o(O?.isEnabled||!1);const j=await r?.getUserManagementData("adminUsers");j&&j.adminUsersList&&a(j?.adminUsersList.map(B=>B.email).filter(B=>B!==null))}else o(!1);u(!1)})()},[r]);const T=async()=>{if(u(!0),r&&Yc(r)){if(r.getEngine()==="supabase"){const{data:O}=await r.getSession();if(O.session&&O.session.user&&O.session.user.email){C({email:O.session.user.email,uid:O.session.user.id}),p(!0),u(!1);return}}const $=await U8e(r,u);$&&$.email?(C({email:$.email,uid:$.uid}),p(!0)):y(!0)}u(!1)},A=async $=>{u(!0),r&&Yc(r)&&$&&(await r.changeAuth(!0),await r.addAdminUser($),a([$.email]),o(!0),t()),p(!1),u(!1)},D=async()=>{if(u(!0),r&&Yc(r)){await r.addAdminUser({email:S.values.email,uid:null});const $=await r.getUserManagementData("adminUsers");a($?.adminUsersList.map(O=>O.email).filter(O=>O!==null)||[])}u(!1),d(!1),S.setValues({email:""})},I=$=>{h(!0),w($)},P=async()=>{if(u(!0),r&&Yc(r)){await r.removeAdminUser(v);const $=await r.getUserManagementData("adminUsers");a($?.adminUsersList.map(O=>O.email).filter(O=>O!==null)||[])}h(!1),u(!1)},N=k.useMemo(()=>r&&Yc(r),[r]);return x.jsxs(x.Fragment,{children:[x.jsx(yg,{children:x.jsxs(Uy,{withBorder:!0,style:{backgroundColor:"#FAFAFA"},children:[x.jsx(Yr,{mb:20,order:3,children:"Authentication"}),i?x.jsx(At,{children:x.jsx(Ve,{children:"Authentication is enabled."})}):x.jsxs(At,{justify:"space-between",children:[x.jsx(Ie,{children:x.jsx(Ve,{children:"Authentication is currently disabled."})}),x.jsx(yt,{label:"You can only enable auth when using a cloud storage engine (Firebase/Supabase)",disabled:N,children:x.jsx(Ut,{onClick:$=>N?T():$.preventDefault(),color:"green","data-disabled":N?void 0:!0,style:{"&[dataDisabled]":{pointerEvents:"all"}},children:"Enable Authentication"})})]}),i?x.jsxs(At,{mt:40,direction:"column",children:[x.jsxs(At,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:15,pb:15,children:[x.jsx(Yr,{order:6,children:"Enabled Users"}),x.jsx($X,{style:{cursor:"pointer"},onClick:()=>d(!0)})]}),s.length>0?s.map($=>x.jsxs(At,{justify:"space-between",mb:10,children:[x.jsx(Ve,{children:$}),$===e.user?.email?x.jsx(Ve,{color:"blue",size:"xs",children:"You"}):x.jsx(Cn,{variant:"subtle",onClick:()=>I($),children:x.jsx(RSe,{color:"red"})})]},$)):null,x.jsx(At,{direction:"row",justify:"left",children:x.jsx(Ut,{onClick:()=>n(),mt:20,children:"Log out"})})]}):null]})}),x.jsx(Ii,{opened:c,onClose:()=>d(!1),title:"Add Admin User",children:x.jsxs(Ie,{component:"form",onSubmit:S.onSubmit(()=>D()),children:[x.jsx($l,{leftSection:x.jsx(Pet,{}),placeholder:"User Email Address",...S.getInputProps("email")}),x.jsxs(At,{mt:30,justify:"right",children:[x.jsx(Ut,{mr:5,variant:"subtle",color:"red",onClick:()=>d(!1),children:"Cancel"}),x.jsx(Ut,{type:"submit",children:"Save"})]})]})}),x.jsxs(Ii,{opened:f,size:"large",onClose:()=>h(!1),title:x.jsxs(Ve,{fw:700,children:["Remove",v,"?"]}),children:[x.jsxs(Ve,{mt:40,children:["Are you sure you want to remove",x.jsx("b",{children:v})," ","as an administrator?"]}),x.jsxs(At,{mt:40,justify:"right",children:[x.jsx(Ut,{mr:5,variant:"subtle",color:"red",onClick:()=>h(!1),children:"Cancel"}),x.jsx(Ut,{onClick:()=>P(),children:"Yes, I'm sure."})]})]}),x.jsxs(Ii,{opened:m,size:"md",onClose:()=>p(!1),title:x.jsx(Ve,{fw:700,children:"Enable Authentication?"}),children:[x.jsxs(Ve,{mt:40,children:["User"," ",x.jsx("b",{children:E?.email})," ","will be added as an administrator to this application. After enabling authentication, you'll be able to add additional users below. This action cannot be undone."]}),x.jsxs(At,{mt:40,justify:"right",children:[x.jsx(Ut,{mr:5,variant:"subtle",color:"red",onClick:()=>p(!1),children:"Cancel"}),x.jsx(Ut,{onClick:()=>A(E),children:"Yes, I'm sure."})]})]}),x.jsxs(Ii,{opened:g,size:"md",onClose:()=>y(!1),title:x.jsx(Ve,{fw:700,children:"An Error Occurred."}),children:[x.jsxs(Ve,{mt:40,children:["An error has occurred when trying to enable authentication. Please consult the"," ",x.jsx("a",{href:"https://revisit.dev/docs/data-and-deployment/authentication-authorization/adding-removing-ui/",target:"_blank",rel:"noreferrer",children:"documentation"})," ","for more information."]}),x.jsx(At,{mt:40,justify:"right",children:x.jsx(Ut,{mr:5,onClick:()=>y(!1),children:"Okay"})})]}),x.jsx(ql,{visible:l})]})}var WU={exports:{}};var F1e;function ion(){return F1e||(F1e=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,o){function s(u,c){if(!i[u]){if(!r[u]){var d=typeof gm=="function"&&gm;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(m){var p=r[u][1][m];return s(p||m)},h,h.exports,n,r,i,o)}return i[u].exports}for(var a=typeof gm=="function"&&gm,l=0;l<o.length;l++)s(o[l]);return s})({1:[function(n,r,i){(function(o){var s=o.MutationObserver||o.WebKitMutationObserver,a;if(s){var l=0,u=new s(m),c=o.document.createTextNode("");u.observe(c,{characterData:!0}),a=function(){c.data=l=++l%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var d=new o.MessageChannel;d.port1.onmessage=m,a=function(){d.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?a=function(){var g=o.document.createElement("script");g.onreadystatechange=function(){m(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},o.document.documentElement.appendChild(g)}:a=function(){setTimeout(m,0)};var f,h=[];function m(){f=!0;for(var g,y,v=h.length;v;){for(y=h,h=[],g=-1;++g<v;)y[g]();v=h.length}f=!1}r.exports=p;function p(g){h.push(g)===1&&!f&&a()}}).call(this,typeof Ri<"u"?Ri:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var o=n(1);function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];r.exports=d;function d(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,C!==s&&p(this,C)}d.prototype.catch=function(C){return this.then(null,C)},d.prototype.then=function(C,S){if(typeof C!="function"&&this.state===u||typeof S!="function"&&this.state===l)return this;var T=new this.constructor(s);if(this.state!==c){var A=this.state===u?C:S;h(T,A,this.outcome)}else this.queue.push(new f(T,C,S));return T};function f(C,S,T){this.promise=C,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(C){a.resolve(this.promise,C)},f.prototype.otherCallFulfilled=function(C){h(this.promise,this.onFulfilled,C)},f.prototype.callRejected=function(C){a.reject(this.promise,C)},f.prototype.otherCallRejected=function(C){h(this.promise,this.onRejected,C)};function h(C,S,T){o(function(){var A;try{A=S(T)}catch(D){return a.reject(C,D)}A===C?a.reject(C,new TypeError("Cannot resolve promise with itself")):a.resolve(C,A)})}a.resolve=function(C,S){var T=g(m,S);if(T.status==="error")return a.reject(C,T.value);var A=T.value;if(A)p(C,A);else{C.state=u,C.outcome=S;for(var D=-1,I=C.queue.length;++D<I;)C.queue[D].callFulfilled(S)}return C},a.reject=function(C,S){C.state=l,C.outcome=S;for(var T=-1,A=C.queue.length;++T<A;)C.queue[T].callRejected(S);return C};function m(C){var S=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof S=="function")return function(){S.apply(C,arguments)}}function p(C,S){var T=!1;function A(N){T||(T=!0,a.reject(C,N))}function D(N){T||(T=!0,a.resolve(C,N))}function I(){S(D,A)}var P=g(I);P.status==="error"&&A(P.value)}function g(C,S){var T={};try{T.value=C(S),T.status="success"}catch(A){T.status="error",T.value=A}return T}d.resolve=y;function y(C){return C instanceof this?C:a.resolve(new this(s),C)}d.reject=v;function v(C){var S=new this(s);return a.reject(S,C)}d.all=w;function w(C){var S=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=C.length,A=!1;if(!T)return this.resolve([]);for(var D=new Array(T),I=0,P=-1,N=new this(s);++P<T;)$(C[P],P);return N;function $(O,j){S.resolve(O).then(B,function(H){A||(A=!0,a.reject(N,H))});function B(H){D[j]=H,++I===T&&!A&&(A=!0,a.resolve(N,D))}}}d.race=E;function E(C){var S=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=C.length,A=!1;if(!T)return this.resolve([]);for(var D=-1,I=new this(s);++D<T;)P(C[D]);return I;function P(N){S.resolve(N).then(function($){A||(A=!0,a.resolve(I,$))},function($){A||(A=!0,a.reject(I,$))})}}},{1:1}],3:[function(n,r,i){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof Ri<"u"?Ri:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me};function s(me,Oe){if(!(me instanceof Oe))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function u(){try{if(!l||!l.open)return!1;var me=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Oe=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!me||Oe)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(me,Oe){me=me||[],Oe=Oe||{};try{return new Blob(me,Oe)}catch(Fe){if(Fe.name!=="TypeError")throw Fe;for(var xe=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,je=new xe,Ue=0;Ue<me.length;Ue+=1)je.append(me[Ue]);return je.getBlob(Oe.type)}}typeof Promise>"u"&&n(3);var d=Promise;function f(me,Oe){Oe&&me.then(function(xe){Oe(null,xe)},function(xe){Oe(xe)})}function h(me,Oe,xe){typeof Oe=="function"&&me.then(Oe),typeof xe=="function"&&me.catch(xe)}function m(me){return typeof me!="string"&&(console.warn(me+" used as a key, but it is not a string."),me=String(me)),me}function p(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",y=void 0,v={},w=Object.prototype.toString,E="readonly",C="readwrite";function S(me){for(var Oe=me.length,xe=new ArrayBuffer(Oe),je=new Uint8Array(xe),Ue=0;Ue<Oe;Ue++)je[Ue]=me.charCodeAt(Ue);return xe}function T(me){return new d(function(Oe){var xe=me.transaction(g,C),je=c([""]);xe.objectStore(g).put(je,"key"),xe.onabort=function(Ue){Ue.preventDefault(),Ue.stopPropagation(),Oe(!1)},xe.oncomplete=function(){var Ue=navigator.userAgent.match(/Chrome\/(\d+)/),Fe=navigator.userAgent.match(/Edge\//);Oe(Fe||!Ue||parseInt(Ue[1],10)>=43)}}).catch(function(){return!1})}function A(me){return typeof y=="boolean"?d.resolve(y):T(me).then(function(Oe){return y=Oe,y})}function D(me){var Oe=v[me.name],xe={};xe.promise=new d(function(je,Ue){xe.resolve=je,xe.reject=Ue}),Oe.deferredOperations.push(xe),Oe.dbReady?Oe.dbReady=Oe.dbReady.then(function(){return xe.promise}):Oe.dbReady=xe.promise}function I(me){var Oe=v[me.name],xe=Oe.deferredOperations.pop();if(xe)return xe.resolve(),xe.promise}function P(me,Oe){var xe=v[me.name],je=xe.deferredOperations.pop();if(je)return je.reject(Oe),je.promise}function N(me,Oe){return new d(function(xe,je){if(v[me.name]=v[me.name]||U(),me.db)if(Oe)D(me),me.db.close();else return xe(me.db);var Ue=[me.name];Oe&&Ue.push(me.version);var Fe=l.open.apply(l,Ue);Oe&&(Fe.onupgradeneeded=function(nt){var ct=Fe.result;try{ct.createObjectStore(me.storeName),nt.oldVersion<=1&&ct.createObjectStore(g)}catch(ht){if(ht.name==="ConstraintError")console.warn('The database "'+me.name+'" has been upgraded from version '+nt.oldVersion+" to version "+nt.newVersion+', but the storage "'+me.storeName+'" already exists.');else throw ht}}),Fe.onerror=function(nt){nt.preventDefault(),je(Fe.error)},Fe.onsuccess=function(){var nt=Fe.result;nt.onversionchange=function(ct){ct.target.close()},xe(nt),I(me)}})}function $(me){return N(me,!1)}function O(me){return N(me,!0)}function j(me,Oe){if(!me.db)return!0;var xe=!me.db.objectStoreNames.contains(me.storeName),je=me.version<me.db.version,Ue=me.version>me.db.version;if(je&&(me.version!==Oe&&console.warn('The database "'+me.name+`" can't be downgraded from version `+me.db.version+" to version "+me.version+"."),me.version=me.db.version),Ue||xe){if(xe){var Fe=me.db.version+1;Fe>me.version&&(me.version=Fe)}return!0}return!1}function B(me){return new d(function(Oe,xe){var je=new FileReader;je.onerror=xe,je.onloadend=function(Ue){var Fe=btoa(Ue.target.result||"");Oe({__local_forage_encoded_blob:!0,data:Fe,type:me.type})},je.readAsBinaryString(me)})}function H(me){var Oe=S(atob(me.data));return c([Oe],{type:me.type})}function q(me){return me&&me.__local_forage_encoded_blob}function Y(me){var Oe=this,xe=Oe._initReady().then(function(){var je=v[Oe._dbInfo.name];if(je&&je.dbReady)return je.dbReady});return h(xe,me,me),xe}function V(me){D(me);for(var Oe=v[me.name],xe=Oe.forages,je=0;je<xe.length;je++){var Ue=xe[je];Ue._dbInfo.db&&(Ue._dbInfo.db.close(),Ue._dbInfo.db=null)}return me.db=null,$(me).then(function(Fe){return me.db=Fe,j(me)?O(me):Fe}).then(function(Fe){me.db=Oe.db=Fe;for(var nt=0;nt<xe.length;nt++)xe[nt]._dbInfo.db=Fe}).catch(function(Fe){throw P(me,Fe),Fe})}function L(me,Oe,xe,je){je===void 0&&(je=1);try{var Ue=me.db.transaction(me.storeName,Oe);xe(null,Ue)}catch(Fe){if(je>0&&(!me.db||Fe.name==="InvalidStateError"||Fe.name==="NotFoundError"))return d.resolve().then(function(){if(!me.db||Fe.name==="NotFoundError"&&!me.db.objectStoreNames.contains(me.storeName)&&me.version<=me.db.version)return me.db&&(me.version=me.db.version+1),O(me)}).then(function(){return V(me).then(function(){L(me,Oe,xe,je-1)})}).catch(xe);xe(Fe)}}function U(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function z(me){var Oe=this,xe={db:null};if(me)for(var je in me)xe[je]=me[je];var Ue=v[xe.name];Ue||(Ue=U(),v[xe.name]=Ue),Ue.forages.push(Oe),Oe._initReady||(Oe._initReady=Oe.ready,Oe.ready=Y);var Fe=[];function nt(){return d.resolve()}for(var ct=0;ct<Ue.forages.length;ct++){var ht=Ue.forages[ct];ht!==Oe&&Fe.push(ht._initReady().catch(nt))}var dt=Ue.forages.slice(0);return d.all(Fe).then(function(){return xe.db=Ue.db,$(xe)}).then(function(Et){return xe.db=Et,j(xe,Oe._defaultConfig.version)?O(xe):Et}).then(function(Et){xe.db=Ue.db=Et,Oe._dbInfo=xe;for(var Bt=0;Bt<dt.length;Bt++){var $n=dt[Bt];$n!==Oe&&($n._dbInfo.db=xe.db,$n._dbInfo.version=xe.version)}})}function G(me,Oe){var xe=this;me=m(me);var je=new d(function(Ue,Fe){xe.ready().then(function(){L(xe._dbInfo,E,function(nt,ct){if(nt)return Fe(nt);try{var ht=ct.objectStore(xe._dbInfo.storeName),dt=ht.get(me);dt.onsuccess=function(){var Et=dt.result;Et===void 0&&(Et=null),q(Et)&&(Et=H(Et)),Ue(Et)},dt.onerror=function(){Fe(dt.error)}}catch(Et){Fe(Et)}})}).catch(Fe)});return f(je,Oe),je}function Q(me,Oe){var xe=this,je=new d(function(Ue,Fe){xe.ready().then(function(){L(xe._dbInfo,E,function(nt,ct){if(nt)return Fe(nt);try{var ht=ct.objectStore(xe._dbInfo.storeName),dt=ht.openCursor(),Et=1;dt.onsuccess=function(){var Bt=dt.result;if(Bt){var $n=Bt.value;q($n)&&($n=H($n));var en=me($n,Bt.key,Et++);en!==void 0?Ue(en):Bt.continue()}else Ue()},dt.onerror=function(){Fe(dt.error)}}catch(Bt){Fe(Bt)}})}).catch(Fe)});return f(je,Oe),je}function te(me,Oe,xe){var je=this;me=m(me);var Ue=new d(function(Fe,nt){var ct;je.ready().then(function(){return ct=je._dbInfo,w.call(Oe)==="[object Blob]"?A(ct.db).then(function(ht){return ht?Oe:B(Oe)}):Oe}).then(function(ht){L(je._dbInfo,C,function(dt,Et){if(dt)return nt(dt);try{var Bt=Et.objectStore(je._dbInfo.storeName);ht===null&&(ht=void 0);var $n=Bt.put(ht,me);Et.oncomplete=function(){ht===void 0&&(ht=null),Fe(ht)},Et.onabort=Et.onerror=function(){var en=$n.error?$n.error:$n.transaction.error;nt(en)}}catch(en){nt(en)}})}).catch(nt)});return f(Ue,xe),Ue}function de(me,Oe){var xe=this;me=m(me);var je=new d(function(Ue,Fe){xe.ready().then(function(){L(xe._dbInfo,C,function(nt,ct){if(nt)return Fe(nt);try{var ht=ct.objectStore(xe._dbInfo.storeName),dt=ht.delete(me);ct.oncomplete=function(){Ue()},ct.onerror=function(){Fe(dt.error)},ct.onabort=function(){var Et=dt.error?dt.error:dt.transaction.error;Fe(Et)}}catch(Et){Fe(Et)}})}).catch(Fe)});return f(je,Oe),je}function se(me){var Oe=this,xe=new d(function(je,Ue){Oe.ready().then(function(){L(Oe._dbInfo,C,function(Fe,nt){if(Fe)return Ue(Fe);try{var ct=nt.objectStore(Oe._dbInfo.storeName),ht=ct.clear();nt.oncomplete=function(){je()},nt.onabort=nt.onerror=function(){var dt=ht.error?ht.error:ht.transaction.error;Ue(dt)}}catch(dt){Ue(dt)}})}).catch(Ue)});return f(xe,me),xe}function ae(me){var Oe=this,xe=new d(function(je,Ue){Oe.ready().then(function(){L(Oe._dbInfo,E,function(Fe,nt){if(Fe)return Ue(Fe);try{var ct=nt.objectStore(Oe._dbInfo.storeName),ht=ct.count();ht.onsuccess=function(){je(ht.result)},ht.onerror=function(){Ue(ht.error)}}catch(dt){Ue(dt)}})}).catch(Ue)});return f(xe,me),xe}function he(me,Oe){var xe=this,je=new d(function(Ue,Fe){if(me<0){Ue(null);return}xe.ready().then(function(){L(xe._dbInfo,E,function(nt,ct){if(nt)return Fe(nt);try{var ht=ct.objectStore(xe._dbInfo.storeName),dt=!1,Et=ht.openKeyCursor();Et.onsuccess=function(){var Bt=Et.result;if(!Bt){Ue(null);return}me===0||dt?Ue(Bt.key):(dt=!0,Bt.advance(me))},Et.onerror=function(){Fe(Et.error)}}catch(Bt){Fe(Bt)}})}).catch(Fe)});return f(je,Oe),je}function ie(me){var Oe=this,xe=new d(function(je,Ue){Oe.ready().then(function(){L(Oe._dbInfo,E,function(Fe,nt){if(Fe)return Ue(Fe);try{var ct=nt.objectStore(Oe._dbInfo.storeName),ht=ct.openKeyCursor(),dt=[];ht.onsuccess=function(){var Et=ht.result;if(!Et){je(dt);return}dt.push(Et.key),Et.continue()},ht.onerror=function(){Ue(ht.error)}}catch(Et){Ue(Et)}})}).catch(Ue)});return f(xe,me),xe}function le(me,Oe){Oe=p.apply(this,arguments);var xe=this.config();me=typeof me!="function"&&me||{},me.name||(me.name=me.name||xe.name,me.storeName=me.storeName||xe.storeName);var je=this,Ue;if(!me.name)Ue=d.reject("Invalid arguments");else{var Fe=me.name===xe.name&&je._dbInfo.db,nt=Fe?d.resolve(je._dbInfo.db):$(me).then(function(ct){var ht=v[me.name],dt=ht.forages;ht.db=ct;for(var Et=0;Et<dt.length;Et++)dt[Et]._dbInfo.db=ct;return ct});me.storeName?Ue=nt.then(function(ct){if(ct.objectStoreNames.contains(me.storeName)){var ht=ct.version+1;D(me);var dt=v[me.name],Et=dt.forages;ct.close();for(var Bt=0;Bt<Et.length;Bt++){var $n=Et[Bt];$n._dbInfo.db=null,$n._dbInfo.version=ht}var en=new d(function(rr,Xt){var pr=l.open(me.name,ht);pr.onerror=function(Lo){var Ma=pr.result;Ma.close(),Xt(Lo)},pr.onupgradeneeded=function(){var Lo=pr.result;Lo.deleteObjectStore(me.storeName)},pr.onsuccess=function(){var Lo=pr.result;Lo.close(),rr(Lo)}});return en.then(function(rr){dt.db=rr;for(var Xt=0;Xt<Et.length;Xt++){var pr=Et[Xt];pr._dbInfo.db=rr,I(pr._dbInfo)}}).catch(function(rr){throw(P(me,rr)||d.resolve()).catch(function(){}),rr})}}):Ue=nt.then(function(ct){D(me);var ht=v[me.name],dt=ht.forages;ct.close();for(var Et=0;Et<dt.length;Et++){var Bt=dt[Et];Bt._dbInfo.db=null}var $n=new d(function(en,rr){var Xt=l.deleteDatabase(me.name);Xt.onerror=function(){var pr=Xt.result;pr&&pr.close(),rr(Xt.error)},Xt.onblocked=function(){console.warn('dropInstance blocked for database "'+me.name+'" until all open connections are closed')},Xt.onsuccess=function(){var pr=Xt.result;pr&&pr.close(),en(pr)}});return $n.then(function(en){ht.db=en;for(var rr=0;rr<dt.length;rr++){var Xt=dt[rr];I(Xt._dbInfo)}}).catch(function(en){throw(P(me,en)||d.resolve()).catch(function(){}),en})})}return f(Ue,Oe),Ue}var Ce={_driver:"asyncStorage",_initStorage:z,_support:u(),iterate:Q,getItem:G,setItem:te,removeItem:de,clear:se,length:ae,key:he,keys:ie,dropInstance:le};function X(){return typeof openDatabase=="function"}var fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ce="~~local_forage_type~",ne=/^~~local_forage_type~([^~]+)~/,ee="__lfsc__:",pe=ee.length,Re="arbf",Se="blob",be="si08",Ne="ui08",Ae="uic8",Pe="si16",we="si32",Le="ur16",ze="ui32",tt="fl32",rt="fl64",bt=pe+Re.length,Kt=Object.prototype.toString;function Wt(me){var Oe=me.length*.75,xe=me.length,je,Ue=0,Fe,nt,ct,ht;me[me.length-1]==="="&&(Oe--,me[me.length-2]==="="&&Oe--);var dt=new ArrayBuffer(Oe),Et=new Uint8Array(dt);for(je=0;je<xe;je+=4)Fe=fe.indexOf(me[je]),nt=fe.indexOf(me[je+1]),ct=fe.indexOf(me[je+2]),ht=fe.indexOf(me[je+3]),Et[Ue++]=Fe<<2|nt>>4,Et[Ue++]=(nt&15)<<4|ct>>2,Et[Ue++]=(ct&3)<<6|ht&63;return dt}function Mn(me){var Oe=new Uint8Array(me),xe="",je;for(je=0;je<Oe.length;je+=3)xe+=fe[Oe[je]>>2],xe+=fe[(Oe[je]&3)<<4|Oe[je+1]>>4],xe+=fe[(Oe[je+1]&15)<<2|Oe[je+2]>>6],xe+=fe[Oe[je+2]&63];return Oe.length%3===2?xe=xe.substring(0,xe.length-1)+"=":Oe.length%3===1&&(xe=xe.substring(0,xe.length-2)+"=="),xe}function Ft(me,Oe){var xe="";if(me&&(xe=Kt.call(me)),me&&(xe==="[object ArrayBuffer]"||me.buffer&&Kt.call(me.buffer)==="[object ArrayBuffer]")){var je,Ue=ee;me instanceof ArrayBuffer?(je=me,Ue+=Re):(je=me.buffer,xe==="[object Int8Array]"?Ue+=be:xe==="[object Uint8Array]"?Ue+=Ne:xe==="[object Uint8ClampedArray]"?Ue+=Ae:xe==="[object Int16Array]"?Ue+=Pe:xe==="[object Uint16Array]"?Ue+=Le:xe==="[object Int32Array]"?Ue+=we:xe==="[object Uint32Array]"?Ue+=ze:xe==="[object Float32Array]"?Ue+=tt:xe==="[object Float64Array]"?Ue+=rt:Oe(new Error("Failed to get type for BinaryArray"))),Oe(Ue+Mn(je))}else if(xe==="[object Blob]"){var Fe=new FileReader;Fe.onload=function(){var nt=ce+me.type+"~"+Mn(this.result);Oe(ee+Se+nt)},Fe.readAsArrayBuffer(me)}else try{Oe(JSON.stringify(me))}catch(nt){console.error("Couldn't convert value into a JSON string: ",me),Oe(null,nt)}}function hn(me){if(me.substring(0,pe)!==ee)return JSON.parse(me);var Oe=me.substring(bt),xe=me.substring(pe,bt),je;if(xe===Se&&ne.test(Oe)){var Ue=Oe.match(ne);je=Ue[1],Oe=Oe.substring(Ue[0].length)}var Fe=Wt(Oe);switch(xe){case Re:return Fe;case Se:return c([Fe],{type:je});case be:return new Int8Array(Fe);case Ne:return new Uint8Array(Fe);case Ae:return new Uint8ClampedArray(Fe);case Pe:return new Int16Array(Fe);case Le:return new Uint16Array(Fe);case we:return new Int32Array(Fe);case ze:return new Uint32Array(Fe);case tt:return new Float32Array(Fe);case rt:return new Float64Array(Fe);default:throw new Error("Unkown type: "+xe)}}var Kn={serialize:Ft,deserialize:hn,stringToBuffer:Wt,bufferToString:Mn};function zn(me,Oe,xe,je){me.executeSql("CREATE TABLE IF NOT EXISTS "+Oe.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],xe,je)}function Fr(me){var Oe=this,xe={db:null};if(me)for(var je in me)xe[je]=typeof me[je]!="string"?me[je].toString():me[je];var Ue=new d(function(Fe,nt){try{xe.db=openDatabase(xe.name,String(xe.version),xe.description,xe.size)}catch(ct){return nt(ct)}xe.db.transaction(function(ct){zn(ct,xe,function(){Oe._dbInfo=xe,Fe()},function(ht,dt){nt(dt)})},nt)});return xe.serializer=Kn,Ue}function er(me,Oe,xe,je,Ue,Fe){me.executeSql(xe,je,Ue,function(nt,ct){ct.code===ct.SYNTAX_ERR?nt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Oe.storeName],function(ht,dt){dt.rows.length?Fe(ht,ct):zn(ht,Oe,function(){ht.executeSql(xe,je,Ue,Fe)},Fe)},Fe):Fe(nt,ct)},Fe)}function Sr(me,Oe){var xe=this;me=m(me);var je=new d(function(Ue,Fe){xe.ready().then(function(){var nt=xe._dbInfo;nt.db.transaction(function(ct){er(ct,nt,"SELECT * FROM "+nt.storeName+" WHERE key = ? LIMIT 1",[me],function(ht,dt){var Et=dt.rows.length?dt.rows.item(0).value:null;Et&&(Et=nt.serializer.deserialize(Et)),Ue(Et)},function(ht,dt){Fe(dt)})})}).catch(Fe)});return f(je,Oe),je}function Tn(me,Oe){var xe=this,je=new d(function(Ue,Fe){xe.ready().then(function(){var nt=xe._dbInfo;nt.db.transaction(function(ct){er(ct,nt,"SELECT * FROM "+nt.storeName,[],function(ht,dt){for(var Et=dt.rows,Bt=Et.length,$n=0;$n<Bt;$n++){var en=Et.item($n),rr=en.value;if(rr&&(rr=nt.serializer.deserialize(rr)),rr=me(rr,en.key,$n+1),rr!==void 0){Ue(rr);return}}Ue()},function(ht,dt){Fe(dt)})})}).catch(Fe)});return f(je,Oe),je}function an(me,Oe,xe,je){var Ue=this;me=m(me);var Fe=new d(function(nt,ct){Ue.ready().then(function(){Oe===void 0&&(Oe=null);var ht=Oe,dt=Ue._dbInfo;dt.serializer.serialize(Oe,function(Et,Bt){Bt?ct(Bt):dt.db.transaction(function($n){er($n,dt,"INSERT OR REPLACE INTO "+dt.storeName+" (key, value) VALUES (?, ?)",[me,Et],function(){nt(ht)},function(en,rr){ct(rr)})},function($n){if($n.code===$n.QUOTA_ERR){if(je>0){nt(an.apply(Ue,[me,ht,xe,je-1]));return}ct($n)}})})}).catch(ct)});return f(Fe,xe),Fe}function sr(me,Oe,xe){return an.apply(this,[me,Oe,xe,1])}function pi(me,Oe){var xe=this;me=m(me);var je=new d(function(Ue,Fe){xe.ready().then(function(){var nt=xe._dbInfo;nt.db.transaction(function(ct){er(ct,nt,"DELETE FROM "+nt.storeName+" WHERE key = ?",[me],function(){Ue()},function(ht,dt){Fe(dt)})})}).catch(Fe)});return f(je,Oe),je}function Tr(me){var Oe=this,xe=new d(function(je,Ue){Oe.ready().then(function(){var Fe=Oe._dbInfo;Fe.db.transaction(function(nt){er(nt,Fe,"DELETE FROM "+Fe.storeName,[],function(){je()},function(ct,ht){Ue(ht)})})}).catch(Ue)});return f(xe,me),xe}function An(me){var Oe=this,xe=new d(function(je,Ue){Oe.ready().then(function(){var Fe=Oe._dbInfo;Fe.db.transaction(function(nt){er(nt,Fe,"SELECT COUNT(key) as c FROM "+Fe.storeName,[],function(ct,ht){var dt=ht.rows.item(0).c;je(dt)},function(ct,ht){Ue(ht)})})}).catch(Ue)});return f(xe,me),xe}function ft(me,Oe){var xe=this,je=new d(function(Ue,Fe){xe.ready().then(function(){var nt=xe._dbInfo;nt.db.transaction(function(ct){er(ct,nt,"SELECT key FROM "+nt.storeName+" WHERE id = ? LIMIT 1",[me+1],function(ht,dt){var Et=dt.rows.length?dt.rows.item(0).key:null;Ue(Et)},function(ht,dt){Fe(dt)})})}).catch(Fe)});return f(je,Oe),je}function wr(me){var Oe=this,xe=new d(function(je,Ue){Oe.ready().then(function(){var Fe=Oe._dbInfo;Fe.db.transaction(function(nt){er(nt,Fe,"SELECT key FROM "+Fe.storeName,[],function(ct,ht){for(var dt=[],Et=0;Et<ht.rows.length;Et++)dt.push(ht.rows.item(Et).key);je(dt)},function(ct,ht){Ue(ht)})})}).catch(Ue)});return f(xe,me),xe}function Vt(me){return new d(function(Oe,xe){me.transaction(function(je){je.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Ue,Fe){for(var nt=[],ct=0;ct<Fe.rows.length;ct++)nt.push(Fe.rows.item(ct).name);Oe({db:me,storeNames:nt})},function(Ue,Fe){xe(Fe)})},function(je){xe(je)})})}function ar(me,Oe){Oe=p.apply(this,arguments);var xe=this.config();me=typeof me!="function"&&me||{},me.name||(me.name=me.name||xe.name,me.storeName=me.storeName||xe.storeName);var je=this,Ue;return me.name?Ue=new d(function(Fe){var nt;me.name===xe.name?nt=je._dbInfo.db:nt=openDatabase(me.name,"","",0),me.storeName?Fe({db:nt,storeNames:[me.storeName]}):Fe(Vt(nt))}).then(function(Fe){return new d(function(nt,ct){Fe.db.transaction(function(ht){function dt(en){return new d(function(rr,Xt){ht.executeSql("DROP TABLE IF EXISTS "+en,[],function(){rr()},function(pr,Lo){Xt(Lo)})})}for(var Et=[],Bt=0,$n=Fe.storeNames.length;Bt<$n;Bt++)Et.push(dt(Fe.storeNames[Bt]));d.all(Et).then(function(){nt()}).catch(function(en){ct(en)})},function(ht){ct(ht)})})}):Ue=d.reject("Invalid arguments"),f(Ue,Oe),Ue}var un={_driver:"webSQLStorage",_initStorage:Fr,_support:X(),iterate:Tn,getItem:Sr,setItem:sr,removeItem:pi,clear:Tr,length:An,key:ft,keys:wr,dropInstance:ar};function tr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Rr(me,Oe){var xe=me.name+"/";return me.storeName!==Oe.storeName&&(xe+=me.storeName+"/"),xe}function Lr(){var me="_localforage_support_test";try{return localStorage.setItem(me,!0),localStorage.removeItem(me),!1}catch{return!0}}function jr(){return!Lr()||localStorage.length>0}function gs(me){var Oe=this,xe={};if(me)for(var je in me)xe[je]=me[je];return xe.keyPrefix=Rr(me,Oe._defaultConfig),jr()?(Oe._dbInfo=xe,xe.serializer=Kn,d.resolve()):d.reject()}function Na(me){var Oe=this,xe=Oe.ready().then(function(){for(var je=Oe._dbInfo.keyPrefix,Ue=localStorage.length-1;Ue>=0;Ue--){var Fe=localStorage.key(Ue);Fe.indexOf(je)===0&&localStorage.removeItem(Fe)}});return f(xe,me),xe}function tu(me,Oe){var xe=this;me=m(me);var je=xe.ready().then(function(){var Ue=xe._dbInfo,Fe=localStorage.getItem(Ue.keyPrefix+me);return Fe&&(Fe=Ue.serializer.deserialize(Fe)),Fe});return f(je,Oe),je}function Vu(me,Oe){var xe=this,je=xe.ready().then(function(){for(var Ue=xe._dbInfo,Fe=Ue.keyPrefix,nt=Fe.length,ct=localStorage.length,ht=1,dt=0;dt<ct;dt++){var Et=localStorage.key(dt);if(Et.indexOf(Fe)===0){var Bt=localStorage.getItem(Et);if(Bt&&(Bt=Ue.serializer.deserialize(Bt)),Bt=me(Bt,Et.substring(nt),ht++),Bt!==void 0)return Bt}}});return f(je,Oe),je}function Un(me,Oe){var xe=this,je=xe.ready().then(function(){var Ue=xe._dbInfo,Fe;try{Fe=localStorage.key(me)}catch{Fe=null}return Fe&&(Fe=Fe.substring(Ue.keyPrefix.length)),Fe});return f(je,Oe),je}function Hi(me){var Oe=this,xe=Oe.ready().then(function(){for(var je=Oe._dbInfo,Ue=localStorage.length,Fe=[],nt=0;nt<Ue;nt++){var ct=localStorage.key(nt);ct.indexOf(je.keyPrefix)===0&&Fe.push(ct.substring(je.keyPrefix.length))}return Fe});return f(xe,me),xe}function ys(me){var Oe=this,xe=Oe.keys().then(function(je){return je.length});return f(xe,me),xe}function ah(me,Oe){var xe=this;me=m(me);var je=xe.ready().then(function(){var Ue=xe._dbInfo;localStorage.removeItem(Ue.keyPrefix+me)});return f(je,Oe),je}function Fd(me,Oe,xe){var je=this;me=m(me);var Ue=je.ready().then(function(){Oe===void 0&&(Oe=null);var Fe=Oe;return new d(function(nt,ct){var ht=je._dbInfo;ht.serializer.serialize(Oe,function(dt,Et){if(Et)ct(Et);else try{localStorage.setItem(ht.keyPrefix+me,dt),nt(Fe)}catch(Bt){(Bt.name==="QuotaExceededError"||Bt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ct(Bt),ct(Bt)}})})});return f(Ue,xe),Ue}function Ic(me,Oe){if(Oe=p.apply(this,arguments),me=typeof me!="function"&&me||{},!me.name){var xe=this.config();me.name=me.name||xe.name,me.storeName=me.storeName||xe.storeName}var je=this,Ue;return me.name?Ue=new d(function(Fe){me.storeName?Fe(Rr(me,je._defaultConfig)):Fe(me.name+"/")}).then(function(Fe){for(var nt=localStorage.length-1;nt>=0;nt--){var ct=localStorage.key(nt);ct.indexOf(Fe)===0&&localStorage.removeItem(ct)}}):Ue=d.reject("Invalid arguments"),f(Ue,Oe),Ue}var Dc={_driver:"localStorageWrapper",_initStorage:gs,_support:tr(),iterate:Vu,getItem:tu,setItem:Fd,removeItem:ah,clear:Na,length:ys,key:Un,keys:Hi,dropInstance:Ic},vs=function(Oe,xe){return Oe===xe||typeof Oe=="number"&&typeof xe=="number"&&isNaN(Oe)&&isNaN(xe)},lh=function(Oe,xe){for(var je=Oe.length,Ue=0;Ue<je;){if(vs(Oe[Ue],xe))return!0;Ue++}return!1},Hu=Array.isArray||function(me){return Object.prototype.toString.call(me)==="[object Array]"},xr={},Ld={},No={INDEXEDDB:Ce,WEBSQL:un,LOCALSTORAGE:Dc},Fs=[No.INDEXEDDB._driver,No.WEBSQL._driver,No.LOCALSTORAGE._driver],Mo=["dropInstance"],qu=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Mo),la={description:"",driver:Fs.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function nu(me,Oe){me[Oe]=function(){var xe=arguments;return me.ready().then(function(){return me[Oe].apply(me,xe)})}}function $o(){for(var me=1;me<arguments.length;me++){var Oe=arguments[me];if(Oe)for(var xe in Oe)Oe.hasOwnProperty(xe)&&(Hu(Oe[xe])?arguments[0][xe]=Oe[xe].slice():arguments[0][xe]=Oe[xe])}return arguments[0]}var uh=(function(){function me(Oe){s(this,me);for(var xe in No)if(No.hasOwnProperty(xe)){var je=No[xe],Ue=je._driver;this[xe]=Ue,xr[Ue]||this.defineDriver(je)}this._defaultConfig=$o({},la),this._config=$o({},this._defaultConfig,Oe),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return me.prototype.config=function(xe){if((typeof xe>"u"?"undefined":o(xe))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var je in xe){if(je==="storeName"&&(xe[je]=xe[je].replace(/\W/g,"_")),je==="version"&&typeof xe[je]!="number")return new Error("Database version must be a number.");this._config[je]=xe[je]}return"driver"in xe&&xe.driver?this.setDriver(this._config.driver):!0}else return typeof xe=="string"?this._config[xe]:this._config},me.prototype.defineDriver=function(xe,je,Ue){var Fe=new d(function(nt,ct){try{var ht=xe._driver,dt=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!xe._driver){ct(dt);return}for(var Et=qu.concat("_initStorage"),Bt=0,$n=Et.length;Bt<$n;Bt++){var en=Et[Bt],rr=!lh(Mo,en);if((rr||xe[en])&&typeof xe[en]!="function"){ct(dt);return}}var Xt=function(){for(var Ma=function(bs){return function(){var qi=new Error("Method "+bs+" is not implemented by the current driver"),$i=d.reject(qi);return f($i,arguments[arguments.length-1]),$i}},jo=0,ch=Mo.length;jo<ch;jo++){var Pc=Mo[jo];xe[Pc]||(xe[Pc]=Ma(Pc))}};Xt();var pr=function(Ma){xr[ht]&&console.info("Redefining LocalForage driver: "+ht),xr[ht]=xe,Ld[ht]=Ma,nt()};"_support"in xe?xe._support&&typeof xe._support=="function"?xe._support().then(pr,ct):pr(!!xe._support):pr(!0)}catch(Lo){ct(Lo)}});return h(Fe,je,Ue),Fe},me.prototype.driver=function(){return this._driver||null},me.prototype.getDriver=function(xe,je,Ue){var Fe=xr[xe]?d.resolve(xr[xe]):d.reject(new Error("Driver not found."));return h(Fe,je,Ue),Fe},me.prototype.getSerializer=function(xe){var je=d.resolve(Kn);return h(je,xe),je},me.prototype.ready=function(xe){var je=this,Ue=je._driverSet.then(function(){return je._ready===null&&(je._ready=je._initDriver()),je._ready});return h(Ue,xe,xe),Ue},me.prototype.setDriver=function(xe,je,Ue){var Fe=this;Hu(xe)||(xe=[xe]);var nt=this._getSupportedDrivers(xe);function ct(){Fe._config.driver=Fe.driver()}function ht(Bt){return Fe._extend(Bt),ct(),Fe._ready=Fe._initStorage(Fe._config),Fe._ready}function dt(Bt){return function(){var $n=0;function en(){for(;$n<Bt.length;){var rr=Bt[$n];return $n++,Fe._dbInfo=null,Fe._ready=null,Fe.getDriver(rr).then(ht).catch(en)}ct();var Xt=new Error("No available storage method found.");return Fe._driverSet=d.reject(Xt),Fe._driverSet}return en()}}var Et=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=Et.then(function(){var Bt=nt[0];return Fe._dbInfo=null,Fe._ready=null,Fe.getDriver(Bt).then(function($n){Fe._driver=$n._driver,ct(),Fe._wrapLibraryMethodsWithReady(),Fe._initDriver=dt(nt)})}).catch(function(){ct();var Bt=new Error("No available storage method found.");return Fe._driverSet=d.reject(Bt),Fe._driverSet}),h(this._driverSet,je,Ue),this._driverSet},me.prototype.supports=function(xe){return!!Ld[xe]},me.prototype._extend=function(xe){$o(this,xe)},me.prototype._getSupportedDrivers=function(xe){for(var je=[],Ue=0,Fe=xe.length;Ue<Fe;Ue++){var nt=xe[Ue];this.supports(nt)&&je.push(nt)}return je},me.prototype._wrapLibraryMethodsWithReady=function(){for(var xe=0,je=qu.length;xe<je;xe++)nu(this,qu[xe])},me.prototype.createInstance=function(xe){return new me(xe)},me})(),Fo=new uh;r.exports=Fo},{3:3}]},{},[4])(4)})})(WU)),WU.exports}var oon=ion();const V8e=ms(oon);var GU,L1e;function son(){if(L1e)return GU;L1e=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=typeof Ri=="object"&&Ri&&Ri.Object===Object&&Ri,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,f=d.toString,h=Math.max,m=Math.min,p=function(){return c.Date.now()};function g(S,T,A){var D,I,P,N,$,O,j=0,B=!1,H=!1,q=!0;if(typeof S!="function")throw new TypeError(e);T=C(T)||0,v(A)&&(B=!!A.leading,H="maxWait"in A,P=H?h(C(A.maxWait)||0,T):P,q="trailing"in A?!!A.trailing:q);function Y(se){var ae=D,he=I;return D=I=void 0,j=se,N=S.apply(he,ae),N}function V(se){return j=se,$=setTimeout(z,T),B?Y(se):N}function L(se){var ae=se-O,he=se-j,ie=T-ae;return H?m(ie,P-he):ie}function U(se){var ae=se-O,he=se-j;return O===void 0||ae>=T||ae<0||H&&he>=P}function z(){var se=p();if(U(se))return G(se);$=setTimeout(z,L(se))}function G(se){return $=void 0,q&&D?Y(se):(D=I=void 0,N)}function Q(){$!==void 0&&clearTimeout($),j=0,D=O=I=$=void 0}function te(){return $===void 0?N:G(p())}function de(){var se=p(),ae=U(se);if(D=arguments,I=this,O=se,ae){if($===void 0)return V(O);if(H)return $=setTimeout(z,T),Y(O)}return $===void 0&&($=setTimeout(z,T)),N}return de.cancel=Q,de.flush=te,de}function y(S,T,A){var D=!0,I=!0;if(typeof S!="function")throw new TypeError(e);return v(A)&&(D="leading"in A?!!A.leading:D,I="trailing"in A?!!A.trailing:I),g(S,T,{leading:D,maxWait:T,trailing:I})}function v(S){var T=typeof S;return!!S&&(T=="object"||T=="function")}function w(S){return!!S&&typeof S=="object"}function E(S){return typeof S=="symbol"||w(S)&&f.call(S)==n}function C(S){if(typeof S=="number")return S;if(E(S))return t;if(v(S)){var T=typeof S.valueOf=="function"?S.valueOf():S;S=v(T)?T+"":T}if(typeof S!="string")return S===0?S:+S;S=S.replace(r,"");var A=o.test(S);return A||s.test(S)?a(S.slice(2),A?2:8):i.test(S)?t:+S}return GU=y,GU}var aon=son();const j1e=ms(aon),gx="#F05A30";class H8e{engine;testing;cloudEngine=!1;connected=!1;localForage=V8e.createInstance({name:"revisit"});collectionPrefix="prod-";studyId;currentParticipantId;participantData;uploadingAssetIds=[];constructor(t,n){this.engine=t,this.testing=n}isConnected(){return this.connected}getEngine(){return this.engine}isCloudEngine(){return this.cloudEngine}__throttleVerifyStudyDatabase=j1e(()=>new Promise((t,n)=>{this._verifyStudyDatabase().then(()=>{t()}).catch(r=>{this.connected=!1,console.error("Error verifying study database:",r),n(r)})}),1e4);__throttleSaveAnswers=j1e(async()=>{await this._saveAnswers()},3e3);async verifyStudyDatabase(){return await this.__throttleVerifyStudyDatabase()}async getStageData(t){const n=await this.getModes(t);if(n&&n.stage)return n.stage;const r={currentStage:{stageName:"DEFAULT",color:gx},allStages:[{stageName:"DEFAULT",color:gx}]};return await this.setCurrentStage(t,"DEFAULT",gx),r}async setCurrentStage(t,n,r=gx){const i=await this.getModes(t);i.stage||(i.stage={currentStage:{stageName:"DEFAULT",color:gx},allStages:[{stageName:"DEFAULT",color:gx}]}),i.stage.allStages.findIndex(a=>a.stageName===n)===-1&&i.stage.allStages.push({stageName:n,color:r}),i.stage.currentStage={stageName:n,color:r};const s={...i,stage:i.stage};await this._setModesDocument(t,s)}async updateStageColor(t,n,r){const i=await this.getModes(t);if(!i.stage)throw new Error("Stage data not initialized");const o=i.stage.allStages.map(u=>u.stageName===n?{...u,color:r}:u),a={currentStage:i.stage.currentStage.stageName===n?{...i.stage.currentStage,color:r}:i.stage.currentStage,allStages:o},l={...i,stage:a};await this._setModesDocument(t,l)}async saveConfig(t){const n=await this._getCurrentConfigHash(),r=await fH(JSON.stringify(t));if(await this._pushToStorage(`configs/${r}`,"config",t),await this._cacheStorageObject(`configs/${r}`,"config"),n&&n!==r){try{await this._deleteFromStorage("","sequenceArray")}catch{}await this.clearCurrentParticipantId()}await this._setCurrentConfigHash(r)}async getAllConfigsFromHash(t,n){const r=t.map(async o=>[o,await this._getFromStorage(`configs/${o}`,"config",n)]),i=await Promise.all(r);return Object.fromEntries(i)}async getCurrentParticipantId(t){if(t)return this.currentParticipantId=t,t;if(this.currentParticipantId)return this.currentParticipantId;if(!this.studyId)throw new Error("Study ID is not set");const n=await this.localForage.getItem(`${this.collectionPrefix}${this.studyId}/currentParticipantId`);return n?(this.currentParticipantId=n,n):(this.currentParticipantId=IFe(),await this.localForage.setItem(`${this.collectionPrefix}${this.studyId}/currentParticipantId`,this.currentParticipantId),this.currentParticipantId)}async clearCurrentParticipantId(){if(this.currentParticipantId=void 0,!this.studyId)throw new Error("Study ID is not set");return await this.localForage.removeItem(`${this.collectionPrefix}${this.studyId}/currentParticipantId`)}async _getSequence(){if(!this.currentParticipantId)throw new Error("Participant not initialized");if(this.studyId===void 0)throw new Error("Study ID is not set");let t=await this.getAllSequenceAssignments(this.studyId);const n=await this.getModes(this.studyId),i=(await this.getStageData(this.studyId)).currentStage.stageName,o=t.filter(d=>d.rejected&&!d.claimed);if(o.length>0){const d=o[0],f=d.timestamp;if(n.dataCollectionEnabled){const h={participantId:this.currentParticipantId,timestamp:f,rejected:!1,claimed:!1,completed:null,createdTime:new Date().getTime(),total:0,answered:[],isDynamic:!1,stage:i};await this._claimSequenceAssignment(d.participantId,d),await this._createSequenceAssignment(this.currentParticipantId,h,!1)}}else if(n.dataCollectionEnabled){const d=new Date().getTime(),f={participantId:this.currentParticipantId,timestamp:d,rejected:!1,claimed:!1,completed:null,createdTime:d,total:0,answered:[],isDynamic:!1,stage:i};await this._createSequenceAssignment(this.currentParticipantId,f,!0)}t=await this.getAllSequenceAssignments(this.studyId);const s=await this.getSequenceArray();if(!s)throw new Error("Latin square not initialized");const a=t.filter(d=>!d.rejected).findIndex(d=>d.participantId===this.currentParticipantId)%s.length;if(s.length===0)throw new Error("Something really bad happened with sequence assignment");if(a===-1)return{currentRow:s[Math.floor(Math.random()*s.length)],creationIndex:1};const l=s[a];if(!l)throw new Error("Latin square is empty");const c=t.sort((d,f)=>d.createdTime-f.createdTime).findIndex(d=>d.participantId===this.currentParticipantId)+1;return{currentRow:l,creationIndex:c}}async initializeParticipantSession(t,n,r,i){if(await this.verifyStudyDatabase(),await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const o=await this._getFromStorage(`participants/${this.currentParticipantId}`,"participantData");if(this.studyId===void 0)throw new Error("Study ID is not set");const s=await this.getModes(this.studyId),l=(await this.getStageData(this.studyId)).currentStage.stageName;if(mS(o))return this.participantData=o,o;const u=await fH(JSON.stringify(n)),{currentRow:c,creationIndex:d}=await this._getSequence();return this.participantData={participantId:this.currentParticipantId,participantConfigHash:u,sequence:c,participantIndex:d,answers:{},searchParams:t,metadata:r,completed:!1,rejected:!1,participantTags:[],stage:l},s.dataCollectionEnabled&&await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),this.participantData}async getAllParticipantIds(t){const n=this.studyId||t;if(n===void 0)throw new Error("Study ID is not set");return(await this.getAllSequenceAssignments(n)).map(i=>i.participantId)}async saveTags(t,n){await this._pushToStorage(`audio/transcriptAndTags/${n}`,"tags",t)}async getTags(t){return await this._getFromStorage(`audio/transcriptAndTags/${t}`,"tags")}async getAllParticipantAndTaskTags(t,n){const r=await this._getFromStorage(`audio/transcriptAndTags/${t}/${n}`,"participantTags");return r?.participantTags?r:(this.saveAllParticipantAndTaskTags(t,n,{participantTags:[],taskTags:{}}),{participantTags:[],taskTags:{}})}async saveAllParticipantAndTaskTags(t,n,r){return this._pushToStorage(`audio/transcriptAndTags/${t}/${n}`,"participantTags",r)}async getParticipantData(t){if(await this.verifyStudyDatabase(),this.currentParticipantId===null&&!t)throw new Error("Participant not initialized");const n=await this._getFromStorage(`participants/${t||this.currentParticipantId}`,"participantData");return mS(n)?n:null}async getParticipantTags(){await this.verifyStudyDatabase();const t=await this.getParticipantData();if(!t)throw new Error("Participant not initialized");return t.participantTags}async addParticipantTags(t){if(await this.verifyStudyDatabase(),!this.participantData)throw new Error("Participant data not initialized");this.participantData.participantTags=[...new Set([...this.participantData.participantTags,...t])],await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async removeParticipantTags(t){if(await this.verifyStudyDatabase(),!this.participantData)throw new Error("Participant data not initialized");this.participantData.participantTags=this.participantData.participantTags.filter(n=>!t.includes(n)),await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async rejectParticipant(t,n){const r=await this._getFromStorage(`participants/${t}`,"participantData");try{if(!r||!mS(r)||r.rejected)return;r.rejected={reason:n,timestamp:new Date().getTime()},await this._pushToStorage(`participants/${t}`,"participantData",r),await this._rejectParticipantRealtime(t)}catch(i){console.warn("Error rejecting participant:",i)}}async rejectCurrentParticipant(t){if(!this.currentParticipantId)throw new Error("Participant not initialized");return await this.rejectParticipant(this.currentParticipantId,t)}async undoRejectParticipant(t){const n=await this._getFromStorage(`participants/${t}`,"participantData");try{if(!n||!mS(n))return;n.rejected=!1,await this._pushToStorage(`participants/${t}`,"participantData",n),await this._undoRejectParticipantRealtime(t)}catch(r){console.warn("Error undoing participant rejection:",r)}}async undoRejectCurrentParticipant(){if(!this.currentParticipantId)throw new Error("Participant not initialized");return await this.undoRejectParticipant(this.currentParticipantId)}async getAllParticipantsData(t){const n=await this.getAllParticipantIds(t),r=[],i=n.map(async o=>{const s=await this._getFromStorage(`participants/${o}`,"participantData",t);mS(s)&&r.push(s)});return await Promise.all(i),r}async getParticipantsStatusCounts(t){const n=await this.getAllSequenceAssignments(t),r=n.filter(l=>l.completed&&!l.rejected).length,i=n.filter(l=>l.rejected).length,o=n.length-r-i,s=n.length>0?n[0].timestamp:null,a=n.length>0?n.at(-1).timestamp:null;return{completed:r,rejected:i,inProgress:o,minTime:s,maxTime:a}}async _saveAnswers(){if(await this.verifyStudyDatabase(),!this.currentParticipantId||this.participantData===void 0)throw new Error("Participant not initialized");await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async saveAnswers(t){if(!this.currentParticipantId||this.participantData===void 0)throw new Error("Participant not initialized");this.participantData={...this.participantData,answers:t},await this.__throttleSaveAnswers(t)}async updateProgressData(t,n){if(!this.studyId)throw new Error("Study ID is not set");if(this.getEngine()!=="firebase")return;const r=n||this.currentParticipantId;if(!r)throw new Error("Participant not initialized");const o=(await this.getAllSequenceAssignments(this.studyId)).find(s=>s.participantId===r);if(o){const s={...o,total:o.total??t.total,answered:o.answered??t.answered,isDynamic:o.isDynamic??t.isDynamic};s.total=t.total,s.answered=t.answered,s.isDynamic=t.isDynamic,await this._createSequenceAssignment(r,s,!1)}}async verifyCompletion(){if(await this.verifyStudyDatabase(),!this.studyId)throw new Error("Study not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const t=await this.getParticipantData();if(!t)throw new Error("Participant not initialized");if(this.uploadingAssetIds.length>0)return!1;if(t.completed)return!0;const r=await this.getModes(this.studyId),i=Object.values(t.answers).map(s=>s.endTime).reduce((s,a)=>Math.max(s,a),0),o=Object.values(this.participantData?.answers||{}).map(s=>s.endTime).reduce((s,a)=>Math.max(s,a),0);return this.participantData&&i===o?(this.participantData.completed=!0,r.dataCollectionEnabled&&(await this._completeCurrentParticipantRealtime(),await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),await this._cacheStorageObject(`participants/${this.currentParticipantId}`,"participantData")),!0):!1}async getAsset(t){return t?new Promise(r=>{const i=new XMLHttpRequest;i.responseType="blob",i.onload=()=>{const o=i.response,s=URL.createObjectURL(o);r(s)},i.open("GET",t),i.send()}):null}async getAudio(t,n){const r=await this._getAudioUrl(t,n);return await this.getAsset(r)}async getAudioUrl(t,n){const r=await this._getAudioUrl(t,n);return r||null}async getTranscriptUrl(t,n){if(!this._getTranscriptUrl)return null;const r=await this._getTranscriptUrl(t,n);return r||null}async saveAsset(t,n,r){const i=`${t}/${r}`,o=`${t}/${this.currentParticipantId}`;this.uploadingAssetIds.push(i),await this._pushToStorage(o,r,n),await this._cacheStorageObject(o,r),this.uploadingAssetIds=this.uploadingAssetIds.filter(s=>s!==i)}async saveAudioRecording(t,n){return this.saveAsset("audio",t,n)}async getScreenRecording(t,n){const r=await this._getScreenRecordingUrl(t,n);return this.getAsset(r)}async saveScreenRecording(t,n){return this.saveAsset("screenRecording",t,n)}async getSequenceArray(){await this.verifyStudyDatabase();const t=await this._getFromStorage("","sequenceArray");return Array.isArray(t)?t:null}async setSequenceArray(t){await this.verifyStudyDatabase(),await this._pushToStorage("","sequenceArray",t)}async __testingReset(){this.currentParticipantId=void 0,this.participantData=void 0,this.localForage.setItem(`${this.collectionPrefix}${this.studyId}/currentParticipantId`,void 0)}async createSnapshot(t,n){const r=`${this.collectionPrefix}${t}`;if(!await this._directoryExists(`${r}/participants`))return console.warn(`Source directory ${r} does not exist.`),{status:"FAILED",error:{message:"There is currently no data in your study. A snapshot could not be created.",title:"Failed to Create Snapshot."}};const i=new Date,o=i.getUTCFullYear(),s=(i.getUTCMonth()+1).toString().padStart(2,"0"),a=i.getUTCDate().toString().padStart(2,"0"),l=i.getUTCHours().toString().padStart(2,"0"),u=i.getUTCMinutes().toString().padStart(2,"0"),c=i.getUTCSeconds().toString().padStart(2,"0"),d=`${o}-${s}-${a}T${l}:${u}:${c}`,f=`${this.collectionPrefix}${t}-snapshot-${d}`;this.getEngine()==="localStorage"?await this._copyDirectory(`${r}/`,`${f}/`):(await this._copyDirectory(`${r}/configs`,`${f}/configs`),await this._copyDirectory(`${r}/participants`,`${f}/participants`),await this._copyDirectory(`${r}/audio`,`${f}/audio`),await this._copyDirectory(`${r}/screenRecording`,`${f}/screenRecording`),await this._copyDirectory(r,f),await this._copyRealtimeData(r,f)),await this._addDirectoryNameToSnapshots(f,t);const h=[];if(n){const m=await this.removeSnapshotOrLive(r,t);m.status==="FAILED"?h.push({title:m.error.title,message:m.error.message,color:"red"}):h.push({title:"Success!",message:"Successfully deleted live data.",color:"green"})}return h.push({message:"Successfully created snapshot",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:h}}async removeSnapshotOrLive(t,n){const r=t.startsWith(this.collectionPrefix)?t:`${this.collectionPrefix}${t}`;try{return this.getEngine()==="localStorage"?await this._deleteDirectory(`${r}/`):(await this._deleteDirectory(`${r}/configs`),await this._deleteDirectory(`${r}/participants`),await this._deleteDirectory(`${r}/audio`),await this._deleteDirectory(`${r}/screenRecording`),await this._deleteDirectory(r),await this._deleteRealtimeData(r)),await this._removeDirectoryNameFromSnapshots(r,n),{status:"SUCCESS",notifications:[{message:"Successfully deleted snapshot or live data.",title:"Success!",color:"green"}]}}catch{return{status:"FAILED",error:{title:"Failed to delete live data or snapshot",message:"There was an unspecified error when trying to remove a snapshot or live data."}}}}async restoreSnapshot(t,n){const r=`${this.collectionPrefix}${t}`,i=[];try{const o=await this.createSnapshot(t,!0);return o.status==="FAILED"?(console.warn("No live data to capture."),i.push({title:o.error.title,message:o.error.message,color:"yellow"})):i.push({title:"Success!",message:"Successfully created snapshot of live data.",color:"green"}),await this._copyDirectory(`${n}/configs`,`${r}/configs`),await this._copyDirectory(`${n}/participants`,`${r}/participants`),await this._copyDirectory(`${n}/audio`,`${r}/audio`),await this._copyDirectory(`${n}/screenRecording`,`${r}/screenRecording`),await this._copyDirectory(n,r),await this._copyRealtimeData(n,r),i.push({message:"Successfully restored snapshot to live data.",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:i}}catch(o){return console.error("Error trying to delete a snapshot",o),{status:"FAILED",error:{title:"Failed to restore a snapshot fully.",message:"There was an unspecified error when trying to restore this snapshot."}}}}async renameSnapshot(t,n,r){try{return await this._changeDirectoryNameInSnapshots(t,n,r),{status:"SUCCESS",notifications:[{message:"Successfully renamed snapshot.",title:"Success!",color:"green"}]}}catch(i){return console.error("Error renaming collection in metadata",i),{status:"FAILED",error:{title:"Failed to Rename Snapshot.",message:"There was an error when trying to rename the snapshot."}}}}}class lon extends H8e{cloudEngine=!0;userManagementData={};async validateUser(t,n=!1){if(n&&(this.userManagementData={}),t?.user){if((await this.getUserManagementData("authentication"))?.isEnabled){const i=await this.getUserManagementData("adminUsers");if(i&&i.adminUsersList){const o=Object.fromEntries(i.adminUsersList.map(a=>[a.email,a.uid]));if(t.user.email&&(o[t.user.email]===t.user.uid||o[t.user.email]===null)){if(t.user.email&&o[t.user.email]===null){const a=i.adminUsersList.find(l=>l.email===t.user.email);a&&(a.uid=t.user.uid),await this._updateAdminUsersList(i)}return!0}return!1}}return!0}return!1}}class uon extends H8e{studyDatabase=V8e.createInstance({name:"revisit"});constructor(t=!1){super("localStorage",t)}async _getFromStorage(t,n,r){const i=`${this.collectionPrefix}${r||this.studyId}/${t}_${n}`;return await this.studyDatabase.getItem(i)}async _pushToStorage(t,n,r){await this.verifyStudyDatabase();const i=`${this.collectionPrefix}${this.studyId}/${t}_${n}`;await this.studyDatabase.setItem(i,r)}async _deleteFromStorage(t,n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${this.studyId}/${t}_${n}`;await this.studyDatabase.removeItem(r)}async _cacheStorageObject(){}async _verifyStudyDatabase(){if(!this.studyDatabase||!this.studyId)throw new Error("Study database not initialized")}async _getCurrentConfigHash(){await this.verifyStudyDatabase();const t=`${this.collectionPrefix}${this.studyId}/configHash`;return await this.studyDatabase.getItem(t)||null}async _setCurrentConfigHash(t){await this.verifyStudyDatabase();const n=`${this.collectionPrefix}${this.studyId}/configHash`;await this.studyDatabase.setItem(n,t)}async getAllSequenceAssignments(t){const n=`${this.collectionPrefix}${t}/sequenceAssignment`,r=await this.studyDatabase.getItem(n);return r?Object.values(r).sort((i,o)=>i.timestamp-o.timestamp):[]}async _createSequenceAssignment(t,n){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const r=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,i=await this.studyDatabase.getItem(r)||{};i[t]=n,await this.studyDatabase.setItem(r,i)}async _completeCurrentParticipantRealtime(){if(!this.currentParticipantId)throw new Error("Participant not initialized");if(this.studyId===void 0)throw new Error("Study ID is not set");const t=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,n=await this.studyDatabase.getItem(t)||{};if(n[this.currentParticipantId])n[this.currentParticipantId]={...n[this.currentParticipantId],completed:new Date().getTime()};else throw new Error("Participant sequence assignment not found");await this.studyDatabase.setItem(t,n)}async _rejectParticipantRealtime(t){await this.verifyStudyDatabase();const n=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,r=await this.studyDatabase.getItem(n)||{},i=r[t],o=Object.values(r).find(s=>s.claimed&&s.timestamp===i.timestamp);if(i&&o){o.claimed=!1,o.rejected=!0,await this.studyDatabase.setItem(n,r),r[t]={...i,timestamp:new Date().getTime(),rejected:!0},await this.studyDatabase.setItem(n,r);return}i&&(i.rejected=!0,await this.studyDatabase.setItem(n,r))}async _undoRejectParticipantRealtime(t){await this.verifyStudyDatabase();const n=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,r=await this.studyDatabase.getItem(n)||{},i=r[t];i&&(i.rejected=!1,await this.studyDatabase.setItem(n,r))}async _claimSequenceAssignment(t,n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,i=await this.studyDatabase.getItem(r)||{};if(i[t])i[t]={...n,claimed:!0},await this.studyDatabase.setItem(r,i);else throw new Error(`Sequence assignment for participant ${t} not found`)}async initializeStudyDb(t){this.studyId=t}async connect(){this.connected=!0}async getModes(t){const n=`${this.collectionPrefix}${t}/modes`,r=await this.studyDatabase.getItem(n);if(r)return r;const i={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return this.studyDatabase.setItem(n,i),i}async setMode(t,n,r){const i=`${this.collectionPrefix}${t}/modes`,o=await this.studyDatabase.getItem(i);if(!o)throw new Error("Modes not initialized");o[n]=r,this.studyDatabase.setItem(i,o)}async _setModesDocument(t,n){const r=`${this.collectionPrefix}${t}/modes`;await this.studyDatabase.setItem(r,n)}async _getAudioUrl(t,n){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const r=await this._getFromStorage(`audio/${n||this.currentParticipantId}`,t);if(!r)throw new Error(`Audio for task ${t} and participant ${n||this.currentParticipantId} not found`);return URL.createObjectURL(r)}async _getScreenRecordingUrl(t,n){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const r=await this._getFromStorage(`screenRecording/${n||this.currentParticipantId}`,t);if(!r)throw new Error(`ScreenRecording for task ${t} and participant ${n||this.currentParticipantId} not found`);return URL.createObjectURL(r)}async _testingReset(t){if(!t)throw new Error("Study ID is required for reset");const r=(await this.studyDatabase.keys()).filter(i=>i.startsWith(`${this.collectionPrefix}${t}/`));await Promise.all(r.map(i=>this.studyDatabase.removeItem(i))),await super.__testingReset()}async getSnapshots(t){const n=`${this.collectionPrefix}${t}/snapshots`;return await this.studyDatabase.getItem(n)||{}}async _directoryExists(t){return(await this.studyDatabase.keys()).some(r=>r.startsWith(t))}async _copyDirectory(t,n){const o=(await this.studyDatabase.keys()).filter(s=>s.startsWith(t)).map(async s=>{if(s.endsWith("/snapshots")||s.endsWith("modes")||s.endsWith("configHash")||s.endsWith("currentParticipantId"))return;const a=await this.studyDatabase.getItem(s),l=s.replace(t,n);await this.studyDatabase.setItem(l,a)});await Promise.all(o)}async _deleteDirectory(t){const i=(await this.studyDatabase.keys()).filter(o=>o.startsWith(t)&&!o.includes("snapshots")).map(o=>this.studyDatabase.removeItem(o));await Promise.all(i)}async _copyRealtimeData(t,n){await this._copyDirectory(t,n)}async _deleteRealtimeData(t){await this._deleteDirectory(t)}async _addDirectoryNameToSnapshots(t,n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${n}/snapshots`,i=await this.studyDatabase.getItem(r)||{};i[t]||(i[t]={name:t},await this.studyDatabase.setItem(r,i))}async _removeDirectoryNameFromSnapshots(t,n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${n}/snapshots`,i=await this.studyDatabase.getItem(r)||{};i[t]&&(delete i[t],await this.studyDatabase.setItem(r,i))}async _changeDirectoryNameInSnapshots(t,n,r){await this.verifyStudyDatabase();const i=`${this.collectionPrefix}${r}/snapshots`,o=await this.studyDatabase.getItem(i)||{};if(o[t])o[t]={name:n},await this.studyDatabase.setItem(i,o);else throw new Error(`Snapshot with name ${t} does not exist`)}}var YU,B1e;function l8(){if(B1e)return YU;B1e=1;var e=hAe;function t(s,a){var l,u="",c=0,d=!0,f=0,h;function m(){return h=s.charAt(f),f++,h}for(m(),h==="-"&&(u="-",m());h>="0"&&h<="9";)d&&(h=="0"?c++:d=!1),u+=h,m();if(d&&c--,h===".")for(u+=".";m()&&h>="0"&&h<="9";)u+=h;if(h==="e"||h==="E")for(u+=h,m(),(h==="-"||h==="+")&&(u+=h,m());h>="0"&&h<="9";)u+=h,m();for(;h&&h<=" ";)m();if(a&&(h===","||h==="}"||h==="]"||h==="#"||h==="/"&&(s[f]==="/"||s[f]==="*"))&&(h=0),l=+u,!(h||c||!isFinite(l)))return l}function n(s,a){return Object.defineProperty&&Object.defineProperty(s,"__COMMENTS__",{enumerable:!1,writable:!0}),s.__COMMENTS__=a||{}}function r(s){Object.defineProperty(s,"__COMMENTS__",{value:void 0})}function i(s){return s.__COMMENTS__}function o(s){if(!s)return"";var a=s.split(`
`),l,u,c,d;for(c=0;c<a.length;c++)for(l=a[c],d=l.length,u=0;u<d;u++){var f=l[u];if(f==="#")break;if(f==="/"&&(l[u+1]==="/"||l[u+1]==="*")){l[u+1]==="*"&&(c=a.length);break}else if(f>" "){a[c]="# "+l;break}}return a.join(`
`)}return YU={EOL:e.EOL||`
`,tryParseNumber:t,createComment:n,removeComment:r,getComment:i,forceComment:o},YU}var KU,z1e;function con(){return z1e||(z1e=1,KU="3.2.1"),KU}var XU,U1e;function wie(){if(U1e)return XU;U1e=1;function e(a,l){if(Object.prototype.toString.apply(a)!=="[object Array]"){if(a)throw new Error("dsf option must contain an array!");return n}else if(a.length===0)return n;var u=[];function c(d){return{}.toString.call(d)==="[object Function]"}return a.forEach(function(d){if(!d.name||!c(d.parse)||!c(d.stringify))throw new Error("extension does not match the DSF interface");u.push(function(){try{if(l=="parse")return d.parse.apply(null,arguments);if(l=="stringify"){var f=d.stringify.apply(null,arguments);if(f!==void 0&&(typeof f!="string"||f.length===0||f[0]==='"'||[].some.call(f,function(h){return r(h)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+f);return f}else throw new Error("Invalid type")}catch(h){throw new Error("DSF-"+d.name+" failed; "+h.message)}})}),t.bind(null,u)}function t(a,l){if(a)for(var u=0;u<a.length;u++){var c=a[u](l);if(c!==void 0)return c}}function n(){}function r(a){return a==="{"||a==="}"||a==="["||a==="]"||a===","}function i(){return{name:"math",parse:function(a){switch(a){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(a){if(typeof a=="number"){if(1/a===-1/0)return"-0";if(a===1/0)return"Inf";if(a===-1/0)return"-Inf";if(isNaN(a))return"NaN"}}}}i.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function o(a){var l=a&&a.out;return{name:"hex",parse:function(u){if(/^0x[0-9A-Fa-f]+$/.test(u))return parseInt(u,16)},stringify:function(u){if(l&&Number.isInteger(u))return"0x"+u.toString(16)}}}o.description="parse hexadecimal numbers prefixed with 0x";function s(){return{name:"date",parse:function(a){if(/^\d{4}-\d{2}-\d{2}$/.test(a)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(a)){var l=Date.parse(a);if(!isNaN(l))return new Date(l)}},stringify:function(a){if(Object.prototype.toString.call(a)==="[object Date]"){var l=a.toISOString();return l.indexOf("T00:00:00.000Z",l.length-14)!==-1?l.substr(0,10):l}}}}return s.description="support ISO dates",XU={loadDsf:e,std:{math:i,hex:o,date:s}},XU}var QU,V1e;function don(){return V1e||(V1e=1,QU=function(e,t){var n=l8(),r=wie(),i,o,s,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},l,u;function c(){o=0,s=" "}function d(O){return O==="{"||O==="}"||O==="["||O==="]"||O===","||O===":"}function f(O){var j,B=0,H=1;for(j=o-1;j>0&&i[j]!==`
`;j--,B++);for(;j>0;j--)i[j]===`
`&&H++;throw new Error(O+" at line "+H+","+B+" >>>"+i.substr(o-B,20)+" ...")}function h(){return s=i.charAt(o),o++,s}function m(O){return i.charAt(o+O)}function p(O){for(var j="",B=s;h();){if(s===B)return h(),O&&B==="'"&&s==="'"&&j.length===0?(h(),g()):j;if(s==="\\")if(h(),s==="u"){for(var H=0,q=0;q<4;q++){h();var Y=s.charCodeAt(0),V;s>="0"&&s<="9"?V=Y-48:s>="a"&&s<="f"?V=Y-97+10:s>="A"&&s<="F"?V=Y-65+10:f("Bad \\u char "+s),H=H*16+V}j+=String.fromCharCode(H)}else if(typeof a[s]=="string")j+=a[s];else break;else s===`
`||s==="\r"?f("Bad string containing newline"):j+=s}f("Bad string")}function g(){for(var O="",j=0,B=0;;){var H=m(-B-5);if(!H||H===`
`)break;B++}function q(){for(var Y=B;s&&s<=" "&&s!==`
`&&Y-- >0;)h()}for(;s&&s<=" "&&s!==`
`;)h();for(s===`
`&&(h(),q());;){if(!s)f("Bad multiline string");else if(s==="'"){if(j++,h(),j===3)return O.slice(-1)===`
`&&(O=O.slice(0,-1)),O;continue}else for(;j>0;)O+="'",j--;s===`
`?(O+=`
`,h(),q()):(s!=="\r"&&(O+=s),h())}}function y(){if(s==='"'||s==="'")return p(!1);for(var O="",j=o,B=-1;;){if(s===":")return O?B>=0&&B!==O.length&&(o=j+B,f("Found whitespace in your key name (use quotes to include)")):f("Found ':' but no key name (for an empty key name use quotes)"),O;s<=" "?s?B<0&&(B=O.length):f("Found EOF while looking for a key name (check your syntax)"):d(s)?f("Found '"+s+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):O+=s,h()}}function v(){for(;s;){for(;s&&s<=" ";)h();if(s==="#"||s==="/"&&m(0)==="/")for(;s&&s!==`
`;)h();else if(s==="/"&&m(0)==="*"){for(h(),h();s&&!(s==="*"&&m(0)==="/");)h();s&&(h(),h())}else break}}function w(){var O=s;for(d(s)&&f("Found a punctuator character '"+s+"' when expecting a quoteless string (check your syntax)");;){h();var j=s==="\r"||s===`
`||s==="";if(j||s===","||s==="}"||s==="]"||s==="#"||s==="/"&&(m(0)==="/"||m(0)==="*")){var B=O[0];switch(B){case"f":if(O.trim()==="false")return!1;break;case"n":if(O.trim()==="null")return null;break;case"t":if(O.trim()==="true")return!0;break;default:if(B==="-"||B>="0"&&B<="9"){var H=n.tryParseNumber(O);if(H!==void 0)return H}}if(j){O=O.trim();var q=u(O);return q!==void 0?q:O}}O+=s}}function E(O,j){var B;for(O--,B=o-2;B>O&&i[B]<=" "&&i[B]!==`
`;B--);i[B]===`
`&&B--,i[B]==="\r"&&B--;var H=i.substr(O,B-O+1);for(B=0;B<H.length;B++)if(H[B]>" "){var q=H.indexOf(`
`);if(q>=0){var Y=[H.substr(0,q),H.substr(q+1)];return j&&Y[0].trim().length===0&&Y.shift(),Y}else return[H]}return[]}function C(O){function j(H,q){var Y,V,L,U;switch(typeof H){case"string":H.indexOf(q)>=0&&(U=H);break;case"object":if(Object.prototype.toString.apply(H)==="[object Array]")for(Y=0,L=H.length;Y<L;Y++)U=j(H[Y],q)||U;else for(V in H)Object.prototype.hasOwnProperty.call(H,V)&&(U=j(H[V],q)||U)}return U}function B(H){var q=j(O,H);return q?"found '"+H+`' in a string value, your mistake could be with:
  > `+q+`
  (unquoted strings contain everything up to the next line!)`:""}return B("}")||B("]")}function S(){var O=[],j,B,H;try{if(l&&(j=n.createComment(O,{a:[]})),h(),B=o,v(),j&&(H=E(B,!0).join(`
`)),s==="]")return h(),j&&(j.e=[H]),O;for(;s;){if(O.push(A()),B=o,v(),s===","&&(h(),B=o,v()),j){var q=E(B);j.a.push([H||"",q[0]||""]),H=q[1]}if(s==="]")return h(),j&&(j.a[j.a.length-1][1]+=H||""),O;v()}f("End of input while parsing an array (missing ']')")}catch(Y){throw Y.hint=Y.hint||C(O),Y}}function T(O){var j="",B={},H,q,Y;try{if(l&&(H=n.createComment(B,{c:{},o:[]})),O?q=1:(h(),q=o),v(),H&&(Y=E(q,!0).join(`
`)),s==="}"&&!O)return H&&(H.e=[Y]),h(),B;for(;s;){if(j=y(),v(),s!==":"&&f("Expected ':' instead of '"+s+"'"),h(),B[j]=A(),q=o,v(),s===","&&(h(),q=o,v()),H){var V=E(q);H.c[j]=[Y||"",V[0]||""],Y=V[1],H.o.push(j)}if(s==="}"&&!O)return h(),H&&(H.c[j][1]+=Y||""),B;v()}if(O)return B;f("End of input while parsing an object (missing '}')")}catch(L){throw L.hint=L.hint||C(B),L}}function A(){switch(v(),s){case"{":return T();case"[":return S();case"'":case'"':return p(!0);default:return w()}}function D(O,j){var B=o;if(v(),s&&f("Syntax error, found trailing characters"),l){var H=j.join(`
`),q=E(B).join(`
`);if(q||H){var Y=n.createComment(O,n.getComment(O));Y.r=[H,q]}}return O}function I(){v();var O=l?E(1):null;switch(s){case"{":return D(T(),O);case"[":return D(S(),O);default:return D(A(),O)}}function P(){v();var O=l?E(1):null;switch(s){case"{":return D(T(),O);case"[":return D(S(),O)}try{return D(T(!0),O)}catch(j){c();try{return D(A(),O)}catch{throw j}}}if(typeof e!="string")throw new Error("source is not a string");var N=null,$=!0;return t&&typeof t=="object"&&(l=t.keepWsc,N=t.dsf,$=t.legacyRoot!==!1),u=r.loadDsf(N,"parse"),i=e,c(),$?P():I()}),QU}var JU,H1e;function fon(){return H1e||(H1e=1,JU=function(e,t){var n=l8(),r=wie(),i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},o=n.EOL,s="  ",a=!1,l=!1,u=!1,c=!1,d=0,f=1,h="",m=null,p=!1,g=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(o=t.eol),a=t.keepWsc,d=t.condense||0,l=t.bracesSameLine,u=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?f=0:f=t.multiline=="no-tabs"?2:1,h=t.separator===!0?g.com[0]:"",m=t.dsf,p=t.sortProps,typeof t.space=="number"?s=new Array(t.space+1).join(" "):typeof t.space=="string"&&(s=t.space),t.colors===!0&&(g={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var y,v=Object.keys(i);for(y=v.length-1;y>=0;y--){var w=v[y];g[w].push(i[w][0].length,i[w][1].length)}}var E,C="---\u2028--\uFEFF-",S=new RegExp('[\\\\\\"\0-'+C+"]","g"),T=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+C+"]","g"),A=new RegExp("'''|^[\\s]+$|[\0-"+(f===2?"	":"\b")+"\v\f-"+C+"]","g"),D=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),I={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},P=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,N="",$=0;function O(U,z){return $+=U[0].length+U[1].length-U[2]-U[3],U[0]+z+U[1]}function j(U){return U.replace(S,function(z){var G=I[z];return typeof G=="string"?O(g.esc,G):O(g.uni,("0000"+z.charCodeAt(0).toString(16)).slice(-4))})}function B(U,z,G,Q){return U?(T.lastIndex=0,D.lastIndex=0,c||G||T.test(U)||n.tryParseNumber(U,!0)!==void 0||D.test(U)?(S.lastIndex=0,A.lastIndex=0,S.test(U)?!A.test(U)&&!Q&&f?H(U,z):O(g.qstr,j(U)):O(g.qstr,U)):O(g.str,U)):O(g.qstr,"")}function H(U,z){var G,Q=U.replace(/\r/g,"").split(`
`);if(z+=s,Q.length===1)return O(g.mstr,Q[0]);var te=o+z+g.mstr[0];for(G=0;G<Q.length;G++)te+=o,Q[G]&&(te+=z+Q[G]);return te+o+z+g.mstr[1]}function q(U){return U?u||P.test(U)?(S.lastIndex=0,O(g.qkey,S.test(U)?j(U):U)):O(g.key,U):'""'}function Y(U,z,G,Q){function te(Ft){return Ft&&Ft[Ft[0]==="\r"?1:0]===`
`}function de(Ft){return Ft&&!te(Ft)}function se(Ft,hn,Kn){if(!Ft)return"";Ft=n.forceComment(Ft);var zn,Fr=Ft.length;for(zn=0;zn<Fr&&Ft[zn]<=" ";zn++);return Kn&&zn>0&&(Ft=Ft.substr(zn)),zn<Fr?hn+O(g.rem,Ft):Ft}var ae=E(U);if(ae!==void 0)return O(g.dsf,ae);switch(typeof U){case"string":return B(U,N,z,Q);case"number":return isFinite(U)?O(g.num,String(U)):O(g.lit,"null");case"boolean":return O(g.lit,String(U));case"object":if(!U)return O(g.lit,"null");var he;a&&(he=n.getComment(U));var ie=Object.prototype.toString.apply(U)==="[object Array]",le=N;N+=s;var Ce=o+le,X=o+N,fe=G||l?"":Ce,ce=[],ne,ee=d?[]:null,pe=c,Re=f,Se=h?"":g.com[0],be=0,Ne,Ae,Pe,we,Le,ze,tt,rt,bt;if(ie){for(Ne=0,Ae=U.length;Ne<Ae;Ne++){if(ne=Ne<Ae-1,he?(ze=he.a[Ne]||[],tt=de(ze[1]),ce.push(se(ze[0],`
`)+X),ee&&(ze[0]||ze[1]||tt)&&(ee=null)):ce.push(X),$=0,we=U[Ne],ce.push(Y(we,he?tt:!1,!0)+(ne?h:"")),ee){switch(typeof we){case"string":$=0,c=!0,f=0,ee.push(Y(we,!1,!0)+(ne?g.com[0]:"")),c=pe,f=Re;break;case"object":if(we){ee=null;break}default:ee.push(ce[ce.length-1]+(ne?Se:""));break}ne&&($+=g.com[0].length-g.com[2]),be+=$}he&&ze[1]&&ce.push(se(ze[1],tt?" ":`
`,tt))}Ae===0?he&&he.e&&ce.push(se(he.e[0],`
`)+Ce):ce.push(Ce),ce.length===0?rt=O(g.arr,""):(rt=fe+O(g.arr,ce.join("")),ee&&(bt=ee.join(" "),bt.length-be<=d&&(rt=O(g.arr,bt))))}else{var Kt=he?he.o.slice():[],Wt=[];for(Pe in U)Object.prototype.hasOwnProperty.call(U,Pe)&&Kt.indexOf(Pe)<0&&Wt.push(Pe);p&&Wt.sort();var Mn=Kt.concat(Wt);for(Ne=0,Ae=Mn.length;Ne<Ae;Ne++)if(ne=Ne<Ae-1,Pe=Mn[Ne],he?(ze=he.c[Pe]||[],tt=de(ze[1]),ce.push(se(ze[0],`
`)+X),ee&&(ze[0]||ze[1]||tt)&&(ee=null)):ce.push(X),$=0,we=U[Pe],Le=Y(we,he&&tt),ce.push(q(Pe)+g.col[0]+(te(Le)?"":" ")+Le+(ne?h:"")),he&&ze[1]&&ce.push(se(ze[1],tt?" ":`
`,tt)),ee){switch(typeof we){case"string":$=0,c=!0,f=0,Le=Y(we,!1),c=pe,f=Re,ee.push(q(Pe)+g.col[0]+" "+Le+(ne?g.com[0]:""));break;case"object":if(we){ee=null;break}default:ee.push(ce[ce.length-1]+(ne?Se:""));break}$+=g.col[0].length-g.col[2],ne&&($+=g.com[0].length-g.com[2]),be+=$}Ae===0?he&&he.e&&ce.push(se(he.e[0],`
`)+Ce):ce.push(Ce),ce.length===0?rt=O(g.obj,""):(rt=fe+O(g.obj,ce.join("")),ee&&(bt=ee.join(" "),bt.length-be<=d&&(rt=O(g.obj,bt))))}return N=le,rt}}E=r.loadDsf(m,"stringify");var V="",L=a?L=(n.getComment(e)||{}).r:null;return L&&L[0]&&(V=L[0]+`
`),V+=Y(e,null,!0,!0),L&&(V+=L[1]||""),V}),JU}var ZU,q1e;function hon(){if(q1e)return ZU;q1e=1;var e=l8();function t(c,d,f){var h;return c&&(h={b:c}),d&&((h=h||{}).a=d),f&&((h=h||{}).x=f),h}function n(c,d){if(!(c===null||typeof c!="object")){var f=e.getComment(c);f&&e.removeComment(c);var h,m,p,g;if(Object.prototype.toString.apply(c)==="[object Array]"){for(g={a:{}},h=0,m=c.length;h<m;h++)o(g.a,h,f.a[h],n(c[h]))&&(p=!0);!p&&f.e&&(g.e=t(f.e[0],f.e[1]),p=!0)}else{g={s:{}};var y,v=Object.keys(c);for(f&&f.o?(y=[],f.o.concat(v).forEach(function(E){Object.prototype.hasOwnProperty.call(c,E)&&y.indexOf(E)<0&&y.push(E)})):y=v,g.o=y,h=0,m=y.length;h<m;h++){var w=y[h];o(g.s,w,f.c[w],n(c[w]))&&(p=!0)}!p&&f.e&&(g.e=t(f.e[0],f.e[1]),p=!0)}return d&&f&&f.r&&(g.r=t(f.r[0],f.r[1])),p?g:void 0}}function r(){var c="";return[].forEach.call(arguments,function(d){d&&d.trim()!==""&&(c&&(c+="; "),c+=d.trim())}),c}function i(c,d){var f=[];if(l(c,d,f,[]),f.length>0){var h=u(d,null,1);h+=`
# Orphaned comments:
`,f.forEach(function(m){h+=("# "+m.path.join("/")+": "+r(m.b,m.a,m.e)).replace(`
`,"\\n ")+`
`}),u(d,h,1)}}function o(c,d,f,h){var m=t(f?f[0]:void 0,f?f[1]:void 0,h);return m&&(c[d]=m),m}function s(c,d){var f=t(d.b,d.a);return f.path=c,f}function a(c,d,f){if(c){var h,m;if(c.a)for(h=0,m=c.a.length;h<m;h++){var p=f.slice().concat([h]),g=c.a[h];g&&(d.push(s(p,g)),a(g.x,d,p))}else c.o&&c.o.forEach(function(y){var v=f.slice().concat([y]),w=c.s[y];w&&(d.push(s(v,w)),a(w.x,d,v))});c.e&&d.push(s(f,c.e))}}function l(c,d,f,h){if(c){if(d===null||typeof d!="object"){a(c,f,h);return}var m,p=e.createComment(d);if(h.length===0&&c.r&&(p.r=[c.r.b,c.r.a]),Object.prototype.toString.apply(d)==="[object Array]"){p.a=[];var g=c.a||{};for(var y in g)if(g.hasOwnProperty(y)){m=parseInt(y);var v=c.a[y];if(v){var w=h.slice().concat([m]);m<d.length?(p.a[m]=[v.b,v.a],l(v.x,d[m],f,w)):(f.push(s(w,v)),a(v.x,f,w))}}m===0&&c.e&&(p.e=[c.e.b,c.e.a])}else p.c={},p.o=[],(c.o||[]).forEach(function(E){var C=h.slice().concat([E]),S=c.s[E];Object.prototype.hasOwnProperty.call(d,E)?(p.o.push(E),S&&(p.c[E]=[S.b,S.a],l(S.x,d[E],f,C))):S&&(f.push(s(C,S)),a(S.x,f,C))}),c.e&&(p.e=[c.e.b,c.e.a])}}function u(c,d,f){var h=e.createComment(c,e.getComment(c));return h.r||(h.r=["",""]),(d||d==="")&&(h.r[f]=e.forceComment(d)),h.r[f]||""}return ZU={extract:function(c){return n(c,!0)},merge:i,header:function(c,d){return u(c,d,0)},footer:function(c,d){return u(c,d,1)}},ZU}var eV,W1e;function pon(){if(W1e)return eV;W1e=1;var e=l8(),t=con(),n=don(),r=fon(),i=hon(),o=wie();return eV={parse:n,stringify:r,endOfLine:function(){return e.EOL},setEndOfLine:function(s){(s===`
`||s===`\r
`)&&(e.EOL=s)},version:t,rt:{parse:function(s,a){return(a=a||{}).keepWsc=!0,n(s,a)},stringify:function(s,a){return(a=a||{}).keepWsc=!0,r(s,a)}},comments:i,dsf:o.std},eV}var mon=pon();const gon=()=>{};var G1e={};const q8e=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},yon=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},xie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(q8e(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):yon(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new von;const f=o<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class von extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bon=function(e){const t=q8e(e);return xie.encodeByteArray(t,!0)},b6=function(e){return bon(e).replace(/\./g,"")},W8e=function(e){try{return xie.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function G8e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const won=()=>G8e().__FIREBASE_DEFAULTS__,xon=()=>{if(typeof process>"u"||typeof G1e>"u")return;const e=G1e.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},_on=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&W8e(e[1]);return t&&JSON.parse(t)},u8=()=>{try{return gon()||won()||xon()||_on()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Y8e=e=>{var t,n;return(n=(t=u8())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Eon=e=>{const t=Y8e(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},K8e=()=>{var e;return(e=u8())===null||e===void 0?void 0:e.config},X8e=e=>{var t;return(t=u8())===null||t===void 0?void 0:t[`_${e}`]};class QA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function dv(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _ie(e){return(await fetch(e,{credentials:"include"})).ok}function Con(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[b6(JSON.stringify(n)),b6(JSON.stringify(s)),""].join(".")}const I2={};function Son(){const e={prod:[],emulator:[]};for(const t of Object.keys(I2))I2[t]?e.emulator.push(t):e.prod.push(t);return e}function Ton(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Y1e=!1;function Q8e(e,t){if(typeof window>"u"||typeof document>"u"||!dv(window.location.host)||I2[e]===t||I2[e]||Y1e)return;I2[e]=t;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",o=Son().prod.length>0;function s(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Y1e=!0,s()},f}function c(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=Ton(r),h=n("text"),m=document.getElementById(h)||document.createElement("span"),p=n("learnmore"),g=document.getElementById(p)||document.createElement("a"),y=n("preprendIcon"),v=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const w=f.element;a(w),c(g,p);const E=u();l(v,y),w.append(v,m,g,E),document.body.appendChild(w)}o?(m.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function hl(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Aon(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hl())}function kon(){var e;const t=(e=u8())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ron(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ion(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Don(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pon(){const e=hl();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Oon(){return!kon()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Eie(){try{return typeof indexedDB=="object"}catch{return!1}}function Non(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}const Mon="FirebaseError";class Up extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Mon,Object.setPrototypeOf(this,Up.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,EC.prototype.create)}}class EC{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?$on(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Up(i,a,r)}}function $on(e,t){return e.replace(Fon,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Fon=/\{\$([^}]+)}/g;function Lon(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function E1(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(K1e(o)&&K1e(s)){if(!E1(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function K1e(e){return e!==null&&typeof e=="object"}function JR(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function jon(e,t){const n=new Bon(e,t);return n.subscribe.bind(n)}class Bon{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zon(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=tV),i.error===void 0&&(i.error=tV),i.complete===void 0&&(i.complete=tV);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zon(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function tV(){}const Uon=1e3,Von=2,Hon=14400*1e3,qon=.5;function Won(e,t=Uon,n=Von){const r=t*Math.pow(n,e),i=Math.round(qon*r*(Math.random()-.5)*2);return Math.min(Hon,r+i)}function Ni(e){return e&&e._delegate?e._delegate:e}class bp{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const tb="[DEFAULT]";class Gon{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new QA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t?.identifier),i=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Kon(t))try{this.getOrInitializeService({instanceIdentifier:tb})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=tb){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=tb){return this.instances.has(t)}getOptions(t=tb){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yon(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=tb){return this.component?this.component.multipleInstances?t:tb:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yon(e){return e===tb?void 0:e}function Kon(e){return e.instantiationMode==="EAGER"}class Xon{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Gon(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Ir;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ir||(Ir={}));const Qon={debug:Ir.DEBUG,verbose:Ir.VERBOSE,info:Ir.INFO,warn:Ir.WARN,error:Ir.ERROR,silent:Ir.SILENT},Jon=Ir.INFO,Zon={[Ir.DEBUG]:"log",[Ir.VERBOSE]:"log",[Ir.INFO]:"info",[Ir.WARN]:"warn",[Ir.ERROR]:"error"},esn=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Zon[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class c8{constructor(t){this.name=t,this._logLevel=Jon,this._logHandler=esn,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ir))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Qon[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ir.DEBUG,...t),this._logHandler(this,Ir.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ir.VERBOSE,...t),this._logHandler(this,Ir.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ir.INFO,...t),this._logHandler(this,Ir.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ir.WARN,...t),this._logHandler(this,Ir.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ir.ERROR,...t),this._logHandler(this,Ir.ERROR,...t)}}const tsn=(e,t)=>t.some(n=>e instanceof n);let X1e,Q1e;function nsn(){return X1e||(X1e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rsn(){return Q1e||(Q1e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J8e=new WeakMap,qG=new WeakMap,Z8e=new WeakMap,nV=new WeakMap,Cie=new WeakMap;function isn(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(ty(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&J8e.set(n,e)}).catch(()=>{}),Cie.set(t,e),t}function osn(e){if(qG.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});qG.set(e,t)}let WG={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return qG.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Z8e.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ty(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ssn(e){WG=e(WG)}function asn(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(rV(this),t,...n);return Z8e.set(r,t.sort?t.sort():[t]),ty(r)}:rsn().includes(e)?function(...t){return e.apply(rV(this),t),ty(J8e.get(this))}:function(...t){return ty(e.apply(rV(this),t))}}function lsn(e){return typeof e=="function"?asn(e):(e instanceof IDBTransaction&&osn(e),tsn(e,nsn())?new Proxy(e,WG):e)}function ty(e){if(e instanceof IDBRequest)return isn(e);if(nV.has(e))return nV.get(e);const t=lsn(e);return t!==e&&(nV.set(e,t),Cie.set(t,e)),t}const rV=e=>Cie.get(e);function usn(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=ty(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ty(s.result),l.oldVersion,l.newVersion,ty(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const csn=["get","getKey","getAll","getAllKeys","count"],dsn=["put","add","delete","clear"],iV=new Map;function J1e(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(iV.get(t))return iV.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=dsn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||csn.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return iV.set(t,o),o}ssn(e=>({...e,get:(t,n,r)=>J1e(t,n)||e.get(t,n,r),has:(t,n)=>!!J1e(t,n)||e.has(t,n)}));class fsn{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hsn(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hsn(e){const t=e.getComponent();return t?.type==="VERSION"}const GG="@firebase/app",Z1e="0.13.2";const ag=new c8("@firebase/app"),psn="@firebase/app-compat",msn="@firebase/analytics-compat",gsn="@firebase/analytics",ysn="@firebase/app-check-compat",vsn="@firebase/app-check",bsn="@firebase/auth",wsn="@firebase/auth-compat",xsn="@firebase/database",_sn="@firebase/data-connect",Esn="@firebase/database-compat",Csn="@firebase/functions",Ssn="@firebase/functions-compat",Tsn="@firebase/installations",Asn="@firebase/installations-compat",ksn="@firebase/messaging",Rsn="@firebase/messaging-compat",Isn="@firebase/performance",Dsn="@firebase/performance-compat",Psn="@firebase/remote-config",Osn="@firebase/remote-config-compat",Nsn="@firebase/storage",Msn="@firebase/storage-compat",$sn="@firebase/firestore",Fsn="@firebase/ai",Lsn="@firebase/firestore-compat",jsn="firebase",Bsn="11.10.0";const YG="[DEFAULT]",zsn={[GG]:"fire-core",[psn]:"fire-core-compat",[gsn]:"fire-analytics",[msn]:"fire-analytics-compat",[vsn]:"fire-app-check",[ysn]:"fire-app-check-compat",[bsn]:"fire-auth",[wsn]:"fire-auth-compat",[xsn]:"fire-rtdb",[_sn]:"fire-data-connect",[Esn]:"fire-rtdb-compat",[Csn]:"fire-fn",[Ssn]:"fire-fn-compat",[Tsn]:"fire-iid",[Asn]:"fire-iid-compat",[ksn]:"fire-fcm",[Rsn]:"fire-fcm-compat",[Isn]:"fire-perf",[Dsn]:"fire-perf-compat",[Psn]:"fire-rc",[Osn]:"fire-rc-compat",[Nsn]:"fire-gcs",[Msn]:"fire-gcs-compat",[$sn]:"fire-fst",[Lsn]:"fire-fst-compat",[Fsn]:"fire-vertex","fire-js":"fire-js",[jsn]:"fire-js-all"};const w6=new Map,Usn=new Map,KG=new Map;function ewe(e,t){try{e.container.addComponent(t)}catch(n){ag.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function lg(e){const t=e.name;if(KG.has(t))return ag.debug(`There were multiple attempts to register component ${t}.`),!1;KG.set(t,e);for(const n of w6.values())ewe(n,e);for(const n of Usn.values())ewe(n,e);return!0}function CC(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function sc(e){return e==null?!1:e.settings!==void 0}const Vsn={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ny=new EC("app","Firebase",Vsn);class Hsn{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ny.create("app-deleted",{appName:this._name})}}const dw=Bsn;function eje(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:YG,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw ny.create("bad-app-name",{appName:String(i)});if(n||(n=K8e()),!n)throw ny.create("no-options");const o=w6.get(i);if(o){if(E1(n,o.options)&&E1(r,o.config))return o;throw ny.create("duplicate-app",{appName:i})}const s=new Xon(i);for(const l of KG.values())s.addComponent(l);const a=new Hsn(n,r,s);return w6.set(i,a),a}function Sie(e=YG){const t=w6.get(e);if(!t&&e===YG&&K8e())return eje();if(!t)throw ny.create("no-app",{appName:e});return t}function Tf(e,t,n){var r;let i=(r=zsn[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ag.warn(a.join(" "));return}lg(new bp(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const qsn="firebase-heartbeat-database",Wsn=1,JA="firebase-heartbeat-store";let oV=null;function tje(){return oV||(oV=usn(qsn,Wsn,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(JA)}catch(n){console.warn(n)}}}}).catch(e=>{throw ny.create("idb-open",{originalErrorMessage:e.message})})),oV}async function Gsn(e){try{const n=(await tje()).transaction(JA),r=await n.objectStore(JA).get(nje(e));return await n.done,r}catch(t){if(t instanceof Up)ag.warn(t.message);else{const n=ny.create("idb-get",{originalErrorMessage:t?.message});ag.warn(n.message)}}}async function twe(e,t){try{const r=(await tje()).transaction(JA,"readwrite");await r.objectStore(JA).put(t,nje(e)),await r.done}catch(n){if(n instanceof Up)ag.warn(n.message);else{const r=ny.create("idb-set",{originalErrorMessage:n?.message});ag.warn(r.message)}}}function nje(e){return`${e.name}!${e.options.appId}`}const Ysn=1024,Ksn=30;class Xsn{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Jsn(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=nwe();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Ksn){const s=Zsn(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ag.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nwe(),{heartbeatsToSend:r,unsentEntries:i}=Qsn(this._heartbeatsCache.heartbeats),o=b6(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ag.warn(n),""}}}function nwe(){return new Date().toISOString().substring(0,10)}function Qsn(e,t=Ysn){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),rwe(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rwe(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Jsn{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Eie()?Non().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Gsn(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return twe(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return twe(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function rwe(e){return b6(JSON.stringify({version:2,heartbeats:e})).length}function Zsn(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function ean(e){lg(new bp("platform-logger",t=>new fsn(t),"PRIVATE")),lg(new bp("heartbeat",t=>new Xsn(t),"PRIVATE")),Tf(GG,Z1e,e),Tf(GG,Z1e,"esm2017"),Tf("fire-js","")}ean("");var tan="firebase",nan="11.10.0";Tf(tan,nan,"app");const rje="firebasestorage.googleapis.com",ije="storageBucket",ran=120*1e3,ian=600*1e3;class Oo extends Up{constructor(t,n,r=0){super(sV(t),`Firebase Storage: ${n} (${sV(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Oo.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return sV(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Do;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Do||(Do={}));function sV(e){return"storage/"+e}function Tie(){const e="An unknown error occurred, please check the error payload for server response.";return new Oo(Do.UNKNOWN,e)}function oan(e){return new Oo(Do.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function san(e){return new Oo(Do.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aan(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Oo(Do.UNAUTHENTICATED,e)}function lan(){return new Oo(Do.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uan(e){return new Oo(Do.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function can(){return new Oo(Do.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dan(){return new Oo(Do.CANCELED,"User canceled the upload/download.")}function fan(e){return new Oo(Do.INVALID_URL,"Invalid URL '"+e+"'.")}function han(e){return new Oo(Do.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function pan(){return new Oo(Do.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ije+"' property when initializing the app?")}function man(){return new Oo(Do.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gan(){return new Oo(Do.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yan(e){return new Oo(Do.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function XG(e){return new Oo(Do.INVALID_ARGUMENT,e)}function oje(){return new Oo(Do.APP_DELETED,"The Firebase app was deleted.")}function van(e){return new Oo(Do.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function D2(e,t){return new Oo(Do.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function ZS(e){throw new Oo(Do.INTERNAL_ERROR,"Internal error: "+e)}class jl{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=jl.makeFromUrl(t,n)}catch{return new jl(t,"")}if(r.path==="")return r;throw han(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),m={bucket:1,path:3},p=n===rje?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",y=new RegExp(`^https?://${p}/${i}/${g}`,"i"),w=[{regex:a,indices:l,postModify:o},{regex:h,indices:m,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<w.length;E++){const C=w[E],S=C.regex.exec(t);if(S){const T=S[C.indices.bucket];let A=S[C.indices.path];A||(A=""),r=new jl(T,A),C.postModify(r);break}}if(r==null)throw fan(t);return r}}class ban{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function wan(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...g){u||(u=!0,t.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,e(h,l())},g)}function f(){o&&clearTimeout(o)}function h(g,...y){if(u){f();return}if(g){f(),c.call(null,g,...y);return}if(l()||s){f(),c.call(null,g,...y);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let m=!1;function p(g){m||(m=!0,f(),!u&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,p(!0)},n),p}function xan(e){e(!1)}function _an(e){return e!==void 0}function Ean(e){return typeof e=="object"&&!Array.isArray(e)}function Aie(e){return typeof e=="string"||e instanceof String}function iwe(e){return kie()&&e instanceof Blob}function kie(){return typeof Blob<"u"}function QG(e,t,n,r){if(r<t)throw XG(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw XG(`Invalid value for '${e}'. Expected ${n} or less.`)}function SC(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function sje(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var jb;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(jb||(jb={}));function Can(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}class San{constructor(t,n,r,i,o,s,a,l,u,c,d,f=!0,h=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,p)=>{this.resolve_=m,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new S3(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===jb.NO_ERROR,l=o.getStatus();if(!a||Can(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===jb.ABORT;r(!1,new S3(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new S3(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());_an(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=Tie();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?oje():dan();s(l)}else{const l=can();s(l)}};this.canceled_?n(!1,new S3(!1,null,!0)):this.backoffId_=wan(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&xan(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class S3{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function Tan(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Aan(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function kan(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Ran(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Ian(e,t,n,r,i,o,s=!0,a=!1){const l=sje(e.urlParams),u=e.url+l,c=Object.assign({},e.headers);return kan(c,t),Tan(c,n),Aan(c,o),Ran(c,r),new San(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s,a)}function Dan(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Pan(...e){const t=Dan();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(kie())return new Blob(e);throw new Oo(Do.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Oan(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}function Nan(e){if(typeof atob>"u")throw yan("base-64");return atob(e)}const zh={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class aV{constructor(t,n){this.data=t,this.contentType=n||null}}function Man(e,t){switch(e){case zh.RAW:return new aV(aje(t));case zh.BASE64:case zh.BASE64URL:return new aV(lje(e,t));case zh.DATA_URL:return new aV(Fan(t),Lan(t))}throw Tie()}function aje(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const o=r,s=e.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function $an(e){let t;try{t=decodeURIComponent(e)}catch{throw D2(zh.DATA_URL,"Malformed data URL.")}return aje(t)}function lje(e,t){switch(e){case zh.BASE64:{const i=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(i||o)throw D2(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case zh.BASE64URL:{const i=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(i||o)throw D2(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Nan(t)}catch(i){throw i.message.includes("polyfill")?i:D2(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class uje{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw D2(zh.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=jan(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function Fan(e){const t=new uje(e);return t.base64?lje(zh.BASE64,t.rest):$an(t.rest)}function Lan(e){return new uje(e).contentType}function jan(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}class S0{constructor(t,n){let r=0,i="";iwe(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(iwe(this.data_)){const r=this.data_,i=Oan(r,t,n);return i===null?null:new S0(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new S0(r,!0)}}static getBlob(...t){if(kie()){const n=t.map(r=>r instanceof S0?r.data_:r);return new S0(Pan.apply(null,n))}else{const n=t.map(s=>Aie(s)?Man(zh.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new S0(i,!0)}}uploadData(){return this.data_}}function Rie(e){let t;try{t=JSON.parse(e)}catch{return null}return Ean(t)?t:null}function Ban(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function zan(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function cje(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function Uan(e,t){return t}class Sl{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Uan}}let T3=null;function Van(e){return!Aie(e)||e.length<2?e:cje(e)}function Iie(){if(T3)return T3;const e=[];e.push(new Sl("bucket")),e.push(new Sl("generation")),e.push(new Sl("metageneration")),e.push(new Sl("name","fullPath",!0));function t(o,s){return Van(s)}const n=new Sl("name");n.xform=t,e.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Sl("size");return i.xform=r,e.push(i),e.push(new Sl("timeCreated")),e.push(new Sl("updated")),e.push(new Sl("md5Hash",null,!0)),e.push(new Sl("cacheControl",null,!0)),e.push(new Sl("contentDisposition",null,!0)),e.push(new Sl("contentEncoding",null,!0)),e.push(new Sl("contentLanguage",null,!0)),e.push(new Sl("contentType",null,!0)),e.push(new Sl("metadata","customMetadata",!0)),T3=e,T3}function Han(e,t){function n(){const r=e.bucket,i=e.fullPath,o=new jl(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function qan(e,t,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,t[s.server])}return Han(r,e),r}function dje(e,t,n){const r=Rie(t);return r===null?null:qan(e,r,n)}function Wan(e,t,n,r){const i=Rie(t);if(i===null||!Aie(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=e.bucket,d=e.fullPath,f="/b/"+s(c)+"/o/"+s(d),h=SC(f,n,r),m=sje({alt:"media",token:u});return h+m})[0]}function fje(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}const owe="prefixes",swe="items";function Gan(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[owe])for(const i of n[owe]){const o=i.replace(/\/$/,""),s=e._makeStorageReference(new jl(t,o));r.prefixes.push(s)}if(n[swe])for(const i of n[swe]){const o=e._makeStorageReference(new jl(t,i.name));r.items.push(o)}return r}function Yan(e,t,n){const r=Rie(n);return r===null?null:Gan(e,t,r)}class ZR{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Die(e){if(!e)throw Tie()}function hje(e,t){function n(r,i){const o=dje(e,i,t);return Die(o!==null),o}return n}function Kan(e,t){function n(r,i){const o=Yan(e,t,i);return Die(o!==null),o}return n}function Xan(e,t){function n(r,i){const o=dje(e,i,t);return Die(o!==null),Wan(o,i,e.host,e._protocol)}return n}function Pie(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=lan():i=aan():n.getStatus()===402?i=san(e.bucket):n.getStatus()===403?i=uan(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function Oie(e){const t=Pie(e);function n(r,i){let o=t(r,i);return r.getStatus()===404&&(o=oan(e.path)),o.serverResponse=i.serverResponse,o}return n}function Qan(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=t.bucketOnlyServerUrl(),a=SC(s,e.host,e._protocol),l="GET",u=e.maxOperationRetryTime,c=new ZR(a,l,Kan(e,t.bucket),u);return c.urlParams=o,c.errorHandler=Pie(t),c}function Jan(e,t,n){const r=t.fullServerUrl(),i=SC(r,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,a=new ZR(i,o,Xan(e,n),s);return a.errorHandler=Oie(t),a}function Zan(e,t,n,r){const i=t.fullServerUrl(),o=SC(i,e.host,e._protocol),s="PATCH",a=fje(n,r),l={"Content-Type":"application/json; charset=utf-8"},u=e.maxOperationRetryTime,c=new ZR(o,s,hje(e,r),u);return c.headers=l,c.body=a,c.errorHandler=Oie(t),c}function eln(e,t){const n=t.fullServerUrl(),r=SC(n,e.host,e._protocol),i="DELETE",o=e.maxOperationRetryTime;function s(l,u){}const a=new ZR(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=Oie(t),a}function tln(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function nln(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=tln(null,t)),r}function rln(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let E=0;E<2;E++)w=w+Math.random().toString().slice(2);return w}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=nln(t,r,i),c=fje(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",h=S0.getBlob(d,r,f);if(h===null)throw man();const m={name:u.fullPath},p=SC(o,e.host,e._protocol),g="POST",y=e.maxUploadRetryTime,v=new ZR(p,g,hje(e,n),y);return v.urlParams=m,v.headers=s,v.body=h.uploadData(),v.errorHandler=Pie(t),v}class iln{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jb.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jb.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jb.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i,o){if(this.sent_)throw ZS("cannot .send() more than once");if(dv(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(const s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ZS("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ZS("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ZS("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ZS("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class oln extends iln{initXhr(){this.xhr_.responseType="text"}}function eI(){return new oln}class C1{constructor(t,n){this._service=t,n instanceof jl?this._location=n:this._location=jl.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new C1(t,n)}get root(){const t=new jl(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cje(this._location.path)}get storage(){return this._service}get parent(){const t=Ban(this._location.path);if(t===null)return null;const n=new jl(this._location.bucket,t);return new C1(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw van(t)}}function sln(e,t,n){e._throwIfRoot("uploadBytes");const r=rln(e.storage,e._location,Iie(),new S0(t,!0),n);return e.storage.makeRequestWithTokens(r,eI).then(i=>({metadata:i,ref:e}))}function aln(e){const t={prefixes:[],items:[]};return pje(e,t).then(()=>t)}async function pje(e,t,n){const i=await lln(e,{pageToken:n});t.prefixes.push(...i.prefixes),t.items.push(...i.items),i.nextPageToken!=null&&await pje(e,t,i.nextPageToken)}function lln(e,t){t!=null&&typeof t.maxResults=="number"&&QG("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=Qan(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,eI)}function uln(e,t){e._throwIfRoot("updateMetadata");const n=Zan(e.storage,e._location,t,Iie());return e.storage.makeRequestWithTokens(n,eI)}function cln(e){e._throwIfRoot("getDownloadURL");const t=Jan(e.storage,e._location,Iie());return e.storage.makeRequestWithTokens(t,eI).then(n=>{if(n===null)throw gan();return n})}function dln(e){e._throwIfRoot("deleteObject");const t=eln(e.storage,e._location);return e.storage.makeRequestWithTokens(t,eI)}function fln(e,t){const n=zan(e._location.path,t),r=new jl(e._location.bucket,n);return new C1(e.storage,r)}function hln(e){return/^[A-Za-z]+:\/\//.test(e)}function pln(e,t){return new C1(e,t)}function mje(e,t){if(e instanceof Nie){const n=e;if(n._bucket==null)throw pan();const r=new C1(n,n._bucket);return t!=null?mje(r,t):r}else return t!==void 0?fln(e,t):e}function mln(e,t){if(t&&hln(t)){if(e instanceof Nie)return pln(e,t);throw XG("To use ref(service, url), the first argument must be a Storage instance.")}else return mje(e,t)}function awe(e,t){const n=t?.[ije];return n==null?null:jl.makeFromBucketSpec(n,e)}function gln(e,t,n,r={}){e.host=`${t}:${n}`;const i=dv(t);i&&(_ie(`https://${e.host}/b`),Q8e("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken=typeof o=="string"?o:Con(o,e.app.options.projectId))}class Nie{constructor(t,n,r,i,o,s=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=rje,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ran,this._maxUploadRetryTime=ian,this._requests=new Set,i!=null?this._bucket=jl.makeFromBucketSpec(i,this._host):this._bucket=awe(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=jl.makeFromBucketSpec(this._url,t):this._bucket=awe(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){QG("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){QG("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(sc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new C1(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new ban(oje());{const s=Ian(t,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const lwe="@firebase/storage",uwe="0.13.14";const gje="storage";function lV(e,t,n){return e=Ni(e),sln(e,t,n)}function yln(e,t){return e=Ni(e),uln(e,t)}function uV(e){return e=Ni(e),aln(e)}function eT(e){return e=Ni(e),cln(e)}function cwe(e){return e=Ni(e),dln(e)}function Vc(e,t){return e=Ni(e),mln(e,t)}function A3(e=Sie(),t){e=Ni(e);const r=CC(e,gje).getImmediate({identifier:t}),i=Eon("storage");return i&&vln(r,...i),r}function vln(e,t,n,r={}){gln(e,t,n,r)}function bln(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Nie(n,r,i,t,dw)}function wln(){lg(new bp(gje,bln,"PUBLIC").setMultipleInstances(!0)),Tf(lwe,uwe,""),Tf(lwe,uwe,"esm2017")}wln();var dwe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ry,yje;(function(){var e;function t(T,A){function D(){}D.prototype=A.prototype,T.D=A.prototype,T.prototype=new D,T.prototype.constructor=T,T.C=function(I,P,N){for(var $=Array(arguments.length-2),O=2;O<arguments.length;O++)$[O-2]=arguments[O];return A.prototype[P].apply(I,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,A,D){D||(D=0);var I=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)I[P]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(P=0;16>P;++P)I[P]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=T.g[0],D=T.g[1],P=T.g[2];var N=T.g[3],$=A+(N^D&(P^N))+I[0]+3614090360&4294967295;A=D+($<<7&4294967295|$>>>25),$=N+(P^A&(D^P))+I[1]+3905402710&4294967295,N=A+($<<12&4294967295|$>>>20),$=P+(D^N&(A^D))+I[2]+606105819&4294967295,P=N+($<<17&4294967295|$>>>15),$=D+(A^P&(N^A))+I[3]+3250441966&4294967295,D=P+($<<22&4294967295|$>>>10),$=A+(N^D&(P^N))+I[4]+4118548399&4294967295,A=D+($<<7&4294967295|$>>>25),$=N+(P^A&(D^P))+I[5]+1200080426&4294967295,N=A+($<<12&4294967295|$>>>20),$=P+(D^N&(A^D))+I[6]+2821735955&4294967295,P=N+($<<17&4294967295|$>>>15),$=D+(A^P&(N^A))+I[7]+4249261313&4294967295,D=P+($<<22&4294967295|$>>>10),$=A+(N^D&(P^N))+I[8]+1770035416&4294967295,A=D+($<<7&4294967295|$>>>25),$=N+(P^A&(D^P))+I[9]+2336552879&4294967295,N=A+($<<12&4294967295|$>>>20),$=P+(D^N&(A^D))+I[10]+4294925233&4294967295,P=N+($<<17&4294967295|$>>>15),$=D+(A^P&(N^A))+I[11]+2304563134&4294967295,D=P+($<<22&4294967295|$>>>10),$=A+(N^D&(P^N))+I[12]+1804603682&4294967295,A=D+($<<7&4294967295|$>>>25),$=N+(P^A&(D^P))+I[13]+4254626195&4294967295,N=A+($<<12&4294967295|$>>>20),$=P+(D^N&(A^D))+I[14]+2792965006&4294967295,P=N+($<<17&4294967295|$>>>15),$=D+(A^P&(N^A))+I[15]+1236535329&4294967295,D=P+($<<22&4294967295|$>>>10),$=A+(P^N&(D^P))+I[1]+4129170786&4294967295,A=D+($<<5&4294967295|$>>>27),$=N+(D^P&(A^D))+I[6]+3225465664&4294967295,N=A+($<<9&4294967295|$>>>23),$=P+(A^D&(N^A))+I[11]+643717713&4294967295,P=N+($<<14&4294967295|$>>>18),$=D+(N^A&(P^N))+I[0]+3921069994&4294967295,D=P+($<<20&4294967295|$>>>12),$=A+(P^N&(D^P))+I[5]+3593408605&4294967295,A=D+($<<5&4294967295|$>>>27),$=N+(D^P&(A^D))+I[10]+38016083&4294967295,N=A+($<<9&4294967295|$>>>23),$=P+(A^D&(N^A))+I[15]+3634488961&4294967295,P=N+($<<14&4294967295|$>>>18),$=D+(N^A&(P^N))+I[4]+3889429448&4294967295,D=P+($<<20&4294967295|$>>>12),$=A+(P^N&(D^P))+I[9]+568446438&4294967295,A=D+($<<5&4294967295|$>>>27),$=N+(D^P&(A^D))+I[14]+3275163606&4294967295,N=A+($<<9&4294967295|$>>>23),$=P+(A^D&(N^A))+I[3]+4107603335&4294967295,P=N+($<<14&4294967295|$>>>18),$=D+(N^A&(P^N))+I[8]+1163531501&4294967295,D=P+($<<20&4294967295|$>>>12),$=A+(P^N&(D^P))+I[13]+2850285829&4294967295,A=D+($<<5&4294967295|$>>>27),$=N+(D^P&(A^D))+I[2]+4243563512&4294967295,N=A+($<<9&4294967295|$>>>23),$=P+(A^D&(N^A))+I[7]+1735328473&4294967295,P=N+($<<14&4294967295|$>>>18),$=D+(N^A&(P^N))+I[12]+2368359562&4294967295,D=P+($<<20&4294967295|$>>>12),$=A+(D^P^N)+I[5]+4294588738&4294967295,A=D+($<<4&4294967295|$>>>28),$=N+(A^D^P)+I[8]+2272392833&4294967295,N=A+($<<11&4294967295|$>>>21),$=P+(N^A^D)+I[11]+1839030562&4294967295,P=N+($<<16&4294967295|$>>>16),$=D+(P^N^A)+I[14]+4259657740&4294967295,D=P+($<<23&4294967295|$>>>9),$=A+(D^P^N)+I[1]+2763975236&4294967295,A=D+($<<4&4294967295|$>>>28),$=N+(A^D^P)+I[4]+1272893353&4294967295,N=A+($<<11&4294967295|$>>>21),$=P+(N^A^D)+I[7]+4139469664&4294967295,P=N+($<<16&4294967295|$>>>16),$=D+(P^N^A)+I[10]+3200236656&4294967295,D=P+($<<23&4294967295|$>>>9),$=A+(D^P^N)+I[13]+681279174&4294967295,A=D+($<<4&4294967295|$>>>28),$=N+(A^D^P)+I[0]+3936430074&4294967295,N=A+($<<11&4294967295|$>>>21),$=P+(N^A^D)+I[3]+3572445317&4294967295,P=N+($<<16&4294967295|$>>>16),$=D+(P^N^A)+I[6]+76029189&4294967295,D=P+($<<23&4294967295|$>>>9),$=A+(D^P^N)+I[9]+3654602809&4294967295,A=D+($<<4&4294967295|$>>>28),$=N+(A^D^P)+I[12]+3873151461&4294967295,N=A+($<<11&4294967295|$>>>21),$=P+(N^A^D)+I[15]+530742520&4294967295,P=N+($<<16&4294967295|$>>>16),$=D+(P^N^A)+I[2]+3299628645&4294967295,D=P+($<<23&4294967295|$>>>9),$=A+(P^(D|~N))+I[0]+4096336452&4294967295,A=D+($<<6&4294967295|$>>>26),$=N+(D^(A|~P))+I[7]+1126891415&4294967295,N=A+($<<10&4294967295|$>>>22),$=P+(A^(N|~D))+I[14]+2878612391&4294967295,P=N+($<<15&4294967295|$>>>17),$=D+(N^(P|~A))+I[5]+4237533241&4294967295,D=P+($<<21&4294967295|$>>>11),$=A+(P^(D|~N))+I[12]+1700485571&4294967295,A=D+($<<6&4294967295|$>>>26),$=N+(D^(A|~P))+I[3]+2399980690&4294967295,N=A+($<<10&4294967295|$>>>22),$=P+(A^(N|~D))+I[10]+4293915773&4294967295,P=N+($<<15&4294967295|$>>>17),$=D+(N^(P|~A))+I[1]+2240044497&4294967295,D=P+($<<21&4294967295|$>>>11),$=A+(P^(D|~N))+I[8]+1873313359&4294967295,A=D+($<<6&4294967295|$>>>26),$=N+(D^(A|~P))+I[15]+4264355552&4294967295,N=A+($<<10&4294967295|$>>>22),$=P+(A^(N|~D))+I[6]+2734768916&4294967295,P=N+($<<15&4294967295|$>>>17),$=D+(N^(P|~A))+I[13]+1309151649&4294967295,D=P+($<<21&4294967295|$>>>11),$=A+(P^(D|~N))+I[4]+4149444226&4294967295,A=D+($<<6&4294967295|$>>>26),$=N+(D^(A|~P))+I[11]+3174756917&4294967295,N=A+($<<10&4294967295|$>>>22),$=P+(A^(N|~D))+I[2]+718787259&4294967295,P=N+($<<15&4294967295|$>>>17),$=D+(N^(P|~A))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+A&4294967295,T.g[1]=T.g[1]+(P+($<<21&4294967295|$>>>11))&4294967295,T.g[2]=T.g[2]+P&4294967295,T.g[3]=T.g[3]+N&4294967295}r.prototype.u=function(T,A){A===void 0&&(A=T.length);for(var D=A-this.blockSize,I=this.B,P=this.h,N=0;N<A;){if(P==0)for(;N<=D;)i(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<A;)if(I[P++]=T.charCodeAt(N++),P==this.blockSize){i(this,I),P=0;break}}else for(;N<A;)if(I[P++]=T[N++],P==this.blockSize){i(this,I),P=0;break}}this.h=P,this.o+=A},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var A=1;A<T.length-8;++A)T[A]=0;var D=8*this.o;for(A=T.length-8;A<T.length;++A)T[A]=D&255,D/=256;for(this.u(T),T=Array(16),A=D=0;4>A;++A)for(var I=0;32>I;I+=8)T[D++]=this.g[A]>>>I&255;return T};function o(T,A){var D=a;return Object.prototype.hasOwnProperty.call(D,T)?D[T]:D[T]=A(T)}function s(T,A){this.h=A;for(var D=[],I=!0,P=T.length-1;0<=P;P--){var N=T[P]|0;I&&N==A||(D[P]=N,I=!1)}this.g=D}var a={};function l(T){return-128<=T&&128>T?o(T,function(A){return new s([A|0],0>A?-1:0)}):new s([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return g(u(-T));for(var A=[],D=1,I=0;T>=D;I++)A[I]=T/D|0,D*=4294967296;return new s(A,0)}function c(T,A){if(T.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(T.charAt(0)=="-")return g(c(T.substring(1),A));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=u(Math.pow(A,8)),I=d,P=0;P<T.length;P+=8){var N=Math.min(8,T.length-P),$=parseInt(T.substring(P,P+N),A);8>N?(N=u(Math.pow(A,N)),I=I.j(N).add(u($))):(I=I.j(D),I=I.add(u($)))}return I}var d=l(0),f=l(1),h=l(16777216);e=s.prototype,e.m=function(){if(p(this))return-g(this).m();for(var T=0,A=1,D=0;D<this.g.length;D++){var I=this.i(D);T+=(0<=I?I:4294967296+I)*A,A*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(m(this))return"0";if(p(this))return"-"+g(this).toString(T);for(var A=u(Math.pow(T,6)),D=this,I="";;){var P=E(D,A).g;D=y(D,P.j(A));var N=((0<D.g.length?D.g[0]:D.h)>>>0).toString(T);if(D=P,m(D))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function m(T){if(T.h!=0)return!1;for(var A=0;A<T.g.length;A++)if(T.g[A]!=0)return!1;return!0}function p(T){return T.h==-1}e.l=function(T){return T=y(this,T),p(T)?-1:m(T)?0:1};function g(T){for(var A=T.g.length,D=[],I=0;I<A;I++)D[I]=~T.g[I];return new s(D,~T.h).add(f)}e.abs=function(){return p(this)?g(this):this},e.add=function(T){for(var A=Math.max(this.g.length,T.g.length),D=[],I=0,P=0;P<=A;P++){var N=I+(this.i(P)&65535)+(T.i(P)&65535),$=(N>>>16)+(this.i(P)>>>16)+(T.i(P)>>>16);I=$>>>16,N&=65535,$&=65535,D[P]=$<<16|N}return new s(D,D[D.length-1]&-2147483648?-1:0)};function y(T,A){return T.add(g(A))}e.j=function(T){if(m(this)||m(T))return d;if(p(this))return p(T)?g(this).j(g(T)):g(g(this).j(T));if(p(T))return g(this.j(g(T)));if(0>this.l(h)&&0>T.l(h))return u(this.m()*T.m());for(var A=this.g.length+T.g.length,D=[],I=0;I<2*A;I++)D[I]=0;for(I=0;I<this.g.length;I++)for(var P=0;P<T.g.length;P++){var N=this.i(I)>>>16,$=this.i(I)&65535,O=T.i(P)>>>16,j=T.i(P)&65535;D[2*I+2*P]+=$*j,v(D,2*I+2*P),D[2*I+2*P+1]+=N*j,v(D,2*I+2*P+1),D[2*I+2*P+1]+=$*O,v(D,2*I+2*P+1),D[2*I+2*P+2]+=N*O,v(D,2*I+2*P+2)}for(I=0;I<A;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=A;I<2*A;I++)D[I]=0;return new s(D,0)};function v(T,A){for(;(T[A]&65535)!=T[A];)T[A+1]+=T[A]>>>16,T[A]&=65535,A++}function w(T,A){this.g=T,this.h=A}function E(T,A){if(m(A))throw Error("division by zero");if(m(T))return new w(d,d);if(p(T))return A=E(g(T),A),new w(g(A.g),g(A.h));if(p(A))return A=E(T,g(A)),new w(g(A.g),A.h);if(30<T.g.length){if(p(T)||p(A))throw Error("slowDivide_ only works with positive integers.");for(var D=f,I=A;0>=I.l(T);)D=C(D),I=C(I);var P=S(D,1),N=S(I,1);for(I=S(I,2),D=S(D,2);!m(I);){var $=N.add(I);0>=$.l(T)&&(P=P.add(D),N=$),I=S(I,1),D=S(D,1)}return A=y(T,P.j(A)),new w(P,A)}for(P=d;0<=T.l(A);){for(D=Math.max(1,Math.floor(T.m()/A.m())),I=Math.ceil(Math.log(D)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=u(D),$=N.j(A);p($)||0<$.l(T);)D-=I,N=u(D),$=N.j(A);m(N)&&(N=f),P=P.add(N),T=y(T,$)}return new w(P,T)}e.A=function(T){return E(this,T).h},e.and=function(T){for(var A=Math.max(this.g.length,T.g.length),D=[],I=0;I<A;I++)D[I]=this.i(I)&T.i(I);return new s(D,this.h&T.h)},e.or=function(T){for(var A=Math.max(this.g.length,T.g.length),D=[],I=0;I<A;I++)D[I]=this.i(I)|T.i(I);return new s(D,this.h|T.h)},e.xor=function(T){for(var A=Math.max(this.g.length,T.g.length),D=[],I=0;I<A;I++)D[I]=this.i(I)^T.i(I);return new s(D,this.h^T.h)};function C(T){for(var A=T.g.length+1,D=[],I=0;I<A;I++)D[I]=T.i(I)<<1|T.i(I-1)>>>31;return new s(D,T.h)}function S(T,A){var D=A>>5;A%=32;for(var I=T.g.length-D,P=[],N=0;N<I;N++)P[N]=0<A?T.i(N+D)>>>A|T.i(N+D+1)<<32-A:T.i(N+D);return new s(P,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yje=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,ry=s}).apply(typeof dwe<"u"?dwe:typeof self<"u"?self:typeof window<"u"?window:{});var k3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vje,VT,bje,EN,JG,wje,xje,_je;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(M,J,re){return M==Array.prototype||M==Object.prototype||(M[J]=re.value),M};function n(M){M=[typeof globalThis=="object"&&globalThis,M,typeof window=="object"&&window,typeof self=="object"&&self,typeof k3=="object"&&k3];for(var J=0;J<M.length;++J){var re=M[J];if(re&&re.Math==Math)return re}throw Error("Cannot find global object")}var r=n(this);function i(M,J){if(J)e:{var re=r;M=M.split(".");for(var ve=0;ve<M.length-1;ve++){var qe=M[ve];if(!(qe in re))break e;re=re[qe]}M=M[M.length-1],ve=re[M],J=J(ve),J!=ve&&J!=null&&t(re,M,{configurable:!0,writable:!0,value:J})}}function o(M,J){M instanceof String&&(M+="");var re=0,ve=!1,qe={next:function(){if(!ve&&re<M.length){var Je=re++;return{value:J(Je,M[Je]),done:!1}}return ve=!0,{done:!0,value:void 0}}};return qe[Symbol.iterator]=function(){return qe},qe}i("Array.prototype.values",function(M){return M||function(){return o(this,function(J,re){return re})}});var s=s||{},a=this||self;function l(M){var J=typeof M;return J=J!="object"?J:M?Array.isArray(M)?"array":J:"null",J=="array"||J=="object"&&typeof M.length=="number"}function u(M){var J=typeof M;return J=="object"&&M!=null||J=="function"}function c(M,J,re){return M.call.apply(M.bind,arguments)}function d(M,J,re){if(!M)throw Error();if(2<arguments.length){var ve=Array.prototype.slice.call(arguments,2);return function(){var qe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(qe,ve),M.apply(J,qe)}}return function(){return M.apply(J,arguments)}}function f(M,J,re){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function h(M,J){var re=Array.prototype.slice.call(arguments,1);return function(){var ve=re.slice();return ve.push.apply(ve,arguments),M.apply(this,ve)}}function m(M,J){function re(){}re.prototype=J.prototype,M.aa=J.prototype,M.prototype=new re,M.prototype.constructor=M,M.Qb=function(ve,qe,Je){for(var Nt=Array(arguments.length-2),yi=2;yi<arguments.length;yi++)Nt[yi-2]=arguments[yi];return J.prototype[qe].apply(ve,Nt)}}function p(M){const J=M.length;if(0<J){const re=Array(J);for(let ve=0;ve<J;ve++)re[ve]=M[ve];return re}return[]}function g(M,J){for(let re=1;re<arguments.length;re++){const ve=arguments[re];if(l(ve)){const qe=M.length||0,Je=ve.length||0;M.length=qe+Je;for(let Nt=0;Nt<Je;Nt++)M[qe+Nt]=ve[Nt]}else M.push(ve)}}class y{constructor(J,re){this.i=J,this.j=re,this.h=0,this.g=null}get(){let J;return 0<this.h?(this.h--,J=this.g,this.g=J.next,J.next=null):J=this.i(),J}}function v(M){return/^[\s\xa0]*$/.test(M)}function w(){var M=a.navigator;return M&&(M=M.userAgent)?M:""}function E(M){return E[" "](M),M}E[" "]=function(){};var C=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function S(M,J,re){for(const ve in M)J.call(re,M[ve],ve,M)}function T(M,J){for(const re in M)J.call(void 0,M[re],re,M)}function A(M){const J={};for(const re in M)J[re]=M[re];return J}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(M,J){let re,ve;for(let qe=1;qe<arguments.length;qe++){ve=arguments[qe];for(re in ve)M[re]=ve[re];for(let Je=0;Je<D.length;Je++)re=D[Je],Object.prototype.hasOwnProperty.call(ve,re)&&(M[re]=ve[re])}}function P(M){var J=1;M=M.split(":");const re=[];for(;0<J&&M.length;)re.push(M.shift()),J--;return M.length&&re.push(M.join(":")),re}function N(M){a.setTimeout(()=>{throw M},0)}function $(){var M=Y;let J=null;return M.g&&(J=M.g,M.g=M.g.next,M.g||(M.h=null),J.next=null),J}class O{constructor(){this.h=this.g=null}add(J,re){const ve=j.get();ve.set(J,re),this.h?this.h.next=ve:this.g=ve,this.h=ve}}var j=new y(()=>new B,M=>M.reset());class B{constructor(){this.next=this.g=this.h=null}set(J,re){this.h=J,this.g=re,this.next=null}reset(){this.next=this.g=this.h=null}}let H,q=!1,Y=new O,V=()=>{const M=a.Promise.resolve(void 0);H=()=>{M.then(L)}};var L=()=>{for(var M;M=$();){try{M.h.call(M.g)}catch(re){N(re)}var J=j;J.j(M),100>J.h&&(J.h++,M.next=J.g,J.g=M)}q=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(M,J){this.type=M,this.g=this.target=J,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var M=!1,J=Object.defineProperty({},"passive",{get:function(){M=!0}});try{const re=()=>{};a.addEventListener("test",re,J),a.removeEventListener("test",re,J)}catch{}return M})();function Q(M,J){if(z.call(this,M?M.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,M){var re=this.type=M.type,ve=M.changedTouches&&M.changedTouches.length?M.changedTouches[0]:null;if(this.target=M.target||M.srcElement,this.g=J,J=M.relatedTarget){if(C){e:{try{E(J.nodeName);var qe=!0;break e}catch{}qe=!1}qe||(J=null)}}else re=="mouseover"?J=M.fromElement:re=="mouseout"&&(J=M.toElement);this.relatedTarget=J,ve?(this.clientX=ve.clientX!==void 0?ve.clientX:ve.pageX,this.clientY=ve.clientY!==void 0?ve.clientY:ve.pageY,this.screenX=ve.screenX||0,this.screenY=ve.screenY||0):(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0),this.button=M.button,this.key=M.key||"",this.ctrlKey=M.ctrlKey,this.altKey=M.altKey,this.shiftKey=M.shiftKey,this.metaKey=M.metaKey,this.pointerId=M.pointerId||0,this.pointerType=typeof M.pointerType=="string"?M.pointerType:te[M.pointerType]||"",this.state=M.state,this.i=M,M.defaultPrevented&&Q.aa.h.call(this)}}m(Q,z);var te={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var M=this.i;M.preventDefault?M.preventDefault():M.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),se=0;function ae(M,J,re,ve,qe){this.listener=M,this.proxy=null,this.src=J,this.type=re,this.capture=!!ve,this.ha=qe,this.key=++se,this.da=this.fa=!1}function he(M){M.da=!0,M.listener=null,M.proxy=null,M.src=null,M.ha=null}function ie(M){this.src=M,this.g={},this.h=0}ie.prototype.add=function(M,J,re,ve,qe){var Je=M.toString();M=this.g[Je],M||(M=this.g[Je]=[],this.h++);var Nt=Ce(M,J,ve,qe);return-1<Nt?(J=M[Nt],re||(J.fa=!1)):(J=new ae(J,this.src,Je,!!ve,qe),J.fa=re,M.push(J)),J};function le(M,J){var re=J.type;if(re in M.g){var ve=M.g[re],qe=Array.prototype.indexOf.call(ve,J,void 0),Je;(Je=0<=qe)&&Array.prototype.splice.call(ve,qe,1),Je&&(he(J),M.g[re].length==0&&(delete M.g[re],M.h--))}}function Ce(M,J,re,ve){for(var qe=0;qe<M.length;++qe){var Je=M[qe];if(!Je.da&&Je.listener==J&&Je.capture==!!re&&Je.ha==ve)return qe}return-1}var X="closure_lm_"+(1e6*Math.random()|0),fe={};function ce(M,J,re,ve,qe){if(Array.isArray(J)){for(var Je=0;Je<J.length;Je++)ce(M,J[Je],re,ve,qe);return null}return re=Pe(re),M&&M[de]?M.K(J,re,u(ve)?!!ve.capture:!1,qe):ne(M,J,re,!1,ve,qe)}function ne(M,J,re,ve,qe,Je){if(!J)throw Error("Invalid event type");var Nt=u(qe)?!!qe.capture:!!qe,yi=Ne(M);if(yi||(M[X]=yi=new ie(M)),re=yi.add(J,re,ve,Nt,Je),re.proxy)return re;if(ve=ee(),re.proxy=ve,ve.src=M,ve.listener=re,M.addEventListener)G||(qe=Nt),qe===void 0&&(qe=!1),M.addEventListener(J.toString(),ve,qe);else if(M.attachEvent)M.attachEvent(Se(J.toString()),ve);else if(M.addListener&&M.removeListener)M.addListener(ve);else throw Error("addEventListener and attachEvent are unavailable.");return re}function ee(){function M(re){return J.call(M.src,M.listener,re)}const J=be;return M}function pe(M,J,re,ve,qe){if(Array.isArray(J))for(var Je=0;Je<J.length;Je++)pe(M,J[Je],re,ve,qe);else ve=u(ve)?!!ve.capture:!!ve,re=Pe(re),M&&M[de]?(M=M.i,J=String(J).toString(),J in M.g&&(Je=M.g[J],re=Ce(Je,re,ve,qe),-1<re&&(he(Je[re]),Array.prototype.splice.call(Je,re,1),Je.length==0&&(delete M.g[J],M.h--)))):M&&(M=Ne(M))&&(J=M.g[J.toString()],M=-1,J&&(M=Ce(J,re,ve,qe)),(re=-1<M?J[M]:null)&&Re(re))}function Re(M){if(typeof M!="number"&&M&&!M.da){var J=M.src;if(J&&J[de])le(J.i,M);else{var re=M.type,ve=M.proxy;J.removeEventListener?J.removeEventListener(re,ve,M.capture):J.detachEvent?J.detachEvent(Se(re),ve):J.addListener&&J.removeListener&&J.removeListener(ve),(re=Ne(J))?(le(re,M),re.h==0&&(re.src=null,J[X]=null)):he(M)}}}function Se(M){return M in fe?fe[M]:fe[M]="on"+M}function be(M,J){if(M.da)M=!0;else{J=new Q(J,this);var re=M.listener,ve=M.ha||M.src;M.fa&&Re(M),M=re.call(ve,J)}return M}function Ne(M){return M=M[X],M instanceof ie?M:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pe(M){return typeof M=="function"?M:(M[Ae]||(M[Ae]=function(J){return M.handleEvent(J)}),M[Ae])}function we(){U.call(this),this.i=new ie(this),this.M=this,this.F=null}m(we,U),we.prototype[de]=!0,we.prototype.removeEventListener=function(M,J,re,ve){pe(this,M,J,re,ve)};function Le(M,J){var re,ve=M.F;if(ve)for(re=[];ve;ve=ve.F)re.push(ve);if(M=M.M,ve=J.type||J,typeof J=="string")J=new z(J,M);else if(J instanceof z)J.target=J.target||M;else{var qe=J;J=new z(ve,M),I(J,qe)}if(qe=!0,re)for(var Je=re.length-1;0<=Je;Je--){var Nt=J.g=re[Je];qe=ze(Nt,ve,!0,J)&&qe}if(Nt=J.g=M,qe=ze(Nt,ve,!0,J)&&qe,qe=ze(Nt,ve,!1,J)&&qe,re)for(Je=0;Je<re.length;Je++)Nt=J.g=re[Je],qe=ze(Nt,ve,!1,J)&&qe}we.prototype.N=function(){if(we.aa.N.call(this),this.i){var M=this.i,J;for(J in M.g){for(var re=M.g[J],ve=0;ve<re.length;ve++)he(re[ve]);delete M.g[J],M.h--}}this.F=null},we.prototype.K=function(M,J,re,ve){return this.i.add(String(M),J,!1,re,ve)},we.prototype.L=function(M,J,re,ve){return this.i.add(String(M),J,!0,re,ve)};function ze(M,J,re,ve){if(J=M.i.g[String(J)],!J)return!0;J=J.concat();for(var qe=!0,Je=0;Je<J.length;++Je){var Nt=J[Je];if(Nt&&!Nt.da&&Nt.capture==re){var yi=Nt.listener,ws=Nt.ha||Nt.src;Nt.fa&&le(M.i,Nt),qe=yi.call(ws,ve)!==!1&&qe}}return qe&&!ve.defaultPrevented}function tt(M,J,re){if(typeof M=="function")re&&(M=f(M,re));else if(M&&typeof M.handleEvent=="function")M=f(M.handleEvent,M);else throw Error("Invalid listener argument");return 2147483647<Number(J)?-1:a.setTimeout(M,J||0)}function rt(M){M.g=tt(()=>{M.g=null,M.i&&(M.i=!1,rt(M))},M.l);const J=M.h;M.h=null,M.m.apply(null,J)}class bt extends U{constructor(J,re){super(),this.m=J,this.l=re,this.h=null,this.i=!1,this.g=null}j(J){this.h=arguments,this.g?this.i=!0:rt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(M){U.call(this),this.h=M,this.g={}}m(Kt,U);var Wt=[];function Mn(M){S(M.g,function(J,re){this.g.hasOwnProperty(re)&&Re(J)},M),M.g={}}Kt.prototype.N=function(){Kt.aa.N.call(this),Mn(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ft=a.JSON.stringify,hn=a.JSON.parse,Kn=class{stringify(M){return a.JSON.stringify(M,void 0)}parse(M){return a.JSON.parse(M,void 0)}};function zn(){}zn.prototype.h=null;function Fr(M){return M.h||(M.h=M.i())}function er(){}var Sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tn(){z.call(this,"d")}m(Tn,z);function an(){z.call(this,"c")}m(an,z);var sr={},pi=null;function Tr(){return pi=pi||new we}sr.La="serverreachability";function An(M){z.call(this,sr.La,M)}m(An,z);function ft(M){const J=Tr();Le(J,new An(J))}sr.STAT_EVENT="statevent";function wr(M,J){z.call(this,sr.STAT_EVENT,M),this.stat=J}m(wr,z);function Vt(M){const J=Tr();Le(J,new wr(J,M))}sr.Ma="timingevent";function ar(M,J){z.call(this,sr.Ma,M),this.size=J}m(ar,z);function un(M,J){if(typeof M!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){M()},J)}function tr(){this.g=!0}tr.prototype.xa=function(){this.g=!1};function Rr(M,J,re,ve,qe,Je){M.info(function(){if(M.g)if(Je)for(var Nt="",yi=Je.split("&"),ws=0;ws<yi.length;ws++){var Br=yi[ws].split("=");if(1<Br.length){var js=Br[0];Br=Br[1];var rs=js.split("_");Nt=2<=rs.length&&rs[1]=="type"?Nt+(js+"="+Br+"&"):Nt+(js+"=redacted&")}}else Nt=null;else Nt=Je;return"XMLHTTP REQ ("+ve+") [attempt "+qe+"]: "+J+`
`+re+`
`+Nt})}function Lr(M,J,re,ve,qe,Je,Nt){M.info(function(){return"XMLHTTP RESP ("+ve+") [ attempt "+qe+"]: "+J+`
`+re+`
`+Je+" "+Nt})}function jr(M,J,re,ve){M.info(function(){return"XMLHTTP TEXT ("+J+"): "+Na(M,re)+(ve?" "+ve:"")})}function gs(M,J){M.info(function(){return"TIMEOUT: "+J})}tr.prototype.info=function(){};function Na(M,J){if(!M.g)return J;if(!J)return null;try{var re=JSON.parse(J);if(re){for(M=0;M<re.length;M++)if(Array.isArray(re[M])){var ve=re[M];if(!(2>ve.length)){var qe=ve[1];if(Array.isArray(qe)&&!(1>qe.length)){var Je=qe[0];if(Je!="noop"&&Je!="stop"&&Je!="close")for(var Nt=1;Nt<qe.length;Nt++)qe[Nt]=""}}}}return Ft(re)}catch{return J}}var tu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function Hi(){}m(Hi,zn),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},Un=new Hi;function ys(M,J,re,ve){this.j=M,this.i=J,this.l=re,this.R=ve||1,this.U=new Kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ah}function ah(){this.i=null,this.g="",this.h=!1}var Fd={},Ic={};function Dc(M,J,re){M.L=1,M.v=rr(dt(J)),M.m=re,M.P=!0,vs(M,null)}function vs(M,J){M.F=Date.now(),xr(M),M.A=dt(M.v);var re=M.A,ve=M.R;Array.isArray(ve)||(ve=[String(ve)]),Oc(re.i,"t",ve),M.C=0,re=M.j.J,M.h=new ah,M.g=yI(M.j,re?J:null,!M.m),0<M.O&&(M.M=new bt(f(M.Y,M,M.g),M.O)),J=M.U,re=M.g,ve=M.ca;var qe="readystatechange";Array.isArray(qe)||(qe&&(Wt[0]=qe.toString()),qe=Wt);for(var Je=0;Je<qe.length;Je++){var Nt=ce(re,qe[Je],ve||J.handleEvent,!1,J.h||J);if(!Nt)break;J.g[Nt.key]=Nt}J=M.H?A(M.H):{},M.m?(M.u||(M.u="POST"),J["Content-Type"]="application/x-www-form-urlencoded",M.g.ea(M.A,M.u,M.m,J)):(M.u="GET",M.g.ea(M.A,M.u,null,J)),ft(),Rr(M.i,M.u,M.A,M.l,M.R,M.m)}ys.prototype.ca=function(M){M=M.target;const J=this.M;J&&hr(M)==3?J.j():this.Y(M)},ys.prototype.Y=function(M){try{if(M==this.g)e:{const rs=hr(this.g);var J=this.g.Ba();const Nc=this.g.Z();if(!(3>rs)&&(rs!=3||this.g&&(this.h.h||this.g.oa()||si(this.g)))){this.J||rs!=4||J==7||(J==8||0>=Nc?ft(3):ft(2)),No(this);var re=this.g.Z();this.X=re;t:if(lh(this)){var ve=si(this.g);M="";var qe=ve.length,Je=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mo(this),Fs(this);var Nt="";break t}this.h.i=new a.TextDecoder}for(J=0;J<qe;J++)this.h.h=!0,M+=this.h.i.decode(ve[J],{stream:!(Je&&J==qe-1)});ve.length=0,this.h.g+=M,this.C=0,Nt=this.h.g}else Nt=this.g.oa();if(this.o=re==200,Lr(this.i,this.u,this.A,this.l,this.R,rs,re),this.o){if(this.T&&!this.K){t:{if(this.g){var yi,ws=this.g;if((yi=ws.g?ws.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(yi)){var Br=yi;break t}}Br=null}if(re=Br)jr(this.i,this.l,re,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qu(this,re);else{this.o=!1,this.s=3,Vt(12),Mo(this),Fs(this);break e}}if(this.P){re=!0;let Yu;for(;!this.J&&this.C<Nt.length;)if(Yu=Hu(this,Nt),Yu==Ic){rs==4&&(this.s=4,Vt(14),re=!1),jr(this.i,this.l,null,"[Incomplete Response]");break}else if(Yu==Fd){this.s=4,Vt(15),jr(this.i,this.l,Nt,"[Invalid Chunk]"),re=!1;break}else jr(this.i,this.l,Yu,null),qu(this,Yu);if(lh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rs!=4||Nt.length!=0||this.h.h||(this.s=1,Vt(16),re=!1),this.o=this.o&&re,!re)jr(this.i,this.l,Nt,"[Invalid Chunked Response]"),Mo(this),Fs(this);else if(0<Nt.length&&!this.W){this.W=!0;var js=this.j;js.g==this&&js.ba&&!js.M&&(js.j.info("Great, no buffering proxy detected. Bytes received: "+Nt.length),PC(js),js.M=!0,Vt(11))}}else jr(this.i,this.l,Nt,null),qu(this,Nt);rs==4&&Mo(this),this.o&&!this.J&&(rs==4?gw(this.j,this):(this.o=!1,xr(this)))}else mi(this.g),re==400&&0<Nt.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Mo(this),Fs(this)}}}catch{}finally{}};function lh(M){return M.g?M.u=="GET"&&M.L!=2&&M.j.Ca:!1}function Hu(M,J){var re=M.C,ve=J.indexOf(`
`,re);return ve==-1?Ic:(re=Number(J.substring(re,ve)),isNaN(re)?Fd:(ve+=1,ve+re>J.length?Ic:(J=J.slice(ve,ve+re),M.C=ve+re,J)))}ys.prototype.cancel=function(){this.J=!0,Mo(this)};function xr(M){M.S=Date.now()+M.I,Ld(M,M.I)}function Ld(M,J){if(M.B!=null)throw Error("WatchDog timer not null");M.B=un(f(M.ba,M),J)}function No(M){M.B&&(a.clearTimeout(M.B),M.B=null)}ys.prototype.ba=function(){this.B=null;const M=Date.now();0<=M-this.S?(gs(this.i,this.A),this.L!=2&&(ft(),Vt(17)),Mo(this),this.s=2,Fs(this)):Ld(this,this.S-M)};function Fs(M){M.j.G==0||M.J||gw(M.j,M)}function Mo(M){No(M);var J=M.M;J&&typeof J.ma=="function"&&J.ma(),M.M=null,Mn(M.U),M.g&&(J=M.g,M.g=null,J.abort(),J.ma())}function qu(M,J){try{var re=M.j;if(re.G!=0&&(re.g==M||Fo(re.h,M))){if(!M.K&&Fo(re.h,M)&&re.G==3){try{var ve=re.Da.g.parse(J)}catch{ve=null}if(Array.isArray(ve)&&ve.length==3){var qe=ve;if(qe[0]==0){e:if(!re.u){if(re.g)if(re.g.F+3e3<M.F)mw(re),Bo(re);else break e;pw(re),Vt(18)}}else re.za=qe[1],0<re.za-re.T&&37500>qe[2]&&re.F&&re.v==0&&!re.C&&(re.C=un(f(re.Za,re),6e3));if(1>=uh(re.h)&&re.ca){try{re.ca()}catch{}re.ca=void 0}}else Hp(re,11)}else if((M.K||re.g==M)&&mw(re),!v(J))for(qe=re.Da.g.parse(J),J=0;J<qe.length;J++){let Br=qe[J];if(re.T=Br[0],Br=Br[1],re.G==2)if(Br[0]=="c"){re.K=Br[1],re.ia=Br[2];const js=Br[3];js!=null&&(re.la=js,re.j.info("VER="+re.la));const rs=Br[4];rs!=null&&(re.Aa=rs,re.j.info("SVER="+re.Aa));const Nc=Br[5];Nc!=null&&typeof Nc=="number"&&0<Nc&&(ve=1.5*Nc,re.L=ve,re.j.info("backChannelRequestTimeoutMs_="+ve)),ve=re;const Yu=M.g;if(Yu){const mv=Yu.g?Yu.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mv){var Je=ve.h;Je.g||mv.indexOf("spdy")==-1&&mv.indexOf("quic")==-1&&mv.indexOf("h2")==-1||(Je.j=Je.l,Je.g=new Set,Je.h&&(me(Je,Je.h),Je.h=null))}if(ve.D){const vw=Yu.g?Yu.g.getResponseHeader("X-HTTP-Session-Id"):null;vw&&(ve.ya=vw,en(ve.I,ve.D,vw))}}re.G=3,re.l&&re.l.ua(),re.ba&&(re.R=Date.now()-M.F,re.j.info("Handshake RTT: "+re.R+"ms")),ve=re;var Nt=M;if(ve.qa=gI(ve,ve.J?ve.ia:null,ve.W),Nt.K){Oe(ve.h,Nt);var yi=Nt,ws=ve.L;ws&&(yi.I=ws),yi.B&&(No(yi),xr(yi)),ve.g=Nt}else pv(ve);0<re.i.length&&Gu(re)}else Br[0]!="stop"&&Br[0]!="close"||Hp(re,7);else re.G==3&&(Br[0]=="stop"||Br[0]=="close"?Br[0]=="stop"?Hp(re,7):gi(re):Br[0]!="noop"&&re.l&&re.l.ta(Br),re.v=0)}}ft(4)}catch{}}var la=class{constructor(M,J){this.g=M,this.map=J}};function nu(M){this.l=M||10,a.PerformanceNavigationTiming?(M=a.performance.getEntriesByType("navigation"),M=0<M.length&&(M[0].nextHopProtocol=="hq"||M[0].nextHopProtocol=="h2")):M=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=M?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $o(M){return M.h?!0:M.g?M.g.size>=M.j:!1}function uh(M){return M.h?1:M.g?M.g.size:0}function Fo(M,J){return M.h?M.h==J:M.g?M.g.has(J):!1}function me(M,J){M.g?M.g.add(J):M.h=J}function Oe(M,J){M.h&&M.h==J?M.h=null:M.g&&M.g.has(J)&&M.g.delete(J)}nu.prototype.cancel=function(){if(this.i=xe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const M of this.g.values())M.cancel();this.g.clear()}};function xe(M){if(M.h!=null)return M.i.concat(M.h.D);if(M.g!=null&&M.g.size!==0){let J=M.i;for(const re of M.g.values())J=J.concat(re.D);return J}return p(M.i)}function je(M){if(M.V&&typeof M.V=="function")return M.V();if(typeof Map<"u"&&M instanceof Map||typeof Set<"u"&&M instanceof Set)return Array.from(M.values());if(typeof M=="string")return M.split("");if(l(M)){for(var J=[],re=M.length,ve=0;ve<re;ve++)J.push(M[ve]);return J}J=[],re=0;for(ve in M)J[re++]=M[ve];return J}function Ue(M){if(M.na&&typeof M.na=="function")return M.na();if(!M.V||typeof M.V!="function"){if(typeof Map<"u"&&M instanceof Map)return Array.from(M.keys());if(!(typeof Set<"u"&&M instanceof Set)){if(l(M)||typeof M=="string"){var J=[];M=M.length;for(var re=0;re<M;re++)J.push(re);return J}J=[],re=0;for(const ve in M)J[re++]=ve;return J}}}function Fe(M,J){if(M.forEach&&typeof M.forEach=="function")M.forEach(J,void 0);else if(l(M)||typeof M=="string")Array.prototype.forEach.call(M,J,void 0);else for(var re=Ue(M),ve=je(M),qe=ve.length,Je=0;Je<qe;Je++)J.call(void 0,ve[Je],re&&re[Je],M)}var nt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ct(M,J){if(M){M=M.split("&");for(var re=0;re<M.length;re++){var ve=M[re].indexOf("="),qe=null;if(0<=ve){var Je=M[re].substring(0,ve);qe=M[re].substring(ve+1)}else Je=M[re];J(Je,qe?decodeURIComponent(qe.replace(/\+/g," ")):"")}}}function ht(M){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,M instanceof ht){this.h=M.h,Et(this,M.j),this.o=M.o,this.g=M.g,Bt(this,M.s),this.l=M.l;var J=M.i,re=new bs;re.i=J.i,J.g&&(re.g=new Map(J.g),re.h=J.h),$n(this,re),this.m=M.m}else M&&(J=String(M).match(nt))?(this.h=!1,Et(this,J[1]||"",!0),this.o=Xt(J[2]||""),this.g=Xt(J[3]||"",!0),Bt(this,J[4]),this.l=Xt(J[5]||"",!0),$n(this,J[6]||"",!0),this.m=Xt(J[7]||"")):(this.h=!1,this.i=new bs(null,this.h))}ht.prototype.toString=function(){var M=[],J=this.j;J&&M.push(pr(J,Ma,!0),":");var re=this.g;return(re||J=="file")&&(M.push("//"),(J=this.o)&&M.push(pr(J,Ma,!0),"@"),M.push(encodeURIComponent(String(re)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),re=this.s,re!=null&&M.push(":",String(re))),(re=this.l)&&(this.g&&re.charAt(0)!="/"&&M.push("/"),M.push(pr(re,re.charAt(0)=="/"?ch:jo,!0))),(re=this.i.toString())&&M.push("?",re),(re=this.m)&&M.push("#",pr(re,dh)),M.join("")};function dt(M){return new ht(M)}function Et(M,J,re){M.j=re?Xt(J,!0):J,M.j&&(M.j=M.j.replace(/:$/,""))}function Bt(M,J){if(J){if(J=Number(J),isNaN(J)||0>J)throw Error("Bad port number "+J);M.s=J}else M.s=null}function $n(M,J,re){J instanceof bs?(M.i=J,$a(M.i,M.h)):(re||(J=pr(J,Pc)),M.i=new bs(J,M.h))}function en(M,J,re){M.i.set(J,re)}function rr(M){return en(M,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),M}function Xt(M,J){return M?J?decodeURI(M.replace(/%25/g,"%2525")):decodeURIComponent(M):""}function pr(M,J,re){return typeof M=="string"?(M=encodeURI(M).replace(J,Lo),re&&(M=M.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M):null}function Lo(M){return M=M.charCodeAt(0),"%"+(M>>4&15).toString(16)+(M&15).toString(16)}var Ma=/[#\/\?@]/g,jo=/[#\?:]/g,ch=/[#\?]/g,Pc=/[#\?@]/g,dh=/#/g;function bs(M,J){this.h=this.g=null,this.i=M||null,this.j=!!J}function qi(M){M.g||(M.g=new Map,M.h=0,M.i&&ct(M.i,function(J,re){M.add(decodeURIComponent(J.replace(/\+/g," ")),re)}))}e=bs.prototype,e.add=function(M,J){qi(this),this.i=null,M=ns(this,M);var re=this.g.get(M);return re||this.g.set(M,re=[]),re.push(J),this.h+=1,this};function $i(M,J){qi(M),J=ns(M,J),M.g.has(J)&&(M.i=null,M.h-=M.g.get(J).length,M.g.delete(J))}function Ls(M,J){return qi(M),J=ns(M,J),M.g.has(J)}e.forEach=function(M,J){qi(this),this.g.forEach(function(re,ve){re.forEach(function(qe){M.call(J,qe,ve,this)},this)},this)},e.na=function(){qi(this);const M=Array.from(this.g.values()),J=Array.from(this.g.keys()),re=[];for(let ve=0;ve<J.length;ve++){const qe=M[ve];for(let Je=0;Je<qe.length;Je++)re.push(J[ve])}return re},e.V=function(M){qi(this);let J=[];if(typeof M=="string")Ls(this,M)&&(J=J.concat(this.g.get(ns(this,M))));else{M=Array.from(this.g.values());for(let re=0;re<M.length;re++)J=J.concat(M[re])}return J},e.set=function(M,J){return qi(this),this.i=null,M=ns(this,M),Ls(this,M)&&(this.h-=this.g.get(M).length),this.g.set(M,[J]),this.h+=1,this},e.get=function(M,J){return M?(M=this.V(M),0<M.length?String(M[0]):J):J};function Oc(M,J,re){$i(M,J),0<re.length&&(M.i=null,M.g.set(ns(M,J),p(re)),M.h+=re.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const M=[],J=Array.from(this.g.keys());for(var re=0;re<J.length;re++){var ve=J[re];const Je=encodeURIComponent(String(ve)),Nt=this.V(ve);for(ve=0;ve<Nt.length;ve++){var qe=Je;Nt[ve]!==""&&(qe+="="+encodeURIComponent(String(Nt[ve]))),M.push(qe)}}return this.i=M.join("&")};function ns(M,J){return J=String(J),M.j&&(J=J.toLowerCase()),J}function $a(M,J){J&&!M.j&&(qi(M),M.i=null,M.g.forEach(function(re,ve){var qe=ve.toLowerCase();ve!=qe&&($i(this,ve),Oc(this,qe,re))},M)),M.j=J}function fh(M,J){const re=new tr;if(a.Image){const ve=new Image;ve.onload=h(co,re,"TestLoadImage: loaded",!0,J,ve),ve.onerror=h(co,re,"TestLoadImage: error",!1,J,ve),ve.onabort=h(co,re,"TestLoadImage: abort",!1,J,ve),ve.ontimeout=h(co,re,"TestLoadImage: timeout",!1,J,ve),a.setTimeout(function(){ve.ontimeout&&ve.ontimeout()},1e4),ve.src=M}else J(!1)}function ru(M,J){const re=new tr,ve=new AbortController,qe=setTimeout(()=>{ve.abort(),co(re,"TestPingServer: timeout",!1,J)},1e4);fetch(M,{signal:ve.signal}).then(Je=>{clearTimeout(qe),Je.ok?co(re,"TestPingServer: ok",!0,J):co(re,"TestPingServer: server error",!1,J)}).catch(()=>{clearTimeout(qe),co(re,"TestPingServer: error",!1,J)})}function co(M,J,re,ve,qe){try{qe&&(qe.onload=null,qe.onerror=null,qe.onabort=null,qe.ontimeout=null),ve(re)}catch{}}function Og(){this.g=new Kn}function hh(M,J,re){const ve=re||"";try{Fe(M,function(qe,Je){let Nt=qe;u(qe)&&(Nt=Ft(qe)),J.push(ve+Je+"="+encodeURIComponent(Nt))})}catch(qe){throw J.push(ve+"type="+encodeURIComponent("_badmap")),qe}}function ua(M){this.l=M.Ub||null,this.j=M.eb||!1}m(ua,zn),ua.prototype.g=function(){return new Wu(this.l,this.j)},ua.prototype.i=(function(M){return function(){return M}})({});function Wu(M,J){we.call(this),this.D=M,this.o=J,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Wu,we),e=Wu.prototype,e.open=function(M,J){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=M,this.A=J,this.readyState=1,Fa(this)},e.send=function(M){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const J={headers:this.u,method:this.B,credentials:this.m,cache:void 0};M&&(J.body=M),(this.D||a).fetch(new Request(this.A,J)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yl(this)),this.readyState=0},e.Sa=function(M){if(this.g&&(this.l=M,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=M.headers,this.readyState=2,Fa(this)),this.g&&(this.readyState=3,Fa(this),this.g)))if(this.responseType==="arraybuffer")M.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in M){if(this.j=M.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ng(this)}else M.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ng(M){M.j.read().then(M.Pa.bind(M)).catch(M.ga.bind(M))}e.Pa=function(M){if(this.g){if(this.o&&M.value)this.response.push(M.value);else if(!this.o){var J=M.value?M.value:new Uint8Array(0);(J=this.v.decode(J,{stream:!M.done}))&&(this.response=this.responseText+=J)}M.done?yl(this):Fa(this),this.readyState==3&&Ng(this)}},e.Ra=function(M){this.g&&(this.response=this.responseText=M,yl(this))},e.Qa=function(M){this.g&&(this.response=M,yl(this))},e.ga=function(){this.g&&yl(this)};function yl(M){M.readyState=4,M.l=null,M.j=null,M.v=null,Fa(M)}e.setRequestHeader=function(M,J){this.u.append(M,J)},e.getResponseHeader=function(M){return this.h&&this.h.get(M.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const M=[],J=this.h.entries();for(var re=J.next();!re.done;)re=re.value,M.push(re[0]+": "+re[1]),re=J.next();return M.join(`\r
`)};function Fa(M){M.onreadystatechange&&M.onreadystatechange.call(M)}Object.defineProperty(Wu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(M){this.m=M?"include":"same-origin"}});function Ee(M){let J="";return S(M,function(re,ve){J+=ve,J+=":",J+=re,J+=`\r
`}),J}function oe(M,J,re){e:{for(ve in re){var ve=!1;break e}ve=!0}ve||(re=Ee(re),typeof M=="string"?re!=null&&encodeURIComponent(String(re)):en(M,J,re))}function ye(M){we.call(this),this.headers=new Map,this.o=M||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(ye,we);var Me=/^https?$/i,Tt=["POST","PUT"];e=ye.prototype,e.Ha=function(M){this.J=M},e.ea=function(M,J,re,ve){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+M);J=J?J.toUpperCase():"GET",this.D=M,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?Fr(this.o):Fr(Un),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(J,String(M),!0),this.B=!1}catch(Je){Ot(this,Je);return}if(M=re||"",re=new Map(this.headers),ve)if(Object.getPrototypeOf(ve)===Object.prototype)for(var qe in ve)re.set(qe,ve[qe]);else if(typeof ve.keys=="function"&&typeof ve.get=="function")for(const Je of ve.keys())re.set(Je,ve.get(Je));else throw Error("Unknown input type for opt_headers: "+String(ve));ve=Array.from(re.keys()).find(Je=>Je.toLowerCase()=="content-type"),qe=a.FormData&&M instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Tt,J,void 0))||ve||qe||re.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Je,Nt]of re)this.g.setRequestHeader(Je,Nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bn(this),this.u=!0,this.g.send(M),this.u=!1}catch(Je){Ot(this,Je)}};function Ot(M,J){M.h=!1,M.g&&(M.j=!0,M.g.abort(),M.j=!1),M.l=J,M.m=5,pn(M),Zt(M)}function pn(M){M.A||(M.A=!0,Le(M,"complete"),Le(M,"error"))}e.abort=function(M){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=M||7,Le(this,"complete"),Le(this,"abort"),Zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),ye.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ln(this):this.bb())},e.bb=function(){Ln(this)};function Ln(M){if(M.h&&typeof s<"u"&&(!M.v[1]||hr(M)!=4||M.Z()!=2)){if(M.u&&hr(M)==4)tt(M.Ea,0,M);else if(Le(M,"readystatechange"),hr(M)==4){M.h=!1;try{const Nt=M.Z();e:switch(Nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var J=!0;break e;default:J=!1}var re;if(!(re=J)){var ve;if(ve=Nt===0){var qe=String(M.D).match(nt)[1]||null;!qe&&a.self&&a.self.location&&(qe=a.self.location.protocol.slice(0,-1)),ve=!Me.test(qe?qe.toLowerCase():"")}re=ve}if(re)Le(M,"complete"),Le(M,"success");else{M.m=6;try{var Je=2<hr(M)?M.g.statusText:""}catch{Je=""}M.l=Je+" ["+M.Z()+"]",pn(M)}}finally{Zt(M)}}}}function Zt(M,J){if(M.g){bn(M);const re=M.g,ve=M.v[0]?()=>{}:null;M.g=null,M.v=null,J||Le(M,"ready");try{re.onreadystatechange=ve}catch{}}}function bn(M){M.I&&(a.clearTimeout(M.I),M.I=null)}e.isActive=function(){return!!this.g};function hr(M){return M.g?M.g.readyState:0}e.Z=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(M){if(this.g){var J=this.g.responseText;return M&&J.indexOf(M)==0&&(J=J.substring(M.length)),hn(J)}};function si(M){try{if(!M.g)return null;if("response"in M.g)return M.g.response;switch(M.H){case"":case"text":return M.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in M.g)return M.g.mozResponseArrayBuffer}return null}catch{return null}}function mi(M){const J={};M=(M.g&&2<=hr(M)&&M.g.getAllResponseHeaders()||"").split(`\r
`);for(let ve=0;ve<M.length;ve++){if(v(M[ve]))continue;var re=P(M[ve]);const qe=re[0];if(re=re[1],typeof re!="string")continue;re=re.trim();const Je=J[qe]||[];J[qe]=Je,Je.push(re)}T(J,function(ve){return ve.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(M,J,re){return re&&re.internalChannelParams&&re.internalChannelParams[M]||J}function _o(M){this.Aa=0,this.i=[],this.j=new tr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ki("failFast",!1,M),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ki("baseRetryDelayMs",5e3,M),this.cb=ki("retryDelaySeedMs",1e4,M),this.Wa=ki("forwardChannelMaxRetries",2,M),this.wa=ki("forwardChannelRequestTimeoutMs",2e4,M),this.pa=M&&M.xmlHttpFactory||void 0,this.Xa=M&&M.Tb||void 0,this.Ca=M&&M.useFetchStreams||!1,this.L=void 0,this.J=M&&M.supportsCrossDomainXhr||!1,this.K="",this.h=new nu(M&&M.concurrentRequestLimit),this.Da=new Og,this.P=M&&M.fastHandshake||!1,this.O=M&&M.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=M&&M.Rb||!1,M&&M.xa&&this.j.xa(),M&&M.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&M&&M.detectBufferingProxy||!1,this.ja=void 0,M&&M.longPollingTimeout&&0<M.longPollingTimeout&&(this.ja=M.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=_o.prototype,e.la=8,e.G=1,e.connect=function(M,J,re,ve){Vt(0),this.W=M,this.H=J||{},re&&ve!==void 0&&(this.H.OSID=re,this.H.OAID=ve),this.F=this.X,this.I=gI(this,null,this.W),Gu(this)};function gi(M){if(iu(M),M.G==3){var J=M.U++,re=dt(M.I);if(en(re,"SID",M.K),en(re,"RID",J),en(re,"TYPE","terminate"),Vp(M,re),J=new ys(M,M.j,J),J.L=2,J.v=rr(dt(re)),re=!1,a.navigator&&a.navigator.sendBeacon)try{re=a.navigator.sendBeacon(J.v.toString(),"")}catch{}!re&&a.Image&&(new Image().src=J.v,re=!0),re||(J.g=yI(J.j,null),J.g.ea(J.v)),J.F=Date.now(),xr(J)}mI(M)}function Bo(M){M.g&&(PC(M),M.g.cancel(),M.g=null)}function iu(M){Bo(M),M.u&&(a.clearTimeout(M.u),M.u=null),mw(M),M.h.cancel(),M.s&&(typeof M.s=="number"&&a.clearTimeout(M.s),M.s=null)}function Gu(M){if(!$o(M.h)&&!M.s){M.s=!0;var J=M.Ga;H||V(),q||(H(),q=!0),Y.add(J,M),M.B=0}}function Mg(M,J){return uh(M.h)>=M.h.j-(M.s?1:0)?!1:M.s?(M.i=J.D.concat(M.i),!0):M.G==1||M.G==2||M.B>=(M.Va?0:M.Wa)?!1:(M.s=un(f(M.Ga,M,J),pI(M,M.B)),M.B++,!0)}e.Ga=function(M){if(this.s)if(this.s=null,this.G==1){if(!M){this.U=Math.floor(1e5*Math.random()),M=this.U++;const qe=new ys(this,this.j,M);let Je=this.o;if(this.S&&(Je?(Je=A(Je),I(Je,this.S)):Je=this.S),this.m!==null||this.O||(qe.H=Je,Je=null),this.P)e:{for(var J=0,re=0;re<this.i.length;re++){t:{var ve=this.i[re];if("__data__"in ve.map&&(ve=ve.map.__data__,typeof ve=="string")){ve=ve.length;break t}ve=void 0}if(ve===void 0)break;if(J+=ve,4096<J){J=re;break e}if(J===4096||re===this.i.length-1){J=re+1;break e}}J=1e3}else J=1e3;J=$g(this,qe,J),re=dt(this.I),en(re,"RID",M),en(re,"CVER",22),this.D&&en(re,"X-HTTP-Session-Id",this.D),Vp(this,re),Je&&(this.O?J="headers="+encodeURIComponent(String(Ee(Je)))+"&"+J:this.m&&oe(re,this.m,Je)),me(this.h,qe),this.Ua&&en(re,"TYPE","init"),this.P?(en(re,"$req",J),en(re,"SID","null"),qe.T=!0,Dc(qe,re,null)):Dc(qe,re,J),this.G=2}}else this.G==3&&(M?jd(this,M):this.i.length==0||$o(this.h)||jd(this))};function jd(M,J){var re;J?re=J.l:re=M.U++;const ve=dt(M.I);en(ve,"SID",M.K),en(ve,"RID",re),en(ve,"AID",M.T),Vp(M,ve),M.m&&M.o&&oe(ve,M.m,M.o),re=new ys(M,M.j,re,M.B+1),M.m===null&&(re.H=M.o),J&&(M.i=J.D.concat(M.i)),J=$g(M,re,1e3),re.I=Math.round(.5*M.wa)+Math.round(.5*M.wa*Math.random()),me(M.h,re),Dc(re,ve,J)}function Vp(M,J){M.H&&S(M.H,function(re,ve){en(J,ve,re)}),M.l&&Fe({},function(re,ve){en(J,ve,re)})}function $g(M,J,re){re=Math.min(M.i.length,re);var ve=M.l?f(M.l.Na,M.l,M):null;e:{var qe=M.i;let Je=-1;for(;;){const Nt=["count="+re];Je==-1?0<re?(Je=qe[0].g,Nt.push("ofs="+Je)):Je=0:Nt.push("ofs="+Je);let yi=!0;for(let ws=0;ws<re;ws++){let Br=qe[ws].g;const js=qe[ws].map;if(Br-=Je,0>Br)Je=Math.max(0,qe[ws].g-100),yi=!1;else try{hh(js,Nt,"req"+Br+"_")}catch{ve&&ve(js)}}if(yi){ve=Nt.join("&");break e}}}return M=M.i.splice(0,re),J.D=M,ve}function pv(M){if(!M.g&&!M.u){M.Y=1;var J=M.Fa;H||V(),q||(H(),q=!0),Y.add(J,M),M.v=0}}function pw(M){return M.g||M.u||3<=M.v?!1:(M.Y++,M.u=un(f(M.Fa,M),pI(M,M.v)),M.v++,!0)}e.Fa=function(){if(this.u=null,hI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var M=2*this.R;this.j.info("BP detection timer enabled: "+M),this.A=un(f(this.ab,this),M)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Bo(this),hI(this))};function PC(M){M.A!=null&&(a.clearTimeout(M.A),M.A=null)}function hI(M){M.g=new ys(M,M.j,"rpc",M.Y),M.m===null&&(M.g.H=M.o),M.g.O=0;var J=dt(M.qa);en(J,"RID","rpc"),en(J,"SID",M.K),en(J,"AID",M.T),en(J,"CI",M.F?"0":"1"),!M.F&&M.ja&&en(J,"TO",M.ja),en(J,"TYPE","xmlhttp"),Vp(M,J),M.m&&M.o&&oe(J,M.m,M.o),M.L&&(M.g.I=M.L);var re=M.g;M=M.ia,re.L=1,re.v=rr(dt(J)),re.m=null,re.P=!0,vs(re,M)}e.Za=function(){this.C!=null&&(this.C=null,Bo(this),pw(this),Vt(19))};function mw(M){M.C!=null&&(a.clearTimeout(M.C),M.C=null)}function gw(M,J){var re=null;if(M.g==J){mw(M),PC(M),M.g=null;var ve=2}else if(Fo(M.h,J))re=J.D,Oe(M.h,J),ve=1;else return;if(M.G!=0){if(J.o)if(ve==1){re=J.m?J.m.length:0,J=Date.now()-J.F;var qe=M.B;ve=Tr(),Le(ve,new ar(ve,re)),Gu(M)}else pv(M);else if(qe=J.s,qe==3||qe==0&&0<J.X||!(ve==1&&Mg(M,J)||ve==2&&pw(M)))switch(re&&0<re.length&&(J=M.h,J.i=J.i.concat(re)),qe){case 1:Hp(M,5);break;case 4:Hp(M,10);break;case 3:Hp(M,6);break;default:Hp(M,2)}}}function pI(M,J){let re=M.Ta+Math.floor(Math.random()*M.cb);return M.isActive()||(re*=2),re*J}function Hp(M,J){if(M.j.info("Error code "+J),J==2){var re=f(M.fb,M),ve=M.Xa;const qe=!ve;ve=new ht(ve||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Et(ve,"https"),rr(ve),qe?fh(ve.toString(),re):ru(ve.toString(),re)}else Vt(2);M.G=0,M.l&&M.l.sa(J),mI(M),iu(M)}e.fb=function(M){M?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function mI(M){if(M.G=0,M.ka=[],M.l){const J=xe(M.h);(J.length!=0||M.i.length!=0)&&(g(M.ka,J),g(M.ka,M.i),M.h.i.length=0,p(M.i),M.i.length=0),M.l.ra()}}function gI(M,J,re){var ve=re instanceof ht?dt(re):new ht(re);if(ve.g!="")J&&(ve.g=J+"."+ve.g),Bt(ve,ve.s);else{var qe=a.location;ve=qe.protocol,J=J?J+"."+qe.hostname:qe.hostname,qe=+qe.port;var Je=new ht(null);ve&&Et(Je,ve),J&&(Je.g=J),qe&&Bt(Je,qe),re&&(Je.l=re),ve=Je}return re=M.D,J=M.ya,re&&J&&en(ve,re,J),en(ve,"VER",M.la),Vp(M,ve),ve}function yI(M,J,re){if(J&&!M.J)throw Error("Can't create secondary domain capable XhrIo object.");return J=M.Ca&&!M.pa?new ye(new ua({eb:re})):new ye(M.pa),J.Ha(M.J),J}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function OC(){}e=OC.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function yw(){}yw.prototype.g=function(M,J){return new vl(M,J)};function vl(M,J){we.call(this),this.g=new _o(J),this.l=M,this.h=J&&J.messageUrlParams||null,M=J&&J.messageHeaders||null,J&&J.clientProtocolHeaderRequired&&(M?M["X-Client-Protocol"]="webchannel":M={"X-Client-Protocol":"webchannel"}),this.g.o=M,M=J&&J.initMessageHeaders||null,J&&J.messageContentType&&(M?M["X-WebChannel-Content-Type"]=J.messageContentType:M={"X-WebChannel-Content-Type":J.messageContentType}),J&&J.va&&(M?M["X-WebChannel-Client-Profile"]=J.va:M={"X-WebChannel-Client-Profile":J.va}),this.g.S=M,(M=J&&J.Sb)&&!v(M)&&(this.g.m=M),this.v=J&&J.supportsCrossDomainXhr||!1,this.u=J&&J.sendRawJson||!1,(J=J&&J.httpSessionIdParam)&&!v(J)&&(this.g.D=J,M=this.h,M!==null&&J in M&&(M=this.h,J in M&&delete M[J])),this.j=new ph(this)}m(vl,we),vl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vl.prototype.close=function(){gi(this.g)},vl.prototype.o=function(M){var J=this.g;if(typeof M=="string"){var re={};re.__data__=M,M=re}else this.u&&(re={},re.__data__=Ft(M),M=re);J.i.push(new la(J.Ya++,M)),J.G==3&&Gu(J)},vl.prototype.N=function(){this.g.l=null,delete this.j,gi(this.g),delete this.g,vl.aa.N.call(this)};function vI(M){Tn.call(this),M.__headers__&&(this.headers=M.__headers__,this.statusCode=M.__status__,delete M.__headers__,delete M.__status__);var J=M.__sm__;if(J){e:{for(const re in J){M=re;break e}M=void 0}(this.i=M)&&(M=this.i,J=J!==null&&M in J?J[M]:void 0),this.data=J}else this.data=M}m(vI,Tn);function bI(){an.call(this),this.status=1}m(bI,an);function ph(M){this.g=M}m(ph,OC),ph.prototype.ua=function(){Le(this.g,"a")},ph.prototype.ta=function(M){Le(this.g,new vI(M))},ph.prototype.sa=function(M){Le(this.g,new bI)},ph.prototype.ra=function(){Le(this.g,"b")},yw.prototype.createWebChannel=yw.prototype.g,vl.prototype.send=vl.prototype.o,vl.prototype.open=vl.prototype.m,vl.prototype.close=vl.prototype.close,_je=function(){return new yw},xje=function(){return Tr()},wje=sr,JG={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tu.NO_ERROR=0,tu.TIMEOUT=8,tu.HTTP_ERROR=6,EN=tu,Vu.COMPLETE="complete",bje=Vu,er.EventType=Sr,Sr.OPEN="a",Sr.CLOSE="b",Sr.ERROR="c",Sr.MESSAGE="d",we.prototype.listen=we.prototype.K,VT=er,ye.prototype.listenOnce=ye.prototype.L,ye.prototype.getLastError=ye.prototype.Ka,ye.prototype.getLastErrorCode=ye.prototype.Ba,ye.prototype.getStatus=ye.prototype.Z,ye.prototype.getResponseJson=ye.prototype.Oa,ye.prototype.getResponseText=ye.prototype.oa,ye.prototype.send=ye.prototype.ea,ye.prototype.setWithCredentials=ye.prototype.Ha,vje=ye}).apply(typeof k3<"u"?k3:typeof self<"u"?self:typeof window<"u"?window:{});const fwe="@firebase/firestore",hwe="4.8.0";class mu{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mu.UNAUTHENTICATED=new mu(null),mu.GOOGLE_CREDENTIALS=new mu("google-credentials-uid"),mu.FIRST_PARTY=new mu("first-party-uid"),mu.MOCK_USER=new mu("mock-user");let TC="11.10.0";const S1=new c8("@firebase/firestore");function Cx(){return S1.logLevel}function qt(e,...t){if(S1.logLevel<=Ir.DEBUG){const n=t.map(Mie);S1.debug(`Firestore (${TC}): ${e}`,...n)}}function ug(e,...t){if(S1.logLevel<=Ir.ERROR){const n=t.map(Mie);S1.error(`Firestore (${TC}): ${e}`,...n)}}function T1(e,...t){if(S1.logLevel<=Ir.WARN){const n=t.map(Mie);S1.warn(`Firestore (${TC}): ${e}`,...n)}}function Mie(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function Bn(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Eje(e,r,n)}function Eje(e,t,n){let r=`FIRESTORE (${TC}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ug(r),new Error(r)}function hi(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||Eje(t,i,r)}function Zn(e,t){return e}const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Yt extends Up{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Bm{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class xln{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _ln{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(mu.UNAUTHENTICATED)))}shutdown(){}}class Eln{constructor(t){this.t=t,this.currentUser=mu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){hi(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Bm;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Bm,t.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const l=o;t.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},a=l=>{qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Bm)}}),0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(hi(typeof r.accessToken=="string",31837,{l:r}),new xln(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return hi(t===null||typeof t=="string",2055,{h:t}),new mu(t)}}class Cln{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=mu.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Sln{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new Cln(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(mu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pwe{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tln{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sc(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){hi(this.o===void 0,3512);const r=o=>{o.error!=null&&qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,qt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>r(o)))};const i=o=>{qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pwe(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(hi(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pwe(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Aln(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Cje(){return new TextEncoder}class $ie{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Aln(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%62))}return r}}function br(e,t){return e<t?-1:e>t?1:0}function ZG(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return br(r,i);{const o=Cje(),s=kln(o.encode(mwe(e,n)),o.encode(mwe(t,n)));return s!==0?s:br(r,i)}}n+=r>65535?2:1}return br(e.length,t.length)}function mwe(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function kln(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return br(e[n],t[n]);return br(e.length,t.length)}function mE(e,t,n){return e.length===t.length&&e.every(((r,i)=>n(r,t[i])))}const gwe="__name__";class Rh{constructor(t,n,r){n===void 0?n=0:n>t.length&&Bn(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Bn(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Rh.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Rh?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=Rh.compareSegments(t.get(i),n.get(i));if(o!==0)return o}return br(t.length,n.length)}static compareSegments(t,n){const r=Rh.isNumericId(t),i=Rh.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Rh.extractNumericId(t).compare(Rh.extractNumericId(n)):ZG(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ry.fromString(t.substring(4,t.length-2))}}class Ji extends Rh{construct(t,n,r){return new Ji(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Yt(ut.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ji(n)}static emptyPath(){return new Ji([])}}const Rln=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ca extends Rh{construct(t,n,r){return new Ca(t,n,r)}static isValidIdentifier(t){return Rln.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ca.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gwe}static keyField(){return new Ca([gwe])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Yt(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Yt(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Yt(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Yt(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ca(n)}static emptyPath(){return new Ca([])}}class Rn{constructor(t){this.path=t}static fromPath(t){return new Rn(Ji.fromString(t))}static fromName(t){return new Rn(Ji.fromString(t).popFirst(5))}static empty(){return new Rn(Ji.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ji.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ji.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Rn(new Ji(t.slice()))}}function Sje(e,t,n){if(!n)throw new Yt(ut.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Iln(e,t,n,r){if(t===!0&&r===!0)throw new Yt(ut.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ywe(e){if(!Rn.isDocumentKey(e))throw new Yt(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function vwe(e){if(Rn.isDocumentKey(e))throw new Yt(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Tje(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Fie(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Bn(12329,{type:typeof e})}function mc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Yt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fie(e);throw new Yt(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function ds(e,t){const n={typeString:e};return t&&(n.value=t),n}function tI(e,t){if(!Tje(e))throw new Yt(ut.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const s=e[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Yt(ut.INVALID_ARGUMENT,n);return!0}const bwe=-62135596800,wwe=1e6;class ui{static now(){return ui.fromMillis(Date.now())}static fromDate(t){return ui.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*wwe);return new ui(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Yt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Yt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<bwe)throw new Yt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Yt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wwe}_compareTo(t){return this.seconds===t.seconds?br(this.nanoseconds,t.nanoseconds):br(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ui._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(tI(t,ui._jsonSchema))return new ui(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-bwe;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ui._jsonSchemaVersion="firestore/timestamp/1.0",ui._jsonSchema={type:ds("string",ui._jsonSchemaVersion),seconds:ds("number"),nanoseconds:ds("number")};class Qn{static fromTimestamp(t){return new Qn(t)}static min(){return new Qn(new ui(0,0))}static max(){return new Qn(new ui(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ZA=-1;function Dln(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Qn.fromTimestamp(r===1e9?new ui(n+1,0):new ui(n,r));return new Iy(i,Rn.empty(),t)}function Pln(e){return new Iy(e.readTime,e.key,ZA)}class Iy{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Iy(Qn.min(),Rn.empty(),ZA)}static max(){return new Iy(Qn.max(),Rn.empty(),ZA)}}function Oln(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Rn.comparator(e.documentKey,t.documentKey),n!==0?n:br(e.largestBatchId,t.largestBatchId))}const Nln="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mln{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function AC(e){if(e.code!==ut.FAILED_PRECONDITION||e.message!==Nln)throw e;qt("LocalStore","Unexpectedly lost primary lease")}class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Bn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new lt(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof lt?n:lt.resolve(n)}catch(n){return lt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):lt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):lt.reject(n)}static resolve(t){return new lt(((n,r)=>{n(t)}))}static reject(t){return new lt(((n,r)=>{r(t)}))}static waitFor(t){return new lt(((n,r)=>{let i=0,o=0,s=!1;t.forEach((a=>{++i,a.next((()=>{++o,s&&o===i&&n()}),(l=>r(l)))})),s=!0,o===i&&n()}))}static or(t){let n=lt.resolve(!1);for(const r of t)n=n.next((i=>i?lt.resolve(i):r()));return n}static forEach(t,n){const r=[];return t.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(t,n){return new lt(((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next((c=>{s[u]=c,++a,a===o&&r(s)}),(c=>i(c)))}}))}static doWhile(t,n){return new lt(((r,i)=>{const o=()=>{t()===!0?n().next((()=>{o()}),i):r()};o()}))}}function $ln(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kC(e){return e.name==="IndexedDbTransactionError"}class d8{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}d8.ue=-1;const Lie=-1;function f8(e){return e==null}function x6(e){return e===0&&1/e==-1/0}function Fln(e){return typeof e=="number"&&Number.isInteger(e)&&!x6(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Aje="";function Lln(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=xwe(t)),t=jln(e.get(n),t);return xwe(t)}function jln(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const o=e.charAt(i);switch(o){case"\0":n+="";break;case Aje:n+="";break;default:n+=o}}return n}function xwe(e){return e+Aje+""}function _we(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fv(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function kje(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class wo{constructor(t,n){this.comparator=t,this.root=n||ba.EMPTY}insert(t,n){return new wo(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ba.BLACK,null,null))}remove(t){return new wo(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ba.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new R3(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new R3(this.root,t,this.comparator,!1)}getReverseIterator(){return new R3(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new R3(this.root,t,this.comparator,!0)}}class R3{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ba{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??ba.RED,this.left=i??ba.EMPTY,this.right=o??ba.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new ba(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ba.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return ba.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ba.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ba.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Bn(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Bn(27949);return t+(this.isRed()?0:1)}}ba.EMPTY=null,ba.RED=!0,ba.BLACK=!1;ba.EMPTY=new class{constructor(){this.size=0}get key(){throw Bn(57766)}get value(){throw Bn(16141)}get color(){throw Bn(16727)}get left(){throw Bn(29726)}get right(){throw Bn(36894)}copy(t,n,r,i,o){return this}insert(t,n,r){return new ba(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ps{constructor(t){this.comparator=t,this.data=new wo(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ewe(this.data.getIterator())}getIteratorFrom(t){return new Ewe(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Ps)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ps(this.comparator);return n.data=t,n}}class Ewe{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class cc{constructor(t){this.fields=t,t.sort(Ca.comparator)}static empty(){return new cc([])}unionWith(t){let n=new Ps(Ca.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new cc(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return mE(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class Rje extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Da{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Rje("Invalid base64 string: "+o):o}})(t);return new Da(n)}static fromUint8Array(t){const n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(t);return new Da(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return br(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Da.EMPTY_BYTE_STRING=new Da("");const Bln=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dy(e){if(hi(!!e,39018),typeof e=="string"){let t=0;const n=Bln.exec(e);if(hi(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:qo(e.seconds),nanos:qo(e.nanos)}}function qo(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Py(e){return typeof e=="string"?Da.fromBase64String(e):Da.fromUint8Array(e)}const Ije="server_timestamp",Dje="__type__",Pje="__previous_value__",Oje="__local_write_time__";function jie(e){var t,n;return((n=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{})[Dje])===null||n===void 0?void 0:n.stringValue)===Ije}function h8(e){const t=e.mapValue.fields[Pje];return jie(t)?h8(t):t}function ek(e){const t=Dy(e.mapValue.fields[Oje].timestampValue);return new ui(t.seconds,t.nanos)}class zln{constructor(t,n,r,i,o,s,a,l,u,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const _6="(default)";class tk{constructor(t,n){this.projectId=t,this.database=n||_6}static empty(){return new tk("","")}get isDefaultDatabase(){return this.database===_6}isEqual(t){return t instanceof tk&&t.projectId===this.projectId&&t.database===this.database}}const Nje="__type__",Uln="__max__",I3={mapValue:{}},Mje="__vector__",E6="value";function Oy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jie(e)?4:Hln(e)?9007199254740991:Vln(e)?10:11:Bn(28295,{value:e})}function wp(e,t){if(e===t)return!0;const n=Oy(e);if(n!==Oy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ek(e).isEqual(ek(t));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Dy(i.timestampValue),a=Dy(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(i,o){return Py(i.bytesValue).isEqual(Py(o.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(i,o){return qo(i.geoPointValue.latitude)===qo(o.geoPointValue.latitude)&&qo(i.geoPointValue.longitude)===qo(o.geoPointValue.longitude)})(e,t);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return qo(i.integerValue)===qo(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=qo(i.doubleValue),a=qo(o.doubleValue);return s===a?x6(s)===x6(a):isNaN(s)&&isNaN(a)}return!1})(e,t);case 9:return mE(e.arrayValue.values||[],t.arrayValue.values||[],wp);case 10:case 11:return(function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(_we(s)!==_we(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!wp(s[l],a[l])))return!1;return!0})(e,t);default:return Bn(52216,{left:e})}}function nk(e,t){return(e.values||[]).find((n=>wp(n,t)))!==void 0}function gE(e,t){if(e===t)return 0;const n=Oy(e),r=Oy(t);if(n!==r)return br(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return br(e.booleanValue,t.booleanValue);case 2:return(function(o,s){const a=qo(o.integerValue||o.doubleValue),l=qo(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(e,t);case 3:return Cwe(e.timestampValue,t.timestampValue);case 4:return Cwe(ek(e),ek(t));case 5:return ZG(e.stringValue,t.stringValue);case 6:return(function(o,s){const a=Py(o),l=Py(s);return a.compareTo(l)})(e.bytesValue,t.bytesValue);case 7:return(function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=br(a[u],l[u]);if(c!==0)return c}return br(a.length,l.length)})(e.referenceValue,t.referenceValue);case 8:return(function(o,s){const a=br(qo(o.latitude),qo(s.latitude));return a!==0?a:br(qo(o.longitude),qo(s.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return Swe(e.arrayValue,t.arrayValue);case 10:return(function(o,s){var a,l,u,c;const d=o.fields||{},f=s.fields||{},h=(a=d[E6])===null||a===void 0?void 0:a.arrayValue,m=(l=f[E6])===null||l===void 0?void 0:l.arrayValue,p=br(((u=h?.values)===null||u===void 0?void 0:u.length)||0,((c=m?.values)===null||c===void 0?void 0:c.length)||0);return p!==0?p:Swe(h,m)})(e.mapValue,t.mapValue);case 11:return(function(o,s){if(o===I3.mapValue&&s===I3.mapValue)return 0;if(o===I3.mapValue)return 1;if(s===I3.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=ZG(l[d],c[d]);if(f!==0)return f;const h=gE(a[l[d]],u[c[d]]);if(h!==0)return h}return br(l.length,c.length)})(e.mapValue,t.mapValue);default:throw Bn(23264,{le:n})}}function Cwe(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return br(e,t);const n=Dy(e),r=Dy(t),i=br(n.seconds,r.seconds);return i!==0?i:br(n.nanos,r.nanos)}function Swe(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=gE(n[i],r[i]);if(o)return o}return br(n.length,r.length)}function yE(e){return eY(e)}function eY(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const r=Dy(n);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Py(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return Rn.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=eY(o);return r+"]"})(e.arrayValue):"mapValue"in e?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${eY(n.fields[s])}`;return i+"}"})(e.mapValue):Bn(61005,{value:e})}function CN(e){switch(Oy(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=h8(e);return t?16+CN(t):16;case 5:return 2*e.stringValue.length;case 6:return Py(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+CN(o)),0)})(e.arrayValue);case 10:case 11:return(function(r){let i=0;return fv(r.fields,((o,s)=>{i+=o.length+CN(s)})),i})(e.mapValue);default:throw Bn(13486,{value:e})}}function tY(e){return!!e&&"integerValue"in e}function Bie(e){return!!e&&"arrayValue"in e}function Twe(e){return!!e&&"nullValue"in e}function Awe(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function SN(e){return!!e&&"mapValue"in e}function Vln(e){var t,n;return((n=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{})[Nje])===null||n===void 0?void 0:n.stringValue)===Mje}function P2(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return fv(e.mapValue.fields,((n,r)=>t.mapValue.fields[n]=P2(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=P2(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Hln(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Uln}class _u{constructor(t){this.value=t}static empty(){return new _u({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!SN(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=P2(n)}setAll(t){let n=Ca.emptyPath(),r={},i=[];t.forEach(((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=P2(s):i.push(a.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());SN(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return wp(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];SN(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){fv(n,((i,o)=>t[i]=o));for(const i of r)delete t[i]}clone(){return new _u(P2(this.value))}}function $je(e){const t=[];return fv(e.fields,((n,r)=>{const i=new Ca([n]);if(SN(r)){const o=$je(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)})),new cc(t)}class Ja{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Ja(t,0,Qn.min(),Qn.min(),Qn.min(),_u.empty(),0)}static newFoundDocument(t,n,r,i){return new Ja(t,1,n,Qn.min(),r,i,0)}static newNoDocument(t,n){return new Ja(t,2,n,Qn.min(),Qn.min(),_u.empty(),0)}static newUnknownDocument(t,n){return new Ja(t,3,n,Qn.min(),Qn.min(),_u.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Qn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_u.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_u.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ja&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ja(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class C6{constructor(t,n){this.position=t,this.inclusive=n}}function kwe(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=Rn.comparator(Rn.fromName(s.referenceValue),n.key):r=gE(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Rwe(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!wp(e.position[n],t.position[n]))return!1;return!0}class S6{constructor(t,n="asc"){this.field=t,this.dir=n}}function qln(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Fje{}class ks extends Fje{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Gln(t,n,r):n==="array-contains"?new Xln(t,r):n==="in"?new Qln(t,r):n==="not-in"?new Jln(t,r):n==="array-contains-any"?new Zln(t,r):new ks(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Yln(t,r):new Kln(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gE(n,this.value)):n!==null&&Oy(this.value)===Oy(n)&&this.matchesComparison(gE(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Bn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xp extends Fje{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new xp(t,n)}matches(t){return Lje(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Lje(e){return e.op==="and"}function jje(e){return Wln(e)&&Lje(e)}function Wln(e){for(const t of e.filters)if(t instanceof xp)return!1;return!0}function nY(e){if(e instanceof ks)return e.field.canonicalString()+e.op.toString()+yE(e.value);if(jje(e))return e.filters.map((t=>nY(t))).join(",");{const t=e.filters.map((n=>nY(n))).join(",");return`${e.op}(${t})`}}function Bje(e,t){return e instanceof ks?(function(r,i){return i instanceof ks&&r.op===i.op&&r.field.isEqual(i.field)&&wp(r.value,i.value)})(e,t):e instanceof xp?(function(r,i){return i instanceof xp&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,s,a)=>o&&Bje(s,i.filters[a])),!0):!1})(e,t):void Bn(19439)}function zje(e){return e instanceof ks?(function(n){return`${n.field.canonicalString()} ${n.op} ${yE(n.value)}`})(e):e instanceof xp?(function(n){return n.op.toString()+" {"+n.getFilters().map(zje).join(" ,")+"}"})(e):"Filter"}class Gln extends ks{constructor(t,n,r){super(t,n,r),this.key=Rn.fromName(r.referenceValue)}matches(t){const n=Rn.comparator(t.key,this.key);return this.matchesComparison(n)}}class Yln extends ks{constructor(t,n){super(t,"in",n),this.keys=Uje("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class Kln extends ks{constructor(t,n){super(t,"not-in",n),this.keys=Uje("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Uje(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Rn.fromName(r.referenceValue)))}class Xln extends ks{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Bie(n)&&nk(n.arrayValue,this.value)}}class Qln extends ks{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&nk(this.value.arrayValue,n)}}class Jln extends ks{constructor(t,n){super(t,"not-in",n)}matches(t){if(nk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nk(this.value.arrayValue,n)}}class Zln extends ks{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Bie(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>nk(this.value.arrayValue,r)))}}class eun{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}}function Iwe(e,t=null,n=[],r=[],i=null,o=null,s=null){return new eun(e,t,n,r,i,o,s)}function zie(e){const t=Zn(e);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>nY(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),f8(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>yE(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>yE(r))).join(",")),t.Pe=n}return t.Pe}function Uie(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!qln(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Bje(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Rwe(e.startAt,t.startAt)&&Rwe(e.endAt,t.endAt)}function rY(e){return Rn.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class p8{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function tun(e,t,n,r,i,o,s,a){return new p8(e,t,n,r,i,o,s,a)}function m8(e){return new p8(e)}function Dwe(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function nun(e){return e.collectionGroup!==null}function O2(e){const t=Zn(e);if(t.Te===null){t.Te=[];const n=new Set;for(const o of t.explicitOrderBy)t.Te.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ps(Ca.comparator);return s.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(a=a.add(u.field))}))})),a})(t).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||t.Te.push(new S6(o,r))})),n.has(Ca.keyField().canonicalString())||t.Te.push(new S6(Ca.keyField(),r))}return t.Te}function ep(e){const t=Zn(e);return t.Ie||(t.Ie=run(t,O2(e))),t.Ie}function run(e,t){if(e.limitType==="F")return Iwe(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new S6(i.field,o)}));const n=e.endAt?new C6(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new C6(e.startAt.position,e.startAt.inclusive):null;return Iwe(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function iY(e,t,n){return new p8(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function g8(e,t){return Uie(ep(e),ep(t))&&e.limitType===t.limitType}function Vje(e){return`${zie(ep(e))}|lt:${e.limitType}`}function Sx(e){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>zje(i))).join(", ")}]`),f8(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>yE(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>yE(i))).join(",")),`Target(${r})`})(ep(e))}; limitType=${e.limitType})`}function y8(e,t){return t.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Rn.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(e,t)&&(function(r,i){for(const o of O2(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(e,t)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(e,t)&&(function(r,i){return!(r.startAt&&!(function(s,a,l){const u=kwe(s,a,l);return s.inclusive?u<=0:u<0})(r.startAt,O2(r),i)||r.endAt&&!(function(s,a,l){const u=kwe(s,a,l);return s.inclusive?u>=0:u>0})(r.endAt,O2(r),i))})(e,t)}function iun(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Hje(e){return(t,n)=>{let r=!1;for(const i of O2(e)){const o=oun(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function oun(e,t,n){const r=e.field.isKeyField()?Rn.comparator(t.key,n.key):(function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?gE(l,u):Bn(42886)})(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Bn(19790,{direction:e.dir})}}class fw{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){fv(this.inner,((n,r)=>{for(const[i,o]of r)t(i,o)}))}isEmpty(){return kje(this.inner)}size(){return this.innerSize}}const sun=new wo(Rn.comparator);function cg(){return sun}const qje=new wo(Rn.comparator);function HT(...e){let t=qje;for(const n of e)t=t.insert(n.key,n);return t}function Wje(e){let t=qje;return e.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Eb(){return N2()}function Gje(){return N2()}function N2(){return new fw((e=>e.toString()),((e,t)=>e.isEqual(t)))}const aun=new wo(Rn.comparator),lun=new Ps(Rn.comparator);function Dr(...e){let t=lun;for(const n of e)t=t.add(n);return t}const uun=new Ps(br);function cun(){return uun}function Vie(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:x6(t)?"-0":t}}function Yje(e){return{integerValue:""+e}}function dun(e,t){return Fln(t)?Yje(t):Vie(e,t)}class v8{constructor(){this._=void 0}}function fun(e,t,n){return e instanceof rk?(function(i,o){const s={fields:{[Dje]:{stringValue:Ije},[Oje]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jie(o)&&(o=h8(o)),o&&(s.fields[Pje]=o),{mapValue:s}})(n,t):e instanceof ik?Xje(e,t):e instanceof ok?Qje(e,t):(function(i,o){const s=Kje(i,o),a=Pwe(s)+Pwe(i.Ee);return tY(s)&&tY(i.Ee)?Yje(a):Vie(i.serializer,a)})(e,t)}function hun(e,t,n){return e instanceof ik?Xje(e,t):e instanceof ok?Qje(e,t):n}function Kje(e,t){return e instanceof T6?(function(r){return tY(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(t)?t:{integerValue:0}:null}class rk extends v8{}class ik extends v8{constructor(t){super(),this.elements=t}}function Xje(e,t){const n=Jje(t);for(const r of e.elements)n.some((i=>wp(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ok extends v8{constructor(t){super(),this.elements=t}}function Qje(e,t){let n=Jje(t);for(const r of e.elements)n=n.filter((i=>!wp(i,r)));return{arrayValue:{values:n}}}class T6 extends v8{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function Pwe(e){return qo(e.integerValue||e.doubleValue)}function Jje(e){return Bie(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class pun{constructor(t,n){this.field=t,this.transform=n}}function mun(e,t){return e.field.isEqual(t.field)&&(function(r,i){return r instanceof ik&&i instanceof ik||r instanceof ok&&i instanceof ok?mE(r.elements,i.elements,wp):r instanceof T6&&i instanceof T6?wp(r.Ee,i.Ee):r instanceof rk&&i instanceof rk})(e.transform,t.transform)}class gun{constructor(t,n){this.version=t,this.transformResults=n}}class gc{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new gc}static exists(t){return new gc(void 0,t)}static updateTime(t){return new gc(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function TN(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class b8{}function Zje(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Hie(e.key,gc.none()):new nI(e.key,e.data,gc.none());{const n=e.data,r=_u.empty();let i=new Ps(Ca.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new hv(e.key,r,new cc(i.toArray()),gc.none())}}function yun(e,t,n){e instanceof nI?(function(i,o,s){const a=i.value.clone(),l=Nwe(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(e,t,n):e instanceof hv?(function(i,o,s){if(!TN(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Nwe(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(eBe(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(e,t,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,t,n)}function M2(e,t,n,r){return e instanceof nI?(function(o,s,a,l){if(!TN(o.precondition,s))return a;const u=o.value.clone(),c=Mwe(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(e,t,n,r):e instanceof hv?(function(o,s,a,l){if(!TN(o.precondition,s))return a;const u=Mwe(o.fieldTransforms,l,s),c=s.data;return c.setAll(eBe(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((d=>d.field)))})(e,t,n,r):(function(o,s,a){return TN(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(e,t,n)}function vun(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=Kje(r.transform,i||null);o!=null&&(n===null&&(n=_u.empty()),n.set(r.field,o))}return n||null}function Owe(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&mE(r,i,((o,s)=>mun(o,s)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nI extends b8{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hv extends b8{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function eBe(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Nwe(e,t,n){const r=new Map;hi(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,hun(s,a,n[i]))}return r}function Mwe(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,fun(o,s,t))}return r}class Hie extends b8{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bun extends b8{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wun{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&yun(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=M2(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=M2(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Gje();return this.mutations.forEach((i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=Zje(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Qn.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Dr())}isEqual(t){return this.batchId===t.batchId&&mE(this.mutations,t.mutations,((n,r)=>Owe(n,r)))&&mE(this.baseMutations,t.baseMutations,((n,r)=>Owe(n,r)))}}class qie{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){hi(t.mutations.length===r.length,58842,{Ve:t.mutations.length,me:r.length});let i=(function(){return aun})();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new qie(t,n,r,i)}}class xun{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _un{constructor(t,n){this.count=t,this.unchangedNames=n}}var ss,zr;function Eun(e){switch(e){case ut.OK:return Bn(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return Bn(15467,{code:e})}}function tBe(e){if(e===void 0)return ug("GRPC error has no .code"),ut.UNKNOWN;switch(e){case ss.OK:return ut.OK;case ss.CANCELLED:return ut.CANCELLED;case ss.UNKNOWN:return ut.UNKNOWN;case ss.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case ss.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case ss.INTERNAL:return ut.INTERNAL;case ss.UNAVAILABLE:return ut.UNAVAILABLE;case ss.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case ss.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case ss.NOT_FOUND:return ut.NOT_FOUND;case ss.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case ss.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case ss.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case ss.ABORTED:return ut.ABORTED;case ss.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case ss.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case ss.DATA_LOSS:return ut.DATA_LOSS;default:return Bn(39323,{code:e})}}(zr=ss||(ss={}))[zr.OK=0]="OK",zr[zr.CANCELLED=1]="CANCELLED",zr[zr.UNKNOWN=2]="UNKNOWN",zr[zr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zr[zr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zr[zr.NOT_FOUND=5]="NOT_FOUND",zr[zr.ALREADY_EXISTS=6]="ALREADY_EXISTS",zr[zr.PERMISSION_DENIED=7]="PERMISSION_DENIED",zr[zr.UNAUTHENTICATED=16]="UNAUTHENTICATED",zr[zr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zr[zr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zr[zr.ABORTED=10]="ABORTED",zr[zr.OUT_OF_RANGE=11]="OUT_OF_RANGE",zr[zr.UNIMPLEMENTED=12]="UNIMPLEMENTED",zr[zr.INTERNAL=13]="INTERNAL",zr[zr.UNAVAILABLE=14]="UNAVAILABLE",zr[zr.DATA_LOSS=15]="DATA_LOSS";const Cun=new ry([4294967295,4294967295],0);function $we(e){const t=Cje().encode(e),n=new yje;return n.update(t),new Uint8Array(n.digest())}function Fwe(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ry([n,r],0),new ry([i,o],0)]}class Wie{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qT(`Invalid padding: ${n}`);if(r<0)throw new qT(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new qT(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new qT(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=ry.fromNumber(this.fe)}pe(t,n,r){let i=t.add(n.multiply(ry.fromNumber(r)));return i.compare(Cun)===1&&(i=new ry([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=$we(t),[r,i]=Fwe(n);for(let o=0;o<this.hashCount;o++){const s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new Wie(o,i,n);return r.forEach((a=>s.insert(a))),s}insert(t){if(this.fe===0)return;const n=$we(t),[r,i]=Fwe(n);for(let o=0;o<this.hashCount;o++){const s=this.pe(r,i,o);this.we(s)}}we(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class qT extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class w8{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,rI.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new w8(Qn.min(),i,new wo(br),cg(),Dr())}}class rI{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new rI(r,n,Dr(),Dr(),Dr())}}class AN{constructor(t,n,r,i){this.Se=t,this.removedTargetIds=n,this.key=r,this.be=i}}class nBe{constructor(t,n){this.targetId=t,this.De=n}}class rBe{constructor(t,n,r=Da.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Lwe{constructor(){this.ve=0,this.Ce=jwe(),this.Fe=Da.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Dr(),n=Dr(),r=Dr();return this.Ce.forEach(((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Bn(38017,{changeType:o})}})),new rI(this.Fe,this.Me,t,n,r)}ke(){this.xe=!1,this.Ce=jwe()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,hi(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Sun{constructor(t){this.We=t,this.Ge=new Map,this.ze=cg(),this.je=D3(),this.Je=D3(),this.He=new wo(br)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,(n=>{const r=this.tt(n);switch(t.state){case 0:this.nt(n)&&r.Be(t.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(t.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(t.resumeToken));break;default:Bn(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach(((r,i)=>{this.nt(i)&&n(i)}))}it(t){const n=t.targetId,r=t.De.count,i=this.st(n);if(i){const o=i.target;if(rY(o))if(r===0){const s=new Rn(o.path);this.Xe(n,s,Ja.newNoDocument(s,Qn.min()))}else hi(r===1,20013,{expectedCount:r});else{const s=this.ot(n);if(s!==r){const a=this._t(t),l=a?this.ut(a,t,s):1;if(l!==0){this.rt(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Py(r).toUint8Array()}catch(l){if(l instanceof Rje)return T1("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Wie(s,i,o)}catch(l){return T1(l instanceof qT?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(t,n,r){return n.De.count===r-this.ht(t,n.targetId)?0:2}ht(t,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.Xe(n,o,null),i++)})),i}Pt(t){const n=new Map;this.Ge.forEach(((o,s)=>{const a=this.st(s);if(a){if(o.current&&rY(a.target)){const l=new Rn(a.target.path);this.Tt(l).has(s)||this.It(s,l)||this.Xe(s,l,Ja.newNoDocument(l,t))}o.Ne&&(n.set(s,o.Le()),o.ke())}}));let r=Dr();this.Je.forEach(((o,s)=>{let a=!0;s.forEachWhile((l=>{const u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(o))})),this.ze.forEach(((o,s)=>s.setReadTime(t)));const i=new w8(t,n,this.He,this.ze,r);return this.ze=cg(),this.je=D3(),this.Je=D3(),this.He=new wo(br),i}Ze(t,n){if(!this.nt(t))return;const r=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,r){if(!this.nt(t))return;const i=this.tt(t);this.It(t,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new Lwe,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new Ps(br),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new Ps(br),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||qt("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new Lwe),this.We.getRemoteKeysForTarget(t).forEach((n=>{this.Xe(t,n,null)}))}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function D3(){return new wo(Rn.comparator)}function jwe(){return new wo(Rn.comparator)}const Tun={asc:"ASCENDING",desc:"DESCENDING"},Aun={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kun={and:"AND",or:"OR"};class Run{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function oY(e,t){return e.useProto3Json||f8(t)?t:{value:t}}function A6(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iBe(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Iun(e,t){return A6(e,t.toTimestamp())}function tp(e){return hi(!!e,49232),Qn.fromTimestamp((function(n){const r=Dy(n);return new ui(r.seconds,r.nanos)})(e))}function Gie(e,t){return sY(e,t).canonicalString()}function sY(e,t){const n=(function(i){return new Ji(["projects",i.projectId,"databases",i.database])})(e).child("documents");return t===void 0?n:n.child(t)}function oBe(e){const t=Ji.fromString(e);return hi(cBe(t),10190,{key:t.toString()}),t}function aY(e,t){return Gie(e.databaseId,t.path)}function cV(e,t){const n=oBe(t);if(n.get(1)!==e.databaseId.projectId)throw new Yt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Yt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Rn(aBe(n))}function sBe(e,t){return Gie(e.databaseId,t)}function Dun(e){const t=oBe(e);return t.length===4?Ji.emptyPath():aBe(t)}function lY(e){return new Ji(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function aBe(e){return hi(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Bwe(e,t,n){return{name:aY(e,t),fields:n.value.mapValue.fields}}function Pun(e,t){let n;if("targetChange"in t){t.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Bn(39313,{state:u})})(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=(function(u,c){return u.useProto3Json?(hi(c===void 0||typeof c=="string",58123),Da.fromBase64String(c||"")):(hi(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Da.fromUint8Array(c||new Uint8Array))})(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&(function(u){const c=u.code===void 0?ut.UNKNOWN:tBe(u.code);return new Yt(c,u.message||"")})(s);n=new rBe(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=cV(e,r.document.name),o=tp(r.document.updateTime),s=r.document.createTime?tp(r.document.createTime):Qn.min(),a=new _u({mapValue:{fields:r.document.fields}}),l=Ja.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new AN(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=cV(e,r.document),o=r.readTime?tp(r.readTime):Qn.min(),s=Ja.newNoDocument(i,o),a=r.removedTargetIds||[];n=new AN([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=cV(e,r.document),o=r.removedTargetIds||[];n=new AN([],o,i,null)}else{if(!("filter"in t))return Bn(11601,{At:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new _un(i,o),a=r.targetId;n=new nBe(a,s)}}return n}function Oun(e,t){let n;if(t instanceof nI)n={update:Bwe(e,t.key,t.value)};else if(t instanceof Hie)n={delete:aY(e,t.key)};else if(t instanceof hv)n={update:Bwe(e,t.key,t.data),updateMask:Uun(t.fieldMask)};else{if(!(t instanceof bun))return Bn(16599,{Rt:t.type});n={verify:aY(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(o,s){const a=s.transform;if(a instanceof rk)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ik)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ok)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof T6)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Bn(20930,{transform:s.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Iun(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Bn(27497)})(e,t.precondition)),n}function Nun(e,t){return e&&e.length>0?(hi(t!==void 0,14353),e.map((n=>(function(i,o){let s=i.updateTime?tp(i.updateTime):tp(o);return s.isEqual(Qn.min())&&(s=tp(o)),new gun(s,i.transformResults||[])})(n,t)))):[]}function Mun(e,t){return{documents:[sBe(e,t.path)]}}function $un(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sBe(e,i);const o=(function(u){if(u.length!==0)return uBe(xp.create(u,"and"))})(t.filters);o&&(n.structuredQuery.where=o);const s=(function(u){if(u.length!==0)return u.map((c=>(function(f){return{field:Tx(f.field),direction:jun(f.dir)}})(c)))})(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=oY(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(t.endAt)),{Vt:n,parent:i}}function Fun(e){let t=Dun(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){hi(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=(function(d){const f=lBe(d);return f instanceof xp&&jje(f)?f.getFilters():[f]})(n.where));let s=[];n.orderBy&&(s=(function(d){return d.map((f=>(function(m){return new S6(Ax(m.field),(function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(m.direction))})(f)))})(n.orderBy));let a=null;n.limit&&(a=(function(d){let f;return f=typeof d=="object"?d.value:d,f8(f)?null:f})(n.limit));let l=null;n.startAt&&(l=(function(d){const f=!!d.before,h=d.values||[];return new C6(h,f)})(n.startAt));let u=null;return n.endAt&&(u=(function(d){const f=!d.before,h=d.values||[];return new C6(h,f)})(n.endAt)),tun(t,i,s,o,a,"F",l,u)}function Lun(e,t){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bn(28987,{purpose:i})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function lBe(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ax(n.unaryFilter.field);return ks.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ax(n.unaryFilter.field);return ks.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ax(n.unaryFilter.field);return ks.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ax(n.unaryFilter.field);return ks.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Bn(61313);default:return Bn(60726)}})(e):e.fieldFilter!==void 0?(function(n){return ks.create(Ax(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Bn(58110);default:return Bn(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return xp.create(n.compositeFilter.filters.map((r=>lBe(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Bn(1026)}})(n.compositeFilter.op))})(e):Bn(30097,{filter:e})}function jun(e){return Tun[e]}function Bun(e){return Aun[e]}function zun(e){return kun[e]}function Tx(e){return{fieldPath:e.canonicalString()}}function Ax(e){return Ca.fromServerFormat(e.fieldPath)}function uBe(e){return e instanceof ks?(function(n){if(n.op==="=="){if(Awe(n.value))return{unaryFilter:{field:Tx(n.field),op:"IS_NAN"}};if(Twe(n.value))return{unaryFilter:{field:Tx(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Awe(n.value))return{unaryFilter:{field:Tx(n.field),op:"IS_NOT_NAN"}};if(Twe(n.value))return{unaryFilter:{field:Tx(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tx(n.field),op:Bun(n.op),value:n.value}}})(e):e instanceof xp?(function(n){const r=n.getFilters().map((i=>uBe(i)));return r.length===1?r[0]:{compositeFilter:{op:zun(n.op),filters:r}}})(e):Bn(54877,{filter:e})}function Uun(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function cBe(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class z0{constructor(t,n,r,i,o=Qn.min(),s=Qn.min(),a=Da.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new z0(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new z0(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new z0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new z0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Vun{constructor(t){this.gt=t}}function Hun(e){const t=Fun({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?iY(t,t.limit,"L"):t}class qun{constructor(){this.Dn=new Wun}addToCollectionParentIndex(t,n){return this.Dn.add(n),lt.resolve()}getCollectionParents(t,n){return lt.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return lt.resolve()}deleteFieldIndex(t,n){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,n){return lt.resolve()}getDocumentsMatchingTarget(t,n){return lt.resolve(null)}getIndexType(t,n){return lt.resolve(0)}getFieldIndexes(t,n){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,n){return lt.resolve(Iy.min())}getMinOffsetFromCollectionGroup(t,n){return lt.resolve(Iy.min())}updateCollectionGroup(t,n,r){return lt.resolve()}updateIndexEntries(t,n){return lt.resolve()}}class Wun{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ps(Ji.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Ps(Ji.comparator)).toArray()}}const zwe={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dBe=41943040;class gu{static withCacheSize(t){return new gu(t,gu.DEFAULT_COLLECTION_PERCENTILE,gu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}gu.DEFAULT_COLLECTION_PERCENTILE=10,gu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gu.DEFAULT=new gu(dBe,gu.DEFAULT_COLLECTION_PERCENTILE,gu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gu.DISABLED=new gu(-1,0,0);class vE{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new vE(0)}static ur(){return new vE(-1)}}const Uwe="LruGarbageCollector",fBe=1048576;function Vwe([e,t],[n,r]){const i=br(e,n);return i===0?br(t,r):i}class Gun{constructor(t){this.Tr=t,this.buffer=new Ps(Vwe),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Vwe(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Yun{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){qt(Uwe,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){kC(n)?qt(Uwe,"Ignoring IndexedDB error during garbage collection: ",n):await AC(n)}await this.Rr(3e5)}))}}class Kun{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return lt.resolve(d8.ue);const r=new Gun(n);return this.Vr.forEachTarget(t,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.gr(t,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(qt("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(zwe)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zwe):this.pr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(t,i)))).next((d=>(r=d,a=Date.now(),this.removeTargets(t,r,n)))).next((d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(t,r)))).next((d=>(u=Date.now(),Cx()<=Ir.DEBUG&&qt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d}))))}}function Xun(e,t){return new Kun(e,t)}class Qun{constructor(){this.changes=new fw((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ja.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?lt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Jun{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class Zun{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(t,n)))).next((i=>(r!==null&&M2(r.mutation,i,cc.empty(),ui.now()),i)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Dr()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Dr()){const i=Eb();return this.populateOverlays(t,i,n).next((()=>this.computeViews(t,n,i,r).next((o=>{let s=HT();return o.forEach(((a,l)=>{s=s.insert(a,l.overlayedDocument)})),s}))))}getOverlayedDocuments(t,n){const r=Eb();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Dr())))}populateOverlays(t,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(t,i).next((o=>{o.forEach(((s,a)=>{n.set(s,a)}))}))}computeViews(t,n,r,i){let o=cg();const s=N2(),a=(function(){return N2()})();return n.forEach(((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof hv)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),M2(c.mutation,u,c.mutation.getFieldMask(),ui.now())):s.set(u.key,cc.empty())})),this.recalculateAndSaveOverlays(t,o).next((l=>(l.forEach(((u,c)=>s.set(u,c))),n.forEach(((u,c)=>{var d;return a.set(u,new Jun(c,(d=s.get(u))!==null&&d!==void 0?d:null))})),a)))}recalculateAndSaveOverlays(t,n){const r=N2();let i=new wo(((s,a)=>s-a)),o=Dr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((s=>{for(const a of s)a.keys().forEach((l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||cc.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Dr()).add(l);i=i.insert(a.batchId,d)}))})).next((()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=Gje();c.forEach((f=>{if(!o.has(f)){const h=Zje(n.get(f),r.get(f));h!==null&&d.set(f,h),o=o.add(f)}})),s.push(this.documentOverlayCache.saveOverlays(t,u,d))}return lt.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,i){return(function(s){return Rn.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):nun(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next((o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):lt.resolve(Eb());let a=ZA,l=o;return s.next((u=>lt.forEach(u,((c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?lt.resolve():this.remoteDocumentCache.getEntry(t,c).next((f=>{l=l.insert(c,f)}))))).next((()=>this.populateOverlays(t,u,o))).next((()=>this.computeViews(t,l,u,Dr()))).next((c=>({batchId:a,changes:Wje(c)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Rn(n)).next((r=>{let i=HT();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=HT();return this.indexManager.getCollectionParents(t,o).next((a=>lt.forEach(a,(l=>{const u=(function(d,f){return new p8(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next((c=>{c.forEach(((d,f)=>{s=s.insert(d,f)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i)))).next((s=>{o.forEach(((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Ja.newInvalidDocument(c)))}));let a=HT();return s.forEach(((l,u)=>{const c=o.get(l);c!==void 0&&M2(c.mutation,u,cc.empty(),ui.now()),y8(n,u)&&(a=a.insert(l,u))})),a}))}}class ecn{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return lt.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:tp(i.createTime)}})(n)),lt.resolve()}getNamedQuery(t,n){return lt.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:Hun(i.bundledQuery),readTime:tp(i.readTime)}})(n)),lt.resolve()}}class tcn{constructor(){this.overlays=new wo(Rn.comparator),this.kr=new Map}getOverlay(t,n){return lt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Eb();return lt.forEach(n,(i=>this.getOverlay(t,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((i,o)=>{this.wt(t,n,o)})),lt.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.kr.delete(r)),lt.resolve()}getOverlaysForCollection(t,n,r){const i=Eb(),o=n.length+1,s=new Rn(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return lt.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new wo(((u,c)=>u-c));const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Eb(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Eb(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,c)=>a.set(u,c))),!(a.size()>=i)););return lt.resolve(a)}wt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new xun(n,r));let o=this.kr.get(n);o===void 0&&(o=Dr(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}}class ncn{constructor(){this.sessionToken=Da.EMPTY_BYTE_STRING}getSessionToken(t){return lt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,lt.resolve()}}class Yie{constructor(){this.qr=new Ps(qs.Qr),this.$r=new Ps(qs.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const r=new qs(t,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new qs(t,n))}Gr(t,n){t.forEach((r=>this.removeReference(r,n)))}zr(t){const n=new Rn(new Ji([])),r=new qs(n,t),i=new qs(n,t+1),o=[];return this.$r.forEachInRange([r,i],(s=>{this.Wr(s),o.push(s.key)})),o}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new Rn(new Ji([])),r=new qs(n,t),i=new qs(n,t+1);let o=Dr();return this.$r.forEachInRange([r,i],(s=>{o=o.add(s.key)})),o}containsKey(t){const n=new qs(t,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class qs{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return Rn.comparator(t.key,n.key)||br(t.Hr,n.Hr)}static Ur(t,n){return br(t.Hr,n.Hr)||Rn.comparator(t.key,n.key)}}class rcn{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ps(qs.Qr)}checkEmpty(t){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new wun(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Yr=this.Yr.add(new qs(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return lt.resolve(s)}lookupMutationBatch(t,n){return lt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return lt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?Lie:this.er-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new qs(n,0),i=new qs(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],(s=>{const a=this.Zr(s.Hr);o.push(a)})),lt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ps(br);return n.forEach((i=>{const o=new qs(i,0),s=new qs(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],(a=>{r=r.add(a.Hr)}))})),lt.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;Rn.isDocumentKey(o)||(o=o.child(""));const s=new qs(new Rn(o),0);let a=new Ps(br);return this.Yr.forEachWhile((l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Hr)),!0)}),s),lt.resolve(this.ei(a))}ei(t){const n=[];return t.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(t,n){hi(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return lt.forEach(n.mutations,(i=>{const o=new qs(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.Yr=r}))}rr(t){}containsKey(t,n){const r=new qs(n,0),i=this.Yr.firstAfterOrEqual(r);return lt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,lt.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class icn{constructor(t){this.ni=t,this.docs=(function(){return new wo(Rn.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return lt.resolve(r?r.document.mutableCopy():Ja.newInvalidDocument(n))}getEntries(t,n){let r=cg();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ja.newInvalidDocument(i))})),lt.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=cg();const s=n.path,a=new Rn(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Oln(Pln(c),r)<=0||(i.has(c.key)||y8(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return lt.resolve(o)}getAllFromCollectionGroup(t,n,r,i){Bn(9500)}ri(t,n){return lt.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new ocn(this)}getSize(t){return lt.resolve(this.size)}}class ocn extends Qun{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(t,i)):this.Or.removeEntry(r)})),lt.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}class scn{constructor(t){this.persistence=t,this.ii=new fw((n=>zie(n)),Uie),this.lastRemoteSnapshotVersion=Qn.min(),this.highestTargetId=0,this.si=0,this.oi=new Yie,this.targetCount=0,this._i=vE.ar()}forEachTarget(t,n){return this.ii.forEach(((r,i)=>n(i))),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),lt.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new vE(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,lt.resolve()}updateTargetData(t,n){return this.hr(n),lt.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.ii.forEach(((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),lt.waitFor(o).next((()=>i))}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,n){const r=this.ii.get(n)||null;return lt.resolve(r)}addMatchingKeys(t,n,r){return this.oi.Kr(n,r),lt.resolve()}removeMatchingKeys(t,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((s=>{o.push(i.markPotentiallyOrphaned(t,s))})),lt.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),lt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.oi.Jr(n);return lt.resolve(r)}containsKey(t,n){return lt.resolve(this.oi.containsKey(n))}}class hBe{constructor(t,n){this.ai={},this.overlays={},this.ui=new d8(0),this.ci=!1,this.ci=!0,this.li=new ncn,this.referenceDelegate=t(this),this.hi=new scn(this),this.indexManager=new qun,this.remoteDocumentCache=(function(i){return new icn(i)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new Vun(n),this.Ti=new ecn(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new tcn,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ai[t.toKey()];return r||(r=new rcn(n,this.referenceDelegate),this.ai[t.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,r){qt("MemoryPersistence","Starting transaction:",t);const i=new acn(this.ui.next());return this.referenceDelegate.Ii(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(t,n){return lt.or(Object.values(this.ai).map((r=>()=>r.containsKey(t,n))))}}class acn extends Mln{constructor(t){super(),this.currentSequenceNumber=t}}class Kie{constructor(t){this.persistence=t,this.Ai=new Yie,this.Ri=null}static Vi(t){return new Kie(t)}get mi(){if(this.Ri)return this.Ri;throw Bn(60996)}addReference(t,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),lt.resolve()}removeReference(t,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),lt.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),lt.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach((i=>this.mi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((i=>{i.forEach((o=>this.mi.add(o.toString())))})).next((()=>r.removeTargetData(t,n)))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.mi,(r=>{const i=Rn.fromPath(r);return this.fi(t,i).next((o=>{o||n.removeEntry(i,Qn.min())}))})).next((()=>(this.Ri=null,n.apply(t))))}updateLimboDocument(t,n){return this.fi(t,n).next((r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(t){return 0}fi(t,n){return lt.or([()=>lt.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class k6{constructor(t,n){this.persistence=t,this.gi=new fw((r=>Lln(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Xun(this,n)}static Vi(t,n){return new k6(t,n)}Ii(){}di(t){return lt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((i=>r+i))))}yr(t){let n=0;return this.gr(t,(r=>{n++})).next((()=>n))}gr(t,n){return lt.forEach(this.gi,((r,i)=>this.Sr(t,r,i).next((o=>o?lt.resolve():n(i)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(t,(s=>this.Sr(t,s,n).next((a=>{a||(r++,o.removeEntry(s,Qn.min()))})))).next((()=>o.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),lt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.gi.set(r,t.currentSequenceNumber),lt.resolve()}removeReference(t,n,r){return this.gi.set(r,t.currentSequenceNumber),lt.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),lt.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=CN(t.data.value)),n}Sr(t,n,r){return lt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.gi.get(n);return lt.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Xie{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Is=r,this.ds=i}static Es(t,n){let r=Dr(),i=Dr();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Xie(t,n.fromCache,r,i)}}class lcn{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ucn{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return Oon()?8:$ln(hl())>0?6:4})()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.ps(t,n).next((s=>{o.result=s})).next((()=>{if(!o.result)return this.ys(t,n,i,r).next((s=>{o.result=s}))})).next((()=>{if(o.result)return;const s=new lcn;return this.ws(t,n,s).next((a=>{if(o.result=a,this.Rs)return this.Ss(t,n,s,a.size)}))})).next((()=>o.result))}Ss(t,n,r,i){return r.documentReadCount<this.Vs?(Cx()<=Ir.DEBUG&&qt("QueryEngine","SDK will not create cache indexes for query:",Sx(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),lt.resolve()):(Cx()<=Ir.DEBUG&&qt("QueryEngine","Query:",Sx(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Cx()<=Ir.DEBUG&&qt("QueryEngine","The SDK decides to create cache indexes for query:",Sx(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ep(n))):lt.resolve())}ps(t,n){if(Dwe(n))return lt.resolve(null);let r=ep(n);return this.indexManager.getIndexType(t,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=iY(n,null,"F"),r=ep(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((o=>{const s=Dr(...o);return this.gs.getDocuments(t,s).next((a=>this.indexManager.getMinOffset(t,r).next((l=>{const u=this.bs(n,a);return this.Ds(n,u,s,l.readTime)?this.ps(t,iY(n,null,"F")):this.vs(t,u,n,l)}))))})))))}ys(t,n,r,i){return Dwe(n)||i.isEqual(Qn.min())?lt.resolve(null):this.gs.getDocuments(t,r).next((o=>{const s=this.bs(n,o);return this.Ds(n,s,r,i)?lt.resolve(null):(Cx()<=Ir.DEBUG&&qt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sx(n)),this.vs(t,s,n,Dln(i,ZA)).next((a=>a)))}))}bs(t,n){let r=new Ps(Hje(t));return n.forEach(((i,o)=>{y8(t,o)&&(r=r.add(o))})),r}Ds(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(t,n,r){return Cx()<=Ir.DEBUG&&qt("QueryEngine","Using full collection scan to execute query:",Sx(n)),this.gs.getDocumentsMatchingQuery(t,n,Iy.min(),r)}vs(t,n,r,i){return this.gs.getDocumentsMatchingQuery(t,r,i).next((o=>(n.forEach((s=>{o=o.insert(s.key,s)})),o)))}}const Qie="LocalStore",ccn=3e8;class dcn{constructor(t,n,r,i){this.persistence=t,this.Cs=n,this.serializer=i,this.Fs=new wo(br),this.Ms=new fw((o=>zie(o)),Uie),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(r)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Zun(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Fs)))}}function fcn(e,t,n,r){return new dcn(e,t,n,r)}async function pBe(e,t){const n=Zn(e);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Ns(t),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const s=[],a=[];let l=Dr();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next((u=>({Bs:u,removedBatchIds:s,addedBatchIds:a})))}))}))}function hcn(e,t){const n=Zn(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=t.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(a,l,u,c){const d=u.batch,f=d.keys();let h=lt.resolve();return f.forEach((m=>{h=h.next((()=>c.getEntry(l,m))).next((p=>{const g=u.docVersions.get(m);hi(g!==null,48541),p.version.compareTo(g)<0&&(d.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))}))})),h.next((()=>a.mutationQueue.removeMutationBatch(l,d)))})(n,r,t,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let l=Dr();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l})(t)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function mBe(e){const t=Zn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.hi.getLastRemoteSnapshotVersion(n)))}function pcn(e,t){const n=Zn(e),r=t.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];t.targetChanges.forEach(((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.hi.removeMatchingKeys(o,c.removedDocuments,d).next((()=>n.hi.addMatchingKeys(o,c.addedDocuments,d))));let h=f.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(d)!==null?h=h.withResumeToken(Da.EMPTY_BYTE_STRING,Qn.min()).withLastLimboFreeSnapshotVersion(Qn.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(d,h),(function(p,g,y){return p.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=ccn?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0})(f,h,c)&&a.push(n.hi.updateTargetData(o,h))}));let l=cg(),u=Dr();if(t.documentUpdates.forEach((c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))})),a.push(mcn(o,s,t.documentUpdates).next((c=>{l=c.Ls,u=c.ks}))),!r.isEqual(Qn.min())){const c=n.hi.getLastRemoteSnapshotVersion(o).next((d=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r)));a.push(c)}return lt.waitFor(a).next((()=>s.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,l,u))).next((()=>l))})).then((o=>(n.Fs=i,o)))}function mcn(e,t,n){let r=Dr(),i=Dr();return n.forEach((o=>r=r.add(o))),t.getEntries(e,r).next((o=>{let s=cg();return n.forEach(((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Qn.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):qt(Qie,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)})),{Ls:s,ks:i}}))}function gcn(e,t){const n=Zn(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Lie),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function ycn(e,t){const n=Zn(e);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.hi.getTargetData(r,t).next((o=>o?(i=o,lt.resolve(i)):n.hi.allocateTargetId(r).next((s=>(i=new z0(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(t,r.targetId)),r}))}async function uY(e,t,n){const r=Zn(e),i=r.Fs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!kC(s))throw s;qt(Qie,`Failed to update sequence numbers for target ${t}: ${s}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(i.target)}function Hwe(e,t,n){const r=Zn(e);let i=Qn.min(),o=Dr();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(l,u,c){const d=Zn(l),f=d.Ms.get(c);return f!==void 0?lt.resolve(d.Fs.get(f)):d.hi.getTargetData(u,c)})(r,s,ep(t)).next((a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next((l=>{o=l}))})).next((()=>r.Cs.getDocumentsMatchingQuery(s,t,n?i:Qn.min(),n?o:Dr()))).next((a=>(vcn(r,iun(t),a),{documents:a,qs:o})))))}function vcn(e,t,n){let r=e.xs.get(t)||Qn.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),e.xs.set(t,r)}class qwe{constructor(){this.activeTargetIds=cun()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bcn{constructor(){this.Fo=new qwe,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,r){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new qwe,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class wcn{xo(t){}shutdown(){}}const Wwe="ConnectivityMonitor";class Gwe{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){qt(Wwe,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){qt(Wwe,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let P3=null;function cY(){return P3===null?P3=(function(){return 268435456+Math.round(2147483648*Math.random())})():P3++,"0x"+P3.toString(16)}const dV="RestConnection",xcn={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _cn{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===_6?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(t,n,r,i,o){const s=cY(),a=this.Go(t,n.toUriEncodedString());qt(dV,`Sending RPC '${t}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,o);const{host:u}=new URL(a),c=dv(u);return this.jo(t,a,l,r,c).then((d=>(qt(dV,`Received RPC '${t}' ${s}: `,d),d)),(d=>{throw T1(dV,`RPC '${t}' ${s} failed with error: `,d,"url: ",a,"request:",r),d}))}Jo(t,n,r,i,o,s){return this.Wo(t,n,r,i,o)}zo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+TC})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>t[o]=i)),r&&r.headers.forEach(((i,o)=>t[o]=i))}Go(t,n){const r=xcn[t];return`${this.$o}/v1/${n}:${r}`}terminate(){}}class Ecn{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}const Wa="WebChannelConnection";class Ccn extends _cn{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,r,i,o){const s=cY();return new Promise(((a,l)=>{const u=new vje;u.setWithCredentials(!0),u.listenOnce(bje.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case EN.NO_ERROR:const d=u.getResponseJson();qt(Wa,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),a(d);break;case EN.TIMEOUT:qt(Wa,`RPC '${t}' ${s} timed out`),l(new Yt(ut.DEADLINE_EXCEEDED,"Request time out"));break;case EN.HTTP_ERROR:const f=u.getStatus();if(qt(Wa,`RPC '${t}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h?.error;if(m&&m.status&&m.message){const p=(function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(v)>=0?v:ut.UNKNOWN})(m.status);l(new Yt(p,m.message))}else l(new Yt(ut.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Yt(ut.UNAVAILABLE,"Connection failed."));break;default:Bn(9055,{c_:t,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{qt(Wa,`RPC '${t}' ${s} completed.`)}}));const c=JSON.stringify(i);qt(Wa,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)}))}P_(t,n,r){const i=cY(),o=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=_je(),a=xje(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");qt(Wa,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);this.T_(d);let f=!1,h=!1;const m=new Ecn({Ho:g=>{h?qt(Wa,`Not sending because RPC '${t}' stream ${i} is closed:`,g):(f||(qt(Wa,`Opening RPC '${t}' stream ${i} transport.`),d.open(),f=!0),qt(Wa,`RPC '${t}' stream ${i} sending:`,g),d.send(g))},Yo:()=>d.close()}),p=(g,y,v)=>{g.listen(y,(w=>{try{v(w)}catch(E){setTimeout((()=>{throw E}),0)}}))};return p(d,VT.EventType.OPEN,(()=>{h||(qt(Wa,`RPC '${t}' stream ${i} transport opened.`),m.s_())})),p(d,VT.EventType.CLOSE,(()=>{h||(h=!0,qt(Wa,`RPC '${t}' stream ${i} transport closed`),m.__(),this.I_(d))})),p(d,VT.EventType.ERROR,(g=>{h||(h=!0,T1(Wa,`RPC '${t}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),m.__(new Yt(ut.UNAVAILABLE,"The operation could not be completed")))})),p(d,VT.EventType.MESSAGE,(g=>{var y;if(!h){const v=g.data[0];hi(!!v,16349);const w=v,E=w?.error||((y=w[0])===null||y===void 0?void 0:y.error);if(E){qt(Wa,`RPC '${t}' stream ${i} received error:`,E);const C=E.status;let S=(function(D){const I=ss[D];if(I!==void 0)return tBe(I)})(C),T=E.message;S===void 0&&(S=ut.INTERNAL,T="Unknown error status: "+C+" with message "+E.message),h=!0,m.__(new Yt(S,T)),d.close()}else qt(Wa,`RPC '${t}' stream ${i} received:`,v),m.a_(v)}})),p(a,wje.STAT_EVENT,(g=>{g.stat===JG.PROXY?qt(Wa,`RPC '${t}' stream ${i} detected buffering proxy`):g.stat===JG.NOPROXY&&qt(Wa,`RPC '${t}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{m.o_()}),0),m}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((n=>n===t))}}function fV(){return typeof document<"u"?document:null}function x8(e){return new Run(e,!0)}class gBe{constructor(t,n,r=1e3,i=1.5,o=6e4){this.Fi=t,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&qt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const Ywe="PersistentStream";class yBe{constructor(t,n,r,i,o,s,a,l){this.Fi=t,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new gBe(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===ut.RESOURCE_EXHAUSTED?(ug(n.toString()),ug("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.b_===n&&this.W_(r,i)}),(r=>{t((()=>{const i=new Yt(ut.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)}))}))}W_(t,n){const r=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((i=>{r((()=>this.G_(i)))})),this.stream.onMessage((i=>{r((()=>++this.C_==1?this.j_(i):this.onNext(i)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return qt(Ywe,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget((()=>this.b_===t?n():(qt(Ywe,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Scn extends yBe{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=Pun(this.serializer,t),r=(function(o){if(!("targetChange"in o))return Qn.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Qn.min():s.readTime?tp(s.readTime):Qn.min()})(t);return this.listener.J_(n,r)}H_(t){const n={};n.database=lY(this.serializer),n.addTarget=(function(o,s){let a;const l=s.target;if(a=rY(l)?{documents:Mun(o,l)}:{query:$un(o,l).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=iBe(o,s.resumeToken);const u=oY(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Qn.min())>0){a.readTime=A6(o,s.snapshotVersion.toTimestamp());const u=oY(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,t);const r=Lun(this.serializer,t);r&&(n.labels=r),this.k_(n)}Y_(t){const n={};n.database=lY(this.serializer),n.removeTarget=t,this.k_(n)}}class Tcn extends yBe{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return hi(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,hi(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){hi(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=Nun(t.writeResults,t.commitTime),r=tp(t.commitTime);return this.listener.ta(r,n)}na(){const t={};t.database=lY(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>Oun(this.serializer,r)))};this.k_(n)}}class Acn{}class kcn extends Acn{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Yt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Wo(t,sY(n,r),i,o,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Yt(ut.UNKNOWN,o.toString())}))}Jo(t,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Jo(t,sY(n,r),i,s,a,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Yt(ut.UNKNOWN,s.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class Rcn{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ug(n),this._a=!1):qt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}const A1="RemoteStore";class Icn{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo((s=>{r.enqueueAndForget((async()=>{hw(this)&&(qt(A1,"Restarting streams for network reachability change."),await(async function(l){const u=Zn(l);u.Ia.add(4),await oI(u),u.Aa.set("Unknown"),u.Ia.delete(4),await iI(u)})(this))}))})),this.Aa=new Rcn(r,i)}}async function iI(e){if(hw(e))for(const t of e.da)await t(!0)}async function oI(e){for(const t of e.da)await t(!1)}function vBe(e,t){const n=Zn(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),toe(n)?eoe(n):RC(n).x_()&&Zie(n,t))}function Jie(e,t){const n=Zn(e),r=RC(n);n.Ta.delete(t),r.x_()&&bBe(n,t),n.Ta.size===0&&(r.x_()?r.B_():hw(n)&&n.Aa.set("Unknown"))}function Zie(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Qn.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}RC(e).H_(t)}function bBe(e,t){e.Ra.$e(t),RC(e).Y_(t)}function eoe(e){e.Ra=new Sun({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),RC(e).start(),e.Aa.aa()}function toe(e){return hw(e)&&!RC(e).M_()&&e.Ta.size>0}function hw(e){return Zn(e).Ia.size===0}function wBe(e){e.Ra=void 0}async function Dcn(e){e.Aa.set("Online")}async function Pcn(e){e.Ta.forEach(((t,n)=>{Zie(e,t)}))}async function Ocn(e,t){wBe(e),toe(e)?(e.Aa.la(t),eoe(e)):e.Aa.set("Unknown")}async function Ncn(e,t,n){if(e.Aa.set("Online"),t instanceof rBe&&t.state===2&&t.cause)try{await(async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})(e,t)}catch(r){qt(A1,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await R6(e,r)}else if(t instanceof AN?e.Ra.Ye(t):t instanceof nBe?e.Ra.it(t):e.Ra.et(t),!n.isEqual(Qn.min()))try{const r=await mBe(e.localStore);n.compareTo(r)>=0&&await(function(o,s){const a=o.Ra.Pt(s);return a.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ta.get(u);c&&o.Ta.set(u,c.withResumeToken(l.resumeToken,s))}})),a.targetMismatches.forEach(((l,u)=>{const c=o.Ta.get(l);if(!c)return;o.Ta.set(l,c.withResumeToken(Da.EMPTY_BYTE_STRING,c.snapshotVersion)),bBe(o,l);const d=new z0(c.target,l,u,c.sequenceNumber);Zie(o,d)})),o.remoteSyncer.applyRemoteEvent(a)})(e,n)}catch(r){qt(A1,"Failed to raise snapshot:",r),await R6(e,r)}}async function R6(e,t,n){if(!kC(t))throw t;e.Ia.add(1),await oI(e),e.Aa.set("Offline"),n||(n=()=>mBe(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{qt(A1,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await iI(e)}))}function xBe(e,t){return t().catch((n=>R6(e,n,t)))}async function _8(e){const t=Zn(e),n=Ny(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Lie;for(;Mcn(t);)try{const i=await gcn(t.localStore,r);if(i===null){t.Pa.length===0&&n.B_();break}r=i.batchId,$cn(t,i)}catch(i){await R6(t,i)}_Be(t)&&EBe(t)}function Mcn(e){return hw(e)&&e.Pa.length<10}function $cn(e,t){e.Pa.push(t);const n=Ny(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function _Be(e){return hw(e)&&!Ny(e).M_()&&e.Pa.length>0}function EBe(e){Ny(e).start()}async function Fcn(e){Ny(e).na()}async function Lcn(e){const t=Ny(e);for(const n of e.Pa)t.X_(n.mutations)}async function jcn(e,t,n){const r=e.Pa.shift(),i=qie.from(r,t,n);await xBe(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await _8(e)}async function Bcn(e,t){t&&Ny(e).Z_&&await(async function(r,i){if((function(s){return Eun(s)&&s!==ut.ABORTED})(i.code)){const o=r.Pa.shift();Ny(r).N_(),await xBe(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await _8(r)}})(e,t),_Be(e)&&EBe(e)}async function Kwe(e,t){const n=Zn(e);n.asyncQueue.verifyOperationInProgress(),qt(A1,"RemoteStore received new credentials");const r=hw(n);n.Ia.add(3),await oI(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await iI(n)}async function zcn(e,t){const n=Zn(e);t?(n.Ia.delete(2),await iI(n)):t||(n.Ia.add(2),await oI(n),n.Aa.set("Unknown"))}function RC(e){return e.Va||(e.Va=(function(n,r,i){const o=Zn(n);return o.ia(),new Scn(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(e.datastore,e.asyncQueue,{Zo:Dcn.bind(null,e),e_:Pcn.bind(null,e),n_:Ocn.bind(null,e),J_:Ncn.bind(null,e)}),e.da.push((async t=>{t?(e.Va.N_(),toe(e)?eoe(e):e.Aa.set("Unknown")):(await e.Va.stop(),wBe(e))}))),e.Va}function Ny(e){return e.ma||(e.ma=(function(n,r,i){const o=Zn(n);return o.ia(),new Tcn(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:Fcn.bind(null,e),n_:Bcn.bind(null,e),ea:Lcn.bind(null,e),ta:jcn.bind(null,e)}),e.da.push((async t=>{t?(e.ma.N_(),await _8(e)):(await e.ma.stop(),e.Pa.length>0&&(qt(A1,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))}))),e.ma}class noe{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Bm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new noe(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Yt(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function roe(e,t){if(ug("AsyncQueue",`${t}: ${e}`),kC(e))return new Yt(ut.UNAVAILABLE,`${t}: ${e}`);throw e}class f_{static emptySet(t){return new f_(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||Rn.comparator(n.key,r.key):(n,r)=>Rn.comparator(n.key,r.key),this.keyedMap=HT(),this.sortedSet=new wo(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof f_)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new f_;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class Xwe{constructor(){this.fa=new wo(Rn.comparator)}track(t){const n=t.doc.key,r=this.fa.get(n);r?t.type!==0&&r.type===3?this.fa=this.fa.insert(n,t):t.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.fa=this.fa.remove(n):t.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):Bn(63341,{At:t,ga:r}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal(((n,r)=>{t.push(r)})),t}}class bE{constructor(t,n,r,i,o,s,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach((a=>{s.push({type:0,doc:a})})),new bE(t,n,f_.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&g8(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ucn{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class Vcn{constructor(){this.queries=Qwe(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Zn(n),o=i.queries;i.queries=Qwe(),o.forEach(((s,a)=>{for(const l of a.wa)l.onError(r)}))})(this,new Yt(ut.ABORTED,"Firestore shutting down"))}}function Qwe(){return new fw((e=>Vje(e)),g8)}async function ioe(e,t){const n=Zn(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.Sa()&&t.ba()&&(r=2):(o=new Ucn,r=t.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=roe(s,`Initialization of query '${Sx(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,o),o.wa.push(t),t.va(n.onlineState),o.ya&&t.Ca(o.ya)&&soe(n)}async function ooe(e,t){const n=Zn(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const s=o.wa.indexOf(t);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=t.ba()?0:1:!o.Sa()&&t.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Hcn(e,t){const n=Zn(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&soe(n)}function qcn(e,t,n){const r=Zn(e),i=r.queries.get(t);if(i)for(const o of i.wa)o.onError(n);r.queries.delete(t)}function soe(e){e.Da.forEach((t=>{t.next()}))}var dY,Jwe;(Jwe=dY||(dY={})).Fa="default",Jwe.Cache="cache";class aoe{constructor(t,n,r){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new bE(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=bE.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==dY.Cache}}class CBe{constructor(t){this.key=t}}class SBe{constructor(t){this.key=t}}class Wcn{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Dr(),this.mutatedKeys=Dr(),this.Xa=Hje(t),this.eu=new f_(this.Xa)}get tu(){return this.Ha}nu(t,n){const r=n?n.ru:new Xwe,i=n?n.eu:this.eu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((c,d)=>{const f=i.get(c),h=y8(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),p=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let g=!1;f&&h?f.data.isEqual(h.data)?m!==p&&(r.track({type:3,doc:h}),g=!0):this.iu(f,h)||(r.track({type:2,doc:h}),g=!0,(l&&this.Xa(h,l)>0||u&&this.Xa(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),g=!0):f&&!h&&(r.track({type:1,doc:f}),g=!0,(l||u)&&(a=!0)),g&&(h?(s=s.add(h),o=p?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const s=t.ru.pa();s.sort(((c,d)=>(function(h,m){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bn(20277,{At:g})}};return p(h)-p(m)})(c.type,d.type)||this.Xa(c.doc,d.doc))),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,u=l!==this.Ya;return this.Ya=l,s.length!==0||u?{snapshot:new bE(this.query,t.eu,o,s,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Xwe,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Dr(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const n=[];return t.forEach((r=>{this.Za.has(r)||n.push(new SBe(r))})),this.Za.forEach((r=>{t.has(r)||n.push(new CBe(r))})),n}uu(t){this.Ha=t.qs,this.Za=Dr();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return bE.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const loe="SyncEngine";class Gcn{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Ycn{constructor(t){this.key=t,this.lu=!1}}class Kcn{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new fw((a=>Vje(a)),g8),this.Tu=new Map,this.Iu=new Set,this.du=new wo(Rn.comparator),this.Eu=new Map,this.Au=new Yie,this.Ru={},this.Vu=new Map,this.mu=vE.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Xcn(e,t,n=!0){const r=DBe(e);let i;const o=r.Pu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await TBe(r,t,n,!0),i}async function Qcn(e,t){const n=DBe(e);await TBe(n,t,!0,!1)}async function TBe(e,t,n,r){const i=await ycn(e.localStore,ep(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Jcn(e,t,o,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&vBe(e.remoteStore,i),a}async function Jcn(e,t,n,r,i){e.gu=(d,f,h)=>(async function(p,g,y,v){let w=g.view.nu(y);w.Ds&&(w=await Hwe(p.localStore,g.query,!1).then((({documents:T})=>g.view.nu(T,w))));const E=v&&v.targetChanges.get(g.targetId),C=v&&v.targetMismatches.get(g.targetId)!=null,S=g.view.applyChanges(w,p.isPrimaryClient,E,C);return exe(p,g.targetId,S._u),S.snapshot})(e,d,f,h);const o=await Hwe(e.localStore,t,!0),s=new Wcn(t,o.qs),a=s.nu(o.documents),l=rI.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,l);exe(e,n,u._u);const c=new Gcn(t,n,s);return e.Pu.set(t,c),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),u.snapshot}async function Zcn(e,t,n){const r=Zn(e),i=r.Pu.get(t),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter((s=>!g8(s,t)))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await uY(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jie(r.remoteStore,i.targetId),fY(r,i.targetId)})).catch(AC)):(fY(r,i.targetId),await uY(r.localStore,i.targetId,!0))}async function edn(e,t){const n=Zn(e),r=n.Pu.get(t),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jie(n.remoteStore,r.targetId))}async function tdn(e,t,n){const r=ldn(e);try{const i=await(function(s,a){const l=Zn(s),u=ui.now(),c=a.reduce(((h,m)=>h.add(m.key)),Dr());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",(h=>{let m=cg(),p=Dr();return l.Os.getEntries(h,c).next((g=>{m=g,m.forEach(((y,v)=>{v.isValidDocument()||(p=p.add(y))}))})).next((()=>l.localDocuments.getOverlayedDocuments(h,m))).next((g=>{d=g;const y=[];for(const v of a){const w=vun(v,d.get(v.key).overlayedDocument);w!=null&&y.push(new hv(v.key,w,$je(w.value.mapValue),gc.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,y,a)})).next((g=>{f=g;const y=g.applyToLocalDocumentSet(d,p);return l.documentOverlayCache.saveOverlays(h,g.batchId,y)}))})).then((()=>({batchId:f.batchId,changes:Wje(d)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,l){let u=s.Ru[s.currentUser.toKey()];u||(u=new wo(br)),u=u.insert(a,l),s.Ru[s.currentUser.toKey()]=u})(r,i.batchId,n),await sI(r,i.changes),await _8(r.remoteStore)}catch(i){const o=roe(i,"Failed to persist write");n.reject(o)}}async function ABe(e,t){const n=Zn(e);try{const r=await pcn(n.localStore,t);t.targetChanges.forEach(((i,o)=>{const s=n.Eu.get(o);s&&(hi(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?hi(s.lu,14607):i.removedDocuments.size>0&&(hi(s.lu,42227),s.lu=!1))})),await sI(n,r,t)}catch(r){await AC(r)}}function Zwe(e,t,n){const r=Zn(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach(((o,s)=>{const a=s.view.va(t);a.snapshot&&i.push(a.snapshot)})),(function(s,a){const l=Zn(s);l.onlineState=a;let u=!1;l.queries.forEach(((c,d)=>{for(const f of d.wa)f.va(a)&&(u=!0)})),u&&soe(l)})(r.eventManager,t),i.length&&r.hu.J_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ndn(e,t,n){const r=Zn(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),o=i&&i.key;if(o){let s=new wo(Rn.comparator);s=s.insert(o,Ja.newNoDocument(o,Qn.min()));const a=Dr().add(o),l=new w8(Qn.min(),new Map,new wo(br),s,a);await ABe(r,l),r.du=r.du.remove(o),r.Eu.delete(t),uoe(r)}else await uY(r.localStore,t,!1).then((()=>fY(r,t,n))).catch(AC)}async function rdn(e,t){const n=Zn(e),r=t.batch.batchId;try{const i=await hcn(n.localStore,t);RBe(n,r,null),kBe(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sI(n,i)}catch(i){await AC(i)}}async function idn(e,t,n){const r=Zn(e);try{const i=await(function(s,a){const l=Zn(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next((d=>(hi(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c))).next((()=>l.localDocuments.getDocuments(u,c)))}))})(r.localStore,t);RBe(r,t,n),kBe(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await sI(r,i)}catch(i){await AC(i)}}function kBe(e,t){(e.Vu.get(t)||[]).forEach((n=>{n.resolve()})),e.Vu.delete(t)}function RBe(e,t,n){const r=Zn(e);let i=r.Ru[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Ru[r.currentUser.toKey()]=i}}function fY(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach((r=>{e.Au.containsKey(r)||IBe(e,r)}))}function IBe(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Jie(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),uoe(e))}function exe(e,t,n){for(const r of n)r instanceof CBe?(e.Au.addReference(r.key,t),odn(e,r)):r instanceof SBe?(qt(loe,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||IBe(e,r.key)):Bn(19791,{yu:r})}function odn(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(qt(loe,"New document in limbo: "+n),e.Iu.add(r),uoe(e))}function uoe(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new Rn(Ji.fromString(t)),r=e.mu.next();e.Eu.set(r,new Ycn(n)),e.du=e.du.insert(n,r),vBe(e.remoteStore,new z0(ep(m8(n.path)),r,"TargetPurposeLimboResolution",d8.ue))}}async function sI(e,t,n){const r=Zn(e),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach(((a,l)=>{s.push(r.gu(l,t,n).then((u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n?.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=Xie.Es(l.targetId,u);o.push(d)}})))})),await Promise.all(s),r.hu.J_(i),await(async function(l,u){const c=Zn(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>lt.forEach(u,(f=>lt.forEach(f.Is,(h=>c.persistence.referenceDelegate.addReference(d,f.targetId,h))).next((()=>lt.forEach(f.ds,(h=>c.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))))))}catch(d){if(!kC(d))throw d;qt(Qie,"Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=c.Fs.get(f),m=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(m);c.Fs=c.Fs.insert(f,p)}}})(r.localStore,o))}async function sdn(e,t){const n=Zn(e);if(!n.currentUser.isEqual(t)){qt(loe,"User change. New user:",t.toKey());const r=await pBe(n.localStore,t);n.currentUser=t,(function(o,s){o.Vu.forEach((a=>{a.forEach((l=>{l.reject(new Yt(ut.CANCELLED,s))}))})),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await sI(n,r.Bs)}}function adn(e,t){const n=Zn(e),r=n.Eu.get(t);if(r&&r.lu)return Dr().add(r.key);{let i=Dr();const o=n.Tu.get(t);if(!o)return i;for(const s of o){const a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function DBe(e){const t=Zn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ABe.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=adn.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ndn.bind(null,t),t.hu.J_=Hcn.bind(null,t.eventManager),t.hu.pu=qcn.bind(null,t.eventManager),t}function ldn(e){const t=Zn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rdn.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=idn.bind(null,t),t}class I6{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=x8(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return fcn(this.persistence,new ucn,t.initialUser,this.serializer)}Du(t){return new hBe(Kie.Vi,this.serializer)}bu(t){return new bcn}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}I6.provider={build:()=>new I6};class udn extends I6{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){hi(this.persistence.referenceDelegate instanceof k6,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Yun(r,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?gu.withCacheSize(this.cacheSizeBytes):gu.DEFAULT;return new hBe((r=>k6.Vi(r,n)),this.serializer)}}class hY{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zwe(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sdn.bind(null,this.syncEngine),await zcn(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Vcn})()}createDatastore(t){const n=x8(t.databaseInfo.databaseId),r=(function(o){return new Ccn(o)})(t.databaseInfo);return(function(o,s,a,l){return new kcn(o,s,a,l)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,i,o,s,a){return new Icn(r,i,o,s,a)})(this.localStore,this.datastore,t.asyncQueue,(n=>Zwe(this.syncEngine,n,0)),(function(){return Gwe.C()?new Gwe:new wcn})())}createSyncEngine(t,n){return(function(i,o,s,a,l,u,c){const d=new Kcn(i,o,s,a,l,u);return c&&(d.fu=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(i){const o=Zn(i);qt(A1,"RemoteStore shutting down."),o.Ia.add(5),await oI(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}hY.provider={build:()=>new hY};class coe{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):ug("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const My="FirestoreClient";class cdn{constructor(t,n,r,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mu.UNAUTHENTICATED,this.clientId=$ie.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async s=>{qt(My,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(qt(My,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Bm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=roe(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function hV(e,t){e.asyncQueue.verifyOperationInProgress(),qt(My,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async i=>{r.isEqual(i)||(await pBe(t.localStore,i),r=i)})),t.persistence.setDatabaseDeletedListener((()=>{T1("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then((()=>{qt("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((i=>{T1("Terminating Firestore due to IndexedDb database deletion failed",i)}))})),e._offlineComponents=t}async function txe(e,t){e.asyncQueue.verifyOperationInProgress();const n=await PBe(e);qt(My,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((r=>Kwe(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,i)=>Kwe(t.remoteStore,i))),e._onlineComponents=t}async function PBe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){qt(My,"Using user provided OfflineComponentProvider");try{await hV(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(i){return i.name==="FirebaseError"?i.code===ut.FAILED_PRECONDITION||i.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;T1("Error using user provided cache. Falling back to memory cache: "+n),await hV(e,new I6)}}else qt(My,"Using default OfflineComponentProvider"),await hV(e,new udn(void 0));return e._offlineComponents}async function doe(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(qt(My,"Using user provided OnlineComponentProvider"),await txe(e,e._uninitializedComponentsProvider._online)):(qt(My,"Using default OnlineComponentProvider"),await txe(e,new hY))),e._onlineComponents}function ddn(e){return PBe(e).then((t=>t.persistence))}function fdn(e){return doe(e).then((t=>t.remoteStore))}function hdn(e){return doe(e).then((t=>t.syncEngine))}async function D6(e){const t=await doe(e),n=t.eventManager;return n.onListen=Xcn.bind(null,t.syncEngine),n.onUnlisten=Zcn.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Qcn.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=edn.bind(null,t.syncEngine),n}function pdn(e){return e.asyncQueue.enqueue((async()=>{const t=await ddn(e),n=await fdn(e);return t.setNetworkEnabled(!0),(function(i){const o=Zn(i);return o.Ia.delete(0),iI(o)})(n)}))}function mdn(e,t,n={}){const r=new Bm;return e.asyncQueue.enqueueAndForget((async()=>(function(o,s,a,l,u){const c=new coe({next:f=>{c.Ou(),s.enqueueAndForget((()=>ooe(o,d)));const h=f.docs.has(a);!h&&f.fromCache?u.reject(new Yt(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&l&&l.source==="server"?u.reject(new Yt(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new aoe(m8(a.path),c,{includeMetadataChanges:!0,ka:!0});return ioe(o,d)})(await D6(e),e.asyncQueue,t,n,r))),r.promise}function gdn(e,t,n={}){const r=new Bm;return e.asyncQueue.enqueueAndForget((async()=>(function(o,s,a,l,u){const c=new coe({next:f=>{c.Ou(),s.enqueueAndForget((()=>ooe(o,d))),f.fromCache&&l.source==="server"?u.reject(new Yt(ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new aoe(a,c,{includeMetadataChanges:!0,ka:!0});return ioe(o,d)})(await D6(e),e.asyncQueue,t,n,r))),r.promise}function OBe(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const nxe=new Map;const ydn="firestore.googleapis.com",rxe=!0;class ixe{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Yt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ydn,this.ssl=rxe}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:rxe;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=dBe;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fBe)throw new Yt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Iln("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OBe((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Yt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Yt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Yt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class foe{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ixe({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Yt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Yt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ixe(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _ln;switch(r.type){case"firstParty":return new Sln(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Yt(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=nxe.get(n);r&&(qt("ComponentProvider","Removing Datastore"),nxe.delete(n),r.terminate())})(this),Promise.resolve()}}class aI{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new aI(this.firestore,t,this._query)}}class Yo{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iy(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Yo(this.firestore,t,this._key)}toJSON(){return{type:Yo._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(tI(n,Yo._jsonSchema))return new Yo(t,r||null,new Rn(Ji.fromString(n.referencePath)))}}Yo._jsonSchemaVersion="firestore/documentReference/1.0",Yo._jsonSchema={type:ds("string",Yo._jsonSchemaVersion),referencePath:ds("string")};class iy extends aI{constructor(t,n,r){super(t,n,m8(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Yo(this.firestore,null,new Rn(t))}withConverter(t){return new iy(this.firestore,t,this._path)}}function os(e,t,...n){if(e=Ni(e),Sje("collection","path",t),e instanceof foe){const r=Ji.fromString(t,...n);return vwe(r),new iy(e,null,r)}{if(!(e instanceof Yo||e instanceof iy))throw new Yt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ji.fromString(t,...n));return vwe(r),new iy(e.firestore,null,r)}}function ai(e,t,...n){if(e=Ni(e),arguments.length===1&&(t=$ie.newId()),Sje("doc","path",t),e instanceof foe){const r=Ji.fromString(t,...n);return ywe(r),new Yo(e,null,new Rn(r))}{if(!(e instanceof Yo||e instanceof iy))throw new Yt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ji.fromString(t,...n));return ywe(r),new Yo(e.firestore,e instanceof iy?e.converter:null,new Rn(r))}}const oxe="AsyncQueue";class sxe{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new gBe(this,"async_queue_retry"),this.oc=()=>{const r=fV();r&&qt(oxe,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=t;const n=fV();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=fV();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Bm;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!kC(t))throw t;qt(oxe,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((r=>{throw this.tc=r,this.nc=!1,ug("INTERNAL UNHANDLED ERROR: ",axe(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(t,n,r){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const i=noe.createAndSchedule(this,t,n,r,(o=>this.lc(o)));return this.ec.push(i),i}ac(){this.tc&&Bn(47125,{hc:axe(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function axe(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function lxe(e){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(e,["next","error","complete"])}class dg extends foe{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new sxe,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new sxe(t),this._firestoreClient=void 0,await t}}}function vdn(e,t,n){n||(n=_6);const r=CC(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(E1(o,t))return i;throw new Yt(ut.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new Yt(ut.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fBe)throw new Yt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&dv(t.host)&&_ie(t.host),r.initialize({options:t,instanceIdentifier:n})}function IC(e){if(e._terminated)throw new Yt(ut.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||bdn(e),e._firestoreClient}function bdn(e){var t,n,r;const i=e._freezeSettings(),o=(function(a,l,u,c){return new zln(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,OBe(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new cdn(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}function wdn(e){return pdn(IC(e=mc(e,dg)))}class Zc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zc(Da.fromBase64String(t))}catch(n){throw new Yt(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Zc(Da.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zc._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(tI(t,Zc._jsonSchema))return Zc.fromBase64String(t.bytes)}}Zc._jsonSchemaVersion="firestore/bytes/1.0",Zc._jsonSchema={type:ds("string",Zc._jsonSchemaVersion),bytes:ds("string")};class lI{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Yt(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ca(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class E8{constructor(t){this._methodName=t}}class np{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Yt(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Yt(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return br(this._lat,t._lat)||br(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:np._jsonSchemaVersion}}static fromJSON(t){if(tI(t,np._jsonSchema))return new np(t.latitude,t.longitude)}}np._jsonSchemaVersion="firestore/geoPoint/1.0",np._jsonSchema={type:ds("string",np._jsonSchemaVersion),latitude:ds("number"),longitude:ds("number")};class rp{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:rp._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(tI(t,rp._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new rp(t.vectorValues);throw new Yt(ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rp._jsonSchemaVersion="firestore/vectorValue/1.0",rp._jsonSchema={type:ds("string",rp._jsonSchemaVersion),vectorValues:ds("object")};const xdn=/^__.*__$/;class _dn{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new hv(t,this.data,this.fieldMask,n,this.fieldTransforms):new nI(t,this.data,n,this.fieldTransforms)}}class NBe{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new hv(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function MBe(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bn(40011,{Ec:e})}}class hoe{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new hoe(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Rc({path:r,mc:!1});return i.fc(t),i}gc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return P6(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(MBe(this.Ec)&&xdn.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class Edn{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||x8(t)}Dc(t,n,r,i=!1){return new hoe({Ec:t,methodName:n,bc:r,path:Ca.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function poe(e){const t=e._freezeSettings(),n=x8(e._databaseId);return new Edn(e._databaseId,!!t.ignoreUndefinedProperties,n)}function $Be(e,t,n,r,i,o={}){const s=e.Dc(o.merge||o.mergeFields?2:0,t,n,i);goe("Data must be an object, but it was:",s,r);const a=jBe(r,s);let l,u;if(o.merge)l=new cc(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const f=pY(t,d,n);if(!s.contains(f))throw new Yt(ut.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);zBe(c,f)||c.push(f)}l=new cc(c),u=s.fieldTransforms.filter((d=>l.covers(d.field)))}else l=null,u=s.fieldTransforms;return new _dn(new _u(a),l,u)}class C8 extends E8{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof C8}}class moe extends E8{_toFieldTransform(t){return new pun(t.path,new rk)}isEqual(t){return t instanceof moe}}function FBe(e,t,n,r){const i=e.Dc(1,t,n);goe("Data must be an object, but it was:",i,r);const o=[],s=_u.empty();fv(r,((l,u)=>{const c=yoe(t,l,n);u=Ni(u);const d=i.gc(c);if(u instanceof C8)o.push(c);else{const f=S8(u,d);f!=null&&(o.push(c),s.set(c,f))}}));const a=new cc(o);return new NBe(s,a,i.fieldTransforms)}function LBe(e,t,n,r,i,o){const s=e.Dc(1,t,n),a=[pY(t,r,n)],l=[i];if(o.length%2!=0)throw new Yt(ut.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(pY(t,o[f])),l.push(o[f+1]);const u=[],c=_u.empty();for(let f=a.length-1;f>=0;--f)if(!zBe(u,a[f])){const h=a[f];let m=l[f];m=Ni(m);const p=s.gc(h);if(m instanceof C8)u.push(h);else{const g=S8(m,p);g!=null&&(u.push(h),c.set(h,g))}}const d=new cc(u);return new NBe(c,d,s.fieldTransforms)}function S8(e,t){if(BBe(e=Ni(e)))return goe("Unsupported field value:",t,e),jBe(e,t);if(e instanceof E8)return(function(r,i){if(!MBe(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(r,i){const o=[];let s=0;for(const a of r){let l=S8(a,i.yc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}})(e,t)}return(function(r,i){if((r=Ni(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dun(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ui.fromDate(r);return{timestampValue:A6(i.serializer,o)}}if(r instanceof ui){const o=new ui(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:A6(i.serializer,o)}}if(r instanceof np)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zc)return{bytesValue:iBe(i.serializer,r._byteString)};if(r instanceof Yo){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Gie(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof rp)return(function(s,a){return{mapValue:{fields:{[Nje]:{stringValue:Mje},[E6]:{arrayValue:{values:s.toArray().map((u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return Vie(a.serializer,u)}))}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Fie(r)}`)})(e,t)}function jBe(e,t){const n={};return kje(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fv(e,((r,i)=>{const o=S8(i,t.Vc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function BBe(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ui||e instanceof np||e instanceof Zc||e instanceof Yo||e instanceof E8||e instanceof rp)}function goe(e,t,n){if(!BBe(n)||!Tje(n)){const r=Fie(n);throw r==="an object"?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function pY(e,t,n){if((t=Ni(t))instanceof lI)return t._internalPath;if(typeof t=="string")return yoe(e,t);throw P6("Field path arguments must be of type string or ",e,!1,void 0,n)}const Cdn=new RegExp("[~\\*/\\[\\]]");function yoe(e,t,n){if(t.search(Cdn)>=0)throw P6(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new lI(...t.split("."))._internalPath}catch{throw P6(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function P6(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Yt(ut.INVALID_ARGUMENT,a+e+l)}function zBe(e,t){return e.some((n=>n.isEqual(t)))}class UBe{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Sdn(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(VBe("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Sdn extends UBe{data(){return super.data()}}function VBe(e,t){return typeof t=="string"?yoe(e,t):t instanceof lI?t._internalPath:t._delegate._internalPath}function HBe(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Yt(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tdn{convertValue(t,n="none"){switch(Oy(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qo(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Py(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Bn(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return fv(t,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(t){var n,r,i;const o=(i=(r=(n=t.fields)===null||n===void 0?void 0:n[E6].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((s=>qo(s.doubleValue)));return new rp(o)}convertGeoPoint(t){return new np(qo(t.latitude),qo(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=h8(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ek(t));default:return null}}convertTimestamp(t){const n=Dy(t);return new ui(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ji.fromString(t);hi(cBe(r),9688,{name:t});const i=new tk(r.get(1),r.get(3)),o=new Rn(r.popFirst(5));return i.isEqual(n)||ug(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function qBe(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class WT{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Bb extends UBe{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new kN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(VBe("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Yt(ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Bb._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Bb._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bb._jsonSchema={type:ds("string",Bb._jsonSchemaVersion),bundleSource:ds("string","DocumentSnapshot"),bundleName:ds("string"),bundle:ds("string")};class kN extends Bb{data(t={}){return super.data(t)}}class zb{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new WT(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new kN(this._firestore,this._userDataWriter,r.key,r,new WT(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Yt(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((a=>{const l=new kN(i._firestore,i._userDataWriter,a.doc.key,a.doc,new WT(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((a=>o||a.type!==3)).map((a=>{const l=new kN(i._firestore,i._userDataWriter,a.doc.key,a.doc,new WT(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:Adn(a.type),doc:l,oldIndex:u,newIndex:c}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Yt(ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=zb._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$ie.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Adn(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bn(61501,{type:e})}}function O3(e){e=mc(e,Yo);const t=mc(e.firestore,dg);return mdn(IC(t),e._key).then((n=>WBe(t,e,n)))}zb._jsonSchemaVersion="firestore/querySnapshot/1.0",zb._jsonSchema={type:ds("string",zb._jsonSchemaVersion),bundleSource:ds("string","QuerySnapshot"),bundleName:ds("string"),bundle:ds("string")};class voe extends Tdn{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zc(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Yo(this.firestore,null,n)}}function N3(e){e=mc(e,aI);const t=mc(e.firestore,dg),n=IC(t),r=new voe(t);return HBe(e._query),gdn(n,e._query).then((i=>new zb(t,r,e,i)))}function fu(e,t,n){e=mc(e,Yo);const r=mc(e.firestore,dg),i=qBe(e.converter,t,n);return boe(r,[$Be(poe(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,gc.none())])}function M3(e,t,n,...r){e=mc(e,Yo);const i=mc(e.firestore,dg),o=poe(i);let s;return s=typeof(t=Ni(t))=="string"||t instanceof lI?LBe(o,"updateDoc",e._key,t,n,r):FBe(o,"updateDoc",e._key,t),boe(i,[s.toMutation(e._key,gc.exists(!0))])}function kdn(e,...t){var n,r,i;e=Ni(e);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||lxe(t[s])||(o=t[s++]);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(lxe(t[s])){const d=t[s];t[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),t[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),t[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(e instanceof Yo)u=mc(e.firestore,dg),c=m8(e._key.path),l={next:d=>{t[s]&&t[s](WBe(u,e,d))},error:t[s+1],complete:t[s+2]};else{const d=mc(e,aI);u=mc(d.firestore,dg),c=d._query;const f=new voe(u);l={next:h=>{t[s]&&t[s](new zb(u,f,d,h))},error:t[s+1],complete:t[s+2]},HBe(e._query)}return(function(f,h,m,p){const g=new coe(p),y=new aoe(h,g,m);return f.asyncQueue.enqueueAndForget((async()=>ioe(await D6(f),y))),()=>{g.Ou(),f.asyncQueue.enqueueAndForget((async()=>ooe(await D6(f),y)))}})(IC(u),c,a,l)}function boe(e,t){return(function(r,i){const o=new Bm;return r.asyncQueue.enqueueAndForget((async()=>tdn(await hdn(r),i,o))),o.promise})(IC(e),t)}function WBe(e,t,n){const r=n.docs.get(t._key),i=new voe(e);return new Bb(e,i,t._key,r,new WT(n.hasPendingWrites,n.fromCache),t.converter)}class Rdn{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=poe(t)}set(t,n,r){this._verifyNotCommitted();const i=pV(t,this._firestore),o=qBe(i.converter,n,r),s=$Be(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,gc.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const o=pV(t,this._firestore);let s;return s=typeof(n=Ni(n))=="string"||n instanceof lI?LBe(this._dataReader,"WriteBatch.update",o._key,n,r,i):FBe(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,gc.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=pV(t,this._firestore);return this._mutations=this._mutations.concat(new Hie(n._key,gc.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Yt(ut.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pV(e,t){if((e=Ni(e)).firestore!==t)throw new Yt(ut.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function mV(){return new moe("serverTimestamp")}function uxe(e){return IC(e=mc(e,dg)),new Rdn(e,(t=>boe(e,t)))}(function(t,n=!0){(function(i){TC=i})(dw),lg(new bp("firestore",((r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new dg(new Eln(r.getProvider("auth-internal")),new Tln(s,r.getProvider("app-check-internal")),(function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Yt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tk(u.options.projectId,c)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a}),"PUBLIC").setMultipleInstances(!0)),Tf(fwe,hwe,t),Tf(fwe,hwe,"esm2017")})();const mY=new Map,GBe={activated:!1,tokenObservers:[]},Idn={initialized:!1,enabled:!1};function Os(e){return mY.get(e)||Object.assign({},GBe)}function Ddn(e,t){return mY.set(e,t),mY.get(e)}function T8(){return Idn}const YBe="https://content-firebaseappcheck.googleapis.com/v1",Pdn="exchangeRecaptchaV3Token",Odn="exchangeDebugToken",cxe={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Ndn=1440*60*1e3;class Mdn{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new QA,this.pending.promise.catch(n=>{}),await $dn(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new QA,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function $dn(e){return new Promise(t=>{setTimeout(t,e)})}const Fdn={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Su=new EC("appCheck","AppCheck",Fdn);function dxe(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function woe(e){if(!Os(e).activated)throw Su.create("use-before-activation",{appName:e.name})}function KBe(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),o=t-n*3600*24-r*3600-i*60;let s="";return n&&(s+=$3(n)+"d:"),r&&(s+=$3(r)+"h:"),s+=$3(i)+"m:"+$3(o)+"s",s}function $3(e){return e===0?"00":e>=10?e.toString():"0"+e}async function xoe({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(t),headers:r};let s;try{s=await fetch(e,o)}catch(d){throw Su.create("fetch-network-error",{originalErrorMessage:d?.message})}if(s.status!==200)throw Su.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(d){throw Su.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Su.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function Ldn(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${YBe}/projects/${n}/apps/${r}:${Pdn}?key=${i}`,body:{recaptcha_v3_token:t}}}function XBe(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${YBe}/projects/${n}/apps/${r}:${Odn}?key=${i}`,body:{debug_token:t}}}const jdn="firebase-app-check-database",Bdn=1,sk="firebase-app-check-store",QBe="debug-token";let F3=null;function JBe(){return F3||(F3=new Promise((e,t)=>{try{const n=indexedDB.open(jdn,Bdn);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Su.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(sk,{keyPath:"compositeKey"})}}}catch(n){t(Su.create("storage-open",{originalErrorMessage:n?.message}))}}),F3)}function zdn(e){return e9e(t9e(e))}function Udn(e,t){return ZBe(t9e(e),t)}function Vdn(e){return ZBe(QBe,e)}function Hdn(){return e9e(QBe)}async function ZBe(e,t){const r=(await JBe()).transaction(sk,"readwrite"),o=r.objectStore(sk).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a(Su.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function e9e(e){const n=(await JBe()).transaction(sk,"readonly"),i=n.objectStore(sk).get(e);return new Promise((o,s)=>{i.onsuccess=a=>{const l=a.target.result;o(l?l.value:void 0)},n.onerror=a=>{var l;s(Su.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function t9e(e){return`${e.options.appId}-${e.name}`}const U0=new c8("@firebase/app-check");async function qdn(e){if(Eie()){let t;try{t=await zdn(e)}catch(n){U0.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function gV(e,t){return Eie()?Udn(e,t).catch(n=>{U0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function Wdn(){let e;try{e=await Hdn()}catch{}if(e)return e;{const t=crypto.randomUUID();return Vdn(t).catch(n=>U0.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}function _oe(){return T8().enabled}async function Eoe(){const e=T8();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function Gdn(){const e=G8e(),t=T8();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new QA;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Wdn())}const Ydn={error:"UNKNOWN_ERROR"};function Kdn(e){return xie.encodeString(JSON.stringify(e),!1)}async function gY(e,t=!1,n=!1){const r=e.app;woe(r);const i=Os(r);let o=i.token,s;if(o&&!zx(o)&&(i.token=void 0,o=void 0),!o){const u=await i.cachedTokenPromise;u&&(zx(u)?o=u:await gV(r,void 0))}if(!t&&o&&zx(o))return{token:o.token};let a=!1;if(_oe())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=xoe(XBe(r,await Eoe()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const u=await i.exchangeTokenPromise;return await gV(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?U0.warn(u.message):n&&U0.error(u),yV(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await Os(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?U0.warn(u.message):n&&U0.error(u),s=u}let l;return o?s?zx(o)?l={token:o.token,internalError:s}:l=yV(s):(l={token:o.token},i.token=o,await gV(r,o)):l=yV(s),a&&i9e(r,l),l}async function Xdn(e){const t=e.app;woe(t);const{provider:n}=Os(t);if(_oe()){const r=await Eoe(),{token:i}=await xoe(XBe(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function n9e(e,t,n,r){const{app:i}=e,o=Os(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&zx(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),fxe(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>fxe(e))}function r9e(e,t){const n=Os(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function fxe(e){const{app:t}=e,n=Os(t);let r=n.tokenRefresher;r||(r=Qdn(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Qdn(e){const{app:t}=e;return new Mdn(async()=>{const n=Os(t);let r;if(n.token?r=await gY(e,!0):r=await gY(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Os(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},cxe.RETRIAL_MIN_WAIT,cxe.RETRIAL_MAX_WAIT)}function i9e(e,t){const n=Os(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function zx(e){return e.expireTimeMillis-Date.now()>0}function yV(e){return{token:Kdn(Ydn),error:e}}class Jdn{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=Os(this.app);for(const n of t)r9e(this.app,n.next);return Promise.resolve()}}function Zdn(e,t){return new Jdn(e,t)}function efn(e){return{getToken:t=>gY(e,t),getLimitedUseToken:()=>Xdn(e),addTokenListener:t=>n9e(e,"INTERNAL",t),removeTokenListener:t=>r9e(e.app,t)}}const tfn="@firebase/app-check",nfn="0.10.1";const rfn="https://www.google.com/recaptcha/api.js";function ifn(e,t){const n=new QA,r=Os(e);r.reCAPTCHAState={initialized:n};const i=ofn(e),o=dxe(!1);return o?hxe(e,t,o,i,n):lfn(()=>{const s=dxe(!1);if(!s)throw new Error("no recaptcha");hxe(e,t,s,i,n)}),n.promise}function hxe(e,t,n,r,i){n.ready(()=>{afn(e,t,n,r),i.resolve(n)})}function ofn(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function sfn(e){woe(e);const n=await Os(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const o=Os(e).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})}function afn(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{Os(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Os(e).reCAPTCHAState.succeeded=!1}}),o=Os(e);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}function lfn(e){const t=document.createElement("script");t.src=rfn,t.onload=e,document.head.appendChild(t)}class Coe{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;cfn(this._throttleData);const i=await sfn(this._app).catch(s=>{throw Su.create("recaptcha-error")});if(!(!((t=Os(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw Su.create("recaptcha-error");let o;try{o=await xoe(Ldn(this._app,i),this._heartbeatServiceProvider)}catch(s){throw!((n=s.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=ufn(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Su.create("initial-throttle",{time:KBe(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,o}initialize(t){this._app=t,this._heartbeatServiceProvider=CC(t,"heartbeat"),ifn(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof Coe?this._siteKey===t._siteKey:!1}}function ufn(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Ndn,httpStatus:e};{const n=t?t.backoffCount:0,r=Won(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function cfn(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw Su.create("throttled",{time:KBe(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}function dfn(e=Sie(),t){e=Ni(e);const n=CC(e,"app-check");if(T8().initialized||Gdn(),_oe()&&Eoe().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&o.provider.isEqual(t.provider))return i;throw Su.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return ffn(e,t.provider,t.isTokenAutoRefreshEnabled),Os(e).isTokenAutoRefreshEnabled&&n9e(r,"INTERNAL",()=>{}),r}function ffn(e,t,n=!1){const r=Ddn(e,Object.assign({},GBe));r.activated=!0,r.provider=t,r.cachedTokenPromise=qdn(e).then(i=>(i&&zx(i)&&(r.token=i,i9e(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n&&e.automaticDataCollectionEnabled,!e.automaticDataCollectionEnabled&&n&&U0.warn("`isTokenAutoRefreshEnabled` is true but `automaticDataCollectionEnabled` was set to false during `initializeApp()`. This blocks automatic token refresh."),r.provider.initialize(e)}const hfn="app-check",pxe="app-check-internal";function pfn(){lg(new bp(hfn,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return Zdn(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(pxe).initialize()})),lg(new bp(pxe,e=>{const t=e.getProvider("app-check").getImmediate();return efn(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Tf(tfn,nfn)}pfn();function o9e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mfn=o9e,s9e=new EC("auth","Firebase",o9e());const O6=new c8("@firebase/auth");function gfn(e,...t){O6.logLevel<=Ir.WARN&&O6.warn(`Auth (${dw}): ${e}`,...t)}function RN(e,...t){O6.logLevel<=Ir.ERROR&&O6.error(`Auth (${dw}): ${e}`,...t)}function _p(e,...t){throw Toe(e,...t)}function Af(e,...t){return Toe(e,...t)}function Soe(e,t,n){const r=Object.assign(Object.assign({},mfn()),{[t]:n});return new EC("auth","Firebase",r).create(t,{appName:e.name})}function oy(e){return Soe(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yfn(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&_p(e,"argument-error"),Soe(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Toe(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return s9e.create(e,...t)}function Wn(e,t,...n){if(!e)throw Toe(t,...n)}function Sm(e){const t="INTERNAL ASSERTION FAILED: "+e;throw RN(t),new Error(t)}function fg(e,t){e||Sm(t)}function yY(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function vfn(){return mxe()==="http:"||mxe()==="https:"}function mxe(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function bfn(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vfn()||Ion()||"connection"in navigator)?navigator.onLine:!0}function wfn(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class uI{constructor(t,n){this.shortDelay=t,this.longDelay=n,fg(n>t,"Short delay should be less than long delay!"),this.isMobile=Aon()||Don()}get(){return bfn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Aoe(e,t){fg(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class a9e{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sm("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sm("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sm("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xfn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _fn=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Efn=new uI(3e4,6e4);function A8(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function DC(e,t,n,r,i={}){return l9e(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});const a=JR(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},o);return Ron()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&dv(e.emulatorConfig.host)&&(u.credentials="include"),a9e.fetch()(await c9e(e,e.config.apiHost,n,a),u)})}async function l9e(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},xfn),t);try{const i=new Cfn(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw L3(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw L3(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw L3(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw L3(e,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Soe(e,c,u);_p(e,c)}}catch(i){if(i instanceof Up)throw i;_p(e,"network-request-failed",{message:String(i)})}}async function u9e(e,t,n,r,i={}){const o=await DC(e,t,n,r,i);return"mfaPendingCredential"in o&&_p(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function c9e(e,t,n,r){const i=`${t}${n}?${r}`,o=e,s=o.config.emulator?Aoe(e.config,i):`${e.config.apiScheme}://${i}`;return _fn.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class Cfn{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Af(this.auth,"network-request-failed")),Efn.get())})}}function L3(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Af(e,t,r);return i.customData._tokenResponse=n,i}async function Sfn(e,t){return DC(e,"POST","/v1/accounts:delete",t)}async function N6(e,t){return DC(e,"POST","/v1/accounts:lookup",t)}function $2(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Tfn(e,t=!1){const n=Ni(e),r=await n.getIdToken(t),i=koe(r);Wn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:$2(vV(i.auth_time)),issuedAtTime:$2(vV(i.iat)),expirationTime:$2(vV(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function vV(e){return Number(e)*1e3}function koe(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return RN("JWT malformed, contained fewer than 3 sections"),null;try{const i=W8e(n);return i?JSON.parse(i):(RN("Failed to decode base64 JWT payload"),null)}catch(i){return RN("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gxe(e){const t=koe(e);return Wn(t,"internal-error"),Wn(typeof t.exp<"u","internal-error"),Wn(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function ak(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Up&&Afn(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Afn({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class kfn{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vY{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$2(this.lastLoginAt),this.creationTime=$2(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function M6(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ak(e,N6(n,{idToken:r}));Wn(i?.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?d9e(o.providerUserInfo):[],a=Ifn(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!a?.length,c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new vY(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function Rfn(e){const t=Ni(e);await M6(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Ifn(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function d9e(e){return e.map(t=>{var{providerId:n}=t,r=lk(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function Dfn(e,t){const n=await l9e(e,{},async()=>{const r=JR({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=await c9e(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return e.emulatorConfig&&dv(e.emulatorConfig.host)&&(l.credentials="include"),a9e.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Pfn(e,t){return DC(e,"POST","/v2/accounts:revokeToken",A8(e,t))}class h_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Wn(t.idToken,"internal-error"),Wn(typeof t.idToken<"u","internal-error"),Wn(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):gxe(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Wn(t.length!==0,"internal-error");const n=gxe(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Wn(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Dfn(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new h_;return r&&(Wn(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(Wn(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(Wn(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new h_,this.toJSON())}_performRefresh(){return Sm("not implemented")}}function i0(e,t){Wn(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class vf{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=lk(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kfn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vY(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await ak(this,this.stsTokenManager.getToken(this.auth,t));return Wn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Tfn(this,t)}reload(){return Rfn(this)}_assign(t){this!==t&&(Wn(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new vf(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Wn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await M6(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sc(this.auth.app))return Promise.reject(oy(this.auth));const t=await this.getIdToken();return await ak(this,Sfn(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:E,isAnonymous:C,providerData:S,stsTokenManager:T}=n;Wn(w&&T,t,"internal-error");const A=h_.fromJSON(this.name,T);Wn(typeof w=="string",t,"internal-error"),i0(d,t.name),i0(f,t.name),Wn(typeof E=="boolean",t,"internal-error"),Wn(typeof C=="boolean",t,"internal-error"),i0(h,t.name),i0(m,t.name),i0(p,t.name),i0(g,t.name),i0(y,t.name),i0(v,t.name);const D=new vf({uid:w,auth:t,email:f,emailVerified:E,displayName:d,isAnonymous:C,photoURL:m,phoneNumber:h,tenantId:p,stsTokenManager:A,createdAt:y,lastLoginAt:v});return S&&Array.isArray(S)&&(D.providerData=S.map(I=>Object.assign({},I))),g&&(D._redirectEventId=g),D}static async _fromIdTokenResponse(t,n,r=!1){const i=new h_;i.updateFromServerResponse(n);const o=new vf({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await M6(o),o}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];Wn(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?d9e(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new h_;a.updateFromIdToken(r);const l=new vf({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new vY(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,u),l}}const yxe=new Map;function Tm(e){fg(e instanceof Function,"Expected a class definition");let t=yxe.get(e);return t?(fg(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yxe.set(e,t),t)}class f9e{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}f9e.type="NONE";const vxe=f9e;function IN(e,t,n){return`firebase:${e}:${t}:${n}`}class p_{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=IN(this.userKey,i.apiKey,o),this.fullPersistenceKey=IN("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await N6(this.auth,{idToken:t}).catch(()=>{});return n?vf._fromGetAccountInfoResponse(this.auth,n,t):null}return vf._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new p_(Tm(vxe),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Tm(vxe);const s=IN(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){let d;if(typeof c=="string"){const f=await N6(t,{idToken:c}).catch(()=>{});if(!f)break;d=await vf._fromGetAccountInfoResponse(t,f,c)}else d=vf._fromJSON(t,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new p_(o,t,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new p_(o,t,r))}}function bxe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(g9e(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(h9e(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(v9e(t))return"Blackberry";if(b9e(t))return"Webos";if(p9e(t))return"Safari";if((t.includes("chrome/")||m9e(t))&&!t.includes("edge/"))return"Chrome";if(y9e(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function h9e(e=hl()){return/firefox\//i.test(e)}function p9e(e=hl()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function m9e(e=hl()){return/crios\//i.test(e)}function g9e(e=hl()){return/iemobile/i.test(e)}function y9e(e=hl()){return/android/i.test(e)}function v9e(e=hl()){return/blackberry/i.test(e)}function b9e(e=hl()){return/webos/i.test(e)}function Roe(e=hl()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ofn(e=hl()){var t;return Roe(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Nfn(){return Pon()&&document.documentMode===10}function w9e(e=hl()){return Roe(e)||y9e(e)||b9e(e)||v9e(e)||/windows phone/i.test(e)||g9e(e)}function x9e(e,t=[]){let n;switch(e){case"Browser":n=bxe(hl());break;case"Worker":n=`${bxe(hl())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${dw}/${r}`}class Mfn{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{const l=t(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function $fn(e,t={}){return DC(e,"GET","/v2/passwordPolicy",A8(e,t))}const Ffn=6;class Lfn{constructor(t){var n,r,i,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Ffn,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class jfn{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wxe(this),this.idTokenSubscription=new wxe(this),this.beforeStateQueue=new Mfn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s9e,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Tm(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await p_.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await N6(this,{idToken:t}),r=await vf._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(sc(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Wn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await M6(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=wfn()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(sc(this.app))return Promise.reject(oy(this));const n=t?Ni(t):null;return n&&Wn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Wn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return sc(this.app)?Promise.reject(oy(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return sc(this.app)?Promise.reject(oy(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tm(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await $fn(this),n=new Lfn(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new EC("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Pfn(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Tm(t)||this._popupRedirectResolver;Wn(n,this,"argument-error"),this.redirectPersistenceManager=await p_.create(this,[Tm(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wn(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Wn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=x9e(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;if(sc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&gfn(`Error while retrieving App Check token: ${n.error}`),n?.token}}function cI(e){return Ni(e)}class wxe{constructor(t){this.auth=t,this.observer=null,this.addObserver=jon(n=>this.observer=n)}get next(){return Wn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ioe={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bfn(e){Ioe=e}function zfn(e){return Ioe.loadJS(e)}function Ufn(){return Ioe.gapiScript}function Vfn(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function Hfn(e,t){const n=CC(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(E1(o,t??{}))return i;_p(i,"already-initialized")}return n.initialize({options:t})}function qfn(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Tm);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function Wfn(e,t,n){const r=cI(e);Wn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,o=_9e(t),{host:s,port:a}=Gfn(t),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},c=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Wn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Wn(E1(u,r.config.emulator)&&E1(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,dv(s)?(_ie(`${o}//${s}${l}`),Q8e("Auth",!0)):Yfn()}function _9e(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Gfn(e){const t=_9e(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:xxe(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:xxe(s)}}}function xxe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Yfn(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class E9e{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Sm("not implemented")}_getIdTokenResponse(t){return Sm("not implemented")}_linkToIdToken(t,n){return Sm("not implemented")}_getReauthenticationResolver(t){return Sm("not implemented")}}async function m_(e,t){return u9e(e,"POST","/v1/accounts:signInWithIdp",A8(e,t))}const Kfn="http://localhost";class k1 extends E9e{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new k1(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):_p("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=lk(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new k1(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return m_(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,m_(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,m_(t,n)}buildRequest(){const t={requestUri:Kfn,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=JR(n)}return t}}class Doe{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class dI extends Doe{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class T0 extends dI{constructor(){super("facebook.com")}static credential(t){return k1._fromParams({providerId:T0.PROVIDER_ID,signInMethod:T0.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return T0.credentialFromTaggedObject(t)}static credentialFromError(t){return T0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return T0.credential(t.oauthAccessToken)}catch{return null}}}T0.FACEBOOK_SIGN_IN_METHOD="facebook.com";T0.PROVIDER_ID="facebook.com";class mm extends dI{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return k1._fromParams({providerId:mm.PROVIDER_ID,signInMethod:mm.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return mm.credentialFromTaggedObject(t)}static credentialFromError(t){return mm.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return mm.credential(n,r)}catch{return null}}}mm.GOOGLE_SIGN_IN_METHOD="google.com";mm.PROVIDER_ID="google.com";class A0 extends dI{constructor(){super("github.com")}static credential(t){return k1._fromParams({providerId:A0.PROVIDER_ID,signInMethod:A0.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return A0.credentialFromTaggedObject(t)}static credentialFromError(t){return A0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return A0.credential(t.oauthAccessToken)}catch{return null}}}A0.GITHUB_SIGN_IN_METHOD="github.com";A0.PROVIDER_ID="github.com";class k0 extends dI{constructor(){super("twitter.com")}static credential(t,n){return k1._fromParams({providerId:k0.PROVIDER_ID,signInMethod:k0.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return k0.credentialFromTaggedObject(t)}static credentialFromError(t){return k0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return k0.credential(n,r)}catch{return null}}}k0.TWITTER_SIGN_IN_METHOD="twitter.com";k0.PROVIDER_ID="twitter.com";async function Xfn(e,t){return u9e(e,"POST","/v1/accounts:signUp",A8(e,t))}class $y{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await vf._fromIdTokenResponse(t,r,i),s=_xe(r);return new $y({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=_xe(r);return new $y({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function _xe(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function Qfn(e){var t;if(sc(e.app))return Promise.reject(oy(e));const n=cI(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new $y({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Xfn(n,{returnSecureToken:!0}),i=await $y._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}class $6 extends Up{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$6.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new $6(t,n,r,i)}}function C9e(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?$6._fromErrorAndOperation(e,o,t,r):o})}async function Jfn(e,t,n=!1){const r=await ak(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return $y._forOperation(e,"link",r)}async function Zfn(e,t,n=!1){const{auth:r}=e;if(sc(r.app))return Promise.reject(oy(r));const i="reauthenticate";try{const o=await ak(e,C9e(r,i,t,e),n);Wn(o.idToken,r,"internal-error");const s=koe(o.idToken);Wn(s,r,"internal-error");const{sub:a}=s;return Wn(e.uid===a,r,"user-mismatch"),$y._forOperation(e,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&_p(r,"user-mismatch"),o}}async function ehn(e,t,n=!1){if(sc(e.app))return Promise.reject(oy(e));const r="signIn",i=await C9e(e,r,t),o=await $y._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function thn(e,t,n,r){return Ni(e).onIdTokenChanged(t,n,r)}function nhn(e,t,n){return Ni(e).beforeAuthStateChanged(t,n)}function rhn(e,t,n,r){return Ni(e).onAuthStateChanged(t,n,r)}function ihn(e){return Ni(e).signOut()}const F6="__sak";class S9e{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(F6,"1"),this.storage.removeItem(F6),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const ohn=1e3,shn=10;class T9e extends S9e{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w9e(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Nfn()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,shn):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},ohn)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}T9e.type="LOCAL";const ahn=T9e;class A9e extends S9e{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}A9e.type="SESSION";const k9e=A9e;function lhn(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class k8{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new k8(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!s?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await lhn(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}k8.receivers=[];function Poe(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}class uhn{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Poe("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function ip(){return window}function chn(e){ip().location.href=e}function R9e(){return typeof ip().WorkerGlobalScope<"u"&&typeof ip().importScripts=="function"}async function dhn(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fhn(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function hhn(){return R9e()?self:null}const I9e="firebaseLocalStorageDb",phn=1,L6="firebaseLocalStorage",D9e="fbase_key";class fI{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function R8(e,t){return e.transaction([L6],t?"readwrite":"readonly").objectStore(L6)}function mhn(){const e=indexedDB.deleteDatabase(I9e);return new fI(e).toPromise()}function bY(){const e=indexedDB.open(I9e,phn);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(L6,{keyPath:D9e})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(L6)?t(r):(r.close(),await mhn(),t(await bY()))})})}async function Exe(e,t,n){const r=R8(e,!0).put({[D9e]:t,value:n});return new fI(r).toPromise()}async function ghn(e,t){const n=R8(e,!1).get(t),r=await new fI(n).toPromise();return r===void 0?null:r.value}function Cxe(e,t){const n=R8(e,!0).delete(t);return new fI(n).toPromise()}const yhn=800,vhn=3;class P9e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bY(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>vhn)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R9e()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=k8._getInstance(hhn()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await dhn(),!this.activeServiceWorker)return;this.sender=new uhn(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||fhn()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bY();return await Exe(t,F6,"1"),await Cxe(t,F6),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Exe(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>ghn(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cxe(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=R8(i,!1).getAll();return new fI(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yhn)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}P9e.type="LOCAL";const bhn=P9e;new uI(3e4,6e4);function O9e(e,t){return t?Tm(t):(Wn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class Ooe extends E9e{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return m_(t,this._buildIdpRequest())}_linkToIdToken(t,n){return m_(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return m_(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function whn(e){return ehn(e.auth,new Ooe(e),e.bypassAuthState)}function xhn(e){const{auth:t,user:n}=e;return Wn(n,t,"internal-error"),Zfn(n,new Ooe(e),e.bypassAuthState)}async function _hn(e){const{auth:t,user:n}=e;return Wn(n,t,"internal-error"),Jfn(n,new Ooe(e),e.bypassAuthState)}class N9e{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return whn;case"linkViaPopup":case"linkViaRedirect":return _hn;case"reauthViaPopup":case"reauthViaRedirect":return xhn;default:_p(this.auth,"internal-error")}}resolve(t){fg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ehn=new uI(2e3,1e4);async function Chn(e,t,n){if(sc(e.app))return Promise.reject(Af(e,"operation-not-supported-in-this-environment"));const r=cI(e);yfn(e,t,Doe);const i=O9e(r,n);return new Cb(r,"signInViaPopup",t,i).executeNotNull()}class Cb extends N9e{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Cb.currentPopupAction&&Cb.currentPopupAction.cancel(),Cb.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Wn(t,this.auth,"internal-error"),t}async onExecution(){fg(this.filter.length===1,"Popup operations only handle one event");const t=Poe();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Af(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Af(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cb.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Af(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ehn.get())};t()}}Cb.currentPopupAction=null;const Shn="pendingRedirect",DN=new Map;class Thn extends N9e{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=DN.get(this.auth._key());if(!t){try{const r=await Ahn(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}DN.set(this.auth._key(),t)}return this.bypassAuthState||DN.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ahn(e,t){const n=Ihn(t),r=Rhn(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function khn(e,t){DN.set(e._key(),t)}function Rhn(e){return Tm(e._redirectPersistence)}function Ihn(e){return IN(Shn,e.config.apiKey,e.name)}async function Dhn(e,t,n=!1){if(sc(e.app))return Promise.reject(oy(e));const r=cI(e),i=O9e(r,t),s=await new Thn(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}const Phn=600*1e3;class Ohn{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Nhn(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!M9e(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Af(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Phn&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sxe(t))}saveEventToCache(t){this.cachedEventUids.add(Sxe(t)),this.lastProcessedEventTime=Date.now()}}function Sxe(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function M9e({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function Nhn(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M9e(e);default:return!1}}async function Mhn(e,t={}){return DC(e,"GET","/v1/projects",t)}const $hn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fhn=/^https?/;async function Lhn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Mhn(e);for(const n of t)try{if(jhn(n))return}catch{}_p(e,"unauthorized-domain")}function jhn(e){const t=yY(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Fhn.test(n))return!1;if($hn.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Bhn=new uI(3e4,6e4);function Txe(){const e=ip().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function zhn(e){return new Promise((t,n)=>{var r,i,o;function s(){Txe(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Txe(),n(Af(e,"network-request-failed"))},timeout:Bhn.get()})}if(!((i=(r=ip().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=ip().gapi)===null||o===void 0)&&o.load)s();else{const a=Vfn("iframefcb");return ip()[a]=()=>{gapi.load?s():n(Af(e,"network-request-failed"))},zfn(`${Ufn()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw PN=null,t})}let PN=null;function Uhn(e){return PN=PN||zhn(e),PN}const Vhn=new uI(5e3,15e3),Hhn="__/auth/iframe",qhn="emulator/auth/iframe",Whn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ghn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yhn(e){const t=e.config;Wn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Aoe(t,qhn):`https://${e.config.authDomain}/${Hhn}`,r={apiKey:t.apiKey,appName:e.name,v:dw},i=Ghn.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${JR(r).slice(1)}`}async function Khn(e){const t=await Uhn(e),n=ip().gapi;return Wn(n,e,"internal-error"),t.open({where:document.body,url:Yhn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Whn,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Af(e,"network-request-failed"),a=ip().setTimeout(()=>{o(s)},Vhn.get());function l(){ip().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}const Xhn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qhn=500,Jhn=600,Zhn="_blank",epn="http://localhost";class Axe{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tpn(e,t,n,r=Qhn,i=Jhn){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Xhn),{width:r.toString(),height:i.toString(),top:o,left:s}),u=hl().toLowerCase();n&&(a=m9e(u)?Zhn:n),h9e(u)&&(t=t||epn,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,m])=>`${f}${h}=${m},`,"");if(Ofn(u)&&a!=="_self")return npn(t||"",a),new Axe(null);const d=window.open(t||"",a,c);Wn(d,e,"popup-blocked");try{d.focus()}catch{}return new Axe(d)}function npn(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const rpn="__/auth/handler",ipn="emulator/auth/handler",opn=encodeURIComponent("fac");async function kxe(e,t,n,r,i,o){Wn(e.config.authDomain,e,"auth-domain-config-required"),Wn(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:dw,eventId:i};if(t instanceof Doe){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Lon(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(t instanceof dI){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${opn}=${encodeURIComponent(l)}`:"";return`${spn(e)}?${JR(a).slice(1)}${u}`}function spn({config:e}){return e.emulator?Aoe(e,ipn):`https://${e.authDomain}/${rpn}`}const bV="webStorageSupport";class apn{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k9e,this._completeRedirectFn=Dhn,this._overrideRedirectResult=khn}async _openPopup(t,n,r,i){var o;fg((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await kxe(t,n,r,yY(),i);return tpn(t,s,Poe())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await kxe(t,n,r,yY(),i);return chn(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(fg(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Khn(t),r=new Ohn(t);return n.register("authEvent",i=>(Wn(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(bV,{type:bV},i=>{var o;const s=(o=i?.[0])===null||o===void 0?void 0:o[bV];s!==void 0&&n(!!s),_p(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Lhn(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return w9e()||p9e()||Roe()}}const $9e=apn;var Rxe="@firebase/auth",Ixe="1.10.8";class lpn{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Wn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function upn(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cpn(e){lg(new bp("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Wn(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x9e(e)},u=new jfn(r,i,o,l);return qfn(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),lg(new bp("auth-internal",t=>{const n=cI(t.getProvider("auth").getImmediate());return(r=>new lpn(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tf(Rxe,Ixe,upn(e)),Tf(Rxe,Ixe,"esm2017")}const dpn=300,fpn=X8e("authIdTokenMaxAge")||dpn;let Dxe=null;const hpn=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fpn)return;const i=n?.token;Dxe!==i&&(Dxe=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function j3(e=Sie()){const t=CC(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Hfn(e,{popupRedirectResolver:$9e,persistence:[bhn,ahn,k9e]}),r=X8e("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=hpn(o.toString());nhn(n,s,()=>s(n.currentUser)),thn(n,a=>s(a))}}const i=Y8e("auth");return i&&Wfn(n,`http://${i}`),n}function ppn(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}Bfn({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=Af("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",ppn().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cpn("Browser");class mpn extends lon{RECAPTCHAV3TOKEN="6LdjOd0lAAAAAASvFfDZFWgtbzFSS9Y3so8rHJth";firestore;studyCollection;storage;constructor(t=!1){super("firebase",t);const n=mon.parse(`
{
  apiKey: "AIzaSyAm9QtUgx1lYPDeE0vKLN-lK17WfUGVkLo",
  authDomain: "revisit-utah.firebaseapp.com",
  projectId: "revisit-utah",
  storageBucket: "revisit-utah.appspot.com",
  messagingSenderId: "811568460432",
  appId: "1:811568460432:web:995f6b4f1fc8042b5dde15"
}
`),r=eje(n);this.firestore=vdn(r,{}),this.studyCollection=os(this.firestore,"_revisit"),this.storage=A3();try{dfn(r,{provider:new Coe(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async _getFromStorage(t,n,r){const i=Vc(this.storage,`${this.collectionPrefix}${r||this.studyId}/${t}_${n}`);let o={};try{const s=await eT(i),l=await(await fetch(s)).text();o=JSON.parse(l)}catch{console.warn(`${t} does not have ${n} for ${this.collectionPrefix}${this.studyId}.`)}return o}async _pushToStorage(t,n,r){const i=Vc(this.storage,`${this.collectionPrefix}${this.studyId}/${t}_${n}`);if(r instanceof Blob)await lV(i,r);else if(Object.keys(r).length>0){const o=new Blob([JSON.stringify(r)],{type:"application/json"});await lV(i,o)}}async _deleteFromStorage(t,n){const r=Vc(this.storage,`${this.collectionPrefix}${this.studyId}/${t}_${n}`);await cwe(r)}async _cacheStorageObject(t,n){const r=Vc(this.storage,`${this.collectionPrefix}${this.studyId}/${t}_${n}`);await yln(r,{cacheControl:"public,max-age=31536000"})}async _verifyStudyDatabase(){if(!this.studyCollection)throw new Error("Study database not initialized")}async _getCurrentConfigHash(){await this.verifyStudyDatabase();const t=ai(this.studyCollection,"configHash"),n=await O3(t);return n.exists()?n.data().configHash:null}async _setCurrentConfigHash(t){await this.verifyStudyDatabase();const n=ai(this.studyCollection,"configHash");await fu(n,{configHash:t})}async getAllSequenceAssignments(t){const n=os(this.firestore,`${this.collectionPrefix}${t}`),r=ai(n,"sequenceAssignment"),i=os(r,"sequenceAssignment");return(await N3(i)).docs.map(s=>s.data()).map(s=>({...s,timestamp:s.timestamp instanceof ui?s.timestamp.toMillis():s.timestamp,createdTime:s.createdTime instanceof ui?s.createdTime.toMillis():s.createdTime,completed:s.completed instanceof ui?s.completed.toMillis():s.completed})).sort((s,a)=>s.timestamp-a.timestamp)}_setupSequenceAssignmentListener(t,n){const r=os(this.firestore,`${this.collectionPrefix}${t}`),i=ai(r,"sequenceAssignment"),o=os(i,"sequenceAssignment");return kdn(o,s=>{const a=s.docs.map(l=>l.data()).map(l=>({...l,timestamp:l.timestamp instanceof ui?l.timestamp.toMillis():l.timestamp,createdTime:l.createdTime instanceof ui?l.createdTime.toMillis():l.createdTime,completed:l.completed instanceof ui?l.completed.toMillis():l.completed})).sort((l,u)=>l.timestamp-u.timestamp);n(a)})}async _createSequenceAssignment(t,n,r=!1){if(this.studyId===void 0)throw new Error("Study ID is not set");const i=ai(this.studyCollection,"sequenceAssignment"),o=os(i,"sequenceAssignment"),s=ai(o,t),a=r?{...n,timestamp:mV()}:n;await fu(s,{...a,createdTime:mV()})}async _completeCurrentParticipantRealtime(){if(await this.verifyStudyDatabase(),!this.currentParticipantId)throw new Error("Participant not initialized");if(!this.studyId)throw new Error("Study ID is not set");const t=ai(this.studyCollection,"sequenceAssignment"),n=os(t,"sequenceAssignment"),r=ai(n,this.currentParticipantId);await M3(r,{completed:mV()})}async _rejectParticipantRealtime(t){if(await this.verifyStudyDatabase(),!this.studyId)throw new Error("Study ID is not set");const n=os(this.firestore,`${this.collectionPrefix}${this.studyId}`),r=ai(n,"sequenceAssignment"),i=os(r,"sequenceAssignment"),o=ai(i,t);await M3(o,{rejected:!0})}async _undoRejectParticipantRealtime(t){if(await this.verifyStudyDatabase(),!this.currentParticipantId)throw new Error("Participant not initialized");if(!this.studyId)throw new Error("Study ID is not set");const n=os(this.firestore,`${this.collectionPrefix}${this.studyId}`),r=ai(n,"sequenceAssignment"),i=os(r,"sequenceAssignment"),o=ai(i,t);await M3(o,{rejected:!1})}async _claimSequenceAssignment(t){if(await this.verifyStudyDatabase(),!this.currentParticipantId)throw new Error("Participant not initialized");if(!this.studyId)throw new Error("Study ID is not set");const n=ai(this.studyCollection,"sequenceAssignment"),r=os(n,"sequenceAssignment"),i=ai(r,t);await M3(i,{claimed:!0})}async initializeStudyDb(t){try{const n=j3();if(await n.authStateReady(),!n.currentUser)try{if(await Qfn(n),!n.currentUser)throw new Error("Login failed with firebase")}catch(r){console.error("Firebase anonymous sign-in failed:",r)}this.studyCollection=os(this.firestore,`${this.collectionPrefix}${t}`),this.studyId=t}catch{console.warn("Failed to connect to Firebase.")}}async connect(){try{await wdn(this.firestore),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async getModes(t){const n=ai(this.firestore,`${this.collectionPrefix}${t}`,"modes"),r=await O3(n);if(r.exists())return r.data();const i={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return await fu(n,i),i}async setMode(t,n,r){const i=ai(this.firestore,`${this.collectionPrefix}${t}`,"modes");return await fu(i,{[n]:r},{merge:!0})}async _setModesDocument(t,n){const r=ai(this.firestore,`${this.collectionPrefix}${t}`,"modes");await fu(r,n,{merge:!0})}async _getAudioUrl(t,n){const r=A3(),i=Vc(r,`${this.collectionPrefix}${this.studyId}/audio/${n}_${t}`);try{return await eT(i)}catch{return console.warn(`Audio for task ${t} and participant ${n} not found.`),null}}async _getScreenRecordingUrl(t,n){const r=A3(),i=Vc(r,`${this.collectionPrefix}${this.studyId}/screenRecording/${n}_${t}`);try{return await eT(i)}catch{return console.warn(`Screen recording for task ${t} and participant ${n} not found.`),null}}async _getTranscriptUrl(t,n){const r=A3(),i=Vc(r,`${this.collectionPrefix}${this.studyId}/audio/${n}_${t}.wav_transcription.txt`);try{return await eT(i)}catch{return console.warn(`Transcript for task ${t} and participant ${n} not found.`),null}}async _testingReset(){throw new Error("Testing reset not implemented for FirebaseStorageEngine")}async getSnapshots(t){try{const n=ai(this.firestore,`${this.collectionPrefix}${t}`,"snapshots"),r=await O3(n);return r.exists()?r.data():{}}catch(n){throw console.error("Error listing collections with prefix:",n),n}}async _directoryExists(t){try{const n=Vc(this.storage,t);return(await uV(n)).items.length>0}catch(n){if(n.code==="storage/object-not-found")return!1;throw console.error("Error checking if directory exists:",n),n}}async _copyDirectory(t,n){try{const r=Vc(this.storage,t),o=(await uV(r)).items.map(s=>{const a=s.fullPath,l=a.replace(t,n);return this._copyFile(a,l)});await Promise.all(o)}catch(r){console.error("Error copying file:",r)}}async _deleteDirectory(t){try{const n=Vc(this.storage,t),i=(await uV(n)).items.map(o=>cwe(o));await Promise.all(i)}catch(n){console.error("Error deleting files in directory:",n)}}async _copyRealtimeData(t,n){const r=os(this.firestore,t),i=ai(r,"sequenceAssignment"),o=os(i,"sequenceAssignment"),s=os(this.firestore,n),a=ai(s,"sequenceAssignment");await fu(a,{});const l=os(a,"sequenceAssignment"),u=await N3(o),c=uxe(this.firestore);u.docs.forEach(d=>{const f=ai(l,d.id);c.set(f,d.data())}),await c.commit()}async _deleteRealtimeData(t){const n=os(this.firestore,t),r=ai(n,"sequenceAssignment"),i=os(r,"sequenceAssignment"),o=await N3(i),s=uxe(this.firestore);o.forEach(a=>{const l=ai(i,a.id);s.delete(l)}),s.delete(r),await s.commit()}async _addDirectoryNameToSnapshots(t){try{const n=ai(this.firestore,`${this.collectionPrefix}${this.studyId}`,"snapshots");await fu(n,{[t]:{name:t}},{merge:!0})}catch(n){throw console.error("Error adding collection to metadata:",n),n}}async _removeDirectoryNameFromSnapshots(t){try{const n=ai(this.firestore,`${this.collectionPrefix}${this.studyId}`,"snapshots"),r=await O3(n);if(r.exists()){const i=r.data();i[t]?(delete i[t],await fu(n,i)):console.warn(`${t} does not exist in metadata.`)}else console.warn("No metadata found.")}catch(n){throw console.error("Error removing collection from metadata:",n),n}}async _changeDirectoryNameInSnapshots(t,n){const r=ai(this.firestore,`${this.collectionPrefix}${this.studyId}`,"snapshots");await fu(r,{[t]:{name:n}},{merge:!0})}async _copyFile(t,n){try{const r=Vc(this.storage,t),i=Vc(this.storage,n),o=await eT(r),a=await(await fetch(o)).blob();await lV(i,a)}catch(r){console.error("Error copying file:",r)}}async getUserManagementData(t){if(Object.keys(this.userManagementData).length===0){const n=os(this.firestore,"user-management"),r=await N3(n),i=Object.fromEntries(r.docs.map(o=>[o.id,o.data()]));this.userManagementData=i}if(t in this.userManagementData){if(t==="authentication"){const n=this.userManagementData[t];if(n&&typeof n=="object"&&"isEnabled"in n)return n}else if(t==="adminUsers"){const n=this.userManagementData[t];if(n&&typeof n=="object"&&"adminUsersList"in n)return n}}}async _updateAdminUsersList(t){await fu(ai(this.firestore,"user-management","adminUsers"),{adminUsersList:t.adminUsersList})}async changeAuth(t){await fu(ai(this.firestore,"user-management","authentication"),{isEnabled:t})}async addAdminUser(t){const n=await this.getUserManagementData("adminUsers");if(n?.adminUsersList){const r=n.adminUsersList;r.find(o=>o.email===t.email)||(r.push({email:t.email,uid:t.uid}),await fu(ai(this.firestore,"user-management","adminUsers"),{adminUsersList:r}))}else await fu(ai(this.firestore,"user-management","adminUsers"),{adminUsersList:[{email:t.email,uid:t.uid}]})}async removeAdminUser(t){const n=await this.getUserManagementData("adminUsers");n?.adminUsersList&&n.adminUsersList.length>1&&n.adminUsersList.find(r=>r.email===t)&&(n.adminUsersList=n?.adminUsersList.filter(r=>r.email!==t),await fu(ai(this.firestore,"user-management","adminUsers"),{adminUsersList:n?.adminUsersList}))}async login(){const t=new mm,n=j3();return Chn(n,t,$9e),{email:n.currentUser?.email||null,uid:n.currentUser?.uid||null}}unsubscribe(t){const n=j3(),r=rhn(n,async i=>await t(i));return()=>r()}async logout(){const t=j3();await ihn(t)}async getTranscription(t,n){return await this._getFromStorage(`audio/${n}_${t}.wav`,"transcription.txt")}async getEditedTranscript(t,n,r){const i=await this._getFromStorage(`audio/transcriptAndTags/${n}/${t}/${r}`,"editedText");if(Array.isArray(i)){const o=await this.getTags("text");return o&&i.forEach(s=>{s.selectedTags=s.selectedTags.map(a=>o.find(u=>u.id===a.id))}),i}return this.saveEditedTranscript(t,n,r,[]),[]}async saveEditedTranscript(t,n,r,i){const o=i.map(s=>({...s,selectedTags:s.selectedTags.filter(a=>a!==void 0)}));return this._pushToStorage(`audio/transcriptAndTags/${n}/${t}/${r}`,"editedText",o)}}async function gpn(){let e,t=!1;{const n=new mpn;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new uon;await n.connect(),e=n}return e}function tT({title:e}){const t=Dd();return k.useEffect(()=>{document.title=e},[t,e]),null}async function ypn(){const t=await(await fetch(`${bo}global.json`)).text();return fen(t)}function vpn(){const[e,t]=k.useState(null),[n,r]=k.useState({});k.useEffect(()=>{async function a(){e&&r(await men(e))}a()},[e]),k.useEffect(()=>{e||ypn().then(a=>{t(a)})},[e]);const{storageEngine:i,setStorageEngine:o}=Mi();k.useEffect(()=>{if(i!==void 0)return;async function a(){const l=await gpn();o(l)}a()},[o,i]);const s=async a=>i&&Yc(i)?!(await i.getModes(a)).analyticsInterfacePubliclyAccessible:!1;return e?x.jsx(ZZe,{basename:bo,children:x.jsx(uht,{children:x.jsx(met,{children:x.jsxs(kZe,{children:[x.jsx(Wv,{path:"/",element:x.jsxs(x.Fragment,{children:[x.jsx(tT,{title:"ReVISit | Home"}),x.jsxs(io,{padding:"md",header:{height:70},children:[x.jsx(yN,{studyIds:e.configsList}),x.jsx(dht,{globalConfig:e,studyConfigs:n})]})]})}),x.jsx(Wv,{path:"/:studyId/*",element:x.jsxs(x.Fragment,{children:[x.jsx(tT,{title:"ReVISit | Study"}),x.jsx(gen,{globalConfig:e})]})}),x.jsx(Wv,{path:"/analysis/stats/:studyId/:analysisTab/:trialId?",element:x.jsxs(x.Fragment,{children:[x.jsx(tT,{title:"ReVISit | Analysis"}),x.jsx($1e,{paramToCheck:"studyId",paramCallback:s,children:x.jsx(io,{padding:"md",header:{height:70},children:x.jsx(ton,{globalConfig:e})})})]})}),x.jsx(Wv,{path:"/analysis/stats/:studyId",element:x.jsx(uFe,{to:"./summary",replace:!0})}),x.jsx(Wv,{path:"/settings",element:x.jsxs($1e,{children:[x.jsx(tT,{title:"ReVISit | Settings"}),x.jsxs(io,{padding:"md",header:{height:70},children:[x.jsx(yN,{studyIds:e.configsList}),x.jsx(io.Main,{children:x.jsx(ron,{})})]})]})}),x.jsx(Wv,{path:"/login",element:x.jsxs(x.Fragment,{children:[x.jsx(tT,{title:"ReVISit | Login"}),x.jsxs(io,{padding:"md",header:{height:70},children:[x.jsx(yN,{studyIds:e.configsList}),x.jsx(io.Main,{children:x.jsx(non,{})})]})]})})]})})})}):null}Q7e.createRoot(document.getElementById("root")).render(x.jsx(dn.StrictMode,{children:x.jsx(IJe,{children:x.jsxs(r_e,{children:[x.jsx(xg,{}),x.jsx(vpn,{})]})})}));
