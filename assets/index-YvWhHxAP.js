function G$e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Y$e(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var gF={exports:{}},R_={},yF={exports:{}},fr={};var Rre;function K$e(){if(Rre)return fr;Rre=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator;function f(L){return L===null||typeof L!="object"?null:(L=d&&L[d]||L["@@iterator"],typeof L=="function"?L:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function g(L,H,B){this.props=L,this.context=H,this.refs=m,this.updater=B||h}g.prototype.isReactComponent={},g.prototype.setState=function(L,H){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,H,"setState")},g.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function v(){}v.prototype=g.prototype;function y(L,H,B){this.props=L,this.context=H,this.refs=m,this.updater=B||h}var x=y.prototype=new v;x.constructor=y,p(x,g.prototype),x.isPureReactComponent=!0;var E=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function k(L,H,B){var Y,Q={},ne=null,ce=null;if(H!=null)for(Y in H.ref!==void 0&&(ce=H.ref),H.key!==void 0&&(ne=""+H.key),H)_.call(H,Y)&&!T.hasOwnProperty(Y)&&(Q[Y]=H[Y]);var le=arguments.length-2;if(le===1)Q.children=B;else if(1<le){for(var ue=Array(le),ae=0;ae<le;ae++)ue[ae]=arguments[ae+2];Q.children=ue}if(L&&L.defaultProps)for(Y in le=L.defaultProps,le)Q[Y]===void 0&&(Q[Y]=le[Y]);return{$$typeof:e,type:L,key:ne,ref:ce,props:Q,_owner:S.current}}function R(L,H){return{$$typeof:e,type:L.type,key:H,ref:L.ref,props:L.props,_owner:L._owner}}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function P(L){var H={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(B){return H[B]})}var N=/\/+/g;function M(L,H){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):H.toString(36)}function O(L,H,B,Y,Q){var ne=typeof L;(ne==="undefined"||ne==="boolean")&&(L=null);var ce=!1;if(L===null)ce=!0;else switch(ne){case"string":case"number":ce=!0;break;case"object":switch(L.$$typeof){case e:case t:ce=!0}}if(ce)return ce=L,Q=Q(ce),L=Y===""?"."+M(ce,0):Y,E(Q)?(B="",L!=null&&(B=L.replace(N,"$&/")+"/"),O(Q,H,B,"",function(ae){return ae})):Q!=null&&(I(Q)&&(Q=R(Q,B+(!Q.key||ce&&ce.key===Q.key?"":(""+Q.key).replace(N,"$&/")+"/")+L)),H.push(Q)),1;if(ce=0,Y=Y===""?".":Y+":",E(L))for(var le=0;le<L.length;le++){ne=L[le];var ue=Y+M(ne,le);ce+=O(ne,H,B,ue,Q)}else if(ue=f(L),typeof ue=="function")for(L=ue.call(L),le=0;!(ne=L.next()).done;)ne=ne.value,ue=Y+M(ne,le++),ce+=O(ne,H,B,ue,Q);else if(ne==="object")throw H=String(L),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return ce}function j(L,H,B){if(L==null)return L;var Y=[],Q=0;return O(L,Y,"","",function(ne){return H.call(B,ne,Q++)}),Y}function U(L){if(L._status===-1){var H=L._result;H=H(),H.then(function(B){(L._status===0||L._status===-1)&&(L._status=1,L._result=B)},function(B){(L._status===0||L._status===-1)&&(L._status=2,L._result=B)}),L._status===-1&&(L._status=0,L._result=H)}if(L._status===1)return L._result.default;throw L._result}var q={current:null},W={transition:null},V={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:W,ReactCurrentOwner:S};function z(){throw Error("act(...) is not supported in production builds of React.")}return fr.Children={map:j,forEach:function(L,H,B){j(L,function(){H.apply(this,arguments)},B)},count:function(L){var H=0;return j(L,function(){H++}),H},toArray:function(L){return j(L,function(H){return H})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},fr.Component=g,fr.Fragment=n,fr.Profiler=i,fr.PureComponent=y,fr.StrictMode=r,fr.Suspense=l,fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,fr.act=z,fr.cloneElement=function(L,H,B){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Y=p({},L.props),Q=L.key,ne=L.ref,ce=L._owner;if(H!=null){if(H.ref!==void 0&&(ne=H.ref,ce=S.current),H.key!==void 0&&(Q=""+H.key),L.type&&L.type.defaultProps)var le=L.type.defaultProps;for(ue in H)_.call(H,ue)&&!T.hasOwnProperty(ue)&&(Y[ue]=H[ue]===void 0&&le!==void 0?le[ue]:H[ue])}var ue=arguments.length-2;if(ue===1)Y.children=B;else if(1<ue){le=Array(ue);for(var ae=0;ae<ue;ae++)le[ae]=arguments[ae+2];Y.children=le}return{$$typeof:e,type:L.type,key:Q,ref:ne,props:Y,_owner:ce}},fr.createContext=function(L){return L={$$typeof:s,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:o,_context:L},L.Consumer=L},fr.createElement=k,fr.createFactory=function(L){var H=k.bind(null,L);return H.type=L,H},fr.createRef=function(){return{current:null}},fr.forwardRef=function(L){return{$$typeof:a,render:L}},fr.isValidElement=I,fr.lazy=function(L){return{$$typeof:c,_payload:{_status:-1,_result:L},_init:U}},fr.memo=function(L,H){return{$$typeof:u,type:L,compare:H===void 0?null:H}},fr.startTransition=function(L){var H=W.transition;W.transition={};try{L()}finally{W.transition=H}},fr.unstable_act=z,fr.useCallback=function(L,H){return q.current.useCallback(L,H)},fr.useContext=function(L){return q.current.useContext(L)},fr.useDebugValue=function(){},fr.useDeferredValue=function(L){return q.current.useDeferredValue(L)},fr.useEffect=function(L,H){return q.current.useEffect(L,H)},fr.useId=function(){return q.current.useId()},fr.useImperativeHandle=function(L,H,B){return q.current.useImperativeHandle(L,H,B)},fr.useInsertionEffect=function(L,H){return q.current.useInsertionEffect(L,H)},fr.useLayoutEffect=function(L,H){return q.current.useLayoutEffect(L,H)},fr.useMemo=function(L,H){return q.current.useMemo(L,H)},fr.useReducer=function(L,H,B){return q.current.useReducer(L,H,B)},fr.useRef=function(L){return q.current.useRef(L)},fr.useState=function(L){return q.current.useState(L)},fr.useSyncExternalStore=function(L,H,B){return q.current.useSyncExternalStore(L,H,B)},fr.useTransition=function(){return q.current.useTransition()},fr.version="18.3.1",fr}var Ire;function g4(){return Ire||(Ire=1,yF.exports=K$e()),yF.exports}var Dre;function X$e(){if(Dre)return R_;Dre=1;var e=g4(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,u){var c,d={},f=null,h=null;u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(h=l.ref);for(c in l)r.call(l,c)&&!o.hasOwnProperty(c)&&(d[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)d[c]===void 0&&(d[c]=l[c]);return{$$typeof:t,type:a,key:f,ref:h,props:d,_owner:i.current}}return R_.Fragment=n,R_.jsx=s,R_.jsxs=s,R_}var Pre;function Q$e(){return Pre||(Pre=1,gF.exports=X$e()),gF.exports}var b=Q$e(),A=g4();const un=Qo(A),J$e=G$e({__proto__:null,default:un},[A]);var fR={},vF={exports:{}},jl={},bF={exports:{}},wF={};var Ore;function Z$e(){return Ore||(Ore=1,(function(e){function t(W,V){var z=W.length;W.push(V);e:for(;0<z;){var L=z-1>>>1,H=W[L];if(0<i(H,V))W[L]=V,W[z]=H,z=L;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var V=W[0],z=W.pop();if(z!==V){W[0]=z;e:for(var L=0,H=W.length,B=H>>>1;L<B;){var Y=2*(L+1)-1,Q=W[Y],ne=Y+1,ce=W[ne];if(0>i(Q,z))ne<H&&0>i(ce,Q)?(W[L]=ce,W[ne]=z,L=ne):(W[L]=Q,W[Y]=z,L=Y);else if(ne<H&&0>i(ce,z))W[L]=ce,W[ne]=z,L=ne;else break e}}return V}function i(W,V){var z=W.sortIndex-V.sortIndex;return z!==0?z:W.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(W){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=W)r(u),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(u)}}function E(W){if(m=!1,x(W),!p)if(n(l)!==null)p=!0,U(_);else{var V=n(u);V!==null&&q(E,V.startTime-W)}}function _(W,V){p=!1,m&&(m=!1,v(k),k=-1),h=!0;var z=f;try{for(x(V),d=n(l);d!==null&&(!(d.expirationTime>V)||W&&!P());){var L=d.callback;if(typeof L=="function"){d.callback=null,f=d.priorityLevel;var H=L(d.expirationTime<=V);V=e.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),x(V)}else r(l);d=n(l)}if(d!==null)var B=!0;else{var Y=n(u);Y!==null&&q(E,Y.startTime-V),B=!1}return B}finally{d=null,f=z,h=!1}}var S=!1,T=null,k=-1,R=5,I=-1;function P(){return!(e.unstable_now()-I<R)}function N(){if(T!==null){var W=e.unstable_now();I=W;var V=!0;try{V=T(!0,W)}finally{V?M():(S=!1,T=null)}}else S=!1}var M;if(typeof y=="function")M=function(){y(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,j=O.port2;O.port1.onmessage=N,M=function(){j.postMessage(null)}}else M=function(){g(N,0)};function U(W){T=W,S||(S=!0,M())}function q(W,V){k=g(function(){W(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,U(_))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(W){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var z=f;f=V;try{return W()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,V){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var z=f;f=W;try{return V()}finally{f=z}},e.unstable_scheduleCallback=function(W,V,z){var L=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?L+z:L):z=L,W){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=z+H,W={id:c++,callback:V,priorityLevel:W,startTime:z,expirationTime:H,sortIndex:-1},z>L?(W.sortIndex=z,t(u,W),n(l)===null&&W===n(u)&&(m?(v(k),k=-1):m=!0,q(E,z-L))):(W.sortIndex=H,t(l,W),p||h||(p=!0,U(_))),W},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(W){var V=f;return function(){var z=f;f=V;try{return W.apply(this,arguments)}finally{f=z}}}})(wF)),wF}var Nre;function eLe(){return Nre||(Nre=1,bF.exports=Z$e()),bF.exports}var Mre;function tLe(){if(Mre)return jl;Mre=1;var e=g4(),t=eLe();function n(w){for(var C="https://reactjs.org/docs/error-decoder.html?invariant="+w,D=1;D<arguments.length;D++)C+="&args[]="+encodeURIComponent(arguments[D]);return"Minified React error #"+w+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(w,C){s(w,C),s(w+"Capture",C)}function s(w,C){for(i[w]=C,w=0;w<C.length;w++)r.add(C[w])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},d={};function f(w){return l.call(d,w)?!0:l.call(c,w)?!1:u.test(w)?d[w]=!0:(c[w]=!0,!1)}function h(w,C,D,F){if(D!==null&&D.type===0)return!1;switch(typeof C){case"function":case"symbol":return!0;case"boolean":return F?!1:D!==null?!D.acceptsBooleans:(w=w.toLowerCase().slice(0,5),w!=="data-"&&w!=="aria-");default:return!1}}function p(w,C,D,F){if(C===null||typeof C>"u"||h(w,C,D,F))return!0;if(F)return!1;if(D!==null)switch(D.type){case 3:return!C;case 4:return C===!1;case 5:return isNaN(C);case 6:return isNaN(C)||1>C}return!1}function m(w,C,D,F,K,Z,de){this.acceptsBooleans=C===2||C===3||C===4,this.attributeName=F,this.attributeNamespace=K,this.mustUseProperty=D,this.propertyName=w,this.type=C,this.sanitizeURL=Z,this.removeEmptyString=de}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(w){g[w]=new m(w,0,!1,w,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(w){var C=w[0];g[C]=new m(C,1,!1,w[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(w){g[w]=new m(w,2,!1,w.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(w){g[w]=new m(w,2,!1,w,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(w){g[w]=new m(w,3,!1,w.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(w){g[w]=new m(w,3,!0,w,null,!1,!1)}),["capture","download"].forEach(function(w){g[w]=new m(w,4,!1,w,null,!1,!1)}),["cols","rows","size","span"].forEach(function(w){g[w]=new m(w,6,!1,w,null,!1,!1)}),["rowSpan","start"].forEach(function(w){g[w]=new m(w,5,!1,w.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(w){return w[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(w){var C=w.replace(v,y);g[C]=new m(C,1,!1,w,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(w){var C=w.replace(v,y);g[C]=new m(C,1,!1,w,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(w){var C=w.replace(v,y);g[C]=new m(C,1,!1,w,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(w){g[w]=new m(w,1,!1,w.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(w){g[w]=new m(w,1,!1,w.toLowerCase(),null,!0,!0)});function x(w,C,D,F){var K=g.hasOwnProperty(C)?g[C]:null;(K!==null?K.type!==0:F||!(2<C.length)||C[0]!=="o"&&C[0]!=="O"||C[1]!=="n"&&C[1]!=="N")&&(p(C,D,K,F)&&(D=null),F||K===null?f(C)&&(D===null?w.removeAttribute(C):w.setAttribute(C,""+D)):K.mustUseProperty?w[K.propertyName]=D===null?K.type===3?!1:"":D:(C=K.attributeName,F=K.attributeNamespace,D===null?w.removeAttribute(C):(K=K.type,D=K===3||K===4&&D===!0?"":""+D,F?w.setAttributeNS(F,C,D):w.setAttribute(C,D))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),P=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),W=Symbol.iterator;function V(w){return w===null||typeof w!="object"?null:(w=W&&w[W]||w["@@iterator"],typeof w=="function"?w:null)}var z=Object.assign,L;function H(w){if(L===void 0)try{throw Error()}catch(D){var C=D.stack.trim().match(/\n( *(at )?)/);L=C&&C[1]||""}return`
`+L+w}var B=!1;function Y(w,C){if(!w||B)return"";B=!0;var D=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(C)if(C=function(){throw Error()},Object.defineProperty(C.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(C,[])}catch(Qe){var F=Qe}Reflect.construct(w,[],C)}else{try{C.call()}catch(Qe){F=Qe}w.call(C.prototype)}else{try{throw Error()}catch(Qe){F=Qe}w()}}catch(Qe){if(Qe&&F&&typeof Qe.stack=="string"){for(var K=Qe.stack.split(`
`),Z=F.stack.split(`
`),de=K.length-1,Ie=Z.length-1;1<=de&&0<=Ie&&K[de]!==Z[Ie];)Ie--;for(;1<=de&&0<=Ie;de--,Ie--)if(K[de]!==Z[Ie]){if(de!==1||Ie!==1)do if(de--,Ie--,0>Ie||K[de]!==Z[Ie]){var Fe=`
`+K[de].replace(" at new "," at ");return w.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",w.displayName)),Fe}while(1<=de&&0<=Ie);break}}}finally{B=!1,Error.prepareStackTrace=D}return(w=w?w.displayName||w.name:"")?H(w):""}function Q(w){switch(w.tag){case 5:return H(w.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return w=Y(w.type,!1),w;case 11:return w=Y(w.type.render,!1),w;case 1:return w=Y(w.type,!0),w;default:return""}}function ne(w){if(w==null)return null;if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w;switch(w){case T:return"Fragment";case S:return"Portal";case R:return"Profiler";case k:return"StrictMode";case M:return"Suspense";case O:return"SuspenseList"}if(typeof w=="object")switch(w.$$typeof){case P:return(w.displayName||"Context")+".Consumer";case I:return(w._context.displayName||"Context")+".Provider";case N:var C=w.render;return w=w.displayName,w||(w=C.displayName||C.name||"",w=w!==""?"ForwardRef("+w+")":"ForwardRef"),w;case j:return C=w.displayName||null,C!==null?C:ne(w.type)||"Memo";case U:C=w._payload,w=w._init;try{return ne(w(C))}catch{}}return null}function ce(w){var C=w.type;switch(w.tag){case 24:return"Cache";case 9:return(C.displayName||"Context")+".Consumer";case 10:return(C._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return w=C.render,w=w.displayName||w.name||"",C.displayName||(w!==""?"ForwardRef("+w+")":"ForwardRef");case 7:return"Fragment";case 5:return C;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(C);case 8:return C===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof C=="function")return C.displayName||C.name||null;if(typeof C=="string")return C}return null}function le(w){switch(typeof w){case"boolean":case"number":case"string":case"undefined":return w;case"object":return w;default:return""}}function ue(w){var C=w.type;return(w=w.nodeName)&&w.toLowerCase()==="input"&&(C==="checkbox"||C==="radio")}function ae(w){var C=ue(w)?"checked":"value",D=Object.getOwnPropertyDescriptor(w.constructor.prototype,C),F=""+w[C];if(!w.hasOwnProperty(C)&&typeof D<"u"&&typeof D.get=="function"&&typeof D.set=="function"){var K=D.get,Z=D.set;return Object.defineProperty(w,C,{configurable:!0,get:function(){return K.call(this)},set:function(de){F=""+de,Z.call(this,de)}}),Object.defineProperty(w,C,{enumerable:D.enumerable}),{getValue:function(){return F},setValue:function(de){F=""+de},stopTracking:function(){w._valueTracker=null,delete w[C]}}}}function te(w){w._valueTracker||(w._valueTracker=ae(w))}function se(w){if(!w)return!1;var C=w._valueTracker;if(!C)return!0;var D=C.getValue(),F="";return w&&(F=ue(w)?w.checked?"true":"false":w.value),w=F,w!==D?(C.setValue(w),!0):!1}function we(w){if(w=w||(typeof document<"u"?document:void 0),typeof w>"u")return null;try{return w.activeElement||w.body}catch{return w.body}}function X(w,C){var D=C.checked;return z({},C,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:D??w._wrapperState.initialChecked})}function he(w,C){var D=C.defaultValue==null?"":C.defaultValue,F=C.checked!=null?C.checked:C.defaultChecked;D=le(C.value!=null?C.value:D),w._wrapperState={initialChecked:F,initialValue:D,controlled:C.type==="checkbox"||C.type==="radio"?C.checked!=null:C.value!=null}}function ge(w,C){C=C.checked,C!=null&&x(w,"checked",C,!1)}function re(w,C){ge(w,C);var D=le(C.value),F=C.type;if(D!=null)F==="number"?(D===0&&w.value===""||w.value!=D)&&(w.value=""+D):w.value!==""+D&&(w.value=""+D);else if(F==="submit"||F==="reset"){w.removeAttribute("value");return}C.hasOwnProperty("value")?fe(w,C.type,D):C.hasOwnProperty("defaultValue")&&fe(w,C.type,le(C.defaultValue)),C.checked==null&&C.defaultChecked!=null&&(w.defaultChecked=!!C.defaultChecked)}function ee(w,C,D){if(C.hasOwnProperty("value")||C.hasOwnProperty("defaultValue")){var F=C.type;if(!(F!=="submit"&&F!=="reset"||C.value!==void 0&&C.value!==null))return;C=""+w._wrapperState.initialValue,D||C===w.value||(w.value=C),w.defaultValue=C}D=w.name,D!==""&&(w.name=""),w.defaultChecked=!!w._wrapperState.initialChecked,D!==""&&(w.name=D)}function fe(w,C,D){(C!=="number"||we(w.ownerDocument)!==w)&&(D==null?w.defaultValue=""+w._wrapperState.initialValue:w.defaultValue!==""+D&&(w.defaultValue=""+D))}var Re=Array.isArray;function Oe(w,C,D,F){if(w=w.options,C){C={};for(var K=0;K<D.length;K++)C["$"+D[K]]=!0;for(D=0;D<w.length;D++)K=C.hasOwnProperty("$"+w[D].value),w[D].selected!==K&&(w[D].selected=K),K&&F&&(w[D].defaultSelected=!0)}else{for(D=""+le(D),C=null,K=0;K<w.length;K++){if(w[K].value===D){w[K].selected=!0,F&&(w[K].defaultSelected=!0);return}C!==null||w[K].disabled||(C=w[K])}C!==null&&(C.selected=!0)}}function Ae(w,C){if(C.dangerouslySetInnerHTML!=null)throw Error(n(91));return z({},C,{value:void 0,defaultValue:void 0,children:""+w._wrapperState.initialValue})}function Se(w,C){var D=C.value;if(D==null){if(D=C.children,C=C.defaultValue,D!=null){if(C!=null)throw Error(n(92));if(Re(D)){if(1<D.length)throw Error(n(93));D=D[0]}C=D}C==null&&(C=""),D=C}w._wrapperState={initialValue:le(D)}}function xe(w,C){var D=le(C.value),F=le(C.defaultValue);D!=null&&(D=""+D,D!==w.value&&(w.value=D),C.defaultValue==null&&w.defaultValue!==D&&(w.defaultValue=D)),F!=null&&(w.defaultValue=""+F)}function ke(w){var C=w.textContent;C===w._wrapperState.initialValue&&C!==""&&C!==null&&(w.value=C)}function me(w){switch(w){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(w,C){return w==null||w==="http://www.w3.org/1999/xhtml"?me(C):w==="http://www.w3.org/2000/svg"&&C==="foreignObject"?"http://www.w3.org/1999/xhtml":w}var ze,Xe=(function(w){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(C,D,F,K){MSApp.execUnsafeLocalFunction(function(){return w(C,D,F,K)})}:w})(function(w,C){if(w.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in w)w.innerHTML=C;else{for(ze=ze||document.createElement("div"),ze.innerHTML="<svg>"+C.valueOf().toString()+"</svg>",C=ze.firstChild;w.firstChild;)w.removeChild(w.firstChild);for(;C.firstChild;)w.appendChild(C.firstChild)}});function tt(w,C){if(C){var D=w.firstChild;if(D&&D===w.lastChild&&D.nodeType===3){D.nodeValue=C;return}}w.textContent=C}var gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qt=["Webkit","ms","Moz","O"];Object.keys(gt).forEach(function(w){qt.forEach(function(C){C=C+w.charAt(0).toUpperCase()+w.substring(1),gt[C]=gt[w]})});function zt(w,C,D){return C==null||typeof C=="boolean"||C===""?"":D||typeof C!="number"||C===0||gt.hasOwnProperty(w)&&gt[w]?(""+C).trim():C+"px"}function _n(w,C){w=w.style;for(var D in C)if(C.hasOwnProperty(D)){var F=D.indexOf("--")===0,K=zt(D,C[D],F);D==="float"&&(D="cssFloat"),F?w.setProperty(D,K):w[D]=K}}var $t=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dn(w,C){if(C){if($t[w]&&(C.children!=null||C.dangerouslySetInnerHTML!=null))throw Error(n(137,w));if(C.dangerouslySetInnerHTML!=null){if(C.children!=null)throw Error(n(60));if(typeof C.dangerouslySetInnerHTML!="object"||!("__html"in C.dangerouslySetInnerHTML))throw Error(n(61))}if(C.style!=null&&typeof C.style!="object")throw Error(n(62))}}function Vn(w,C){if(w.indexOf("-")===-1)return typeof C.is=="string";switch(w){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ln=null;function Tr(w){return w=w.target||w.srcElement||window,w.correspondingUseElement&&(w=w.correspondingUseElement),w.nodeType===3?w.parentNode:w}var Xn=null,mr=null,En=null;function nn(w){if(w=p_(w)){if(typeof Xn!="function")throw Error(n(280));var C=w.stateNode;C&&(C=kA(C),Xn(w.stateNode,w.type,C))}}function rr(w){mr?En?En.push(w):En=[w]:mr=w}function ii(){if(mr){var w=mr,C=En;if(En=mr=null,nn(w),C)for(w=0;w<C.length;w++)nn(C[w])}}function br(w,C){return w(C)}function Sn(){}var ht=!1;function cr(w,C,D){if(ht)return w(C,D);ht=!0;try{return br(w,C,D)}finally{ht=!1,(mr!==null||En!==null)&&(Sn(),ii())}}function Ut(w,C){var D=w.stateNode;if(D===null)return null;var F=kA(D);if(F===null)return null;D=F[C];e:switch(C){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(F=!F.disabled)||(w=w.type,F=!(w==="button"||w==="input"||w==="select"||w==="textarea")),w=!F;break e;default:w=!1}if(w)return null;if(D&&typeof D!="function")throw Error(n(231,C,typeof D));return D}var Zn=!1;if(a)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{Zn=!1}function Yn(w,C,D,F,K,Z,de,Ie,Fe){var Qe=Array.prototype.slice.call(arguments,3);try{C.apply(D,Qe)}catch(yt){this.onError(yt)}}var wr=!1,kr=null,Ar=!1,Jo=null,pa={onError:function(w){wr=!0,kr=w}};function hu(w,C,D,F,K,Z,de,Ie,Fe){wr=!1,kr=null,Yn.apply(pa,arguments)}function ec(w,C,D,F,K,Z,de,Ie,Fe){if(hu.apply(this,arguments),wr){if(wr){var Qe=kr;wr=!1,kr=null}else throw Error(n(198));Ar||(Ar=!0,Jo=Qe)}}function Fn(w){var C=w,D=w;if(w.alternate)for(;C.return;)C=C.return;else{w=C;do C=w,(C.flags&4098)!==0&&(D=C.return),w=C.return;while(w)}return C.tag===3?D:null}function Ni(w){if(w.tag===13){var C=w.memoizedState;if(C===null&&(w=w.alternate,w!==null&&(C=w.memoizedState)),C!==null)return C.dehydrated}return null}function Zo(w){if(Fn(w)!==w)throw Error(n(188))}function Rf(w){var C=w.alternate;if(!C){if(C=Fn(w),C===null)throw Error(n(188));return C!==w?null:w}for(var D=w,F=C;;){var K=D.return;if(K===null)break;var Z=K.alternate;if(Z===null){if(F=K.return,F!==null){D=F;continue}break}if(K.child===Z.child){for(Z=K.child;Z;){if(Z===D)return Zo(K),w;if(Z===F)return Zo(K),C;Z=Z.sibling}throw Error(n(188))}if(D.return!==F.return)D=K,F=Z;else{for(var de=!1,Ie=K.child;Ie;){if(Ie===D){de=!0,D=K,F=Z;break}if(Ie===F){de=!0,F=K,D=Z;break}Ie=Ie.sibling}if(!de){for(Ie=Z.child;Ie;){if(Ie===D){de=!0,D=Z,F=K;break}if(Ie===F){de=!0,F=Z,D=K;break}Ie=Ie.sibling}if(!de)throw Error(n(189))}}if(D.alternate!==F)throw Error(n(190))}if(D.tag!==3)throw Error(n(188));return D.stateNode.current===D?w:C}function td(w){return w=Rf(w),w!==null?tc(w):null}function tc(w){if(w.tag===5||w.tag===6)return w;for(w=w.child;w!==null;){var C=tc(w);if(C!==null)return C;w=w.sibling}return null}var nc=t.unstable_scheduleCallback,es=t.unstable_cancelCallback,If=t.unstable_shouldYield,pu=t.unstable_requestPaint,dr=t.unstable_now,nd=t.unstable_getCurrentPriorityLevel,wo=t.unstable_ImmediatePriority,ps=t.unstable_UserBlockingPriority,xo=t.unstable_NormalPriority,mu=t.unstable_LowPriority,Bs=t.unstable_IdlePriority,Il=null,Co=null;function Df(w){if(Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot(Il,w,void 0,(w.current.flags&128)===128)}catch{}}var _o=Math.clz32?Math.clz32:Ce,pe=Math.log,Ne=Math.LN2;function Ce(w){return w>>>=0,w===0?32:31-(pe(w)/Ne|0)|0}var Be=64,He=4194304;function je(w){switch(w&-w){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return w&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return w}}function rt(w,C){var D=w.pendingLanes;if(D===0)return 0;var F=0,K=w.suspendedLanes,Z=w.pingedLanes,de=D&268435455;if(de!==0){var Ie=de&~K;Ie!==0?F=je(Ie):(Z&=de,Z!==0&&(F=je(Z)))}else de=D&~K,de!==0?F=je(de):Z!==0&&(F=je(Z));if(F===0)return 0;if(C!==0&&C!==F&&(C&K)===0&&(K=F&-F,Z=C&-C,K>=Z||K===16&&(Z&4194240)!==0))return C;if((F&4)!==0&&(F|=D&16),C=w.entangledLanes,C!==0)for(w=w.entanglements,C&=F;0<C;)D=31-_o(C),K=1<<D,F|=w[D],C&=~K;return F}function ut(w,C){switch(w){case 1:case 2:case 4:return C+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return C+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pt(w,C){for(var D=w.suspendedLanes,F=w.pingedLanes,K=w.expirationTimes,Z=w.pendingLanes;0<Z;){var de=31-_o(Z),Ie=1<<de,Fe=K[de];Fe===-1?((Ie&D)===0||(Ie&F)!==0)&&(K[de]=ut(Ie,C)):Fe<=C&&(w.expiredLanes|=Ie),Z&=~Ie}}function ft(w){return w=w.pendingLanes&-1073741825,w!==0?w:w&1073741824?1073741824:0}function _t(){var w=Be;return Be<<=1,(Be&4194240)===0&&(Be=64),w}function jt(w){for(var C=[],D=0;31>D;D++)C.push(w);return C}function Pn(w,C,D){w.pendingLanes|=C,C!==536870912&&(w.suspendedLanes=0,w.pingedLanes=0),w=w.eventTimes,C=31-_o(C),w[C]=D}function Xt(w,C){var D=w.pendingLanes&~C;w.pendingLanes=C,w.suspendedLanes=0,w.pingedLanes=0,w.expiredLanes&=C,w.mutableReadLanes&=C,w.entangledLanes&=C,C=w.entanglements;var F=w.eventTimes;for(w=w.expirationTimes;0<D;){var K=31-_o(D),Z=1<<K;C[K]=0,F[K]=-1,w[K]=-1,D&=~Z}}function Qn(w,C){var D=w.entangledLanes|=C;for(w=w.entanglements;D;){var F=31-_o(D),K=1<<F;K&C|w[F]&C&&(w[F]|=C),D&=~K}}var Wt=0;function sr(w){return w&=-w,1<w?4<w?(w&268435455)!==0?16:536870912:4:1}var Eo,ma,So,Pf,rc,Of=!1,ts=[],Mi=null,Si=null,ms=null,ic=new Map,Ho=new Map,ga=[],Nf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dl(w,C){switch(w){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":ic.delete(C.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(C.pointerId)}}function to(w,C,D,F,K,Z){return w===null||w.nativeEvent!==Z?(w={blockedOn:C,domEventName:D,eventSystemFlags:F,nativeEvent:Z,targetContainers:[K]},C!==null&&(C=p_(C),C!==null&&ma(C)),w):(w.eventSystemFlags|=F,C=w.targetContainers,K!==null&&C.indexOf(K)===-1&&C.push(K),w)}function Km(w,C,D,F,K){switch(C){case"focusin":return Mi=to(Mi,w,C,D,F,K),!0;case"dragenter":return Si=to(Si,w,C,D,F,K),!0;case"mouseover":return ms=to(ms,w,C,D,F,K),!0;case"pointerover":var Z=K.pointerId;return ic.set(Z,to(ic.get(Z)||null,w,C,D,F,K)),!0;case"gotpointercapture":return Z=K.pointerId,Ho.set(Z,to(Ho.get(Z)||null,w,C,D,F,K)),!0}return!1}function Mf(w){var C=gy(w.target);if(C!==null){var D=Fn(C);if(D!==null){if(C=D.tag,C===13){if(C=Ni(D),C!==null){w.blockedOn=C,rc(w.priority,function(){So(D)});return}}else if(C===3&&D.stateNode.current.memoizedState.isDehydrated){w.blockedOn=D.tag===3?D.stateNode.containerInfo:null;return}}}w.blockedOn=null}function zs(w){if(w.blockedOn!==null)return!1;for(var C=w.targetContainers;0<C.length;){var D=fn(w.domEventName,w.eventSystemFlags,C[0],w.nativeEvent);if(D===null){D=w.nativeEvent;var F=new D.constructor(D.type,D);Ln=F,D.target.dispatchEvent(F),Ln=null}else return C=p_(D),C!==null&&ma(C),w.blockedOn=D,!1;C.shift()}return!0}function gu(w,C,D){zs(w)&&D.delete(C)}function Xm(){Of=!1,Mi!==null&&zs(Mi)&&(Mi=null),Si!==null&&zs(Si)&&(Si=null),ms!==null&&zs(ms)&&(ms=null),ic.forEach(gu),Ho.forEach(gu)}function Ka(w,C){w.blockedOn===C&&(w.blockedOn=null,Of||(Of=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Xm)))}function ya(w){function C(K){return Ka(K,w)}if(0<ts.length){Ka(ts[0],w);for(var D=1;D<ts.length;D++){var F=ts[D];F.blockedOn===w&&(F.blockedOn=null)}}for(Mi!==null&&Ka(Mi,w),Si!==null&&Ka(Si,w),ms!==null&&Ka(ms,w),ic.forEach(C),Ho.forEach(C),D=0;D<ga.length;D++)F=ga[D],F.blockedOn===w&&(F.blockedOn=null);for(;0<ga.length&&(D=ga[0],D.blockedOn===null);)Mf(D),D.blockedOn===null&&ga.shift()}var Ee=E.ReactCurrentBatchConfig,oe=!0;function ve(w,C,D,F){var K=Wt,Z=Ee.transition;Ee.transition=null;try{Wt=1,St(w,C,D,F)}finally{Wt=K,Ee.transition=Z}}function Le(w,C,D,F){var K=Wt,Z=Ee.transition;Ee.transition=null;try{Wt=4,St(w,C,D,F)}finally{Wt=K,Ee.transition=Z}}function St(w,C,D,F){if(oe){var K=fn(w,C,D,F);if(K===null)sL(w,C,F,Dt,D),Dl(w,F);else if(Km(K,w,C,D,F))F.stopPropagation();else if(Dl(w,F),C&4&&-1<Nf.indexOf(w)){for(;K!==null;){var Z=p_(K);if(Z!==null&&Eo(Z),Z=fn(w,C,D,F),Z===null&&sL(w,C,F,Dt,D),Z===K)break;K=Z}K!==null&&F.stopPropagation()}else sL(w,C,F,null,D)}}var Dt=null;function fn(w,C,D,F){if(Dt=null,w=Tr(F),w=gy(w),w!==null)if(C=Fn(w),C===null)w=null;else if(D=C.tag,D===13){if(w=Ni(C),w!==null)return w;w=null}else if(D===3){if(C.stateNode.current.memoizedState.isDehydrated)return C.tag===3?C.stateNode.containerInfo:null;w=null}else C!==w&&(w=null);return Dt=w,null}function Mn(w){switch(w){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nd()){case wo:return 1;case ps:return 4;case xo:case mu:return 16;case Bs:return 536870912;default:return 16}default:return 16}}var Kt=null,yn=null,or=null;function Yr(){if(or)return or;var w,C=yn,D=C.length,F,K="value"in Kt?Kt.value:Kt.textContent,Z=K.length;for(w=0;w<D&&C[w]===K[w];w++);var de=D-w;for(F=1;F<=de&&C[D-F]===K[Z-F];F++);return or=K.slice(w,1<F?1-F:void 0)}function oi(w){var C=w.keyCode;return"charCode"in w?(w=w.charCode,w===0&&C===13&&(w=13)):w=C,w===10&&(w=13),32<=w||w===13?w:0}function wi(){return!0}function co(){return!1}function si(w){function C(D,F,K,Z,de){this._reactName=D,this._targetInst=K,this.type=F,this.nativeEvent=Z,this.target=de,this.currentTarget=null;for(var Ie in w)w.hasOwnProperty(Ie)&&(D=w[Ie],this[Ie]=D?D(Z):Z[Ie]);return this.isDefaultPrevented=(Z.defaultPrevented!=null?Z.defaultPrevented:Z.returnValue===!1)?wi:co,this.isPropagationStopped=co,this}return z(C.prototype,{preventDefault:function(){this.defaultPrevented=!0;var D=this.nativeEvent;D&&(D.preventDefault?D.preventDefault():typeof D.returnValue!="unknown"&&(D.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var D=this.nativeEvent;D&&(D.stopPropagation?D.stopPropagation():typeof D.cancelBubble!="unknown"&&(D.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),C}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(w){return w.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=si(To),yu=z({},To,{view:0,detail:0}),Qm=si(yu),rd,ap,Jm,my=z({},yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$,button:0,buttons:0,relatedTarget:function(w){return w.relatedTarget===void 0?w.fromElement===w.srcElement?w.toElement:w.fromElement:w.relatedTarget},movementX:function(w){return"movementX"in w?w.movementX:(w!==Jm&&(Jm&&w.type==="mousemove"?(rd=w.screenX-Jm.screenX,ap=w.screenY-Jm.screenY):ap=rd=0,Jm=w),rd)},movementY:function(w){return"movementY"in w?w.movementY:ap}}),r1=si(my),i_=z({},my,{dataTransfer:0}),hA=si(i_),i1=z({},yu,{relatedTarget:0}),o1=si(i1),pA=z({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),lp=si(pA),mA=z({},To,{clipboardData:function(w){return"clipboardData"in w?w.clipboardData:window.clipboardData}}),gA=si(mA),yA=z({},To,{data:0}),o_=si(yA),Ol={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zm(w){var C=this.nativeEvent;return C.getModifierState?C.getModifierState(w):(w=bA[w])?!!C[w]:!1}function $(){return Zm}var J=z({},yu,{key:function(w){if(w.key){var C=Ol[w.key]||w.key;if(C!=="Unidentified")return C}return w.type==="keypress"?(w=oi(w),w===13?"Enter":String.fromCharCode(w)):w.type==="keydown"||w.type==="keyup"?vA[w.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$,charCode:function(w){return w.type==="keypress"?oi(w):0},keyCode:function(w){return w.type==="keydown"||w.type==="keyup"?w.keyCode:0},which:function(w){return w.type==="keypress"?oi(w):w.type==="keydown"||w.type==="keyup"?w.keyCode:0}}),ie=si(J),be=z({},my,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ve=si(be),Ze=z({},yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$}),Pt=si(Ze),ai=z({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),ns=si(ai),Rr=z({},my,{deltaX:function(w){return"deltaX"in w?w.deltaX:"wheelDeltaX"in w?-w.wheelDeltaX:0},deltaY:function(w){return"deltaY"in w?w.deltaY:"wheelDeltaY"in w?-w.wheelDeltaY:"wheelDelta"in w?-w.wheelDelta:0},deltaZ:0,deltaMode:0}),gs=si(Rr),ys=[9,13,27,32],$f=a&&"CompositionEvent"in window,Us=null;a&&"documentMode"in document&&(Us=document.documentMode);var s1=a&&"TextEvent"in window&&!Us,a1=a&&(!$f||Us&&8<Us&&11>=Us),Cte=" ",_te=!1;function Ete(w,C){switch(w){case"keyup":return ys.indexOf(C.keyCode)!==-1;case"keydown":return C.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ste(w){return w=w.detail,typeof w=="object"&&"data"in w?w.data:null}var l1=!1;function q5e(w,C){switch(w){case"compositionend":return Ste(C);case"keypress":return C.which!==32?null:(_te=!0,Cte);case"textInput":return w=C.data,w===Cte&&_te?null:w;default:return null}}function V5e(w,C){if(l1)return w==="compositionend"||!$f&&Ete(w,C)?(w=Yr(),or=yn=Kt=null,l1=!1,w):null;switch(w){case"paste":return null;case"keypress":if(!(C.ctrlKey||C.altKey||C.metaKey)||C.ctrlKey&&C.altKey){if(C.char&&1<C.char.length)return C.char;if(C.which)return String.fromCharCode(C.which)}return null;case"compositionend":return a1&&C.locale!=="ko"?null:C.data;default:return null}}var W5e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tte(w){var C=w&&w.nodeName&&w.nodeName.toLowerCase();return C==="input"?!!W5e[w.type]:C==="textarea"}function kte(w,C,D,F){rr(F),C=EA(C,"onChange"),0<C.length&&(D=new Pl("onChange","change",null,D,F),w.push({event:D,listeners:C}))}var s_=null,a_=null;function G5e(w){Vte(w,0)}function wA(w){var C=h1(w);if(se(C))return w}function Y5e(w,C){if(w==="change")return C}var Ate=!1;if(a){var Q$;if(a){var J$="oninput"in document;if(!J$){var Rte=document.createElement("div");Rte.setAttribute("oninput","return;"),J$=typeof Rte.oninput=="function"}Q$=J$}else Q$=!1;Ate=Q$&&(!document.documentMode||9<document.documentMode)}function Ite(){s_&&(s_.detachEvent("onpropertychange",Dte),a_=s_=null)}function Dte(w){if(w.propertyName==="value"&&wA(a_)){var C=[];kte(C,a_,w,Tr(w)),cr(G5e,C)}}function K5e(w,C,D){w==="focusin"?(Ite(),s_=C,a_=D,s_.attachEvent("onpropertychange",Dte)):w==="focusout"&&Ite()}function X5e(w){if(w==="selectionchange"||w==="keyup"||w==="keydown")return wA(a_)}function Q5e(w,C){if(w==="click")return wA(C)}function J5e(w,C){if(w==="input"||w==="change")return wA(C)}function Z5e(w,C){return w===C&&(w!==0||1/w===1/C)||w!==w&&C!==C}var id=typeof Object.is=="function"?Object.is:Z5e;function l_(w,C){if(id(w,C))return!0;if(typeof w!="object"||w===null||typeof C!="object"||C===null)return!1;var D=Object.keys(w),F=Object.keys(C);if(D.length!==F.length)return!1;for(F=0;F<D.length;F++){var K=D[F];if(!l.call(C,K)||!id(w[K],C[K]))return!1}return!0}function Pte(w){for(;w&&w.firstChild;)w=w.firstChild;return w}function Ote(w,C){var D=Pte(w);w=0;for(var F;D;){if(D.nodeType===3){if(F=w+D.textContent.length,w<=C&&F>=C)return{node:D,offset:C-w};w=F}e:{for(;D;){if(D.nextSibling){D=D.nextSibling;break e}D=D.parentNode}D=void 0}D=Pte(D)}}function Nte(w,C){return w&&C?w===C?!0:w&&w.nodeType===3?!1:C&&C.nodeType===3?Nte(w,C.parentNode):"contains"in w?w.contains(C):w.compareDocumentPosition?!!(w.compareDocumentPosition(C)&16):!1:!1}function Mte(){for(var w=window,C=we();C instanceof w.HTMLIFrameElement;){try{var D=typeof C.contentWindow.location.href=="string"}catch{D=!1}if(D)w=C.contentWindow;else break;C=we(w.document)}return C}function Z$(w){var C=w&&w.nodeName&&w.nodeName.toLowerCase();return C&&(C==="input"&&(w.type==="text"||w.type==="search"||w.type==="tel"||w.type==="url"||w.type==="password")||C==="textarea"||w.contentEditable==="true")}function e$e(w){var C=Mte(),D=w.focusedElem,F=w.selectionRange;if(C!==D&&D&&D.ownerDocument&&Nte(D.ownerDocument.documentElement,D)){if(F!==null&&Z$(D)){if(C=F.start,w=F.end,w===void 0&&(w=C),"selectionStart"in D)D.selectionStart=C,D.selectionEnd=Math.min(w,D.value.length);else if(w=(C=D.ownerDocument||document)&&C.defaultView||window,w.getSelection){w=w.getSelection();var K=D.textContent.length,Z=Math.min(F.start,K);F=F.end===void 0?Z:Math.min(F.end,K),!w.extend&&Z>F&&(K=F,F=Z,Z=K),K=Ote(D,Z);var de=Ote(D,F);K&&de&&(w.rangeCount!==1||w.anchorNode!==K.node||w.anchorOffset!==K.offset||w.focusNode!==de.node||w.focusOffset!==de.offset)&&(C=C.createRange(),C.setStart(K.node,K.offset),w.removeAllRanges(),Z>F?(w.addRange(C),w.extend(de.node,de.offset)):(C.setEnd(de.node,de.offset),w.addRange(C)))}}for(C=[],w=D;w=w.parentNode;)w.nodeType===1&&C.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<C.length;D++)w=C[D],w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}var t$e=a&&"documentMode"in document&&11>=document.documentMode,u1=null,eL=null,u_=null,tL=!1;function $te(w,C,D){var F=D.window===D?D.document:D.nodeType===9?D:D.ownerDocument;tL||u1==null||u1!==we(F)||(F=u1,"selectionStart"in F&&Z$(F)?F={start:F.selectionStart,end:F.selectionEnd}:(F=(F.ownerDocument&&F.ownerDocument.defaultView||window).getSelection(),F={anchorNode:F.anchorNode,anchorOffset:F.anchorOffset,focusNode:F.focusNode,focusOffset:F.focusOffset}),u_&&l_(u_,F)||(u_=F,F=EA(eL,"onSelect"),0<F.length&&(C=new Pl("onSelect","select",null,C,D),w.push({event:C,listeners:F}),C.target=u1)))}function xA(w,C){var D={};return D[w.toLowerCase()]=C.toLowerCase(),D["Webkit"+w]="webkit"+C,D["Moz"+w]="moz"+C,D}var c1={animationend:xA("Animation","AnimationEnd"),animationiteration:xA("Animation","AnimationIteration"),animationstart:xA("Animation","AnimationStart"),transitionend:xA("Transition","TransitionEnd")},nL={},Lte={};a&&(Lte=document.createElement("div").style,"AnimationEvent"in window||(delete c1.animationend.animation,delete c1.animationiteration.animation,delete c1.animationstart.animation),"TransitionEvent"in window||delete c1.transitionend.transition);function CA(w){if(nL[w])return nL[w];if(!c1[w])return w;var C=c1[w],D;for(D in C)if(C.hasOwnProperty(D)&&D in Lte)return nL[w]=C[D];return w}var Fte=CA("animationend"),jte=CA("animationiteration"),Bte=CA("animationstart"),zte=CA("transitionend"),Ute=new Map,Hte="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eg(w,C){Ute.set(w,C),o(C,[w])}for(var rL=0;rL<Hte.length;rL++){var iL=Hte[rL],n$e=iL.toLowerCase(),r$e=iL[0].toUpperCase()+iL.slice(1);eg(n$e,"on"+r$e)}eg(Fte,"onAnimationEnd"),eg(jte,"onAnimationIteration"),eg(Bte,"onAnimationStart"),eg("dblclick","onDoubleClick"),eg("focusin","onFocus"),eg("focusout","onBlur"),eg(zte,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var c_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i$e=new Set("cancel close invalid load scroll toggle".split(" ").concat(c_));function qte(w,C,D){var F=w.type||"unknown-event";w.currentTarget=D,ec(F,C,void 0,w),w.currentTarget=null}function Vte(w,C){C=(C&4)!==0;for(var D=0;D<w.length;D++){var F=w[D],K=F.event;F=F.listeners;e:{var Z=void 0;if(C)for(var de=F.length-1;0<=de;de--){var Ie=F[de],Fe=Ie.instance,Qe=Ie.currentTarget;if(Ie=Ie.listener,Fe!==Z&&K.isPropagationStopped())break e;qte(K,Ie,Qe),Z=Fe}else for(de=0;de<F.length;de++){if(Ie=F[de],Fe=Ie.instance,Qe=Ie.currentTarget,Ie=Ie.listener,Fe!==Z&&K.isPropagationStopped())break e;qte(K,Ie,Qe),Z=Fe}}}if(Ar)throw w=Jo,Ar=!1,Jo=null,w}function $i(w,C){var D=C[fL];D===void 0&&(D=C[fL]=new Set);var F=w+"__bubble";D.has(F)||(Wte(C,w,2,!1),D.add(F))}function oL(w,C,D){var F=0;C&&(F|=4),Wte(D,w,F,C)}var _A="_reactListening"+Math.random().toString(36).slice(2);function d_(w){if(!w[_A]){w[_A]=!0,r.forEach(function(D){D!=="selectionchange"&&(i$e.has(D)||oL(D,!1,w),oL(D,!0,w))});var C=w.nodeType===9?w:w.ownerDocument;C===null||C[_A]||(C[_A]=!0,oL("selectionchange",!1,C))}}function Wte(w,C,D,F){switch(Mn(C)){case 1:var K=ve;break;case 4:K=Le;break;default:K=St}D=K.bind(null,C,D,w),K=void 0,!Zn||C!=="touchstart"&&C!=="touchmove"&&C!=="wheel"||(K=!0),F?K!==void 0?w.addEventListener(C,D,{capture:!0,passive:K}):w.addEventListener(C,D,!0):K!==void 0?w.addEventListener(C,D,{passive:K}):w.addEventListener(C,D,!1)}function sL(w,C,D,F,K){var Z=F;if((C&1)===0&&(C&2)===0&&F!==null)e:for(;;){if(F===null)return;var de=F.tag;if(de===3||de===4){var Ie=F.stateNode.containerInfo;if(Ie===K||Ie.nodeType===8&&Ie.parentNode===K)break;if(de===4)for(de=F.return;de!==null;){var Fe=de.tag;if((Fe===3||Fe===4)&&(Fe=de.stateNode.containerInfo,Fe===K||Fe.nodeType===8&&Fe.parentNode===K))return;de=de.return}for(;Ie!==null;){if(de=gy(Ie),de===null)return;if(Fe=de.tag,Fe===5||Fe===6){F=Z=de;continue e}Ie=Ie.parentNode}}F=F.return}cr(function(){var Qe=Z,yt=Tr(D),wt=[];e:{var mt=Ute.get(w);if(mt!==void 0){var Ht=Pl,Gt=w;switch(w){case"keypress":if(oi(D)===0)break e;case"keydown":case"keyup":Ht=ie;break;case"focusin":Gt="focus",Ht=o1;break;case"focusout":Gt="blur",Ht=o1;break;case"beforeblur":case"afterblur":Ht=o1;break;case"click":if(D.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ht=r1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ht=hA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ht=Pt;break;case Fte:case jte:case Bte:Ht=lp;break;case zte:Ht=ns;break;case"scroll":Ht=Qm;break;case"wheel":Ht=gs;break;case"copy":case"cut":case"paste":Ht=gA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ht=Ve}var Qt=(C&4)!==0,ko=!Qt&&w==="scroll",We=Qt?mt!==null?mt+"Capture":null:mt;Qt=[];for(var Ue=Qe,Ke;Ue!==null;){Ke=Ue;var At=Ke.stateNode;if(Ke.tag===5&&At!==null&&(Ke=At,We!==null&&(At=Ut(Ue,We),At!=null&&Qt.push(f_(Ue,At,Ke)))),ko)break;Ue=Ue.return}0<Qt.length&&(mt=new Ht(mt,Gt,null,D,yt),wt.push({event:mt,listeners:Qt}))}}if((C&7)===0){e:{if(mt=w==="mouseover"||w==="pointerover",Ht=w==="mouseout"||w==="pointerout",mt&&D!==Ln&&(Gt=D.relatedTarget||D.fromElement)&&(gy(Gt)||Gt[up]))break e;if((Ht||mt)&&(mt=yt.window===yt?yt:(mt=yt.ownerDocument)?mt.defaultView||mt.parentWindow:window,Ht?(Gt=D.relatedTarget||D.toElement,Ht=Qe,Gt=Gt?gy(Gt):null,Gt!==null&&(ko=Fn(Gt),Gt!==ko||Gt.tag!==5&&Gt.tag!==6)&&(Gt=null)):(Ht=null,Gt=Qe),Ht!==Gt)){if(Qt=r1,At="onMouseLeave",We="onMouseEnter",Ue="mouse",(w==="pointerout"||w==="pointerover")&&(Qt=Ve,At="onPointerLeave",We="onPointerEnter",Ue="pointer"),ko=Ht==null?mt:h1(Ht),Ke=Gt==null?mt:h1(Gt),mt=new Qt(At,Ue+"leave",Ht,D,yt),mt.target=ko,mt.relatedTarget=Ke,At=null,gy(yt)===Qe&&(Qt=new Qt(We,Ue+"enter",Gt,D,yt),Qt.target=Ke,Qt.relatedTarget=ko,At=Qt),ko=At,Ht&&Gt)t:{for(Qt=Ht,We=Gt,Ue=0,Ke=Qt;Ke;Ke=d1(Ke))Ue++;for(Ke=0,At=We;At;At=d1(At))Ke++;for(;0<Ue-Ke;)Qt=d1(Qt),Ue--;for(;0<Ke-Ue;)We=d1(We),Ke--;for(;Ue--;){if(Qt===We||We!==null&&Qt===We.alternate)break t;Qt=d1(Qt),We=d1(We)}Qt=null}else Qt=null;Ht!==null&&Gte(wt,mt,Ht,Qt,!1),Gt!==null&&ko!==null&&Gte(wt,ko,Gt,Qt,!0)}}e:{if(mt=Qe?h1(Qe):window,Ht=mt.nodeName&&mt.nodeName.toLowerCase(),Ht==="select"||Ht==="input"&&mt.type==="file")var rn=Y5e;else if(Tte(mt))if(Ate)rn=J5e;else{rn=X5e;var kn=K5e}else(Ht=mt.nodeName)&&Ht.toLowerCase()==="input"&&(mt.type==="checkbox"||mt.type==="radio")&&(rn=Q5e);if(rn&&(rn=rn(w,Qe))){kte(wt,rn,D,yt);break e}kn&&kn(w,mt,Qe),w==="focusout"&&(kn=mt._wrapperState)&&kn.controlled&&mt.type==="number"&&fe(mt,"number",mt.value)}switch(kn=Qe?h1(Qe):window,w){case"focusin":(Tte(kn)||kn.contentEditable==="true")&&(u1=kn,eL=Qe,u_=null);break;case"focusout":u_=eL=u1=null;break;case"mousedown":tL=!0;break;case"contextmenu":case"mouseup":case"dragend":tL=!1,$te(wt,D,yt);break;case"selectionchange":if(t$e)break;case"keydown":case"keyup":$te(wt,D,yt)}var An;if($f)e:{switch(w){case"compositionstart":var zn="onCompositionStart";break e;case"compositionend":zn="onCompositionEnd";break e;case"compositionupdate":zn="onCompositionUpdate";break e}zn=void 0}else l1?Ete(w,D)&&(zn="onCompositionEnd"):w==="keydown"&&D.keyCode===229&&(zn="onCompositionStart");zn&&(a1&&D.locale!=="ko"&&(l1||zn!=="onCompositionStart"?zn==="onCompositionEnd"&&l1&&(An=Yr()):(Kt=yt,yn="value"in Kt?Kt.value:Kt.textContent,l1=!0)),kn=EA(Qe,zn),0<kn.length&&(zn=new o_(zn,w,null,D,yt),wt.push({event:zn,listeners:kn}),An?zn.data=An:(An=Ste(D),An!==null&&(zn.data=An)))),(An=s1?q5e(w,D):V5e(w,D))&&(Qe=EA(Qe,"onBeforeInput"),0<Qe.length&&(yt=new o_("onBeforeInput","beforeinput",null,D,yt),wt.push({event:yt,listeners:Qe}),yt.data=An))}Vte(wt,C)})}function f_(w,C,D){return{instance:w,listener:C,currentTarget:D}}function EA(w,C){for(var D=C+"Capture",F=[];w!==null;){var K=w,Z=K.stateNode;K.tag===5&&Z!==null&&(K=Z,Z=Ut(w,D),Z!=null&&F.unshift(f_(w,Z,K)),Z=Ut(w,C),Z!=null&&F.push(f_(w,Z,K))),w=w.return}return F}function d1(w){if(w===null)return null;do w=w.return;while(w&&w.tag!==5);return w||null}function Gte(w,C,D,F,K){for(var Z=C._reactName,de=[];D!==null&&D!==F;){var Ie=D,Fe=Ie.alternate,Qe=Ie.stateNode;if(Fe!==null&&Fe===F)break;Ie.tag===5&&Qe!==null&&(Ie=Qe,K?(Fe=Ut(D,Z),Fe!=null&&de.unshift(f_(D,Fe,Ie))):K||(Fe=Ut(D,Z),Fe!=null&&de.push(f_(D,Fe,Ie)))),D=D.return}de.length!==0&&w.push({event:C,listeners:de})}var o$e=/\r\n?/g,s$e=/\u0000|\uFFFD/g;function Yte(w){return(typeof w=="string"?w:""+w).replace(o$e,`
`).replace(s$e,"")}function SA(w,C,D){if(C=Yte(C),Yte(w)!==C&&D)throw Error(n(425))}function TA(){}var aL=null,lL=null;function uL(w,C){return w==="textarea"||w==="noscript"||typeof C.children=="string"||typeof C.children=="number"||typeof C.dangerouslySetInnerHTML=="object"&&C.dangerouslySetInnerHTML!==null&&C.dangerouslySetInnerHTML.__html!=null}var cL=typeof setTimeout=="function"?setTimeout:void 0,a$e=typeof clearTimeout=="function"?clearTimeout:void 0,Kte=typeof Promise=="function"?Promise:void 0,l$e=typeof queueMicrotask=="function"?queueMicrotask:typeof Kte<"u"?function(w){return Kte.resolve(null).then(w).catch(u$e)}:cL;function u$e(w){setTimeout(function(){throw w})}function dL(w,C){var D=C,F=0;do{var K=D.nextSibling;if(w.removeChild(D),K&&K.nodeType===8)if(D=K.data,D==="/$"){if(F===0){w.removeChild(K),ya(C);return}F--}else D!=="$"&&D!=="$?"&&D!=="$!"||F++;D=K}while(D);ya(C)}function tg(w){for(;w!=null;w=w.nextSibling){var C=w.nodeType;if(C===1||C===3)break;if(C===8){if(C=w.data,C==="$"||C==="$!"||C==="$?")break;if(C==="/$")return null}}return w}function Xte(w){w=w.previousSibling;for(var C=0;w;){if(w.nodeType===8){var D=w.data;if(D==="$"||D==="$!"||D==="$?"){if(C===0)return w;C--}else D==="/$"&&C++}w=w.previousSibling}return null}var f1=Math.random().toString(36).slice(2),Lf="__reactFiber$"+f1,h_="__reactProps$"+f1,up="__reactContainer$"+f1,fL="__reactEvents$"+f1,c$e="__reactListeners$"+f1,d$e="__reactHandles$"+f1;function gy(w){var C=w[Lf];if(C)return C;for(var D=w.parentNode;D;){if(C=D[up]||D[Lf]){if(D=C.alternate,C.child!==null||D!==null&&D.child!==null)for(w=Xte(w);w!==null;){if(D=w[Lf])return D;w=Xte(w)}return C}w=D,D=w.parentNode}return null}function p_(w){return w=w[Lf]||w[up],!w||w.tag!==5&&w.tag!==6&&w.tag!==13&&w.tag!==3?null:w}function h1(w){if(w.tag===5||w.tag===6)return w.stateNode;throw Error(n(33))}function kA(w){return w[h_]||null}var hL=[],p1=-1;function ng(w){return{current:w}}function Li(w){0>p1||(w.current=hL[p1],hL[p1]=null,p1--)}function Ti(w,C){p1++,hL[p1]=w.current,w.current=C}var rg={},va=ng(rg),Nl=ng(!1),yy=rg;function m1(w,C){var D=w.type.contextTypes;if(!D)return rg;var F=w.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===C)return F.__reactInternalMemoizedMaskedChildContext;var K={},Z;for(Z in D)K[Z]=C[Z];return F&&(w=w.stateNode,w.__reactInternalMemoizedUnmaskedChildContext=C,w.__reactInternalMemoizedMaskedChildContext=K),K}function Ml(w){return w=w.childContextTypes,w!=null}function AA(){Li(Nl),Li(va)}function Qte(w,C,D){if(va.current!==rg)throw Error(n(168));Ti(va,C),Ti(Nl,D)}function Jte(w,C,D){var F=w.stateNode;if(C=C.childContextTypes,typeof F.getChildContext!="function")return D;F=F.getChildContext();for(var K in F)if(!(K in C))throw Error(n(108,ce(w)||"Unknown",K));return z({},D,F)}function RA(w){return w=(w=w.stateNode)&&w.__reactInternalMemoizedMergedChildContext||rg,yy=va.current,Ti(va,w),Ti(Nl,Nl.current),!0}function Zte(w,C,D){var F=w.stateNode;if(!F)throw Error(n(169));D?(w=Jte(w,C,yy),F.__reactInternalMemoizedMergedChildContext=w,Li(Nl),Li(va),Ti(va,w)):Li(Nl),Ti(Nl,D)}var cp=null,IA=!1,pL=!1;function ene(w){cp===null?cp=[w]:cp.push(w)}function f$e(w){IA=!0,ene(w)}function ig(){if(!pL&&cp!==null){pL=!0;var w=0,C=Wt;try{var D=cp;for(Wt=1;w<D.length;w++){var F=D[w];do F=F(!0);while(F!==null)}cp=null,IA=!1}catch(K){throw cp!==null&&(cp=cp.slice(w+1)),nc(wo,ig),K}finally{Wt=C,pL=!1}}return null}var g1=[],y1=0,DA=null,PA=0,oc=[],sc=0,vy=null,dp=1,fp="";function by(w,C){g1[y1++]=PA,g1[y1++]=DA,DA=w,PA=C}function tne(w,C,D){oc[sc++]=dp,oc[sc++]=fp,oc[sc++]=vy,vy=w;var F=dp;w=fp;var K=32-_o(F)-1;F&=~(1<<K),D+=1;var Z=32-_o(C)+K;if(30<Z){var de=K-K%5;Z=(F&(1<<de)-1).toString(32),F>>=de,K-=de,dp=1<<32-_o(C)+K|D<<K|F,fp=Z+w}else dp=1<<Z|D<<K|F,fp=w}function mL(w){w.return!==null&&(by(w,1),tne(w,1,0))}function gL(w){for(;w===DA;)DA=g1[--y1],g1[y1]=null,PA=g1[--y1],g1[y1]=null;for(;w===vy;)vy=oc[--sc],oc[sc]=null,fp=oc[--sc],oc[sc]=null,dp=oc[--sc],oc[sc]=null}var vu=null,bu=null,Vi=!1,od=null;function nne(w,C){var D=cc(5,null,null,0);D.elementType="DELETED",D.stateNode=C,D.return=w,C=w.deletions,C===null?(w.deletions=[D],w.flags|=16):C.push(D)}function rne(w,C){switch(w.tag){case 5:var D=w.type;return C=C.nodeType!==1||D.toLowerCase()!==C.nodeName.toLowerCase()?null:C,C!==null?(w.stateNode=C,vu=w,bu=tg(C.firstChild),!0):!1;case 6:return C=w.pendingProps===""||C.nodeType!==3?null:C,C!==null?(w.stateNode=C,vu=w,bu=null,!0):!1;case 13:return C=C.nodeType!==8?null:C,C!==null?(D=vy!==null?{id:dp,overflow:fp}:null,w.memoizedState={dehydrated:C,treeContext:D,retryLane:1073741824},D=cc(18,null,null,0),D.stateNode=C,D.return=w,w.child=D,vu=w,bu=null,!0):!1;default:return!1}}function yL(w){return(w.mode&1)!==0&&(w.flags&128)===0}function vL(w){if(Vi){var C=bu;if(C){var D=C;if(!rne(w,C)){if(yL(w))throw Error(n(418));C=tg(D.nextSibling);var F=vu;C&&rne(w,C)?nne(F,D):(w.flags=w.flags&-4097|2,Vi=!1,vu=w)}}else{if(yL(w))throw Error(n(418));w.flags=w.flags&-4097|2,Vi=!1,vu=w}}}function ine(w){for(w=w.return;w!==null&&w.tag!==5&&w.tag!==3&&w.tag!==13;)w=w.return;vu=w}function OA(w){if(w!==vu)return!1;if(!Vi)return ine(w),Vi=!0,!1;var C;if((C=w.tag!==3)&&!(C=w.tag!==5)&&(C=w.type,C=C!=="head"&&C!=="body"&&!uL(w.type,w.memoizedProps)),C&&(C=bu)){if(yL(w))throw one(),Error(n(418));for(;C;)nne(w,C),C=tg(C.nextSibling)}if(ine(w),w.tag===13){if(w=w.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));e:{for(w=w.nextSibling,C=0;w;){if(w.nodeType===8){var D=w.data;if(D==="/$"){if(C===0){bu=tg(w.nextSibling);break e}C--}else D!=="$"&&D!=="$!"&&D!=="$?"||C++}w=w.nextSibling}bu=null}}else bu=vu?tg(w.stateNode.nextSibling):null;return!0}function one(){for(var w=bu;w;)w=tg(w.nextSibling)}function v1(){bu=vu=null,Vi=!1}function bL(w){od===null?od=[w]:od.push(w)}var h$e=E.ReactCurrentBatchConfig;function m_(w,C,D){if(w=D.ref,w!==null&&typeof w!="function"&&typeof w!="object"){if(D._owner){if(D=D._owner,D){if(D.tag!==1)throw Error(n(309));var F=D.stateNode}if(!F)throw Error(n(147,w));var K=F,Z=""+w;return C!==null&&C.ref!==null&&typeof C.ref=="function"&&C.ref._stringRef===Z?C.ref:(C=function(de){var Ie=K.refs;de===null?delete Ie[Z]:Ie[Z]=de},C._stringRef=Z,C)}if(typeof w!="string")throw Error(n(284));if(!D._owner)throw Error(n(290,w))}return w}function NA(w,C){throw w=Object.prototype.toString.call(C),Error(n(31,w==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":w))}function sne(w){var C=w._init;return C(w._payload)}function ane(w){function C(We,Ue){if(w){var Ke=We.deletions;Ke===null?(We.deletions=[Ue],We.flags|=16):Ke.push(Ue)}}function D(We,Ue){if(!w)return null;for(;Ue!==null;)C(We,Ue),Ue=Ue.sibling;return null}function F(We,Ue){for(We=new Map;Ue!==null;)Ue.key!==null?We.set(Ue.key,Ue):We.set(Ue.index,Ue),Ue=Ue.sibling;return We}function K(We,Ue){return We=fg(We,Ue),We.index=0,We.sibling=null,We}function Z(We,Ue,Ke){return We.index=Ke,w?(Ke=We.alternate,Ke!==null?(Ke=Ke.index,Ke<Ue?(We.flags|=2,Ue):Ke):(We.flags|=2,Ue)):(We.flags|=1048576,Ue)}function de(We){return w&&We.alternate===null&&(We.flags|=2),We}function Ie(We,Ue,Ke,At){return Ue===null||Ue.tag!==6?(Ue=cF(Ke,We.mode,At),Ue.return=We,Ue):(Ue=K(Ue,Ke),Ue.return=We,Ue)}function Fe(We,Ue,Ke,At){var rn=Ke.type;return rn===T?yt(We,Ue,Ke.props.children,At,Ke.key):Ue!==null&&(Ue.elementType===rn||typeof rn=="object"&&rn!==null&&rn.$$typeof===U&&sne(rn)===Ue.type)?(At=K(Ue,Ke.props),At.ref=m_(We,Ue,Ke),At.return=We,At):(At=iR(Ke.type,Ke.key,Ke.props,null,We.mode,At),At.ref=m_(We,Ue,Ke),At.return=We,At)}function Qe(We,Ue,Ke,At){return Ue===null||Ue.tag!==4||Ue.stateNode.containerInfo!==Ke.containerInfo||Ue.stateNode.implementation!==Ke.implementation?(Ue=dF(Ke,We.mode,At),Ue.return=We,Ue):(Ue=K(Ue,Ke.children||[]),Ue.return=We,Ue)}function yt(We,Ue,Ke,At,rn){return Ue===null||Ue.tag!==7?(Ue=ky(Ke,We.mode,At,rn),Ue.return=We,Ue):(Ue=K(Ue,Ke),Ue.return=We,Ue)}function wt(We,Ue,Ke){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return Ue=cF(""+Ue,We.mode,Ke),Ue.return=We,Ue;if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case _:return Ke=iR(Ue.type,Ue.key,Ue.props,null,We.mode,Ke),Ke.ref=m_(We,null,Ue),Ke.return=We,Ke;case S:return Ue=dF(Ue,We.mode,Ke),Ue.return=We,Ue;case U:var At=Ue._init;return wt(We,At(Ue._payload),Ke)}if(Re(Ue)||V(Ue))return Ue=ky(Ue,We.mode,Ke,null),Ue.return=We,Ue;NA(We,Ue)}return null}function mt(We,Ue,Ke,At){var rn=Ue!==null?Ue.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return rn!==null?null:Ie(We,Ue,""+Ke,At);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case _:return Ke.key===rn?Fe(We,Ue,Ke,At):null;case S:return Ke.key===rn?Qe(We,Ue,Ke,At):null;case U:return rn=Ke._init,mt(We,Ue,rn(Ke._payload),At)}if(Re(Ke)||V(Ke))return rn!==null?null:yt(We,Ue,Ke,At,null);NA(We,Ke)}return null}function Ht(We,Ue,Ke,At,rn){if(typeof At=="string"&&At!==""||typeof At=="number")return We=We.get(Ke)||null,Ie(Ue,We,""+At,rn);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case _:return We=We.get(At.key===null?Ke:At.key)||null,Fe(Ue,We,At,rn);case S:return We=We.get(At.key===null?Ke:At.key)||null,Qe(Ue,We,At,rn);case U:var kn=At._init;return Ht(We,Ue,Ke,kn(At._payload),rn)}if(Re(At)||V(At))return We=We.get(Ke)||null,yt(Ue,We,At,rn,null);NA(Ue,At)}return null}function Gt(We,Ue,Ke,At){for(var rn=null,kn=null,An=Ue,zn=Ue=0,ws=null;An!==null&&zn<Ke.length;zn++){An.index>zn?(ws=An,An=null):ws=An.sibling;var Br=mt(We,An,Ke[zn],At);if(Br===null){An===null&&(An=ws);break}w&&An&&Br.alternate===null&&C(We,An),Ue=Z(Br,Ue,zn),kn===null?rn=Br:kn.sibling=Br,kn=Br,An=ws}if(zn===Ke.length)return D(We,An),Vi&&by(We,zn),rn;if(An===null){for(;zn<Ke.length;zn++)An=wt(We,Ke[zn],At),An!==null&&(Ue=Z(An,Ue,zn),kn===null?rn=An:kn.sibling=An,kn=An);return Vi&&by(We,zn),rn}for(An=F(We,An);zn<Ke.length;zn++)ws=Ht(An,We,zn,Ke[zn],At),ws!==null&&(w&&ws.alternate!==null&&An.delete(ws.key===null?zn:ws.key),Ue=Z(ws,Ue,zn),kn===null?rn=ws:kn.sibling=ws,kn=ws);return w&&An.forEach(function(hg){return C(We,hg)}),Vi&&by(We,zn),rn}function Qt(We,Ue,Ke,At){var rn=V(Ke);if(typeof rn!="function")throw Error(n(150));if(Ke=rn.call(Ke),Ke==null)throw Error(n(151));for(var kn=rn=null,An=Ue,zn=Ue=0,ws=null,Br=Ke.next();An!==null&&!Br.done;zn++,Br=Ke.next()){An.index>zn?(ws=An,An=null):ws=An.sibling;var hg=mt(We,An,Br.value,At);if(hg===null){An===null&&(An=ws);break}w&&An&&hg.alternate===null&&C(We,An),Ue=Z(hg,Ue,zn),kn===null?rn=hg:kn.sibling=hg,kn=hg,An=ws}if(Br.done)return D(We,An),Vi&&by(We,zn),rn;if(An===null){for(;!Br.done;zn++,Br=Ke.next())Br=wt(We,Br.value,At),Br!==null&&(Ue=Z(Br,Ue,zn),kn===null?rn=Br:kn.sibling=Br,kn=Br);return Vi&&by(We,zn),rn}for(An=F(We,An);!Br.done;zn++,Br=Ke.next())Br=Ht(An,We,zn,Br.value,At),Br!==null&&(w&&Br.alternate!==null&&An.delete(Br.key===null?zn:Br.key),Ue=Z(Br,Ue,zn),kn===null?rn=Br:kn.sibling=Br,kn=Br);return w&&An.forEach(function(W$e){return C(We,W$e)}),Vi&&by(We,zn),rn}function ko(We,Ue,Ke,At){if(typeof Ke=="object"&&Ke!==null&&Ke.type===T&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case _:e:{for(var rn=Ke.key,kn=Ue;kn!==null;){if(kn.key===rn){if(rn=Ke.type,rn===T){if(kn.tag===7){D(We,kn.sibling),Ue=K(kn,Ke.props.children),Ue.return=We,We=Ue;break e}}else if(kn.elementType===rn||typeof rn=="object"&&rn!==null&&rn.$$typeof===U&&sne(rn)===kn.type){D(We,kn.sibling),Ue=K(kn,Ke.props),Ue.ref=m_(We,kn,Ke),Ue.return=We,We=Ue;break e}D(We,kn);break}else C(We,kn);kn=kn.sibling}Ke.type===T?(Ue=ky(Ke.props.children,We.mode,At,Ke.key),Ue.return=We,We=Ue):(At=iR(Ke.type,Ke.key,Ke.props,null,We.mode,At),At.ref=m_(We,Ue,Ke),At.return=We,We=At)}return de(We);case S:e:{for(kn=Ke.key;Ue!==null;){if(Ue.key===kn)if(Ue.tag===4&&Ue.stateNode.containerInfo===Ke.containerInfo&&Ue.stateNode.implementation===Ke.implementation){D(We,Ue.sibling),Ue=K(Ue,Ke.children||[]),Ue.return=We,We=Ue;break e}else{D(We,Ue);break}else C(We,Ue);Ue=Ue.sibling}Ue=dF(Ke,We.mode,At),Ue.return=We,We=Ue}return de(We);case U:return kn=Ke._init,ko(We,Ue,kn(Ke._payload),At)}if(Re(Ke))return Gt(We,Ue,Ke,At);if(V(Ke))return Qt(We,Ue,Ke,At);NA(We,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"?(Ke=""+Ke,Ue!==null&&Ue.tag===6?(D(We,Ue.sibling),Ue=K(Ue,Ke),Ue.return=We,We=Ue):(D(We,Ue),Ue=cF(Ke,We.mode,At),Ue.return=We,We=Ue),de(We)):D(We,Ue)}return ko}var b1=ane(!0),lne=ane(!1),MA=ng(null),$A=null,w1=null,wL=null;function xL(){wL=w1=$A=null}function CL(w){var C=MA.current;Li(MA),w._currentValue=C}function _L(w,C,D){for(;w!==null;){var F=w.alternate;if((w.childLanes&C)!==C?(w.childLanes|=C,F!==null&&(F.childLanes|=C)):F!==null&&(F.childLanes&C)!==C&&(F.childLanes|=C),w===D)break;w=w.return}}function x1(w,C){$A=w,wL=w1=null,w=w.dependencies,w!==null&&w.firstContext!==null&&((w.lanes&C)!==0&&($l=!0),w.firstContext=null)}function ac(w){var C=w._currentValue;if(wL!==w)if(w={context:w,memoizedValue:C,next:null},w1===null){if($A===null)throw Error(n(308));w1=w,$A.dependencies={lanes:0,firstContext:w}}else w1=w1.next=w;return C}var wy=null;function EL(w){wy===null?wy=[w]:wy.push(w)}function une(w,C,D,F){var K=C.interleaved;return K===null?(D.next=D,EL(C)):(D.next=K.next,K.next=D),C.interleaved=D,hp(w,F)}function hp(w,C){w.lanes|=C;var D=w.alternate;for(D!==null&&(D.lanes|=C),D=w,w=w.return;w!==null;)w.childLanes|=C,D=w.alternate,D!==null&&(D.childLanes|=C),D=w,w=w.return;return D.tag===3?D.stateNode:null}var og=!1;function SL(w){w.updateQueue={baseState:w.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cne(w,C){w=w.updateQueue,C.updateQueue===w&&(C.updateQueue={baseState:w.baseState,firstBaseUpdate:w.firstBaseUpdate,lastBaseUpdate:w.lastBaseUpdate,shared:w.shared,effects:w.effects})}function pp(w,C){return{eventTime:w,lane:C,tag:0,payload:null,callback:null,next:null}}function sg(w,C,D){var F=w.updateQueue;if(F===null)return null;if(F=F.shared,(Nr&2)!==0){var K=F.pending;return K===null?C.next=C:(C.next=K.next,K.next=C),F.pending=C,hp(w,D)}return K=F.interleaved,K===null?(C.next=C,EL(F)):(C.next=K.next,K.next=C),F.interleaved=C,hp(w,D)}function LA(w,C,D){if(C=C.updateQueue,C!==null&&(C=C.shared,(D&4194240)!==0)){var F=C.lanes;F&=w.pendingLanes,D|=F,C.lanes=D,Qn(w,D)}}function dne(w,C){var D=w.updateQueue,F=w.alternate;if(F!==null&&(F=F.updateQueue,D===F)){var K=null,Z=null;if(D=D.firstBaseUpdate,D!==null){do{var de={eventTime:D.eventTime,lane:D.lane,tag:D.tag,payload:D.payload,callback:D.callback,next:null};Z===null?K=Z=de:Z=Z.next=de,D=D.next}while(D!==null);Z===null?K=Z=C:Z=Z.next=C}else K=Z=C;D={baseState:F.baseState,firstBaseUpdate:K,lastBaseUpdate:Z,shared:F.shared,effects:F.effects},w.updateQueue=D;return}w=D.lastBaseUpdate,w===null?D.firstBaseUpdate=C:w.next=C,D.lastBaseUpdate=C}function FA(w,C,D,F){var K=w.updateQueue;og=!1;var Z=K.firstBaseUpdate,de=K.lastBaseUpdate,Ie=K.shared.pending;if(Ie!==null){K.shared.pending=null;var Fe=Ie,Qe=Fe.next;Fe.next=null,de===null?Z=Qe:de.next=Qe,de=Fe;var yt=w.alternate;yt!==null&&(yt=yt.updateQueue,Ie=yt.lastBaseUpdate,Ie!==de&&(Ie===null?yt.firstBaseUpdate=Qe:Ie.next=Qe,yt.lastBaseUpdate=Fe))}if(Z!==null){var wt=K.baseState;de=0,yt=Qe=Fe=null,Ie=Z;do{var mt=Ie.lane,Ht=Ie.eventTime;if((F&mt)===mt){yt!==null&&(yt=yt.next={eventTime:Ht,lane:0,tag:Ie.tag,payload:Ie.payload,callback:Ie.callback,next:null});e:{var Gt=w,Qt=Ie;switch(mt=C,Ht=D,Qt.tag){case 1:if(Gt=Qt.payload,typeof Gt=="function"){wt=Gt.call(Ht,wt,mt);break e}wt=Gt;break e;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=Qt.payload,mt=typeof Gt=="function"?Gt.call(Ht,wt,mt):Gt,mt==null)break e;wt=z({},wt,mt);break e;case 2:og=!0}}Ie.callback!==null&&Ie.lane!==0&&(w.flags|=64,mt=K.effects,mt===null?K.effects=[Ie]:mt.push(Ie))}else Ht={eventTime:Ht,lane:mt,tag:Ie.tag,payload:Ie.payload,callback:Ie.callback,next:null},yt===null?(Qe=yt=Ht,Fe=wt):yt=yt.next=Ht,de|=mt;if(Ie=Ie.next,Ie===null){if(Ie=K.shared.pending,Ie===null)break;mt=Ie,Ie=mt.next,mt.next=null,K.lastBaseUpdate=mt,K.shared.pending=null}}while(!0);if(yt===null&&(Fe=wt),K.baseState=Fe,K.firstBaseUpdate=Qe,K.lastBaseUpdate=yt,C=K.shared.interleaved,C!==null){K=C;do de|=K.lane,K=K.next;while(K!==C)}else Z===null&&(K.shared.lanes=0);_y|=de,w.lanes=de,w.memoizedState=wt}}function fne(w,C,D){if(w=C.effects,C.effects=null,w!==null)for(C=0;C<w.length;C++){var F=w[C],K=F.callback;if(K!==null){if(F.callback=null,F=D,typeof K!="function")throw Error(n(191,K));K.call(F)}}}var g_={},Ff=ng(g_),y_=ng(g_),v_=ng(g_);function xy(w){if(w===g_)throw Error(n(174));return w}function TL(w,C){switch(Ti(v_,C),Ti(y_,w),Ti(Ff,g_),w=C.nodeType,w){case 9:case 11:C=(C=C.documentElement)?C.namespaceURI:Me(null,"");break;default:w=w===8?C.parentNode:C,C=w.namespaceURI||null,w=w.tagName,C=Me(C,w)}Li(Ff),Ti(Ff,C)}function C1(){Li(Ff),Li(y_),Li(v_)}function hne(w){xy(v_.current);var C=xy(Ff.current),D=Me(C,w.type);C!==D&&(Ti(y_,w),Ti(Ff,D))}function kL(w){y_.current===w&&(Li(Ff),Li(y_))}var no=ng(0);function jA(w){for(var C=w;C!==null;){if(C.tag===13){var D=C.memoizedState;if(D!==null&&(D=D.dehydrated,D===null||D.data==="$?"||D.data==="$!"))return C}else if(C.tag===19&&C.memoizedProps.revealOrder!==void 0){if((C.flags&128)!==0)return C}else if(C.child!==null){C.child.return=C,C=C.child;continue}if(C===w)break;for(;C.sibling===null;){if(C.return===null||C.return===w)return null;C=C.return}C.sibling.return=C.return,C=C.sibling}return null}var AL=[];function RL(){for(var w=0;w<AL.length;w++)AL[w]._workInProgressVersionPrimary=null;AL.length=0}var BA=E.ReactCurrentDispatcher,IL=E.ReactCurrentBatchConfig,Cy=0,ro=null,rs=null,vs=null,zA=!1,b_=!1,w_=0,p$e=0;function ba(){throw Error(n(321))}function DL(w,C){if(C===null)return!1;for(var D=0;D<C.length&&D<w.length;D++)if(!id(w[D],C[D]))return!1;return!0}function PL(w,C,D,F,K,Z){if(Cy=Z,ro=C,C.memoizedState=null,C.updateQueue=null,C.lanes=0,BA.current=w===null||w.memoizedState===null?v$e:b$e,w=D(F,K),b_){Z=0;do{if(b_=!1,w_=0,25<=Z)throw Error(n(301));Z+=1,vs=rs=null,C.updateQueue=null,BA.current=w$e,w=D(F,K)}while(b_)}if(BA.current=qA,C=rs!==null&&rs.next!==null,Cy=0,vs=rs=ro=null,zA=!1,C)throw Error(n(300));return w}function OL(){var w=w_!==0;return w_=0,w}function jf(){var w={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vs===null?ro.memoizedState=vs=w:vs=vs.next=w,vs}function lc(){if(rs===null){var w=ro.alternate;w=w!==null?w.memoizedState:null}else w=rs.next;var C=vs===null?ro.memoizedState:vs.next;if(C!==null)vs=C,rs=w;else{if(w===null)throw Error(n(310));rs=w,w={memoizedState:rs.memoizedState,baseState:rs.baseState,baseQueue:rs.baseQueue,queue:rs.queue,next:null},vs===null?ro.memoizedState=vs=w:vs=vs.next=w}return vs}function x_(w,C){return typeof C=="function"?C(w):C}function NL(w){var C=lc(),D=C.queue;if(D===null)throw Error(n(311));D.lastRenderedReducer=w;var F=rs,K=F.baseQueue,Z=D.pending;if(Z!==null){if(K!==null){var de=K.next;K.next=Z.next,Z.next=de}F.baseQueue=K=Z,D.pending=null}if(K!==null){Z=K.next,F=F.baseState;var Ie=de=null,Fe=null,Qe=Z;do{var yt=Qe.lane;if((Cy&yt)===yt)Fe!==null&&(Fe=Fe.next={lane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),F=Qe.hasEagerState?Qe.eagerState:w(F,Qe.action);else{var wt={lane:yt,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null};Fe===null?(Ie=Fe=wt,de=F):Fe=Fe.next=wt,ro.lanes|=yt,_y|=yt}Qe=Qe.next}while(Qe!==null&&Qe!==Z);Fe===null?de=F:Fe.next=Ie,id(F,C.memoizedState)||($l=!0),C.memoizedState=F,C.baseState=de,C.baseQueue=Fe,D.lastRenderedState=F}if(w=D.interleaved,w!==null){K=w;do Z=K.lane,ro.lanes|=Z,_y|=Z,K=K.next;while(K!==w)}else K===null&&(D.lanes=0);return[C.memoizedState,D.dispatch]}function ML(w){var C=lc(),D=C.queue;if(D===null)throw Error(n(311));D.lastRenderedReducer=w;var F=D.dispatch,K=D.pending,Z=C.memoizedState;if(K!==null){D.pending=null;var de=K=K.next;do Z=w(Z,de.action),de=de.next;while(de!==K);id(Z,C.memoizedState)||($l=!0),C.memoizedState=Z,C.baseQueue===null&&(C.baseState=Z),D.lastRenderedState=Z}return[Z,F]}function pne(){}function mne(w,C){var D=ro,F=lc(),K=C(),Z=!id(F.memoizedState,K);if(Z&&(F.memoizedState=K,$l=!0),F=F.queue,$L(vne.bind(null,D,F,w),[w]),F.getSnapshot!==C||Z||vs!==null&&vs.memoizedState.tag&1){if(D.flags|=2048,C_(9,yne.bind(null,D,F,K,C),void 0,null),bs===null)throw Error(n(349));(Cy&30)!==0||gne(D,C,K)}return K}function gne(w,C,D){w.flags|=16384,w={getSnapshot:C,value:D},C=ro.updateQueue,C===null?(C={lastEffect:null,stores:null},ro.updateQueue=C,C.stores=[w]):(D=C.stores,D===null?C.stores=[w]:D.push(w))}function yne(w,C,D,F){C.value=D,C.getSnapshot=F,bne(C)&&wne(w)}function vne(w,C,D){return D(function(){bne(C)&&wne(w)})}function bne(w){var C=w.getSnapshot;w=w.value;try{var D=C();return!id(w,D)}catch{return!0}}function wne(w){var C=hp(w,1);C!==null&&ud(C,w,1,-1)}function xne(w){var C=jf();return typeof w=="function"&&(w=w()),C.memoizedState=C.baseState=w,w={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x_,lastRenderedState:w},C.queue=w,w=w.dispatch=y$e.bind(null,ro,w),[C.memoizedState,w]}function C_(w,C,D,F){return w={tag:w,create:C,destroy:D,deps:F,next:null},C=ro.updateQueue,C===null?(C={lastEffect:null,stores:null},ro.updateQueue=C,C.lastEffect=w.next=w):(D=C.lastEffect,D===null?C.lastEffect=w.next=w:(F=D.next,D.next=w,w.next=F,C.lastEffect=w)),w}function Cne(){return lc().memoizedState}function UA(w,C,D,F){var K=jf();ro.flags|=w,K.memoizedState=C_(1|C,D,void 0,F===void 0?null:F)}function HA(w,C,D,F){var K=lc();F=F===void 0?null:F;var Z=void 0;if(rs!==null){var de=rs.memoizedState;if(Z=de.destroy,F!==null&&DL(F,de.deps)){K.memoizedState=C_(C,D,Z,F);return}}ro.flags|=w,K.memoizedState=C_(1|C,D,Z,F)}function _ne(w,C){return UA(8390656,8,w,C)}function $L(w,C){return HA(2048,8,w,C)}function Ene(w,C){return HA(4,2,w,C)}function Sne(w,C){return HA(4,4,w,C)}function Tne(w,C){if(typeof C=="function")return w=w(),C(w),function(){C(null)};if(C!=null)return w=w(),C.current=w,function(){C.current=null}}function kne(w,C,D){return D=D!=null?D.concat([w]):null,HA(4,4,Tne.bind(null,C,w),D)}function LL(){}function Ane(w,C){var D=lc();C=C===void 0?null:C;var F=D.memoizedState;return F!==null&&C!==null&&DL(C,F[1])?F[0]:(D.memoizedState=[w,C],w)}function Rne(w,C){var D=lc();C=C===void 0?null:C;var F=D.memoizedState;return F!==null&&C!==null&&DL(C,F[1])?F[0]:(w=w(),D.memoizedState=[w,C],w)}function Ine(w,C,D){return(Cy&21)===0?(w.baseState&&(w.baseState=!1,$l=!0),w.memoizedState=D):(id(D,C)||(D=_t(),ro.lanes|=D,_y|=D,w.baseState=!0),C)}function m$e(w,C){var D=Wt;Wt=D!==0&&4>D?D:4,w(!0);var F=IL.transition;IL.transition={};try{w(!1),C()}finally{Wt=D,IL.transition=F}}function Dne(){return lc().memoizedState}function g$e(w,C,D){var F=cg(w);if(D={lane:F,action:D,hasEagerState:!1,eagerState:null,next:null},Pne(w))One(C,D);else if(D=une(w,C,D,F),D!==null){var K=Qa();ud(D,w,F,K),Nne(D,C,F)}}function y$e(w,C,D){var F=cg(w),K={lane:F,action:D,hasEagerState:!1,eagerState:null,next:null};if(Pne(w))One(C,K);else{var Z=w.alternate;if(w.lanes===0&&(Z===null||Z.lanes===0)&&(Z=C.lastRenderedReducer,Z!==null))try{var de=C.lastRenderedState,Ie=Z(de,D);if(K.hasEagerState=!0,K.eagerState=Ie,id(Ie,de)){var Fe=C.interleaved;Fe===null?(K.next=K,EL(C)):(K.next=Fe.next,Fe.next=K),C.interleaved=K;return}}catch{}D=une(w,C,K,F),D!==null&&(K=Qa(),ud(D,w,F,K),Nne(D,C,F))}}function Pne(w){var C=w.alternate;return w===ro||C!==null&&C===ro}function One(w,C){b_=zA=!0;var D=w.pending;D===null?C.next=C:(C.next=D.next,D.next=C),w.pending=C}function Nne(w,C,D){if((D&4194240)!==0){var F=C.lanes;F&=w.pendingLanes,D|=F,C.lanes=D,Qn(w,D)}}var qA={readContext:ac,useCallback:ba,useContext:ba,useEffect:ba,useImperativeHandle:ba,useInsertionEffect:ba,useLayoutEffect:ba,useMemo:ba,useReducer:ba,useRef:ba,useState:ba,useDebugValue:ba,useDeferredValue:ba,useTransition:ba,useMutableSource:ba,useSyncExternalStore:ba,useId:ba,unstable_isNewReconciler:!1},v$e={readContext:ac,useCallback:function(w,C){return jf().memoizedState=[w,C===void 0?null:C],w},useContext:ac,useEffect:_ne,useImperativeHandle:function(w,C,D){return D=D!=null?D.concat([w]):null,UA(4194308,4,Tne.bind(null,C,w),D)},useLayoutEffect:function(w,C){return UA(4194308,4,w,C)},useInsertionEffect:function(w,C){return UA(4,2,w,C)},useMemo:function(w,C){var D=jf();return C=C===void 0?null:C,w=w(),D.memoizedState=[w,C],w},useReducer:function(w,C,D){var F=jf();return C=D!==void 0?D(C):C,F.memoizedState=F.baseState=C,w={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:w,lastRenderedState:C},F.queue=w,w=w.dispatch=g$e.bind(null,ro,w),[F.memoizedState,w]},useRef:function(w){var C=jf();return w={current:w},C.memoizedState=w},useState:xne,useDebugValue:LL,useDeferredValue:function(w){return jf().memoizedState=w},useTransition:function(){var w=xne(!1),C=w[0];return w=m$e.bind(null,w[1]),jf().memoizedState=w,[C,w]},useMutableSource:function(){},useSyncExternalStore:function(w,C,D){var F=ro,K=jf();if(Vi){if(D===void 0)throw Error(n(407));D=D()}else{if(D=C(),bs===null)throw Error(n(349));(Cy&30)!==0||gne(F,C,D)}K.memoizedState=D;var Z={value:D,getSnapshot:C};return K.queue=Z,_ne(vne.bind(null,F,Z,w),[w]),F.flags|=2048,C_(9,yne.bind(null,F,Z,D,C),void 0,null),D},useId:function(){var w=jf(),C=bs.identifierPrefix;if(Vi){var D=fp,F=dp;D=(F&~(1<<32-_o(F)-1)).toString(32)+D,C=":"+C+"R"+D,D=w_++,0<D&&(C+="H"+D.toString(32)),C+=":"}else D=p$e++,C=":"+C+"r"+D.toString(32)+":";return w.memoizedState=C},unstable_isNewReconciler:!1},b$e={readContext:ac,useCallback:Ane,useContext:ac,useEffect:$L,useImperativeHandle:kne,useInsertionEffect:Ene,useLayoutEffect:Sne,useMemo:Rne,useReducer:NL,useRef:Cne,useState:function(){return NL(x_)},useDebugValue:LL,useDeferredValue:function(w){var C=lc();return Ine(C,rs.memoizedState,w)},useTransition:function(){var w=NL(x_)[0],C=lc().memoizedState;return[w,C]},useMutableSource:pne,useSyncExternalStore:mne,useId:Dne,unstable_isNewReconciler:!1},w$e={readContext:ac,useCallback:Ane,useContext:ac,useEffect:$L,useImperativeHandle:kne,useInsertionEffect:Ene,useLayoutEffect:Sne,useMemo:Rne,useReducer:ML,useRef:Cne,useState:function(){return ML(x_)},useDebugValue:LL,useDeferredValue:function(w){var C=lc();return rs===null?C.memoizedState=w:Ine(C,rs.memoizedState,w)},useTransition:function(){var w=ML(x_)[0],C=lc().memoizedState;return[w,C]},useMutableSource:pne,useSyncExternalStore:mne,useId:Dne,unstable_isNewReconciler:!1};function sd(w,C){if(w&&w.defaultProps){C=z({},C),w=w.defaultProps;for(var D in w)C[D]===void 0&&(C[D]=w[D]);return C}return C}function FL(w,C,D,F){C=w.memoizedState,D=D(F,C),D=D==null?C:z({},C,D),w.memoizedState=D,w.lanes===0&&(w.updateQueue.baseState=D)}var VA={isMounted:function(w){return(w=w._reactInternals)?Fn(w)===w:!1},enqueueSetState:function(w,C,D){w=w._reactInternals;var F=Qa(),K=cg(w),Z=pp(F,K);Z.payload=C,D!=null&&(Z.callback=D),C=sg(w,Z,K),C!==null&&(ud(C,w,K,F),LA(C,w,K))},enqueueReplaceState:function(w,C,D){w=w._reactInternals;var F=Qa(),K=cg(w),Z=pp(F,K);Z.tag=1,Z.payload=C,D!=null&&(Z.callback=D),C=sg(w,Z,K),C!==null&&(ud(C,w,K,F),LA(C,w,K))},enqueueForceUpdate:function(w,C){w=w._reactInternals;var D=Qa(),F=cg(w),K=pp(D,F);K.tag=2,C!=null&&(K.callback=C),C=sg(w,K,F),C!==null&&(ud(C,w,F,D),LA(C,w,F))}};function Mne(w,C,D,F,K,Z,de){return w=w.stateNode,typeof w.shouldComponentUpdate=="function"?w.shouldComponentUpdate(F,Z,de):C.prototype&&C.prototype.isPureReactComponent?!l_(D,F)||!l_(K,Z):!0}function $ne(w,C,D){var F=!1,K=rg,Z=C.contextType;return typeof Z=="object"&&Z!==null?Z=ac(Z):(K=Ml(C)?yy:va.current,F=C.contextTypes,Z=(F=F!=null)?m1(w,K):rg),C=new C(D,Z),w.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=VA,w.stateNode=C,C._reactInternals=w,F&&(w=w.stateNode,w.__reactInternalMemoizedUnmaskedChildContext=K,w.__reactInternalMemoizedMaskedChildContext=Z),C}function Lne(w,C,D,F){w=C.state,typeof C.componentWillReceiveProps=="function"&&C.componentWillReceiveProps(D,F),typeof C.UNSAFE_componentWillReceiveProps=="function"&&C.UNSAFE_componentWillReceiveProps(D,F),C.state!==w&&VA.enqueueReplaceState(C,C.state,null)}function jL(w,C,D,F){var K=w.stateNode;K.props=D,K.state=w.memoizedState,K.refs={},SL(w);var Z=C.contextType;typeof Z=="object"&&Z!==null?K.context=ac(Z):(Z=Ml(C)?yy:va.current,K.context=m1(w,Z)),K.state=w.memoizedState,Z=C.getDerivedStateFromProps,typeof Z=="function"&&(FL(w,C,Z,D),K.state=w.memoizedState),typeof C.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(C=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),C!==K.state&&VA.enqueueReplaceState(K,K.state,null),FA(w,D,K,F),K.state=w.memoizedState),typeof K.componentDidMount=="function"&&(w.flags|=4194308)}function _1(w,C){try{var D="",F=C;do D+=Q(F),F=F.return;while(F);var K=D}catch(Z){K=`
Error generating stack: `+Z.message+`
`+Z.stack}return{value:w,source:C,stack:K,digest:null}}function BL(w,C,D){return{value:w,source:null,stack:D??null,digest:C??null}}function zL(w,C){try{console.error(C.value)}catch(D){setTimeout(function(){throw D})}}var x$e=typeof WeakMap=="function"?WeakMap:Map;function Fne(w,C,D){D=pp(-1,D),D.tag=3,D.payload={element:null};var F=C.value;return D.callback=function(){JA||(JA=!0,nF=F),zL(w,C)},D}function jne(w,C,D){D=pp(-1,D),D.tag=3;var F=w.type.getDerivedStateFromError;if(typeof F=="function"){var K=C.value;D.payload=function(){return F(K)},D.callback=function(){zL(w,C)}}var Z=w.stateNode;return Z!==null&&typeof Z.componentDidCatch=="function"&&(D.callback=function(){zL(w,C),typeof F!="function"&&(lg===null?lg=new Set([this]):lg.add(this));var de=C.stack;this.componentDidCatch(C.value,{componentStack:de!==null?de:""})}),D}function Bne(w,C,D){var F=w.pingCache;if(F===null){F=w.pingCache=new x$e;var K=new Set;F.set(C,K)}else K=F.get(C),K===void 0&&(K=new Set,F.set(C,K));K.has(D)||(K.add(D),w=M$e.bind(null,w,C,D),C.then(w,w))}function zne(w){do{var C;if((C=w.tag===13)&&(C=w.memoizedState,C=C!==null?C.dehydrated!==null:!0),C)return w;w=w.return}while(w!==null);return null}function Une(w,C,D,F,K){return(w.mode&1)===0?(w===C?w.flags|=65536:(w.flags|=128,D.flags|=131072,D.flags&=-52805,D.tag===1&&(D.alternate===null?D.tag=17:(C=pp(-1,1),C.tag=2,sg(D,C,1))),D.lanes|=1),w):(w.flags|=65536,w.lanes=K,w)}var C$e=E.ReactCurrentOwner,$l=!1;function Xa(w,C,D,F){C.child=w===null?lne(C,null,D,F):b1(C,w.child,D,F)}function Hne(w,C,D,F,K){D=D.render;var Z=C.ref;return x1(C,K),F=PL(w,C,D,F,Z,K),D=OL(),w!==null&&!$l?(C.updateQueue=w.updateQueue,C.flags&=-2053,w.lanes&=~K,mp(w,C,K)):(Vi&&D&&mL(C),C.flags|=1,Xa(w,C,F,K),C.child)}function qne(w,C,D,F,K){if(w===null){var Z=D.type;return typeof Z=="function"&&!uF(Z)&&Z.defaultProps===void 0&&D.compare===null&&D.defaultProps===void 0?(C.tag=15,C.type=Z,Vne(w,C,Z,F,K)):(w=iR(D.type,null,F,C,C.mode,K),w.ref=C.ref,w.return=C,C.child=w)}if(Z=w.child,(w.lanes&K)===0){var de=Z.memoizedProps;if(D=D.compare,D=D!==null?D:l_,D(de,F)&&w.ref===C.ref)return mp(w,C,K)}return C.flags|=1,w=fg(Z,F),w.ref=C.ref,w.return=C,C.child=w}function Vne(w,C,D,F,K){if(w!==null){var Z=w.memoizedProps;if(l_(Z,F)&&w.ref===C.ref)if($l=!1,C.pendingProps=F=Z,(w.lanes&K)!==0)(w.flags&131072)!==0&&($l=!0);else return C.lanes=w.lanes,mp(w,C,K)}return UL(w,C,D,F,K)}function Wne(w,C,D){var F=C.pendingProps,K=F.children,Z=w!==null?w.memoizedState:null;if(F.mode==="hidden")if((C.mode&1)===0)C.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(S1,wu),wu|=D;else{if((D&1073741824)===0)return w=Z!==null?Z.baseLanes|D:D,C.lanes=C.childLanes=1073741824,C.memoizedState={baseLanes:w,cachePool:null,transitions:null},C.updateQueue=null,Ti(S1,wu),wu|=w,null;C.memoizedState={baseLanes:0,cachePool:null,transitions:null},F=Z!==null?Z.baseLanes:D,Ti(S1,wu),wu|=F}else Z!==null?(F=Z.baseLanes|D,C.memoizedState=null):F=D,Ti(S1,wu),wu|=F;return Xa(w,C,K,D),C.child}function Gne(w,C){var D=C.ref;(w===null&&D!==null||w!==null&&w.ref!==D)&&(C.flags|=512,C.flags|=2097152)}function UL(w,C,D,F,K){var Z=Ml(D)?yy:va.current;return Z=m1(C,Z),x1(C,K),D=PL(w,C,D,F,Z,K),F=OL(),w!==null&&!$l?(C.updateQueue=w.updateQueue,C.flags&=-2053,w.lanes&=~K,mp(w,C,K)):(Vi&&F&&mL(C),C.flags|=1,Xa(w,C,D,K),C.child)}function Yne(w,C,D,F,K){if(Ml(D)){var Z=!0;RA(C)}else Z=!1;if(x1(C,K),C.stateNode===null)GA(w,C),$ne(C,D,F),jL(C,D,F,K),F=!0;else if(w===null){var de=C.stateNode,Ie=C.memoizedProps;de.props=Ie;var Fe=de.context,Qe=D.contextType;typeof Qe=="object"&&Qe!==null?Qe=ac(Qe):(Qe=Ml(D)?yy:va.current,Qe=m1(C,Qe));var yt=D.getDerivedStateFromProps,wt=typeof yt=="function"||typeof de.getSnapshotBeforeUpdate=="function";wt||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(Ie!==F||Fe!==Qe)&&Lne(C,de,F,Qe),og=!1;var mt=C.memoizedState;de.state=mt,FA(C,F,de,K),Fe=C.memoizedState,Ie!==F||mt!==Fe||Nl.current||og?(typeof yt=="function"&&(FL(C,D,yt,F),Fe=C.memoizedState),(Ie=og||Mne(C,D,Ie,F,mt,Fe,Qe))?(wt||typeof de.UNSAFE_componentWillMount!="function"&&typeof de.componentWillMount!="function"||(typeof de.componentWillMount=="function"&&de.componentWillMount(),typeof de.UNSAFE_componentWillMount=="function"&&de.UNSAFE_componentWillMount()),typeof de.componentDidMount=="function"&&(C.flags|=4194308)):(typeof de.componentDidMount=="function"&&(C.flags|=4194308),C.memoizedProps=F,C.memoizedState=Fe),de.props=F,de.state=Fe,de.context=Qe,F=Ie):(typeof de.componentDidMount=="function"&&(C.flags|=4194308),F=!1)}else{de=C.stateNode,cne(w,C),Ie=C.memoizedProps,Qe=C.type===C.elementType?Ie:sd(C.type,Ie),de.props=Qe,wt=C.pendingProps,mt=de.context,Fe=D.contextType,typeof Fe=="object"&&Fe!==null?Fe=ac(Fe):(Fe=Ml(D)?yy:va.current,Fe=m1(C,Fe));var Ht=D.getDerivedStateFromProps;(yt=typeof Ht=="function"||typeof de.getSnapshotBeforeUpdate=="function")||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(Ie!==wt||mt!==Fe)&&Lne(C,de,F,Fe),og=!1,mt=C.memoizedState,de.state=mt,FA(C,F,de,K);var Gt=C.memoizedState;Ie!==wt||mt!==Gt||Nl.current||og?(typeof Ht=="function"&&(FL(C,D,Ht,F),Gt=C.memoizedState),(Qe=og||Mne(C,D,Qe,F,mt,Gt,Fe)||!1)?(yt||typeof de.UNSAFE_componentWillUpdate!="function"&&typeof de.componentWillUpdate!="function"||(typeof de.componentWillUpdate=="function"&&de.componentWillUpdate(F,Gt,Fe),typeof de.UNSAFE_componentWillUpdate=="function"&&de.UNSAFE_componentWillUpdate(F,Gt,Fe)),typeof de.componentDidUpdate=="function"&&(C.flags|=4),typeof de.getSnapshotBeforeUpdate=="function"&&(C.flags|=1024)):(typeof de.componentDidUpdate!="function"||Ie===w.memoizedProps&&mt===w.memoizedState||(C.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||Ie===w.memoizedProps&&mt===w.memoizedState||(C.flags|=1024),C.memoizedProps=F,C.memoizedState=Gt),de.props=F,de.state=Gt,de.context=Fe,F=Qe):(typeof de.componentDidUpdate!="function"||Ie===w.memoizedProps&&mt===w.memoizedState||(C.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||Ie===w.memoizedProps&&mt===w.memoizedState||(C.flags|=1024),F=!1)}return HL(w,C,D,F,Z,K)}function HL(w,C,D,F,K,Z){Gne(w,C);var de=(C.flags&128)!==0;if(!F&&!de)return K&&Zte(C,D,!1),mp(w,C,Z);F=C.stateNode,C$e.current=C;var Ie=de&&typeof D.getDerivedStateFromError!="function"?null:F.render();return C.flags|=1,w!==null&&de?(C.child=b1(C,w.child,null,Z),C.child=b1(C,null,Ie,Z)):Xa(w,C,Ie,Z),C.memoizedState=F.state,K&&Zte(C,D,!0),C.child}function Kne(w){var C=w.stateNode;C.pendingContext?Qte(w,C.pendingContext,C.pendingContext!==C.context):C.context&&Qte(w,C.context,!1),TL(w,C.containerInfo)}function Xne(w,C,D,F,K){return v1(),bL(K),C.flags|=256,Xa(w,C,D,F),C.child}var qL={dehydrated:null,treeContext:null,retryLane:0};function VL(w){return{baseLanes:w,cachePool:null,transitions:null}}function Qne(w,C,D){var F=C.pendingProps,K=no.current,Z=!1,de=(C.flags&128)!==0,Ie;if((Ie=de)||(Ie=w!==null&&w.memoizedState===null?!1:(K&2)!==0),Ie?(Z=!0,C.flags&=-129):(w===null||w.memoizedState!==null)&&(K|=1),Ti(no,K&1),w===null)return vL(C),w=C.memoizedState,w!==null&&(w=w.dehydrated,w!==null)?((C.mode&1)===0?C.lanes=1:w.data==="$!"?C.lanes=8:C.lanes=1073741824,null):(de=F.children,w=F.fallback,Z?(F=C.mode,Z=C.child,de={mode:"hidden",children:de},(F&1)===0&&Z!==null?(Z.childLanes=0,Z.pendingProps=de):Z=oR(de,F,0,null),w=ky(w,F,D,null),Z.return=C,w.return=C,Z.sibling=w,C.child=Z,C.child.memoizedState=VL(D),C.memoizedState=qL,w):WL(C,de));if(K=w.memoizedState,K!==null&&(Ie=K.dehydrated,Ie!==null))return _$e(w,C,de,F,Ie,K,D);if(Z){Z=F.fallback,de=C.mode,K=w.child,Ie=K.sibling;var Fe={mode:"hidden",children:F.children};return(de&1)===0&&C.child!==K?(F=C.child,F.childLanes=0,F.pendingProps=Fe,C.deletions=null):(F=fg(K,Fe),F.subtreeFlags=K.subtreeFlags&14680064),Ie!==null?Z=fg(Ie,Z):(Z=ky(Z,de,D,null),Z.flags|=2),Z.return=C,F.return=C,F.sibling=Z,C.child=F,F=Z,Z=C.child,de=w.child.memoizedState,de=de===null?VL(D):{baseLanes:de.baseLanes|D,cachePool:null,transitions:de.transitions},Z.memoizedState=de,Z.childLanes=w.childLanes&~D,C.memoizedState=qL,F}return Z=w.child,w=Z.sibling,F=fg(Z,{mode:"visible",children:F.children}),(C.mode&1)===0&&(F.lanes=D),F.return=C,F.sibling=null,w!==null&&(D=C.deletions,D===null?(C.deletions=[w],C.flags|=16):D.push(w)),C.child=F,C.memoizedState=null,F}function WL(w,C){return C=oR({mode:"visible",children:C},w.mode,0,null),C.return=w,w.child=C}function WA(w,C,D,F){return F!==null&&bL(F),b1(C,w.child,null,D),w=WL(C,C.pendingProps.children),w.flags|=2,C.memoizedState=null,w}function _$e(w,C,D,F,K,Z,de){if(D)return C.flags&256?(C.flags&=-257,F=BL(Error(n(422))),WA(w,C,de,F)):C.memoizedState!==null?(C.child=w.child,C.flags|=128,null):(Z=F.fallback,K=C.mode,F=oR({mode:"visible",children:F.children},K,0,null),Z=ky(Z,K,de,null),Z.flags|=2,F.return=C,Z.return=C,F.sibling=Z,C.child=F,(C.mode&1)!==0&&b1(C,w.child,null,de),C.child.memoizedState=VL(de),C.memoizedState=qL,Z);if((C.mode&1)===0)return WA(w,C,de,null);if(K.data==="$!"){if(F=K.nextSibling&&K.nextSibling.dataset,F)var Ie=F.dgst;return F=Ie,Z=Error(n(419)),F=BL(Z,F,void 0),WA(w,C,de,F)}if(Ie=(de&w.childLanes)!==0,$l||Ie){if(F=bs,F!==null){switch(de&-de){case 4:K=2;break;case 16:K=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:K=32;break;case 536870912:K=268435456;break;default:K=0}K=(K&(F.suspendedLanes|de))!==0?0:K,K!==0&&K!==Z.retryLane&&(Z.retryLane=K,hp(w,K),ud(F,w,K,-1))}return lF(),F=BL(Error(n(421))),WA(w,C,de,F)}return K.data==="$?"?(C.flags|=128,C.child=w.child,C=$$e.bind(null,w),K._reactRetry=C,null):(w=Z.treeContext,bu=tg(K.nextSibling),vu=C,Vi=!0,od=null,w!==null&&(oc[sc++]=dp,oc[sc++]=fp,oc[sc++]=vy,dp=w.id,fp=w.overflow,vy=C),C=WL(C,F.children),C.flags|=4096,C)}function Jne(w,C,D){w.lanes|=C;var F=w.alternate;F!==null&&(F.lanes|=C),_L(w.return,C,D)}function GL(w,C,D,F,K){var Z=w.memoizedState;Z===null?w.memoizedState={isBackwards:C,rendering:null,renderingStartTime:0,last:F,tail:D,tailMode:K}:(Z.isBackwards=C,Z.rendering=null,Z.renderingStartTime=0,Z.last=F,Z.tail=D,Z.tailMode=K)}function Zne(w,C,D){var F=C.pendingProps,K=F.revealOrder,Z=F.tail;if(Xa(w,C,F.children,D),F=no.current,(F&2)!==0)F=F&1|2,C.flags|=128;else{if(w!==null&&(w.flags&128)!==0)e:for(w=C.child;w!==null;){if(w.tag===13)w.memoizedState!==null&&Jne(w,D,C);else if(w.tag===19)Jne(w,D,C);else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===C)break e;for(;w.sibling===null;){if(w.return===null||w.return===C)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}F&=1}if(Ti(no,F),(C.mode&1)===0)C.memoizedState=null;else switch(K){case"forwards":for(D=C.child,K=null;D!==null;)w=D.alternate,w!==null&&jA(w)===null&&(K=D),D=D.sibling;D=K,D===null?(K=C.child,C.child=null):(K=D.sibling,D.sibling=null),GL(C,!1,K,D,Z);break;case"backwards":for(D=null,K=C.child,C.child=null;K!==null;){if(w=K.alternate,w!==null&&jA(w)===null){C.child=K;break}w=K.sibling,K.sibling=D,D=K,K=w}GL(C,!0,D,null,Z);break;case"together":GL(C,!1,null,null,void 0);break;default:C.memoizedState=null}return C.child}function GA(w,C){(C.mode&1)===0&&w!==null&&(w.alternate=null,C.alternate=null,C.flags|=2)}function mp(w,C,D){if(w!==null&&(C.dependencies=w.dependencies),_y|=C.lanes,(D&C.childLanes)===0)return null;if(w!==null&&C.child!==w.child)throw Error(n(153));if(C.child!==null){for(w=C.child,D=fg(w,w.pendingProps),C.child=D,D.return=C;w.sibling!==null;)w=w.sibling,D=D.sibling=fg(w,w.pendingProps),D.return=C;D.sibling=null}return C.child}function E$e(w,C,D){switch(C.tag){case 3:Kne(C),v1();break;case 5:hne(C);break;case 1:Ml(C.type)&&RA(C);break;case 4:TL(C,C.stateNode.containerInfo);break;case 10:var F=C.type._context,K=C.memoizedProps.value;Ti(MA,F._currentValue),F._currentValue=K;break;case 13:if(F=C.memoizedState,F!==null)return F.dehydrated!==null?(Ti(no,no.current&1),C.flags|=128,null):(D&C.child.childLanes)!==0?Qne(w,C,D):(Ti(no,no.current&1),w=mp(w,C,D),w!==null?w.sibling:null);Ti(no,no.current&1);break;case 19:if(F=(D&C.childLanes)!==0,(w.flags&128)!==0){if(F)return Zne(w,C,D);C.flags|=128}if(K=C.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),Ti(no,no.current),F)break;return null;case 22:case 23:return C.lanes=0,Wne(w,C,D)}return mp(w,C,D)}var ere,YL,tre,nre;ere=function(w,C){for(var D=C.child;D!==null;){if(D.tag===5||D.tag===6)w.appendChild(D.stateNode);else if(D.tag!==4&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===C)break;for(;D.sibling===null;){if(D.return===null||D.return===C)return;D=D.return}D.sibling.return=D.return,D=D.sibling}},YL=function(){},tre=function(w,C,D,F){var K=w.memoizedProps;if(K!==F){w=C.stateNode,xy(Ff.current);var Z=null;switch(D){case"input":K=X(w,K),F=X(w,F),Z=[];break;case"select":K=z({},K,{value:void 0}),F=z({},F,{value:void 0}),Z=[];break;case"textarea":K=Ae(w,K),F=Ae(w,F),Z=[];break;default:typeof K.onClick!="function"&&typeof F.onClick=="function"&&(w.onclick=TA)}dn(D,F);var de;D=null;for(Qe in K)if(!F.hasOwnProperty(Qe)&&K.hasOwnProperty(Qe)&&K[Qe]!=null)if(Qe==="style"){var Ie=K[Qe];for(de in Ie)Ie.hasOwnProperty(de)&&(D||(D={}),D[de]="")}else Qe!=="dangerouslySetInnerHTML"&&Qe!=="children"&&Qe!=="suppressContentEditableWarning"&&Qe!=="suppressHydrationWarning"&&Qe!=="autoFocus"&&(i.hasOwnProperty(Qe)?Z||(Z=[]):(Z=Z||[]).push(Qe,null));for(Qe in F){var Fe=F[Qe];if(Ie=K?.[Qe],F.hasOwnProperty(Qe)&&Fe!==Ie&&(Fe!=null||Ie!=null))if(Qe==="style")if(Ie){for(de in Ie)!Ie.hasOwnProperty(de)||Fe&&Fe.hasOwnProperty(de)||(D||(D={}),D[de]="");for(de in Fe)Fe.hasOwnProperty(de)&&Ie[de]!==Fe[de]&&(D||(D={}),D[de]=Fe[de])}else D||(Z||(Z=[]),Z.push(Qe,D)),D=Fe;else Qe==="dangerouslySetInnerHTML"?(Fe=Fe?Fe.__html:void 0,Ie=Ie?Ie.__html:void 0,Fe!=null&&Ie!==Fe&&(Z=Z||[]).push(Qe,Fe)):Qe==="children"?typeof Fe!="string"&&typeof Fe!="number"||(Z=Z||[]).push(Qe,""+Fe):Qe!=="suppressContentEditableWarning"&&Qe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Qe)?(Fe!=null&&Qe==="onScroll"&&$i("scroll",w),Z||Ie===Fe||(Z=[])):(Z=Z||[]).push(Qe,Fe))}D&&(Z=Z||[]).push("style",D);var Qe=Z;(C.updateQueue=Qe)&&(C.flags|=4)}},nre=function(w,C,D,F){D!==F&&(C.flags|=4)};function __(w,C){if(!Vi)switch(w.tailMode){case"hidden":C=w.tail;for(var D=null;C!==null;)C.alternate!==null&&(D=C),C=C.sibling;D===null?w.tail=null:D.sibling=null;break;case"collapsed":D=w.tail;for(var F=null;D!==null;)D.alternate!==null&&(F=D),D=D.sibling;F===null?C||w.tail===null?w.tail=null:w.tail.sibling=null:F.sibling=null}}function wa(w){var C=w.alternate!==null&&w.alternate.child===w.child,D=0,F=0;if(C)for(var K=w.child;K!==null;)D|=K.lanes|K.childLanes,F|=K.subtreeFlags&14680064,F|=K.flags&14680064,K.return=w,K=K.sibling;else for(K=w.child;K!==null;)D|=K.lanes|K.childLanes,F|=K.subtreeFlags,F|=K.flags,K.return=w,K=K.sibling;return w.subtreeFlags|=F,w.childLanes=D,C}function S$e(w,C,D){var F=C.pendingProps;switch(gL(C),C.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wa(C),null;case 1:return Ml(C.type)&&AA(),wa(C),null;case 3:return F=C.stateNode,C1(),Li(Nl),Li(va),RL(),F.pendingContext&&(F.context=F.pendingContext,F.pendingContext=null),(w===null||w.child===null)&&(OA(C)?C.flags|=4:w===null||w.memoizedState.isDehydrated&&(C.flags&256)===0||(C.flags|=1024,od!==null&&(oF(od),od=null))),YL(w,C),wa(C),null;case 5:kL(C);var K=xy(v_.current);if(D=C.type,w!==null&&C.stateNode!=null)tre(w,C,D,F,K),w.ref!==C.ref&&(C.flags|=512,C.flags|=2097152);else{if(!F){if(C.stateNode===null)throw Error(n(166));return wa(C),null}if(w=xy(Ff.current),OA(C)){F=C.stateNode,D=C.type;var Z=C.memoizedProps;switch(F[Lf]=C,F[h_]=Z,w=(C.mode&1)!==0,D){case"dialog":$i("cancel",F),$i("close",F);break;case"iframe":case"object":case"embed":$i("load",F);break;case"video":case"audio":for(K=0;K<c_.length;K++)$i(c_[K],F);break;case"source":$i("error",F);break;case"img":case"image":case"link":$i("error",F),$i("load",F);break;case"details":$i("toggle",F);break;case"input":he(F,Z),$i("invalid",F);break;case"select":F._wrapperState={wasMultiple:!!Z.multiple},$i("invalid",F);break;case"textarea":Se(F,Z),$i("invalid",F)}dn(D,Z),K=null;for(var de in Z)if(Z.hasOwnProperty(de)){var Ie=Z[de];de==="children"?typeof Ie=="string"?F.textContent!==Ie&&(Z.suppressHydrationWarning!==!0&&SA(F.textContent,Ie,w),K=["children",Ie]):typeof Ie=="number"&&F.textContent!==""+Ie&&(Z.suppressHydrationWarning!==!0&&SA(F.textContent,Ie,w),K=["children",""+Ie]):i.hasOwnProperty(de)&&Ie!=null&&de==="onScroll"&&$i("scroll",F)}switch(D){case"input":te(F),ee(F,Z,!0);break;case"textarea":te(F),ke(F);break;case"select":case"option":break;default:typeof Z.onClick=="function"&&(F.onclick=TA)}F=K,C.updateQueue=F,F!==null&&(C.flags|=4)}else{de=K.nodeType===9?K:K.ownerDocument,w==="http://www.w3.org/1999/xhtml"&&(w=me(D)),w==="http://www.w3.org/1999/xhtml"?D==="script"?(w=de.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild)):typeof F.is=="string"?w=de.createElement(D,{is:F.is}):(w=de.createElement(D),D==="select"&&(de=w,F.multiple?de.multiple=!0:F.size&&(de.size=F.size))):w=de.createElementNS(w,D),w[Lf]=C,w[h_]=F,ere(w,C,!1,!1),C.stateNode=w;e:{switch(de=Vn(D,F),D){case"dialog":$i("cancel",w),$i("close",w),K=F;break;case"iframe":case"object":case"embed":$i("load",w),K=F;break;case"video":case"audio":for(K=0;K<c_.length;K++)$i(c_[K],w);K=F;break;case"source":$i("error",w),K=F;break;case"img":case"image":case"link":$i("error",w),$i("load",w),K=F;break;case"details":$i("toggle",w),K=F;break;case"input":he(w,F),K=X(w,F),$i("invalid",w);break;case"option":K=F;break;case"select":w._wrapperState={wasMultiple:!!F.multiple},K=z({},F,{value:void 0}),$i("invalid",w);break;case"textarea":Se(w,F),K=Ae(w,F),$i("invalid",w);break;default:K=F}dn(D,K),Ie=K;for(Z in Ie)if(Ie.hasOwnProperty(Z)){var Fe=Ie[Z];Z==="style"?_n(w,Fe):Z==="dangerouslySetInnerHTML"?(Fe=Fe?Fe.__html:void 0,Fe!=null&&Xe(w,Fe)):Z==="children"?typeof Fe=="string"?(D!=="textarea"||Fe!=="")&&tt(w,Fe):typeof Fe=="number"&&tt(w,""+Fe):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?Fe!=null&&Z==="onScroll"&&$i("scroll",w):Fe!=null&&x(w,Z,Fe,de))}switch(D){case"input":te(w),ee(w,F,!1);break;case"textarea":te(w),ke(w);break;case"option":F.value!=null&&w.setAttribute("value",""+le(F.value));break;case"select":w.multiple=!!F.multiple,Z=F.value,Z!=null?Oe(w,!!F.multiple,Z,!1):F.defaultValue!=null&&Oe(w,!!F.multiple,F.defaultValue,!0);break;default:typeof K.onClick=="function"&&(w.onclick=TA)}switch(D){case"button":case"input":case"select":case"textarea":F=!!F.autoFocus;break e;case"img":F=!0;break e;default:F=!1}}F&&(C.flags|=4)}C.ref!==null&&(C.flags|=512,C.flags|=2097152)}return wa(C),null;case 6:if(w&&C.stateNode!=null)nre(w,C,w.memoizedProps,F);else{if(typeof F!="string"&&C.stateNode===null)throw Error(n(166));if(D=xy(v_.current),xy(Ff.current),OA(C)){if(F=C.stateNode,D=C.memoizedProps,F[Lf]=C,(Z=F.nodeValue!==D)&&(w=vu,w!==null))switch(w.tag){case 3:SA(F.nodeValue,D,(w.mode&1)!==0);break;case 5:w.memoizedProps.suppressHydrationWarning!==!0&&SA(F.nodeValue,D,(w.mode&1)!==0)}Z&&(C.flags|=4)}else F=(D.nodeType===9?D:D.ownerDocument).createTextNode(F),F[Lf]=C,C.stateNode=F}return wa(C),null;case 13:if(Li(no),F=C.memoizedState,w===null||w.memoizedState!==null&&w.memoizedState.dehydrated!==null){if(Vi&&bu!==null&&(C.mode&1)!==0&&(C.flags&128)===0)one(),v1(),C.flags|=98560,Z=!1;else if(Z=OA(C),F!==null&&F.dehydrated!==null){if(w===null){if(!Z)throw Error(n(318));if(Z=C.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(n(317));Z[Lf]=C}else v1(),(C.flags&128)===0&&(C.memoizedState=null),C.flags|=4;wa(C),Z=!1}else od!==null&&(oF(od),od=null),Z=!0;if(!Z)return C.flags&65536?C:null}return(C.flags&128)!==0?(C.lanes=D,C):(F=F!==null,F!==(w!==null&&w.memoizedState!==null)&&F&&(C.child.flags|=8192,(C.mode&1)!==0&&(w===null||(no.current&1)!==0?is===0&&(is=3):lF())),C.updateQueue!==null&&(C.flags|=4),wa(C),null);case 4:return C1(),YL(w,C),w===null&&d_(C.stateNode.containerInfo),wa(C),null;case 10:return CL(C.type._context),wa(C),null;case 17:return Ml(C.type)&&AA(),wa(C),null;case 19:if(Li(no),Z=C.memoizedState,Z===null)return wa(C),null;if(F=(C.flags&128)!==0,de=Z.rendering,de===null)if(F)__(Z,!1);else{if(is!==0||w!==null&&(w.flags&128)!==0)for(w=C.child;w!==null;){if(de=jA(w),de!==null){for(C.flags|=128,__(Z,!1),F=de.updateQueue,F!==null&&(C.updateQueue=F,C.flags|=4),C.subtreeFlags=0,F=D,D=C.child;D!==null;)Z=D,w=F,Z.flags&=14680066,de=Z.alternate,de===null?(Z.childLanes=0,Z.lanes=w,Z.child=null,Z.subtreeFlags=0,Z.memoizedProps=null,Z.memoizedState=null,Z.updateQueue=null,Z.dependencies=null,Z.stateNode=null):(Z.childLanes=de.childLanes,Z.lanes=de.lanes,Z.child=de.child,Z.subtreeFlags=0,Z.deletions=null,Z.memoizedProps=de.memoizedProps,Z.memoizedState=de.memoizedState,Z.updateQueue=de.updateQueue,Z.type=de.type,w=de.dependencies,Z.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),D=D.sibling;return Ti(no,no.current&1|2),C.child}w=w.sibling}Z.tail!==null&&dr()>T1&&(C.flags|=128,F=!0,__(Z,!1),C.lanes=4194304)}else{if(!F)if(w=jA(de),w!==null){if(C.flags|=128,F=!0,D=w.updateQueue,D!==null&&(C.updateQueue=D,C.flags|=4),__(Z,!0),Z.tail===null&&Z.tailMode==="hidden"&&!de.alternate&&!Vi)return wa(C),null}else 2*dr()-Z.renderingStartTime>T1&&D!==1073741824&&(C.flags|=128,F=!0,__(Z,!1),C.lanes=4194304);Z.isBackwards?(de.sibling=C.child,C.child=de):(D=Z.last,D!==null?D.sibling=de:C.child=de,Z.last=de)}return Z.tail!==null?(C=Z.tail,Z.rendering=C,Z.tail=C.sibling,Z.renderingStartTime=dr(),C.sibling=null,D=no.current,Ti(no,F?D&1|2:D&1),C):(wa(C),null);case 22:case 23:return aF(),F=C.memoizedState!==null,w!==null&&w.memoizedState!==null!==F&&(C.flags|=8192),F&&(C.mode&1)!==0?(wu&1073741824)!==0&&(wa(C),C.subtreeFlags&6&&(C.flags|=8192)):wa(C),null;case 24:return null;case 25:return null}throw Error(n(156,C.tag))}function T$e(w,C){switch(gL(C),C.tag){case 1:return Ml(C.type)&&AA(),w=C.flags,w&65536?(C.flags=w&-65537|128,C):null;case 3:return C1(),Li(Nl),Li(va),RL(),w=C.flags,(w&65536)!==0&&(w&128)===0?(C.flags=w&-65537|128,C):null;case 5:return kL(C),null;case 13:if(Li(no),w=C.memoizedState,w!==null&&w.dehydrated!==null){if(C.alternate===null)throw Error(n(340));v1()}return w=C.flags,w&65536?(C.flags=w&-65537|128,C):null;case 19:return Li(no),null;case 4:return C1(),null;case 10:return CL(C.type._context),null;case 22:case 23:return aF(),null;case 24:return null;default:return null}}var YA=!1,xa=!1,k$e=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function E1(w,C){var D=w.ref;if(D!==null)if(typeof D=="function")try{D(null)}catch(F){fo(w,C,F)}else D.current=null}function KL(w,C,D){try{D()}catch(F){fo(w,C,F)}}var rre=!1;function A$e(w,C){if(aL=oe,w=Mte(),Z$(w)){if("selectionStart"in w)var D={start:w.selectionStart,end:w.selectionEnd};else e:{D=(D=w.ownerDocument)&&D.defaultView||window;var F=D.getSelection&&D.getSelection();if(F&&F.rangeCount!==0){D=F.anchorNode;var K=F.anchorOffset,Z=F.focusNode;F=F.focusOffset;try{D.nodeType,Z.nodeType}catch{D=null;break e}var de=0,Ie=-1,Fe=-1,Qe=0,yt=0,wt=w,mt=null;t:for(;;){for(var Ht;wt!==D||K!==0&&wt.nodeType!==3||(Ie=de+K),wt!==Z||F!==0&&wt.nodeType!==3||(Fe=de+F),wt.nodeType===3&&(de+=wt.nodeValue.length),(Ht=wt.firstChild)!==null;)mt=wt,wt=Ht;for(;;){if(wt===w)break t;if(mt===D&&++Qe===K&&(Ie=de),mt===Z&&++yt===F&&(Fe=de),(Ht=wt.nextSibling)!==null)break;wt=mt,mt=wt.parentNode}wt=Ht}D=Ie===-1||Fe===-1?null:{start:Ie,end:Fe}}else D=null}D=D||{start:0,end:0}}else D=null;for(lL={focusedElem:w,selectionRange:D},oe=!1,Vt=C;Vt!==null;)if(C=Vt,w=C.child,(C.subtreeFlags&1028)!==0&&w!==null)w.return=C,Vt=w;else for(;Vt!==null;){C=Vt;try{var Gt=C.alternate;if((C.flags&1024)!==0)switch(C.tag){case 0:case 11:case 15:break;case 1:if(Gt!==null){var Qt=Gt.memoizedProps,ko=Gt.memoizedState,We=C.stateNode,Ue=We.getSnapshotBeforeUpdate(C.elementType===C.type?Qt:sd(C.type,Qt),ko);We.__reactInternalSnapshotBeforeUpdate=Ue}break;case 3:var Ke=C.stateNode.containerInfo;Ke.nodeType===1?Ke.textContent="":Ke.nodeType===9&&Ke.documentElement&&Ke.removeChild(Ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(At){fo(C,C.return,At)}if(w=C.sibling,w!==null){w.return=C.return,Vt=w;break}Vt=C.return}return Gt=rre,rre=!1,Gt}function E_(w,C,D){var F=C.updateQueue;if(F=F!==null?F.lastEffect:null,F!==null){var K=F=F.next;do{if((K.tag&w)===w){var Z=K.destroy;K.destroy=void 0,Z!==void 0&&KL(C,D,Z)}K=K.next}while(K!==F)}}function KA(w,C){if(C=C.updateQueue,C=C!==null?C.lastEffect:null,C!==null){var D=C=C.next;do{if((D.tag&w)===w){var F=D.create;D.destroy=F()}D=D.next}while(D!==C)}}function XL(w){var C=w.ref;if(C!==null){var D=w.stateNode;w.tag,w=D,typeof C=="function"?C(w):C.current=w}}function ire(w){var C=w.alternate;C!==null&&(w.alternate=null,ire(C)),w.child=null,w.deletions=null,w.sibling=null,w.tag===5&&(C=w.stateNode,C!==null&&(delete C[Lf],delete C[h_],delete C[fL],delete C[c$e],delete C[d$e])),w.stateNode=null,w.return=null,w.dependencies=null,w.memoizedProps=null,w.memoizedState=null,w.pendingProps=null,w.stateNode=null,w.updateQueue=null}function ore(w){return w.tag===5||w.tag===3||w.tag===4}function sre(w){e:for(;;){for(;w.sibling===null;){if(w.return===null||ore(w.return))return null;w=w.return}for(w.sibling.return=w.return,w=w.sibling;w.tag!==5&&w.tag!==6&&w.tag!==18;){if(w.flags&2||w.child===null||w.tag===4)continue e;w.child.return=w,w=w.child}if(!(w.flags&2))return w.stateNode}}function QL(w,C,D){var F=w.tag;if(F===5||F===6)w=w.stateNode,C?D.nodeType===8?D.parentNode.insertBefore(w,C):D.insertBefore(w,C):(D.nodeType===8?(C=D.parentNode,C.insertBefore(w,D)):(C=D,C.appendChild(w)),D=D._reactRootContainer,D!=null||C.onclick!==null||(C.onclick=TA));else if(F!==4&&(w=w.child,w!==null))for(QL(w,C,D),w=w.sibling;w!==null;)QL(w,C,D),w=w.sibling}function JL(w,C,D){var F=w.tag;if(F===5||F===6)w=w.stateNode,C?D.insertBefore(w,C):D.appendChild(w);else if(F!==4&&(w=w.child,w!==null))for(JL(w,C,D),w=w.sibling;w!==null;)JL(w,C,D),w=w.sibling}var Hs=null,ad=!1;function ag(w,C,D){for(D=D.child;D!==null;)are(w,C,D),D=D.sibling}function are(w,C,D){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount(Il,D)}catch{}switch(D.tag){case 5:xa||E1(D,C);case 6:var F=Hs,K=ad;Hs=null,ag(w,C,D),Hs=F,ad=K,Hs!==null&&(ad?(w=Hs,D=D.stateNode,w.nodeType===8?w.parentNode.removeChild(D):w.removeChild(D)):Hs.removeChild(D.stateNode));break;case 18:Hs!==null&&(ad?(w=Hs,D=D.stateNode,w.nodeType===8?dL(w.parentNode,D):w.nodeType===1&&dL(w,D),ya(w)):dL(Hs,D.stateNode));break;case 4:F=Hs,K=ad,Hs=D.stateNode.containerInfo,ad=!0,ag(w,C,D),Hs=F,ad=K;break;case 0:case 11:case 14:case 15:if(!xa&&(F=D.updateQueue,F!==null&&(F=F.lastEffect,F!==null))){K=F=F.next;do{var Z=K,de=Z.destroy;Z=Z.tag,de!==void 0&&((Z&2)!==0||(Z&4)!==0)&&KL(D,C,de),K=K.next}while(K!==F)}ag(w,C,D);break;case 1:if(!xa&&(E1(D,C),F=D.stateNode,typeof F.componentWillUnmount=="function"))try{F.props=D.memoizedProps,F.state=D.memoizedState,F.componentWillUnmount()}catch(Ie){fo(D,C,Ie)}ag(w,C,D);break;case 21:ag(w,C,D);break;case 22:D.mode&1?(xa=(F=xa)||D.memoizedState!==null,ag(w,C,D),xa=F):ag(w,C,D);break;default:ag(w,C,D)}}function lre(w){var C=w.updateQueue;if(C!==null){w.updateQueue=null;var D=w.stateNode;D===null&&(D=w.stateNode=new k$e),C.forEach(function(F){var K=L$e.bind(null,w,F);D.has(F)||(D.add(F),F.then(K,K))})}}function ld(w,C){var D=C.deletions;if(D!==null)for(var F=0;F<D.length;F++){var K=D[F];try{var Z=w,de=C,Ie=de;e:for(;Ie!==null;){switch(Ie.tag){case 5:Hs=Ie.stateNode,ad=!1;break e;case 3:Hs=Ie.stateNode.containerInfo,ad=!0;break e;case 4:Hs=Ie.stateNode.containerInfo,ad=!0;break e}Ie=Ie.return}if(Hs===null)throw Error(n(160));are(Z,de,K),Hs=null,ad=!1;var Fe=K.alternate;Fe!==null&&(Fe.return=null),K.return=null}catch(Qe){fo(K,C,Qe)}}if(C.subtreeFlags&12854)for(C=C.child;C!==null;)ure(C,w),C=C.sibling}function ure(w,C){var D=w.alternate,F=w.flags;switch(w.tag){case 0:case 11:case 14:case 15:if(ld(C,w),Bf(w),F&4){try{E_(3,w,w.return),KA(3,w)}catch(Qt){fo(w,w.return,Qt)}try{E_(5,w,w.return)}catch(Qt){fo(w,w.return,Qt)}}break;case 1:ld(C,w),Bf(w),F&512&&D!==null&&E1(D,D.return);break;case 5:if(ld(C,w),Bf(w),F&512&&D!==null&&E1(D,D.return),w.flags&32){var K=w.stateNode;try{tt(K,"")}catch(Qt){fo(w,w.return,Qt)}}if(F&4&&(K=w.stateNode,K!=null)){var Z=w.memoizedProps,de=D!==null?D.memoizedProps:Z,Ie=w.type,Fe=w.updateQueue;if(w.updateQueue=null,Fe!==null)try{Ie==="input"&&Z.type==="radio"&&Z.name!=null&&ge(K,Z),Vn(Ie,de);var Qe=Vn(Ie,Z);for(de=0;de<Fe.length;de+=2){var yt=Fe[de],wt=Fe[de+1];yt==="style"?_n(K,wt):yt==="dangerouslySetInnerHTML"?Xe(K,wt):yt==="children"?tt(K,wt):x(K,yt,wt,Qe)}switch(Ie){case"input":re(K,Z);break;case"textarea":xe(K,Z);break;case"select":var mt=K._wrapperState.wasMultiple;K._wrapperState.wasMultiple=!!Z.multiple;var Ht=Z.value;Ht!=null?Oe(K,!!Z.multiple,Ht,!1):mt!==!!Z.multiple&&(Z.defaultValue!=null?Oe(K,!!Z.multiple,Z.defaultValue,!0):Oe(K,!!Z.multiple,Z.multiple?[]:"",!1))}K[h_]=Z}catch(Qt){fo(w,w.return,Qt)}}break;case 6:if(ld(C,w),Bf(w),F&4){if(w.stateNode===null)throw Error(n(162));K=w.stateNode,Z=w.memoizedProps;try{K.nodeValue=Z}catch(Qt){fo(w,w.return,Qt)}}break;case 3:if(ld(C,w),Bf(w),F&4&&D!==null&&D.memoizedState.isDehydrated)try{ya(C.containerInfo)}catch(Qt){fo(w,w.return,Qt)}break;case 4:ld(C,w),Bf(w);break;case 13:ld(C,w),Bf(w),K=w.child,K.flags&8192&&(Z=K.memoizedState!==null,K.stateNode.isHidden=Z,!Z||K.alternate!==null&&K.alternate.memoizedState!==null||(tF=dr())),F&4&&lre(w);break;case 22:if(yt=D!==null&&D.memoizedState!==null,w.mode&1?(xa=(Qe=xa)||yt,ld(C,w),xa=Qe):ld(C,w),Bf(w),F&8192){if(Qe=w.memoizedState!==null,(w.stateNode.isHidden=Qe)&&!yt&&(w.mode&1)!==0)for(Vt=w,yt=w.child;yt!==null;){for(wt=Vt=yt;Vt!==null;){switch(mt=Vt,Ht=mt.child,mt.tag){case 0:case 11:case 14:case 15:E_(4,mt,mt.return);break;case 1:E1(mt,mt.return);var Gt=mt.stateNode;if(typeof Gt.componentWillUnmount=="function"){F=mt,D=mt.return;try{C=F,Gt.props=C.memoizedProps,Gt.state=C.memoizedState,Gt.componentWillUnmount()}catch(Qt){fo(F,D,Qt)}}break;case 5:E1(mt,mt.return);break;case 22:if(mt.memoizedState!==null){fre(wt);continue}}Ht!==null?(Ht.return=mt,Vt=Ht):fre(wt)}yt=yt.sibling}e:for(yt=null,wt=w;;){if(wt.tag===5){if(yt===null){yt=wt;try{K=wt.stateNode,Qe?(Z=K.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none"):(Ie=wt.stateNode,Fe=wt.memoizedProps.style,de=Fe!=null&&Fe.hasOwnProperty("display")?Fe.display:null,Ie.style.display=zt("display",de))}catch(Qt){fo(w,w.return,Qt)}}}else if(wt.tag===6){if(yt===null)try{wt.stateNode.nodeValue=Qe?"":wt.memoizedProps}catch(Qt){fo(w,w.return,Qt)}}else if((wt.tag!==22&&wt.tag!==23||wt.memoizedState===null||wt===w)&&wt.child!==null){wt.child.return=wt,wt=wt.child;continue}if(wt===w)break e;for(;wt.sibling===null;){if(wt.return===null||wt.return===w)break e;yt===wt&&(yt=null),wt=wt.return}yt===wt&&(yt=null),wt.sibling.return=wt.return,wt=wt.sibling}}break;case 19:ld(C,w),Bf(w),F&4&&lre(w);break;case 21:break;default:ld(C,w),Bf(w)}}function Bf(w){var C=w.flags;if(C&2){try{e:{for(var D=w.return;D!==null;){if(ore(D)){var F=D;break e}D=D.return}throw Error(n(160))}switch(F.tag){case 5:var K=F.stateNode;F.flags&32&&(tt(K,""),F.flags&=-33);var Z=sre(w);JL(w,Z,K);break;case 3:case 4:var de=F.stateNode.containerInfo,Ie=sre(w);QL(w,Ie,de);break;default:throw Error(n(161))}}catch(Fe){fo(w,w.return,Fe)}w.flags&=-3}C&4096&&(w.flags&=-4097)}function R$e(w,C,D){Vt=w,cre(w)}function cre(w,C,D){for(var F=(w.mode&1)!==0;Vt!==null;){var K=Vt,Z=K.child;if(K.tag===22&&F){var de=K.memoizedState!==null||YA;if(!de){var Ie=K.alternate,Fe=Ie!==null&&Ie.memoizedState!==null||xa;Ie=YA;var Qe=xa;if(YA=de,(xa=Fe)&&!Qe)for(Vt=K;Vt!==null;)de=Vt,Fe=de.child,de.tag===22&&de.memoizedState!==null?hre(K):Fe!==null?(Fe.return=de,Vt=Fe):hre(K);for(;Z!==null;)Vt=Z,cre(Z),Z=Z.sibling;Vt=K,YA=Ie,xa=Qe}dre(w)}else(K.subtreeFlags&8772)!==0&&Z!==null?(Z.return=K,Vt=Z):dre(w)}}function dre(w){for(;Vt!==null;){var C=Vt;if((C.flags&8772)!==0){var D=C.alternate;try{if((C.flags&8772)!==0)switch(C.tag){case 0:case 11:case 15:xa||KA(5,C);break;case 1:var F=C.stateNode;if(C.flags&4&&!xa)if(D===null)F.componentDidMount();else{var K=C.elementType===C.type?D.memoizedProps:sd(C.type,D.memoizedProps);F.componentDidUpdate(K,D.memoizedState,F.__reactInternalSnapshotBeforeUpdate)}var Z=C.updateQueue;Z!==null&&fne(C,Z,F);break;case 3:var de=C.updateQueue;if(de!==null){if(D=null,C.child!==null)switch(C.child.tag){case 5:D=C.child.stateNode;break;case 1:D=C.child.stateNode}fne(C,de,D)}break;case 5:var Ie=C.stateNode;if(D===null&&C.flags&4){D=Ie;var Fe=C.memoizedProps;switch(C.type){case"button":case"input":case"select":case"textarea":Fe.autoFocus&&D.focus();break;case"img":Fe.src&&(D.src=Fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(C.memoizedState===null){var Qe=C.alternate;if(Qe!==null){var yt=Qe.memoizedState;if(yt!==null){var wt=yt.dehydrated;wt!==null&&ya(wt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}xa||C.flags&512&&XL(C)}catch(mt){fo(C,C.return,mt)}}if(C===w){Vt=null;break}if(D=C.sibling,D!==null){D.return=C.return,Vt=D;break}Vt=C.return}}function fre(w){for(;Vt!==null;){var C=Vt;if(C===w){Vt=null;break}var D=C.sibling;if(D!==null){D.return=C.return,Vt=D;break}Vt=C.return}}function hre(w){for(;Vt!==null;){var C=Vt;try{switch(C.tag){case 0:case 11:case 15:var D=C.return;try{KA(4,C)}catch(Fe){fo(C,D,Fe)}break;case 1:var F=C.stateNode;if(typeof F.componentDidMount=="function"){var K=C.return;try{F.componentDidMount()}catch(Fe){fo(C,K,Fe)}}var Z=C.return;try{XL(C)}catch(Fe){fo(C,Z,Fe)}break;case 5:var de=C.return;try{XL(C)}catch(Fe){fo(C,de,Fe)}}}catch(Fe){fo(C,C.return,Fe)}if(C===w){Vt=null;break}var Ie=C.sibling;if(Ie!==null){Ie.return=C.return,Vt=Ie;break}Vt=C.return}}var I$e=Math.ceil,XA=E.ReactCurrentDispatcher,ZL=E.ReactCurrentOwner,uc=E.ReactCurrentBatchConfig,Nr=0,bs=null,qo=null,qs=0,wu=0,S1=ng(0),is=0,S_=null,_y=0,QA=0,eF=0,T_=null,Ll=null,tF=0,T1=1/0,gp=null,JA=!1,nF=null,lg=null,ZA=!1,ug=null,eR=0,k_=0,rF=null,tR=-1,nR=0;function Qa(){return(Nr&6)!==0?dr():tR!==-1?tR:tR=dr()}function cg(w){return(w.mode&1)===0?1:(Nr&2)!==0&&qs!==0?qs&-qs:h$e.transition!==null?(nR===0&&(nR=_t()),nR):(w=Wt,w!==0||(w=window.event,w=w===void 0?16:Mn(w.type)),w)}function ud(w,C,D,F){if(50<k_)throw k_=0,rF=null,Error(n(185));Pn(w,D,F),((Nr&2)===0||w!==bs)&&(w===bs&&((Nr&2)===0&&(QA|=D),is===4&&dg(w,qs)),Fl(w,F),D===1&&Nr===0&&(C.mode&1)===0&&(T1=dr()+500,IA&&ig()))}function Fl(w,C){var D=w.callbackNode;pt(w,C);var F=rt(w,w===bs?qs:0);if(F===0)D!==null&&es(D),w.callbackNode=null,w.callbackPriority=0;else if(C=F&-F,w.callbackPriority!==C){if(D!=null&&es(D),C===1)w.tag===0?f$e(mre.bind(null,w)):ene(mre.bind(null,w)),l$e(function(){(Nr&6)===0&&ig()}),D=null;else{switch(sr(F)){case 1:D=wo;break;case 4:D=ps;break;case 16:D=xo;break;case 536870912:D=Bs;break;default:D=xo}D=_re(D,pre.bind(null,w))}w.callbackPriority=C,w.callbackNode=D}}function pre(w,C){if(tR=-1,nR=0,(Nr&6)!==0)throw Error(n(327));var D=w.callbackNode;if(k1()&&w.callbackNode!==D)return null;var F=rt(w,w===bs?qs:0);if(F===0)return null;if((F&30)!==0||(F&w.expiredLanes)!==0||C)C=rR(w,F);else{C=F;var K=Nr;Nr|=2;var Z=yre();(bs!==w||qs!==C)&&(gp=null,T1=dr()+500,Sy(w,C));do try{O$e();break}catch(Ie){gre(w,Ie)}while(!0);xL(),XA.current=Z,Nr=K,qo!==null?C=0:(bs=null,qs=0,C=is)}if(C!==0){if(C===2&&(K=ft(w),K!==0&&(F=K,C=iF(w,K))),C===1)throw D=S_,Sy(w,0),dg(w,F),Fl(w,dr()),D;if(C===6)dg(w,F);else{if(K=w.current.alternate,(F&30)===0&&!D$e(K)&&(C=rR(w,F),C===2&&(Z=ft(w),Z!==0&&(F=Z,C=iF(w,Z))),C===1))throw D=S_,Sy(w,0),dg(w,F),Fl(w,dr()),D;switch(w.finishedWork=K,w.finishedLanes=F,C){case 0:case 1:throw Error(n(345));case 2:Ty(w,Ll,gp);break;case 3:if(dg(w,F),(F&130023424)===F&&(C=tF+500-dr(),10<C)){if(rt(w,0)!==0)break;if(K=w.suspendedLanes,(K&F)!==F){Qa(),w.pingedLanes|=w.suspendedLanes&K;break}w.timeoutHandle=cL(Ty.bind(null,w,Ll,gp),C);break}Ty(w,Ll,gp);break;case 4:if(dg(w,F),(F&4194240)===F)break;for(C=w.eventTimes,K=-1;0<F;){var de=31-_o(F);Z=1<<de,de=C[de],de>K&&(K=de),F&=~Z}if(F=K,F=dr()-F,F=(120>F?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*I$e(F/1960))-F,10<F){w.timeoutHandle=cL(Ty.bind(null,w,Ll,gp),F);break}Ty(w,Ll,gp);break;case 5:Ty(w,Ll,gp);break;default:throw Error(n(329))}}}return Fl(w,dr()),w.callbackNode===D?pre.bind(null,w):null}function iF(w,C){var D=T_;return w.current.memoizedState.isDehydrated&&(Sy(w,C).flags|=256),w=rR(w,C),w!==2&&(C=Ll,Ll=D,C!==null&&oF(C)),w}function oF(w){Ll===null?Ll=w:Ll.push.apply(Ll,w)}function D$e(w){for(var C=w;;){if(C.flags&16384){var D=C.updateQueue;if(D!==null&&(D=D.stores,D!==null))for(var F=0;F<D.length;F++){var K=D[F],Z=K.getSnapshot;K=K.value;try{if(!id(Z(),K))return!1}catch{return!1}}}if(D=C.child,C.subtreeFlags&16384&&D!==null)D.return=C,C=D;else{if(C===w)break;for(;C.sibling===null;){if(C.return===null||C.return===w)return!0;C=C.return}C.sibling.return=C.return,C=C.sibling}}return!0}function dg(w,C){for(C&=~eF,C&=~QA,w.suspendedLanes|=C,w.pingedLanes&=~C,w=w.expirationTimes;0<C;){var D=31-_o(C),F=1<<D;w[D]=-1,C&=~F}}function mre(w){if((Nr&6)!==0)throw Error(n(327));k1();var C=rt(w,0);if((C&1)===0)return Fl(w,dr()),null;var D=rR(w,C);if(w.tag!==0&&D===2){var F=ft(w);F!==0&&(C=F,D=iF(w,F))}if(D===1)throw D=S_,Sy(w,0),dg(w,C),Fl(w,dr()),D;if(D===6)throw Error(n(345));return w.finishedWork=w.current.alternate,w.finishedLanes=C,Ty(w,Ll,gp),Fl(w,dr()),null}function sF(w,C){var D=Nr;Nr|=1;try{return w(C)}finally{Nr=D,Nr===0&&(T1=dr()+500,IA&&ig())}}function Ey(w){ug!==null&&ug.tag===0&&(Nr&6)===0&&k1();var C=Nr;Nr|=1;var D=uc.transition,F=Wt;try{if(uc.transition=null,Wt=1,w)return w()}finally{Wt=F,uc.transition=D,Nr=C,(Nr&6)===0&&ig()}}function aF(){wu=S1.current,Li(S1)}function Sy(w,C){w.finishedWork=null,w.finishedLanes=0;var D=w.timeoutHandle;if(D!==-1&&(w.timeoutHandle=-1,a$e(D)),qo!==null)for(D=qo.return;D!==null;){var F=D;switch(gL(F),F.tag){case 1:F=F.type.childContextTypes,F!=null&&AA();break;case 3:C1(),Li(Nl),Li(va),RL();break;case 5:kL(F);break;case 4:C1();break;case 13:Li(no);break;case 19:Li(no);break;case 10:CL(F.type._context);break;case 22:case 23:aF()}D=D.return}if(bs=w,qo=w=fg(w.current,null),qs=wu=C,is=0,S_=null,eF=QA=_y=0,Ll=T_=null,wy!==null){for(C=0;C<wy.length;C++)if(D=wy[C],F=D.interleaved,F!==null){D.interleaved=null;var K=F.next,Z=D.pending;if(Z!==null){var de=Z.next;Z.next=K,F.next=de}D.pending=F}wy=null}return w}function gre(w,C){do{var D=qo;try{if(xL(),BA.current=qA,zA){for(var F=ro.memoizedState;F!==null;){var K=F.queue;K!==null&&(K.pending=null),F=F.next}zA=!1}if(Cy=0,vs=rs=ro=null,b_=!1,w_=0,ZL.current=null,D===null||D.return===null){is=1,S_=C,qo=null;break}e:{var Z=w,de=D.return,Ie=D,Fe=C;if(C=qs,Ie.flags|=32768,Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var Qe=Fe,yt=Ie,wt=yt.tag;if((yt.mode&1)===0&&(wt===0||wt===11||wt===15)){var mt=yt.alternate;mt?(yt.updateQueue=mt.updateQueue,yt.memoizedState=mt.memoizedState,yt.lanes=mt.lanes):(yt.updateQueue=null,yt.memoizedState=null)}var Ht=zne(de);if(Ht!==null){Ht.flags&=-257,Une(Ht,de,Ie,Z,C),Ht.mode&1&&Bne(Z,Qe,C),C=Ht,Fe=Qe;var Gt=C.updateQueue;if(Gt===null){var Qt=new Set;Qt.add(Fe),C.updateQueue=Qt}else Gt.add(Fe);break e}else{if((C&1)===0){Bne(Z,Qe,C),lF();break e}Fe=Error(n(426))}}else if(Vi&&Ie.mode&1){var ko=zne(de);if(ko!==null){(ko.flags&65536)===0&&(ko.flags|=256),Une(ko,de,Ie,Z,C),bL(_1(Fe,Ie));break e}}Z=Fe=_1(Fe,Ie),is!==4&&(is=2),T_===null?T_=[Z]:T_.push(Z),Z=de;do{switch(Z.tag){case 3:Z.flags|=65536,C&=-C,Z.lanes|=C;var We=Fne(Z,Fe,C);dne(Z,We);break e;case 1:Ie=Fe;var Ue=Z.type,Ke=Z.stateNode;if((Z.flags&128)===0&&(typeof Ue.getDerivedStateFromError=="function"||Ke!==null&&typeof Ke.componentDidCatch=="function"&&(lg===null||!lg.has(Ke)))){Z.flags|=65536,C&=-C,Z.lanes|=C;var At=jne(Z,Ie,C);dne(Z,At);break e}}Z=Z.return}while(Z!==null)}bre(D)}catch(rn){C=rn,qo===D&&D!==null&&(qo=D=D.return);continue}break}while(!0)}function yre(){var w=XA.current;return XA.current=qA,w===null?qA:w}function lF(){(is===0||is===3||is===2)&&(is=4),bs===null||(_y&268435455)===0&&(QA&268435455)===0||dg(bs,qs)}function rR(w,C){var D=Nr;Nr|=2;var F=yre();(bs!==w||qs!==C)&&(gp=null,Sy(w,C));do try{P$e();break}catch(K){gre(w,K)}while(!0);if(xL(),Nr=D,XA.current=F,qo!==null)throw Error(n(261));return bs=null,qs=0,is}function P$e(){for(;qo!==null;)vre(qo)}function O$e(){for(;qo!==null&&!If();)vre(qo)}function vre(w){var C=Cre(w.alternate,w,wu);w.memoizedProps=w.pendingProps,C===null?bre(w):qo=C,ZL.current=null}function bre(w){var C=w;do{var D=C.alternate;if(w=C.return,(C.flags&32768)===0){if(D=S$e(D,C,wu),D!==null){qo=D;return}}else{if(D=T$e(D,C),D!==null){D.flags&=32767,qo=D;return}if(w!==null)w.flags|=32768,w.subtreeFlags=0,w.deletions=null;else{is=6,qo=null;return}}if(C=C.sibling,C!==null){qo=C;return}qo=C=w}while(C!==null);is===0&&(is=5)}function Ty(w,C,D){var F=Wt,K=uc.transition;try{uc.transition=null,Wt=1,N$e(w,C,D,F)}finally{uc.transition=K,Wt=F}return null}function N$e(w,C,D,F){do k1();while(ug!==null);if((Nr&6)!==0)throw Error(n(327));D=w.finishedWork;var K=w.finishedLanes;if(D===null)return null;if(w.finishedWork=null,w.finishedLanes=0,D===w.current)throw Error(n(177));w.callbackNode=null,w.callbackPriority=0;var Z=D.lanes|D.childLanes;if(Xt(w,Z),w===bs&&(qo=bs=null,qs=0),(D.subtreeFlags&2064)===0&&(D.flags&2064)===0||ZA||(ZA=!0,_re(xo,function(){return k1(),null})),Z=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||Z){Z=uc.transition,uc.transition=null;var de=Wt;Wt=1;var Ie=Nr;Nr|=4,ZL.current=null,A$e(w,D),ure(D,w),e$e(lL),oe=!!aL,lL=aL=null,w.current=D,R$e(D),pu(),Nr=Ie,Wt=de,uc.transition=Z}else w.current=D;if(ZA&&(ZA=!1,ug=w,eR=K),Z=w.pendingLanes,Z===0&&(lg=null),Df(D.stateNode),Fl(w,dr()),C!==null)for(F=w.onRecoverableError,D=0;D<C.length;D++)K=C[D],F(K.value,{componentStack:K.stack,digest:K.digest});if(JA)throw JA=!1,w=nF,nF=null,w;return(eR&1)!==0&&w.tag!==0&&k1(),Z=w.pendingLanes,(Z&1)!==0?w===rF?k_++:(k_=0,rF=w):k_=0,ig(),null}function k1(){if(ug!==null){var w=sr(eR),C=uc.transition,D=Wt;try{if(uc.transition=null,Wt=16>w?16:w,ug===null)var F=!1;else{if(w=ug,ug=null,eR=0,(Nr&6)!==0)throw Error(n(331));var K=Nr;for(Nr|=4,Vt=w.current;Vt!==null;){var Z=Vt,de=Z.child;if((Vt.flags&16)!==0){var Ie=Z.deletions;if(Ie!==null){for(var Fe=0;Fe<Ie.length;Fe++){var Qe=Ie[Fe];for(Vt=Qe;Vt!==null;){var yt=Vt;switch(yt.tag){case 0:case 11:case 15:E_(8,yt,Z)}var wt=yt.child;if(wt!==null)wt.return=yt,Vt=wt;else for(;Vt!==null;){yt=Vt;var mt=yt.sibling,Ht=yt.return;if(ire(yt),yt===Qe){Vt=null;break}if(mt!==null){mt.return=Ht,Vt=mt;break}Vt=Ht}}}var Gt=Z.alternate;if(Gt!==null){var Qt=Gt.child;if(Qt!==null){Gt.child=null;do{var ko=Qt.sibling;Qt.sibling=null,Qt=ko}while(Qt!==null)}}Vt=Z}}if((Z.subtreeFlags&2064)!==0&&de!==null)de.return=Z,Vt=de;else e:for(;Vt!==null;){if(Z=Vt,(Z.flags&2048)!==0)switch(Z.tag){case 0:case 11:case 15:E_(9,Z,Z.return)}var We=Z.sibling;if(We!==null){We.return=Z.return,Vt=We;break e}Vt=Z.return}}var Ue=w.current;for(Vt=Ue;Vt!==null;){de=Vt;var Ke=de.child;if((de.subtreeFlags&2064)!==0&&Ke!==null)Ke.return=de,Vt=Ke;else e:for(de=Ue;Vt!==null;){if(Ie=Vt,(Ie.flags&2048)!==0)try{switch(Ie.tag){case 0:case 11:case 15:KA(9,Ie)}}catch(rn){fo(Ie,Ie.return,rn)}if(Ie===de){Vt=null;break e}var At=Ie.sibling;if(At!==null){At.return=Ie.return,Vt=At;break e}Vt=Ie.return}}if(Nr=K,ig(),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot(Il,w)}catch{}F=!0}return F}finally{Wt=D,uc.transition=C}}return!1}function wre(w,C,D){C=_1(D,C),C=Fne(w,C,1),w=sg(w,C,1),C=Qa(),w!==null&&(Pn(w,1,C),Fl(w,C))}function fo(w,C,D){if(w.tag===3)wre(w,w,D);else for(;C!==null;){if(C.tag===3){wre(C,w,D);break}else if(C.tag===1){var F=C.stateNode;if(typeof C.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(lg===null||!lg.has(F))){w=_1(D,w),w=jne(C,w,1),C=sg(C,w,1),w=Qa(),C!==null&&(Pn(C,1,w),Fl(C,w));break}}C=C.return}}function M$e(w,C,D){var F=w.pingCache;F!==null&&F.delete(C),C=Qa(),w.pingedLanes|=w.suspendedLanes&D,bs===w&&(qs&D)===D&&(is===4||is===3&&(qs&130023424)===qs&&500>dr()-tF?Sy(w,0):eF|=D),Fl(w,C)}function xre(w,C){C===0&&((w.mode&1)===0?C=1:(C=He,He<<=1,(He&130023424)===0&&(He=4194304)));var D=Qa();w=hp(w,C),w!==null&&(Pn(w,C,D),Fl(w,D))}function $$e(w){var C=w.memoizedState,D=0;C!==null&&(D=C.retryLane),xre(w,D)}function L$e(w,C){var D=0;switch(w.tag){case 13:var F=w.stateNode,K=w.memoizedState;K!==null&&(D=K.retryLane);break;case 19:F=w.stateNode;break;default:throw Error(n(314))}F!==null&&F.delete(C),xre(w,D)}var Cre;Cre=function(w,C,D){if(w!==null)if(w.memoizedProps!==C.pendingProps||Nl.current)$l=!0;else{if((w.lanes&D)===0&&(C.flags&128)===0)return $l=!1,E$e(w,C,D);$l=(w.flags&131072)!==0}else $l=!1,Vi&&(C.flags&1048576)!==0&&tne(C,PA,C.index);switch(C.lanes=0,C.tag){case 2:var F=C.type;GA(w,C),w=C.pendingProps;var K=m1(C,va.current);x1(C,D),K=PL(null,C,F,w,K,D);var Z=OL();return C.flags|=1,typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0?(C.tag=1,C.memoizedState=null,C.updateQueue=null,Ml(F)?(Z=!0,RA(C)):Z=!1,C.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,SL(C),K.updater=VA,C.stateNode=K,K._reactInternals=C,jL(C,F,w,D),C=HL(null,C,F,!0,Z,D)):(C.tag=0,Vi&&Z&&mL(C),Xa(null,C,K,D),C=C.child),C;case 16:F=C.elementType;e:{switch(GA(w,C),w=C.pendingProps,K=F._init,F=K(F._payload),C.type=F,K=C.tag=j$e(F),w=sd(F,w),K){case 0:C=UL(null,C,F,w,D);break e;case 1:C=Yne(null,C,F,w,D);break e;case 11:C=Hne(null,C,F,w,D);break e;case 14:C=qne(null,C,F,sd(F.type,w),D);break e}throw Error(n(306,F,""))}return C;case 0:return F=C.type,K=C.pendingProps,K=C.elementType===F?K:sd(F,K),UL(w,C,F,K,D);case 1:return F=C.type,K=C.pendingProps,K=C.elementType===F?K:sd(F,K),Yne(w,C,F,K,D);case 3:e:{if(Kne(C),w===null)throw Error(n(387));F=C.pendingProps,Z=C.memoizedState,K=Z.element,cne(w,C),FA(C,F,null,D);var de=C.memoizedState;if(F=de.element,Z.isDehydrated)if(Z={element:F,isDehydrated:!1,cache:de.cache,pendingSuspenseBoundaries:de.pendingSuspenseBoundaries,transitions:de.transitions},C.updateQueue.baseState=Z,C.memoizedState=Z,C.flags&256){K=_1(Error(n(423)),C),C=Xne(w,C,F,D,K);break e}else if(F!==K){K=_1(Error(n(424)),C),C=Xne(w,C,F,D,K);break e}else for(bu=tg(C.stateNode.containerInfo.firstChild),vu=C,Vi=!0,od=null,D=lne(C,null,F,D),C.child=D;D;)D.flags=D.flags&-3|4096,D=D.sibling;else{if(v1(),F===K){C=mp(w,C,D);break e}Xa(w,C,F,D)}C=C.child}return C;case 5:return hne(C),w===null&&vL(C),F=C.type,K=C.pendingProps,Z=w!==null?w.memoizedProps:null,de=K.children,uL(F,K)?de=null:Z!==null&&uL(F,Z)&&(C.flags|=32),Gne(w,C),Xa(w,C,de,D),C.child;case 6:return w===null&&vL(C),null;case 13:return Qne(w,C,D);case 4:return TL(C,C.stateNode.containerInfo),F=C.pendingProps,w===null?C.child=b1(C,null,F,D):Xa(w,C,F,D),C.child;case 11:return F=C.type,K=C.pendingProps,K=C.elementType===F?K:sd(F,K),Hne(w,C,F,K,D);case 7:return Xa(w,C,C.pendingProps,D),C.child;case 8:return Xa(w,C,C.pendingProps.children,D),C.child;case 12:return Xa(w,C,C.pendingProps.children,D),C.child;case 10:e:{if(F=C.type._context,K=C.pendingProps,Z=C.memoizedProps,de=K.value,Ti(MA,F._currentValue),F._currentValue=de,Z!==null)if(id(Z.value,de)){if(Z.children===K.children&&!Nl.current){C=mp(w,C,D);break e}}else for(Z=C.child,Z!==null&&(Z.return=C);Z!==null;){var Ie=Z.dependencies;if(Ie!==null){de=Z.child;for(var Fe=Ie.firstContext;Fe!==null;){if(Fe.context===F){if(Z.tag===1){Fe=pp(-1,D&-D),Fe.tag=2;var Qe=Z.updateQueue;if(Qe!==null){Qe=Qe.shared;var yt=Qe.pending;yt===null?Fe.next=Fe:(Fe.next=yt.next,yt.next=Fe),Qe.pending=Fe}}Z.lanes|=D,Fe=Z.alternate,Fe!==null&&(Fe.lanes|=D),_L(Z.return,D,C),Ie.lanes|=D;break}Fe=Fe.next}}else if(Z.tag===10)de=Z.type===C.type?null:Z.child;else if(Z.tag===18){if(de=Z.return,de===null)throw Error(n(341));de.lanes|=D,Ie=de.alternate,Ie!==null&&(Ie.lanes|=D),_L(de,D,C),de=Z.sibling}else de=Z.child;if(de!==null)de.return=Z;else for(de=Z;de!==null;){if(de===C){de=null;break}if(Z=de.sibling,Z!==null){Z.return=de.return,de=Z;break}de=de.return}Z=de}Xa(w,C,K.children,D),C=C.child}return C;case 9:return K=C.type,F=C.pendingProps.children,x1(C,D),K=ac(K),F=F(K),C.flags|=1,Xa(w,C,F,D),C.child;case 14:return F=C.type,K=sd(F,C.pendingProps),K=sd(F.type,K),qne(w,C,F,K,D);case 15:return Vne(w,C,C.type,C.pendingProps,D);case 17:return F=C.type,K=C.pendingProps,K=C.elementType===F?K:sd(F,K),GA(w,C),C.tag=1,Ml(F)?(w=!0,RA(C)):w=!1,x1(C,D),$ne(C,F,K),jL(C,F,K,D),HL(null,C,F,!0,w,D);case 19:return Zne(w,C,D);case 22:return Wne(w,C,D)}throw Error(n(156,C.tag))};function _re(w,C){return nc(w,C)}function F$e(w,C,D,F){this.tag=w,this.key=D,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=C,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cc(w,C,D,F){return new F$e(w,C,D,F)}function uF(w){return w=w.prototype,!(!w||!w.isReactComponent)}function j$e(w){if(typeof w=="function")return uF(w)?1:0;if(w!=null){if(w=w.$$typeof,w===N)return 11;if(w===j)return 14}return 2}function fg(w,C){var D=w.alternate;return D===null?(D=cc(w.tag,C,w.key,w.mode),D.elementType=w.elementType,D.type=w.type,D.stateNode=w.stateNode,D.alternate=w,w.alternate=D):(D.pendingProps=C,D.type=w.type,D.flags=0,D.subtreeFlags=0,D.deletions=null),D.flags=w.flags&14680064,D.childLanes=w.childLanes,D.lanes=w.lanes,D.child=w.child,D.memoizedProps=w.memoizedProps,D.memoizedState=w.memoizedState,D.updateQueue=w.updateQueue,C=w.dependencies,D.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext},D.sibling=w.sibling,D.index=w.index,D.ref=w.ref,D}function iR(w,C,D,F,K,Z){var de=2;if(F=w,typeof w=="function")uF(w)&&(de=1);else if(typeof w=="string")de=5;else e:switch(w){case T:return ky(D.children,K,Z,C);case k:de=8,K|=8;break;case R:return w=cc(12,D,C,K|2),w.elementType=R,w.lanes=Z,w;case M:return w=cc(13,D,C,K),w.elementType=M,w.lanes=Z,w;case O:return w=cc(19,D,C,K),w.elementType=O,w.lanes=Z,w;case q:return oR(D,K,Z,C);default:if(typeof w=="object"&&w!==null)switch(w.$$typeof){case I:de=10;break e;case P:de=9;break e;case N:de=11;break e;case j:de=14;break e;case U:de=16,F=null;break e}throw Error(n(130,w==null?w:typeof w,""))}return C=cc(de,D,C,K),C.elementType=w,C.type=F,C.lanes=Z,C}function ky(w,C,D,F){return w=cc(7,w,F,C),w.lanes=D,w}function oR(w,C,D,F){return w=cc(22,w,F,C),w.elementType=q,w.lanes=D,w.stateNode={isHidden:!1},w}function cF(w,C,D){return w=cc(6,w,null,C),w.lanes=D,w}function dF(w,C,D){return C=cc(4,w.children!==null?w.children:[],w.key,C),C.lanes=D,C.stateNode={containerInfo:w.containerInfo,pendingChildren:null,implementation:w.implementation},C}function B$e(w,C,D,F,K){this.tag=C,this.containerInfo=w,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jt(0),this.expirationTimes=jt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jt(0),this.identifierPrefix=F,this.onRecoverableError=K,this.mutableSourceEagerHydrationData=null}function fF(w,C,D,F,K,Z,de,Ie,Fe){return w=new B$e(w,C,D,Ie,Fe),C===1?(C=1,Z===!0&&(C|=8)):C=0,Z=cc(3,null,null,C),w.current=Z,Z.stateNode=w,Z.memoizedState={element:F,isDehydrated:D,cache:null,transitions:null,pendingSuspenseBoundaries:null},SL(Z),w}function z$e(w,C,D){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:F==null?null:""+F,children:w,containerInfo:C,implementation:D}}function Ere(w){if(!w)return rg;w=w._reactInternals;e:{if(Fn(w)!==w||w.tag!==1)throw Error(n(170));var C=w;do{switch(C.tag){case 3:C=C.stateNode.context;break e;case 1:if(Ml(C.type)){C=C.stateNode.__reactInternalMemoizedMergedChildContext;break e}}C=C.return}while(C!==null);throw Error(n(171))}if(w.tag===1){var D=w.type;if(Ml(D))return Jte(w,D,C)}return C}function Sre(w,C,D,F,K,Z,de,Ie,Fe){return w=fF(D,F,!0,w,K,Z,de,Ie,Fe),w.context=Ere(null),D=w.current,F=Qa(),K=cg(D),Z=pp(F,K),Z.callback=C??null,sg(D,Z,K),w.current.lanes=K,Pn(w,K,F),Fl(w,F),w}function sR(w,C,D,F){var K=C.current,Z=Qa(),de=cg(K);return D=Ere(D),C.context===null?C.context=D:C.pendingContext=D,C=pp(Z,de),C.payload={element:w},F=F===void 0?null:F,F!==null&&(C.callback=F),w=sg(K,C,de),w!==null&&(ud(w,K,de,Z),LA(w,K,de)),de}function aR(w){return w=w.current,w.child?(w.child.tag===5,w.child.stateNode):null}function Tre(w,C){if(w=w.memoizedState,w!==null&&w.dehydrated!==null){var D=w.retryLane;w.retryLane=D!==0&&D<C?D:C}}function hF(w,C){Tre(w,C),(w=w.alternate)&&Tre(w,C)}function U$e(){return null}var kre=typeof reportError=="function"?reportError:function(w){console.error(w)};function pF(w){this._internalRoot=w}lR.prototype.render=pF.prototype.render=function(w){var C=this._internalRoot;if(C===null)throw Error(n(409));sR(w,C,null,null)},lR.prototype.unmount=pF.prototype.unmount=function(){var w=this._internalRoot;if(w!==null){this._internalRoot=null;var C=w.containerInfo;Ey(function(){sR(null,w,null,null)}),C[up]=null}};function lR(w){this._internalRoot=w}lR.prototype.unstable_scheduleHydration=function(w){if(w){var C=Pf();w={blockedOn:null,target:w,priority:C};for(var D=0;D<ga.length&&C!==0&&C<ga[D].priority;D++);ga.splice(D,0,w),D===0&&Mf(w)}};function mF(w){return!(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)}function uR(w){return!(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11&&(w.nodeType!==8||w.nodeValue!==" react-mount-point-unstable "))}function Are(){}function H$e(w,C,D,F,K){if(K){if(typeof F=="function"){var Z=F;F=function(){var Qe=aR(de);Z.call(Qe)}}var de=Sre(C,F,w,0,null,!1,!1,"",Are);return w._reactRootContainer=de,w[up]=de.current,d_(w.nodeType===8?w.parentNode:w),Ey(),de}for(;K=w.lastChild;)w.removeChild(K);if(typeof F=="function"){var Ie=F;F=function(){var Qe=aR(Fe);Ie.call(Qe)}}var Fe=fF(w,0,!1,null,null,!1,!1,"",Are);return w._reactRootContainer=Fe,w[up]=Fe.current,d_(w.nodeType===8?w.parentNode:w),Ey(function(){sR(C,Fe,D,F)}),Fe}function cR(w,C,D,F,K){var Z=D._reactRootContainer;if(Z){var de=Z;if(typeof K=="function"){var Ie=K;K=function(){var Fe=aR(de);Ie.call(Fe)}}sR(C,de,w,K)}else de=H$e(D,C,w,K,F);return aR(de)}Eo=function(w){switch(w.tag){case 3:var C=w.stateNode;if(C.current.memoizedState.isDehydrated){var D=je(C.pendingLanes);D!==0&&(Qn(C,D|1),Fl(C,dr()),(Nr&6)===0&&(T1=dr()+500,ig()))}break;case 13:Ey(function(){var F=hp(w,1);if(F!==null){var K=Qa();ud(F,w,1,K)}}),hF(w,1)}},ma=function(w){if(w.tag===13){var C=hp(w,134217728);if(C!==null){var D=Qa();ud(C,w,134217728,D)}hF(w,134217728)}},So=function(w){if(w.tag===13){var C=cg(w),D=hp(w,C);if(D!==null){var F=Qa();ud(D,w,C,F)}hF(w,C)}},Pf=function(){return Wt},rc=function(w,C){var D=Wt;try{return Wt=w,C()}finally{Wt=D}},Xn=function(w,C,D){switch(C){case"input":if(re(w,D),C=D.name,D.type==="radio"&&C!=null){for(D=w;D.parentNode;)D=D.parentNode;for(D=D.querySelectorAll("input[name="+JSON.stringify(""+C)+'][type="radio"]'),C=0;C<D.length;C++){var F=D[C];if(F!==w&&F.form===w.form){var K=kA(F);if(!K)throw Error(n(90));se(F),re(F,K)}}}break;case"textarea":xe(w,D);break;case"select":C=D.value,C!=null&&Oe(w,!!D.multiple,C,!1)}},br=sF,Sn=Ey;var q$e={usingClientEntryPoint:!1,Events:[p_,h1,kA,rr,ii,sF]},A_={findFiberByHostInstance:gy,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V$e={bundleType:A_.bundleType,version:A_.version,rendererPackageName:A_.rendererPackageName,rendererConfig:A_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(w){return w=td(w),w===null?null:w.stateNode},findFiberByHostInstance:A_.findFiberByHostInstance||U$e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dR=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dR.isDisabled&&dR.supportsFiber)try{Il=dR.inject(V$e),Co=dR}catch{}}return jl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q$e,jl.createPortal=function(w,C){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mF(C))throw Error(n(200));return z$e(w,C,null,D)},jl.createRoot=function(w,C){if(!mF(w))throw Error(n(299));var D=!1,F="",K=kre;return C!=null&&(C.unstable_strictMode===!0&&(D=!0),C.identifierPrefix!==void 0&&(F=C.identifierPrefix),C.onRecoverableError!==void 0&&(K=C.onRecoverableError)),C=fF(w,1,!1,null,null,D,!1,F,K),w[up]=C.current,d_(w.nodeType===8?w.parentNode:w),new pF(C)},jl.findDOMNode=function(w){if(w==null)return null;if(w.nodeType===1)return w;var C=w._reactInternals;if(C===void 0)throw typeof w.render=="function"?Error(n(188)):(w=Object.keys(w).join(","),Error(n(268,w)));return w=td(C),w=w===null?null:w.stateNode,w},jl.flushSync=function(w){return Ey(w)},jl.hydrate=function(w,C,D){if(!uR(C))throw Error(n(200));return cR(null,w,C,!0,D)},jl.hydrateRoot=function(w,C,D){if(!mF(w))throw Error(n(405));var F=D!=null&&D.hydratedSources||null,K=!1,Z="",de=kre;if(D!=null&&(D.unstable_strictMode===!0&&(K=!0),D.identifierPrefix!==void 0&&(Z=D.identifierPrefix),D.onRecoverableError!==void 0&&(de=D.onRecoverableError)),C=Sre(C,null,w,1,D??null,K,!1,Z,de),w[up]=C.current,d_(w),F)for(w=0;w<F.length;w++)D=F[w],K=D._getVersion,K=K(D._source),C.mutableSourceEagerHydrationData==null?C.mutableSourceEagerHydrationData=[D,K]:C.mutableSourceEagerHydrationData.push(D,K);return new lR(C)},jl.render=function(w,C,D){if(!uR(C))throw Error(n(200));return cR(null,w,C,!1,D)},jl.unmountComponentAtNode=function(w){if(!uR(w))throw Error(n(40));return w._reactRootContainer?(Ey(function(){cR(null,null,w,!1,function(){w._reactRootContainer=null,w[up]=null})}),!0):!1},jl.unstable_batchedUpdates=sF,jl.unstable_renderSubtreeIntoContainer=function(w,C,D,F){if(!uR(D))throw Error(n(200));if(w==null||w._reactInternals===void 0)throw Error(n(38));return cR(w,C,D,!1,F)},jl.version="18.3.1-next-f1338f8080-20240426",jl}var $re;function Hye(){if($re)return vF.exports;$re=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vF.exports=tLe(),vF.exports}var Lre;function nLe(){if(Lre)return fR;Lre=1;var e=Hye();return fR.createRoot=e.createRoot,fR.hydrateRoot=e.hydrateRoot,fR}var rLe=nLe();const iLe=Qo(rLe);var eh=function(){return eh=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},eh.apply(this,arguments)};function y4(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function b3(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function oLe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var PD="right-scroll-bar-position",OD="width-before-scroll-bar",sLe="with-scroll-bars-hidden",aLe="--removed-body-scroll-bar-size";function xF(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function lLe(e,t){var n=A.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var uLe=typeof window<"u"?A.useLayoutEffect:A.useEffect,Fre=new WeakMap;function cLe(e,t){var n=lLe(null,function(r){return e.forEach(function(i){return xF(i,r)})});return uLe(function(){var r=Fre.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(a){o.has(a)||xF(a,null)}),o.forEach(function(a){i.has(a)||xF(a,s)})}Fre.set(n,e)},[e]),n}function dLe(e){return e}function fLe(e,t){t===void 0&&(t=dLe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var c=s;s=[],c.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),n}}}};return i}function hLe(e){e===void 0&&(e={});var t=fLe(null);return t.options=eh({async:!0,ssr:!1},e),t}var qye=function(e){var t=e.sideCar,n=y4(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,eh({},n))};qye.isSideCarExport=!0;function pLe(e,t){return e.useMedium(t),qye}var Vye=hLe(),CF=function(){},v4=A.forwardRef(function(e,t){var n=A.useRef(null),r=A.useState({onScrollCapture:CF,onWheelCapture:CF,onTouchMoveCapture:CF}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,h=e.noRelative,p=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,x=e.gapMode,E=y4(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,S=cLe([n,t]),T=eh(eh({},E),i);return A.createElement(A.Fragment,null,c&&A.createElement(_,{sideCar:Vye,removeScrollBar:u,shards:d,noRelative:h,noIsolation:p,inert:m,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:x}),s?A.cloneElement(A.Children.only(a),eh(eh({},T),{ref:S})):A.createElement(y,eh({},T,{className:l,ref:S}),a))});v4.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};v4.classNames={fullWidth:OD,zeroRight:PD};var mLe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gLe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=mLe();return t&&e.setAttribute("nonce",t),e}function yLe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function vLe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var bLe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=gLe())&&(yLe(t,n),vLe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},wLe=function(){var e=bLe();return function(t,n){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Wye=function(){var e=wLe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},xLe={left:0,top:0,right:0,gap:0},_F=function(e){return parseInt(e||"",10)||0},CLe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[_F(n),_F(r),_F(i)]},_Le=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return xLe;var t=CLe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},ELe=Wye(),Aw="data-scroll-locked",SLe=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(sLe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Aw,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(PD,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(OD,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(PD," .").concat(PD,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(OD," .").concat(OD,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Aw,`] {
    `).concat(aLe,": ").concat(a,`px;
  }
`)},jre=function(){var e=parseInt(document.body.getAttribute(Aw)||"0",10);return isFinite(e)?e:0},TLe=function(){A.useEffect(function(){return document.body.setAttribute(Aw,(jre()+1).toString()),function(){var e=jre()-1;e<=0?document.body.removeAttribute(Aw):document.body.setAttribute(Aw,e.toString())}},[])},kLe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;TLe();var o=A.useMemo(function(){return _Le(i)},[i]);return A.createElement(ELe,{styles:SLe(o,!t,i,n?"":"!important")})},R7=!1;if(typeof window<"u")try{var hR=Object.defineProperty({},"passive",{get:function(){return R7=!0,!0}});window.addEventListener("test",hR,hR),window.removeEventListener("test",hR,hR)}catch{R7=!1}var A1=R7?{passive:!1}:!1,ALe=function(e){return e.tagName==="TEXTAREA"},Gye=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!ALe(e)&&n[t]==="visible")},RLe=function(e){return Gye(e,"overflowY")},ILe=function(e){return Gye(e,"overflowX")},Bre=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Yye(e,r);if(i){var o=Kye(e,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},DLe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},PLe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Yye=function(e,t){return e==="v"?RLe(t):ILe(t)},Kye=function(e,t){return e==="v"?DLe(t):PLe(t)},OLe=function(e,t){return e==="h"&&t==="rtl"?-1:1},NLe=function(e,t,n,r,i){var o=OLe(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,l=t.contains(a),u=!1,c=s>0,d=0,f=0;do{if(!a)break;var h=Kye(e,a),p=h[0],m=h[1],g=h[2],v=m-g-o*p;(p||v)&&Yye(e,a)&&(d+=v,f+=p);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&Math.abs(d)<1||!c&&Math.abs(f)<1)&&(u=!0),u},pR=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},zre=function(e){return[e.deltaX,e.deltaY]},Ure=function(e){return e&&"current"in e?e.current:e},MLe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$Le=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},LLe=0,R1=[];function FLe(e){var t=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),i=A.useState(LLe++)[0],o=A.useState(Wye)[0],s=A.useRef(e);A.useEffect(function(){s.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=oLe([e.lockRef.current],(e.shards||[]).map(Ure),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=A.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var v=pR(m),y=n.current,x="deltaX"in m?m.deltaX:y[0]-v[0],E="deltaY"in m?m.deltaY:y[1]-v[1],_,S=m.target,T=Math.abs(x)>Math.abs(E)?"h":"v";if("touches"in m&&T==="h"&&S.type==="range")return!1;var k=Bre(T,S);if(!k)return!0;if(k?_=T:(_=T==="v"?"h":"v",k=Bre(T,S)),!k)return!1;if(!r.current&&"changedTouches"in m&&(x||E)&&(r.current=_),!_)return!0;var R=r.current||_;return NLe(R,g,m,R==="h"?x:E)},[]),l=A.useCallback(function(m){var g=m;if(!(!R1.length||R1[R1.length-1]!==o)){var v="deltaY"in g?zre(g):pR(g),y=t.current.filter(function(_){return _.name===g.type&&(_.target===g.target||g.target===_.shadowParent)&&MLe(_.delta,v)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var x=(s.current.shards||[]).map(Ure).filter(Boolean).filter(function(_){return _.contains(g.target)}),E=x.length>0?a(g,x[0]):!s.current.noIsolation;E&&g.cancelable&&g.preventDefault()}}},[]),u=A.useCallback(function(m,g,v,y){var x={name:m,delta:g,target:v,should:y,shadowParent:jLe(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(E){return E!==x})},1)},[]),c=A.useCallback(function(m){n.current=pR(m),r.current=void 0},[]),d=A.useCallback(function(m){u(m.type,zre(m),m.target,a(m,e.lockRef.current))},[]),f=A.useCallback(function(m){u(m.type,pR(m),m.target,a(m,e.lockRef.current))},[]);A.useEffect(function(){return R1.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,A1),document.addEventListener("touchmove",l,A1),document.addEventListener("touchstart",c,A1),function(){R1=R1.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,A1),document.removeEventListener("touchmove",l,A1),document.removeEventListener("touchstart",c,A1)}},[]);var h=e.removeScrollBar,p=e.inert;return A.createElement(A.Fragment,null,p?A.createElement(o,{styles:$Le(i)}):null,h?A.createElement(kLe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function jLe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const BLe=pLe(Vye,FLe);var tx=A.forwardRef(function(e,t){return A.createElement(v4,eh({},e,{ref:t,sideCar:BLe}))});tx.classNames=v4.classNames;function _i(e){return Object.keys(e)}function EF(e){return e&&typeof e=="object"&&!Array.isArray(e)}function mV(e,t){const n={...e},r=t;return EF(e)&&EF(t)&&Object.keys(t).forEach(i=>{EF(r[i])&&i in e?n[i]=mV(n[i],r[i]):n[i]=r[i]}),n}function zLe(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function ULe(e){return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:e.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function r2(e){const t=ULe(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function SF(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function Xye(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const i=`${r/16}${e}`;return t?SF(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(o=>n(o)).join(",");if(r.includes(" "))return r.split(" ").map(o=>n(o)).join(" ");if(r.includes(e))return t?SF(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const o=`${Number(i)/16}${e}`;return t?SF(o):o}}return r}return n}const Ye=Xye("rem",{shouldScale:!0}),w3=Xye("em");function z0(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function Qye(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(r=>t.test(r))}return!1}function km(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==A.Fragment:!1}function ca(e){const t=A.createContext(null);return[({children:i,value:o})=>b.jsx(t.Provider,{value:o,children:i}),()=>{const i=A.useContext(t);if(i===null)throw new Error(e);return i}]}function Am(e=null){const t=A.createContext(e);return[({children:i,value:o})=>b.jsx(t.Provider,{value:o,children:i}),()=>A.useContext(t)]}function Hre(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function x3(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function HLe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function qLe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function VLe(e,t,n){return x3(e,n)===x3(t,n)}function Jye({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:o="rtl",orientation:s}){return a=>{n?.(a);const l=Array.from(x3(a.currentTarget,e)?.querySelectorAll(t)||[]).filter(p=>VLe(a.currentTarget,p,e)),u=l.findIndex(p=>a.currentTarget===p),c=qLe(u,l,r),d=HLe(u,l,r),f=o==="rtl"?d:c,h=o==="rtl"?c:d;switch(a.key){case"ArrowRight":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"ArrowLeft":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowUp":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[c].focus(),i&&l[c].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const p=l.length-1;!l[p].disabled&&l[p].focus();break}}}}const WLe={app:100,modal:200,popover:300,overlay:400,max:9999};function au(e){return WLe[e]}const C3=()=>{};function GLe(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||C3:n=>{n.key==="Escape"&&(e(n),t.onTrigger?.())}}function hn(e,t="size",n=!0){if(e!==void 0)return Qye(e)?n?Ye(e):e:`var(--${t}-${e})`}function Di(e){return hn(e,"mantine-spacing")}function jr(e){return e===void 0?"var(--mantine-radius-default)":hn(e,"mantine-radius")}function lo(e){return hn(e,"mantine-font-size")}function Zye(e){return hn(e,"mantine-line-height",!1)}function gV(e){if(e)return hn(e,"mantine-shadow",!1)}function ks(e,t){return n=>{e?.(n),t?.(n)}}function yV(e,t){return e in t?r2(t[e]):r2(e)}function i2(e,t){const n=e.map(r=>({value:r,px:yV(r,t)}));return n.sort((r,i)=>r.px-i.px),n}function Ad(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function YLe(e,t,n){return n?Array.from(x3(n,t)?.querySelectorAll(e)||[]).findIndex(r=>r===n):null}function KLe(){const[e,t]=A.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Ac(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function n0(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function XLe(e,t){if(e===t||Number.isNaN(e)&&Number.isNaN(t))return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;const n=Object.keys(e),{length:r}=n;if(r!==Object.keys(t).length)return!1;for(let i=0;i<r;i+=1){const o=n[i];if(!(o in t)||e[o]!==t[o]&&!(Number.isNaN(e[o])&&Number.isNaN(t[o])))return!1}return!0}function Lg(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...n)=>t.current?.(...n),[])}function b4(e,t){const n=typeof t=="number"?t:t.delay,r=typeof t=="number"?!1:t.flushOnUnmount,i=Lg(e),o=A.useRef(0),s=A.useRef(()=>{}),a=Object.assign(A.useCallback((...l)=>{window.clearTimeout(o.current);const u=()=>{o.current!==0&&(o.current=0,i(...l))};s.current=u,a.flush=u,o.current=window.setTimeout(u,n)},[i,n]),{flush:s.current});return A.useEffect(()=>()=>{window.clearTimeout(o.current),r&&a.flush()},[a,r]),a}const qre=["mousedown","touchstart"];function eve(e,t,n){const r=A.useRef(null);return A.useEffect(()=>{const i=o=>{const{target:s}=o??{};if(Array.isArray(n)){const a=s?.hasAttribute("data-ignore-outside-clicks")||!document.body.contains(s)&&s.tagName!=="HTML";n.every(u=>!!u&&!o.composedPath().includes(u))&&!a&&e()}else r.current&&!r.current.contains(s)&&e()};return(t||qre).forEach(o=>document.addEventListener(o,i)),()=>{(t||qre).forEach(o=>document.removeEventListener(o,i))}},[r,e,n]),r}function QLe({timeout:e=2e3}={}){const[t,n]=A.useState(null),[r,i]=A.useState(!1),[o,s]=A.useState(null),a=c=>{window.clearTimeout(o),s(window.setTimeout(()=>i(!1),e)),i(c)};return{copy:c=>{"clipboard"in navigator?navigator.clipboard.writeText(c).then(()=>a(!0)).catch(d=>n(d)):n(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{i(!1),n(null),window.clearTimeout(o)},error:t,copied:r}}function JLe(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function ZLe(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function o2(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=A.useState(n?t:ZLe(e)),o=A.useRef(null);return A.useEffect(()=>{if("matchMedia"in window)return o.current=window.matchMedia(e),i(o.current.matches),JLe(o.current,s=>i(s.matches))},[e]),r}function eFe(e,t){return o2("(prefers-color-scheme: dark)",e==="dark",t)?"dark":"light"}function tve(e,t,n={leading:!1}){const[r,i]=A.useState(e),o=A.useRef(!1),s=A.useRef(null),a=A.useRef(!1),l=()=>window.clearTimeout(s.current);return A.useEffect(()=>{o.current&&(!a.current&&n.leading?(a.current=!0,i(e)):(l(),s.current=window.setTimeout(()=>{a.current=!1,i(e)},t)))},[e,n.leading,t]),A.useEffect(()=>(o.current=!0,l),[]),[r,l]}const U0=typeof document<"u"?A.useLayoutEffect:A.useEffect;function bl(e,t){const n=A.useRef(!1);A.useEffect(()=>()=>{n.current=!1},[]),A.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function nve({opened:e,shouldReturnFocus:t=!0}){const n=A.useRef(null),r=()=>{n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&n.current?.focus({preventScroll:!0})};return bl(()=>{let i=-1;const o=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",o),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",o)}},[e,t]),r}const tFe=/input|select|textarea|button|object/,rve="a, input, select, textarea, button, object, [tabindex]";function nFe(e){return e.style.display==="none"}function rFe(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(nFe(n))return!1;n=n.parentNode}return!0}function ive(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function I7(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(ive(e));return(tFe.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&rFe(e)}function ove(e){const t=ive(e);return(Number.isNaN(t)||t>=0)&&I7(e)}function iFe(e){return Array.from(e.querySelectorAll(rve)).filter(ove)}function oFe(e,t){const n=iFe(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();let o=r===i.activeElement||e===i.activeElement;const s=i.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(o=n.filter(c=>c.getAttribute("type")==="radio"&&c.getAttribute("name")===s.getAttribute("name")).includes(r)),!o)return;t.preventDefault();const l=n[t.shiftKey?n.length-1:0];l&&l.focus()}function sFe(e=!0){const t=A.useRef(null),n=i=>{let o=i.querySelector("[data-autofocus]");if(!o){const s=Array.from(i.querySelectorAll(rve));o=s.find(ove)||s.find(I7)||null,!o&&I7(i)&&(o=i)}o&&o.focus({preventScroll:!0})},r=A.useCallback(i=>{e&&i!==null&&t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),t.current=i):t.current=null)},[e]);return A.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const i=o=>{o.key==="Tab"&&t.current&&oFe(t.current,o)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),r}const aFe=e=>(e+1)%1e6;function lFe(){const[,e]=A.useReducer(aFe,0);return e}const uFe=un.useId||(()=>{});function cFe(){const e=uFe();return e?`mantine-${e.replace(/:/g,"")}`:""}function Va(e){const t=cFe(),[n,r]=A.useState(t);return U0(()=>{r(n0())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function sve(e,t,n){A.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function _3(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function ave(...e){const t=new Map;return n=>{if(e.forEach(r=>{const i=_3(r,n);i&&t.set(r,i)}),t.size>0)return()=>{e.forEach(r=>{const i=t.get(r);i?i():_3(r,null)}),t.clear()}}}function uo(...e){return A.useCallback(ave(...e),e)}function lve(e){return{x:Ac(e.x,0,1),y:Ac(e.y,0,1)}}function bT(e,t,n="ltr"){const r=A.useRef(null),i=A.useRef(!1),o=A.useRef(!1),s=A.useRef(0),[a,l]=A.useState(!1);return A.useEffect(()=>{i.current=!0},[]),A.useEffect(()=>{const u=r.current,c=({x,y:E})=>{cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>{if(i.current&&u){u.style.userSelect="none";const _=u.getBoundingClientRect();if(_.width&&_.height){const S=Ac((x-_.left)/_.width,0,1);e({x:n==="ltr"?S:1-S,y:Ac((E-_.top)/_.height,0,1)})}}})},d=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",p),document.addEventListener("touchmove",y),document.addEventListener("touchend",p)},f=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",p)},h=()=>{!o.current&&i.current&&(o.current=!0,typeof t?.onScrubStart=="function"&&t.onScrubStart(),l(!0),d())},p=()=>{o.current&&i.current&&(o.current=!1,l(!1),f(),setTimeout(()=>{typeof t?.onScrubEnd=="function"&&t.onScrubEnd()},0))},m=x=>{h(),x.preventDefault(),g(x)},g=x=>c({x:x.clientX,y:x.clientY}),v=x=>{x.cancelable&&x.preventDefault(),h(),y(x)},y=x=>{x.cancelable&&x.preventDefault(),c({x:x.changedTouches[0].clientX,y:x.changedTouches[0].clientY})};return u?.addEventListener("mousedown",m),u?.addEventListener("touchstart",v,{passive:!1}),()=>{u&&(u.removeEventListener("mousedown",m),u.removeEventListener("touchstart",v))}},[n,e]),{ref:r,active:a}}function qi({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,o]=A.useState(t!==void 0?t:n),s=(a,...l)=>{o(a),r?.(a,...l)};return e!==void 0?[e,r,!0]:[i,s,!1]}function pg(e,t){const n=t-e+1;return Array.from({length:n},(r,i)=>i+e)}const mR="dots";function dFe({total:e,siblings:t=1,boundaries:n=1,page:r,initialPage:i=1,onChange:o}){const s=Math.max(Math.trunc(e),0),[a,l]=qi({value:r,onChange:o,defaultValue:i,finalValue:i}),u=m=>{m<=0?l(1):m>s?l(s):l(m)},c=()=>u(a+1),d=()=>u(a-1),f=()=>u(1),h=()=>u(s);return{range:A.useMemo(()=>{if(t*2+3+n*2>=s)return pg(1,s);const g=Math.max(a-t,n),v=Math.min(a+t,s-n),y=g>n+2,x=v<s-(n+1);if(!y&&x){const E=t*2+n+2;return[...pg(1,E),mR,...pg(s-(n-1),s)]}if(y&&!x){const E=n+1+2*t;return[...pg(1,n),mR,...pg(s-E,s)]}return[...pg(1,n),mR,...pg(g,v),mR,...pg(s-n+1,s)]},[s,t,a]),active:a,setPage:u,next:c,previous:d,first:f,last:h}}function w4(e,t){return o2("(prefers-reduced-motion: reduce)",e,t)}const fFe={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function _b(e){const t=A.useRef(0),n=A.useRef(null),[r,i]=A.useState(fFe),o=A.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const a=s[0];a&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{if(n.current){const l=a.borderBoxSize?.[0]||a.contentBoxSize?.[0];if(l){const u=l.inlineSize,c=l.blockSize;i({width:u,height:c,x:a.contentRect.x,y:a.contentRect.y,top:a.contentRect.top,left:a.contentRect.left,bottom:a.contentRect.bottom,right:a.contentRect.right})}else i(a.contentRect)}}))}):null,[]);return A.useEffect(()=>(n.current&&o?.observe(n.current,e),()=>{o?.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}function hFe(e){const[t,{width:n,height:r}]=_b(e);return{ref:t,width:n,height:r}}function pFe(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(!XLe(e[n],t[n]))return!1;return!0}function mFe(e){const t=A.useRef([]),n=A.useRef(0);return pFe(t.current,e)||(t.current=e,n.current+=1),[n.current]}function gFe(e,t){A.useEffect(e,mFe(t))}function yFe(){const[e,t]=A.useState(!1),n=A.useRef(null),r=A.useCallback(()=>t(!0),[]),i=A.useCallback(()=>t(!1),[]);return A.useEffect(()=>{const o=n.current;if(o)return o.addEventListener("mouseenter",r),o.addEventListener("mouseleave",i),()=>{o?.removeEventListener("mouseenter",r),o?.removeEventListener("mouseleave",i)}},[n.current]),{ref:n,hovered:e}}function vV(e=!1,t){const{onOpen:n,onClose:r}=t||{},[i,o]=A.useState(e),s=A.useCallback(()=>{o(u=>u||(n?.(),!0))},[n]),a=A.useCallback(()=>{o(u=>u&&(r?.(),!1))},[r]),l=A.useCallback(()=>{i?a():s()},[a,s,i]);return[i,{open:s,close:a,toggle:l}]}function vFe(e,t,n={autoInvoke:!1}){const r=A.useRef(null),i=A.useCallback((...s)=>{r.current||(r.current=window.setTimeout(()=>{e(s),r.current=null},t))},[t]),o=A.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return A.useEffect(()=>(n.autoInvoke&&i(),o),[o,i]),{start:i,clear:o}}function bFe(e){const t=A.useRef(void 0);return A.useEffect(()=>{t.current=e},[e]),t.current}function wFe(){return navigator.userAgent.includes("OPR")}function xFe(){const[e,t]=A.useState(!1);U0(()=>{t(typeof window<"u"&&!wFe()&&"EyeDropper"in window)},[]);const n=A.useCallback((r={})=>e?new window.EyeDropper().open(r):Promise.resolve(void 0),[e]);return{supported:e,open:n}}function CFe(e,t,n){const r=A.useRef(null),i=A.useRef(null);return A.useEffect(()=>{const o=typeof n=="function"?n():n;return(o||i.current)&&(r.current=new MutationObserver(e),r.current.observe(o||i.current,t)),()=>{r.current?.disconnect()}},[e,t]),i}function _Fe(){const[e,t]=A.useState(!1);return A.useEffect(()=>t(!0),[]),e}function EFe(e,t){const n=Lg(e),r=A.useRef(null),i=A.useRef(null),o=A.useRef(!0),s=A.useRef(t),a=A.useRef(-1),l=()=>window.clearTimeout(a.current),u=A.useCallback((...f)=>{n(...f),r.current=f,i.current=f,o.current=!1},[n]),c=A.useCallback(()=>{r.current&&r.current!==i.current?(u(...r.current),a.current=window.setTimeout(c,s.current)):o.current=!0},[u]),d=A.useCallback((...f)=>{o.current?(u(...f),a.current=window.setTimeout(c,s.current)):r.current=f},[u,c]);return A.useEffect(()=>{s.current=t},[t]),[d,l]}function SFe(e,t){return EFe(e,t)[0]}function TFe(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}function kFe(e){function t(r){const i=Object.keys(r).reduce((o,s)=>(o[`${e}:${s}`]=a=>r[s](a.detail),o),{});U0(()=>(Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o]),window.addEventListener(o,i[o])}),()=>Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o])})),[i])}function n(r){return(...i)=>TFe(`${e}:${String(r)}`,i[0])}return[t,n]}var AFe={};function uve(){return typeof process<"u"&&AFe?"production":"development"}function D7(e,t){return t.length===0?e:t.reduce((n,r)=>Math.abs(r-e)<Math.abs(n-e)?r:n)}function x4(e){const t=un.version;return typeof un.version!="string"||t.startsWith("18.")?e?.ref:e?.props?.ref}function cve(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=cve(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Nt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=cve(e))&&(r&&(r+=" "),r+=t);return r}const RFe={};function IFe(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,i])=>{t[r]?t[r]=Nt(t[r],i):t[r]=i})}),t}function C4({theme:e,classNames:t,props:n,stylesCtx:r}){const o=(Array.isArray(t)?t:[t]).map(s=>typeof s=="function"?s(e,n,r):s||RFe);return IFe(o)}function E3({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((o,s)=>typeof s=="function"?{...o,...s(e,n,r)}:{...o,...s},{})}const bV=A.createContext(null);function Rm(){const e=A.useContext(bV);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function DFe(){return Rm().cssVariablesResolver}function PFe(){return Rm().classNamesPrefix}function _4(){return Rm().getStyleNonce}function OFe(){return Rm().withStaticClasses}function NFe(){return Rm().headless}function MFe(){return Rm().stylesTransform?.sx}function $Fe(){return Rm().stylesTransform?.styles}function dve(){return Rm().env||"default"}function LFe(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function FFe(e){let t=e.replace("#","");if(t.length===3){const s=t.split("");t=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(t.length===8){const s=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:s}}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,o=n&255;return{r,g:i,b:o,a:1}}function jFe(e){const[t,n,r,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:i===void 0?1:i}}function BFe(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,o=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*o-1))*i,l=r/60,u=a*(1-Math.abs(l%2-1)),c=o-a/2;let d,f,h;return l>=0&&l<1?(d=a,f=u,h=0):l>=1&&l<2?(d=u,f=a,h=0):l>=2&&l<3?(d=0,f=a,h=u):l>=3&&l<4?(d=0,f=u,h=a):l>=4&&l<5?(d=u,f=0,h=a):(d=a,f=0,h=u),{r:Math.round((d+c)*255),g:Math.round((f+c)*255),b:Math.round((h+c)*255),a:s||1}}function E4(e){return LFe(e)?FFe(e):e.startsWith("rgb")?jFe(e):e.startsWith("hsl")?BFe(e):{r:0,g:0,b:0,a:1}}function SE(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:i,a:o}=E4(e),s=1-t,a=l=>Math.round(l*s);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${o})`}function s2(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function TF(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function zFe(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function UFe(e){if(e.startsWith("oklch("))return(zFe(e)||0)/100;const{r:t,g:n,b:r}=E4(e),i=t/255,o=n/255,s=r/255,a=TF(i),l=TF(o),u=TF(s);return .2126*a+.7152*l+.0722*u}function I_(e,t=.179){return e.startsWith("var(")?!1:UFe(e)>t}function af({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:I_(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:I_(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:I_(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,i]=e.split("."),o=i?Number(i):void 0,s=r in t.colors;if(s){const a=o!==void 0?t.colors[r][o]:t.colors[r][s2(t,n||"light")];return{color:r,value:a,shade:o,isThemeColor:s,isLight:I_(a,t.luminanceThreshold),variable:i?`--mantine-color-${r}-${o}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:s,isLight:I_(e,t.luminanceThreshold),shade:o,variable:void 0}}function qr(e,t){const n=af({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function P7(e,t){const n={from:e?.from||t.defaultGradient.from,to:e?.to||t.defaultGradient.to,deg:e?.deg??t.defaultGradient.deg??0},r=qr(n.from,t),i=qr(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function Vf(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const o=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${o}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:i}=E4(e);return`rgba(${n}, ${r}, ${i}, ${t})`}const I1=Vf,HFe=({color:e,theme:t,variant:n,gradient:r,autoContrast:i})=>{const o=af({color:e,theme:t}),s=typeof i=="boolean"?i:t.autoContrast;if(n==="filled"){const a=s&&o.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return o.isThemeColor?o.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${Ye(1)} solid transparent`}:{background:`var(--mantine-color-${o.color}-${o.shade})`,hover:`var(--mantine-color-${o.color}-${o.shade===9?8:o.shade+1})`,color:a,border:`${Ye(1)} solid transparent`}:{background:e,hover:SE(e,.1),color:a,border:`${Ye(1)} solid transparent`}}if(n==="light"){if(o.isThemeColor){if(o.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ye(1)} solid transparent`};const a=t.colors[o.color][o.shade];return{background:Vf(a,.1),hover:Vf(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ye(1)} solid transparent`}}return{background:Vf(e,.1),hover:Vf(e,.12),color:e,border:`${Ye(1)} solid transparent`}}if(n==="outline")return o.isThemeColor?o.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${Ye(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Vf(t.colors[o.color][o.shade],.05),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${Ye(1)} solid var(--mantine-color-${o.color}-${o.shade})`}:{background:"transparent",hover:Vf(e,.05),color:e,border:`${Ye(1)} solid ${e}`};if(n==="subtle"){if(o.isThemeColor){if(o.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ye(1)} solid transparent`};const a=t.colors[o.color][o.shade];return{background:"transparent",hover:Vf(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ye(1)} solid transparent`}}return{background:"transparent",hover:Vf(e,.12),color:e,border:`${Ye(1)} solid transparent`}}return n==="transparent"?o.isThemeColor?o.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${Ye(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ye(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${Ye(1)} solid transparent`}:n==="white"?o.isThemeColor?o.shade===void 0?{background:"var(--mantine-color-white)",hover:SE(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${Ye(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:SE(t.white,.01),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${Ye(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:SE(t.white,.01),color:e,border:`${Ye(1)} solid transparent`}:n==="gradient"?{background:P7(r,t),hover:P7(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Ye(1)} solid var(--mantine-color-default-border)`}:{}},qFe={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Vre="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",wV={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:qFe,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:HFe,autoContrast:!1,luminanceThreshold:.3,fontFamily:Vre,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Vre,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Ye(34),lineHeight:"1.3"},h2:{fontSize:Ye(26),lineHeight:"1.35"},h3:{fontSize:Ye(22),lineHeight:"1.4"},h4:{fontSize:Ye(18),lineHeight:"1.45"},h5:{fontSize:Ye(16),lineHeight:"1.5"},h6:{fontSize:Ye(14),lineHeight:"1.5"}}},fontSizes:{xs:Ye(12),sm:Ye(14),md:Ye(16),lg:Ye(18),xl:Ye(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Ye(2),sm:Ye(4),md:Ye(8),lg:Ye(16),xl:Ye(32)},spacing:{xs:Ye(10),sm:Ye(12),md:Ye(16),lg:Ye(20),xl:Ye(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), 0 ${Ye(1)} ${Ye(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ye(10)} ${Ye(15)} ${Ye(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ye(7)} ${Ye(7)} ${Ye(-5)}`,md:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ye(20)} ${Ye(25)} ${Ye(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ye(10)} ${Ye(10)} ${Ye(-5)}`,lg:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ye(28)} ${Ye(23)} ${Ye(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ye(12)} ${Ye(12)} ${Ye(-7)}`,xl:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ye(36)} ${Ye(28)} ${Ye(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ye(17)} ${Ye(17)} ${Ye(-7)}`},other:{},components:{}};function Wre(e){return e==="auto"||e==="dark"||e==="light"}function VFe({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return Wre(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&Wre(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const WFe="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Gre="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function kF(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function Yre(e){if(!(e.primaryColor in e.colors))throw new Error(WFe);if(typeof e.primaryShade=="object"&&(!kF(e.primaryShade.dark)||!kF(e.primaryShade.light)))throw new Error(Gre);if(typeof e.primaryShade=="number"&&!kF(e.primaryShade))throw new Error(Gre)}function GFe(e,t){if(!t)return Yre(e),e;const n=mV(e,t);return t.fontFamily&&!t.headings?.fontFamily&&(n.headings.fontFamily=t.fontFamily),Yre(n),n}const xV=A.createContext(null),YFe=()=>A.useContext(xV)||wV;function eo(){const e=A.useContext(xV);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function fve({theme:e,children:t,inherit:n=!0}){const r=YFe(),i=A.useMemo(()=>GFe(n?r:wV,e),[e,r,n]);return b.jsx(xV.Provider,{value:i,children:t})}fve.displayName="@mantine/core/MantineThemeProvider";function KFe(){const e=eo(),t=_4(),n=_i(e.breakpoints).reduce((r,i)=>{const o=e.breakpoints[i].includes("px"),s=r2(e.breakpoints[i]),a=o?`${s-.1}px`:w3(s-.1),l=o?`${s}px`:w3(s);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return b.jsx("style",{"data-mantine-styles":"classes",nonce:t?.(),dangerouslySetInnerHTML:{__html:n}})}function AF(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function D_(e,t){return(Array.isArray(e)?e:[e]).reduce((r,i)=>`${i}{${r}}`,t)}function XFe(e,t){const n=AF(e.variables),r=n?D_(t,n):"",i=AF(e.dark),o=AF(e.light),s=i?D_(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,i):"",a=o?D_(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,o):"";return`${r}${s}${a}`}function zh({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&af({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Kre(e,t){return zh({color:e.colors[e.primaryColor][s2(e,t)],theme:e,autoContrast:null})}function gR({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(n==="light"){const a=s2(e,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:I1(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:I1(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:I1(e.colors[t][a],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...l}:l}const o=s2(e,"dark"),s={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${o})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${o===9?8:o+1})`,[`--mantine-color-${r}-light`]:I1(e.colors[t][Math.max(0,o-2)],.15),[`--mantine-color-${r}-light-hover`]:I1(e.colors[t][Math.max(0,o-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(o-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(o-4,0)})`,[`--mantine-color-${r}-outline-hover`]:I1(e.colors[t][Math.max(o-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...s}:s}function QFe(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function D1(e,t,n){_i(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const hve=e=>{const t=s2(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:Ye(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":Kre(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":Kre(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};D1(r.variables,e.breakpoints,"breakpoint"),D1(r.variables,e.spacing,"spacing"),D1(r.variables,e.fontSizes,"font-size"),D1(r.variables,e.lineHeights,"line-height"),D1(r.variables,e.shadows,"shadow"),D1(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((o,s)=>{r.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${e.primaryColor}-${s})`}),_i(e.colors).forEach(o=>{const s=e.colors[o];if(QFe(s)){Object.assign(r.light,gR({theme:e,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,gR({theme:e,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((a,l)=>{r.variables[`--mantine-color-${o}-${l}`]=a}),Object.assign(r.light,gR({theme:e,color:o,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,gR({theme:e,color:o,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return _i(i).forEach(o=>{r.variables[`--mantine-${o}-font-size`]=i[o].fontSize,r.variables[`--mantine-${o}-line-height`]=i[o].lineHeight,r.variables[`--mantine-${o}-font-weight`]=i[o].fontWeight||e.headings.fontWeight}),r};function JFe({theme:e,generator:t}){const n=hve(e),r=t?.(e);return r?mV(n,r):n}const RF=hve(wV);function ZFe(e){const t={variables:{},light:{},dark:{}};return _i(e.variables).forEach(n=>{RF.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),_i(e.light).forEach(n=>{RF.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),_i(e.dark).forEach(n=>{RF.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function e8e(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function pve({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=eo(),r=_4(),i=DFe(),o=JFe({theme:n,generator:i}),s=e===":root"&&t,a=s?ZFe(o):o,l=XFe(a,e);return l?b.jsx("style",{"data-mantine-styles":!0,nonce:r?.(),dangerouslySetInnerHTML:{__html:`${l}${s?"":e8e(e)}`}}):null}pve.displayName="@mantine/CssVariables";function t8e(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function P1(e,t){const n=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,r=e!=="auto"?e:n?"dark":"light";t()?.setAttribute("data-mantine-color-scheme",r)}function n8e({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const i=A.useRef(null),[o,s]=A.useState(()=>e.get(t)),a=r||o,l=A.useCallback(c=>{r||(P1(c,n),s(c),e.set(c))},[e.set,a,r]),u=A.useCallback(()=>{s(t),P1(t,n),e.clear()},[e.clear,t]);return A.useEffect(()=>(e.subscribe(l),e.unsubscribe),[e.subscribe,e.unsubscribe]),U0(()=>{P1(e.get(t),n)},[]),A.useEffect(()=>{if(r)return P1(r,n),()=>{};r===void 0&&P1(o,n),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const c=d=>{o==="auto"&&P1(d.matches?"dark":"light",n)};return i.current?.addEventListener("change",c),()=>i.current?.removeEventListener("change",c)},[o,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:u}}function r8e({respectReducedMotion:e,getRootElement:t}){U0(()=>{e&&t()?.setAttribute("data-respect-reduced-motion","true")},[e])}t8e();function mve({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:o=!0,withCssVariables:s=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:u=VFe(),defaultColorScheme:c="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:h,stylesTransform:p,env:m}){const{colorScheme:g,setColorScheme:v,clearColorScheme:y}=n8e({defaultColorScheme:c,forceColorScheme:h,manager:u,getRootElement:d});return r8e({respectReducedMotion:e?.respectReducedMotion||!1,getRootElement:d}),b.jsx(bV.Provider,{value:{colorScheme:g,setColorScheme:v,clearColorScheme:y,getRootElement:d,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:f,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:p,env:m},children:b.jsxs(fve,{theme:e,children:[s&&b.jsx(pve,{cssVariablesSelector:a,deduplicateCssVariables:o}),i&&b.jsx(KFe,{}),t]})})}mve.displayName="@mantine/core/MantineProvider";function lf({classNames:e,styles:t,props:n,stylesCtx:r}){const i=eo();return{resolvedClassNames:C4({theme:i,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:E3({theme:i,styles:t,props:n,stylesCtx:r||void 0})}}const i8e={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function o8e({theme:e,options:t,unstyled:n}){return Nt(t?.focusable&&!n&&(e.focusClassName||i8e[e.focusRing]),t?.active&&!n&&e.activeClassName)}function s8e({selector:e,stylesCtx:t,options:n,props:r,theme:i}){return C4({theme:i,classNames:n?.classNames,props:n?.props||r,stylesCtx:t})[e]}function Xre({selector:e,stylesCtx:t,theme:n,classNames:r,props:i}){return C4({theme:n,classNames:r,props:i,stylesCtx:t})[e]}function a8e({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function l8e({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function u8e({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(i=>`${t}-${i}-${n}`)}function c8e({themeName:e,theme:t,selector:n,props:r,stylesCtx:i}){return e.map(o=>C4({theme:t,classNames:t.components[o]?.classNames,props:r,stylesCtx:i})?.[n])}function d8e({options:e,classes:t,selector:n,unstyled:r}){return e?.variant&&!r?t[`${n}--${e.variant}`]:void 0}function f8e({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:i,classNames:o,classes:s,unstyled:a,className:l,rootSelector:u,props:c,stylesCtx:d,withStaticClasses:f,headless:h,transformedStyles:p}){return Nt(o8e({theme:e,options:t,unstyled:a||h}),c8e({theme:e,themeName:n,selector:r,props:c,stylesCtx:d}),d8e({options:t,classes:s,selector:r,unstyled:a}),Xre({selector:r,stylesCtx:d,theme:e,classNames:o,props:c}),Xre({selector:r,stylesCtx:d,theme:e,classNames:p,props:c}),s8e({selector:r,stylesCtx:d,options:t,props:c,theme:e}),a8e({rootSelector:u,selector:r,className:l}),l8e({selector:r,classes:s,unstyled:a||h}),f&&!h&&u8e({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:t?.withStaticClass}),t?.className)}function h8e({theme:e,themeName:t,props:n,stylesCtx:r,selector:i}){return t.map(o=>E3({theme:e,styles:e.components[o]?.styles,props:n,stylesCtx:r})[i]).reduce((o,s)=>({...o,...s}),{})}function O7({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...O7({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function p8e(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...z0(n[r])}}),t),{})}function m8e({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:i,selector:o,themeName:s,headless:a}){return p8e([a?{}:t?.(n,r,i),...s.map(l=>n.components?.[l]?.vars?.(n,r,i)),e?.(n,r,i)])?.[o]}function g8e({theme:e,themeName:t,selector:n,options:r,props:i,stylesCtx:o,rootSelector:s,styles:a,style:l,vars:u,varsResolver:c,headless:d,withStylesTransform:f}){return{...!f&&h8e({theme:e,themeName:t,props:i,stylesCtx:o,selector:n}),...!f&&E3({theme:e,styles:a,props:i,stylesCtx:o})[n],...!f&&E3({theme:e,styles:r?.styles,props:r?.props||i,stylesCtx:o})[n],...m8e({theme:e,props:i,stylesCtx:o,vars:u,varsResolver:c,selector:n,themeName:t,headless:d}),...s===n?O7({style:l,theme:e}):null,...O7({style:r?.style,theme:e})}}function y8e({props:e,stylesCtx:t,themeName:n}){const r=eo(),i=$Fe()?.();return{getTransformedStyles:s=>i?[...s.map(l=>i(l,{props:e,theme:r,ctx:t})),...n.map(l=>i(r.components[l]?.styles,{props:e,theme:r,ctx:t}))].filter(Boolean):[],withStylesTransform:!!i}}function Rt({name:e,classes:t,props:n,stylesCtx:r,className:i,style:o,rootSelector:s="root",unstyled:a,classNames:l,styles:u,vars:c,varsResolver:d}){const f=eo(),h=PFe(),p=OFe(),m=NFe(),g=(Array.isArray(e)?e:[e]).filter(x=>x),{withStylesTransform:v,getTransformedStyles:y}=y8e({props:n,stylesCtx:r,themeName:g});return(x,E)=>({className:f8e({theme:f,options:E,themeName:g,selector:x,classNamesPrefix:h,classNames:l,classes:t,unstyled:a,className:i,rootSelector:s,props:n,stylesCtx:r,withStaticClasses:p,headless:m,transformedStyles:y([E?.styles,u])}),style:g8e({theme:f,themeName:g,selector:x,options:E,props:n,stylesCtx:r,rootSelector:s,styles:u,style:o,vars:c,varsResolver:d,headless:m,withStylesTransform:v})})}function v8e(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, white ${t*100}%)`;const{r:n,g:r,b:i,a:o}=E4(e),s=a=>Math.round(a+(255-a)*t);return`rgba(${s(n)}, ${s(r)}, ${s(i)}, ${o})`}function H0(e,t){return typeof e=="boolean"?e:t.autoContrast}function Qre(e){const t=document.createElement("style");return t.setAttribute("data-mantine-styles","inline"),t.innerHTML="*, *::before, *::after {transition: none !important;}",t.setAttribute("data-mantine-disable-transition","true"),e&&t.setAttribute("nonce",e),document.head.appendChild(t),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function b8e({keepTransitions:e}={}){const t=A.useRef(C3),n=A.useRef(-1),r=A.useContext(bV),i=_4(),o=A.useRef(i?.());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const s=d=>{r.setColorScheme(d),t.current=e?()=>{}:Qre(o.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{t.current?.()},10)},a=()=>{r.clearColorScheme(),t.current=e?()=>{}:Qre(o.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{t.current?.()},10)},l=eFe("light",{getInitialValueInEffect:!1}),u=r.colorScheme==="auto"?l:r.colorScheme,c=A.useCallback(()=>s(u==="light"?"dark":"light"),[s,u]);return A.useEffect(()=>()=>{t.current?.(),window.clearTimeout(n.current)},[]),{colorScheme:r.colorScheme,setColorScheme:s,clearColorScheme:a,toggleColorScheme:c}}function qe(e,t,n){const r=eo(),i=r.components[e]?.defaultProps,o=typeof i=="function"?i(r):i;return{...t,...o,...z0(n)}}function IF(e){return _i(e).reduce((t,n)=>e[n]!==void 0?`${t}${zLe(n)}:${e[n]};`:t,"").trim()}function w8e({selector:e,styles:t,media:n,container:r}){const i=t?IF(t):"",o=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${IF(a.styles)}}}`):[],s=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${IF(a.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${o.join("")}${s.join("")}`.trim()}function Eb(e){const t=_4();return b.jsx("style",{"data-mantine-styles":"inline",nonce:t?.(),dangerouslySetInnerHTML:{__html:w8e(e)}})}function Sb(e){const{m:t,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:l,ms:u,p:c,px:d,py:f,pt:h,pb:p,pl:m,pr:g,pe:v,ps:y,bd:x,bg:E,c:_,opacity:S,ff:T,fz:k,fw:R,lts:I,ta:P,lh:N,fs:M,tt:O,td:j,w:U,miw:q,maw:W,h:V,mih:z,mah:L,bgsz:H,bgp:B,bgr:Y,bga:Q,pos:ne,top:ce,left:le,bottom:ue,right:ae,inset:te,display:se,flex:we,hiddenFrom:X,visibleFrom:he,lightHidden:ge,darkHidden:re,sx:ee,...fe}=e;return{styleProps:z0({m:t,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:l,ms:u,p:c,px:d,py:f,pt:h,pb:p,pl:m,pr:g,pe:v,ps:y,bd:x,bg:E,c:_,opacity:S,ff:T,fz:k,fw:R,lts:I,ta:P,lh:N,fs:M,tt:O,td:j,w:U,miw:q,maw:W,h:V,mih:z,mah:L,bgsz:H,bgp:B,bgr:Y,bga:Q,pos:ne,top:ce,left:le,bottom:ue,right:ae,inset:te,display:se,flex:we,hiddenFrom:X,visibleFrom:he,lightHidden:ge,darkHidden:re,sx:ee}),rest:fe}}const x8e={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function CV(e,t){const n=af({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function C8e(e,t){const n=af({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:CV(e,t)}function _8e(e,t){if(typeof e=="number")return Ye(e);if(typeof e=="string"){const[n,r,...i]=e.split(" ").filter(s=>s.trim()!=="");let o=`${Ye(n)}`;return r&&(o+=` ${r}`),i.length>0&&(o+=` ${CV(i.join(" "),t)}`),o.trim()}return e}const Jre={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function E8e(e){return typeof e=="string"&&e in Jre?Jre[e]:e}const S8e=["h1","h2","h3","h4","h5","h6"];function T8e(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&S8e.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?Ye(e):e}function k8e(e){return e}const A8e=["h1","h2","h3","h4","h5","h6"];function R8e(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&A8e.includes(e)?`var(--mantine-${e}-line-height)`:e}function I8e(e){return typeof e=="number"?Ye(e):e}function D8e(e,t){if(typeof e=="number")return Ye(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return Ye(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const DF={color:CV,textColor:C8e,fontSize:T8e,spacing:D8e,identity:k8e,size:I8e,lineHeight:R8e,fontFamily:E8e,border:_8e};function Zre(e){return e.replace("(min-width: ","").replace("em)","")}function P8e({media:e,...t}){const r=Object.keys(e).sort((i,o)=>Number(Zre(i))-Number(Zre(o))).map(i=>({query:i,styles:e[i]}));return{...t,media:r}}function O8e(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function N8e(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function M8e(e){return typeof e=="object"&&e!==null?_i(e).filter(t=>t!=="base"):[]}function $8e(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function gve({styleProps:e,data:t,theme:n}){return P8e(_i(e).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const o=t[i],s=Array.isArray(o.property)?o.property:[o.property],a=N8e(e[i]);if(!O8e(e[i]))return s.forEach(u=>{r.inlineStyles[u]=DF[o.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=M8e(e[i]);return s.forEach(u=>{a&&(r.styles[u]=DF[o.type](a,n)),l.forEach(c=>{const d=`(min-width: ${n.breakpoints[c]})`;r.media[d]={...r.media[d],[u]:DF[o.type]($8e(e[i],c),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function wT(){return`__m__-${A.useId().replace(/:/g,"")}`}function _V(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,..._V(r,t)}),{}):typeof e=="function"?e(t):e??{}}function yve(e){return e.startsWith("data-")?e:`data-${e}`}function L8e(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[yve(n)]=e[n]),t},{})}function vve(e){return e?typeof e=="string"?{[yve(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...vve(n)}),{}):L8e(e):null}function N7(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...N7(r,t)}),{}):typeof e=="function"?e(t):e??{}}function F8e({theme:e,style:t,vars:n,styleProps:r}){const i=N7(t,e),o=N7(n,e);return{...i,...o,...r}}const bve=A.forwardRef(({component:e,style:t,__vars:n,className:r,variant:i,mod:o,size:s,hiddenFrom:a,visibleFrom:l,lightHidden:u,darkHidden:c,renderRoot:d,__size:f,...h},p)=>{const m=eo(),g=e||"div",{styleProps:v,rest:y}=Sb(h),E=MFe()?.()?.(v.sx),_=wT(),S=gve({styleProps:v,theme:m,data:x8e}),T={ref:p,style:F8e({theme:m,style:t,vars:n,styleProps:S.inlineStyles}),className:Nt(r,E,{[_]:S.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":c,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":Qye(s)?void 0:s||void 0,size:f,...vve(o),...y};return b.jsxs(b.Fragment,{children:[S.hasResponsiveStyles&&b.jsx(Eb,{selector:`.${_}`,styles:S.styles,media:S.media}),typeof d=="function"?d(T):b.jsx(g,{...T})]})});bve.displayName="@mantine/core/Box";const De=bve;function wve(e){return e}function j8e(e){const t=e;return n=>{const r=A.forwardRef((i,o)=>b.jsx(t,{...n,...i,ref:o}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r}}function nt(e){const t=A.forwardRef(e);return t.extend=wve,t.withProps=n=>{const r=A.forwardRef((i,o)=>b.jsx(t,{...n,...i,ref:o}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function zo(e){const t=A.forwardRef(e);return t.withProps=n=>{const r=A.forwardRef((i,o)=>b.jsx(t,{...n,...i,ref:o}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=wve,t}const B8e=A.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function lu(){return A.useContext(B8e)}var Rd=Hye();const TE=Qo(Rd);function z8e(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function PF(e){return e?.current?e.current.scrollHeight:"auto"}const P_=typeof window<"u"&&window.requestAnimationFrame;function U8e({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=A.useRef(null),o=0,s={height:0,overflow:"hidden"},[a,l]=A.useState(r?{}:s),u=p=>{Rd.flushSync(()=>l(p))},c=p=>{u(m=>({...m,...p}))};function d(p){const m=e||z8e(p);return{transition:`height ${m}ms ${t}, opacity ${m}ms ${t}`}}bl(()=>{typeof P_=="function"&&P_(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),P_(()=>{const p=PF(i);c({...d(p),height:p})})}:()=>{const p=PF(i);c({...d(p),willChange:"height",height:p}),P_(()=>c({height:o,overflow:"hidden"}))})},[r]);const f=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(r){const m=PF(i);m===a.height?u({}):c({height:m}),n()}else a.height===o&&(u(s),n())};function h({style:p={},refKey:m="ref",...g}={}){const v=g[m],y={"aria-hidden":!r,...g,[m]:ave(i,v),onTransitionEnd:f,style:{boxSizing:"border-box",...p,...a}};return un.version.startsWith("18")?r||(y.inert=""):y.inert=!r,y}return h}const H8e={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},Uh=nt((e,t)=>{const{children:n,in:r,transitionDuration:i,transitionTimingFunction:o,style:s,onTransitionEnd:a,animateOpacity:l,...u}=qe("Collapse",H8e,e),c=eo(),d=w4(),h=(c.respectReducedMotion?d:!1)?0:i,p=U8e({opened:r,transitionDuration:h,transitionTimingFunction:o,onTransitionEnd:a});return h===0?r?b.jsx(De,{...u,children:n}):null:b.jsx(De,{...p({style:{opacity:r||!l?1:0,transition:l?`opacity ${h}ms ${o}`:"none",..._V(s,c)},ref:t,...u}),children:n})});Uh.displayName="@mantine/core/Collapse";function S4(){return typeof window<"u"}function tC(e){return xve(e)?(e.nodeName||"").toLowerCase():"#document"}function Xl(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Hh(e){var t;return(t=(xve(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xve(e){return S4()?e instanceof Node||e instanceof Xl(e).Node:!1}function Fi(e){return S4()?e instanceof Element||e instanceof Xl(e).Element:!1}function Hu(e){return S4()?e instanceof HTMLElement||e instanceof Xl(e).HTMLElement:!1}function M7(e){return!S4()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xl(e).ShadowRoot}const q8e=new Set(["inline","contents"]);function xT(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Oc(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!q8e.has(i)}const V8e=new Set(["table","td","th"]);function W8e(e){return V8e.has(tC(e))}const G8e=[":popover-open",":modal"];function T4(e){return G8e.some(t=>{try{return e.matches(t)}catch{return!1}})}const Y8e=["transform","translate","scale","rotate","perspective"],K8e=["transform","translate","scale","rotate","perspective","filter"],X8e=["paint","layout","strict","content"];function EV(e){const t=k4(),n=Fi(e)?Oc(e):e;return Y8e.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||K8e.some(r=>(n.willChange||"").includes(r))||X8e.some(r=>(n.contain||"").includes(r))}function Q8e(e){let t=sm(e);for(;Hu(t)&&!g0(t);){if(EV(t))return t;if(T4(t))return null;t=sm(t)}return null}function k4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const J8e=new Set(["html","body","#document"]);function g0(e){return J8e.has(tC(e))}function Oc(e){return Xl(e).getComputedStyle(e)}function A4(e){return Fi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function sm(e){if(tC(e)==="html")return e;const t=e.assignedSlot||e.parentNode||M7(e)&&e.host||Hh(e);return M7(t)?t.host:t}function Cve(e){const t=sm(e);return g0(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hu(t)&&xT(t)?t:Cve(t)}function Wp(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Cve(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=Xl(i);if(o){const a=$7(s);return t.concat(s,s.visualViewport||[],xT(i)?i:[],a&&n?Wp(a):[])}return t.concat(i,Wp(i,[],n))}function $7(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function eie(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function a2(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&M7(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function _ve(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Eve(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Z8e(e){return nje()?!1:!tie()&&e.width===0&&e.height===0||tie()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function eje(){return/apple/i.test(navigator.vendor)}function tie(){const e=/android/i;return e.test(_ve())||e.test(Eve())}function tje(){return _ve().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function nje(){return Eve().includes("jsdom/")}function L7(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function rje(e){return"nativeEvent"in e}function ije(e){return e.matches("html,body")}function cv(e){return e?.ownerDocument||document}function OF(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function aw(e){return"composedPath"in e?e.composedPath()[0]:e.target}const oje="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function sje(e){return Hu(e)&&e.matches(oje)}const Gd=Math.min,Ia=Math.max,S3=Math.round,yR=Math.floor,dh=e=>({x:e,y:e}),aje={left:"right",right:"left",bottom:"top",top:"bottom"},lje={start:"end",end:"start"};function F7(e,t,n){return Ia(e,Gd(t,n))}function am(e,t){return typeof e=="function"?e(t):e}function Yd(e){return e.split("-")[0]}function nC(e){return e.split("-")[1]}function SV(e){return e==="x"?"y":"x"}function TV(e){return e==="y"?"height":"width"}const uje=new Set(["top","bottom"]);function Id(e){return uje.has(Yd(e))?"y":"x"}function kV(e){return SV(Id(e))}function cje(e,t,n){n===void 0&&(n=!1);const r=nC(e),i=kV(e),o=TV(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=T3(s)),[s,T3(s)]}function dje(e){const t=T3(e);return[j7(e),t,j7(t)]}function j7(e){return e.replace(/start|end/g,t=>lje[t])}const nie=["left","right"],rie=["right","left"],fje=["top","bottom"],hje=["bottom","top"];function pje(e,t,n){switch(e){case"top":case"bottom":return n?t?rie:nie:t?nie:rie;case"left":case"right":return t?fje:hje;default:return[]}}function mje(e,t,n,r){const i=nC(e);let o=pje(Yd(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(j7)))),o}function T3(e){return e.replace(/left|right|bottom|top/g,t=>aje[t])}function gje(e){return{top:0,right:0,bottom:0,left:0,...e}}function AV(e){return typeof e!="number"?gje(e):{top:e,right:e,bottom:e,left:e}}function nx(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function iie(e,t,n){let{reference:r,floating:i}=e;const o=Id(t),s=kV(t),a=TV(s),l=Yd(t),u=o==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(nC(t)){case"start":h[s]-=f*(n&&u?-1:1);break;case"end":h[s]+=f*(n&&u?-1:1);break}return h}const yje=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=iie(u,r,l),f=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:v}=a[m],{x:y,y:x,data:E,reset:_}=await v({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:u,platform:s,elements:{reference:e,floating:t}});c=y??c,d=x??d,h={...h,[g]:{...h[g],...E}},_&&p<=50&&(p++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:c,y:d}=iie(u,f,l)),m=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:h}};async function RV(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=am(t,e),p=AV(h),g=a[f?d==="floating"?"reference":"floating":d],v=nx(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(g)))==null||n?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),y=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),E=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},_=nx(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:x,strategy:l}):y);return{top:(v.top-_.top+p.top)/E.y,bottom:(_.bottom-v.bottom+p.bottom)/E.y,left:(v.left-_.left+p.left)/E.x,right:(_.right-v.right+p.right)/E.x}}const vje=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=am(e,t)||{};if(u==null)return{};const d=AV(c),f={x:n,y:r},h=kV(i),p=TV(h),m=await s.getDimensions(u),g=h==="y",v=g?"top":"left",y=g?"bottom":"right",x=g?"clientHeight":"clientWidth",E=o.reference[p]+o.reference[h]-f[h]-o.floating[p],_=f[h]-o.reference[h],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let T=S?S[x]:0;(!T||!await(s.isElement==null?void 0:s.isElement(S)))&&(T=a.floating[x]||o.floating[p]);const k=E/2-_/2,R=T/2-m[p]/2-1,I=Gd(d[v],R),P=Gd(d[y],R),N=I,M=T-m[p]-P,O=T/2-m[p]/2+k,j=F7(N,O,M),U=!l.arrow&&nC(i)!=null&&O!==j&&o.reference[p]/2-(O<N?I:P)-m[p]/2<0,q=U?O<N?O-N:O-M:0;return{[h]:f[h]+q,data:{[h]:j,centerOffset:O-j-q,...U&&{alignmentOffset:q}},reset:U}}}),bje=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=am(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=Yd(i),y=Id(a),x=Yd(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),_=f||(x||!m?[T3(a)]:dje(a)),S=p!=="none";!f&&S&&_.push(...mje(a,m,p,E));const T=[a,..._],k=await RV(t,g),R=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&R.push(k[v]),d){const O=cje(i,s,E);R.push(k[O[0]],k[O[1]])}if(I=[...I,{placement:i,overflows:R}],!R.every(O=>O<=0)){var P,N;const O=(((P=o.flip)==null?void 0:P.index)||0)+1,j=T[O];if(j&&(!(d==="alignment"?y!==Id(j):!1)||I.every(W=>Id(W.placement)===y?W.overflows[0]>0:!0)))return{data:{index:O,overflows:I},reset:{placement:j}};let U=(N=I.filter(q=>q.overflows[0]<=0).sort((q,W)=>q.overflows[1]-W.overflows[1])[0])==null?void 0:N.placement;if(!U)switch(h){case"bestFit":{var M;const q=(M=I.filter(W=>{if(S){const V=Id(W.placement);return V===y||V==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(V=>V>0).reduce((V,z)=>V+z,0)]).sort((W,V)=>W[1]-V[1])[0])==null?void 0:M[0];q&&(U=q);break}case"initialPlacement":U=a;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function Sve(e){const t=Gd(...e.map(o=>o.left)),n=Gd(...e.map(o=>o.top)),r=Ia(...e.map(o=>o.right)),i=Ia(...e.map(o=>o.bottom));return{x:t,y:n,width:r-t,height:i-n}}function wje(e){const t=e.slice().sort((i,o)=>i.y-o.y),n=[];let r=null;for(let i=0;i<t.length;i++){const o=t[i];!r||o.y-r.y>r.height/2?n.push([o]):n[n.length-1].push(o),r=o}return n.map(i=>nx(Sve(i)))}const xje=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:o,strategy:s}=t,{padding:a=2,x:l,y:u}=am(e,t),c=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(r.reference))||[]),d=wje(c),f=nx(Sve(c)),h=AV(a);function p(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(g=>l>g.left-h.left&&l<g.right+h.right&&u>g.top-h.top&&u<g.bottom+h.bottom)||f;if(d.length>=2){if(Id(n)==="y"){const I=d[0],P=d[d.length-1],N=Yd(n)==="top",M=I.top,O=P.bottom,j=N?I.left:P.left,U=N?I.right:P.right,q=U-j,W=O-M;return{top:M,bottom:O,left:j,right:U,width:q,height:W,x:j,y:M}}const g=Yd(n)==="left",v=Ia(...d.map(I=>I.right)),y=Gd(...d.map(I=>I.left)),x=d.filter(I=>g?I.left===y:I.right===v),E=x[0].top,_=x[x.length-1].bottom,S=y,T=v,k=T-S,R=_-E;return{top:E,bottom:_,left:S,right:T,width:k,height:R,x:S,y:E}}return f}const m=await o.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:s});return i.reference.x!==m.reference.x||i.reference.y!==m.reference.y||i.reference.width!==m.reference.width||i.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}},Tve=new Set(["left","top"]);async function Cje(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Yd(n),a=nC(n),l=Id(n)==="y",u=Tve.has(s)?-1:1,c=o&&l?-1:1,d=am(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const _je=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await Cje(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Eje=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:g=>{let{x:v,y}=g;return{x:v,y}}},...l}=am(e,t),u={x:n,y:r},c=await RV(t,l),d=Id(Yd(i)),f=SV(d);let h=u[f],p=u[d];if(o){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=h+c[g],x=h-c[v];h=F7(y,h,x)}if(s){const g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=p+c[g],x=p-c[v];p=F7(y,p,x)}const m=a.fn({...t,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:o,[d]:s}}}}}},Sje=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=am(e,t),c={x:n,y:r},d=Id(i),f=SV(d);let h=c[f],p=c[d];const m=am(a,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const x=f==="y"?"height":"width",E=o.reference[f]-o.floating[x]+g.mainAxis,_=o.reference[f]+o.reference[x]-g.mainAxis;h<E?h=E:h>_&&(h=_)}if(u){var v,y;const x=f==="y"?"width":"height",E=Tve.has(Yd(i)),_=o.reference[d]-o.floating[x]+(E&&((v=s.offset)==null?void 0:v[d])||0)+(E?0:g.crossAxis),S=o.reference[d]+o.reference[x]+(E?0:((y=s.offset)==null?void 0:y[d])||0)-(E?g.crossAxis:0);p<_?p=_:p>S&&(p=S)}return{[f]:h,[d]:p}}}},Tje=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:l=()=>{},...u}=am(e,t),c=await RV(t,u),d=Yd(i),f=nC(i),h=Id(i)==="y",{width:p,height:m}=o.floating;let g,v;d==="top"||d==="bottom"?(g=d,v=f===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,g=f==="end"?"top":"bottom");const y=m-c.top-c.bottom,x=p-c.left-c.right,E=Gd(m-c[g],y),_=Gd(p-c[v],x),S=!t.middlewareData.shift;let T=E,k=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=y),S&&!f){const I=Ia(c.left,0),P=Ia(c.right,0),N=Ia(c.top,0),M=Ia(c.bottom,0);h?k=p-2*(I!==0||P!==0?I+P:Ia(c.left,c.right)):T=m-2*(N!==0||M!==0?N+M:Ia(c.top,c.bottom))}await l({...t,availableWidth:k,availableHeight:T});const R=await s.getDimensions(a.floating);return p!==R.width||m!==R.height?{reset:{rects:!0}}:{}}}};function kve(e){const t=Oc(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Hu(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=S3(n)!==o||S3(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function IV(e){return Fi(e)?e:e.contextElement}function Rw(e){const t=IV(e);if(!Hu(t))return dh(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=kve(t);let s=(o?S3(n.width):n.width)/r,a=(o?S3(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const kje=dh(0);function Ave(e){const t=Xl(e);return!k4()||!t.visualViewport?kje:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Aje(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Xl(e)?!1:t}function Uv(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=IV(e);let s=dh(1);t&&(r?Fi(r)&&(s=Rw(r)):s=Rw(e));const a=Aje(o,n,r)?Ave(o):dh(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,d=i.height/s.y;if(o){const f=Xl(o),h=r&&Fi(r)?Xl(r):r;let p=f,m=$7(p);for(;m&&r&&h!==p;){const g=Rw(m),v=m.getBoundingClientRect(),y=Oc(m),x=v.left+(m.clientLeft+parseFloat(y.paddingLeft))*g.x,E=v.top+(m.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,d*=g.y,l+=x,u+=E,p=Xl(m),m=$7(p)}}return nx({width:c,height:d,x:l,y:u})}function R4(e,t){const n=A4(e).scrollLeft;return t?t.left+n:Uv(Hh(e)).left+n}function Rve(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-R4(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function Rje(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=Hh(r),a=t?T4(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=dh(1);const c=dh(0),d=Hu(r);if((d||!d&&!o)&&((tC(r)!=="body"||xT(s))&&(l=A4(r)),Hu(r))){const h=Uv(r);u=Rw(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const f=s&&!d&&!o?Rve(s,l):dh(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+f.x,y:n.y*u.y-l.scrollTop*u.y+c.y+f.y}}function Ije(e){return Array.from(e.getClientRects())}function Dje(e){const t=Hh(e),n=A4(e),r=e.ownerDocument.body,i=Ia(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ia(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+R4(e);const a=-n.scrollTop;return Oc(r).direction==="rtl"&&(s+=Ia(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}const oie=25;function Pje(e,t){const n=Xl(e),r=Hh(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=k4();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=R4(r);if(u<=0){const c=r.ownerDocument,d=c.body,f=getComputedStyle(d),h=c.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,p=Math.abs(r.clientWidth-d.clientWidth-h);p<=oie&&(o-=p)}else u<=oie&&(o+=u);return{width:o,height:s,x:a,y:l}}const Oje=new Set(["absolute","fixed"]);function Nje(e,t){const n=Uv(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Hu(e)?Rw(e):dh(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function sie(e,t,n){let r;if(t==="viewport")r=Pje(e,n);else if(t==="document")r=Dje(Hh(e));else if(Fi(t))r=Nje(t,n);else{const i=Ave(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return nx(r)}function Ive(e,t){const n=sm(e);return n===t||!Fi(n)||g0(n)?!1:Oc(n).position==="fixed"||Ive(n,t)}function Mje(e,t){const n=t.get(e);if(n)return n;let r=Wp(e,[],!1).filter(a=>Fi(a)&&tC(a)!=="body"),i=null;const o=Oc(e).position==="fixed";let s=o?sm(e):e;for(;Fi(s)&&!g0(s);){const a=Oc(s),l=EV(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&Oje.has(i.position)||xT(s)&&!l&&Ive(e,s))?r=r.filter(c=>c!==s):i=a,s=sm(s)}return t.set(e,r),r}function $je(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?T4(t)?[]:Mje(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,c)=>{const d=sie(t,c,i);return u.top=Ia(d.top,u.top),u.right=Gd(d.right,u.right),u.bottom=Gd(d.bottom,u.bottom),u.left=Ia(d.left,u.left),u},sie(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Lje(e){const{width:t,height:n}=kve(e);return{width:t,height:n}}function Fje(e,t,n){const r=Hu(t),i=Hh(t),o=n==="fixed",s=Uv(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=dh(0);function u(){l.x=R4(i)}if(r||!r&&!o)if((tC(t)!=="body"||xT(i))&&(a=A4(t)),r){const h=Uv(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&u();o&&!r&&i&&u();const c=i&&!r&&!o?Rve(i,a):dh(0),d=s.left+a.scrollLeft-l.x-c.x,f=s.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:s.width,height:s.height}}function NF(e){return Oc(e).position==="static"}function aie(e,t){if(!Hu(e)||Oc(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Hh(e)===n&&(n=n.ownerDocument.body),n}function Dve(e,t){const n=Xl(e);if(T4(e))return n;if(!Hu(e)){let i=sm(e);for(;i&&!g0(i);){if(Fi(i)&&!NF(i))return i;i=sm(i)}return n}let r=aie(e,t);for(;r&&W8e(r)&&NF(r);)r=aie(r,t);return r&&g0(r)&&NF(r)&&!EV(r)?n:r||Q8e(e)||n}const jje=async function(e){const t=this.getOffsetParent||Dve,n=this.getDimensions,r=await n(e.floating);return{reference:Fje(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Bje(e){return Oc(e).direction==="rtl"}const zje={convertOffsetParentRelativeRectToViewportRelativeRect:Rje,getDocumentElement:Hh,getClippingRect:$je,getOffsetParent:Dve,getElementRects:jje,getClientRects:Ije,getDimensions:Lje,getScale:Rw,isElement:Fi,isRTL:Bje};function Pve(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Uje(e,t){let n=null,r;const i=Hh(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:c,top:d,width:f,height:h}=u;if(a||t(),!f||!h)return;const p=yR(d),m=yR(i.clientWidth-(c+f)),g=yR(i.clientHeight-(d+h)),v=yR(c),x={rootMargin:-p+"px "+-m+"px "+-g+"px "+-v+"px",threshold:Ia(0,Gd(1,l))||1};let E=!0;function _(S){const T=S[0].intersectionRatio;if(T!==l){if(!E)return s();T?s(!1,T):r=setTimeout(()=>{s(!1,1e-7)},1e3)}T===1&&!Pve(u,e.getBoundingClientRect())&&s(),E=!1}try{n=new IntersectionObserver(_,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,x)}n.observe(e)}return s(!0),o}function Hje(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=IV(e),c=i||o?[...u?Wp(u):[],...Wp(t)]:[];c.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const d=u&&a?Uje(u,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let p,m=l?Uv(e):null;l&&g();function g(){const v=Uv(e);m&&!Pve(m,v)&&n(),m=v,p=requestAnimationFrame(g)}return n(),()=>{var v;c.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),d?.(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const qje=_je,Vje=Eje,Wje=bje,Gje=Tje,lie=vje,Yje=xje,Kje=Sje,Xje=(e,t,n)=>{const r=new Map,i={platform:zje,...n},o={...i.platform,_c:r};return yje(e,t,{...i,platform:o})};var Qje=typeof document<"u",Jje=function(){},ND=Qje?A.useLayoutEffect:Jje;function k3(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!k3(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!k3(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Ove(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function uie(e,t){const n=Ove(e);return Math.round(t*n)/n}function MF(e){const t=A.useRef(e);return ND(()=>{t.current=e}),t}function Zje(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=A.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=A.useState(r);k3(f,r)||h(r);const[p,m]=A.useState(null),[g,v]=A.useState(null),y=A.useCallback(W=>{W!==S.current&&(S.current=W,m(W))},[]),x=A.useCallback(W=>{W!==T.current&&(T.current=W,v(W))},[]),E=o||p,_=s||g,S=A.useRef(null),T=A.useRef(null),k=A.useRef(c),R=l!=null,I=MF(l),P=MF(i),N=MF(u),M=A.useCallback(()=>{if(!S.current||!T.current)return;const W={placement:t,strategy:n,middleware:f};P.current&&(W.platform=P.current),Xje(S.current,T.current,W).then(V=>{const z={...V,isPositioned:N.current!==!1};O.current&&!k3(k.current,z)&&(k.current=z,Rd.flushSync(()=>{d(z)}))})},[f,t,n,P,N]);ND(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(W=>({...W,isPositioned:!1})))},[u]);const O=A.useRef(!1);ND(()=>(O.current=!0,()=>{O.current=!1}),[]),ND(()=>{if(E&&(S.current=E),_&&(T.current=_),E&&_){if(I.current)return I.current(E,_,M);M()}},[E,_,M,I,R]);const j=A.useMemo(()=>({reference:S,floating:T,setReference:y,setFloating:x}),[y,x]),U=A.useMemo(()=>({reference:E,floating:_}),[E,_]),q=A.useMemo(()=>{const W={position:n,left:0,top:0};if(!U.floating)return W;const V=uie(U.floating,c.x),z=uie(U.floating,c.y);return a?{...W,transform:"translate("+V+"px, "+z+"px)",...Ove(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:z}},[n,a,U.floating,c.x,c.y]);return A.useMemo(()=>({...c,update:M,refs:j,elements:U,floatingStyles:q}),[c,M,j,U,q])}const e9e=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?lie({element:r.current,padding:i}).fn(n):{}:r?lie({element:r,padding:i}).fn(n):{}}}},Nve=(e,t)=>({...qje(e),options:[e,t]}),DV=(e,t)=>({...Vje(e),options:[e,t]}),cie=(e,t)=>({...Kje(e),options:[e,t]}),A3=(e,t)=>({...Wje(e),options:[e,t]}),t9e=(e,t)=>({...Gje(e),options:[e,t]}),pS=(e,t)=>({...Yje(e),options:[e,t]}),Mve=(e,t)=>({...e9e(e),options:[e,t]});function n9e(e){return A.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const $ve={...J$e},r9e=$ve.useInsertionEffect,i9e=r9e||(e=>e());function Dp(e){const t=A.useRef(()=>{});return i9e(()=>{t.current=e}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var fh=typeof document<"u"?A.useLayoutEffect:A.useEffect;let die=!1,o9e=0;const fie=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+o9e++;function s9e(){const[e,t]=A.useState(()=>die?fie():void 0);return fh(()=>{e==null&&t(fie())},[]),A.useEffect(()=>{die=!0},[]),e}const a9e=$ve.useId,Lve=a9e||s9e;function l9e(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const u9e=A.createContext(null),c9e=A.createContext(null),PV=()=>{var e;return((e=A.useContext(u9e))==null?void 0:e.id)||null},OV=()=>A.useContext(c9e);function NV(e){return"data-floating-ui-"+e}function $F(e){const t=A.useRef(e);return fh(()=>{t.current=e}),t}const hie=NV("safe-polygon");function MD(e,t,n){return n&&!L7(n)?0:typeof e=="number"?e:e?.[t]}function d9e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:s}=e,{enabled:a=!0,delay:l=0,handleClose:u=null,mouseOnly:c=!1,restMs:d=0,move:f=!0}=t,h=OV(),p=PV(),m=$F(u),g=$F(l),v=$F(n),y=A.useRef(),x=A.useRef(-1),E=A.useRef(),_=A.useRef(-1),S=A.useRef(!0),T=A.useRef(!1),k=A.useRef(()=>{}),R=A.useRef(!1),I=A.useCallback(()=>{var q;const W=(q=i.current.openEvent)==null?void 0:q.type;return W?.includes("mouse")&&W!=="mousedown"},[i]);A.useEffect(()=>{if(!a)return;function q(W){let{open:V}=W;V||(clearTimeout(x.current),clearTimeout(_.current),S.current=!0,R.current=!1)}return o.on("openchange",q),()=>{o.off("openchange",q)}},[a,o]),A.useEffect(()=>{if(!a||!m.current||!n)return;function q(V){I()&&r(!1,V,"hover")}const W=cv(s.floating).documentElement;return W.addEventListener("mouseleave",q),()=>{W.removeEventListener("mouseleave",q)}},[s.floating,n,r,a,m,I]);const P=A.useCallback(function(q,W,V){W===void 0&&(W=!0),V===void 0&&(V="hover");const z=MD(g.current,"close",y.current);z&&!E.current?(clearTimeout(x.current),x.current=window.setTimeout(()=>r(!1,q,V),z)):W&&(clearTimeout(x.current),r(!1,q,V))},[g,r]),N=Dp(()=>{k.current(),E.current=void 0}),M=Dp(()=>{if(T.current){const q=cv(s.floating).body;q.style.pointerEvents="",q.removeAttribute(hie),T.current=!1}}),O=Dp(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);A.useEffect(()=>{if(!a)return;function q(L){if(clearTimeout(x.current),S.current=!1,c&&!L7(y.current)||d>0&&!MD(g.current,"open"))return;const H=MD(g.current,"open",y.current);H?x.current=window.setTimeout(()=>{v.current||r(!0,L,"hover")},H):n||r(!0,L,"hover")}function W(L){if(O())return;k.current();const H=cv(s.floating);if(clearTimeout(_.current),R.current=!1,m.current&&i.current.floatingContext){n||clearTimeout(x.current),E.current=m.current({...i.current.floatingContext,tree:h,x:L.clientX,y:L.clientY,onClose(){M(),N(),O()||P(L,!0,"safe-polygon")}});const Y=E.current;H.addEventListener("mousemove",Y),k.current=()=>{H.removeEventListener("mousemove",Y)};return}(y.current!=="touch"||!a2(s.floating,L.relatedTarget))&&P(L)}function V(L){O()||i.current.floatingContext&&(m.current==null||m.current({...i.current.floatingContext,tree:h,x:L.clientX,y:L.clientY,onClose(){M(),N(),O()||P(L)}})(L))}if(Fi(s.domReference)){var z;const L=s.domReference;return n&&L.addEventListener("mouseleave",V),(z=s.floating)==null||z.addEventListener("mouseleave",V),f&&L.addEventListener("mousemove",q,{once:!0}),L.addEventListener("mouseenter",q),L.addEventListener("mouseleave",W),()=>{var H;n&&L.removeEventListener("mouseleave",V),(H=s.floating)==null||H.removeEventListener("mouseleave",V),f&&L.removeEventListener("mousemove",q),L.removeEventListener("mouseenter",q),L.removeEventListener("mouseleave",W)}}},[s,a,e,c,d,f,P,N,M,r,n,v,h,g,m,i,O]),fh(()=>{var q;if(a&&n&&(q=m.current)!=null&&q.__options.blockPointerEvents&&I()){T.current=!0;const V=s.floating;if(Fi(s.domReference)&&V){var W;const z=cv(s.floating).body;z.setAttribute(hie,"");const L=s.domReference,H=h==null||(W=h.nodesRef.current.find(B=>B.id===p))==null||(W=W.context)==null?void 0:W.elements.floating;return H&&(H.style.pointerEvents=""),z.style.pointerEvents="none",L.style.pointerEvents="auto",V.style.pointerEvents="auto",()=>{z.style.pointerEvents="",L.style.pointerEvents="",V.style.pointerEvents=""}}}},[a,n,p,s,h,m,I]),fh(()=>{n||(y.current=void 0,R.current=!1,N(),M())},[n,N,M]),A.useEffect(()=>()=>{N(),clearTimeout(x.current),clearTimeout(_.current),M()},[a,s.domReference,N,M]);const j=A.useMemo(()=>{function q(W){y.current=W.pointerType}return{onPointerDown:q,onPointerEnter:q,onMouseMove(W){const{nativeEvent:V}=W;function z(){!S.current&&!v.current&&r(!0,V,"hover")}c&&!L7(y.current)||n||d===0||R.current&&W.movementX**2+W.movementY**2<2||(clearTimeout(_.current),y.current==="touch"?z():(R.current=!0,_.current=window.setTimeout(z,d)))}}},[c,r,n,v,d]),U=A.useMemo(()=>({onMouseEnter(){clearTimeout(x.current)},onMouseLeave(q){O()||P(q.nativeEvent,!1)}}),[P,O]);return A.useMemo(()=>a?{reference:j,floating:U}:{},[a,j,U])}const B7=()=>{},Fve=A.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:B7,setState:B7,isInstantPhase:!1}),f9e=()=>A.useContext(Fve);function h9e(e){const{children:t,delay:n,timeoutMs:r=0}=e,[i,o]=A.useReducer((l,u)=>({...l,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=A.useRef(null),a=A.useCallback(l=>{o({currentId:l})},[]);return fh(()=>{i.currentId?s.current===null?s.current=i.currentId:i.isInstantPhase||o({isInstantPhase:!0}):(i.isInstantPhase&&o({isInstantPhase:!1}),s.current=null)},[i.currentId,i.isInstantPhase]),A.createElement(Fve.Provider,{value:A.useMemo(()=>({...i,setState:o,setCurrentId:a}),[i,a])},t)}function p9e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{id:o,enabled:s=!0}=t,a=o??i,l=f9e(),{currentId:u,setCurrentId:c,initialDelay:d,setState:f,timeoutMs:h}=l;return fh(()=>{s&&u&&(f({delay:{open:1,close:MD(d,"close")}}),u!==a&&r(!1))},[s,a,r,f,u,d]),fh(()=>{function p(){r(!1),f({delay:d,currentId:null})}if(s&&u&&!n&&u===a){if(h){const m=window.setTimeout(p,h);return()=>{clearTimeout(m)}}p()}},[s,n,f,u,a,r,d,h]),fh(()=>{s&&(c===B7||!n||c(a))},[s,n,c,a]),l}function LF(e,t){let n=e.filter(i=>{var o;return i.parentId===t&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=e.filter(i=>{var o;return(o=r)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const m9e="data-floating-ui-focusable",g9e={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},y9e={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},pie=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)!=null?n:!0}};function v9e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:c=!1,referencePressEvent:d="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:p}=t,m=OV(),g=Dp(typeof l=="function"?l:()=>!1),v=typeof l=="function"?g:l,y=A.useRef(!1),x=A.useRef(!1),{escapeKey:E,outsidePress:_}=pie(h),{escapeKey:S,outsidePress:T}=pie(p),k=A.useRef(!1),R=Dp(j=>{var U;if(!n||!s||!a||j.key!=="Escape"||k.current)return;const q=(U=o.current.floatingContext)==null?void 0:U.nodeId,W=m?LF(m.nodesRef.current,q):[];if(!E&&(j.stopPropagation(),W.length>0)){let V=!0;if(W.forEach(z=>{var L;if((L=z.context)!=null&&L.open&&!z.context.dataRef.current.__escapeKeyBubbles){V=!1;return}}),!V)return}r(!1,rje(j)?j.nativeEvent:j,"escape-key")}),I=Dp(j=>{var U;const q=()=>{var W;R(j),(W=aw(j))==null||W.removeEventListener("keydown",q)};(U=aw(j))==null||U.addEventListener("keydown",q)}),P=Dp(j=>{var U;const q=y.current;y.current=!1;const W=x.current;if(x.current=!1,u==="click"&&W||q||typeof v=="function"&&!v(j))return;const V=aw(j),z="["+NV("inert")+"]",L=cv(i.floating).querySelectorAll(z);let H=Fi(V)?V:null;for(;H&&!g0(H);){const ne=sm(H);if(g0(ne)||!Fi(ne))break;H=ne}if(L.length&&Fi(V)&&!ije(V)&&!a2(V,i.floating)&&Array.from(L).every(ne=>!a2(H,ne)))return;if(Hu(V)&&O){const ne=V.clientWidth>0&&V.scrollWidth>V.clientWidth,ce=V.clientHeight>0&&V.scrollHeight>V.clientHeight;let le=ce&&j.offsetX>V.clientWidth;if(ce&&Oc(V).direction==="rtl"&&(le=j.offsetX<=V.offsetWidth-V.clientWidth),le||ne&&j.offsetY>V.clientHeight)return}const B=(U=o.current.floatingContext)==null?void 0:U.nodeId,Y=m&&LF(m.nodesRef.current,B).some(ne=>{var ce;return OF(j,(ce=ne.context)==null?void 0:ce.elements.floating)});if(OF(j,i.floating)||OF(j,i.domReference)||Y)return;const Q=m?LF(m.nodesRef.current,B):[];if(Q.length>0){let ne=!0;if(Q.forEach(ce=>{var le;if((le=ce.context)!=null&&le.open&&!ce.context.dataRef.current.__outsidePressBubbles){ne=!1;return}}),!ne)return}r(!1,j,"outside-press")}),N=Dp(j=>{var U;const q=()=>{var W;P(j),(W=aw(j))==null||W.removeEventListener(u,q)};(U=aw(j))==null||U.addEventListener(u,q)});A.useEffect(()=>{if(!n||!s)return;o.current.__escapeKeyBubbles=E,o.current.__outsidePressBubbles=_;let j=-1;function U(L){r(!1,L,"ancestor-scroll")}function q(){window.clearTimeout(j),k.current=!0}function W(){j=window.setTimeout(()=>{k.current=!1},k4()?5:0)}const V=cv(i.floating);a&&(V.addEventListener("keydown",S?I:R,S),V.addEventListener("compositionstart",q),V.addEventListener("compositionend",W)),v&&V.addEventListener(u,T?N:P,T);let z=[];return f&&(Fi(i.domReference)&&(z=Wp(i.domReference)),Fi(i.floating)&&(z=z.concat(Wp(i.floating))),!Fi(i.reference)&&i.reference&&i.reference.contextElement&&(z=z.concat(Wp(i.reference.contextElement)))),z=z.filter(L=>{var H;return L!==((H=V.defaultView)==null?void 0:H.visualViewport)}),z.forEach(L=>{L.addEventListener("scroll",U,{passive:!0})}),()=>{a&&(V.removeEventListener("keydown",S?I:R,S),V.removeEventListener("compositionstart",q),V.removeEventListener("compositionend",W)),v&&V.removeEventListener(u,T?N:P,T),z.forEach(L=>{L.removeEventListener("scroll",U)}),window.clearTimeout(j)}},[o,i,a,v,u,n,r,f,s,E,_,R,S,I,P,T,N]),A.useEffect(()=>{y.current=!1},[v,u]);const M=A.useMemo(()=>({onKeyDown:R,[g9e[d]]:j=>{c&&r(!1,j.nativeEvent,"reference-press")}}),[R,r,c,d]),O=A.useMemo(()=>({onKeyDown:R,onMouseDown(){x.current=!0},onMouseUp(){x.current=!0},[y9e[u]]:()=>{y.current=!0}}),[R,u]);return A.useMemo(()=>s?{reference:M,floating:O}:{},[s,M,O])}function b9e(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=Lve(),o=A.useRef({}),[s]=A.useState(()=>l9e()),a=PV()!=null,[l,u]=A.useState(r.reference),c=Dp((h,p,m)=>{o.current.openEvent=h?p:void 0,s.emit("openchange",{open:h,event:p,reason:m,nested:a}),n?.(h,p,m)}),d=A.useMemo(()=>({setPositionReference:u}),[]),f=A.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return A.useMemo(()=>({dataRef:o,open:t,onOpenChange:c,elements:f,events:s,floatingId:i,refs:d}),[t,c,f,s,i,d])}function MV(e){e===void 0&&(e={});const{nodeId:t}=e,n=b9e({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=A.useState(null),[a,l]=A.useState(null),c=i?.domReference||o,d=A.useRef(null),f=OV();fh(()=>{c&&(d.current=c)},[c]);const h=Zje({...e,elements:{...i,...a&&{reference:a}}}),p=A.useCallback(x=>{const E=Fi(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;l(E),h.refs.setReference(E)},[h.refs]),m=A.useCallback(x=>{(Fi(x)||x===null)&&(d.current=x,s(x)),(Fi(h.refs.reference.current)||h.refs.reference.current===null||x!==null&&!Fi(x))&&h.refs.setReference(x)},[h.refs]),g=A.useMemo(()=>({...h.refs,setReference:m,setPositionReference:p,domReference:d}),[h.refs,m,p]),v=A.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),y=A.useMemo(()=>({...h,...r,refs:g,elements:v,nodeId:t}),[h,g,v,t,r]);return fh(()=>{r.dataRef.current.floatingContext=y;const x=f?.nodesRef.current.find(E=>E.id===t);x&&(x.context=y)}),A.useMemo(()=>({...h,context:y,refs:g,elements:v}),[h,g,v,y])}function w9e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:o,elements:s}=e,{enabled:a=!0,visibleOnly:l=!0}=t,u=A.useRef(!1),c=A.useRef(),d=A.useRef(!0);A.useEffect(()=>{if(!a)return;const h=Xl(s.domReference);function p(){!n&&Hu(s.domReference)&&s.domReference===eie(cv(s.domReference))&&(u.current=!0)}function m(){d.current=!0}return h.addEventListener("blur",p),h.addEventListener("keydown",m,!0),()=>{h.removeEventListener("blur",p),h.removeEventListener("keydown",m,!0)}},[s.domReference,n,a]),A.useEffect(()=>{if(!a)return;function h(p){let{reason:m}=p;(m==="reference-press"||m==="escape-key")&&(u.current=!0)}return i.on("openchange",h),()=>{i.off("openchange",h)}},[i,a]),A.useEffect(()=>()=>{clearTimeout(c.current)},[]);const f=A.useMemo(()=>({onPointerDown(h){Z8e(h.nativeEvent)||(d.current=!1)},onMouseLeave(){u.current=!1},onFocus(h){if(u.current)return;const p=aw(h.nativeEvent);if(l&&Fi(p))try{if(eje()&&tje())throw Error();if(!p.matches(":focus-visible"))return}catch{if(!d.current&&!sje(p))return}r(!0,h.nativeEvent,"focus")},onBlur(h){u.current=!1;const p=h.relatedTarget,m=h.nativeEvent,g=Fi(p)&&p.hasAttribute(NV("focus-guard"))&&p.getAttribute("data-type")==="outside";c.current=window.setTimeout(()=>{var v;const y=eie(s.domReference?s.domReference.ownerDocument:document);!p&&y===s.domReference||a2((v=o.current.floatingContext)==null?void 0:v.refs.floating.current,y)||a2(s.domReference,y)||g||r(!1,m,"focus")})}}),[o,s.domReference,r,l]);return A.useMemo(()=>a?{reference:f}:{},[a,f])}const mie="active",gie="selected";function FF(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[mie]:s,[gie]:a,...l}=e;o=l}return{...n==="floating"&&{tabIndex:-1,[m9e]:""},...o,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(l=>{let[u,c]=l;if(!(i&&[mie,gie].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof c=="function"){var d;(d=r.get(u))==null||d.push(c),s[u]=function(){for(var f,h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return(f=r.get(u))==null?void 0:f.map(g=>g(...p)).find(g=>g!==void 0)}}}else s[u]=c}),s),{})}}function x9e(e){e===void 0&&(e=[]);const t=e.map(a=>a?.reference),n=e.map(a=>a?.floating),r=e.map(a=>a?.item),i=A.useCallback(a=>FF(a,e,"reference"),t),o=A.useCallback(a=>FF(a,e,"floating"),n),s=A.useCallback(a=>FF(a,e,"item"),r);return A.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}const C9e=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function _9e(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:i}=e,{enabled:o=!0,role:s="dialog"}=t,a=(n=C9e.get(s))!=null?n:s,l=Lve(),c=PV()!=null,d=A.useMemo(()=>a==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:l},...a==="menu"&&c&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[a,i,c,r,l,s]),f=A.useMemo(()=>{const p={id:i,...a&&{role:a}};return a==="tooltip"||s==="label"?p:{...p,...a==="menu"&&{"aria-labelledby":l}}},[a,i,l,s]),h=A.useCallback(p=>{let{active:m,selected:g}=p;const v={role:"option",...m&&{id:i+"-option"}};switch(s){case"select":return{...v,"aria-selected":m&&g};case"combobox":return{...v,...m&&{"aria-selected":!0}}}return{}},[i,s]);return A.useMemo(()=>o?{reference:d,floating:f,item:h}:{},[o,d,f,h])}const[E9e,qc]=ca("ScrollArea.Root component was not found in tree");function rx(e,t){const n=Lg(t);U0(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const S9e=A.forwardRef((e,t)=>{const{style:n,...r}=e,i=qc(),[o,s]=A.useState(0),[a,l]=A.useState(0),u=!!(o&&a);return rx(i.scrollbarX,()=>{const c=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(c),l(c)}),rx(i.scrollbarY,()=>{const c=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(c),s(c)}),u?b.jsx("div",{...r,ref:t,style:{...n,width:o,height:a}}):null}),T9e=A.forwardRef((e,t)=>{const n=qc(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?b.jsx(S9e,{...e,ref:t}):null}),k9e={scrollHideDelay:1e3,type:"hover"},jve=A.forwardRef((e,t)=>{const n=qe("ScrollAreaRoot",k9e,e),{type:r,scrollHideDelay:i,scrollbars:o,...s}=n,[a,l]=A.useState(null),[u,c]=A.useState(null),[d,f]=A.useState(null),[h,p]=A.useState(null),[m,g]=A.useState(null),[v,y]=A.useState(0),[x,E]=A.useState(0),[_,S]=A.useState(!1),[T,k]=A.useState(!1),R=uo(t,I=>l(I));return b.jsx(E9e,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:_,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:T,onScrollbarYEnabledChange:k,onCornerWidthChange:y,onCornerHeightChange:E},children:b.jsx(De,{...s,ref:R,__vars:{"--sa-corner-width":o!=="xy"?"0px":`${v}px`,"--sa-corner-height":o!=="xy"?"0px":`${x}px`}})})});jve.displayName="@mantine/core/ScrollAreaRoot";function Bve(e,t){const n=e/t;return Number.isNaN(n)?0:n}function I4(e){const t=Bve(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function zve(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function A9e(e,[t,n]){return Math.min(n,Math.max(t,e))}function yie(e,t,n="ltr"){const r=I4(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],u=A9e(e,l);return zve([0,s],[0,a])(u)}function R9e(e,t,n,r="ltr"){const i=I4(n),o=i/2,s=t||o,a=i-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,d=r==="ltr"?[0,c]:[c*-1,0];return zve([l,u],d)(e)}function Uve(e,t){return e>0&&e<t}function qg(e){return e?parseInt(e,10):0}function kv(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e?.(r),(n===!1||!r.defaultPrevented)&&t?.(r)}}const[I9e,Hve]=ca("ScrollAreaScrollbar was not found in tree"),qve=A.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:u,onResize:c,...d}=e,f=qc(),[h,p]=A.useState(null),m=uo(t,k=>p(k)),g=A.useRef(null),v=A.useRef(""),{viewport:y}=f,x=n.content-n.viewport,E=Lg(u),_=Lg(a),S=b4(c,10),T=k=>{if(g.current){const R=k.clientX-g.current.left,I=k.clientY-g.current.top;l({x:R,y:I})}};return A.useEffect(()=>{const k=R=>{const I=R.target;h?.contains(I)&&E(R,x)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[y,h,x,E]),A.useEffect(_,[n,_]),rx(h,S),rx(f.content,S),b.jsx(I9e,{value:{scrollbar:h,hasThumb:r,onThumbChange:Lg(i),onThumbPointerUp:Lg(o),onThumbPositionChange:_,onThumbPointerDown:Lg(s)},children:b.jsx("div",{...d,ref:m,"data-mantine-scrollbar":!0,style:{position:"absolute",...d.style},onPointerDown:kv(e.onPointerDown,k=>{k.preventDefault(),k.button===0&&(k.target.setPointerCapture(k.pointerId),g.current=h.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",T(k))}),onPointerMove:kv(e.onPointerMove,T),onPointerUp:kv(e.onPointerUp,k=>{const R=k.target;R.hasPointerCapture(k.pointerId)&&(k.preventDefault(),R.releasePointerCapture(k.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=v.current,g.current=null}})})}),Vve=A.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...o}=e,s=qc(),[a,l]=A.useState(),u=A.useRef(null),c=uo(t,u,s.onScrollbarXChange);return A.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),b.jsx(qve,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{...i,"--sa-thumb-width":`${I4(n)}px`},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),Uve(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:qg(a.paddingLeft),paddingEnd:qg(a.paddingRight)}})}})});Vve.displayName="@mantine/core/ScrollAreaScrollbarX";const Wve=A.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...o}=e,s=qc(),[a,l]=A.useState(),u=A.useRef(null),c=uo(t,u,s.onScrollbarYChange);return A.useEffect(()=>{u.current&&l(window.getComputedStyle(u.current))},[]),b.jsx(qve,{...o,"data-orientation":"vertical",ref:c,sizes:n,style:{"--sa-thumb-height":`${I4(n)}px`,...i},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),Uve(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:qg(a.paddingTop),paddingEnd:qg(a.paddingBottom)}})}})});Wve.displayName="@mantine/core/ScrollAreaScrollbarY";const D4=A.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:i}=lu(),o=qc(),s=A.useRef(null),a=A.useRef(0),[l,u]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Bve(l.viewport,l.content),d={...r,sizes:l,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:h=>{s.current=h},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:h=>{a.current=h}},f=(h,p)=>R9e(h,a.current,l,p);return n==="horizontal"?b.jsx(Vve,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollLeft,p=yie(h,l,i);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=f(h,i))}}):n==="vertical"?b.jsx(Wve,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollTop,p=yie(h,l);l.scrollbar.size===0?s.current.style.setProperty("--thumb-opacity","0"):s.current.style.setProperty("--thumb-opacity","1"),s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=f(h))}}):null});D4.displayName="@mantine/core/ScrollAreaScrollbarVisible";const $V=A.forwardRef((e,t)=>{const n=qc(),{forceMount:r,...i}=e,[o,s]=A.useState(!1),a=e.orientation==="horizontal",l=b4(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?u:c)}},10);return rx(n.viewport,l),rx(n.content,l),r||o?b.jsx(D4,{"data-state":o?"visible":"hidden",...i,ref:t}):null});$V.displayName="@mantine/core/ScrollAreaScrollbarAuto";const Gve=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=qc(),[o,s]=A.useState(!1);return A.useEffect(()=>{const{scrollArea:a}=i;let l=0;if(a){const u=()=>{window.clearTimeout(l),s(!0)},c=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),n||o?b.jsx($V,{"data-state":o?"visible":"hidden",...r,ref:t}):null});Gve.displayName="@mantine/core/ScrollAreaScrollbarHover";const D9e=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=qc(),o=e.orientation==="horizontal",[s,a]=A.useState("hidden"),l=b4(()=>a("idle"),100);return A.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,i.scrollHideDelay]),A.useEffect(()=>{const{viewport:u}=i,c=o?"scrollLeft":"scrollTop";if(u){let d=u[c];const f=()=>{const h=u[c];d!==h&&(a("scrolling"),l()),d=h};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,o,l]),n||s!=="hidden"?b.jsx(D4,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:kv(e.onPointerEnter,()=>a("interacting")),onPointerLeave:kv(e.onPointerLeave,()=>a("idle"))}):null}),z7=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=qc(),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=e.orientation==="horizontal";return A.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?b.jsx(Gve,{...r,ref:t,forceMount:n}):i.type==="scroll"?b.jsx(D9e,{...r,ref:t,forceMount:n}):i.type==="auto"?b.jsx($V,{...r,ref:t,forceMount:n}):i.type==="always"?b.jsx(D4,{...r,ref:t}):null});z7.displayName="@mantine/core/ScrollAreaScrollbar";function P9e(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function i(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&t(),n=o,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)}const Yve=A.forwardRef((e,t)=>{const{style:n,...r}=e,i=qc(),o=Hve(),{onThumbPositionChange:s}=o,a=uo(t,c=>o.onThumbChange(c)),l=A.useRef(void 0),u=b4(()=>{l.current&&(l.current(),l.current=void 0)},100);return A.useEffect(()=>{const{viewport:c}=i;if(c){const d=()=>{if(u(),!l.current){const f=P9e(c,s);l.current=f,s()}};return s(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[i.viewport,u,s]),b.jsx("div",{"data-state":o.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:kv(e.onPointerDownCapture,c=>{const f=c.target.getBoundingClientRect(),h=c.clientX-f.left,p=c.clientY-f.top;o.onThumbPointerDown({x:h,y:p})}),onPointerUp:kv(e.onPointerUp,o.onThumbPointerUp)})});Yve.displayName="@mantine/core/ScrollAreaThumb";const U7=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Hve();return n||i.hasThumb?b.jsx(Yve,{ref:t,...r}):null});U7.displayName="@mantine/core/ScrollAreaThumb";const Kve=A.forwardRef(({children:e,style:t,...n},r)=>{const i=qc(),o=uo(r,i.onViewportChange);return b.jsx(De,{...n,ref:o,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:b.jsx("div",{style:{minWidth:"100%"},ref:i.onContentChange,children:e})})});Kve.displayName="@mantine/core/ScrollAreaViewport";var LV={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const Xve={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},O9e=(e,{scrollbarSize:t,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":Ye(t),"--scrollarea-over-scroll-behavior":n}}),lm=nt((e,t)=>{const n=qe("ScrollArea",Xve,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,scrollbarSize:l,vars:u,type:c,scrollHideDelay:d,viewportProps:f,viewportRef:h,onScrollPositionChange:p,children:m,offsetScrollbars:g,scrollbars:v,onBottomReached:y,onTopReached:x,overscrollBehavior:E,..._}=n,[S,T]=A.useState(!1),[k,R]=A.useState(!1),[I,P]=A.useState(!1),N=Rt({name:"ScrollArea",props:n,classes:LV,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:O9e}),M=A.useRef(null),O=n9e([h,M]);return A.useEffect(()=>{if(!M.current||g!=="present")return;const j=M.current,U=new ResizeObserver(()=>{const{scrollHeight:q,clientHeight:W,scrollWidth:V,clientWidth:z}=j;R(q>W),P(V>z)});return U.observe(j),()=>U.disconnect()},[M,g]),b.jsxs(jve,{type:c==="never"?"always":c,scrollHideDelay:d,ref:t,scrollbars:v,...N("root"),..._,children:[b.jsx(Kve,{...f,...N("viewport",{style:f?.style}),ref:O,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":v||void 0,"data-horizontal-hidden":g==="present"&&!I?"true":void 0,"data-vertical-hidden":g==="present"&&!k?"true":void 0,onScroll:j=>{f?.onScroll?.(j),p?.({x:j.currentTarget.scrollLeft,y:j.currentTarget.scrollTop});const{scrollTop:U,scrollHeight:q,clientHeight:W}=j.currentTarget;U-(q-W)>=-.6&&y?.(),U===0&&x?.()},children:m}),(v==="xy"||v==="x")&&b.jsx(z7,{...N("scrollbar"),orientation:"horizontal","data-hidden":c==="never"||g==="present"&&!I?!0:void 0,forceMount:!0,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:b.jsx(U7,{...N("thumb")})}),(v==="xy"||v==="y")&&b.jsx(z7,{...N("scrollbar"),orientation:"vertical","data-hidden":c==="never"||g==="present"&&!k?!0:void 0,forceMount:!0,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:b.jsx(U7,{...N("thumb")})}),b.jsx(T9e,{...N("corner"),"data-hovered":S||void 0,"data-hidden":c==="never"||void 0})]})});lm.displayName="@mantine/core/ScrollArea";const FV=nt((e,t)=>{const{children:n,classNames:r,styles:i,scrollbarSize:o,scrollHideDelay:s,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,scrollbars:m,style:g,vars:v,onBottomReached:y,onTopReached:x,...E}=qe("ScrollAreaAutosize",Xve,e);return b.jsx(De,{...E,ref:t,style:[{display:"flex",overflow:"auto"},g],children:b.jsx(De,{style:{display:"flex",flexDirection:"column",flex:1},children:b.jsx(lm,{classNames:r,styles:i,scrollHideDelay:s,scrollbarSize:o,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,vars:v,scrollbars:m,onBottomReached:y,onTopReached:x,children:n})})})});lm.classes=LV;FV.displayName="@mantine/core/ScrollAreaAutosize";FV.classes=LV;lm.Autosize=FV;var Qve={root:"m_87cf2631"};const N9e={__staticSelector:"UnstyledButton"},Ko=zo((e,t)=>{const n=qe("UnstyledButton",N9e,e),{className:r,component:i="button",__staticSelector:o,unstyled:s,classNames:a,styles:l,style:u,...c}=n,d=Rt({name:o,props:n,classes:Qve,className:r,style:u,classNames:a,styles:l,unstyled:s});return b.jsx(De,{...d("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...c})});Ko.classes=Qve;Ko.displayName="@mantine/core/UnstyledButton";var Jve={root:"m_515a97f8"};const M9e={},jV=nt((e,t)=>{const n=qe("VisuallyHidden",M9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,...u}=n,c=Rt({name:"VisuallyHidden",classes:Jve,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a});return b.jsx(De,{component:"span",ref:t,...c("root"),...u})});jV.classes=Jve;jV.displayName="@mantine/core/VisuallyHidden";var Zve={root:"m_1b7284a3"};const $9e={},L9e=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:jr(t),"--paper-shadow":gV(n)}}),Ns=zo((e,t)=>{const n=qe("Paper",$9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,withBorder:l,vars:u,radius:c,shadow:d,variant:f,mod:h,...p}=n,m=Rt({name:"Paper",props:n,classes:Zve,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:L9e});return b.jsx(De,{ref:t,mod:[{"data-with-border":l},h],...m("root"),variant:f,...p})});Ns.classes=Zve;Ns.displayName="@mantine/core/Paper";function ebe(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}function vie(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function bie(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const F9e={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function j9e({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:o,arrowY:s,dir:a}){const[l,u="center"]=e.split("-"),c={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[F9e[l]]:r},d=-t/2;return l==="left"?{...c,...vie(u,s,n,i),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:l==="right"?{...c,...vie(u,s,n,i),left:d,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:l==="top"?{...c,...bie(u,o,n,i,a),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:l==="bottom"?{...c,...bie(u,o,n,i,a),top:d,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const BV=A.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:o,arrowX:s,arrowY:a,style:l,...u},c)=>{const{dir:d}=lu();return o?b.jsx("div",{...u,ref:c,style:{...l,...j9e({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:d,arrowX:s,arrowY:a})}}):null});BV.displayName="@mantine/core/FloatingArrow";var tbe={root:"m_9814e45f"};const B9e={zIndex:au("modal")},z9e=(e,{gradient:t,color:n,backgroundOpacity:r,blur:i,radius:o,zIndex:s})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&Vf(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${Ye(i)})`:void 0,"--overlay-radius":o===void 0?void 0:jr(o),"--overlay-z-index":s?.toString()}}),ix=zo((e,t)=>{const n=qe("Overlay",B9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,fixed:u,center:c,children:d,radius:f,zIndex:h,gradient:p,blur:m,color:g,backgroundOpacity:v,mod:y,...x}=n,E=Rt({name:"Overlay",props:n,classes:tbe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:z9e});return b.jsx(De,{ref:t,...E("root"),mod:[{center:c,fixed:u},y],...x,children:d})});ix.classes=tbe;ix.displayName="@mantine/core/Overlay";function jF(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function U9e({target:e,reuseTargetNode:t,...n}){if(e)return typeof e=="string"?document.querySelector(e)||jF(n):e;if(t){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const i=jF(n);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return jF(n)}const H9e={},nbe=nt((e,t)=>{const{children:n,target:r,reuseTargetNode:i,...o}=qe("Portal",H9e,e),[s,a]=A.useState(!1),l=A.useRef(null);return U0(()=>(a(!0),l.current=U9e({target:r,reuseTargetNode:i,...o}),_3(t,l.current),!r&&!i&&l.current&&document.body.appendChild(l.current),()=>{!r&&!i&&l.current&&document.body.removeChild(l.current)}),[r]),!s||!l.current?null:Rd.createPortal(b.jsx(b.Fragment,{children:n}),l.current)});nbe.displayName="@mantine/core/Portal";const q0=nt(({withinPortal:e=!0,children:t,...n},r)=>dve()==="test"||!e?b.jsx(b.Fragment,{children:t}):b.jsx(nbe,{ref:r,...n,children:t}));q0.displayName="@mantine/core/OptionalPortal";const O_=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),vR={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...O_("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...O_("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...O_("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...O_("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...O_("top"),common:{transformOrigin:"top right"}}},wie={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function q9e({transition:e,state:t,duration:n,timingFunction:r}){const i={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in vR?{transitionProperty:vR[e].transitionProperty,...i,...vR[e].common,...vR[e][wie[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[wie[t]]}}function V9e({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:o,onEntered:s,onExited:a,enterDelay:l,exitDelay:u}){const c=eo(),d=w4(),f=c.respectReducedMotion?d:!1,[h,p]=A.useState(f?0:e),[m,g]=A.useState(r?"entered":"exited"),v=A.useRef(-1),y=A.useRef(-1),x=A.useRef(-1);function E(){window.clearTimeout(v.current),window.clearTimeout(y.current),cancelAnimationFrame(x.current)}const _=T=>{E();const k=T?i:o,R=T?s:a,I=f?0:T?e:t;p(I),I===0?(typeof k=="function"&&k(),typeof R=="function"&&R(),g(T?"entered":"exited")):x.current=requestAnimationFrame(()=>{TE.flushSync(()=>{g(T?"pre-entering":"pre-exiting")}),x.current=requestAnimationFrame(()=>{typeof k=="function"&&k(),g(T?"entering":"exiting"),v.current=window.setTimeout(()=>{typeof R=="function"&&R(),g(T?"entered":"exited")},I)})})},S=T=>{if(E(),typeof(T?l:u)!="number"){_(T);return}y.current=window.setTimeout(()=>{_(T)},T?l:u)};return bl(()=>{S(r)},[r]),A.useEffect(()=>()=>{E()},[]),{transitionDuration:h,transitionStatus:m,transitionTimingFunction:n||"ease"}}function Vc({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:i,children:o,timingFunction:s="ease",onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:f}){const h=dve(),{transitionDuration:p,transitionStatus:m,transitionTimingFunction:g}=V9e({mounted:i,exitDuration:r,duration:n,timingFunction:s,onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:f});return p===0||h==="test"?i?b.jsx(b.Fragment,{children:o({})}):e?o({display:"none"}):null:m==="exited"?e?o({display:"none"}):null:b.jsx(b.Fragment,{children:o(q9e({transition:t,duration:p,state:m,timingFunction:g}))})}Vc.displayName="@mantine/core/Transition";const[W9e,rbe]=ca("Popover component was not found in the tree");function CT({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const i=sFe(t),o=uo(i,r);return km(e)?A.cloneElement(e,{[n]:o}):e}function ibe(e){return b.jsx(jV,{tabIndex:-1,"data-autofocus":!0,...e})}CT.displayName="@mantine/core/FocusTrap";ibe.displayName="@mantine/core/FocusTrapInitialFocus";CT.InitialFocus=ibe;var obe={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const G9e={},zV=nt((e,t)=>{const n=qe("PopoverDropdown",G9e,e),{className:r,style:i,vars:o,children:s,onKeyDownCapture:a,variant:l,classNames:u,styles:c,...d}=n,f=rbe(),h=nve({opened:f.opened,shouldReturnFocus:f.returnFocus}),p=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},m=uo(t,f.floating);return f.disabled?null:b.jsx(q0,{...f.portalProps,withinPortal:f.withinPortal,children:b.jsx(Vc,{mounted:f.opened,...f.transitionProps,transition:f.transitionProps?.transition||"fade",duration:f.transitionProps?.duration??150,keepMounted:f.keepMounted,exitDuration:typeof f.transitionProps?.exitDuration=="number"?f.transitionProps.exitDuration:f.transitionProps?.duration,children:g=>b.jsx(CT,{active:f.trapFocus&&f.opened,innerRef:m,children:b.jsxs(De,{...p,...d,variant:l,onKeyDownCapture:GLe(()=>{f.onClose?.(),f.onDismiss?.()},{active:f.closeOnEscape,onTrigger:h,onKeyDown:a}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:r,props:n,classNames:u,styles:c,style:[{...g,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:Ye(f.width)},f.resolvedStyles.dropdown,c?.dropdown,i]}),children:[s,b.jsx(BV,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:n,classNames:u,styles:c})})]})})})})});zV.classes=obe;zV.displayName="@mantine/core/PopoverDropdown";const Y9e={refProp:"ref",popupType:"dialog"},sbe=nt((e,t)=>{const{children:n,refProp:r,popupType:i,...o}=qe("PopoverTarget",Y9e,e);if(!km(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=o,a=rbe(),l=uo(a.reference,x4(n),t),u=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return A.cloneElement(n,{...s,...u,...a.targetProps,className:Nt(a.targetProps.className,s.className,n.props.className),[r]:l,...a.controlled?null:{onClick:a.onToggle}})});sbe.displayName="@mantine/core/PopoverTarget";function abe({opened:e,floating:t,position:n,positionDependencies:r}){const[i,o]=A.useState(0);A.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return Hje(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,n]),bl(()=>{t.update()},r),bl(()=>{o(s=>s+1)},[e])}function K9e(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function X9e(e,t){const n=K9e(e.middlewares),r=[Nve(e.offset)];return n.shift&&r.push(DV(typeof n.shift=="boolean"?{limiter:cie(),padding:5}:{limiter:cie(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?A3():A3(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?pS():pS(n.inline)),r.push(Mve({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push(t9e({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:o,availableHeight:s,...a}){const u=t().refs.floating.current?.style??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:i,availableWidth:o,availableHeight:s,...a}):Object.assign(u,{maxWidth:`${o}px`,maxHeight:`${s}px`})),e.width==="target"&&Object.assign(u,{width:`${i.reference.width}px`})}})),r}function Q9e(e){const[t,n]=qi({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=A.useRef(t),i=()=>{t&&!e.disabled&&n(!1)},o=()=>!e.disabled&&n(!t),s=MV({strategy:e.strategy,placement:e.position,middleware:X9e(e,()=>s)});return abe({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:s}),bl(()=>{e.onPositionChange?.(s.placement)},[s.placement]),bl(()=>{t!==r.current&&(t?e.onOpen?.():e.onClose?.()),r.current=t},[t,e.onClose,e.onOpen]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:i,onToggle:o}}const J9e={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:au("popover"),__staticSelector:"Popover",width:"max-content"},Z9e=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:jr(t),"--popover-shadow":gV(n)}});function Cr(e){const t=qe("Popover",J9e,e),{children:n,position:r,offset:i,onPositionChange:o,positionDependencies:s,opened:a,transitionProps:l,onExitTransitionEnd:u,onEnterTransitionEnd:c,width:d,middlewares:f,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:g,arrowPosition:v,unstyled:y,classNames:x,styles:E,closeOnClickOutside:_,withinPortal:S,portalProps:T,closeOnEscape:k,clickOutsideEvents:R,trapFocus:I,onClose:P,onDismiss:N,onOpen:M,onChange:O,zIndex:j,radius:U,shadow:q,id:W,defaultOpened:V,__staticSelector:z,withRoles:L,disabled:H,returnFocus:B,variant:Y,keepMounted:Q,vars:ne,floatingStrategy:ce,withOverlay:le,overlayProps:ue,...ae}=t,te=Rt({name:z,props:t,classes:obe,classNames:x,styles:E,unstyled:y,rootSelector:"dropdown",vars:ne,varsResolver:Z9e}),{resolvedStyles:se}=lf({classNames:x,styles:E,props:t}),we=A.useRef(null),[X,he]=A.useState(null),[ge,re]=A.useState(null),{dir:ee}=lu(),fe=Va(W),Re=Q9e({middlewares:f,width:d,position:ebe(ee,r),offset:typeof i=="number"?i+(h?p/2:0):i,arrowRef:we,arrowOffset:m,onPositionChange:o,positionDependencies:s,opened:a,defaultOpened:V,onChange:O,onOpen:M,onClose:P,onDismiss:N,strategy:ce,disabled:H});eve(()=>{_&&(Re.onClose(),N?.())},R,[X,ge]);const Oe=A.useCallback(ke=>{he(ke),Re.floating.refs.setReference(ke)},[Re.floating.refs.setReference]),Ae=A.useCallback(ke=>{re(ke),Re.floating.refs.setFloating(ke)},[Re.floating.refs.setFloating]),Se=A.useCallback(()=>{l?.onExited?.(),u?.()},[l?.onExited,u]),xe=A.useCallback(()=>{l?.onEntered?.(),c?.()},[l?.onEntered,c]);return b.jsxs(W9e,{value:{returnFocus:B,disabled:H,controlled:Re.controlled,reference:Oe,floating:Ae,x:Re.floating.x,y:Re.floating.y,arrowX:Re.floating?.middlewareData?.arrow?.x,arrowY:Re.floating?.middlewareData?.arrow?.y,opened:Re.opened,arrowRef:we,transitionProps:{...l,onExited:Se,onEntered:xe},width:d,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:g,arrowPosition:v,placement:Re.floating.placement,trapFocus:I,withinPortal:S,portalProps:T,zIndex:j,radius:U,shadow:q,closeOnEscape:k,onDismiss:N,onClose:Re.onClose,onToggle:Re.onToggle,getTargetId:()=>`${fe}-target`,getDropdownId:()=>`${fe}-dropdown`,withRoles:L,targetProps:ae,__staticSelector:z,classNames:x,styles:E,unstyled:y,variant:Y,keepMounted:Q,getStyles:te,resolvedStyles:se,floatingStrategy:ce},children:[n,le&&b.jsx(Vc,{transition:"fade",mounted:Re.opened,duration:l?.duration||250,exitDuration:l?.exitDuration||250,children:ke=>b.jsx(q0,{withinPortal:S,children:b.jsx(ix,{...ue,...te("overlay",{className:ue?.className,style:[ke,ue?.style]})})})})]})}Cr.Target=sbe;Cr.Dropdown=zV;Cr.displayName="@mantine/core/Popover";Cr.extend=e=>e;var Dd={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const lbe=A.forwardRef(({className:e,...t},n)=>b.jsxs(De,{component:"span",className:Nt(Dd.barsLoader,e),...t,ref:n,children:[b.jsx("span",{className:Dd.bar}),b.jsx("span",{className:Dd.bar}),b.jsx("span",{className:Dd.bar})]}));lbe.displayName="@mantine/core/Bars";const ube=A.forwardRef(({className:e,...t},n)=>b.jsxs(De,{component:"span",className:Nt(Dd.dotsLoader,e),...t,ref:n,children:[b.jsx("span",{className:Dd.dot}),b.jsx("span",{className:Dd.dot}),b.jsx("span",{className:Dd.dot})]}));ube.displayName="@mantine/core/Dots";const cbe=A.forwardRef(({className:e,...t},n)=>b.jsx(De,{component:"span",className:Nt(Dd.ovalLoader,e),...t,ref:n}));cbe.displayName="@mantine/core/Oval";const dbe={bars:lbe,oval:cbe,dots:ube},eBe={loaders:dbe,type:"oval"},tBe=(e,{size:t,color:n})=>({root:{"--loader-size":hn(t,"loader-size"),"--loader-color":n?qr(n,e):void 0}}),Wc=nt((e,t)=>{const n=qe("Loader",eBe,e),{size:r,color:i,type:o,vars:s,className:a,style:l,classNames:u,styles:c,unstyled:d,loaders:f,variant:h,children:p,...m}=n,g=Rt({name:"Loader",props:n,classes:Dd,className:a,style:l,classNames:u,styles:c,unstyled:d,vars:s,varsResolver:tBe});return p?b.jsx(De,{...g("root"),ref:t,...m,children:p}):b.jsx(De,{...g("root"),ref:t,component:f[o],variant:h,size:r,...m})});Wc.defaultLoaders=dbe;Wc.classes=Dd;Wc.displayName="@mantine/core/Loader";var rC={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const xie={orientation:"horizontal"},nBe=(e,{borderWidth:t})=>({group:{"--ai-border-width":Ye(t)}}),UV=nt((e,t)=>{const n=qe("ActionIconGroup",xie,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=qe("ActionIconGroup",xie,e),p=Rt({name:"ActionIconGroup",props:n,classes:rC,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:nBe,rootSelector:"group"});return b.jsx(De,{...p("group"),ref:t,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});UV.classes=rC;UV.displayName="@mantine/core/ActionIconGroup";const Cie={},rBe=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:o,size:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:o});return{groupSection:{"--section-height":hn(s,"section-height"),"--section-padding-x":hn(s,"section-padding-x"),"--section-fz":lo(s),"--section-radius":t===void 0?void 0:jr(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},HV=nt((e,t)=>{const n=qe("ActionIconGroupSection",Cie,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,variant:u,gradient:c,radius:d,autoContrast:f,...h}=qe("ActionIconGroupSection",Cie,e),p=Rt({name:"ActionIconGroupSection",props:n,classes:rC,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,varsResolver:rBe,rootSelector:"groupSection"});return b.jsx(De,{...p("groupSection"),ref:t,variant:u,...h})});HV.classes=rC;HV.displayName="@mantine/core/ActionIconGroupSection";const iBe={},oBe=(e,{size:t,radius:n,variant:r,gradient:i,color:o,autoContrast:s})=>{const a=e.variantColorResolver({color:o||e.primaryColor,theme:e,gradient:i,variant:r||"filled",autoContrast:s});return{root:{"--ai-size":hn(t,"ai-size"),"--ai-radius":n===void 0?void 0:jr(n),"--ai-bg":o||r?a.background:void 0,"--ai-hover":o||r?a.hover:void 0,"--ai-hover-color":o||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":o||r?a.border:void 0}}},on=zo((e,t)=>{const n=qe("ActionIcon",iBe,e),{className:r,unstyled:i,variant:o,classNames:s,styles:a,style:l,loading:u,loaderProps:c,size:d,color:f,radius:h,__staticSelector:p,gradient:m,vars:g,children:v,disabled:y,"data-disabled":x,autoContrast:E,mod:_,...S}=n,T=Rt({name:["ActionIcon",p],props:n,className:r,style:l,classes:rC,classNames:s,styles:a,unstyled:i,vars:g,varsResolver:oBe});return b.jsxs(Ko,{...T("root",{active:!y&&!u&&!x}),...S,unstyled:i,variant:o,size:d,disabled:y||u,ref:t,mod:[{loading:u,disabled:y||x},_],children:[b.jsx(Vc,{mounted:!!u,transition:"slide-down",duration:150,children:k=>b.jsx(De,{component:"span",...T("loader",{style:k}),"aria-hidden":!0,children:b.jsx(Wc,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...c})})}),b.jsx(De,{component:"span",mod:{loading:u},...T("icon"),children:v})]})});on.classes=rC;on.displayName="@mantine/core/ActionIcon";on.Group=UV;on.GroupSection=HV;const fbe=A.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>b.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:b.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));fbe.displayName="@mantine/core/CloseIcon";var hbe={root:"m_86a44da5","root--subtle":"m_220c80f2"};const sBe={variant:"subtle"},aBe=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":hn(t,"cb-size"),"--cb-radius":n===void 0?void 0:jr(n),"--cb-icon-size":Ye(r)}}),Im=zo((e,t)=>{const n=qe("CloseButton",sBe,e),{iconSize:r,children:i,vars:o,radius:s,className:a,classNames:l,style:u,styles:c,unstyled:d,"data-disabled":f,disabled:h,variant:p,icon:m,mod:g,__staticSelector:v,...y}=n,x=Rt({name:v||"CloseButton",props:n,className:a,style:u,classes:hbe,classNames:l,styles:c,unstyled:d,vars:o,varsResolver:aBe});return b.jsxs(Ko,{ref:t,...y,unstyled:d,variant:p,disabled:h,mod:[{disabled:h||f},g],...x("root",{variant:p,active:!h&&!f}),children:[m||b.jsx(fbe,{}),i]})});Im.classes=hbe;Im.displayName="@mantine/core/CloseButton";function lBe(e){return A.Children.toArray(e).filter(Boolean)}var pbe={root:"m_4081bf90"};const uBe={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},cBe=(e,{grow:t,preventGrowOverflow:n,gap:r,align:i,justify:o,wrap:s},{childWidth:a})=>({root:{"--group-child-width":t&&n?a:void 0,"--group-gap":Di(r),"--group-align":i,"--group-justify":o,"--group-wrap":s}}),ln=nt((e,t)=>{const n=qe("Group",uBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,children:l,gap:u,align:c,justify:d,wrap:f,grow:h,preventGrowOverflow:p,vars:m,variant:g,__size:v,mod:y,...x}=n,E=lBe(l),_=E.length,S=Di(u??"md"),k={childWidth:`calc(${100/_}% - (${S} - ${S} / ${_}))`},R=Rt({name:"Group",props:n,stylesCtx:k,className:i,style:o,classes:pbe,classNames:r,styles:s,unstyled:a,vars:m,varsResolver:cBe});return b.jsx(De,{...R("root"),ref:t,variant:g,mod:[{grow:h},y],size:v,...x,children:E})});ln.classes=pbe;ln.displayName="@mantine/core/Group";const[dBe,Dm]=ca("ModalBase component was not found in tree");function fBe({opened:e,transitionDuration:t}){const[n,r]=A.useState(e),i=A.useRef(-1),s=w4()?0:t;return A.useEffect(()=>(e?(r(!0),window.clearTimeout(i.current)):s===0?r(!1):i.current=window.setTimeout(()=>r(!1),s),()=>window.clearTimeout(i.current)),[e,s]),n}function hBe({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:i,onClose:o,returnFocus:s}){const a=Va(e),[l,u]=A.useState(!1),[c,d]=A.useState(!1),f=typeof t?.duration=="number"?t?.duration:200,h=fBe({opened:n,transitionDuration:f});return sve("keydown",p=>{p.key==="Escape"&&i&&!p.isComposing&&n&&p.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&o()},{capture:!0}),nve({opened:n,shouldReturnFocus:r&&s}),{_id:a,titleMounted:l,bodyMounted:c,shouldLockScroll:h,setTitleMounted:u,setBodyMounted:d}}const mbe=A.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:i,onExitTransitionEnd:o,onEnterTransitionEnd:s,trapFocus:a,closeOnEscape:l,returnFocus:u,closeOnClickOutside:c,withinPortal:d,portalProps:f,lockScroll:h,children:p,zIndex:m,shadow:g,padding:v,__vars:y,unstyled:x,removeScrollProps:E,..._},S)=>{const{_id:T,titleMounted:k,bodyMounted:R,shouldLockScroll:I,setTitleMounted:P,setBodyMounted:N}=hBe({id:r,transitionProps:i,opened:t,trapFocus:a,closeOnEscape:l,onClose:n,returnFocus:u}),{key:M,...O}=E||{};return b.jsx(q0,{...f,withinPortal:d,children:b.jsx(dBe,{value:{opened:t,onClose:n,closeOnClickOutside:c,onExitTransitionEnd:o,onEnterTransitionEnd:s,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${T}-title`,getBodyId:()=>`${T}-body`,titleMounted:k,bodyMounted:R,setTitleMounted:P,setBodyMounted:N,trapFocus:a,closeOnEscape:l,zIndex:m,unstyled:x},children:b.jsx(tx,{enabled:I&&h,...O,children:b.jsx(De,{ref:S,..._,__vars:{...y,"--mb-z-index":(m||au("modal")).toString(),"--mb-shadow":gV(g),"--mb-padding":Di(v)},children:p})},M)})})});mbe.displayName="@mantine/core/ModalBase";function pBe(){const e=Dm();return A.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var ox={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const gbe=A.forwardRef(({className:e,...t},n)=>{const r=pBe(),i=Dm();return b.jsx(De,{ref:n,...t,id:r,className:Nt({[ox.body]:!i.unstyled},e)})});gbe.displayName="@mantine/core/ModalBaseBody";const ybe=A.forwardRef(({className:e,onClick:t,...n},r)=>{const i=Dm();return b.jsx(Im,{ref:r,...n,onClick:o=>{i.onClose(),t?.(o)},className:Nt({[ox.close]:!i.unstyled},e),unstyled:i.unstyled})});ybe.displayName="@mantine/core/ModalBaseCloseButton";const vbe=A.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:i,...o},s)=>{const a=Dm();return b.jsx(Vc,{mounted:a.opened,transition:"pop",...a.transitionProps,onExited:()=>{a.onExitTransitionEnd?.(),a.transitionProps?.onExited?.()},onEntered:()=>{a.onEnterTransitionEnd?.(),a.transitionProps?.onEntered?.()},...e,children:l=>b.jsx("div",{...n,className:Nt({[ox.inner]:!a.unstyled},n.className),children:b.jsx(CT,{active:a.opened&&a.trapFocus,innerRef:s,children:b.jsx(Ns,{...o,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[i,l],className:Nt({[ox.content]:!a.unstyled},t),unstyled:a.unstyled,children:o.children})})})})});vbe.displayName="@mantine/core/ModalBaseContent";const bbe=A.forwardRef(({className:e,...t},n)=>{const r=Dm();return b.jsx(De,{component:"header",ref:n,className:Nt({[ox.header]:!r.unstyled},e),...t})});bbe.displayName="@mantine/core/ModalBaseHeader";const mBe={duration:200,timingFunction:"ease",transition:"fade"};function gBe(e){const t=Dm();return{...mBe,...t.transitionProps,...e}}const wbe=A.forwardRef(({onClick:e,transitionProps:t,style:n,visible:r,...i},o)=>{const s=Dm(),a=gBe(t);return b.jsx(Vc,{mounted:r!==void 0?r:s.opened,...a,transition:"fade",children:l=>b.jsx(ix,{ref:o,fixed:!0,style:[n,l],zIndex:s.zIndex,unstyled:s.unstyled,onClick:u=>{e?.(u),s.closeOnClickOutside&&s.onClose()},...i})})});wbe.displayName="@mantine/core/ModalBaseOverlay";function yBe(){const e=Dm();return A.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const xbe=A.forwardRef(({className:e,...t},n)=>{const r=yBe(),i=Dm();return b.jsx(De,{component:"h2",ref:n,className:Nt({[ox.title]:!i.unstyled},e),...t,id:r})});xbe.displayName="@mantine/core/ModalBaseTitle";function vBe({children:e}){return b.jsx(b.Fragment,{children:e})}const[bBe,wBe]=Am({size:"sm"}),xBe={},Cbe=nt((e,t)=>{const n=qe("InputClearButton",xBe,e),{size:r,variant:i,vars:o,classNames:s,styles:a,...l}=n,u=wBe(),{resolvedClassNames:c,resolvedStyles:d}=lf({classNames:s,styles:a,props:n});return b.jsx(Im,{variant:i||"transparent",ref:t,size:r||u?.size||"sm",classNames:c,styles:d,__staticSelector:"InputClearButton",...l})});Cbe.displayName="@mantine/core/InputClearButton";const[CBe,iC]=Am({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Gc={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const _ie={},_Be=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${lo(t)} - ${Ye(2)})`}}),P4=nt((e,t)=>{const n=qe("InputDescription",_ie,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=qe("InputDescription",_ie,n),p=iC(),m=Rt({name:["InputWrapper",c],props:n,classes:Gc,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"description",vars:l,varsResolver:_Be}),g=d&&p?.getStyles||m;return b.jsx(De,{component:"p",ref:t,variant:f,size:u,...g("description",p?.getStyles?{className:i,style:o}:void 0),...h})});P4.classes=Gc;P4.displayName="@mantine/core/InputDescription";const EBe={},SBe=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${lo(t)} - ${Ye(2)})`}}),O4=nt((e,t)=>{const n=qe("InputError",EBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=n,p=Rt({name:["InputWrapper",c],props:n,classes:Gc,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"error",vars:l,varsResolver:SBe}),m=iC(),g=d&&m?.getStyles||p;return b.jsx(De,{component:"p",ref:t,variant:f,size:u,...g("error",m?.getStyles?{className:i,style:o}:void 0),...h})});O4.classes=Gc;O4.displayName="@mantine/core/InputError";const Eie={labelElement:"label"},TBe=(e,{size:t})=>({label:{"--input-label-size":lo(t),"--input-asterisk-color":void 0}}),N4=nt((e,t)=>{const n=qe("InputLabel",Eie,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,labelElement:u,size:c,required:d,htmlFor:f,onMouseDown:h,children:p,__staticSelector:m,variant:g,mod:v,...y}=qe("InputLabel",Eie,n),x=Rt({name:["InputWrapper",m],props:n,classes:Gc,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"label",vars:l,varsResolver:TBe}),E=iC(),_=E?.getStyles||x;return b.jsxs(De,{..._("label",E?.getStyles?{className:i,style:o}:void 0),component:u,variant:g,size:c,ref:t,htmlFor:u==="label"?f:void 0,mod:[{required:d},v],onMouseDown:S=>{h?.(S),!S.defaultPrevented&&S.detail>1&&S.preventDefault()},...y,children:[p,d&&b.jsx("span",{..._("required"),"aria-hidden":!0,children:" *"})]})});N4.classes=Gc;N4.displayName="@mantine/core/InputLabel";const Sie={},qV=nt((e,t)=>{const n=qe("InputPlaceholder",Sie,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,__staticSelector:u,variant:c,error:d,mod:f,...h}=qe("InputPlaceholder",Sie,n),p=Rt({name:["InputPlaceholder",u],props:n,classes:Gc,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"placeholder"});return b.jsx(De,{...p("placeholder"),mod:[{error:!!d},f],component:"span",variant:c,ref:t,...h})});qV.classes=Gc;qV.displayName="@mantine/core/InputPlaceholder";function kBe(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),i=e.slice(0,r),o=e.slice(r+1),s=t&&i.includes("description")||n&&i.includes("error");return{offsetBottom:t&&o.includes("description")||n&&o.includes("error"),offsetTop:s}}const ABe={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},RBe=(e,{size:t})=>({label:{"--input-label-size":lo(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${lo(t)} - ${Ye(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${lo(t)} - ${Ye(2)})`}}),VV=nt((e,t)=>{const n=qe("InputWrapper",ABe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,variant:c,__staticSelector:d,inputContainer:f,inputWrapperOrder:h,label:p,error:m,description:g,labelProps:v,descriptionProps:y,errorProps:x,labelElement:E,children:_,withAsterisk:S,id:T,required:k,__stylesApiProps:R,mod:I,...P}=n,N=Rt({name:["InputWrapper",d],props:R||n,classes:Gc,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:RBe}),M={size:u,variant:c,__staticSelector:d},O=Va(T),j=typeof S=="boolean"?S:k,U=x?.id||`${O}-error`,q=y?.id||`${O}-description`,W=O,V=!!m&&typeof m!="boolean",z=!!g,L=`${V?U:""} ${z?q:""}`,H=L.trim().length>0?L.trim():void 0,B=v?.id||`${O}-label`,Y=p&&b.jsx(N4,{labelElement:E,id:B,htmlFor:W,required:j,...M,...v,children:p},"label"),Q=z&&b.jsx(P4,{...y,...M,size:y?.size||M.size,id:y?.id||q,children:g},"description"),ne=b.jsx(A.Fragment,{children:f(_)},"input"),ce=V&&A.createElement(O4,{...x,...M,size:x?.size||M.size,key:"error",id:x?.id||U},m),le=h.map(ue=>{switch(ue){case"label":return Y;case"input":return ne;case"description":return Q;case"error":return ce;default:return null}});return b.jsx(CBe,{value:{getStyles:N,describedBy:H,inputId:W,labelId:B,...kBe(h,{hasDescription:z,hasError:V})},children:b.jsx(De,{ref:t,variant:c,size:u,mod:[{error:!!m},I],...N("root"),...P,children:le})})});VV.classes=Gc;VV.displayName="@mantine/core/InputWrapper";const IBe={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},DBe=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":hn(t.size,"input-height"),"--input-fz":lo(t.size),"--input-radius":t.radius===void 0?void 0:jr(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?Ye(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?Ye(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?hn(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Or=zo((e,t)=>{const n=qe("Input",IBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,required:l,__staticSelector:u,__stylesApiProps:c,size:d,wrapperProps:f,error:h,disabled:p,leftSection:m,leftSectionProps:g,leftSectionWidth:v,rightSection:y,rightSectionProps:x,rightSectionWidth:E,rightSectionPointerEvents:_,leftSectionPointerEvents:S,variant:T,vars:k,pointer:R,multiline:I,radius:P,id:N,withAria:M,withErrorStyles:O,mod:j,inputSize:U,__clearSection:q,__clearable:W,__defaultRightSection:V,...z}=n,{styleProps:L,rest:H}=Sb(z),B=iC(),Y={offsetBottom:B?.offsetBottom,offsetTop:B?.offsetTop},Q=Rt({name:["Input",u],props:c||n,classes:Gc,className:i,style:o,classNames:r,styles:s,unstyled:a,stylesCtx:Y,rootSelector:"wrapper",vars:k,varsResolver:DBe}),ne=M?{required:l,disabled:p,"aria-invalid":!!h,"aria-describedby":B?.describedBy,id:B?.inputId||N}:{},ce=y||W&&q||V;return b.jsx(bBe,{value:{size:d||"sm"},children:b.jsxs(De,{...Q("wrapper"),...L,...f,mod:[{error:!!h&&O,pointer:R,disabled:p,multiline:I,"data-with-right-section":!!ce,"data-with-left-section":!!m},j],variant:T,size:d,children:[m&&b.jsx("div",{...g,"data-position":"left",...Q("section",{className:g?.className,style:g?.style}),children:m}),b.jsx(De,{component:"input",...H,...ne,ref:t,required:l,mod:{disabled:p,error:!!h&&O},variant:T,__size:U,...Q("input")}),ce&&b.jsx("div",{...x,"data-position":"right",...Q("section",{className:x?.className,style:x?.style}),children:ce})]})})});Or.classes=Gc;Or.Wrapper=VV;Or.Label=N4;Or.Error=O4;Or.Description=P4;Or.Placeholder=qV;Or.ClearButton=Cbe;Or.displayName="@mantine/core/Input";function WV(e,t,n){const r=qe(e,t,n),{label:i,description:o,error:s,required:a,classNames:l,styles:u,className:c,unstyled:d,__staticSelector:f,__stylesApiProps:h,errorProps:p,labelProps:m,descriptionProps:g,wrapperProps:v,id:y,size:x,style:E,inputContainer:_,inputWrapperOrder:S,withAsterisk:T,variant:k,vars:R,mod:I,...P}=r,{styleProps:N,rest:M}=Sb(P),O={label:i,description:o,error:s,required:a,classNames:l,className:c,__staticSelector:f,__stylesApiProps:h||r,errorProps:p,labelProps:m,descriptionProps:g,unstyled:d,styles:u,size:x,style:E,inputContainer:_,inputWrapperOrder:S,withAsterisk:T,variant:k,id:y,mod:I,...v};return{...M,classNames:l,styles:u,unstyled:d,wrapperProps:{...O,...N},inputProps:{required:a,classNames:l,styles:u,unstyled:d,size:x,__staticSelector:f,__stylesApiProps:h||r,error:s,variant:k,id:y}}}const PBe={__staticSelector:"InputBase",withAria:!0},Sl=zo((e,t)=>{const{inputProps:n,wrapperProps:r,...i}=WV("InputBase",PBe,e);return b.jsx(Or.Wrapper,{...r,children:b.jsx(Or,{...n,...i,ref:t})})});Sl.classes={...Or.classes,...Or.Wrapper.classes};Sl.displayName="@mantine/core/InputBase";const OBe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var _be={root:"m_8bffd616"};const NBe={},lt=zo((e,t)=>{const n=qe("Flex",NBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:p,direction:m,...g}=n,v=Rt({name:"Flex",classes:_be,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l}),y=eo(),x=wT(),E=gve({styleProps:{gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:p,direction:m},theme:y,data:OBe});return b.jsxs(b.Fragment,{children:[E.hasResponsiveStyles&&b.jsx(Eb,{selector:`.${x}`,styles:E.styles,media:E.media}),b.jsx(De,{ref:t,...v("root",{className:x,style:z0(E.inlineStyles)}),...g})]})});lt.classes=_be;lt.displayName="@mantine/core/Flex";function MBe(e,t){if(!t||!e)return!1;let n=t.parentNode;for(;n!=null;){if(n===e)return!0;n=n.parentNode}return!1}function $Be({target:e,parent:t,ref:n,displayAfterTransitionEnd:r}){const i=A.useRef(-1),[o,s]=A.useState(!1),[a,l]=A.useState(typeof r=="boolean"?r:!1),u=()=>{if(!e||!t||!n.current)return;const h=e.getBoundingClientRect(),p=t.getBoundingClientRect(),m=window.getComputedStyle(e),g=window.getComputedStyle(t),v=qg(m.borderTopWidth)+qg(g.borderTopWidth),y=qg(m.borderLeftWidth)+qg(g.borderLeftWidth),x={top:h.top-p.top-v,left:h.left-p.left-y,width:h.width,height:h.height};n.current.style.transform=`translateY(${x.top}px) translateX(${x.left}px)`,n.current.style.width=`${x.width}px`,n.current.style.height=`${x.height}px`},c=()=>{window.clearTimeout(i.current),n.current&&(n.current.style.transitionDuration="0ms"),u(),i.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},d=A.useRef(null),f=A.useRef(null);return A.useEffect(()=>{if(u(),e)return d.current=new ResizeObserver(c),d.current.observe(e),t&&(f.current=new ResizeObserver(c),f.current.observe(t)),()=>{d.current?.disconnect(),f.current?.disconnect()}},[t,e]),A.useEffect(()=>{if(t){const h=p=>{MBe(p.target,t)&&(c(),l(!1))};return t.addEventListener("transitionend",h),()=>{t.removeEventListener("transitionend",h)}}},[t]),vFe(()=>{uve()!=="test"&&s(!0)},20,{autoInvoke:!0}),CFe(h=>{h.forEach(p=>{p.type==="attributes"&&p.attributeName==="dir"&&c()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:o,hidden:a}}var Ebe={root:"m_96b553a6"};const LBe={},FBe=(e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}}),GV=nt((e,t)=>{const n=qe("FloatingIndicator",LBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,target:u,parent:c,transitionDuration:d,mod:f,displayAfterTransitionEnd:h,...p}=n,m=Rt({name:"FloatingIndicator",classes:Ebe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:FBe}),g=A.useRef(null),{initialized:v,hidden:y}=$Be({target:u,parent:c,ref:g,displayAfterTransitionEnd:h}),x=uo(t,g);return!u||!c?null:b.jsx(De,{ref:x,mod:[{initialized:v,hidden:y},f],...m("root"),...p})});GV.displayName="@mantine/core/FloatingIndicator";GV.classes=Ebe;function R3({style:e,size:t=16,...n}){return b.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:Ye(t),height:Ye(t),display:"block"},...n,children:b.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}R3.displayName="@mantine/core/AccordionChevron";var Sbe={root:"m_7f854edf"};const jBe={position:{bottom:0,right:0},zIndex:au("modal"),withinPortal:!0},BBe=(e,{zIndex:t,position:n})=>({root:{"--affix-z-index":t?.toString(),"--affix-top":Di(n?.top),"--affix-left":Di(n?.left),"--affix-bottom":Di(n?.bottom),"--affix-right":Di(n?.right)}}),YV=nt((e,t)=>{const n=qe("Affix",jBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,portalProps:u,zIndex:c,withinPortal:d,position:f,...h}=n,p=Rt({name:"Affix",classes:Sbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:BBe});return b.jsx(q0,{...u,withinPortal:d,children:b.jsx(De,{ref:t,...p("root"),...h})})});YV.classes=Sbe;YV.displayName="@mantine/core/Affix";var Tbe={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const zBe={},UBe=(e,{radius:t,color:n,variant:r,autoContrast:i})=>{const o=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:r||"light",autoContrast:i});return{root:{"--alert-radius":t===void 0?void 0:jr(t),"--alert-bg":n||r?o.background:void 0,"--alert-color":o.color,"--alert-bd":n||r?o.border:void 0}}},ml=nt((e,t)=>{const n=qe("Alert",zBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,radius:u,color:c,title:d,children:f,id:h,icon:p,withCloseButton:m,onClose:g,closeButtonLabel:v,variant:y,autoContrast:x,...E}=n,_=Rt({name:"Alert",classes:Tbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:UBe}),S=Va(h),T=d&&`${S}-title`||void 0,k=`${S}-body`;return b.jsx(De,{id:S,..._("root",{variant:y}),variant:y,ref:t,...E,role:"alert","aria-describedby":k,"aria-labelledby":T,children:b.jsxs("div",{..._("wrapper"),children:[p&&b.jsx("div",{..._("icon"),children:p}),b.jsxs("div",{..._("body"),children:[d&&b.jsx("div",{..._("title"),"data-with-close-button":m||void 0,children:b.jsx("span",{id:T,..._("label"),children:d})}),f&&b.jsx("div",{id:k,..._("message"),"data-variant":y,children:f})]}),m&&b.jsx(Im,{..._("closeButton"),onClick:g,variant:"transparent",size:16,iconSize:16,"aria-label":v,unstyled:a})]})})});ml.classes=Tbe;ml.displayName="@mantine/core/Alert";var kbe={root:"m_b6d8b162"};function HBe(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const qBe={inherit:!1},VBe=(e,{variant:t,lineClamp:n,gradient:r,size:i,color:o})=>({root:{"--text-fz":lo(i),"--text-lh":Zye(i),"--text-gradient":t==="gradient"?P7(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":o?qr(o,e):void 0}}),$e=zo((e,t)=>{const n=qe("Text",qBe,e),{lineClamp:r,truncate:i,inline:o,inherit:s,gradient:a,span:l,__staticSelector:u,vars:c,className:d,style:f,classNames:h,styles:p,unstyled:m,variant:g,mod:v,size:y,...x}=n,E=Rt({name:["Text",u],props:n,classes:kbe,className:d,style:f,classNames:h,styles:p,unstyled:m,vars:c,varsResolver:VBe});return b.jsx(De,{...E("root",{focusable:!0}),ref:t,component:l?"span":"p",variant:g,mod:[{"data-truncate":HBe(i),"data-line-clamp":typeof r=="number","data-inline":o,"data-inherit":s},v],size:y,...x})});$e.classes=kbe;$e.displayName="@mantine/core/Text";var Abe={root:"m_849cf0da"};const WBe={underline:"hover"},V0=zo((e,t)=>{const{underline:n,className:r,unstyled:i,mod:o,...s}=qe("Anchor",WBe,e);return b.jsx($e,{component:"a",ref:t,className:Nt({[Abe.root]:!i},r),...s,mod:[{underline:n},o],__staticSelector:"Anchor",unstyled:i})});V0.classes=Abe;V0.displayName="@mantine/core/Anchor";const[GBe,oC]=ca("AppShell was not found in tree");var W0={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const YBe={},KV=nt((e,t)=>{const n=qe("AppShellAside",YBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=oC();return h.disabled?null:b.jsx(De,{component:"aside",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("aside",{className:i,classNames:r,styles:s,style:o}),...f,__vars:{"--app-shell-aside-z-index":`calc(${c??h.zIndex} + 1)`}})});KV.classes=W0;KV.displayName="@mantine/core/AppShellAside";const KBe={},XV=nt((e,t)=>{const n=qe("AppShellFooter",KBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=oC();return h.disabled?null:b.jsx(De,{component:"footer",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("footer",{className:Nt({[tx.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:s,style:o}),...f,__vars:{"--app-shell-footer-z-index":(c??h.zIndex)?.toString()}})});XV.classes=W0;XV.displayName="@mantine/core/AppShellFooter";const XBe={},QV=nt((e,t)=>{const n=qe("AppShellHeader",XBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=oC();return h.disabled?null:b.jsx(De,{component:"header",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("header",{className:Nt({[tx.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:s,style:o}),...f,__vars:{"--app-shell-header-z-index":(c??h.zIndex)?.toString()}})});QV.classes=W0;QV.displayName="@mantine/core/AppShellHeader";const QBe={},JV=nt((e,t)=>{const n=qe("AppShellMain",QBe,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=oC();return b.jsx(De,{component:"main",ref:t,...u.getStyles("main",{className:i,style:o,classNames:r,styles:s}),...l})});JV.classes=W0;JV.displayName="@mantine/core/AppShellMain";function _T(e){return typeof e=="object"?e.base:e}function ET(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function ST(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function JBe({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:i}){const o=r?.width,s="translateX(var(--app-shell-aside-width))",a="translateX(calc(var(--app-shell-aside-width) * -1))";if(r?.breakpoint&&!r?.collapsed?.mobile&&(n[r?.breakpoint]=n[r?.breakpoint]||{},n[r?.breakpoint]["--app-shell-aside-width"]="100%",n[r?.breakpoint]["--app-shell-aside-offset"]="0px"),ET(o)){const l=Ye(_T(o));e["--app-shell-aside-width"]=l,e["--app-shell-aside-offset"]=l}if(ST(o)&&(typeof o.base<"u"&&(e["--app-shell-aside-width"]=Ye(o.base),e["--app-shell-aside-offset"]=Ye(o.base)),_i(o).forEach(l=>{l!=="base"&&(t[l]=t[l]||{},t[l]["--app-shell-aside-width"]=Ye(o[l]),t[l]["--app-shell-aside-offset"]=Ye(o[l]))})),r?.collapsed?.desktop){const l=r.breakpoint;t[l]=t[l]||{},t[l]["--app-shell-aside-transform"]=s,t[l]["--app-shell-aside-transform-rtl"]=a,t[l]["--app-shell-aside-offset"]="0px !important"}if(r?.collapsed?.mobile){const l=yV(r.breakpoint,i.breakpoints)-.1;n[l]=n[l]||{},n[l]["--app-shell-aside-width"]="100%",n[l]["--app-shell-aside-offset"]="0px",n[l]["--app-shell-aside-transform"]=s,n[l]["--app-shell-aside-transform-rtl"]=a}}function ZBe({baseStyles:e,minMediaStyles:t,footer:n}){const r=n?.height,i="translateY(var(--app-shell-footer-height))",o=n?.offset??!0;if(ET(r)){const s=Ye(_T(r));e["--app-shell-footer-height"]=s,o&&(e["--app-shell-footer-offset"]=s)}ST(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=Ye(r.base),o&&(e["--app-shell-footer-offset"]=Ye(r.base))),_i(r).forEach(s=>{s!=="base"&&(t[s]=t[s]||{},t[s]["--app-shell-footer-height"]=Ye(r[s]),o&&(t[s]["--app-shell-footer-offset"]=Ye(r[s])))})),n?.collapsed&&(e["--app-shell-footer-transform"]=i,e["--app-shell-footer-offset"]="0px !important")}function e7e({baseStyles:e,minMediaStyles:t,header:n}){const r=n?.height,i="translateY(calc(var(--app-shell-header-height) * -1))",o=n?.offset??!0;if(ET(r)){const s=Ye(_T(r));e["--app-shell-header-height"]=s,o&&(e["--app-shell-header-offset"]=s)}ST(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=Ye(r.base),o&&(e["--app-shell-header-offset"]=Ye(r.base))),_i(r).forEach(s=>{s!=="base"&&(t[s]=t[s]||{},t[s]["--app-shell-header-height"]=Ye(r[s]),o&&(t[s]["--app-shell-header-offset"]=Ye(r[s])))})),n?.collapsed&&(e["--app-shell-header-transform"]=i,e["--app-shell-header-offset"]="0px !important")}function t7e({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:i}){const o=r?.width,s="translateX(calc(var(--app-shell-navbar-width) * -1))",a="translateX(var(--app-shell-navbar-width))";if(r?.breakpoint&&!r?.collapsed?.mobile&&(n[r?.breakpoint]=n[r?.breakpoint]||{},n[r?.breakpoint]["--app-shell-navbar-width"]="100%",n[r?.breakpoint]["--app-shell-navbar-offset"]="0px"),ET(o)){const l=Ye(_T(o));e["--app-shell-navbar-width"]=l,e["--app-shell-navbar-offset"]=l}if(ST(o)&&(typeof o.base<"u"&&(e["--app-shell-navbar-width"]=Ye(o.base),e["--app-shell-navbar-offset"]=Ye(o.base)),_i(o).forEach(l=>{l!=="base"&&(t[l]=t[l]||{},t[l]["--app-shell-navbar-width"]=Ye(o[l]),t[l]["--app-shell-navbar-offset"]=Ye(o[l]))})),r?.collapsed?.desktop){const l=r.breakpoint;t[l]=t[l]||{},t[l]["--app-shell-navbar-transform"]=s,t[l]["--app-shell-navbar-transform-rtl"]=a,t[l]["--app-shell-navbar-offset"]="0px !important"}if(r?.collapsed?.mobile){const l=yV(r.breakpoint,i.breakpoints)-.1;n[l]=n[l]||{},n[l]["--app-shell-navbar-width"]="100%",n[l]["--app-shell-navbar-offset"]="0px",n[l]["--app-shell-navbar-transform"]=s,n[l]["--app-shell-navbar-transform-rtl"]=a}}function BF(e){return Number(e)===0?"0px":Di(e)}function n7e({padding:e,baseStyles:t,minMediaStyles:n}){ET(e)&&(t["--app-shell-padding"]=BF(_T(e))),ST(e)&&(e.base&&(t["--app-shell-padding"]=BF(e.base)),_i(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=BF(e[r]))}))}function r7e({navbar:e,header:t,footer:n,aside:r,padding:i,theme:o}){const s={},a={},l={};t7e({baseStyles:l,minMediaStyles:s,maxMediaStyles:a,navbar:e,theme:o}),JBe({baseStyles:l,minMediaStyles:s,maxMediaStyles:a,aside:r,theme:o}),e7e({baseStyles:l,minMediaStyles:s,header:t}),ZBe({baseStyles:l,minMediaStyles:s,footer:n}),n7e({baseStyles:l,minMediaStyles:s,padding:i});const u=i2(_i(s),o.breakpoints).map(f=>({query:`(min-width: ${w3(f.px)})`,styles:s[f.value]})),c=i2(_i(a),o.breakpoints).map(f=>({query:`(max-width: ${w3(f.px)})`,styles:a[f.value]})),d=[...u,...c];return{baseStyles:l,media:d}}function i7e({navbar:e,header:t,aside:n,footer:r,padding:i}){const o=eo(),s=Rm(),{media:a,baseStyles:l}=r7e({navbar:e,header:t,footer:r,aside:n,padding:i,theme:o});return b.jsx(Eb,{media:a,styles:l,selector:s.cssVariablesSelector})}const o7e={},ZV=nt((e,t)=>{const n=qe("AppShellNavbar",o7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=oC();return h.disabled?null:b.jsx(De,{component:"nav",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("navbar",{className:i,classNames:r,styles:s,style:o}),...f,__vars:{"--app-shell-navbar-z-index":`calc(${c??h.zIndex} + 1)`}})});ZV.classes=W0;ZV.displayName="@mantine/core/AppShellNavbar";const s7e={},eW=zo((e,t)=>{const n=qe("AppShellSection",s7e,e),{classNames:r,className:i,style:o,styles:s,vars:a,grow:l,mod:u,...c}=n,d=oC();return b.jsx(De,{ref:t,mod:[{grow:l},u],...d.getStyles("section",{className:i,style:o,classNames:r,styles:s}),...c})});eW.classes=W0;eW.displayName="@mantine/core/AppShellSection";function a7e({transitionDuration:e,disabled:t}){const[n,r]=A.useState(!0),i=A.useRef(-1),o=A.useRef(-1);return sve("resize",()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>A.startTransition(()=>{r(!1)}),200)}),U0(()=>{r(!0),clearTimeout(o.current),o.current=window.setTimeout(()=>A.startTransition(()=>{r(!1)}),e||0)},[t,e]),n}const l7e={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:au("app")},u7e=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),Ri=nt((e,t)=>{const n=qe("AppShell",l7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,navbar:u,withBorder:c,padding:d,transitionDuration:f,transitionTimingFunction:h,header:p,zIndex:m,layout:g,disabled:v,aside:y,footer:x,offsetScrollbars:E=g!=="alt",mod:_,...S}=n,T=Rt({name:"AppShell",classes:W0,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:u7e}),k=a7e({disabled:v,transitionDuration:f});return b.jsxs(GBe,{value:{getStyles:T,withBorder:c,zIndex:m,disabled:v,offsetScrollbars:E},children:[b.jsx(i7e,{navbar:u,header:p,aside:y,footer:x,padding:d}),b.jsx(De,{ref:t,...T("root"),mod:[{resizing:k,layout:g,disabled:v},_],...S})]})});Ri.classes=W0;Ri.displayName="@mantine/core/AppShell";Ri.Navbar=ZV;Ri.Header=QV;Ri.Main=JV;Ri.Aside=KV;Ri.Footer=XV;Ri.Section=eW;function Rbe(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>Rbe(t))}:e}function tW(e){return e?e.map(t=>Rbe(t)):[]}function M4(e){return e.reduce((t,n)=>"group"in n?{...t,...M4(n.items)}:(t[n.value]=n,t),{})}var Zl={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const c7e={error:null},d7e=(e,{size:t,color:n})=>({chevron:{"--combobox-chevron-size":hn(t,"combobox-chevron-size"),"--combobox-chevron-color":n?qr(n,e):void 0}}),nW=nt((e,t)=>{const n=qe("ComboboxChevron",c7e,e),{size:r,error:i,style:o,className:s,classNames:a,styles:l,unstyled:u,vars:c,mod:d,...f}=n,h=Rt({name:"ComboboxChevron",classes:Zl,props:n,style:o,className:s,classNames:a,styles:l,unstyled:u,vars:c,varsResolver:d7e,rootSelector:"chevron"});return b.jsx(De,{component:"svg",...f,...h("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},d],ref:t,children:b.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});nW.classes=Zl;nW.displayName="@mantine/core/ComboboxChevron";const[f7e,Yc]=ca("Combobox component was not found in tree"),Ibe=A.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...i},o)=>b.jsx(Or.ClearButton,{ref:o,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:s=>{s.preventDefault(),t?.(s)},onClick:s=>{r(),n?.(s)}}));Ibe.displayName="@mantine/core/ComboboxClearButton";const h7e={},rW=nt((e,t)=>{const{classNames:n,styles:r,className:i,style:o,hidden:s,...a}=qe("ComboboxDropdown",h7e,e),l=Yc();return b.jsx(Cr.Dropdown,{...a,ref:t,role:"presentation","data-hidden":s||void 0,...l.getStyles("dropdown",{className:i,style:o,classNames:n,styles:r})})});rW.classes=Zl;rW.displayName="@mantine/core/ComboboxDropdown";const p7e={refProp:"ref"},Dbe=nt((e,t)=>{const{children:n,refProp:r}=qe("ComboboxDropdownTarget",p7e,e);if(Yc(),!km(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return b.jsx(Cr.Target,{ref:t,refProp:r,children:n})});Dbe.displayName="@mantine/core/ComboboxDropdownTarget";const m7e={},iW=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=qe("ComboboxEmpty",m7e,e),l=Yc();return b.jsx(De,{ref:t,...l.getStyles("empty",{className:r,classNames:n,styles:o,style:i}),...a})});iW.classes=Zl;iW.displayName="@mantine/core/ComboboxEmpty";function oW({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:o}){const s=Yc(),[a,l]=A.useState(null),u=d=>{if(e?.(d),!s.readOnly&&t){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),s.store.dropdownOpened?l(s.store.selectNextOption()):(s.store.openDropdown("keyboard"),l(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),s.store.dropdownOpened?l(s.store.selectPreviousOption()):(s.store.openDropdown("keyboard"),l(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const f=s.store.getSelectedOptionIndex();s.store.dropdownOpened&&f!==-1?(d.preventDefault(),s.store.clickSelectedOption()):i==="button"&&(d.preventDefault(),s.store.openDropdown("keyboard"))}d.key==="Escape"&&s.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&i==="button"&&(d.preventDefault(),s.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(s.store.listId&&s.store.dropdownOpened)||void 0,"aria-controls":s.store.dropdownOpened?s.store.listId:void 0,"aria-activedescendant":s.store.dropdownOpened&&a||void 0,autoComplete:o,"data-expanded":s.store.dropdownOpened||void 0,"data-mantine-stop-propagation":s.store.dropdownOpened||void 0}:{},onKeyDown:u}}const g7e={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Pbe=nt((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,autoComplete:l,...u}=qe("ComboboxEventsTarget",g7e,e);if(!km(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=Yc(),d=oW({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:l});return A.cloneElement(n,{...d,...u,[r]:uo(t,c.store.targetRef,x4(n))})});Pbe.displayName="@mantine/core/ComboboxEventsTarget";const y7e={},sW=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=qe("ComboboxFooter",y7e,e),l=Yc();return b.jsx(De,{ref:t,...l.getStyles("footer",{className:r,classNames:n,style:i,styles:o}),...a,onMouseDown:u=>{u.preventDefault()}})});sW.classes=Zl;sW.displayName="@mantine/core/ComboboxFooter";const v7e={},aW=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,children:a,label:l,...u}=qe("ComboboxGroup",v7e,e),c=Yc();return b.jsxs(De,{ref:t,...c.getStyles("group",{className:r,classNames:n,style:i,styles:o}),...u,children:[l&&b.jsx("div",{...c.getStyles("groupLabel",{classNames:n,styles:o}),children:l}),a]})});aW.classes=Zl;aW.displayName="@mantine/core/ComboboxGroup";const b7e={},lW=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=qe("ComboboxHeader",b7e,e),l=Yc();return b.jsx(De,{ref:t,...l.getStyles("header",{className:r,classNames:n,style:i,styles:o}),...a,onMouseDown:u=>{u.preventDefault()}})});lW.classes=Zl;lW.displayName="@mantine/core/ComboboxHeader";function Obe({value:e,valuesDivider:t=",",...n}){return b.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}Obe.displayName="@mantine/core/ComboboxHiddenInput";const w7e={},uW=nt((e,t)=>{const n=qe("ComboboxOption",w7e,e),{classNames:r,className:i,style:o,styles:s,vars:a,onClick:l,id:u,active:c,onMouseDown:d,onMouseOver:f,disabled:h,selected:p,mod:m,...g}=n,v=Yc(),y=A.useId(),x=u||y;return b.jsx(De,{...v.getStyles("option",{className:i,classNames:r,styles:s,style:o}),...g,ref:t,id:x,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":h,"combobox-selected":p},m],role:"option",onClick:E=>{h?E.preventDefault():(v.onOptionSubmit?.(n.value,n),l?.(E))},onMouseDown:E=>{E.preventDefault(),d?.(E)},onMouseOver:E=>{v.resetSelectionOnOptionHover&&v.store.resetSelectedOption(),f?.(E)}})});uW.classes=Zl;uW.displayName="@mantine/core/ComboboxOption";const x7e={},cW=nt((e,t)=>{const n=qe("ComboboxOptions",x7e,e),{classNames:r,className:i,style:o,styles:s,id:a,onMouseDown:l,labelledBy:u,...c}=n,d=Yc(),f=Va(a);return A.useEffect(()=>{d.store.setListId(f)},[f]),b.jsx(De,{ref:t,...d.getStyles("options",{className:i,style:o,classNames:r,styles:s}),...c,id:f,role:"listbox","aria-labelledby":u,onMouseDown:h=>{h.preventDefault(),l?.(h)}})});cW.classes=Zl;cW.displayName="@mantine/core/ComboboxOptions";const C7e={withAriaAttributes:!0,withKeyboardNavigation:!0},dW=nt((e,t)=>{const n=qe("ComboboxSearch",C7e,e),{classNames:r,styles:i,unstyled:o,vars:s,withAriaAttributes:a,onKeyDown:l,withKeyboardNavigation:u,size:c,...d}=n,f=Yc(),h=f.getStyles("search"),p=oW({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:u,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return b.jsx(Or,{ref:uo(t,f.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},i],size:c||f.size,...p,...d,__staticSelector:"Combobox"})});dW.classes=Zl;dW.displayName="@mantine/core/ComboboxSearch";const _7e={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Nbe=nt((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,autoComplete:l,...u}=qe("ComboboxTarget",_7e,e);if(!km(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=Yc(),d=oW({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:l}),f=A.cloneElement(n,{...d,...u});return b.jsx(Cr.Target,{ref:uo(t,c.store.targetRef),children:f})});Nbe.displayName="@mantine/core/ComboboxTarget";function E7e(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function S7e(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function T7e(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function TT({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:o=!0,scrollBehavior:s="instant"}={}){const[a,l]=qi({value:t,defaultValue:e,finalValue:!1,onChange:n}),u=A.useRef(null),c=A.useRef(-1),d=A.useRef(null),f=A.useRef(null),h=A.useRef(-1),p=A.useRef(-1),m=A.useRef(-1),g=A.useCallback((U="unknown")=>{a||(l(!0),i?.(U))},[l,i,a]),v=A.useCallback((U="unknown")=>{a&&(l(!1),r?.(U))},[l,r,a]),y=A.useCallback((U="unknown")=>{a?v(U):g(U)},[v,g,a]),x=A.useCallback(()=>{const U=document.querySelector(`#${u.current} [data-combobox-selected]`);U?.removeAttribute("data-combobox-selected"),U?.removeAttribute("aria-selected")},[]),E=A.useCallback(U=>{const W=document.getElementById(u.current)?.querySelectorAll("[data-combobox-option]");if(!W)return null;const V=U>=W.length?0:U<0?W.length-1:U;return c.current=V,W?.[V]&&!W[V].hasAttribute("data-combobox-disabled")?(x(),W[V].setAttribute("data-combobox-selected","true"),W[V].setAttribute("aria-selected","true"),W[V].scrollIntoView({block:"nearest",behavior:s}),W[V].id):null},[s,x]),_=A.useCallback(()=>{const U=document.querySelector(`#${u.current} [data-combobox-active]`);if(U){const q=document.querySelectorAll(`#${u.current} [data-combobox-option]`),W=Array.from(q).findIndex(V=>V===U);return E(W)}return E(0)},[E]),S=A.useCallback(()=>E(S7e(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),o)),[E,o]),T=A.useCallback(()=>E(E7e(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),o)),[E,o]),k=A.useCallback(()=>E(T7e(document.querySelectorAll(`#${u.current} [data-combobox-option]`))),[E]),R=A.useCallback((U="selected",q)=>{m.current=window.setTimeout(()=>{const W=document.querySelectorAll(`#${u.current} [data-combobox-option]`),V=Array.from(W).findIndex(z=>z.hasAttribute(`data-combobox-${U}`));c.current=V,q?.scrollIntoView&&W[V]?.scrollIntoView({block:"nearest",behavior:s})},0)},[]),I=A.useCallback(()=>{c.current=-1,x()},[x]),P=A.useCallback(()=>{document.querySelectorAll(`#${u.current} [data-combobox-option]`)?.[c.current]?.click()},[]),N=A.useCallback(U=>{u.current=U},[]),M=A.useCallback(()=>{h.current=window.setTimeout(()=>d.current.focus(),0)},[]),O=A.useCallback(()=>{p.current=window.setTimeout(()=>f.current.focus(),0)},[]),j=A.useCallback(()=>c.current,[]);return A.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(p.current),window.clearTimeout(m.current)},[]),{dropdownOpened:a,openDropdown:g,closeDropdown:v,toggleDropdown:y,selectedOptionIndex:c.current,getSelectedOptionIndex:j,selectOption:E,selectFirstOption:k,selectActiveOption:_,selectNextOption:S,selectPreviousOption:T,resetSelectedOption:I,updateSelectedOptionIndex:R,listId:u.current,setListId:N,clickSelectedOption:P,searchRef:d,focusSearchInput:M,targetRef:f,focusTarget:O}}const k7e={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},A7e=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":lo(t),"--combobox-option-padding":hn(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:Ye(n),"--combobox-option-fz":lo(t),"--combobox-option-padding":hn(t,"combobox-option-padding")}});function Un(e){const t=qe("Combobox",k7e,e),{classNames:n,styles:r,unstyled:i,children:o,store:s,vars:a,onOptionSubmit:l,onClose:u,size:c,dropdownPadding:d,resetSelectionOnOptionHover:f,__staticSelector:h,readOnly:p,...m}=t,g=TT(),v=s||g,y=Rt({name:h||"Combobox",classes:Zl,props:t,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:A7e}),x=()=>{u?.(),v.closeDropdown()};return b.jsx(f7e,{value:{getStyles:y,store:v,onOptionSubmit:l,size:c,resetSelectionOnOptionHover:f,readOnly:p},children:b.jsx(Cr,{opened:v.dropdownOpened,...m,onChange:E=>!E&&x(),withRoles:!1,unstyled:i,children:o})})}const R7e=e=>e;Un.extend=R7e;Un.classes=Zl;Un.displayName="@mantine/core/Combobox";Un.Target=Nbe;Un.Dropdown=rW;Un.Options=cW;Un.Option=uW;Un.Search=dW;Un.Empty=iW;Un.Chevron=nW;Un.Footer=sW;Un.Header=lW;Un.EventsTarget=Pbe;Un.DropdownTarget=Dbe;Un.Group=aW;Un.ClearButton=Ibe;Un.HiddenInput=Obe;var Mbe={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const $be=Mbe,$4=A.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:i,unstyled:o,children:s,label:a,description:l,id:u,disabled:c,error:d,size:f,labelPosition:h="left",bodyElement:p="div",labelElement:m="label",variant:g,style:v,vars:y,mod:x,...E},_)=>{const S=Rt({name:e,props:t,className:n,style:v,classes:Mbe,classNames:r,styles:i,unstyled:o});return b.jsx(De,{...S("root"),ref:_,__vars:{"--label-fz":lo(f),"--label-lh":hn(f,"label-lh")},mod:[{"label-position":h},x],variant:g,size:f,...E,children:b.jsxs(De,{component:p,htmlFor:p==="label"?u:void 0,...S("body"),children:[s,b.jsxs("div",{...S("labelWrapper"),"data-disabled":c||void 0,children:[a&&b.jsx(De,{component:m,htmlFor:m==="label"?u:void 0,...S("label"),"data-disabled":c||void 0,children:a}),l&&b.jsx(Or.Description,{size:f,__inheritStyles:!1,...S("description"),children:l}),d&&typeof d!="boolean"&&b.jsx(Or.Error,{size:f,__inheritStyles:!1,...S("error"),children:d})]})]})})});$4.displayName="@mantine/core/InlineInput";const Lbe=A.createContext(null),I7e=Lbe.Provider,Fbe=()=>A.useContext(Lbe),[D7e,P7e]=Am();var jbe={card:"m_26775b0a"};const O7e={withBorder:!0},N7e=(e,{radius:t})=>({card:{"--card-radius":jr(t)}}),fW=nt((e,t)=>{const n=qe("CheckboxCard",O7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:f,onClick:h,defaultChecked:p,onChange:m,...g}=n,v=Rt({name:"CheckboxCard",classes:jbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:N7e,rootSelector:"card"}),y=Fbe(),x=typeof u=="boolean"?u:y?y.value.includes(f||""):void 0,[E,_]=qi({value:x,defaultValue:p,finalValue:!1,onChange:m});return b.jsx(D7e,{value:{checked:E},children:b.jsx(Ko,{ref:t,mod:[{"with-border":d,checked:E},c],...v("card"),...g,role:"checkbox","aria-checked":E,onClick:S=>{h?.(S),y?.onChange(f||""),_(!E)}})})});fW.displayName="@mantine/core/CheckboxCard";fW.classes=jbe;function hW({children:e,role:t}){const n=iC();return n?b.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):b.jsx(b.Fragment,{children:e})}const M7e={},pW=nt((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,readOnly:l,...u}=qe("CheckboxGroup",M7e,e),[c,d]=qi({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const p=typeof h=="string"?h:h.currentTarget.value;!l&&d(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return b.jsx(I7e,{value:{value:c,onChange:f,size:o},children:b.jsx(Or.Wrapper,{size:o,ref:t,...s,...u,labelElement:"div",__staticSelector:"CheckboxGroup",children:b.jsx(hW,{role:"group",children:a})})})});pW.classes=Or.Wrapper.classes;pW.displayName="@mantine/core/CheckboxGroup";function mW({size:e,style:t,...n}){const r=e!==void 0?{width:Ye(e),height:Ye(e),...t}:t;return b.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:b.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Bbe({indeterminate:e,...t}){return e?b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:b.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):b.jsx(mW,{...t})}var zbe={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const $7e={icon:Bbe},L7e=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=af({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--checkbox-size":hn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:jr(t),"--checkbox-color":o==="outline"?l:qr(n,e),"--checkbox-icon-color":i?qr(i,e):H0(s,e)?zh({color:n,theme:e,autoContrast:s}):void 0}}},gW=nt((e,t)=>{const n=qe("CheckboxIndicator",$7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,icon:u,indeterminate:c,radius:d,color:f,iconColor:h,autoContrast:p,checked:m,mod:g,variant:v,disabled:y,...x}=n,E=u,_=Rt({name:"CheckboxIndicator",classes:zbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:L7e,rootSelector:"indicator"}),S=P7e(),T=typeof m=="boolean"||typeof c=="boolean"?m||c:S?.checked||!1;return b.jsx(De,{ref:t,..._("indicator",{variant:v}),variant:v,mod:[{checked:T,disabled:y},g],...x,children:b.jsx(E,{indeterminate:c,..._("icon")})})});gW.displayName="@mantine/core/CheckboxIndicator";gW.classes=zbe;var Ube={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const F7e={labelPosition:"right",icon:Bbe},j7e=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=af({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":hn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:jr(t),"--checkbox-color":o==="outline"?l:qr(n,e),"--checkbox-icon-color":i?qr(i,e):H0(s,e)?zh({color:n,theme:e,autoContrast:s}):void 0}}},Pa=nt((e,t)=>{const n=qe("Checkbox",F7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,label:c,id:d,size:f,radius:h,wrapperProps:p,checked:m,labelPosition:g,description:v,error:y,disabled:x,variant:E,indeterminate:_,icon:S,rootRef:T,iconColor:k,onChange:R,autoContrast:I,mod:P,...N}=n,M=Fbe(),O=f||M?.size,j=S,U=Rt({name:"Checkbox",props:n,classes:Ube,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:j7e}),{styleProps:q,rest:W}=Sb(N),V=Va(d),z=M?{checked:M.value.includes(W.value),onChange:B=>{M.onChange(B),R?.(B)}}:{},L=A.useRef(null),H=t||L;return A.useEffect(()=>{H&&"current"in H&&H.current&&(H.current.indeterminate=_||!1)},[_,H]),b.jsx($4,{...U("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:V,size:O,labelPosition:g,label:c,description:v,error:y,disabled:x,classNames:r,styles:s,unstyled:a,"data-checked":z.checked||m||void 0,variant:E,ref:T,mod:P,...q,...p,children:b.jsxs(De,{...U("inner"),mod:{"data-label-position":g},children:[b.jsx(De,{component:"input",id:V,ref:H,checked:m,disabled:x,mod:{error:!!y,indeterminate:_},...U("input",{focusable:!0,variant:E}),onChange:R,...W,...z,type:"checkbox"}),b.jsx(j,{indeterminate:_,...U("icon")})]})})});Pa.classes={...Ube,...$be};Pa.displayName="@mantine/core/Checkbox";Pa.Group=pW;Pa.Indicator=gW;Pa.Card=fW;function sx(e){return"group"in e}function Hbe({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),i=[];for(let o=0;o<e.length;o+=1){const s=e[o];if(i.length===n)return i;sx(s)&&i.push({group:s.group,items:Hbe({options:s.items,search:t,limit:n-i.length})}),sx(s)||s.label.toLowerCase().includes(r)&&i.push(s)}return i}function B7e(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function qbe(e,t=new Set){if(Array.isArray(e))for(const n of e)if(sx(n))qbe(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function z7e(e,t){return Array.isArray(e)?e.includes(t):e===t}function Vbe({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:i,renderOption:o}){if(!sx(e)){const a=z7e(n,e.value),l=t&&a&&b.jsx(mW,{className:Zl.optionsDropdownCheckIcon}),u=b.jsxs(b.Fragment,{children:[r==="left"&&l,b.jsx("span",{children:e.label}),r==="right"&&l]});return b.jsx(Un.Option,{value:e.value,disabled:e.disabled,className:Nt({[Zl.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof o=="function"?o({option:e,checked:a}):u})}const s=e.items.map(a=>b.jsx(Vbe,{data:a,value:n,unstyled:i,withCheckIcon:t,checkIconPosition:r,renderOption:o},a.value));return b.jsx(Un.Group,{label:e.group,children:s})}function yW({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:i,limit:o,maxDropdownHeight:s,withScrollArea:a=!0,filterOptions:l=!0,withCheckIcon:u=!1,value:c,checkIconPosition:d,nothingFoundMessage:f,unstyled:h,labelId:p,renderOption:m,scrollAreaProps:g,"aria-label":v}){qbe(e);const x=typeof i=="string"?(r||Hbe)({options:e,search:l?i:"",limit:o??1/0}):e,E=B7e(x),_=x.map(S=>b.jsx(Vbe,{data:S,withCheckIcon:u,value:c,checkIconPosition:d,unstyled:h,renderOption:m},sx(S)?S.group:S.value));return b.jsx(Un.Dropdown,{hidden:t||n&&E,"data-composed":!0,children:b.jsxs(Un.Options,{labelledBy:p,"aria-label":v,children:[a?b.jsx(lm.Autosize,{mah:s??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...g,children:_}):_,E&&f&&b.jsx(Un.Empty,{children:f})]})})}const U7e={},vW=nt((e,t)=>{const n=qe("Autocomplete",U7e,e),{classNames:r,styles:i,unstyled:o,vars:s,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:p,data:m,value:g,defaultValue:v,selectFirstOptionOnChange:y,onOptionSubmit:x,comboboxProps:E,readOnly:_,disabled:S,filter:T,limit:k,withScrollArea:R,maxDropdownHeight:I,size:P,id:N,renderOption:M,autoComplete:O,scrollAreaProps:j,onClear:U,clearButtonProps:q,error:W,clearable:V,rightSection:z,...L}=n,H=Va(N),B=tW(m),Y=M4(B),[Q,ne]=qi({value:g,defaultValue:v,finalValue:"",onChange:p}),ce=TT({opened:a,defaultOpened:l,onDropdownOpen:c,onDropdownClose:()=>{u?.(),ce.resetSelectedOption()}}),le=se=>{ne(se),ce.resetSelectedOption()},{resolvedClassNames:ue,resolvedStyles:ae}=lf({props:n,styles:i,classNames:r});A.useEffect(()=>{y&&ce.selectFirstOption()},[y,Q]);const te=b.jsx(Un.ClearButton,{...q,onClear:()=>{le(""),U?.()}});return b.jsxs(Un,{store:ce,__staticSelector:"Autocomplete",classNames:ue,styles:ae,unstyled:o,readOnly:_,onOptionSubmit:se=>{x?.(se),le(Y[se].label),ce.closeDropdown()},size:P,...E,children:[b.jsx(Un.Target,{autoComplete:O,children:b.jsx(Sl,{ref:t,...L,size:P,__staticSelector:"Autocomplete",__clearSection:te,__clearable:V&&!!Q&&!S&&!_,rightSection:z,disabled:S,readOnly:_,value:Q,error:W,onChange:se=>{le(se.currentTarget.value),ce.openDropdown(),y&&ce.selectFirstOption()},onFocus:se=>{ce.openDropdown(),d?.(se)},onBlur:se=>{ce.closeDropdown(),f?.(se)},onClick:se=>{ce.openDropdown(),h?.(se)},classNames:ue,styles:ae,unstyled:o,id:H})}),b.jsx(yW,{data:B,hidden:_||S,filter:T,search:Q,limit:k,hiddenWhenEmpty:!0,withScrollArea:R,maxDropdownHeight:I,unstyled:o,labelId:L.label?`${H}-label`:void 0,"aria-label":L.label?void 0:L["aria-label"],renderOption:M,scrollAreaProps:j})]})});vW.classes={...Sl.classes,...Un.classes};vW.displayName="@mantine/core/Autocomplete";var Wbe={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const H7e={},q7e=(e,{radius:t,color:n,gradient:r,variant:i,size:o,autoContrast:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:s});return{root:{"--badge-height":hn(o,"badge-height"),"--badge-padding-x":hn(o,"badge-padding-x"),"--badge-fz":hn(o,"badge-fz"),"--badge-radius":t===void 0?void 0:jr(t),"--badge-bg":n||i?a.background:void 0,"--badge-color":n||i?a.color:void 0,"--badge-bd":n||i?a.border:void 0,"--badge-dot-color":i==="dot"?qr(n,e):void 0}}},Ii=zo((e,t)=>{const n=qe("Badge",H7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,radius:u,color:c,gradient:d,leftSection:f,rightSection:h,children:p,variant:m,fullWidth:g,autoContrast:v,circle:y,mod:x,...E}=n,_=Rt({name:"Badge",props:n,classes:Wbe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:q7e});return b.jsxs(De,{variant:m,mod:[{block:g,circle:y,"with-right-section":!!h,"with-left-section":!!f},x],..._("root",{variant:m}),ref:t,...E,children:[f&&b.jsx("span",{..._("section"),"data-position":"left",children:f}),b.jsx("span",{..._("label"),children:p}),h&&b.jsx("span",{..._("section"),"data-position":"right",children:h})]})});Ii.classes=Wbe;Ii.displayName="@mantine/core/Badge";var sC={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const Tie={orientation:"horizontal"},V7e=(e,{borderWidth:t})=>({group:{"--button-border-width":Ye(t)}}),bW=nt((e,t)=>{const n=qe("ButtonGroup",Tie,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=qe("ButtonGroup",Tie,e),p=Rt({name:"ButtonGroup",props:n,classes:sC,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:V7e,rootSelector:"group"});return b.jsx(De,{...p("group"),ref:t,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});bW.classes=sC;bW.displayName="@mantine/core/ButtonGroup";const kie={},W7e=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:o,size:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:o});return{groupSection:{"--section-height":hn(s,"section-height"),"--section-padding-x":hn(s,"section-padding-x"),"--section-fz":s?.includes("compact")?lo(s.replace("compact-","")):lo(s),"--section-radius":t===void 0?void 0:jr(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},wW=nt((e,t)=>{const n=qe("ButtonGroupSection",kie,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,variant:u,gradient:c,radius:d,autoContrast:f,...h}=qe("ButtonGroupSection",kie,e),p=Rt({name:"ButtonGroupSection",props:n,classes:sC,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,varsResolver:W7e,rootSelector:"groupSection"});return b.jsx(De,{...p("groupSection"),ref:t,variant:u,...h})});wW.classes=sC;wW.displayName="@mantine/core/ButtonGroupSection";const G7e={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Ye(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},Y7e={},K7e=(e,{radius:t,color:n,gradient:r,variant:i,size:o,justify:s,autoContrast:a})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":s,"--button-height":hn(o,"button-height"),"--button-padding-x":hn(o,"button-padding-x"),"--button-fz":o?.includes("compact")?lo(o.replace("compact-","")):lo(o),"--button-radius":t===void 0?void 0:jr(t),"--button-bg":n||i?l.background:void 0,"--button-hover":n||i?l.hover:void 0,"--button-color":l.color,"--button-bd":n||i?l.border:void 0,"--button-hover-color":n||i?l.hoverColor:void 0}}},Mt=zo((e,t)=>{const n=qe("Button",Y7e,e),{style:r,vars:i,className:o,color:s,disabled:a,children:l,leftSection:u,rightSection:c,fullWidth:d,variant:f,radius:h,loading:p,loaderProps:m,gradient:g,classNames:v,styles:y,unstyled:x,"data-disabled":E,autoContrast:_,mod:S,...T}=n,k=Rt({name:"Button",props:n,classes:sC,className:o,style:r,classNames:v,styles:y,unstyled:x,vars:i,varsResolver:K7e}),R=!!u,I=!!c;return b.jsxs(Ko,{ref:t,...k("root",{active:!a&&!p&&!E}),unstyled:x,variant:f,disabled:a||p,mod:[{disabled:a||E,loading:p,block:d,"with-left-section":R,"with-right-section":I},S],...T,children:[b.jsx(Vc,{mounted:!!p,transition:G7e,duration:150,children:P=>b.jsx(De,{component:"span",...k("loader",{style:P}),"aria-hidden":!0,children:b.jsx(Wc,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...m})})}),b.jsxs("span",{...k("inner"),children:[u&&b.jsx(De,{component:"span",...k("section"),mod:{position:"left"},children:u}),b.jsx(De,{component:"span",mod:{loading:p},...k("label"),children:l}),c&&b.jsx(De,{component:"span",...k("section"),mod:{position:"right"},children:c})]})]})});Mt.classes=sC;Mt.displayName="@mantine/core/Button";Mt.Group=bW;Mt.GroupSection=wW;const[X7e,Q7e]=ca("Card component was not found in tree");var xW={root:"m_e615b15f",section:"m_599a2148"};const J7e={},L4=zo((e,t)=>{const n=qe("CardSection",J7e,e),{classNames:r,className:i,style:o,styles:s,vars:a,withBorder:l,inheritPadding:u,mod:c,...d}=n,f=Q7e();return b.jsx(De,{ref:t,mod:[{"with-border":l,"inherit-padding":u},c],...f.getStyles("section",{className:i,style:o,styles:s,classNames:r}),...d})});L4.classes=xW;L4.displayName="@mantine/core/CardSection";const Z7e={},eze=(e,{padding:t})=>({root:{"--card-padding":Di(t)}}),Zs=zo((e,t)=>{const n=qe("Card",Z7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,padding:c,...d}=n,f=Rt({name:"Card",props:n,classes:xW,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:eze}),h=A.Children.toArray(u),p=h.map((m,g)=>typeof m=="object"&&m&&"type"in m&&m.type===L4?A.cloneElement(m,{"data-first-section":g===0||void 0,"data-last-section":g===h.length-1||void 0}):m);return b.jsx(X7e,{value:{getStyles:f},children:b.jsx(Ns,{ref:t,unstyled:a,...f("root"),...d,children:p})})});Zs.classes=xW;Zs.displayName="@mantine/core/Card";Zs.Section=L4;var Gbe={root:"m_4451eb3a"};const tze={},Ha=zo((e,t)=>{const n=qe("Center",tze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,inline:u,mod:c,...d}=n,f=Rt({name:"Center",props:n,classes:Gbe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l});return b.jsx(De,{ref:t,mod:[{inline:u},c],...f("root"),...d})});Ha.classes=Gbe;Ha.displayName="@mantine/core/Center";var Ybe={root:"m_b183c0a2"};const nze={},rze=(e,{color:t})=>({root:{"--code-bg":t?qr(t,e):void 0}}),Ru=nt((e,t)=>{const n=qe("Code",nze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,block:c,variant:d,mod:f,...h}=n,p=Rt({name:"Code",props:n,classes:Ybe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:rze});return b.jsx(De,{component:c?"pre":"code",variant:d,ref:t,mod:[{block:c},f],...p("root"),...h,dir:"ltr"})});Ru.classes=Ybe;Ru.displayName="@mantine/core/Code";var Kbe={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const Aie={withShadow:!0},ize=(e,{radius:t,size:n})=>({root:{"--cs-radius":t===void 0?void 0:jr(t),"--cs-size":Ye(n)}}),Sh=zo((e,t)=>{const n=qe("ColorSwatch",Aie,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,size:c,radius:d,withShadow:f,children:h,variant:p,...m}=qe("ColorSwatch",Aie,n),g=Rt({name:"ColorSwatch",props:n,classes:Kbe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:ize});return b.jsxs(De,{ref:t,variant:p,size:c,...g("root",{focusable:!0}),...m,children:[b.jsx("span",{...g("alphaOverlay")}),f&&b.jsx("span",{...g("shadowOverlay")}),b.jsx("span",{...g("colorOverlay",{style:{backgroundColor:u}})}),b.jsx("span",{...g("childrenOverlay"),children:h})]})});Sh.classes=Kbe;Sh.displayName="@mantine/core/ColorSwatch";const[oze,CW]=Am(null),_W=A.forwardRef(({position:e,...t},n)=>b.jsx(De,{ref:n,__vars:{"--thumb-y-offset":`${e.y*100}%`,"--thumb-x-offset":`${e.x*100}%`},...t}));_W.displayName="@mantine/core/ColorPickerThumb";var EW={wrapper:"m_fee9c77",preview:"m_9dddfbac",body:"m_bffecc3e",sliders:"m_3283bb96",thumb:"m_40d572ba",swatch:"m_d8ee6fd8",swatches:"m_5711e686",saturation:"m_202a296e",saturationOverlay:"m_11b3db02",slider:"m_d856d47d",sliderOverlay:"m_8f327113"};const sze={},SW=nt((e,t)=>{const n=qe("ColorSlider",sze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,onChange:u,onChangeEnd:c,maxValue:d,round:f,size:h="md",focusable:p=!0,value:m,overlays:g,thumbColor:v="transparent",onScrubStart:y,onScrubEnd:x,__staticSelector:E="ColorPicker",..._}=n,S=Rt({name:E,classes:EW,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a}),k=CW()?.getStyles||S,R=eo(),[I,P]=A.useState({y:0,x:m/d}),N=A.useRef(I),M=W=>f?Math.round(W*d):W*d,{ref:O}=bT(({x:W,y:V})=>{N.current={x:W,y:V},u?.(M(W))},{onScrubEnd:()=>{const{x:W}=N.current;c?.(M(W)),x?.()},onScrubStart:y});bl(()=>{P({y:0,x:m/d})},[m]);const j=(W,V)=>{W.preventDefault();const z=lve(V);u?.(M(z.x)),c?.(M(z.x))},U=W=>{switch(W.key){case"ArrowRight":{j(W,{x:I.x+.05,y:I.y});break}case"ArrowLeft":{j(W,{x:I.x-.05,y:I.y});break}}},q=g.map((W,V)=>A.createElement("div",{...k("sliderOverlay"),style:W,key:V}));return b.jsxs(De,{..._,ref:uo(O,t),...k("slider"),role:"slider","aria-valuenow":m,"aria-valuemax":d,"aria-valuemin":0,tabIndex:p?0:-1,onKeyDown:U,"data-focus-ring":R.focusRing,__vars:{"--cp-thumb-size":`var(--cp-thumb-size-${h})`},children:[q,b.jsx(_W,{position:I,...k("thumb",{style:{top:Ye(1),background:v}})})]})});SW.displayName="@mantine/core/ColorSlider";function Cc(e,t=0,n=10**t){return Math.round(n*e)/n}function aze({h:e,s:t,l:n,a:r}){const i=t*((n<50?n:100-n)/100);return{h:e,s:i>0?2*i/(n+i)*100:0,v:n+i,a:r}}const lze={grad:360/400,turn:360,rad:360/(Math.PI*2)};function uze(e,t="deg"){return Number(e)*(lze[t]||1)}const cze=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function Rie(e){const t=cze.exec(e);return t?aze({h:uze(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}}function H7({r:e,g:t,b:n,a:r}){const i=Math.max(e,t,n),o=i-Math.min(e,t,n),s=o?i===e?(t-n)/o:i===t?2+(n-e)/o:4+(e-t)/o:0;return{h:Cc(60*(s<0?s+6:s),3),s:Cc(i?o/i*100:0,3),v:Cc(i/255*100,3),a:r}}function q7(e){const t=e[0]==="#"?e.slice(1):e;return t.length===3?H7({r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}):H7({r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:1})}function dze(e){const t=e[0]==="#"?e.slice(1):e,n=s=>Cc(parseInt(s,16)/255,3);if(t.length===4){const s=t.slice(0,3),a=n(t[3]+t[3]);return{...q7(s),a}}const r=t.slice(0,6),i=n(t.slice(6,8));return{...q7(r),a:i}}const fze=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function Iie(e){const t=fze.exec(e);return t?H7({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}}const Xbe={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},hze={hex:q7,hexa:dze,rgb:Iie,rgba:Iie,hsl:Rie,hsla:Rie};function kE(e){for(const[,t]of Object.entries(Xbe))if(t.test(e))return!0;return!1}function dv(e){if(typeof e!="string")return{h:0,s:0,v:0,a:1};if(e==="transparent")return{h:0,s:0,v:0,a:0};const t=e.trim();for(const[n,r]of Object.entries(Xbe))if(r.test(t))return hze[n](t);return{h:0,s:0,v:0,a:1}}const pze={},Qbe=A.forwardRef((e,t)=>{const{value:n,onChange:r,onChangeEnd:i,color:o,...s}=qe("AlphaSlider",pze,e);return b.jsx(SW,{...s,ref:t,value:n,onChange:a=>r?.(Cc(a,2)),onChangeEnd:a=>i?.(Cc(a,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--slider-checkers) 75%)",backgroundSize:`${Ye(8)} ${Ye(8)}`,backgroundPosition:`0 0, 0 ${Ye(4)}, ${Ye(4)} ${Ye(-4)}, ${Ye(-4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${o})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${Ye(1)} inset, rgb(0, 0, 0, .15) 0 0 ${Ye(4)} inset`}]})});Qbe.displayName="@mantine/core/AlphaSlider";function Jbe({h:e,s:t,v:n,a:r}){const i=e/360*6,o=t/100,s=n/100,a=Math.floor(i),l=s*(1-o),u=s*(1-(i-a)*o),c=s*(1-(1-i+a)*o),d=a%6;return{r:Cc([s,u,l,l,c,s][d]*255),g:Cc([c,s,s,u,l,l][d]*255),b:Cc([l,l,c,s,s,u][d]*255),a:Cc(r,2)}}function Die(e,t){const{r:n,g:r,b:i,a:o}=Jbe(e);return t?`rgba(${n}, ${r}, ${i}, ${Cc(o,2)})`:`rgb(${n}, ${r}, ${i})`}function Pie({h:e,s:t,v:n,a:r},i){const o=(200-t)*n/100,s={h:Math.round(e),s:Math.round(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Math.round(o/2)};return i?`hsla(${s.h}, ${s.s}%, ${s.l}%, ${Cc(r,2)})`:`hsl(${s.h}, ${s.s}%, ${s.l}%)`}function $D(e){const t=e.toString(16);return t.length<2?`0${t}`:t}function Zbe(e){const{r:t,g:n,b:r}=Jbe(e);return`#${$D(t)}${$D(n)}${$D(r)}`}function mze(e){const t=Math.round(e.a*255);return`${Zbe(e)}${$D(t)}`}const zF={hex:Zbe,hexa:e=>mze(e),rgb:e=>Die(e,!1),rgba:e=>Die(e,!0),hsl:e=>Pie(e,!1),hsla:e=>Pie(e,!0)};function yd(e,t){return t?e in zF?zF[e](t):zF.hex(t):"#000000"}const e1e=A.forwardRef((e,t)=>{const{value:n,onChange:r,onChangeEnd:i,color:o,...s}=qe("HueSlider",{},e);return b.jsx(SW,{...s,ref:t,value:n,onChange:r,onChangeEnd:i,maxValue:360,thumbColor:`hsl(${n}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${Ye(1)} inset, rgb(0, 0, 0, .15) 0 0 ${Ye(4)} inset`}]})});e1e.displayName="@mantine/core/HueSlider";function t1e({className:e,onChange:t,onChangeEnd:n,value:r,saturationLabel:i,focusable:o=!0,size:s,color:a,onScrubStart:l,onScrubEnd:u,...c}){const{getStyles:d}=CW(),[f,h]=A.useState({x:r.s/100,y:1-r.v/100}),p=A.useRef(f),{ref:m}=bT(({x:y,y:x})=>{p.current={x:y,y:x},t({s:Math.round(y*100),v:Math.round((1-x)*100)})},{onScrubEnd:()=>{const{x:y,y:x}=p.current;n({s:Math.round(y*100),v:Math.round((1-x)*100)}),u?.()},onScrubStart:l});A.useEffect(()=>{h({x:r.s/100,y:1-r.v/100})},[r.s,r.v]);const g=(y,x)=>{y.preventDefault();const E=lve(x);t({s:Math.round(E.x*100),v:Math.round((1-E.y)*100)}),n({s:Math.round(E.x*100),v:Math.round((1-E.y)*100)})},v=y=>{switch(y.key){case"ArrowUp":{g(y,{y:f.y-.05,x:f.x});break}case"ArrowDown":{g(y,{y:f.y+.05,x:f.x});break}case"ArrowRight":{g(y,{x:f.x+.05,y:f.y});break}case"ArrowLeft":{g(y,{x:f.x-.05,y:f.y});break}}};return b.jsxs(De,{...d("saturation"),ref:m,...c,role:"slider","aria-label":i,"aria-valuenow":f.x,"aria-valuetext":yd("rgba",r),tabIndex:o?0:-1,onKeyDown:v,children:[b.jsx("div",{...d("saturationOverlay",{style:{backgroundColor:`hsl(${r.h}, 100%, 50%)`}})}),b.jsx("div",{...d("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),b.jsx("div",{...d("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),b.jsx(_W,{position:f,...d("thumb",{style:{backgroundColor:a}})})]})}t1e.displayName="@mantine/core/Saturation";const n1e=A.forwardRef(({className:e,datatype:t,setValue:n,onChangeEnd:r,size:i,focusable:o,data:s,swatchesPerRow:a,...l},u)=>{const c=CW(),d=s.map((f,h)=>A.createElement(Sh,{...c.getStyles("swatch"),unstyled:c.unstyled,component:"button",type:"button",color:f,key:h,radius:"sm",onClick:()=>{n(f),r?.(f)},"aria-label":f,tabIndex:o?0:-1,"data-swatch":!0}));return b.jsx(De,{...c.getStyles("swatches"),ref:u,...l,children:d})});n1e.displayName="@mantine/core/Swatches";const gze={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},yze=(e,{size:t,swatchesPerRow:n})=>({wrapper:{"--cp-preview-size":hn(t,"cp-preview-size"),"--cp-width":hn(t,"cp-width"),"--cp-body-spacing":Di(t),"--cp-swatch-size":`${100/n}%`,"--cp-thumb-size":hn(t,"cp-thumb-size"),"--cp-saturation-height":hn(t,"cp-saturation-height")}}),F4=nt((e,t)=>{const n=qe("ColorPicker",gze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,format:u,value:c,defaultValue:d,onChange:f,onChangeEnd:h,withPicker:p,size:m,saturationLabel:g,hueLabel:v,alphaLabel:y,focusable:x,swatches:E,swatchesPerRow:_,fullWidth:S,onColorSwatchClick:T,__staticSelector:k,mod:R,...I}=n,P=Rt({name:k,props:n,classes:EW,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"wrapper",vars:l,varsResolver:yze}),N=A.useRef(u),M=A.useRef(""),O=A.useRef(-1),j=A.useRef(!1),U=u==="hexa"||u==="rgba"||u==="hsla",[q,W,V]=qi({value:c,defaultValue:d,finalValue:"#FFFFFF",onChange:f}),[z,L]=A.useState(dv(q)),H=()=>{window.clearTimeout(O.current),j.current=!0},B=()=>{window.clearTimeout(O.current),O.current=window.setTimeout(()=>{j.current=!1},200)},Y=Q=>{L(ne=>{const ce={...ne,...Q};return M.current=yd(N.current,ce),ce}),W(M.current)};return bl(()=>{kE(c)&&!j.current&&L(dv(c))},[c]),bl(()=>{N.current=u,W(yd(u,z))},[u]),b.jsx(oze,{value:{getStyles:P,unstyled:a},children:b.jsxs(De,{ref:t,...P("wrapper"),size:m,mod:[{"full-width":S},R],...I,children:[p&&b.jsxs(b.Fragment,{children:[b.jsx(t1e,{value:z,onChange:Y,onChangeEnd:({s:Q,v:ne})=>h?.(yd(N.current,{...z,s:Q,v:ne})),color:q,size:m,focusable:x,saturationLabel:g,onScrubStart:H,onScrubEnd:B}),b.jsxs("div",{...P("body"),children:[b.jsxs("div",{...P("sliders"),children:[b.jsx(e1e,{value:z.h,onChange:Q=>Y({h:Q}),onChangeEnd:Q=>h?.(yd(N.current,{...z,h:Q})),size:m,focusable:x,"aria-label":v,onScrubStart:H,onScrubEnd:B}),U&&b.jsx(Qbe,{value:z.a,onChange:Q=>Y({a:Q}),onChangeEnd:Q=>{h?.(yd(N.current,{...z,a:Q}))},size:m,color:yd("hex",z),focusable:x,"aria-label":y,onScrubStart:H,onScrubEnd:B})]}),U&&b.jsx(Sh,{color:q,radius:"sm",size:"var(--cp-preview-size)",...P("preview")})]})]}),Array.isArray(E)&&b.jsx(n1e,{data:E,swatchesPerRow:_,focusable:x,setValue:W,onChangeEnd:Q=>{const ne=yd(u,dv(Q));T?.(ne),h?.(ne),V||L(dv(Q))}})]})})});F4.classes=EW;F4.displayName="@mantine/core/ColorPicker";function vze({style:e,...t}){return b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--ci-eye-dropper-icon-size)",height:"var(--ci-eye-dropper-icon-size)",...e},viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M11 7l6 6"}),b.jsx("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]})}var Oie={eyeDropperIcon:"m_b077c2bc",colorPreview:"m_c5ccdcab",dropdown:"m_5ece2cd7"};const Nie={format:"hex",fixOnBlur:!0,withPreview:!0,swatchesPerRow:7,withPicker:!0,popoverProps:{transitionProps:{transition:"fade",duration:0}},withEyeDropper:!0},bze=(e,{size:t})=>({eyeDropperIcon:{"--ci-eye-dropper-icon-size":hn(t,"ci-eye-dropper-icon-size")},colorPreview:{"--ci-preview-size":hn(t,"ci-preview-size")}}),I3=nt((e,t)=>{const n=qe("ColorInput",Nie,e),{classNames:r,styles:i,unstyled:o,disallowInput:s,fixOnBlur:a,popoverProps:l,withPreview:u,withEyeDropper:c,eyeDropperIcon:d,closeOnColorSwatchClick:f,eyeDropperButtonProps:h,value:p,defaultValue:m,onChange:g,onChangeEnd:v,onClick:y,onFocus:x,onBlur:E,inputProps:_,format:S,wrapperProps:T,readOnly:k,withPicker:R,swatches:I,disabled:P,leftSection:N,rightSection:M,swatchesPerRow:O,...j}=WV("ColorInput",Nie,e),U=Rt({name:"ColorInput",props:n,classes:Oie,classNames:r,styles:i,unstyled:o,rootSelector:"wrapper",vars:n.vars,varsResolver:bze}),{resolvedClassNames:q,resolvedStyles:W}=lf({classNames:r,styles:i,props:n}),[V,z]=A.useState(!1),[L,H]=A.useState(""),[B,Y]=qi({value:p,defaultValue:m,finalValue:"",onChange:g}),{supported:Q,open:ne}=xFe(),ce=b.jsx(on,{...h,...U("eyeDropperButton",{className:h?.className,style:h?.style}),variant:"subtle",color:"gray",size:_.size,unstyled:o,onClick:()=>ne().then(te=>{if(te?.sRGBHex){const se=yd(S,dv(te.sRGBHex));Y(se),v?.(se)}}).catch(()=>{}),children:d||b.jsx(vze,{...U("eyeDropperIcon")})}),le=te=>{x?.(te),z(!0)},ue=te=>{a&&Y(L),E?.(te),z(!1)},ae=te=>{y?.(te),z(!0)};return A.useEffect(()=>{(kE(B)||B.trim()==="")&&H(B)},[B]),bl(()=>{kE(B)&&Y(yd(S,dv(B)))},[S]),b.jsx(Or.Wrapper,{...T,classNames:q,styles:W,__staticSelector:"ColorInput",children:b.jsxs(Cr,{__staticSelector:"ColorInput",position:"bottom-start",offset:5,opened:V,...l,classNames:q,styles:W,unstyled:o,withRoles:!1,disabled:k||R===!1&&(!Array.isArray(I)||I.length===0),children:[b.jsx(Cr.Target,{children:b.jsx(Or,{autoComplete:"off",...j,..._,classNames:q,styles:W,disabled:P,ref:t,__staticSelector:"ColorInput",onFocus:le,onBlur:ue,onClick:ae,spellCheck:!1,value:B,onChange:te=>{const se=te.currentTarget.value;Y(se),kE(se)&&v?.(yd(S,dv(se)))},leftSection:N||(u?b.jsx(Sh,{color:kE(B)?B:"#fff",size:"var(--ci-preview-size)",...U("colorPreview")}):null),readOnly:s||k,pointer:s,unstyled:o,rightSection:M||(c&&!P&&!k&&Q?ce:null)})}),b.jsx(Cr.Dropdown,{onMouseDown:te=>te.preventDefault(),className:Oie.dropdown,children:b.jsx(F4,{__staticSelector:"ColorInput",value:B,onChange:Y,onChangeEnd:v,format:S,swatches:I,swatchesPerRow:O,withPicker:R,size:_.size,focusable:!1,unstyled:o,styles:W,classNames:q,onColorSwatchClick:()=>f&&z(!1)})})]})})});I3.classes=Sl.classes;I3.displayName="@mantine/core/ColorInput";var r1e={root:"m_7485cace"};const wze={},xze=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:hn(t,"container-size")}}),G0=nt((e,t)=>{const n=qe("Container",wze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,fluid:u,mod:c,...d}=n,f=Rt({name:"Container",classes:r1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:xze});return b.jsx(De,{ref:t,mod:[{fluid:u},c],...f("root"),...d})});G0.classes=r1e;G0.displayName="@mantine/core/Container";const Cze={timeout:1e3};function TW(e){const{children:t,timeout:n,value:r,...i}=qe("CopyButton",Cze,e),o=QLe({timeout:n}),s=()=>o.copy(r);return b.jsx(b.Fragment,{children:t({copy:s,copied:o.copied,...i})})}TW.displayName="@mantine/core/CopyButton";var i1e={root:"m_3eebeb36",label:"m_9e365f20"};const _ze={orientation:"horizontal"},Eze=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?qr(t,e):void 0,"--divider-border-style":n,"--divider-size":hn(r,"divider-size")}}),Tb=nt((e,t)=>{const n=qe("Divider",_ze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,orientation:c,label:d,labelPosition:f,mod:h,...p}=n,m=Rt({name:"Divider",classes:i1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Eze});return b.jsx(De,{ref:t,mod:[{orientation:c,"with-label":!!d},h],...m("root"),...p,role:"separator",children:d&&b.jsx(De,{component:"span",mod:{position:f},...m("label"),children:d})})});Tb.classes=i1e;Tb.displayName="@mantine/core/Divider";function o1e({open:e,close:t,openDelay:n,closeDelay:r}){const i=A.useRef(-1),o=A.useRef(-1),s=()=>{window.clearTimeout(i.current),window.clearTimeout(o.current)},a=()=>{s(),n===0||n===void 0?e():i.current=window.setTimeout(e,n)},l=()=>{s(),r===0||r===void 0?t():o.current=window.setTimeout(t,r)};return A.useEffect(()=>s,[]),{openDropdown:a,closeDropdown:l}}const[Mie,s1e]=ca("Grid component was not found in tree"),V7=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,$ie=(e,t,n)=>n||e==="auto"?"100%":e==="content"?"unset":V7(e,t),Lie=(e,t)=>{if(e)return e==="auto"||t?"1":"auto"},Fie=(e,t)=>e===0?"0":e?`${100/(t/e)}%`:void 0;function Sze({span:e,order:t,offset:n,selector:r}){const i=eo(),o=s1e(),s=o.breakpoints||i.breakpoints,l=Ad(e)===void 0?12:Ad(e),u=z0({"--col-order":Ad(t)?.toString(),"--col-flex-grow":Lie(l,o.grow),"--col-flex-basis":V7(l,o.columns),"--col-width":l==="content"?"auto":void 0,"--col-max-width":$ie(l,o.columns,o.grow),"--col-offset":Fie(Ad(n),o.columns)}),c=_i(s).reduce((h,p)=>(h[p]||(h[p]={}),typeof t=="object"&&t[p]!==void 0&&(h[p]["--col-order"]=t[p]?.toString()),typeof e=="object"&&e[p]!==void 0&&(h[p]["--col-flex-grow"]=Lie(e[p],o.grow),h[p]["--col-flex-basis"]=V7(e[p],o.columns),h[p]["--col-width"]=e[p]==="content"?"auto":void 0,h[p]["--col-max-width"]=$ie(e[p],o.columns,o.grow)),typeof n=="object"&&n[p]!==void 0&&(h[p]["--col-offset"]=Fie(n[p],o.columns)),h),{}),f=i2(_i(c),s).filter(h=>_i(c[h.value]).length>0).map(h=>({query:o.type==="container"?`mantine-grid (min-width: ${s[h.value]})`:`(min-width: ${s[h.value]})`,styles:c[h.value]}));return b.jsx(Eb,{styles:u,media:o.type==="container"?void 0:f,container:o.type==="container"?f:void 0,selector:r})}var kW={container:"m_8478a6da",root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const Tze={span:12},AW=nt((e,t)=>{const n=qe("GridCol",Tze,e),{classNames:r,className:i,style:o,styles:s,vars:a,span:l,order:u,offset:c,...d}=n,f=s1e(),h=wT();return b.jsxs(b.Fragment,{children:[b.jsx(Sze,{selector:`.${h}`,span:l,order:u,offset:c}),b.jsx(De,{ref:t,...f.getStyles("col",{className:Nt(i,h),style:o,classNames:r,styles:s}),...d})]})});AW.classes=kW;AW.displayName="@mantine/core/GridCol";function jie({gutter:e,selector:t,breakpoints:n,type:r}){const i=eo(),o=n||i.breakpoints,s=z0({"--grid-gutter":Di(Ad(e))}),a=_i(o).reduce((c,d)=>(c[d]||(c[d]={}),typeof e=="object"&&e[d]!==void 0&&(c[d]["--grid-gutter"]=Di(e[d])),c),{}),u=i2(_i(a),o).filter(c=>_i(a[c.value]).length>0).map(c=>({query:r==="container"?`mantine-grid (min-width: ${o[c.value]})`:`(min-width: ${o[c.value]})`,styles:a[c.value]}));return b.jsx(Eb,{styles:s,media:r==="container"?void 0:u,container:r==="container"?u:void 0,selector:t})}const kze={gutter:"md",grow:!1,columns:12},Aze=(e,{justify:t,align:n,overflow:r})=>({root:{"--grid-justify":t,"--grid-align":n,"--grid-overflow":r}}),so=nt((e,t)=>{const n=qe("Grid",kze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,grow:u,gutter:c,columns:d,align:f,justify:h,children:p,breakpoints:m,type:g,...v}=n,y=Rt({name:"Grid",classes:kW,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Aze}),x=wT();return g==="container"&&m?b.jsxs(Mie,{value:{getStyles:y,grow:u,columns:d||12,breakpoints:m,type:g},children:[b.jsx(jie,{selector:`.${x}`,...n}),b.jsx("div",{...y("container"),children:b.jsx(De,{ref:t,...y("root",{className:x}),...v,children:b.jsx("div",{...y("inner"),children:p})})})]}):b.jsxs(Mie,{value:{getStyles:y,grow:u,columns:d||12,breakpoints:m,type:g},children:[b.jsx(jie,{selector:`.${x}`,...n}),b.jsx(De,{ref:t,...y("root",{className:x}),...v,children:b.jsx("div",{...y("inner"),children:p})})]})});so.classes=kW;so.displayName="@mantine/core/Grid";so.Col=AW;function Bie({color:e,theme:t,defaultShade:n}){const r=af({color:e,theme:t});return r.isThemeColor?r.shade===void 0?`var(--mantine-color-${r.color}-${n})`:`var(${r.variable})`:e}var a1e={root:"m_bcb3f3c2"};const Rze={color:"yellow"},Ize=(e,{color:t})=>({root:{"--mark-bg-dark":Bie({color:t,theme:e,defaultShade:5}),"--mark-bg-light":Bie({color:t,theme:e,defaultShade:2})}}),RW=nt((e,t)=>{const n=qe("Mark",Rze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,variant:c,...d}=n,f=Rt({name:"Mark",props:n,className:i,style:o,classes:a1e,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Ize});return b.jsx(De,{component:"mark",ref:t,variant:c,...f("root"),...d})});RW.classes=a1e;RW.displayName="@mantine/core/Mark";function zie(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}function Dze(e,t){if(t==null)return[{chunk:e,highlighted:!1}];const n=Array.isArray(t)?t.map(zie):zie(t);if(!(Array.isArray(n)?n.filter(a=>a.trim().length>0).length>0:n.trim()!==""))return[{chunk:e,highlighted:!1}];const i=typeof n=="string"?n.trim():n.filter(a=>a.trim().length!==0).map(a=>a.trim()).sort((a,l)=>l.length-a.length).join("|"),o=new RegExp(`(${i})`,"gi");return e.split(o).map(a=>({chunk:a,highlighted:o.test(a)})).filter(({chunk:a})=>a)}const Pze={},IW=zo((e,t)=>{const{unstyled:n,children:r,highlight:i,highlightStyles:o,color:s,...a}=qe("Highlight",Pze,e),l=Dze(r,i);return b.jsx($e,{unstyled:n,ref:t,...a,__staticSelector:"Highlight",children:l.map(({chunk:u,highlighted:c},d)=>c?b.jsx(RW,{unstyled:n,color:s,style:o,"data-highlight":u,children:u},d):b.jsx("span",{children:u},d))})});IW.classes=$e.classes;IW.displayName="@mantine/core/Highlight";const[Oze,l1e]=ca("HoverCard component was not found in the tree"),Nze={};function u1e(e){const{children:t,onMouseEnter:n,onMouseLeave:r,...i}=qe("HoverCardDropdown",Nze,e),o=l1e(),s=ks(n,o.openDropdown),a=ks(r,o.closeDropdown);return b.jsx(Cr.Dropdown,{onMouseEnter:s,onMouseLeave:a,...i,children:t})}u1e.displayName="@mantine/core/HoverCardDropdown";const Mze={refProp:"ref"},c1e=A.forwardRef((e,t)=>{const{children:n,refProp:r,eventPropsWrapperName:i,...o}=qe("HoverCardTarget",Mze,e);if(!km(n))throw new Error("HoverCard.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=l1e(),a=ks(n.props.onMouseEnter,s.openDropdown),l=ks(n.props.onMouseLeave,s.closeDropdown),u={onMouseEnter:a,onMouseLeave:l};return b.jsx(Cr.Target,{refProp:r,ref:t,...o,children:A.cloneElement(n,i?{[i]:u}:u)})});c1e.displayName="@mantine/core/HoverCardTarget";const $ze={openDelay:0,closeDelay:150,initiallyOpened:!1};function hh(e){const{children:t,onOpen:n,onClose:r,openDelay:i,closeDelay:o,initiallyOpened:s,...a}=qe("HoverCard",$ze,e),[l,{open:u,close:c}]=vV(s,{onClose:r,onOpen:n}),{openDropdown:d,closeDropdown:f}=o1e({open:u,close:c,openDelay:i,closeDelay:o});return b.jsx(Oze,{value:{openDropdown:d,closeDropdown:f},children:b.jsx(Cr,{...a,opened:l,__staticSelector:"HoverCard",children:t})})}hh.displayName="@mantine/core/HoverCard";hh.Target=c1e;hh.Dropdown=u1e;hh.extend=e=>e;var d1e={root:"m_9e117634"};const Lze={},Fze=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:jr(t),"--image-object-fit":n}}),Pm=zo((e,t)=>{const n=qe("Image",Lze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,onError:u,src:c,radius:d,fit:f,fallbackSrc:h,mod:p,...m}=n,[g,v]=A.useState(!c);A.useEffect(()=>v(!c),[c]);const y=Rt({name:"Image",classes:d1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Fze});return g&&h?b.jsx(De,{component:"img",ref:t,src:h,...y("root"),onError:u,mod:["fallback",p],...m}):b.jsx(De,{component:"img",ref:t,...y("root"),src:c,onError:x=>{u?.(x),v(!0)},mod:p,...m})});Pm.classes=d1e;Pm.displayName="@mantine/core/Image";function jze(e="top-end",t=0){const n={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},r=Ye(t),[i,o]=e.split("-");return i==="top"&&(n["--indicator-top"]=r,n["--indicator-translate-y"]="-50%"),i==="middle"&&(n["--indicator-top"]="50%",n["--indicator-translate-y"]="-50%"),i==="bottom"&&(n["--indicator-bottom"]=r,n["--indicator-translate-y"]="50%"),o==="start"&&(n["--indicator-left"]=r,n["--indicator-translate-x"]="-50%"),o==="center"&&(n["--indicator-left"]="50%",n["--indicator-translate-x"]="-50%"),o==="end"&&(n["--indicator-right"]=r,n["--indicator-translate-x"]="50%"),n}var f1e={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const Bze={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},zze=(e,{color:t,position:n,offset:r,size:i,radius:o,zIndex:s,autoContrast:a})=>({root:{"--indicator-color":t?qr(t,e):void 0,"--indicator-text-color":H0(a,e)?zh({color:t,theme:e,autoContrast:a}):void 0,"--indicator-size":Ye(i),"--indicator-radius":o===void 0?void 0:jr(o),"--indicator-z-index":s?.toString(),...jze(n,r)}}),j4=nt((e,t)=>{const n=qe("Indicator",Bze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,position:c,offset:d,inline:f,label:h,radius:p,color:m,withBorder:g,disabled:v,processing:y,zIndex:x,autoContrast:E,mod:_,...S}=n,T=Rt({name:"Indicator",classes:f1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:zze});return b.jsxs(De,{ref:t,...T("root"),mod:[{inline:f},_],...S,children:[!v&&b.jsx(De,{mod:{"with-label":!!h,"with-border":g,processing:y},...T("indicator"),children:h}),u]})});j4.classes=f1e;j4.displayName="@mantine/core/Indicator";function W7(){return W7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W7.apply(null,arguments)}function Uze(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Hze=A.useLayoutEffect,qze=function(t){var n=un.useRef(t);return Hze(function(){n.current=t}),n},Uie=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},Vze=function(t,n){var r=un.useRef();return un.useCallback(function(i){t.current=i,r.current&&Uie(r.current,null),r.current=n,n&&Uie(n,i)},[n])},Hie={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},Wze=function(t){Object.keys(Hie).forEach(function(n){t.style.setProperty(n,Hie[n],"important")})},qie=Wze,Ja=null,Vie=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function Gze(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Ja||(Ja=document.createElement("textarea"),Ja.setAttribute("tabindex","-1"),Ja.setAttribute("aria-hidden","true"),qie(Ja)),Ja.parentNode===null&&document.body.appendChild(Ja);var i=e.paddingSize,o=e.borderSize,s=e.sizingStyle,a=s.boxSizing;Object.keys(s).forEach(function(f){var h=f;Ja.style[h]=s[h]}),qie(Ja),Ja.value=t;var l=Vie(Ja,e);Ja.value=t,l=Vie(Ja,e),Ja.value="x";var u=Ja.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+o),l=Math.max(c,l);var d=u*r;return a==="border-box"&&(d=d+i+o),l=Math.min(d,l),[l,u]}var Wie=function(){},Yze=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},Kze=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Xze=!!document.documentElement.currentStyle,Qze=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=Yze(Kze,n),i=r.boxSizing;if(i==="")return null;Xze&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),s=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:s}},Jze=Qze;function DW(e,t,n){var r=qze(n);A.useLayoutEffect(function(){var i=function(s){return r.current(s)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var Zze=function(t,n){DW(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},eUe=function(t){DW(window,"resize",t)},tUe=function(t){DW(document.fonts,"loadingdone",t)},nUe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],rUe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,o=t.minRows,s=t.onChange,a=s===void 0?Wie:s,l=t.onHeightChange,u=l===void 0?Wie:l,c=Uze(t,nUe),d=c.value!==void 0,f=A.useRef(null),h=Vze(f,n),p=A.useRef(0),m=A.useRef(),g=function(){var x=f.current,E=r&&m.current?m.current:Jze(x);if(E){m.current=E;var _=Gze(E,x.value||x.placeholder||"x",o,i),S=_[0],T=_[1];p.current!==S&&(p.current=S,x.style.setProperty("height",S+"px","important"),u(S,{rowHeight:T}))}},v=function(x){d||g(),a(x)};return A.useLayoutEffect(g),Zze(f,function(){if(!d){var y=f.current.value;requestAnimationFrame(function(){var x=f.current;x&&y!==x.value&&g()})}}),eUe(g),tUe(g),A.createElement("textarea",W7({},c,{onChange:v,ref:h}))},iUe=A.forwardRef(rUe);const oUe={},l2=nt((e,t)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:o,resize:s,...a}=qe("Textarea",oUe,e),l=n&&uve()!=="test",u=l?{maxRows:r,minRows:i}:{};return b.jsx(Sl,{component:l?iUe:"textarea",ref:t,...a,__staticSelector:o||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":s},...u})});l2.classes=Sl.classes;l2.displayName="@mantine/core/Textarea";const[sUe,aUe]=ca("List component was not found in tree");var PW={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const lUe={},OW=nt((e,t)=>{const n=qe("ListItem",lUe,e),{classNames:r,className:i,style:o,styles:s,vars:a,icon:l,children:u,mod:c,...d}=n,f=aUe(),h=l||f.icon,p={classNames:r,styles:s};return b.jsx(De,{...f.getStyles("item",{...p,className:i,style:o}),component:"li",mod:[{"with-icon":!!h,centered:f.center},c],ref:t,...d,children:b.jsxs("div",{...f.getStyles("itemWrapper",p),children:[h&&b.jsx("span",{...f.getStyles("itemIcon",p),children:h}),b.jsx("span",{...f.getStyles("itemLabel",p),children:u})]})})});OW.classes=PW;OW.displayName="@mantine/core/ListItem";const uUe={type:"unordered"},cUe=(e,{size:t,spacing:n})=>({root:{"--list-fz":lo(t),"--list-lh":Zye(t),"--list-spacing":Di(n)}}),ji=nt((e,t)=>{const n=qe("List",uUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,type:c,withPadding:d,icon:f,spacing:h,center:p,listStyleType:m,mod:g,...v}=n,y=Rt({name:"List",classes:PW,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:cUe});return b.jsx(sUe,{value:{center:p,icon:f,getStyles:y},children:b.jsx(De,{...y("root",{style:{listStyleType:m}}),component:c==="unordered"?"ul":"ol",mod:[{"with-padding":d},g],ref:t,...v,children:u})})});ji.classes=PW;ji.displayName="@mantine/core/List";ji.Item=OW;var h1e={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const Gie={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:au("overlay")},dUe=(e,{zIndex:t})=>({root:{"--lo-z-index":t?.toString()}}),eu=nt((e,t)=>{const n=qe("LoadingOverlay",Gie,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,transitionProps:u,loaderProps:c,overlayProps:d,visible:f,zIndex:h,...p}=n,m=eo(),g=Rt({name:"LoadingOverlay",classes:h1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:dUe}),v={...Gie.overlayProps,...d};return b.jsx(Vc,{transition:"fade",...u,mounted:!!f,children:y=>b.jsxs(De,{...g("root",{style:y}),ref:t,...p,children:[b.jsx(Wc,{...g("loader"),unstyled:a,...c}),b.jsx(ix,{...v,...g("overlay"),darkHidden:!0,unstyled:a,color:d?.color||m.white}),b.jsx(ix,{...v,...g("overlay"),lightHidden:!0,unstyled:a,color:d?.color||m.colors.dark[5]})]})})});eu.classes=h1e;eu.displayName="@mantine/core/LoadingOverlay";const[fUe,kT]=ca("Menu component was not found in the tree");var aC={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const hUe={},NW=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=qe("MenuDivider",hUe,e),l=kT();return b.jsx(De,{ref:t,...l.getStyles("divider",{className:r,style:i,styles:o,classNames:n}),...a})});NW.classes=aC;NW.displayName="@mantine/core/MenuDivider";const pUe={},MW=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,onMouseEnter:a,onMouseLeave:l,onKeyDown:u,children:c,...d}=qe("MenuDropdown",pUe,e),f=A.useRef(null),h=kT(),p=ks(u,v=>{(v.key==="ArrowUp"||v.key==="ArrowDown")&&(v.preventDefault(),f.current?.querySelectorAll("[data-menu-item]:not(:disabled)")[0]?.focus())}),m=ks(a,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.openDropdown()),g=ks(l,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.closeDropdown());return b.jsxs(Cr.Dropdown,{...d,onMouseEnter:m,onMouseLeave:g,role:"menu","aria-orientation":"vertical",ref:uo(t,f),...h.getStyles("dropdown",{className:r,style:i,styles:o,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:p,children:[h.withInitialFocusPlaceholder&&b.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),c]})});MW.classes=aC;MW.displayName="@mantine/core/MenuDropdown";const mUe={},$W=zo((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,color:a,closeMenuOnClick:l,leftSection:u,rightSection:c,children:d,disabled:f,"data-disabled":h,...p}=qe("MenuItem",mUe,e),m=kT(),g=eo(),{dir:v}=lu(),y=A.useRef(null),x=m.getItemIndex(y.current),E=p,_=ks(E.onMouseLeave,()=>m.setHovered(-1)),S=ks(E.onMouseEnter,()=>m.setHovered(m.getItemIndex(y.current))),T=ks(E.onClick,()=>{h||(typeof l=="boolean"?l&&m.closeDropdownImmediately():m.closeOnItemClick&&m.closeDropdownImmediately())}),k=ks(E.onFocus,()=>m.setHovered(m.getItemIndex(y.current))),R=a?g.variantColorResolver({color:a,theme:g,variant:"light"}):void 0,I=a?af({color:a,theme:g}):null;return b.jsxs(Ko,{...p,unstyled:m.unstyled,tabIndex:m.menuItemTabIndex,onFocus:k,...m.getStyles("item",{className:r,style:i,styles:o,classNames:n}),ref:uo(y,t),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||h||void 0,"data-hovered":m.hovered===x?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:S,onMouseLeave:_,onClick:T,onKeyDown:Jye({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:m.loop,dir:v,orientation:"vertical",onKeyDown:E.onKeyDown}),__vars:{"--menu-item-color":I?.isThemeColor&&I?.shade===void 0?`var(--mantine-color-${I.color}-6)`:R?.color,"--menu-item-hover":R?.hover},children:[u&&b.jsx("div",{...m.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"left",children:u}),d&&b.jsx("div",{...m.getStyles("itemLabel",{styles:o,classNames:n}),children:d}),c&&b.jsx("div",{...m.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"right",children:c})]})});$W.classes=aC;$W.displayName="@mantine/core/MenuItem";const gUe={},LW=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=qe("MenuLabel",gUe,e),l=kT();return b.jsx(De,{ref:t,...l.getStyles("label",{className:r,style:i,styles:o,classNames:n}),...a})});LW.classes=aC;LW.displayName="@mantine/core/MenuLabel";const yUe={refProp:"ref"},p1e=A.forwardRef((e,t)=>{const{children:n,refProp:r,...i}=qe("MenuTarget",yUe,e);if(!km(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=kT(),s=n.props,a=ks(s.onClick,()=>{o.trigger==="click"?o.toggleDropdown():o.trigger==="click-hover"&&(o.setOpenedViaClick(!0),o.opened||o.openDropdown())}),l=ks(s.onMouseEnter,()=>(o.trigger==="hover"||o.trigger==="click-hover")&&o.openDropdown()),u=ks(s.onMouseLeave,()=>{(o.trigger==="hover"||o.trigger==="click-hover"&&!o.openedViaClick)&&o.closeDropdown()});return b.jsx(Cr.Target,{refProp:r,popupType:"menu",ref:t,...i,children:A.cloneElement(n,{onClick:a,onMouseEnter:l,onMouseLeave:u,"data-expanded":o.opened?!0:void 0})})});p1e.displayName="@mantine/core/MenuTarget";const vUe={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Rn(e){const t=qe("Menu",vUe,e),{children:n,onOpen:r,onClose:i,opened:o,defaultOpened:s,trapFocus:a,onChange:l,closeOnItemClick:u,loop:c,closeOnEscape:d,trigger:f,openDelay:h,closeDelay:p,classNames:m,styles:g,unstyled:v,variant:y,vars:x,menuItemTabIndex:E,keepMounted:_,withInitialFocusPlaceholder:S,...T}=t,k=Rt({name:"Menu",classes:aC,props:t,classNames:m,styles:g,unstyled:v}),[R,{setHovered:I,resetHovered:P}]=KLe(),[N,M]=qi({value:o,defaultValue:s,finalValue:!1,onChange:l}),[O,j]=A.useState(!1),U=()=>{M(!1),j(!1),N&&i?.()},q=()=>{M(!0),!N&&r?.()},W=()=>{N?U():q()},{openDropdown:V,closeDropdown:z}=o1e({open:q,close:U,closeDelay:p,openDelay:h}),L=Y=>YLe("[data-menu-item]","[data-menu-dropdown]",Y),{resolvedClassNames:H,resolvedStyles:B}=lf({classNames:m,styles:g,props:t});return bl(()=>{P()},[N]),b.jsx(fUe,{value:{getStyles:k,opened:N,toggleDropdown:W,getItemIndex:L,hovered:R,setHovered:I,openedViaClick:O,setOpenedViaClick:j,closeOnItemClick:u,closeDropdown:f==="click"?U:z,openDropdown:f==="click"?q:V,closeDropdownImmediately:U,loop:c,trigger:f,unstyled:v,menuItemTabIndex:E,withInitialFocusPlaceholder:S},children:b.jsx(Cr,{...T,opened:N,onChange:W,defaultOpened:s,trapFocus:_?!1:a,closeOnEscape:d,__staticSelector:"Menu",classNames:H,styles:B,unstyled:v,variant:y,keepMounted:_,children:n})})}Rn.extend=e=>e;Rn.withProps=j8e(Rn);Rn.classes=aC;Rn.displayName="@mantine/core/Menu";Rn.Item=$W;Rn.Label=LW;Rn.Dropdown=MW;Rn.Target=p1e;Rn.Divider=NW;const[bUe,lC]=ca("Modal component was not found in tree");var Om={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const wUe={},B4=nt((e,t)=>{const n=qe("ModalBody",wUe,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=lC();return b.jsx(gbe,{ref:t,...u.getStyles("body",{classNames:r,style:o,styles:s,className:i}),...l})});B4.classes=Om;B4.displayName="@mantine/core/ModalBody";const xUe={},z4=nt((e,t)=>{const n=qe("ModalCloseButton",xUe,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=lC();return b.jsx(ybe,{ref:t,...u.getStyles("close",{classNames:r,style:o,styles:s,className:i}),...l})});z4.classes=Om;z4.displayName="@mantine/core/ModalCloseButton";const CUe={},U4=nt((e,t)=>{const n=qe("ModalContent",CUe,e),{classNames:r,className:i,style:o,styles:s,vars:a,children:l,__hidden:u,...c}=n,d=lC(),f=d.scrollAreaComponent||vBe;return b.jsx(vbe,{...d.getStyles("content",{className:i,style:o,styles:s,classNames:r}),innerProps:d.getStyles("inner",{className:i,style:o,styles:s,classNames:r}),"data-full-screen":d.fullScreen||void 0,"data-modal-content":!0,"data-hidden":u||void 0,ref:t,...c,children:b.jsx(f,{style:{maxHeight:d.fullScreen?"100dvh":`calc(100dvh - (${Ye(d.yOffset)} * 2))`},children:l})})});U4.classes=Om;U4.displayName="@mantine/core/ModalContent";const _Ue={},H4=nt((e,t)=>{const n=qe("ModalHeader",_Ue,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=lC();return b.jsx(bbe,{ref:t,...u.getStyles("header",{classNames:r,style:o,styles:s,className:i}),...l})});H4.classes=Om;H4.displayName="@mantine/core/ModalHeader";const EUe={},q4=nt((e,t)=>{const n=qe("ModalOverlay",EUe,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=lC();return b.jsx(wbe,{ref:t,...u.getStyles("overlay",{classNames:r,style:o,styles:s,className:i}),...l})});q4.classes=Om;q4.displayName="@mantine/core/ModalOverlay";const SUe={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:au("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},TUe=(e,{radius:t,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:jr(t),"--modal-size":hn(n,"modal-size"),"--modal-y-offset":Ye(r),"--modal-x-offset":Ye(i)}}),V4=nt((e,t)=>{const n=qe("ModalRoot",SUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,yOffset:u,scrollAreaComponent:c,radius:d,fullScreen:f,centered:h,xOffset:p,__staticSelector:m,...g}=n,v=Rt({name:m,classes:Om,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:TUe});return b.jsx(bUe,{value:{yOffset:u,scrollAreaComponent:c,getStyles:v,fullScreen:f},children:b.jsx(mbe,{ref:t,...v("root"),"data-full-screen":f||void 0,"data-centered":h||void 0,"data-offset-scrollbars":c===lm.Autosize||void 0,unstyled:a,...g})})});V4.classes=Om;V4.displayName="@mantine/core/ModalRoot";const[kUe,AUe]=Am();function m1e({children:e}){const[t,n]=A.useState([]),[r,i]=A.useState(au("modal"));return b.jsx(kUe,{value:{stack:t,addModal:(o,s)=>{n(a=>[...new Set([...a,o])]),i(a=>typeof s=="number"&&typeof a=="number"?Math.max(a,s):a)},removeModal:o=>n(s=>s.filter(a=>a!==o)),getZIndex:o=>`calc(${r} + ${t.indexOf(o)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}m1e.displayName="@mantine/core/ModalStack";const RUe={},W4=nt((e,t)=>{const n=qe("ModalTitle",RUe,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=lC();return b.jsx(xbe,{ref:t,...u.getStyles("title",{classNames:r,style:o,styles:s,className:i}),...l})});W4.classes=Om;W4.displayName="@mantine/core/ModalTitle";const IUe={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:au("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},ni=nt((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:o,closeButtonProps:s,children:a,radius:l,opened:u,stackId:c,zIndex:d,...f}=qe("Modal",IUe,e),h=AUe(),p=!!n||o,m=h&&c?{closeOnEscape:h.currentId===c,trapFocus:h.currentId===c,zIndex:h.getZIndex(c)}:{},g=r===!1?!1:c&&h?h.currentId===c:u;return A.useEffect(()=>{h&&c&&(u?h.addModal(c,d||au("modal")):h.removeModal(c))},[u,c,d]),b.jsxs(V4,{ref:t,radius:l,opened:u,zIndex:h&&c?h.getZIndex(c):d,...f,...m,children:[r&&b.jsx(q4,{visible:g,transitionProps:h&&c?{duration:0}:void 0,...i}),b.jsxs(U4,{radius:l,__hidden:h&&c&&u?c!==h.currentId:!1,children:[p&&b.jsxs(H4,{children:[n&&b.jsx(W4,{children:n}),o&&b.jsx(z4,{...s})]}),b.jsx(B4,{children:a})]})]})});ni.classes=Om;ni.displayName="@mantine/core/Modal";ni.Root=V4;ni.Overlay=q4;ni.Content=U4;ni.Body=B4;ni.Header=H4;ni.Title=W4;ni.CloseButton=z4;ni.Stack=m1e;const[DUe,FW]=Am(),[PUe,OUe]=Am();var G4={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const NUe={},MUe=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?hn(t):hn(n,"pg-gap")}}),jW=nt((e,t)=>{const n=qe("PillGroup",NUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,disabled:c,...d}=n,h=FW()?.size||u||void 0,p=Rt({name:"PillGroup",classes:G4,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:MUe,stylesCtx:{size:h},rootSelector:"group"});return b.jsx(PUe,{value:{size:h,disabled:c},children:b.jsx(De,{ref:t,size:h,...p("group"),...d})})});jW.classes=G4;jW.displayName="@mantine/core/PillGroup";const $Ue={variant:"default"},LUe=(e,{radius:t},{size:n})=>({root:{"--pill-fz":hn(n,"pill-fz"),"--pill-height":hn(n,"pill-height"),"--pill-radius":t===void 0?void 0:jr(t)}}),Hv=nt((e,t)=>{const n=qe("Pill",$Ue,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,variant:u,children:c,withRemoveButton:d,onRemove:f,removeButtonProps:h,radius:p,size:m,disabled:g,mod:v,...y}=n,x=OUe(),E=FW(),_=m||x?.size||void 0,S=E?.variant==="filled"?"contrast":u||"default",T=Rt({name:"Pill",classes:G4,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:LUe,stylesCtx:{size:_}});return b.jsxs(De,{component:"span",ref:t,variant:S,size:_,...T("root",{variant:S}),mod:[{"with-remove":d&&!g,disabled:g||x?.disabled},v],...y,children:[b.jsx("span",{...T("label"),children:c}),d&&b.jsx(Im,{variant:"transparent",radius:p,tabIndex:-1,"aria-hidden":!0,unstyled:a,...h,...T("remove",{className:h?.className,style:h?.style}),onMouseDown:k=>{k.preventDefault(),k.stopPropagation(),h?.onMouseDown?.(k)},onClick:k=>{k.stopPropagation(),f?.(),h?.onClick?.(k)}})]})});Hv.classes=G4;Hv.displayName="@mantine/core/Pill";Hv.Group=jW;var g1e={field:"m_45c4369d"};const FUe={type:"visible"},BW=nt((e,t)=>{const n=qe("PillsInputField",FUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,type:u,disabled:c,id:d,pointer:f,mod:h,...p}=n,m=FW(),g=iC(),v=Rt({name:"PillsInputField",classes:g1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"field"}),y=c||m?.disabled;return b.jsx(De,{component:"input",ref:uo(t,m?.fieldRef),"data-type":u,disabled:y,mod:[{disabled:y,pointer:f},h],...v("field"),...p,id:g?.inputId||d,"aria-invalid":m?.hasError,"aria-describedby":g?.describedBy,type:"text",onMouseDown:x=>!f&&x.stopPropagation()})});BW.classes=g1e;BW.displayName="@mantine/core/PillsInputField";const jUe={},ax=nt((e,t)=>{const n=qe("PillsInput",jUe,e),{children:r,onMouseDown:i,onClick:o,size:s,disabled:a,__staticSelector:l,error:u,variant:c,...d}=n,f=A.useRef(null);return b.jsx(DUe,{value:{fieldRef:f,size:s,disabled:a,hasError:!!u,variant:c},children:b.jsx(Sl,{size:s,error:u,variant:c,component:"div",ref:t,onMouseDown:h=>{h.preventDefault(),i?.(h),f.current?.focus()},onClick:h=>{h.preventDefault(),h.currentTarget.closest("fieldset")?.disabled||(f.current?.focus(),o?.(h))},...d,multiline:!0,disabled:a,__staticSelector:l||"PillsInput",withAria:!1,children:r})})});ax.displayName="@mantine/core/PillsInput";ax.Field=BW;function BUe({data:e,value:t}){const n=t.map(i=>i.trim().toLowerCase());return e.reduce((i,o)=>(sx(o)?i.push({group:o.group,items:o.items.filter(s=>n.indexOf(s.value.toLowerCase().trim())===-1)}):n.indexOf(o.value.toLowerCase().trim())===-1&&i.push(o),i),[])}const zUe={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},Gp=nt((e,t)=>{const n=qe("MultiSelect",zUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,value:c,defaultValue:d,onChange:f,onKeyDown:h,variant:p,data:m,dropdownOpened:g,defaultDropdownOpened:v,onDropdownOpen:y,onDropdownClose:x,selectFirstOptionOnChange:E,onOptionSubmit:_,comboboxProps:S,filter:T,limit:k,withScrollArea:R,maxDropdownHeight:I,searchValue:P,defaultSearchValue:N,onSearchChange:M,readOnly:O,disabled:j,onFocus:U,onBlur:q,radius:W,rightSection:V,rightSectionWidth:z,rightSectionPointerEvents:L,rightSectionProps:H,leftSection:B,leftSectionWidth:Y,leftSectionPointerEvents:Q,leftSectionProps:ne,inputContainer:ce,inputWrapperOrder:le,withAsterisk:ue,labelProps:ae,descriptionProps:te,errorProps:se,wrapperProps:we,description:X,label:he,error:ge,maxValues:re,searchable:ee,nothingFoundMessage:fe,withCheckIcon:Re,checkIconPosition:Oe,hidePickedOptions:Ae,withErrorStyles:Se,name:xe,form:ke,id:me,clearable:Me,clearButtonProps:ze,hiddenInputProps:Xe,placeholder:tt,hiddenInputValuesDivider:gt,required:qt,mod:zt,renderOption:_n,onRemove:$t,onClear:dn,scrollAreaProps:Vn,chevronColor:Ln,...Tr}=n,Xn=Va(me),mr=tW(m),En=M4(mr),nn=TT({opened:g,defaultOpened:v,onDropdownOpen:y,onDropdownClose:()=>{x?.(),nn.resetSelectedOption()}}),{styleProps:rr,rest:{type:ii,autoComplete:br,...Sn}}=Sb(Tr),[ht,cr]=qi({value:c,defaultValue:d,finalValue:[],onChange:f}),[Ut,Zn]=qi({value:P,defaultValue:N,finalValue:"",onChange:M}),sn=Fn=>{Zn(Fn),nn.resetSelectedOption()},Yn=Rt({name:"MultiSelect",classes:{},props:n,classNames:r,styles:s,unstyled:a}),{resolvedClassNames:wr,resolvedStyles:kr}=lf({props:n,styles:s,classNames:r}),Ar=Fn=>{h?.(Fn),Fn.key===" "&&!ee&&(Fn.preventDefault(),nn.toggleDropdown()),Fn.key==="Backspace"&&Ut.length===0&&ht.length>0&&($t?.(ht[ht.length-1]),cr(ht.slice(0,ht.length-1)))},Jo=ht.map((Fn,Ni)=>b.jsx(Hv,{withRemoveButton:!O&&!En[Fn]?.disabled,onRemove:()=>{cr(ht.filter(Zo=>Fn!==Zo)),$t?.(Fn)},unstyled:a,disabled:j,...Yn("pill"),children:En[Fn]?.label||Fn},`${Fn}-${Ni}`));A.useEffect(()=>{E&&nn.selectFirstOption()},[E,Ut]);const pa=b.jsx(Un.ClearButton,{...ze,onClear:()=>{dn?.(),cr([]),sn("")}}),hu=BUe({data:mr,value:ht}),ec=Me&&ht.length>0&&!j&&!O;return b.jsxs(b.Fragment,{children:[b.jsxs(Un,{store:nn,classNames:wr,styles:kr,unstyled:a,size:u,readOnly:O,__staticSelector:"MultiSelect",onOptionSubmit:Fn=>{_?.(Fn),sn(""),nn.updateSelectedOptionIndex("selected"),ht.includes(En[Fn].value)?(cr(ht.filter(Ni=>Ni!==En[Fn].value)),$t?.(En[Fn].value)):ht.length<re&&cr([...ht,En[Fn].value])},...S,children:[b.jsx(Un.DropdownTarget,{children:b.jsx(ax,{...rr,__staticSelector:"MultiSelect",classNames:wr,styles:kr,unstyled:a,size:u,className:i,style:o,variant:p,disabled:j,radius:W,__defaultRightSection:b.jsx(Un.Chevron,{size:u,error:ge,unstyled:a,color:Ln}),__clearSection:pa,__clearable:ec,rightSection:V,rightSectionPointerEvents:L||(pa?"all":"none"),rightSectionWidth:z,rightSectionProps:H,leftSection:B,leftSectionWidth:Y,leftSectionPointerEvents:Q,leftSectionProps:ne,inputContainer:ce,inputWrapperOrder:le,withAsterisk:ue,labelProps:ae,descriptionProps:te,errorProps:se,wrapperProps:we,description:X,label:he,error:ge,withErrorStyles:Se,__stylesApiProps:{...n,rightSectionPointerEvents:L||(ec?"all":"none"),multiline:!0},pointer:!ee,onClick:()=>ee?nn.openDropdown():nn.toggleDropdown(),"data-expanded":nn.dropdownOpened||void 0,id:Xn,required:qt,mod:zt,children:b.jsxs(Hv.Group,{disabled:j,unstyled:a,...Yn("pillsList"),children:[Jo,b.jsx(Un.EventsTarget,{autoComplete:br,children:b.jsx(ax.Field,{...Sn,ref:t,id:Xn,placeholder:tt,type:!ee&&!tt?"hidden":"visible",...Yn("inputField"),unstyled:a,onFocus:Fn=>{U?.(Fn),ee&&nn.openDropdown()},onBlur:Fn=>{q?.(Fn),nn.closeDropdown(),sn("")},onKeyDown:Ar,value:Ut,onChange:Fn=>{sn(Fn.currentTarget.value),ee&&nn.openDropdown(),E&&nn.selectFirstOption()},disabled:j,readOnly:O||!ee,pointer:!ee})})]})})}),b.jsx(yW,{data:Ae?hu:mr,hidden:O||j,filter:T,search:Ut,limit:k,hiddenWhenEmpty:!fe,withScrollArea:R,maxDropdownHeight:I,filterOptions:ee,value:ht,checkIconPosition:Oe,withCheckIcon:Re,nothingFoundMessage:fe,unstyled:a,labelId:he?`${Xn}-label`:void 0,"aria-label":he?void 0:Tr["aria-label"],renderOption:_n,scrollAreaProps:Vn})]}),b.jsx(Un.HiddenInput,{name:xe,valuesDivider:gt,value:ht,form:ke,disabled:j,...Xe})]})});Gp.classes={...Sl.classes,...Un.classes};Gp.displayName="@mantine/core/MultiSelect";var y1e={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const UUe={},HUe=(e,{variant:t,color:n,childrenOffset:r,autoContrast:i})=>{const o=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:t||"light",autoContrast:i});return{root:{"--nl-bg":n||t?o.background:void 0,"--nl-hover":n||t?o.hover:void 0,"--nl-color":n||t?o.color:void 0},children:{"--nl-offset":Di(r)}}},zW=zo((e,t)=>{const n=qe("NavLink",UUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,opened:u,defaultOpened:c,onChange:d,children:f,onClick:h,active:p,disabled:m,leftSection:g,rightSection:v,label:y,description:x,disableRightSectionRotation:E,noWrap:_,childrenOffset:S,onKeyDown:T,autoContrast:k,mod:R,...I}=n,P=Rt({name:"NavLink",props:n,classes:y1e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:HUe}),[N,M]=qi({value:u,defaultValue:c,finalValue:!1,onChange:d}),O=!!f,j=U=>{h?.(U),O&&(U.preventDefault(),M(!N))};return b.jsxs(b.Fragment,{children:[b.jsxs(Ko,{...P("root"),component:"a",ref:t,onClick:j,onKeyDown:U=>{T?.(U),U.nativeEvent.code==="Space"&&O&&(U.preventDefault(),M(!N))},unstyled:a,mod:[{disabled:m,active:p,expanded:N},R],...I,children:[g&&b.jsx(De,{component:"span",...P("section"),mod:{position:"left"},children:g}),b.jsxs(De,{...P("body"),mod:{"no-wrap":_},children:[b.jsx(De,{component:"span",...P("label"),children:y}),b.jsx(De,{component:"span",mod:{active:p},...P("description"),children:x})]}),(O||v!==void 0)&&b.jsx(De,{...P("section"),component:"span",mod:{rotate:N&&!E,position:"right"},children:O?v!==void 0?v:b.jsx(R3,{...P("chevron")}):v})]}),O&&b.jsx(Uh,{in:N,...P("collapse"),children:b.jsx("div",{...P("children"),children:f})})]})});zW.classes=y1e;zW.displayName="@mantine/core/NavLink";var v1e={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const qUe={withCloseButton:!0},VUe=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:jr(t),"--notification-color":n?qr(n,e):void 0}}),UW=nt((e,t)=>{const n=qe("Notification",qUe,e),{className:r,color:i,radius:o,loading:s,withCloseButton:a,withBorder:l,title:u,icon:c,children:d,onClose:f,closeButtonProps:h,classNames:p,style:m,styles:g,unstyled:v,variant:y,vars:x,mod:E,loaderProps:_,role:S,...T}=n,k=Rt({name:"Notification",classes:v1e,props:n,className:r,style:m,classNames:p,styles:g,unstyled:v,vars:x,varsResolver:VUe});return b.jsxs(De,{...k("root"),mod:[{"data-with-icon":!!c||s,"data-with-border":l},E],ref:t,variant:y,role:S||"alert",...T,children:[c&&!s&&b.jsx("div",{...k("icon"),children:c}),s&&b.jsx(Wc,{size:28,color:i,..._,...k("loader")}),b.jsxs("div",{...k("body"),children:[u&&b.jsx("div",{...k("title"),children:u}),b.jsx(De,{...k("description"),mod:{"data-with-title":!!u},children:d})]}),a&&b.jsx(Im,{iconSize:16,color:"gray",...h,unstyled:v,onClick:f,...k("closeButton")})]})});UW.classes=v1e;UW.displayName="@mantine/core/Notification";function b1e(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var u2;(function(e){e.event="event",e.props="prop"})(u2||(u2={}));function Fg(){}function WUe(e){var t,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t&&r.length===t.length&&r.every(function(o,s){return o===t[s]})||(t=r,n=e.apply(void 0,r)),n}}function c2(e){return!!(e||"").match(/\d/)}function Iw(e){return e==null}function GUe(e){return typeof e=="number"&&isNaN(e)}function w1e(e){return Iw(e)||GUe(e)||typeof e=="number"&&!isFinite(e)}function x1e(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function YUe(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;default:return/(\d)(?=(\d{3})+(?!\d))/g}}function KUe(e,t,n){var r=YUe(n),i=e.search(/[1-9]/);return i=i===-1?e.length:i,e.substring(0,i)+e.substring(i,e.length).replace(r,"$1"+t)}function XUe(e){var t=A.useRef(e);t.current=e;var n=A.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t.current.apply(t,r)});return n.current}function HW(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var i=e.split("."),o=i[0],s=i[1]||"";return{beforeDecimal:o,afterDecimal:s,hasNegation:n,addNegation:r}}function QUe(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")}function C1e(e,t,n){for(var r="",i=n?"0":"",o=0;o<=t-1;o++)r+=e[o]||i;return r}function Yie(e,t){return Array(t+1).join(e)}function _1e(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),i=r[0],o=r[1];if(o=Number(o),!o)return n+i;i=i.replace(".","");var s=1+o,a=i.length;return s<0?i="0."+Yie("0",Math.abs(s))+i:s>=a?i=i+Yie("0",s-a):i=(i.substring(0,s)||"0")+"."+i.substring(s),n+i}function Kie(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,i=HW(e),o=i.beforeDecimal,s=i.afterDecimal,a=i.hasNegation,l=parseFloat("0."+(s||"0")),u=s.length<=t?"0."+s:l.toFixed(t),c=u.split("."),d=o;o&&Number(c[0])&&(d=o.split("").reverse().reduce(function(m,g,v){return m.length>v?(Number(m[0])+Number(g)).toString()+m.substring(1,m.length):g+m},c[0]));var f=C1e(c[1]||"",t,n),h=a?"-":"",p=r?".":"";return""+h+d+p+f}function ev(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var E1e=WUe(function(e,t){for(var n=0,r=0,i=e.length,o=t.length;e[n]===t[n]&&n<i;)n++;for(;e[i-1-r]===t[o-1-r]&&o-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:o-r}}}),JUe=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function ZUe(e,t,n){return Math.min(Math.max(e,t),n)}function UF(e){return Math.max(e.selectionStart,e.selectionEnd)}function eHe(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function tHe(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function nHe(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,i=e.formattedValueIndex;return t[r]===n[i]}function rHe(e,t,n,r,i,o,s){s===void 0&&(s=nHe);var a=i.findIndex(function(E){return E}),l=e.slice(0,a);!t&&!n.startsWith(l)&&(t=l,n=l+n,r=r+l.length);for(var u=n.length,c=e.length,d={},f=new Array(u),h=0;h<u;h++){f[h]=-1;for(var p=0,m=c;p<m;p++){var g=s({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:h,formattedValueIndex:p});if(g&&d[p]!==!0){f[h]=p,d[p]=!0;break}}}for(var v=r;v<u&&(f[v]===-1||!o(n[v]));)v++;var y=v===u||f[v]===-1?c:f[v];for(v=r-1;v>0&&f[v]===-1;)v--;var x=v===-1||f[v]===-1?0:f[v]+1;return x>y?y:r-x<y-r?x:y}function Xie(e,t,n,r){var i=e.length;if(t=ZUe(t,0,i),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=i&&!n[t];)t++;t>i&&(t=n.lastIndexOf(!0))}return t===-1&&(t=i),t}function iHe(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(c2(e[n])||c2(e[n-1]));return t}function S1e(e,t,n,r,i,o){o===void 0&&(o=Fg);var s=XUe(function(p,m){var g,v;return w1e(p)?(v="",g=""):typeof p=="number"||m?(v=typeof p=="number"?_1e(p):p,g=r(v)):(v=i(p,void 0),g=r(v)),{formattedValue:g,numAsString:v}}),a=A.useState(function(){return s(Iw(e)?t:e,n)}),l=a[0],u=a[1],c=function(p,m){p.formattedValue!==l.formattedValue&&u({formattedValue:p.formattedValue,numAsString:p.value}),o(p,m)},d=e,f=n;Iw(e)&&(d=l.numAsString,f=!0);var h=s(d,f);return A.useMemo(function(){u(h)},[h.formattedValue]),[l,c]}function oHe(e){return e.replace(/[^0-9]/g,"")}function sHe(e){return e}function aHe(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,i=e.renderText,o=e.getInputRef,s=e.format;s===void 0&&(s=sHe);var a=e.removeFormatting;a===void 0&&(a=oHe);var l=e.defaultValue,u=e.valueIsNumericString,c=e.onValueChange,d=e.isAllowed,f=e.onChange;f===void 0&&(f=Fg);var h=e.onKeyDown;h===void 0&&(h=Fg);var p=e.onMouseUp;p===void 0&&(p=Fg);var m=e.onFocus;m===void 0&&(m=Fg);var g=e.onBlur;g===void 0&&(g=Fg);var v=e.value,y=e.getCaretBoundary;y===void 0&&(y=iHe);var x=e.isValidInputCharacter;x===void 0&&(x=c2);var E=e.isCharacterSame,_=b1e(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),S=S1e(v,l,!!u,s,a,c),T=S[0],k=T.formattedValue,R=T.numAsString,I=S[1],P=A.useRef(),N=A.useRef({formattedValue:k,numAsString:R}),M=function(re,ee){N.current={formattedValue:re.formattedValue,numAsString:re.value},I(re,ee)},O=A.useState(!1),j=O[0],U=O[1],q=A.useRef(null),W=A.useRef({setCaretTimeout:null,focusTimeout:null});A.useEffect(function(){return U(!0),function(){clearTimeout(W.current.setCaretTimeout),clearTimeout(W.current.focusTimeout)}},[]);var V=s,z=function(re,ee){var fe=parseFloat(ee);return{formattedValue:re,value:ee,floatValue:isNaN(fe)?void 0:fe}},L=function(re,ee,fe){re.selectionStart===0&&re.selectionEnd===re.value.length||(ev(re,ee),W.current.setCaretTimeout=setTimeout(function(){re.value===fe&&re.selectionStart!==ee&&ev(re,ee)},0))},H=function(re,ee,fe){return Xie(re,ee,y(re),fe)},B=function(re,ee,fe){var Re=y(ee),Oe=rHe(ee,k,re,fe,Re,x,E);return Oe=Xie(ee,Oe,Re),Oe},Y=function(re){var ee=re.formattedValue;ee===void 0&&(ee="");var fe=re.input,Re=re.source,Oe=re.event,Ae=re.numAsString,Se;if(fe){var xe=re.inputValue||fe.value,ke=UF(fe);fe.value=ee,Se=B(xe,ee,ke),Se!==void 0&&L(fe,Se,ee)}ee!==k&&M(z(ee,Ae),{event:Oe,source:Re})};A.useEffect(function(){var re=N.current,ee=re.formattedValue,fe=re.numAsString;(k!==ee||R!==fe)&&M(z(k,R),{event:void 0,source:u2.props})},[k,R]);var Q=q.current?UF(q.current):void 0,ne=typeof window<"u"?A.useLayoutEffect:A.useEffect;ne(function(){var re=q.current;if(k!==N.current.formattedValue&&re){var ee=B(N.current.formattedValue,k,Q);re.value=k,L(re,ee,k)}},[k]);var ce=function(re,ee,fe){var Re=ee.target,Oe=P.current?JUe(P.current,Re.selectionEnd):E1e(k,re),Ae=Object.assign(Object.assign({},Oe),{lastValue:k}),Se=a(re,Ae),xe=V(Se);if(Se=a(xe,void 0),d&&!d(z(xe,Se))){var ke=ee.target,me=UF(ke),Me=B(re,k,me);return ke.value=k,L(ke,Me,k),!1}return Y({formattedValue:xe,numAsString:Se,inputValue:re,event:ee,source:fe,input:ee.target}),!0},le=function(re,ee){ee===void 0&&(ee=0);var fe=re.selectionStart,Re=re.selectionEnd;P.current={selectionStart:fe,selectionEnd:Re+ee}},ue=function(re){var ee=re.target,fe=ee.value,Re=ce(fe,re,u2.event);Re&&f(re),P.current=void 0},ae=function(re){var ee=re.target,fe=re.key,Re=ee.selectionStart,Oe=ee.selectionEnd,Ae=ee.value;Ae===void 0&&(Ae="");var Se;fe==="ArrowLeft"||fe==="Backspace"?Se=Math.max(Re-1,0):fe==="ArrowRight"?Se=Math.min(Re+1,Ae.length):fe==="Delete"&&(Se=Re);var xe=0;fe==="Delete"&&Re===Oe&&(xe=1);var ke=fe==="ArrowLeft"||fe==="ArrowRight";if(Se===void 0||Re!==Oe&&!ke){h(re),le(ee,xe);return}var me=Se;if(ke){var Me=fe==="ArrowLeft"?"left":"right";me=H(Ae,Se,Me),me!==Se&&re.preventDefault()}else fe==="Delete"&&!x(Ae[Se])?me=H(Ae,Se,"right"):fe==="Backspace"&&!x(Ae[Se])&&(me=H(Ae,Se,"left"));me!==Se&&L(ee,me,Ae),h(re),le(ee,xe)},te=function(re){var ee=re.target,fe=function(){var Re=ee.selectionStart,Oe=ee.selectionEnd,Ae=ee.value;if(Ae===void 0&&(Ae=""),Re===Oe){var Se=H(Ae,Re);Se!==Re&&L(ee,Se,Ae)}};fe(),requestAnimationFrame(function(){fe()}),p(re),le(ee)},se=function(re){re.persist&&re.persist();var ee=re.target,fe=re.currentTarget;q.current=ee,W.current.focusTimeout=setTimeout(function(){var Re=ee.selectionStart,Oe=ee.selectionEnd,Ae=ee.value;Ae===void 0&&(Ae="");var Se=H(Ae,Re);Se!==Re&&!(Re===0&&Oe===Ae.length)&&L(ee,Se,Ae),m(Object.assign(Object.assign({},re),{currentTarget:fe}))},0)},we=function(re){q.current=null,clearTimeout(W.current.focusTimeout),clearTimeout(W.current.setCaretTimeout),g(re)},X=j&&eHe()?"numeric":void 0,he=Object.assign({inputMode:X},_,{type:t,value:k,onChange:ue,onKeyDown:ae,onMouseUp:te,onFocus:se,onBlur:we});if(n==="text")return i?un.createElement(un.Fragment,null,i(k,_)||null):un.createElement("span",Object.assign({},_,{ref:o}),k);if(r){var ge=r;return un.createElement(ge,Object.assign({},he,{ref:o}))}return un.createElement("input",Object.assign({},he,{ref:o}))}function Qie(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix;i===void 0&&(i="");var o=t.suffix;o===void 0&&(o="");var s=t.allowNegative,a=t.thousandsGroupStyle;if(a===void 0&&(a="thousand"),e===""||e==="-")return e;var l=Y4(t),u=l.thousandSeparator,c=l.decimalSeparator,d=n!==0&&e.indexOf(".")!==-1||n&&r,f=HW(e,s),h=f.beforeDecimal,p=f.afterDecimal,m=f.addNegation;return n!==void 0&&(p=C1e(p,n,!!r)),u&&(h=KUe(h,u,a)),i&&(h=i+h),o&&(p=p+o),m&&(h="-"+h),e=h+(d&&c||"")+p,e}function Y4(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function lHe(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),o=r.test(e);return e=e.replace(/-/g,""),i&&!o&&t&&(e="-"+e),e}function uHe(e,t){return new RegExp("(^-)|[0-9]|"+x1e(e),"g")}function cHe(e,t,n){return e===""?!0:!t?.match(/\d/)&&!n?.match(/\d/)&&typeof e=="string"&&!isNaN(Number(e))}function dHe(e,t,n){var r;t===void 0&&(t=tHe(e));var i=n.allowNegative,o=n.prefix;o===void 0&&(o="");var s=n.suffix;s===void 0&&(s="");var a=n.decimalScale,l=t.from,u=t.to,c=u.start,d=u.end,f=Y4(n),h=f.allowedDecimalSeparators,p=f.decimalSeparator,m=e[d]===p;if(c2(e)&&(e===o||e===s)&&t.lastValue==="")return e;if(d-c===1&&h.indexOf(e[c])!==-1){var g=a===0?"":p;e=e.substring(0,c)+g+e.substring(c+1,e.length)}var v=function(q,W,V){var z=!1,L=!1;o.startsWith("-")?z=!1:q.startsWith("--")?(z=!1,L=!0):s.startsWith("-")&&q.length===s.length?z=!1:q[0]==="-"&&(z=!0);var H=z?1:0;return L&&(H=2),H&&(q=q.substring(H),W-=H,V-=H),{value:q,start:W,end:V,hasNegation:z}},y=v(e,c,d),x=y.hasNegation;r=y,e=r.value,c=r.start,d=r.end;var E=v(t.lastValue,l.start,l.end),_=E.start,S=E.end,T=E.value,k=e.substring(c,d);e.length&&T.length&&(_>T.length-s.length||S<o.length)&&!(k&&s.startsWith(k))&&(e=T);var R=0;e.startsWith(o)?R+=o.length:c<o.length&&(R=c),e=e.substring(R),d-=R;var I=e.length,P=e.length-s.length;e.endsWith(s)?I=P:(d>P||d>e.length-s.length)&&(I=d),e=e.substring(0,I),e=lHe(x?"-"+e:e,i),e=(e.match(uHe(p))||[]).join("");var N=e.indexOf(p);e=e.replace(new RegExp(x1e(p),"g"),function(q,W){return W===N?".":""});var M=HW(e,i),O=M.beforeDecimal,j=M.afterDecimal,U=M.addNegation;return u.end-u.start<l.end-l.start&&O===""&&m&&!parseFloat(j)&&(e=U?"-":""),e}function fHe(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var i=Array.from({length:e.length+1}).map(function(){return!0}),o=e[0]==="-";i.fill(!1,0,n.length+(o?1:0));var s=e.length;return i.fill(!1,s-r.length+1,s+1),i}function hHe(e){var t=Y4(e),n=t.thousandSeparator,r=t.decimalSeparator,i=e.prefix;i===void 0&&(i="");var o=e.allowNegative;if(o===void 0&&(o=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&o&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+o+`
    `),o=!1),Object.assign(Object.assign({},e),{allowNegative:o})}function pHe(e){e=hHe(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,i=e.onKeyDown;i===void 0&&(i=Fg);var o=e.onBlur;o===void 0&&(o=Fg);var s=e.thousandSeparator,a=e.decimalScale,l=e.fixedDecimalScale,u=e.prefix;u===void 0&&(u="");var c=e.defaultValue,d=e.value,f=e.valueIsNumericString,h=e.onValueChange,p=b1e(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),m=Y4(e),g=m.decimalSeparator,v=m.allowedDecimalSeparators,y=function(U){return Qie(U,e)},x=function(U,q){return dHe(U,q,e)},E=Iw(d)?c:d,_=f??cHe(E,u,t);Iw(d)?Iw(c)||(_=_||typeof c=="number"):_=_||typeof d=="number";var S=function(U){return w1e(U)?U:(typeof U=="number"&&(U=_1e(U)),_&&typeof a=="number"?Kie(U,a,!!l):U)},T=S1e(S(d),S(c),!!_,y,x,h),k=T[0],R=k.numAsString,I=k.formattedValue,P=T[1],N=function(U){var q=U.target,W=U.key,V=q.selectionStart,z=q.selectionEnd,L=q.value;if(L===void 0&&(L=""),(W==="Backspace"||W==="Delete")&&z<u.length){U.preventDefault();return}if(V!==z){i(U);return}W==="Backspace"&&L[0]==="-"&&V===u.length+1&&n&&ev(q,1),a&&l&&(W==="Backspace"&&L[V-1]===g?(ev(q,V-1),U.preventDefault()):W==="Delete"&&L[V]===g&&U.preventDefault()),v?.includes(W)&&L[V]===g&&ev(q,V+1);var H=s===!0?",":s;W==="Backspace"&&L[V-1]===H&&ev(q,V-1),W==="Delete"&&L[V]===H&&ev(q,V+1),i(U)},M=function(U){var q=R;if(q.match(/\d/g)||(q=""),r||(q=QUe(q)),l&&a&&(q=Kie(q,a,l)),q!==R){var W=Qie(q,e);P({formattedValue:W,value:q,floatValue:parseFloat(q)},{event:U,source:u2.event})}o(U)},O=function(U){return U===g?!0:c2(U)},j=function(U){var q=U.currentValue,W=U.lastValue,V=U.formattedValue,z=U.currentValueIndex,L=U.formattedValueIndex,H=q[z],B=V[L],Y=E1e(W,q),Q=Y.to,ne=function(ce){return x(ce).indexOf(".")+u.length};return d===0&&l&&a&&q[Q.start]===g&&ne(q)<z&&ne(V)>L?!1:z>=Q.start&&z<Q.end&&v&&v.includes(H)&&B===g?!0:H===B};return Object.assign(Object.assign({},p),{value:I,valueIsNumericString:!1,isValidInputCharacter:O,isCharacterSame:j,onValueChange:P,format:y,removeFormatting:x,getCaretBoundary:function(U){return fHe(U,e)},onKeyDown:N,onBlur:M})}function mHe(e){var t=pHe(e);return un.createElement(aHe,Object.assign({},t))}function Jie({direction:e,style:t,...n}){return b.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:b.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var G7={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const gHe=/^(0\.0*|-0(\.0*)?)$/,yHe=/^-?0\d+(\.\d+)?\.?$/;function Y7(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function HF(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||Y7(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function vHe(e){return e.toString().replace(".","").length}function bHe(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&vHe(t)<14&&t!==""}function Zie(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,i=n===void 0||e<=n;return r&&i}const wHe={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},xHe=(e,{size:t})=>({controls:{"--ni-chevron-size":hn(t,"ni-chevron-size")}});function CHe(e,t,n){const r=e.toString().replace(/^0+/,""),i=parseFloat(r);return Number.isNaN(i)?r:i>Number.MAX_SAFE_INTEGER?t!==void 0?String(t):r:Ac(i,n,t)}const qW=nt((e,t)=>{const n=qe("NumberInput",wHe,e),{className:r,classNames:i,styles:o,unstyled:s,vars:a,onChange:l,onValueChange:u,value:c,defaultValue:d,max:f,min:h,step:p,hideControls:m,rightSection:g,isAllowed:v,clampBehavior:y,onBlur:x,allowDecimal:E,decimalScale:_,onKeyDown:S,onKeyDownCapture:T,handlersRef:k,startValue:R,disabled:I,rightSectionPointerEvents:P,allowNegative:N,readOnly:M,size:O,rightSectionWidth:j,stepHoldInterval:U,stepHoldDelay:q,allowLeadingZeros:W,withKeyboardEvents:V,trimLeadingZeroesOnBlur:z,...L}=n,H=Rt({name:"NumberInput",classes:G7,props:n,classNames:i,styles:o,unstyled:s,vars:a,varsResolver:xHe}),{resolvedClassNames:B,resolvedStyles:Y}=lf({classNames:i,styles:o,props:n}),[Q,ne]=qi({value:c,defaultValue:d,finalValue:"",onChange:l}),ce=q!==void 0&&U!==void 0,le=A.useRef(null),ue=A.useRef(null),ae=A.useRef(0),te=(xe,ke)=>{ke.source==="event"&&ne(bHe(xe.floatValue,xe.value)&&!gHe.test(xe.value)&&!(W&&yHe.test(xe.value))?xe.floatValue:xe.value),u?.(xe,ke)},se=xe=>{const ke=String(xe).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return ke?Math.max(0,(ke[1]?ke[1].length:0)-(ke[2]?+ke[2]:0)):0},we=xe=>{le.current&&typeof xe<"u"&&le.current.setSelectionRange(xe,xe)},X=A.useRef(C3);X.current=()=>{if(!HF(Q))return;let xe;const ke=se(Q),me=se(p),Me=Math.max(ke,me),ze=10**Me;if(!Y7(Q)&&(typeof Q!="number"||Number.isNaN(Q)))xe=Ac(R,h,f);else if(f!==void 0){const tt=(Math.round(Number(Q)*ze)+Math.round(p*ze))/ze;xe=tt<=f?tt:f}else xe=(Math.round(Number(Q)*ze)+Math.round(p*ze))/ze;const Xe=xe.toFixed(Me);ne(parseFloat(Xe)),u?.({floatValue:parseFloat(Xe),formattedValue:Xe,value:Xe},{source:"increment"}),setTimeout(()=>we(le.current?.value.length),0)};const he=A.useRef(C3);he.current=()=>{if(!HF(Q))return;let xe;const ke=h!==void 0?h:N?Number.MIN_SAFE_INTEGER:0,me=se(Q),Me=se(p),ze=Math.max(me,Me),Xe=10**ze;if(!Y7(Q)&&typeof Q!="number"||Number.isNaN(Q))xe=Ac(R,ke,f);else{const gt=(Math.round(Number(Q)*Xe)-Math.round(p*Xe))/Xe;xe=ke!==void 0&&gt<ke?ke:gt}const tt=xe.toFixed(ze);ne(parseFloat(tt)),u?.({floatValue:parseFloat(tt),formattedValue:tt,value:tt},{source:"decrement"}),setTimeout(()=>we(le.current?.value.length),0)};const ge=xe=>{S?.(xe),!(M||!V)&&(xe.key==="ArrowUp"&&(xe.preventDefault(),X.current()),xe.key==="ArrowDown"&&(xe.preventDefault(),he.current()))},re=xe=>{if(T?.(xe),xe.key==="Backspace"){const ke=le.current;ke.selectionStart===0&&ke.selectionStart===ke.selectionEnd&&(xe.preventDefault(),window.setTimeout(()=>we(0),0))}},ee=xe=>{let ke=Q;y==="blur"&&typeof ke=="number"&&(ke=Ac(ke,h,f)),z&&typeof ke=="string"&&se(ke)<15&&(ke=CHe(ke,f,h)),Q!==ke&&ne(ke),x?.(xe)};_3(k,{increment:X.current,decrement:he.current});const fe=xe=>{xe?X.current():he.current(),ae.current+=1},Re=xe=>{if(fe(xe),ce){const ke=typeof U=="number"?U:U(ae.current);ue.current=window.setTimeout(()=>Re(xe),ke)}},Oe=(xe,ke)=>{xe.preventDefault(),le.current?.focus(),fe(ke),ce&&(ue.current=window.setTimeout(()=>Re(ke),q))},Ae=()=>{ue.current&&window.clearTimeout(ue.current),ue.current=null,ae.current=0},Se=b.jsxs("div",{...H("controls"),children:[b.jsx(Ko,{...H("control"),tabIndex:-1,"aria-hidden":!0,disabled:I||typeof Q=="number"&&f!==void 0&&Q>=f,mod:{direction:"up"},onMouseDown:xe=>xe.preventDefault(),onPointerDown:xe=>{Oe(xe,!0)},onPointerUp:Ae,onPointerLeave:Ae,children:b.jsx(Jie,{direction:"up"})}),b.jsx(Ko,{...H("control"),tabIndex:-1,"aria-hidden":!0,disabled:I||typeof Q=="number"&&h!==void 0&&Q<=h,mod:{direction:"down"},onMouseDown:xe=>xe.preventDefault(),onPointerDown:xe=>{Oe(xe,!1)},onPointerUp:Ae,onPointerLeave:Ae,children:b.jsx(Jie,{direction:"down"})})]});return b.jsx(Sl,{component:mHe,allowNegative:N,className:Nt(G7.root,r),size:O,...L,readOnly:M,disabled:I,value:Q,getInputRef:uo(t,le),onValueChange:te,rightSection:m||M||!HF(Q)?g:g||Se,classNames:B,styles:Y,unstyled:s,__staticSelector:"NumberInput",decimalScale:E?_:0,onKeyDown:ge,onKeyDownCapture:re,rightSectionPointerEvents:P??(I?"none":void 0),rightSectionWidth:j??`var(--ni-right-section-width-${O||"sm"})`,allowLeadingZeros:W,onBlur:ee,isAllowed:xe=>y==="strict"?v?v(xe)&&Zie(xe.floatValue,h,f):Zie(xe.floatValue,h,f):v?v(xe):!0})});qW.classes={...Sl.classes,...G7};qW.displayName="@mantine/core/NumberInput";const[_He,K4]=ca("Pagination.Root component was not found in tree");var AT={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const EHe={withPadding:!0},RT=nt((e,t)=>{const n=qe("PaginationControl",EHe,e),{classNames:r,className:i,style:o,styles:s,vars:a,active:l,disabled:u,withPadding:c,mod:d,...f}=n,h=K4(),p=u||h.disabled;return b.jsx(Ko,{ref:t,disabled:p,mod:[{active:l,disabled:p,"with-padding":c},d],...h.getStyles("control",{className:i,style:o,classNames:r,styles:s,active:!p}),...f})});RT.classes=AT;RT.displayName="@mantine/core/PaginationControl";function IT({style:e,children:t,path:n,...r}){return b.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...e},...r,children:b.jsx("path",{d:n,fill:"currentColor"})})}const SHe=e=>b.jsx(IT,{...e,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),THe=e=>b.jsx(IT,{...e,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),kHe=e=>b.jsx(IT,{...e,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),AHe=e=>b.jsx(IT,{...e,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),RHe=e=>b.jsx(IT,{...e,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),IHe={icon:RHe},X4=nt((e,t)=>{const n=qe("PaginationDots",IHe,e),{classNames:r,className:i,style:o,styles:s,vars:a,icon:l,...u}=n,c=K4(),d=l;return b.jsx(De,{ref:t,...c.getStyles("dots",{className:i,style:o,styles:s,classNames:r}),...u,children:b.jsx(d,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});X4.classes=AT;X4.displayName="@mantine/core/PaginationDots";function Q4({icon:e,name:t,action:n,type:r}){const i={icon:e},o=A.forwardRef((s,a)=>{const{icon:l,...u}=qe(t,i,s),c=l,d=K4(),f=r==="next"?d.active===d.total:d.active===1;return b.jsx(RT,{disabled:d.disabled||f,ref:a,onClick:d[n],withPadding:!1,...u,children:b.jsx(c,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return o.displayName=`@mantine/core/${t}`,o}const T1e=Q4({icon:SHe,name:"PaginationNext",action:"onNext",type:"next"}),k1e=Q4({icon:THe,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),A1e=Q4({icon:kHe,name:"PaginationFirst",action:"onFirst",type:"previous"}),R1e=Q4({icon:AHe,name:"PaginationLast",action:"onLast",type:"next"});function VW({dotsIcon:e}){const t=K4(),n=t.range.map((r,i)=>r==="dots"?b.jsx(X4,{icon:e},i):b.jsx(RT,{active:r===t.active,"aria-current":r===t.active?"page":void 0,onClick:()=>t.onChange(r),disabled:t.disabled,...t.getItemProps?.(r),children:t.getItemProps?.(r)?.children??r},i));return b.jsx(b.Fragment,{children:n})}VW.displayName="@mantine/core/PaginationItems";const DHe={siblings:1,boundaries:1},PHe=(e,{size:t,radius:n,color:r,autoContrast:i})=>({root:{"--pagination-control-radius":n===void 0?void 0:jr(n),"--pagination-control-size":hn(t,"pagination-control-size"),"--pagination-control-fz":lo(t),"--pagination-active-bg":r?qr(r,e):void 0,"--pagination-active-color":H0(i,e)?zh({color:r,theme:e,autoContrast:i}):void 0}}),J4=nt((e,t)=>{const n=qe("PaginationRoot",DHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,total:u,value:c,defaultValue:d,onChange:f,disabled:h,siblings:p,boundaries:m,color:g,radius:v,onNextPage:y,onPreviousPage:x,onFirstPage:E,onLastPage:_,getItemProps:S,autoContrast:T,...k}=n,R=Rt({name:"Pagination",classes:AT,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:PHe}),{range:I,setPage:P,next:N,previous:M,active:O,first:j,last:U}=dFe({page:c,initialPage:d,onChange:f,total:u,siblings:p,boundaries:m}),q=ks(y,N),W=ks(x,M),V=ks(E,j),z=ks(_,U);return b.jsx(_He,{value:{total:u,range:I,active:O,disabled:h,getItemProps:S,onChange:P,onNext:q,onPrevious:W,onFirst:V,onLast:z,getStyles:R},children:b.jsx(De,{ref:t,...R("root"),...k})})});J4.classes=AT;J4.displayName="@mantine/core/PaginationRoot";const OHe={withControls:!0,withPages:!0,siblings:1,boundaries:1,gap:8},uf=nt((e,t)=>{const n=qe("Pagination",OHe,e),{withEdges:r,withControls:i,getControlProps:o,nextIcon:s,previousIcon:a,lastIcon:l,firstIcon:u,dotsIcon:c,total:d,gap:f,hideWithOnePage:h,withPages:p,...m}=n;return d<=0||h&&d===1?null:b.jsx(J4,{ref:t,total:d,...m,children:b.jsxs(ln,{gap:f,children:[r&&b.jsx(A1e,{icon:u,...o?.("first")}),i&&b.jsx(k1e,{icon:a,...o?.("previous")}),p&&b.jsx(VW,{dotsIcon:c}),i&&b.jsx(T1e,{icon:s,...o?.("next")}),r&&b.jsx(R1e,{icon:l,...o?.("last")})]})})});uf.classes=AT;uf.displayName="@mantine/core/Pagination";uf.Root=J4;uf.Control=RT;uf.Dots=X4;uf.First=A1e;uf.Last=R1e;uf.Next=T1e;uf.Previous=k1e;uf.Items=VW;const[NHe,I1e]=ca("Progress.Root component was not found in tree");var DT={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const MHe={},WW=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=qe("ProgressLabel",MHe,e),l=I1e();return b.jsx(De,{ref:t,...l.getStyles("label",{className:r,style:i,classNames:n,styles:o}),...a})});WW.classes=DT;WW.displayName="@mantine/core/ProgressLabel";const $He={},LHe=(e,{size:t,radius:n,transitionDuration:r})=>({root:{"--progress-size":hn(t,"progress-size"),"--progress-radius":n===void 0?void 0:jr(n),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}}),Z4=nt((e,t)=>{const n=qe("ProgressRoot",$He,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,autoContrast:u,transitionDuration:c,...d}=n,f=Rt({name:"Progress",classes:DT,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:LHe});return b.jsx(NHe,{value:{getStyles:f,autoContrast:u},children:b.jsx(De,{ref:t,...f("root"),...d})})});Z4.classes=DT;Z4.displayName="@mantine/core/ProgressRoot";const FHe={withAria:!0},eM=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,value:a,withAria:l,color:u,striped:c,animated:d,mod:f,...h}=qe("ProgressSection",FHe,e),p=I1e(),m=eo(),g=l?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,"aria-valuetext":`${a}%`}:{};return b.jsx(De,{ref:t,...p.getStyles("section",{className:r,classNames:n,styles:o,style:i}),...h,...g,mod:[{striped:c||d,animated:d},f],__vars:{"--progress-section-width":`${a}%`,"--progress-section-color":qr(u,m),"--progress-label-color":H0(p.autoContrast,m)?zh({color:u,theme:m,autoContrast:p.autoContrast}):void 0}})});eM.classes=DT;eM.displayName="@mantine/core/ProgressSection";const jHe={},Y0=nt((e,t)=>{const n=qe("Progress",jHe,e),{value:r,classNames:i,styles:o,vars:s,color:a,striped:l,animated:u,"aria-label":c,...d}=n,{resolvedClassNames:f,resolvedStyles:h}=lf({classNames:i,styles:o,props:n});return b.jsx(Z4,{ref:t,classNames:f,styles:h,vars:s,...d,children:b.jsx(eM,{value:r,color:a,striped:l,animated:u,"aria-label":c})})});Y0.classes=DT;Y0.displayName="@mantine/core/Progress";Y0.Section=eM;Y0.Root=Z4;Y0.Label=WW;const[BHe,D1e]=Am(),[zHe,UHe]=Am();var P1e={card:"m_9dc8ae12"};const HHe={withBorder:!0},qHe=(e,{radius:t})=>({card:{"--card-radius":jr(t)}}),GW=nt((e,t)=>{const n=qe("RadioCard",HHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:f,onClick:h,name:p,onKeyDown:m,...g}=n,v=Rt({name:"RadioCard",classes:P1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:qHe,rootSelector:"card"}),{dir:y}=lu(),x=D1e(),E=typeof u=="boolean"?u:x?.value===f||!1,_=p||x?.name,S=T=>{if(m?.(T),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(T.nativeEvent.code)){T.preventDefault();const k=Array.from(document.querySelectorAll(`[role="radio"][name="${_||"__mantine"}"]`)),R=k.findIndex(N=>N===T.target),I=R+1>=k.length?0:R+1,P=R-1<0?k.length-1:R-1;T.nativeEvent.code==="ArrowDown"&&(k[I].focus(),k[I].click()),T.nativeEvent.code==="ArrowUp"&&(k[P].focus(),k[P].click()),T.nativeEvent.code==="ArrowLeft"&&(k[y==="ltr"?P:I].focus(),k[y==="ltr"?P:I].click()),T.nativeEvent.code==="ArrowRight"&&(k[y==="ltr"?I:P].focus(),k[y==="ltr"?I:P].click())}};return b.jsx(zHe,{value:{checked:E},children:b.jsx(Ko,{ref:t,mod:[{"with-border":d,checked:E},c],...v("card"),...g,role:"radio","aria-checked":E,name:_,onClick:T=>{h?.(T),x?.onChange(f||"")},onKeyDown:S})})});GW.displayName="@mantine/core/RadioCard";GW.classes=P1e;const VHe={},YW=nt((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,name:l,readOnly:u,...c}=qe("RadioGroup",VHe,e),d=Va(l),[f,h]=qi({value:n,defaultValue:r,finalValue:"",onChange:i}),p=m=>!u&&h(typeof m=="string"?m:m.currentTarget.value);return b.jsx(BHe,{value:{value:f,onChange:p,size:o,name:d},children:b.jsx(Or.Wrapper,{size:o,ref:t,...s,...c,labelElement:"div",__staticSelector:"RadioGroup",children:b.jsx(hW,{role:"radiogroup",children:a})})})});YW.classes=Or.Wrapper.classes;YW.displayName="@mantine/core/RadioGroup";function O1e({size:e,style:t,...n}){return b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:Ye(e),height:Ye(e),...t},"aria-hidden":!0,...n,children:b.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var N1e={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const WHe={icon:O1e},GHe=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=af({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":hn(r,"radio-size"),"--radio-radius":t===void 0?void 0:jr(t),"--radio-color":o==="outline"?l:qr(n,e),"--radio-icon-size":hn(r,"radio-icon-size"),"--radio-icon-color":i?qr(i,e):H0(s,e)?zh({color:n,theme:e,autoContrast:s}):void 0}}},KW=nt((e,t)=>{const n=qe("RadioIndicator",WHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,icon:u,radius:c,color:d,iconColor:f,autoContrast:h,checked:p,mod:m,variant:g,disabled:v,...y}=n,x=u,E=Rt({name:"RadioIndicator",classes:N1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:GHe,rootSelector:"indicator"}),_=UHe(),S=typeof p=="boolean"?p:_?.checked||!1;return b.jsx(De,{ref:t,...E("indicator",{variant:g}),variant:g,mod:[{checked:S,disabled:v},m],...y,children:b.jsx(x,{...E("icon")})})});KW.displayName="@mantine/core/RadioIndicator";KW.classes=N1e;var M1e={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const YHe={labelPosition:"right"},KHe=(e,{size:t,radius:n,color:r,iconColor:i,variant:o,autoContrast:s})=>{const a=af({color:r||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":hn(t,"radio-size"),"--radio-radius":n===void 0?void 0:jr(n),"--radio-color":o==="outline"?l:qr(r,e),"--radio-icon-color":i?qr(i,e):H0(s,e)?zh({color:r,theme:e,autoContrast:s}):void 0,"--radio-icon-size":hn(t,"radio-icon-size")}}},$a=nt((e,t)=>{const n=qe("Radio",YHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,id:u,size:c,label:d,labelPosition:f,description:h,error:p,radius:m,color:g,variant:v,disabled:y,wrapperProps:x,icon:E=O1e,rootRef:_,iconColor:S,onChange:T,mod:k,...R}=n,I=Rt({name:"Radio",classes:M1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:KHe}),P=D1e(),N=P?.size??c,M=n.size?c:N,{styleProps:O,rest:j}=Sb(R),U=Va(u),q=P?{checked:P.value===j.value,name:j.name??P.name,onChange:W=>{P.onChange(W),T?.(W)}}:{};return b.jsx($4,{...I("root"),__staticSelector:"Radio",__stylesApiProps:n,id:U,size:M,labelPosition:f,label:d,description:h,error:p,disabled:y,classNames:r,styles:s,unstyled:a,"data-checked":q.checked||void 0,variant:v,ref:_,mod:k,...O,...x,children:b.jsxs(De,{...I("inner"),mod:{"label-position":f},children:[b.jsx(De,{...I("radio",{focusable:!0,variant:v}),onChange:T,...j,...q,component:"input",mod:{error:!!p},ref:t,id:U,disabled:y,type:"radio"}),b.jsx(E,{...I("icon"),"aria-hidden":!0})]})})});$a.classes=M1e;$a.displayName="@mantine/core/Radio";$a.Group=YW;$a.Card=GW;$a.Indicator=KW;const XHe={duration:100,transition:"fade"};function QHe(e,t){return{...XHe,...t,...e}}function JHe({offset:e,position:t,defaultOpened:n}){const[r,i]=A.useState(n),o=A.useRef(null),{x:s,y:a,elements:l,refs:u,update:c,placement:d}=MV({placement:t,middleware:[DV({crossAxis:!0,padding:5,rootBoundary:"document"})]}),f=d.includes("right")?e:t.includes("left")?e*-1:0,h=d.includes("bottom")?e:t.includes("top")?e*-1:0,p=A.useCallback(({clientX:m,clientY:g})=>{u.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:m,y:g,left:m+f,top:g+h,right:m,bottom:g}}})},[l.reference]);return A.useEffect(()=>{if(u.floating.current){const m=o.current;m.addEventListener("mousemove",p);const g=Wp(u.floating.current);return g.forEach(v=>{v.addEventListener("scroll",c)}),()=>{m.removeEventListener("mousemove",p),g.forEach(v=>{v.removeEventListener("scroll",c)})}}},[l.reference,u.floating.current,c,p,r]),{handleMouseMove:p,x:s,y:a,opened:r,setOpened:i,boundaryRef:o,floating:u.setFloating}}var tM={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const ZHe={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:au("popover")},eqe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:jr(t),"--tooltip-bg":n?qr(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),XW=nt((e,t)=>{const n=qe("TooltipFloating",ZHe,e),{children:r,refProp:i,withinPortal:o,style:s,className:a,classNames:l,styles:u,unstyled:c,radius:d,color:f,label:h,offset:p,position:m,multiline:g,zIndex:v,disabled:y,defaultOpened:x,variant:E,vars:_,portalProps:S,...T}=n,k=eo(),R=Rt({name:"TooltipFloating",props:n,classes:tM,className:a,style:s,classNames:l,styles:u,unstyled:c,rootSelector:"tooltip",vars:_,varsResolver:eqe}),{handleMouseMove:I,x:P,y:N,opened:M,boundaryRef:O,floating:j,setOpened:U}=JHe({offset:p,position:m,defaultOpened:x});if(!km(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const q=uo(O,x4(r),t),W=r.props,V=L=>{W.onMouseEnter?.(L),I(L),U(!0)},z=L=>{W.onMouseLeave?.(L),U(!1)};return b.jsxs(b.Fragment,{children:[b.jsx(q0,{...S,withinPortal:o,children:b.jsx(De,{...T,...R("tooltip",{style:{..._V(s,k),zIndex:v,display:!y&&M?"block":"none",top:(N&&Math.round(N))??"",left:(P&&Math.round(P))??""}}),variant:E,ref:j,mod:{multiline:g},children:h})}),A.cloneElement(r,{...W,[i]:q,onMouseEnter:V,onMouseLeave:z})]})});XW.classes=tM;XW.displayName="@mantine/core/TooltipFloating";const $1e=A.createContext(!1),tqe=$1e.Provider,nqe=()=>A.useContext($1e),rqe={openDelay:0,closeDelay:0};function QW(e){const{openDelay:t,closeDelay:n,children:r}=qe("TooltipGroup",rqe,e);return b.jsx(tqe,{value:!0,children:b.jsx(h9e,{delay:{open:t,close:n},children:r})})}QW.displayName="@mantine/core/TooltipGroup";QW.extend=e=>e;function iqe(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function oqe(e){const t=iqe(e.middlewares),n=[Nve(e.offset)];return t.shift&&n.push(DV(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&n.push(typeof t.flip=="boolean"?A3():A3(t.flip)),n.push(Mve({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?pS():pS(t.inline)):e.inline&&n.push(pS()),n}function sqe(e){const[t,n]=A.useState(e.defaultOpened),i=typeof e.opened=="boolean"?e.opened:t,o=nqe(),s=Va(),a=A.useCallback(S=>{n(S),S&&y(s)},[s]),{x:l,y:u,context:c,refs:d,update:f,placement:h,middlewareData:{arrow:{x:p,y:m}={}}}=MV({strategy:e.strategy,placement:e.position,open:i,onOpenChange:a,middleware:oqe(e)}),{delay:g,currentId:v,setCurrentId:y}=p9e(c,{id:s}),{getReferenceProps:x,getFloatingProps:E}=x9e([d9e(c,{enabled:e.events?.hover,delay:o?g:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events?.touch}),w9e(c,{enabled:e.events?.focus,visibleOnly:!0}),_9e(c,{role:"tooltip"}),v9e(c,{enabled:typeof e.opened>"u"})]);abe({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:d,update:f}}),bl(()=>{e.onPositionChange?.(h)},[h]);const _=i&&v&&v!==s;return{x:l,y:u,arrowX:p,arrowY:m,reference:d.setReference,floating:d.setFloating,getFloatingProps:E,getReferenceProps:x,isGroupPhase:_,opened:i,placement:h}}const eoe={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:au("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},aqe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:jr(t),"--tooltip-bg":n?qr(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),ct=nt((e,t)=>{const n=qe("Tooltip",eoe,e),{children:r,position:i,refProp:o,label:s,openDelay:a,closeDelay:l,onPositionChange:u,opened:c,defaultOpened:d,withinPortal:f,radius:h,color:p,classNames:m,styles:g,unstyled:v,style:y,className:x,withArrow:E,arrowSize:_,arrowOffset:S,arrowRadius:T,arrowPosition:k,offset:R,transitionProps:I,multiline:P,events:N,zIndex:M,disabled:O,positionDependencies:j,onClick:U,onMouseEnter:q,onMouseLeave:W,inline:V,variant:z,keepMounted:L,vars:H,portalProps:B,mod:Y,floatingStrategy:Q,middlewares:ne,...ce}=qe("Tooltip",eoe,n),{dir:le}=lu(),ue=A.useRef(null),ae=sqe({position:ebe(le,i),closeDelay:l,openDelay:a,onPositionChange:u,opened:c,defaultOpened:d,events:N,arrowRef:ue,arrowOffset:S,offset:typeof R=="number"?R+(E?_/2:0):R,positionDependencies:[...j,r],inline:V,strategy:Q,middlewares:ne}),te=Rt({name:"Tooltip",props:n,classes:tM,className:x,style:y,classNames:m,styles:g,unstyled:v,rootSelector:"tooltip",vars:H,varsResolver:aqe});if(!km(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const se=uo(ae.reference,x4(r),t),we=QHe(I,{duration:100,transition:"fade"}),X=r.props;return b.jsxs(b.Fragment,{children:[b.jsx(q0,{...B,withinPortal:f,children:b.jsx(Vc,{...we,keepMounted:L,mounted:!O&&!!ae.opened,duration:ae.isGroupPhase?10:we.duration,children:he=>b.jsxs(De,{...ce,"data-fixed":Q==="fixed"||void 0,variant:z,mod:[{multiline:P},Y],...ae.getFloatingProps({ref:ae.floating,className:te("tooltip").className,style:{...te("tooltip").style,...he,zIndex:M,top:ae.y??0,left:ae.x??0}}),children:[s,b.jsx(BV,{ref:ue,arrowX:ae.arrowX,arrowY:ae.arrowY,visible:E,position:ae.placement,arrowSize:_,arrowOffset:S,arrowRadius:T,arrowPosition:k,...te("arrow")})]})})}),A.cloneElement(r,ae.getReferenceProps({onClick:U,onMouseEnter:q,onMouseLeave:W,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:Nt(x,X.className),...X,[o]:se}))]})});ct.classes=tM;ct.displayName="@mantine/core/Tooltip";ct.Floating=XW;ct.Group=QW;function lqe({size:e,thickness:t,sum:n,value:r,root:i,offset:o}){const s=(e*.9-t*2)/2,a=Math.PI*s*2/100,l=i||r===void 0?`${(100-n)*a}, ${n*a}`:`${r*a}, ${(100-r)*a}`;return{strokeWidth:Number.isNaN(t)?12:t,cx:e/2||0,cy:e/2||0,r:s||0,transform:i?`scale(1, -1) translate(0, -${e})`:void 0,strokeDasharray:l,strokeDashoffset:i?0:o||0}}function L1e({size:e,value:t,offset:n,sum:r,thickness:i,root:o,color:s,lineRoundCaps:a,tooltip:l,getStyles:u,display:c,...d}){const f=eo();return b.jsx(ct.Floating,{disabled:!l,label:l,children:b.jsx(De,{component:"circle",...d,...u("curve"),__vars:{"--curve-color":s?qr(s,f):void 0},fill:"none",strokeLinecap:a?"round":"butt",...lqe({sum:r,size:e,thickness:i,value:t,offset:n,root:o})})})}L1e.displayName="@mantine/core/Curve";function uqe({size:e,thickness:t,sections:n,renderRoundedLineCaps:r,rootColor:i}){const o=n.reduce((c,d)=>c+d.value,0),s=Math.PI*((e*.9-t*2)/2)*2;let a=s;const l=[],u=[];for(let c=0;c<n.length;c+=1)l.push({sum:o,offset:a,data:n[c],root:!1}),a-=n[c].value/100*s;if(l.push({sum:o,offset:a,data:{color:i},root:!0}),u.push({...l[l.length-1],lineRoundCaps:!1}),l.length>2){u.push({...l[0],lineRoundCaps:r}),u.push({...l[l.length-2],lineRoundCaps:r});for(let c=1;c<=l.length-3;c+=1)u.push({...l[c],lineRoundCaps:!1})}else u.push({...l[0],lineRoundCaps:r});return u}var F1e={root:"m_b32e4812",svg:"m_d43b5134",curve:"m_b1ca1fbf",label:"m_b23f9dc4"};function cqe(e,t){return Math.min(e||12,(t||120)/4)}const dqe={size:120,thickness:12},fqe=(e,{size:t,thickness:n,transitionDuration:r})=>({root:{"--rp-size":Ye(t),"--rp-label-offset":Ye(n*2),"--rp-transition-duration":r?`${r}ms`:void 0}}),nM=nt((e,t)=>{const n=qe("RingProgress",dqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,label:u,sections:c,size:d,thickness:f,roundCaps:h,rootColor:p,transitionDuration:m,...g}=n,v=Rt({name:"RingProgress",classes:F1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:fqe}),y=cqe(f,d),x=uqe({size:d,thickness:y,sections:c,renderRoundedLineCaps:h,rootColor:p}).map(({data:E,sum:_,root:S,lineRoundCaps:T,offset:k},R)=>A.createElement(L1e,{...E,key:R,size:d,thickness:y,sum:_,offset:k,color:E?.color,root:S,lineRoundCaps:T,getStyles:v}));return b.jsxs(De,{...v("root"),size:d,ref:t,...g,children:[b.jsx("svg",{...v("svg"),children:x}),u&&b.jsx("div",{...v("label"),children:u})]})});nM.classes=F1e;nM.displayName="@mantine/core/RingProgress";var j1e={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const hqe={withItemsBorders:!0},pqe=(e,{radius:t,color:n,transitionDuration:r,size:i,transitionTimingFunction:o})=>({root:{"--sc-radius":t===void 0?void 0:jr(t),"--sc-color":n?qr(n,e):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":o,"--sc-padding":hn(i,"sc-padding"),"--sc-font-size":lo(i)}}),JW=nt((e,t)=>{const n=qe("SegmentedControl",hqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,data:u,value:c,defaultValue:d,onChange:f,size:h,name:p,disabled:m,readOnly:g,fullWidth:v,orientation:y,radius:x,color:E,transitionDuration:_,transitionTimingFunction:S,variant:T,autoContrast:k,withItemsBorders:R,mod:I,...P}=n,N=Rt({name:"SegmentedControl",props:n,classes:j1e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:pqe}),M=eo(),O=u.map(le=>typeof le=="string"?{label:le,value:le}:le),j=_Fe(),[U,q]=A.useState(n0()),[W,V]=A.useState(null),[z,L]=A.useState({}),H=(le,ue)=>{z[ue]=le,L(z)},[B,Y]=qi({value:c,defaultValue:d,finalValue:Array.isArray(u)?O.find(le=>!le.disabled)?.value??u[0]?.value??null:null,onChange:f}),Q=Va(p),ne=O.map(le=>A.createElement(De,{...N("control"),mod:{active:B===le.value,orientation:y},key:le.value},A.createElement("input",{...N("input"),disabled:m||le.disabled,type:"radio",name:Q,value:le.value,id:`${Q}-${le.value}`,checked:B===le.value,onChange:()=>!g&&Y(le.value),"data-focus-ring":M.focusRing,key:`${le.value}-input`}),A.createElement(De,{component:"label",...N("label"),mod:{active:B===le.value&&!(m||le.disabled),disabled:m||le.disabled,"read-only":g},htmlFor:`${Q}-${le.value}`,ref:ue=>H(ue,le.value),__vars:{"--sc-label-color":E!==void 0?zh({color:E,theme:M,autoContrast:k}):void 0},key:`${le.value}-label`},b.jsx("span",{...N("innerLabel"),children:le.label})))),ce=uo(t,le=>V(le));return gFe(()=>{q(n0())},[u.length]),u.length===0?null:b.jsxs(De,{...N("root"),variant:T,size:h,ref:ce,mod:[{"full-width":v,orientation:y,initialized:j,"with-items-borders":R},I],...P,role:"radiogroup","data-disabled":m,children:[typeof B=="string"&&b.jsx(GV,{target:z[B],parent:W,component:"span",transitionDuration:"var(--sc-transition-duration)",...N("indicator")},U),ne]})});JW.classes=j1e;JW.displayName="@mantine/core/SegmentedControl";const mqe={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},um=nt((e,t)=>{const n=qe("Select",mqe,e),{classNames:r,styles:i,unstyled:o,vars:s,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:p,data:m,value:g,defaultValue:v,selectFirstOptionOnChange:y,onOptionSubmit:x,comboboxProps:E,readOnly:_,disabled:S,filter:T,limit:k,withScrollArea:R,maxDropdownHeight:I,size:P,searchable:N,rightSection:M,checkIconPosition:O,withCheckIcon:j,nothingFoundMessage:U,name:q,form:W,searchValue:V,defaultSearchValue:z,onSearchChange:L,allowDeselect:H,error:B,rightSectionPointerEvents:Y,id:Q,clearable:ne,clearButtonProps:ce,hiddenInputProps:le,renderOption:ue,onClear:ae,autoComplete:te,scrollAreaProps:se,__defaultRightSection:we,__clearSection:X,__clearable:he,chevronColor:ge,...re}=n,ee=A.useMemo(()=>tW(m),[m]),fe=A.useMemo(()=>M4(ee),[ee]),Re=Va(Q),[Oe,Ae,Se]=qi({value:g,defaultValue:v,finalValue:null,onChange:p}),xe=typeof Oe=="string"?fe[Oe]:void 0,ke=bFe(xe),[me,Me,ze]=qi({value:V,defaultValue:z,finalValue:xe?xe.label:"",onChange:L}),Xe=TT({opened:a,defaultOpened:l,onDropdownOpen:()=>{c?.(),Xe.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{u?.(),Xe.resetSelectedOption()}}),tt=$t=>{Me($t),Xe.resetSelectedOption()},{resolvedClassNames:gt,resolvedStyles:qt}=lf({props:n,styles:i,classNames:r});A.useEffect(()=>{y&&Xe.selectFirstOption()},[y,me]),A.useEffect(()=>{g===null&&tt(""),typeof g=="string"&&xe&&(ke?.value!==xe.value||ke?.label!==xe.label)&&tt(xe.label)},[g,xe]),A.useEffect(()=>{!Se&&!ze&&tt(typeof Oe=="string"&&fe[Oe]?.label||"")},[m,Oe]);const zt=b.jsx(Un.ClearButton,{...ce,onClear:()=>{Ae(null,null),tt(""),ae?.()}}),_n=ne&&!!Oe&&!S&&!_;return b.jsxs(b.Fragment,{children:[b.jsxs(Un,{store:Xe,__staticSelector:"Select",classNames:gt,styles:qt,unstyled:o,readOnly:_,onOptionSubmit:$t=>{x?.($t);const dn=H&&fe[$t].value===Oe?null:fe[$t],Vn=dn?dn.value:null;Vn!==Oe&&Ae(Vn,dn),!Se&&tt(typeof Vn=="string"&&dn?.label||""),Xe.closeDropdown()},size:P,...E,children:[b.jsx(Un.Target,{targetType:N?"input":"button",autoComplete:te,children:b.jsx(Sl,{id:Re,ref:t,__defaultRightSection:b.jsx(Un.Chevron,{size:P,error:B,unstyled:o,color:ge}),__clearSection:zt,__clearable:_n,rightSection:M,rightSectionPointerEvents:Y||(_n?"all":"none"),...re,size:P,__staticSelector:"Select",disabled:S,readOnly:_||!N,value:me,onChange:$t=>{tt($t.currentTarget.value),Xe.openDropdown(),y&&Xe.selectFirstOption()},onFocus:$t=>{N&&Xe.openDropdown(),d?.($t)},onBlur:$t=>{N&&Xe.closeDropdown(),tt(Oe!=null&&fe[Oe]?.label||""),f?.($t)},onClick:$t=>{N?Xe.openDropdown():Xe.toggleDropdown(),h?.($t)},classNames:gt,styles:qt,unstyled:o,pointer:!N,error:B})}),b.jsx(yW,{data:ee,hidden:_||S,filter:T,search:me,limit:k,hiddenWhenEmpty:!U,withScrollArea:R,maxDropdownHeight:I,filterOptions:N&&xe?.label!==me,value:Oe,checkIconPosition:O,withCheckIcon:j,nothingFoundMessage:U,unstyled:o,labelId:re.label?`${Re}-label`:void 0,"aria-label":re.label?void 0:re["aria-label"],renderOption:ue,scrollAreaProps:se})]}),b.jsx(Un.HiddenInput,{value:Oe,name:q,form:W,disabled:S,...le})]})});um.classes={...Sl.classes,...Un.classes};um.displayName="@mantine/core/Select";function gqe({spacing:e,verticalSpacing:t,cols:n,selector:r}){const i=eo(),o=t===void 0?e:t,s=z0({"--sg-spacing-x":Di(Ad(e)),"--sg-spacing-y":Di(Ad(o)),"--sg-cols":Ad(n)?.toString()}),a=_i(i.breakpoints).reduce((c,d)=>(c[d]||(c[d]={}),typeof e=="object"&&e[d]!==void 0&&(c[d]["--sg-spacing-x"]=Di(e[d])),typeof o=="object"&&o[d]!==void 0&&(c[d]["--sg-spacing-y"]=Di(o[d])),typeof n=="object"&&n[d]!==void 0&&(c[d]["--sg-cols"]=n[d]),c),{}),u=i2(_i(a),i.breakpoints).filter(c=>_i(a[c.value]).length>0).map(c=>({query:`(min-width: ${i.breakpoints[c.value]})`,styles:a[c.value]}));return b.jsx(Eb,{styles:s,media:u,selector:r})}function qF(e){return typeof e=="object"&&e!==null?_i(e):[]}function yqe(e){return e.sort((t,n)=>r2(t)-r2(n))}function vqe({spacing:e,verticalSpacing:t,cols:n}){const r=Array.from(new Set([...qF(e),...qF(t),...qF(n)]));return yqe(r)}function bqe({spacing:e,verticalSpacing:t,cols:n,selector:r}){const i=t===void 0?e:t,o=z0({"--sg-spacing-x":Di(Ad(e)),"--sg-spacing-y":Di(Ad(i)),"--sg-cols":Ad(n)?.toString()}),s=vqe({spacing:e,verticalSpacing:t,cols:n}),a=s.reduce((u,c)=>(u[c]||(u[c]={}),typeof e=="object"&&e[c]!==void 0&&(u[c]["--sg-spacing-x"]=Di(e[c])),typeof i=="object"&&i[c]!==void 0&&(u[c]["--sg-spacing-y"]=Di(i[c])),typeof n=="object"&&n[c]!==void 0&&(u[c]["--sg-cols"]=n[c]),u),{}),l=s.map(u=>({query:`simple-grid (min-width: ${u})`,styles:a[u]}));return b.jsx(Eb,{styles:o,container:l,selector:r})}var B1e={container:"m_925c2d2c",root:"m_2415a157"};const wqe={cols:1,spacing:"md",type:"media"},ZW=nt((e,t)=>{const n=qe("SimpleGrid",wqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,cols:u,verticalSpacing:c,spacing:d,type:f,...h}=n,p=Rt({name:"SimpleGrid",classes:B1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l}),m=wT();return f==="container"?b.jsxs(b.Fragment,{children:[b.jsx(bqe,{...n,selector:`.${m}`}),b.jsx("div",{...p("container"),children:b.jsx(De,{ref:t,...p("root",{className:m}),...h})})]}):b.jsxs(b.Fragment,{children:[b.jsx(gqe,{...n,selector:`.${m}`}),b.jsx(De,{ref:t,...p("root",{className:m}),...h})]})});ZW.classes=B1e;ZW.displayName="@mantine/core/SimpleGrid";var z1e={root:"m_18320242","skeleton-fade":"m_299c329c"};const xqe={visible:!0,animate:!0},Cqe=(e,{width:t,height:n,radius:r,circle:i})=>({root:{"--skeleton-height":Ye(n),"--skeleton-width":Ye(i?n:t),"--skeleton-radius":i?"1000px":r===void 0?void 0:jr(r)}}),Ao=nt((e,t)=>{const n=qe("Skeleton",xqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,width:u,height:c,circle:d,visible:f,radius:h,animate:p,mod:m,...g}=n,v=Rt({name:"Skeleton",classes:z1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Cqe});return b.jsx(De,{ref:t,...v("root"),mod:[{visible:f,animate:p},m],...g})});Ao.classes=z1e;Ao.displayName="@mantine/core/Skeleton";const[U1e,rM]=ca("SliderProvider was not found in tree"),eG=A.forwardRef(({size:e,disabled:t,variant:n,color:r,thumbSize:i,radius:o,...s},a)=>{const{getStyles:l}=rM();return b.jsx(De,{tabIndex:-1,variant:n,size:e,ref:a,...l("root"),...s})});eG.displayName="@mantine/core/SliderRoot";const D3=A.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:o,onMouseDown:s,onKeyDownCapture:a,labelTransitionProps:l,labelAlwaysOn:u,thumbLabel:c,onFocus:d,onBlur:f,showLabelOnHover:h,isHovered:p,children:m=null,disabled:g},v)=>{const{getStyles:y}=rM(),[x,E]=A.useState(!1),_=u||o||x||h&&p;return b.jsxs(De,{tabIndex:0,role:"slider","aria-label":c,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:v,__vars:{"--slider-thumb-offset":`${r}%`},...y("thumb",{focusable:!0}),mod:{dragging:o,disabled:g},onFocus:S=>{E(!0),typeof d=="function"&&d(S)},onBlur:S=>{E(!1),typeof f=="function"&&f(S)},onTouchStart:s,onMouseDown:s,onKeyDownCapture:a,onClick:S=>S.stopPropagation(),children:[m,b.jsx(Vc,{mounted:i!=null&&!!_,transition:"fade",duration:0,...l,children:S=>b.jsx("div",{...y("label",{style:S}),children:i})})]})});D3.displayName="@mantine/core/SliderThumb";function P3({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function _qe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}function H1e({marks:e,min:t,max:n,disabled:r,value:i,offset:o,inverted:s}){const{getStyles:a}=rM();if(!e)return null;const l=e.map((u,c)=>A.createElement(De,{...a("markWrapper"),__vars:{"--mark-offset":`${P3({value:u.value,min:t,max:n})}%`},key:c},b.jsx(De,{...a("mark"),mod:{filled:_qe({mark:u,value:i,offset:o,inverted:s}),disabled:r}}),u.label&&b.jsx("div",{...a("markLabel"),children:u.label})));return b.jsx("div",{children:l})}H1e.displayName="@mantine/core/SliderMarks";function tG({filled:e,children:t,offset:n,disabled:r,marksOffset:i,inverted:o,containerProps:s,...a}){const{getStyles:l}=rM();return b.jsx(De,{...l("trackContainer"),mod:{disabled:r},...s,children:b.jsxs(De,{...l("track"),mod:{inverted:o,disabled:r},children:[b.jsx(De,{mod:{inverted:o,disabled:r},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...l("bar")}),t,b.jsx(H1e,{...a,offset:i,disabled:r,inverted:o})]})})}tG.displayName="@mantine/core/SliderTrack";function K7({value:e,containerWidth:t,min:n,max:r,step:i,precision:o}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),l=(a!==0?Math.round(a/i)*i:0)+n,u=Math.max(l,n);return o!==void 0?Number(u.toFixed(o)):u}function hc(e,t){return parseFloat(e.toFixed(t))}function q1e(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function fv(e,t){const r=[...t].sort((i,o)=>i.value-o.value).find(i=>i.value>e);return r?r.value:e}function hv(e,t){const r=[...t].sort((i,o)=>o.value-i.value).find(i=>i.value<e);return r?r.value:e}function X7(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[0].value:0}function Q7(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[t.length-1].value:100}var iM={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const Eqe={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},Sqe=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":hn(t,"slider-size"),"--slider-color":n?qr(n,e):void 0,"--slider-radius":i===void 0?void 0:jr(i),"--slider-thumb-size":r!==void 0?Ye(r):"calc(var(--slider-size) * 2)"}}),oM=nt((e,t)=>{const n=qe("Slider",Eqe,e),{classNames:r,styles:i,value:o,onChange:s,onChangeEnd:a,size:l,min:u,max:c,step:d,precision:f,defaultValue:h,name:p,marks:m,label:g,labelTransitionProps:v,labelAlwaysOn:y,thumbLabel:x,showLabelOnHover:E,thumbChildren:_,disabled:S,unstyled:T,scale:k,inverted:R,className:I,style:P,vars:N,hiddenInputProps:M,restrictToMarks:O,thumbProps:j,...U}=n,q=Rt({name:"Slider",props:n,classes:iM,classNames:r,className:I,styles:i,style:P,vars:N,varsResolver:Sqe,unstyled:T}),{dir:W}=lu(),[V,z]=A.useState(!1),[L,H]=qi({value:typeof o=="number"?Ac(o,u,c):o,defaultValue:typeof h=="number"?Ac(h,u,c):h,finalValue:Ac(0,u,c),onChange:s}),B=A.useRef(L),Y=A.useRef(a);A.useEffect(()=>{Y.current=a},[a]);const Q=A.useRef(null),ne=A.useRef(null),ce=P3({value:L,min:u,max:c}),le=k(L),ue=typeof g=="function"?g(le):g,ae=f??q1e(d),te=A.useCallback(({x:re})=>{if(!S){const ee=K7({value:re,min:u,max:c,step:d,precision:ae});H(O&&m?.length?D7(ee,m.map(fe=>fe.value)):ee),B.current=ee}},[S,u,c,d,ae,H,m,O]),se=A.useCallback(()=>{if(!S&&Y.current){const re=O&&m?.length?D7(B.current,m.map(ee=>ee.value)):B.current;Y.current(re)}},[S,m,O]),{ref:we,active:X}=bT(te,{onScrubEnd:se},W),he=A.useCallback(re=>{!S&&Y.current&&Y.current(re)},[S]),ge=re=>{if(!S)switch(re.key){case"ArrowUp":{if(re.preventDefault(),ne.current?.focus(),O&&m){const fe=fv(L,m);H(fe),he(fe);break}const ee=hc(Math.min(Math.max(L+d,u),c),ae);H(ee),he(ee);break}case"ArrowRight":{if(re.preventDefault(),ne.current?.focus(),O&&m){const fe=W==="rtl"?hv(L,m):fv(L,m);H(fe),he(fe);break}const ee=hc(Math.min(Math.max(W==="rtl"?L-d:L+d,u),c),ae);H(ee),he(ee);break}case"ArrowDown":{if(re.preventDefault(),ne.current?.focus(),O&&m){const fe=hv(L,m);H(fe),he(fe);break}const ee=hc(Math.min(Math.max(L-d,u),c),ae);H(ee),he(ee);break}case"ArrowLeft":{if(re.preventDefault(),ne.current?.focus(),O&&m){const fe=W==="rtl"?fv(L,m):hv(L,m);H(fe),he(fe);break}const ee=hc(Math.min(Math.max(W==="rtl"?L+d:L-d,u),c),ae);H(ee),he(ee);break}case"Home":{if(re.preventDefault(),ne.current?.focus(),O&&m){H(X7(m)),he(X7(m));break}H(u),he(u);break}case"End":{if(re.preventDefault(),ne.current?.focus(),O&&m){H(Q7(m)),he(Q7(m));break}H(c),he(c);break}}};return b.jsx(U1e,{value:{getStyles:q},children:b.jsxs(eG,{...U,ref:uo(t,Q),onKeyDownCapture:ge,onMouseDownCapture:()=>Q.current?.focus(),size:l,disabled:S,children:[b.jsx(tG,{inverted:R,offset:0,filled:ce,marks:m,min:u,max:c,value:le,disabled:S,containerProps:{ref:we,onMouseEnter:E?()=>z(!0):void 0,onMouseLeave:E?()=>z(!1):void 0},children:b.jsx(D3,{max:c,min:u,value:le,position:ce,dragging:X,label:ue,ref:ne,labelTransitionProps:v,labelAlwaysOn:y,thumbLabel:x,showLabelOnHover:E,isHovered:V,disabled:S,...j,children:_})}),b.jsx("input",{type:"hidden",name:p,value:le,...M})]})})});oM.classes=iM;oM.displayName="@mantine/core/Slider";function Tqe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}const kqe=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":hn(t,"slider-size"),"--slider-color":n?qr(n,e):void 0,"--slider-radius":i===void 0?void 0:jr(i),"--slider-thumb-size":r!==void 0?Ye(r):"calc(var(--slider-size) * 2)"}}),Aqe={min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,showLabelOnHover:!0,disabled:!1,scale:e=>e},nG=nt((e,t)=>{const n=qe("RangeSlider",Aqe,e),{classNames:r,styles:i,value:o,onChange:s,onChangeEnd:a,size:l,min:u,max:c,minRange:d,maxRange:f,step:h,precision:p,defaultValue:m,name:g,marks:v,label:y,labelTransitionProps:x,labelAlwaysOn:E,thumbFromLabel:_,thumbToLabel:S,showLabelOnHover:T,thumbChildren:k,disabled:R,unstyled:I,scale:P,inverted:N,className:M,style:O,vars:j,hiddenInputProps:U,restrictToMarks:q,thumbProps:W,...V}=n,z=Rt({name:"Slider",props:n,classes:iM,classNames:r,className:M,styles:i,style:O,vars:j,varsResolver:kqe,unstyled:I}),{dir:L}=lu(),[H,B]=A.useState(-1),[Y,Q]=A.useState(!1),[ne,ce]=qi({value:o,defaultValue:m,finalValue:[u,c],onChange:s}),le=A.useRef(ne),ue=A.useRef([]),ae=A.useRef(null),te=A.useRef(void 0),se=[P3({value:ne[0],min:u,max:c}),P3({value:ne[1],min:u,max:c})],we=p??q1e(h),X=ke=>{ce(ke),le.current=ke};A.useEffect(()=>{Array.isArray(o)&&(le.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const he=(ke,me,Me)=>{if(me===-1)return;const ze=[...le.current];if(q&&v){const Xe=D7(ke,v.map(_n=>_n.value)),tt=ze[me];ze[me]=Xe;const gt=me===0?1:0,qt=Q7(v),zt=X7(v);Xe===qt&&ze[gt]===qt||Xe===zt&&ze[gt]===zt?ze[me]=tt:Xe===ze[gt]&&(tt>ze[gt]?ze[gt]=hv(Xe,v):ze[gt]=fv(Xe,v))}else ze[me]=ke,me===0&&(ke>ze[1]-(d-1e-9)&&(ze[1]=Math.min(ke+d,c)),ke>(c-(d-1e-9)||u)&&(ze[me]=le.current[me]),ze[1]-ke>f&&(ze[1]=ke+f)),me===1&&(ke<ze[0]+d&&(ze[0]=Math.max(ke-d,u)),ke<ze[0]+d&&(ze[me]=le.current[me]),ke-ze[0]>f&&(ze[0]=ke-f));if(ze[0]=hc(ze[0],we),ze[1]=hc(ze[1],we),ze[0]>ze[1]){const Xe=ze[0];ze[0]=ze[1],ze[1]=Xe}X(ze),Me&&a?.(le.current)},ge=ke=>{if(!R){const me=K7({value:ke,min:u,max:c,step:h,precision:we});he(me,te.current,!1)}},{ref:re,active:ee}=bT(({x:ke})=>ge(ke),{onScrubEnd:()=>!R&&a?.(le.current)},L);function fe(ke){te.current=ke}const Re=ke=>{re.current.focus();const me=re.current.getBoundingClientRect(),Me=Tqe(ke.nativeEvent),ze=K7({value:Me-me.left,max:c,min:u,step:h,containerWidth:me.width}),Xe=Math.abs(ne[0]-ze)>Math.abs(ne[1]-ze)?1:0,tt=L==="ltr"?Xe:Xe===1?0:1;te.current=tt},Oe=()=>H!==1&&H!==0?(B(0),0):H,Ae=ke=>{if(!R)switch(ke.key){case"ArrowUp":{ke.preventDefault();const me=Oe();ue.current[me].focus();const Me=q&&v?fv(le.current[me],v):Math.min(Math.max(le.current[me]+h,u),c);he(hc(Me,we),me,!0);break}case"ArrowRight":{ke.preventDefault();const me=Oe();ue.current[me].focus();const Me=q&&v?(L==="rtl"?hv:fv)(le.current[me],v):Math.min(Math.max(L==="rtl"?le.current[me]-h:le.current[me]+h,u),c);he(hc(Me,we),me,!0);break}case"ArrowDown":{ke.preventDefault();const me=Oe();ue.current[me].focus();const Me=q&&v?hv(le.current[me],v):Math.min(Math.max(le.current[me]-h,u),c);he(hc(Me,we),me,!0);break}case"ArrowLeft":{ke.preventDefault();const me=Oe();ue.current[me].focus();const Me=q&&v?(L==="rtl"?fv:hv)(le.current[me],v):Math.min(Math.max(L==="rtl"?le.current[me]+h:le.current[me]-h,u),c);he(hc(Me,we),me,!0);break}}},Se={max:c,min:u,size:l,labelTransitionProps:x,labelAlwaysOn:E,onBlur:()=>B(-1)},xe=Array.isArray(k);return b.jsx(U1e,{value:{getStyles:z},children:b.jsxs(eG,{...V,size:l,ref:uo(t,ae),disabled:R,onMouseDownCapture:()=>ae.current?.focus(),onKeyDownCapture:()=>{ue.current[0]?.parentElement?.contains(document.activeElement)||ue.current[0]?.focus()},children:[b.jsxs(tG,{offset:se[0],marksOffset:ne[0],filled:se[1]-se[0],marks:v,inverted:N,min:u,max:c,value:ne[1],disabled:R,containerProps:{ref:re,onMouseEnter:T?()=>Q(!0):void 0,onMouseLeave:T?()=>Q(!1):void 0,onTouchStartCapture:Re,onTouchEndCapture:()=>{te.current=-1},onMouseDownCapture:Re,onMouseUpCapture:()=>{te.current=-1},onKeyDownCapture:Ae},children:[b.jsx(D3,{...Se,value:P(ne[0]),position:se[0],dragging:ee,label:typeof y=="function"?y(hc(P(ne[0]),we)):y,ref:ke=>{ue.current[0]=ke},thumbLabel:_,onMouseDown:()=>fe(0),onFocus:()=>B(0),showLabelOnHover:T,isHovered:Y,disabled:R,...W?.(0),children:xe?k[0]:k}),b.jsx(D3,{...Se,thumbLabel:S,value:P(ne[1]),position:se[1],dragging:ee,label:typeof y=="function"?y(hc(P(ne[1]),we)):y,ref:ke=>{ue.current[1]=ke},onMouseDown:()=>fe(1),onFocus:()=>B(1),showLabelOnHover:T,isHovered:Y,disabled:R,...W?.(1),children:xe?k[1]:k})]}),b.jsx("input",{type:"hidden",name:`${g}_from`,value:ne[0],...U}),b.jsx("input",{type:"hidden",name:`${g}_to`,value:ne[1],...U})]})})});nG.classes=iM;nG.displayName="@mantine/core/RangeSlider";const Rqe={},$u=nt((e,t)=>{const{w:n,h:r,miw:i,mih:o,...s}=qe("Space",Rqe,e);return b.jsx(De,{ref:t,...s,w:n,miw:i??n,h:r,mih:o??r})});$u.displayName="@mantine/core/Space";var V1e={root:"m_559cce2d",content:"m_b912df4e",control:"m_b9131032"};const Iqe={maxHeight:100,initialState:!1},Dqe=(e,{transitionDuration:t})=>({root:{"--spoiler-transition-duration":t!==void 0?`${t}ms`:void 0}}),rG=nt((e,t)=>{const n=qe("Spoiler",Iqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,initialState:u,maxHeight:c,hideLabel:d,showLabel:f,children:h,controlRef:p,transitionDuration:m,id:g,expanded:v,onExpandedChange:y,...x}=n,E=Rt({name:"Spoiler",classes:V1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Dqe}),_=Va(g),S=`${_}-region`,[T,k]=qi({value:v,defaultValue:u,finalValue:!1,onChange:y}),{ref:R,height:I}=hFe(),P=T?d:f,N=P!==null&&c<I;return b.jsxs(De,{...E("root"),id:_,ref:t,"data-has-spoiler":N||void 0,...x,children:[N&&b.jsx(V0,{component:"button",type:"button",ref:p,onClick:()=>k(!T),"aria-expanded":T,"aria-controls":S,...E("control"),children:P}),b.jsx("div",{...E("content",{style:{maxHeight:T?I?Ye(I):void 0:Ye(c)}}),"data-reduce-motion":!0,role:"region",id:S,children:b.jsx("div",{ref:R,children:h})})]})});rG.classes=V1e;rG.displayName="@mantine/core/Spoiler";var W1e={root:"m_6d731127"};const Pqe={gap:"md",align:"stretch",justify:"flex-start"},Oqe=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":Di(t),"--stack-align":n,"--stack-justify":r}}),Nn=nt((e,t)=>{const n=qe("Stack",Pqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,align:u,justify:c,gap:d,variant:f,...h}=n,p=Rt({name:"Stack",props:n,classes:W1e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Oqe});return b.jsx(De,{ref:t,...p("root"),variant:f,...h})});Nn.classes=W1e;Nn.displayName="@mantine/core/Stack";const G1e=A.createContext(null),Nqe=G1e.Provider,Mqe=()=>A.useContext(G1e),$qe={},iG=nt((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,readOnly:l,...u}=qe("SwitchGroup",$qe,e),[c,d]=qi({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const p=h.currentTarget.value;!l&&d(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return b.jsx(Nqe,{value:{value:c,onChange:f,size:o},children:b.jsx(Or.Wrapper,{size:o,ref:t,...s,...u,labelElement:"div",__staticSelector:"SwitchGroup",children:b.jsx(hW,{role:"group",children:a})})})});iG.classes=Or.Wrapper.classes;iG.displayName="@mantine/core/SwitchGroup";var Y1e={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const Lqe={labelPosition:"right"},Fqe=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:jr(t),"--switch-height":hn(r,"switch-height"),"--switch-width":hn(r,"switch-width"),"--switch-thumb-size":hn(r,"switch-thumb-size"),"--switch-label-font-size":hn(r,"switch-label-font-size"),"--switch-track-label-padding":hn(r,"switch-track-label-padding"),"--switch-color":n?qr(n,e):void 0}}),r0=nt((e,t)=>{const n=qe("Switch",Lqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,label:c,offLabel:d,onLabel:f,id:h,size:p,radius:m,wrapperProps:g,thumbIcon:v,checked:y,defaultChecked:x,onChange:E,labelPosition:_,description:S,error:T,disabled:k,variant:R,rootRef:I,mod:P,...N}=n,M=Mqe(),O=p||M?.size,j=Rt({name:"Switch",props:n,classes:Y1e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Fqe}),{styleProps:U,rest:q}=Sb(N),W=Va(h),V=M?{checked:M.value.includes(q.value),onChange:M.onChange}:{},[z,L]=qi({value:V.checked??y,defaultValue:x,finalValue:!1});return b.jsxs($4,{...j("root"),__staticSelector:"Switch",__stylesApiProps:n,id:W,size:O,labelPosition:_,label:c,description:S,error:T,disabled:k,bodyElement:"label",labelElement:"span",classNames:r,styles:s,unstyled:a,"data-checked":V.checked||y||void 0,variant:R,ref:I,mod:P,...U,...g,children:[b.jsx("input",{...q,disabled:k,checked:z,"data-checked":V.checked||y||void 0,onChange:H=>{M?V.onChange?.(H):E?.(H),L(H.currentTarget.checked)},id:W,ref:t,type:"checkbox",role:"switch",...j("input")}),b.jsxs(De,{"aria-hidden":"true",component:"span",mod:{error:T,"label-position":_,"without-labels":!f&&!d},...j("track"),children:[b.jsx(De,{component:"span",mod:"reduce-motion",...j("thumb"),children:v}),b.jsx("span",{...j("trackLabel"),children:z?f:d})]})]})});r0.classes={...Y1e,...$be};r0.displayName="@mantine/core/Switch";r0.Group=iG;const[jqe,Bqe]=ca("Table component was not found in the tree");var PT={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function zqe(e,t){if(!t)return;const n={};return t.columnBorder&&e.withColumnBorders&&(n["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(n["data-with-row-border"]=!0),t.striped&&e.striped&&(n["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(n["data-hover"]=!0),t.captionSide&&e.captionSide&&(n["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(n["data-sticky"]=!0),n}function kb(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=nt((i,o)=>{const s=qe(n,{},i),{classNames:a,className:l,style:u,styles:c,...d}=s,f=Bqe();return b.jsx(De,{component:e,ref:o,...zqe(f,t),...f.getStyles(e,{className:l,classNames:a,style:u,styles:c,props:s}),...d})});return r.displayName=`@mantine/core/${n}`,r.classes=PT,r}const lx=kb("th",{columnBorder:!0}),OT=kb("td",{columnBorder:!0}),Yp=kb("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),oG=kb("thead",{stickyHeader:!0}),mS=kb("tbody"),sG=kb("tfoot"),K1e=kb("caption",{captionSide:!0});function aG({data:e}){return b.jsxs(b.Fragment,{children:[e.caption&&b.jsx(K1e,{children:e.caption}),e.head&&b.jsx(oG,{children:b.jsx(Yp,{children:e.head.map((t,n)=>b.jsx(lx,{children:t},n))})}),e.body&&b.jsx(mS,{children:e.body.map((t,n)=>b.jsx(Yp,{children:t.map((r,i)=>b.jsx(OT,{children:r},i))},n))}),e.foot&&b.jsx(sG,{children:b.jsx(Yp,{children:e.foot.map((t,n)=>b.jsx(lx,{children:t},n))})})]})}aG.displayName="@mantine/core/TableDataRenderer";const Uqe={type:"scrollarea"},Hqe=(e,{minWidth:t,maxHeight:n,type:r})=>({scrollContainer:{"--table-min-width":Ye(t),"--table-max-height":Ye(n),"--table-overflow":r==="native"?"auto":void 0}}),lG=nt((e,t)=>{const n=qe("TableScrollContainer",Uqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,minWidth:c,maxHeight:d,type:f,scrollAreaProps:h,...p}=n,m=Rt({name:"TableScrollContainer",classes:PT,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Hqe,rootSelector:"scrollContainer"});return b.jsx(De,{component:f==="scrollarea"?lm:"div",...f==="scrollarea"?d?{offsetScrollbars:"xy",...h}:{offsetScrollbars:"x",...h}:{},ref:t,...m("scrollContainer"),...p,children:b.jsx("div",{...m("scrollContainerInner"),children:u})})});lG.classes=PT;lG.displayName="@mantine/core/TableScrollContainer";const qqe={withRowBorders:!0,verticalSpacing:7},Vqe=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:i,borderColor:o,stripedColor:s,highlightOnHoverColor:a,striped:l,highlightOnHover:u,stickyHeaderOffset:c,stickyHeader:d})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":Di(r),"--table-vertical-spacing":Di(i),"--table-border-color":o?qr(o,e):void 0,"--table-striped-color":l&&s?qr(s,e):void 0,"--table-highlight-on-hover-color":u&&a?qr(a,e):void 0,"--table-sticky-header-offset":d?Ye(c):void 0}}),xn=nt((e,t)=>{const n=qe("Table",qqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,horizontalSpacing:u,verticalSpacing:c,captionSide:d,stripedColor:f,highlightOnHoverColor:h,striped:p,highlightOnHover:m,withColumnBorders:g,withRowBorders:v,withTableBorder:y,borderColor:x,layout:E,variant:_,data:S,children:T,stickyHeader:k,stickyHeaderOffset:R,mod:I,tabularNums:P,...N}=n,M=Rt({name:"Table",props:n,className:i,style:o,classes:PT,classNames:r,styles:s,unstyled:a,rootSelector:"table",vars:l,varsResolver:Vqe});return b.jsx(jqe,{value:{getStyles:M,stickyHeader:k,striped:p===!0?"odd":p||void 0,highlightOnHover:m,withColumnBorders:g,withRowBorders:v,captionSide:d||"bottom"},children:b.jsx(De,{component:"table",variant:_,ref:t,mod:[{"data-with-table-border":y,"data-tabular-nums":P},I],...M("table"),...N,children:T||!!S&&b.jsx(aG,{data:S})})})});xn.classes=PT;xn.displayName="@mantine/core/Table";xn.Td=OT;xn.Th=lx;xn.Tr=Yp;xn.Thead=oG;xn.Tbody=mS;xn.Tfoot=sG;xn.Caption=K1e;xn.ScrollContainer=lG;xn.DataRenderer=aG;const[Wqe,uG]=ca("Tabs component was not found in the tree");var NT={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const Gqe={},cG=nt((e,t)=>{const n=qe("TabsList",Gqe,e),{children:r,className:i,grow:o,justify:s,classNames:a,styles:l,style:u,mod:c,...d}=n,f=uG();return b.jsx(De,{...d,...f.getStyles("list",{className:i,style:u,classNames:a,styles:l,props:n,variant:f.variant}),ref:t,role:"tablist",variant:f.variant,mod:[{grow:o,orientation:f.orientation,placement:f.orientation==="vertical"&&f.placement,inverted:f.inverted},c],"aria-orientation":f.orientation,__vars:{"--tabs-justify":s},children:r})});cG.classes=NT;cG.displayName="@mantine/core/TabsList";const Yqe={},dG=nt((e,t)=>{const n=qe("TabsPanel",Yqe,e),{children:r,className:i,value:o,classNames:s,styles:a,style:l,mod:u,keepMounted:c,...d}=n,f=uG(),h=f.value===o,p=f.keepMounted||c||h?r:null;return b.jsx(De,{...d,...f.getStyles("panel",{className:i,classNames:s,styles:a,style:[l,h?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:f.orientation},u],role:"tabpanel",id:f.getPanelId(o),"aria-labelledby":f.getTabId(o),children:p})});dG.classes=NT;dG.displayName="@mantine/core/TabsPanel";const Kqe={},fG=nt((e,t)=>{const n=qe("TabsTab",Kqe,e),{className:r,children:i,rightSection:o,leftSection:s,value:a,onClick:l,onKeyDown:u,disabled:c,color:d,style:f,classNames:h,styles:p,vars:m,mod:g,tabIndex:v,...y}=n,x=eo(),{dir:E}=lu(),_=uG(),S=a===_.value,T=R=>{_.onChange(_.allowTabDeactivation&&a===_.value?null:a),l?.(R)},k={classNames:h,styles:p,props:n};return b.jsxs(Ko,{...y,..._.getStyles("tab",{className:r,style:f,variant:_.variant,...k}),disabled:c,unstyled:_.unstyled,variant:_.variant,mod:[{active:S,disabled:c,orientation:_.orientation,inverted:_.inverted,placement:_.orientation==="vertical"&&_.placement},g],ref:t,role:"tab",id:_.getTabId(a),"aria-selected":S,tabIndex:v!==void 0?v:S||_.value===null?0:-1,"aria-controls":_.getPanelId(a),onClick:T,__vars:{"--tabs-color":d?qr(d,x):void 0},onKeyDown:Jye({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:_.activateTabWithKeyboard,loop:_.loop,orientation:_.orientation||"horizontal",dir:E,onKeyDown:u}),children:[s&&b.jsx("span",{..._.getStyles("tabSection",k),"data-position":"left",children:s}),i&&b.jsx("span",{..._.getStyles("tabLabel",k),children:i}),o&&b.jsx("span",{..._.getStyles("tabSection",k),"data-position":"right",children:o})]})});fG.classes=NT;fG.displayName="@mantine/core/TabsTab";const toe="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",Xqe={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},Qqe=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":jr(t),"--tabs-color":qr(n,e),"--tabs-text-color":H0(r,e)?zh({color:n,theme:e,autoContrast:r}):void 0}}),jn=nt((e,t)=>{const n=qe("Tabs",Xqe,e),{defaultValue:r,value:i,onChange:o,orientation:s,children:a,loop:l,id:u,activateTabWithKeyboard:c,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:m,placement:g,keepMounted:v,classNames:y,styles:x,unstyled:E,className:_,style:S,vars:T,autoContrast:k,mod:R,...I}=n,P=Va(u),[N,M]=qi({value:i,defaultValue:r,finalValue:null,onChange:o}),O=Rt({name:"Tabs",props:n,classes:NT,className:_,style:S,classNames:y,styles:x,unstyled:E,vars:T,varsResolver:Qqe});return b.jsx(Wqe,{value:{placement:g,value:N,orientation:s,id:P,loop:l,activateTabWithKeyboard:c,getTabId:Hre(`${P}-tab`,toe),getPanelId:Hre(`${P}-panel`,toe),onChange:M,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:m,keepMounted:v,unstyled:E,getStyles:O},children:b.jsx(De,{ref:t,id:P,variant:f,mod:[{orientation:s,inverted:s==="horizontal"&&m,placement:s==="vertical"&&g},R],...O("root"),...I,children:a})})});jn.classes=NT;jn.displayName="@mantine/core/Tabs";jn.Tab=fG;jn.Panel=dG;jn.List=cG;const Jqe={},fl=nt((e,t)=>{const n=qe("TextInput",Jqe,e);return b.jsx(Sl,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});fl.classes=Sl.classes;fl.displayName="@mantine/core/TextInput";const Zqe=["h1","h2","h3","h4","h5","h6"],eVe=["xs","sm","md","lg","xl"];function tVe(e,t){const n=t!==void 0?t:`h${e}`;return Zqe.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:eVe.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:Ye(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var X1e={root:"m_8a5d1357"};const nVe={order:1},rVe=(e,{order:t,size:n,lineClamp:r,textWrap:i})=>{const o=tVe(t,n);return{root:{"--title-fw":o.fontWeight,"--title-lh":o.lineHeight,"--title-fz":o.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},gr=nt((e,t)=>{const n=qe("Title",nVe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,order:l,vars:u,size:c,variant:d,lineClamp:f,textWrap:h,mod:p,...m}=n,g=Rt({name:"Title",props:n,classes:X1e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:rVe});return[1,2,3,4,5,6].includes(l)?b.jsx(De,{...g("root"),component:`h${l}`,variant:d,ref:t,mod:[{order:l,"data-line-clamp":typeof f=="number"},p],size:c,...m}):null});gr.classes=X1e;gr.displayName="@mantine/core/Title";function iVe(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),r.forEach(o=>o(t))},initialize(i){n||(t=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function oVe(e){return A.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function sVe(e,t,n){const r=[],i=[],o={};for(const s of e){const a=s.position||t;o[a]=o[a]||0,o[a]+=1,o[a]<=n?i.push(s):r.push(s)}return{notifications:i,queue:r}}const aVe=()=>iVe({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),Ab=aVe(),lVe=(e=Ab)=>oVe(e);function uC(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]),i=sVe(r,n.defaultPosition,n.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function uVe(e,t=Ab){const n=e.id||n0();return uC(t,r=>e.id&&r.some(i=>i.id===e.id)?r:[...r,{...e,id:n}]),n}function Q1e(e,t=Ab){return uC(t,n=>n.filter(r=>r.id===e?(r.onClose?.(r),!1):!0)),e}function cVe(e,t=Ab){return uC(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function dVe(e=Ab){uC(e,()=>[])}function fVe(e=Ab){uC(e,t=>t.slice(0,e.getState().limit))}const Rb={show:uVe,hide:Q1e,update:cVe,clean:dVe,cleanQueue:fVe,updateState:uC};function J7(){return J7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J7.apply(null,arguments)}function J1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Z7(e,t){return Z7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Z7(e,t)}function Z1e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Z7(e,t)}var VF={exports:{}},WF,noe;function hVe(){if(noe)return WF;noe=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return WF=e,WF}var GF,roe;function pVe(){if(roe)return GF;roe=1;var e=hVe();function t(){}function n(){}return n.resetWarningCache=t,GF=function(){function r(s,a,l,u,c,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},GF}var ioe;function mVe(){return ioe||(ioe=1,VF.exports=pVe()()),VF.exports}var gVe=mVe();const O3=Qo(gVe),ooe={disabled:!1},N3=un.createContext(null);var yVe=function(t){return t.scrollTop},AE="unmounted",Vy="exited",Wy="entering",lw="entered",ez="exiting",Nm=(function(e){Z1e(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Vy,o.appearStatus=Wy):l=lw:r.unmountOnExit||r.mountOnEnter?l=AE:l=Vy,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===AE?{status:Vy}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Wy&&s!==lw&&(o=Wy):(s===Wy||s===lw)&&(o=ez)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Wy){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:TE.findDOMNode(this);s&&yVe(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Vy&&this.setState({status:AE})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[TE.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!s||ooe.disabled){this.safeSetState({status:lw},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Wy},function(){o.props.onEntering(u,c),o.onTransitionEnd(f,function(){o.safeSetState({status:lw},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:TE.findDOMNode(this);if(!o||ooe.disabled){this.safeSetState({status:Vy},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ez},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Vy},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:TE.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===AE)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=J1e(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return un.createElement(N3.Provider,{value:null},typeof s=="function"?s(i,a):un.cloneElement(un.Children.only(s),a))},t})(un.Component);Nm.contextType=N3;Nm.propTypes={};function O1(){}Nm.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:O1,onEntering:O1,onEntered:O1,onExit:O1,onExiting:O1,onExited:O1};Nm.UNMOUNTED=AE;Nm.EXITED=Vy;Nm.ENTERING=Wy;Nm.ENTERED=lw;Nm.EXITING=ez;function vVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hG(e,t){var n=function(o){return t&&A.isValidElement(o)?t(o):o},r=Object.create(null);return e&&A.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function bVe(e,t){e=e||{},t=t||{};function n(c){return c in t?t[c]:e[c]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in t){if(r[l])for(s=0;s<r[l].length;s++){var u=r[l][s];a[r[l][s]]=n(u)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function pv(e,t,n){return n[t]!=null?n[t]:e.props[t]}function wVe(e,t){return hG(e.children,function(n){return A.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:pv(n,"appear",e),enter:pv(n,"enter",e),exit:pv(n,"exit",e)})})}function xVe(e,t,n){var r=hG(e.children),i=bVe(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(A.isValidElement(s)){var a=o in t,l=o in r,u=t[o],c=A.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[o]=A.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:pv(s,"exit",e),enter:pv(s,"enter",e)}):!l&&a&&!c?i[o]=A.cloneElement(s,{in:!1}):l&&a&&A.isValidElement(u)&&(i[o]=A.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:pv(s,"exit",e),enter:pv(s,"enter",e)}))}}),i}var CVe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},_Ve={component:"div",childFactory:function(t){return t}},kg=(function(e){Z1e(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(vVe(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?wVe(i,a):xVe(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=hG(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=J7({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=J1e(i,["component","childFactory"]),l=this.state.contextValue,u=CVe(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?un.createElement(N3.Provider,{value:l},u):un.createElement(N3.Provider,{value:l},un.createElement(o,a,u))},t})(un.Component);kg.propTypes={};kg.defaultProps=_Ve;const ewe=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function EVe(e,t){return e.reduce((n,r)=>(n[r.position||t].push(r),n),ewe.reduce((n,r)=>(n[r]=[],n),{}))}const soe={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},SVe={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function TVe({state:e,maxHeight:t,position:n,transitionDuration:r}){const[i,o]=n.split("-"),s=o==="center"?`${i}-center`:o,a={opacity:0,maxHeight:t,transform:soe[s],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},l={opacity:1,transform:SVe[s]},u={opacity:0,maxHeight:0,transform:soe[s]};return{...a,...{entering:l,entered:l,exiting:u,exited:u}[e]}}function kVe(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const twe=A.forwardRef(({data:e,onHide:t,autoClose:n,...r},i)=>{const{autoClose:o,message:s,...a}=e,l=kVe(n,e.autoClose),u=A.useRef(-1),c=()=>window.clearTimeout(u.current),d=()=>{t(e.id),c()},f=()=>{typeof l=="number"&&(u.current=window.setTimeout(d,l))};return A.useEffect(()=>{e.onOpen?.(e)},[]),A.useEffect(()=>(f(),c),[l]),b.jsx(UW,{...r,...a,onClose:d,ref:i,onMouseEnter:c,onMouseLeave:f,children:s})});twe.displayName="@mantine/notifications/NotificationContainer";var nwe={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const AVe=Nm,RVe={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:au("overlay"),store:Ab,withinPortal:!0},IVe=(e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t?.toString(),"--notifications-container-width":Ye(n)}}),Mm=nt((e,t)=>{const n=qe("Notifications",RVe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,position:u,autoClose:c,transitionDuration:d,containerWidth:f,notificationMaxHeight:h,limit:p,zIndex:m,store:g,portalProps:v,withinPortal:y,...x}=n,E=eo(),_=lVe(g),S=lFe(),T=w4(),k=A.useRef({}),R=A.useRef(0),P=(E.respectReducedMotion?T:!1)?1:d,N=Rt({name:"Notifications",classes:nwe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:IVe});A.useEffect(()=>{g?.updateState(j=>({...j,limit:p||5,defaultPosition:u}))},[p,u]),bl(()=>{_.notifications.length>R.current&&setTimeout(()=>S(),0),R.current=_.notifications.length},[_.notifications]);const M=EVe(_.notifications,u),O=ewe.reduce((j,U)=>(j[U]=M[U].map(({style:q,...W})=>b.jsx(AVe,{timeout:P,onEnter:()=>k.current[W.id].offsetHeight,nodeRef:{current:k.current[W.id]},children:V=>b.jsx(twe,{ref:z=>{k.current[W.id]=z},data:W,onHide:z=>Q1e(z,g),autoClose:c,...N("notification",{style:{...TVe({state:V,position:U,transitionDuration:P,maxHeight:h}),...q}})})},W.id)),j),{});return b.jsxs(q0,{withinPortal:y,...v,children:[b.jsx(De,{...N("root"),"data-position":"top-center",ref:t,...x,children:b.jsx(kg,{children:O["top-center"]})}),b.jsx(De,{...N("root"),"data-position":"top-left",...x,children:b.jsx(kg,{children:O["top-left"]})}),b.jsx(De,{...N("root",{className:tx.classNames.fullWidth}),"data-position":"top-right",...x,children:b.jsx(kg,{children:O["top-right"]})}),b.jsx(De,{...N("root",{className:tx.classNames.fullWidth}),"data-position":"bottom-right",...x,children:b.jsx(kg,{children:O["bottom-right"]})}),b.jsx(De,{...N("root"),"data-position":"bottom-left",...x,children:b.jsx(kg,{children:O["bottom-left"]})}),b.jsx(De,{...N("root"),"data-position":"bottom-center",...x,children:b.jsx(kg,{children:O["bottom-center"]})})]})});Mm.classes=nwe;Mm.displayName="@mantine/notifications/Notifications";Mm.show=Rb.show;Mm.hide=Rb.hide;Mm.update=Rb.update;Mm.clean=Rb.clean;Mm.cleanQueue=Rb.cleanQueue;Mm.updateState=Rb.updateState;const rwe=A.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),ri=()=>A.useContext(rwe);function DVe({children:e}){const[t,n]=A.useState(void 0),r=A.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return b.jsx(rwe.Provider,{value:r,children:e})}var aoe="popstate";function loe(e){return typeof e=="object"&&e!=null&&"pathname"in e&&"search"in e&&"hash"in e&&"state"in e&&"key"in e}function PVe(e={}){function t(r,i){let o=i.state?.masked,{pathname:s,search:a,hash:l}=o||r.location;return tz("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default",o?{pathname:r.location.pathname,search:r.location.search,hash:r.location.hash}:void 0)}function n(r,i){return typeof i=="string"?i:d2(i)}return NVe(t,n,null,e)}function Xi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function OVe(){return Math.random().toString(36).substring(2,10)}function uoe(e,t){return{usr:e.state,key:e.key,idx:t,masked:e.unstable_mask?{pathname:e.pathname,search:e.search,hash:e.hash}:void 0}}function tz(e,t,n=null,r,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?cC(t):t,state:n,key:t&&t.key||r||OVe(),unstable_mask:i}}function d2({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function cC(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function NVe(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function d(){a="POP";let g=c(),v=g==null?null:g-u;u=g,l&&l({action:a,location:m.location,delta:v})}function f(g,v){a="PUSH";let y=loe(g)?g:tz(m.location,g,v);u=c()+1;let x=uoe(y,u),E=m.createHref(y.unstable_mask||y);try{s.pushState(x,"",E)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(E)}o&&l&&l({action:a,location:m.location,delta:1})}function h(g,v){a="REPLACE";let y=loe(g)?g:tz(m.location,g,v);u=c();let x=uoe(y,u),E=m.createHref(y.unstable_mask||y);s.replaceState(x,"",E),o&&l&&l({action:a,location:m.location,delta:0})}function p(g){return MVe(g)}let m={get action(){return a},get location(){return e(i,s)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(aoe,d),l=g,()=>{i.removeEventListener(aoe,d),l=null}},createHref(g){return t(i,g)},createURL:p,encodeLocation(g){let v=p(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(g){return s.go(g)}};return m}function MVe(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xi(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:d2(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function iwe(e,t,n="/"){return $Ve(e,t,n,!1)}function $Ve(e,t,n,r){let i=typeof t=="string"?cC(t):t,o=cm(i.pathname||"/",n);if(o==null)return null;let s=owe(e);LVe(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=YVe(o);a=WVe(s[l],u,r)}return a}function owe(e,t=[],n=[],r="",i=!1){let o=(s,a,l=i,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;Xi(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let d=ph([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(Xi(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),owe(s.children,t,f,d,l)),!(s.path==null&&!s.index)&&t.push({path:d,score:qVe(d,s.index),routesMeta:f})};return e.forEach((s,a)=>{if(s.path===""||!s.path?.includes("?"))o(s,a);else for(let l of swe(s.path))o(s,a,!0,l)}),t}function swe(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=swe(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function LVe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:VVe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var FVe=/^:[\w-]+$/,jVe=3,BVe=2,zVe=1,UVe=10,HVe=-2,coe=e=>e==="*";function qVe(e,t){let n=e.split("/"),r=n.length;return n.some(coe)&&(r+=HVe),t&&(r+=BVe),n.filter(i=>!coe(i)).reduce((i,o)=>i+(FVe.test(o)?jVe:o===""?zVe:UVe),r)}function VVe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function WVe(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",d=M3({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=M3({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:ph([o,d.pathname]),pathnameBase:JVe(ph([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=ph([o,d.pathnameBase]))}return s}function M3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=GVe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let p=a[f]||"";s=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const h=a[f];return d&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function GVe(e,t=!1,n=!0){Nc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l,u,c)=>{if(r.push({paramName:a,isOptional:l!=null}),l){let d=c.charAt(u+s.length);return d&&d!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function YVe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nc(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function cm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var KVe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function XVe(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?cC(e):e,o;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?o=doe(n.substring(1),"/"):o=doe(n,t)):o=t,{pathname:o,search:ZVe(r),hash:eWe(i)}}function doe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function YF(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QVe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pG(e){let t=QVe(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function sM(e,t,n,r=!1){let i;typeof e=="string"?i=cC(e):(i={...e},Xi(!i.pathname||!i.pathname.includes("?"),YF("?","pathname","search",i)),Xi(!i.pathname||!i.pathname.includes("#"),YF("#","pathname","hash",i)),Xi(!i.search||!i.search.includes("#"),YF("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=XVe(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var ph=e=>e.join("/").replace(/\/\/+/g,"/"),JVe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZVe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eWe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,tWe=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function nWe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function rWe(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var awe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function lwe(e,t){let n=e;if(typeof n!="string"||!KVe.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(awe)try{let o=new URL(window.location.href),s=n.startsWith("//")?new URL(o.protocol+n):new URL(n),a=cm(s.pathname,t);s.origin===o.origin&&a!=null?n=a+s.search+s.hash:i=!0}catch{Nc(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uwe=["POST","PUT","PATCH","DELETE"];new Set(uwe);var iWe=["GET",...uwe];new Set(iWe);var dC=A.createContext(null);dC.displayName="DataRouter";var aM=A.createContext(null);aM.displayName="DataRouterState";var oWe=A.createContext(!1),cwe=A.createContext({isTransitioning:!1});cwe.displayName="ViewTransition";var sWe=A.createContext(new Map);sWe.displayName="Fetchers";var aWe=A.createContext(null);aWe.displayName="Await";var Zu=A.createContext(null);Zu.displayName="Navigation";var MT=A.createContext(null);MT.displayName="Location";var Kc=A.createContext({outlet:null,matches:[],isDataRoute:!1});Kc.displayName="Route";var mG=A.createContext(null);mG.displayName="RouteError";var dwe="REACT_ROUTER_ERROR",lWe="REDIRECT",uWe="ROUTE_ERROR_RESPONSE";function cWe(e){if(e.startsWith(`${dwe}:${lWe}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function dWe(e){if(e.startsWith(`${dwe}:${uWe}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new tWe(t.status,t.statusText,t.data)}catch{}}function f2(e,{relative:t}={}){Xi(fC(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(Zu),{hash:i,pathname:o,search:s}=$T(e,{relative:t}),a=o;return n!=="/"&&(a=o==="/"?n:ph([n,o])),r.createHref({pathname:a,search:s,hash:i})}function fC(){return A.useContext(MT)!=null}function da(){return Xi(fC(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(MT).location}var fwe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hwe(e){A.useContext(Zu).static||A.useLayoutEffect(e)}function fa(){let{isDataRoute:e}=A.useContext(Kc);return e?SWe():fWe()}function fWe(){Xi(fC(),"useNavigate() may be used only in the context of a <Router> component.");let e=A.useContext(dC),{basename:t,navigator:n}=A.useContext(Zu),{matches:r}=A.useContext(Kc),{pathname:i}=da(),o=JSON.stringify(pG(r)),s=A.useRef(!1);return hwe(()=>{s.current=!0}),A.useCallback((l,u={})=>{if(Nc(s.current,fwe),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=sM(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:ph([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,o,i,e])}var hWe=A.createContext(null);function pWe(e){let t=A.useContext(Kc).outlet;return A.useMemo(()=>t&&A.createElement(hWe.Provider,{value:e},t),[t,e])}function $o(){let{matches:e}=A.useContext(Kc),t=e[e.length-1];return t?t.params:{}}function $T(e,{relative:t}={}){let{matches:n}=A.useContext(Kc),{pathname:r}=da(),i=JSON.stringify(pG(n));return A.useMemo(()=>sM(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function pwe(e,t){return mwe(e,t)}function mwe(e,t,n){Xi(fC(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=A.useContext(Zu),{matches:i}=A.useContext(Kc),o=i[i.length-1],s=o?o.params:{},a=o?o.pathname:"/",l=o?o.pathnameBase:"/",u=o&&o.route;{let g=u&&u.path||"";ywe(a,!u||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${a}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let c=da(),d;if(t){let g=typeof t=="string"?cC(t):t;Xi(l==="/"||g.pathname?.startsWith(l),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${l}" but pathname "${g.pathname}" was given in the \`location\` prop.`),d=g}else d=c;let f=d.pathname||"/",h=f;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=iwe(e,{pathname:h});Nc(u||p!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Nc(p==null||p[p.length-1].route.element!==void 0||p[p.length-1].route.Component!==void 0||p[p.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=bWe(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:ph([l,r.encodeLocation?r.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:ph([l,r.encodeLocation?r.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),i,n);return t&&m?A.createElement(MT.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...d},navigationType:"POP"}},m):m}function mWe(){let e=EWe(),t=nWe(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:o},"ErrorBoundary")," or"," ",A.createElement("code",{style:o},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:i},n):null,s)}var gWe=A.createElement(mWe,null),gwe=class extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=dWe(e.digest);n&&(e=n)}let t=e!==void 0?A.createElement(Kc.Provider,{value:this.props.routeContext},A.createElement(mG.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?A.createElement(yWe,{error:e},t):t}};gwe.contextType=oWe;var KF=new WeakMap;function yWe({children:e,error:t}){let{basename:n}=A.useContext(Zu);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=cWe(t.digest);if(r){let i=KF.get(t);if(i)throw i;let o=lwe(r.location,n);if(awe&&!KF.get(t))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw KF.set(t,s),s}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function vWe({routeContext:e,match:t,children:n}){let r=A.useContext(dC);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(Kc.Provider,{value:e},n)}function bWe(e,t=[],n){let r=n?.state;if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r?.errors;if(o!=null){let c=i.findIndex(d=>d.route.id&&o?.[d.route.id]!==void 0);Xi(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,a=-1;if(n&&r){s=r.renderFallback;for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=c),d.route.id){let{loaderData:f,errors:h}=r,p=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){n.isStatic&&(s=!0),a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}}let l=n?.onError,u=r&&l?(c,d)=>{l(c,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:rWe(r.matches),errorInfo:d})}:void 0;return i.reduceRight((c,d,f)=>{let h,p=!1,m=null,g=null;r&&(h=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||gWe,s&&(a<0&&f===0?(ywe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):a===f&&(p=!0,g=d.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,f+1)),y=()=>{let x;return h?x=m:p?x=g:d.route.Component?x=A.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=c,A.createElement(vWe,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:r!=null},children:x})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?A.createElement(gwe,{location:r.location,revalidation:r.revalidation,component:m,error:h,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:u}):y()},null)}function gG(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wWe(e){let t=A.useContext(dC);return Xi(t,gG(e)),t}function xWe(e){let t=A.useContext(aM);return Xi(t,gG(e)),t}function CWe(e){let t=A.useContext(Kc);return Xi(t,gG(e)),t}function yG(e){let t=CWe(e),n=t.matches[t.matches.length-1];return Xi(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function _We(){return yG("useRouteId")}function EWe(){let e=A.useContext(mG),t=xWe("useRouteError"),n=yG("useRouteError");return e!==void 0?e:t.errors?.[n]}function SWe(){let{router:e}=wWe("useNavigate"),t=yG("useNavigate"),n=A.useRef(!1);return hwe(()=>{n.current=!0}),A.useCallback(async(i,o={})=>{Nc(n.current,fwe),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var foe={};function ywe(e,t,n){!t&&!foe[e]&&(foe[e]=!0,Nc(!1,n))}A.memo(TWe);function TWe({routes:e,future:t,state:n,isStatic:r,onError:i}){return mwe(e,void 0,{state:n,isStatic:r,onError:i})}function vG({to:e,replace:t,state:n,relative:r}){Xi(fC(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(Zu);Nc(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=A.useContext(Kc),{pathname:s}=da(),a=fa(),l=sM(e,pG(o),s,r==="path"),u=JSON.stringify(l);return A.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function kWe(e){return pWe(e.context)}function Sp(e){Xi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AWe({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:s}){Xi(!fC(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=A.useMemo(()=>({basename:a,navigator:i,static:o,unstable_useTransitions:s,future:{}}),[a,i,o,s]);typeof n=="string"&&(n=cC(n));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:h="default",unstable_mask:p}=n,m=A.useMemo(()=>{let g=cm(u,a);return g==null?null:{location:{pathname:g,search:c,hash:d,state:f,key:h,unstable_mask:p},navigationType:r}},[a,u,c,d,f,h,r,p]);return Nc(m!=null,`<Router basename="${a}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:A.createElement(Zu.Provider,{value:l},A.createElement(MT.Provider,{children:t,value:m}))}function RWe({children:e,location:t}){return pwe(nz(e),t)}function nz(e,t=[]){let n=[];return A.Children.forEach(e,(r,i)=>{if(!A.isValidElement(r))return;let o=[...t,i];if(r.type===A.Fragment){n.push.apply(n,nz(r.props.children,o));return}Xi(r.type===Sp,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xi(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=nz(r.props.children,o)),n.push(s)}),n}var LD="get",FD="application/x-www-form-urlencoded";function lM(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function IWe(e){return lM(e)&&e.tagName.toLowerCase()==="button"}function DWe(e){return lM(e)&&e.tagName.toLowerCase()==="form"}function PWe(e){return lM(e)&&e.tagName.toLowerCase()==="input"}function OWe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function NWe(e,t){return e.button===0&&(!t||t==="_self")&&!OWe(e)}function rz(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function MWe(e,t){let n=rz(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}var bR=null;function $We(){if(bR===null)try{new FormData(document.createElement("form"),0),bR=!1}catch{bR=!0}return bR}var LWe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function XF(e){return e!=null&&!LWe.has(e)?(Nc(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${FD}"`),null):e}function FWe(e,t){let n,r,i,o,s;if(DWe(e)){let a=e.getAttribute("action");r=a?cm(a,t):null,n=e.getAttribute("method")||LD,i=XF(e.getAttribute("enctype"))||FD,o=new FormData(e)}else if(IWe(e)||PWe(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?cm(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||LD,i=XF(e.getAttribute("formenctype"))||XF(a.getAttribute("enctype"))||FD,o=new FormData(a,e),!$We()){let{name:u,type:c,value:d}=e;if(c==="image"){let f=u?`${u}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else u&&o.append(u,d)}}else{if(lM(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=LD,r=null,i=FD,s=e}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bG(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jWe(e,t,n,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:t&&cm(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function BWe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zWe(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function UWe(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let s=await BWe(o,n);return s.links?s.links():[]}return[]}));return WWe(r.flat(1).filter(zWe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function hoe(e,t,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return o==="assets"?t.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?t.filter((l,u)=>{let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function HWe(e,t,{includeHydrateFallback:n}={}){return qWe(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function qWe(e){return[...new Set(e)]}function VWe(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function WWe(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(VWe(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function vwe(){let e=A.useContext(dC);return bG(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function GWe(){let e=A.useContext(aM);return bG(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var wG=A.createContext(void 0);wG.displayName="FrameworkContext";function bwe(){let e=A.useContext(wG);return bG(e,"You must render this element inside a <HydratedRouter> element"),e}function YWe(e,t){let n=A.useContext(wG),[r,i]=A.useState(!1),[o,s]=A.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,f=A.useRef(null);A.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let m=v=>{v.forEach(y=>{s(y.isIntersecting)})},g=new IntersectionObserver(m,{threshold:.5});return f.current&&g.observe(f.current),()=>{g.disconnect()}}},[e]),A.useEffect(()=>{if(r){let m=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(m)}}},[r]);let h=()=>{i(!0)},p=()=>{i(!1),s(!1)};return n?e!=="intent"?[o,f,{}]:[o,f,{onFocus:N_(a,h),onBlur:N_(l,p),onMouseEnter:N_(u,h),onMouseLeave:N_(c,p),onTouchStart:N_(d,h)}]:[!1,f,{}]}function N_(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function KWe({page:e,...t}){let{router:n}=vwe(),r=A.useMemo(()=>iwe(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?A.createElement(QWe,{page:e,matches:r,...t}):null}function XWe(e){let{manifest:t,routeModules:n}=bwe(),[r,i]=A.useState([]);return A.useEffect(()=>{let o=!1;return UWe(e,t,n).then(s=>{o||i(s)}),()=>{o=!0}},[e,t,n]),r}function QWe({page:e,matches:t,...n}){let r=da(),{future:i,manifest:o,routeModules:s}=bwe(),{basename:a}=vwe(),{loaderData:l,matches:u}=GWe(),c=A.useMemo(()=>hoe(e,t,u,o,r,"data"),[e,t,u,o,r]),d=A.useMemo(()=>hoe(e,t,u,o,r,"assets"),[e,t,u,o,r]),f=A.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let m=new Set,g=!1;if(t.forEach(y=>{let x=o.routes[y.route.id];!x||!x.hasLoader||(!c.some(E=>E.route.id===y.route.id)&&y.route.id in l&&s[y.route.id]?.shouldRevalidate||x.hasClientLoader?g=!0:m.add(y.route.id))}),m.size===0)return[];let v=jWe(e,a,i.unstable_trailingSlashAwareDataRequests,"data");return g&&m.size>0&&v.searchParams.set("_routes",t.filter(y=>m.has(y.route.id)).map(y=>y.route.id).join(",")),[v.pathname+v.search]},[a,i.unstable_trailingSlashAwareDataRequests,l,r,o,c,t,e,s]),h=A.useMemo(()=>HWe(d,o),[d,o]),p=XWe(d);return A.createElement(A.Fragment,null,f.map(m=>A.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),h.map(m=>A.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:g})=>A.createElement("link",{key:m,nonce:n.nonce,...g,crossOrigin:g.crossOrigin??n.crossOrigin})))}function JWe(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var ZWe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZWe&&(window.__reactRouterVersion="7.13.1")}catch{}function eGe({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=A.useRef();i.current==null&&(i.current=PVe({window:r,v5Compat:!0}));let o=i.current,[s,a]=A.useState({action:o.action,location:o.location}),l=A.useCallback(u=>{n===!1?a(u):A.startTransition(()=>a(u))},[n]);return A.useLayoutEffect(()=>o.listen(l),[o,l]),A.createElement(AWe,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:o,unstable_useTransitions:n})}var wwe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xwe=A.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,unstable_mask:a,state:l,target:u,to:c,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:h,...p},m){let{basename:g,navigator:v,unstable_useTransitions:y}=A.useContext(Zu),x=typeof c=="string"&&wwe.test(c),E=lwe(c,g);c=E.to;let _=f2(c,{relative:i}),S=da(),T=null;if(a){let j=sM(a,[],S.unstable_mask?S.unstable_mask.pathname:"/",!0);g!=="/"&&(j.pathname=j.pathname==="/"?g:ph([g,j.pathname])),T=v.createHref(j)}let[k,R,I]=YWe(r,p),P=iGe(c,{replace:s,unstable_mask:a,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:h,unstable_useTransitions:y});function N(j){t&&t(j),j.defaultPrevented||P(j)}let M=!(E.isExternal||o),O=A.createElement("a",{...p,...I,href:(M?T:void 0)||E.absoluteURL||_,onClick:M?N:t,ref:JWe(m,R),target:u,"data-discover":!x&&n==="render"?"true":void 0});return k&&!x?A.createElement(A.Fragment,null,O,A.createElement(KWe,{page:_})):O});xwe.displayName="Link";var tGe=A.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},c){let d=$T(s,{relative:u.relative}),f=da(),h=A.useContext(aM),{navigator:p,basename:m}=A.useContext(Zu),g=h!=null&&uGe(d)&&a===!0,v=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,y=f.pathname,x=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(y=y.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&m&&(x=cm(x,m)||x);const E=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let _=y===v||!i&&y.startsWith(v)&&y.charAt(E)==="/",S=x!=null&&(x===v||!i&&x.startsWith(v)&&x.charAt(v.length)==="/"),T={isActive:_,isPending:S,isTransitioning:g},k=_?t:void 0,R;typeof r=="function"?R=r(T):R=[r,_?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(T):o;return A.createElement(xwe,{...u,"aria-current":k,className:R,ref:c,style:I,to:s,viewTransition:a},typeof l=="function"?l(T):l)});tGe.displayName="NavLink";var nGe=A.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:s=LD,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:f,...h},p)=>{let{unstable_useTransitions:m}=A.useContext(Zu),g=aGe(),v=lGe(a,{relative:u}),y=s.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&wwe.test(a),E=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let S=_.nativeEvent.submitter,T=S?.getAttribute("formmethod")||s,k=()=>g(S||_.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:f});m&&n!==!1?A.startTransition(()=>k()):k()};return A.createElement("form",{ref:p,method:y,action:v,onSubmit:r?l:E,...h,"data-discover":!x&&e==="render"?"true":void 0})});nGe.displayName="Form";function rGe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cwe(e){let t=A.useContext(dC);return Xi(t,rGe(e)),t}function iGe(e,{target:t,replace:n,unstable_mask:r,state:i,preventScrollReset:o,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let c=fa(),d=da(),f=$T(e,{relative:s});return A.useCallback(h=>{if(NWe(h,t)){h.preventDefault();let p=n!==void 0?n:d2(d)===d2(f),m=()=>c(e,{replace:p,unstable_mask:r,state:i,preventScrollReset:o,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l});u?A.startTransition(()=>m()):m()}},[d,c,f,n,r,i,t,e,o,s,a,l,u])}function uu(e){Nc(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=A.useRef(rz(e)),n=A.useRef(!1),r=da(),i=A.useMemo(()=>MWe(r.search,n.current?null:t.current),[r.search]),o=fa(),s=A.useCallback((a,l)=>{const u=rz(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}var oGe=0,sGe=()=>`__${String(++oGe)}__`;function aGe(){let{router:e}=Cwe("useSubmit"),{basename:t}=A.useContext(Zu),n=_We(),r=e.fetch,i=e.navigate;return A.useCallback(async(o,s={})=>{let{action:a,method:l,encType:u,formData:c,body:d}=FWe(o,t);if(s.navigate===!1){let f=s.fetcherKey||sGe();await r(f,n,s.action||a,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await i(s.action||a,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,t,n])}function lGe(e,{relative:t}={}){let{basename:n}=A.useContext(Zu),r=A.useContext(Kc);Xi(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...$T(e||".",{relative:t})},s=da();if(e==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();o.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ph([n,o.pathname])),d2(o)}function uGe(e,{relative:t}={}){let n=A.useContext(cwe);Xi(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Cwe("useViewTransitionState"),i=$T(e,{relative:t});if(!n.isTransitioning)return!1;let o=cm(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=cm(n.nextLocation.pathname,r)||n.nextLocation.pathname;return M3(i.pathname,s)!=null||M3(i.pathname,o)!=null}const xG=A.createContext(null);xG.displayName="@mantine/modals/ModalsContext";function cGe(){const e=A.useContext(xG);if(!e)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return e}function dGe({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:o=!0,groupProps:s,onCancel:a,onConfirm:l,children:u}){const{cancel:c,confirm:d}=r,f=cGe(),h=m=>{typeof t?.onClick=="function"&&t?.onClick(m),typeof a=="function"&&a(),o&&f.closeModal(e)},p=m=>{typeof n?.onClick=="function"&&n?.onClick(m),typeof l=="function"&&l(),i&&f.closeModal(e)};return b.jsxs(b.Fragment,{children:[u&&b.jsx(De,{mb:"md",children:u}),b.jsxs(ln,{mt:u?0:"md",justify:"flex-end",...s,children:[b.jsx(Mt,{variant:"default",...t,onClick:h,children:t?.children||c}),b.jsx(Mt,{...n,onClick:p,children:n?.children||d})]})]})}const[fGe,CG]=kFe("mantine-modals"),poe=e=>{const t=e.modalId||n0();return CG("openConfirmModal")({...e,modalId:t}),t};CG("closeModal");CG("closeAllModals");function moe(e,t){t&&e.type==="confirm"&&e.props.onCancel?.(),e.props.onClose?.()}function hGe(e,t){switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const n=e.modals.find(i=>i.id===t.modalId);if(!n)return e;moe(n,t.canceled);const r=e.modals.filter(i=>i.id!==t.modalId);return{current:r[r.length-1]||e.current,modals:r}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(n=>{moe(n,t.canceled)}),{current:e.current,modals:[]}):e;case"UPDATE":{const{modalId:n,newProps:r}=t,i=e.modals.map(s=>s.id!==n?s:s.type==="content"||s.type==="confirm"?{...s,props:{...s.props,...r}}:s.type==="context"?{...s,props:{...s.props,...r,innerProps:{...s.props.innerProps,...r.innerProps}}}:s),o=e.current?.id===n&&i.find(s=>s.id===n)||e.current;return{...e,modals:i,current:o}}default:return e}}function pGe(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:a,confirmProps:l,groupProps:u,labels:c,...d}=e;return{confirmProps:{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:a,confirmProps:l,groupProps:u,labels:c},modalProps:{id:t,...d}}}function mGe({children:e,modalProps:t,labels:n,modals:r}){const[i,o]=A.useReducer(hGe,{modals:[],current:null}),s=A.useRef(i);s.current=i;const a=A.useCallback(y=>{o({type:"CLOSE_ALL",canceled:y})},[s,o]),l=A.useCallback(({modalId:y,...x})=>{const E=y||n0();return o({type:"OPEN",modal:{id:E,type:"content",props:x}}),E},[o]),u=A.useCallback(({modalId:y,...x})=>{const E=y||n0();return o({type:"OPEN",modal:{id:E,type:"confirm",props:x}}),E},[o]),c=A.useCallback((y,{modalId:x,...E})=>{const _=x||n0();return o({type:"OPEN",modal:{id:_,type:"context",props:E,ctx:y}}),_},[o]),d=A.useCallback((y,x)=>{o({type:"CLOSE",modalId:y,canceled:x})},[s,o]),f=A.useCallback(({modalId:y,...x})=>{o({type:"UPDATE",modalId:y,newProps:x})},[o]),h=A.useCallback(({modalId:y,...x})=>{o({type:"UPDATE",modalId:y,newProps:x})},[o]);fGe({openModal:l,openConfirmModal:u,openContextModal:({modal:y,...x})=>c(y,x),closeModal:d,closeContextModal:d,closeAllModals:a,updateModal:f,updateContextModal:h});const p={modalProps:t||{},modals:i.modals,openModal:l,openConfirmModal:u,openContextModal:c,closeModal:d,closeContextModal:d,closeAll:a,updateModal:f,updateContextModal:h},m=()=>{const y=s.current.current;switch(y?.type){case"context":{const{innerProps:x,...E}=y.props,_=r[y.ctx];return{modalProps:E,content:b.jsx(_,{innerProps:x,context:p,id:y.id})}}case"confirm":{const{modalProps:x,confirmProps:E}=pGe(y.props);return{modalProps:x,content:b.jsx(dGe,{...E,id:y.id,labels:y.props.labels||n})}}case"content":{const{children:x,...E}=y.props;return{modalProps:E,content:x}}default:return{modalProps:{},content:null}}},{modalProps:g,content:v}=m();return b.jsxs(xG.Provider,{value:p,children:[b.jsx(ni,{zIndex:au("modal")+1,...t,...g,opened:i.modals.length>0,onClose:()=>d(i.current?.id),children:v}),e]})}var gGe={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const dt=(e,t,n,r)=>{const i=A.forwardRef(({color:o="currentColor",size:s=24,stroke:a=2,title:l,className:u,children:c,...d},f)=>A.createElement("svg",{ref:f,...gGe[e],width:s,height:s,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),...e==="filled"?{fill:o}:{strokeWidth:a,stroke:o},...d},[l&&A.createElement("title",{key:"svg-title"},l),...r.map(([h,p])=>A.createElement(h,p)),...Array.isArray(c)?c:[c]]));return i.displayName=`${n}`,i};const yGe=[["path",{d:"M12 6a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M6 12a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M15 18a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]],vGe=dt("outline","adjustments-horizontal","AdjustmentsHorizontal",yGe);const bGe=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],_we=dt("outline","alert-circle","AlertCircle",bGe);const wGe=[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],Du=dt("outline","alert-triangle","AlertTriangle",wGe);const xGe=[["path",{d:"M6 4l-3 3l3 3",key:"svg-0"}],["path",{d:"M18 4l3 3l-3 3",key:"svg-1"}],["path",{d:"M4 16a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2l0 -2",key:"svg-2"}],["path",{d:"M10 7h-7",key:"svg-3"}],["path",{d:"M21 7h-7",key:"svg-4"}]],CGe=dt("outline","arrow-autofit-content","ArrowAutofitContent",xGe);const _Ge=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]],iz=dt("outline","arrow-left","ArrowLeft",_Ge);const EGe=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],goe=dt("outline","arrow-right","ArrowRight",EGe);const SGe=[["path",{d:"M21 17l-18 0",key:"svg-0"}],["path",{d:"M6 10l-3 -3l3 -3",key:"svg-1"}],["path",{d:"M3 7l18 0",key:"svg-2"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-3"}]],TGe=dt("outline","arrows-left-right","ArrowsLeftRight",SGe);const kGe=[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]],AGe=dt("outline","arrows-shuffle","ArrowsShuffle",kGe);const RGe=[["path",{d:"M3 9l4 -4l4 4m-4 -4v14",key:"svg-0"}],["path",{d:"M21 15l-4 4l-4 -4m4 4v-14",key:"svg-1"}]],IGe=dt("outline","arrows-sort","ArrowsSort",RGe);const DGe=[["path",{d:"M8 12a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28",key:"svg-1"}]],PGe=dt("outline","at","At",DGe);const OGe=[["path",{d:"M4 4h16",key:"svg-0"}],["path",{d:"M4 20h16",key:"svg-1"}]],NGe=dt("outline","baseline-density-large","BaselineDensityLarge",OGe);const MGe=[["path",{d:"M4 20h16",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M4 4h16",key:"svg-2"}]],$Ge=dt("outline","baseline-density-medium","BaselineDensityMedium",MGe);const LGe=[["path",{d:"M4 3h16",key:"svg-0"}],["path",{d:"M4 9h16",key:"svg-1"}],["path",{d:"M4 15h16",key:"svg-2"}],["path",{d:"M4 21h16",key:"svg-3"}]],FGe=dt("outline","baseline-density-small","BaselineDensitySmall",LGe);const jGe=[["path",{d:"M6 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0",key:"svg-0"}],["path",{d:"M16 4a2 2 0 1 0 -4 0a2 2 0 0 0 4 0",key:"svg-1"}],["path",{d:"M16 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0",key:"svg-2"}],["path",{d:"M11 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0",key:"svg-3"}],["path",{d:"M21 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0",key:"svg-4"}],["path",{d:"M5.058 18.306l2.88 -4.606",key:"svg-5"}],["path",{d:"M10.061 10.303l2.877 -4.604",key:"svg-6"}],["path",{d:"M10.065 13.705l2.876 4.6",key:"svg-7"}],["path",{d:"M15.063 5.7l2.881 4.61",key:"svg-8"}]],BGe=dt("outline","binary-tree","BinaryTree",jGe);const zGe=[["path",{d:"M7 5a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2l0 -10",key:"svg-0"}],["path",{d:"M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-1"}]],UGe=dt("outline","box-multiple","BoxMultiple",zGe);const HGe=[["path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8",key:"svg-0"}],["path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8",key:"svg-1"}],["path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5",key:"svg-2"}],["path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5",key:"svg-4"}],["path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10",key:"svg-5"}]],qGe=dt("outline","brain","Brain",HGe);const VGe=[["path",{d:"M4.53 17.05l6.15 -11.72h-.02c.38 -.74 1.28 -1.02 2.01 -.63c.26 .14 .48 .36 .62 .62l1.06 2.01",key:"svg-0"}],["path",{d:"M15.47 6.45c.58 -.59 1.53 -.59 2.11 -.01c.22 .22 .36 .5 .41 .81l1.5 9.11c.1 .62 -.2 1.24 -.76 1.54l-6.07 2.9c-.46 .25 -1.01 .26 -1.46 0l-6.02 -2.92c-.55 -.31 -.85 -.92 -.75 -1.54l1.96 -12.04c.12 -.82 .89 -1.38 1.7 -1.25c.46 .07 .87 .36 1.09 .77l1.24 1.76",key:"svg-1"}],["path",{d:"M4.57 17.18l10.93 -10.68",key:"svg-2"}]],Ewe=dt("outline","brand-firebase","BrandFirebase",VGe);const WGe=[["path",{d:"M12 9h-7a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h3",key:"svg-0"}],["path",{d:"M12 15h7a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-3",key:"svg-1"}],["path",{d:"M8 9v-4a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v5a2 2 0 0 1 -2 2h-4a2 2 0 0 0 -2 2v5a2 2 0 0 0 2 2h4a2 2 0 0 0 2 -2v-4",key:"svg-2"}],["path",{d:"M11 6l0 .01",key:"svg-3"}],["path",{d:"M13 18l0 .01",key:"svg-4"}]],GGe=dt("outline","brand-python","BrandPython",WGe);const YGe=[["path",{d:"M4 14h8v7l8 -11h-8v-7l-8 11",key:"svg-0"}]],_G=dt("outline","brand-supabase","BrandSupabase",YGe);const KGe=[["path",{d:"M4 8h16",key:"svg-0"}],["path",{d:"M4 6a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2l0 -12",key:"svg-1"}],["path",{d:"M8 4v4",key:"svg-2"}]],XGe=dt("outline","browser","Browser",KGe);const QGe=[["path",{d:"M7 10h10",key:"svg-0"}],["path",{d:"M9 14h5",key:"svg-1"}],["path",{d:"M12.4 3a5.34 5.34 0 0 1 4.906 3.239a5.333 5.333 0 0 1 -1.195 10.6a4.26 4.26 0 0 1 -5.28 1.863l-3.831 2.298v-3.134a2.668 2.668 0 0 1 -1.795 -3.773a4.8 4.8 0 0 1 2.908 -8.933a5.33 5.33 0 0 1 4.287 -2.16",key:"svg-2"}]],JGe=dt("outline","bubble-text","BubbleText",QGe);const ZGe=[["path",{d:"M12 3v5m4 4h5",key:"svg-0"}],["path",{d:"M8 12a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-1"}],["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]],eYe=dt("outline","chart-donut-2","ChartDonut2",ZGe);const tYe=[["path",{d:"M16 6a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 12a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M4 18a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M16 18a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M8 18h8",key:"svg-4"}],["path",{d:"M18 20v1",key:"svg-5"}],["path",{d:"M18 3v1",key:"svg-6"}],["path",{d:"M6 20v1",key:"svg-7"}],["path",{d:"M6 10v-7",key:"svg-8"}],["path",{d:"M12 3v18",key:"svg-9"}],["path",{d:"M18 8v8",key:"svg-10"}],["path",{d:"M8 12h13",key:"svg-11"}],["path",{d:"M21 6h-1",key:"svg-12"}],["path",{d:"M16 6h-13",key:"svg-13"}],["path",{d:"M3 12h1",key:"svg-14"}],["path",{d:"M20 18h1",key:"svg-15"}],["path",{d:"M3 18h1",key:"svg-16"}],["path",{d:"M6 14v2",key:"svg-17"}]],nYe=dt("outline","chart-grid-dots","ChartGridDots",tYe);const rYe=[["path",{d:"M3 3v18h18",key:"svg-0"}],["path",{d:"M20 18v3",key:"svg-1"}],["path",{d:"M16 16v5",key:"svg-2"}],["path",{d:"M12 13v8",key:"svg-3"}],["path",{d:"M8 16v5",key:"svg-4"}],["path",{d:"M3 11c6 0 5 -5 9 -5s3 5 9 5",key:"svg-5"}]],Swe=dt("outline","chart-histogram","ChartHistogram",rYe);const iYe=[["path",{d:"M10 3.2a9 9 0 1 0 10.8 10.8a1 1 0 0 0 -1 -1h-6.8a2 2 0 0 1 -2 -2v-7a.9 .9 0 0 0 -1 -.8",key:"svg-0"}],["path",{d:"M15 3.5a9 9 0 0 1 5.5 5.5h-4.5a1 1 0 0 1 -1 -1v-4.5",key:"svg-1"}]],oYe=dt("outline","chart-pie","ChartPie",iYe);const sYe=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],Th=dt("outline","check","Check",sYe);const aYe=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],uM=dt("outline","chevron-down","ChevronDown",aYe);const lYe=[["path",{d:"M7 6v12",key:"svg-0"}],["path",{d:"M18 6l-6 6l6 6",key:"svg-1"}]],uYe=dt("outline","chevron-left-pipe","ChevronLeftPipe",lYe);const cYe=[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]],dYe=dt("outline","chevron-left","ChevronLeft",cYe);const fYe=[["path",{d:"M6 6l6 6l-6 6",key:"svg-0"}],["path",{d:"M17 5v13",key:"svg-1"}]],hYe=dt("outline","chevron-right-pipe","ChevronRightPipe",fYe);const pYe=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],Twe=dt("outline","chevron-right","ChevronRight",pYe);const mYe=[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]],kwe=dt("outline","chevron-up","ChevronUp",mYe);const gYe=[["path",{d:"M7 7l5 5l5 -5",key:"svg-0"}],["path",{d:"M7 13l5 5l5 -5",key:"svg-1"}]],yYe=dt("outline","chevrons-down","ChevronsDown",gYe);const vYe=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M10 10l4 4m0 -4l-4 4",key:"svg-1"}]],bYe=dt("outline","circle-x","CircleX",vYe);const wYe=[["path",{d:"M8 6h12",key:"svg-0"}],["path",{d:"M6 12h12",key:"svg-1"}],["path",{d:"M4 18h12",key:"svg-2"}]],xYe=dt("outline","clear-all","ClearAll",wYe);const CYe=[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]],_Ye=dt("outline","code-plus","CodePlus",CYe);const EYe=[["path",{d:"M4 6l5.5 0",key:"svg-0"}],["path",{d:"M4 10l5.5 0",key:"svg-1"}],["path",{d:"M4 14l5.5 0",key:"svg-2"}],["path",{d:"M4 18l5.5 0",key:"svg-3"}],["path",{d:"M14.5 6l5.5 0",key:"svg-4"}],["path",{d:"M14.5 10l5.5 0",key:"svg-5"}],["path",{d:"M14.5 14l5.5 0",key:"svg-6"}],["path",{d:"M14.5 18l5.5 0",key:"svg-7"}]],SYe=dt("outline","columns","Columns",EYe);const TYe=[["path",{d:"M7 9.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667l0 -8.666",key:"svg-0"}],["path",{d:"M4.012 16.737a2 2 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}],["path",{d:"M11 14l2 2l4 -4",key:"svg-2"}]],kYe=dt("outline","copy-check","CopyCheck",TYe);const AYe=[["path",{d:"M7 9.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667l0 -8.666",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]],cM=dt("outline","copy","Copy",AYe);const RYe=[["path",{d:"M10 13a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M13.45 11.55l2.05 -2.05",key:"svg-1"}],["path",{d:"M6.4 20a9 9 0 1 1 11.2 0l-11.2 0",key:"svg-2"}]],IYe=dt("outline","dashboard","Dashboard",RYe);const DYe=[["path",{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3",key:"svg-0"}],["path",{d:"M4 6v6c0 1.657 3.582 3 8 3c1.118 0 2.183 -.086 3.15 -.241",key:"svg-1"}],["path",{d:"M20 12v-6",key:"svg-2"}],["path",{d:"M4 12v6c0 1.657 3.582 3 8 3c.157 0 .312 -.002 .466 -.005",key:"svg-3"}],["path",{d:"M16 19h6",key:"svg-4"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-5"}]],PYe=dt("outline","database-export","DatabaseExport",DYe);const OYe=[["path",{d:"M4 6a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]],$3=dt("outline","database","Database",OYe);const NYe=[["path",{d:"M13.5 16h-9.5a1 1 0 0 1 -1 -1v-10a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v7.5",key:"svg-0"}],["path",{d:"M7 20h5",key:"svg-1"}],["path",{d:"M9 16v4",key:"svg-2"}],["path",{d:"M19 16v6",key:"svg-3"}],["path",{d:"M22 19l-3 3l-3 -3",key:"svg-4"}]],Awe=dt("outline","device-desktop-down","DeviceDesktopDown",NYe);const MYe=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M10 14a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]],$Ye=dt("outline","device-floppy","DeviceFloppy",MYe);const LYe=[["path",{d:"M13 9a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1v-10",key:"svg-0"}],["path",{d:"M18 8v-3a1 1 0 0 0 -1 -1h-13a1 1 0 0 0 -1 1v12a1 1 0 0 0 1 1h9",key:"svg-1"}],["path",{d:"M16 9h2",key:"svg-2"}]],FYe=dt("outline","devices","Devices",LYe);const jYe=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14",key:"svg-0"}],["path",{d:"M8 8.5a.5 .5 0 1 0 1 0a.5 .5 0 1 0 -1 0",fill:"currentColor",key:"svg-1"}],["path",{d:"M15 15.5a.5 .5 0 1 0 1 0a.5 .5 0 1 0 -1 0",fill:"currentColor",key:"svg-2"}],["path",{d:"M11.5 12a.5 .5 0 1 0 1 0a.5 .5 0 1 0 -1 0",fill:"currentColor",key:"svg-3"}]],BYe=dt("outline","dice-3","Dice3",jYe);const zYe=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14",key:"svg-0"}],["path",{d:"M8 8.5a.5 .5 0 1 0 1 0a.5 .5 0 1 0 -1 0",fill:"currentColor",key:"svg-1"}],["path",{d:"M15 8.5a.5 .5 0 1 0 1 0a.5 .5 0 1 0 -1 0",fill:"currentColor",key:"svg-2"}],["path",{d:"M15 15.5a.5 .5 0 1 0 1 0a.5 .5 0 1 0 -1 0",fill:"currentColor",key:"svg-3"}],["path",{d:"M8 15.5a.5 .5 0 1 0 1 0a.5 .5 0 1 0 -1 0",fill:"currentColor",key:"svg-4"}],["path",{d:"M11.5 12a.5 .5 0 1 0 1 0a.5 .5 0 1 0 -1 0",fill:"currentColor",key:"svg-5"}]],UYe=dt("outline","dice-5","Dice5",zYe);const HYe=[["path",{d:"M11 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M11 19a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M11 5a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],Rwe=dt("outline","dots-vertical","DotsVertical",HYe);const qYe=[["path",{d:"M4 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M11 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M18 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],Iwe=dt("outline","dots","Dots",qYe);const VYe=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],WYe=dt("outline","download","Download",VYe);const GYe=[["path",{d:"M19 11v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2",key:"svg-0"}],["path",{d:"M13 13l9 3l-4 2l-2 4l-3 -9",key:"svg-1"}],["path",{d:"M3 3l0 .01",key:"svg-2"}],["path",{d:"M7 3l0 .01",key:"svg-3"}],["path",{d:"M11 3l0 .01",key:"svg-4"}],["path",{d:"M15 3l0 .01",key:"svg-5"}],["path",{d:"M3 7l0 .01",key:"svg-6"}],["path",{d:"M3 11l0 .01",key:"svg-7"}],["path",{d:"M3 15l0 .01",key:"svg-8"}]],YYe=dt("outline","drag-drop","DragDrop",GYe);const KYe=[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]],L3=dt("outline","edit","Edit",KYe);const XYe=[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]],QYe=dt("outline","external-link","ExternalLink",XYe);const JYe=[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],ZYe=dt("outline","eye-off","EyeOff",JYe);const eKe=[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]],tKe=dt("outline","eye","Eye",eKe);const nKe=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2",key:"svg-1"}],["path",{d:"M10 13l-1 2l1 2",key:"svg-2"}],["path",{d:"M14 13l1 2l-1 2",key:"svg-3"}]],rKe=dt("outline","file-code","FileCode",nKe);const iKe=[["path",{d:"M12 20l-3 1v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v1.5",key:"svg-0"}],["path",{d:"M17.001 19a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M19.001 15.5v1.5",key:"svg-2"}],["path",{d:"M19.001 21v1.5",key:"svg-3"}],["path",{d:"M22.032 17.25l-1.299 .75",key:"svg-4"}],["path",{d:"M17.27 20l-1.3 .75",key:"svg-5"}],["path",{d:"M15.97 17.25l1.3 .75",key:"svg-6"}],["path",{d:"M20.733 20l1.3 .75",key:"svg-7"}]],oKe=dt("outline","filter-cog","FilterCog",iKe);const sKe=[["path",{d:"M8 4h12v2.172a2 2 0 0 1 -.586 1.414l-3.914 3.914m-.5 3.5v4l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]],aKe=dt("outline","filter-off","FilterOff",sKe);const lKe=[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227",key:"svg-0"}]],uKe=dt("outline","filter","Filter",lKe);const cKe=[["path",{d:"M8 4h10a2 2 0 0 1 2 2v10m-.586 3.414a2 2 0 0 1 -1.414 .586h-12a2 2 0 0 1 -2 -2v-12c0 -.547 .22 -1.043 .576 -1.405",key:"svg-0"}],["path",{d:"M7 14l3 -3l2 2l.5 -.5m2 -2l.5 -.5l2 2",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],Dwe=dt("outline","graph-off","GraphOff",cKe);const dKe=[["path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2",key:"svg-0"}],["path",{d:"M7 14l3 -3l2 2l3 -3l2 2",key:"svg-1"}]],Pwe=dt("outline","graph","Graph",dKe);const fKe=[["path",{d:"M4 5a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M11 5a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M18 5a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M4 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M11 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M18 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}],["path",{d:"M4 19a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-6"}],["path",{d:"M11 19a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-7"}],["path",{d:"M18 19a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-8"}]],hKe=dt("outline","grid-dots","GridDots",fKe);const pKe=[["path",{d:"M4 9a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M4 15a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M11 9a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M11 15a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M18 9a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M18 15a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}]],mKe=dt("outline","grip-horizontal","GripHorizontal",pKe);const gKe=[["path",{d:"M8 13v-8.5a1.5 1.5 0 0 1 3 0v7.5",key:"svg-0"}],["path",{d:"M11 11.5v-2a1.5 1.5 0 0 1 3 0v2.5",key:"svg-1"}],["path",{d:"M14 10.5a1.5 1.5 0 0 1 3 0v1.5",key:"svg-2"}],["path",{d:"M17 11.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47",key:"svg-3"}],["path",{d:"M5 3l-1 -1",key:"svg-4"}],["path",{d:"M4 7h-1",key:"svg-5"}],["path",{d:"M14 3l1 -1",key:"svg-6"}],["path",{d:"M15 6h1",key:"svg-7"}]],yKe=dt("outline","hand-click","HandClick",gKe);const vKe=[["path",{d:"M6 20v-2a6 6 0 1 1 12 0v2a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1",key:"svg-0"}],["path",{d:"M6 4v2a6 6 0 1 0 12 0v-2a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1",key:"svg-1"}]],bKe=dt("outline","hourglass-empty","HourglassEmpty",vKe);const wKe=[["path",{d:"M13 16v-8l2 5l2 -5v8",key:"svg-0"}],["path",{d:"M1 16v-8",key:"svg-1"}],["path",{d:"M5 8v8",key:"svg-2"}],["path",{d:"M1 12h4",key:"svg-3"}],["path",{d:"M7 8h4",key:"svg-4"}],["path",{d:"M9 8v8",key:"svg-5"}],["path",{d:"M20 8v8h3",key:"svg-6"}]],xKe=dt("outline","html","Html",wKe);const CKe=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]],Rc=dt("outline","info-circle","InfoCircle",CKe);const _Ke=[["path",{d:"M4 6a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2l0 -12",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]],EKe=dt("outline","layout-columns","LayoutColumns",_Ke);const SKe=[["path",{d:"M14 15.5a3.5 3.5 0 1 0 7 0a3.5 3.5 0 1 0 -7 0",key:"svg-0"}],["path",{d:"M3 19v-10.5a3.5 3.5 0 0 1 7 0v10.5",key:"svg-1"}],["path",{d:"M3 13h7",key:"svg-2"}],["path",{d:"M21 12v7",key:"svg-3"}]],TKe=dt("outline","letter-case","LetterCase",SKe);const kKe=[["path",{d:"M3.5 5.5l1.5 1.5l2.5 -2.5",key:"svg-0"}],["path",{d:"M3.5 11.5l1.5 1.5l2.5 -2.5",key:"svg-1"}],["path",{d:"M3.5 17.5l1.5 1.5l2.5 -2.5",key:"svg-2"}],["path",{d:"M11 6l9 0",key:"svg-3"}],["path",{d:"M11 12l9 0",key:"svg-4"}],["path",{d:"M11 18l9 0",key:"svg-5"}]],Owe=dt("outline","list-check","ListCheck",kKe);const AKe=[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]],RKe=dt("outline","mail","Mail",AKe);const IKe=[["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]],DKe=dt("outline","maximize","Maximize",IKe);const PKe=[["path",{d:"M3 3l18 18",key:"svg-0"}],["path",{d:"M9 5a3 3 0 0 1 6 0v5a3 3 0 0 1 -.13 .874m-2 2a3 3 0 0 1 -3.87 -2.872v-1",key:"svg-1"}],["path",{d:"M5 10a7 7 0 0 0 10.846 5.85m2 -2a6.967 6.967 0 0 0 1.152 -3.85",key:"svg-2"}],["path",{d:"M8 21l8 0",key:"svg-3"}],["path",{d:"M12 17l0 4",key:"svg-4"}]],yoe=dt("outline","microphone-off","MicrophoneOff",PKe);const OKe=[["path",{d:"M9 5a3 3 0 0 1 3 -3a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3a3 3 0 0 1 -3 -3l0 -5",key:"svg-0"}],["path",{d:"M5 10a7 7 0 0 0 14 0",key:"svg-1"}],["path",{d:"M8 21l8 0",key:"svg-2"}],["path",{d:"M12 17l0 4",key:"svg-3"}]],voe=dt("outline","microphone","Microphone",OKe);const NKe=[["path",{d:"M15 19v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M15 5v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M5 15h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M5 9h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]],MKe=dt("outline","minimize","Minimize",NKe);const $Ke=[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M9 17v-13h10v8",key:"svg-1"}],["path",{d:"M9 8h10",key:"svg-2"}],["path",{d:"M19 16v6",key:"svg-3"}],["path",{d:"M22 19l-3 3l-3 -3",key:"svg-4"}]],Nwe=dt("outline","music-down","MusicDown",$Ke);const LKe=[["path",{d:"M3 10l2 -2v8",key:"svg-0"}],["path",{d:"M9 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3",key:"svg-1"}],["path",{d:"M17 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5",key:"svg-2"}]],FKe=dt("outline","number-123","Number123",LKe);const jKe=[["path",{d:"M12 21l-8 -4.5v-9l8 -4.5l8 4.5v4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12v9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}],["path",{d:"M22 18h-7",key:"svg-4"}],["path",{d:"M18 15l-3 3l3 3",key:"svg-5"}]],BKe=dt("outline","package-import","PackageImport",jKe);const zKe=[["path",{d:"M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25",key:"svg-0"}],["path",{d:"M7.5 10.5a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M11.5 7.5a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M15.5 10.5a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}]],UKe=dt("outline","palette","Palette",zKe);const HKe=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]],qKe=dt("outline","pencil","Pencil",HKe);const VKe=[["path",{d:"M3 3l18 18",key:"svg-0"}],["path",{d:"M15 4.5l-3.249 3.249m-2.57 1.433l-2.181 .818l-1.5 1.5l7 7l1.5 -1.5l.82 -2.186m1.43 -2.563l3.25 -3.251",key:"svg-1"}],["path",{d:"M9 15l-4.5 4.5",key:"svg-2"}],["path",{d:"M14.5 4l5.5 5.5",key:"svg-3"}]],WKe=dt("outline","pinned-off","PinnedOff",VKe);const GKe=[["path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6",key:"svg-0"}],["path",{d:"M12 16l0 5",key:"svg-1"}],["path",{d:"M8 4l8 0",key:"svg-2"}]],YKe=dt("outline","pinned","Pinned",GKe);const KKe=[["path",{d:"M20 16l-4 4",key:"svg-0"}],["path",{d:"M7 12l5 5l-1.5 1.5a3.536 3.536 0 1 1 -5 -5l1.5 -1.5",key:"svg-1"}],["path",{d:"M17 12l-5 -5l1.5 -1.5a3.536 3.536 0 1 1 5 5l-1.5 1.5",key:"svg-2"}],["path",{d:"M3 21l2.5 -2.5",key:"svg-3"}],["path",{d:"M18.5 5.5l2.5 -2.5",key:"svg-4"}],["path",{d:"M10 11l-2 2",key:"svg-5"}],["path",{d:"M13 14l-2 2",key:"svg-6"}],["path",{d:"M16 16l4 4",key:"svg-7"}]],XKe=dt("outline","plug-connected-x","PlugConnectedX",KKe);const QKe=[["path",{d:"M10 20.777a8.942 8.942 0 0 1 -2.48 -.969",key:"svg-0"}],["path",{d:"M14 3.223a9.003 9.003 0 0 1 0 17.554",key:"svg-1"}],["path",{d:"M4.579 17.093a8.961 8.961 0 0 1 -1.227 -2.592",key:"svg-2"}],["path",{d:"M3.124 10.5c.16 -.95 .468 -1.85 .9 -2.675l.169 -.305",key:"svg-3"}],["path",{d:"M6.907 4.579a8.954 8.954 0 0 1 3.093 -1.356",key:"svg-4"}]],Mwe=dt("outline","progress","Progress",QKe);const JKe=[["path",{d:"M14 3l-9.371 3.749a1 1 0 0 0 -.629 .928v11.323a1 1 0 0 0 1 1h14a1 1 0 0 0 1 -1v-11a1 1 0 0 0 -1 -1h-14.5",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M7 12v-2",key:"svg-2"}],["path",{d:"M17 16v.01",key:"svg-3"}],["path",{d:"M13 16v.01",key:"svg-4"}]],ZKe=dt("outline","radio","Radio",JKe);const eXe=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]],$we=dt("outline","refresh","Refresh",eXe);const tXe=[["path",{d:"M3.06 13a9 9 0 1 0 .49 -4.087",key:"svg-0"}],["path",{d:"M3 4.001v5h5",key:"svg-1"}],["path",{d:"M11 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],nXe=dt("outline","restore","Restore",tXe);const rXe=[["path",{d:"M6 2h4v4m-4 0h-1v-1",key:"svg-0"}],["path",{d:"M15 11v-1h5v4h-2",key:"svg-1"}],["path",{d:"M5 18h5v4h-5l0 -4",key:"svg-2"}],["path",{d:"M5 10h5v4h-5l0 -4",key:"svg-3"}],["path",{d:"M10 12h2",key:"svg-4"}],["path",{d:"M7.5 7.5v2.5",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}],["path",{d:"M3 3l18 18",key:"svg-7"}]],iXe=dt("outline","schema-off","SchemaOff",rXe);const oXe=[["path",{d:"M5 2h5v4h-5l0 -4",key:"svg-0"}],["path",{d:"M15 10h5v4h-5l0 -4",key:"svg-1"}],["path",{d:"M5 18h5v4h-5l0 -4",key:"svg-2"}],["path",{d:"M5 10h5v4h-5l0 -4",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]],Lwe=dt("outline","schema","Schema",oXe);const sXe=[["path",{d:"M5.039 5.062a7 7 0 0 0 9.91 9.89m1.584 -2.434a7 7 0 0 0 -9.038 -9.057",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]],aXe=dt("outline","search-off","SearchOff",sXe);const lXe=[["path",{d:"M3 10a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],uXe=dt("outline","search","Search",lXe);const cXe=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14",key:"svg-0"}],["path",{d:"M9 11l3 3l3 -3",key:"svg-1"}]],dXe=dt("outline","select","Select",cXe);const fXe=[["path",{d:"M12.004 21c-.732 .002 -1.466 -.437 -1.679 -1.317a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.306 .317 1.64 1.78 1.004 2.684",key:"svg-0"}],["path",{d:"M12 15a3 3 0 1 0 0 -6a3 3 0 0 0 0 6",key:"svg-1"}],["path",{d:"M16 22l5 -5",key:"svg-2"}],["path",{d:"M21 21.5v-4.5h-4.5",key:"svg-3"}]],hXe=dt("outline","settings-share","SettingsShare",fXe);const pXe=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],Fwe=dt("outline","settings","Settings",pXe);const mXe=[["path",{d:"M4 6l7 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l9 0",key:"svg-2"}],["path",{d:"M15 9l3 -3l3 3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]],gXe=dt("outline","sort-ascending","SortAscending",mXe);const yXe=[["path",{d:"M4 6l9 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l7 0",key:"svg-2"}],["path",{d:"M15 15l3 3l3 -3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]],vXe=dt("outline","sort-descending","SortDescending",yXe);const bXe=[["path",{d:"M8 10a2 2 0 0 1 2 -2h9a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-9a2 2 0 0 1 -2 -2l0 -9",key:"svg-0"}],["path",{d:"M16 8v-3a2 2 0 0 0 -2 -2h-9a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h3",key:"svg-1"}]],wXe=dt("outline","squares","Squares",bXe);const xXe=[["path",{d:"M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-4"}]],jwe=dt("outline","table-export","TableExport",xXe);const CXe=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]],_Xe=dt("outline","table","Table",CXe);const EXe=[["path",{d:"M3 8v4.172a2 2 0 0 0 .586 1.414l5.71 5.71a2.41 2.41 0 0 0 3.408 0l3.592 -3.592a2.41 2.41 0 0 0 0 -3.408l-5.71 -5.71a2 2 0 0 0 -1.414 -.586h-4.172a2 2 0 0 0 -2 2",key:"svg-0"}],["path",{d:"M18 19l1.592 -1.592a4.82 4.82 0 0 0 0 -6.816l-4.592 -4.592",key:"svg-1"}],["path",{d:"M7 10h-.01",key:"svg-2"}]],SXe=dt("outline","tags","Tags",EXe);const TXe=[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]],Bwe=dt("outline","trash-x","TrashX",TXe);const kXe=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]],EG=dt("outline","user-plus","UserPlus",kXe);const AXe=[["path",{d:"M12 18l.01 0",key:"svg-0"}],["path",{d:"M9.172 15.172a4 4 0 0 1 5.656 0",key:"svg-1"}],["path",{d:"M6.343 12.343a7.963 7.963 0 0 1 3.864 -2.14m4.163 .155a7.965 7.965 0 0 1 3.287 2",key:"svg-2"}],["path",{d:"M3.515 9.515a12 12 0 0 1 3.544 -2.455m3.101 -.92a12 12 0 0 1 10.325 3.374",key:"svg-3"}],["path",{d:"M3 3l18 18",key:"svg-4"}]],RXe=dt("outline","wifi-off","WifiOff",AXe);const IXe=[["path",{d:"M12 18l.01 0",key:"svg-0"}],["path",{d:"M9.172 15.172a4 4 0 0 1 5.656 0",key:"svg-1"}],["path",{d:"M6.343 12.343a8 8 0 0 1 11.314 0",key:"svg-2"}],["path",{d:"M3.515 9.515c4.686 -4.687 12.284 -4.687 17 0",key:"svg-3"}]],DXe=dt("outline","wifi","Wifi",IXe);const PXe=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],dm=dt("outline","x","X",PXe);const OXe=[["path",{d:"M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1 -1.265 .06a6 6 0 1 0 2.103 6.836l.001 -.004h-3.66a1 1 0 0 1 -.992 -.883l-.007 -.117v-2a1 1 0 0 1 1 -1h6.945a1 1 0 0 1 .994 .89c.04 .367 .061 .737 .061 1.11c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10z",key:"svg-0"}]],NXe=dt("filled","brand-google-filled","BrandGoogleFilled",OXe);const MXe=[["path",{d:"M9 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-0"}],["path",{d:"M17 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-1"}]],$Xe=dt("filled","player-pause-filled","PlayerPauseFilled",MXe);const LXe=[["path",{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z",key:"svg-0"}]],FXe=dt("filled","player-play-filled","PlayerPlayFilled",LXe);function zwe(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const Hi="/study/";function boe(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const s=n.slice(i,r).trim();(s||!o)&&t.push(s),i=r+1,r=n.indexOf(",",i)}return t}function Uwe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const jXe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,BXe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zXe={};function woe(e,t){return(zXe.jsx?BXe:jXe).test(e)}const UXe=/[ \t\n\f\r]/g;function HXe(e){return typeof e=="object"?e.type==="text"?xoe(e.value):!1:xoe(e)}function xoe(e){return e.replace(UXe,"")===""}let LT=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};LT.prototype.normal={};LT.prototype.property={};LT.prototype.space=void 0;function Hwe(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new LT(n,r,t)}function oz(e){return e.toLowerCase()}let cu=class{constructor(t,n){this.attribute=n,this.property=t}};cu.prototype.attribute="";cu.prototype.booleanish=!1;cu.prototype.boolean=!1;cu.prototype.commaOrSpaceSeparated=!1;cu.prototype.commaSeparated=!1;cu.prototype.defined=!1;cu.prototype.mustUseProperty=!1;cu.prototype.number=!1;cu.prototype.overloadedBoolean=!1;cu.prototype.property="";cu.prototype.spaceSeparated=!1;cu.prototype.space=void 0;let qXe=0;const ir=Ib(),Vo=Ib(),sz=Ib(),Tt=Ib(),ki=Ib(),Dw=Ib(),Cu=Ib();function Ib(){return 2**++qXe}const az=Object.freeze(Object.defineProperty({__proto__:null,boolean:ir,booleanish:Vo,commaOrSpaceSeparated:Cu,commaSeparated:Dw,number:Tt,overloadedBoolean:sz,spaceSeparated:ki},Symbol.toStringTag,{value:"Module"})),QF=Object.keys(az);let SG=class extends cu{constructor(t,n,r,i){let o=-1;if(super(t,n),Coe(this,"space",i),typeof r=="number")for(;++o<QF.length;){const s=QF[o];Coe(this,QF[o],(r&az[s])===az[s])}}};SG.prototype.defined=!0;function Coe(e,t,n){n&&(e[t]=n)}function hC(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new SG(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[oz(r)]=r,n[oz(o.attribute)]=r}return new LT(t,n,e.space)}const qwe=hC({properties:{ariaActiveDescendant:null,ariaAtomic:Vo,ariaAutoComplete:null,ariaBusy:Vo,ariaChecked:Vo,ariaColCount:Tt,ariaColIndex:Tt,ariaColSpan:Tt,ariaControls:ki,ariaCurrent:null,ariaDescribedBy:ki,ariaDetails:null,ariaDisabled:Vo,ariaDropEffect:ki,ariaErrorMessage:null,ariaExpanded:Vo,ariaFlowTo:ki,ariaGrabbed:Vo,ariaHasPopup:null,ariaHidden:Vo,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ki,ariaLevel:Tt,ariaLive:null,ariaModal:Vo,ariaMultiLine:Vo,ariaMultiSelectable:Vo,ariaOrientation:null,ariaOwns:ki,ariaPlaceholder:null,ariaPosInSet:Tt,ariaPressed:Vo,ariaReadOnly:Vo,ariaRelevant:null,ariaRequired:Vo,ariaRoleDescription:ki,ariaRowCount:Tt,ariaRowIndex:Tt,ariaRowSpan:Tt,ariaSelected:Vo,ariaSetSize:Tt,ariaSort:null,ariaValueMax:Tt,ariaValueMin:Tt,ariaValueNow:Tt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Vwe(e,t){return t in e?e[t]:t}function Wwe(e,t){return Vwe(e,t.toLowerCase())}const VXe=hC({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Dw,acceptCharset:ki,accessKey:ki,action:null,allow:null,allowFullScreen:ir,allowPaymentRequest:ir,allowUserMedia:ir,alt:null,as:null,async:ir,autoCapitalize:null,autoComplete:ki,autoFocus:ir,autoPlay:ir,blocking:ki,capture:null,charSet:null,checked:ir,cite:null,className:ki,cols:Tt,colSpan:null,content:null,contentEditable:Vo,controls:ir,controlsList:ki,coords:Tt|Dw,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ir,defer:ir,dir:null,dirName:null,disabled:ir,download:sz,draggable:Vo,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ir,formTarget:null,headers:ki,height:Tt,hidden:sz,high:Tt,href:null,hrefLang:null,htmlFor:ki,httpEquiv:ki,id:null,imageSizes:null,imageSrcSet:null,inert:ir,inputMode:null,integrity:null,is:null,isMap:ir,itemId:null,itemProp:ki,itemRef:ki,itemScope:ir,itemType:ki,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ir,low:Tt,manifest:null,max:null,maxLength:Tt,media:null,method:null,min:null,minLength:Tt,multiple:ir,muted:ir,name:null,nonce:null,noModule:ir,noValidate:ir,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ir,optimum:Tt,pattern:null,ping:ki,placeholder:null,playsInline:ir,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ir,referrerPolicy:null,rel:ki,required:ir,reversed:ir,rows:Tt,rowSpan:Tt,sandbox:ki,scope:null,scoped:ir,seamless:ir,selected:ir,shadowRootClonable:ir,shadowRootDelegatesFocus:ir,shadowRootMode:null,shape:null,size:Tt,sizes:null,slot:null,span:Tt,spellCheck:Vo,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Tt,step:null,style:null,tabIndex:Tt,target:null,title:null,translate:null,type:null,typeMustMatch:ir,useMap:null,value:Vo,width:Tt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ki,axis:null,background:null,bgColor:null,border:Tt,borderColor:null,bottomMargin:Tt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ir,declare:ir,event:null,face:null,frame:null,frameBorder:null,hSpace:Tt,leftMargin:Tt,link:null,longDesc:null,lowSrc:null,marginHeight:Tt,marginWidth:Tt,noResize:ir,noHref:ir,noShade:ir,noWrap:ir,object:null,profile:null,prompt:null,rev:null,rightMargin:Tt,rules:null,scheme:null,scrolling:Vo,standby:null,summary:null,text:null,topMargin:Tt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Tt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ir,disableRemotePlayback:ir,prefix:null,property:null,results:Tt,security:null,unselectable:null},space:"html",transform:Wwe}),WXe=hC({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Cu,accentHeight:Tt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Tt,amplitude:Tt,arabicForm:null,ascent:Tt,attributeName:null,attributeType:null,azimuth:Tt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Tt,by:null,calcMode:null,capHeight:Tt,className:ki,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Tt,diffuseConstant:Tt,direction:null,display:null,dur:null,divisor:Tt,dominantBaseline:null,download:ir,dx:null,dy:null,edgeMode:null,editable:null,elevation:Tt,enableBackground:null,end:null,event:null,exponent:Tt,externalResourcesRequired:null,fill:null,fillOpacity:Tt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Dw,g2:Dw,glyphName:Dw,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Tt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Tt,horizOriginX:Tt,horizOriginY:Tt,id:null,ideographic:Tt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Tt,k:Tt,k1:Tt,k2:Tt,k3:Tt,k4:Tt,kernelMatrix:Cu,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Tt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Tt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Tt,overlineThickness:Tt,paintOrder:null,panose1:null,path:null,pathLength:Tt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ki,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Tt,pointsAtY:Tt,pointsAtZ:Tt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Cu,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Cu,rev:Cu,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Cu,requiredFeatures:Cu,requiredFonts:Cu,requiredFormats:Cu,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Tt,specularExponent:Tt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Tt,strikethroughThickness:Tt,string:null,stroke:null,strokeDashArray:Cu,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Tt,strokeOpacity:Tt,strokeWidth:null,style:null,surfaceScale:Tt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Cu,tabIndex:Tt,tableValues:null,target:null,targetX:Tt,targetY:Tt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Cu,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Tt,underlineThickness:Tt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Tt,values:null,vAlphabetic:Tt,vMathematical:Tt,vectorEffect:null,vHanging:Tt,vIdeographic:Tt,version:null,vertAdvY:Tt,vertOriginX:Tt,vertOriginY:Tt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Tt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Vwe}),Gwe=hC({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Ywe=hC({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Wwe}),Kwe=hC({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),GXe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},YXe=/[A-Z]/g,_oe=/-[a-z]/g,KXe=/^data[-\w.:]+$/i;function XXe(e,t){const n=oz(t);let r=t,i=cu;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&KXe.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(_oe,JXe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!_oe.test(o)){let s=o.replace(YXe,QXe);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=SG}return new i(r,t)}function QXe(e){return"-"+e.toLowerCase()}function JXe(e){return e.charAt(1).toUpperCase()}const ZXe=Hwe([qwe,VXe,Gwe,Ywe,Kwe],"html"),TG=Hwe([qwe,WXe,Gwe,Ywe,Kwe],"svg");function Eoe(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function Xwe(e){return e.join(" ").trim()}var N1={},JF,Soe;function eQe(){if(Soe)return JF;Soe=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",c="*",d="",f="comment",h="declaration";JF=function(m,g){if(typeof m!="string")throw new TypeError("First argument must be a string");if(!m)return[];g=g||{};var v=1,y=1;function x(M){var O=M.match(t);O&&(v+=O.length);var j=M.lastIndexOf(l);y=~j?M.length-j:y+M.length}function E(){var M={line:v,column:y};return function(O){return O.position=new _(M),k(),O}}function _(M){this.start=M,this.end={line:v,column:y},this.source=g.source}_.prototype.content=m;function S(M){var O=new Error(g.source+":"+v+":"+y+": "+M);if(O.reason=M,O.filename=g.source,O.line=v,O.column=y,O.source=m,!g.silent)throw O}function T(M){var O=M.exec(m);if(O){var j=O[0];return x(j),m=m.slice(j.length),O}}function k(){T(n)}function R(M){var O;for(M=M||[];O=I();)O!==!1&&M.push(O);return M}function I(){var M=E();if(!(u!=m.charAt(0)||c!=m.charAt(1))){for(var O=2;d!=m.charAt(O)&&(c!=m.charAt(O)||u!=m.charAt(O+1));)++O;if(O+=2,d===m.charAt(O-1))return S("End of comment missing");var j=m.slice(2,O-2);return y+=2,x(j),m=m.slice(O),y+=2,M({type:f,comment:j})}}function P(){var M=E(),O=T(r);if(O){if(I(),!T(i))return S("property missing ':'");var j=T(o),U=M({type:h,property:p(O[0].replace(e,d)),value:j?p(j[0].replace(e,d)):d});return T(s),U}}function N(){var M=[];R(M);for(var O;O=P();)O!==!1&&(M.push(O),R(M));return M}return k(),N()};function p(m){return m?m.replace(a,d):d}return JF}var Toe;function tQe(){if(Toe)return N1;Toe=1;var e=N1&&N1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(N1,"__esModule",{value:!0}),N1.default=n;var t=e(eQe());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var s=(0,t.default)(r),a=typeof i=="function";return s.forEach(function(l){if(l.type==="declaration"){var u=l.property,c=l.value;a?i(u,c,l):c&&(o=o||{},o[u]=c)}}),o}return N1}var M_={},koe;function nQe(){if(koe)return M_;koe=1,Object.defineProperty(M_,"__esModule",{value:!0}),M_.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(u){return!u||n.test(u)||e.test(u)},s=function(u,c){return c.toUpperCase()},a=function(u,c){return"".concat(c,"-")},l=function(u,c){return c===void 0&&(c={}),o(u)?u:(u=u.toLowerCase(),c.reactCompat?u=u.replace(i,a):u=u.replace(r,a),u.replace(t,s))};return M_.camelCase=l,M_}var $_,Aoe;function rQe(){if(Aoe)return $_;Aoe=1;var e=$_&&$_.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(tQe()),n=nQe();function r(i,o){var s={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(s[(0,n.camelCase)(a,o)]=l)}),s}return r.default=r,$_=r,$_}var iQe=rQe();const oQe=Qo(iQe),dM=Qwe("end"),qh=Qwe("start");function Qwe(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function sQe(e){const t=qh(e),n=dM(e);if(t&&n)return{start:t,end:n}}function gS(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Roe(e.position):"start"in e||"end"in e?Roe(e):"line"in e||"column"in e?lz(e):""}function lz(e){return Ioe(e&&e.line)+":"+Ioe(e&&e.column)}function Roe(e){return lz(e&&e.start)+"-"+lz(e&&e.end)}function Ioe(e){return e&&typeof e=="number"?e:1}class Wa extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(s=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=gS(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Wa.prototype.file="";Wa.prototype.name="";Wa.prototype.reason="";Wa.prototype.message="";Wa.prototype.stack="";Wa.prototype.column=void 0;Wa.prototype.line=void 0;Wa.prototype.ancestors=void 0;Wa.prototype.cause=void 0;Wa.prototype.fatal=void 0;Wa.prototype.place=void 0;Wa.prototype.ruleId=void 0;Wa.prototype.source=void 0;const kG={}.hasOwnProperty,aQe=new Map,lQe=/[A-Z]/g,uQe=new Set(["table","tbody","thead","tfoot","tr"]),cQe=new Set(["td","th"]),Jwe="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function dQe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=bQe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=vQe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?TG:ZXe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=Zwe(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function Zwe(e,t,n){if(t.type==="element")return fQe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return hQe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return mQe(e,t,n);if(t.type==="mdxjsEsm")return pQe(e,t);if(t.type==="root")return gQe(e,t,n);if(t.type==="text")return yQe(e,t)}function fQe(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=TG,e.schema=i),e.ancestors.push(t);const o=txe(e,t.tagName,!1),s=wQe(e,t);let a=RG(e,t);return uQe.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!HXe(l):!0})),exe(e,s,o,t),AG(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function hQe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}h2(e,t.position)}function pQe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);h2(e,t.position)}function mQe(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=TG,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:txe(e,t.name,!0),s=xQe(e,t),a=RG(e,t);return exe(e,s,o,t),AG(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function gQe(e,t,n){const r={};return AG(r,RG(e,t)),e.create(t,e.Fragment,r,n)}function yQe(e,t){return t.value}function exe(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function AG(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function vQe(e,t,n){return r;function r(i,o,s,a){const u=Array.isArray(s.children)?n:t;return a?u(o,s,a):u(o,s)}}function bQe(e,t){return n;function n(r,i,o,s){const a=Array.isArray(o.children),l=qh(r);return t(i,o,s,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function wQe(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&kG.call(t.properties,i)){const o=CQe(e,i,t.properties[i]);if(o){const[s,a]=o;e.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&cQe.has(t.tagName)?r=a:n[s]=a}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function xQe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else h2(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,o=e.evaluater.evaluateExpression(a.expression)}else h2(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function RG(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:aQe;for(;++r<t.children.length;){const o=t.children[r];let s;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const a=Zwe(e,o,s);a!==void 0&&n.push(a)}return n}function CQe(e,t,n){const r=XXe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Uwe(n):Xwe(n)),r.property==="style"){let i=typeof n=="object"?n:_Qe(e,String(n));return e.stylePropertyNameCase==="css"&&(i=EQe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?GXe[r.property]||r.property:r.attribute,n]}}function _Qe(e,t){try{return oQe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Wa("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Jwe+"#cannot-parse-style-attribute",i}}function txe(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,s;for(;++o<i.length;){const a=woe(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=s}else r=woe(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return kG.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);h2(e)}function h2(e,t){const n=new Wa("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Jwe+"#cannot-handle-mdx-estrees-without-createevaluater",n}function EQe(e){const t={};let n;for(n in e)kG.call(e,n)&&(t[SQe(n)]=e[n]);return t}function SQe(e){let t=e.replace(lQe,TQe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function TQe(e){return"-"+e.toLowerCase()}const ZF={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},kQe={};function IG(e,t){const n=kQe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return nxe(e,r,i)}function nxe(e,t,n){if(AQe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Doe(e.children,t,n)}return Array.isArray(e)?Doe(e,t,n):""}function Doe(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=nxe(e[i],t,n);return r.join("")}function AQe(e){return!!(e&&typeof e=="object")}const Poe=document.createElement("i");function DG(e){const t="&"+e+";";Poe.innerHTML=t;const n=Poe.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Lu(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}function gc(e,t){return e.length>0?(Lu(e,e.length,0,t),e):t}const Ooe={}.hasOwnProperty;function rxe(e){const t={};let n=-1;for(;++n<e.length;)RQe(t,e[n]);return t}function RQe(e,t){let n;for(n in t){const i=(Ooe.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;if(o)for(s in o){Ooe.call(i,s)||(i[s]=[]);const a=o[s];IQe(i[s],Array.isArray(a)?a:a?[a]:[])}}}function IQe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Lu(e,0,0,r)}function ixe(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Fd(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const cl=K0(/[A-Za-z]/),Oa=K0(/[\dA-Za-z]/),DQe=K0(/[#-'*+\--9=?A-Z^-~]/);function F3(e){return e!==null&&(e<32||e===127)}const uz=K0(/\d/),PQe=K0(/[\dA-Fa-f]/),OQe=K0(/[!-/:-@[-`{-~]/);function In(e){return e!==null&&e<-2}function Ei(e){return e!==null&&(e<0||e===32)}function yr(e){return e===-2||e===-1||e===32}const fM=K0(new RegExp("\\p{P}|\\p{S}","u")),qv=K0(/\s/);function K0(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function pC(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(o===37&&Oa(e.charCodeAt(n+1))&&Oa(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s=""}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Pr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return yr(l)?(e.enter(n),a(l)):t(l)}function a(l){return yr(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}const NQe={tokenize:MQe};function MQe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Pr(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),o(a)}function o(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return In(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),s)}}const $Qe={tokenize:LQe},Noe={tokenize:FQe};function LQe(e){const t=this,n=[];let r=0,i,o,s;return a;function a(x){if(r<n.length){const E=n[r];return t.containerState=E[1],e.attempt(E[0].continuation,l,u)(x)}return u(x)}function l(x){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&y();const E=t.events.length;let _=E,S;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){S=t.events[_][1].end;break}v(r);let T=E;for(;T<t.events.length;)t.events[T][1].end={...S},T++;return Lu(t.events,_+1,0,t.events.slice(E)),t.events.length=T,u(x)}return a(x)}function u(x){if(r===n.length){if(!i)return f(x);if(i.currentConstruct&&i.currentConstruct.concrete)return p(x);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Noe,c,d)(x)}function c(x){return i&&y(),v(r),f(x)}function d(x){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(x)}function f(x){return t.containerState={},e.attempt(Noe,h,p)(x)}function h(x){return r++,n.push([t.currentConstruct,t.containerState]),f(x)}function p(x){if(x===null){i&&y(),v(0),e.consume(x);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),m(x)}function m(x){if(x===null){g(e.exit("chunkFlow"),!0),v(0),e.consume(x);return}return In(x)?(e.consume(x),g(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(x),m)}function g(x,E){const _=t.sliceStream(x);if(E&&_.push(null),x.previous=o,o&&(o.next=x),o=x,i.defineSkip(x.start),i.write(_),t.parser.lazy[x.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<s&&(!i.events[S][1].end||i.events[S][1].end.offset>s))return;const T=t.events.length;let k=T,R,I;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){if(R){I=t.events[k][1].end;break}R=!0}for(v(r),S=T;S<t.events.length;)t.events[S][1].end={...I},S++;Lu(t.events,k+1,0,t.events.slice(T)),t.events.length=S}}function v(x){let E=n.length;for(;E-- >x;){const _=n[E];t.containerState=_[1],_[0].exit.call(t,e)}n.length=x}function y(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function FQe(e,t,n){return Pr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ux(e){if(e===null||Ei(e)||qv(e))return 1;if(fM(e))return 2}function hM(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const cz={name:"attention",resolveAll:jQe,tokenize:BQe};function jQe(e,t){let n=-1,r,i,o,s,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},f={...e[n][1].start};Moe(d,-l),Moe(f,l),s={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...a.end}},e[r][1].end={...s.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=gc(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=gc(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",o,t]]),u=gc(u,hM(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=gc(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=gc(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Lu(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function BQe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ux(r);let o;return s;function s(l){return o=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===o)return e.consume(l),a;const u=e.exit("attentionSequence"),c=ux(l),d=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?d:d&&(i||!f)),u._close=!!(o===42?f:f&&(c||!d)),t(l)}}function Moe(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const zQe={name:"autolink",tokenize:UQe};function UQe(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(h){return cl(h)?(e.consume(h),s):h===64?n(h):u(h)}function s(h){return h===43||h===45||h===46||Oa(h)?(r=1,a(h)):u(h)}function a(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||Oa(h))&&r++<32?(e.consume(h),a):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||F3(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):DQe(h)?(e.consume(h),u):n(h)}function c(h){return Oa(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||Oa(h))&&r++<63){const p=h===45?f:d;return e.consume(h),p}return n(h)}}const FT={partial:!0,tokenize:HQe};function HQe(e,t,n){return r;function r(o){return yr(o)?Pr(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||In(o)?t(o):n(o)}}const oxe={continuation:{tokenize:VQe},exit:WQe,name:"blockQuote",tokenize:qQe};function qQe(e,t,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),o}return n(s)}function o(s){return yr(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function VQe(e,t,n){const r=this;return i;function i(s){return yr(s)?Pr(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return e.attempt(oxe,t,n)(s)}}function WQe(e){e.exit("blockQuote")}const sxe={name:"characterEscape",tokenize:GQe};function GQe(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return OQe(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const axe={name:"characterReference",tokenize:YQe};function YQe(e,t,n){const r=this;let i=0,o,s;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,s=Oa,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,s=PQe,c):(e.enter("characterReferenceValue"),o=7,s=uz,c(d))}function c(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return s===Oa&&!DG(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(d)&&i++<o?(e.consume(d),c):n(d)}}const $oe={partial:!0,tokenize:XQe},Loe={concrete:!0,name:"codeFenced",tokenize:KQe};function KQe(e,t,n){const r=this,i={partial:!0,tokenize:_};let o=0,s=0,a;return l;function l(S){return u(S)}function u(S){const T=r.events[r.events.length-1];return o=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,a=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(S)}function c(S){return S===a?(s++,e.consume(S),c):s<3?n(S):(e.exit("codeFencedFenceSequence"),yr(S)?Pr(e,d,"whitespace")(S):d(S))}function d(S){return S===null||In(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check($oe,m,E)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||In(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(S)):yr(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Pr(e,h,"whitespace")(S)):S===96&&S===a?n(S):(e.consume(S),f)}function h(S){return S===null||In(S)?d(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||In(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(S)):S===96&&S===a?n(S):(e.consume(S),p)}function m(S){return e.attempt(i,E,g)(S)}function g(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),v}function v(S){return o>0&&yr(S)?Pr(e,y,"linePrefix",o+1)(S):y(S)}function y(S){return S===null||In(S)?e.check($oe,m,E)(S):(e.enter("codeFlowValue"),x(S))}function x(S){return S===null||In(S)?(e.exit("codeFlowValue"),y(S)):(e.consume(S),x)}function E(S){return e.exit("codeFenced"),t(S)}function _(S,T,k){let R=0;return I;function I(j){return S.enter("lineEnding"),S.consume(j),S.exit("lineEnding"),P}function P(j){return S.enter("codeFencedFence"),yr(j)?Pr(S,N,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):N(j)}function N(j){return j===a?(S.enter("codeFencedFenceSequence"),M(j)):k(j)}function M(j){return j===a?(R++,S.consume(j),M):R>=s?(S.exit("codeFencedFenceSequence"),yr(j)?Pr(S,O,"whitespace")(j):O(j)):k(j)}function O(j){return j===null||In(j)?(S.exit("codeFencedFence"),T(j)):k(j)}}}function XQe(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const e8={name:"codeIndented",tokenize:JQe},QQe={partial:!0,tokenize:ZQe};function JQe(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Pr(e,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):In(u)?e.attempt(QQe,s,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||In(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function ZQe(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):In(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Pr(e,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):In(s)?i(s):n(s)}}const eJe={name:"codeText",previous:nJe,resolve:tJe,tokenize:rJe};function tJe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function nJe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function rJe(e,t,n){let r=0,i,o;return s;function s(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(o=e.enter("codeTextSequence"),i=0,c(d)):In(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||In(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(o.type="codeTextData",u(d))}}class iJe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&L_(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),L_(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),L_(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);L_(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);L_(this.left,n.reverse())}}}function L_(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function lxe(e){const t={};let n=-1,r,i,o,s,a,l,u;const c=new iJe(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,oJe(c,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(s=c.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Lu(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function oJe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,l=[],u={};let c,d,f=-1,h=n,p=0,m=0;const g=[m];for(;h;){for(;e.get(++i)[1]!==h;);o.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(m=f+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),f=g.length;f--;){const v=a.slice(g[f],g[f+1]),y=o.pop();l.push([y,y+v.length-1]),e.splice(y,2,v)}for(l.reverse(),f=-1;++f<l.length;)u[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return u}const sJe={resolve:lJe,tokenize:uJe},aJe={partial:!0,tokenize:cJe};function lJe(e){return lxe(e),e}function uJe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):In(a)?e.check(aJe,s,o)(a):(e.consume(a),i)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function s(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function cJe(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Pr(e,o,"linePrefix")}function o(s){if(s===null||In(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function uxe(e,t,n,r,i,o,s,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(v){return v===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(v),e.exit(o),f):v===null||v===32||v===41||F3(v)?n(v):(e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(v))}function f(v){return v===62?(e.enter(o),e.consume(v),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===62?(e.exit("chunkString"),e.exit(a),f(v)):v===null||v===60||In(v)?n(v):(e.consume(v),v===92?p:h)}function p(v){return v===60||v===62||v===92?(e.consume(v),h):h(v)}function m(v){return!c&&(v===null||v===41||Ei(v))?(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(v)):c<u&&v===40?(e.consume(v),c++,m):v===41?(e.consume(v),c--,m):v===null||v===32||v===40||F3(v)?n(v):(e.consume(v),v===92?g:m)}function g(v){return v===40||v===41||v===92?(e.consume(v),m):m(v)}}function cxe(e,t,n,r,i,o){const s=this;let a=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(o),c}function c(h){return a>999||h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):In(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||In(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!yr(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(e.consume(h),a++,d):d(h)}}function dxe(e,t,n,r,i,o){let s;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),s=f===40?41:f,l):n(f)}function l(f){return f===s?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(o),u(f))}function u(f){return f===s?(e.exit(o),l(s)):f===null?n(f):In(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Pr(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===s||f===null||In(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?d:c)}function d(f){return f===s||f===92?(e.consume(f),c):c(f)}}function yS(e,t){let n;return r;function r(i){return In(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):yr(i)?Pr(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const dJe={name:"definition",tokenize:hJe},fJe={partial:!0,tokenize:pJe};function hJe(e,t,n){const r=this;let i;return o;function o(h){return e.enter("definition"),s(h)}function s(h){return cxe.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=Fd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return Ei(h)?yS(e,u)(h):u(h)}function u(h){return uxe(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(fJe,d,d)(h)}function d(h){return yr(h)?Pr(e,f,"whitespace")(h):f(h)}function f(h){return h===null||In(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function pJe(e,t,n){return r;function r(a){return Ei(a)?yS(e,i)(a):n(a)}function i(a){return dxe(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return yr(a)?Pr(e,s,"whitespace")(a):s(a)}function s(a){return a===null||In(a)?t(a):n(a)}}const mJe={name:"hardBreakEscape",tokenize:gJe};function gJe(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return In(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const yJe={name:"headingAtx",resolve:vJe,tokenize:bJe};function vJe(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Lu(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function bJe(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),o(c)}function o(c){return e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(e.consume(c),s):c===null||Ei(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||In(c)?(e.exit("atxHeading"),t(c)):yr(c)?Pr(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||Ei(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const wJe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Foe=["pre","script","style","textarea"],xJe={concrete:!0,name:"htmlFlow",resolveTo:EJe,tokenize:SJe},CJe={partial:!0,tokenize:kJe},_Je={partial:!0,tokenize:TJe};function EJe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function SJe(e,t,n){const r=this;let i,o,s,a,l;return u;function u(B){return c(B)}function c(B){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(B),d}function d(B){return B===33?(e.consume(B),f):B===47?(e.consume(B),o=!0,m):B===63?(e.consume(B),i=3,r.interrupt?t:z):cl(B)?(e.consume(B),s=String.fromCharCode(B),g):n(B)}function f(B){return B===45?(e.consume(B),i=2,h):B===91?(e.consume(B),i=5,a=0,p):cl(B)?(e.consume(B),i=4,r.interrupt?t:z):n(B)}function h(B){return B===45?(e.consume(B),r.interrupt?t:z):n(B)}function p(B){const Y="CDATA[";return B===Y.charCodeAt(a++)?(e.consume(B),a===Y.length?r.interrupt?t:N:p):n(B)}function m(B){return cl(B)?(e.consume(B),s=String.fromCharCode(B),g):n(B)}function g(B){if(B===null||B===47||B===62||Ei(B)){const Y=B===47,Q=s.toLowerCase();return!Y&&!o&&Foe.includes(Q)?(i=1,r.interrupt?t(B):N(B)):wJe.includes(s.toLowerCase())?(i=6,Y?(e.consume(B),v):r.interrupt?t(B):N(B)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(B):o?y(B):x(B))}return B===45||Oa(B)?(e.consume(B),s+=String.fromCharCode(B),g):n(B)}function v(B){return B===62?(e.consume(B),r.interrupt?t:N):n(B)}function y(B){return yr(B)?(e.consume(B),y):I(B)}function x(B){return B===47?(e.consume(B),I):B===58||B===95||cl(B)?(e.consume(B),E):yr(B)?(e.consume(B),x):I(B)}function E(B){return B===45||B===46||B===58||B===95||Oa(B)?(e.consume(B),E):_(B)}function _(B){return B===61?(e.consume(B),S):yr(B)?(e.consume(B),_):x(B)}function S(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(e.consume(B),l=B,T):yr(B)?(e.consume(B),S):k(B)}function T(B){return B===l?(e.consume(B),l=null,R):B===null||In(B)?n(B):(e.consume(B),T)}function k(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||Ei(B)?_(B):(e.consume(B),k)}function R(B){return B===47||B===62||yr(B)?x(B):n(B)}function I(B){return B===62?(e.consume(B),P):n(B)}function P(B){return B===null||In(B)?N(B):yr(B)?(e.consume(B),P):n(B)}function N(B){return B===45&&i===2?(e.consume(B),U):B===60&&i===1?(e.consume(B),q):B===62&&i===4?(e.consume(B),L):B===63&&i===3?(e.consume(B),z):B===93&&i===5?(e.consume(B),V):In(B)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(CJe,H,M)(B)):B===null||In(B)?(e.exit("htmlFlowData"),M(B)):(e.consume(B),N)}function M(B){return e.check(_Je,O,H)(B)}function O(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),j}function j(B){return B===null||In(B)?M(B):(e.enter("htmlFlowData"),N(B))}function U(B){return B===45?(e.consume(B),z):N(B)}function q(B){return B===47?(e.consume(B),s="",W):N(B)}function W(B){if(B===62){const Y=s.toLowerCase();return Foe.includes(Y)?(e.consume(B),L):N(B)}return cl(B)&&s.length<8?(e.consume(B),s+=String.fromCharCode(B),W):N(B)}function V(B){return B===93?(e.consume(B),z):N(B)}function z(B){return B===62?(e.consume(B),L):B===45&&i===2?(e.consume(B),z):N(B)}function L(B){return B===null||In(B)?(e.exit("htmlFlowData"),H(B)):(e.consume(B),L)}function H(B){return e.exit("htmlFlow"),t(B)}}function TJe(e,t,n){const r=this;return i;function i(s){return In(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function kJe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(FT,t,n)}}const AJe={name:"htmlText",tokenize:RJe};function RJe(e,t,n){const r=this;let i,o,s;return a;function a(z){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(z),l}function l(z){return z===33?(e.consume(z),u):z===47?(e.consume(z),_):z===63?(e.consume(z),x):cl(z)?(e.consume(z),k):n(z)}function u(z){return z===45?(e.consume(z),c):z===91?(e.consume(z),o=0,p):cl(z)?(e.consume(z),y):n(z)}function c(z){return z===45?(e.consume(z),h):n(z)}function d(z){return z===null?n(z):z===45?(e.consume(z),f):In(z)?(s=d,q(z)):(e.consume(z),d)}function f(z){return z===45?(e.consume(z),h):d(z)}function h(z){return z===62?U(z):z===45?f(z):d(z)}function p(z){const L="CDATA[";return z===L.charCodeAt(o++)?(e.consume(z),o===L.length?m:p):n(z)}function m(z){return z===null?n(z):z===93?(e.consume(z),g):In(z)?(s=m,q(z)):(e.consume(z),m)}function g(z){return z===93?(e.consume(z),v):m(z)}function v(z){return z===62?U(z):z===93?(e.consume(z),v):m(z)}function y(z){return z===null||z===62?U(z):In(z)?(s=y,q(z)):(e.consume(z),y)}function x(z){return z===null?n(z):z===63?(e.consume(z),E):In(z)?(s=x,q(z)):(e.consume(z),x)}function E(z){return z===62?U(z):x(z)}function _(z){return cl(z)?(e.consume(z),S):n(z)}function S(z){return z===45||Oa(z)?(e.consume(z),S):T(z)}function T(z){return In(z)?(s=T,q(z)):yr(z)?(e.consume(z),T):U(z)}function k(z){return z===45||Oa(z)?(e.consume(z),k):z===47||z===62||Ei(z)?R(z):n(z)}function R(z){return z===47?(e.consume(z),U):z===58||z===95||cl(z)?(e.consume(z),I):In(z)?(s=R,q(z)):yr(z)?(e.consume(z),R):U(z)}function I(z){return z===45||z===46||z===58||z===95||Oa(z)?(e.consume(z),I):P(z)}function P(z){return z===61?(e.consume(z),N):In(z)?(s=P,q(z)):yr(z)?(e.consume(z),P):R(z)}function N(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(e.consume(z),i=z,M):In(z)?(s=N,q(z)):yr(z)?(e.consume(z),N):(e.consume(z),O)}function M(z){return z===i?(e.consume(z),i=void 0,j):z===null?n(z):In(z)?(s=M,q(z)):(e.consume(z),M)}function O(z){return z===null||z===34||z===39||z===60||z===61||z===96?n(z):z===47||z===62||Ei(z)?R(z):(e.consume(z),O)}function j(z){return z===47||z===62||Ei(z)?R(z):n(z)}function U(z){return z===62?(e.consume(z),e.exit("htmlTextData"),e.exit("htmlText"),t):n(z)}function q(z){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),W}function W(z){return yr(z)?Pr(e,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):V(z)}function V(z){return e.enter("htmlTextData"),s(z)}}const PG={name:"labelEnd",resolveAll:OJe,resolveTo:NJe,tokenize:MJe},IJe={tokenize:$Je},DJe={tokenize:LJe},PJe={tokenize:FJe};function OJe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Lu(e,0,e.length,n),e}function NJe(e,t){let n=e.length,r=0,i,o,s,a;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[s][1].end}},c={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[s-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=gc(a,e.slice(o+1,o+r+3)),a=gc(a,[["enter",c,t]]),a=gc(a,hM(t.parser.constructs.insideSpan.null,e.slice(o+r+4,s-3),t)),a=gc(a,[["exit",c,t],e[s-2],e[s-1],["exit",u,t]]),a=gc(a,e.slice(s+1)),a=gc(a,[["exit",l,t]]),Lu(e,o,e.length,a),e}function MJe(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(f){return o?o._inactive?d(f):(s=r.parser.defined.includes(Fd(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(IJe,c,s?c:d)(f):f===91?e.attempt(DJe,c,s?u:d)(f):s?c(f):d(f)}function u(f){return e.attempt(PJe,c,d)(f)}function c(f){return t(f)}function d(f){return o._balanced=!0,n(f)}}function $Je(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Ei(d)?yS(e,o)(d):o(d)}function o(d){return d===41?c(d):uxe(e,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return Ei(d)?yS(e,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?dxe(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return Ei(d)?yS(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function LJe(e,t,n){const r=this;return i;function i(a){return cxe.call(r,e,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(Fd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function s(a){return n(a)}}function FJe(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const jJe={name:"labelStartImage",resolveAll:PG.resolveAll,tokenize:BJe};function BJe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const zJe={name:"labelStartLink",resolveAll:PG.resolveAll,tokenize:UJe};function UJe(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const t8={name:"lineEnding",tokenize:HJe};function HJe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Pr(e,t,"linePrefix")}}const jD={name:"thematicBreak",tokenize:qJe};function qJe(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||In(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),yr(u)?Pr(e,a,"whitespace")(u):a(u))}}const zl={continuation:{tokenize:YJe},exit:XJe,name:"list",tokenize:GJe},VJe={partial:!0,tokenize:QJe},WJe={partial:!0,tokenize:KJe};function GJe(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:uz(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(jD,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return uz(h)&&++s<10?(e.consume(h),l):(!r.interrupt||s<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(FT,r.interrupt?n:c,e.attempt(VJe,f,d))}function c(h){return r.containerState.initialBlankLine=!0,o++,f(h)}function d(h){return yr(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function YJe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(FT,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Pr(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!yr(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(WJe,t,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Pr(e,e.attempt(zl,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function KJe(e,t,n){const r=this;return Pr(e,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(o):n(o)}}function XJe(e){e.exit(this.containerState.type)}function QJe(e,t,n){const r=this;return Pr(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!yr(o)&&s&&s[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const joe={name:"setextUnderline",resolveTo:JJe,tokenize:ZJe};function JJe(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function ZJe(e,t,n){const r=this;let i;return o;function o(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),yr(u)?Pr(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||In(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const eZe={tokenize:tZe};function tZe(e){const t=this,n=e.attempt(FT,r,e.attempt(this.parser.constructs.flowInitial,i,Pr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(sJe,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const nZe={resolveAll:hxe()},rZe=fxe("string"),iZe=fxe("text");function fxe(e){return{resolveAll:hxe(e==="text"?oZe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,s,a);return s;function s(c){return u(c)?o(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function hxe(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function oZe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:r.start._bufferIndex+s,_index:r.start._index+o,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const sZe={42:zl,43:zl,45:zl,48:zl,49:zl,50:zl,51:zl,52:zl,53:zl,54:zl,55:zl,56:zl,57:zl,62:oxe},aZe={91:dJe},lZe={[-2]:e8,[-1]:e8,32:e8},uZe={35:yJe,42:jD,45:[joe,jD],60:xJe,61:joe,95:jD,96:Loe,126:Loe},cZe={38:axe,92:sxe},dZe={[-5]:t8,[-4]:t8,[-3]:t8,33:jJe,38:axe,42:cz,60:[zQe,AJe],91:zJe,92:[mJe,sxe],93:PG,95:cz,96:eJe},fZe={null:[cz,nZe]},hZe={null:[42,95]},pZe={null:[]},mZe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:hZe,contentInitial:aZe,disable:pZe,document:sZe,flow:uZe,flowInitial:lZe,insideSpan:fZe,string:cZe,text:dZe},Symbol.toStringTag,{value:"Module"}));function gZe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let s=[],a=[];const l={attempt:T(_),check:T(S),consume:y,enter:x,exit:E,interrupt:T(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:p,parser:e,previous:null,sliceSerialize:f,sliceStream:h,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function d(P){return s=gc(s,P),g(),s[s.length-1]!==null?[]:(k(t,0),u.events=hM(o,u.events,u),u.events)}function f(P,N){return vZe(h(P),N)}function h(P){return yZe(s,P)}function p(){const{_bufferIndex:P,_index:N,line:M,column:O,offset:j}=r;return{_bufferIndex:P,_index:N,line:M,column:O,offset:j}}function m(P){i[P.line]=P.column,I()}function g(){let P;for(;r._index<s.length;){const N=s[r._index];if(typeof N=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<N.length;)v(N.charCodeAt(r._bufferIndex));else v(N)}}function v(P){c=c(P)}function y(P){In(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,I()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=P}function x(P,N){const M=N||{};return M.type=P,M.start=p(),u.events.push(["enter",M,u]),a.push(M),M}function E(P){const N=a.pop();return N.end=p(),u.events.push(["exit",N,u]),N}function _(P,N){k(P,N.from)}function S(P,N){N.restore()}function T(P,N){return M;function M(O,j,U){let q,W,V,z;return Array.isArray(O)?H(O):"tokenize"in O?H([O]):L(O);function L(ne){return ce;function ce(le){const ue=le!==null&&ne[le],ae=le!==null&&ne.null,te=[...Array.isArray(ue)?ue:ue?[ue]:[],...Array.isArray(ae)?ae:ae?[ae]:[]];return H(te)(le)}}function H(ne){return q=ne,W=0,ne.length===0?U:B(ne[W])}function B(ne){return ce;function ce(le){return z=R(),V=ne,ne.partial||(u.currentConstruct=ne),ne.name&&u.parser.constructs.disable.null.includes(ne.name)?Q():ne.tokenize.call(N?Object.assign(Object.create(u),N):u,l,Y,Q)(le)}}function Y(ne){return P(V,z),j}function Q(ne){return z.restore(),++W<q.length?B(q[W]):U}}}function k(P,N){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&Lu(u.events,N,u.events.length-N,P.resolve(u.events.slice(N),u)),P.resolveTo&&(u.events=P.resolveTo(u.events,u))}function R(){const P=p(),N=u.previous,M=u.currentConstruct,O=u.events.length,j=Array.from(a);return{from:O,restore:U};function U(){r=P,u.previous=N,u.currentConstruct=M,u.events.length=O,a=j,I()}}function I(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function yZe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,o)];else{if(s=e.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(e[i].slice(0,o))}return s}function vZe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}function bZe(e){const r={constructs:rxe([mZe,...(e||{}).extensions||[]]),content:i(NQe),defined:[],document:i($Qe),flow:i(eZe),lazy:{},string:i(rZe),text:i(iZe)};return r;function i(o){return s;function s(a){return gZe(r,o,a)}}}function wZe(e){for(;!lxe(e););return e}const Boe=/[\0\t\n\r]/g;function xZe(){let e=1,t="",n=!0,r;return i;function i(o,s,a){const l=[];let u,c,d,f,h;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),d=0,t="",n&&(o.charCodeAt(0)===65279&&d++,n=void 0);d<o.length;){if(Boe.lastIndex=d,u=Boe.exec(o),f=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(f),!u){t=o.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(o.slice(d,f)),e+=f-d),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const CZe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function _Ze(e){return e.replace(CZe,EZe)}function EZe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return ixe(n.slice(o?2:1),o?16:10)}return DG(n)||e}const pxe={}.hasOwnProperty;function SZe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),TZe(n)(wZe(bZe(n).document().write(xZe()(e,t,!0))))}function TZe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(fe),autolinkProtocol:R,autolinkEmail:R,atxHeading:o(he),blockQuote:o(ae),characterEscape:R,characterReference:R,codeFenced:o(te),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(te,s),codeText:o(se,s),codeTextData:R,data:R,codeFlowValue:R,definition:o(we),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(X),hardBreakEscape:o(ge),hardBreakTrailing:o(ge),htmlFlow:o(re,s),htmlFlowData:R,htmlText:o(re,s),htmlTextData:R,image:o(ee),label:s,link:o(fe),listItem:o(Oe),listItemValue:f,listOrdered:o(Re,d),listUnordered:o(Re),paragraph:o(Ae),reference:B,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(he),strong:o(Se),thematicBreak:o(ke)},exit:{atxHeading:l(),atxHeadingSequence:_,autolink:l(),autolinkEmail:ue,autolinkProtocol:le,blockQuote:l(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:ne,characterReference:ce,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:I,codeIndented:l(v),codeText:l(j),codeTextData:I,data:I,definition:l(),definitionDestinationString:E,definitionLabelString:y,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(N),hardBreakTrailing:l(N),htmlFlow:l(M),htmlFlowData:I,htmlText:l(O),htmlTextData:I,image:l(q),label:V,labelText:W,lineEnding:P,link:l(U),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Y,resourceDestinationString:z,resourceTitleString:L,resource:H,setextHeading:l(k),setextHeadingLineSequence:T,setextHeadingText:S,strong:l(),thematicBreak:l()}};mxe(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(me){let Me={type:"root",children:[]};const ze={stack:[Me],tokenStack:[],config:t,enter:a,exit:u,buffer:s,resume:c,data:n},Xe=[];let tt=-1;for(;++tt<me.length;)if(me[tt][1].type==="listOrdered"||me[tt][1].type==="listUnordered")if(me[tt][0]==="enter")Xe.push(tt);else{const gt=Xe.pop();tt=i(me,gt,tt)}for(tt=-1;++tt<me.length;){const gt=t[me[tt][0]];pxe.call(gt,me[tt][1].type)&&gt[me[tt][1].type].call(Object.assign({sliceSerialize:me[tt][2].sliceSerialize},ze),me[tt][1])}if(ze.tokenStack.length>0){const gt=ze.tokenStack[ze.tokenStack.length-1];(gt[1]||zoe).call(ze,void 0,gt[0])}for(Me.position={start:mg(me.length>0?me[0][1].start:{line:1,column:1,offset:0}),end:mg(me.length>0?me[me.length-2][1].end:{line:1,column:1,offset:0})},tt=-1;++tt<t.transforms.length;)Me=t.transforms[tt](Me)||Me;return Me}function i(me,Me,ze){let Xe=Me-1,tt=-1,gt=!1,qt,zt,_n,$t;for(;++Xe<=ze;){const dn=me[Xe];switch(dn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{dn[0]==="enter"?tt++:tt--,$t=void 0;break}case"lineEndingBlank":{dn[0]==="enter"&&(qt&&!$t&&!tt&&!_n&&(_n=Xe),$t=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:$t=void 0}if(!tt&&dn[0]==="enter"&&dn[1].type==="listItemPrefix"||tt===-1&&dn[0]==="exit"&&(dn[1].type==="listUnordered"||dn[1].type==="listOrdered")){if(qt){let Vn=Xe;for(zt=void 0;Vn--;){const Ln=me[Vn];if(Ln[1].type==="lineEnding"||Ln[1].type==="lineEndingBlank"){if(Ln[0]==="exit")continue;zt&&(me[zt][1].type="lineEndingBlank",gt=!0),Ln[1].type="lineEnding",zt=Vn}else if(!(Ln[1].type==="linePrefix"||Ln[1].type==="blockQuotePrefix"||Ln[1].type==="blockQuotePrefixWhitespace"||Ln[1].type==="blockQuoteMarker"||Ln[1].type==="listItemIndent"))break}_n&&(!zt||_n<zt)&&(qt._spread=!0),qt.end=Object.assign({},zt?me[zt][1].start:dn[1].end),me.splice(zt||Xe,0,["exit",qt,dn[2]]),Xe++,ze++}if(dn[1].type==="listItemPrefix"){const Vn={type:"listItem",_spread:!1,start:Object.assign({},dn[1].start),end:void 0};qt=Vn,me.splice(Xe,0,["enter",Vn,dn[2]]),Xe++,ze++,_n=void 0,$t=!0}}}return me[Me][1]._spread=gt,ze}function o(me,Me){return ze;function ze(Xe){a.call(this,me(Xe),Xe),Me&&Me.call(this,Xe)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(me,Me,ze){this.stack[this.stack.length-1].children.push(me),this.stack.push(me),this.tokenStack.push([Me,ze||void 0]),me.position={start:mg(Me.start),end:void 0}}function l(me){return Me;function Me(ze){me&&me.call(this,ze),u.call(this,ze)}}function u(me,Me){const ze=this.stack.pop(),Xe=this.tokenStack.pop();if(Xe)Xe[0].type!==me.type&&(Me?Me.call(this,me,Xe[0]):(Xe[1]||zoe).call(this,me,Xe[0]));else throw new Error("Cannot close `"+me.type+"` ("+gS({start:me.start,end:me.end})+"): its not open");ze.position.end=mg(me.end)}function c(){return IG(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(me){if(this.data.expectingFirstListItemValue){const Me=this.stack[this.stack.length-2];Me.start=Number.parseInt(this.sliceSerialize(me),10),this.data.expectingFirstListItemValue=void 0}}function h(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.lang=me}function p(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.meta=me}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.value=me.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.value=me.replace(/(\r?\n|\r)$/g,"")}function y(me){const Me=this.resume(),ze=this.stack[this.stack.length-1];ze.label=Me,ze.identifier=Fd(this.sliceSerialize(me)).toLowerCase()}function x(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.title=me}function E(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.url=me}function _(me){const Me=this.stack[this.stack.length-1];if(!Me.depth){const ze=this.sliceSerialize(me).length;Me.depth=ze}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function T(me){const Me=this.stack[this.stack.length-1];Me.depth=this.sliceSerialize(me).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function R(me){const ze=this.stack[this.stack.length-1].children;let Xe=ze[ze.length-1];(!Xe||Xe.type!=="text")&&(Xe=xe(),Xe.position={start:mg(me.start),end:void 0},ze.push(Xe)),this.stack.push(Xe)}function I(me){const Me=this.stack.pop();Me.value+=this.sliceSerialize(me),Me.position.end=mg(me.end)}function P(me){const Me=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ze=Me.children[Me.children.length-1];ze.position.end=mg(me.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Me.type)&&(R.call(this,me),I.call(this,me))}function N(){this.data.atHardBreak=!0}function M(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.value=me}function O(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.value=me}function j(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.value=me}function U(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const Me=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=Me,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function q(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const Me=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=Me,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function W(me){const Me=this.sliceSerialize(me),ze=this.stack[this.stack.length-2];ze.label=_Ze(Me),ze.identifier=Fd(Me).toLowerCase()}function V(){const me=this.stack[this.stack.length-1],Me=this.resume(),ze=this.stack[this.stack.length-1];if(this.data.inReference=!0,ze.type==="link"){const Xe=me.children;ze.children=Xe}else ze.alt=Me}function z(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.url=me}function L(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.title=me}function H(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function Y(me){const Me=this.resume(),ze=this.stack[this.stack.length-1];ze.label=Me,ze.identifier=Fd(this.sliceSerialize(me)).toLowerCase(),this.data.referenceType="full"}function Q(me){this.data.characterReferenceType=me.type}function ne(me){const Me=this.sliceSerialize(me),ze=this.data.characterReferenceType;let Xe;ze?(Xe=ixe(Me,ze==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Xe=DG(Me);const tt=this.stack[this.stack.length-1];tt.value+=Xe}function ce(me){const Me=this.stack.pop();Me.position.end=mg(me.end)}function le(me){I.call(this,me);const Me=this.stack[this.stack.length-1];Me.url=this.sliceSerialize(me)}function ue(me){I.call(this,me);const Me=this.stack[this.stack.length-1];Me.url="mailto:"+this.sliceSerialize(me)}function ae(){return{type:"blockquote",children:[]}}function te(){return{type:"code",lang:null,meta:null,value:""}}function se(){return{type:"inlineCode",value:""}}function we(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function X(){return{type:"emphasis",children:[]}}function he(){return{type:"heading",depth:0,children:[]}}function ge(){return{type:"break"}}function re(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function fe(){return{type:"link",title:null,url:"",children:[]}}function Re(me){return{type:"list",ordered:me.type==="listOrdered",start:null,spread:me._spread,children:[]}}function Oe(me){return{type:"listItem",spread:me._spread,checked:null,children:[]}}function Ae(){return{type:"paragraph",children:[]}}function Se(){return{type:"strong",children:[]}}function xe(){return{type:"text",value:""}}function ke(){return{type:"thematicBreak"}}}function mg(e){return{line:e.line,column:e.column,offset:e.offset}}function mxe(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?mxe(e,r):kZe(e,r)}}function kZe(e,t){let n;for(n in t)if(pxe.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function zoe(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+gS({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+gS({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+gS({start:t.start,end:t.end})+") is still open")}function AZe(e){const t=this;t.parser=n;function n(r){return SZe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function RZe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function IZe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function DZe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function PZe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function OZe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function NZe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=pC(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let s,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=o+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function MZe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $Ze(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function gxe(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function LZe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return gxe(e,t);const i={src:pC(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function FZe(e,t){const n={src:pC(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function jZe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function BZe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return gxe(e,t);const i={href:pC(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function zZe(e,t){const n={href:pC(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function UZe(e,t,n){const r=e.all(t),i=n?HZe(n):yxe(t),o={},s=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:s};return e.patch(t,u),e.applyData(t,u)}function HZe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=yxe(n[r])}return t}function yxe(e){const t=e.spread;return t??e.children.length>1}function qZe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function VZe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WZe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function GZe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function YZe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=qh(t.children[1]),l=dM(t.children[t.children.length-1]);a&&l&&(s.position={start:a,end:l}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function KZe(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const d=t.children[l],f={},h=s?s[l]:void 0;h&&(f.align=h);let p={type:"element",tagName:o,properties:f,children:[]};d&&(p.children=e.all(d),e.patch(d,p),p=e.applyData(d,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function XZe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Uoe=9,Hoe=32;function QZe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(qoe(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(qoe(t.slice(i),i>0,!1)),o.join("")}function qoe(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===Uoe||o===Hoe;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===Uoe||o===Hoe;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function JZe(e,t){const n={type:"text",value:QZe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function ZZe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const eet={blockquote:RZe,break:IZe,code:DZe,delete:PZe,emphasis:OZe,footnoteReference:NZe,heading:MZe,html:$Ze,imageReference:LZe,image:FZe,inlineCode:jZe,linkReference:BZe,link:zZe,listItem:UZe,list:qZe,paragraph:VZe,root:WZe,strong:GZe,table:YZe,tableCell:XZe,tableRow:KZe,text:JZe,thematicBreak:ZZe,toml:wR,yaml:wR,definition:wR,footnoteDefinition:wR};function wR(){}const vxe=-1,pM=0,vS=1,j3=2,OG=3,NG=4,MG=5,$G=6,bxe=7,wxe=8,Voe=typeof self=="object"?self:globalThis,tet=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,s]=t[i];switch(o){case pM:case vxe:return n(s,i);case vS:{const a=n([],i);for(const l of s)a.push(r(l));return a}case j3:{const a=n({},i);for(const[l,u]of s)a[r(l)]=r(u);return a}case OG:return n(new Date(s),i);case NG:{const{source:a,flags:l}=s;return n(new RegExp(a,l),i)}case MG:{const a=n(new Map,i);for(const[l,u]of s)a.set(r(l),r(u));return a}case $G:{const a=n(new Set,i);for(const l of s)a.add(r(l));return a}case bxe:{const{name:a,message:l}=s;return n(new Voe[a](l),i)}case wxe:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:a}=new Uint8Array(s);return n(new DataView(a),s)}}return n(new Voe[o](s),i)};return r},Woe=e=>tet(new Map,e)(0),M1="",{toString:net}={},{keys:ret}=Object,F_=e=>{const t=typeof e;if(t!=="object"||!e)return[pM,t];const n=net.call(e).slice(8,-1);switch(n){case"Array":return[vS,M1];case"Object":return[j3,M1];case"Date":return[OG,M1];case"RegExp":return[NG,M1];case"Map":return[MG,M1];case"Set":return[$G,M1];case"DataView":return[vS,n]}return n.includes("Array")?[vS,n]:n.includes("Error")?[bxe,n]:[j3,n]},xR=([e,t])=>e===pM&&(t==="function"||t==="symbol"),iet=(e,t,n,r)=>{const i=(s,a)=>{const l=r.push(s)-1;return n.set(a,l),l},o=s=>{if(n.has(s))return n.get(s);let[a,l]=F_(s);switch(a){case pM:{let c=s;switch(l){case"bigint":a=wxe,c=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([vxe],s)}return i([a,c],s)}case vS:{if(l){let f=s;return l==="DataView"?f=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(s)),i([l,[...f]],s)}const c=[],d=i([a,c],s);for(const f of s)c.push(o(f));return d}case j3:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return o(s.toJSON());const c=[],d=i([a,c],s);for(const f of ret(s))(e||!xR(F_(s[f])))&&c.push([o(f),o(s[f])]);return d}case OG:return i([a,s.toISOString()],s);case NG:{const{source:c,flags:d}=s;return i([a,{source:c,flags:d}],s)}case MG:{const c=[],d=i([a,c],s);for(const[f,h]of s)(e||!(xR(F_(f))||xR(F_(h))))&&c.push([o(f),o(h)]);return d}case $G:{const c=[],d=i([a,c],s);for(const f of s)(e||!xR(F_(f)))&&c.push(o(f));return d}}const{message:u}=s;return i([a,{name:l,message:u}],s)};return o},Goe=(e,{json:t,lossy:n}={})=>{const r=[];return iet(!(t||n),!!t,new Map,r)(e),r},cx=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Woe(Goe(e,t)):structuredClone(e):(e,t)=>Woe(Goe(e,t));function oet(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function set(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function aet(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||oet,r=e.options.footnoteBackLabel||set,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),d=String(u.identifier).toUpperCase(),f=pC(d.toLowerCase());let h=0;const p=[],m=e.footnoteCounts.get(d);for(;m!==void 0&&++h<=m;){p.length>0&&p.push({type:"text",value:" "});let y=typeof n=="string"?n:n(l,h);typeof y=="string"&&(y={type:"text",value:y}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const g=c[c.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const y=g.children[g.children.length-1];y&&y.type==="text"?y.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...p)}else c.push(...p);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(u,v),a.push(v)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...cx(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const mM=(function(e){if(e==null)return fet;if(typeof e=="function")return gM(e);if(typeof e=="object")return Array.isArray(e)?uet(e):cet(e);if(typeof e=="string")return det(e);throw new Error("Expected function, string, or object as test")});function uet(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=mM(e[n]);return gM(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function cet(e){const t=e;return gM(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function det(e){return gM(t);function t(n){return n&&n.type===e}}function gM(e){return t;function t(n,r,i){return!!(het(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function fet(){return!0}function het(e){return e!==null&&typeof e=="object"&&"type"in e}const xxe=[],pet=!0,dz=!1,met="skip";function Cxe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=mM(i),s=r?-1:1;a(e,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=xxe,p,m,g;if((!t||o(l,u,c[c.length-1]||void 0))&&(h=get(n(l,c)),h[0]===dz))return h;if("children"in l&&l.children){const v=l;if(v.children&&h[0]!==met)for(m=(r?v.children.length:-1)+s,g=c.concat(v);m>-1&&m<v.children.length;){const y=v.children[m];if(p=a(y,m,g)(),p[0]===dz)return p;m=typeof p[1]=="number"?p[1]:m+s}}return h}}}function get(e){return Array.isArray(e)?e:typeof e=="number"?[pet,e]:e==null?xxe:[e]}function dx(e,t,n,r){let i,o,s;typeof t=="function"&&typeof n!="function"?(o=void 0,s=t,i=n):(o=t,s=n,i=r),Cxe(e,o,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return s(l,d,c)}}const fz={}.hasOwnProperty,yet={};function vet(e,t){const n=t||yet,r=new Map,i=new Map,o=new Map,s={...eet,...n.handlers},a={all:u,applyData:wet,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:l,options:n,patch:bet,wrap:Cet};return dx(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),a;function l(c,d){const f=c.type,h=a.handlers[f];if(fz.call(a.handlers,f)&&h)return h(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in c){const{children:m,...g}=c,v=cx(g);return v.children=a.all(c),v}return cx(c)}return(a.options.unknownHandler||xet)(a,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let h=-1;for(;++h<f.length;){const p=a.one(f[h],c);if(p){if(h&&f[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=Yoe(p.value)),!Array.isArray(p)&&p.type==="element")){const m=p.children[0];m&&m.type==="text"&&(m.value=Yoe(m.value))}Array.isArray(p)?d.push(...p):d.push(p)}}}return d}}function bet(e,t){e.position&&(t.position=sQe(e))}function wet(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,cx(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function xet(e,t){const n=t.data||{},r="value"in t&&!(fz.call(n,"hProperties")||fz.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Cet(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Yoe(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Koe(e,t){const n=vet(e,t),r=n.one(e,void 0),i=aet(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function _et(e,t){return e&&"run"in e?async function(n,r){const i=Koe(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Koe(n,{file:r,...e||t})}}function Xoe(e){if(e)throw e}var n8,Qoe;function Eet(){if(Qoe)return n8;Qoe=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},o=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var c=e.call(u,"constructor"),d=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!d)return!1;var f;for(f in u);return typeof f>"u"||e.call(u,f)},s=function(u,c){n&&c.name==="__proto__"?n(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},a=function(u,c){if(c==="__proto__")if(e.call(u,c)){if(r)return r(u,c).value}else return;return u[c]};return n8=function l(){var u,c,d,f,h,p,m=arguments[0],g=1,v=arguments.length,y=!1;for(typeof m=="boolean"&&(y=m,m=arguments[1]||{},g=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});g<v;++g)if(u=arguments[g],u!=null)for(c in u)d=a(m,c),f=a(u,c),m!==f&&(y&&f&&(o(f)||(h=i(f)))?(h?(h=!1,p=d&&i(d)?d:[]):p=d&&o(d)?d:{},s(m,{name:c,newValue:l(y,p,f)})):typeof f<"u"&&s(m,{name:c,newValue:f}));return m},n8}var Tet=Eet();const r8=Qo(Tet);function hz(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ket(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...u){const c=e[++o];let d=-1;if(l){s(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?Aet(c,a)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Aet(e,t){let n;return r;function r(...s){const a=e.length>s.length;let l;a&&s.push(i);try{l=e.apply(this,s)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,t(s,...a))}function o(s){i(null,s)}}const Wf={basename:Ret,dirname:Iet,extname:Det,join:Pet,sep:"/"};function Ret(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');jT(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function Iet(e){if(jT(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Det(e){jT(e);let t=e.length,n=-1,r=0,i=-1,o=0,s;for(;t--;){const a=e.codePointAt(t);if(a===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Pet(...e){let t=-1,n;for(;++t<e.length;)jT(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Oet(n)}function Oet(e){jT(e);const t=e.codePointAt(0)===47;let n=Net(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Net(e,t){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=e.length;){if(s<e.length)a=e.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function jT(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Met={cwd:$et};function $et(){return"/"}function pz(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Let(e){if(typeof e=="string")e=new URL(e);else if(!pz(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Fet(e)}function Fet(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const i8=["history","path","basename","stem","extname","dirname"];class _xe{constructor(t){let n;t?pz(t)?n={path:t}:typeof t=="string"||jet(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Met.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<i8.length;){const o=i8[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)i8.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Wf.basename(this.path):void 0}set basename(t){s8(t,"basename"),o8(t,"basename"),this.path=Wf.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Wf.dirname(this.path):void 0}set dirname(t){Joe(this.basename,"dirname"),this.path=Wf.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Wf.extname(this.path):void 0}set extname(t){if(o8(t,"extname"),Joe(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Wf.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){pz(t)&&(t=Let(t)),s8(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Wf.basename(this.path,this.extname):void 0}set stem(t){s8(t,"stem"),o8(t,"stem"),this.path=Wf.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Wa(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function o8(e,t){if(e&&e.includes(Wf.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Wf.sep+"`")}function s8(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Joe(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function jet(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Bet=(function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),zet={}.hasOwnProperty;class LG extends Bet{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ket()}copy(){const t=new LG;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(r8(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(u8("data",this.frozen),this.namespace[t]=n,this):zet.call(this.namespace,t)&&this.namespace[t]||void 0:t?(u8("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=CR(t),r=this.parser||this.Parser;return a8("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),a8("process",this.parser||this.Parser),l8("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const a=CR(t),l=r.parse(a);r.run(l,a,function(c,d,f){if(c||!d||!f)return u(c);const h=d,p=r.stringify(h,f);qet(p)?f.value=p:f.result=p,u(c,f)});function u(c,d){c||!d?s(c):o?o(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),a8("processSync",this.parser||this.Parser),l8("processSync",this.compiler||this.Compiler),this.process(t,i),ese("processSync","process",n),r;function i(o,s){n=!0,Xoe(o),r=s}}run(t,n,r){Zoe(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,a){const l=CR(n);i.run(t,l,u);function u(c,d,f){const h=d||t;c?a(c):s?s(h):r(void 0,h,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),ese("runSync","run",r),i;function o(s,a){Xoe(s),i=a,r=!0}}stringify(t,n){this.freeze();const r=CR(n),i=this.compiler||this.Compiler;return l8("stringify",i),Zoe(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(u8("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=r8(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];o(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[h,...p]=c;const m=r[f][1];hz(m)&&hz(h)&&(h=r8(!0,m,h)),r[f]=[u,h,...p]}}}}const Uet=new LG().freeze();function a8(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function l8(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function u8(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Zoe(e){if(!hz(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function ese(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function CR(e){return Het(e)?e:new _xe(e)}function Het(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function qet(e){return typeof e=="string"||Vet(e)}function Vet(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Wet="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",tse=[],nse={allowDangerousHtml:!0},Get=/^(https?|ircs?|mailto|xmpp)$/i,Yet=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ket(e){const t=Xet(e),n=Qet(e);return Jet(t.runSync(t.parse(n),n),e)}function Xet(e){const t=e.rehypePlugins||tse,n=e.remarkPlugins||tse,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...nse}:nse;return Uet().use(AZe).use(n).use(_et,r).use(t)}function Qet(e){const t=e.children||"",n=new _xe;return typeof t=="string"&&(n.value=t),n}function Jet(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,s=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||Zet;for(const c of Yet)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+Wet+c.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),dx(e,u),dQe(e,{Fragment:b.Fragment,components:i,ignoreInvalidStyle:!0,jsx:b.jsx,jsxs:b.jsxs,passKeys:!0,passNode:!0});function u(c,d,f){if(c.type==="raw"&&f&&typeof d=="number")return s?f.children.splice(d,1):f.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let h;for(h in ZF)if(Object.hasOwn(ZF,h)&&Object.hasOwn(c.properties,h)){const p=c.properties[h],m=ZF[h];(m===null||m.includes(c.tagName))&&(c.properties[h]=l(String(p||""),h,c))}}if(c.type==="element"){let h=n?!n.includes(c.tagName):o?o.includes(c.tagName):!1;if(!h&&r&&typeof d=="number"&&(h=!r(c,d,f)),h&&f&&typeof d=="number")return a&&c.children?f.children.splice(d,1,...c.children):f.children.splice(d,1),d}}}function Zet(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Get.test(e.slice(0,t))?e:""}let BT=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};BT.prototype.property={};BT.prototype.normal={};BT.prototype.space=null;function Exe(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new BT(n,r,t)}function p2(e){return e.toLowerCase()}let Xc=class{constructor(t,n){this.property=t,this.attribute=n}};Xc.prototype.space=null;Xc.prototype.boolean=!1;Xc.prototype.booleanish=!1;Xc.prototype.overloadedBoolean=!1;Xc.prototype.number=!1;Xc.prototype.commaSeparated=!1;Xc.prototype.spaceSeparated=!1;Xc.prototype.commaOrSpaceSeparated=!1;Xc.prototype.mustUseProperty=!1;Xc.prototype.defined=!1;let ett=0;const er=Db(),Wo=Db(),Sxe=Db(),kt=Db(),Ai=Db(),Pw=Db(),_u=Db();function Db(){return 2**++ett}const mz=Object.freeze(Object.defineProperty({__proto__:null,boolean:er,booleanish:Wo,commaOrSpaceSeparated:_u,commaSeparated:Pw,number:kt,overloadedBoolean:Sxe,spaceSeparated:Ai},Symbol.toStringTag,{value:"Module"})),c8=Object.keys(mz);class FG extends Xc{constructor(t,n,r,i){let o=-1;if(super(t,n),rse(this,"space",i),typeof r=="number")for(;++o<c8.length;){const s=c8[o];rse(this,c8[o],(r&mz[s])===mz[s])}}}FG.prototype.defined=!0;function rse(e,t,n){n&&(e[t]=n)}const ttt={}.hasOwnProperty;function mC(e){const t={},n={};let r;for(r in e.properties)if(ttt.call(e.properties,r)){const i=e.properties[r],o=new FG(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[p2(r)]=r,n[p2(o.attribute)]=r}return new BT(t,n,e.space)}const Txe=mC({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),kxe=mC({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Axe(e,t){return t in e?e[t]:t}function Rxe(e,t){return Axe(e,t.toLowerCase())}const Ixe=mC({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Rxe,properties:{xmlns:null,xmlnsXLink:null}}),Dxe=mC({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Wo,ariaAutoComplete:null,ariaBusy:Wo,ariaChecked:Wo,ariaColCount:kt,ariaColIndex:kt,ariaColSpan:kt,ariaControls:Ai,ariaCurrent:null,ariaDescribedBy:Ai,ariaDetails:null,ariaDisabled:Wo,ariaDropEffect:Ai,ariaErrorMessage:null,ariaExpanded:Wo,ariaFlowTo:Ai,ariaGrabbed:Wo,ariaHasPopup:null,ariaHidden:Wo,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ai,ariaLevel:kt,ariaLive:null,ariaModal:Wo,ariaMultiLine:Wo,ariaMultiSelectable:Wo,ariaOrientation:null,ariaOwns:Ai,ariaPlaceholder:null,ariaPosInSet:kt,ariaPressed:Wo,ariaReadOnly:Wo,ariaRelevant:null,ariaRequired:Wo,ariaRoleDescription:Ai,ariaRowCount:kt,ariaRowIndex:kt,ariaRowSpan:kt,ariaSelected:Wo,ariaSetSize:kt,ariaSort:null,ariaValueMax:kt,ariaValueMin:kt,ariaValueNow:kt,ariaValueText:null,role:null}}),ntt=mC({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Rxe,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Pw,acceptCharset:Ai,accessKey:Ai,action:null,allow:null,allowFullScreen:er,allowPaymentRequest:er,allowUserMedia:er,alt:null,as:null,async:er,autoCapitalize:null,autoComplete:Ai,autoFocus:er,autoPlay:er,blocking:Ai,capture:null,charSet:null,checked:er,cite:null,className:Ai,cols:kt,colSpan:null,content:null,contentEditable:Wo,controls:er,controlsList:Ai,coords:kt|Pw,crossOrigin:null,data:null,dateTime:null,decoding:null,default:er,defer:er,dir:null,dirName:null,disabled:er,download:Sxe,draggable:Wo,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:er,formTarget:null,headers:Ai,height:kt,hidden:er,high:kt,href:null,hrefLang:null,htmlFor:Ai,httpEquiv:Ai,id:null,imageSizes:null,imageSrcSet:null,inert:er,inputMode:null,integrity:null,is:null,isMap:er,itemId:null,itemProp:Ai,itemRef:Ai,itemScope:er,itemType:Ai,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:er,low:kt,manifest:null,max:null,maxLength:kt,media:null,method:null,min:null,minLength:kt,multiple:er,muted:er,name:null,nonce:null,noModule:er,noValidate:er,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:er,optimum:kt,pattern:null,ping:Ai,placeholder:null,playsInline:er,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:er,referrerPolicy:null,rel:Ai,required:er,reversed:er,rows:kt,rowSpan:kt,sandbox:Ai,scope:null,scoped:er,seamless:er,selected:er,shadowRootClonable:er,shadowRootDelegatesFocus:er,shadowRootMode:null,shape:null,size:kt,sizes:null,slot:null,span:kt,spellCheck:Wo,src:null,srcDoc:null,srcLang:null,srcSet:null,start:kt,step:null,style:null,tabIndex:kt,target:null,title:null,translate:null,type:null,typeMustMatch:er,useMap:null,value:Wo,width:kt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ai,axis:null,background:null,bgColor:null,border:kt,borderColor:null,bottomMargin:kt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:er,declare:er,event:null,face:null,frame:null,frameBorder:null,hSpace:kt,leftMargin:kt,link:null,longDesc:null,lowSrc:null,marginHeight:kt,marginWidth:kt,noResize:er,noHref:er,noShade:er,noWrap:er,object:null,profile:null,prompt:null,rev:null,rightMargin:kt,rules:null,scheme:null,scrolling:Wo,standby:null,summary:null,text:null,topMargin:kt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:kt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:er,disableRemotePlayback:er,prefix:null,property:null,results:kt,security:null,unselectable:null}}),rtt=mC({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Axe,properties:{about:_u,accentHeight:kt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:kt,amplitude:kt,arabicForm:null,ascent:kt,attributeName:null,attributeType:null,azimuth:kt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:kt,by:null,calcMode:null,capHeight:kt,className:Ai,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:kt,diffuseConstant:kt,direction:null,display:null,dur:null,divisor:kt,dominantBaseline:null,download:er,dx:null,dy:null,edgeMode:null,editable:null,elevation:kt,enableBackground:null,end:null,event:null,exponent:kt,externalResourcesRequired:null,fill:null,fillOpacity:kt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Pw,g2:Pw,glyphName:Pw,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:kt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:kt,horizOriginX:kt,horizOriginY:kt,id:null,ideographic:kt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:kt,k:kt,k1:kt,k2:kt,k3:kt,k4:kt,kernelMatrix:_u,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:kt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:kt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:kt,overlineThickness:kt,paintOrder:null,panose1:null,path:null,pathLength:kt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ai,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:kt,pointsAtY:kt,pointsAtZ:kt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:_u,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:_u,rev:_u,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:_u,requiredFeatures:_u,requiredFonts:_u,requiredFormats:_u,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:kt,specularExponent:kt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:kt,strikethroughThickness:kt,string:null,stroke:null,strokeDashArray:_u,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:kt,strokeOpacity:kt,strokeWidth:null,style:null,surfaceScale:kt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:_u,tabIndex:kt,tableValues:null,target:null,targetX:kt,targetY:kt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:_u,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:kt,underlineThickness:kt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:kt,values:null,vAlphabetic:kt,vMathematical:kt,vectorEffect:null,vHanging:kt,vIdeographic:kt,version:null,vertAdvY:kt,vertOriginX:kt,vertOriginY:kt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:kt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),itt=/^data[-\w.:]+$/i,ise=/-[a-z]/g,ott=/[A-Z]/g;function jG(e,t){const n=p2(t);let r=t,i=Xc;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&itt.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(ise,att);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!ise.test(o)){let s=o.replace(ott,stt);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=FG}return new i(r,t)}function stt(e){return"-"+e.toLowerCase()}function att(e){return e.charAt(1).toUpperCase()}const yM=Exe([kxe,Txe,Ixe,Dxe,ntt],"html"),zT=Exe([kxe,Txe,Ixe,Dxe,rtt],"svg"),ose=/[#.]/g;function ltt(e,t){const n=e||"",r={};let i=0,o,s;for(;i<n.length;){ose.lastIndex=i;const a=ose.exec(n),l=n.slice(i,a?a.index:n.length);l&&(o?o==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:s=l,i+=l.length),a&&(o=a[0],i++)}return{type:"element",tagName:s||t||"div",properties:r,children:[]}}const utt=new Set(["button","menu","reset","submit"]),gz={}.hasOwnProperty;function Pxe(e,t,n){const r=n&&htt(n);function i(o,s,...a){let l=-1,u;if(o==null){u={type:"root",children:[]};const c=s;a.unshift(c)}else if(u=ltt(o,t),u.tagName=u.tagName.toLowerCase(),r&&gz.call(r,u.tagName)&&(u.tagName=r[u.tagName]),ctt(s,u.tagName)){let c;for(c in s)gz.call(s,c)&&dtt(e,u.properties,c,s[c])}else a.unshift(s);for(;++l<a.length;)yz(u.children,a[l]);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function ctt(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?utt.has(e.type.toLowerCase()):!("value"in e)}function dtt(e,t,n,r){const i=jG(e,n);let o=-1,s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=Eoe(r):i.commaSeparated?s=boe(r):i.commaOrSpaceSeparated?s=Eoe(boe(r).join(" ")):s=sse(i,i.property,r):Array.isArray(r)?s=r.concat():s=i.property==="style"?ftt(r):String(r);if(Array.isArray(s)){const a=[];for(;++o<s.length;){const l=sse(i,i.property,s[o]);a[o]=l}s=a}if(i.property==="className"&&Array.isArray(t.className)){const a=s;s=t.className.concat(a)}t[i.property]=s}}function yz(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)yz(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?yz(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function sse(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||p2(n)===p2(t)))return!0}return n}function ftt(e){const t=[];let n;for(n in e)gz.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function htt(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const ptt=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],mtt=Pxe(yM,"div"),gtt=Pxe(zT,"g",ptt),d8=/\r?\n|\r/g;function ytt(e){const t=String(e),n=[];for(d8.lastIndex=0;d8.test(t);)n.push(d8.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(o){let s=-1;if(typeof o=="number"&&o>-1&&o<n[n.length-1]){for(;++s<n.length;)if(n[s]>o)return{line:s+1,column:o-(s>0?n[s-1]:0)+1,offset:o}}}function i(o){const s=o&&o.line,a=o&&o.column;if(typeof s=="number"&&typeof a=="number"&&!Number.isNaN(s)&&!Number.isNaN(a)&&s-1 in n){const l=(n[s-2]||0)+a-1||0;if(l>-1&&l<n[n.length-1])return l}}}const mv={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Oxe={}.hasOwnProperty,vtt=Object.prototype;function btt(e,t){const n=t||{};return BG({file:n.file||void 0,location:!1,schema:n.space==="svg"?zT:yM,verbose:n.verbose||!1},e)}function BG(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},BD(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:Nxe(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const o=String(e.file),s=ytt(o),a=s.toPoint(0),l=s.toPoint(o.length);n.position={start:a,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},BD(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},BD(e,r,n),n}default:return n=wtt(e,t),n}}function Nxe(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=BG(e,t[n]);r.push(i)}return r}function wtt(e,t){const n=e.schema;e.schema=t.namespaceURI===mv.svg?zT:yM;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],l=(a.prefix?a.prefix+":":"")+a.name;Oxe.call(vtt,l)||(i[l]=a.value)}const s=(e.schema.space==="svg"?gtt:mtt)(t.tagName,i,Nxe(e,t.childNodes));if(BD(e,t,s),s.tagName==="template"){const a=t,l=a.sourceCodeLocation,u=l&&l.startTag&&mw(l.startTag),c=l&&l.endTag&&mw(l.endTag),d=BG(e,a.content);u&&c&&e.file&&(d.position={start:u.end,end:c.start}),s.content=d}return e.schema=n,s}function BD(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=xtt(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function xtt(e,t,n){const r=mw(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const o={};let s;if(n.attrs)for(s in n.attrs)Oxe.call(n.attrs,s)&&(o[jG(e.schema,s).property]=mw(n.attrs[s]));n.startTag;const a=mw(n.startTag),l=n.endTag?mw(n.endTag):void 0,u={opening:a};l&&(u.closing=l),u.properties=o,t.data={position:u}}}return r}function mw(e){const t=ase({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=ase({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function ase(e){return e.line&&e.column?e:void 0}const lse={}.hasOwnProperty;function Mxe(e,t){const n=t||{};function r(i,...o){let s=r.invalid;const a=r.handlers;if(i&&lse.call(i,e)){const l=String(i[e]);s=lse.call(a,l)?a[l]:r.unknown}if(s)return s.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const Ctt={},_tt={}.hasOwnProperty,$xe=Mxe("type",{handlers:{root:Stt,element:Itt,text:Att,comment:Rtt,doctype:ktt}});function Ett(e,t){const r=(t||Ctt).space;return $xe(e,r==="svg"?zT:yM)}function Stt(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=zG(e.children,n,t),gC(e,n),n}function Ttt(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=zG(e.children,n,t),gC(e,n),n}function ktt(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return gC(e,t),t}function Att(e){const t={nodeName:"#text",value:e.value,parentNode:null};return gC(e,t),t}function Rtt(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return gC(e,t),t}function Itt(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=zT);const i=[];let o;if(e.properties){for(o in e.properties)if(o!=="children"&&_tt.call(e.properties,o)){const l=Dtt(r,o,e.properties[o]);l&&i.push(l)}}const s=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:mv[s],childNodes:[],parentNode:null};return a.childNodes=zG(e.children,a,r),gC(e,a),e.tagName==="template"&&e.content&&(a.content=Ttt(e.content,r)),a}function Dtt(e,t,n){const r=jG(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Uwe(n):Xwe(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=i.name.indexOf(":");o<0?i.prefix="":(i.name=i.name.slice(o+1),i.prefix=r.attribute.slice(0,o)),i.namespace=mv[r.space]}return i}function zG(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const o=$xe(e[r],n);o.parentNode=t,i.push(o)}return i}function gC(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const Ptt=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Ott=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Wi="";var ye;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(ye=ye||(ye={}));const Bl={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Lxe(e){return e>=55296&&e<=57343}function Ntt(e){return e>=56320&&e<=57343}function Mtt(e,t){return(e-55296)*1024+9216+t}function Fxe(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function jxe(e){return e>=64976&&e<=65007||Ott.has(e)}var Je;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Je=Je||(Je={}));const $tt=65536;class Ltt{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=$tt,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(Ntt(n))return this.pos++,this._addGap(),Mtt(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,ye.EOF;return this._err(Je.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ye.EOF;const r=this.html.charCodeAt(n);return r===ye.CARRIAGE_RETURN?ye.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ye.EOF;let t=this.html.charCodeAt(this.pos);return t===ye.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,ye.LINE_FEED):t===ye.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Lxe(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===ye.LINE_FEED||t===ye.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Fxe(t)?this._err(Je.controlCharacterInInputStream):jxe(t)&&this._err(Je.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var lr;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(lr=lr||(lr={}));function Bxe(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const Cg=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),Ftt=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var f8;const jtt=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Btt=(f8=String.fromCodePoint)!==null&&f8!==void 0?f8:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function ztt(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=jtt.get(e))!==null&&t!==void 0?t:e}var Ts;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Ts||(Ts={}));const Utt=32;var sh;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(sh||(sh={}));function vz(e){return e>=Ts.ZERO&&e<=Ts.NINE}function Htt(e){return e>=Ts.UPPER_A&&e<=Ts.UPPER_F||e>=Ts.LOWER_A&&e<=Ts.LOWER_F}function qtt(e){return e>=Ts.UPPER_A&&e<=Ts.UPPER_Z||e>=Ts.LOWER_A&&e<=Ts.LOWER_Z||vz(e)}function Vtt(e){return e===Ts.EQUALS||qtt(e)}var xs;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(xs||(xs={}));var tv;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(tv||(tv={}));class Wtt{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=xs.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=tv.Strict}startEntity(t){this.decodeMode=t,this.state=xs.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case xs.EntityStart:return t.charCodeAt(n)===Ts.NUM?(this.state=xs.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=xs.NamedEntity,this.stateNamedEntity(t,n));case xs.NumericStart:return this.stateNumericStart(t,n);case xs.NumericDecimal:return this.stateNumericDecimal(t,n);case xs.NumericHex:return this.stateNumericHex(t,n);case xs.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|Utt)===Ts.LOWER_X?(this.state=xs.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=xs.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const o=r-n;this.result=this.result*Math.pow(i,o)+parseInt(t.substr(n,o),i),this.consumed+=o}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(vz(i)||Htt(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(vz(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Ts.SEMI)this.consumed+=1;else if(this.decodeMode===tv.Strict)return 0;return this.emitCodePoint(ztt(this.result),this.consumed),this.errors&&(t!==Ts.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],o=(i&sh.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const s=t.charCodeAt(n);if(this.treeIndex=Uxe(r,i,this.treeIndex+Math.max(1,o),s),this.treeIndex<0)return this.result===0||this.decodeMode===tv.Attribute&&(o===0||Vtt(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],o=(i&sh.VALUE_LENGTH)>>14,o!==0){if(s===Ts.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==tv.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&sh.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~sh.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case xs.NamedEntity:return this.result!==0&&(this.decodeMode!==tv.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case xs.NumericDecimal:return this.emitNumericEntity(0,2);case xs.NumericHex:return this.emitNumericEntity(0,3);case xs.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case xs.EntityStart:return 0}}}function zxe(e){let t="";const n=new Wtt(e,r=>t+=Btt(r));return function(i,o){let s=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(s,a),n.startEntity(o);const u=n.write(i,a+1);if(u<0){s=a+n.end();break}s=a+u,a=u===0?s+1:s}const l=t+i.slice(s);return t="",l}}function Uxe(e,t,n,r){const i=(t&sh.BRANCH_LENGTH)>>7,o=t&sh.JUMP_TABLE;if(i===0)return o!==0&&r===o?n:-1;if(o){const l=r-o;return l<0||l>=i?-1:e[n+l]-1}let s=n,a=s+i-1;for(;s<=a;){const l=s+a>>>1,u=e[l];if(u<r)s=l+1;else if(u>r)a=l-1;else return e[l+i]}return-1}zxe(Cg);zxe(Ftt);var at;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(at=at||(at={}));var i0;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(i0=i0||(i0={}));var ku;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(ku=ku||(ku={}));var Ge;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Ge=Ge||(Ge={}));var G;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(G=G||(G={}));const Gtt=new Map([[Ge.A,G.A],[Ge.ADDRESS,G.ADDRESS],[Ge.ANNOTATION_XML,G.ANNOTATION_XML],[Ge.APPLET,G.APPLET],[Ge.AREA,G.AREA],[Ge.ARTICLE,G.ARTICLE],[Ge.ASIDE,G.ASIDE],[Ge.B,G.B],[Ge.BASE,G.BASE],[Ge.BASEFONT,G.BASEFONT],[Ge.BGSOUND,G.BGSOUND],[Ge.BIG,G.BIG],[Ge.BLOCKQUOTE,G.BLOCKQUOTE],[Ge.BODY,G.BODY],[Ge.BR,G.BR],[Ge.BUTTON,G.BUTTON],[Ge.CAPTION,G.CAPTION],[Ge.CENTER,G.CENTER],[Ge.CODE,G.CODE],[Ge.COL,G.COL],[Ge.COLGROUP,G.COLGROUP],[Ge.DD,G.DD],[Ge.DESC,G.DESC],[Ge.DETAILS,G.DETAILS],[Ge.DIALOG,G.DIALOG],[Ge.DIR,G.DIR],[Ge.DIV,G.DIV],[Ge.DL,G.DL],[Ge.DT,G.DT],[Ge.EM,G.EM],[Ge.EMBED,G.EMBED],[Ge.FIELDSET,G.FIELDSET],[Ge.FIGCAPTION,G.FIGCAPTION],[Ge.FIGURE,G.FIGURE],[Ge.FONT,G.FONT],[Ge.FOOTER,G.FOOTER],[Ge.FOREIGN_OBJECT,G.FOREIGN_OBJECT],[Ge.FORM,G.FORM],[Ge.FRAME,G.FRAME],[Ge.FRAMESET,G.FRAMESET],[Ge.H1,G.H1],[Ge.H2,G.H2],[Ge.H3,G.H3],[Ge.H4,G.H4],[Ge.H5,G.H5],[Ge.H6,G.H6],[Ge.HEAD,G.HEAD],[Ge.HEADER,G.HEADER],[Ge.HGROUP,G.HGROUP],[Ge.HR,G.HR],[Ge.HTML,G.HTML],[Ge.I,G.I],[Ge.IMG,G.IMG],[Ge.IMAGE,G.IMAGE],[Ge.INPUT,G.INPUT],[Ge.IFRAME,G.IFRAME],[Ge.KEYGEN,G.KEYGEN],[Ge.LABEL,G.LABEL],[Ge.LI,G.LI],[Ge.LINK,G.LINK],[Ge.LISTING,G.LISTING],[Ge.MAIN,G.MAIN],[Ge.MALIGNMARK,G.MALIGNMARK],[Ge.MARQUEE,G.MARQUEE],[Ge.MATH,G.MATH],[Ge.MENU,G.MENU],[Ge.META,G.META],[Ge.MGLYPH,G.MGLYPH],[Ge.MI,G.MI],[Ge.MO,G.MO],[Ge.MN,G.MN],[Ge.MS,G.MS],[Ge.MTEXT,G.MTEXT],[Ge.NAV,G.NAV],[Ge.NOBR,G.NOBR],[Ge.NOFRAMES,G.NOFRAMES],[Ge.NOEMBED,G.NOEMBED],[Ge.NOSCRIPT,G.NOSCRIPT],[Ge.OBJECT,G.OBJECT],[Ge.OL,G.OL],[Ge.OPTGROUP,G.OPTGROUP],[Ge.OPTION,G.OPTION],[Ge.P,G.P],[Ge.PARAM,G.PARAM],[Ge.PLAINTEXT,G.PLAINTEXT],[Ge.PRE,G.PRE],[Ge.RB,G.RB],[Ge.RP,G.RP],[Ge.RT,G.RT],[Ge.RTC,G.RTC],[Ge.RUBY,G.RUBY],[Ge.S,G.S],[Ge.SCRIPT,G.SCRIPT],[Ge.SECTION,G.SECTION],[Ge.SELECT,G.SELECT],[Ge.SOURCE,G.SOURCE],[Ge.SMALL,G.SMALL],[Ge.SPAN,G.SPAN],[Ge.STRIKE,G.STRIKE],[Ge.STRONG,G.STRONG],[Ge.STYLE,G.STYLE],[Ge.SUB,G.SUB],[Ge.SUMMARY,G.SUMMARY],[Ge.SUP,G.SUP],[Ge.TABLE,G.TABLE],[Ge.TBODY,G.TBODY],[Ge.TEMPLATE,G.TEMPLATE],[Ge.TEXTAREA,G.TEXTAREA],[Ge.TFOOT,G.TFOOT],[Ge.TD,G.TD],[Ge.TH,G.TH],[Ge.THEAD,G.THEAD],[Ge.TITLE,G.TITLE],[Ge.TR,G.TR],[Ge.TRACK,G.TRACK],[Ge.TT,G.TT],[Ge.U,G.U],[Ge.UL,G.UL],[Ge.SVG,G.SVG],[Ge.VAR,G.VAR],[Ge.WBR,G.WBR],[Ge.XMP,G.XMP]]);function yC(e){var t;return(t=Gtt.get(e))!==null&&t!==void 0?t:G.UNKNOWN}const xt=G,Ytt={[at.HTML]:new Set([xt.ADDRESS,xt.APPLET,xt.AREA,xt.ARTICLE,xt.ASIDE,xt.BASE,xt.BASEFONT,xt.BGSOUND,xt.BLOCKQUOTE,xt.BODY,xt.BR,xt.BUTTON,xt.CAPTION,xt.CENTER,xt.COL,xt.COLGROUP,xt.DD,xt.DETAILS,xt.DIR,xt.DIV,xt.DL,xt.DT,xt.EMBED,xt.FIELDSET,xt.FIGCAPTION,xt.FIGURE,xt.FOOTER,xt.FORM,xt.FRAME,xt.FRAMESET,xt.H1,xt.H2,xt.H3,xt.H4,xt.H5,xt.H6,xt.HEAD,xt.HEADER,xt.HGROUP,xt.HR,xt.HTML,xt.IFRAME,xt.IMG,xt.INPUT,xt.LI,xt.LINK,xt.LISTING,xt.MAIN,xt.MARQUEE,xt.MENU,xt.META,xt.NAV,xt.NOEMBED,xt.NOFRAMES,xt.NOSCRIPT,xt.OBJECT,xt.OL,xt.P,xt.PARAM,xt.PLAINTEXT,xt.PRE,xt.SCRIPT,xt.SECTION,xt.SELECT,xt.SOURCE,xt.STYLE,xt.SUMMARY,xt.TABLE,xt.TBODY,xt.TD,xt.TEMPLATE,xt.TEXTAREA,xt.TFOOT,xt.TH,xt.THEAD,xt.TITLE,xt.TR,xt.TRACK,xt.UL,xt.WBR,xt.XMP]),[at.MATHML]:new Set([xt.MI,xt.MO,xt.MN,xt.MS,xt.MTEXT,xt.ANNOTATION_XML]),[at.SVG]:new Set([xt.TITLE,xt.FOREIGN_OBJECT,xt.DESC]),[at.XLINK]:new Set,[at.XML]:new Set,[at.XMLNS]:new Set};function Hxe(e){return e===xt.H1||e===xt.H2||e===xt.H3||e===xt.H4||e===xt.H5||e===xt.H6}Ge.STYLE,Ge.SCRIPT,Ge.XMP,Ge.IFRAME,Ge.NOEMBED,Ge.NOFRAMES,Ge.PLAINTEXT;const Ktt=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var _e;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(_e||(_e={}));const Oo={DATA:_e.DATA,RCDATA:_e.RCDATA,RAWTEXT:_e.RAWTEXT,SCRIPT_DATA:_e.SCRIPT_DATA,PLAINTEXT:_e.PLAINTEXT,CDATA_SECTION:_e.CDATA_SECTION};function bS(e){return e>=ye.DIGIT_0&&e<=ye.DIGIT_9}function RE(e){return e>=ye.LATIN_CAPITAL_A&&e<=ye.LATIN_CAPITAL_Z}function Xtt(e){return e>=ye.LATIN_SMALL_A&&e<=ye.LATIN_SMALL_Z}function _g(e){return Xtt(e)||RE(e)}function bz(e){return _g(e)||bS(e)}function qxe(e){return e>=ye.LATIN_CAPITAL_A&&e<=ye.LATIN_CAPITAL_F}function Vxe(e){return e>=ye.LATIN_SMALL_A&&e<=ye.LATIN_SMALL_F}function Qtt(e){return bS(e)||qxe(e)||Vxe(e)}function _R(e){return e+32}function Wxe(e){return e===ye.SPACE||e===ye.LINE_FEED||e===ye.TABULATION||e===ye.FORM_FEED}function Jtt(e){return e===ye.EQUALS_SIGN||bz(e)}function use(e){return Wxe(e)||e===ye.SOLIDUS||e===ye.GREATER_THAN_SIGN}class Ztt{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=_e.DATA,this.returnState=_e.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Ltt(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:lr.START_TAG,tagName:"",tagID:G.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:lr.END_TAG,tagName:"",tagID:G.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:lr.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:lr.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Bxe(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Je.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=yC(t.tagName),t.type===lr.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(Je.endTagWithAttributes),t.selfClosing&&this._err(Je.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case lr.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case lr.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case lr.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:lr.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Wxe(t)?lr.WHITESPACE_CHARACTER:t===ye.NULL?lr.NULL_CHARACTER:lr.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(lr.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let o=0,s=Cg[0];o>=0&&(o=Uxe(Cg,s,o+1,t),!(o<0));t=this._consume()){r+=1,s=Cg[o];const a=s&sh.VALUE_LENGTH;if(a){const l=(a>>14)-1;if(t!==ye.SEMICOLON&&this._isCharacterReferenceInAttribute()&&Jtt(this.preprocessor.peek(1))?(n=[ye.AMPERSAND],o+=l):(n=l===0?[Cg[o]&~sh.VALUE_LENGTH]:l===1?[Cg[++o]]:[Cg[++o],Cg[++o]],r=0,i=t!==ye.SEMICOLON),l===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(Je.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===_e.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===_e.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===_e.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case _e.DATA:{this._stateData(t);break}case _e.RCDATA:{this._stateRcdata(t);break}case _e.RAWTEXT:{this._stateRawtext(t);break}case _e.SCRIPT_DATA:{this._stateScriptData(t);break}case _e.PLAINTEXT:{this._statePlaintext(t);break}case _e.TAG_OPEN:{this._stateTagOpen(t);break}case _e.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case _e.TAG_NAME:{this._stateTagName(t);break}case _e.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case _e.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case _e.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case _e.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case _e.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case _e.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case _e.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case _e.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case _e.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case _e.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case _e.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case _e.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case _e.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case _e.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case _e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case _e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case _e.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case _e.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case _e.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case _e.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case _e.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case _e.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case _e.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case _e.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case _e.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case _e.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case _e.BOGUS_COMMENT:{this._stateBogusComment(t);break}case _e.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case _e.COMMENT_START:{this._stateCommentStart(t);break}case _e.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case _e.COMMENT:{this._stateComment(t);break}case _e.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case _e.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case _e.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case _e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case _e.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case _e.COMMENT_END:{this._stateCommentEnd(t);break}case _e.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case _e.DOCTYPE:{this._stateDoctype(t);break}case _e.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case _e.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case _e.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case _e.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case _e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case _e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case _e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case _e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case _e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case _e.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case _e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case _e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case _e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case _e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case _e.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case _e.CDATA_SECTION:{this._stateCdataSection(t);break}case _e.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case _e.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case _e.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case _e.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case _e.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case _e.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case _e.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case _e.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case _e.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case _e.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case ye.LESS_THAN_SIGN:{this.state=_e.TAG_OPEN;break}case ye.AMPERSAND:{this.returnState=_e.DATA,this.state=_e.CHARACTER_REFERENCE;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitCodePoint(t);break}case ye.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case ye.AMPERSAND:{this.returnState=_e.RCDATA,this.state=_e.CHARACTER_REFERENCE;break}case ye.LESS_THAN_SIGN:{this.state=_e.RCDATA_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Wi);break}case ye.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case ye.LESS_THAN_SIGN:{this.state=_e.RAWTEXT_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Wi);break}case ye.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case ye.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Wi);break}case ye.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Wi);break}case ye.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(_g(t))this._createStartTagToken(),this.state=_e.TAG_NAME,this._stateTagName(t);else switch(t){case ye.EXCLAMATION_MARK:{this.state=_e.MARKUP_DECLARATION_OPEN;break}case ye.SOLIDUS:{this.state=_e.END_TAG_OPEN;break}case ye.QUESTION_MARK:{this._err(Je.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=_e.BOGUS_COMMENT,this._stateBogusComment(t);break}case ye.EOF:{this._err(Je.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Je.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=_e.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(_g(t))this._createEndTagToken(),this.state=_e.TAG_NAME,this._stateTagName(t);else switch(t){case ye.GREATER_THAN_SIGN:{this._err(Je.missingEndTagName),this.state=_e.DATA;break}case ye.EOF:{this._err(Je.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Je.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=_e.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=_e.BEFORE_ATTRIBUTE_NAME;break}case ye.SOLIDUS:{this.state=_e.SELF_CLOSING_START_TAG;break}case ye.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentTagToken();break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.tagName+=Wi;break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(RE(t)?_R(t):t)}}_stateRcdataLessThanSign(t){t===ye.SOLIDUS?this.state=_e.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=_e.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){_g(t)?(this.state=_e.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=_e.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=_e.BEFORE_ATTRIBUTE_NAME,!1;case ye.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=_e.SELF_CLOSING_START_TAG,!1;case ye.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=_e.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=_e.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===ye.SOLIDUS?this.state=_e.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=_e.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){_g(t)?(this.state=_e.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=_e.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=_e.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case ye.SOLIDUS:{this.state=_e.SCRIPT_DATA_END_TAG_OPEN;break}case ye.EXCLAMATION_MARK:{this.state=_e.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=_e.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){_g(t)?(this.state=_e.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=_e.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=_e.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===ye.HYPHEN_MINUS?(this.state=_e.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=_e.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===ye.HYPHEN_MINUS?(this.state=_e.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=_e.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case ye.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Wi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case ye.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_ESCAPED,this._emitChars(Wi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case ye.HYPHEN_MINUS:{this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ye.GREATER_THAN_SIGN:{this.state=_e.SCRIPT_DATA,this._emitChars(">");break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_ESCAPED,this._emitChars(Wi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===ye.SOLIDUS?this.state=_e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:_g(t)?(this._emitChars("<"),this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){_g(t)?(this.state=_e.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Bl.SCRIPT,!1)&&use(this.preprocessor.peek(Bl.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Bl.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case ye.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Wi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case ye.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Wi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case ye.HYPHEN_MINUS:{this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ye.GREATER_THAN_SIGN:{this.state=_e.SCRIPT_DATA,this._emitChars(">");break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Wi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===ye.SOLIDUS?(this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Bl.SCRIPT,!1)&&use(this.preprocessor.peek(Bl.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Bl.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=_e.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.SOLIDUS:case ye.GREATER_THAN_SIGN:case ye.EOF:{this.state=_e.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ye.EQUALS_SIGN:{this._err(Je.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=_e.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=_e.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:case ye.SOLIDUS:case ye.GREATER_THAN_SIGN:case ye.EOF:{this._leaveAttrName(),this.state=_e.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ye.EQUALS_SIGN:{this._leaveAttrName(),this.state=_e.BEFORE_ATTRIBUTE_VALUE;break}case ye.QUOTATION_MARK:case ye.APOSTROPHE:case ye.LESS_THAN_SIGN:{this._err(Je.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.currentAttr.name+=Wi;break}default:this.currentAttr.name+=String.fromCodePoint(RE(t)?_R(t):t)}}_stateAfterAttributeName(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.SOLIDUS:{this.state=_e.SELF_CLOSING_START_TAG;break}case ye.EQUALS_SIGN:{this.state=_e.BEFORE_ATTRIBUTE_VALUE;break}case ye.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentTagToken();break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=_e.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.QUOTATION_MARK:{this.state=_e.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{this.state=_e.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingAttributeValue),this.state=_e.DATA,this.emitCurrentTagToken();break}default:this.state=_e.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case ye.QUOTATION_MARK:{this.state=_e.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ye.AMPERSAND:{this.returnState=_e.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=_e.CHARACTER_REFERENCE;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.currentAttr.value+=Wi;break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case ye.APOSTROPHE:{this.state=_e.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ye.AMPERSAND:{this.returnState=_e.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=_e.CHARACTER_REFERENCE;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.currentAttr.value+=Wi;break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this._leaveAttrValue(),this.state=_e.BEFORE_ATTRIBUTE_NAME;break}case ye.AMPERSAND:{this.returnState=_e.ATTRIBUTE_VALUE_UNQUOTED,this.state=_e.CHARACTER_REFERENCE;break}case ye.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=_e.DATA,this.emitCurrentTagToken();break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.currentAttr.value+=Wi;break}case ye.QUOTATION_MARK:case ye.APOSTROPHE:case ye.LESS_THAN_SIGN:case ye.EQUALS_SIGN:case ye.GRAVE_ACCENT:{this._err(Je.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this._leaveAttrValue(),this.state=_e.BEFORE_ATTRIBUTE_NAME;break}case ye.SOLIDUS:{this._leaveAttrValue(),this.state=_e.SELF_CLOSING_START_TAG;break}case ye.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=_e.DATA,this.emitCurrentTagToken();break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this._err(Je.missingWhitespaceBetweenAttributes),this.state=_e.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case ye.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=_e.DATA,this.emitCurrentTagToken();break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this._err(Je.unexpectedSolidusInTag),this.state=_e.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case ye.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentComment(n);break}case ye.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.data+=Wi;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Bl.DASH_DASH,!0)?(this._createCommentToken(Bl.DASH_DASH.length+1),this.state=_e.COMMENT_START):this._consumeSequenceIfMatch(Bl.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Bl.DOCTYPE.length+1),this.state=_e.DOCTYPE):this._consumeSequenceIfMatch(Bl.CDATA_START,!0)?this.inForeignNode?this.state=_e.CDATA_SECTION:(this._err(Je.cdataInHtmlContent),this._createCommentToken(Bl.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=_e.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Je.incorrectlyOpenedComment),this._createCommentToken(2),this.state=_e.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case ye.HYPHEN_MINUS:{this.state=_e.COMMENT_START_DASH;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptClosingOfEmptyComment),this.state=_e.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=_e.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case ye.HYPHEN_MINUS:{this.state=_e.COMMENT_END;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptClosingOfEmptyComment),this.state=_e.DATA,this.emitCurrentComment(n);break}case ye.EOF:{this._err(Je.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=_e.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case ye.HYPHEN_MINUS:{this.state=_e.COMMENT_END_DASH;break}case ye.LESS_THAN_SIGN:{n.data+="<",this.state=_e.COMMENT_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.data+=Wi;break}case ye.EOF:{this._err(Je.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case ye.EXCLAMATION_MARK:{n.data+="!",this.state=_e.COMMENT_LESS_THAN_SIGN_BANG;break}case ye.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=_e.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===ye.HYPHEN_MINUS?this.state=_e.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=_e.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===ye.HYPHEN_MINUS?this.state=_e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=_e.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==ye.GREATER_THAN_SIGN&&t!==ye.EOF&&this._err(Je.nestedComment),this.state=_e.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case ye.HYPHEN_MINUS:{this.state=_e.COMMENT_END;break}case ye.EOF:{this._err(Je.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=_e.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case ye.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentComment(n);break}case ye.EXCLAMATION_MARK:{this.state=_e.COMMENT_END_BANG;break}case ye.HYPHEN_MINUS:{n.data+="-";break}case ye.EOF:{this._err(Je.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=_e.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case ye.HYPHEN_MINUS:{n.data+="--!",this.state=_e.COMMENT_END_DASH;break}case ye.GREATER_THAN_SIGN:{this._err(Je.incorrectlyClosedComment),this.state=_e.DATA,this.emitCurrentComment(n);break}case ye.EOF:{this._err(Je.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=_e.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=_e.BEFORE_DOCTYPE_NAME;break}case ye.GREATER_THAN_SIGN:{this.state=_e.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case ye.EOF:{this._err(Je.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingWhitespaceBeforeDoctypeName),this.state=_e.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(RE(t))this._createDoctypeToken(String.fromCharCode(_R(t))),this.state=_e.DOCTYPE_NAME;else switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._createDoctypeToken(Wi),this.state=_e.DOCTYPE_NAME;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=_e.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=_e.AFTER_DOCTYPE_NAME;break}case ye.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.name+=Wi;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(RE(t)?_R(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Bl.PUBLIC,!1)?this.state=_e.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Bl.SYSTEM,!1)?this.state=_e.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Je.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=_e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case ye.QUOTATION_MARK:{this._err(Je.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{this._err(Je.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.QUOTATION_MARK:{n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ye.QUOTATION_MARK:{this.state=_e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.publicId+=Wi;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ye.APOSTROPHE:{this.state=_e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.publicId+=Wi;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=_e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case ye.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ye.QUOTATION_MARK:{this._err(Je.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{this._err(Je.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ye.QUOTATION_MARK:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=_e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case ye.QUOTATION_MARK:{this._err(Je.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{this._err(Je.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.QUOTATION_MARK:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ye.QUOTATION_MARK:{this.state=_e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.systemId+=Wi;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ye.APOSTROPHE:{this.state=_e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.systemId+=Wi;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case ye.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter);break}case ye.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case ye.RIGHT_SQUARE_BRACKET:{this.state=_e.CDATA_SECTION_BRACKET;break}case ye.EOF:{this._err(Je.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===ye.RIGHT_SQUARE_BRACKET?this.state=_e.CDATA_SECTION_END:(this._emitChars("]"),this.state=_e.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case ye.GREATER_THAN_SIGN:{this.state=_e.DATA;break}case ye.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=_e.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===ye.NUMBER_SIGN?this.state=_e.NUMERIC_CHARACTER_REFERENCE:bz(t)?(this.state=_e.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(ye.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(ye.AMPERSAND),this.state=_e.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){bz(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===ye.SEMICOLON&&this._err(Je.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===ye.LATIN_SMALL_X||t===ye.LATIN_CAPITAL_X?this.state=_e.HEXADEMICAL_CHARACTER_REFERENCE_START:bS(t)?(this.state=_e.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(Je.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(ye.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(ye.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){Qtt(t)?(this.state=_e.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(Je.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(ye.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(ye.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){qxe(t)?this.charRefCode=this.charRefCode*16+t-55:Vxe(t)?this.charRefCode=this.charRefCode*16+t-87:bS(t)?this.charRefCode=this.charRefCode*16+t-48:t===ye.SEMICOLON?this.state=_e.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Je.missingSemicolonAfterCharacterReference),this.state=_e.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){bS(t)?this.charRefCode=this.charRefCode*10+t-48:t===ye.SEMICOLON?this.state=_e.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Je.missingSemicolonAfterCharacterReference),this.state=_e.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===ye.NULL)this._err(Je.nullCharacterReference),this.charRefCode=ye.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(Je.characterReferenceOutsideUnicodeRange),this.charRefCode=ye.REPLACEMENT_CHARACTER;else if(Lxe(this.charRefCode))this._err(Je.surrogateCharacterReference),this.charRefCode=ye.REPLACEMENT_CHARACTER;else if(jxe(this.charRefCode))this._err(Je.noncharacterCharacterReference);else if(Fxe(this.charRefCode)||this.charRefCode===ye.CARRIAGE_RETURN){this._err(Je.controlCharacterReference);const n=Ktt.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const Gxe=new Set([G.DD,G.DT,G.LI,G.OPTGROUP,G.OPTION,G.P,G.RB,G.RP,G.RT,G.RTC]),cse=new Set([...Gxe,G.CAPTION,G.COLGROUP,G.TBODY,G.TD,G.TFOOT,G.TH,G.THEAD,G.TR]),ER=new Map([[G.APPLET,at.HTML],[G.CAPTION,at.HTML],[G.HTML,at.HTML],[G.MARQUEE,at.HTML],[G.OBJECT,at.HTML],[G.TABLE,at.HTML],[G.TD,at.HTML],[G.TEMPLATE,at.HTML],[G.TH,at.HTML],[G.ANNOTATION_XML,at.MATHML],[G.MI,at.MATHML],[G.MN,at.MATHML],[G.MO,at.MATHML],[G.MS,at.MATHML],[G.MTEXT,at.MATHML],[G.DESC,at.SVG],[G.FOREIGN_OBJECT,at.SVG],[G.TITLE,at.SVG]]),ent=[G.H1,G.H2,G.H3,G.H4,G.H5,G.H6],tnt=[G.TR,G.TEMPLATE,G.HTML],nnt=[G.TBODY,G.TFOOT,G.THEAD,G.TEMPLATE,G.HTML],rnt=[G.TABLE,G.TEMPLATE,G.HTML],int=[G.TD,G.TH];class ont{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=G.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===G.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===at.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==at.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(ent,at.HTML)}popUntilTableCellPopped(){this.popUntilPopped(int,at.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(rnt,at.HTML)}clearBackToTableBodyContext(){this.clearBackTo(nnt,at.HTML)}clearBackToTableRowContext(){this.clearBackTo(tnt,at.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===G.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===G.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===at.HTML)return!0;if(ER.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(Hxe(n)&&r===at.HTML)return!0;if(ER.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===at.HTML)return!0;if((r===G.UL||r===G.OL)&&i===at.HTML||ER.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===at.HTML)return!0;if(r===G.BUTTON&&i===at.HTML||ER.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===at.HTML){if(r===t)return!0;if(r===G.TABLE||r===G.TEMPLATE||r===G.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===at.HTML){if(n===G.TBODY||n===G.THEAD||n===G.TFOOT)return!0;if(n===G.TABLE||n===G.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===at.HTML){if(r===t)return!0;if(r!==G.OPTION&&r!==G.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;Gxe.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;cse.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&cse.has(this.currentTagId);)this.pop()}}const h8=3;var wd;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(wd=wd||(wd={}));const dse={type:wd.Marker};class snt{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,o=this.treeAdapter.getTagName(t),s=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const l=this.entries[a];if(l.type===wd.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===o&&this.treeAdapter.getNamespaceURI(u)===s){const c=this.treeAdapter.getAttrList(u);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<h8)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<h8)return;const i=new Map(n.map(s=>[s.name,s.value]));let o=0;for(let s=0;s<r.length;s++){const a=r[s];a.attrs.every(l=>i.get(l.name)===l.value)&&(o+=1,o>=h8&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(dse)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:wd.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:wd.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(dse);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===wd.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===wd.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===wd.Element&&n.element===t)}}function fse(e){return{nodeName:"#text",value:e,parentNode:null}}const uw={createDocument(){return{nodeName:"#document",mode:ku.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(o=>o.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const o={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};uw.appendChild(e,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(uw.isTextNode(n)){n.value+=t;return}}uw.appendChild(e,fse(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&uw.isTextNode(r)?r.value+=t:uw.insertBefore(e,fse(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Yxe="html",ant="about:legacy-compat",lnt="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Kxe=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],unt=[...Kxe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],cnt=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Xxe=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],dnt=[...Xxe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function hse(e,t){return t.some(n=>e.startsWith(n))}function fnt(e){return e.name===Yxe&&e.publicId===null&&(e.systemId===null||e.systemId===ant)}function hnt(e){if(e.name!==Yxe)return ku.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===lnt)return ku.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),cnt.has(n))return ku.QUIRKS;let r=t===null?unt:Kxe;if(hse(n,r))return ku.QUIRKS;if(r=t===null?Xxe:dnt,hse(n,r))return ku.LIMITED_QUIRKS}return ku.NO_QUIRKS}const pse={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},pnt="definitionurl",mnt="definitionURL",gnt=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),ynt=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:at.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:at.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:at.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:at.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:at.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:at.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:at.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:at.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:at.XML}],["xml:space",{prefix:"xml",name:"space",namespace:at.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:at.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:at.XMLNS}]]),vnt=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),bnt=new Set([G.B,G.BIG,G.BLOCKQUOTE,G.BODY,G.BR,G.CENTER,G.CODE,G.DD,G.DIV,G.DL,G.DT,G.EM,G.EMBED,G.H1,G.H2,G.H3,G.H4,G.H5,G.H6,G.HEAD,G.HR,G.I,G.IMG,G.LI,G.LISTING,G.MENU,G.META,G.NOBR,G.OL,G.P,G.PRE,G.RUBY,G.S,G.SMALL,G.SPAN,G.STRONG,G.STRIKE,G.SUB,G.SUP,G.TABLE,G.TT,G.U,G.UL,G.VAR]);function wnt(e){const t=e.tagID;return t===G.FONT&&e.attrs.some(({name:r})=>r===i0.COLOR||r===i0.SIZE||r===i0.FACE)||bnt.has(t)}function Qxe(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===pnt){e.attrs[t].name=mnt;break}}function Jxe(e){for(let t=0;t<e.attrs.length;t++){const n=gnt.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function UG(e){for(let t=0;t<e.attrs.length;t++){const n=ynt.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function xnt(e){const t=vnt.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=yC(e.tagName))}function Cnt(e,t){return t===at.MATHML&&(e===G.MI||e===G.MO||e===G.MN||e===G.MS||e===G.MTEXT)}function _nt(e,t,n){if(t===at.MATHML&&e===G.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===i0.ENCODING){const i=n[r].value.toLowerCase();return i===pse.TEXT_HTML||i===pse.APPLICATION_XML}}return t===at.SVG&&(e===G.FOREIGN_OBJECT||e===G.DESC||e===G.TITLE)}function Ent(e,t,n,r){return(!r||r===at.HTML)&&_nt(e,t,n)||(!r||r===at.MATHML)&&Cnt(e,t)}const Snt="hidden",Tnt=8,knt=3;var Pe;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Pe||(Pe={}));const Ant={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Zxe=new Set([G.TABLE,G.TBODY,G.TFOOT,G.THEAD,G.TR]),mse={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:uw,onParseError:null};let gse=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=Pe.INITIAL,this.originalInsertionMode=Pe.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...mse,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new Ztt(this.options,this),this.activeFormattingElements=new snt(this.treeAdapter),this.fragmentContextID=r?yC(this.treeAdapter.getTagName(r)):G.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new ont(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...mse,...n};t??(t=r.treeAdapter.createElement(Ge.TEMPLATE,at.HTML,[]));const i=r.treeAdapter.createElement("documentmock",at.HTML,[]),o=new this(r,i,t);return o.fragmentContextID===G.TEMPLATE&&o.tmplInsertionModeStack.unshift(Pe.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const o=(i=t.location)!==null&&i!==void 0?i:Ant,s={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(s)}onItemPush(t,n,r){var i,o;(o=(i=this.treeAdapter).onItemPush)===null||o===void 0||o.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let o,s;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,s=this.fragmentContextID):{current:o,currentTagId:s}=this.openElements,this._setContextModes(o,s)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===at.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,at.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Pe.TEXT}switchToPlaintextParsing(){this.insertionMode=Pe.TEXT,this.originalInsertionMode=Pe.IN_BODY,this.tokenizer.state=Oo.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Ge.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==at.HTML))switch(this.fragmentContextID){case G.TITLE:case G.TEXTAREA:{this.tokenizer.state=Oo.RCDATA;break}case G.STYLE:case G.XMP:case G.IFRAME:case G.NOEMBED:case G.NOFRAMES:case G.NOSCRIPT:{this.tokenizer.state=Oo.RAWTEXT;break}case G.SCRIPT:{this.tokenizer.state=Oo.SCRIPT_DATA;break}case G.PLAINTEXT:{this.tokenizer.state=Oo.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const s=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));s&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,at.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,at.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Ge.HTML,at.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,G.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),o=r?i.lastIndexOf(r):i.length,s=i[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:l,endCol:u,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:l,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),o=n.type===lr.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===G.SVG&&this.treeAdapter.getTagName(n)===Ge.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===at.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===G.MGLYPH||t.tagID===G.MALIGNMARK)&&!this._isIntegrationPoint(r,n,at.HTML)}_processToken(t){switch(t.type){case lr.CHARACTER:{this.onCharacter(t);break}case lr.NULL_CHARACTER:{this.onNullCharacter(t);break}case lr.COMMENT:{this.onComment(t);break}case lr.DOCTYPE:{this.onDoctype(t);break}case lr.START_TAG:{this._processStartTag(t);break}case lr.END_TAG:{this.onEndTag(t);break}case lr.EOF:{this.onEof(t);break}case lr.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return Ent(t,i,o,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===wd.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const o=this.activeFormattingElements.entries[i];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Pe.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(G.P),this.openElements.popUntilTagNamePopped(G.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case G.TR:{this.insertionMode=Pe.IN_ROW;return}case G.TBODY:case G.THEAD:case G.TFOOT:{this.insertionMode=Pe.IN_TABLE_BODY;return}case G.CAPTION:{this.insertionMode=Pe.IN_CAPTION;return}case G.COLGROUP:{this.insertionMode=Pe.IN_COLUMN_GROUP;return}case G.TABLE:{this.insertionMode=Pe.IN_TABLE;return}case G.BODY:{this.insertionMode=Pe.IN_BODY;return}case G.FRAMESET:{this.insertionMode=Pe.IN_FRAMESET;return}case G.SELECT:{this._resetInsertionModeForSelect(t);return}case G.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case G.HTML:{this.insertionMode=this.headElement?Pe.AFTER_HEAD:Pe.BEFORE_HEAD;return}case G.TD:case G.TH:{if(t>0){this.insertionMode=Pe.IN_CELL;return}break}case G.HEAD:{if(t>0){this.insertionMode=Pe.IN_HEAD;return}break}}this.insertionMode=Pe.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===G.TEMPLATE)break;if(r===G.TABLE){this.insertionMode=Pe.IN_SELECT_IN_TABLE;return}}this.insertionMode=Pe.IN_SELECT}_isElementCausesFosterParenting(t){return Zxe.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case G.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===at.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case G.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return Ytt[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){iit(this,t);return}switch(this.insertionMode){case Pe.INITIAL:{j_(this,t);break}case Pe.BEFORE_HTML:{wS(this,t);break}case Pe.BEFORE_HEAD:{xS(this,t);break}case Pe.IN_HEAD:{CS(this,t);break}case Pe.IN_HEAD_NO_SCRIPT:{_S(this,t);break}case Pe.AFTER_HEAD:{ES(this,t);break}case Pe.IN_BODY:case Pe.IN_CAPTION:case Pe.IN_CELL:case Pe.IN_TEMPLATE:{tCe(this,t);break}case Pe.TEXT:case Pe.IN_SELECT:case Pe.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case Pe.IN_TABLE:case Pe.IN_TABLE_BODY:case Pe.IN_ROW:{p8(this,t);break}case Pe.IN_TABLE_TEXT:{aCe(this,t);break}case Pe.IN_COLUMN_GROUP:{B3(this,t);break}case Pe.AFTER_BODY:{z3(this,t);break}case Pe.AFTER_AFTER_BODY:{zD(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){rit(this,t);return}switch(this.insertionMode){case Pe.INITIAL:{j_(this,t);break}case Pe.BEFORE_HTML:{wS(this,t);break}case Pe.BEFORE_HEAD:{xS(this,t);break}case Pe.IN_HEAD:{CS(this,t);break}case Pe.IN_HEAD_NO_SCRIPT:{_S(this,t);break}case Pe.AFTER_HEAD:{ES(this,t);break}case Pe.TEXT:{this._insertCharacters(t);break}case Pe.IN_TABLE:case Pe.IN_TABLE_BODY:case Pe.IN_ROW:{p8(this,t);break}case Pe.IN_COLUMN_GROUP:{B3(this,t);break}case Pe.AFTER_BODY:{z3(this,t);break}case Pe.AFTER_AFTER_BODY:{zD(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){wz(this,t);return}switch(this.insertionMode){case Pe.INITIAL:case Pe.BEFORE_HTML:case Pe.BEFORE_HEAD:case Pe.IN_HEAD:case Pe.IN_HEAD_NO_SCRIPT:case Pe.AFTER_HEAD:case Pe.IN_BODY:case Pe.IN_TABLE:case Pe.IN_CAPTION:case Pe.IN_COLUMN_GROUP:case Pe.IN_TABLE_BODY:case Pe.IN_ROW:case Pe.IN_CELL:case Pe.IN_SELECT:case Pe.IN_SELECT_IN_TABLE:case Pe.IN_TEMPLATE:case Pe.IN_FRAMESET:case Pe.AFTER_FRAMESET:{wz(this,t);break}case Pe.IN_TABLE_TEXT:{B_(this,t);break}case Pe.AFTER_BODY:{Mnt(this,t);break}case Pe.AFTER_AFTER_BODY:case Pe.AFTER_AFTER_FRAMESET:{$nt(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case Pe.INITIAL:{Lnt(this,t);break}case Pe.BEFORE_HEAD:case Pe.IN_HEAD:case Pe.IN_HEAD_NO_SCRIPT:case Pe.AFTER_HEAD:{this._err(t,Je.misplacedDoctype);break}case Pe.IN_TABLE_TEXT:{B_(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,Je.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?oit(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case Pe.INITIAL:{j_(this,t);break}case Pe.BEFORE_HTML:{Fnt(this,t);break}case Pe.BEFORE_HEAD:{Bnt(this,t);break}case Pe.IN_HEAD:{cf(this,t);break}case Pe.IN_HEAD_NO_SCRIPT:{Hnt(this,t);break}case Pe.AFTER_HEAD:{Vnt(this,t);break}case Pe.IN_BODY:{Ga(this,t);break}case Pe.IN_TABLE:{fx(this,t);break}case Pe.IN_TABLE_TEXT:{B_(this,t);break}case Pe.IN_CAPTION:{zrt(this,t);break}case Pe.IN_COLUMN_GROUP:{VG(this,t);break}case Pe.IN_TABLE_BODY:{wM(this,t);break}case Pe.IN_ROW:{xM(this,t);break}case Pe.IN_CELL:{qrt(this,t);break}case Pe.IN_SELECT:{cCe(this,t);break}case Pe.IN_SELECT_IN_TABLE:{Wrt(this,t);break}case Pe.IN_TEMPLATE:{Yrt(this,t);break}case Pe.AFTER_BODY:{Xrt(this,t);break}case Pe.IN_FRAMESET:{Qrt(this,t);break}case Pe.AFTER_FRAMESET:{Zrt(this,t);break}case Pe.AFTER_AFTER_BODY:{tit(this,t);break}case Pe.AFTER_AFTER_FRAMESET:{nit(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?sit(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case Pe.INITIAL:{j_(this,t);break}case Pe.BEFORE_HTML:{jnt(this,t);break}case Pe.BEFORE_HEAD:{znt(this,t);break}case Pe.IN_HEAD:{Unt(this,t);break}case Pe.IN_HEAD_NO_SCRIPT:{qnt(this,t);break}case Pe.AFTER_HEAD:{Wnt(this,t);break}case Pe.IN_BODY:{bM(this,t);break}case Pe.TEXT:{Drt(this,t);break}case Pe.IN_TABLE:{m2(this,t);break}case Pe.IN_TABLE_TEXT:{B_(this,t);break}case Pe.IN_CAPTION:{Urt(this,t);break}case Pe.IN_COLUMN_GROUP:{Hrt(this,t);break}case Pe.IN_TABLE_BODY:{xz(this,t);break}case Pe.IN_ROW:{uCe(this,t);break}case Pe.IN_CELL:{Vrt(this,t);break}case Pe.IN_SELECT:{dCe(this,t);break}case Pe.IN_SELECT_IN_TABLE:{Grt(this,t);break}case Pe.IN_TEMPLATE:{Krt(this,t);break}case Pe.AFTER_BODY:{hCe(this,t);break}case Pe.IN_FRAMESET:{Jrt(this,t);break}case Pe.AFTER_FRAMESET:{eit(this,t);break}case Pe.AFTER_AFTER_BODY:{zD(this,t);break}}}onEof(t){switch(this.insertionMode){case Pe.INITIAL:{j_(this,t);break}case Pe.BEFORE_HTML:{wS(this,t);break}case Pe.BEFORE_HEAD:{xS(this,t);break}case Pe.IN_HEAD:{CS(this,t);break}case Pe.IN_HEAD_NO_SCRIPT:{_S(this,t);break}case Pe.AFTER_HEAD:{ES(this,t);break}case Pe.IN_BODY:case Pe.IN_TABLE:case Pe.IN_CAPTION:case Pe.IN_COLUMN_GROUP:case Pe.IN_TABLE_BODY:case Pe.IN_ROW:case Pe.IN_CELL:case Pe.IN_SELECT:case Pe.IN_SELECT_IN_TABLE:{oCe(this,t);break}case Pe.TEXT:{Prt(this,t);break}case Pe.IN_TABLE_TEXT:{B_(this,t);break}case Pe.IN_TEMPLATE:{fCe(this,t);break}case Pe.AFTER_BODY:case Pe.IN_FRAMESET:case Pe.AFTER_FRAMESET:case Pe.AFTER_AFTER_BODY:case Pe.AFTER_AFTER_FRAMESET:{qG(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===ye.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case Pe.IN_HEAD:case Pe.IN_HEAD_NO_SCRIPT:case Pe.AFTER_HEAD:case Pe.TEXT:case Pe.IN_COLUMN_GROUP:case Pe.IN_SELECT:case Pe.IN_SELECT_IN_TABLE:case Pe.IN_FRAMESET:case Pe.AFTER_FRAMESET:{this._insertCharacters(t);break}case Pe.IN_BODY:case Pe.IN_CAPTION:case Pe.IN_CELL:case Pe.IN_TEMPLATE:case Pe.AFTER_BODY:case Pe.AFTER_AFTER_BODY:case Pe.AFTER_AFTER_FRAMESET:{eCe(this,t);break}case Pe.IN_TABLE:case Pe.IN_TABLE_BODY:case Pe.IN_ROW:{p8(this,t);break}case Pe.IN_TABLE_TEXT:{sCe(this,t);break}}}};function Rnt(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):iCe(e,t),n}function Int(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function Dnt(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let o=0,s=i;s!==n;o++,s=i){i=e.openElements.getCommonAncestor(s);const a=e.activeFormattingElements.getElementEntry(s),l=a&&o>=knt;!a||l?(l&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(s)):(s=Pnt(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(s,r),r=s)}return r}function Pnt(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function Ont(e,t,n){const r=e.treeAdapter.getTagName(t),i=yC(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const o=e.treeAdapter.getNamespaceURI(t);i===G.TEMPLATE&&o===at.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function Nnt(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,o=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,i.tagID)}function HG(e,t){for(let n=0;n<Tnt;n++){const r=Rnt(e,t);if(!r)break;const i=Int(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const o=Dnt(e,i,r.element),s=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(o),s&&Ont(e,s,o),Nnt(e,i,r)}}function wz(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Mnt(e,t){e._appendCommentNode(t,e.openElements.items[0])}function $nt(e,t){e._appendCommentNode(t,e.document)}function qG(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const o=e.openElements.items[1],s=e.treeAdapter.getNodeSourceCodeLocation(o);s&&!s.endTag&&e._setEndLocation(o,t)}}}}function Lnt(e,t){e._setDocumentType(t);const n=t.forceQuirks?ku.QUIRKS:hnt(t);fnt(t)||e._err(t,Je.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=Pe.BEFORE_HTML}function j_(e,t){e._err(t,Je.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,ku.QUIRKS),e.insertionMode=Pe.BEFORE_HTML,e._processToken(t)}function Fnt(e,t){t.tagID===G.HTML?(e._insertElement(t,at.HTML),e.insertionMode=Pe.BEFORE_HEAD):wS(e,t)}function jnt(e,t){const n=t.tagID;(n===G.HTML||n===G.HEAD||n===G.BODY||n===G.BR)&&wS(e,t)}function wS(e,t){e._insertFakeRootElement(),e.insertionMode=Pe.BEFORE_HEAD,e._processToken(t)}function Bnt(e,t){switch(t.tagID){case G.HTML:{Ga(e,t);break}case G.HEAD:{e._insertElement(t,at.HTML),e.headElement=e.openElements.current,e.insertionMode=Pe.IN_HEAD;break}default:xS(e,t)}}function znt(e,t){const n=t.tagID;n===G.HEAD||n===G.BODY||n===G.HTML||n===G.BR?xS(e,t):e._err(t,Je.endTagWithoutMatchingOpenElement)}function xS(e,t){e._insertFakeElement(Ge.HEAD,G.HEAD),e.headElement=e.openElements.current,e.insertionMode=Pe.IN_HEAD,e._processToken(t)}function cf(e,t){switch(t.tagID){case G.HTML:{Ga(e,t);break}case G.BASE:case G.BASEFONT:case G.BGSOUND:case G.LINK:case G.META:{e._appendElement(t,at.HTML),t.ackSelfClosing=!0;break}case G.TITLE:{e._switchToTextParsing(t,Oo.RCDATA);break}case G.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Oo.RAWTEXT):(e._insertElement(t,at.HTML),e.insertionMode=Pe.IN_HEAD_NO_SCRIPT);break}case G.NOFRAMES:case G.STYLE:{e._switchToTextParsing(t,Oo.RAWTEXT);break}case G.SCRIPT:{e._switchToTextParsing(t,Oo.SCRIPT_DATA);break}case G.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=Pe.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(Pe.IN_TEMPLATE);break}case G.HEAD:{e._err(t,Je.misplacedStartTagForHeadElement);break}default:CS(e,t)}}function Unt(e,t){switch(t.tagID){case G.HEAD:{e.openElements.pop(),e.insertionMode=Pe.AFTER_HEAD;break}case G.BODY:case G.BR:case G.HTML:{CS(e,t);break}case G.TEMPLATE:{Pb(e,t);break}default:e._err(t,Je.endTagWithoutMatchingOpenElement)}}function Pb(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==G.TEMPLATE&&e._err(t,Je.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(G.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Je.endTagWithoutMatchingOpenElement)}function CS(e,t){e.openElements.pop(),e.insertionMode=Pe.AFTER_HEAD,e._processToken(t)}function Hnt(e,t){switch(t.tagID){case G.HTML:{Ga(e,t);break}case G.BASEFONT:case G.BGSOUND:case G.HEAD:case G.LINK:case G.META:case G.NOFRAMES:case G.STYLE:{cf(e,t);break}case G.NOSCRIPT:{e._err(t,Je.nestedNoscriptInHead);break}default:_S(e,t)}}function qnt(e,t){switch(t.tagID){case G.NOSCRIPT:{e.openElements.pop(),e.insertionMode=Pe.IN_HEAD;break}case G.BR:{_S(e,t);break}default:e._err(t,Je.endTagWithoutMatchingOpenElement)}}function _S(e,t){const n=t.type===lr.EOF?Je.openElementsLeftAfterEof:Je.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=Pe.IN_HEAD,e._processToken(t)}function Vnt(e,t){switch(t.tagID){case G.HTML:{Ga(e,t);break}case G.BODY:{e._insertElement(t,at.HTML),e.framesetOk=!1,e.insertionMode=Pe.IN_BODY;break}case G.FRAMESET:{e._insertElement(t,at.HTML),e.insertionMode=Pe.IN_FRAMESET;break}case G.BASE:case G.BASEFONT:case G.BGSOUND:case G.LINK:case G.META:case G.NOFRAMES:case G.SCRIPT:case G.STYLE:case G.TEMPLATE:case G.TITLE:{e._err(t,Je.abandonedHeadElementChild),e.openElements.push(e.headElement,G.HEAD),cf(e,t),e.openElements.remove(e.headElement);break}case G.HEAD:{e._err(t,Je.misplacedStartTagForHeadElement);break}default:ES(e,t)}}function Wnt(e,t){switch(t.tagID){case G.BODY:case G.HTML:case G.BR:{ES(e,t);break}case G.TEMPLATE:{Pb(e,t);break}default:e._err(t,Je.endTagWithoutMatchingOpenElement)}}function ES(e,t){e._insertFakeElement(Ge.BODY,G.BODY),e.insertionMode=Pe.IN_BODY,vM(e,t)}function vM(e,t){switch(t.type){case lr.CHARACTER:{tCe(e,t);break}case lr.WHITESPACE_CHARACTER:{eCe(e,t);break}case lr.COMMENT:{wz(e,t);break}case lr.START_TAG:{Ga(e,t);break}case lr.END_TAG:{bM(e,t);break}case lr.EOF:{oCe(e,t);break}}}function eCe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function tCe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Gnt(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Ynt(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function Knt(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,at.HTML),e.insertionMode=Pe.IN_FRAMESET)}function Xnt(e,t){e.openElements.hasInButtonScope(G.P)&&e._closePElement(),e._insertElement(t,at.HTML)}function Qnt(e,t){e.openElements.hasInButtonScope(G.P)&&e._closePElement(),Hxe(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,at.HTML)}function Jnt(e,t){e.openElements.hasInButtonScope(G.P)&&e._closePElement(),e._insertElement(t,at.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function Znt(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(G.P)&&e._closePElement(),e._insertElement(t,at.HTML),n||(e.formElement=e.openElements.current))}function ert(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===G.LI&&i===G.LI||(n===G.DD||n===G.DT)&&(i===G.DD||i===G.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==G.ADDRESS&&i!==G.DIV&&i!==G.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(G.P)&&e._closePElement(),e._insertElement(t,at.HTML)}function trt(e,t){e.openElements.hasInButtonScope(G.P)&&e._closePElement(),e._insertElement(t,at.HTML),e.tokenizer.state=Oo.PLAINTEXT}function nrt(e,t){e.openElements.hasInScope(G.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(G.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML),e.framesetOk=!1}function rrt(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(Ge.A);n&&(HG(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function irt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function ort(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(G.NOBR)&&(HG(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,at.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function srt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function art(e,t){e.treeAdapter.getDocumentMode(e.document)!==ku.QUIRKS&&e.openElements.hasInButtonScope(G.P)&&e._closePElement(),e._insertElement(t,at.HTML),e.framesetOk=!1,e.insertionMode=Pe.IN_TABLE}function nCe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,at.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function rCe(e){const t=Bxe(e,i0.TYPE);return t!=null&&t.toLowerCase()===Snt}function lrt(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,at.HTML),rCe(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function urt(e,t){e._appendElement(t,at.HTML),t.ackSelfClosing=!0}function crt(e,t){e.openElements.hasInButtonScope(G.P)&&e._closePElement(),e._appendElement(t,at.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function drt(e,t){t.tagName=Ge.IMG,t.tagID=G.IMG,nCe(e,t)}function frt(e,t){e._insertElement(t,at.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Oo.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=Pe.TEXT}function hrt(e,t){e.openElements.hasInButtonScope(G.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Oo.RAWTEXT)}function prt(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Oo.RAWTEXT)}function yse(e,t){e._switchToTextParsing(t,Oo.RAWTEXT)}function mrt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===Pe.IN_TABLE||e.insertionMode===Pe.IN_CAPTION||e.insertionMode===Pe.IN_TABLE_BODY||e.insertionMode===Pe.IN_ROW||e.insertionMode===Pe.IN_CELL?Pe.IN_SELECT_IN_TABLE:Pe.IN_SELECT}function grt(e,t){e.openElements.currentTagId===G.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML)}function yrt(e,t){e.openElements.hasInScope(G.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,at.HTML)}function vrt(e,t){e.openElements.hasInScope(G.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(G.RTC),e._insertElement(t,at.HTML)}function brt(e,t){e._reconstructActiveFormattingElements(),Qxe(t),UG(t),t.selfClosing?e._appendElement(t,at.MATHML):e._insertElement(t,at.MATHML),t.ackSelfClosing=!0}function wrt(e,t){e._reconstructActiveFormattingElements(),Jxe(t),UG(t),t.selfClosing?e._appendElement(t,at.SVG):e._insertElement(t,at.SVG),t.ackSelfClosing=!0}function vse(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML)}function Ga(e,t){switch(t.tagID){case G.I:case G.S:case G.B:case G.U:case G.EM:case G.TT:case G.BIG:case G.CODE:case G.FONT:case G.SMALL:case G.STRIKE:case G.STRONG:{irt(e,t);break}case G.A:{rrt(e,t);break}case G.H1:case G.H2:case G.H3:case G.H4:case G.H5:case G.H6:{Qnt(e,t);break}case G.P:case G.DL:case G.OL:case G.UL:case G.DIV:case G.DIR:case G.NAV:case G.MAIN:case G.MENU:case G.ASIDE:case G.CENTER:case G.FIGURE:case G.FOOTER:case G.HEADER:case G.HGROUP:case G.DIALOG:case G.DETAILS:case G.ADDRESS:case G.ARTICLE:case G.SECTION:case G.SUMMARY:case G.FIELDSET:case G.BLOCKQUOTE:case G.FIGCAPTION:{Xnt(e,t);break}case G.LI:case G.DD:case G.DT:{ert(e,t);break}case G.BR:case G.IMG:case G.WBR:case G.AREA:case G.EMBED:case G.KEYGEN:{nCe(e,t);break}case G.HR:{crt(e,t);break}case G.RB:case G.RTC:{yrt(e,t);break}case G.RT:case G.RP:{vrt(e,t);break}case G.PRE:case G.LISTING:{Jnt(e,t);break}case G.XMP:{hrt(e,t);break}case G.SVG:{wrt(e,t);break}case G.HTML:{Gnt(e,t);break}case G.BASE:case G.LINK:case G.META:case G.STYLE:case G.TITLE:case G.SCRIPT:case G.BGSOUND:case G.BASEFONT:case G.TEMPLATE:{cf(e,t);break}case G.BODY:{Ynt(e,t);break}case G.FORM:{Znt(e,t);break}case G.NOBR:{ort(e,t);break}case G.MATH:{brt(e,t);break}case G.TABLE:{art(e,t);break}case G.INPUT:{lrt(e,t);break}case G.PARAM:case G.TRACK:case G.SOURCE:{urt(e,t);break}case G.IMAGE:{drt(e,t);break}case G.BUTTON:{nrt(e,t);break}case G.APPLET:case G.OBJECT:case G.MARQUEE:{srt(e,t);break}case G.IFRAME:{prt(e,t);break}case G.SELECT:{mrt(e,t);break}case G.OPTION:case G.OPTGROUP:{grt(e,t);break}case G.NOEMBED:{yse(e,t);break}case G.FRAMESET:{Knt(e,t);break}case G.TEXTAREA:{frt(e,t);break}case G.NOSCRIPT:{e.options.scriptingEnabled?yse(e,t):vse(e,t);break}case G.PLAINTEXT:{trt(e,t);break}case G.COL:case G.TH:case G.TD:case G.TR:case G.HEAD:case G.FRAME:case G.TBODY:case G.TFOOT:case G.THEAD:case G.CAPTION:case G.COLGROUP:break;default:vse(e,t)}}function xrt(e,t){if(e.openElements.hasInScope(G.BODY)&&(e.insertionMode=Pe.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function Crt(e,t){e.openElements.hasInScope(G.BODY)&&(e.insertionMode=Pe.AFTER_BODY,hCe(e,t))}function _rt(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function Ert(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(G.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(G.FORM):n&&e.openElements.remove(n))}function Srt(e){e.openElements.hasInButtonScope(G.P)||e._insertFakeElement(Ge.P,G.P),e._closePElement()}function Trt(e){e.openElements.hasInListItemScope(G.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(G.LI),e.openElements.popUntilTagNamePopped(G.LI))}function krt(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function Art(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function Rrt(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function Irt(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Ge.BR,G.BR),e.openElements.pop(),e.framesetOk=!1}function iCe(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const o=e.openElements.items[i],s=e.openElements.tagIDs[i];if(r===s&&(r!==G.UNKNOWN||e.treeAdapter.getTagName(o)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(o,s))break}}function bM(e,t){switch(t.tagID){case G.A:case G.B:case G.I:case G.S:case G.U:case G.EM:case G.TT:case G.BIG:case G.CODE:case G.FONT:case G.NOBR:case G.SMALL:case G.STRIKE:case G.STRONG:{HG(e,t);break}case G.P:{Srt(e);break}case G.DL:case G.UL:case G.OL:case G.DIR:case G.DIV:case G.NAV:case G.PRE:case G.MAIN:case G.MENU:case G.ASIDE:case G.BUTTON:case G.CENTER:case G.FIGURE:case G.FOOTER:case G.HEADER:case G.HGROUP:case G.DIALOG:case G.ADDRESS:case G.ARTICLE:case G.DETAILS:case G.SECTION:case G.SUMMARY:case G.LISTING:case G.FIELDSET:case G.BLOCKQUOTE:case G.FIGCAPTION:{_rt(e,t);break}case G.LI:{Trt(e);break}case G.DD:case G.DT:{krt(e,t);break}case G.H1:case G.H2:case G.H3:case G.H4:case G.H5:case G.H6:{Art(e);break}case G.BR:{Irt(e);break}case G.BODY:{xrt(e,t);break}case G.HTML:{Crt(e,t);break}case G.FORM:{Ert(e);break}case G.APPLET:case G.OBJECT:case G.MARQUEE:{Rrt(e,t);break}case G.TEMPLATE:{Pb(e,t);break}default:iCe(e,t)}}function oCe(e,t){e.tmplInsertionModeStack.length>0?fCe(e,t):qG(e,t)}function Drt(e,t){var n;t.tagID===G.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function Prt(e,t){e._err(t,Je.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function p8(e,t){if(Zxe.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=Pe.IN_TABLE_TEXT,t.type){case lr.CHARACTER:{aCe(e,t);break}case lr.WHITESPACE_CHARACTER:{sCe(e,t);break}}else UT(e,t)}function Ort(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,at.HTML),e.insertionMode=Pe.IN_CAPTION}function Nrt(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,at.HTML),e.insertionMode=Pe.IN_COLUMN_GROUP}function Mrt(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ge.COLGROUP,G.COLGROUP),e.insertionMode=Pe.IN_COLUMN_GROUP,VG(e,t)}function $rt(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,at.HTML),e.insertionMode=Pe.IN_TABLE_BODY}function Lrt(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ge.TBODY,G.TBODY),e.insertionMode=Pe.IN_TABLE_BODY,wM(e,t)}function Frt(e,t){e.openElements.hasInTableScope(G.TABLE)&&(e.openElements.popUntilTagNamePopped(G.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function jrt(e,t){rCe(t)?e._appendElement(t,at.HTML):UT(e,t),t.ackSelfClosing=!0}function Brt(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,at.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function fx(e,t){switch(t.tagID){case G.TD:case G.TH:case G.TR:{Lrt(e,t);break}case G.STYLE:case G.SCRIPT:case G.TEMPLATE:{cf(e,t);break}case G.COL:{Mrt(e,t);break}case G.FORM:{Brt(e,t);break}case G.TABLE:{Frt(e,t);break}case G.TBODY:case G.TFOOT:case G.THEAD:{$rt(e,t);break}case G.INPUT:{jrt(e,t);break}case G.CAPTION:{Ort(e,t);break}case G.COLGROUP:{Nrt(e,t);break}default:UT(e,t)}}function m2(e,t){switch(t.tagID){case G.TABLE:{e.openElements.hasInTableScope(G.TABLE)&&(e.openElements.popUntilTagNamePopped(G.TABLE),e._resetInsertionMode());break}case G.TEMPLATE:{Pb(e,t);break}case G.BODY:case G.CAPTION:case G.COL:case G.COLGROUP:case G.HTML:case G.TBODY:case G.TD:case G.TFOOT:case G.TH:case G.THEAD:case G.TR:break;default:UT(e,t)}}function UT(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,vM(e,t),e.fosterParentingEnabled=n}function sCe(e,t){e.pendingCharacterTokens.push(t)}function aCe(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function B_(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)UT(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const lCe=new Set([G.CAPTION,G.COL,G.COLGROUP,G.TBODY,G.TD,G.TFOOT,G.TH,G.THEAD,G.TR]);function zrt(e,t){const n=t.tagID;lCe.has(n)?e.openElements.hasInTableScope(G.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(G.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Pe.IN_TABLE,fx(e,t)):Ga(e,t)}function Urt(e,t){const n=t.tagID;switch(n){case G.CAPTION:case G.TABLE:{e.openElements.hasInTableScope(G.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(G.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Pe.IN_TABLE,n===G.TABLE&&m2(e,t));break}case G.BODY:case G.COL:case G.COLGROUP:case G.HTML:case G.TBODY:case G.TD:case G.TFOOT:case G.TH:case G.THEAD:case G.TR:break;default:bM(e,t)}}function VG(e,t){switch(t.tagID){case G.HTML:{Ga(e,t);break}case G.COL:{e._appendElement(t,at.HTML),t.ackSelfClosing=!0;break}case G.TEMPLATE:{cf(e,t);break}default:B3(e,t)}}function Hrt(e,t){switch(t.tagID){case G.COLGROUP:{e.openElements.currentTagId===G.COLGROUP&&(e.openElements.pop(),e.insertionMode=Pe.IN_TABLE);break}case G.TEMPLATE:{Pb(e,t);break}case G.COL:break;default:B3(e,t)}}function B3(e,t){e.openElements.currentTagId===G.COLGROUP&&(e.openElements.pop(),e.insertionMode=Pe.IN_TABLE,e._processToken(t))}function wM(e,t){switch(t.tagID){case G.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,at.HTML),e.insertionMode=Pe.IN_ROW;break}case G.TH:case G.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Ge.TR,G.TR),e.insertionMode=Pe.IN_ROW,xM(e,t);break}case G.CAPTION:case G.COL:case G.COLGROUP:case G.TBODY:case G.TFOOT:case G.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE,fx(e,t));break}default:fx(e,t)}}function xz(e,t){const n=t.tagID;switch(t.tagID){case G.TBODY:case G.TFOOT:case G.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE);break}case G.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE,m2(e,t));break}case G.BODY:case G.CAPTION:case G.COL:case G.COLGROUP:case G.HTML:case G.TD:case G.TH:case G.TR:break;default:m2(e,t)}}function xM(e,t){switch(t.tagID){case G.TH:case G.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,at.HTML),e.insertionMode=Pe.IN_CELL,e.activeFormattingElements.insertMarker();break}case G.CAPTION:case G.COL:case G.COLGROUP:case G.TBODY:case G.TFOOT:case G.THEAD:case G.TR:{e.openElements.hasInTableScope(G.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE_BODY,wM(e,t));break}default:fx(e,t)}}function uCe(e,t){switch(t.tagID){case G.TR:{e.openElements.hasInTableScope(G.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE_BODY);break}case G.TABLE:{e.openElements.hasInTableScope(G.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE_BODY,xz(e,t));break}case G.TBODY:case G.TFOOT:case G.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(G.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE_BODY,xz(e,t));break}case G.BODY:case G.CAPTION:case G.COL:case G.COLGROUP:case G.HTML:case G.TD:case G.TH:break;default:m2(e,t)}}function qrt(e,t){const n=t.tagID;lCe.has(n)?(e.openElements.hasInTableScope(G.TD)||e.openElements.hasInTableScope(G.TH))&&(e._closeTableCell(),xM(e,t)):Ga(e,t)}function Vrt(e,t){const n=t.tagID;switch(n){case G.TD:case G.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Pe.IN_ROW);break}case G.TABLE:case G.TBODY:case G.TFOOT:case G.THEAD:case G.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),uCe(e,t));break}case G.BODY:case G.CAPTION:case G.COL:case G.COLGROUP:case G.HTML:break;default:bM(e,t)}}function cCe(e,t){switch(t.tagID){case G.HTML:{Ga(e,t);break}case G.OPTION:{e.openElements.currentTagId===G.OPTION&&e.openElements.pop(),e._insertElement(t,at.HTML);break}case G.OPTGROUP:{e.openElements.currentTagId===G.OPTION&&e.openElements.pop(),e.openElements.currentTagId===G.OPTGROUP&&e.openElements.pop(),e._insertElement(t,at.HTML);break}case G.INPUT:case G.KEYGEN:case G.TEXTAREA:case G.SELECT:{e.openElements.hasInSelectScope(G.SELECT)&&(e.openElements.popUntilTagNamePopped(G.SELECT),e._resetInsertionMode(),t.tagID!==G.SELECT&&e._processStartTag(t));break}case G.SCRIPT:case G.TEMPLATE:{cf(e,t);break}}}function dCe(e,t){switch(t.tagID){case G.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===G.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===G.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===G.OPTGROUP&&e.openElements.pop();break}case G.OPTION:{e.openElements.currentTagId===G.OPTION&&e.openElements.pop();break}case G.SELECT:{e.openElements.hasInSelectScope(G.SELECT)&&(e.openElements.popUntilTagNamePopped(G.SELECT),e._resetInsertionMode());break}case G.TEMPLATE:{Pb(e,t);break}}}function Wrt(e,t){const n=t.tagID;n===G.CAPTION||n===G.TABLE||n===G.TBODY||n===G.TFOOT||n===G.THEAD||n===G.TR||n===G.TD||n===G.TH?(e.openElements.popUntilTagNamePopped(G.SELECT),e._resetInsertionMode(),e._processStartTag(t)):cCe(e,t)}function Grt(e,t){const n=t.tagID;n===G.CAPTION||n===G.TABLE||n===G.TBODY||n===G.TFOOT||n===G.THEAD||n===G.TR||n===G.TD||n===G.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(G.SELECT),e._resetInsertionMode(),e.onEndTag(t)):dCe(e,t)}function Yrt(e,t){switch(t.tagID){case G.BASE:case G.BASEFONT:case G.BGSOUND:case G.LINK:case G.META:case G.NOFRAMES:case G.SCRIPT:case G.STYLE:case G.TEMPLATE:case G.TITLE:{cf(e,t);break}case G.CAPTION:case G.COLGROUP:case G.TBODY:case G.TFOOT:case G.THEAD:{e.tmplInsertionModeStack[0]=Pe.IN_TABLE,e.insertionMode=Pe.IN_TABLE,fx(e,t);break}case G.COL:{e.tmplInsertionModeStack[0]=Pe.IN_COLUMN_GROUP,e.insertionMode=Pe.IN_COLUMN_GROUP,VG(e,t);break}case G.TR:{e.tmplInsertionModeStack[0]=Pe.IN_TABLE_BODY,e.insertionMode=Pe.IN_TABLE_BODY,wM(e,t);break}case G.TD:case G.TH:{e.tmplInsertionModeStack[0]=Pe.IN_ROW,e.insertionMode=Pe.IN_ROW,xM(e,t);break}default:e.tmplInsertionModeStack[0]=Pe.IN_BODY,e.insertionMode=Pe.IN_BODY,Ga(e,t)}}function Krt(e,t){t.tagID===G.TEMPLATE&&Pb(e,t)}function fCe(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(G.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):qG(e,t)}function Xrt(e,t){t.tagID===G.HTML?Ga(e,t):z3(e,t)}function hCe(e,t){var n;if(t.tagID===G.HTML){if(e.fragmentContext||(e.insertionMode=Pe.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===G.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else z3(e,t)}function z3(e,t){e.insertionMode=Pe.IN_BODY,vM(e,t)}function Qrt(e,t){switch(t.tagID){case G.HTML:{Ga(e,t);break}case G.FRAMESET:{e._insertElement(t,at.HTML);break}case G.FRAME:{e._appendElement(t,at.HTML),t.ackSelfClosing=!0;break}case G.NOFRAMES:{cf(e,t);break}}}function Jrt(e,t){t.tagID===G.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==G.FRAMESET&&(e.insertionMode=Pe.AFTER_FRAMESET))}function Zrt(e,t){switch(t.tagID){case G.HTML:{Ga(e,t);break}case G.NOFRAMES:{cf(e,t);break}}}function eit(e,t){t.tagID===G.HTML&&(e.insertionMode=Pe.AFTER_AFTER_FRAMESET)}function tit(e,t){t.tagID===G.HTML?Ga(e,t):zD(e,t)}function zD(e,t){e.insertionMode=Pe.IN_BODY,vM(e,t)}function nit(e,t){switch(t.tagID){case G.HTML:{Ga(e,t);break}case G.NOFRAMES:{cf(e,t);break}}}function rit(e,t){t.chars=Wi,e._insertCharacters(t)}function iit(e,t){e._insertCharacters(t),e.framesetOk=!1}function pCe(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==at.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function oit(e,t){if(wnt(t))pCe(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===at.MATHML?Qxe(t):r===at.SVG&&(xnt(t),Jxe(t)),UG(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function sit(e,t){if(t.tagID===G.P||t.tagID===G.BR){pCe(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===at.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}Ge.AREA,Ge.BASE,Ge.BASEFONT,Ge.BGSOUND,Ge.BR,Ge.COL,Ge.EMBED,Ge.FRAME,Ge.HR,Ge.IMG,Ge.INPUT,Ge.KEYGEN,Ge.LINK,Ge.META,Ge.PARAM,Ge.SOURCE,Ge.TRACK,Ge.WBR;const ait=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),bse={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function mCe(e,t){const n=yit(e),r=Mxe("type",{handlers:{root:lit,element:uit,text:cit,comment:yCe,doctype:dit,raw:hit},unknown:pit}),i={parser:n?new gse(bse):gse.getFragmentParser(void 0,bse),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),vC(i,qh());const o=n?i.parser.document:i.parser.getFragment(),s=btt(o,{file:i.options.file});return i.stitches&&dx(s,"comment",function(a,l,u){const c=a;if(c.value.stitch&&u&&l!==void 0){const d=u.children;return d[l]=c.value.stitch,l}}),s.type==="root"&&s.children.length===1&&s.children[0].type===e.type?s.children[0]:s}function gCe(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function lit(e,t){gCe(e.children,t)}function uit(e,t){mit(e,t),gCe(e.children,t),git(e,t)}function cit(e,t){const n={type:lr.CHARACTER,chars:e.value,location:HT(e)};vC(t,qh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function dit(e,t){const n={type:lr.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:HT(e)};vC(t,qh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function fit(e,t){t.stitches=!0;const n=vit(e);if("children"in e&&"children"in n){const r=mCe({type:"root",children:e.children},t.options);n.children=r.children}yCe({type:"comment",value:{stitch:n}},t)}function yCe(e,t){const n=e.value,r={type:lr.COMMENT,data:n,location:HT(e)};vC(t,qh(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function hit(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,vCe(t,qh(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function pit(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))fit(n,t);else{let r="";throw ait.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function vC(e,t){vCe(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Oo.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function vCe(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function mit(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Oo.PLAINTEXT)return;vC(t,qh(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:mv.html;i===mv.html&&n==="svg"&&(i=mv.svg);const o=Ett({...e,children:[]},{space:i===mv.svg?"svg":"html"}),s={type:lr.START_TAG,tagName:n,tagID:yC(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:HT(e)};t.parser.currentToken=s,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function git(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&Ptt.includes(n)||t.parser.tokenizer.state===Oo.PLAINTEXT)return;vC(t,dM(e));const r={type:lr.END_TAG,tagName:n,tagID:yC(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:HT(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Oo.RCDATA||t.parser.tokenizer.state===Oo.RAWTEXT||t.parser.tokenizer.state===Oo.SCRIPT_DATA)&&(t.parser.tokenizer.state=Oo.DATA)}function yit(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function HT(e){const t=qh(e)||{line:void 0,column:void 0,offset:void 0},n=dM(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function vit(e){return"children"in e?cx({...e,children:[]}):cx(e)}function bit(e){return function(t,n){return mCe(t,{...e,file:n})}}function wse(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function wit(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function xit(e,t,n){const i=mM((n||{}).ignore||[]),o=Cit(t);let s=-1;for(;++s<o.length;)Cxe(e,"text",a);function a(u,c){let d=-1,f;for(;++d<c.length;){const h=c[d],p=f?f.children:void 0;if(i(h,p?p.indexOf(h):void 0,f))return;f=h}if(f)return l(u,c)}function l(u,c){const d=c[c.length-1],f=o[s][0],h=o[s][1];let p=0;const g=d.children.indexOf(u);let v=!1,y=[];f.lastIndex=0;let x=f.exec(u.value);for(;x;){const E=x.index,_={index:x.index,input:x.input,stack:[...c,u]};let S=h(...x,_);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=E+1:(p!==E&&y.push({type:"text",value:u.value.slice(p,E)}),Array.isArray(S)?y.push(...S):S&&y.push(S),p=E+x[0].length,v=!0),!f.global)break;x=f.exec(u.value)}return v?(p<u.value.length&&y.push({type:"text",value:u.value.slice(p)}),d.children.splice(g,1,...y)):y=[u],g+y.length}}function Cit(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([_it(i[0]),Eit(i[1])])}return t}function _it(e){return typeof e=="string"?new RegExp(wit(e),"g"):e}function Eit(e){return typeof e=="function"?e:function(){return e}}const m8="phrasing",g8=["autolink","link","image","label"];function Sit(){return{transforms:[Pit],enter:{literalAutolink:kit,literalAutolinkEmail:y8,literalAutolinkHttp:y8,literalAutolinkWww:y8},exit:{literalAutolink:Dit,literalAutolinkEmail:Iit,literalAutolinkHttp:Ait,literalAutolinkWww:Rit}}}function Tit(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:m8,notInConstruct:g8},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:m8,notInConstruct:g8},{character:":",before:"[ps]",after:"\\/",inConstruct:m8,notInConstruct:g8}]}}function kit(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function y8(e){this.config.enter.autolinkProtocol.call(this,e)}function Ait(e){this.config.exit.autolinkProtocol.call(this,e)}function Rit(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Iit(e){this.config.exit.autolinkEmail.call(this,e)}function Dit(e){this.exit(e)}function Pit(e){xit(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Oit],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Nit]],{ignore:["link","linkReference"]})}function Oit(e,t,n,r,i){let o="";if(!bCe(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!Mit(n)))return!1;const s=$it(n+r);if(!s[0])return!1;const a={type:"link",title:null,url:o+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[a,{type:"text",value:s[1]}]:a}function Nit(e,t,n,r){return!bCe(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Mit(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function $it(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=wse(e,"(");let o=wse(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function bCe(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||qv(n)||fM(n))&&(!t||n!==47)}wCe.peek=Vit;function Lit(){this.buffer()}function Fit(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function jit(){this.buffer()}function Bit(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function zit(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Fd(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Uit(e){this.exit(e)}function Hit(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Fd(this.sliceSerialize(e)).toLowerCase(),n.label=t}function qit(e){this.exit(e)}function Vit(){return"["}function wCe(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const s=n.enter("footnoteReference"),a=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),a(),s(),o+=i.move("]"),o}function Wit(){return{enter:{gfmFootnoteCallString:Lit,gfmFootnoteCall:Fit,gfmFootnoteDefinitionLabelString:jit,gfmFootnoteDefinition:Bit},exit:{gfmFootnoteCallString:zit,gfmFootnoteCall:Uit,gfmFootnoteDefinitionLabelString:Hit,gfmFootnoteDefinition:qit}}}function Git(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:wCe},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,s){const a=o.createTracker(s);let l=a.move("[^");const u=o.enter("footnoteDefinition"),c=o.enter("label");return l+=a.move(o.safe(o.associationId(r),{before:l,after:"]"})),c(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,a.current()),t?xCe:Yit))),u(),l}}function Yit(e,t,n){return t===0?e:xCe(e,t,n)}function xCe(e,t,n){return(n?"":"    ")+e}const Kit=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];CCe.peek=eot;function Xit(){return{canContainEols:["delete"],enter:{strikethrough:Jit},exit:{strikethrough:Zit}}}function Qit(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Kit}],handlers:{delete:CCe}}}function Jit(e){this.enter({type:"delete",children:[]},e)}function Zit(e){this.exit(e)}function CCe(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),o(),s}function eot(){return"~"}function tot(e){return e.length}function not(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||tot,o=[],s=[],a=[],l=[];let u=0,c=-1;for(;++c<e.length;){const m=[],g=[];let v=-1;for(e[c].length>u&&(u=e[c].length);++v<e[c].length;){const y=rot(e[c][v]);if(n.alignDelimiters!==!1){const x=i(y);g[v]=x,(l[v]===void 0||x>l[v])&&(l[v]=x)}m.push(y)}s[c]=m,a[c]=g}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)o[d]=xse(r[d]);else{const m=xse(r);for(;++d<u;)o[d]=m}d=-1;const f=[],h=[];for(;++d<u;){const m=o[d];let g="",v="";m===99?(g=":",v=":"):m===108?g=":":m===114&&(v=":");let y=n.alignDelimiters===!1?1:Math.max(1,l[d]-g.length-v.length);const x=g+"-".repeat(y)+v;n.alignDelimiters!==!1&&(y=g.length+y+v.length,y>l[d]&&(l[d]=y),h[d]=y),f[d]=x}s.splice(1,0,f),a.splice(1,0,h),c=-1;const p=[];for(;++c<s.length;){const m=s[c],g=a[c];d=-1;const v=[];for(;++d<u;){const y=m[d]||"";let x="",E="";if(n.alignDelimiters!==!1){const _=l[d]-(g[d]||0),S=o[d];S===114?x=" ".repeat(_):S===99?_%2?(x=" ".repeat(_/2+.5),E=" ".repeat(_/2-.5)):(x=" ".repeat(_/2),E=x):E=" ".repeat(_)}n.delimiterStart!==!1&&!d&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&y==="")&&(n.delimiterStart!==!1||d)&&v.push(" "),n.alignDelimiters!==!1&&v.push(x),v.push(y),n.alignDelimiters!==!1&&v.push(E),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&v.push("|")}p.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return p.join(`
`)}function rot(e){return e==null?"":String(e)}function xse(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function iot(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const s=n.indentLines(n.containerFlow(e,o.current()),oot);return i(),s}function oot(e,t,n){return">"+(n?"":" ")+e}function sot(e,t){return Cse(e,t.inConstruct,!0)&&!Cse(e,t.notInConstruct,!1)}function Cse(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function _se(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&sot(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function aot(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>s&&(s=o):o=1,i=r+t.length,r=n.indexOf(t,i);return s}function lot(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function uot(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function cot(e,t,n,r){const i=uot(n),o=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(lot(e,n)){const d=n.enter("codeIndented"),f=n.indentLines(o,dot);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(aot(o,i)+1,3)),u=n.enter("codeFenced");let c=a.move(l);if(e.lang){const d=n.enter(`codeFencedLang${s}`);c+=a.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...a.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${s}`);c+=a.move(" "),c+=a.move(n.safe(e.meta,{before:c,after:`
`,encode:["`"],...a.current()})),d()}return c+=a.move(`
`),o&&(c+=a.move(o+`
`)),c+=a.move(l),u(),c}function dot(e,t,n){return(n?"":"    ")+e}function WG(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function fot(e,t,n,r){const i=WG(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),s(),u}function hot(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function g2(e){return"&#x"+e.toString(16).toUpperCase()+";"}function U3(e,t,n){const r=ux(e),i=ux(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}_Ce.peek=pot;function _Ce(e,t,n,r){const i=hot(n),o=n.enter("emphasis"),s=n.createTracker(r),a=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:a,...s.current()}));const u=l.charCodeAt(0),c=U3(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=g2(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=U3(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+g2(d));const h=s.move(i);return o(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+l+h}function pot(e,t,n){return n.options.emphasis||"*"}function mot(e,t){let n=!1;return dx(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,dz}),!!((!e.depth||e.depth<3)&&IG(e)&&(t.options.setext||n))}function got(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(mot(e,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return d(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const s="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");o.move(s+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u=g2(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),l(),a(),u}ECe.peek=yot;function ECe(e){return e.value||""}function yot(){return"<"}SCe.peek=vot;function SCe(e,t,n,r){const i=WG(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),s(),u}function vot(){return"!"}TCe.peek=bot;function TCe(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),s();const c=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return s(),n.stack=c,o(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function bot(){return"!"}kCe.peek=wot;function kCe(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const s=n.unsafe[o],a=n.compilePattern(s);let l;if(s.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function wot(){return"`"}function ACe(e,t){const n=IG(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}RCe.peek=xot;function RCe(e,t,n,r){const i=WG(n),o=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let a,l;if(ACe(e,n)){const c=n.stack;n.stack=[],a=n.enter("autolink");let d=s.move("<");return d+=s.move(n.containerPhrasing(e,{before:d,after:">",...s.current()})),d+=s.move(">"),a(),n.stack=c,d}a=n.enter("link"),l=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${o}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),l()),u+=s.move(")"),a(),u}function xot(e,t,n){return ACe(e,n)?"<":"["}ICe.peek=Cot;function ICe(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),s();const c=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return s(),n.stack=c,o(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Cot(){return"["}function GG(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function _ot(e){const t=GG(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Eot(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function DCe(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Sot(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let s=e.ordered?Eot(n):GG(n);const a=e.ordered?s==="."?")":".":_ot(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),DCe(n)===s&&c){let d=-1;for(;++d<e.children.length;){const f=e.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=a),n.bulletCurrent=s;const u=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=o,i(),u}function Tot(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function kot(e,t,n,r){const i=Tot(n);let o=n.bulletCurrent||GG(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let s=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const a=n.createTracker(r);a.move(o+" ".repeat(s-o.length)),a.shift(s);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),c);return l(),u;function c(d,f,h){return f?(h?"":" ".repeat(s))+d:(h?o:o+" ".repeat(s-o.length))+d}}function Aot(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),s=n.containerPhrasing(e,r);return o(),i(),s}const Rot=mM(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Iot(e,t,n,r){return(e.children.some(function(s){return Rot(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Dot(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}PCe.peek=Pot;function PCe(e,t,n,r){const i=Dot(n),o=n.enter("strong"),s=n.createTracker(r),a=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:a,...s.current()}));const u=l.charCodeAt(0),c=U3(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=g2(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=U3(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+g2(d));const h=s.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+l+h}function Pot(e,t,n){return n.options.strong||"*"}function Oot(e,t,n,r){return n.safe(e.value,r)}function Not(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Mot(e,t,n){const r=(DCe(n)+(n.options.ruleSpaces?" ":"")).repeat(Not(n));return n.options.ruleSpaces?r.slice(0,-1):r}const OCe={blockquote:iot,break:_se,code:cot,definition:fot,emphasis:_Ce,hardBreak:_se,heading:got,html:ECe,image:SCe,imageReference:TCe,inlineCode:kCe,link:RCe,linkReference:ICe,list:Sot,listItem:kot,paragraph:Aot,root:Iot,strong:PCe,text:Oot,thematicBreak:Mot};function $ot(){return{enter:{table:Lot,tableData:Ese,tableHeader:Ese,tableRow:jot},exit:{codeText:Bot,table:Fot,tableData:v8,tableHeader:v8,tableRow:v8}}}function Lot(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Fot(e){this.exit(e),this.data.inTable=void 0}function jot(e){this.enter({type:"tableRow",children:[]},e)}function v8(e){this.exit(e)}function Ese(e){this.enter({type:"tableCell",children:[]},e)}function Bot(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,zot));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function zot(e,t){return t==="|"?t:e}function Uot(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:s,tableCell:l,tableRow:a}};function s(h,p,m,g){return u(c(h,m,g),h.align)}function a(h,p,m,g){const v=d(h,m,g),y=u([v]);return y.slice(0,y.indexOf(`
`))}function l(h,p,m,g){const v=m.enter("tableCell"),y=m.enter("phrasing"),x=m.containerPhrasing(h,{...g,before:o,after:o});return y(),v(),x}function u(h,p){return not(h,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function c(h,p,m){const g=h.children;let v=-1;const y=[],x=p.enter("table");for(;++v<g.length;)y[v]=d(g[v],p,m);return x(),y}function d(h,p,m){const g=h.children;let v=-1;const y=[],x=p.enter("tableRow");for(;++v<g.length;)y[v]=l(g[v],h,p,m);return x(),y}function f(h,p,m){let g=OCe.inlineCode(h,p,m);return m.stack.includes("tableCell")&&(g=g.replace(/\|/g,"\\$&")),g}}function Hot(){return{exit:{taskListCheckValueChecked:Sse,taskListCheckValueUnchecked:Sse,paragraph:Vot}}}function qot(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Wot}}}function Sse(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Vot(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,s;for(;++o<i.length;){const a=i[o];if(a.type==="paragraph"){s=a;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Wot(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);o&&a.move(s);let l=OCe.listItem(e,t,n,{...r,...a.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+s}}function Got(){return[Sit(),Wit(),Xit(),$ot(),Hot()]}function Yot(e){return{extensions:[Tit(),Git(e),Qit(),Uot(e),qot()]}}const Kot={tokenize:tst,partial:!0},NCe={tokenize:nst,partial:!0},MCe={tokenize:rst,partial:!0},$Ce={tokenize:ist,partial:!0},Xot={tokenize:ost,partial:!0},LCe={name:"wwwAutolink",tokenize:Zot,previous:jCe},FCe={name:"protocolAutolink",tokenize:est,previous:BCe},$m={name:"emailAutolink",tokenize:Jot,previous:zCe},Vh={};function Qot(){return{text:Vh}}let Ay=48;for(;Ay<123;)Vh[Ay]=$m,Ay++,Ay===58?Ay=65:Ay===91&&(Ay=97);Vh[43]=$m;Vh[45]=$m;Vh[46]=$m;Vh[95]=$m;Vh[72]=[$m,FCe];Vh[104]=[$m,FCe];Vh[87]=[$m,LCe];Vh[119]=[$m,LCe];function Jot(e,t,n){const r=this;let i,o;return s;function s(d){return!Cz(d)||!zCe.call(r,r.previous)||YG(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(d))}function a(d){return Cz(d)?(e.consume(d),a):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(Xot,c,u)(d):d===45||d===95||Oa(d)?(o=!0,e.consume(d),l):c(d)}function u(d){return e.consume(d),i=!0,l}function c(d){return o&&i&&cl(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function Zot(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!jCe.call(r,r.previous)||YG(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Kot,e.attempt(NCe,e.attempt(MCe,o),n),n)(s))}function o(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function est(e,t,n){const r=this;let i="",o=!1;return s;function s(d){return(d===72||d===104)&&BCe.call(r,r.previous)&&!YG(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),a):n(d)}function a(d){if(cl(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),a;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(d),l}return n(d)}function l(d){return d===47?(e.consume(d),o?u:(o=!0,l)):n(d)}function u(d){return d===null||F3(d)||Ei(d)||qv(d)||fM(d)?n(d):e.attempt(NCe,e.attempt(MCe,c),n)(d)}function c(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function tst(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),o):n(s)}function o(s){return s===null?n(s):t(s)}}function nst(e,t,n){let r,i,o;return s;function s(u){return u===46||u===95?e.check($Ce,l,a)(u):u===null||Ei(u)||qv(u)||u!==45&&fM(u)?l(u):(o=!0,e.consume(u),s)}function a(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),s}function l(u){return i||r||!o?n(u):t(u)}}function rst(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?o(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check($Ce,t,o)(s):s===null||Ei(s)||qv(s)?t(s):(e.consume(s),i)}function o(s){return s===41&&r++,e.consume(s),i}}function ist(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),o):a===93?(e.consume(a),i):a===60||a===null||Ei(a)||qv(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||Ei(a)||qv(a)?t(a):r(a)}function o(a){return cl(a)?s(a):n(a)}function s(a){return a===59?(e.consume(a),r):cl(a)?(e.consume(a),s):n(a)}}function ost(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return Oa(o)?n(o):t(o)}}function jCe(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ei(e)}function BCe(e){return!cl(e)}function zCe(e){return!(e===47||Cz(e))}function Cz(e){return e===43||e===45||e===46||e===95||Oa(e)}function YG(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const sst={tokenize:pst,partial:!0};function ast(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:dst,continuation:{tokenize:fst},exit:hst}},text:{91:{name:"gfmFootnoteCall",tokenize:cst},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:lst,resolveTo:ust}}}}function lst(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!s||!s._balanced)return n(l);const u=Fd(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!o.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function ust(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",s,t],["exit",s,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function cst(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,s;return a;function a(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(o>999||d===93&&!s||d===null||d===91||Ei(d))return n(d);if(d===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(Fd(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return Ei(d)||(s=!0),o++,e.consume(d),d===92?c:u}function c(d){return d===91||d===92||d===93?(e.consume(d),o++,u):u(d)}}function dst(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,s=0,a;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(p)}function c(p){if(s>999||p===93&&!a||p===null||p===91||Ei(p))return n(p);if(p===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return o=Fd(r.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return Ei(p)||(a=!0),s++,e.consume(p),p===92?d:c}function d(p){return p===91||p===92||p===93?(e.consume(p),s++,c):c(p)}function f(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(o)||i.push(o),Pr(e,h,"gfmFootnoteDefinitionWhitespace")):n(p)}function h(p){return t(p)}}function fst(e,t,n){return e.check(FT,t,e.attempt(sst,t,n))}function hst(e){e.exit("gfmFootnoteDefinition")}function pst(e,t,n){const r=this;return Pr(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(o):n(o)}}function mst(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,a){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},d={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},f=[["enter",c,a],["enter",s[u][1],a],["exit",s[u][1],a],["enter",d,a]],h=a.parser.constructs.insideSpan.null;h&&Lu(f,f.length,0,hM(h,s.slice(u+1,l),a)),Lu(f,f.length,0,[["exit",d,a],["enter",s[l][1],a],["exit",s[l][1],a],["exit",c,a]]),Lu(s,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function o(s,a,l){const u=this.previous,c=this.events;let d=0;return f;function f(p){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),h(p))}function h(p){const m=ux(u);if(p===126)return d>1?l(p):(s.consume(p),d++,h);if(d<2&&!n)return l(p);const g=s.exit("strikethroughSequenceTemporary"),v=ux(p);return g._open=!v||v===2&&!!m,g._close=!m||m===2&&!!v,a(p)}}}class gst{constructor(){this.map=[]}add(t,n,r){yst(this,t,n,r)}consume(t){if(this.map.sort(function(o,s){return o[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const o of i)t.push(o);i=r.pop()}this.map.length=0}}function yst(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function vst(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function bst(){return{flow:{null:{name:"table",tokenize:wst,resolveAll:xst}}}}function wst(e,t,n){const r=this;let i=0,o=0,s;return a;function a(I){let P=r.events.length-1;for(;P>-1;){const O=r.events[P][1].type;if(O==="lineEnding"||O==="linePrefix")P--;else break}const N=P>-1?r.events[P][1].type:null,M=N==="tableHead"||N==="tableRow"?S:l;return M===S&&r.parser.lazy[r.now().line]?n(I):M(I)}function l(I){return e.enter("tableHead"),e.enter("tableRow"),u(I)}function u(I){return I===124||(s=!0,o+=1),c(I)}function c(I){return I===null?n(I):In(I)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),h):n(I):yr(I)?Pr(e,c,"whitespace")(I):(o+=1,s&&(s=!1,i+=1),I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),s=!0,c):(e.enter("data"),d(I)))}function d(I){return I===null||I===124||Ei(I)?(e.exit("data"),c(I)):(e.consume(I),I===92?f:d)}function f(I){return I===92||I===124?(e.consume(I),d):d(I)}function h(I){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(I):(e.enter("tableDelimiterRow"),s=!1,yr(I)?Pr(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):p(I))}function p(I){return I===45||I===58?g(I):I===124?(s=!0,e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),m):_(I)}function m(I){return yr(I)?Pr(e,g,"whitespace")(I):g(I)}function g(I){return I===58?(o+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),v):I===45?(o+=1,v(I)):I===null||In(I)?E(I):_(I)}function v(I){return I===45?(e.enter("tableDelimiterFiller"),y(I)):_(I)}function y(I){return I===45?(e.consume(I),y):I===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),x):(e.exit("tableDelimiterFiller"),x(I))}function x(I){return yr(I)?Pr(e,E,"whitespace")(I):E(I)}function E(I){return I===124?p(I):I===null||In(I)?!s||i!==o?_(I):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(I)):_(I)}function _(I){return n(I)}function S(I){return e.enter("tableRow"),T(I)}function T(I){return I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),T):I===null||In(I)?(e.exit("tableRow"),t(I)):yr(I)?Pr(e,T,"whitespace")(I):(e.enter("data"),k(I))}function k(I){return I===null||I===124||Ei(I)?(e.exit("data"),T(I)):(e.consume(I),I===92?R:k)}function R(I){return I===92||I===124?(e.consume(I),k):k(I)}}function xst(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],s=[0,0,0,0],a=!1,l=0,u,c,d;const f=new gst;for(;++n<e.length;){const h=e[n],p=h[1];h[0]==="enter"?p.type==="tableHead"?(a=!1,l!==0&&(Tse(f,t,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,d=void 0,o=[0,0,0,0],s=[0,n+1,0,0],a&&(a=!1,c={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",c,t]])),i=p.type==="tableDelimiterRow"?2:c?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(o[1]!==0&&(s[0]=s[1],d=SR(f,t,o,i,void 0,d),o=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(s[0]=s[1],d=SR(f,t,o,i,void 0,d)),o=s,s=[o[1],n,0,0])):p.type==="tableHead"?(a=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,o[1]!==0?(s[0]=s[1],d=SR(f,t,o,i,n,d)):s[1]!==0&&(d=SR(f,t,s,i,n,d)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&Tse(f,t,l,u,c),f.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=vst(t.events,n))}return e}function SR(e,t,n,r,i,o){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(o.end=Object.assign({},cw(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const l=cw(t.events,n[1]);if(o={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const u=cw(t.events,n[2]),c=cw(t.events,n[3]),d={type:a,start:Object.assign({},u),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const f=t.events[n[2]],h=t.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,m=n[3]-n[2]-1;e.add(p,m,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(o.end=Object.assign({},cw(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function Tse(e,t,n,r,i){const o=[],s=cw(t.events,n);i&&(i.end=Object.assign({},s),o.push(["exit",i,t])),r.end=Object.assign({},s),o.push(["exit",r,t]),e.add(n+1,0,o)}function cw(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Cst={name:"tasklistCheck",tokenize:Est};function _st(){return{text:{91:Cst}}}function Est(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),o)}function o(l){return Ei(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return In(l)?t(l):yr(l)?e.check({tokenize:Sst},t,n)(l):n(l)}}function Sst(e,t,n){return Pr(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Tst(e){return rxe([Qot(),ast(),mst(e),bst(),_st()])}const kst={};function Ast(e){const t=this,n=e||kst,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Tst(n)),o.push(Got()),s.push(Yot(n))}function kse(e){return!!e&&typeof e=="object"&&e.type==="text"}function Rst(e){return!!e&&typeof e=="object"&&e.type==="element"}const Ist=e=>({p({node:t,...n}){return e?b.jsx($e,{...n,component:"span",size:"sm"}):b.jsx($e,{...n,pb:8,fw:"inherit",ref:void 0})},h1({node:t,...n}){return b.jsx(gr,{...n,order:1,pb:e?void 0:12})},h2({node:t,...n}){return b.jsx(gr,{...n,order:2,pb:e?void 0:12})},h3({node:t,...n}){return b.jsx(gr,{...n,order:3,pb:e?void 0:12})},h4({node:t,...n}){return b.jsx(gr,{...n,order:4,pb:e?void 0:12})},h5({node:t,...n}){return b.jsx(gr,{...n,order:5,pb:e?void 0:12})},h6({node:t,...n}){return b.jsx(gr,{...n,order:6,pb:e?void 0:12})},a({node:t,...n}){return b.jsx(V0,{...n,ref:void 0})},code({node:t,...n}){return b.jsx(Ru,{...n})},ul({node:t,...n}){return b.jsx(ji,{withPadding:!0,...n,pb:e?void 0:8})},ol({node:t,type:n,...r}){return b.jsx(ji,{...r,type:"ordered",withPadding:!0,pb:e?void 0:8})},table({node:t,...n}){return b.jsx(xn,{...n,mb:12,borderColor:"grey"})},thead({node:t,...n}){return b.jsx(xn.Thead,{...n})},tbody({node:t,...n}){return b.jsx(xn.Tbody,{...n})},tr({node:t,...n}){return b.jsx(xn.Tr,{...n})},th({node:t,...n}){return b.jsx(xn.Th,{...n})},td({node:t,...n}){return b.jsx(xn.Td,{...n})},img({node:t,width:n,height:r,src:i,...o}){return b.jsx(Pm,{...o,h:r,w:n,src:i?.startsWith("http")?i:`${Hi}${i}`})}});function kh({text:e,required:t,inline:n}){const r=Ist(n),i=A.useCallback(()=>o=>{if(!t||!o)return;let s=null,a=null,l=null;dx(o,d=>{kse(d)&&d.value.trim().length>0&&(l=d)}),l&&dx(o,(d,f,h)=>{if(!Rst(d)||!d.children)return;d.children.some(m=>m===l)&&(s=d,a=h)});const u=s,c=a;if(u!==null){const d={type:"element",tagName:"span",properties:{style:"color: #fa5252; margin-left: 4px"},children:[{type:"text",value:"*"}]};if(kse(u.children.at(-1))){const h=u.children.at(-1).value.match(/^([\s\S]*?)(\S+)(\s*)$/);if(!h){u.children.push(d);return}const[,p,m,g]=h,v={type:"element",tagName:"span",properties:{},children:[...p.length>0?[{type:"text",value:p}]:[],{type:"element",tagName:"span",properties:{style:"white-space: nowrap"},children:[{type:"text",value:m},d]},...g.length>0?[{type:"text",value:g}]:[]]};u.children.splice(u.children.length-1,1,v)}else{const f={type:"element",tagName:"span",properties:{style:"white-space: nowrap; display: inline-flex;"},children:[u,d]};if(c){const h=c.children.indexOf(u);h!==-1&&c.children.splice(h,1,f)}}}},[t]);return e.length>0&&b.jsx(Ket,{components:r,rehypePlugins:[bit,i],remarkPlugins:[Ast],children:e})}function UD({issues:e,type:t}){const n=["invalid-config","invalid-library-config","undefined-library","undefined-base-component","undefined-component","sequence-validation","skip-validation","unused-component","disabled-sidebar"],r=y=>y.split("-").map(x=>x.charAt(0).toUpperCase()+x.slice(1)).join(" "),i=y=>y&&typeof y=="object"&&"action"in y?y.action:null,o=y=>{if(y.length<=1)return y;const x=new Intl.ListFormat("en",{style:"long",type:"conjunction"}),E=M=>{const O=M.match(/^(.*?)(`[^`]+`)(.*)$/);return O?{prefix:O[1],item:O[2],suffix:O[3]}:null},_=M=>{const O=M[0];return M.every(j=>j.prefix===O.prefix&&j.suffix===O.suffix)},S=(M,O)=>{if(!O)return M;const j=[[/\bdoes not\b/,"do not"],[/\bhas\b/,"have"],[/\bis\b/,"are"],[/\buses\b/,"use"]];let U=M;for(const[q,W]of j)U=U.replace(q,W);return U},T=y.map(E),k=T.filter(M=>M!==null);if(k.length!==T.length||!_(k))return y;const R=k[0],I=[...new Set(k.map(M=>M.item))],P=x.format(I),N=S(R.suffix,I.length>1);return[`${R.prefix}${P}${N}`]},s=y=>{if(y.message==="must have required property"){const{missingProperty:x}=y.params;if(x)return`Missing required property \`${x}\``}if(y.message.startsWith("must have required property")){const{missingProperty:x}=y.params;if(x)return`Missing required property \`${x}\``}return y.message||"No message provided"},a=y=>y.message==="must match a schema in anyOf",l=y=>{if(!y.message.includes("must have required property"))return null;const{missingProperty:x}=y.params;return typeof x=="string"?x:null},u=y=>{const x=y.some(a);let E=y.filter(k=>a(k)?y.length===1:!0);if(x){const k=new Map;if(E.forEach(R=>{const I=l(R);I&&k.set(I,(k.get(I)||0)+1)}),k.size>1){const R=Math.max(...k.values()),I=new Set(Array.from(k.entries()).filter(([,P])=>P===R).map(([P])=>P));I.size<k.size&&(E=E.filter(P=>{const N=l(P);return!N||I.has(N)}))}}const _=E.map(s),S=o(_),T=new Map;return S.forEach(k=>{T.set(k,(T.get(k)||0)+1)}),Array.from(T.entries()).map(([k,R])=>R>1?`${k} (x${R})`:k)},c=()=>{const y=new Map;return e.forEach(x=>{const{category:E}=x,_=i(x.params),S=x.instancePath||"root",T=`${_??""}-${S}`;y.has(E)||y.set(E,new Map);const k=y.get(E);k.has(T)?k.get(T).issues.push(x):k.set(T,{action:_,path:S,issues:[x]})}),n.filter(x=>y.has(x)).map(x=>({category:x,entries:Array.from(y.get(x).values())}))},d=t==="error"?"Errors":"Warnings",f=t==="error"?"Your study could not be built because of errors in the study config.":"There are potential issues in your study config.",h=t==="error"?"red":"orange",p=t==="error"?"Error":"Warning",m=e.length,[g,v]=A.useState(t==="error");return b.jsxs(Ns,{withBorder:!0,p:"md",mt:"xs",children:[b.jsx(Ko,{onClick:()=>v(y=>!y),style:{width:"100%"},children:b.jsxs(ln,{justify:"space-between",children:[b.jsxs(ln,{gap:"xs",children:[b.jsx(Du,{size:16,color:h}),b.jsx($e,{size:"md",fw:"bold",c:h,children:d})]}),b.jsxs(ln,{gap:"xs",children:[!g&&b.jsxs(Ii,{size:"sm",color:h,variant:"light",children:[m," ",p,m===1?"":"s"]}),g?b.jsx(kwe,{size:16}):b.jsx(uM,{size:16})]})]})}),b.jsx($e,{size:"sm",c:"dimmed",children:f}),b.jsx(Uh,{in:g,children:b.jsx(Nn,{gap:"md",mt:"xs",children:c().map(({category:y,entries:x},E,_)=>{const S=x.reduce((T,k)=>T+k.issues.length,0);return b.jsxs(Nn,{gap:0,children:[b.jsxs(ln,{justify:"space-between",children:[b.jsx($e,{size:"sm",fw:"bold",children:r(y)}),b.jsxs(Ii,{size:"sm",variant:"light",color:h,children:[S," ",p,S===1?"":"s"]})]}),b.jsx(ji,{size:"xs",spacing:"xs",mt:"xs",listStyleType:"none",children:x.map((T,k)=>{const R=u(T.issues);return b.jsx(ji.Item,{children:b.jsxs(Nn,{gap:2,children:[T.action&&b.jsx($e,{size:"sm",c:"dimmed",children:T.action}),b.jsxs($e,{size:"sm",children:[b.jsxs(Ru,{component:"span",fw:"bold",bg:"none",children:[T.path,":"]}),R.map((I,P)=>b.jsxs($e,{component:"span",children:[P>0&&b.jsx("br",{}),b.jsx(kh,{text:I,inline:!0})]},`${T.path}-${k}-${P}-msg`))]})]})},`${T.path}-${T.action}-${k}`)})}),E<_.length-1&&b.jsx(Tb,{mt:"md"})]},y)})})})]})}const $1=14;function Dst({completed:e,inProgress:t,rejected:n}){return b.jsxs(lt,{ml:4,gap:4,children:[b.jsx(ct,{label:"Completed",children:b.jsx(Ii,{variant:"light",color:"green",leftSection:b.jsx(Th,{width:$1,height:$1,style:{paddingTop:1}}),pb:1,children:e})}),b.jsx(ct,{label:"In Progress",children:b.jsx(Ii,{variant:"light",color:"orange",leftSection:b.jsx(Mwe,{width:$1,height:$1,style:{paddingTop:1}}),pb:1,children:t})}),b.jsx(ct,{label:"Rejected",children:b.jsx(Ii,{variant:"light",color:"red",leftSection:b.jsx(dm,{width:$1,height:$1,style:{paddingTop:1}}),pb:1,children:n})})]})}async function _z(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")}function z_(e){const t=e;return typeof t=="object"&&t&&t.participantId!==void 0}function yc(e){return!!e&&e.isCloudEngine()}function Pst(e,t,n,r,i){const o=Object.values(e).filter(l=>l.endTime>-1).map(l=>l.componentName),s=i!==void 0;return{total:t.map(l=>n.components[l]?1:Object.entries(e).filter(([u,c])=>u.includes(`${l}_`)).length).reduce((l,u)=>l+u,0),answered:o,isDynamic:s}}const UCe=A.createContext({user:{user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},logout:async()=>{},triggerAuth:()=>{},verifyAdminStatus:()=>Promise.resolve(!1)}),X0=()=>A.useContext(UCe);function Ost({children:e}){const t={user:null,determiningStatus:!0,isAdmin:!1,adminVerification:!1},n={user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},r={user:{email:"fakeEmail@fake.com",uid:"fakeUid"},determiningStatus:!1,isAdmin:!0,adminVerification:!0},[i,o]=A.useState(t),[s,a]=A.useState(!1),{storageEngine:l}=ri(),u=async()=>{if(l&&yc(l))try{await l.logout()}catch(h){console.error(`There was an issue signing-out the user: ${h.message}`)}finally{o(n)}},c=A.useCallback(()=>{a(!0)},[]);A.useEffect(()=>{(async()=>{if(l?.getEngine()==="supabase")try{await l.getSession()}catch(p){console.error("Supabase session check failed",p)}})()},[l,c]);const d=async h=>l&&yc(l)?await l.validateUser(h,!0):!1;A.useEffect(()=>{o(t);const h=async g=>{if(o(v=>({user:v.user,isAdmin:v.isAdmin,determiningStatus:!0,adminVerification:!1})),g){const v={user:g,determiningStatus:!1,isAdmin:!1,adminVerification:!0},y=await d(v);v.isAdmin=!!y,o(v)}else u()},m=(async()=>(l&&yc(l)?(await l.getUserManagementData("authentication"))?.isEnabled?l.unsubscribe(h):o(r):l&&o(r),()=>{}))();return()=>{m.then(g=>g())}},[l,s]);const f=A.useMemo(()=>({user:i,triggerAuth:c,logout:u,verifyAdminStatus:d}),[i]);return b.jsx(UCe.Provider,{value:f,children:i.determiningStatus?b.jsx(eu,{visible:!0}):e})}function Fu(e){return e?Array.isArray(e)?e.map(t=>t.trim()).filter(Boolean):e.split(",").map(t=>t.trim()).filter(Boolean):[]}function Nst({urlCondition:e,participantConditions:t,participantSearchParamCondition:n,allowUrlOverride:r}){const i=Fu(e);return r&&i.length>0?i:Fu(t??n)}function Ase(e,t){const n=Fu(t);if(n.length===0)return e;const r=i=>{const o=!!(i.conditional&&i.id!=null),s=!o||n.includes(i.id);if(o&&!s)return null;const a=[];for(const l of i.components)if(typeof l=="string")a.push(l);else{const u=r(l);u&&a.push(u)}return{...i,components:a}};return r(e)??{...e,components:[]}}function Mst(e){const t=new Set,n=r=>{!r||typeof r!="object"||(r.conditional&&r.id&&t.add(r.id),"components"in r&&Array.isArray(r.components)&&r.components.forEach(i=>{i&&typeof i!="string"&&n(i)}))};return n(e),Array.from(t)}function $st({configName:e,config:t,url:n,modes:r}){const{storageEngine:i}=ri(),[o,s]=A.useState(null);A.useEffect(()=>{i&&i.getParticipantsStatusCounts(e).then(y=>{s(y)})},[e,i]);const{minTime:a,maxTime:l}=A.useMemo(()=>{if(!o)return{minTime:null,maxTime:null};if(!o.minTime||!o.maxTime)return{minTime:null,maxTime:null};const y=typeof o.minTime=="number"?new Date(o.minTime):o.minTime.toDate(),x=typeof o.maxTime=="number"?new Date(o.maxTime):o.maxTime.toDate();return{minTime:y.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"}),maxTime:x.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"})}},[o]),u=A.useMemo(()=>r?r.dataCollectionEnabled?o&&(o.inProgress>0||o.completed>0)?"Collecting Data":"Ready to Collect Data":"Data Collection Disabled":"Unknown",[r,o]),c=A.useMemo(()=>Mst(t.sequence),[t.sequence]),[d,f]=A.useState(["default"]),[h,p]=A.useState({});A.useEffect(()=>{async function y(){if(i)try{const x=await i.getConditionData(e);p(x.conditionCounts)}catch(x){p({}),console.error("Failed to load condition counts:",x)}}y()},[e,i]);const m=A.useMemo(()=>["default",...c].map(y=>({value:y,label:`${y} (${h[y]||0} participant${(h[y]||0)===1?"":"s"})`})),[c,h]),g=A.useMemo(()=>d.filter(y=>y!=="default"),[d]),v=A.useMemo(()=>g.length>0?`${Hi}${n}?condition=${g.join(",")}`:`${Hi}${n}`,[g,n]);return b.jsx(Zs,{shadow:"sm",radius:"md",my:"sm",withBorder:!0,children:t.errors.length>0?b.jsxs(b.Fragment,{children:[b.jsx($e,{size:"md",fw:"bold",children:e}),b.jsx(UD,{issues:t.errors,type:"error"}),t.warnings.length>0&&b.jsx(UD,{issues:t.warnings,type:"warning"})]}):b.jsxs(b.Fragment,{children:[b.jsx(lt,{direction:"row",justify:"space-between",children:b.jsx($e,{fw:"bold",children:t.studyMetadata.title})}),b.jsxs($e,{c:"dimmed",children:[b.jsx($e,{span:!0,fw:500,children:"Authors: "}),t.studyMetadata.authors.join(", ")]}),b.jsx($e,{c:"dimmed",children:t.studyMetadata.description}),b.jsx($e,{c:"dimmed",ta:"right",style:{paddingRight:5},children:b.jsxs(V0,{target:"_blank",onClick:y=>y.stopPropagation(),href:`https://github.com/revisit-studies/study/tree/main/public/${n}`,children:["View source:"," ",n,b.jsx(QYe,{style:{width:Ye(18),height:Ye(18),marginLeft:Ye(2),marginBottom:Ye(-3)}})]})}),t.warnings.length>0&&b.jsx(UD,{issues:t.warnings,type:"warning"}),b.jsx(Tb,{my:"md"}),b.jsxs(lt,{direction:"row",gap:"sm",children:[b.jsxs($e,{fw:"bold",size:"sm",opacity:.7,children:["Study Status:"," ",u]}),o&&b.jsx(Dst,{completed:o.completed,inProgress:o.inProgress,rejected:o.rejected}),b.jsxs(lt,{ml:"auto",gap:"sm",opacity:.7,children:[r?.developmentModeEnabled?b.jsx(ct,{label:"Development mode enabled",withinPortal:!0,children:b.jsx(Lwe,{size:16,color:"green"})}):b.jsx(ct,{label:"Development mode disabled",withinPortal:!0,children:b.jsx(iXe,{size:16,color:"red"})}),r?.dataSharingEnabled?b.jsx(ct,{label:"Data sharing enabled",withinPortal:!0,children:b.jsx(Pwe,{size:16,color:"green"})}):b.jsx(ct,{label:"Data sharing disabled",withinPortal:!0,children:b.jsx(Dwe,{size:16,color:"red"})}),i?.getEngine()==="localStorage"?b.jsx(ct,{label:"Local storage enabled",withinPortal:!0,position:"bottom",children:b.jsx($3,{size:16,color:"green"})}):i?.getEngine()==="firebase"?b.jsx(ct,{label:"Firebase enabled",withinPortal:!0,position:"bottom",children:b.jsx(Ewe,{size:16,color:"green"})}):i?.getEngine()==="supabase"?b.jsx(ct,{label:"Supabase enabled",withinPortal:!0,position:"bottom",children:b.jsx(_G,{size:16,color:"green"})}):b.jsx(ct,{label:"Unknown storage engine enabled",withinPortal:!0,position:"bottom",children:b.jsx($3,{size:16,color:"red"})})]})]}),a&&l&&b.jsxs($e,{c:"dimmed",mt:4,children:["Activity:"," ",a," ",""," ",l]}),c.length>0&&b.jsx(lt,{direction:"row",align:"center",gap:"xs",mt:"sm",wrap:"wrap",children:c.map(y=>{const x=new URL(`${Hi}${n}`,window.location.origin);x.searchParams.set("condition",y);const E=x.toString();return b.jsx(TW,{value:E,children:({copied:_,copy:S})=>b.jsx(ct,{label:_?"Copied!":"Copy URL",children:b.jsx(Ii,{size:"sm",variant:"light",rightSection:_?b.jsx(Th,{size:12}):b.jsx(cM,{size:12}),onClick:S,style:{cursor:"pointer"},children:y})})},y)})}),b.jsxs(lt,{direction:"row",align:"end",gap:"sm",mt:"md",wrap:"wrap",children:[c.length>0&&b.jsx(Gp,{value:d,data:m,w:260,onChange:y=>{if(y.length===0){f(["default"]);return}if(y.includes("default")&&y.length>1){f(y.filter(x=>x!=="default"));return}f(y)}}),b.jsx(Mt,{leftSection:b.jsx(Swe,{}),style:{marginLeft:"auto"},variant:"default",component:"a",href:`${Hi}analysis/stats/${n}`,children:"Analyze & Manage Study"}),b.jsx(Mt,{leftSection:b.jsx(Owe,{}),component:"a",href:v,children:"Go to Study"})]})]})},e)}function L1({configNames:e,studyConfigs:t,modesByConfig:n}){return e.map(r=>{const i=t[r];if(!i)return null;const o=zwe(r);return b.jsx($st,{configName:r,config:i,url:o,modes:n[r]??null},r)})}function Lst({globalConfig:e,studyConfigs:t}){const{storageEngine:n}=ri(),{configsList:r}=e,[i,o]=A.useState({}),[s,a]=A.useState({}),[l,u]=A.useState(!0);A.useEffect(()=>{let k=!1;async function R(){if(n===void 0){u(!0);return}u(!0);const I={},P={};await Promise.all(r.map(async N=>{if(n){const M=await n.getModes(N);yc(n)&&(I[N]=M.dataSharingEnabled),P[N]=M}else P[N]=null})),k||(o(I),a(P),u(!1))}return R(),()=>{k=!0}},[r,n]);const{user:c}=X0(),d=A.useMemo(()=>r.some(k=>!(k in t)),[r,t]),f=l||d,h=A.useMemo(()=>r.filter(k=>i[k]||c.isAdmin),[r,i,c]),p=A.useMemo(()=>h.filter(k=>k.startsWith("demo-")),[h]),m=A.useMemo(()=>h.filter(k=>k.startsWith("tutorial")),[h]),g=A.useMemo(()=>h.filter(k=>k.startsWith("example-")),[h]),v=A.useMemo(()=>h.filter(k=>k.startsWith("test-")),[h]),y=A.useMemo(()=>h.filter(k=>k.startsWith("library-")),[h]),x=A.useMemo(()=>h.filter(k=>!k.startsWith("demo-")&&!k.startsWith("tutorial")&&!k.startsWith("example-")&&!k.startsWith("test-")&&!k.startsWith("library-")),[h]),[E]=uu(),_=A.useMemo(()=>x.length>0?"Others":p.length>0?"Demos":g.length>0?"Examples":m.length>0?"Tutorials":v.length>0?"Tests":y.length>0?"Libraries":"Demos",[x,p,g,m,v,y]),S=A.useMemo(()=>E.get("tab")||_,[_,E]),T=fa();return b.jsx(Ri.Main,{children:b.jsxs(G0,{size:"sm",px:0,children:[b.jsx(Pm,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${Hi}revisitAssets/revisitLogoSquare.svg`,alt:"reVISit"}),f&&b.jsxs(b.Fragment,{children:[b.jsx(jn,{variant:"outline",value:null,mb:"md",children:b.jsxs(jn.List,{children:[b.jsx(jn.Tab,{value:"demos",disabled:!0,children:"Demo Studies"}),b.jsx(jn.Tab,{value:"examples",disabled:!0,children:"Example Studies"}),b.jsx(jn.Tab,{value:"tutorials",disabled:!0,children:"Tutorials"}),b.jsx(jn.Tab,{value:"tests",disabled:!0,children:"Tests"}),b.jsx(jn.Tab,{value:"libraries",disabled:!0,children:"Libraries"})]})}),b.jsx($e,{c:"dimmed",ta:"center",mt:"sm",mb:"md",children:"Loading studies..."}),b.jsxs(Zs,{shadow:"sm",radius:"md",my:"sm",withBorder:!0,p:"lg",children:[b.jsx(Ao,{height:28,width:"55%",mb:"md"}),b.jsx(Ao,{height:16,mb:"sm"}),b.jsx(Ao,{height:16,mb:"sm"}),b.jsx(Ao,{height:16,width:"90%",mb:"xl"}),b.jsxs(lt,{justify:"space-between",align:"center",children:[b.jsx(Ao,{height:36,width:190,radius:"md"}),b.jsx(Ao,{height:36,width:140,radius:"md"})]})]}),b.jsxs(Zs,{shadow:"sm",radius:"md",my:"sm",withBorder:!0,p:"lg",children:[b.jsx(Ao,{height:28,width:"45%",mb:"md"}),b.jsx(Ao,{height:16,mb:"sm"}),b.jsx(Ao,{height:16,mb:"sm"}),b.jsx(Ao,{height:16,width:"85%",mb:"xl"}),b.jsxs(lt,{justify:"space-between",align:"center",children:[b.jsx(Ao,{height:36,width:190,radius:"md"}),b.jsx(Ao,{height:36,width:140,radius:"md"})]})]}),b.jsxs(Zs,{shadow:"sm",radius:"md",my:"sm",withBorder:!0,p:"lg",children:[b.jsx(Ao,{height:28,width:"50%",mb:"md"}),b.jsx(Ao,{height:16,mb:"sm"}),b.jsx(Ao,{height:16,mb:"sm"}),b.jsx(Ao,{height:16,width:"88%",mb:"xl"}),b.jsxs(lt,{justify:"space-between",align:"center",children:[b.jsx(Ao,{height:36,width:190,radius:"md"}),b.jsx(Ao,{height:36,width:140,radius:"md"})]})]})]}),!f&&b.jsxs(b.Fragment,{children:[b.jsxs(jn,{variant:"outline",defaultValue:_,value:S,onChange:k=>T(`/?tab=${k}`),children:[b.jsxs(jn.List,{children:[x.length>0&&b.jsx(jn.Tab,{value:"Others",children:"Your Studies"}),p.length>0&&b.jsx(jn.Tab,{value:"Demos",children:"Demo Studies"}),g.length>0&&b.jsx(jn.Tab,{value:"Examples",children:"Example Studies"}),m.length>0&&b.jsx(jn.Tab,{value:"Tutorials",children:"Tutorials"}),v.length>0&&b.jsx(jn.Tab,{value:"Tests",children:"Tests"}),y.length>0&&b.jsx(jn.Tab,{value:"Libraries",children:"Libraries"})]}),x.length>0&&b.jsx(jn.Panel,{value:"Others",children:b.jsx(L1,{configNames:x,studyConfigs:t,modesByConfig:s})}),p.length>0&&b.jsxs(jn.Panel,{value:"Demos",children:[b.jsx($e,{c:"dimmed",mt:"sm",children:"These studies show off individual features of the reVISit platform."}),b.jsx(L1,{configNames:p,studyConfigs:t,modesByConfig:s})]}),g.length>0&&b.jsxs(jn.Panel,{value:"Examples",children:[b.jsx($e,{c:"dimmed",mt:"sm",children:"These are full studies that demonstrate the capabilities of the reVISit platform."}),b.jsx(L1,{configNames:g,studyConfigs:t,modesByConfig:s})]}),m.length>0&&b.jsxs(jn.Panel,{value:"Tutorials",children:[b.jsx($e,{c:"dimmed",mt:"sm",children:"These studies are designed to help you learn how to use the reVISit platform."}),b.jsx(L1,{configNames:m,studyConfigs:t,modesByConfig:s})]}),v.length>0&&b.jsxs(jn.Panel,{value:"Tests",children:[b.jsx($e,{c:"dimmed",mt:"sm",children:"These studies exist for testing purposes."}),b.jsx(L1,{configNames:v,studyConfigs:t,modesByConfig:s})]}),y.length>0&&b.jsxs(jn.Panel,{value:"Libraries",children:[b.jsx($e,{c:"dimmed",mt:"sm",children:"Here you can see an example of every library that we publish."}),b.jsx(L1,{configNames:y,studyConfigs:t,modesByConfig:s})]})]}),h.length===0&&b.jsxs($e,{c:"dimmed",ta:"center",mt:"xl",children:["No studies found. Studies can be added in your"," ",b.jsx($e,{span:!0,ff:"monospace",children:"global.json"}),"."]})]})]})})}var b8={exports:{}},w8={};var Rse;function Fst(){if(Rse)return w8;Rse=1;var e=g4();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,s=e.useMemo,a=e.useDebugValue;return w8.useSyncExternalStoreWithSelector=function(l,u,c,d,f){var h=i(null);if(h.current===null){var p={hasValue:!1,value:null};h.current=p}else p=h.current;h=s(function(){function g(_){if(!v){if(v=!0,y=_,_=d(_),f!==void 0&&p.hasValue){var S=p.value;if(f(S,_))return x=S}return x=_}if(S=x,n(y,_))return S;var T=d(_);return f!==void 0&&f(S,T)?(y=_,S):(y=_,x=T)}var v=!1,y,x,E=c===void 0?null:c;return[function(){return g(u())},E===null?void 0:function(){return g(E())}]},[u,c,d,f]);var m=r(l,h[0],h[1]);return o(function(){p.hasValue=!0,p.value=m},[m]),a(m),m},w8}var Ise;function jst(){return Ise||(Ise=1,b8.exports=Fst()),b8.exports}var Bst=jst();function zst(e){e()}function Ust(){let e=null,t=null;return{clear(){e=null,t=null},notify(){zst(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Dse={notify(){},get:()=>[]};function Hst(e,t){let n,r=Dse,i=0,o=!1;function s(m){c();const g=r.subscribe(m);let v=!1;return()=>{v||(v=!0,g(),d())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return o}function c(){i++,n||(n=e.subscribe(l),r=Ust())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Dse)}function f(){o||(o=!0,c())}function h(){o&&(o=!1,d())}const p={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return p}var qst=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vst=qst(),Wst=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Gst=Wst(),Yst=()=>Vst||Gst?A.useLayoutEffect:A.useEffect,Kst=Yst(),Xst=Symbol.for("react-redux-context"),Qst=typeof globalThis<"u"?globalThis:{};function Jst(){if(!A.createContext)return{};const e=Qst[Xst]??=new Map;let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var y0=Jst();function Zst(e){const{children:t,context:n,serverState:r,store:i}=e,o=A.useMemo(()=>{const l=Hst(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=A.useMemo(()=>i.getState(),[i]);Kst(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||y0;return A.createElement(a.Provider,{value:o},t)}var eat=Zst;function KG(e=y0){return function(){return A.useContext(e)}}var HCe=KG();function qCe(e=y0){const t=e===y0?HCe:KG(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var tat=qCe();function nat(e=y0){const t=e===y0?tat:qCe(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var VCe=nat(),rat=(e,t)=>e===t;function iat(e=y0){const t=e===y0?HCe:KG(e),n=(r,i={})=>{const{equalityFn:o=rat}=typeof i=="function"?{equalityFn:i}:i,s=t(),{store:a,subscription:l,getServerState:u}=s;A.useRef(!0);const c=A.useCallback({[r.name](f){return r(f)}}[r.name],[r]),d=Bst.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,u||a.getState,c,o);return A.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var oat=iat();const sat="/study/assets/VLAT1-vnvZ7yRm.png",aat=Object.freeze(Object.defineProperty({__proto__:null,default:sat},Symbol.toStringTag,{value:"Module"})),lat="/study/assets/VLAT10-BMGl61Mu.png",uat=Object.freeze(Object.defineProperty({__proto__:null,default:lat},Symbol.toStringTag,{value:"Module"})),cat="/study/assets/VLAT11-Bxb0LCYD.png",dat=Object.freeze(Object.defineProperty({__proto__:null,default:cat},Symbol.toStringTag,{value:"Module"})),fat="/study/assets/VLAT12-Ch9t16aS.png",hat=Object.freeze(Object.defineProperty({__proto__:null,default:fat},Symbol.toStringTag,{value:"Module"})),pat="/study/assets/VLAT2-Ck6767Xc.png",mat=Object.freeze(Object.defineProperty({__proto__:null,default:pat},Symbol.toStringTag,{value:"Module"})),gat="/study/assets/VLAT3-Cwe4YjoY.png",yat=Object.freeze(Object.defineProperty({__proto__:null,default:gat},Symbol.toStringTag,{value:"Module"})),vat="/study/assets/VLAT4-CZ1oExNp.png",bat=Object.freeze(Object.defineProperty({__proto__:null,default:vat},Symbol.toStringTag,{value:"Module"})),wat="/study/assets/VLAT5-C6h4Z1Dz.png",xat=Object.freeze(Object.defineProperty({__proto__:null,default:wat},Symbol.toStringTag,{value:"Module"})),Cat="/study/assets/VLAT6-BSRlVaih.png",_at=Object.freeze(Object.defineProperty({__proto__:null,default:Cat},Symbol.toStringTag,{value:"Module"})),Eat="/study/assets/VLAT7-BF4fuAsD.png",Sat=Object.freeze(Object.defineProperty({__proto__:null,default:Eat},Symbol.toStringTag,{value:"Module"})),Tat="/study/assets/VLAT8-Cf_OYzE7.png",kat=Object.freeze(Object.defineProperty({__proto__:null,default:Tat},Symbol.toStringTag,{value:"Module"})),Aat="/study/assets/VLAT9-CkTk-Ex0.png",Rat=Object.freeze(Object.defineProperty({__proto__:null,default:Aat},Symbol.toStringTag,{value:"Module"})),XG=[{question:"What was the price of a barrel of oil in February 2015?",img:"VLAT1",name:"0",options:["$57.36","$47.82","$50.24","$39.72","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"line",originID:1,task:"Retrieve Value",CVR:1,P:.95,D:.07},{question:"In which month was the price of a barrel of oil the lowest in 2015?",img:"VLAT1",name:"1",options:["March","May","July","December","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"line",originID:2,task:"Find Extremum",CVR:1,P:.97,D:.06},{question:"What was the price range of a barrel of oil in 2015?",img:"VLAT1",name:"2",options:["$35 - $65","$48.36 - $60.95","$37.04 - $48.36","$37.04 - $60.95","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"line",originID:3,task:"Determine Range",CVR:1,P:.56,D:.66},{question:"Over the course of the second half of 2015, the price of a barrel of oil was",img:"VLAT1",name:"3",options:["Rising","Falling","Staying","Skip"],trueAnswer:1,answer:"",required:!0,chartType:"line",originID:4,task:"Find Correlations/Trends",CVR:1,P:.98,D:.03},{question:"About how much did the price of a barrel of oil fall from April to September in 2015?",img:"VLAT1",name:"4",options:["$4","$15","$17","$45","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"line",originID:5,task:"Make Comparisons",CVR:.2,P:.77,D:.44},{question:"What is the average internet speed in Japan?",img:"VLAT2",name:"5",options:["10 Mbps","14 Mbps","15 Mbps","16 Mbps","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bar",originID:6,task:"Retrieve Value",CVR:1,P:.88,D:.21},{question:"In which country is the average internet speed the fastest in Asia?",img:"VLAT2",name:"6",options:["China","Hong Kong","South Korea","Vietnam","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bar",originID:7,task:"Find Extremum",CVR:1,P:.98,D:.05},{question:"What is the range of the average internet speed in Asia?",img:"VLAT2",name:"7",options:["0 - 22 Mbps"," 2 - 20.5 Mbps","3 - 20 Mbps","3.4 - 7.8 Mbps","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bar",originID:8,task:"Determine Range",CVR:.6,P:.54,D:.61},{question:"How many countries in Asia have an average internet speed that is slower than that of Thailand?",img:"VLAT2",name:"8",options:["5 Countries"," 6 Countries","7 Countries","8 Countries","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bar",originID:9,task:"Make Comparisons",CVR:.2,P:.4,D:.23},{question:"What is the cost of peanuts in Las Vegas?",img:"VLAT3",name:"9",options:["$12"," $16.7","$23.4","$35.4","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackbar",originID:10,task:"Retrieve Value (Absolute Value)",CVR:.2,P:.38,D:.66},{question:"About what is the ratio of the cost of a sandwich to the total cost of room service in Seattle?",img:"VLAT3",name:"10",options:["1 to 10","2 to 10","4 to 10","6 to 10","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"stackbar",originID:11,task:"Retrieve Value (Relative Value)",CVR:.2,P:.36,D:.48},{question:"In which city is the cost of soda the highest?",img:"VLAT3",name:"11",options:["New York City","Las Vegas","Atlanta","Washington D.C.","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"stackbar",originID:12,task:"Find Extremum",CVR:.2,P:.69,D:.45},{question:"The cost of vodka in Atlanta is higher than that of Honolulu.",img:"VLAT3",name:"13",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackbar",originID:14,task:"Make Comparisons (Absolute Value)",CVR:.2,P:.59,D:.52},{question:"The ratio of the cost of Soda to the cost of Water in Orlando is higher than in that of Washington D.C.",img:"VLAT3",name:"14",options:["True","False","Skip"],trueAnswer:1,answer:"",required:!0,chartType:"stackbar",originID:15,task:"Make Comparisons (Relative Value)",CVR:.2,P:.47,D:.32},{question:"What is the approval rating of Republicans among the people who have the education level of Postgraduate Study?",img:"VLAT4",name:"15",options:["38%","47%","53%","62%","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"100% stackbar",originID:16,task:"Retrieve Value (Relative Value)",CVR:1,P:.49,D:.57},{question:"What is the education level of people in which the Democrats have the lowest approval rating?",img:"VLAT4",name:"16",options:["High School Graduate or Less","Some College Degree","College Graduate","Postgraduate study","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"100% stackbar",originID:17,task:"Find Extremum (Relative Value)",CVR:.6,P:.9,D:.21},{question:"The approval rating of Republicans for the people who have the education level of Some College Degree is lower than that for the people who have the education level of Postgraduate Study.",img:"VLAT4",name:"17",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"100% stackbar",originID:18,task:"Make Comparisons (Relative Value)",CVR:1,P:.54,D:.54},{question:"About what is the global smartphone market share of Samsung?",img:"VLAT5",name:"18",options:["15%","25%","33%","50%","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"pie",originID:19,task:"Retrieve Value (Relative Value)",CVR:.6,P:.72,D:.34},{question:"In which company is the global smartphone market share the smallest?",img:"VLAT5",name:"19",options:["Apple","Xiaomi","Lenovo","Others","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"pie",originID:20,task:"Find Extremum (Relative Value)",CVR:.6,P:.98,D:.03},{question:"The global smartphone market share of Apple is larger than that of Huawei.",img:"VLAT5",name:"20",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"pie",originID:21,task:"Make Comparisons (Relative Value)",CVR:.6,P:1,D:0},{question:"How many people have rated the taxi between 4.0 and 4.2?",img:"VLAT6",name:"21",options:["145","153","200","240","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"histogram",originID:22,task:"Retrieve Value (Derived Value)",CVR:1,P:.84,D:.26},{question:"What is the rating that the people have rated the taxi the most?",img:"VLAT6",name:"22",options:["4.2-4.4","4.4-4.6","4.6-4.8","4.8-5.0","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"histogram",originID:23,task:"Find Extremum (Derived Value)",CVR:1,P:.94,D:.06},{question:"More people have rated the taxi between 4.6 and 4.8 than between 4.2 and 4.4.",img:"VLAT6",name:"24",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"histogram",originID:25,task:"Make Comparisons (Derived Value)",CVR:1,P:.86,D:.18},{question:"What is the weight for the person who is 165.1 cm tall?",img:"VLAT7",name:"26",options:["53.9kg","67.7kg","70.5kg","82.7kg","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"scatterplot",originID:27,task:"Retrieve Value",CVR:1,P:.85,D:.27},{question:"What is the height for the tallest person among the 85 males?",img:"VLAT7",name:"27",options:["175.3cm","192cm","197.1cm","200cm","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"scatterplot",originID:28,task:"Find Extremum",CVR:1,P:.76,D:.39},{question:"What is the range in weight for the 85 males?",img:"VLAT7",name:"28",options:["40 - 130kg","62.3 - 90.9kg","53.9 - 102.3kg","53.9 - 123.6kg","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"scatterplot",originID:29,task:"Determine Range",CVR:.6,P:.53,D:.49},{question:"What is the height for a person who lies outside the others the most?",img:"VLAT7",name:"30",options:["167.4cm","175.3cm","193cm","197.1cm","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"scatterplot",originID:31,task:"Find Anomalies",CVR:.6,P:.42,D:.29},{question:"A group of males are gathered around the height of 176 cm and the weight of 70 kg.",img:"VLAT7",name:"31",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"scatterplot",originID:32,task:"Find Clusters",CVR:.2,P:.9,D:.23},{question:"There is a negative linear relationship between the height and the weight of the 85 males.",img:"VLAT7",name:"32",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"scatterplot",originID:33,task:"Find Correlations/Trends",CVR:1,P:.52,D:.66},{question:"The weights for males with the height of 188 cm are all the same.",img:"VLAT7",name:"33",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"scatterplot",originID:34,task:"Make Comparisons",CVR:.6,P:.79,D:.2},{question:"What was the average price of a pound of coffee beans in September 2013?",img:"VLAT8",name:"34",options:["$4.9","$5.0","$5.1","$5.2","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"area",originID:35,task:"Retrieve Value",CVR:1,P:.75,D:.34},{question:"When was the average price of a pound of coffee beans at minimum?",img:"VLAT8",name:"35",options:["April 2013","September 2013","June 2014","December 2014","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"area",originID:36,task:"Find Extremum",CVR:1,P:.44,D:.33},{question:"What was the range of the average price of a pound of coffee beans between January 2013 and December 2014?",img:"VLAT8",name:"36",options:["$4.4 - $6.2","$4.6 - $5.9","$4.6 - $6.0","$4.6 - $6.1","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"area",originID:37,task:"Determine Range",CVR:.6,P:.38,D:.31},{question:"Over the course of 2013, the average price of a pound of coffee beans was",img:"VLAT8",name:"37",options:["Rising","Falling","Staying","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"area",originID:38,task:"Find Correlations/Trends",CVR:1,P:.94,D:.14},{question:"What was the number of girls named 'Amelia' in 2010 in the UK?",img:"VLAT9",name:"39",options:["1500","3800","4200","8000","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"stackarea",originID:40,task:"Retrieve Value (Absolute Value)",CVR:.2,P:.15,D:.29},{question:"About what was the ratio of the number of girls named 'Olivia' to those named 'Isla' in 2014 in the UK?",img:"VLAT9",name:"40",options:["1 to 1","1 to 2","1 to 3","1 to 4","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackarea",originID:41,task:"Retrieve Value (Relative Value)",CVR:.6,P:.25,D:.29},{question:"Over the course of years between 2009 and 2014, when was the number of girls named 'Amelia' at the maximum?",img:"VLAT9",name:"41",options:["2009","2011","2012","2014","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"stackarea",originID:42,task:"Find Extremum",CVR:.6,P:.97,D:.04},{question:"The number of girls named 'Isla' was __________ from 2009 to 2012.",img:"VLAT9",name:"43",options:["Rising","Falling","Staying","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackarea",originID:44,task:"Find Correlations/Trends",CVR:1,P:.96,D:.09},{question:"In the UK, the number of girls named 'Amelia' in 2014 was more than it was in 2013.",img:"VLAT9",name:"44",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"stackarea",originID:45,task:"Make Comparisons (Absolute Value)",CVR:.6,P:.2,D:.17},{question:"Over the course of years between 2009 and 2014, the number of girls named 'Isla' was always more than 'Olivia'.",img:"VLAT9",name:"45",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"stackarea",originID:46,task:"Make Comparisons (Relative Value)",CVR:.2,P:.24,D:.2},{question:"What is the total length of the metro system in Beijing?",img:"VLAT10",name:"47",options:["330km","400km","530km","560km","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bubble",originID:47,task:"Retrieve Value",CVR:1,P:.41,D:.46},{question:"Which city's metro system has the largest number of stations?",img:"VLAT10",name:"48",options:["Seoul","Beijing","New York City","Shanghai","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bubble",originID:48,task:"Find Extremum",CVR:1,P:.69,D:.41},{question:"What is the range of the total length of the metro systems?",img:"VLAT10",name:"49",options:["150 - 600 km","240 - 380 km","240 - 560 km","180 - 560 km","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"bubble",originID:49,task:"Determine Range",CVR:.6,P:.29,D:.46},{question:"Which city's metro system does lie outside the relationship between the total system length and the number of stations most?",img:"VLAT10",name:"51",options:["Tokyo","New York City","Beijing","London","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:51,task:"Find Anomalies",CVR:.2,P:.53,D:.32},{question:"A group of the metro systems of the world has approximately 300 stations and around a 200 km system length.",img:"VLAT10",name:"52",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:52,task:"Find Clusters",CVR:.2,P:.59,D:.5},{question:"In general, the ridership of the metro system increases as the number of stations increases.",img:"VLAT10",name:"53",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:53,task:"Find Correlations/Trends",CVR:.2,P:.26,D:.09},{question:"The metro system in Shanghai has more ridership than the metro system in Beijing.",img:"VLAT10",name:"54",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:54,task:"Make Comparisons",CVR:1,P:.8,D:.33},{question:"What was the unemployment rate for Indiana (IN) in 2015?",img:"VLAT11",name:"55",options:["1.1 - 2.3%","2.3 - 3.4%","3.4 - 4.6%","4.6 - 5.7%","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"map",originID:55,task:"Retrieve Value (Approximate Value)",CVR:.6,P:.24,D:.01},{question:"In which state was the unemployment rate the highest in 2015?",img:"VLAT11",name:"56",options:["Alaska (AK)","New Mexico (NM)","Florida (FL)","New York (NY)","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"map",originID:56,task:"Find Extremum (Approximate Value)",CVR:.6,P:.97,D:.06},{question:"In 2015, the unemployment rate for Washington (WA) was higher than that of Wisconsin (WI).",img:"VLAT11",name:"57",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"map",originID:57,task:"Make Comparisons (Approximate Value)",CVR:.6,P:.92,D:.15},{question:"For which website was the number of unique visitors the largest in 2010?",img:"VLAT12",name:"58",options:["Facebook","Amazon","Bing","Google","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"treemap",originID:59,task:"Find Extremum (Relative Value)",CVR:.6,P:.68,D:.37},{question:"The number of unique visitors for Amazon was more than that of Yahoo in 2010.",img:"VLAT12",name:"59",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"treemap",originID:60,task:"Make Comparisons (Relative Value)",CVR:.2,P:.42,D:.38},{question:"Samsung is nested in the Financial category.",img:"VLAT12",name:"60",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"treemap",originID:61,task:"Identify the Hierarchical Structure",CVR:1,P:.92,D:.13}],WCe=Object.freeze(Object.defineProperty({__proto__:null,VLATQuestions:XG},Symbol.toStringTag,{value:"Module"}));function Iat({parameters:e,setAnswer:t,answers:n}){const r="vlatResp",i=`dynamicBlock_1_VlatTrial_${e.qidx}`,o=n[i]?.answer?.[r],[s,a]=A.useState(o||""),[l,u]=A.useState(!1);A.useEffect(()=>{const h=Object.keys(n[i]?.incorrectAnswers||{}).length>0;u(h)},[n,i]),A.useEffect(()=>{t({status:!0,answers:{[r]:s,score:e.score}})},[s,e.score,t]);const c=XG.filter(h=>h.originID===e.activeQuestionIdx)[0],d=Object.assign({"./vlatImg/VLAT1.png":aat,"./vlatImg/VLAT10.png":uat,"./vlatImg/VLAT11.png":dat,"./vlatImg/VLAT12.png":hat,"./vlatImg/VLAT2.png":mat,"./vlatImg/VLAT3.png":yat,"./vlatImg/VLAT4.png":bat,"./vlatImg/VLAT5.png":xat,"./vlatImg/VLAT6.png":_at,"./vlatImg/VLAT7.png":Sat,"./vlatImg/VLAT8.png":kat,"./vlatImg/VLAT9.png":Rat}),f={};if(!c)return b.jsx(De,{children:"Loading question..."});for(const h in d)if(h){const p=h.split("/").pop()?.replace(".png","")||"",m=d[h];f[p]=m.default}return b.jsx(De,{children:b.jsxs(so,{children:[b.jsx(so.Col,{span:8,children:b.jsx(Pm,{radius:"sm",src:f[c.img]||"",alt:"VIS",w:"100%",maw:900})}),b.jsx(so.Col,{span:4,pt:20,children:b.jsx($a.Group,{name:"question",label:c.question,value:`${s}`,size:"md",children:b.jsx(Nn,{mt:30,children:c.options.map((h,p)=>b.jsx($a,{disabled:o!==void 0&&o!==""||l,value:`${String.fromCharCode(65+p)}`,label:`${String.fromCharCode(65+p)}. ${h}`,onClick:()=>a(String.fromCharCode(65+p))},`op${p}`))})})})]})})}const GCe=Object.freeze(Object.defineProperty({__proto__:null,default:Iat},Symbol.toStringTag,{value:"Module"}));function Dat(e,t,n){const r=Math.sqrt(2*Math.PI);return e.map(i=>{const o=-((i-t)**2)/(2*n**2);return 1/(r*n)*Math.exp(o)})}function QG(e,t,n){return 1/(1+Math.exp(-e*(n+t)))}function Pat(e,t,n){return 1-QG(e,t,n)}function Oat(e,t,n){const r=QG(e,t,n);return e**2*r*(1-r)}function Nat(e){const t={},n=new Set;for(const[r,i,o,s,a]of e)t[r]=[i,o,s,a],n.add(s),n.add(a);return[t,n]}function Mat(e,t,n){const r=(t-e)/(n-1);return Array.from({length:n},(i,o)=>e+o*r)}function $at(e){const t=[[1,2.8483115,1.27221185,"Line","RV"],[2,3.040871,1.499349129,"Line","FE"],[3,.25584395,1.374537045,"Line","DR"],[4,3.4258115,1.468088919,"Line","FCT"],[5,1.3189766,1.137137131,"Line","MC"],[6,2.2163635,1.087065104,"Bar","RV"],[7,3.3441315,1.370983684,"Bar","FE"],[8,.1907385,1.072558537,"Bar","DR"],[9,-.766119,.565435838,"Bar","MC"],[10,-.483896,1.308078217,"Stacked","RV"],[11,-.878004,.748876272,"Stacked","RV"],[12,1.011948,.892274374,"Stacked","FE"],[14,.498654,.864483077,"Stacked","MC"],[15,-.2163795,.63115109,"Stacked","MC"],[16,-.021748,1.061661146,"100%","RV"],[17,2.1735685,1.260906618,"100%","FE"],[18,.1964695,1.006552927,"100%","MC"],[19,1.1781005,.952170323,"Pie","RV"],[20,3.4990835,1.266495326,"Pie","FE"],[21,4.577599,1.955349598,"Pie","MC"],[22,1.8068275,1.103396903,"Histogram","RV"],[23,2.825006,1.162700946,"Histogram","FE"],[25,2.1723395,.945254699,"Histogram","MC"],[27,1.85473395,1.128140859,"Scatterplot","RV"],[28,1.226966,1.183203925,"Scatterplot","FE"],[29,.184373,.910403565,"Scatterplot","DR"],[31,-.568358,.598194995,"Scatterplot","FA"],[32,2.1477415,1.293432284,"Scatterplot","FC"],[33,.093807,1.159459154,"Scatterplot","FCT"],[34,1.818106,.805688047,"Scatterplot","MC"],[35,1.3666385,.964108248,"Area","RV"],[36,-.4578085,.596634966,"Area","FE"],[37,-.945452,.576156905,"Area","DR"],[38,2.5183945,1.352297435,"Area","FCT"],[40,-2.567331,.727247878,"Stacked Area","RV"],[41,-1.6333105,.721289353,"Stacked Area","RV"],[42,3.0243125,1.39970206,"Stacked Area","FE"],[44,2.808996,1.391714903,"Stacked Area","FCT"],[45,-2.898462,.485882721,"Stacked Area","MC"],[46,-2.1752885,.564928587,"Stacked Area","MC"],[47,-.5241995,.741666943,"Bubble","RV"],[48,1.0380654,.89755236,"Bubble","FE"],[49,-1.1506875,.851390316,"Bubble","DR"],[51,.210506,.576817469,"Bubble","FA"],[52,.455853,.993160348,"Bubble","FC"],[53,-2.5113305,.431845454,"Bubble","FCT"],[54,1.4998025,1.154025598,"Bubble","MC"],[55,-3.2260095,.367490725,"Map","RV"],[56,3.1477645,1.401881342,"Map","FE"],[57,2.6187185,1.101469613,"Map","MC"],[59,.9082805,.949041643,"Tree","FE"],[60,-.5345505,.671887408,"Tree","MC"],[61,2.5394745,1.109762274,"Tree","ID"]],[n,r]=Nat(t),i=new Set,o=[[2.98530963],[2.26547287],[.47080041],[.96055864],[.97129651],[.85147839],[.49167494],[.32598163],[.23617328],[.75140709],[.4379747],[.89021346],[1.95678745],[.46671114],[.43121635],[.48382087],[.7061291],[.25740084],[.57526741],[.41269657],[.44926689],[.34097188],[.6853534],[2.06499294],[.35356854],[.5014103],[.60471721],[.35648783],[.55006742],[.7328309],[.58740872],[.07316467],[.37773089],[.25774662],[1.67778516],[.37425087],[.00468991],[.09117124],[-.072024],[.27787841],[.50850991],[.26712845],[.23313045],[.17836876],[-.06713018],[2.52157004],[.2163555],[.19764337],[.16053735],[.01037715],[.49067257],[.37890493],[.14471502],[-.15786205],[.37664253],[-.12646154],[1.48456846],[.11995221],[.45500459],[.06510908],[.30381369],[.23628236],[-.0132403],[.12346196],[-.16156058],[-.11441727],[-.09874702],[2.06170801],[.03819284],[-.33842136],[-.299268],[-.18361791],[-.27032307],[-.36719226],[-.63351759],[-.13235381],[-.32526859],[-.75094893],[2.00068807],[-.21555599],[-.29719866],[-.73570516],[-.96429984],[-.62994905],[-.5959251],[-.75414598],[-.91139529],[-.23647941],[-1.15477916],[2.13079529],[-1.19334718],[-1.17815316],[-.3703066],[-.86774687],[-.62753559],[-1.24836742],[-.73756034],[-.57090316],[-1.36838053],[-1.10974556],[1.79120327],[-.99938515],[-1.8725358],[2.81432538],[1.95511785],[1.82598207],[1.91495919],[1.64615882],[1.73761896],[1.74653664],[1.51736399],[1.48752685],[1.97221306],[1.19522668],[2.34740724],[1.54242075],[1.95637583],[1.65824094],[1.68725777],[1.97725808],[1.58887618],[1.51179316],[1.44743075],[1.63524539],[1.34980521],[2.94575102],[1.50590524],[1.58325844],[1.33751502],[.97699839],[1.17390674],[1.45071628],[.89705259],[1.26159178],[1.28050271],[1.2415599],[2.4859962],[1.52956813],[.9266179],[1.55897714],[1.66185973],[1.39525797],[1.02554983],[1.56911437],[1.08589595],[1.2344817],[1.0596063],[2.3289334],[.9177088],[.91794547],[1.03755144],[1.35990785],[1.13449186],[.97657427],[.61813711],[.94747231],[.83248912],[1.15351712],[2.19894252],[1.29781779],[1.0320319],[.95034002],[1.17618522],[.97588753],[.87400339],[1.08163796],[.94947705],[1.11457895],[.63173389],[2.29482725],[.90212167],[.87044902],[.22467558],[.79733281],[.31442579],[.38325478],[.70994584],[1.06667696],[.89253087],[.34143484],[2.14695731],[.84056897],[.88750332],[1.08639498],[.88874537],[.7858341],[.7279417],[.12745017],[.29013591],[.4602226],[.74735825]],s=o.reduce((g,v)=>g+v[0],0)/o.length,a=o.reduce((g,v)=>g+(v[0]-s)**2,0)/o.length,l=Math.sqrt(a),u=Mat(-5,5,200);let c=Dat(u,s,l),d=s;if(Object.keys(e).length>0){for(const[g,v]of Object.entries(e)){const y=parseInt(g,10),[x,E,_,S]=n[y];r.delete(_),r.delete(S),i.add(`${_}::${S}`);const T=u.map(P=>v===0?Pat(E,x,P):QG(E,x,P)),k=c.map((P,N)=>P*T[N]),R=k.reduce((P,N)=>P+N,0);c=k.map(P=>P/R)}d=u.reduce((g,v,y)=>g+v*c[y],0)}const f={},h=27-Object.keys(e).length,p=(g,v)=>i.has(`${g}::${v}`);for(const[g,v]of Object.entries(n)){const y=parseInt(g,10),[x,E,_,S]=v,T=r.has(_)||r.has(S);Object.hasOwn(e,y)||(r.size===0||h>r.size&&!p(_,S)||h<=r.size&&T)&&(f[y]=Oat(E,x,d))}const m=Object.entries(f).reduce((g,v)=>v[1]>g[1]?v:g)[0];return[parseInt(m,10),d]}function YCe(e,t){const n={};for(let o=0;o<e.length;o+=1)n[parseInt(e[o],10)]=t[o];const[r,i]=$at(n);return[r,i]}const KCe=Object.freeze(Object.defineProperty({__proto__:null,getVLATnextqid:YCe},Symbol.toStringTag,{value:"Module"}));function Lat({answers:e,currentStep:t,currentBlock:n}){const r="vlatResp",i=Object.entries(e).filter(([c,d])=>c.startsWith(`${n}_${t}`)&&d.endTime>-1),o=[],s=[];i.forEach(c=>{const d=c[1].parameters.activeQuestionIdx,f=c[1].answer[r]===c[1].correctAnswer[0].answer;o.push(d),s.push(f?1:0)});const[a,l]=YCe(o,s),u=+XG.filter(c=>c.originID===a)[0].trueAnswer;return i.length===27?{component:null}:{component:"$adaptive-vlat.components.VlatTrial",parameters:{activeQuestionIdx:a,qidx:o.length,score:l},correctAnswer:[{id:r,answer:String.fromCharCode(65+u)}]}}const XCe=Object.freeze(Object.defineProperty({__proto__:null,default:Lat},Symbol.toStringTag,{value:"Module"}));function Fat({answers:e,currentStep:t,currentBlock:n}){const r=Object.entries(e).filter(([i,o])=>i.startsWith(`${n}_${t}`)&&o.endTime>-1);return r.length===0?{component:"$berlin-num.components.q1-choir-probability"}:r.length===1?{component:r[0][1]?.answer?.["q1-choir-probability"]===25?"$berlin-num.components.q2b-loaded-dice":"$berlin-num.components.q2a-dice-odd-numbers"}:r.length===2&&r[0][1]?.answer?.["q1-choir-probability"]===25?{component:r[1][1]?.answer?.["q2b-loaded-dice"]===20?null:"$berlin-num.components.q3-poisonous-mushrooms"}:{component:null}}const QCe=Object.freeze(Object.defineProperty({__proto__:null,default:Fat},Symbol.toStringTag,{value:"Module"}));function JG({width:e=60,height:t=36,fps:n=30,fftSize:r=256,barColor:i="#FA5252",barWidth:o=2}){const s=A.useRef(null),a=A.useRef(null),l=A.useRef(null),u=A.useRef(null),c=A.useRef(0),d=A.useRef(null),[f,h]=A.useState(null);return A.useEffect(()=>{let p=0;const m=1e3/n,g=y=>{if(c.current=requestAnimationFrame(g),y-p<m)return;p=y;const x=s.current,E=l.current;if(!x||!E)return;const _=x.getContext("2d");if(!_)return;const S=E.fftSize,T=new Uint8Array(S);E.getByteTimeDomainData(T);const k=Math.max(...T)/128-1,R=_.getImageData(o/2,0,x.width-o/2,x.height);_.putImageData(R,0,0),_.clearRect(x.width-o,0,o,x.height);const I=(1-k)*(x.height/2);_.beginPath(),_.moveTo(x.width-o-10,x.height/2),_.lineTo(x.width-o,x.height/2),_.moveTo(x.width-o,x.height-I),_.lineTo(x.width-o,I),_.strokeStyle=i,_.lineWidth=o,_.stroke()};return(async()=>{const y=s.current;if(!y||!y.getContext("2d"))return;const E=window.devicePixelRatio||1;y.width=e*E,y.height=t*E,y.style.width=`${e}px`,y.style.height=`${t}px`;try{const _=await navigator.mediaDevices.getUserMedia({audio:!0});d.current=_;const S=new window.AudioContext;a.current=S;const T=S.createMediaStreamSource(_);u.current=T;const k=S.createAnalyser();l.current=k,k.fftSize=r,T.connect(k),c.current=requestAnimationFrame(g)}catch(_){console.error("Error accessing microphone:",_),_ instanceof Error?h(`Error accessing microphone: ${_.message}. Please grant permission.`):h("An unknown error occurred while accessing the microphone.")}})(),()=>{cancelAnimationFrame(c.current),l.current&&l.current.disconnect(),u.current&&u.current.disconnect(),d.current&&d.current.getTracks().forEach(y=>y.stop()),a.current&&a.current.state!=="closed"&&a.current.close()}},[e,t,n,r,i,o]),b.jsxs(lt,{children:[f&&b.jsx("p",{style:{color:"red",maxWidth:`${e}px`},children:f}),b.jsx("canvas",{ref:s})]})}function Pse({setAnswer:e}){return A.useEffect(()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(n=>{new MediaRecorder(n).start();const i=new AudioContext,o=i.createMediaStreamSource(n),s=i.createAnalyser();s.minDecibels=-45,o.connect(s);const a=s.frequencyBinCount,l=new Uint8Array(a);let u=!1;const c=()=>{if(!u){s.getByteFrequencyData(l);for(let d=0;d<a;d+=1)l[d]>0&&(u=!0,e({status:!0,provenanceGraph:void 0,answers:{audioTest:!0}}));window.requestAnimationFrame(c)}};window.requestAnimationFrame(c)})},[e]),b.jsx(Ha,{style:{height:"70%",width:"100%"},children:b.jsxs(Nn,{children:[b.jsx($e,{ta:"center",children:"Please allow us to access your microphone. There may be a popup in your browser window asking for access, click accept."}),b.jsx($e,{ta:"center",children:"Once we can confirm that your microphone is on and we hear you say something, the continue button will become available."}),b.jsx($e,{ta:"center",style:{fontWeight:700},children:"If you are not comfortable or able to speak English during this study, please return the study."}),b.jsx(Ha,{children:b.jsx(JG,{height:200,width:400})})]})})}const JCe=Object.freeze(Object.defineProperty({__proto__:null,AudioTest:Pse,default:Pse},Symbol.toStringTag,{value:"Module"}));function Xs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var jat=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ose=jat,x8=()=>Math.random().toString(36).substring(7).split("").join("."),Bat={INIT:`@@redux/INIT${x8()}`,REPLACE:`@@redux/REPLACE${x8()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${x8()}`},H3=Bat;function ZG(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ZCe(e,t,n){if(typeof e!="function")throw new Error(Xs(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xs(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xs(1));return n(ZCe)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((g,v)=>{s.set(v,g)}))}function c(){if(l)throw new Error(Xs(3));return i}function d(g){if(typeof g!="function")throw new Error(Xs(4));if(l)throw new Error(Xs(5));let v=!0;u();const y=a++;return s.set(y,g),function(){if(v){if(l)throw new Error(Xs(6));v=!1,u(),s.delete(y),o=null}}}function f(g){if(!ZG(g))throw new Error(Xs(7));if(typeof g.type>"u")throw new Error(Xs(8));if(typeof g.type!="string")throw new Error(Xs(17));if(l)throw new Error(Xs(9));try{l=!0,i=r(i,g)}finally{l=!1}return(o=s).forEach(y=>{y()}),g}function h(g){if(typeof g!="function")throw new Error(Xs(10));r=g,f({type:H3.REPLACE})}function p(){const g=d;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Xs(11));function y(){const E=v;E.next&&E.next(c())}return y(),{unsubscribe:g(y)}},[Ose](){return this}}}return f({type:H3.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:h,[Ose]:p}}function zat(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:H3.INIT})>"u")throw new Error(Xs(12));if(typeof n(void 0,{type:H3.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xs(13))})}function Uat(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{zat(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],h=s[d],p=f(h,a);if(typeof p>"u")throw a&&a.type,new Error(Xs(14));u[d]=p,l=l||p!==h}return l=l||r.length!==Object.keys(s).length,l?u:s}}function q3(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Hat(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Xs(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},a=e.map(l=>l(s));return o=q3(...a)(i.dispatch),{...i,dispatch:o}}}function qat(e){return ZG(e)&&"type"in e&&typeof e.type=="string"}var e_e=Symbol.for("immer-nothing"),Nse=Symbol.for("immer-draftable"),wl=Symbol.for("immer-state");function Ed(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Pu=Object,hx=Pu.getPrototypeOf,V3="constructor",CM="prototype",Ez="configurable",W3="enumerable",HD="writable",y2="value",fm=e=>!!e&&!!e[wl];function Kd(e){return e?t_e(e)||EM(e)||!!e[Nse]||!!e[V3]?.[Nse]||SM(e)||TM(e):!1}var Vat=Pu[CM][V3].toString(),Mse=new WeakMap;function t_e(e){if(!e||!eY(e))return!1;const t=hx(e);if(t===null||t===Pu[CM])return!0;const n=Pu.hasOwnProperty.call(t,V3)&&t[V3];if(n===Object)return!0;if(!dw(n))return!1;let r=Mse.get(n);return r===void 0&&(r=Function.toString.call(n),Mse.set(n,r)),r===Vat}function _M(e,t,n=!0){qT(e)===0?(n?Reflect.ownKeys(e):Pu.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function qT(e){const t=e[wl];return t?t.type_:EM(e)?1:SM(e)?2:TM(e)?3:0}var $se=(e,t,n=qT(e))=>n===2?e.has(t):Pu[CM].hasOwnProperty.call(e,t),Sz=(e,t,n=qT(e))=>n===2?e.get(t):e[t],G3=(e,t,n,r=qT(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Wat(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var EM=Array.isArray,SM=e=>e instanceof Map,TM=e=>e instanceof Set,eY=e=>typeof e=="object",dw=e=>typeof e=="function",C8=e=>typeof e=="boolean";function Gat(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var kp=e=>e.copy_||e.base_,tY=e=>e.modified_?e.copy_:e.base_;function Tz(e,t){if(SM(e))return new Map(e);if(TM(e))return new Set(e);if(EM(e))return Array[CM].slice.call(e);const n=t_e(e);if(t===!0||t==="class_only"&&!n){const r=Pu.getOwnPropertyDescriptors(e);delete r[wl];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a[HD]===!1&&(a[HD]=!0,a[Ez]=!0),(a.get||a.set)&&(r[s]={[Ez]:!0,[HD]:!0,[W3]:a[W3],[y2]:e[s]})}return Pu.create(hx(e),r)}else{const r=hx(e);if(r!==null&&n)return{...e};const i=Pu.create(r);return Pu.assign(i,e)}}function nY(e,t=!1){return kM(e)||fm(e)||!Kd(e)||(qT(e)>1&&Pu.defineProperties(e,{set:TR,add:TR,clear:TR,delete:TR}),Pu.freeze(e),t&&_M(e,(n,r)=>{nY(r,!0)},!1)),e}function Yat(){Ed(2)}var TR={[y2]:Yat};function kM(e){return e===null||!eY(e)?!0:Pu.isFrozen(e)}var Y3="MapSet",kz="Patches",Lse="ArrayMethods",n_e={};function Vv(e){const t=n_e[e];return t||Ed(0,e),t}var Fse=e=>!!n_e[e],v2,r_e=()=>v2,Kat=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Fse(Y3)?Vv(Y3):void 0,arrayMethodsPlugin_:Fse(Lse)?Vv(Lse):void 0});function jse(e,t){t&&(e.patchPlugin_=Vv(kz),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Az(e){Rz(e),e.drafts_.forEach(Xat),e.drafts_=null}function Rz(e){e===v2&&(v2=e.parent_)}var Bse=e=>v2=Kat(v2,e);function Xat(e){const t=e[wl];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zse(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[wl].modified_&&(Az(t),Ed(4)),Kd(e)&&(e=Use(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[wl].base_,e,t)}else e=Use(t,n);return Qat(t,e,!0),Az(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==e_e?e:void 0}function Use(e,t){if(kM(t))return t;const n=t[wl];if(!n)return K3(t,e.handledSet_,e);if(!AM(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);s_e(n,e)}return n.copy_}function Qat(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nY(t,n)}function i_e(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var AM=(e,t)=>e.scope_===t,Jat=[];function o_e(e,t,n,r){const i=kp(e),o=e.type_;if(r!==void 0&&Sz(i,r,o)===t){G3(i,r,n,o);return}if(!e.draftLocations_){const a=e.draftLocations_=new Map;_M(i,(l,u)=>{if(fm(u)){const c=a.get(u)||[];c.push(l),a.set(u,c)}})}const s=e.draftLocations_.get(t)??Jat;for(const a of s)G3(i,a,n,o)}function Zat(e,t,n){e.callbacks_.push(function(i){const o=t;if(!o||!AM(o,i))return;i.mapSetPlugin_?.fixSetContents(o);const s=tY(o);o_e(e,o.draft_??o,s,n),s_e(o,i)})}function s_e(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}i_e(e)}}function elt(e,t,n){const{scope_:r}=e;if(fm(n)){const i=n[wl];AM(i,r)&&i.callbacks_.push(function(){qD(e);const s=tY(i);o_e(e,n,s,t)})}else Kd(n)&&e.callbacks_.push(function(){const o=kp(e);e.type_===3?o.has(n)&&K3(n,r.handledSet_,r):Sz(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&K3(Sz(e.copy_,t,e.type_),r.handledSet_,r)})}function K3(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||fm(e)||t.has(e)||!Kd(e)||kM(e)||(t.add(e),_M(e,(r,i)=>{if(fm(i)){const o=i[wl];if(AM(o,n)){const s=tY(o);G3(e,r,s,e.type_),i_e(o)}}else Kd(i)&&K3(i,t,n)})),e}function tlt(e,t){const n=EM(e),r={type_:n?1:0,scope_:t?t.scope_:r_e(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=X3;n&&(i=[r],o=b2);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,[a,r]}var X3={get(e,t){if(t===wl)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=kp(e);if(!$se(i,t,e.type_))return nlt(e,i,t);const o=i[t];if(e.finalized_||!Kd(o)||r&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&Gat(t))return o;if(o===_8(e.base_,t)){qD(e);const s=e.type_===1?+t:t,a=Dz(e.scope_,o,e,s);return e.copy_[s]=a}return o},has(e,t){return t in kp(e)},ownKeys(e){return Reflect.ownKeys(kp(e))},set(e,t,n){const r=a_e(kp(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=_8(kp(e),t),o=i?.[wl];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Wat(n,i)&&(n!==void 0||$se(e.base_,t,e.type_)))return!0;qD(e),Iz(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),elt(e,t,n)),!0},deleteProperty(e,t){return qD(e),_8(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Iz(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=kp(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[HD]:!0,[Ez]:e.type_!==1||t!=="length",[W3]:r[W3],[y2]:n[t]}},defineProperty(){Ed(11)},getPrototypeOf(e){return hx(e.base_)},setPrototypeOf(){Ed(12)}},b2={};for(let e in X3){let t=X3[e];b2[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}b2.deleteProperty=function(e,t){return b2.set.call(this,e,t,void 0)};b2.set=function(e,t,n){return X3.set.call(this,e[0],t,n,e[0])};function _8(e,t){const n=e[wl];return(n?kp(n):e)[t]}function nlt(e,t,n){const r=a_e(t,n);return r?y2 in r?r[y2]:r.get?.call(e.draft_):void 0}function a_e(e,t){if(!(t in e))return;let n=hx(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=hx(n)}}function Iz(e){e.modified_||(e.modified_=!0,e.parent_&&Iz(e.parent_))}function qD(e){e.copy_||(e.assigned_=new Map,e.copy_=Tz(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rlt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(dw(t)&&!dw(n)){const o=n;n=t;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}dw(n)||Ed(6),r!==void 0&&!dw(r)&&Ed(7);let i;if(Kd(t)){const o=Bse(this),s=Dz(o,t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?Az(o):Rz(o)}return jse(o,r),zse(i,o)}else if(!t||!eY(t)){if(i=n(t),i===void 0&&(i=t),i===e_e&&(i=void 0),this.autoFreeze_&&nY(i,!0),r){const o=[],s=[];Vv(kz).generateReplacementPatches_(t,i,{patches_:o,inversePatches_:s}),r(o,s)}return i}else Ed(1,t)},this.produceWithPatches=(t,n)=>{if(dw(t))return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},C8(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),C8(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),C8(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Kd(e)||Ed(8),fm(e)&&(e=ilt(e));const t=Bse(this),n=Dz(t,e,void 0);return n[wl].isManual_=!0,Rz(t),n}finishDraft(e,t){const n=e&&e[wl];(!n||!n.isManual_)&&Ed(9);const{scope_:r}=n;return jse(r,t),zse(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Vv(kz).applyPatches_;return fm(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Dz(e,t,n,r){const[i,o]=SM(t)?Vv(Y3).proxyMap_(t,n):TM(t)?Vv(Y3).proxySet_(t,n):tlt(t,n);return(n?.scope_??r_e()).drafts_.push(i),o.callbacks_=n?.callbacks_??[],o.key_=r,n&&r!==void 0?Zat(n,o,r):o.callbacks_.push(function(l){l.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:u}=l;o.modified_&&u&&u.generatePatches_(o,[],l)}),i}function ilt(e){return fm(e)||Ed(10,e),l_e(e)}function l_e(e){if(!Kd(e)||kM(e))return e;const t=e[wl];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Tz(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Tz(e,!0);return _M(n,(i,o)=>{G3(n,i,l_e(o))},r),t&&(t.finalized_=!1),n}var olt=new rlt,u_e=olt.produce;function slt(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function alt(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function llt(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Hse=e=>Array.isArray(e)?e:[e];function ult(e){const t=Array.isArray(e[0])?e[0]:e;return llt(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function clt(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var dlt=class{constructor(e){this.value=e}deref(){return this.value}},flt=typeof WeakRef<"u"?WeakRef:dlt,hlt=0,qse=1;function kR(){return{s:hlt,v:void 0,o:null,p:null}}function c_e(e,t={}){let n=kR();const{resultEqualityCheck:r}=t;let i,o=0;function s(){let a=n;const{length:l}=arguments;for(let d=0,f=l;d<f;d++){const h=arguments[d];if(typeof h=="function"||typeof h=="object"&&h!==null){let p=a.o;p===null&&(a.o=p=new WeakMap);const m=p.get(h);m===void 0?(a=kR(),p.set(h,a)):a=m}else{let p=a.p;p===null&&(a.p=p=new Map);const m=p.get(h);m===void 0?(a=kR(),p.set(h,a)):a=m}}const u=a;let c;if(a.s===qse)c=a.v;else if(c=e.apply(null,arguments),o++,r){const d=i?.deref?.()??i;d!=null&&r(d,c)&&(c=d,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new flt(c):c}return u.s=qse,u.v=c,c}return s.clearCache=()=>{n=kR(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function plt(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),slt(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:h=c_e,argsMemoizeOptions:p=[]}=c,m=Hse(f),g=Hse(p),v=ult(i),y=d(function(){return o++,u.apply(null,arguments)},...m),x=h(function(){s++;const _=clt(v,arguments);return a=y.apply(null,_),a},...g);return Object.assign(x,{resultFunc:u,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var d_e=plt(c_e),mlt=Object.assign((e,t=d_e)=>{alt(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,a,l)=>(s[n[l]]=a,s),{}))},{withTypes:()=>mlt});function f_e(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var glt=f_e(),ylt=f_e,vlt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?q3:q3.apply(null,arguments)};function Vse(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Kp(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>qat(r)&&r.type===e,n}var h_e=class IE extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,IE.prototype)}static get[Symbol.species](){return IE}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new IE(...t[0].concat(this)):new IE(...t.concat(this))}};function Wse(e){return Kd(e)?u_e(e,()=>{}):e}function AR(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function blt(e){return typeof e=="boolean"}var wlt=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new h_e;return n&&(blt(n)?s.push(glt):s.push(ylt(n.extraArgument))),s},xlt="RTK_autoBatch",Gse=e=>t=>{setTimeout(t,e)},Clt=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Gse(10):e.type==="callback"?e.queueNotification:Gse(e.timeout),u=()=>{s=!1,o&&(o=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),f=r.subscribe(d);return a.add(c),()=>{f(),a.delete(c)}},dispatch(c){try{return i=!c?.meta?.[xlt],o=!i,o&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},_lt=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new h_e(e);return r&&i.push(Clt(typeof r=="object"?r:void 0)),i};function Elt(e){const t=wlt(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(ZG(n))a=Uat(n);else throw new Error(Kp(1));let l;typeof r=="function"?l=r(t):l=t();let u=q3;i&&(u=vlt({trace:!1,...typeof i=="object"&&i}));const c=Hat(...l),d=_lt(c);let f=typeof s=="function"?s(d):d();const h=u(...f);return ZCe(a,o,h)}function p_e(e){const t={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(Kp(28));if(a in t)throw new Error(Kp(29));return t[a]=s,i},addAsyncThunk(o,s){return s.pending&&(t[o.pending.type]=s.pending),s.rejected&&(t[o.rejected.type]=s.rejected),s.fulfilled&&(t[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function Slt(e){return typeof e=="function"}function Tlt(e,t){let[n,r,i]=p_e(t),o;if(Slt(e))o=()=>Wse(e());else{const a=Wse(e);o=()=>a}function s(a=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(fm(c)){const h=d(c,l);return h===void 0?c:h}else{if(Kd(c))return u_e(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},a)}return s.getInitialState=o,s}var klt=Symbol.for("rtk-slice-createasyncthunk");function Alt(e,t){return`${e}/${t}`}function Rlt({creators:e}={}){const t=e?.asyncThunk?.[klt];return function(r){const{name:i,reducerPath:o=i}=r;if(!i)throw new Error(Kp(11));const s=(typeof r.reducers=="function"?r.reducers(Plt()):r.reducers)||{},a=Object.keys(s),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(x,E){const _=typeof x=="string"?x:x.type;if(!_)throw new Error(Kp(12));if(_ in l.sliceCaseReducersByType)throw new Error(Kp(13));return l.sliceCaseReducersByType[_]=E,u},addMatcher(x,E){return l.sliceMatchers.push({matcher:x,reducer:E}),u},exposeAction(x,E){return l.actionCreators[x]=E,u},exposeCaseReducer(x,E){return l.sliceCaseReducersByName[x]=E,u}};a.forEach(x=>{const E=s[x],_={reducerName:x,type:Alt(i,x),createNotation:typeof r.reducers=="function"};Nlt(E)?$lt(_,E,u,t):Olt(_,E,u)});function c(){const[x={},E=[],_=void 0]=typeof r.extraReducers=="function"?p_e(r.extraReducers):[r.extraReducers],S={...x,...l.sliceCaseReducersByType};return Tlt(r.initialState,T=>{for(let k in S)T.addCase(k,S[k]);for(let k of l.sliceMatchers)T.addMatcher(k.matcher,k.reducer);for(let k of E)T.addMatcher(k.matcher,k.reducer);_&&T.addDefaultCase(_)})}const d=x=>x,f=new Map,h=new WeakMap;let p;function m(x,E){return p||(p=c()),p(x,E)}function g(){return p||(p=c()),p.getInitialState()}function v(x,E=!1){function _(T){let k=T[x];return typeof k>"u"&&E&&(k=AR(h,_,g)),k}function S(T=d){const k=AR(f,E,()=>new WeakMap);return AR(k,T,()=>{const R={};for(const[I,P]of Object.entries(r.selectors??{}))R[I]=Ilt(P,T,()=>AR(h,T,g),E);return R})}return{reducerPath:x,getSelectors:S,get selectors(){return S(_)},selectSlice:_}}const y={name:i,reducer:m,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:g,...v(o),injectInto(x,{reducerPath:E,..._}={}){const S=E??o;return x.inject({reducerPath:S,reducer:m},_),{...y,...v(S,!0)}}};return y}}function Ilt(e,t,n,r){function i(o,...s){let a=t(o);return typeof a>"u"&&r&&(a=n()),e(a,...s)}return i.unwrapped=e,i}var Dlt=Rlt();function Plt(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Olt({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!Mlt(r))throw new Error(Kp(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?Vse(e,s):Vse(e))}function Nlt(e){return e._reducerDefinitionType==="asyncThunk"}function Mlt(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $lt({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Kp(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:u,options:c}=n,d=i(e,o,c);r.exposeAction(t,d),s&&r.addCase(d.fulfilled,s),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:s||RR,pending:a||RR,rejected:l||RR,settled:u||RR})}function RR(){}function Kp(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function o0(e){return e.baseComponent!==void 0}function la(e){return e.order==="dynamic"}function v0(e){return la(e)?[e.id]:e.components.flatMap(t=>typeof t=="string"?t:v0(t))}function m_e(e){return la(e)?[e]:e.components.flatMap(t=>typeof t=="string"?[]:m_e(t))}function Pz(e,t){return m_e(t).find(r=>r.id===e)}function rY(e){return la(e)?[]:[...e.components.flatMap(t=>typeof t=="string"?t:la(t)?[]:rY(t)),...e.interruptions?.flatMap(t=>t.components)||[]]}function g_e(e,t,n){let r=0;for(let i=0;i<e.components.length;i+=1){const o=e.components[i];if(typeof o=="string"){if(typeof t=="number"&&t===n+r)return[{currentBlock:e,firstIndex:n,lastIndex:n+v0(e).length-1}];if(typeof t=="string"&&e.orderPath===t)return[{currentBlock:e,firstIndex:n,lastIndex:n+v0(e).length-1}];r+=1}else{const s=g_e(o,t,n+r);if(typeof s=="number")r+=s;else{const a={currentBlock:e,firstIndex:n,lastIndex:s[0].lastIndex};return[...s,a]}}}return r}function y_e(e,t){const n=g_e(e,t,0);return typeof n=="number"?null:n}function v_e(e,t,n){if(e.id===t)return{found:!0,distance:n};let r=0;for(let i=0;i<e.components.length;i+=1){const o=e.components[i];if(typeof o=="string")r+=1;else{const s=v_e(o,t,n+r);if(s.found)return s;r+=s.distance}}return{found:!1,distance:r}}function Llt(e,t){const n=v_e(e,t,0);return n.found?n.distance:-1}function b_e(e,t){return typeof e=="string"?e:la(e)?{...e,orderPath:t,components:[],skip:[],interruptions:[]}:{...e,orderPath:t,order:e.order,components:e.components.map((n,r)=>b_e(n,`${t}-${r}`)),skip:e.skip||[],interruptions:e.interruptions||[]}}var DE={exports:{}};DE.exports;var Yse;function Flt(){return Yse||(Yse=1,(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Null]",y="[object Object]",x="[object Proxy]",E="[object RegExp]",_="[object Set]",S="[object String]",T="[object Undefined]",k="[object WeakMap]",R="[object ArrayBuffer]",I="[object DataView]",P="[object Float32Array]",N="[object Float64Array]",M="[object Int8Array]",O="[object Int16Array]",j="[object Int32Array]",U="[object Uint8Array]",q="[object Uint8ClampedArray]",W="[object Uint16Array]",V="[object Uint32Array]",z=/[\\^$.*+?()[\]{}|]/g,L=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,B={};B[P]=B[N]=B[M]=B[O]=B[j]=B[U]=B[q]=B[W]=B[V]=!0,B[a]=B[l]=B[R]=B[c]=B[I]=B[d]=B[f]=B[h]=B[m]=B[g]=B[y]=B[E]=B[_]=B[S]=B[k]=!1;var Y=typeof xi=="object"&&xi&&xi.Object===Object&&xi,Q=typeof self=="object"&&self&&self.Object===Object&&self,ne=Y||Q||Function("return this")(),ce=t&&!t.nodeType&&t,le=ce&&!0&&e&&!e.nodeType&&e,ue=le&&le.exports===ce,ae=ue&&Y.process,te=(function(){try{var oe=le&&le.require&&le.require("util").types;return oe||ae&&ae.binding&&ae.binding("util")}catch{}})(),se=te&&te.isTypedArray;function we(oe,ve,Le){switch(Le.length){case 0:return oe.call(ve);case 1:return oe.call(ve,Le[0]);case 2:return oe.call(ve,Le[0],Le[1]);case 3:return oe.call(ve,Le[0],Le[1],Le[2])}return oe.apply(ve,Le)}function X(oe,ve){for(var Le=-1,St=Array(oe);++Le<oe;)St[Le]=ve(Le);return St}function he(oe){return function(ve){return oe(ve)}}function ge(oe,ve){return oe?.[ve]}function re(oe,ve){return function(Le){return oe(ve(Le))}}var ee=Array.prototype,fe=Function.prototype,Re=Object.prototype,Oe=ne["__core-js_shared__"],Ae=fe.toString,Se=Re.hasOwnProperty,xe=(function(){var oe=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||"");return oe?"Symbol(src)_1."+oe:""})(),ke=Re.toString,me=Ae.call(Object),Me=RegExp("^"+Ae.call(Se).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=ue?ne.Buffer:void 0,Xe=ne.Symbol,tt=ne.Uint8Array;ze&&ze.allocUnsafe;var gt=re(Object.getPrototypeOf,Object),qt=Object.create,zt=Re.propertyIsEnumerable,_n=ee.splice,$t=Xe?Xe.toStringTag:void 0,dn=(function(){try{var oe=pt(Object,"defineProperty");return oe({},"",{}),oe}catch{}})(),Vn=ze?ze.isBuffer:void 0,Ln=Math.max,Tr=Date.now,Xn=pt(ne,"Map"),mr=pt(Object,"create"),En=(function(){function oe(){}return function(ve){if(!Dl(ve))return{};if(qt)return qt(ve);oe.prototype=ve;var Le=new oe;return oe.prototype=void 0,Le}})();function nn(oe){var ve=-1,Le=oe==null?0:oe.length;for(this.clear();++ve<Le;){var St=oe[ve];this.set(St[0],St[1])}}function rr(){this.__data__=mr?mr(null):{},this.size=0}function ii(oe){var ve=this.has(oe)&&delete this.__data__[oe];return this.size-=ve?1:0,ve}function br(oe){var ve=this.__data__;if(mr){var Le=ve[oe];return Le===r?void 0:Le}return Se.call(ve,oe)?ve[oe]:void 0}function Sn(oe){var ve=this.__data__;return mr?ve[oe]!==void 0:Se.call(ve,oe)}function ht(oe,ve){var Le=this.__data__;return this.size+=this.has(oe)?0:1,Le[oe]=mr&&ve===void 0?r:ve,this}nn.prototype.clear=rr,nn.prototype.delete=ii,nn.prototype.get=br,nn.prototype.has=Sn,nn.prototype.set=ht;function cr(oe){var ve=-1,Le=oe==null?0:oe.length;for(this.clear();++ve<Le;){var St=oe[ve];this.set(St[0],St[1])}}function Ut(){this.__data__=[],this.size=0}function Zn(oe){var ve=this.__data__,Le=pu(ve,oe);if(Le<0)return!1;var St=ve.length-1;return Le==St?ve.pop():_n.call(ve,Le,1),--this.size,!0}function sn(oe){var ve=this.__data__,Le=pu(ve,oe);return Le<0?void 0:ve[Le][1]}function Yn(oe){return pu(this.__data__,oe)>-1}function wr(oe,ve){var Le=this.__data__,St=pu(Le,oe);return St<0?(++this.size,Le.push([oe,ve])):Le[St][1]=ve,this}cr.prototype.clear=Ut,cr.prototype.delete=Zn,cr.prototype.get=sn,cr.prototype.has=Yn,cr.prototype.set=wr;function kr(oe){var ve=-1,Le=oe==null?0:oe.length;for(this.clear();++ve<Le;){var St=oe[ve];this.set(St[0],St[1])}}function Ar(){this.size=0,this.__data__={hash:new nn,map:new(Xn||cr),string:new nn}}function Jo(oe){var ve=ut(this,oe).delete(oe);return this.size-=ve?1:0,ve}function pa(oe){return ut(this,oe).get(oe)}function hu(oe){return ut(this,oe).has(oe)}function ec(oe,ve){var Le=ut(this,oe),St=Le.size;return Le.set(oe,ve),this.size+=Le.size==St?0:1,this}kr.prototype.clear=Ar,kr.prototype.delete=Jo,kr.prototype.get=pa,kr.prototype.has=hu,kr.prototype.set=ec;function Fn(oe){var ve=this.__data__=new cr(oe);this.size=ve.size}function Ni(){this.__data__=new cr,this.size=0}function Zo(oe){var ve=this.__data__,Le=ve.delete(oe);return this.size=ve.size,Le}function Rf(oe){return this.__data__.get(oe)}function td(oe){return this.__data__.has(oe)}function tc(oe,ve){var Le=this.__data__;if(Le instanceof cr){var St=Le.__data__;if(!Xn||St.length<n-1)return St.push([oe,ve]),this.size=++Le.size,this;Le=this.__data__=new kr(St)}return Le.set(oe,ve),this.size=Le.size,this}Fn.prototype.clear=Ni,Fn.prototype.delete=Zo,Fn.prototype.get=Rf,Fn.prototype.has=td,Fn.prototype.set=tc;function nc(oe,ve){var Le=Si(oe),St=!Le&&Mi(oe),Dt=!Le&&!St&&Ho(oe),fn=!Le&&!St&&!Dt&&Mf(oe),Mn=Le||St||Dt||fn,Kt=Mn?X(oe.length,String):[],yn=Kt.length;for(var or in oe)Mn&&(or=="length"||Dt&&(or=="offset"||or=="parent")||fn&&(or=="buffer"||or=="byteLength"||or=="byteOffset")||jt(or,yn))||Kt.push(or);return Kt}function es(oe,ve,Le){(Le!==void 0&&!ts(oe[ve],Le)||Le===void 0&&!(ve in oe))&&dr(oe,ve,Le)}function If(oe,ve,Le){var St=oe[ve];(!(Se.call(oe,ve)&&ts(St,Le))||Le===void 0&&!(ve in oe))&&dr(oe,ve,Le)}function pu(oe,ve){for(var Le=oe.length;Le--;)if(ts(oe[Le][0],ve))return Le;return-1}function dr(oe,ve,Le){ve=="__proto__"&&dn?dn(oe,ve,{configurable:!0,enumerable:!0,value:Le,writable:!0}):oe[ve]=Le}var nd=rt();function wo(oe){return oe==null?oe===void 0?T:v:$t&&$t in Object(oe)?ft(oe):Eo(oe)}function ps(oe){return to(oe)&&wo(oe)==a}function xo(oe){if(!Dl(oe)||Qn(oe))return!1;var ve=ga(oe)?Me:L;return ve.test(Of(oe))}function mu(oe){return to(oe)&&Nf(oe.length)&&!!B[wo(oe)]}function Bs(oe){if(!Dl(oe))return sr(oe);var ve=Wt(oe),Le=[];for(var St in oe)St=="constructor"&&(ve||!Se.call(oe,St))||Le.push(St);return Le}function Il(oe,ve,Le,St,Dt){oe!==ve&&nd(ve,function(fn,Mn){if(Dt||(Dt=new Fn),Dl(fn))Co(oe,ve,Mn,Le,Il,St,Dt);else{var Kt=St?St(So(oe,Mn),fn,Mn+"",oe,ve,Dt):void 0;Kt===void 0&&(Kt=fn),es(oe,Mn,Kt)}},gu)}function Co(oe,ve,Le,St,Dt,fn,Mn){var Kt=So(oe,Le),yn=So(ve,Le),or=Mn.get(yn);if(or){es(oe,Le,or);return}var Yr=fn?fn(Kt,yn,Le+"",oe,ve,Mn):void 0,oi=Yr===void 0;if(oi){var wi=Si(yn),co=!wi&&Ho(yn),si=!wi&&!co&&Mf(yn);Yr=yn,wi||co||si?Si(Kt)?Yr=Kt:ic(Kt)?Yr=Be(Kt):co?(oi=!1,Yr=pe(yn)):si?(oi=!1,Yr=Ce(yn)):Yr=[]:Km(yn)||Mi(yn)?(Yr=Kt,Mi(Kt)?Yr=zs(Kt):(!Dl(Kt)||ga(Kt))&&(Yr=_t(yn))):oi=!1}oi&&(Mn.set(yn,Yr),Dt(Yr,yn,St,fn,Mn),Mn.delete(yn)),es(oe,Le,Yr)}function Df(oe,ve){return Pf(ma(oe,ve,ya),oe+"")}var _o=dn?function(oe,ve){return dn(oe,"toString",{configurable:!0,enumerable:!1,value:Ka(ve),writable:!0})}:ya;function pe(oe,ve){return oe.slice()}function Ne(oe){var ve=new oe.constructor(oe.byteLength);return new tt(ve).set(new tt(oe)),ve}function Ce(oe,ve){var Le=Ne(oe.buffer);return new oe.constructor(Le,oe.byteOffset,oe.length)}function Be(oe,ve){var Le=-1,St=oe.length;for(ve||(ve=Array(St));++Le<St;)ve[Le]=oe[Le];return ve}function He(oe,ve,Le,St){var Dt=!Le;Le||(Le={});for(var fn=-1,Mn=ve.length;++fn<Mn;){var Kt=ve[fn],yn=void 0;yn===void 0&&(yn=oe[Kt]),Dt?dr(Le,Kt,yn):If(Le,Kt,yn)}return Le}function je(oe){return Df(function(ve,Le){var St=-1,Dt=Le.length,fn=Dt>1?Le[Dt-1]:void 0,Mn=Dt>2?Le[2]:void 0;for(fn=oe.length>3&&typeof fn=="function"?(Dt--,fn):void 0,Mn&&Pn(Le[0],Le[1],Mn)&&(fn=Dt<3?void 0:fn,Dt=1),ve=Object(ve);++St<Dt;){var Kt=Le[St];Kt&&oe(ve,Kt,St,fn)}return ve})}function rt(oe){return function(ve,Le,St){for(var Dt=-1,fn=Object(ve),Mn=St(ve),Kt=Mn.length;Kt--;){var yn=Mn[++Dt];if(Le(fn[yn],yn,fn)===!1)break}return ve}}function ut(oe,ve){var Le=oe.__data__;return Xt(ve)?Le[typeof ve=="string"?"string":"hash"]:Le.map}function pt(oe,ve){var Le=ge(oe,ve);return xo(Le)?Le:void 0}function ft(oe){var ve=Se.call(oe,$t),Le=oe[$t];try{oe[$t]=void 0;var St=!0}catch{}var Dt=ke.call(oe);return St&&(ve?oe[$t]=Le:delete oe[$t]),Dt}function _t(oe){return typeof oe.constructor=="function"&&!Wt(oe)?En(gt(oe)):{}}function jt(oe,ve){var Le=typeof oe;return ve=ve??s,!!ve&&(Le=="number"||Le!="symbol"&&H.test(oe))&&oe>-1&&oe%1==0&&oe<ve}function Pn(oe,ve,Le){if(!Dl(Le))return!1;var St=typeof ve;return(St=="number"?ms(Le)&&jt(ve,Le.length):St=="string"&&ve in Le)?ts(Le[ve],oe):!1}function Xt(oe){var ve=typeof oe;return ve=="string"||ve=="number"||ve=="symbol"||ve=="boolean"?oe!=="__proto__":oe===null}function Qn(oe){return!!xe&&xe in oe}function Wt(oe){var ve=oe&&oe.constructor,Le=typeof ve=="function"&&ve.prototype||Re;return oe===Le}function sr(oe){var ve=[];if(oe!=null)for(var Le in Object(oe))ve.push(Le);return ve}function Eo(oe){return ke.call(oe)}function ma(oe,ve,Le){return ve=Ln(ve===void 0?oe.length-1:ve,0),function(){for(var St=arguments,Dt=-1,fn=Ln(St.length-ve,0),Mn=Array(fn);++Dt<fn;)Mn[Dt]=St[ve+Dt];Dt=-1;for(var Kt=Array(ve+1);++Dt<ve;)Kt[Dt]=St[Dt];return Kt[ve]=Le(Mn),we(oe,this,Kt)}}function So(oe,ve){if(!(ve==="constructor"&&typeof oe[ve]=="function")&&ve!="__proto__")return oe[ve]}var Pf=rc(_o);function rc(oe){var ve=0,Le=0;return function(){var St=Tr(),Dt=o-(St-Le);if(Le=St,Dt>0){if(++ve>=i)return arguments[0]}else ve=0;return oe.apply(void 0,arguments)}}function Of(oe){if(oe!=null){try{return Ae.call(oe)}catch{}try{return oe+""}catch{}}return""}function ts(oe,ve){return oe===ve||oe!==oe&&ve!==ve}var Mi=ps((function(){return arguments})())?ps:function(oe){return to(oe)&&Se.call(oe,"callee")&&!zt.call(oe,"callee")},Si=Array.isArray;function ms(oe){return oe!=null&&Nf(oe.length)&&!ga(oe)}function ic(oe){return to(oe)&&ms(oe)}var Ho=Vn||Ee;function ga(oe){if(!Dl(oe))return!1;var ve=wo(oe);return ve==h||ve==p||ve==u||ve==x}function Nf(oe){return typeof oe=="number"&&oe>-1&&oe%1==0&&oe<=s}function Dl(oe){var ve=typeof oe;return oe!=null&&(ve=="object"||ve=="function")}function to(oe){return oe!=null&&typeof oe=="object"}function Km(oe){if(!to(oe)||wo(oe)!=y)return!1;var ve=gt(oe);if(ve===null)return!0;var Le=Se.call(ve,"constructor")&&ve.constructor;return typeof Le=="function"&&Le instanceof Le&&Ae.call(Le)==me}var Mf=se?he(se):mu;function zs(oe){return He(oe,gu(oe))}function gu(oe){return ms(oe)?nc(oe):Bs(oe)}var Xm=je(function(oe,ve,Le){Il(oe,ve,Le)});function Ka(oe){return function(){return oe}}function ya(oe){return oe}function Ee(){return!1}e.exports=Xm})(DE,DE.exports)),DE.exports}var jlt=Flt();const w_e=Qo(jlt);function ju(e,t){return o0(e)&&t.baseComponents?w_e({},t.baseComponents?.[e.baseComponent],e):e}function Kse(e,t){return t.components[e]===void 0?null:ju(t.components[e],t)}function Blt(e){return typeof e=="string"?{label:e,value:e}:{...e,value:e.value??e.label}}function Xp(e){return e.map(t=>Blt(t))}function iY(e){return typeof e=="string"?e:e.value??e.label}function Xse(e){const t=e.response.map(n=>n.id);if(e.responseOrder==="random"){const n=e.response.flatMap((i,o)=>i.excludeFromRandomization?[o]:[]),r=e.response.filter(i=>!i.excludeFromRandomization).map(i=>i.id).map(i=>({value:i,sort:Math.random()})).sort((i,o)=>i.sort-o.sort).map(({value:i})=>i);return{response:e.response.map((i,o)=>n.includes(o)?i.id:r.shift())}}return{response:t}}function Qse(e){return e.response.reduce((t,n)=>{if(n.type==="radio"||n.type==="checkbox"||n.type==="buttons"){const r=Xp(n.options);if(n.optionOrder==="random"){const i=[...r].map(o=>({value:o,sort:Math.random()})).sort((o,s)=>o.sort-s.sort).map(({value:o})=>o);t[n.id]=i}else t[n.id]=r}return t},{})}function Jse(e){return e.response.reduce((t,n)=>{if(n.type==="matrix-radio"||n.type==="matrix-checkbox"){const r=n.questionOptions.map(i=>iY(i));if(n.questionOrder==="random"){const i=[...r].map(o=>({value:o,sort:Math.random()})).sort((o,s)=>o.sort-s.sort).map(({value:o})=>o);t[n.id]=i}else t[n.id]=r}return t},{})}async function Zse(e,t,n,r,i,o,s,a,l,u=!1){const c=v0(n),d=Object.fromEntries(c.filter(v=>v!=="end").map((v,y)=>{const x=ju(t.components[v]||{},t);return t.components[v]?[`${v}_${y}`,{answer:{},identifier:`${v}_${y}`,trialOrder:`${y}`,componentName:v,incorrectAnswers:{},startTime:0,endTime:-1,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},windowEvents:[],timedOut:!1,helpButtonClickedCount:0,parameters:Object.hasOwn(x,"parameters")?x.parameters:{},correctAnswer:Object.hasOwn(x,"correctAnswer")?x.correctAnswer:[],optionOrders:Qse(x),questionOrders:Jse(x),formOrder:Xse(x)}]:null}).filter(v=>v!==null)),f=Object.assign({},...c.map((v,y)=>{const x=ju(t.components[v]||{response:[]},t);return{[`${v}_${y}`]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},stimulus:{valid:!x.response.some(E=>E.type==="reactive"&&E.required!==!1),values:{}},provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}}})),h=Object.assign({},...c.map((v,y)=>({[`${v}_${y}`]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,stimulus:!0,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}}))),p={studyId:e,answers:Object.keys(i).length>0?i:d,sequence:n,config:t,showStudyBrowser:!0,showHelpText:!1,alertModal:{show:!1,message:"",title:""},trialValidation:Object.keys(i).length>0?h:f,reactiveAnswers:{},metadata:r,analysisProvState:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},analysisIsPlaying:!1,analysisHasAudio:!1,analysisHasScreenRecording:!1,analysisCanPlayScreenRecording:!0,analysisHasProvenance:!1,provenanceJumpTime:0,modes:o,matrixAnswers:{},rankingAnswers:{},participantId:s,funcSequence:{},completed:a,clickedPrevious:!1,storageEngineFailedToConnect:l,isStalledConfig:u},m=Dlt({name:"storeSlice",initialState:p,reducers:{setConfig(v,{payload:y}){v.config=y},pushToFuncSequence(v,{payload:y}){if(v.funcSequence[y.funcName]||(v.funcSequence[y.funcName]=[]),v.funcSequence[y.funcName].length>y.funcIndex)return;const x=ju(v.config.components[y.component]||{response:[]},t),E=`${y.funcName}_${y.index}_${y.component}_${y.funcIndex}`;v.funcSequence[y.funcName].push(y.component),v.answers[E]={answer:{},identifier:E,incorrectAnswers:{},componentName:y.component,trialOrder:`${y.index}_${y.funcIndex}`,startTime:0,endTime:-1,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},windowEvents:[],timedOut:!1,helpButtonClickedCount:0,parameters:y.parameters||("parameters"in x?x.parameters:{})||{},correctAnswer:y.correctAnswer||x.correctAnswer||[],optionOrders:Qse(x),questionOrders:Jse(x),formOrder:Xse(x)},v.trialValidation[E]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},stimulus:{valid:x.response.every(_=>_.type!=="reactive"),values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}},toggleStudyBrowser:v=>{v.showStudyBrowser=!v.showStudyBrowser},toggleShowHelpText:v=>{v.showHelpText=!v.showHelpText},setAlertModal:(v,y)=>{v.alertModal=y.payload},setReactiveAnswers:(v,y)=>{v.reactiveAnswers=y.payload},saveAnalysisState(v,{payload:y}){v.analysisProvState[y.location]=y.prov},setAnalysisIsPlaying(v,{payload:y}){v.analysisIsPlaying=y},setAnalysisHasAudio(v,{payload:y}){v.analysisHasAudio=y},setAnalysisHasScreenRecording(v,{payload:y}){v.analysisHasScreenRecording=y},setAnalysisCanPlayScreenRecording(v,{payload:y}){v.analysisCanPlayScreenRecording=y},setAnalysisHasProvenance(v,{payload:y}){v.analysisHasProvenance=y},setProvenanceJumpTime(v,{payload:y}){v.provenanceJumpTime=y},setMatrixAnswersRadio:(v,y)=>{if(y.payload){const{responseId:x,questionKey:E,val:_}=y.payload;v.matrixAnswers={...v.matrixAnswers,[x]:{...v.matrixAnswers[x],[E]:_}}}else v.matrixAnswers={}},setMatrixAnswersCheckbox:(v,y)=>{if(y.payload){const{responseId:x,questionKey:E,value:_,isChecked:S,choiceOptions:T}=y.payload,k=v.matrixAnswers[x]?.[E]??"";let R="";S?k.length>0?R=[...k.split("|"),_].sort((I,P)=>T.map(N=>N.value).indexOf(I)-T.map(N=>N.value).indexOf(P)).join("|"):R=`${_}`:R=k.split("|").filter(I=>I!==_).join("|"),v.matrixAnswers={...v.matrixAnswers,[x]:{...v.matrixAnswers[x],[E]:R}}}else v.matrixAnswers={}},setRankingAnswers:(v,y)=>{if(y.payload){const{responseId:x,values:E}=y.payload;v.rankingAnswers={...v.rankingAnswers,[x]:{...E}}}else v.rankingAnswers={}},updateResponseBlockValidation:(v,{payload:y})=>{if(!v.trialValidation[y.identifier])return;const x=v.trialValidation[y.identifier]?.[y.location]?.values;Object.keys(y.values).length>0?v.trialValidation[y.identifier][y.location]={valid:y.status,values:{...x,...y.values}}:v.trialValidation[y.identifier][y.location]={valid:y.status,values:x||{}},y.provenanceGraph&&(v.trialValidation[y.identifier].provenanceGraph[y.location]=y.provenanceGraph)},saveTrialAnswer(v,{payload:y}){v.answers[y.identifier]={...y}},incrementHelpCounter(v,{payload:y}){v.answers[y.identifier].helpButtonClickedCount+=1},saveIncorrectAnswer(v,{payload:y}){const{identifier:x,answer:E,question:_}=y;v.answers[_].incorrectAnswers||(v.answers[_].incorrectAnswers={}),v.answers[_].incorrectAnswers[x]||(v.answers[_].incorrectAnswers[x]={id:x,value:[]}),v.answers[_].incorrectAnswers[x].value.push(E)},deleteDynamicBlockAnswers(v,{payload:y}){const{currentStep:x,funcIndex:E,funcName:_}=y,S=new RegExp(`.*_${x}_.*_${E}`);Object.keys(v.answers).forEach(T=>{T.match(S)&&delete v.answers[T]}),v.funcSequence[_]&&(v.funcSequence[_]=v.funcSequence[y.funcName].filter((T,k)=>k!==E)),v.funcSequence[_]?.length===0&&delete v.funcSequence[_]},setParticipantCompleted(v,{payload:y}){v.completed=y},setClickedPrevious(v,{payload:y}){v.clickedPrevious=y}}});return{store:Elt({reducer:m.reducer,preloadedState:p}),actions:m.actions}}const x_e=A.createContext(null);function Qi(){return A.useContext(x_e).actions}const bo=VCe,Hn=oat;function zlt(e){return Hn(t=>{if(e.includes("reviewer-"))return!0;const n=t.trialValidation[e]?Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0):!0;return n?Object.values(n).every(r=>r):!1})}const Ult=d_e(e=>e.sequence,e=>v0(e));function bC(){return Hn(Ult)}function Ya(){return Hn(e=>e.config)}function C_e(){const e=Ya(),t=bC(),n=pf(),r=e.components[n],{recordScreen:i,recordAudio:o,clickToRecord:s}=e.uiConfig,a=A.useMemo(()=>i||t.some(f=>e.components[f]?.recordScreen),[t,e,i]),l=A.useMemo(()=>o||t.some(f=>e.components[f]?.recordAudio),[t,e,o]),u=A.useMemo(()=>r?.recordScreen??!!i,[i,r]),c=A.useMemo(()=>r?.recordAudio??!!o,[o,r]),d=A.useMemo(()=>r?.clickToRecord??!!s,[s,r]);return{studyHasAudioRecording:l,studyHasScreenRecording:a,currentComponentHasAudioRecording:c,currentComponentHasScreenRecording:u,currentComponentHasClickToRecord:d}}var VD={exports:{}};function $p(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var WD={exports:{}};const Hlt={},qlt=Object.freeze(Object.defineProperty({__proto__:null,default:Hlt},Symbol.toStringTag,{value:"Module"})),__e=Y$e(qlt);var Vlt=WD.exports,eae;function Sr(){return eae||(eae=1,(function(e,t){(function(n,r){e.exports=r()})(Vlt,function(){var n=n||(function(r,i){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof xi<"u"&&xi.crypto&&(o=xi.crypto),!o&&typeof $p=="function")try{o=__e}catch{}var s=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||(function(){function y(){}return function(x){var E;return y.prototype=x,E=new y,y.prototype=null,E}})(),l={},u=l.lib={},c=u.Base=(function(){return{extend:function(y){var x=a(this);return y&&x.mixIn(y),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var y=this.extend();return y.init.apply(y,arguments),y},init:function(){},mixIn:function(y){for(var x in y)y.hasOwnProperty(x)&&(this[x]=y[x]);y.hasOwnProperty("toString")&&(this.toString=y.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),d=u.WordArray=c.extend({init:function(y,x){y=this.words=y||[],x!=i?this.sigBytes=x:this.sigBytes=y.length*4},toString:function(y){return(y||h).stringify(this)},concat:function(y){var x=this.words,E=y.words,_=this.sigBytes,S=y.sigBytes;if(this.clamp(),_%4)for(var T=0;T<S;T++){var k=E[T>>>2]>>>24-T%4*8&255;x[_+T>>>2]|=k<<24-(_+T)%4*8}else for(var R=0;R<S;R+=4)x[_+R>>>2]=E[R>>>2];return this.sigBytes+=S,this},clamp:function(){var y=this.words,x=this.sigBytes;y[x>>>2]&=4294967295<<32-x%4*8,y.length=r.ceil(x/4)},clone:function(){var y=c.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var x=[],E=0;E<y;E+=4)x.push(s());return new d.init(x,y)}}),f=l.enc={},h=f.Hex={stringify:function(y){for(var x=y.words,E=y.sigBytes,_=[],S=0;S<E;S++){var T=x[S>>>2]>>>24-S%4*8&255;_.push((T>>>4).toString(16)),_.push((T&15).toString(16))}return _.join("")},parse:function(y){for(var x=y.length,E=[],_=0;_<x;_+=2)E[_>>>3]|=parseInt(y.substr(_,2),16)<<24-_%8*4;return new d.init(E,x/2)}},p=f.Latin1={stringify:function(y){for(var x=y.words,E=y.sigBytes,_=[],S=0;S<E;S++){var T=x[S>>>2]>>>24-S%4*8&255;_.push(String.fromCharCode(T))}return _.join("")},parse:function(y){for(var x=y.length,E=[],_=0;_<x;_++)E[_>>>2]|=(y.charCodeAt(_)&255)<<24-_%4*8;return new d.init(E,x)}},m=f.Utf8={stringify:function(y){try{return decodeURIComponent(escape(p.stringify(y)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(y){return p.parse(unescape(encodeURIComponent(y)))}},g=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(y){typeof y=="string"&&(y=m.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var x,E=this._data,_=E.words,S=E.sigBytes,T=this.blockSize,k=T*4,R=S/k;y?R=r.ceil(R):R=r.max((R|0)-this._minBufferSize,0);var I=R*T,P=r.min(I*4,S);if(I){for(var N=0;N<I;N+=T)this._doProcessBlock(_,N);x=_.splice(0,I),E.sigBytes-=P}return new d.init(x,P)},clone:function(){var y=c.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0});u.Hasher=g.extend({cfg:c.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){y&&this._append(y);var x=this._doFinalize();return x},blockSize:16,_createHelper:function(y){return function(x,E){return new y.init(E).finalize(x)}},_createHmacHelper:function(y){return function(x,E){return new v.HMAC.init(y,E).finalize(x)}}});var v=l.algo={};return l})(Math);return n})})(WD)),WD.exports}var GD={exports:{}},Wlt=GD.exports,tae;function RM(){return tae||(tae=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(Wlt,function(n){return(function(r){var i=n,o=i.lib,s=o.Base,a=o.WordArray,l=i.x64={};l.Word=s.extend({init:function(u,c){this.high=u,this.low=c}}),l.WordArray=s.extend({init:function(u,c){u=this.words=u||[],c!=r?this.sigBytes=c:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,c=u.length,d=[],f=0;f<c;f++){var h=u[f];d.push(h.high),d.push(h.low)}return a.create(d,this.sigBytes)},clone:function(){for(var u=s.clone.call(this),c=u.words=this.words.slice(0),d=c.length,f=0;f<d;f++)c[f]=c[f].clone();return u}})})(),n})})(GD)),GD.exports}var YD={exports:{}},Glt=YD.exports,nae;function Ylt(){return nae||(nae=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(Glt,function(n){return(function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,o=i.WordArray,s=o.init,a=o.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var u=l.byteLength,c=[],d=0;d<u;d++)c[d>>>2]|=l[d]<<24-d%4*8;s.call(this,c,u)}else s.apply(this,arguments)};a.prototype=o}})(),n.lib.WordArray})})(YD)),YD.exports}var KD={exports:{}},Klt=KD.exports,rae;function Xlt(){return rae||(rae=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(Klt,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Utf16=s.Utf16BE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var h=u[f>>>2]>>>16-f%4*8&65535;d.push(String.fromCharCode(h))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=l.charCodeAt(d)<<16-d%2*16;return o.create(c,u*2)}},s.Utf16LE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var h=a(u[f>>>2]>>>16-f%4*8&65535);d.push(String.fromCharCode(h))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=a(l.charCodeAt(d)<<16-d%2*16);return o.create(c,u*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}})(),n.enc.Utf16})})(KD)),KD.exports}var XD={exports:{}},Qlt=XD.exports,iae;function Ob(){return iae||(iae=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(Qlt,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Base64={stringify:function(l){var u=l.words,c=l.sigBytes,d=this._map;l.clamp();for(var f=[],h=0;h<c;h+=3)for(var p=u[h>>>2]>>>24-h%4*8&255,m=u[h+1>>>2]>>>24-(h+1)%4*8&255,g=u[h+2>>>2]>>>24-(h+2)%4*8&255,v=p<<16|m<<8|g,y=0;y<4&&h+y*.75<c;y++)f.push(d.charAt(v>>>6*(3-y)&63));var x=d.charAt(64);if(x)for(;f.length%4;)f.push(x);return f.join("")},parse:function(l){var u=l.length,c=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<c.length;f++)d[c.charCodeAt(f)]=f}var h=c.charAt(64);if(h){var p=l.indexOf(h);p!==-1&&(u=p)}return a(l,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,u,c){for(var d=[],f=0,h=0;h<u;h++)if(h%4){var p=c[l.charCodeAt(h-1)]<<h%4*2,m=c[l.charCodeAt(h)]>>>6-h%4*2,g=p|m;d[f>>>2]|=g<<24-f%4*8,f++}return o.create(d,f)}})(),n.enc.Base64})})(XD)),XD.exports}var QD={exports:{}},Jlt=QD.exports,oae;function Zlt(){return oae||(oae=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(Jlt,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Base64url={stringify:function(l,u){u===void 0&&(u=!0);var c=l.words,d=l.sigBytes,f=u?this._safe_map:this._map;l.clamp();for(var h=[],p=0;p<d;p+=3)for(var m=c[p>>>2]>>>24-p%4*8&255,g=c[p+1>>>2]>>>24-(p+1)%4*8&255,v=c[p+2>>>2]>>>24-(p+2)%4*8&255,y=m<<16|g<<8|v,x=0;x<4&&p+x*.75<d;x++)h.push(f.charAt(y>>>6*(3-x)&63));var E=f.charAt(64);if(E)for(;h.length%4;)h.push(E);return h.join("")},parse:function(l,u){u===void 0&&(u=!0);var c=l.length,d=u?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<d.length;h++)f[d.charCodeAt(h)]=h}var p=d.charAt(64);if(p){var m=l.indexOf(p);m!==-1&&(c=m)}return a(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,u,c){for(var d=[],f=0,h=0;h<u;h++)if(h%4){var p=c[l.charCodeAt(h-1)]<<h%4*2,m=c[l.charCodeAt(h)]>>>6-h%4*2,g=p|m;d[f>>>2]|=g<<24-f%4*8,f++}return o.create(d,f)}})(),n.enc.Base64url})})(QD)),QD.exports}var JD={exports:{}},eut=JD.exports,sae;function Nb(){return sae||(sae=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(eut,function(n){return(function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,u=[];(function(){for(var m=0;m<64;m++)u[m]=r.abs(r.sin(m+1))*4294967296|0})();var c=l.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,g){for(var v=0;v<16;v++){var y=g+v,x=m[y];m[y]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var E=this._hash.words,_=m[g+0],S=m[g+1],T=m[g+2],k=m[g+3],R=m[g+4],I=m[g+5],P=m[g+6],N=m[g+7],M=m[g+8],O=m[g+9],j=m[g+10],U=m[g+11],q=m[g+12],W=m[g+13],V=m[g+14],z=m[g+15],L=E[0],H=E[1],B=E[2],Y=E[3];L=d(L,H,B,Y,_,7,u[0]),Y=d(Y,L,H,B,S,12,u[1]),B=d(B,Y,L,H,T,17,u[2]),H=d(H,B,Y,L,k,22,u[3]),L=d(L,H,B,Y,R,7,u[4]),Y=d(Y,L,H,B,I,12,u[5]),B=d(B,Y,L,H,P,17,u[6]),H=d(H,B,Y,L,N,22,u[7]),L=d(L,H,B,Y,M,7,u[8]),Y=d(Y,L,H,B,O,12,u[9]),B=d(B,Y,L,H,j,17,u[10]),H=d(H,B,Y,L,U,22,u[11]),L=d(L,H,B,Y,q,7,u[12]),Y=d(Y,L,H,B,W,12,u[13]),B=d(B,Y,L,H,V,17,u[14]),H=d(H,B,Y,L,z,22,u[15]),L=f(L,H,B,Y,S,5,u[16]),Y=f(Y,L,H,B,P,9,u[17]),B=f(B,Y,L,H,U,14,u[18]),H=f(H,B,Y,L,_,20,u[19]),L=f(L,H,B,Y,I,5,u[20]),Y=f(Y,L,H,B,j,9,u[21]),B=f(B,Y,L,H,z,14,u[22]),H=f(H,B,Y,L,R,20,u[23]),L=f(L,H,B,Y,O,5,u[24]),Y=f(Y,L,H,B,V,9,u[25]),B=f(B,Y,L,H,k,14,u[26]),H=f(H,B,Y,L,M,20,u[27]),L=f(L,H,B,Y,W,5,u[28]),Y=f(Y,L,H,B,T,9,u[29]),B=f(B,Y,L,H,N,14,u[30]),H=f(H,B,Y,L,q,20,u[31]),L=h(L,H,B,Y,I,4,u[32]),Y=h(Y,L,H,B,M,11,u[33]),B=h(B,Y,L,H,U,16,u[34]),H=h(H,B,Y,L,V,23,u[35]),L=h(L,H,B,Y,S,4,u[36]),Y=h(Y,L,H,B,R,11,u[37]),B=h(B,Y,L,H,N,16,u[38]),H=h(H,B,Y,L,j,23,u[39]),L=h(L,H,B,Y,W,4,u[40]),Y=h(Y,L,H,B,_,11,u[41]),B=h(B,Y,L,H,k,16,u[42]),H=h(H,B,Y,L,P,23,u[43]),L=h(L,H,B,Y,O,4,u[44]),Y=h(Y,L,H,B,q,11,u[45]),B=h(B,Y,L,H,z,16,u[46]),H=h(H,B,Y,L,T,23,u[47]),L=p(L,H,B,Y,_,6,u[48]),Y=p(Y,L,H,B,N,10,u[49]),B=p(B,Y,L,H,V,15,u[50]),H=p(H,B,Y,L,I,21,u[51]),L=p(L,H,B,Y,q,6,u[52]),Y=p(Y,L,H,B,k,10,u[53]),B=p(B,Y,L,H,j,15,u[54]),H=p(H,B,Y,L,S,21,u[55]),L=p(L,H,B,Y,M,6,u[56]),Y=p(Y,L,H,B,z,10,u[57]),B=p(B,Y,L,H,P,15,u[58]),H=p(H,B,Y,L,W,21,u[59]),L=p(L,H,B,Y,R,6,u[60]),Y=p(Y,L,H,B,U,10,u[61]),B=p(B,Y,L,H,T,15,u[62]),H=p(H,B,Y,L,O,21,u[63]),E[0]=E[0]+L|0,E[1]=E[1]+H|0,E[2]=E[2]+B|0,E[3]=E[3]+Y|0},_doFinalize:function(){var m=this._data,g=m.words,v=this._nDataBytes*8,y=m.sigBytes*8;g[y>>>5]|=128<<24-y%32;var x=r.floor(v/4294967296),E=v;g[(y+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,g[(y+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,m.sigBytes=(g.length+1)*4,this._process();for(var _=this._hash,S=_.words,T=0;T<4;T++){var k=S[T];S[T]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}return _},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});function d(m,g,v,y,x,E,_){var S=m+(g&v|~g&y)+x+_;return(S<<E|S>>>32-E)+g}function f(m,g,v,y,x,E,_){var S=m+(g&y|v&~y)+x+_;return(S<<E|S>>>32-E)+g}function h(m,g,v,y,x,E,_){var S=m+(g^v^y)+x+_;return(S<<E|S>>>32-E)+g}function p(m,g,v,y,x,E,_){var S=m+(v^(g|~y))+x+_;return(S<<E|S>>>32-E)+g}i.MD5=a._createHelper(c),i.HmacMD5=a._createHmacHelper(c)})(Math),n.MD5})})(JD)),JD.exports}var ZD={exports:{}},tut=ZD.exports,aae;function E_e(){return aae||(aae=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(tut,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=i.Hasher,a=r.algo,l=[],u=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,d){for(var f=this._hash.words,h=f[0],p=f[1],m=f[2],g=f[3],v=f[4],y=0;y<80;y++){if(y<16)l[y]=c[d+y]|0;else{var x=l[y-3]^l[y-8]^l[y-14]^l[y-16];l[y]=x<<1|x>>>31}var E=(h<<5|h>>>27)+v+l[y];y<20?E+=(p&m|~p&g)+1518500249:y<40?E+=(p^m^g)+1859775393:y<60?E+=(p&m|p&g|m&g)-1894007588:E+=(p^m^g)-899497514,v=g,g=m,m=p<<30|p>>>2,p=h,h=E}f[0]=f[0]+h|0,f[1]=f[1]+p|0,f[2]=f[2]+m|0,f[3]=f[3]+g|0,f[4]=f[4]+v|0},_doFinalize:function(){var c=this._data,d=c.words,f=this._nDataBytes*8,h=c.sigBytes*8;return d[h>>>5]|=128<<24-h%32,d[(h+64>>>9<<4)+14]=Math.floor(f/4294967296),d[(h+64>>>9<<4)+15]=f,c.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var c=s.clone.call(this);return c._hash=this._hash.clone(),c}});r.SHA1=s._createHelper(u),r.HmacSHA1=s._createHmacHelper(u)})(),n.SHA1})})(ZD)),ZD.exports}var eP={exports:{}},nut=eP.exports,lae;function oY(){return lae||(lae=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(nut,function(n){return(function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,u=[],c=[];(function(){function h(v){for(var y=r.sqrt(v),x=2;x<=y;x++)if(!(v%x))return!1;return!0}function p(v){return(v-(v|0))*4294967296|0}for(var m=2,g=0;g<64;)h(m)&&(g<8&&(u[g]=p(r.pow(m,1/2))),c[g]=p(r.pow(m,1/3)),g++),m++})();var d=[],f=l.SHA256=a.extend({_doReset:function(){this._hash=new s.init(u.slice(0))},_doProcessBlock:function(h,p){for(var m=this._hash.words,g=m[0],v=m[1],y=m[2],x=m[3],E=m[4],_=m[5],S=m[6],T=m[7],k=0;k<64;k++){if(k<16)d[k]=h[p+k]|0;else{var R=d[k-15],I=(R<<25|R>>>7)^(R<<14|R>>>18)^R>>>3,P=d[k-2],N=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;d[k]=I+d[k-7]+N+d[k-16]}var M=E&_^~E&S,O=g&v^g&y^v&y,j=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),U=(E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25),q=T+U+M+c[k]+d[k],W=j+O;T=S,S=_,_=E,E=x+q|0,x=y,y=v,v=g,g=q+W|0}m[0]=m[0]+g|0,m[1]=m[1]+v|0,m[2]=m[2]+y|0,m[3]=m[3]+x|0,m[4]=m[4]+E|0,m[5]=m[5]+_|0,m[6]=m[6]+S|0,m[7]=m[7]+T|0},_doFinalize:function(){var h=this._data,p=h.words,m=this._nDataBytes*8,g=h.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=r.floor(m/4294967296),p[(g+64>>>9<<4)+15]=m,h.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var h=a.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA256=a._createHelper(f),i.HmacSHA256=a._createHmacHelper(f)})(Math),n.SHA256})})(eP)),eP.exports}var tP={exports:{}},rut=tP.exports,uae;function iut(){return uae||(uae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),oY())})(rut,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=r.algo,a=s.SHA256,l=s.SHA224=a.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=4,u}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)})(),n.SHA224})})(tP)),tP.exports}var nP={exports:{}},out=nP.exports,cae;function S_e(){return cae||(cae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),RM())})(out,function(n){return(function(){var r=n,i=r.lib,o=i.Hasher,s=r.x64,a=s.Word,l=s.WordArray,u=r.algo;function c(){return a.create.apply(a,arguments)}var d=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var p=0;p<80;p++)f[p]=c()})();var h=u.SHA512=o.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var g=this._hash.words,v=g[0],y=g[1],x=g[2],E=g[3],_=g[4],S=g[5],T=g[6],k=g[7],R=v.high,I=v.low,P=y.high,N=y.low,M=x.high,O=x.low,j=E.high,U=E.low,q=_.high,W=_.low,V=S.high,z=S.low,L=T.high,H=T.low,B=k.high,Y=k.low,Q=R,ne=I,ce=P,le=N,ue=M,ae=O,te=j,se=U,we=q,X=W,he=V,ge=z,re=L,ee=H,fe=B,Re=Y,Oe=0;Oe<80;Oe++){var Ae,Se,xe=f[Oe];if(Oe<16)Se=xe.high=p[m+Oe*2]|0,Ae=xe.low=p[m+Oe*2+1]|0;else{var ke=f[Oe-15],me=ke.high,Me=ke.low,ze=(me>>>1|Me<<31)^(me>>>8|Me<<24)^me>>>7,Xe=(Me>>>1|me<<31)^(Me>>>8|me<<24)^(Me>>>7|me<<25),tt=f[Oe-2],gt=tt.high,qt=tt.low,zt=(gt>>>19|qt<<13)^(gt<<3|qt>>>29)^gt>>>6,_n=(qt>>>19|gt<<13)^(qt<<3|gt>>>29)^(qt>>>6|gt<<26),$t=f[Oe-7],dn=$t.high,Vn=$t.low,Ln=f[Oe-16],Tr=Ln.high,Xn=Ln.low;Ae=Xe+Vn,Se=ze+dn+(Ae>>>0<Xe>>>0?1:0),Ae=Ae+_n,Se=Se+zt+(Ae>>>0<_n>>>0?1:0),Ae=Ae+Xn,Se=Se+Tr+(Ae>>>0<Xn>>>0?1:0),xe.high=Se,xe.low=Ae}var mr=we&he^~we&re,En=X&ge^~X&ee,nn=Q&ce^Q&ue^ce&ue,rr=ne&le^ne&ae^le&ae,ii=(Q>>>28|ne<<4)^(Q<<30|ne>>>2)^(Q<<25|ne>>>7),br=(ne>>>28|Q<<4)^(ne<<30|Q>>>2)^(ne<<25|Q>>>7),Sn=(we>>>14|X<<18)^(we>>>18|X<<14)^(we<<23|X>>>9),ht=(X>>>14|we<<18)^(X>>>18|we<<14)^(X<<23|we>>>9),cr=d[Oe],Ut=cr.high,Zn=cr.low,sn=Re+ht,Yn=fe+Sn+(sn>>>0<Re>>>0?1:0),sn=sn+En,Yn=Yn+mr+(sn>>>0<En>>>0?1:0),sn=sn+Zn,Yn=Yn+Ut+(sn>>>0<Zn>>>0?1:0),sn=sn+Ae,Yn=Yn+Se+(sn>>>0<Ae>>>0?1:0),wr=br+rr,kr=ii+nn+(wr>>>0<br>>>0?1:0);fe=re,Re=ee,re=he,ee=ge,he=we,ge=X,X=se+sn|0,we=te+Yn+(X>>>0<se>>>0?1:0)|0,te=ue,se=ae,ue=ce,ae=le,ce=Q,le=ne,ne=sn+wr|0,Q=Yn+kr+(ne>>>0<sn>>>0?1:0)|0}I=v.low=I+ne,v.high=R+Q+(I>>>0<ne>>>0?1:0),N=y.low=N+le,y.high=P+ce+(N>>>0<le>>>0?1:0),O=x.low=O+ae,x.high=M+ue+(O>>>0<ae>>>0?1:0),U=E.low=U+se,E.high=j+te+(U>>>0<se>>>0?1:0),W=_.low=W+X,_.high=q+we+(W>>>0<X>>>0?1:0),z=S.low=z+ge,S.high=V+he+(z>>>0<ge>>>0?1:0),H=T.low=H+ee,T.high=L+re+(H>>>0<ee>>>0?1:0),Y=k.low=Y+Re,k.high=B+fe+(Y>>>0<Re>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,g=this._nDataBytes*8,v=p.sigBytes*8;m[v>>>5]|=128<<24-v%32,m[(v+128>>>10<<5)+30]=Math.floor(g/4294967296),m[(v+128>>>10<<5)+31]=g,p.sigBytes=m.length*4,this._process();var y=this._hash.toX32();return y},clone:function(){var p=o.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});r.SHA512=o._createHelper(h),r.HmacSHA512=o._createHmacHelper(h)})(),n.SHA512})})(nP)),nP.exports}var rP={exports:{}},sut=rP.exports,dae;function aut(){return dae||(dae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),RM(),S_e())})(sut,function(n){return(function(){var r=n,i=r.x64,o=i.Word,s=i.WordArray,a=r.algo,l=a.SHA512,u=a.SHA384=l.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var c=l._doFinalize.call(this);return c.sigBytes-=16,c}});r.SHA384=l._createHelper(u),r.HmacSHA384=l._createHmacHelper(u)})(),n.SHA384})})(rP)),rP.exports}var iP={exports:{}},lut=iP.exports,fae;function uut(){return fae||(fae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),RM())})(lut,function(n){return(function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.x64,u=l.Word,c=i.algo,d=[],f=[],h=[];(function(){for(var g=1,v=0,y=0;y<24;y++){d[g+5*v]=(y+1)*(y+2)/2%64;var x=v%5,E=(2*g+3*v)%5;g=x,v=E}for(var g=0;g<5;g++)for(var v=0;v<5;v++)f[g+5*v]=v+(2*g+3*v)%5*5;for(var _=1,S=0;S<24;S++){for(var T=0,k=0,R=0;R<7;R++){if(_&1){var I=(1<<R)-1;I<32?k^=1<<I:T^=1<<I-32}_&128?_=_<<1^113:_<<=1}h[S]=u.create(T,k)}})();var p=[];(function(){for(var g=0;g<25;g++)p[g]=u.create()})();var m=c.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],v=0;v<25;v++)g[v]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,v){for(var y=this._state,x=this.blockSize/2,E=0;E<x;E++){var _=g[v+2*E],S=g[v+2*E+1];_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360;var T=y[E];T.high^=S,T.low^=_}for(var k=0;k<24;k++){for(var R=0;R<5;R++){for(var I=0,P=0,N=0;N<5;N++){var T=y[R+5*N];I^=T.high,P^=T.low}var M=p[R];M.high=I,M.low=P}for(var R=0;R<5;R++)for(var O=p[(R+4)%5],j=p[(R+1)%5],U=j.high,q=j.low,I=O.high^(U<<1|q>>>31),P=O.low^(q<<1|U>>>31),N=0;N<5;N++){var T=y[R+5*N];T.high^=I,T.low^=P}for(var W=1;W<25;W++){var I,P,T=y[W],V=T.high,z=T.low,L=d[W];L<32?(I=V<<L|z>>>32-L,P=z<<L|V>>>32-L):(I=z<<L-32|V>>>64-L,P=V<<L-32|z>>>64-L);var H=p[f[W]];H.high=I,H.low=P}var B=p[0],Y=y[0];B.high=Y.high,B.low=Y.low;for(var R=0;R<5;R++)for(var N=0;N<5;N++){var W=R+5*N,T=y[W],Q=p[W],ne=p[(R+1)%5+5*N],ce=p[(R+2)%5+5*N];T.high=Q.high^~ne.high&ce.high,T.low=Q.low^~ne.low&ce.low}var T=y[0],le=h[k];T.high^=le.high,T.low^=le.low}},_doFinalize:function(){var g=this._data,v=g.words;this._nDataBytes*8;var y=g.sigBytes*8,x=this.blockSize*32;v[y>>>5]|=1<<24-y%32,v[(r.ceil((y+1)/x)*x>>>5)-1]|=128,g.sigBytes=v.length*4,this._process();for(var E=this._state,_=this.cfg.outputLength/8,S=_/8,T=[],k=0;k<S;k++){var R=E[k],I=R.high,P=R.low;I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,T.push(P),T.push(I)}return new s.init(T,_)},clone:function(){for(var g=a.clone.call(this),v=g._state=this._state.slice(0),y=0;y<25;y++)v[y]=v[y].clone();return g}});i.SHA3=a._createHelper(m),i.HmacSHA3=a._createHmacHelper(m)})(Math),n.SHA3})})(iP)),iP.exports}var oP={exports:{}},cut=oP.exports,hae;function dut(){return hae||(hae=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(cut,function(n){return(function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,u=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=s.create([0,1518500249,1859775393,2400959708,2840853838]),p=s.create([1352829926,1548603684,1836072691,2053994217,0]),m=l.RIPEMD160=a.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,T){for(var k=0;k<16;k++){var R=T+k,I=S[R];S[R]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var P=this._hash.words,N=h.words,M=p.words,O=u.words,j=c.words,U=d.words,q=f.words,W,V,z,L,H,B,Y,Q,ne,ce;B=W=P[0],Y=V=P[1],Q=z=P[2],ne=L=P[3],ce=H=P[4];for(var le,k=0;k<80;k+=1)le=W+S[T+O[k]]|0,k<16?le+=g(V,z,L)+N[0]:k<32?le+=v(V,z,L)+N[1]:k<48?le+=y(V,z,L)+N[2]:k<64?le+=x(V,z,L)+N[3]:le+=E(V,z,L)+N[4],le=le|0,le=_(le,U[k]),le=le+H|0,W=H,H=L,L=_(z,10),z=V,V=le,le=B+S[T+j[k]]|0,k<16?le+=E(Y,Q,ne)+M[0]:k<32?le+=x(Y,Q,ne)+M[1]:k<48?le+=y(Y,Q,ne)+M[2]:k<64?le+=v(Y,Q,ne)+M[3]:le+=g(Y,Q,ne)+M[4],le=le|0,le=_(le,q[k]),le=le+ce|0,B=ce,ce=ne,ne=_(Q,10),Q=Y,Y=le;le=P[1]+z+ne|0,P[1]=P[2]+L+ce|0,P[2]=P[3]+H+B|0,P[3]=P[4]+W+Y|0,P[4]=P[0]+V+Q|0,P[0]=le},_doFinalize:function(){var S=this._data,T=S.words,k=this._nDataBytes*8,R=S.sigBytes*8;T[R>>>5]|=128<<24-R%32,T[(R+64>>>9<<4)+14]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,S.sigBytes=(T.length+1)*4,this._process();for(var I=this._hash,P=I.words,N=0;N<5;N++){var M=P[N];P[N]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}return I},clone:function(){var S=a.clone.call(this);return S._hash=this._hash.clone(),S}});function g(S,T,k){return S^T^k}function v(S,T,k){return S&T|~S&k}function y(S,T,k){return(S|~T)^k}function x(S,T,k){return S&k|T&~k}function E(S,T,k){return S^(T|~k)}function _(S,T){return S<<T|S>>>32-T}i.RIPEMD160=a._createHelper(m),i.HmacRIPEMD160=a._createHmacHelper(m)})(),n.RIPEMD160})})(oP)),oP.exports}var sP={exports:{}},fut=sP.exports,pae;function sY(){return pae||(pae=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(fut,function(n){(function(){var r=n,i=r.lib,o=i.Base,s=r.enc,a=s.Utf8,l=r.algo;l.HMAC=o.extend({init:function(u,c){u=this._hasher=new u.init,typeof c=="string"&&(c=a.parse(c));var d=u.blockSize,f=d*4;c.sigBytes>f&&(c=u.finalize(c)),c.clamp();for(var h=this._oKey=c.clone(),p=this._iKey=c.clone(),m=h.words,g=p.words,v=0;v<d;v++)m[v]^=1549556828,g[v]^=909522486;h.sigBytes=p.sigBytes=f,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var c=this._hasher,d=c.finalize(u);c.reset();var f=c.finalize(this._oKey.clone().concat(d));return f}})})()})})(sP)),sP.exports}var aP={exports:{}},hut=aP.exports,mae;function put(){return mae||(mae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),oY(),sY())})(hut,function(n){return(function(){var r=n,i=r.lib,o=i.Base,s=i.WordArray,a=r.algo,l=a.SHA256,u=a.HMAC,c=a.PBKDF2=o.extend({cfg:o.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,f){for(var h=this.cfg,p=u.create(h.hasher,d),m=s.create(),g=s.create([1]),v=m.words,y=g.words,x=h.keySize,E=h.iterations;v.length<x;){var _=p.update(f).finalize(g);p.reset();for(var S=_.words,T=S.length,k=_,R=1;R<E;R++){k=p.finalize(k),p.reset();for(var I=k.words,P=0;P<T;P++)S[P]^=I[P]}m.concat(_),y[0]++}return m.sigBytes=x*4,m}});r.PBKDF2=function(d,f,h){return c.create(h).compute(d,f)}})(),n.PBKDF2})})(aP)),aP.exports}var lP={exports:{}},mut=lP.exports,gae;function Q0(){return gae||(gae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),E_e(),sY())})(mut,function(n){return(function(){var r=n,i=r.lib,o=i.Base,s=i.WordArray,a=r.algo,l=a.MD5,u=a.EvpKDF=o.extend({cfg:o.extend({keySize:128/32,hasher:l,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,d){for(var f,h=this.cfg,p=h.hasher.create(),m=s.create(),g=m.words,v=h.keySize,y=h.iterations;g.length<v;){f&&p.update(f),f=p.update(c).finalize(d),p.reset();for(var x=1;x<y;x++)f=p.finalize(f),p.reset();m.concat(f)}return m.sigBytes=v*4,m}});r.EvpKDF=function(c,d,f){return u.create(f).compute(c,d)}})(),n.EvpKDF})})(lP)),lP.exports}var uP={exports:{}},gut=uP.exports,yae;function Ls(){return yae||(yae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Q0())})(gut,function(n){n.lib.Cipher||(function(r){var i=n,o=i.lib,s=o.Base,a=o.WordArray,l=o.BufferedBlockAlgorithm,u=i.enc;u.Utf8;var c=u.Base64,d=i.algo,f=d.EvpKDF,h=o.Cipher=l.extend({cfg:s.extend(),createEncryptor:function(I,P){return this.create(this._ENC_XFORM_MODE,I,P)},createDecryptor:function(I,P){return this.create(this._DEC_XFORM_MODE,I,P)},init:function(I,P,N){this.cfg=this.cfg.extend(N),this._xformMode=I,this._key=P,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(I){return this._append(I),this._process()},finalize:function(I){I&&this._append(I);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function I(P){return typeof P=="string"?R:S}return function(P){return{encrypt:function(N,M,O){return I(M).encrypt(P,N,M,O)},decrypt:function(N,M,O){return I(M).decrypt(P,N,M,O)}}}})()});o.StreamCipher=h.extend({_doFinalize:function(){var I=this._process(!0);return I},blockSize:1});var p=i.mode={},m=o.BlockCipherMode=s.extend({createEncryptor:function(I,P){return this.Encryptor.create(I,P)},createDecryptor:function(I,P){return this.Decryptor.create(I,P)},init:function(I,P){this._cipher=I,this._iv=P}}),g=p.CBC=(function(){var I=m.extend();I.Encryptor=I.extend({processBlock:function(N,M){var O=this._cipher,j=O.blockSize;P.call(this,N,M,j),O.encryptBlock(N,M),this._prevBlock=N.slice(M,M+j)}}),I.Decryptor=I.extend({processBlock:function(N,M){var O=this._cipher,j=O.blockSize,U=N.slice(M,M+j);O.decryptBlock(N,M),P.call(this,N,M,j),this._prevBlock=U}});function P(N,M,O){var j,U=this._iv;U?(j=U,this._iv=r):j=this._prevBlock;for(var q=0;q<O;q++)N[M+q]^=j[q]}return I})(),v=i.pad={},y=v.Pkcs7={pad:function(I,P){for(var N=P*4,M=N-I.sigBytes%N,O=M<<24|M<<16|M<<8|M,j=[],U=0;U<M;U+=4)j.push(O);var q=a.create(j,M);I.concat(q)},unpad:function(I){var P=I.words[I.sigBytes-1>>>2]&255;I.sigBytes-=P}};o.BlockCipher=h.extend({cfg:h.cfg.extend({mode:g,padding:y}),reset:function(){var I;h.reset.call(this);var P=this.cfg,N=P.iv,M=P.mode;this._xformMode==this._ENC_XFORM_MODE?I=M.createEncryptor:(I=M.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==I?this._mode.init(this,N&&N.words):(this._mode=I.call(M,this,N&&N.words),this._mode.__creator=I)},_doProcessBlock:function(I,P){this._mode.processBlock(I,P)},_doFinalize:function(){var I,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),I=this._process(!0)):(I=this._process(!0),P.unpad(I)),I},blockSize:128/32});var x=o.CipherParams=s.extend({init:function(I){this.mixIn(I)},toString:function(I){return(I||this.formatter).stringify(this)}}),E=i.format={},_=E.OpenSSL={stringify:function(I){var P,N=I.ciphertext,M=I.salt;return M?P=a.create([1398893684,1701076831]).concat(M).concat(N):P=N,P.toString(c)},parse:function(I){var P,N=c.parse(I),M=N.words;return M[0]==1398893684&&M[1]==1701076831&&(P=a.create(M.slice(2,4)),M.splice(0,4),N.sigBytes-=16),x.create({ciphertext:N,salt:P})}},S=o.SerializableCipher=s.extend({cfg:s.extend({format:_}),encrypt:function(I,P,N,M){M=this.cfg.extend(M);var O=I.createEncryptor(N,M),j=O.finalize(P),U=O.cfg;return x.create({ciphertext:j,key:N,iv:U.iv,algorithm:I,mode:U.mode,padding:U.padding,blockSize:I.blockSize,formatter:M.format})},decrypt:function(I,P,N,M){M=this.cfg.extend(M),P=this._parse(P,M.format);var O=I.createDecryptor(N,M).finalize(P.ciphertext);return O},_parse:function(I,P){return typeof I=="string"?P.parse(I,this):I}}),T=i.kdf={},k=T.OpenSSL={execute:function(I,P,N,M,O){if(M||(M=a.random(64/8)),O)var j=f.create({keySize:P+N,hasher:O}).compute(I,M);else var j=f.create({keySize:P+N}).compute(I,M);var U=a.create(j.words.slice(P),N*4);return j.sigBytes=P*4,x.create({key:j,iv:U,salt:M})}},R=o.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:k}),encrypt:function(I,P,N,M){M=this.cfg.extend(M);var O=M.kdf.execute(N,I.keySize,I.ivSize,M.salt,M.hasher);M.iv=O.iv;var j=S.encrypt.call(this,I,P,O.key,M);return j.mixIn(O),j},decrypt:function(I,P,N,M){M=this.cfg.extend(M),P=this._parse(P,M.format);var O=M.kdf.execute(N,I.keySize,I.ivSize,P.salt,M.hasher);M.iv=O.iv;var j=S.decrypt.call(this,I,P,O.key,M);return j}})})()})})(uP)),uP.exports}var cP={exports:{}},yut=cP.exports,vae;function vut(){return vae||(vae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Ls())})(yut,function(n){return n.mode.CFB=(function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize;i.call(this,o,s,l,a),this._prevBlock=o.slice(s,s+l)}}),r.Decryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,u=o.slice(s,s+l);i.call(this,o,s,l,a),this._prevBlock=u}});function i(o,s,a,l){var u,c=this._iv;c?(u=c.slice(0),this._iv=void 0):u=this._prevBlock,l.encryptBlock(u,0);for(var d=0;d<a;d++)o[s+d]^=u[d]}return r})(),n.mode.CFB})})(cP)),cP.exports}var dP={exports:{}},but=dP.exports,bae;function wut(){return bae||(bae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Ls())})(but,function(n){return n.mode.CTR=(function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,u=this._iv,c=this._counter;u&&(c=this._counter=u.slice(0),this._iv=void 0);var d=c.slice(0);a.encryptBlock(d,0),c[l-1]=c[l-1]+1|0;for(var f=0;f<l;f++)o[s+f]^=d[f]}});return r.Decryptor=i,r})(),n.mode.CTR})})(dP)),dP.exports}var fP={exports:{}},xut=fP.exports,wae;function Cut(){return wae||(wae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Ls())})(xut,function(n){return n.mode.CTRGladman=(function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,u=a>>8&255,c=a&255;l===255?(l=0,u===255?(u=0,c===255?c=0:++c):++u):++l,a=0,a+=l<<16,a+=u<<8,a+=c}else a+=1<<24;return a}function o(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var s=r.Encryptor=r.extend({processBlock:function(a,l){var u=this._cipher,c=u.blockSize,d=this._iv,f=this._counter;d&&(f=this._counter=d.slice(0),this._iv=void 0),o(f);var h=f.slice(0);u.encryptBlock(h,0);for(var p=0;p<c;p++)a[l+p]^=h[p]}});return r.Decryptor=s,r})(),n.mode.CTRGladman})})(fP)),fP.exports}var hP={exports:{}},_ut=hP.exports,xae;function Eut(){return xae||(xae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Ls())})(_ut,function(n){return n.mode.OFB=(function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,u=this._iv,c=this._keystream;u&&(c=this._keystream=u.slice(0),this._iv=void 0),a.encryptBlock(c,0);for(var d=0;d<l;d++)o[s+d]^=c[d]}});return r.Decryptor=i,r})(),n.mode.OFB})})(hP)),hP.exports}var pP={exports:{}},Sut=pP.exports,Cae;function Tut(){return Cae||(Cae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Ls())})(Sut,function(n){return n.mode.ECB=(function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,o){this._cipher.encryptBlock(i,o)}}),r.Decryptor=r.extend({processBlock:function(i,o){this._cipher.decryptBlock(i,o)}}),r})(),n.mode.ECB})})(pP)),pP.exports}var mP={exports:{}},kut=mP.exports,_ae;function Aut(){return _ae||(_ae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Ls())})(kut,function(n){return n.pad.AnsiX923={pad:function(r,i){var o=r.sigBytes,s=i*4,a=s-o%s,l=o+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})})(mP)),mP.exports}var gP={exports:{}},Rut=gP.exports,Eae;function Iut(){return Eae||(Eae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Ls())})(Rut,function(n){return n.pad.Iso10126={pad:function(r,i){var o=i*4,s=o-r.sigBytes%o;r.concat(n.lib.WordArray.random(s-1)).concat(n.lib.WordArray.create([s<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})})(gP)),gP.exports}var yP={exports:{}},Dut=yP.exports,Sae;function Put(){return Sae||(Sae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Ls())})(Dut,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})})(yP)),yP.exports}var vP={exports:{}},Out=vP.exports,Tae;function Nut(){return Tae||(Tae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Ls())})(Out,function(n){return n.pad.ZeroPadding={pad:function(r,i){var o=i*4;r.clamp(),r.sigBytes+=o-(r.sigBytes%o||o)},unpad:function(r){for(var i=r.words,o=r.sigBytes-1,o=r.sigBytes-1;o>=0;o--)if(i[o>>>2]>>>24-o%4*8&255){r.sigBytes=o+1;break}}},n.pad.ZeroPadding})})(vP)),vP.exports}var bP={exports:{}},Mut=bP.exports,kae;function $ut(){return kae||(kae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Ls())})(Mut,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})})(bP)),bP.exports}var wP={exports:{}},Lut=wP.exports,Aae;function Fut(){return Aae||(Aae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Ls())})(Lut,function(n){return(function(r){var i=n,o=i.lib,s=o.CipherParams,a=i.enc,l=a.Hex,u=i.format;u.Hex={stringify:function(c){return c.ciphertext.toString(l)},parse:function(c){var d=l.parse(c);return s.create({ciphertext:d})}}})(),n.format.Hex})})(wP)),wP.exports}var xP={exports:{}},jut=xP.exports,Rae;function But(){return Rae||(Rae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Ob(),Nb(),Q0(),Ls())})(jut,function(n){return(function(){var r=n,i=r.lib,o=i.BlockCipher,s=r.algo,a=[],l=[],u=[],c=[],d=[],f=[],h=[],p=[],m=[],g=[];(function(){for(var x=[],E=0;E<256;E++)E<128?x[E]=E<<1:x[E]=E<<1^283;for(var _=0,S=0,E=0;E<256;E++){var T=S^S<<1^S<<2^S<<3^S<<4;T=T>>>8^T&255^99,a[_]=T,l[T]=_;var k=x[_],R=x[k],I=x[R],P=x[T]*257^T*16843008;u[_]=P<<24|P>>>8,c[_]=P<<16|P>>>16,d[_]=P<<8|P>>>24,f[_]=P;var P=I*16843009^R*65537^k*257^_*16843008;h[T]=P<<24|P>>>8,p[T]=P<<16|P>>>16,m[T]=P<<8|P>>>24,g[T]=P,_?(_=k^x[x[x[I^k]]],S^=x[x[S]]):_=S=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],y=s.AES=o.extend({_doReset:function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var E=this._keyPriorReset=this._key,_=E.words,S=E.sigBytes/4,T=this._nRounds=S+6,k=(T+1)*4,R=this._keySchedule=[],I=0;I<k;I++)I<S?R[I]=_[I]:(x=R[I-1],I%S?S>6&&I%S==4&&(x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255]):(x=x<<8|x>>>24,x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255],x^=v[I/S|0]<<24),R[I]=R[I-S]^x);for(var P=this._invKeySchedule=[],N=0;N<k;N++){var I=k-N;if(N%4)var x=R[I];else var x=R[I-4];N<4||I<=4?P[N]=x:P[N]=h[a[x>>>24]]^p[a[x>>>16&255]]^m[a[x>>>8&255]]^g[a[x&255]]}}},encryptBlock:function(x,E){this._doCryptBlock(x,E,this._keySchedule,u,c,d,f,a)},decryptBlock:function(x,E){var _=x[E+1];x[E+1]=x[E+3],x[E+3]=_,this._doCryptBlock(x,E,this._invKeySchedule,h,p,m,g,l);var _=x[E+1];x[E+1]=x[E+3],x[E+3]=_},_doCryptBlock:function(x,E,_,S,T,k,R,I){for(var P=this._nRounds,N=x[E]^_[0],M=x[E+1]^_[1],O=x[E+2]^_[2],j=x[E+3]^_[3],U=4,q=1;q<P;q++){var W=S[N>>>24]^T[M>>>16&255]^k[O>>>8&255]^R[j&255]^_[U++],V=S[M>>>24]^T[O>>>16&255]^k[j>>>8&255]^R[N&255]^_[U++],z=S[O>>>24]^T[j>>>16&255]^k[N>>>8&255]^R[M&255]^_[U++],L=S[j>>>24]^T[N>>>16&255]^k[M>>>8&255]^R[O&255]^_[U++];N=W,M=V,O=z,j=L}var W=(I[N>>>24]<<24|I[M>>>16&255]<<16|I[O>>>8&255]<<8|I[j&255])^_[U++],V=(I[M>>>24]<<24|I[O>>>16&255]<<16|I[j>>>8&255]<<8|I[N&255])^_[U++],z=(I[O>>>24]<<24|I[j>>>16&255]<<16|I[N>>>8&255]<<8|I[M&255])^_[U++],L=(I[j>>>24]<<24|I[N>>>16&255]<<16|I[M>>>8&255]<<8|I[O&255])^_[U++];x[E]=W,x[E+1]=V,x[E+2]=z,x[E+3]=L},keySize:256/32});r.AES=o._createHelper(y)})(),n.AES})})(xP)),xP.exports}var CP={exports:{}},zut=CP.exports,Iae;function Uut(){return Iae||(Iae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Ob(),Nb(),Q0(),Ls())})(zut,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=i.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=a.DES=s.extend({_doReset:function(){for(var v=this._key,y=v.words,x=[],E=0;E<56;E++){var _=l[E]-1;x[E]=y[_>>>5]>>>31-_%32&1}for(var S=this._subKeys=[],T=0;T<16;T++){for(var k=S[T]=[],R=c[T],E=0;E<24;E++)k[E/6|0]|=x[(u[E]-1+R)%28]<<31-E%6,k[4+(E/6|0)]|=x[28+(u[E+24]-1+R)%28]<<31-E%6;k[0]=k[0]<<1|k[0]>>>31;for(var E=1;E<7;E++)k[E]=k[E]>>>(E-1)*4+3;k[7]=k[7]<<5|k[7]>>>27}for(var I=this._invSubKeys=[],E=0;E<16;E++)I[E]=S[15-E]},encryptBlock:function(v,y){this._doCryptBlock(v,y,this._subKeys)},decryptBlock:function(v,y){this._doCryptBlock(v,y,this._invSubKeys)},_doCryptBlock:function(v,y,x){this._lBlock=v[y],this._rBlock=v[y+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var E=0;E<16;E++){for(var _=x[E],S=this._lBlock,T=this._rBlock,k=0,R=0;R<8;R++)k|=d[R][((T^_[R])&f[R])>>>0];this._lBlock=T,this._rBlock=S^k}var I=this._lBlock;this._lBlock=this._rBlock,this._rBlock=I,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),v[y]=this._lBlock,v[y+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(v,y){var x=(this._lBlock>>>v^this._rBlock)&y;this._rBlock^=x,this._lBlock^=x<<v}function m(v,y){var x=(this._rBlock>>>v^this._lBlock)&y;this._lBlock^=x,this._rBlock^=x<<v}r.DES=s._createHelper(h);var g=a.TripleDES=s.extend({_doReset:function(){var v=this._key,y=v.words;if(y.length!==2&&y.length!==4&&y.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=y.slice(0,2),E=y.length<4?y.slice(0,2):y.slice(2,4),_=y.length<6?y.slice(0,2):y.slice(4,6);this._des1=h.createEncryptor(o.create(x)),this._des2=h.createEncryptor(o.create(E)),this._des3=h.createEncryptor(o.create(_))},encryptBlock:function(v,y){this._des1.encryptBlock(v,y),this._des2.decryptBlock(v,y),this._des3.encryptBlock(v,y)},decryptBlock:function(v,y){this._des3.decryptBlock(v,y),this._des2.encryptBlock(v,y),this._des1.decryptBlock(v,y)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=s._createHelper(g)})(),n.TripleDES})})(CP)),CP.exports}var _P={exports:{}},Hut=_P.exports,Dae;function qut(){return Dae||(Dae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Ob(),Nb(),Q0(),Ls())})(Hut,function(n){return(function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=s.RC4=o.extend({_doReset:function(){for(var c=this._key,d=c.words,f=c.sigBytes,h=this._S=[],p=0;p<256;p++)h[p]=p;for(var p=0,m=0;p<256;p++){var g=p%f,v=d[g>>>2]>>>24-g%4*8&255;m=(m+h[p]+v)%256;var y=h[p];h[p]=h[m],h[m]=y}this._i=this._j=0},_doProcessBlock:function(c,d){c[d]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var c=this._S,d=this._i,f=this._j,h=0,p=0;p<4;p++){d=(d+1)%256,f=(f+c[d])%256;var m=c[d];c[d]=c[f],c[f]=m,h|=c[(c[d]+c[f])%256]<<24-p*8}return this._i=d,this._j=f,h}r.RC4=o._createHelper(a);var u=s.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)l.call(this)}});r.RC4Drop=o._createHelper(u)})(),n.RC4})})(_P)),_P.exports}var EP={exports:{}},Vut=EP.exports,Pae;function Wut(){return Pae||(Pae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Ob(),Nb(),Q0(),Ls())})(Vut,function(n){return(function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=[],l=[],u=[],c=s.Rabbit=o.extend({_doReset:function(){for(var f=this._key.words,h=this.cfg.iv,p=0;p<4;p++)f[p]=(f[p]<<8|f[p]>>>24)&16711935|(f[p]<<24|f[p]>>>8)&4278255360;var m=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var p=0;p<4;p++)d.call(this);for(var p=0;p<8;p++)g[p]^=m[p+4&7];if(h){var v=h.words,y=v[0],x=v[1],E=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,_=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,S=E>>>16|_&4294901760,T=_<<16|E&65535;g[0]^=E,g[1]^=S,g[2]^=_,g[3]^=T,g[4]^=E,g[5]^=S,g[6]^=_,g[7]^=T;for(var p=0;p<4;p++)d.call(this)}},_doProcessBlock:function(f,h){var p=this._X;d.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,f[h+m]^=a[m]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,h=this._C,p=0;p<8;p++)l[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=f[p]+h[p],g=m&65535,v=m>>>16,y=((g*g>>>17)+g*v>>>15)+v*v,x=((m&4294901760)*m|0)+((m&65535)*m|0);u[p]=y^x}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.Rabbit=o._createHelper(c)})(),n.Rabbit})})(EP)),EP.exports}var SP={exports:{}},Gut=SP.exports,Oae;function Yut(){return Oae||(Oae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Ob(),Nb(),Q0(),Ls())})(Gut,function(n){return(function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=[],l=[],u=[],c=s.RabbitLegacy=o.extend({_doReset:function(){var f=this._key.words,h=this.cfg.iv,p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],m=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)d.call(this);for(var g=0;g<8;g++)m[g]^=p[g+4&7];if(h){var v=h.words,y=v[0],x=v[1],E=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,_=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,S=E>>>16|_&4294901760,T=_<<16|E&65535;m[0]^=E,m[1]^=S,m[2]^=_,m[3]^=T,m[4]^=E,m[5]^=S,m[6]^=_,m[7]^=T;for(var g=0;g<4;g++)d.call(this)}},_doProcessBlock:function(f,h){var p=this._X;d.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,f[h+m]^=a[m]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,h=this._C,p=0;p<8;p++)l[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=f[p]+h[p],g=m&65535,v=m>>>16,y=((g*g>>>17)+g*v>>>15)+v*v,x=((m&4294901760)*m|0)+((m&65535)*m|0);u[p]=y^x}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.RabbitLegacy=o._createHelper(c)})(),n.RabbitLegacy})})(SP)),SP.exports}var TP={exports:{}},Kut=TP.exports,Nae;function Xut(){return Nae||(Nae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Ob(),Nb(),Q0(),Ls())})(Kut,function(n){return(function(){var r=n,i=r.lib,o=i.BlockCipher,s=r.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function d(g,v){let y=v>>24&255,x=v>>16&255,E=v>>8&255,_=v&255,S=g.sbox[0][y]+g.sbox[1][x];return S=S^g.sbox[2][E],S=S+g.sbox[3][_],S}function f(g,v,y){let x=v,E=y,_;for(let S=0;S<a;++S)x=x^g.pbox[S],E=d(g,x)^E,_=x,x=E,E=_;return _=x,x=E,E=_,E=E^g.pbox[a],x=x^g.pbox[a+1],{left:x,right:E}}function h(g,v,y){let x=v,E=y,_;for(let S=a+1;S>1;--S)x=x^g.pbox[S],E=d(g,x)^E,_=x,x=E,E=_;return _=x,x=E,E=_,E=E^g.pbox[1],x=x^g.pbox[0],{left:x,right:E}}function p(g,v,y){for(let T=0;T<4;T++){g.sbox[T]=[];for(let k=0;k<256;k++)g.sbox[T][k]=u[T][k]}let x=0;for(let T=0;T<a+2;T++)g.pbox[T]=l[T]^v[x],x++,x>=y&&(x=0);let E=0,_=0,S=0;for(let T=0;T<a+2;T+=2)S=f(g,E,_),E=S.left,_=S.right,g.pbox[T]=E,g.pbox[T+1]=_;for(let T=0;T<4;T++)for(let k=0;k<256;k+=2)S=f(g,E,_),E=S.left,_=S.right,g.sbox[T][k]=E,g.sbox[T][k+1]=_;return!0}var m=s.Blowfish=o.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,v=g.words,y=g.sigBytes/4;p(c,v,y)}},encryptBlock:function(g,v){var y=f(c,g[v],g[v+1]);g[v]=y.left,g[v+1]=y.right},decryptBlock:function(g,v){var y=h(c,g[v],g[v+1]);g[v]=y.left,g[v+1]=y.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=o._createHelper(m)})(),n.Blowfish})})(TP)),TP.exports}var Qut=VD.exports,Mae;function Jut(){return Mae||(Mae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),RM(),Ylt(),Xlt(),Ob(),Zlt(),Nb(),E_e(),oY(),iut(),S_e(),aut(),uut(),dut(),sY(),put(),Q0(),Ls(),vut(),wut(),Cut(),Eut(),Tut(),Aut(),Iut(),Put(),Nut(),$ut(),Fut(),But(),Uut(),qut(),Wut(),Yut(),Xut())})(Qut,function(n){return n})})(VD)),VD.exports}var Ow=Jut();const T_e=Ow.enc.Hex.parse("000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f");function di(e){const t=Ow.AES.encrypt(e.toString(),T_e,{mode:Ow.mode.ECB}).toString();return btoa(t)}function jd(e){const t=Ow.AES.decrypt(atob(e),T_e,{mode:Ow.mode.ECB}).toString(Ow.enc.Utf8);return parseInt(t,10)}function Lm(){const{funcIndex:e}=$o(),t=bC(),n=hf(),r=pf(),i=e&&typeof n=="number"?`${t[n]}_${n}_${r}_${jd(e)}`:`${r}_${n}`;return Hn(s=>s.answers[i])}function df(){const[e]=uu();return!!e.get("participantId")}function Zut(){const e=Ya(),{recordScreenFPS:t,recordAudio:n}=e.uiConfig,r=A.useRef(null),[i,o]=A.useState(null),[s,a]=A.useState(!1),[l,u]=A.useState(!1),[c,d]=A.useState(!1),[f,h]=A.useState(!1),[p,m]=A.useState(!1),[g,v]=A.useState(!1),[y,x]=A.useState(!1),[E,_]=A.useState(!1),[S,T]=A.useState(!1),k=A.useRef(null),R=A.useRef(null),I=A.useRef(null),P=A.useRef(null),N=A.useRef(null),M=A.useRef(null),O=Fm(),j=Lm(),U=df(),{storageEngine:q}=ri(),W=pf(),[V]=A.useState(document.title),{studyHasScreenRecording:z,studyHasAudioRecording:L,currentComponentHasAudioRecording:H,currentComponentHasScreenRecording:B,currentComponentHasClickToRecord:Y}=C_e();A.useEffect(()=>{T(Y)},[Y]);const Q=A.useCallback(()=>{r.current&&(r.current.srcObject=null),m(!1),v(!1),x(!1),a(!1),u(!1),d(!1),I.current&&(I.current.getTracks().forEach(te=>{te.stop(),I.current?.removeTrack(te)}),I.current=null),N.current&&(N.current.getTracks().forEach(te=>{te.stop(),N.current?.removeTrack(te)}),N.current=null),R.current&&(R.current.stream.getTracks().forEach(te=>{te.stop(),R.current?.stream.removeTrack(te)}),R.current.stream.getVideoTracks().forEach(te=>{te.stop(),R.current?.stream.removeTrack(te)}),R.current.stream.getAudioTracks().forEach(te=>{te.stop(),R.current?.stream.removeTrack(te)}),R.current.stop(),R.current=null),P.current&&(P.current.stream.getTracks().forEach(te=>{te.stop(),P.current?.stream.removeTrack(te)}),P.current.stream.getAudioTracks().forEach(te=>{te.stop(),P.current?.stream.removeTrack(te)}),P.current.stop(),P.current=null)},[]),ne=A.useCallback(te=>{if(!(H||B)||!N.current)return;k.current=new MediaStream([...(B?N.current?.getVideoTracks():[])??[],...(H?I.current?.getAudioTracks():[])??[]]);const se=k.current;se.getAudioTracks().forEach(re=>{re.enabled=!S});const we=new MediaRecorder(se);R.current=we;const X=H&&I.current?new MediaRecorder(I.current):null;P.current=X;let he=[];we.addEventListener("dataavailable",re=>{re.data&&re.data.size>0&&he.push(re.data)});let ge=[];X?.addEventListener("dataavailable",re=>{re.data&&re.data.size>0&&ge.push(re.data)}),we.addEventListener("start",()=>{he=[]}),X?.addEventListener("start",()=>{ge=[]}),B?(we.addEventListener("stop",()=>{const{mimeType:re}=we,ee=new Blob(he,{type:re});q?.saveScreenRecording(ee,te).catch(fe=>{console.error("Error saving screen recording:",fe)})}),X?.addEventListener("stop",()=>{const{mimeType:re}=X,ee=new Blob(ge,{type:re});q?.saveAudioRecording(ee,te).catch(fe=>{console.error("Error saving audio recording:",fe)})})):we.addEventListener("stop",()=>{const{mimeType:re}=we,ee=new Blob(he,{type:re});q?.saveAudioRecording(ee,te).catch(fe=>{console.error("Error saving audio recording:",fe)})}),m(!0),h(!0),d(H),o(null),u(H),a(B),we.start(1e3),X?.start(1e3)},[H,B,q,S]),ce=A.useCallback(()=>{a(!1),d(!1),R.current?.stop(),P.current?.stop()},[]),le=A.useCallback(()=>{a(!1),d(!1),u(!1),R.current?.stop(),P.current&&(P.current.stream.getTracks().forEach(te=>{te.stop(),P.current?.stream.removeTrack(te)}),P.current.stream.getAudioTracks().forEach(te=>{te.stop(),P.current?.stream.removeTrack(te)}),P.current.stop(),P.current=null)},[]);A.useEffect(()=>{W!=="$screen-recording.components.screenRecordingPermission"&&W!=="end"&&f&&!p&&_(!0)},[W,p,f]);const ue=A.useCallback(te=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(se=>{I.current=se,k.current=se,se.getAudioTracks().forEach(he=>{he.enabled=!S});const we=new MediaRecorder(se);P.current=we;let X=[];we.addEventListener("start",()=>{X=[]}),we.addEventListener("dataavailable",he=>{he.data&&he.data.size>0&&X.push(he.data)}),we.addEventListener("stop",()=>{const{mimeType:he}=we,ge=new Blob(X,{type:he});q?.saveAudioRecording(ge,te).catch(re=>{console.error("Error saving audio recording:",re)})}),we.start()}),u(!0)},[q,S]);A.useEffect(()=>{if(!H&&P.current){le(),M.current=null;return}!e||z||!L||!q||j&&j.endTime>0||U||(P.current&&(le(),M.current=null),W!=="end"&&M.current!==O&&H&&(M.current=O,ue(O)))},[W,O,H]),A.useEffect(()=>{!e||!z||!q||j&&j.endTime>0||U||(R.current&&(ce(),M.current=null),W!=="end"&&y&&M.current!==O&&(H||B)&&(M.current=O,ne(O)),W==="end"&&Q())},[W,O,H,B,y]);const ae=A.useCallback(()=>{(async()=>{document.title=`RECORD THIS TAB: ${V}`;try{const se=z?await navigator.mediaDevices.getDisplayMedia({video:{displaySurface:"browser",...t?{frameRate:{ideal:t}}:{}},audio:!1,selfBrowserSurface:"include",preferCurrentTab:!0}):null;N.current=se;const we=L?await navigator.mediaDevices.getUserMedia({audio:!0,video:!1}):null;I.current=we;const X=new MediaStream([...se?.getVideoTracks()||[],...we?.getAudioTracks()??[]]);k.current=X,r.current&&(r.current.srcObject=X,r.current.play()),X.getTracks().forEach(he=>{he.addEventListener("ended",()=>{Q()})}),m(se!==null),v(we!==null),x(se!==null||we!==null),h(!0),d(!!n),o(null)}catch(se){console.error("Error accessing screen:",se),o("Recording permission denied or not supported.")}finally{document.title=V}})()},[V,n,t,Q,L,z]);return A.useEffect(()=>{I.current?.getAudioTracks().forEach(te=>{te.enabled=!S})},[S]),{recordVideoRef:r,studyHasScreenRecording:z,isMuted:S,setIsMuted:T,recordAudio:n,startScreenCapture:ae,stopScreenCapture:Q,startScreenRecording:ne,stopScreenRecording:ce,screenRecordingError:i,isScreenRecording:s,isAudioRecording:l,isScreenCapturing:p,isAudioCapturing:g,isMediaCapturing:y,combinedMediaRecorder:R,audioMediaStream:I,screenWithAudioRecording:c,clickToRecord:Y,isRejected:E}}const k_e=A.createContext(void 0);function A_e(){const e=A.useContext(k_e);if(!e)throw new Error("useRecordingContext must be used within a RecordingProvider");return e}function ect({setAnswer:e}){const{recordAudio:t,recordVideoRef:n,startScreenCapture:r,stopScreenCapture:i,isScreenCapturing:o,screenRecordingError:s,audioMediaStream:a}=A_e(),[l,u]=A.useState(!1);return A.useEffect(()=>{e({status:o&&(t?l:!0),provenanceGraph:void 0,answers:{screenRecordingPermission:o}})},[o,l,e,t]),A.useEffect(()=>{if(!o)return;const c=a.current;if(!c)return;new MediaRecorder(c).start();const f=new AudioContext,h=f.createMediaStreamSource(c),p=f.createAnalyser();p.minDecibels=-45,h.connect(p);const m=p.frequencyBinCount,g=new Uint8Array(m);let v=!1;const y=()=>{if(!v){p.getByteFrequencyData(g);for(let x=0;x<m;x+=1)g[x]>0&&(v=!0,u(!0));window.requestAnimationFrame(y)}};window.requestAnimationFrame(y)},[a,o,e]),b.jsxs(De,{p:"md",children:[b.jsxs(gr,{order:1,size:"h2",children:["Screen",t&&" and Audio"," ","Recording Permission"]}),t?b.jsxs(b.Fragment,{children:[b.jsxs("p",{children:["This study requires recording of your"," ",b.jsx("strong",{children:"screen"})," ","and"," ",b.jsx("strong",{children:"audio"}),". If you're not comfortable, you may exit and return the study."]}),b.jsx("p",{children:"Follow the steps below to grant screen and audio recording permissions."}),b.jsxs("ol",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Click the button below"})," ","to enable screen and audio recording.",b.jsx(Mt,{type:"button",onClick:o?i:r,display:"block",mt:"sm",children:o?"Stop Recording":"Start Recording"}),b.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"400px",border:"1px solid #ccc",marginTop:"1rem"}}),s&&b.jsx("p",{style:{color:"red"},children:s}),b.jsx("p",{children:b.jsx("i",{children:"Note: Please make sure you are recording the correct tab or window. Otherwise, stop and re-share the correct one."})})]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Speak"})," ","into your microphone to check if audio is working.",t&&o?b.jsx(De,{h:200,w:400,bd:"1px solid #ccc",children:b.jsx(JG,{height:200,width:400})}):b.jsx(De,{h:200,w:400,bd:"1px solid #ccc"})]})]}),b.jsx("strong",{children:"Note:"}),b.jsxs("ul",{children:[b.jsxs("li",{children:["After we hear you say something, the"," ",b.jsx("b",{children:"Continue"})," ","button will be enabled."]}),b.jsx("li",{children:"Please do not close the window or screen recording until the entire study is completed."})]})]}):b.jsxs(b.Fragment,{children:[b.jsxs("p",{children:["This study requires recording of your"," ",b.jsx("strong",{children:"screen"}),". If you're not comfortable, you may exit and return the study."]}),b.jsx("strong",{children:"Click the button below"})," ","to enable screen recording.",b.jsx(Mt,{type:"button",onClick:o?i:r,display:"block",mt:"sm",children:o?"Stop Recording":"Start Recording"}),b.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"400px",border:"1px solid #ccc",marginTop:"1rem"}}),s&&b.jsx("p",{style:{color:"red"},children:s}),b.jsx("p",{children:b.jsx("i",{children:"Note: Please make sure you are recording the correct tab or window. Otherwise, stop and re-share the correct one."})}),b.jsx("strong",{children:"Note:"}),b.jsx("ul",{children:b.jsx("li",{children:"Please do not close the window or screen recording until the entire study is completed."})})]})]})}const R_e=Object.freeze(Object.defineProperty({__proto__:null,default:ect},Symbol.toStringTag,{value:"Module"}));function tct(){return b.jsx("div",{children:"test react file"})}const I_e=Object.freeze(Object.defineProperty({__proto__:null,default:tct},Symbol.toStringTag,{value:"Module"})),nct=e=>e*Math.PI/180;function rct({parameters:e,setAnswer:t}){const n=A.useRef(null),r=A.useRef(null),i=A.useRef(null),{blindspotAngle:o}=e,s=Hn(S=>S.answers),a=Object.values(s).find(S=>S.componentName==="$virtual-chinrest.components.card-size"),l=Number(a?.answer?.pixelsPerMM),[u,c]=A.useState([]),[d,f]=A.useState(!1),[h,p]=A.useState(null),[m,g]=A.useState(5),v=A.useCallback(S=>{if(!S.length||!l||!r.current)return;const T=S.reduce((N,M)=>N+M,0)/S.length,R=r.current.getBoundingClientRect().left,P=Math.abs(T-R)/l/Math.tan(nct(o));p(P),f(!1)},[o,l]),y=()=>{n.current&&(n.current.style.left="740px")},x=A.useCallback(()=>{if(!n.current||!r.current||!l||u.length>=5)return;f(!0);let S=!1,T=0;const k=1e3,R=I=>{if(!n.current)return;if(S){I-T>=k&&(S=!1,n.current.style.left="740px"),i.current=requestAnimationFrame(R);return}const N=parseInt(n.current.style.left||"740",10)-2;N<=0?(S=!0,T=I):n.current.style.left=`${N}px`,i.current=requestAnimationFrame(R)};i.current=requestAnimationFrame(R)},[u,l]),E=()=>{i.current&&cancelAnimationFrame(i.current),f(!1)};A.useEffect(()=>{h!==null&&u.length===5&&t({status:!0,answers:{"dist-calibration-MM":h,"dist-calibration-CM":h/10,"ball-positions":JSON.stringify(u),"square-position":r.current?.getBoundingClientRect().left??0}})},[h,u,t]),A.useEffect(()=>{const S=T=>{if(T.code==="Space"){if(T.preventDefault(),!d)x();else if(n.current){E();const R=n.current.getBoundingClientRect().left;c(I=>{const P=[...I,R];return P.length>=5&&v(P),P}),g(I=>I-1),y()}}};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[d,x,v]),A.useEffect(()=>(p(null),f(!1),c([]),g(5),y(),()=>{p(null),f(!1),c([]),g(5)}),[]),A.useEffect(()=>()=>{i.current&&cancelAnimationFrame(i.current)},[]);const _=()=>{c([]),p(null),f(!1),g(5),y(),t({status:!1,answers:{}})};return l?b.jsx(G0,{size:"md",children:b.jsxs(Nn,{gap:"md",children:[b.jsx($e,{children:"Now we will quickly measure how far away you are sitting. "}),b.jsxs(Nn,{gap:"xs",children:[b.jsxs(ji,{children:[b.jsxs(ji.Item,{children:["Put your left hand on the",b.jsx("b",{children:"space bar"}),"."]}),b.jsx(ji.Item,{children:"Cover your right eye with your right hand."}),b.jsx(ji.Item,{children:"Using your left eye, focus on the black square. Keep your focus on the black square."}),b.jsxs(ji.Item,{children:["The",b.jsx("span",{style:{color:"red",fontWeight:"bold"},children:"red ball"})," ","will disappear as it moves from right to left. Press the space bar as soon as the ball disappears."]})]}),b.jsx($e,{ta:"center",fw:600,children:u.length>=5?"All measurements completed!":"Press the space bar when you are ready to begin."})]}),b.jsxs("div",{style:{position:"relative",width:"900px",height:"100px",backgroundColor:"#ffffff"},children:[b.jsx("div",{ref:n,style:{position:"absolute",width:"30px",height:"30px",backgroundColor:"rgb(255, 0, 0)",borderRadius:"30px",left:"740px"}}),b.jsx("div",{ref:r,style:{position:"absolute",width:"30px",height:"30px",backgroundColor:"rgb(0, 0, 0)",left:"870px"}})]}),b.jsxs($e,{ta:"center",children:["Remaining measurements:"," ",5-u.length]}),u.length>0&&b.jsxs(b.Fragment,{children:[b.jsx($e,{ta:"left",children:' Not happy with your measurements? You can restart by clicking "Retake".'}),b.jsx(Mt,{size:"md-compact",w:"fit-content",color:"indigo",onClick:_,children:"Retake"})]}),h&&b.jsxs(Nn,{gap:"xs",children:[b.jsx($e,{fw:700,size:"lg",children:"Viewing Distance Results"}),b.jsxs($e,{children:["Estimated Viewing Distance:"," ",(h/10).toFixed(1)," ","cm"]})]})]})}):b.jsx("div",{children:"Please complete card calibration first."})}const D_e=Object.freeze(Object.defineProperty({__proto__:null,default:rct},Symbol.toStringTag,{value:"Module"})),ict="/study/assets/card-DV7KyiWu.png",oct=(e,t)=>Math.round(e*t);function sct({parameters:e,setAnswer:t,itemWidthMM:n=85.6,itemHeightMM:r=53.98,fixedCorner:i="top-left"}){const[o,s]=A.useState(300),[a,l]=A.useState(!1),[u,c]=A.useState({min:100,max:500}),[d,f]=A.useState(!1),[h,p]=A.useState(!1),{taskid:m}=e,g=o/n,v=A.useRef(null),y=r/n;A.useEffect(()=>{const S=()=>{const T=window.innerWidth;c({min:Math.round(T*.1),max:Math.round(T*.8)})};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const x=S=>{s(S),f(!0),p(!1)},E=()=>{if(v.current){if(!d){p(!0);return}t({status:!0,answers:{[m]:g}}),l(!0)}},_=()=>({position:"relative",width:"100%",display:"flex",justifyContent:i.includes("right")?"flex-end":"flex-start",alignItems:i.includes("bottom")?"flex-end":"flex-start"});return b.jsxs(Nn,{gap:"lg",children:[b.jsx($e,{size:"md",children:" Drag the slider until the image is the same size as a credit card held up to the screen."}),b.jsx($e,{size:"md",children:" You can use any card that is the same size as a credit card, like a membership card or driver's license."}),b.jsx($e,{size:"md",children:" If you do not have access to a real card, you can use a ruler to measure the image width to 3.37 inches or 85.6mm. "}),b.jsx($e,{size:"md",children:' Once you are finished, click "Confirm Size" and then "Next". '}),b.jsx(oM,{min:u.min,max:u.max,value:o,label:null,onChange:x,styles:{root:{width:"100%"},track:{cursor:"pointer"},thumb:{cursor:"grab"},bar:{cursor:"pointer"}}}),b.jsx("div",{style:_(),children:b.jsx("div",{ref:v,style:{width:`${o}px`,height:`${oct(o,y)}px`,overflow:"hidden"},children:b.jsx("img",{src:ict,alt:"Credit Card",style:{width:"100%",height:"100%",objectFit:"contain"}})})}),a&&b.jsxs("div",{style:{textAlign:"center",color:"green"},children:["Calibration Complete - Pixels per MM:"," ",g?.toFixed(2)]}),h&&b.jsx($e,{c:"red",size:"md",fw:500,children:"Please move the slider to calibrate before confirming."}),b.jsx(Mt,{onClick:E,size:"lg",variant:"transparent",children:"Confirm Size"})]})}const P_e=Object.freeze(Object.defineProperty({__proto__:null,default:sct},Symbol.toStringTag,{value:"Module"}));function Lp(e){if(!e)return{step:null,funcIndex:null};const[t,n]=e.split("_"),r=Number.parseInt(t,10),i=n===void 0?null:Number.parseInt(n,10);return{step:Number.isFinite(r)?r:null,funcIndex:i!==null&&Number.isFinite(i)?i:null}}function ff(){const{studyId:e}=$o();return`${e}`}function hf(){const{index:e}=$o(),t=Hn(a=>a.answers),n=A.useMemo(()=>e===void 0?0:e.startsWith("reviewer-")||e.startsWith("__")?e:jd(e),[e]),[r]=uu(),i=r.get("currentTrial")||"",o=i?t[i]?.trialOrder:void 0,{step:s}=Lp(o);return i&&s!==null?s:n}const $ae=Object.assign({"../public/libraries/adaptive-vlat/assets/VlatTrial.tsx":GCe,"../public/libraries/adaptive-vlat/assets/dynamic.tsx":XCe,"../public/libraries/adaptive-vlat/assets/utils.ts":KCe,"../public/libraries/adaptive-vlat/assets/vlatQ.tsx":WCe,"../public/libraries/berlin-num/assets/dynamic.tsx":QCe,"../public/libraries/mic-check/assets/AudioTest.tsx":JCe,"../public/libraries/screen-recording/assets/ScreenRecording.tsx":R_e,"../public/libraries/test/assets/test.tsx":I_e,"../public/libraries/virtual-chinrest/assets/ViewingDistanceCalibration.tsx":D_e,"../public/libraries/virtual-chinrest/assets/VirtualChinrestCalibration.tsx":P_e});function pf(){const{funcIndex:e}=$o(),t=Hn(E=>E.answers),[n]=uu(),r=Ya(),i=hf(),o=bC(),s=fa(),a=ff(),l=bo(),{pushToFuncSequence:u}=Qi(),c=n.get("currentTrial")||"",d=c?t[c]?.trialOrder:void 0,{step:f,funcIndex:h}=Lp(d),[p,m]=A.useState(null),g=A.useMemo(()=>typeof i=="number"?Kse(o[i],r):i.includes("reviewer-")||i.startsWith("__")?i:null,[i,o,r]),[v,y]=A.useState("__dynamicLoading"),x=A.useMemo(()=>{if(typeof i=="number"&&!g){const E=Pz(o[i],r.sequence);if(!E)return null;const _=`../public/${E.functionPath}`;return _ in $ae?$ae[_].default:null}return null},[g,i,o,r.sequence]);return A.useEffect(()=>{!e&&x&&typeof i=="number"&&s(`/${a}/${di(i)}/${di(f===i&&h!==null?h:0)}${window.location.search}`)},[i,h,f,e,s,x,a]),A.useEffect(()=>{if(typeof i!="number"||f===null||f!==i||!e)return;const E=jd(e);if(h===null){s(`/${a}/${di(i)}${window.location.search}`);return}E!==h&&s(`/${a}/${di(i)}/${di(h)}${window.location.search}`)},[i,h,f,e,s,a]),A.useEffect(()=>{if(typeof i=="number"){const E=Kse(o[i],r),_=o[i],S=e?jd(e):0,T=Object.entries(t).find(([R,I])=>R.startsWith(`${_}_${i}_`)&&R.endsWith(`${S}`)),k=T?T[1].componentName:null;if(k!==null){y(k),m(S);return}if(!E&&x!==null){const{component:R,parameters:I,correctAnswer:P}=x({answers:t,customParameters:Pz(o[i],r.sequence)?.parameters,currentStep:i,currentBlock:o[i]});R!==null?e&&(y(R),m(S),l(u({component:R,funcName:_,index:i,funcIndex:S,parameters:I||void 0,correctAnswer:P||void 0}))):(y("__dynamicLoading"),m(null),s(`/${a}/${di(i+1)}${window.location.search}`))}}},[i,e]),typeof i=="number"&&o[i]==="end"?"end":g?typeof i=="number"?o[i]:i.replace("reviewer-",""):p!==null&&e&&jd(e)===p?v:"__dynamicLoading"}function Fm(){const e=hf(),t=bC(),n=pf(),{funcIndex:r}=$o();return A.useMemo(()=>r&&typeof e=="number"?`${t[e]}_${e}_${n}_${jd(r)}`:`${n}_${e}`,[n,e,r,t])}var PE={exports:{}};PE.exports;var Lae;function act(){return Lae||(Lae=1,(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Null]",y="[object Object]",x="[object Promise]",E="[object Proxy]",_="[object RegExp]",S="[object Set]",T="[object String]",k="[object Symbol]",R="[object Undefined]",I="[object WeakMap]",P="[object ArrayBuffer]",N="[object DataView]",M="[object Float32Array]",O="[object Float64Array]",j="[object Int8Array]",U="[object Int16Array]",q="[object Int32Array]",W="[object Uint8Array]",V="[object Uint8ClampedArray]",z="[object Uint16Array]",L="[object Uint32Array]",H=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,Q={};Q[M]=Q[O]=Q[j]=Q[U]=Q[q]=Q[W]=Q[V]=Q[z]=Q[L]=!0,Q[a]=Q[l]=Q[P]=Q[c]=Q[N]=Q[d]=Q[f]=Q[h]=Q[m]=Q[g]=Q[y]=Q[_]=Q[S]=Q[T]=Q[I]=!1;var ne=typeof xi=="object"&&xi&&xi.Object===Object&&xi,ce=typeof self=="object"&&self&&self.Object===Object&&self,le=ne||ce||Function("return this")(),ue=t&&!t.nodeType&&t,ae=ue&&!0&&e&&!e.nodeType&&e,te=ae&&ae.exports===ue,se=te&&ne.process,we=(function(){try{return se&&se.binding&&se.binding("util")}catch{}})(),X=we&&we.isTypedArray;function he(Ee,oe){for(var ve=-1,Le=Ee==null?0:Ee.length,St=0,Dt=[];++ve<Le;){var fn=Ee[ve];oe(fn,ve,Ee)&&(Dt[St++]=fn)}return Dt}function ge(Ee,oe){for(var ve=-1,Le=oe.length,St=Ee.length;++ve<Le;)Ee[St+ve]=oe[ve];return Ee}function re(Ee,oe){for(var ve=-1,Le=Ee==null?0:Ee.length;++ve<Le;)if(oe(Ee[ve],ve,Ee))return!0;return!1}function ee(Ee,oe){for(var ve=-1,Le=Array(Ee);++ve<Ee;)Le[ve]=oe(ve);return Le}function fe(Ee){return function(oe){return Ee(oe)}}function Re(Ee,oe){return Ee.has(oe)}function Oe(Ee,oe){return Ee?.[oe]}function Ae(Ee){var oe=-1,ve=Array(Ee.size);return Ee.forEach(function(Le,St){ve[++oe]=[St,Le]}),ve}function Se(Ee,oe){return function(ve){return Ee(oe(ve))}}function xe(Ee){var oe=-1,ve=Array(Ee.size);return Ee.forEach(function(Le){ve[++oe]=Le}),ve}var ke=Array.prototype,me=Function.prototype,Me=Object.prototype,ze=le["__core-js_shared__"],Xe=me.toString,tt=Me.hasOwnProperty,gt=(function(){var Ee=/[^.]+$/.exec(ze&&ze.keys&&ze.keys.IE_PROTO||"");return Ee?"Symbol(src)_1."+Ee:""})(),qt=Me.toString,zt=RegExp("^"+Xe.call(tt).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_n=te?le.Buffer:void 0,$t=le.Symbol,dn=le.Uint8Array,Vn=Me.propertyIsEnumerable,Ln=ke.splice,Tr=$t?$t.toStringTag:void 0,Xn=Object.getOwnPropertySymbols,mr=_n?_n.isBuffer:void 0,En=Se(Object.keys,Object),nn=sr(le,"DataView"),rr=sr(le,"Map"),ii=sr(le,"Promise"),br=sr(le,"Set"),Sn=sr(le,"WeakMap"),ht=sr(Object,"create"),cr=Si(nn),Ut=Si(rr),Zn=Si(ii),sn=Si(br),Yn=Si(Sn),wr=$t?$t.prototype:void 0,kr=wr?wr.valueOf:void 0;function Ar(Ee){var oe=-1,ve=Ee==null?0:Ee.length;for(this.clear();++oe<ve;){var Le=Ee[oe];this.set(Le[0],Le[1])}}function Jo(){this.__data__=ht?ht(null):{},this.size=0}function pa(Ee){var oe=this.has(Ee)&&delete this.__data__[Ee];return this.size-=oe?1:0,oe}function hu(Ee){var oe=this.__data__;if(ht){var ve=oe[Ee];return ve===r?void 0:ve}return tt.call(oe,Ee)?oe[Ee]:void 0}function ec(Ee){var oe=this.__data__;return ht?oe[Ee]!==void 0:tt.call(oe,Ee)}function Fn(Ee,oe){var ve=this.__data__;return this.size+=this.has(Ee)?0:1,ve[Ee]=ht&&oe===void 0?r:oe,this}Ar.prototype.clear=Jo,Ar.prototype.delete=pa,Ar.prototype.get=hu,Ar.prototype.has=ec,Ar.prototype.set=Fn;function Ni(Ee){var oe=-1,ve=Ee==null?0:Ee.length;for(this.clear();++oe<ve;){var Le=Ee[oe];this.set(Le[0],Le[1])}}function Zo(){this.__data__=[],this.size=0}function Rf(Ee){var oe=this.__data__,ve=Ce(oe,Ee);if(ve<0)return!1;var Le=oe.length-1;return ve==Le?oe.pop():Ln.call(oe,ve,1),--this.size,!0}function td(Ee){var oe=this.__data__,ve=Ce(oe,Ee);return ve<0?void 0:oe[ve][1]}function tc(Ee){return Ce(this.__data__,Ee)>-1}function nc(Ee,oe){var ve=this.__data__,Le=Ce(ve,Ee);return Le<0?(++this.size,ve.push([Ee,oe])):ve[Le][1]=oe,this}Ni.prototype.clear=Zo,Ni.prototype.delete=Rf,Ni.prototype.get=td,Ni.prototype.has=tc,Ni.prototype.set=nc;function es(Ee){var oe=-1,ve=Ee==null?0:Ee.length;for(this.clear();++oe<ve;){var Le=Ee[oe];this.set(Le[0],Le[1])}}function If(){this.size=0,this.__data__={hash:new Ar,map:new(rr||Ni),string:new Ar}}function pu(Ee){var oe=Wt(this,Ee).delete(Ee);return this.size-=oe?1:0,oe}function dr(Ee){return Wt(this,Ee).get(Ee)}function nd(Ee){return Wt(this,Ee).has(Ee)}function wo(Ee,oe){var ve=Wt(this,Ee),Le=ve.size;return ve.set(Ee,oe),this.size+=ve.size==Le?0:1,this}es.prototype.clear=If,es.prototype.delete=pu,es.prototype.get=dr,es.prototype.has=nd,es.prototype.set=wo;function ps(Ee){var oe=-1,ve=Ee==null?0:Ee.length;for(this.__data__=new es;++oe<ve;)this.add(Ee[oe])}function xo(Ee){return this.__data__.set(Ee,r),this}function mu(Ee){return this.__data__.has(Ee)}ps.prototype.add=ps.prototype.push=xo,ps.prototype.has=mu;function Bs(Ee){var oe=this.__data__=new Ni(Ee);this.size=oe.size}function Il(){this.__data__=new Ni,this.size=0}function Co(Ee){var oe=this.__data__,ve=oe.delete(Ee);return this.size=oe.size,ve}function Df(Ee){return this.__data__.get(Ee)}function _o(Ee){return this.__data__.has(Ee)}function pe(Ee,oe){var ve=this.__data__;if(ve instanceof Ni){var Le=ve.__data__;if(!rr||Le.length<n-1)return Le.push([Ee,oe]),this.size=++ve.size,this;ve=this.__data__=new es(Le)}return ve.set(Ee,oe),this.size=ve.size,this}Bs.prototype.clear=Il,Bs.prototype.delete=Co,Bs.prototype.get=Df,Bs.prototype.has=_o,Bs.prototype.set=pe;function Ne(Ee,oe){var ve=Ho(Ee),Le=!ve&&ic(Ee),St=!ve&&!Le&&Nf(Ee),Dt=!ve&&!Le&&!St&&gu(Ee),fn=ve||Le||St||Dt,Mn=fn?ee(Ee.length,String):[],Kt=Mn.length;for(var yn in Ee)tt.call(Ee,yn)&&!(fn&&(yn=="length"||St&&(yn=="offset"||yn=="parent")||Dt&&(yn=="buffer"||yn=="byteLength"||yn=="byteOffset")||Pf(yn,Kt)))&&Mn.push(yn);return Mn}function Ce(Ee,oe){for(var ve=Ee.length;ve--;)if(ms(Ee[ve][0],oe))return ve;return-1}function Be(Ee,oe,ve){var Le=oe(Ee);return Ho(Ee)?Le:ge(Le,ve(Ee))}function He(Ee){return Ee==null?Ee===void 0?R:v:Tr&&Tr in Object(Ee)?Eo(Ee):Mi(Ee)}function je(Ee){return zs(Ee)&&He(Ee)==a}function rt(Ee,oe,ve,Le,St){return Ee===oe?!0:Ee==null||oe==null||!zs(Ee)&&!zs(oe)?Ee!==Ee&&oe!==oe:ut(Ee,oe,ve,Le,rt,St)}function ut(Ee,oe,ve,Le,St,Dt){var fn=Ho(Ee),Mn=Ho(oe),Kt=fn?l:So(Ee),yn=Mn?l:So(oe);Kt=Kt==a?y:Kt,yn=yn==a?y:yn;var or=Kt==y,Yr=yn==y,oi=Kt==yn;if(oi&&Nf(Ee)){if(!Nf(oe))return!1;fn=!0,or=!1}if(oi&&!or)return Dt||(Dt=new Bs),fn||gu(Ee)?jt(Ee,oe,ve,Le,St,Dt):Pn(Ee,oe,Kt,ve,Le,St,Dt);if(!(ve&i)){var wi=or&&tt.call(Ee,"__wrapped__"),co=Yr&&tt.call(oe,"__wrapped__");if(wi||co){var si=wi?Ee.value():Ee,To=co?oe.value():oe;return Dt||(Dt=new Bs),St(si,To,ve,Le,Dt)}}return oi?(Dt||(Dt=new Bs),Xt(Ee,oe,ve,Le,St,Dt)):!1}function pt(Ee){if(!Mf(Ee)||Of(Ee))return!1;var oe=to(Ee)?zt:B;return oe.test(Si(Ee))}function ft(Ee){return zs(Ee)&&Km(Ee.length)&&!!Q[He(Ee)]}function _t(Ee){if(!ts(Ee))return En(Ee);var oe=[];for(var ve in Object(Ee))tt.call(Ee,ve)&&ve!="constructor"&&oe.push(ve);return oe}function jt(Ee,oe,ve,Le,St,Dt){var fn=ve&i,Mn=Ee.length,Kt=oe.length;if(Mn!=Kt&&!(fn&&Kt>Mn))return!1;var yn=Dt.get(Ee);if(yn&&Dt.get(oe))return yn==oe;var or=-1,Yr=!0,oi=ve&o?new ps:void 0;for(Dt.set(Ee,oe),Dt.set(oe,Ee);++or<Mn;){var wi=Ee[or],co=oe[or];if(Le)var si=fn?Le(co,wi,or,oe,Ee,Dt):Le(wi,co,or,Ee,oe,Dt);if(si!==void 0){if(si)continue;Yr=!1;break}if(oi){if(!re(oe,function(To,Pl){if(!Re(oi,Pl)&&(wi===To||St(wi,To,ve,Le,Dt)))return oi.push(Pl)})){Yr=!1;break}}else if(!(wi===co||St(wi,co,ve,Le,Dt))){Yr=!1;break}}return Dt.delete(Ee),Dt.delete(oe),Yr}function Pn(Ee,oe,ve,Le,St,Dt,fn){switch(ve){case N:if(Ee.byteLength!=oe.byteLength||Ee.byteOffset!=oe.byteOffset)return!1;Ee=Ee.buffer,oe=oe.buffer;case P:return!(Ee.byteLength!=oe.byteLength||!Dt(new dn(Ee),new dn(oe)));case c:case d:case g:return ms(+Ee,+oe);case f:return Ee.name==oe.name&&Ee.message==oe.message;case _:case T:return Ee==oe+"";case m:var Mn=Ae;case S:var Kt=Le&i;if(Mn||(Mn=xe),Ee.size!=oe.size&&!Kt)return!1;var yn=fn.get(Ee);if(yn)return yn==oe;Le|=o,fn.set(Ee,oe);var or=jt(Mn(Ee),Mn(oe),Le,St,Dt,fn);return fn.delete(Ee),or;case k:if(kr)return kr.call(Ee)==kr.call(oe)}return!1}function Xt(Ee,oe,ve,Le,St,Dt){var fn=ve&i,Mn=Qn(Ee),Kt=Mn.length,yn=Qn(oe),or=yn.length;if(Kt!=or&&!fn)return!1;for(var Yr=Kt;Yr--;){var oi=Mn[Yr];if(!(fn?oi in oe:tt.call(oe,oi)))return!1}var wi=Dt.get(Ee);if(wi&&Dt.get(oe))return wi==oe;var co=!0;Dt.set(Ee,oe),Dt.set(oe,Ee);for(var si=fn;++Yr<Kt;){oi=Mn[Yr];var To=Ee[oi],Pl=oe[oi];if(Le)var yu=fn?Le(Pl,To,oi,oe,Ee,Dt):Le(To,Pl,oi,Ee,oe,Dt);if(!(yu===void 0?To===Pl||St(To,Pl,ve,Le,Dt):yu)){co=!1;break}si||(si=oi=="constructor")}if(co&&!si){var Qm=Ee.constructor,rd=oe.constructor;Qm!=rd&&"constructor"in Ee&&"constructor"in oe&&!(typeof Qm=="function"&&Qm instanceof Qm&&typeof rd=="function"&&rd instanceof rd)&&(co=!1)}return Dt.delete(Ee),Dt.delete(oe),co}function Qn(Ee){return Be(Ee,Xm,ma)}function Wt(Ee,oe){var ve=Ee.__data__;return rc(oe)?ve[typeof oe=="string"?"string":"hash"]:ve.map}function sr(Ee,oe){var ve=Oe(Ee,oe);return pt(ve)?ve:void 0}function Eo(Ee){var oe=tt.call(Ee,Tr),ve=Ee[Tr];try{Ee[Tr]=void 0;var Le=!0}catch{}var St=qt.call(Ee);return Le&&(oe?Ee[Tr]=ve:delete Ee[Tr]),St}var ma=Xn?function(Ee){return Ee==null?[]:(Ee=Object(Ee),he(Xn(Ee),function(oe){return Vn.call(Ee,oe)}))}:Ka,So=He;(nn&&So(new nn(new ArrayBuffer(1)))!=N||rr&&So(new rr)!=m||ii&&So(ii.resolve())!=x||br&&So(new br)!=S||Sn&&So(new Sn)!=I)&&(So=function(Ee){var oe=He(Ee),ve=oe==y?Ee.constructor:void 0,Le=ve?Si(ve):"";if(Le)switch(Le){case cr:return N;case Ut:return m;case Zn:return x;case sn:return S;case Yn:return I}return oe});function Pf(Ee,oe){return oe=oe??s,!!oe&&(typeof Ee=="number"||Y.test(Ee))&&Ee>-1&&Ee%1==0&&Ee<oe}function rc(Ee){var oe=typeof Ee;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?Ee!=="__proto__":Ee===null}function Of(Ee){return!!gt&&gt in Ee}function ts(Ee){var oe=Ee&&Ee.constructor,ve=typeof oe=="function"&&oe.prototype||Me;return Ee===ve}function Mi(Ee){return qt.call(Ee)}function Si(Ee){if(Ee!=null){try{return Xe.call(Ee)}catch{}try{return Ee+""}catch{}}return""}function ms(Ee,oe){return Ee===oe||Ee!==Ee&&oe!==oe}var ic=je((function(){return arguments})())?je:function(Ee){return zs(Ee)&&tt.call(Ee,"callee")&&!Vn.call(Ee,"callee")},Ho=Array.isArray;function ga(Ee){return Ee!=null&&Km(Ee.length)&&!to(Ee)}var Nf=mr||ya;function Dl(Ee,oe){return rt(Ee,oe)}function to(Ee){if(!Mf(Ee))return!1;var oe=He(Ee);return oe==h||oe==p||oe==u||oe==E}function Km(Ee){return typeof Ee=="number"&&Ee>-1&&Ee%1==0&&Ee<=s}function Mf(Ee){var oe=typeof Ee;return Ee!=null&&(oe=="object"||oe=="function")}function zs(Ee){return Ee!=null&&typeof Ee=="object"}var gu=X?fe(X):ft;function Xm(Ee){return ga(Ee)?Ne(Ee):_t(Ee)}function Ka(){return[]}function ya(){return!1}e.exports=Dl})(PE,PE.exports)),PE.exports}var lct=act();const Q3=Qo(lct);function Sd(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(i){return"'"+i+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function b0(e){return!!e&&!!e[Yi]}function hm(e){var t;return!!e&&((function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===yct})(e)||Array.isArray(e)||!!e[qae]||!!(!((t=e.constructor)===null||t===void 0)&&t[qae])||aY(e)||lY(e))}function Wv(e,t,n){n===void 0&&(n=!1),wC(e)===0?(n?Object.keys:Mw)(e).forEach((function(r){n&&typeof r=="symbol"||t(r,e[r],e)})):e.forEach((function(r,i){return t(i,r,e)}))}function wC(e){var t=e[Yi];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:aY(e)?2:lY(e)?3:0}function Nw(e,t){return wC(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uct(e,t){return wC(e)===2?e.get(t):e[t]}function O_e(e,t,n){var r=wC(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function N_e(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function aY(e){return mct&&e instanceof Map}function lY(e){return gct&&e instanceof Set}function Gy(e){return e.o||e.t}function uY(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=$_e(e);delete t[Yi];for(var n=Mw(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function cY(e,t){return t===void 0&&(t=!1),dY(e)||b0(e)||!hm(e)||(wC(e)>1&&(e.set=e.add=e.clear=e.delete=cct),Object.freeze(e),t&&Wv(e,(function(n,r){return cY(r,!0)}),!0)),e}function cct(){Sd(2)}function dY(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function mh(e){var t=$z[e];return t||Sd(18,e),t}function dct(e,t){$z[e]||($z[e]=t)}function Oz(){return w2}function E8(e,t){t&&(mh("Patches"),e.u=[],e.s=[],e.v=t)}function J3(e){Nz(e),e.p.forEach(fct),e.p=null}function Nz(e){e===w2&&(w2=e.l)}function Fae(e){return w2={p:[],l:w2,h:e,m:!0,_:0}}function fct(e){var t=e[Yi];t.i===0||t.i===1?t.j():t.g=!0}function S8(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||mh("ES5").S(t,e,r),r?(n[Yi].P&&(J3(t),Sd(4)),hm(e)&&(e=Z3(t,e),t.l||eO(t,e)),t.u&&mh("Patches").M(n[Yi].t,e,t.u,t.s)):e=Z3(t,n,[]),J3(t),t.u&&t.v(t.u,t.s),e!==M_e?e:void 0}function Z3(e,t,n){if(dY(t))return t;var r=t[Yi];if(!r)return Wv(t,(function(a,l){return jae(e,r,t,a,l,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return eO(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=uY(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),Wv(o,(function(a,l){return jae(e,r,i,a,l,n,s)})),eO(e,i,!1),n&&e.u&&mh("Patches").N(r,n,e.u,e.s)}return r.o}function jae(e,t,n,r,i,o,s){if(b0(i)){var a=Z3(e,i,o&&t&&t.i!==3&&!Nw(t.R,r)?o.concat(r):void 0);if(O_e(n,r,a),!b0(a))return;e.m=!1}else s&&n.add(i);if(hm(i)&&!dY(i)){if(!e.h.D&&e._<1)return;Z3(e,i),t&&t.A.l||eO(e,i)}}function eO(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&cY(t,n)}function T8(e,t){var n=e[Yi];return(n?Gy(n):e)[t]}function Bae(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function jg(e){e.P||(e.P=!0,e.l&&jg(e.l))}function k8(e){e.o||(e.o=uY(e.t))}function Mz(e,t,n){var r=aY(t)?mh("MapSet").F(t,n):lY(t)?mh("MapSet").T(t,n):e.O?(function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:Oz(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=x2;s&&(l=[a],u=OE);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f})(t,n):mh("ES5").J(t,n);return(n?n.A:Oz()).p.push(r),r}function hct(e){return b0(e)||Sd(22,e),(function t(n){if(!hm(n))return n;var r,i=n[Yi],o=wC(n);if(i){if(!i.P&&(i.i<4||!mh("ES5").K(i)))return i.t;i.I=!0,r=zae(n,o),i.I=!1}else r=zae(n,o);return Wv(r,(function(s,a){i&&uct(i.t,s)===a||O_e(r,s,t(a))})),o===3?new Set(r):r})(e)}function zae(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return uY(e)}function pct(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var l=this[Yi];return x2.get(l,o)},set:function(l){var u=this[Yi];x2.set(u,o,l)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Yi];if(!a.P)switch(a.i){case 5:r(a)&&jg(a);break;case 4:n(a)&&jg(a)}}}function n(o){for(var s=o.t,a=o.k,l=Mw(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Yi){var d=s[c];if(d===void 0&&!Nw(s,c))return!0;var f=a[c],h=f&&f[Yi];if(h?h.t!==d:!N_e(f,d))return!0}}var p=!!s[Yi];return l.length!==Mw(s).length+(p?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var l=0;l<s.length;l++)if(!s.hasOwnProperty(l))return!0;return!1}var i={};dct("ES5",{J:function(o,s){var a=Array.isArray(o),l=(function(c,d){if(c){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,e(h,!0));return f}var p=$_e(d);delete p[Yi];for(var m=Mw(p),g=0;g<m.length;g++){var v=m[g];p[v]=e(v,c||!!p[v].enumerable)}return Object.create(Object.getPrototypeOf(d),p)})(a,o),u={i:a?5:4,A:s?s.A:Oz(),P:!1,I:!1,R:{},l:s,t:o,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Yi,{value:u,writable:!0}),l},S:function(o,s,a){a?b0(s)&&s[Yi].A===o&&t(o.p):(o.u&&(function l(u){if(u&&typeof u=="object"){var c=u[Yi];if(c){var d=c.t,f=c.k,h=c.R,p=c.i;if(p===4)Wv(f,(function(x){x!==Yi&&(d[x]!==void 0||Nw(d,x)?h[x]||l(f[x]):(h[x]=!0,jg(c)))})),Wv(d,(function(x){f[x]!==void 0||Nw(f,x)||(h[x]=!1,jg(c))}));else if(p===5){if(r(c)&&(jg(c),h.length=!0),f.length<d.length)for(var m=f.length;m<d.length;m++)h[m]=!1;else for(var g=d.length;g<f.length;g++)h[g]=!0;for(var v=Math.min(f.length,d.length),y=0;y<v;y++)f.hasOwnProperty(y)||(h[y]=!0),h[y]===void 0&&l(f[y])}}}})(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var Uae,w2,fY=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",mct=typeof Map<"u",gct=typeof Set<"u",Hae=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",M_e=fY?Symbol.for("immer-nothing"):((Uae={})["immer-nothing"]=!0,Uae),qae=fY?Symbol.for("immer-draftable"):"__$immer_draftable",Yi=fY?Symbol.for("immer-state"):"__$immer_state",yct=""+Object.prototype.constructor,Mw=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,$_e=Object.getOwnPropertyDescriptors||function(e){var t={};return Mw(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},$z={},x2={get:function(e,t){if(t===Yi)return e;var n=Gy(e);if(!Nw(n,t))return(function(i,o,s){var a,l=Bae(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0})(e,n,t);var r=n[t];return e.I||!hm(r)?r:r===T8(e.t,t)?(k8(e),e.o[t]=Mz(e.A.h,r,e)):r},has:function(e,t){return t in Gy(e)},ownKeys:function(e){return Reflect.ownKeys(Gy(e))},set:function(e,t,n){var r=Bae(Gy(e),t);if(r?.set)return r.set.call(e.k,n),!0;if(!e.P){var i=T8(Gy(e),t),o=i?.[Yi];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(N_e(n,i)&&(n!==void 0||Nw(e.t,t)))return!0;k8(e),jg(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return T8(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,k8(e),jg(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Gy(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Sd(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Sd(12)}},OE={};Wv(x2,(function(e,t){OE[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),OE.deleteProperty=function(e,t){return OE.set.call(this,e,t,void 0)},OE.set=function(e,t,n){return x2.set.call(this,e[0],t,n,e[0])};var vct=(function(){function e(n){var r=this;this.O=Hae,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(m){var g=this;m===void 0&&(m=a);for(var v=arguments.length,y=Array(v>1?v-1:0),x=1;x<v;x++)y[x-1]=arguments[x];return l.produce(m,(function(E){var _;return(_=o).call.apply(_,[g,E].concat(y))}))}}var u;if(typeof o!="function"&&Sd(6),s!==void 0&&typeof s!="function"&&Sd(7),hm(i)){var c=Fae(r),d=Mz(r,i,void 0),f=!0;try{u=o(d),f=!1}finally{f?J3(c):Nz(c)}return typeof Promise<"u"&&u instanceof Promise?u.then((function(m){return E8(c,s),S8(m,c)}),(function(m){throw J3(c),m})):(E8(c,s),S8(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===M_e&&(u=void 0),r.D&&cY(u,!0),s){var h=[],p=[];mh("Patches").M(i,u,h,p),s(h,p)}return u}Sd(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,(function(h){return i.apply(void 0,[h].concat(d))}))};var s,a,l=r.produce(i,o,(function(u,c){s=u,a=c}));return typeof Promise<"u"&&l instanceof Promise?l.then((function(u){return[u,s,a]})):[l,s,a]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){hm(n)||Sd(8),b0(n)&&(n=hct(n));var r=Fae(this),i=Mz(this,n,void 0);return i[Yi].C=!0,Nz(r),i},t.finishDraft=function(n,r){var i=n&&n[Yi],o=i.A;return E8(o,r),S8(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Hae&&Sd(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=mh("Patches").$;return b0(n)?s(n,r):this.produce(n,(function(a){return s(a,r)}))},e})(),qu=new vct,L_e=qu.produce;qu.produceWithPatches.bind(qu);qu.setAutoFreeze.bind(qu);qu.setUseProxies.bind(qu);qu.applyPatches.bind(qu);qu.createDraft.bind(qu);qu.finishDraft.bind(qu);function C2(e){"@babel/helpers - typeof";return C2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C2(e)}function bct(e,t){if(C2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(C2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wct(e){var t=bct(e,"string");return C2(t)=="symbol"?t:t+""}function xct(e,t,n){return(t=wct(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vae(Object(n),!0).forEach(function(r){xct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vae(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aa(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Gae=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),A8=function(){return Math.random().toString(36).substring(7).split("").join(".")},tO={INIT:"@@redux/INIT"+A8(),REPLACE:"@@redux/REPLACE"+A8(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+A8()}};function Cct(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function F_e(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Aa(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Aa(1));return n(F_e)(e,t)}if(typeof e!="function")throw new Error(Aa(2));var i=e,o=t,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(Aa(3));return o}function d(m){if(typeof m!="function")throw new Error(Aa(4));if(l)throw new Error(Aa(5));var g=!0;return u(),a.push(m),function(){if(g){if(l)throw new Error(Aa(6));g=!1,u();var y=a.indexOf(m);a.splice(y,1),s=null}}}function f(m){if(!Cct(m))throw new Error(Aa(7));if(typeof m.type>"u")throw new Error(Aa(8));if(l)throw new Error(Aa(9));try{l=!0,o=i(o,m)}finally{l=!1}for(var g=s=a,v=0;v<g.length;v++){var y=g[v];y()}return m}function h(m){if(typeof m!="function")throw new Error(Aa(10));i=m,f({type:tO.REPLACE})}function p(){var m,g=d;return m={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(Aa(11));function x(){y.next&&y.next(c())}x();var E=g(x);return{unsubscribe:E}}},m[Gae]=function(){return this},m}return f({type:tO.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:h},r[Gae]=p,r}function _ct(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:tO.INIT});if(typeof r>"u")throw new Error(Aa(12));if(typeof n(void 0,{type:tO.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Aa(13))})}function Ect(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),s;try{_ct(n)}catch(a){s=a}return function(l,u){if(l===void 0&&(l={}),s)throw s;for(var c=!1,d={},f=0;f<o.length;f++){var h=o[f],p=n[h],m=l[h],g=p(m,u);if(typeof g>"u")throw u&&u.type,new Error(Aa(14));d[h]=g,c=c||g!==m}return c=c||o.length!==Object.keys(l).length,c?d:l}}function nO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Sct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Aa(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(l){return l(s)});return o=nO.apply(void 0,a)(i.dispatch),Wae(Wae({},i),{},{dispatch:o})}}}function j_e(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var Lz=j_e();Lz.withExtraArgument=j_e;var B_e=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),VT=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Gv=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Tct=Object.defineProperty,kct=Object.defineProperties,Act=Object.getOwnPropertyDescriptors,Yae=Object.getOwnPropertySymbols,Rct=Object.prototype.hasOwnProperty,Ict=Object.prototype.propertyIsEnumerable,Kae=function(e,t,n){return t in e?Tct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},s0=function(e,t){for(var n in t||(t={}))Rct.call(t,n)&&Kae(e,n,t[n]);if(Yae)for(var r=0,i=Yae(t);r<i.length;r++){var n=i[r];Ict.call(t,n)&&Kae(e,n,t[n])}return e},R8=function(e,t){return kct(e,Act(t))},WT=function(e,t,n){return new Promise(function(r,i){var o=function(l){try{a(n.next(l))}catch(u){i(u)}},s=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,s)};a((n=n.apply(e,t)).next())})},Dct=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nO:nO.apply(null,arguments)};function z_e(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var Pct=function(e){return e&&typeof e.match=="function"};function gh(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return s0(s0({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function Oct(e){return z_e(e)&&"type"in e}var Nct=(function(e){B_e(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Gv([void 0],n[0].concat(this)))):new(t.bind.apply(t,Gv([void 0],n.concat(this))))},t})(Array),Mct=(function(e){B_e(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Gv([void 0],n[0].concat(this)))):new(t.bind.apply(t,Gv([void 0],n.concat(this))))},t})(Array);function Fz(e){return hm(e)?L_e(e,function(){}):e}function $ct(e){return typeof e=="boolean"}function Lct(){return function(t){return Fct(t)}}function Fct(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new Nct;return n&&($ct(n)?r.push(Lz):r.push(Lz.withExtraArgument(n.extraArgument))),r}function jct(e){var t=Lct(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?t():o,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(z_e(i))h=Ect(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=s;typeof p=="function"&&(p=p(t));var m=Sct.apply(void 0,p),g=nO;l&&(g=Dct(s0({trace:!1},typeof l=="object"&&l)));var v=new Mct(m),y=v;Array.isArray(f)?y=Gv([m],f):typeof f=="function"&&(y=f(v));var x=g.apply(void 0,y);return F_e(h,c,x)}function U_e(e){var t={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function Bct(e){return typeof e=="function"}function zct(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?U_e(t):[t,n,r],o=i[0],s=i[1],a=i[2],l;if(Bct(e))l=function(){return Fz(e())};else{var u=Fz(e);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var h=Gv([o[f.type]],s.filter(function(p){var m=p.matcher;return m(f)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,m){if(m)if(b0(p)){var g=p,v=m(g,f);return v===void 0?p:v}else{if(hm(p))return L_e(p,function(y){return m(y,f)});var v=m(p,f);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return p},d)}return c.getInitialState=l,c}function Uct(e,t){return e+"/"+t}function Hct(e){var t=e.name,n=typeof e.initialState=="function"?e.initialState:Fz(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(c){var d=r[c],f=Uct(t,c),h,p;"reducer"in d?(h=d.reducer,p=d.prepare):h=d,o[c]=h,s[f]=h,a[c]=p?gh(f,p):gh(f)});function l(){var c=typeof e.extraReducers=="function"?U_e(e.extraReducers):[e.extraReducers],d=c[0],f=d===void 0?{}:d,h=c[1],p=h===void 0?[]:h,m=c[2],g=m===void 0?void 0:m,v=s0(s0({},f),s);return zct(n,function(y){for(var x in v)y.addCase(x,v[x]);for(var E=0,_=p;E<_.length;E++){var S=_[E];y.addMatcher(S.matcher,S.reducer)}g&&y.addDefaultCase(g)})}var u;return{name:t,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:o,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var qct="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",H_e=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=qct[Math.random()*64|0];return t},Vct=["name","message","stack","code"],I8=(function(){function e(t,n){this.payload=t,this.meta=n}return e})(),Xae=(function(){function e(t,n){this.payload=t,this.meta=n}return e})(),Wct=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=Vct;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=gh(t+"/fulfilled",function(u,c,d,f){return{payload:u,meta:R8(s0({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),o=gh(t+"/pending",function(u,c,d){return{payload:void 0,meta:R8(s0({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),s=gh(t+"/rejected",function(u,c,d,f,h){return{payload:f,error:(r&&r.serializeError||Wct)(u||"Rejected"),meta:R8(s0({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:u?.name==="AbortError",condition:u?.name==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:(function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u})();function l(u){return function(c,d,f){var h=r?.idGenerator?r.idGenerator(u):H_e(),p=new a,m;function g(y){m=y,p.abort()}var v=(function(){return WT(this,null,function(){var y,x,E,_,S,T,k;return VT(this,function(R){switch(R.label){case 0:return R.trys.push([0,4,,5]),_=(y=r?.condition)==null?void 0:y.call(r,u,{getState:d,extra:f}),Yct(_)?[4,_]:[3,2];case 1:_=R.sent(),R.label=2;case 2:if(_===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(I,P){return p.signal.addEventListener("abort",function(){return P({name:"AbortError",message:m||"Aborted"})})}),c(o(h,u,(x=r?.getPendingMeta)==null?void 0:x.call(r,{requestId:h,arg:u},{getState:d,extra:f}))),[4,Promise.race([S,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:h,signal:p.signal,abort:g,rejectWithValue:function(I,P){return new I8(I,P)},fulfillWithValue:function(I,P){return new Xae(I,P)}})).then(function(I){if(I instanceof I8)throw I;return I instanceof Xae?i(I.payload,h,u,I.meta):i(I,h,u)})])];case 3:return E=R.sent(),[3,5];case 4:return T=R.sent(),E=T instanceof I8?s(null,h,u,T.payload,T.meta):s(T,h,u),[3,5];case 5:return k=r&&!r.dispatchConditionRejection&&s.match(E)&&E.meta.condition,k||c(E),[2,E]}})})})();return Object.assign(v,{abort:g,requestId:h,arg:u,unwrap:function(){return v.then(Gct)}})}}return Object.assign(l,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function Gct(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Yct(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Kct=function(e,t){return Pct(e)?e.match(t):e(t)};function Qae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return Kct(r,n)})}}var hY=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},jz=function(){},q_e=function(e,t){return t===void 0&&(t=jz),e.catch(t),e},V_e=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},$w=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Xct="task",W_e="listener",G_e="completed",pY="cancelled",Qct="task-"+pY,Jct="task-"+G_e,Y_e=W_e+"-"+pY,Zct=W_e+"-"+G_e,IM=(function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=Xct+" "+pY+" (reason: "+t+")"}return e})(),Lw=function(e){if(e.aborted)throw new IM(e.reason)};function K_e(e,t){var n=jz;return new Promise(function(r,i){var o=function(){return i(new IM(e.reason))};if(e.aborted){o();return}n=V_e(e,o),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=jz})}var edt=function(e,t){return WT(void 0,null,function(){var n,r;return VT(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof IM?"cancelled":"rejected",error:r}];case 4:return t?.(),[7];case 5:return[2]}})})},rO=function(e){return function(t){return q_e(K_e(e,t).then(function(n){return Lw(e),n}))}},X_e=function(e){var t=rO(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},tdt=Object.assign,Jae={},GT="listenerMiddleware",ndt=function(e,t){var n=function(r){return V_e(e,function(){return $w(r,e.reason)})};return function(r,i){hY(r,"taskExecutor");var o=new AbortController;n(o);var s=edt(function(){return WT(void 0,null,function(){var a;return VT(this,function(l){switch(l.label){case 0:return Lw(e),Lw(o.signal),[4,r({pause:rO(o.signal),delay:X_e(o.signal),signal:o.signal})];case 1:return a=l.sent(),Lw(o.signal),[2,a]}})})},function(){return $w(o,Jct)});return i?.autoJoin&&t.push(s),{result:rO(e)(s),cancel:function(){$w(o,Qct)}}}},rdt=function(e,t){var n=function(r,i){return WT(void 0,null,function(){var o,s,a,l;return VT(this,function(u){switch(u.label){case 0:Lw(t),o=function(){},s=new Promise(function(c,d){var f=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});o=function(){f(),d()}}),a=[s],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,K_e(t,Promise.race(a))];case 2:return l=u.sent(),Lw(t),[2,l];case 3:return o(),[7];case 4:return[2]}})})};return function(r,i){return q_e(n(r,i))}},Q_e=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,o=e.effect;if(t)i=gh(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return hY(o,"options.listener"),{predicate:i,type:t,effect:o}},idt=function(e){var t=Q_e(e),n=t.type,r=t.predicate,i=t.effect,o=H_e(),s={id:o,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return s},Bz=function(e){e.pending.forEach(function(t){$w(t,Y_e)})},odt=function(e){return function(){e.forEach(Bz),e.clear()}},Zae=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},sdt=gh(GT+"/add"),adt=gh(GT+"/removeAll"),ldt=gh(GT+"/remove"),udt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Gv([GT+"/error"],e))};function cdt(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,o=i===void 0?udt:i;hY(o,"onError");var s=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p?.cancelActive&&Bz(h)}},a=function(h){for(var p=0,m=Array.from(n.values());p<m.length;p++){var g=m[p];if(h(g))return g}},l=function(h){var p=a(function(m){return m.effect===h.effect});return p||(p=idt(h)),s(p)},u=function(h){var p=Q_e(h),m=p.type,g=p.effect,v=p.predicate,y=a(function(x){var E=typeof m=="string"?x.type===m:x.predicate===v;return E&&x.effect===g});return y&&(y.unsubscribe(),h.cancelActive&&Bz(y)),!!y},c=function(h,p,m,g){return WT(t,null,function(){var v,y,x,E;return VT(this,function(_){switch(_.label){case 0:v=new AbortController,y=rdt(l,v.signal),x=[],_.label=1;case 1:return _.trys.push([1,3,4,6]),h.pending.add(v),[4,Promise.resolve(h.effect(p,tdt({},m,{getOriginalState:g,condition:function(S,T){return y(S,T).then(Boolean)},take:y,delay:X_e(v.signal),pause:rO(v.signal),extra:r,signal:v.signal,fork:ndt(v.signal,x),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(S,T,k){S!==v&&($w(S,Y_e),k.delete(S))})}})))];case 2:return _.sent(),[3,6];case 3:return E=_.sent(),E instanceof IM||Zae(o,E,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(x)];case 5:return _.sent(),$w(v,Zct),h.pending.delete(v),[7];case 6:return[2]}})})},d=odt(n),f=function(h){return function(p){return function(m){if(!Oct(m))return p(m);if(sdt.match(m))return l(m.payload);if(adt.match(m)){d();return}if(ldt.match(m))return u(m.payload);var g=h.getState(),v=function(){if(g===Jae)throw new Error(GT+": getOriginalState can only be called synchronously");return g},y;try{if(y=p(m),n.size>0)for(var x=h.getState(),E=Array.from(n.values()),_=0,S=E;_<S.length;_++){var T=S[_],k=!1;try{k=T.predicate(m,x,g)}catch(R){k=!1,Zae(o,R,{raisedBy:"predicate"})}k&&c(T,m,h,v)}}finally{g=Jae}return y}}};return{middleware:f,startListening:l,stopListening:u,clearListeners:d}}var ele;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);pct();function ddt(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let IR;const fdt=new Uint8Array(16);function hdt(){if(!IR&&(IR=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!IR))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return IR(fdt)}const Ys=[];for(let e=0;e<256;++e)Ys.push((e+256).toString(16).slice(1));function pdt(e,t=0){return(Ys[e[t+0]]+Ys[e[t+1]]+Ys[e[t+2]]+Ys[e[t+3]]+"-"+Ys[e[t+4]]+Ys[e[t+5]]+"-"+Ys[e[t+6]]+Ys[e[t+7]]+"-"+Ys[e[t+8]]+Ys[e[t+9]]+"-"+Ys[e[t+10]]+Ys[e[t+11]]+Ys[e[t+12]]+Ys[e[t+13]]+Ys[e[t+14]]+Ys[e[t+15]]).toLowerCase()}const mdt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),tle={randomUUID:mdt};function nle(e,t,n){if(tle.randomUUID&&!t&&!e)return tle.randomUUID();e=e||{};const r=e.random||(e.rng||hdt)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,pdt(r)}let yh=class{static get(){let t=nle();for(;this.ids.has(t);)t=nle();return this.ids.set(t,!0),t}};yh.ids=new Map;function Bd(e){return"parent"in e}function J_e(e){return!Bd(e)}function gdt(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,o={annotation:[],bookmark:[]},s=Object.keys(i||{}).reduce((l,u)=>(l[u]=[],i&&i[u]&&l[u].push({type:u,id:yh.get(),val:i[u],createdOn:Date.now()}),l),o),a=r?[{id:yh.get(),createdOn:Date.now(),val:r}]:[];return{id:yh.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:s,artifacts:a,state:{type:"checkpoint",val:n}}}function ydt({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:o,event:s}){const a={annotation:[],bookmark:[]},l=Object.keys(i||{}).reduce((c,d)=>(c[d]=[],i&&i[d]&&c[d].push({type:d,id:yh.get(),val:i[d],createdOn:Date.now()}),c),a),u=o?[{id:yh.get(),createdOn:Date.now(),val:o}]:[];return{id:yh.get(),label:n,event:s,children:[],parent:e.id,createdOn:Date.now(),meta:l,artifacts:u,sideEffects:r,state:t,level:e.level+1}}function go(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=Tdt[e],o=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+o)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Yv(e){return!!e&&!!e[Vu]}function w0(e){var t;return!!e&&((function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===kdt})(e)||Array.isArray(e)||!!e[SS]||!!(!((t=e.constructor)===null||t===void 0)&&t[SS])||DM(e)||PM(e))}function px(e,t,n){n===void 0&&(n=!1),x0(e)===0?(n?Object.keys:wY)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function x0(e){var t=e[Vu];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:DM(e)?2:PM(e)?3:0}function _2(e,t){return x0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function kP(e,t){return x0(e)===2?e.get(t):e[t]}function Z_e(e,t,n){var r=x0(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function vdt(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function DM(e){return Edt&&e instanceof Map}function PM(e){return Sdt&&e instanceof Set}function Yy(e){return e.o||e.t}function mY(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Adt(e);delete t[Vu];for(var n=wY(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function gY(e,t){return t===void 0&&(t=!1),yY(e)||Yv(e)||!w0(e)||(x0(e)>1&&(e.set=e.add=e.clear=e.delete=bdt),Object.freeze(e),t&&px(e,function(n,r){return gY(r,!0)},!0)),e}function bdt(){go(2)}function yY(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function vh(e){var t=qz[e];return t||go(18,e),t}function wdt(e,t){qz[e]||(qz[e]=t)}function rle(){return{}.NODE_ENV==="production"||mx||go(0),mx}function D8(e,t){t&&(vh("Patches"),e.u=[],e.s=[],e.v=t)}function iO(e){zz(e),e.p.forEach(xdt),e.p=null}function zz(e){e===mx&&(mx=e.l)}function ile(e){return mx={p:[],l:mx,h:e,m:!0,_:0}}function xdt(e){var t=e[Vu];t.i===0||t.i===1?t.j():t.O=!0}function P8(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||vh("ES5").S(t,e,r),r?(n[Vu].P&&(iO(t),go(4)),w0(e)&&(e=oO(t,e),t.l||sO(t,e)),t.u&&vh("Patches").M(n[Vu].t,e,t.u,t.s)):e=oO(t,n,[]),iO(t),t.u&&t.v(t.u,t.s),e!==bY?e:void 0}function oO(e,t,n){if(yY(t))return t;var r=t[Vu];if(!r)return px(t,function(o,s){return ole(e,r,t,o,s,n)},!0),t;if(r.A!==e)return t;if(!r.P)return sO(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=mY(r.k):r.o;px(r.i===3?new Set(i):i,function(o,s){return ole(e,r,i,o,s,n)}),sO(e,i,!1),n&&e.u&&vh("Patches").R(r,n,e.u,e.s)}return r.o}function ole(e,t,n,r,i,o){if({}.NODE_ENV!=="production"&&i===n&&go(5),Yv(i)){var s=oO(e,i,o&&t&&t.i!==3&&!_2(t.D,r)?o.concat(r):void 0);if(Z_e(n,r,s),!Yv(s))return;e.m=!1}if(w0(i)&&!yY(i)){if(!e.h.F&&e._<1)return;oO(e,i),t&&t.A.l||sO(e,i)}}function sO(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&gY(t,n)}function O8(e,t){var n=e[Vu];return(n?Yy(n):e)[t]}function sle(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Uz(e){e.P||(e.P=!0,e.l&&Uz(e.l))}function N8(e){e.o||(e.o=mY(e.t))}function Hz(e,t,n){var r=DM(t)?vh("MapSet").N(t,n):PM(t)?vh("MapSet").T(t,n):e.g?(function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:rle(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=Vz;s&&(l=[a],u=NE);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f})(t,n):vh("ES5").J(t,n);return(n?n.A:rle()).p.push(r),r}function Cdt(e){return Yv(e)||go(22,e),(function t(n){if(!w0(n))return n;var r,i=n[Vu],o=x0(n);if(i){if(!i.P&&(i.i<4||!vh("ES5").K(i)))return i.t;i.I=!0,r=ale(n,o),i.I=!1}else r=ale(n,o);return px(r,function(s,a){i&&kP(i.t,s)===a||Z_e(r,s,t(a))}),o===3?new Set(r):r})(e)}function ale(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return mY(e)}function _dt(){function e(r){if(!w0(r))return r;if(Array.isArray(r))return r.map(e);if(DM(r))return new Map(Array.from(r.entries()).map(function(s){return[s[0],e(s[1])]}));if(PM(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var o in r)i[o]=e(r[o]);return _2(r,SS)&&(i[SS]=r[SS]),i}function t(r){return Yv(r)?e(r):r}var n="add";wdt("Patches",{$:function(r,i){return i.forEach(function(o){for(var s=o.path,a=o.op,l=r,u=0;u<s.length-1;u++){var c=x0(l),d=""+s[u];c!==0&&c!==1||d!=="__proto__"&&d!=="constructor"||go(24),typeof l=="function"&&d==="prototype"&&go(24),typeof(l=kP(l,d))!="object"&&go(15,s.join("/"))}var f=x0(l),h=e(o.value),p=s[s.length-1];switch(a){case"replace":switch(f){case 2:return l.set(p,h);case 3:go(16);default:return l[p]=h}case n:switch(f){case 1:return p==="-"?l.push(h):l.splice(p,0,h);case 2:return l.set(p,h);case 3:return l.add(h);default:return l[p]=h}case"remove":switch(f){case 1:return l.splice(p,1);case 2:return l.delete(p);case 3:return l.delete(o.value);default:return delete l[p]}default:go(17,a)}}),r},R:function(r,i,o,s){switch(r.i){case 0:case 4:case 2:return(function(a,l,u,c){var d=a.t,f=a.o;px(a.D,function(h,p){var m=kP(d,h),g=kP(f,h),v=p?_2(d,h)?"replace":n:"remove";if(m!==g||v!=="replace"){var y=l.concat(h);u.push(v==="remove"?{op:v,path:y}:{op:v,path:y,value:g}),c.push(v===n?{op:"remove",path:y}:v==="remove"?{op:n,path:y,value:t(m)}:{op:"replace",path:y,value:t(m)})}})})(r,i,o,s);case 5:case 1:return(function(a,l,u,c){var d=a.t,f=a.D,h=a.o;if(h.length<d.length){var p=[h,d];d=p[0],h=p[1];var m=[c,u];u=m[0],c=m[1]}for(var g=0;g<d.length;g++)if(f[g]&&h[g]!==d[g]){var v=l.concat([g]);u.push({op:"replace",path:v,value:t(h[g])}),c.push({op:"replace",path:v,value:t(d[g])})}for(var y=d.length;y<h.length;y++){var x=l.concat([y]);u.push({op:n,path:x,value:t(h[y])})}d.length<h.length&&c.push({op:"replace",path:l.concat(["length"]),value:d.length})})(r,i,o,s);case 3:return(function(a,l,u,c){var d=a.t,f=a.o,h=0;d.forEach(function(p){if(!f.has(p)){var m=l.concat([h]);u.push({op:"remove",path:m,value:p}),c.unshift({op:n,path:m,value:p})}h++}),h=0,f.forEach(function(p){if(!d.has(p)){var m=l.concat([h]);u.push({op:n,path:m,value:p}),c.unshift({op:"remove",path:m,value:p})}h++})})(r,i,o,s)}},M:function(r,i,o,s){o.push({op:"replace",path:[],value:i===bY?void 0:i}),s.push({op:"replace",path:[],value:r})}})}var lle,mx,vY=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Edt=typeof Map<"u",Sdt=typeof Set<"u",ule=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",bY=vY?Symbol.for("immer-nothing"):((lle={})["immer-nothing"]=!0,lle),SS=vY?Symbol.for("immer-draftable"):"__$immer_draftable",Vu=vY?Symbol.for("immer-state"):"__$immer_state",Tdt={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},kdt=""+Object.prototype.constructor,wY=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Adt=Object.getOwnPropertyDescriptors||function(e){var t={};return wY(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},qz={},Vz={get:function(e,t){if(t===Vu)return e;var n=Yy(e);if(!_2(n,t))return(function(i,o,s){var a,l=sle(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0})(e,n,t);var r=n[t];return e.I||!w0(r)?r:r===O8(e.t,t)?(N8(e),e.o[t]=Hz(e.A.h,r,e)):r},has:function(e,t){return t in Yy(e)},ownKeys:function(e){return Reflect.ownKeys(Yy(e))},set:function(e,t,n){var r=sle(Yy(e),t);if(r?.set)return r.set.call(e.k,n),!0;if(!e.P){var i=O8(Yy(e),t),o=i?.[Vu];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(vdt(n,i)&&(n!==void 0||_2(e.t,t)))return!0;N8(e),Uz(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return O8(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,N8(e),Uz(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Yy(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){go(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){go(12)}},NE={};px(Vz,function(e,t){NE[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),NE.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&go(13),NE.set.call(this,e,t,void 0)},NE.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&go(14),Vz.set.call(this,e[0],t,n,e[0])};var Rdt=(function(){function e(n){var r=this;this.g=ule,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(m){var g=this;m===void 0&&(m=a);for(var v=arguments.length,y=Array(v>1?v-1:0),x=1;x<v;x++)y[x-1]=arguments[x];return l.produce(m,function(E){var _;return(_=o).call.apply(_,[g,E].concat(y))})}}var u;if(typeof o!="function"&&go(6),s!==void 0&&typeof s!="function"&&go(7),w0(i)){var c=ile(r),d=Hz(r,i,void 0),f=!0;try{u=o(d),f=!1}finally{f?iO(c):zz(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return D8(c,s),P8(m,c)},function(m){throw iO(c),m}):(D8(c,s),P8(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===bY&&(u=void 0),r.F&&gY(u,!0),s){var h=[],p=[];vh("Patches").M(i,u,h,p),s(h,p)}return u}go(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var s,a,l=r.produce(i,o,function(u,c){s=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){w0(n)||go(8),Yv(n)&&(n=Cdt(n));var r=ile(this),i=Hz(this,n,void 0);return i[Vu].C=!0,zz(r),i},t.finishDraft=function(n,r){var i=n&&n[Vu];({}).NODE_ENV!=="production"&&(i&&i.C||go(9),i.I&&go(10));var o=i.A;return D8(o,r),P8(void 0,o)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!ule&&go(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=vh("Patches").$;return Yv(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e})(),Wu=new Rdt,Idt=Wu.produce;Wu.produceWithPatches.bind(Wu);Wu.setAutoFreeze.bind(Wu);Wu.setUseProxies.bind(Wu);Wu.applyPatches.bind(Wu);Wu.createDraft.bind(Wu);Wu.finishDraft.bind(Wu);function Ddt(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,o=gdt({state:e,label:i,initialArtifact:n,initialMetadata:r}),s={nodes:{[o.id]:o},root:o.id,current:o.id};return Hct({name:"provenance-graph",initialState:s,reducers:{addMetadata(a,l){const{id:u,meta:c}=l.payload,d=a.nodes[u].meta,f=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:yh.get(),val:c[p],createdOn:Date.now()}),h),d);a.nodes[l.payload.id].meta=f},addArtifact(a,l){a.nodes[l.payload.id].artifacts.push({id:yh.get(),createdOn:Date.now(),val:l.payload.artifact})},changeCurrent(a,l){a.current=l.payload},addNode(a,{payload:l}){a.nodes[l.id]=l,a.nodes[l.parent].children.push(l.id),a.current=l.id},load(a,{payload:l}){return l}}})}function Pdt(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=Ddt(e),o=cdt();o.startListening({matcher:Qae(r.changeCurrent,r.addNode),effect:(a,l)=>{l.cancelActiveListeners(),t.forEach(u=>{const c=Qae(r.addNode)(a),{skipOnNew:d}=u.config;d&&c||u.func(c?"new":"traversal")})}});const s=jct({reducer:n,middleware:a=>a().prepend(o.middleware)});return{initialState:i(),get backend(){return s.getState()},get current(){return s.getState().nodes[s.getState().current]},get root(){return s.getState().nodes[s.getState().root]},currentChange(a,l){const u={id:yh.get(),func:a,config:l};return t.set(u.id,u),()=>t.delete(u.id)},update:s.dispatch,...r}}var Odt=globalThis&&globalThis.__extends||(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ndt=Object.prototype.hasOwnProperty;function Wz(e,t){return Ndt.call(e,t)}function Gz(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)Wz(e,i)&&r.push(i);return r}function Yl(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Yz(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Ky(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function eEe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Kz(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Kz(e[t]))return!0}else if(typeof e=="object"){for(var r=Gz(e),i=r.length,o=0;o<i;o++)if(Kz(e[r[o]]))return!0}}return!1}function cle(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var tEe=(function(e){Odt(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,cle(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=cle(n,{name:r,index:i,operation:o,tree:s}),l}return t})(Error),po=tEe,Mdt=Yl,gw={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=aO(n,this.path);r&&(r=Yl(r));var i=Av(n,{op:"remove",path:this.from}).removed;return Av(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=aO(n,this.from);return Av(n,{op:"add",path:this.path,value:Yl(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:E2(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},$dt={add:function(e,t,n){return Yz(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:gw.move,copy:gw.copy,test:gw.test,_get:gw._get};function aO(e,t){if(t=="")return e;var n={op:"_get",path:t};return Av(e,n),n.value}function Av(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):lO(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=aO(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=E2(e,t.value),s.test===!1)throw new po("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new po("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=Yl(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,f=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=lO;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=eEe(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(u[h]===void 0?f=l.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&p(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!Yz(h))throw new po("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);Yz(h)&&(h=~~h)}if(c>=d){if(n&&t.op==="add"&&h>u.length)throw new po("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=$dt[t.op].call(t,u,h,e);if(s.test===!1)throw new po("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=d){var s=gw[t.op].call(t,u,h,e);if(s.test===!1)throw new po("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[h],n&&c<d&&(!u||typeof u!="object"))throw new po("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function OM(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new po("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Yl(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=Av(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function Ldt(e,t,n){var r=Av(e,t);if(r.test===!1)throw new po("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function lO(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new po("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(gw[e.op]){if(typeof e.path!="string")throw new po("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new po('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new po("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new po("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Kz(e.value))throw new po("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new po("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new po("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=nEe([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new po("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new po("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function nEe(e,t,n){try{if(!Array.isArray(e))throw new po("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)OM(Yl(t),Yl(e),n||!0);else{n=n||lO;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof po)return i;throw i}}function E2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!E2(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!E2(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const Fdt=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:po,_areEquals:E2,applyOperation:Av,applyPatch:OM,applyReducer:Ldt,deepClone:Mdt,getValueByPointer:aO,validate:nEe,validator:lO},Symbol.toStringTag,{value:"Module"}));var xY=new WeakMap,jdt=(function(){function e(t){this.observers=new Map,this.obj=t}return e})(),Bdt=(function(){function e(t,n){this.callback=t,this.observer=n}return e})();function zdt(e){return xY.get(e)}function Udt(e,t){return e.observers.get(t)}function Hdt(e,t){e.observers.delete(t.callback)}function qdt(e,t){t.unobserve()}function Vdt(e,t){var n=[],r,i=zdt(e);if(!i)i=new jdt(e),xY.set(e,i);else{var o=Udt(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=Yl(e),t){r.callback=t,r.next=null;var s=function(){Xz(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){Xz(r),clearTimeout(r.next),Hdt(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new Bdt(t,r)),r}function Xz(e,t){t===void 0&&(t=!1);var n=xY.get(e.object);CY(n.value,e.object,e.patches,"",t),e.patches.length&&OM(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function CY(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=Gz(t),s=Gz(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(Wz(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?CY(c,d,n,r+"/"+Ky(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+Ky(u),value:Yl(c)}),n.push({op:"replace",path:r+"/"+Ky(u),value:Yl(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Ky(u),value:Yl(c)}),n.push({op:"remove",path:r+"/"+Ky(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!Wz(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+Ky(u),value:Yl(t[u])})}}}function rEe(e,t,n){n===void 0&&(n=!1);var r=[];return CY(e,t,r,"",n),r}const Wdt=Object.freeze(Object.defineProperty({__proto__:null,compare:rEe,generate:Xz,observe:Vdt,unobserve:qdt},Symbol.toStringTag,{value:"Module"}));Object.assign({},Fdt,Wdt,{JsonPatchError:tEe,deepClone:Yl,escapePathComponent:Ky,unescapePathComponent:eEe});var ME=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(ME||{});function AP(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],o=iEe(i,e,t);o.shift();const s=o.map(l=>t[l]).map(l=>l.state.val).reduce((l,u)=>[...l,...u],[]),a=AP(i,t);return OM(a,Yl(s),!0,!1).newDocument}function Gdt(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function NM({registry:e,initialState:t}){let n=!1;const r=ddt(),i=Pdt(t);function o(c){return i.backend.nodes[c]}r.listen(ME.TRAVERSAL_START,()=>{n=!0}),r.listen(ME.TRAVERSAL_END,()=>{n=!1});const s={add(c,d=i.current.id){i.update(i.addMetadata({id:d,meta:c}))},latestOfType(c,d=i.current.id){return i.backend.nodes[d].meta[c]?.at(-1)},allOfType(c,d=i.current.id){return i.backend.nodes[d].meta[c]},latest(c=i.current.id){const d=i.backend.nodes[c].meta,f=Object.keys(d).reduce((h,p)=>{const m=d[p].at(-1);return m&&(h[p]=m),h},{});return Object.keys(f).length>0?f:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,d=i.current.id){i.update(i.addArtifact({id:d,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},l={add(c,d=i.current.id){s.add({annotation:c},d)},latest(c=i.current.id){return s.latestOfType("annotation",c)?.val},all(c=i.current.id){return s.allOfType("annotation",c)?.map(d=>d.val)}},u={add(c=i.current.id){s.add({bookmark:!0},c)},remove(c=i.current.id){s.add({bookmark:!1},c)},is(c=i.current.id){return!!s.latestOfType("bookmark",c)?.val},toggle(c=i.current.id){u.is(c)?u.remove(c):u.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return AP(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:d,sideEffects:f,eventType:h,onlySideEffects:p=!1}){let m=null,g=null;const v=AP(this.current,this.graph.backend.nodes);if(p)g={type:"checkpoint",val:d};else{const y=rEe(v,d);if(Gdt(d,y)==="checkpoint")g={type:"checkpoint",val:d};else{const x=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;g={type:"patch",val:y,checkpointRef:x}}}if(!g)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(m=ydt({label:c,state:g,parent:this.current,sideEffects:f,event:h}),!m)throw new Error("State Node creation failed!");i.update(i.addNode(m))},async apply(c,d){const f=e.get(d.type),h=AP(this.current,this.graph.backend.nodes);if(f.config.hasSideEffects){const{do:p=d,undo:m}=f.func(d.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[m]},eventType:f.config.eventType})}else{const p=f.func(h,d.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:f.config.eventType})}},async to(c){r.fire(ME.TRAVERSAL_START);const d=iEe(i.current,i.backend.nodes[c],i.backend.nodes),f=[];for(let h=0;h<d.length-1;++h){const p=o(d[h]),m=o(d[h+1]);Kdt(p,m)?Bd(p)&&f.push(...p.sideEffects.undo):Bd(m)&&f.push(...m.sideEffects.do)}for(const h of f){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(ME.TRAVERSAL_END)},undo(){const{current:c}=i;return Bd(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:d}=i;return d.children.length>0?this.to(d.children[c==="oldest"?0:d.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,d=!1){return i.currentChange(c,{skipOnNew:d})},done(){console.log("Setup later for URL sharing.")},tree(){return oEe(i.root,i.backend.nodes)},on(c,d){r.listen(c,d)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const d=JSON.parse(c),f=d.current;d.current=d.root,i.update(i.load(d)),this.to(f)},importObject(c){const d=c.current;c.current=c.root,i.update(i.load(c)),this.to(d)},metadata:s,artifact:a,annotations:l,bookmarks:u}}function Ydt(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let o=i.level-r.level;for(;Bd(i)&&o!==0;)i=n[i.parent],o-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)Bd(r)&&(r=n[r.parent]),Bd(i)&&(i=n[i.parent]);return r.id}function iEe(e,t,n){const r=Ydt(e,t,n),i=n[r],o=[],s=[];let[a,l]=[e,t];for(;a.id!==i.id;)o.push(a),Bd(a)&&(a=n[a.parent]);for(o.push(a);l.id!==i.id;)s.push(l),Bd(l)&&(l=n[l.parent]);const u=s.reverse();return[...o,...u].map(c=>c.id)}function Kdt(e,t){if(Bd(e)&&e.parent===t.id)return!0;if(Bd(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function oEe(e,t){return{...e,children:e.children.map(n=>oEe(t[n],t)),name:`${e.label}`}}_dt();function Xdt(e){return e.length===2?Idt(e):e}class xC{static create(){return new xC}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:o=t,eventType:s=t}=r||{};return this.registry.set(t,{func:Xdt(n),config:{hasSideEffects:!i,label:typeof o=="string"?()=>o:o,eventType:s}}),gh(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}const sEe=A.createContext(null);function Qdt(){const e=A.useContext(sEe);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function _Y(e,t,n,r){if((typeof e=="number"||typeof e=="string")&&(typeof t=="string"||typeof t=="number")){const i=Number(e);if(i){if(n&&r)return i>=n&&i<=r;if(n)return i>=n;if(r)return i<=r}return String(e)===String(t)||Number(e)===Number(t)}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const i=[...e].sort(),o=[...t].sort();return Q3(i,o)}if(e!==null&&typeof e=="object"&&!Array.isArray(e)&&Array.isArray(t)){const i=Object.values(e);return i.length!==t.length?!1:Array.isArray(t[0])?i.every((s,a)=>{const l=t[a];if(!Array.isArray(l))return!1;const u=typeof s=="string"?s===""?[]:s.split("|"):[];if(u.length!==l.length)return!1;const c=[...u].sort(),d=[...l].sort();return c.every((f,h)=>f===d[h])}):i.every((s,a)=>String(s)===String(t[a]))}return Q3(e,t)}function YT(e,t){let n=!0;return(t||[]).forEach(r=>{const i=e[r.id];(i===void 0||!_Y(i,r.answer,r.acceptableLow,r.acceptableHigh))&&(n=!1)}),n}function dle(e,t,n,r){const i=t.slice(0,t.lastIndexOf("_")),o=Object.entries(r.components).find(([a])=>a===i),s=o?o[1]:null;if(!s)throw new Error(`Component ${i} could not be found in the study components.`);return s.correctAnswer?YT(e,s.correctAnswer):!0}function Jdt(){const e=hf(),t=bC(),n=Hn(P=>P.trialValidation),r=Hn(P=>P.sequence),i=Hn(P=>P.answers),o=Hn(P=>P.modes),s=Hn(P=>P.clickedPrevious),a=Ya(),{funcIndex:l}=$o(),u=Fm(),c=bo(),{saveTrialAnswer:d,setReactiveAnswers:f,setMatrixAnswersRadio:h,setMatrixAnswersCheckbox:p,setRankingAnswers:m}=Qi(),{storageEngine:g}=ri(),v=ff(),y=A.useMemo(()=>o.dataCollectionEnabled,[o]),x=zlt(u),E=df(),_=typeof e!="number"||E||!x,S=Lm(),T=fa(),k=A.useMemo(()=>Date.now(),[l,e]),R=Qdt(),I=A.useCallback((P=!0)=>{if(typeof e!="number")return;const N=structuredClone(n[u]),M=N?Object.values(N).reduce((H,B)=>Object.hasOwn(B,"values")?{...H,...B.values}:H,{}):{},{provenanceGraph:O}=N||{},j=Date.now(),{componentName:U}=S,q=R&&"current"in R&&R.current?R.current.splice(0,R.current.length):[];if(y&&(S.endTime===-1||s)){const H={...S,answer:P?M:{},startTime:k,endTime:j,provenanceGraph:O,windowEvents:q,timedOut:!P};c(d({...H})),g&&g.saveAnswers({...i,[u]:H}),c(f({})),c(p(null)),c(h(null)),c(m(null))}let W=e+1;const V=y_e(r,e),z=V!==null&&V.some(H=>H.currentBlock.skip&&H.currentBlock.skip.length>0),L={...i,[u]:{answer:M,startTime:k,endTime:j,provenanceGraph:O,windowEvents:q}};z&&[...V.flatMap(B=>B.currentBlock.skip?B.currentBlock.skip.map(Y=>({...Y,firstIndex:B.firstIndex,lastIndex:B.lastIndex})):[])].some(B=>{let Y=!1;const Q=Object.fromEntries(Object.entries(L).filter(([ce])=>{const le=parseInt(ce.slice(ce.lastIndexOf("_")+1),10);return le>=B.firstIndex&&le<=e})),ne=B.check!=="block"?Object.entries(Q).filter(([ce])=>ce.slice(0,ce.lastIndexOf("_"))===B.name):Object.entries(Q);if(ne.length===0)return!1;if(ne.some(([ce,le])=>!le))throw new Error(`There are components with missing response objects for the skip condition: ${JSON.stringify(B,null,2)}`);if(B.check==="response"||B.check==="responses"){const[ce,le]=ne[0];B.check==="response"?Y=B.comparison==="equal"?B.value===le.answer[B.responseId]:B.value!==le.answer[B.responseId]:Y=!dle(le.answer,ce,a.components[ce.slice(0,ce.lastIndexOf("_"))],a)}else if(B.check==="block"||B.check==="repeatedComponent"){if(ne.length<B.value)return!1;const ce=ne.map(([ae,te])=>dle(te.answer,ae,a.components[U.slice(0,U.lastIndexOf("_"))],a)),le=ce.filter(ae=>ae).length,ue=ce.length-le;Y=B.condition==="numCorrect"&&le===B.value||B.condition==="numIncorrect"&&ue===B.value}if(Y){const ce=t.indexOf(B.to),le=ce===-1?Llt(r,B.to):-1;return W=ce===-1?le:ce,!0}return!1}),T(l?`/${v}/${di(e)}/${di(jd(l)+1)}${window.location.search}`:`/${v}/${di(W)}${window.location.search}`)},[e,n,u,S,R,y,s,r,i,k,l,c,d,g,f,p,h,m,a,t,T,v]);return{isNextDisabled:_,goToNextStep:I}}function Zdt(){const e=hf(),{funcIndex:t}=$o(),n=ff(),r=fa(),i=df(),o=Ya(),s=bo(),{deleteDynamicBlockAnswers:a}=Qi(),l=Hn(d=>d.answers),u=typeof e!="number"||i||e<=0,c=A.useCallback(()=>{if(typeof e!="number")return;const d=e-1,f=v0(o.sequence);if(t&&(s(a({currentStep:e,funcIndex:jd(t),funcName:f[e]})),jd(t)!==0)){r(`/${n}/${di(e)}/${di(jd(t)-1)}${window.location.search}`);return}const h=f[d];if(Pz(h,o.sequence)){const g=Object.keys(l).filter(v=>v.startsWith(`${h}_${d}_`)).length-1;r(`/${n}/${di(d)}/${di(g)}${window.location.search}`)}else r(`/${n}/${di(d)}${window.location.search}`)},[e,t,r,n,o,s,a,l]);return{isPreviousDisabled:u,goToPreviousStep:c}}function eft({label:e="Previous",px:t}){const{isPreviousDisabled:n,goToPreviousStep:r}=Zdt(),i=bo(),{setClickedPrevious:o}=Qi(),s=A.useCallback(()=>{i(o(!0)),r()},[r,o,i]);return b.jsx(Mt,{type:"submit",disabled:n,onClick:s,px:t,children:e})}function tft({label:e="Next",disabled:t=!1,config:n,location:r,checkAnswer:i}){const{isNextDisabled:o,goToNextStep:s}=Jdt(),a=Ya(),l=fa(),u=A.useMemo(()=>n?.nextButtonDisableTime??a.uiConfig.nextButtonDisableTime,[n,a]),c=A.useMemo(()=>n?.nextButtonEnableTime??a.uiConfig.nextButtonEnableTime??0,[n,a]),[d,f]=A.useState(void 0);A.useEffect(()=>{const v=Date.now();f(0);const y=setInterval(()=>{f(Date.now()-v)},100);return()=>{clearInterval(y)}},[]),A.useEffect(()=>{d!==void 0&&u&&d>=u&&a.uiConfig.timeoutReject&&l(`./../__timedOut${window.location.search}`)},[u,d,l,a.uiConfig.timeoutReject]);const h=A.useMemo(()=>{if(d===void 0)return!0;const v=u?d<=u:!0,y=c?d>=c:!0;return v&&y},[u,c,d]),p=A.useMemo(()=>n?.nextOnEnter??a.uiConfig.nextOnEnter,[n,a]);A.useEffect(()=>{const v=y=>{y.key==="Enter"&&!t&&!o&&h&&s()};return p?(window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)}):()=>{}},[t,o,h,s,p]);const m=A.useMemo(()=>t||o||!h,[t,o,h]),g=A.useMemo(()=>n?.previousButtonText??a.uiConfig.previousButtonText??"Previous",[n,a]);return b.jsxs(b.Fragment,{children:[b.jsxs(ln,{justify:"right",gap:"xs",mt:"sm",children:[n?.previousButton&&b.jsx(eft,{label:g,px:r==="sidebar"&&i?8:void 0}),i,b.jsx(Mt,{type:"submit",disabled:m,onClick:()=>s(),px:r==="sidebar"&&i?8:void 0,children:e})]}),d!==void 0&&b.jsxs(b.Fragment,{children:[c>0&&d<c&&b.jsxs(ml,{mt:"md",title:"Please wait",color:"blue",icon:b.jsx(Rc,{}),children:["The next button will be enabled in"," ",Math.ceil((c-d)/1e3)," ","seconds."]}),u&&u-d<1e4&&(u-d>0?b.jsxs(ml,{mt:"md",title:"Next button disables soon",color:"yellow",icon:b.jsx(Du,{}),children:["The next button disables in"," ",Math.ceil((u-d)/1e3)," ","seconds."]}):!a.uiConfig.timeoutReject&&b.jsxs(ml,{mt:"md",title:"Next button disabled",color:"red",icon:b.jsx(Du,{}),children:["The next button has timed out and is now disabled.",b.jsx(ln,{justify:"right",mt:"sm",children:b.jsx(Mt,{onClick:()=>s(!1),variant:"link",color:"red",children:"Proceed"})})]}))]})]})}function nft(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const rft=typeof window<"u"?A.useLayoutEffect:A.useEffect;function Vs(e,t){rft(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function ift(e,t){e&&nft(e),Vs(`mantine-form:${e}:set-field-value`,n=>t.setFieldValue(n.detail.path,n.detail.value)),Vs(`mantine-form:${e}:set-values`,n=>t.setValues(n.detail)),Vs(`mantine-form:${e}:set-initial-values`,n=>t.setInitialValues(n.detail)),Vs(`mantine-form:${e}:set-errors`,n=>t.setErrors(n.detail)),Vs(`mantine-form:${e}:set-field-error`,n=>t.setFieldError(n.detail.path,n.detail.error)),Vs(`mantine-form:${e}:clear-field-error`,n=>t.clearFieldError(n.detail)),Vs(`mantine-form:${e}:clear-errors`,t.clearErrors),Vs(`mantine-form:${e}:reset`,t.reset),Vs(`mantine-form:${e}:validate`,t.validate),Vs(`mantine-form:${e}:validate-field`,n=>t.validateField(n.detail)),Vs(`mantine-form:${e}:reorder-list-item`,n=>t.reorderListItem(n.detail.path,n.detail.payload)),Vs(`mantine-form:${e}:remove-list-item`,n=>t.removeListItem(n.detail.path,n.detail.index)),Vs(`mantine-form:${e}:insert-list-item`,n=>t.insertListItem(n.detail.path,n.detail.item,n.detail.index)),Vs(`mantine-form:${e}:set-dirty`,n=>t.setDirty(n.detail)),Vs(`mantine-form:${e}:set-touched`,n=>t.setTouched(n.detail)),Vs(`mantine-form:${e}:reset-dirty`,n=>t.resetDirty(n.detail)),Vs(`mantine-form:${e}:reset-touched`,t.resetTouched)}function oft(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}function Qz(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}function sft(e){const[t,n]=A.useState(Qz(e)),r=A.useRef(t),i=A.useCallback(l=>{n(u=>{const c=Qz(typeof l=="function"?l(u):l);return r.current=c,c})},[]),o=A.useCallback(()=>i({}),[]),s=A.useCallback(l=>{r.current[l]!==void 0&&i(u=>{const c={...u};return delete c[l],c})},[t]),a=A.useCallback((l,u)=>{u==null||u===!1?s(l):r.current[l]!==u&&i(c=>({...c,[l]:u}))},[t]);return{errorsState:t,setErrors:i,clearErrors:o,setFieldError:a,clearFieldError:s}}function Jz(e,t){if(t===null||typeof t!="object")return{};const n={...t};return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}function fle(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function hle(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let o=n;r===-1&&(o=Jz(`${i}.${t}`,o));const s={...o},a=new Set;return Object.entries(o).filter(([l])=>{if(!l.startsWith(`${i}.`))return!1;const u=fle(l,i);return Number.isNaN(u)?!1:u>=t}).forEach(([l,u])=>{const c=fle(l,i),d=l.replace(`${i}.${c}`,`${i}.${c+r}`);s[d]=u,a.add(d),a.has(l)||delete s[l]}),s}function aft(e,{from:t,to:n},r){const i=`${e}.${t}`,o=`${e}.${n}`,s={...r},a=new Set;return Object.keys(r).forEach(l=>{if(a.has(l))return;let u,c;if(l.startsWith(i)?(u=l,c=l.replace(i,o)):l.startsWith(o)&&(u=l.replace(o,i),c=l),u&&c){const d=s[u],f=s[c];f===void 0?delete s[u]:s[u]=f,d===void 0?delete s[c]:s[c]=d,a.add(u),a.add(c)}}),s}function ple(e,t,n){typeof n.value=="object"&&(n.value=yw(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function yw(e){if(typeof e!="object")return e;var t=0,n,r,i,o=Object.prototype.toString.call(e);if(o==="[object Object]"?i=Object.create(e.__proto__||null):o==="[object Array]"?i=Array(e.length):o==="[object Set]"?(i=new Set,e.forEach(function(s){i.add(yw(s))})):o==="[object Map]"?(i=new Map,e.forEach(function(s,a){i.set(yw(a),yw(s))})):o==="[object Date]"?i=new Date(+e):o==="[object RegExp]"?i=new RegExp(e.source,e.flags):o==="[object DataView]"?i=new e.constructor(yw(e.buffer)):o==="[object ArrayBuffer]"?i=e.slice(0):o.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)ple(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||ple(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function aEe(e){return typeof e!="string"?[]:e.split(".")}function ta(e,t){const n=aEe(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!=null;i+=1)r=r[n[i]];return r}function KT(e,t,n){const r=aEe(e);if(r.length===0)return n;const i=yw(n);if(r.length===1)return i[r[0]]=t,i;let o=i[r[0]];for(let s=1;s<r.length-1;s+=1){if(o===void 0)return i;o=o[r[s]]}return o[r[r.length-1]]=t,i}function lft(e,{from:t,to:n},r){const i=ta(e,r);if(!Array.isArray(i))return r;const o=[...i],s=i[t];return o.splice(t,1),o.splice(n,0,s),KT(e,o,r)}function uft(e,t,n,r){const i=ta(e,r);if(!Array.isArray(i))return r;const o=[...i];return o.splice(typeof n=="number"?n:o.length,0,t),KT(e,o,r)}function cft(e,t,n){const r=ta(e,n);return Array.isArray(r)?KT(e,r.filter((i,o)=>o!==t),n):n}function dft(e,t,n,r){const i=ta(e,r);if(!Array.isArray(i)||i.length<=n)return r;const o=[...i];return o[n]=t,KT(e,o,r)}function fft({$values:e,$errors:t,$status:n}){const r=A.useCallback((a,l)=>{n.clearFieldDirty(a),t.setErrors(u=>aft(a,l,u)),e.setValues({values:lft(a,l,e.refValues.current),updateState:!0})},[]),i=A.useCallback((a,l)=>{n.clearFieldDirty(a),t.setErrors(u=>hle(a,l,u,-1)),e.setValues({values:cft(a,l,e.refValues.current),updateState:!0})},[]),o=A.useCallback((a,l,u)=>{n.clearFieldDirty(a),t.setErrors(c=>hle(a,u,c,1)),e.setValues({values:uft(a,l,u,e.refValues.current),updateState:!0})},[]),s=A.useCallback((a,l,u)=>{n.clearFieldDirty(a),e.setValues({values:dft(a,u,l,e.refValues.current),updateState:!0})},[]);return{reorderListItem:r,removeListItem:i,insertListItem:o,replaceListItem:s}}var M8,mle;function EY(){return mle||(mle=1,M8=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}),M8}var hft=EY();const $E=Qo(hft);function U_(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function pft({initialDirty:e,initialTouched:t,mode:n,$values:r}){const[i,o]=A.useState(t),[s,a]=A.useState(e),l=A.useRef(t),u=A.useRef(e),c=A.useCallback(S=>{const T=typeof S=="function"?S(l.current):S;l.current=T,n==="controlled"&&o(T)},[]),d=A.useCallback((S,T=!1)=>{const k=typeof S=="function"?S(u.current):S;u.current=k,(n==="controlled"||T)&&a(k)},[]),f=A.useCallback(()=>c({}),[]),h=A.useCallback(S=>{const T=S?{...r.refValues.current,...S}:r.refValues.current;r.setValuesSnapshot(T),d({})},[]),p=A.useCallback((S,T)=>{c(k=>U_(k,S)===T?k:{...k,[S]:T})},[]),m=A.useCallback((S,T,k)=>{d(R=>U_(R,S)===T?R:{...R,[S]:T},k)},[]),g=A.useCallback((S,T)=>{const k=U_(u.current,S),R=!$E(ta(S,r.getValuesSnapshot()),T),I=Jz(S,u.current);I[S]=R,d(I,k!==R)},[]),v=A.useCallback(S=>U_(l.current,S),[]),y=A.useCallback(S=>d(T=>{if(typeof S!="string")return T;const k=Jz(S,T);return delete k[S],$E(k,T)?T:k}),[]),x=A.useCallback(S=>{if(S){const k=ta(S,u.current);if(typeof k=="boolean")return k;const R=ta(S,r.refValues.current),I=ta(S,r.valuesSnapshot.current);return!$E(R,I)}return Object.keys(u.current).length>0?U_(u.current):!$E(r.refValues.current,r.valuesSnapshot.current)},[]),E=A.useCallback(()=>u.current,[]),_=A.useCallback(()=>l.current,[]);return{touchedState:i,dirtyState:s,touchedRef:l,dirtyRef:u,setTouched:c,setDirty:d,resetDirty:h,resetTouched:f,isTouched:v,setFieldTouched:p,setFieldDirty:m,setTouchedState:o,setDirtyState:a,clearFieldDirty:y,isDirty:x,getDirty:E,getTouched:_,setCalculatedFieldDirty:g}}function mft({initialValues:e,onValuesChange:t,mode:n}){const r=A.useRef(!1),[i,o]=A.useState(e||{}),s=A.useRef(i),a=A.useRef(i),l=A.useCallback(({values:m,subscribers:g,updateState:v=!0,mergeWithPreviousValues:y=!0})=>{const x=s.current,E=m instanceof Function?m(s.current):m,_=y?{...x,...E}:E;s.current=_,v&&o(_),t?.(_,x),g?.filter(Boolean).forEach(S=>S({updatedValues:_,previousValues:x}))},[t]),u=A.useCallback(m=>{const g=ta(m.path,s.current),v=m.value instanceof Function?m.value(g):m.value;if(g!==v){const y=s.current,x=KT(m.path,v,s.current);l({values:x,updateState:m.updateState}),m.subscribers?.filter(Boolean).forEach(E=>E({path:m.path,updatedValues:x,previousValues:y}))}},[l]),c=A.useCallback(m=>{a.current=m},[]),d=A.useCallback((m,g)=>{r.current||(r.current=!0,l({values:m,updateState:n==="controlled"}),c(m),g())},[l]),f=A.useCallback(()=>{l({values:a.current,updateState:!0,mergeWithPreviousValues:!1})},[l]),h=A.useCallback(()=>s.current,[]),p=A.useCallback(()=>a.current,[]);return{initialized:r,stateValues:i,refValues:s,valuesSnapshot:a,setValues:l,setFieldValue:u,resetValues:f,setValuesSnapshot:c,initialize:d,getValues:h,getValuesSnapshot:p}}function gft({$status:e}){const t=A.useRef({}),n=A.useCallback((i,o)=>{A.useEffect(()=>(t.current[i]=t.current[i]||[],t.current[i].push(o),()=>{t.current[i]=t.current[i].filter(s=>s!==o)}),[o])},[]),r=A.useCallback(i=>t.current[i]?t.current[i].map(o=>s=>o({previousValue:ta(i,s.previousValues),value:ta(i,s.updatedValues),touched:e.isTouched(i),dirty:e.isDirty(i)})):[],[]);return{subscribers:t,watch:n,getFieldSubscribers:r}}function gle(e,t){return e?`${e}-${t.toString()}`:t.toString()}const DR=Symbol("root-rule");function yle(e){const t=Qz(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function Zz(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,o)=>{const s=e[o],a=`${n===""?"":`${n}.`}${o}`,l=ta(a,t);let u=!1;return typeof s=="function"&&(i[a]=s(l,t,a)),typeof s=="object"&&Array.isArray(l)&&(u=!0,l.forEach((c,d)=>Zz(s,t,`${a}.${d}`,i)),DR in s&&(i[a]=s[DR](l,t,a))),typeof s=="object"&&typeof l=="object"&&l!==null&&(u||Zz(s,t,a,i),DR in s&&(i[a]=s[DR](l,t,a))),i},r)}function eU(e,t){return yle(typeof e=="function"?e(t):Zz(e,t))}function PR(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=eU(t,n),i=Object.keys(r.errors).find(o=>e.split(".").every((s,a)=>s===o.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}const yft="__MANTINE_FORM_INDEX__";function vle(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${yft}`)):!1:!1}function lEe({name:e,mode:t="controlled",initialValues:n,initialErrors:r={},initialDirty:i={},initialTouched:o={},clearInputErrorOnChange:s=!0,validateInputOnChange:a=!1,validateInputOnBlur:l=!1,onValuesChange:u,transformValues:c=m=>m,enhanceGetInputProps:d,validate:f,onSubmitPreventDefault:h="always",touchTrigger:p="change"}={}){const m=sft(r),g=mft({initialValues:n,onValuesChange:u,mode:t}),v=pft({initialDirty:i,initialTouched:o,$values:g,mode:t}),y=fft({$values:g,$errors:m,$status:v}),x=gft({$status:v}),[E,_]=A.useState(0),[S,T]=A.useState({}),[k,R]=A.useState(!1),I=A.useCallback(()=>{g.resetValues(),m.clearErrors(),v.resetDirty(),v.resetTouched(),t==="uncontrolled"&&_(Q=>Q+1)},[]),P=A.useCallback(Q=>{s&&m.clearErrors(),t==="uncontrolled"&&_(ne=>ne+1),Object.keys(x.subscribers.current).forEach(ne=>{const ce=ta(ne,g.refValues.current),le=ta(ne,Q);ce!==le&&x.getFieldSubscribers(ne).forEach(ue=>ue({previousValues:Q,updatedValues:g.refValues.current}))})},[s]),N=A.useCallback(Q=>{const ne=g.refValues.current;g.initialize(Q,()=>t==="uncontrolled"&&_(ce=>ce+1)),P(ne)},[P]),M=A.useCallback((Q,ne,ce)=>{const le=vle(Q,a),ue=ne instanceof Function?ne(ta(Q,g.refValues.current)):ne;v.setCalculatedFieldDirty(Q,ue),p==="change"&&v.setFieldTouched(Q,!0),!le&&s&&m.clearFieldError(Q),g.setFieldValue({path:Q,value:ne,updateState:t==="controlled",subscribers:[...x.getFieldSubscribers(Q),le?ae=>{const te=PR(Q,f,ae.updatedValues);te.hasError?m.setFieldError(Q,te.error):m.clearFieldError(Q)}:null,ce?.forceUpdate!==!1&&t!=="controlled"?()=>T(ae=>({...ae,[Q]:(ae[Q]||0)+1})):null]})},[u,f]),O=A.useCallback(Q=>{const ne=g.refValues.current;g.setValues({values:Q,updateState:t==="controlled"}),P(ne)},[u,P]),j=A.useCallback(()=>{const Q=eU(f,g.refValues.current);return m.setErrors(Q.errors),Q},[f]),U=A.useCallback(Q=>{const ne=PR(Q,f,g.refValues.current);return ne.hasError?m.setFieldError(Q,ne.error):m.clearFieldError(Q),ne},[f]),q=(Q,{type:ne="input",withError:ce=!0,withFocus:le=!0,...ue}={})=>{const te={onChange:oft(se=>M(Q,se,{forceUpdate:!1})),"data-path":gle(e,Q)};return ce&&(te.error=m.errorsState[Q]),ne==="checkbox"?te[t==="controlled"?"checked":"defaultChecked"]=ta(Q,g.refValues.current):te[t==="controlled"?"value":"defaultValue"]=ta(Q,g.refValues.current),le&&(te.onFocus=()=>v.setFieldTouched(Q,!0),te.onBlur=()=>{if(vle(Q,l)){const se=PR(Q,f,g.refValues.current);se.hasError?m.setFieldError(Q,se.error):m.clearFieldError(Q)}}),Object.assign(te,d?.({inputProps:te,field:Q,options:{type:ne,withError:ce,withFocus:le,...ue},form:Y}))},W=(Q,ne)=>ce=>{h==="always"&&ce?.preventDefault();const le=j();if(le.hasErrors)h==="validation-failed"&&ce?.preventDefault(),ne?.(le.errors,g.refValues.current,ce);else{const ue=Q?.(c(g.refValues.current),ce);ue instanceof Promise&&(R(!0),ue.finally(()=>R(!1)))}},V=Q=>c(Q||g.refValues.current),z=A.useCallback(Q=>{Q.preventDefault(),I()},[]),L=A.useCallback(Q=>Q?!PR(Q,f,g.refValues.current).hasError:!eU(f,g.refValues.current).hasErrors,[f]),H=Q=>`${E}-${Q}-${S[Q]||0}`,B=A.useCallback(Q=>document.querySelector(`[data-path="${gle(e,Q)}"]`),[]),Y={watch:x.watch,initialized:g.initialized.current,values:g.stateValues,getValues:g.getValues,getInitialValues:g.getValuesSnapshot,setInitialValues:g.setValuesSnapshot,initialize:N,setValues:O,setFieldValue:M,submitting:k,setSubmitting:R,errors:m.errorsState,setErrors:m.setErrors,setFieldError:m.setFieldError,clearFieldError:m.clearFieldError,clearErrors:m.clearErrors,resetDirty:v.resetDirty,setTouched:v.setTouched,setDirty:v.setDirty,isTouched:v.isTouched,resetTouched:v.resetTouched,isDirty:v.isDirty,getTouched:v.getTouched,getDirty:v.getDirty,reorderListItem:y.reorderListItem,insertListItem:y.insertListItem,removeListItem:y.removeListItem,replaceListItem:y.replaceListItem,reset:I,validate:j,validateField:U,getInputProps:q,onSubmit:W,onReset:z,isValid:L,getTransformedValues:V,key:H,getInputNode:B};return ift(e,Y),Y}function vft(e,t){const n=t;return r=>typeof r!="string"?n:e.test(r)?null:n}function bft(e){return vft(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,e)}function uEe(e,t){const n=e.minSelections&&t.length<e.minSelections,r=e.maxSelections&&t.length>e.maxSelections;return n?`Please select at least ${e.minSelections} options`:r?`Please select at most ${e.maxSelections} options`:null}function cEe(e,t){const n=e.minSelections&&t.length<e.minSelections,r=e.maxSelections&&t.length>e.maxSelections;return n&&r?`Please select between ${e.minSelections} and ${e.maxSelections} options`:n?`Please select at least ${e.minSelections} options`:r?`Please select at most ${e.maxSelections} options`:null}function tU(e,t){const n=typeof t=="string"?parseFloat(t):t,{min:r,max:i}=e;return r!==void 0&&i!==void 0&&(n<r||n>i)?`Please enter a value between ${r} and ${i}`:r!==void 0&&n<r?`Please enter a value of ${r} or greater`:i!==void 0&&n>i?`Please enter a value of ${i} or less`:null}function dEe(e,t){return Object.values(t).some(r=>r==="")?"Please answer all questions in the matrix to continue.":null}const wft=()=>typeof window>"u"?new URLSearchParams(""):new URLSearchParams(window.location.search),fEe=(e,t)=>{let n={};const r=wft();return e.forEach(i=>{const o=t?t[i.id]:{},s=t&&t[`${i.id}-dontKnow`]!==void 0?t[`${i.id}-dontKnow`]:!1,a=i.withDontKnow?{[`${i.id}-dontKnow`]:s}:{},l=t&&t[`${i.id}-other`]!==void 0?t[`${i.id}-other`]:"",u=i.withOther?{[`${i.id}-other`]:l}:{};if(o)n={...n,[i.id]:o,...a,...u};else{let c="";i.paramCapture?c=r.get(i.paramCapture):i.type==="reactive"||i.type==="ranking-sublist"||i.type==="ranking-categorical"||i.type==="ranking-pairwise"?c=[]:i.type==="matrix-radio"||i.type==="matrix-checkbox"?c=Object.fromEntries(i.questionOptions.map(d=>[iY(d),""])):i.type==="slider"&&i.startingValue&&(c=i.startingValue.toString()),n={...n,[i.id]:c,...a,...u}}}),{...n}},xft=(e,t,n)=>{const r=e.filter(o=>o.type==="reactive");let i=null;return r.forEach(o=>{Object.prototype.hasOwnProperty.call(n,o.id)&&(i===null&&(i={...t}),i[o.id]=n[o.id])}),i??t},Cft=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:(r,i)=>{if(typeof r=="object"&&!Array.isArray(r)&&r!==null)return n.type==="matrix-checkbox"||n.type==="matrix-radio"?dEe(n,r):n.type==="ranking-sublist"||n.type==="ranking-categorical"||n.type==="ranking-pairwise"?Object.keys(r).length>0?null:"Empty Input":Object.values(r).every(o=>o!=="")?null:"Empty Input";if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value. Contact study administrator.";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const o=[...n.requiredValue].sort(),s=[...r].sort();return o.every((a,l)=>a===s[l])?null:"Incorrect input"}return n.type==="checkbox"?cEe(n,r):n.type==="dropdown"?uEe(n,r):r.length===0?"Empty input":null}if(n.required&&n.requiredValue!=null&&r!=null)return r.toString()!==n.requiredValue.toString()?"Incorrect input":null;if(n.required){if((r==null||r==="")&&!i[`${n.id}-dontKnow`])return"Empty input";if(n.type==="numerical")return tU(n,r)}return r===null?"Empty input":null}})}),t};function _ft(e,t,n){const[r,i]=A.useState(null),o=lEe({initialValues:fEe(e,n),validate:Cft(e)});return A.useEffect(()=>{r!==t&&(i(t),o.reset())},[r,o,t]),o}function Ah(e,t,n){const{requiredValue:r,requiredLabel:i}=e;let o="";if(t.checked&&Array.isArray(r))o=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null;else if(t.checked&&e.required&&e.type==="checkbox")o=cEe(e,t.checked);else if(t.value&&e.type==="dropdown")o=uEe(e,t.value);else if(t.value&&typeof t.value=="number"&&e.type==="numerical"&&tU(e,t.value))o=tU(e,t.value);else{if(t.value&&typeof t.value=="object"&&!Array.isArray(t.value)&&(e.type==="matrix-radio"||e.type==="matrix-checkbox"))return dEe(e,t.value);o=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?n.find(s=>s.value===r)?.label:r.toString())} to continue.`:null}return o}function hEe({horizontal:e,children:t,style:n}){return e?b.jsx(ln,{mt:Ye(4),gap:"lg",style:n,children:t}):b.jsx(Nn,{gap:"md",style:n,children:t})}const Eft="_fixDisabled_1k5ri_1",Sft="_fixDisabledIcon_1k5ri_16",Tft="_fixDisabledLabel_1k5ri_20",xd={fixDisabled:Eft,fixDisabledIcon:Sft,fixDisabledLabel:Tft},kft="_fixDisabled_d4mus_1",pm={fixDisabled:kft};function Mc({prompt:e,required:t,index:n,enumerateQuestions:r,infoText:i}){return b.jsxs(lt,{direction:"row",wrap:"nowrap",gap:4,children:[r&&b.jsx(De,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${n}. `}),b.jsx(De,{style:{display:"block"},className:"no-last-child-bottom-padding",children:b.jsx(kh,{text:e,required:t})}),i&&b.jsx(ct,{label:i,multiline:!0,maw:400,position:"bottom",children:b.jsx(Rc,{size:16,opacity:.5,style:{marginTop:6}})})]})}function C0({label:e,infoText:t,button:n=!1}){return b.jsxs(lt,{direction:"row",gap:4,align:"center",justify:n?"center":void 0,children:[n?b.jsx($e,{size:"sm",children:e}):b.jsx(kh,{text:e,inline:!0}),t&&b.jsx(ct,{label:t,multiline:!0,maw:400,position:"bottom",children:b.jsx(Rc,{size:16,opacity:.5})})]})}function Aft({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i,otherValue:o}){const{prompt:s,required:a,secondaryText:l,horizontal:u,withOther:c,options:d,infoText:f}=e,h=Lm(),p=A.useMemo(()=>h?h.optionOrders:{},[h]),m=A.useMemo(()=>Xp(p[e.id]||d),[p,d,e.id]),[g,v]=A.useState(!1),y=A.useMemo(()=>Ah(e,n,m),[e,n,m]);return b.jsxs(Pa.Group,{label:s.length>0&&b.jsx(Mc,{prompt:s,required:a,index:r,enumerateQuestions:i,infoText:f}),description:l,...n,error:y,errorProps:{c:a?"red":"orange"},style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:[b.jsx(De,{mt:"xs",children:b.jsxs(hEe,{horizontal:!!u,style:{flexGrow:1},children:[m.map(x=>b.jsx(Pa,{disabled:t,value:x.value,label:b.jsx(C0,{label:x.label,infoText:x.infoText}),classNames:{input:xd.fixDisabled,label:xd.fixDisabledLabel,icon:xd.fixDisabledIcon}},x.value)),c&&b.jsx(Pa,{disabled:t,value:"__other",checked:g,onClick:x=>v(x.currentTarget.checked),label:u?"Other":b.jsx(Or,{mt:-8,placeholder:"Other",disabled:!g,...o,classNames:{input:pm.fixDisabled}}),classNames:{input:xd.fixDisabled,label:xd.fixDisabledLabel,icon:xd.fixDisabledIcon}},"__other")]})}),u&&c&&b.jsx(Or,{mt:"sm",placeholder:"Other",disabled:!g,...o,w:216,classNames:{input:pm.fixDisabled}})]})}function Rft({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,options:l,secondaryText:u,infoText:c}=e,d=Xp(l),f=e.minSelections&&e.minSelections>=1||e.maxSelections&&e.maxSelections>1,h=({option:p})=>b.jsx(C0,{label:p.label,infoText:p.infoText});return f?b.jsx(Gp,{disabled:t,label:s.length>0&&b.jsx(Mc,{prompt:s,required:a,index:r,enumerateQuestions:i,infoText:c}),description:u,placeholder:n.value.length===0?o:void 0,data:d,radius:"md",size:"md",...n,value:n.value===""?[]:Array.isArray(n.value)?n.value:[n.value],error:Ah(e,n,d),withErrorStyles:a,errorProps:{c:a?"red":"orange"},classNames:{input:pm.fixDisabled},maxDropdownHeight:200,clearable:!0,searchable:!0,renderOption:h}):b.jsx(um,{disabled:t,label:s.length>0&&b.jsx(Mc,{prompt:s,required:a,index:r,enumerateQuestions:i,infoText:c}),description:u,placeholder:o,data:d,radius:"md",size:"md",...n,value:n.value===""?null:n.value,error:Ah(e,n,d),withErrorStyles:a,errorProps:{c:a?"red":"orange"},classNames:{input:pm.fixDisabled},maxDropdownHeight:200,renderOption:h})}function Ift({response:e,answer:t,index:n,enumerateQuestions:r}){const{prompt:i,required:o,secondaryText:s,infoText:a}=e;return b.jsx(Or.Wrapper,{label:i.length>0&&b.jsx(Mc,{prompt:i,required:o,index:n,enumerateQuestions:r,infoText:a}),description:s,size:"md",children:t.value&&b.jsx(ji,{children:Array.isArray(t.value)?t.value.map(l=>b.jsx(ji.Item,{children:l},l)):typeof t.value=="object"?Object.entries(t.value).map(([l,u])=>b.jsx(ji.Item,{children:`${l}: ${typeof u=="object"?JSON.stringify(u):u}`},l)):b.jsx(ji.Item,{children:t.value})})})}const Dft="_fixDisabled_14ab8_1",Pft="_fixDisabledIcon_14ab8_16",Oft="_fixDisabledLabel_14ab8_20",Ag={fixDisabled:Dft,fixDisabledIcon:Pft,fixDisabledLabel:Oft};function pEe({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i,stretch:o,otherValue:s}){const{prompt:a,required:l,leftLabel:u,rightLabel:c,secondaryText:d,infoText:f,horizontal:h,withOther:p,options:m,labelLocation:g}=e,v=Lm(),y=A.useMemo(()=>v?v.optionOrders:{},[v]),x=A.useMemo(()=>Xp(y[e.id]||m),[y,m,e.id]),[E,_]=A.useState(!1),S=A.useMemo(()=>Ah(e,n,x),[e,n,x]),T=A.useMemo(()=>h&&g?g:"inline",[g,h]);return b.jsxs($a.Group,{name:`radioInput${e.id}`,label:a.length>0&&b.jsx(Mc,{prompt:a,required:l,index:r,enumerateQuestions:i,infoText:f}),description:d,...n,error:S,errorProps:{c:l?"red":"orange"},style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:[h&&T==="above"&&(u||c)&&b.jsxs(ln,{gap:"lg",justify:"space-between",mt:0,children:[u&&b.jsx($e,{children:u}),c&&b.jsx($e,{children:c})]}),b.jsxs(ln,{gap:"lg",align:"flex-end",mt:h?0:"sm",children:[h&&T==="inline"&&u&&b.jsx($e,{children:u}),b.jsxs(hEe,{horizontal:!!h,style:{flexGrow:1},children:[x.map(k=>b.jsxs("div",{style:{display:"flex",flexDirection:h?"column":"row",gap:h?"unset":Ye(12),flex:o?1:"unset",alignItems:"center"},children:[h&&b.jsx(C0,{label:k.label,infoText:k.infoText}),b.jsx($a,{disabled:t,value:k.value,label:b.jsx(C0,{label:k.label,infoText:k.infoText}),styles:{label:{display:h?"none":"initial"}},onChange:()=>_(!1),classNames:{radio:Ag.fixDisabled,label:Ag.fixDisabledLabel,icon:Ag.fixDisabledIcon}})]},`${k.value}-${e.id}`)),p&&b.jsxs("div",{style:{display:"flex",flexDirection:h?"column":"row",gap:h?"unset":Ye(12),flex:o?1:"unset",alignItems:"center"},children:[h&&b.jsx($e,{size:"sm",children:"Other"}),b.jsx($a,{disabled:t,value:"other",checked:E,onClick:k=>_(k.currentTarget.checked),label:!h&&b.jsx(Or,{mt:-8,placeholder:"Other",disabled:!E,...s,classNames:{input:pm.fixDisabled}}),mt:0,classNames:{radio:Ag.fixDisabled,label:Ag.fixDisabledLabel,icon:Ag.fixDisabledIcon}})]})]}),h&&T==="inline"&&c&&b.jsx($e,{children:c})]}),h&&p&&b.jsx(Or,{mt:"sm",placeholder:"Other",disabled:!E,...s,w:216,classNames:{input:pm.fixDisabled}}),h&&T==="below"&&(u||c)&&b.jsxs(ln,{gap:"lg",justify:"space-between",mt:"sm",children:[u&&b.jsx($e,{children:u}),c&&b.jsx($e,{children:c})]})]},e.id)}function Nft({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{numItems:o,start:s,spacing:a}=e,l=[],u=s??1,c=a??1;for(let f=0;f<+o;f+=1){const h=u+f*c;l.push({label:`${h}`,value:`${h}`})}const d={...e,type:"radio",options:l,horizontal:!0};return b.jsx(pEe,{disabled:t,response:d,answer:n,index:r,enumerateQuestions:i,stretch:!0})}function Mft({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,placeholder:a,secondaryText:l,infoText:u}=e;return b.jsx(qW,{disabled:t,placeholder:a,label:o.length>0&&b.jsx(Mc,{prompt:o,required:s,index:r,enumerateQuestions:i,infoText:u}),description:l,radius:"md",size:"md",...n,error:Ah(e,n),withErrorStyles:s,errorProps:{c:s?"red":"orange"},classNames:{input:pm.fixDisabled}})}function $ft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return A.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const MM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function CC(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function SY(e){return"nodeType"in e}function Tl(e){var t,n;return e?CC(e)?e:SY(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function TY(e){const{Document:t}=Tl(e);return e instanceof t}function XT(e){return CC(e)?!1:e instanceof Tl(e).HTMLElement}function mEe(e){return e instanceof Tl(e).SVGElement}function _C(e){return e?CC(e)?e.document:SY(e)?TY(e)?e:XT(e)||mEe(e)?e.ownerDocument:document:document:document}const Xd=MM?A.useLayoutEffect:A.useEffect;function $M(e){const t=A.useRef(e);return Xd(()=>{t.current=e}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function Lft(){const e=A.useRef(null),t=A.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=A.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function S2(e,t){t===void 0&&(t=[e]);const n=A.useRef(e);return Xd(()=>{n.current!==e&&(n.current=e)},t),n}function QT(e,t){const n=A.useRef();return A.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function uO(e){const t=$M(e),n=A.useRef(null),r=A.useCallback(i=>{i!==n.current&&t?.(i,n.current),n.current=i},[]);return[n,r]}function cO(e){const t=A.useRef();return A.useEffect(()=>{t.current=e},[e]),t.current}let $8={};function JT(e,t){return A.useMemo(()=>{if(t)return t;const n=$8[e]==null?0:$8[e]+1;return $8[e]=n,e+"-"+n},[e,t])}function gEe(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,s)=>{const a=Object.entries(s);for(const[l,u]of a){const c=o[l];c!=null&&(o[l]=c+e*u)}return o},{...t})}}const Fw=gEe(1),dO=gEe(-1);function Fft(e){return"clientX"in e&&"clientY"in e}function LM(e){if(!e)return!1;const{KeyboardEvent:t}=Tl(e.target);return t&&e instanceof t}function jft(e){if(!e)return!1;const{TouchEvent:t}=Tl(e.target);return t&&e instanceof t}function fO(e){if(jft(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Fft(e)?{x:e.clientX,y:e.clientY}:null}const _0=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[_0.Translate.toString(e),_0.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),ble="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Bft(e){return e.matches(ble)?e:e.querySelector(ble)}const zft={display:"none"};function Uft(e){let{id:t,value:n}=e;return un.createElement("div",{id:t,style:zft},n)}function Hft(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return un.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function qft(){const[e,t]=A.useState("");return{announce:A.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const yEe=A.createContext(null);function Vft(e){const t=A.useContext(yEe);A.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Wft(){const[e]=A.useState(()=>new Set),t=A.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[A.useCallback(r=>{let{type:i,event:o}=r;e.forEach(s=>{var a;return(a=s[i])==null?void 0:a.call(s,o)})},[e]),t]}const Gft={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Yft={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Kft(e){let{announcements:t=Yft,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=Gft}=e;const{announce:o,announcement:s}=qft(),a=JT("DndLiveRegion"),[l,u]=A.useState(!1);if(A.useEffect(()=>{u(!0)},[]),Vft(A.useMemo(()=>({onDragStart(d){let{active:f}=d;o(t.onDragStart({active:f}))},onDragMove(d){let{active:f,over:h}=d;t.onDragMove&&o(t.onDragMove({active:f,over:h}))},onDragOver(d){let{active:f,over:h}=d;o(t.onDragOver({active:f,over:h}))},onDragEnd(d){let{active:f,over:h}=d;o(t.onDragEnd({active:f,over:h}))},onDragCancel(d){let{active:f,over:h}=d;o(t.onDragCancel({active:f,over:h}))}}),[o,t])),!l)return null;const c=un.createElement(un.Fragment,null,un.createElement(Uft,{id:r,value:i.draggable}),un.createElement(Hft,{id:a,announcement:s}));return n?Rd.createPortal(c,n):c}var ss;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ss||(ss={}));function hO(){}function wle(e,t){return A.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Xft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return A.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Qd=Object.freeze({x:0,y:0});function Qft(e,t){const n=fO(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function Jft(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Zft(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function eht(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),s=i-r,a=o-n;if(r<i&&n<o){const l=t.width*t.height,u=e.width*e.height,c=s*a,d=c/(l+u-c);return Number(d.toFixed(4))}return 0}const FM=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:s}=o,a=n.get(s);if(a){const l=eht(a,t);l>0&&i.push({id:s,data:{droppableContainer:o,value:l}})}}return i.sort(Jft)};function tht(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function vEe(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Qd}function nht(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const rht=nht(1);function bEe(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function iht(e,t,n){const r=bEe(t);if(!r)return e;const{scaleX:i,scaleY:o,x:s,y:a}=r,l=e.left-s-(1-i)*parseFloat(n),u=e.top-a-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),c=i?e.width/i:e.width,d=o?e.height/o:e.height;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l}}const oht={ignoreTransform:!1};function EC(e,t){t===void 0&&(t=oht);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:c}=Tl(e).getComputedStyle(e);u&&(n=iht(n,u,c))}const{top:r,left:i,width:o,height:s,bottom:a,right:l}=n;return{top:r,left:i,width:o,height:s,bottom:a,right:l}}function xle(e){return EC(e,{ignoreTransform:!0})}function sht(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function aht(e,t){return t===void 0&&(t=Tl(e).getComputedStyle(e)),t.position==="fixed"}function lht(e,t){t===void 0&&(t=Tl(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?n.test(o):!1})}function kY(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(TY(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!XT(i)||mEe(i)||n.includes(i))return n;const o=Tl(e).getComputedStyle(i);return i!==e&&lht(i,o)&&n.push(i),aht(i,o)?n:r(i.parentNode)}return e?r(e):n}function wEe(e){const[t]=kY(e,1);return t??null}function L8(e){return!MM||!e?null:CC(e)?e:SY(e)?TY(e)||e===_C(e).scrollingElement?window:XT(e)?e:null:null}function xEe(e){return CC(e)?e.scrollX:e.scrollLeft}function CEe(e){return CC(e)?e.scrollY:e.scrollTop}function nU(e){return{x:xEe(e),y:CEe(e)}}var _s;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(_s||(_s={}));function _Ee(e){return!MM||!e?!1:e===document.scrollingElement}function EEe(e){const t={x:0,y:0},n=_Ee(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const uht={x:.2,y:.2};function cht(e,t,n,r,i){let{top:o,left:s,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=uht);const{isTop:u,isBottom:c,isLeft:d,isRight:f}=EEe(e),h={x:0,y:0},p={x:0,y:0},m={height:t.height*i.y,width:t.width*i.x};return!u&&o<=t.top+m.height?(h.y=_s.Backward,p.y=r*Math.abs((t.top+m.height-o)/m.height)):!c&&l>=t.bottom-m.height&&(h.y=_s.Forward,p.y=r*Math.abs((t.bottom-m.height-l)/m.height)),!f&&a>=t.right-m.width?(h.x=_s.Forward,p.x=r*Math.abs((t.right-m.width-a)/m.width)):!d&&s<=t.left+m.width&&(h.x=_s.Backward,p.x=r*Math.abs((t.left+m.width-s)/m.width)),{direction:h,speed:p}}function dht(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:s}=window;return{top:0,left:0,right:o,bottom:s,width:o,height:s}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function SEe(e){return e.reduce((t,n)=>Fw(t,nU(n)),Qd)}function fht(e){return e.reduce((t,n)=>t+xEe(n),0)}function hht(e){return e.reduce((t,n)=>t+CEe(n),0)}function TEe(e,t){if(t===void 0&&(t=EC),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);wEe(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const pht=[["x",["left","right"],fht],["y",["top","bottom"],hht]];class AY{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=kY(n),i=SEe(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,s,a]of pht)for(const l of s)Object.defineProperty(this,l,{get:()=>{const u=a(r),c=i[o]-u;return this.rect[l]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}let TS=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}};function mht(e){const{EventTarget:t}=Tl(e);return e instanceof t?e:_C(e)}function F8(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var mc;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(mc||(mc={}));function Cle(e){e.preventDefault()}function ght(e){e.stopPropagation()}var Kr;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Kr||(Kr={}));const kEe={start:[Kr.Space,Kr.Enter],cancel:[Kr.Esc],end:[Kr.Space,Kr.Enter,Kr.Tab]},yht=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Kr.Right:return{...n,x:n.x+25};case Kr.Left:return{...n,x:n.x-25};case Kr.Down:return{...n,y:n.y+25};case Kr.Up:return{...n,y:n.y-25}}};class RY{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new TS(_C(n)),this.windowListeners=new TS(Tl(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(mc.Resize,this.handleCancel),this.windowListeners.add(mc.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(mc.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&TEe(r),n(Qd)}handleKeyDown(t){if(LM(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=kEe,coordinateGetter:s=yht,scrollBehavior:a="smooth"}=i,{code:l}=t;if(o.end.includes(l)){this.handleEnd(t);return}if(o.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,c=u?{x:u.left,y:u.top}:Qd;this.referenceCoordinates||(this.referenceCoordinates=c);const d=s(t,{active:n,context:r.current,currentCoordinates:c});if(d){const f=dO(d,c),h={x:0,y:0},{scrollableAncestors:p}=r.current;for(const m of p){const g=t.code,{isTop:v,isRight:y,isLeft:x,isBottom:E,maxScroll:_,minScroll:S}=EEe(m),T=dht(m),k={x:Math.min(g===Kr.Right?T.right-T.width/2:T.right,Math.max(g===Kr.Right?T.left:T.left+T.width/2,d.x)),y:Math.min(g===Kr.Down?T.bottom-T.height/2:T.bottom,Math.max(g===Kr.Down?T.top:T.top+T.height/2,d.y))},R=g===Kr.Right&&!y||g===Kr.Left&&!x,I=g===Kr.Down&&!E||g===Kr.Up&&!v;if(R&&k.x!==d.x){const P=m.scrollLeft+f.x,N=g===Kr.Right&&P<=_.x||g===Kr.Left&&P>=S.x;if(N&&!f.y){m.scrollTo({left:P,behavior:a});return}N?h.x=m.scrollLeft-P:h.x=g===Kr.Right?m.scrollLeft-_.x:m.scrollLeft-S.x,h.x&&m.scrollBy({left:-h.x,behavior:a});break}else if(I&&k.y!==d.y){const P=m.scrollTop+f.y,N=g===Kr.Down&&P<=_.y||g===Kr.Up&&P>=S.y;if(N&&!f.x){m.scrollTo({top:P,behavior:a});return}N?h.y=m.scrollTop-P:h.y=g===Kr.Down?m.scrollTop-_.y:m.scrollTop-S.y,h.y&&m.scrollBy({top:-h.y,behavior:a});break}}this.handleMove(t,Fw(dO(d,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}RY.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=kEe,onActivation:i}=t,{active:o}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=o.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function _le(e){return!!(e&&"distance"in e)}function Ele(e){return!!(e&&"delay"in e)}class IY{constructor(t,n,r){var i;r===void 0&&(r=mht(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:s}=o;this.props=t,this.events=n,this.document=_C(s),this.documentListeners=new TS(this.document),this.listeners=new TS(r),this.windowListeners=new TS(Tl(s)),this.initialCoordinates=(i=fO(o))!=null?i:Qd,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(mc.Resize,this.handleCancel),this.windowListeners.add(mc.DragStart,Cle),this.windowListeners.add(mc.VisibilityChange,this.handleCancel),this.windowListeners.add(mc.ContextMenu,Cle),this.documentListeners.add(mc.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ele(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(_le(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(mc.Click,ght,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(mc.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:s,options:{activationConstraint:a}}=o;if(!i)return;const l=(n=fO(t))!=null?n:Qd,u=dO(i,l);if(!r&&a){if(_le(a)){if(a.tolerance!=null&&F8(u,a.tolerance))return this.handleCancel();if(F8(u,a.distance))return this.handleStart()}if(Ele(a)&&F8(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Kr.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const vht={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class DY extends IY{constructor(t){const{event:n}=t,r=_C(n.target);super(t,vht,r)}}DY.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const bht={move:{name:"mousemove"},end:{name:"mouseup"}};var rU;(function(e){e[e.RightClick=2]="RightClick"})(rU||(rU={}));class wht extends IY{constructor(t){super(t,bht,_C(t.event.target))}}wht.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===rU.RightClick?!1:(r?.({event:n}),!0)}}];const j8={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class xht extends IY{constructor(t){super(t,j8)}static setup(){return window.addEventListener(j8.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(j8.move.name,t)};function t(){}}}xht.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var kS;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(kS||(kS={}));var pO;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(pO||(pO={}));function Cht(e){let{acceleration:t,activator:n=kS.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:s=5,order:a=pO.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:d,threshold:f}=e;const h=Eht({delta:d,disabled:!o}),[p,m]=Lft(),g=A.useRef({x:0,y:0}),v=A.useRef({x:0,y:0}),y=A.useMemo(()=>{switch(n){case kS.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case kS.DraggableRect:return i}},[n,i,l]),x=A.useRef(null),E=A.useCallback(()=>{const S=x.current;if(!S)return;const T=g.current.x*v.current.x,k=g.current.y*v.current.y;S.scrollBy(T,k)},[]),_=A.useMemo(()=>a===pO.TreeOrder?[...u].reverse():u,[a,u]);A.useEffect(()=>{if(!o||!u.length||!y){m();return}for(const S of _){if(r?.(S)===!1)continue;const T=u.indexOf(S),k=c[T];if(!k)continue;const{direction:R,speed:I}=cht(S,k,y,t,f);for(const P of["x","y"])h[P][R[P]]||(I[P]=0,R[P]=0);if(I.x>0||I.y>0){m(),x.current=S,p(E,s),g.current=I,v.current=R;return}}g.current={x:0,y:0},v.current={x:0,y:0},m()},[t,E,r,m,o,s,JSON.stringify(y),JSON.stringify(h),p,u,_,c,JSON.stringify(f)])}const _ht={x:{[_s.Backward]:!1,[_s.Forward]:!1},y:{[_s.Backward]:!1,[_s.Forward]:!1}};function Eht(e){let{delta:t,disabled:n}=e;const r=cO(t);return QT(i=>{if(n||!r||!i)return _ht;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[_s.Backward]:i.x[_s.Backward]||o.x===-1,[_s.Forward]:i.x[_s.Forward]||o.x===1},y:{[_s.Backward]:i.y[_s.Backward]||o.y===-1,[_s.Forward]:i.y[_s.Forward]||o.y===1}}},[n,t,r])}function Sht(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return QT(i=>{var o;return t==null?null:(o=r??i)!=null?o:null},[r,t])}function Tht(e,t){return A.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...o]},[]),[e,t])}var T2;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(T2||(T2={}));var iU;(function(e){e.Optimized="optimized"})(iU||(iU={}));const Sle=new Map;function kht(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,s]=A.useState(null),{frequency:a,measure:l,strategy:u}=i,c=A.useRef(e),d=g(),f=S2(d),h=A.useCallback(function(v){v===void 0&&(v=[]),!f.current&&s(y=>y===null?v:y.concat(v.filter(x=>!y.includes(x))))},[f]),p=A.useRef(null),m=QT(v=>{if(d&&!n)return Sle;if(!v||v===Sle||c.current!==e||o!=null){const y=new Map;for(let x of e){if(!x)continue;if(o&&o.length>0&&!o.includes(x.id)&&x.rect.current){y.set(x.id,x.rect.current);continue}const E=x.node.current,_=E?new AY(l(E),E):null;x.rect.current=_,_&&y.set(x.id,_)}return y}return v},[e,o,n,d,l]);return A.useEffect(()=>{c.current=e},[e]),A.useEffect(()=>{d||h()},[n,d]),A.useEffect(()=>{o&&o.length>0&&s(null)},[JSON.stringify(o)]),A.useEffect(()=>{d||typeof a!="number"||p.current!==null||(p.current=setTimeout(()=>{h(),p.current=null},a))},[a,d,h,...r]),{droppableRects:m,measureDroppableContainers:h,measuringScheduled:o!=null};function g(){switch(u){case T2.Always:return!1;case T2.BeforeDragging:return n;default:return!n}}}function PY(e,t){return QT(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Aht(e,t){return PY(e,t)}function Rht(e){let{callback:t,disabled:n}=e;const r=$M(t),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return A.useEffect(()=>()=>i?.disconnect(),[i]),i}function jM(e){let{callback:t,disabled:n}=e;const r=$M(t),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return A.useEffect(()=>()=>i?.disconnect(),[i]),i}function Iht(e){return new AY(EC(e),e)}function Tle(e,t,n){t===void 0&&(t=Iht);const[r,i]=A.useState(null);function o(){i(l=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const c=t(e);return JSON.stringify(l)===JSON.stringify(c)?l:c})}const s=Rht({callback(l){if(e)for(const u of l){const{type:c,target:d}=u;if(c==="childList"&&d instanceof HTMLElement&&d.contains(e)){o();break}}}}),a=jM({callback:o});return Xd(()=>{o(),e?(a?.observe(e),s?.observe(document.body,{childList:!0,subtree:!0})):(a?.disconnect(),s?.disconnect())},[e]),r}function Dht(e){const t=PY(e);return vEe(e,t)}const kle=[];function Pht(e){const t=A.useRef(e),n=QT(r=>e?r&&r!==kle&&e&&t.current&&e.parentNode===t.current.parentNode?r:kY(e):kle,[e]);return A.useEffect(()=>{t.current=e},[e]),n}function Oht(e){const[t,n]=A.useState(null),r=A.useRef(e),i=A.useCallback(o=>{const s=L8(o.target);s&&n(a=>a?(a.set(s,nU(s)),new Map(a)):null)},[]);return A.useEffect(()=>{const o=r.current;if(e!==o){s(o);const a=e.map(l=>{const u=L8(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,nU(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(o)};function s(a){a.forEach(l=>{const u=L8(l);u?.removeEventListener("scroll",i)})}},[i,e]),A.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,s)=>Fw(o,s),Qd):SEe(e):Qd,[e,t])}function Ale(e,t){t===void 0&&(t=[]);const n=A.useRef(null);return A.useEffect(()=>{n.current=null},t),A.useEffect(()=>{const r=e!==Qd;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?dO(e,n.current):Qd}function Nht(e){A.useEffect(()=>{if(!MM)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function Mht(e,t){return A.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=s=>{o(s,t)},n},{}),[e,t])}function AEe(e){return A.useMemo(()=>e?sht(e):null,[e])}const Rle=[];function $ht(e,t){t===void 0&&(t=EC);const[n]=e,r=AEe(n?Tl(n):null),[i,o]=A.useState(Rle);function s(){o(()=>e.length?e.map(l=>_Ee(l)?r:new AY(t(l),l)):Rle)}const a=jM({callback:s});return Xd(()=>{a?.disconnect(),s(),e.forEach(l=>a?.observe(l))},[e]),i}function REe(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return XT(t)?t:e}function Lht(e){let{measure:t}=e;const[n,r]=A.useState(null),i=A.useCallback(u=>{for(const{target:c}of u)if(XT(c)){r(d=>{const f=t(c);return d?{...d,width:f.width,height:f.height}:f});break}},[t]),o=jM({callback:i}),s=A.useCallback(u=>{const c=REe(u);o?.disconnect(),c&&o?.observe(c),r(c?t(c):null)},[t,o]),[a,l]=uO(s);return A.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const Fht=[{sensor:DY,options:{}},{sensor:RY,options:{}}],jht={current:{}},RP={draggable:{measure:xle},droppable:{measure:xle,strategy:T2.WhileDragging,frequency:iU.Optimized},dragOverlay:{measure:EC}};class AS extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Bht={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new AS,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:hO},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:RP,measureDroppableContainers:hO,windowRect:null,measuringScheduled:!1},IEe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:hO,draggableNodes:new Map,over:null,measureDroppableContainers:hO},ZT=A.createContext(IEe),DEe=A.createContext(Bht);function zht(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new AS}}}function Uht(e,t){switch(t.type){case ss.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ss.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ss.DragEnd:case ss.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ss.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new AS(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case ss.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new AS(e.droppable.containers);return s.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:s}}}case ss.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new AS(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function Hht(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=A.useContext(ZT),o=cO(r),s=cO(n?.id);return A.useEffect(()=>{if(!t&&!r&&o&&s!=null){if(!LM(o)||document.activeElement===o.target)return;const a=i.get(s);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[l.current,u.current]){if(!c)continue;const d=Bft(c);if(d){d.focus();break}}})}},[r,t,i,s,o]),null}function PEe(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),n):n}function qht(e){return A.useMemo(()=>({draggable:{...RP.draggable,...e?.draggable},droppable:{...RP.droppable,...e?.droppable},dragOverlay:{...RP.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Vht(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=A.useRef(!1),{x:s,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Xd(()=>{if(!s&&!a||!t){o.current=!1;return}if(o.current||!r)return;const u=t?.node.current;if(!u||u.isConnected===!1)return;const c=n(u),d=vEe(c,r);if(s||(d.x=0),a||(d.y=0),o.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const f=wEe(u);f&&f.scrollBy({top:d.y,left:d.x})}},[t,s,a,r,n])}const BM=A.createContext({...Qd,scaleX:1,scaleY:1});var Rg;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Rg||(Rg={}));const OY=A.memo(function(t){var n,r,i,o;let{id:s,accessibility:a,autoScroll:l=!0,children:u,sensors:c=Fht,collisionDetection:d=FM,measuring:f,modifiers:h,...p}=t;const m=A.useReducer(Uht,void 0,zht),[g,v]=m,[y,x]=Wft(),[E,_]=A.useState(Rg.Uninitialized),S=E===Rg.Initialized,{draggable:{active:T,nodes:k,translate:R},droppable:{containers:I}}=g,P=T!=null?k.get(T):null,N=A.useRef({initial:null,translated:null}),M=A.useMemo(()=>{var En;return T!=null?{id:T,data:(En=P?.data)!=null?En:jht,rect:N}:null},[T,P]),O=A.useRef(null),[j,U]=A.useState(null),[q,W]=A.useState(null),V=S2(p,Object.values(p)),z=JT("DndDescribedBy",s),L=A.useMemo(()=>I.getEnabled(),[I]),H=qht(f),{droppableRects:B,measureDroppableContainers:Y,measuringScheduled:Q}=kht(L,{dragging:S,dependencies:[R.x,R.y],config:H.droppable}),ne=Sht(k,T),ce=A.useMemo(()=>q?fO(q):null,[q]),le=mr(),ue=Aht(ne,H.draggable.measure);Vht({activeNode:T!=null?k.get(T):null,config:le.layoutShiftCompensation,initialRect:ue,measure:H.draggable.measure});const ae=Tle(ne,H.draggable.measure,ue),te=Tle(ne?ne.parentElement:null),se=A.useRef({activatorEvent:null,active:null,activeNode:ne,collisionRect:null,collisions:null,droppableRects:B,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),we=I.getNodeFor((n=se.current.over)==null?void 0:n.id),X=Lht({measure:H.dragOverlay.measure}),he=(r=X.nodeRef.current)!=null?r:ne,ge=S?(i=X.rect)!=null?i:ae:null,re=!!(X.nodeRef.current&&X.rect),ee=Dht(re?null:ae),fe=AEe(he?Tl(he):null),Re=Pht(S?we??ne:null),Oe=$ht(Re),Ae=PEe(h,{transform:{x:R.x-ee.x,y:R.y-ee.y,scaleX:1,scaleY:1},activatorEvent:q,active:M,activeNodeRect:ae,containerNodeRect:te,draggingNodeRect:ge,over:se.current.over,overlayNodeRect:X.rect,scrollableAncestors:Re,scrollableAncestorRects:Oe,windowRect:fe}),Se=ce?Fw(ce,R):null,xe=Oht(Re),ke=Ale(xe),me=Ale(xe,[ae]),Me=Fw(Ae,ke),ze=ge?rht(ge,Ae):null,Xe=M&&ze?d({active:M,collisionRect:ze,droppableRects:B,droppableContainers:L,pointerCoordinates:Se}):null,tt=Zft(Xe,"id"),[gt,qt]=A.useState(null),zt=re?Ae:Fw(Ae,me),_n=tht(zt,(o=gt?.rect)!=null?o:null,ae),$t=A.useRef(null),dn=A.useCallback((En,nn)=>{let{sensor:rr,options:ii}=nn;if(O.current==null)return;const br=k.get(O.current);if(!br)return;const Sn=En.nativeEvent,ht=new rr({active:O.current,activeNode:br,event:Sn,options:ii,context:se,onAbort(Ut){if(!k.get(Ut))return;const{onDragAbort:sn}=V.current,Yn={id:Ut};sn?.(Yn),y({type:"onDragAbort",event:Yn})},onPending(Ut,Zn,sn,Yn){if(!k.get(Ut))return;const{onDragPending:kr}=V.current,Ar={id:Ut,constraint:Zn,initialCoordinates:sn,offset:Yn};kr?.(Ar),y({type:"onDragPending",event:Ar})},onStart(Ut){const Zn=O.current;if(Zn==null)return;const sn=k.get(Zn);if(!sn)return;const{onDragStart:Yn}=V.current,wr={activatorEvent:Sn,active:{id:Zn,data:sn.data,rect:N}};Rd.unstable_batchedUpdates(()=>{Yn?.(wr),_(Rg.Initializing),v({type:ss.DragStart,initialCoordinates:Ut,active:Zn}),y({type:"onDragStart",event:wr}),U($t.current),W(Sn)})},onMove(Ut){v({type:ss.DragMove,coordinates:Ut})},onEnd:cr(ss.DragEnd),onCancel:cr(ss.DragCancel)});$t.current=ht;function cr(Ut){return async function(){const{active:sn,collisions:Yn,over:wr,scrollAdjustedTranslate:kr}=se.current;let Ar=null;if(sn&&kr){const{cancelDrop:Jo}=V.current;Ar={activatorEvent:Sn,active:sn,collisions:Yn,delta:kr,over:wr},Ut===ss.DragEnd&&typeof Jo=="function"&&await Promise.resolve(Jo(Ar))&&(Ut=ss.DragCancel)}O.current=null,Rd.unstable_batchedUpdates(()=>{v({type:Ut}),_(Rg.Uninitialized),qt(null),U(null),W(null),$t.current=null;const Jo=Ut===ss.DragEnd?"onDragEnd":"onDragCancel";if(Ar){const pa=V.current[Jo];pa?.(Ar),y({type:Jo,event:Ar})}})}}},[k]),Vn=A.useCallback((En,nn)=>(rr,ii)=>{const br=rr.nativeEvent,Sn=k.get(ii);if(O.current!==null||!Sn||br.dndKit||br.defaultPrevented)return;const ht={active:Sn};En(rr,nn.options,ht)===!0&&(br.dndKit={capturedBy:nn.sensor},O.current=ii,dn(rr,nn))},[k,dn]),Ln=Tht(c,Vn);Nht(c),Xd(()=>{ae&&E===Rg.Initializing&&_(Rg.Initialized)},[ae,E]),A.useEffect(()=>{const{onDragMove:En}=V.current,{active:nn,activatorEvent:rr,collisions:ii,over:br}=se.current;if(!nn||!rr)return;const Sn={active:nn,activatorEvent:rr,collisions:ii,delta:{x:Me.x,y:Me.y},over:br};Rd.unstable_batchedUpdates(()=>{En?.(Sn),y({type:"onDragMove",event:Sn})})},[Me.x,Me.y]),A.useEffect(()=>{const{active:En,activatorEvent:nn,collisions:rr,droppableContainers:ii,scrollAdjustedTranslate:br}=se.current;if(!En||O.current==null||!nn||!br)return;const{onDragOver:Sn}=V.current,ht=ii.get(tt),cr=ht&&ht.rect.current?{id:ht.id,rect:ht.rect.current,data:ht.data,disabled:ht.disabled}:null,Ut={active:En,activatorEvent:nn,collisions:rr,delta:{x:br.x,y:br.y},over:cr};Rd.unstable_batchedUpdates(()=>{qt(cr),Sn?.(Ut),y({type:"onDragOver",event:Ut})})},[tt]),Xd(()=>{se.current={activatorEvent:q,active:M,activeNode:ne,collisionRect:ze,collisions:Xe,droppableRects:B,draggableNodes:k,draggingNode:he,draggingNodeRect:ge,droppableContainers:I,over:gt,scrollableAncestors:Re,scrollAdjustedTranslate:Me},N.current={initial:ge,translated:ze}},[M,ne,Xe,ze,k,he,ge,B,I,gt,Re,Me]),Cht({...le,delta:R,draggingRect:ze,pointerCoordinates:Se,scrollableAncestors:Re,scrollableAncestorRects:Oe});const Tr=A.useMemo(()=>({active:M,activeNode:ne,activeNodeRect:ae,activatorEvent:q,collisions:Xe,containerNodeRect:te,dragOverlay:X,draggableNodes:k,droppableContainers:I,droppableRects:B,over:gt,measureDroppableContainers:Y,scrollableAncestors:Re,scrollableAncestorRects:Oe,measuringConfiguration:H,measuringScheduled:Q,windowRect:fe}),[M,ne,ae,q,Xe,te,X,k,I,B,gt,Y,Re,Oe,H,Q,fe]),Xn=A.useMemo(()=>({activatorEvent:q,activators:Ln,active:M,activeNodeRect:ae,ariaDescribedById:{draggable:z},dispatch:v,draggableNodes:k,over:gt,measureDroppableContainers:Y}),[q,Ln,M,ae,v,z,k,gt,Y]);return un.createElement(yEe.Provider,{value:x},un.createElement(ZT.Provider,{value:Xn},un.createElement(DEe.Provider,{value:Tr},un.createElement(BM.Provider,{value:_n},u)),un.createElement(Hht,{disabled:a?.restoreFocus===!1})),un.createElement(Kft,{...a,hiddenTextDescribedById:z}));function mr(){const En=j?.autoScrollEnabled===!1,nn=typeof l=="object"?l.enabled===!1:l===!1,rr=S&&!En&&!nn;return typeof l=="object"?{...l,enabled:rr}:{enabled:rr}}}),Wht=A.createContext(null),Ile="button",Ght="Draggable";function Yht(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=JT(Ght),{activators:s,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:d,over:f}=A.useContext(ZT),{role:h=Ile,roleDescription:p="draggable",tabIndex:m=0}=i??{},g=l?.id===t,v=A.useContext(g?BM:Wht),[y,x]=uO(),[E,_]=uO(),S=Mht(s,t),T=S2(n);Xd(()=>(d.set(t,{id:t,key:o,node:y,activatorNode:E,data:T}),()=>{const R=d.get(t);R&&R.key===o&&d.delete(t)}),[d,t]);const k=A.useMemo(()=>({role:h,tabIndex:m,"aria-disabled":r,"aria-pressed":g&&h===Ile?!0:void 0,"aria-roledescription":p,"aria-describedby":c.draggable}),[r,h,m,g,p,c.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:k,isDragging:g,listeners:r?void 0:S,node:y,over:f,setNodeRef:x,setActivatorNodeRef:_,transform:v}}function OEe(){return A.useContext(DEe)}const Kht="Droppable",Xht={timeout:25};function NEe(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=JT(Kht),{active:s,dispatch:a,over:l,measureDroppableContainers:u}=A.useContext(ZT),c=A.useRef({disabled:n}),d=A.useRef(!1),f=A.useRef(null),h=A.useRef(null),{disabled:p,updateMeasurementsFor:m,timeout:g}={...Xht,...i},v=S2(m??r),y=A.useCallback(()=>{if(!d.current){d.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),h.current=null},g)},[g]),x=jM({callback:y,disabled:p||!s}),E=A.useCallback((k,R)=>{x&&(R&&(x.unobserve(R),d.current=!1),k&&x.observe(k))},[x]),[_,S]=uO(E),T=S2(t);return A.useEffect(()=>{!x||!_.current||(x.disconnect(),d.current=!1,x.observe(_.current))},[_,x]),A.useEffect(()=>(a({type:ss.RegisterDroppable,element:{id:r,key:o,disabled:n,node:_,rect:f,data:T}}),()=>a({type:ss.UnregisterDroppable,key:o,id:r})),[r]),A.useEffect(()=>{n!==c.current.disabled&&(a({type:ss.SetDroppableDisabled,id:r,key:o,disabled:n}),c.current.disabled=n)},[r,o,n,a]),{active:s,rect:f,isOver:l?.id===r,node:_,over:l,setNodeRef:S}}function Qht(e){let{animation:t,children:n}=e;const[r,i]=A.useState(null),[o,s]=A.useState(null),a=cO(n);return!n&&!r&&a&&i(a),Xd(()=>{if(!o)return;const l=r?.key,u=r?.props.id;if(l==null||u==null){i(null);return}Promise.resolve(t(u,o)).then(()=>{i(null)})},[t,r,o]),un.createElement(un.Fragment,null,n,r?A.cloneElement(r,{ref:s}):null)}const Jht={x:0,y:0,scaleX:1,scaleY:1};function Zht(e){let{children:t}=e;return un.createElement(ZT.Provider,{value:IEe},un.createElement(BM.Provider,{value:Jht},t))}const ept={position:"fixed",touchAction:"none"},tpt=e=>LM(e)?"transform 250ms ease":void 0,npt=A.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:o,className:s,rect:a,style:l,transform:u,transition:c=tpt}=e;if(!a)return null;const d=i?u:{...u,scaleX:1,scaleY:1},f={...ept,width:a.width,height:a.height,top:a.top,left:a.left,transform:_0.Transform.toString(d),transformOrigin:i&&r?Qft(r,a):void 0,transition:typeof c=="function"?c(r):c,...l};return un.createElement(n,{className:s,style:f,ref:t},o)}),rpt=e=>t=>{let{active:n,dragOverlay:r}=t;const i={},{styles:o,className:s}=e;if(o!=null&&o.active)for(const[a,l]of Object.entries(o.active))l!==void 0&&(i[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,l));if(o!=null&&o.dragOverlay)for(const[a,l]of Object.entries(o.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return s!=null&&s.active&&n.node.classList.add(s.active),s!=null&&s.dragOverlay&&r.node.classList.add(s.dragOverlay),function(){for(const[l,u]of Object.entries(i))n.node.style.setProperty(l,u);s!=null&&s.active&&n.node.classList.remove(s.active)}},ipt=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:_0.Transform.toString(t)},{transform:_0.Transform.toString(n)}]},opt={duration:250,easing:"ease",keyframes:ipt,sideEffects:rpt({styles:{active:{opacity:"0"}}})};function spt(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return $M((o,s)=>{if(t===null)return;const a=n.get(o);if(!a)return;const l=a.node.current;if(!l)return;const u=REe(s);if(!u)return;const{transform:c}=Tl(s).getComputedStyle(s),d=bEe(c);if(!d)return;const f=typeof t=="function"?t:apt(t);return TEe(l,i.draggable.measure),f({active:{id:o,data:a.data,node:l,rect:i.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:s,rect:i.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:i,transform:d})})}function apt(e){const{duration:t,easing:n,sideEffects:r,keyframes:i}={...opt,...e};return o=>{let{active:s,dragOverlay:a,transform:l,...u}=o;if(!t)return;const c={x:a.rect.left-s.rect.left,y:a.rect.top-s.rect.top},d={scaleX:l.scaleX!==1?s.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?s.rect.height*l.scaleY/a.rect.height:1},f={x:l.x-c.x,y:l.y-c.y,...d},h=i({...u,active:s,dragOverlay:a,transform:{initial:l,final:f}}),[p]=h,m=h[h.length-1];if(JSON.stringify(p)===JSON.stringify(m))return;const g=r?.({active:s,dragOverlay:a,...u}),v=a.node.animate(h,{duration:t,easing:n,fill:"forwards"});return new Promise(y=>{v.onfinish=()=>{g?.(),y()}})}}let Dle=0;function lpt(e){return A.useMemo(()=>{if(e!=null)return Dle++,Dle},[e])}const NY=un.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:o,modifiers:s,wrapperElement:a="div",className:l,zIndex:u=999}=e;const{activatorEvent:c,active:d,activeNodeRect:f,containerNodeRect:h,draggableNodes:p,droppableContainers:m,dragOverlay:g,over:v,measuringConfiguration:y,scrollableAncestors:x,scrollableAncestorRects:E,windowRect:_}=OEe(),S=A.useContext(BM),T=lpt(d?.id),k=PEe(s,{activatorEvent:c,active:d,activeNodeRect:f,containerNodeRect:h,draggingNodeRect:g.rect,over:v,overlayNodeRect:g.rect,scrollableAncestors:x,scrollableAncestorRects:E,transform:S,windowRect:_}),R=PY(f),I=spt({config:r,draggableNodes:p,droppableContainers:m,measuringConfiguration:y}),P=R?g.setRef:void 0;return un.createElement(Zht,null,un.createElement(Qht,{animation:I},d&&T?un.createElement(npt,{key:T,id:d.id,ref:P,as:a,activatorEvent:c,adjustScale:t,className:l,transition:o,rect:R,style:{zIndex:u,...i},transform:k},n):null))});function MY(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function upt(e,t){return e.reduce((n,r,i)=>{const o=t.get(r);return o&&(n[i]=o),n},Array(e.length))}function OR(e){return e!==null&&e>=0}function cpt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function dpt(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const MEe=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const o=MY(t,r,n),s=t[i],a=o[i];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},NR={scaleX:1,scaleY:1},k2=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:s}=e;const a=(t=o[n])!=null?t:r;if(!a)return null;if(i===n){const u=o[s];return u?{x:0,y:n<s?u.top+u.height-(a.top+a.height):u.top-a.top,...NR}:null}const l=fpt(o,i,n);return i>n&&i<=s?{x:0,y:-a.height-l,...NR}:i<n&&i>=s?{x:0,y:a.height+l,...NR}:{x:0,y:0,...NR}};function fpt(e,t,n){const r=e[t],i=e[t-1],o=e[t+1];return r?n<t?i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const $Ee="Sortable",LEe=un.createContext({activeIndex:-1,containerId:$Ee,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:MEe,disabled:{draggable:!1,droppable:!1}});function A2(e){let{children:t,id:n,items:r,strategy:i=MEe,disabled:o=!1}=e;const{active:s,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:c}=OEe(),d=JT($Ee,n),f=a.rect!==null,h=A.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),p=s!=null,m=s?h.indexOf(s.id):-1,g=u?h.indexOf(u.id):-1,v=A.useRef(h),y=!cpt(h,v.current),x=g!==-1&&m===-1||y,E=dpt(o);Xd(()=>{y&&p&&c(h)},[y,h,p,c]),A.useEffect(()=>{v.current=h},[h]);const _=A.useMemo(()=>({activeIndex:m,containerId:d,disabled:E,disableTransforms:x,items:h,overIndex:g,useDragOverlay:f,sortedRects:upt(h,l),strategy:i}),[m,d,E.draggable,E.droppable,x,h,g,l,f,i]);return un.createElement(LEe.Provider,{value:_},t)}const hpt=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return MY(n,r,i).indexOf(t)},ppt=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:o,newIndex:s,previousItems:a,previousContainerId:l,transition:u}=e;return!u||!r||a!==o&&i===s?!1:n?!0:s!==i&&t===l},mpt={duration:200,easing:"ease"},FEe="transform",gpt=_0.Transition.toString({property:FEe,duration:0,easing:"linear"}),ypt={roleDescription:"sortable"};function vpt(e){let{disabled:t,index:n,node:r,rect:i}=e;const[o,s]=A.useState(null),a=A.useRef(n);return Xd(()=>{if(!t&&n!==a.current&&r.current){const l=i.current;if(l){const u=EC(r.current,{ignoreTransform:!0}),c={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(c.x||c.y)&&s(c)}}n!==a.current&&(a.current=n)},[t,n,r,i]),A.useEffect(()=>{o&&s(null)},[o]),o}function bpt(e){let{animateLayoutChanges:t=ppt,attributes:n,disabled:r,data:i,getNewIndex:o=hpt,id:s,strategy:a,resizeObserverConfig:l,transition:u=mpt}=e;const{items:c,containerId:d,activeIndex:f,disabled:h,disableTransforms:p,sortedRects:m,overIndex:g,useDragOverlay:v,strategy:y}=A.useContext(LEe),x=wpt(r,h),E=c.indexOf(s),_=A.useMemo(()=>({sortable:{containerId:d,index:E,items:c},...i}),[d,i,E,c]),S=A.useMemo(()=>c.slice(c.indexOf(s)),[c,s]),{rect:T,node:k,isOver:R,setNodeRef:I}=NEe({id:s,data:_,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...l}}),{active:P,activatorEvent:N,activeNodeRect:M,attributes:O,setNodeRef:j,listeners:U,isDragging:q,over:W,setActivatorNodeRef:V,transform:z}=Yht({id:s,data:_,attributes:{...ypt,...n},disabled:x.draggable}),L=$ft(I,j),H=!!P,B=H&&!p&&OR(f)&&OR(g),Y=!v&&q,Q=Y&&B?z:null,ce=B?Q??(a??y)({rects:m,activeNodeRect:M,activeIndex:f,overIndex:g,index:E}):null,le=OR(f)&&OR(g)?o({id:s,items:c,activeIndex:f,overIndex:g}):E,ue=P?.id,ae=A.useRef({activeId:ue,items:c,newIndex:le,containerId:d}),te=c!==ae.current.items,se=t({active:P,containerId:d,isDragging:q,isSorting:H,id:s,index:E,items:c,newIndex:ae.current.newIndex,previousItems:ae.current.items,previousContainerId:ae.current.containerId,transition:u,wasDragging:ae.current.activeId!=null}),we=vpt({disabled:!se,index:E,node:k,rect:T});return A.useEffect(()=>{H&&ae.current.newIndex!==le&&(ae.current.newIndex=le),d!==ae.current.containerId&&(ae.current.containerId=d),c!==ae.current.items&&(ae.current.items=c)},[H,le,d,c]),A.useEffect(()=>{if(ue===ae.current.activeId)return;if(ue!=null&&ae.current.activeId==null){ae.current.activeId=ue;return}const he=setTimeout(()=>{ae.current.activeId=ue},50);return()=>clearTimeout(he)},[ue]),{active:P,activeIndex:f,attributes:O,data:_,rect:T,index:E,newIndex:le,items:c,isOver:R,isSorting:H,isDragging:q,listeners:U,node:k,overIndex:g,over:W,setNodeRef:L,setActivatorNodeRef:V,setDroppableNodeRef:I,setDraggableNodeRef:j,transform:we??ce,transition:X()};function X(){if(we||te&&ae.current.newIndex===E)return gpt;if(!(Y&&!LM(N)||!u)&&(H||se))return _0.Transition.toString({...u,property:FEe})}}function wpt(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}Kr.Down,Kr.Right,Kr.Up,Kr.Left;const xpt="_item_11oxa_1",Cpt="_itemDragging_11oxa_11",Ple={item:xpt,itemDragging:Cpt};function a0({item:e,index:t}){const{attributes:n,listeners:r,setNodeRef:i,transform:o,transition:s,isDragging:a}=bpt({id:e.symbol}),l={transform:_0.Transform.toString(o),transition:s};return b.jsxs(Ns,{ref:i,style:{...l,margin:"0 auto",minWidth:"200px"},className:Nt(Ple.item,{[Ple.itemDragging]:a}),...n,...r,withBorder:!0,p:"sm",children:[t!==void 0&&b.jsx($e,{c:"dimmed",mr:"sm",children:t}),b.jsx(C0,{label:e.option.label,infoText:e.option.infoText})]})}function R2({id:e,title:t,children:n}){const{setNodeRef:r,isOver:i}=NEe({id:e});return b.jsxs(Ns,{ref:r,style:{backgroundColor:i?"#f0f8ff":void 0,borderColor:i?"#4dabf7":void 0,maxWidth:"600px"},withBorder:!0,p:"sm",children:[b.jsx($e,{fw:500,ta:"center",mb:"sm",children:t}),n]})}const $Y=e=>Xp(e).map(t=>({id:t.value,symbol:t.value,option:t})),LY=(e,t)=>{const{setRankingAnswers:n}=Qi(),r=bo();return{sensors:Xft(wle(DY,{activationConstraint:{distance:5}}),wle(RY)),updateAnswer:s=>{t?.(s),r(n({responseId:e,values:s}))}}};function _pt({options:e,responseId:t,answer:n,disabled:r,numItems:i,setError:o}){const{onChange:s}=n,{sensors:a,updateAnswer:l}=LY(t,s),u=A.useMemo(()=>$Y(e),[e]),[c,d]=A.useState(null),f=A.useMemo(()=>{let y=[];return n?.value&&Object.keys(n.value).length>0&&(y=Object.entries(n.value).sort((E,_)=>parseInt(E[1],10)-parseInt(_[1],10)).map(([E])=>u.find(_=>_.id===E)).filter(Boolean),i&&i>0&&(y=y.slice(0,i))),{selected:y,unassigned:u.filter(x=>!y.find(E=>E.id===x.id))}},[u,n,i]),[h,p]=A.useState(f);A.useEffect(()=>{p(f)},[f]);const m=y=>{d(y.active.id)},g=y=>{if(d(null),r||!y.over)return;const x=y.active.id,E=y.over.id,_=h.selected.find(P=>P.symbol===x),S=h.unassigned.find(P=>P.symbol===x),T=E==="selected"||h.selected.find(P=>P.symbol===E),k=E==="unassigned",R={...h};if(_&&T){const P=h.selected.findIndex(M=>M.symbol===x),N=E==="selected"?h.selected.length-1:h.selected.findIndex(M=>M.symbol===E);R.selected=MY(h.selected,P,N)}else if(S&&T){if(i&&h.selected.length>=i){o?.(`You can only add up to ${i} items.`);return}R.unassigned=h.unassigned.filter(P=>P.symbol!==x),R.selected=[...h.selected,S]}else if(_&&k)R.selected=h.selected.filter(P=>P.symbol!==x),R.unassigned=[...h.unassigned,_];else return;o?.(null),p(R);const I={};R.selected.forEach((P,N)=>{I[P.id]=N.toString()}),l(I)},v=c?u.find(y=>y.symbol===c):null;return b.jsxs(OY,{sensors:a,collisionDetection:FM,onDragStart:m,onDragEnd:g,children:[b.jsxs(Nn,{gap:"md",w:"600px",mx:"auto",children:[b.jsxs(R2,{id:"selected",title:"",children:[b.jsx($e,{size:"md",fw:500,ta:"center",mb:"sm",children:"HIGH"}),b.jsx(A2,{items:h.selected.map(y=>y.symbol),strategy:k2,children:b.jsx(Nn,{children:h.selected.map((y,x)=>b.jsx(a0,{item:y,index:x+1},y.symbol))})}),b.jsx($e,{size:"md",fw:500,ta:"center",mt:"sm",children:"LOW"})]}),b.jsx(R2,{id:"unassigned",title:"Available Items",children:b.jsx(A2,{items:h.unassigned.map(y=>y.symbol),strategy:k2,children:b.jsx(Nn,{children:h.unassigned.map(y=>b.jsx(a0,{item:y},y.symbol))})})})]}),b.jsx(NY,{children:v?b.jsx(a0,{item:v}):void 0})]})}function Ept({options:e,disabled:t,answer:n,responseId:r,numItems:i,setError:o}){const{onChange:s}=n,{sensors:a,updateAnswer:l}=LY(r,s),u=A.useMemo(()=>$Y(e),[e]),[c,d]=A.useState(null),f=A.useMemo(()=>{const y={unassigned:[...u],HIGH:[],MEDIUM:[],LOW:[]};return n?.value&&Object.entries(n.value).forEach(([x,E])=>{const _=u.find(S=>S.id===x);_&&["HIGH","MEDIUM","LOW"].includes(E)&&(y[E].push(_),y.unassigned=y.unassigned.filter(S=>S.id!==x))}),y},[u,n]),[h,p]=A.useState(f);A.useEffect(()=>{p(f)},[f]);const m=y=>{d(y.active.id)},g=y=>{if(d(null),t||!y.over)return;const x=y.active.id,E=y.over.id,_=Object.keys(h).find(S=>h[S].find(T=>T.id===x));!_||_===E||["unassigned","HIGH","MEDIUM","LOW"].includes(E)&&p(S=>{const T=S[_].find(I=>I.id===x);if(!T)return S;if(E!=="unassigned"&&i&&S[E].length>=i)return o?.(`You can only add up to ${i} items.`),S;o?.(null);const k={...S};k[_]=k[_].filter(I=>I.id!==x),k[E]=[...k[E],T];const R={};return["HIGH","MEDIUM","LOW"].forEach(I=>{k[I].forEach(P=>{R[P.id]=I})}),l(R),k})},v=c?u.find(y=>y.id===c):null;return b.jsxs(OY,{sensors:a,collisionDetection:FM,onDragStart:m,onDragEnd:g,children:[b.jsx(Nn,{gap:"md",w:"600px",mx:"auto",children:["HIGH","MEDIUM","LOW","unassigned"].map(y=>b.jsx(R2,{id:y,title:y==="unassigned"?"Available Items":y,children:b.jsx(A2,{items:h[y].map(x=>x.symbol),strategy:k2,children:b.jsx(Nn,{children:h[y].map(x=>b.jsx(a0,{item:x},x.symbol))})})},y))}),b.jsx(NY,{children:v?b.jsx(a0,{item:v}):void 0})]})}function Spt(e,t){const n={};Object.entries(e).forEach(([i,o])=>{const s=o.match(/^pair-(\d+)-(high|low)$/);if(s){const a=s[1],l=i.split("_")[0];n[a]||(n[a]=new Set),n[a].add(l)}});const r=[...n[t]||[]].sort().join("|");return r?Object.entries(n).some(([i,o])=>i!==t&&[...o].sort().join("|")===r):!1}function Tpt({options:e,disabled:t,answer:n,responseId:r,setError:i}){const{onChange:o}=n,{sensors:s,updateAnswer:a}=LY(r,o),l=A.useMemo(()=>$Y(e),[e]),[u,c]=A.useState(["0"]),[d,f]=A.useState(null),[h,p]=A.useState(0),[m,g]=A.useState(1),{pairs:v,unassigned:y}=A.useMemo(()=>{const T={};return Object.entries(n?.value||{}).forEach(([k,R])=>{const I=R.match(/^pair-(\d+)-(high|low)$/);if(I){const[,P,N]=I;T[P]||(T[P]={high:[],low:[]}),T[P][N].push(k)}}),u.forEach(k=>{T[k]||(T[k]={high:[],low:[]})}),{pairs:T,unassigned:l}},[l,n,u]),x=T=>{f(T.active.id)},E=T=>{if(f(null),t||!T.over)return;const k=T.active.id,R=T.over.id,I={...n.value};if(R==="unassigned"){delete I[k],i?.(null),a(I);return}const P=!k.includes("_"),N=P?k:k.split("_")[0],M=R.match(/^pair-(\d+)-(high|low)$/);if(M){const[,O,j]=M;if(Object.entries(I).filter(([z,L])=>L===R&&z!==k).length>=1){i?.("You can only place one item in each box.");return}const W=`pair-${O}-${j==="high"?"low":"high"}`;if(Object.entries(I).some(([z,L])=>{const H=z.split("_")[0];return L===W&&H===N})){const z=l.find(L=>L.id===N)?.option.label;i?.(`Item "${z}" cannot be in both HIGH and LOW.`);return}if(P){const z={...I,[`${k}_temp`]:R};if(Spt(z,O)){i?.("This would create a duplicate pair.");return}}}P?(I[`${k}_${h}`]=R,p(O=>O+1)):(delete I[k],I[k]=R),i?.(null),a(I)},_=A.useMemo(()=>{if(!d)return null;const T=d.includes("_")?d.split("_")[0]:d;return l.find(k=>k.id===T)||null},[d,l]),S=T=>{if(t)return;const k={...n.value};Object.keys(k).forEach(R=>{k[R].startsWith(`pair-${T}-`)&&delete k[R]}),c(R=>R.filter(I=>I!==T)),i?.(null),a(k)};return b.jsxs(OY,{sensors:s,collisionDetection:FM,onDragStart:x,onDragEnd:E,children:[b.jsx(lt,{justify:"flex-end",mb:"md",children:b.jsx(Mt,{variant:"outline",onClick:()=>{t||(c(T=>[...T,m.toString()]),g(T=>T+1))},children:"Add New Pair"})}),b.jsxs(Nn,{gap:"md",w:"650px",mx:"auto",children:[Object.entries(v).map(([T,k])=>b.jsxs(ln,{justify:"center",wrap:"nowrap",align:"flex",children:[["high","low"].map(R=>b.jsx(De,{style:{width:"300px"},children:b.jsx(R2,{id:`pair-${T}-${R}`,title:R.toUpperCase(),children:b.jsx(A2,{items:k[R],strategy:k2,children:b.jsx(Nn,{children:k[R].map(I=>{const P=I.split("_")[0],N=l.find(M=>M.id===P);return N?b.jsx(a0,{item:{...N,id:P,symbol:I}},I):null})})})})},R)),b.jsx(Mt,{variant:"white",color:"red",size:"xs",onClick:()=>S(T),disabled:t,children:"X"})]},T)),b.jsx(R2,{id:"unassigned",title:"Available Items",children:b.jsx(A2,{items:y.map(T=>T.id),strategy:k2,children:b.jsx(Nn,{children:y.map(T=>b.jsx(a0,{item:T},T.id))})})})]}),b.jsx(NY,{children:_?b.jsx(a0,{item:_}):void 0})]})}function kpt({response:e,answer:t,index:n,disabled:r,enumerateQuestions:i}){const{prompt:o,required:s,options:a,secondaryText:l,infoText:u,numItems:c}=e,[d,f]=A.useState(null),h={disabled:r,options:a,answer:t,responseId:e.id,numItems:c};return b.jsxs(De,{children:[o.length>0&&b.jsx(Mc,{prompt:o,required:s,index:n,enumerateQuestions:i,infoText:u}),l&&b.jsx($e,{c:"dimmed",size:"sm",mt:0,children:l}),d&&b.jsx($e,{c:s?"red":"orange",size:"sm",mt:"xs",children:d}),b.jsxs(De,{mt:"md",children:[e.type==="ranking-sublist"&&b.jsx(_pt,{...h,setError:f}),e.type==="ranking-categorical"&&b.jsx(Ept,{...h,setError:f}),e.type==="ranking-pairwise"&&b.jsx(Tpt,{...h,setError:f})]})]})}const Apt="_track_w59g7_1",Rpt="_fixDisabled_w59g7_11",Ole={track:Apt,fixDisabled:Rpt};function Ipt(e,t){const n=Math.abs(t-e);return n===0?1:10**(Math.ceil(Math.log10(n))-1)}function Dpt(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||t<=e)return[];const r=n??Ipt(e,t);if(!Number.isFinite(r)||r<=0)return[];const i=r.toString(),o=i.includes("e-")?Number(i.split("e-")[1]):i.split(".")[1]?.length??0,s=d=>Number(d.toFixed(o)),a=Math.abs(r)/1e6,l=Math.ceil((e+a)/r),u=Math.floor((t-a)/r),c=[];for(let d=l;d<=u;d+=1){const f=s(d*r);f>e+a&&f<t-a&&c.push(f)}return c}function Ppt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,options:a,secondaryText:l,infoText:u,snap:c,step:d,withBar:f,tlxStyle:h,smeqStyle:p,spacing:m}=e,[g,v]=A.useMemo(()=>[Math.min(...a.map(P=>P.value)),Math.max(...a.map(P=>P.value))],[a]),y=a.some(P=>P.label!==""),x=Ah(e,n),E=A.useMemo(()=>Dpt(g,v,m),[g,v,m]),[_,S]=A.useState(n.value??(g+v)/2),T=(_-g)/(v-g),[k,R]=A.useState(!1),{ref:I}=bT(({y:P})=>{const N=Math.max(g,Math.min(v,g+(1-P)*(v-g))),M=d??(c?.001:(v-g)/100),O=Math.round((N-g)/M)*M+g;S(O),n?.onChange?.(O)});return b.jsx(Or.Wrapper,{label:o.length>0&&b.jsx(Mc,{prompt:o,required:s,index:r,enumerateQuestions:i,infoText:u}),description:l,error:x,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},errorProps:{c:s?"red":"orange"},children:p?b.jsx(De,{style:{overflow:"hidden"},children:b.jsxs(lt,{direction:"row",align:"flex-start",gap:"sm",m:"md",justify:"center",wrap:"nowrap",children:[b.jsx(De,{style:{height:450,position:"relative",minWidth:30,textAlign:"right",flexShrink:0},children:E.map(P=>{const N=(P-g)/(v-g)*100;return b.jsx(De,{style:{position:"absolute",bottom:`${N}%`,fontSize:"var(--mantine-font-size-xs)",color:"var(--mantine-color-gray-7)",right:0,transform:"translateY(50%)"},children:P},P)})}),b.jsxs(De,{ref:I,style:{width:22,height:450,position:"relative",flexShrink:0},onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),children:[b.jsx(De,{style:{position:"absolute",left:20,top:0,width:2,height:"100%",backgroundColor:"var(--mantine-color-gray-5)"}}),E.map(P=>{const N=(P-g)/(v-g)*100;return b.jsx(De,{style:{position:"absolute",bottom:`${N}%`,left:2,width:20,height:1,backgroundColor:"var(--mantine-color-gray-7)",transform:"translateY(50%)"}},P)}),a.map(P=>{const N=(P.value-g)/(v-g)*100;return b.jsx(De,{style:{position:"absolute",bottom:`${N}%`,left:P.label!==""?20:2,width:(P.label!=="",20),height:1,backgroundColor:"var(--mantine-color-gray-7)",transform:"translateY(50%)"}},P.value)}),b.jsx(De,{style:{backgroundColor:"var(--mantine-color-red-6)",width:20,height:1,border:"1px solid var(--mantine-color-red-6)",position:"absolute",bottom:`calc(${T*100}% - 1px)`},children:b.jsx(ct,{label:Math.round(_),opened:k,position:"right",withArrow:!0,children:b.jsx(De,{style:{width:20,height:1}})})})]}),b.jsx(De,{style:{height:450,position:"relative",minWidth:200},children:a.map(P=>{if(!P.label)return null;const N=(P.value-g)/(v-g)*100;return b.jsx(De,{style:{fontSize:"var(--mantine-font-size-xs)",color:"var(--mantine-color-gray-7)",position:"absolute",bottom:`${N}%`,transform:"translateY(50%)",left:20},children:P.label},P.value)})})]})}):b.jsx(oM,{disabled:t,marks:[...E.map(P=>({value:P})),...a],min:g,max:v,step:d??(c?.001:(v-g)/100),h:y?40:void 0,...n,classNames:{track:h?Ole.track:"",bar:Ole.fixDisabled},restrictToMarks:c,label:P=>P,showLabelOnHover:!0,styles:P=>({mark:{...h?{height:20,width:1,marginTop:-6,marginLeft:2,borderRadius:0}:{},...f===!1?{borderColor:"var(--mantine-color-gray-2)"}:{}},bar:f===!1||h?{display:"none"}:{},markLabel:{fontSize:P.fontSizes.sm,color:P.colors.gray[7],transform:"translate(calc((var(--mark-offset) * -1) + (var(--slider-size) / 2)), calc(var(--mantine-spacing-xs) / 2)"},thumb:{...h?{borderColor:"var(--mantine-color-red-6)",width:1,borderWidth:1,height:22,borderRadius:0,backgroundColor:"var(--mantine-color-red-6)",transform:"translate(-50%, -62%)"}:{}}}),flex:1,mt:h?"sm":"xs"})})}function Opt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,secondaryText:l,infoText:u}=e;return b.jsx(fl,{disabled:t,placeholder:o,label:s.length>0&&b.jsx(Mc,{prompt:s,required:a,index:r,enumerateQuestions:i,infoText:u}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:Ah(e,n),withErrorStyles:a,errorProps:{c:a?"red":"orange"},classNames:{input:pm.fixDisabled}})}function Npt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,secondaryText:l,infoText:u}=e;return b.jsx(l2,{disabled:t,placeholder:o,label:s.length>0&&b.jsx(Mc,{prompt:s,required:a,index:r,enumerateQuestions:i,infoText:u}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:Ah(e,n),withErrorStyles:a,errorProps:{c:a?"red":"orange"},classNames:{input:pm.fixDisabled}})}const Mpt={likely5:["Highly Unlikely","Unlikely","Neutral","Likely","Highly Likely"],likely7:["Highly Unlikely","Unlikely","Slightly Unlikely","Neutral","Slightly Likely","Likely","Highly Likely"],satisfaction5:["Highly Unsatisfied","Unsatisfied","Neutral","Satisfied","Highly Satisfied"],satisfaction7:["Highly Unsatisfied","Unsatisfied","Slightly Unsatisfied","Neutral","Slightly Satisfied","Satisfied","Highly Satisfied"]};function $pt({_choices:e,_n:t,idx:n,question:r,answer:i,onChange:o,disabled:s}){return b.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(a=>b.jsx(Pa,{disabled:s,checked:(i.value[r]||"").split("|").includes(a.value),onChange:l=>o(l,r,a),value:a.value,classNames:{input:xd.fixDisabled,icon:xd.fixDisabledIcon}},`${a.label}-${n}`))})}function Lpt({_choices:e,_n:t,idx:n,question:r,response:i,answer:o,onChange:s,disabled:a}){return b.jsx($a.Group,{name:`radioInput${i.id}-${n}`,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))",flex:1},onChange:l=>s(l,r),value:o.value[r],children:b.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(l=>b.jsx($a,{disabled:a,value:l.value,classNames:{radio:Ag.fixDisabled,icon:Ag.fixDisabledIcon}},`${l.label}-${n}`))})},`${i.id}-${n}`)}function Fpt({response:e,answer:t,index:n,disabled:r,enumerateQuestions:i}){const{setMatrixAnswersRadio:o,setMatrixAnswersCheckbox:s}=Qi(),a=bo(),{answerOptions:l,prompt:u,secondaryText:c,required:d,infoText:f}=e,h=A.useMemo(()=>Xp(typeof l=="string"?Mpt[l]:l),[l]),p=A.useMemo(()=>Xp(e.questionOptions),[e.questionOptions]),m=A.useMemo(()=>Object.fromEntries(p.map(T=>[T.value,T])),[p]),{questionOrders:g}=Lm(),v=A.useMemo(()=>g[e.id]||p.map(T=>T.value),[g,p,e.id]),y=(T,k)=>{const R={type:"radio",questionKey:k,val:T,responseId:e.id};a(o(R))},x=(T,k,R)=>{const I=T.target.checked,P={questionKey:k,responseId:e.id,value:R.value,label:R.label,isChecked:I,choiceOptions:h};a(s(P))},E=Ah(e,t),_=h.length,S=v.length;return b.jsxs(b.Fragment,{children:[u.length>0&&b.jsx(Mc,{prompt:u,required:d,index:n,enumerateQuestions:i,infoText:f}),b.jsx($e,{c:"dimmed",size:"sm",mt:0,children:c}),b.jsxs(De,{style:{display:"grid",gridTemplateColumns:"auto 1fr",gridTemplateRows:"auto 1fr"},m:"md",mt:"xs",children:[b.jsx("div",{style:{borderBottom:"1px solid var(--mantine-color-dark-0)",borderRight:"1px solid var(--mantine-color-dark-0)"}}),b.jsx("div",{style:{height:"100%",display:"grid",gridTemplateColumns:`repeat(${_}, 1fr)`,alignItems:"center",justifyItems:"center",borderBottom:"1px solid var(--mantine-color-dark-0)"},children:h.map((T,k)=>b.jsx(De,{style:{textAlign:"center",fontSize:"0.8em"},mb:"sm",ml:"xs",mr:"xs",children:b.jsx(C0,{label:T.label,infoText:T.infoText})},`choice-${k}-label`))}),b.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${S}, 1fr)`},children:v.map((T,k)=>b.jsx(De,{style:{height:"80px",width:"100%",display:"flex",alignItems:"safe center",justifyContent:"end",borderRight:"1px solid var(--mantine-color-dark-0)",backgroundColor:`${(k+1)%2===0?"var(--mantine-color-gray-2)":"white"}`,overflowY:"auto"},ta:"right",p:"sm",miw:140,maw:400,children:b.jsx(C0,{label:m[T]?.label||T,infoText:m[T]?.infoText})},`question-${k}-label`))}),b.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${S},1fr)`},children:v.map((T,k)=>b.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",backgroundColor:`${(k+1)%2===0?"var(--mantine-color-gray-2)":"white"}`},children:e.type==="matrix-radio"?b.jsx(Lpt,{disabled:r,idx:k,question:T,answer:t,_choices:h,_n:_,onChange:y,response:e}):b.jsx($pt,{disabled:r,idx:k,question:T,answer:t,_choices:h,_n:_,onChange:x})},`question-${k}`))})]}),E&&b.jsx($e,{c:d?"red":"orange",size:"sm",mt:"xs",children:E})]})}const jpt="_root_152zr_1",Bpt={root:jpt};function zpt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,secondaryText:a,options:l,infoText:u}=e,c=Lm(),d=A.useMemo(()=>c?c.optionOrders:{},[c]),f=A.useMemo(()=>Xp(d[e.id]||l),[d,l,e.id]),h=A.useMemo(()=>Ah(e,n,f),[e,n,f]);return b.jsx(CT,{children:b.jsx($a.Group,{name:`radioInput${e.id}`,label:o.length>0&&b.jsx(Mc,{prompt:o,required:s,index:r,enumerateQuestions:i,infoText:u}),description:a,...n,error:h,errorProps:{c:s?"red":"orange"},style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:b.jsx(lt,{justify:"space-between",align:"center",gap:"xl",mt:"xs",children:f.map((p,m)=>b.jsx($a.Card,{value:p.value,disabled:t,ta:"center",className:Bpt.root,p:"xs",children:b.jsx(C0,{label:p.label,infoText:p.infoText,button:!0})},`radio-${m}`))})},e.id)})}function Upt({response:e}){const{prompt:t}=e;return b.jsx(lt,{direction:"row",wrap:"nowrap",gap:4,children:b.jsx(De,{style:{display:"block"},className:"no-last-child-bottom-padding",children:b.jsx(kh,{text:t,required:!1})})})}const FY=e=>{A.useEffect(()=>{if(!e)return()=>{};const t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=`${Hi}${e}`,t.dataset.stylesheetPath=e,document.head.appendChild(t),()=>{t.parentNode&&t.parentNode.removeChild(t)}},[e])};function Hpt({response:e,form:t,storedAnswer:n,index:r,config:i,dontKnowCheckbox:o,otherInput:s,disabled:a}){const l=Ya(),u=df(),c=Hn(I=>I.sequence),d=A.useMemo(()=>v0(c),[c]),f=hf(),h=A.useMemo(()=>typeof f=="number"?d[f+1]:void 0,[f,d]),p=A.useMemo(()=>h?l.components[h]:void 0,[h,l]),m=Hn(I=>I.completed),g=A.useMemo(()=>(u||Object.keys(n||{}).length>0&&!p?.previousButton||m?{value:n[e.id]}:t)||{value:void 0},[u,n,e.id,t,p?.previousButton,m]),v=(Object.keys(n||{}).length>0?{checked:n[`${e.id}-dontKnow`]}:o)||{checked:void 0},y=(Object.keys(n||{}).length>0?{value:n[`${e.id}-other`]}:s)||{value:void 0},x=Object.keys(n||{}).length>0||a||m,[E]=uu(),_=A.useMemo(()=>i?.enumerateQuestions??l.uiConfig.enumerateQuestions??!1,[i,l]);FY(e.stylesheetPath);const S=A.useMemo(()=>{if(m)return!0;if(typeof f=="number"){const I=d[f];for(let P=0;P<c.components.length;P+=1){const N=c.components[P];if(typeof N=="string"&&N===I){if(P+1<c.components.length&&typeof c.components[P+1]!="string")return!1;break}}}if(typeof f=="number"&&f+1<d.length&&p?.previousButton)return!1;if(e.paramCapture){const I=E.get(e.paramCapture);return x||!!I}return x||a},[m,f,d,e.paramCapture,x,a,c.components,p?.previousButton,E]),T=A.useMemo(()=>e.paramCapture?E.get(e.paramCapture)||"":e.type==="reactive"||e.type==="checkbox"?[]:e.type==="matrix-radio"||e.type==="matrix-checkbox"?Object.fromEntries(e.questionOptions.map(I=>[iY(I),""])):e.type==="slider"&&e.startingValue?e.startingValue.toString():"",[e.paramCapture,e.questionOptions,e.startingValue,e.type,E]),k=e.style||{},R=A.useMemo(()=>e.withDivider??i?.responseDividers??l.uiConfig.responseDividers,[e,i,l]);return b.jsxs(De,{mb:R?"xl":"lg",className:"response",id:e.id,style:k,children:[e.type==="numerical"&&b.jsx(Mft,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:_}),e.type==="shortText"&&b.jsx(Opt,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:_}),e.type==="longText"&&b.jsx(Npt,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:_}),e.type==="likert"&&b.jsx(Nft,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:_}),e.type==="dropdown"&&b.jsx(Rft,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:_}),e.type==="slider"&&b.jsx(Ppt,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:_}),e.type==="radio"&&b.jsx(pEe,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:_,otherValue:y}),e.type==="checkbox"&&b.jsx(Aft,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:_,otherValue:y}),(e.type==="ranking-sublist"||e.type==="ranking-categorical"||e.type==="ranking-pairwise")&&b.jsx(kpt,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:_}),e.type==="reactive"&&b.jsx(Ift,{response:e,answer:g,index:r,enumerateQuestions:_}),(e.type==="matrix-radio"||e.type==="matrix-checkbox")&&b.jsx(Fpt,{disabled:S||o?.checked,response:e,answer:g,index:r,enumerateQuestions:_}),e.type==="buttons"&&b.jsx(zpt,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:_}),e.type==="textOnly"&&b.jsx(Upt,{response:e}),e.withDontKnow&&b.jsx(Pa,{mt:"xs",disabled:S,label:"I don't know",classNames:{input:xd.fixDisabled,label:xd.fixDisabledLabel,icon:xd.fixDisabledIcon},...o,checked:v.checked,onChange:I=>{o?.onChange(I.currentTarget.checked),t.onChange(T)}}),(e.type==="divider"||R)&&b.jsx(Tb,{mt:"xl",mb:"xs"})]})}function Nle({response:e,correctAnswer:t,alertConfig:n,identifier:r,attemptsUsed:i,trainingAttempts:o}){const s=bo(),{toggleShowHelpText:a,incrementHelpCounter:l}=Qi();return n[e.id]?.visible?b.jsxs(ml,{mb:"md",title:n[e.id].title,color:n[e.id].color,children:[n[e.id].message,n[e.id].message.includes("Please try again")&&b.jsxs(b.Fragment,{children:[b.jsx("br",{}),b.jsx("br",{}),"If you're unsure"," ",b.jsx(V0,{style:{fontSize:14},onClick:()=>{s(a()),s(l({identifier:r}))},children:"review the help text."})," "]}),b.jsx("br",{}),b.jsx("br",{}),i>=o&&o>=0&&t&&` The correct answer was: ${t}.`]}):null}function qpt(e,t){const n=[];for(const r of e)t.includes(r)&&n.push(r);return n}function oU({config:e,location:t,status:n,style:r}){const i=bo(),{updateResponseBlockValidation:o,saveIncorrectAnswer:s}=Qi(),a=hf(),l=Hn(ae=>ae.analysisProvState[t]),u=A.useMemo(()=>l?.form||n?.answer,[l,n]),c=Lm(),d=A.useMemo(()=>c?.formOrder||{},[c]),f=fa(),h=A.useMemo(()=>d?.response?d.response.map(ae=>e?.response?.find(te=>te.id===ae)).filter(ae=>ae!==void 0):[],[e?.response,d]),p=A.useMemo(()=>h.filter(ae=>ae.location?ae.location===t:t==="belowStimulus"),[h,t]),m=A.useMemo(()=>p.map(ae=>ae.type!=="textOnly"&&ae.type!=="divider"?{...ae,required:ae.required===void 0?!0:ae.required}:ae),[p]),g=A.useMemo(()=>h.map(ae=>ae.type!=="textOnly"&&ae.type!=="divider"?{...ae,required:ae.required===void 0?!0:ae.required}:ae),[h]),{actions:v,trrack:y}=A.useMemo(()=>{const ae=xC.create(),te=ae.register("update",(we,X)=>(we.form=X,we)),se=NM({registry:ae,initialState:{form:null}});return{actions:{updateFormAction:te},trrack:se}},[]),x=Hn(ae=>ae.reactiveAnswers),E=Hn(ae=>ae.matrixAnswers),_=Hn(ae=>ae.rankingAnswers),S=Hn(ae=>ae.trialValidation),T=Ya(),R=A.useMemo(()=>e?.provideFeedback??T.uiConfig.provideFeedback,[e,T])&&(e?.correctAnswer?.length||0)>0,I=A.useMemo(()=>e?.allowFailedTraining??T.uiConfig.allowFailedTraining??!0,[e,T]),[P,N]=A.useState(0),M=A.useMemo(()=>e?.trainingAttempts??T.uiConfig.trainingAttempts??2,[e,T]),[O,j]=A.useState(!1),[U,q]=A.useState(!1),V=P>=M&&M>=0||U,z=A.useMemo(()=>t===(e?.nextButtonLocation??T.uiConfig.nextButtonLocation??"belowStimulus"),[e,T,t]),L=Fm(),H=_ft(m,a,u||{});A.useEffect(()=>{u&&(H.setInitialValues(fEe(p,u)),H.reset(),o({location:t,identifier:L,status:H.isValid(),values:structuredClone(H.values),provenanceGraph:y.graph.backend}))},[p,u]),A.useEffect(()=>{if(x){const ae=xft(m,H.values,x);Q3(ae,H.values)||H.setValues(ae)}},[x]),A.useEffect(()=>{const ae=m.filter(we=>we.type==="matrix-radio"||we.type==="matrix-checkbox"),te=m.filter(we=>we.type==="ranking-sublist"||we.type==="ranking-categorical"||we.type==="ranking-pairwise"),se={...H.values};ae.forEach(we=>{const{id:X}=we;se[X]={...H.getInputProps(X).value,...E[X]}}),te.forEach(we=>{const{id:X}=we;se[X]={...H.getInputProps(X).value,..._[X]}}),H.setValues(se)},[E,_]),A.useEffect(()=>{y.apply("Update form field",v.updateFormAction(structuredClone(H.values))),i(o({location:t,identifier:L,status:H.isValid(),values:structuredClone(H.values),provenanceGraph:y.graph.backend}))},[H.values,L,t,i,o]);const[B,Y]=A.useState(Object.fromEntries(g.map(ae=>[ae.id,{visible:!1,title:"Correct Answer",message:"The correct answer is: ",color:"green"}]))),Q=(ae,te,se,we,X)=>{Y(he=>({...he,[ae]:{visible:te,title:se,message:we,color:X}}))},ne=A.useCallback(()=>{const ae=P+1;N(ae);const te=structuredClone(S[L]),se=te?Object.values(te).reduce((X,he)=>Object.hasOwn(he,"values")?{...X,...he.values}:X,{}):{},we=Object.fromEntries(g.map(X=>{const he=e?.correctAnswer?.find(re=>re.id===X.id)?.answer,ge=se[X.id];return[X.id,_Y(ge,he)]}));R&&(g.forEach(X=>{if(we[X.id]&&!B[X.id]?.message.includes("You've failed to answer this question correctly"))Q(X.id,!0,"Correct Answer","You have answered the question correctly.","green");else{i(s({question:L,identifier:X.id,answer:se[X.id]}));let he="";if(M===-1?he="Please try again.":ae>=M?(he=`You didn't answer this question correctly after ${M} attempts. ${I?"You can continue to the next question.":"Unfortunately you have not met the criteria for continuing this study."}`,I||setTimeout(()=>{f(`./../__trainingFailed${window.location.search}`)},5e3)):M-ae===1?he="Please try again. You have 1 attempt left.":he=`Please try again. You have ${M-ae} attempts left.`,X.type==="checkbox"){const ge=e?.correctAnswer?.find(Re=>Re.id===X.id)?.answer,re=se[X.id],ee=qpt(re,ge),fe=ge.length===ee.length&&re.length>ge.length?"However, you have selected too many boxes. ":"";he=`You have successfully checked ${ee.length}/${ge.length} correct boxes. ${fe}${he}`}Q(X.id,!0,"Incorrect Answer",he,"red")}}),q(Object.values(we).every(X=>X)),j(I&&ae>=M||Object.values(we).every(X=>X)&&ae<=M))},[P,g,e,R,M,I,f,L,i,B,s,S]),ce=e?.nextOnEnter??T.uiConfig.nextOnEnter;A.useEffect(()=>{if(ce){const ae=te=>{te.key==="Enter"&&ne()};return window.addEventListener("keydown",ae),()=>{window.removeEventListener("keydown",ae)}}return()=>{}},[ne,ce]);const le=A.useMemo(()=>e?.nextButtonText??T.uiConfig.nextButtonText??"Next",[e,T]);let ue=0;return b.jsxs(b.Fragment,{children:[b.jsx(De,{className:`responseBlock responseBlock-${t}`,style:r,children:g.map(ae=>{const te=e.correctAnswer?.find(X=>X.id===ae.id)?.answer,se=Array.isArray(te)&&te.length>0?JSON.stringify(te):te,we=p.some(X=>X.id===ae.id);return we&&(ae.type!=="textOnly"?ue+=1:ae.restartEnumeration&&(ue=0)),b.jsx(un.Fragment,{children:we?ae.hidden?"":b.jsxs(b.Fragment,{children:[b.jsx(Hpt,{storedAnswer:u,form:{...H.getInputProps(ae.id,{type:ae.type==="checkbox"?"checkbox":"input"})},dontKnowCheckbox:{...H.getInputProps(`${ae.id}-dontKnow`,{type:"checkbox"})},otherInput:{...H.getInputProps(`${ae.id}-other`)},response:ae,index:ue,config:e,disabled:V}),b.jsx(Nle,{response:ae,correctAnswer:se,alertConfig:B,identifier:L,attemptsUsed:P,trainingAttempts:M})]}):b.jsx(Nle,{response:ae,correctAnswer:se,alertConfig:B,identifier:L,attemptsUsed:P,trainingAttempts:M})},`${ae.id}-${a}`)})}),z&&b.jsx(tft,{disabled:R&&!O||!H.isValid(),label:le,config:e,location:t,checkAnswer:z&&R?b.jsx(Mt,{disabled:U||P>=M&&M>=0,onClick:()=>ne(),px:t==="sidebar"?8:void 0,children:"Check Answer"}):null})]})}const H_="@REVISIT_COMMS";function Vpt({currentConfig:e,provState:t,answers:n}){const{setReactiveAnswers:r,updateResponseBlockValidation:i}=Qi(),o=bo(),s=VCe(),a=Fm(),l=A.useRef(null),u=A.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),c=pf(),d=A.useCallback((f,h)=>{l.current?.contentWindow?.postMessage({error:!1,type:`${H_}/${f}`,iframeId:u,message:h},"*")},[l,u]);return A.useEffect(()=>{t&&d("PROVENANCE",t)},[t,d]),A.useEffect(()=>{n&&d("ANSWERS",n)},[n,d]),A.useEffect(()=>{const f=h=>{const{data:p}=h;if(typeof p=="object"&&u===p.iframeId)switch(p.type){case`${H_}/WINDOW_READY`:e.parameters&&d("STUDY_DATA",e.parameters);break;case`${H_}/READY`:break;case`${H_}/ANSWERS`:o(r(p.message)),o(i({location:"stimulus",identifier:a,status:!0,values:p.message}));break;case`${H_}/PROVENANCE`:o(i({location:"stimulus",identifier:a,values:{},status:!0,provenanceGraph:p.message}));break}};return window.addEventListener("message",f),()=>window.removeEventListener("message",f)},[o,s,u,e,d,r,i,a]),b.jsx("iframe",{ref:l,style:{width:"100%",flexGrow:1,border:0},src:e.path.startsWith("http")?e.path:`${Hi}${e.path}?trialid=${c}&id=${u}`})}async function zM(e){const n=await(await fetch(e)).text();if(!n.includes("<title>ReVISit</title>"))return n}async function Wpt(e){const t=await fetch(`${Hi}${e}`);let n;try{n=await t.json()}catch(r){console.error("Invalid JSON:",r)}return n}function mm({email:e,path:t}){const n=da();return b.jsxs(G0,{fluid:!0,my:50,maw:800,mx:"auto",children:[b.jsx(gr,{order:2,children:b.jsx($e,{span:!0,c:"orange",children:"404"})}),b.jsxs($e,{children:[b.jsx($e,{span:!0,fw:700,children:t||n.pathname})," ","not found."]}),b.jsx($u,{h:"lg"}),b.jsxs(ji,{children:[b.jsx(ji.Item,{children:b.jsx($e,{children:"If you're trying to access your study please check the URL and verify that the global config file is correctly configured. Then try again."})}),b.jsx(ji.Item,{children:b.jsxs($e,{children:["If you're a participant, please contact the study administrator"," ",e&&b.jsxs(b.Fragment,{children:["at"," ",b.jsxs(V0,{c:"blue",href:`mailto:${e}`,children:[e," "]})]}),"."]})})]})]})}function Gpt({currentConfig:e}){const t=A.useMemo(()=>e.path.startsWith("http")?e.path:`${Hi}${e.path}`,[e.path]),[n,r]=A.useState(!0),[i,o]=A.useState(!1);return A.useEffect(()=>{async function s(){let a=await zM(t);a=a?.includes("File not found")?void 0:a,o(!!a),r(!1)}s()},[t]),n||i?b.jsx(Pm,{mx:"auto",src:t}):b.jsx(mm,{path:e.path})}class Ypt extends un.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?b.jsx($e,{children:this.state.error.toString()}):this.props.children}}const Mle=Object.assign({"../public/libraries/adaptive-vlat/assets/VlatTrial.tsx":GCe,"../public/libraries/adaptive-vlat/assets/dynamic.tsx":XCe,"../public/libraries/adaptive-vlat/assets/utils.ts":KCe,"../public/libraries/adaptive-vlat/assets/vlatQ.tsx":WCe,"../public/libraries/berlin-num/assets/dynamic.tsx":QCe,"../public/libraries/mic-check/assets/AudioTest.tsx":JCe,"../public/libraries/screen-recording/assets/ScreenRecording.tsx":R_e,"../public/libraries/test/assets/test.tsx":I_e,"../public/libraries/virtual-chinrest/assets/ViewingDistanceCalibration.tsx":D_e,"../public/libraries/virtual-chinrest/assets/VirtualChinrestCalibration.tsx":P_e});function Kpt({currentConfig:e,provState:t,answers:n}){const r=`../public/${e.path}`,i=r in Mle?Mle[r].default:null,o=Fm(),s=bo(),{updateResponseBlockValidation:a,setReactiveAnswers:l}=Qi(),u=A.useCallback(({status:c,provenanceGraph:d,answers:f})=>{s(a({location:"stimulus",identifier:o,status:c,values:f,provenanceGraph:d})),s(l(f))},[l,s,a,o]);return b.jsx(A.Suspense,{fallback:b.jsx("div",{children:"Loading..."}),children:i?b.jsx(Ypt,{children:b.jsx(i,{parameters:e.parameters,setAnswer:u,answers:n,provenanceState:t})}):b.jsx(mm,{path:e.path})})}function Xpt({currentConfig:e}){const[t,n]=A.useState(!0),[r,i]=A.useState(""),[o,s]=A.useState(!0);return A.useEffect(()=>{async function a(){const l=await zM(`${Hi}${e.path}`);l!==void 0?i(l):n(!1),s(!1)}a()},[e.path]),o||t?b.jsx(kh,{text:r}):b.jsx(mm,{path:e.path})}function jEe(){const e=hf(),{setAlertModal:t}=Qi(),n=bo();A.useEffect(()=>{window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study.",title:"Prohibited"}))}},[e,t,n])}var $le=Object.prototype.hasOwnProperty;function Lle(e,t,n){for(n of e.keys())if(RS(n,t))return n}function RS(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&RS(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=Lle(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=Lle(t,i),!i)||!RS(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if($le.call(e,n)&&++r&&!$le.call(t,n)||!(n in t)||!RS(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function Qpt(e){var t=A.useRef(e),n=A.useRef(0);return RS(e,t.current)||(t.current=e,n.current+=1),A.useMemo(function(){return t.current},[n.current])}function Jpt(e,t){return A.useEffect(e,Qpt(t))}const _c=(e,t=null)=>{const[n,r]=A.useState("idle"),[i,o]=A.useState(null),[s,a]=A.useState(null),l=A.useRef(null),u=A.useRef(!1);A.useEffect(()=>(u.current=!0,()=>{u.current=!1}),[]);const c=A.useCallback((...d)=>{r("pending"),a(null);const f=Promise.resolve(e(...d)).then(h=>(u.current&&f===l.current&&(o(h),r("success")),h)).catch(h=>{throw u.current&&f===l.current&&(o(null),a(h),r("error")),h});return l.current=f,f},[e]);return Jpt(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:s}};function BEe(e){const t=e.endTime===-1?void 0:e.endTime-e.startTime,n=(e.windowEvents||[]).filter(s=>s!==void 0).filter(([s,a,l])=>a==="visibility");let r=0,i=0;for(;i<n.length-1;){if(n[i][2]==="hidden"){for(let s=i+1;s<n.length;s+=1)if(n[s][2]==="visible"){r+=n[s][0]-n[i][0],i=s;break}}i+=1}const o=t?t-r:void 0;return o&&o>=0?o:-1}const Zpt="_root_1spq0_1",emt="_description_1spq0_9",tmt="_title_1spq0_10",nmt="_closeButton_1spq0_14",rmt={root:Zpt,description:emt,title:tmt,closeButton:nmt},I2=e=>{const{title:t,message:n,color:r}=e;Rb.show({title:t,message:n,position:"top-center",classNames:rmt,color:r||"blue",autoClose:r==="red"||r==="yellow"?!1:5e3})},imt=["condition","stage","status","rejectReason","rejectTime","percentComplete","description","instruction","responsePrompt","answer","correctAnswer","duration","cleanedDuration","meta","transcript","startTime","endTime","responseMin","responseMax","configHash"],zEe=["participantId","trialId","trialOrder","responseId"],omt=50;async function smt(e,t){const n=Math.max(1,t);let r=0;const i=async()=>{const s=r;r+=1,!(s>=e.length)&&(await e[s](),await i())},o=Array.from({length:Math.min(n,e.length)},()=>i());await Promise.all(o)}function jY(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function amt(e,t,n,r){const i=(Object.entries(e.answers).filter(([l,u])=>u.endTime!==-1).length/Object.entries(e.answers).length*100).toFixed(2),o=new Set,s=Fu(e.conditions??e.searchParams?.condition),a=s.length>0?s.join(","):"default";return[[{participantId:e.participantId,trialId:"participantTags",trialOrder:null,responseId:"participantTags",answer:JSON.stringify(e.participantTags),...t.includes("condition")?{condition:a}:{},...t.includes("stage")?{stage:e.stage}:{}},...Object.values(e.answers).map(l=>{const u=l.componentName,{trialOrder:c}=l,d=n.components[u],f=ju(d,n),h=l.endTime===-1?void 0:l.endTime-l.startTime,p=BEe(l),m=Object.keys(l.answer).length===0?{"":void 0}:l.answer,g=Object.entries(m).map(([y,x])=>{const E={participantId:e.participantId,trialId:u,trialOrder:c,responseId:y};Object.entries(l.parameters).forEach(([S,T])=>{E[`parameters_${S}`]=T,o.add(`parameters_${S}`)});const _=f.response.find(S=>S.id===y);if(t.includes("condition")&&(E.condition=a),t.includes("stage")&&(E.stage=e.stage),t.includes("status")&&(E.status=e.rejected?"rejected":e.completed?"completed":"in progress"),t.includes("rejectReason")&&(E.rejectReason=e.rejected?e.rejected.reason:void 0),t.includes("rejectTime")&&(E.rejectTime=e.rejected?new Date(e.rejected.timestamp).toISOString():void 0),t.includes("configHash")&&(E.configHash=e.participantConfigHash),t.includes("percentComplete")&&(E.percentComplete=i),t.includes("description")&&(E.description=f.description),t.includes("instruction")&&(E.instruction=f.instruction),t.includes("responsePrompt")&&(E.responsePrompt=_?.prompt),t.includes("answer")&&(E.answer=typeof x=="object"?JSON.stringify(x):x),t.includes("transcript")){const S=l.identifier||`${u}_${c}`;E.transcript=r?.[`${e.participantId}_${S}`]??void 0}if(t.includes("correctAnswer")){const S=f.correctAnswer?.find(R=>R.id===y)?.answer,k=l.correctAnswer.find(R=>R.id===y)?.answer||S;E.correctAnswer=typeof k=="object"?JSON.stringify(k):k}return t.includes("startTime")&&(E.startTime=new Date(l.startTime).toISOString()),t.includes("endTime")&&(E.endTime=new Date(l.endTime).toISOString()),t.includes("duration")&&(E.duration=h),t.includes("cleanedDuration")&&(E.cleanedDuration=p),t.includes("meta")&&(E.meta=JSON.stringify(f.meta,null,2)),t.includes("responseMin")&&(E.responseMin=_?.type==="numerical"?_.min:void 0),t.includes("responseMax")&&(E.responseMax=_?.type==="numerical"?_.max:void 0),E}).flat(),v={focus:l.windowEvents.filter(y=>y[1]==="focus").length,input:l.windowEvents.filter(y=>y[1]==="input").length,keydown:l.windowEvents.filter(y=>y[1]==="keydown").length,keyup:l.windowEvents.filter(y=>y[1]==="keyup").length,mousemove:l.windowEvents.filter(y=>y[1]==="mousemove").length,mousedown:l.windowEvents.filter(y=>y[1]==="mousedown").length,mouseup:l.windowEvents.filter(y=>y[1]==="mouseup").length,resize:l.windowEvents.filter(y=>y[1]==="resize").length,scroll:l.windowEvents.filter(y=>y[1]==="scroll").length,visibility:l.windowEvents.filter(y=>y[1]==="visibility").length};return g.push({participantId:e.participantId,trialId:u,trialOrder:c,responseId:"windowEvents",answer:JSON.stringify(v),...t.includes("condition")?{condition:a}:{},...t.includes("stage")?{stage:e.stage}:{}}),g}).flat()],Array.from(o)]}async function lmt(e,t,n,r,i){if(!n)return{header:[],rows:[]};const o=[...zEe,...e],s=[...new Set(t.map(g=>g.participantConfigHash))],a=await n.getAllConfigsFromHash(s,r),l={},u=n.getEngine()==="firebase"&&!!i;if(e.includes("transcript")&&u){const v=t.flatMap(y=>Object.values(y.answers).filter(x=>(x?.endTime??-1)>0||(x?.startTime??-1)>0).map(x=>({answer:x,participantId:y.participantId}))).map(({answer:y,participantId:x})=>async()=>{const E=y.identifier||`${y.componentName}_${y.trialOrder}`,_=`${x}_${E}`;try{const T=(await n.getTranscription(E,x))?.results?.map(k=>k.alternatives?.[0]?.transcript).join(" ");l[_]=T||null}catch{l[_]=null}});await smt(v,omt)}const c=t.some(g=>{const v=g.studyCondition;return Fu(g.conditions??v??g.searchParams?.condition).length>0}),d=o.filter(g=>g!=="condition"||c),f=await Promise.all(t.map(async g=>await amt(g,o,a[g.participantConfigHash],l))),h=f.map(g=>g[0]),p=new Set(f.map(g=>g[1]).flat()),m=h.flat().sort((g,v)=>g!==v?g.participantId.localeCompare(v.participantId):g.trialOrder-v.trialOrder);return{header:[...d,...p],rows:m}}function umt({opened:e,close:t,filename:n,data:r,studyId:i,hasAudio:o}){const[s,a]=A.useState(!1),[l,u]=A.useState(0),[c,d]=A.useState(!1),[f,h]=A.useState(["condition","stage","status","rejectReason","description","rejectTime","percentComplete","instruction","responsePrompt","answer","correctAnswer","duration","cleanedDuration"]),{storageEngine:p}=ri(),{value:m,status:g,error:v}=_c(lmt,[f,r,p,i,o]),x=p?.getEngine()==="firebase"&&!!o,E=r.length,_=f.includes("transcript")&&E>50,S=A.useCallback(async(R=!1)=>{if(m){if(_&&!R){d(!0);return}d(!1),a(!0),u(0);try{const I=[m.header.join(",")],P=m.rows.length,N=100;await(async()=>{let O=0;for(;O<P;){const j=Math.min(O+N,P);for(let U=O;U<j;U+=1){const q=m.rows[U],W=m.header.map(V=>{const z=q[V]??"";return`"${(typeof z=="object"?JSON.stringify(z):`${z}`).replace(/"/g,'""')}"`}).join(",");I.push(W)}u(P===0?100:Math.round(j/P*100)),O=j,O<P&&await new Promise(U=>{setTimeout(U,0)})}})(),jY(I.join(`
`),n)}finally{u(100),setTimeout(()=>{a(!1),u(0)},250)}}},[n,m,_]),T=A.useCallback(()=>{m&&(window.parent.postMessage({type:"revisitWidget/PYTHON_EXPORT_TIDY",payload:m},"*"),I2({title:"Success",message:"Data sent to python notebook",color:"green"}))},[m]),k=A.useMemo(()=>{if(!m)return"";const R=m.rows.length>5?5:m.rows.length,I=R===1?"":"s";return`This is a preview of the first ${I?R:""} row${I} of the CSV. The full CSV contains ${m.rows.length} row${I}.`},[m]);return b.jsxs(ni,{opened:e,size:"90%",onClose:t,title:"Tidy CSV Exporter",centered:!0,withCloseButton:!1,closeOnClickOutside:!(s||c&&_),closeOnEscape:!(s||c&&_),children:[c&&_&&b.jsxs(ml,{color:"orange",icon:b.jsx(Du,{}),mb:"sm",children:["This export includes transcripts for"," ",E," ","selected participants, so it may take a while."]}),s&&b.jsx(Y0,{value:l,animated:!0}),b.jsxs(De,{children:[b.jsx($e,{size:"sm",fw:500,mb:"xs",children:b.jsxs(lt,{align:"center",gap:"xs",children:[b.jsx(EKe,{size:16}),"Optional columns:"]})}),b.jsx(lt,{wrap:"wrap",gap:"4px",children:imt.filter(R=>R!=="transcript"||x).map(R=>{const I=f.includes(R);return b.jsx(Mt,{variant:I?"light":"white",color:I?"blue":"gray",size:"xs",onClick:()=>{h(I?f.filter(N=>N!==R):[...f,R])},styles:{root:{fontSize:"14px",height:"auto",padding:"4px 8px",borderRadius:"6px"}},children:R},R)})})]}),b.jsx($u,{h:"md"}),b.jsxs(De,{h:400,style:{width:"100%",overflow:"scroll"},children:[g==="success"&&m?b.jsxs(xn,{striped:!0,captionSide:"bottom",withTableBorder:!0,children:[b.jsx(xn.Thead,{children:b.jsx(xn.Tr,{children:m.header.map(R=>b.jsx(xn.Th,{style:{whiteSpace:"nowrap",minWidth:["description","instruction","participantId"].includes(R)?200:void 0},children:b.jsxs(lt,{direction:"row",justify:"space-between",align:"center",children:[R,!zEe.includes(R)&&b.jsx(on,{onClick:()=>h(f.filter(I=>I!==R)),style:{marginBottom:-3,marginLeft:8},variant:"subtle",color:"gray",children:b.jsx(dm,{size:16})})]})},R))})}),b.jsx(xn.Tbody,{children:m.rows.slice(0,5).map((R,I)=>b.jsx(xn.Tr,{children:m.header.map(P=>b.jsx(xn.Td,{style:{whiteSpace:["description","instruction","participantId"].includes(P)?"normal":"nowrap"},children:R[P]},`${I} - ${P}`))},I))})]}):g==="error"&&v?b.jsx(ml,{variant:"light",children:v.message}):null,b.jsx(eu,{visible:g==="pending"||g==="idle"})]}),b.jsx($u,{h:"sm"}),b.jsx(lt,{justify:"center",fz:"sm",c:"dimmed",children:b.jsx($e,{children:k})}),b.jsx($u,{h:"md"}),b.jsxs(ln,{justify:"right",children:[!(c&&_)&&b.jsx(Mt,{onClick:t,color:"dark",variant:"subtle",disabled:s,children:"Close"}),c&&_&&b.jsx(Mt,{variant:"subtle",color:"gray",onClick:()=>d(!1),disabled:s,children:"Cancel"}),b.jsx(Mt,{leftSection:b.jsx(jwe,{}),onClick:()=>{S(c)},"data-autofocus":!0,disabled:s||!m,color:c&&_?"orange":void 0,children:c&&_?"Continue Download":"Download"}),i==="__revisit-widget"&&b.jsx(Mt,{onClick:T,disabled:s,children:b.jsx(GGe,{})})]})]})}function cmt(){const e=Ya(),{storageEngine:t}=ri(),n=bo(),{setParticipantCompleted:r}=Qi(),i=df(),[o,s]=A.useState(!1),a=A.useRef(t);A.useEffect(()=>{a.current=t},[t]),A.useEffect(()=>{if(!i){let S=!1,T=null;const k=async()=>{if(S)return;const R=a.current;if(!R){T=setTimeout(()=>{k()},2e3);return}try{if(await R.verifyCompletion()){s(!0),n(r(!0));return}}catch(I){console.error("An error occurred while verifying completion",I)}S||(T=setTimeout(()=>{k()},2e3))};return k(),()=>{S=!0,T&&(clearTimeout(T),T=null)}}s(!0),n(r(!0))},[]),jEe();const[l,u]=A.useState(),[c,d]=A.useState(""),f=e.studyMetadata.title.replace(" ","_");A.useEffect(()=>{async function S(){if(t){const T=await t.getCurrentParticipantId(),k=await t.getParticipantData();d(T),u(k)}}S()},[t]);const h=A.useCallback(async()=>{jY(JSON.stringify(l,null,2),`${f}_${c}.json`)},[f,l,c]),p=e.uiConfig.autoDownloadStudy||!1,m=p&&e.uiConfig.autoDownloadTime||-1,[g,v]=A.useState(Math.floor(m/1e3));A.useEffect(()=>{if(o){const S=setInterval(()=>{v(T=>T-1)},1e3);return g<=0?(p&&h(),clearInterval(S),()=>clearInterval(S)):()=>clearInterval(S)}return()=>{}},[p,o,g,h]);const y=ff(),[x,E]=A.useState(!1);A.useEffect(()=>{(async()=>{if(t){const T=await t.getModes(y);E(T.dataCollectionEnabled)}})()},[t,y]);const _=A.useMemo(()=>{const{studyEndMsg:S,urlParticipantIdParam:T}=e.uiConfig;return!T||!S?.includes("{PARTICIPANT_ID}")?S:S.replace(/\{PARTICIPANT_ID\}/g,()=>c)},[e,c]);return b.jsx(Ha,{style:{height:"100%"},children:b.jsx(lt,{direction:"column",children:o||!x?_?b.jsx(kh,{text:_}):b.jsx($e,{size:"xl",display:"block",children:"Thank you for completing the study. You may close this window now."}):b.jsxs(b.Fragment,{children:[b.jsx($e,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),b.jsx($u,{h:"lg"}),b.jsx(Ha,{children:b.jsx(Wc,{color:"blue"})})]})})})}function dmt(){const{storageEngine:e}=ri();return A.useEffect(()=>{e&&e.rejectCurrentParticipant("Failed training").catch(()=>{console.error("Failed to reject participant who failed training")})},[e]),b.jsx($e,{children:"Thank you for participating. Unfortunately you didn't answer the training correctly, which means you are not eligible to participate in the study. You may close this window now."})}function fmt(){return b.jsx($e,{children:"Thank you for participating. Unfortunately, you have not answered the questions within the given time limit. Because of this, you are no longer eligible to participate in the study. You may close this window now."})}const Fle={};function sU(e,t){e===void 0&&(e=Fle),t===void 0&&(t=Fle);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}var hmt=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),pmt=Object.prototype.hasOwnProperty;function aU(e,t){return pmt.call(e,t)}function lU(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)aU(e,i)&&r.push(i);return r}function Ou(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function uU(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Xy(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function UEe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function cU(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(cU(e[t]))return!0}else if(typeof e=="object"){for(var r=lU(e),i=r.length,o=0;o<i;o++)if(cU(e[r[o]]))return!0}}return!1}function jle(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var HEe=(function(e){hmt(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,jle(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=jle(n,{name:r,index:i,operation:o,tree:s}),l}return t})(Error),mo=HEe,mmt=Ou,vw={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=mO(n,this.path);r&&(r=Ou(r));var i=Rv(n,{op:"remove",path:this.from}).removed;return Rv(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=mO(n,this.from);return Rv(n,{op:"add",path:this.path,value:Ou(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:D2(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},gmt={add:function(e,t,n){return uU(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:vw.move,copy:vw.copy,test:vw.test,_get:vw._get};function mO(e,t){if(t=="")return e;var n={op:"_get",path:t};return Rv(e,n),n.value}function Rv(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):gO(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=mO(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=D2(e,t.value),s.test===!1)throw new mo("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new mo("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=Ou(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,f=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=gO;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=UEe(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(u[h]===void 0?f=l.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&p(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!uU(h))throw new mo("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);uU(h)&&(h=~~h)}if(c>=d){if(n&&t.op==="add"&&h>u.length)throw new mo("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=gmt[t.op].call(t,u,h,e);if(s.test===!1)throw new mo("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=d){var s=vw[t.op].call(t,u,h,e);if(s.test===!1)throw new mo("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[h],n&&c<d&&(!u||typeof u!="object"))throw new mo("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function UM(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new mo("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Ou(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=Rv(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function ymt(e,t,n){var r=Rv(e,t);if(r.test===!1)throw new mo("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function gO(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new mo("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(vw[e.op]){if(typeof e.path!="string")throw new mo("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new mo('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new mo("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new mo("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&cU(e.value))throw new mo("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new mo("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new mo("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=qEe([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new mo("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new mo("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function qEe(e,t,n){try{if(!Array.isArray(e))throw new mo("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)UM(Ou(t),Ou(e),n||!0);else{n=n||gO;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof mo)return i;throw i}}function D2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!D2(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!D2(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const vmt=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:mo,_areEquals:D2,applyOperation:Rv,applyPatch:UM,applyReducer:ymt,deepClone:mmt,getValueByPointer:mO,validate:qEe,validator:gO},Symbol.toStringTag,{value:"Module"}));var BY=new WeakMap,bmt=(function(){function e(t){this.observers=new Map,this.obj=t}return e})(),wmt=(function(){function e(t,n){this.callback=t,this.observer=n}return e})();function xmt(e){return BY.get(e)}function Cmt(e,t){return e.observers.get(t)}function _mt(e,t){e.observers.delete(t.callback)}function Emt(e,t){t.unobserve()}function Smt(e,t){var n=[],r,i=xmt(e);if(!i)i=new bmt(e),BY.set(e,i);else{var o=Cmt(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=Ou(e),t){r.callback=t,r.next=null;var s=function(){dU(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){dU(r),clearTimeout(r.next),_mt(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new wmt(t,r)),r}function dU(e,t){t===void 0&&(t=!1);var n=BY.get(e.object);zY(n.value,e.object,e.patches,"",t),e.patches.length&&UM(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function zY(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=lU(t),s=lU(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(aU(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?zY(c,d,n,r+"/"+Xy(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+Xy(u),value:Ou(c)}),n.push({op:"replace",path:r+"/"+Xy(u),value:Ou(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Xy(u),value:Ou(c)}),n.push({op:"remove",path:r+"/"+Xy(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!aU(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+Xy(u),value:Ou(t[u])})}}}function Tmt(e,t,n){n===void 0&&(n=!1);var r=[];return zY(e,t,r,"",n),r}const kmt=Object.freeze(Object.defineProperty({__proto__:null,compare:Tmt,generate:dU,observe:Smt,unobserve:Emt},Symbol.toStringTag,{value:"Module"}));Object.assign({},vmt,kmt,{JsonPatchError:HEe,deepClone:Ou,escapePathComponent:Xy,unescapePathComponent:UEe});var B8,Ble;function Amt(){if(Ble)return B8;Ble=1;var e=/("(?:[^\\"]|\\.)*")|[:,]/g;return B8=function(n,r){var i,o,s;return r=r||{},i=JSON.stringify([1],void 0,r.indent===void 0?2:r.indent).slice(2,-3),o=i===""?1/0:r.maxLength===void 0?80:r.maxLength,s=r.replacer,(function a(l,u,c){var d,f,h,p,m,g,v,y,x,E,_,S;if(l&&typeof l.toJSON=="function"&&(l=l.toJSON()),_=JSON.stringify(l,s),_===void 0)return _;if(v=o-u.length-c,_.length<=v&&(x=_.replace(e,function(T,k){return k||T+" "}),x.length<=v))return x;if(s!=null&&(l=JSON.parse(_),s=void 0),typeof l=="object"&&l!==null){if(y=u+i,h=[],f=0,Array.isArray(l))for(E="[",d="]",v=l.length;f<v;f++)h.push(a(l[f],y,f===v-1?0:1)||"null");else for(E="{",d="}",g=Object.keys(l),v=g.length;f<v;f++)p=g[f],m=JSON.stringify(p)+": ",S=a(l[p],y,m.length+(f===v-1?0:1)),S!==void 0&&h.push(m+S);if(h.length>0)return[E,i+h.join(`,
`+y),d].join(`
`+u)}return _})(n,"",0)},B8}var Rmt=Amt();const z8=Qo(Rmt);var MR={exports:{}},U8,zle;function HM(){if(zle)return U8;zle=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return U8={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},U8}var H8,Ule;function qM(){if(Ule)return H8;Ule=1;var e={};return H8=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},H8}var Hle;function ek(){return Hle||(Hle=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=HM(),o=qM();t=e.exports={};const s=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.safeSrc=[],c=t.t={};let d=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,r]],p=g=>{for(const[v,y]of h)g=g.split(`${v}*`).join(`${v}{0,${y}}`).split(`${v}+`).join(`${v}{1,${y}}`);return g},m=(g,v,y)=>{const x=p(v),E=d++;o(g,E,v),c[g]=E,l[E]=v,u[E]=x,s[E]=new RegExp(v,y?"g":void 0),a[E]=new RegExp(x,y?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),m("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${f}+`),m("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),m("FULL",`^${l[c.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),m("LOOSE",`^${l[c.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),m("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",l[c.COERCE],!0),m("COERCERTLFULL",l[c.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(MR,MR.exports)),MR.exports}var q8,qle;function UY(){if(qle)return q8;qle=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return q8=r=>r?typeof r!="object"?e:r:t,q8}var V8,Vle;function VEe(){if(Vle)return V8;Vle=1;const e=/^[0-9]+$/,t=(r,i)=>{const o=e.test(r),s=e.test(i);return o&&s&&(r=+r,i=+i),r===i?0:o&&!s?-1:s&&!o?1:r<i?-1:1};return V8={compareIdentifiers:t,rcompareIdentifiers:(r,i)=>t(i,r)},V8}var W8,Wle;function kl(){if(Wle)return W8;Wle=1;const e=qM(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=HM(),{safeRe:r,t:i}=ek(),o=UY(),{compareIdentifiers:s}=VEe();class a{constructor(u,c){if(c=o(c),u instanceof a){if(u.loose===!!c.loose&&u.includePrerelease===!!c.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",u,c),this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease;const d=u.trim().match(c.loose?r[i.LOOSE]:r[i.FULL]);if(!d)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(f=>{if(/^[0-9]+$/.test(f)){const h=+f;if(h>=0&&h<n)return h}return f}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(e("SemVer.compare",this.version,this.options,u),!(u instanceof a)){if(typeof u=="string"&&u===this.version)return 0;u=new a(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof a||(u=new a(u,this.options)),s(this.major,u.major)||s(this.minor,u.minor)||s(this.patch,u.patch)}comparePre(u){if(u instanceof a||(u=new a(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let c=0;do{const d=this.prerelease[c],f=u.prerelease[c];if(e("prerelease compare",c,d,f),d===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(d===void 0)return-1;if(d===f)continue;return s(d,f)}while(++c)}compareBuild(u){u instanceof a||(u=new a(u,this.options));let c=0;do{const d=this.build[c],f=u.build[c];if(e("build compare",c,d,f),d===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(d===void 0)return-1;if(d===f)continue;return s(d,f)}while(++c)}inc(u,c,d){if(u.startsWith("pre")){if(!c&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(c){const f=`-${c}`.match(this.options.loose?r[i.PRERELEASELOOSE]:r[i.PRERELEASE]);if(!f||f[1]!==c)throw new Error(`invalid identifier: ${c}`)}}switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",c,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",c,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",c,d),this.inc("pre",c,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",c,d),this.inc("pre",c,d);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const f=Number(d)?1:0;if(this.prerelease.length===0)this.prerelease=[f];else{let h=this.prerelease.length;for(;--h>=0;)typeof this.prerelease[h]=="number"&&(this.prerelease[h]++,h=-2);if(h===-1){if(c===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(f)}}if(c){let h=[c,f];d===!1&&(h=[c]),s(this.prerelease[0],c)===0?isNaN(this.prerelease[1])&&(this.prerelease=h):this.prerelease=h}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return W8=a,W8}var G8,Gle;function SC(){if(Gle)return G8;Gle=1;const e=kl();return G8=(n,r,i=!1)=>{if(n instanceof e)return n;try{return new e(n,r)}catch(o){if(!i)return null;throw o}},G8}var Y8,Yle;function Imt(){if(Yle)return Y8;Yle=1;const e=SC();return Y8=(n,r)=>{const i=e(n,r);return i?i.version:null},Y8}var K8,Kle;function Dmt(){if(Kle)return K8;Kle=1;const e=SC();return K8=(n,r)=>{const i=e(n.trim().replace(/^[=v]+/,""),r);return i?i.version:null},K8}var X8,Xle;function Pmt(){if(Xle)return X8;Xle=1;const e=kl();return X8=(n,r,i,o,s)=>{typeof i=="string"&&(s=o,o=i,i=void 0);try{return new e(n instanceof e?n.version:n,i).inc(r,o,s).version}catch{return null}},X8}var Q8,Qle;function Omt(){if(Qle)return Q8;Qle=1;const e=SC();return Q8=(n,r)=>{const i=e(n,null,!0),o=e(r,null,!0),s=i.compare(o);if(s===0)return null;const a=s>0,l=a?i:o,u=a?o:i,c=!!l.prerelease.length;if(!!u.prerelease.length&&!c){if(!u.patch&&!u.minor)return"major";if(u.compareMain(l)===0)return u.minor&&!u.patch?"minor":"patch"}const f=c?"pre":"";return i.major!==o.major?f+"major":i.minor!==o.minor?f+"minor":i.patch!==o.patch?f+"patch":"prerelease"},Q8}var J8,Jle;function Nmt(){if(Jle)return J8;Jle=1;const e=kl();return J8=(n,r)=>new e(n,r).major,J8}var Z8,Zle;function Mmt(){if(Zle)return Z8;Zle=1;const e=kl();return Z8=(n,r)=>new e(n,r).minor,Z8}var ej,eue;function $mt(){if(eue)return ej;eue=1;const e=kl();return ej=(n,r)=>new e(n,r).patch,ej}var tj,tue;function Lmt(){if(tue)return tj;tue=1;const e=SC();return tj=(n,r)=>{const i=e(n,r);return i&&i.prerelease.length?i.prerelease:null},tj}var nj,nue;function mf(){if(nue)return nj;nue=1;const e=kl();return nj=(n,r,i)=>new e(n,i).compare(new e(r,i)),nj}var rj,rue;function Fmt(){if(rue)return rj;rue=1;const e=mf();return rj=(n,r,i)=>e(r,n,i),rj}var ij,iue;function jmt(){if(iue)return ij;iue=1;const e=mf();return ij=(n,r)=>e(n,r,!0),ij}var oj,oue;function HY(){if(oue)return oj;oue=1;const e=kl();return oj=(n,r,i)=>{const o=new e(n,i),s=new e(r,i);return o.compare(s)||o.compareBuild(s)},oj}var sj,sue;function Bmt(){if(sue)return sj;sue=1;const e=HY();return sj=(n,r)=>n.sort((i,o)=>e(i,o,r)),sj}var aj,aue;function zmt(){if(aue)return aj;aue=1;const e=HY();return aj=(n,r)=>n.sort((i,o)=>e(o,i,r)),aj}var lj,lue;function VM(){if(lue)return lj;lue=1;const e=mf();return lj=(n,r,i)=>e(n,r,i)>0,lj}var uj,uue;function qY(){if(uue)return uj;uue=1;const e=mf();return uj=(n,r,i)=>e(n,r,i)<0,uj}var cj,cue;function WEe(){if(cue)return cj;cue=1;const e=mf();return cj=(n,r,i)=>e(n,r,i)===0,cj}var dj,due;function GEe(){if(due)return dj;due=1;const e=mf();return dj=(n,r,i)=>e(n,r,i)!==0,dj}var fj,fue;function VY(){if(fue)return fj;fue=1;const e=mf();return fj=(n,r,i)=>e(n,r,i)>=0,fj}var hj,hue;function WY(){if(hue)return hj;hue=1;const e=mf();return hj=(n,r,i)=>e(n,r,i)<=0,hj}var pj,pue;function YEe(){if(pue)return pj;pue=1;const e=WEe(),t=GEe(),n=VM(),r=VY(),i=qY(),o=WY();return pj=(a,l,u,c)=>{switch(l){case"===":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a===u;case"!==":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a!==u;case"":case"=":case"==":return e(a,u,c);case"!=":return t(a,u,c);case">":return n(a,u,c);case">=":return r(a,u,c);case"<":return i(a,u,c);case"<=":return o(a,u,c);default:throw new TypeError(`Invalid operator: ${l}`)}},pj}var mj,mue;function Umt(){if(mue)return mj;mue=1;const e=kl(),t=SC(),{safeRe:n,t:r}=ek();return mj=(o,s)=>{if(o instanceof e)return o;if(typeof o=="number"&&(o=String(o)),typeof o!="string")return null;s=s||{};let a=null;if(!s.rtl)a=o.match(s.includePrerelease?n[r.COERCEFULL]:n[r.COERCE]);else{const h=s.includePrerelease?n[r.COERCERTLFULL]:n[r.COERCERTL];let p;for(;(p=h.exec(o))&&(!a||a.index+a[0].length!==o.length);)(!a||p.index+p[0].length!==a.index+a[0].length)&&(a=p),h.lastIndex=p.index+p[1].length+p[2].length;h.lastIndex=-1}if(a===null)return null;const l=a[2],u=a[3]||"0",c=a[4]||"0",d=s.includePrerelease&&a[5]?`-${a[5]}`:"",f=s.includePrerelease&&a[6]?`+${a[6]}`:"";return t(`${l}.${u}.${c}${d}${f}`,s)},mj}var gj,gue;function Hmt(){if(gue)return gj;gue=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(n,r)}return this}}return gj=e,gj}var yj,yue;function gf(){if(yue)return yj;yue=1;const e=/\s+/g;class t{constructor(j,U){if(U=i(U),j instanceof t)return j.loose===!!U.loose&&j.includePrerelease===!!U.includePrerelease?j:new t(j.raw,U);if(j instanceof o)return this.raw=j.value,this.set=[[j]],this.formatted=void 0,this;if(this.options=U,this.loose=!!U.loose,this.includePrerelease=!!U.includePrerelease,this.raw=j.trim().replace(e," "),this.set=this.raw.split("||").map(q=>this.parseRange(q.trim())).filter(q=>q.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const q=this.set[0];if(this.set=this.set.filter(W=>!m(W[0])),this.set.length===0)this.set=[q];else if(this.set.length>1){for(const W of this.set)if(W.length===1&&g(W[0])){this.set=[W];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let j=0;j<this.set.length;j++){j>0&&(this.formatted+="||");const U=this.set[j];for(let q=0;q<U.length;q++)q>0&&(this.formatted+=" "),this.formatted+=U[q].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(j){const q=((this.options.includePrerelease&&h)|(this.options.loose&&p))+":"+j,W=r.get(q);if(W)return W;const V=this.options.loose,z=V?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];j=j.replace(z,N(this.options.includePrerelease)),s("hyphen replace",j),j=j.replace(l[u.COMPARATORTRIM],c),s("comparator trim",j),j=j.replace(l[u.TILDETRIM],d),s("tilde trim",j),j=j.replace(l[u.CARETTRIM],f),s("caret trim",j);let L=j.split(" ").map(Q=>y(Q,this.options)).join(" ").split(/\s+/).map(Q=>P(Q,this.options));V&&(L=L.filter(Q=>(s("loose invalid filter",Q,this.options),!!Q.match(l[u.COMPARATORLOOSE])))),s("range list",L);const H=new Map,B=L.map(Q=>new o(Q,this.options));for(const Q of B){if(m(Q))return[Q];H.set(Q.value,Q)}H.size>1&&H.has("")&&H.delete("");const Y=[...H.values()];return r.set(q,Y),Y}intersects(j,U){if(!(j instanceof t))throw new TypeError("a Range is required");return this.set.some(q=>v(q,U)&&j.set.some(W=>v(W,U)&&q.every(V=>W.every(z=>V.intersects(z,U)))))}test(j){if(!j)return!1;if(typeof j=="string")try{j=new a(j,this.options)}catch{return!1}for(let U=0;U<this.set.length;U++)if(M(this.set[U],j,this.options))return!0;return!1}}yj=t;const n=Hmt(),r=new n,i=UY(),o=WM(),s=qM(),a=kl(),{safeRe:l,t:u,comparatorTrimReplace:c,tildeTrimReplace:d,caretTrimReplace:f}=ek(),{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:p}=HM(),m=O=>O.value==="<0.0.0-0",g=O=>O.value==="",v=(O,j)=>{let U=!0;const q=O.slice();let W=q.pop();for(;U&&q.length;)U=q.every(V=>W.intersects(V,j)),W=q.pop();return U},y=(O,j)=>(s("comp",O,j),O=S(O,j),s("caret",O),O=E(O,j),s("tildes",O),O=k(O,j),s("xrange",O),O=I(O,j),s("stars",O),O),x=O=>!O||O.toLowerCase()==="x"||O==="*",E=(O,j)=>O.trim().split(/\s+/).map(U=>_(U,j)).join(" "),_=(O,j)=>{const U=j.loose?l[u.TILDELOOSE]:l[u.TILDE];return O.replace(U,(q,W,V,z,L)=>{s("tilde",O,q,W,V,z,L);let H;return x(W)?H="":x(V)?H=`>=${W}.0.0 <${+W+1}.0.0-0`:x(z)?H=`>=${W}.${V}.0 <${W}.${+V+1}.0-0`:L?(s("replaceTilde pr",L),H=`>=${W}.${V}.${z}-${L} <${W}.${+V+1}.0-0`):H=`>=${W}.${V}.${z} <${W}.${+V+1}.0-0`,s("tilde return",H),H})},S=(O,j)=>O.trim().split(/\s+/).map(U=>T(U,j)).join(" "),T=(O,j)=>{s("caret",O,j);const U=j.loose?l[u.CARETLOOSE]:l[u.CARET],q=j.includePrerelease?"-0":"";return O.replace(U,(W,V,z,L,H)=>{s("caret",O,W,V,z,L,H);let B;return x(V)?B="":x(z)?B=`>=${V}.0.0${q} <${+V+1}.0.0-0`:x(L)?V==="0"?B=`>=${V}.${z}.0${q} <${V}.${+z+1}.0-0`:B=`>=${V}.${z}.0${q} <${+V+1}.0.0-0`:H?(s("replaceCaret pr",H),V==="0"?z==="0"?B=`>=${V}.${z}.${L}-${H} <${V}.${z}.${+L+1}-0`:B=`>=${V}.${z}.${L}-${H} <${V}.${+z+1}.0-0`:B=`>=${V}.${z}.${L}-${H} <${+V+1}.0.0-0`):(s("no pr"),V==="0"?z==="0"?B=`>=${V}.${z}.${L}${q} <${V}.${z}.${+L+1}-0`:B=`>=${V}.${z}.${L}${q} <${V}.${+z+1}.0-0`:B=`>=${V}.${z}.${L} <${+V+1}.0.0-0`),s("caret return",B),B})},k=(O,j)=>(s("replaceXRanges",O,j),O.split(/\s+/).map(U=>R(U,j)).join(" ")),R=(O,j)=>{O=O.trim();const U=j.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return O.replace(U,(q,W,V,z,L,H)=>{s("xRange",O,q,W,V,z,L,H);const B=x(V),Y=B||x(z),Q=Y||x(L),ne=Q;return W==="="&&ne&&(W=""),H=j.includePrerelease?"-0":"",B?W===">"||W==="<"?q="<0.0.0-0":q="*":W&&ne?(Y&&(z=0),L=0,W===">"?(W=">=",Y?(V=+V+1,z=0,L=0):(z=+z+1,L=0)):W==="<="&&(W="<",Y?V=+V+1:z=+z+1),W==="<"&&(H="-0"),q=`${W+V}.${z}.${L}${H}`):Y?q=`>=${V}.0.0${H} <${+V+1}.0.0-0`:Q&&(q=`>=${V}.${z}.0${H} <${V}.${+z+1}.0-0`),s("xRange return",q),q})},I=(O,j)=>(s("replaceStars",O,j),O.trim().replace(l[u.STAR],"")),P=(O,j)=>(s("replaceGTE0",O,j),O.trim().replace(l[j.includePrerelease?u.GTE0PRE:u.GTE0],"")),N=O=>(j,U,q,W,V,z,L,H,B,Y,Q,ne)=>(x(q)?U="":x(W)?U=`>=${q}.0.0${O?"-0":""}`:x(V)?U=`>=${q}.${W}.0${O?"-0":""}`:z?U=`>=${U}`:U=`>=${U}${O?"-0":""}`,x(B)?H="":x(Y)?H=`<${+B+1}.0.0-0`:x(Q)?H=`<${B}.${+Y+1}.0-0`:ne?H=`<=${B}.${Y}.${Q}-${ne}`:O?H=`<${B}.${Y}.${+Q+1}-0`:H=`<=${H}`,`${U} ${H}`.trim()),M=(O,j,U)=>{for(let q=0;q<O.length;q++)if(!O[q].test(j))return!1;if(j.prerelease.length&&!U.includePrerelease){for(let q=0;q<O.length;q++)if(s(O[q].semver),O[q].semver!==o.ANY&&O[q].semver.prerelease.length>0){const W=O[q].semver;if(W.major===j.major&&W.minor===j.minor&&W.patch===j.patch)return!0}return!1}return!0};return yj}var vj,vue;function WM(){if(vue)return vj;vue=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,d){if(d=n(d),c instanceof t){if(c.loose===!!d.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),s("comparator",c,d),this.options=d,this.loose=!!d.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(c){const d=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],f=c.match(d);if(!f)throw new TypeError(`Invalid comparator: ${c}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(s("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return o(c,this.operator,this.semver,this.options)}intersects(c,d){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,d).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,d).test(c.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||o(this.semver,"<",c.semver,d)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||o(this.semver,">",c.semver,d)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}vj=t;const n=UY(),{safeRe:r,t:i}=ek(),o=YEe(),s=qM(),a=kl(),l=gf();return vj}var bj,bue;function GM(){if(bue)return bj;bue=1;const e=gf();return bj=(n,r,i)=>{try{r=new e(r,i)}catch{return!1}return r.test(n)},bj}var wj,wue;function qmt(){if(wue)return wj;wue=1;const e=gf();return wj=(n,r)=>new e(n,r).set.map(i=>i.map(o=>o.value).join(" ").trim().split(" ")),wj}var xj,xue;function Vmt(){if(xue)return xj;xue=1;const e=kl(),t=gf();return xj=(r,i,o)=>{let s=null,a=null,l=null;try{l=new t(i,o)}catch{return null}return r.forEach(u=>{l.test(u)&&(!s||a.compare(u)===-1)&&(s=u,a=new e(s,o))}),s},xj}var Cj,Cue;function Wmt(){if(Cue)return Cj;Cue=1;const e=kl(),t=gf();return Cj=(r,i,o)=>{let s=null,a=null,l=null;try{l=new t(i,o)}catch{return null}return r.forEach(u=>{l.test(u)&&(!s||a.compare(u)===1)&&(s=u,a=new e(s,o))}),s},Cj}var _j,_ue;function Gmt(){if(_ue)return _j;_ue=1;const e=kl(),t=gf(),n=VM();return _j=(i,o)=>{i=new t(i,o);let s=new e("0.0.0");if(i.test(s)||(s=new e("0.0.0-0"),i.test(s)))return s;s=null;for(let a=0;a<i.set.length;++a){const l=i.set[a];let u=null;l.forEach(c=>{const d=new e(c.semver.version);switch(c.operator){case">":d.prerelease.length===0?d.patch++:d.prerelease.push(0),d.raw=d.format();case"":case">=":(!u||n(d,u))&&(u=d);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),u&&(!s||n(s,u))&&(s=u)}return s&&i.test(s)?s:null},_j}var Ej,Eue;function Ymt(){if(Eue)return Ej;Eue=1;const e=gf();return Ej=(n,r)=>{try{return new e(n,r).range||"*"}catch{return null}},Ej}var Sj,Sue;function GY(){if(Sue)return Sj;Sue=1;const e=kl(),t=WM(),{ANY:n}=t,r=gf(),i=GM(),o=VM(),s=qY(),a=WY(),l=VY();return Sj=(c,d,f,h)=>{c=new e(c,h),d=new r(d,h);let p,m,g,v,y;switch(f){case">":p=o,m=a,g=s,v=">",y=">=";break;case"<":p=s,m=l,g=o,v="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(c,d,h))return!1;for(let x=0;x<d.set.length;++x){const E=d.set[x];let _=null,S=null;if(E.forEach(T=>{T.semver===n&&(T=new t(">=0.0.0")),_=_||T,S=S||T,p(T.semver,_.semver,h)?_=T:g(T.semver,S.semver,h)&&(S=T)}),_.operator===v||_.operator===y||(!S.operator||S.operator===v)&&m(c,S.semver))return!1;if(S.operator===y&&g(c,S.semver))return!1}return!0},Sj}var Tj,Tue;function Kmt(){if(Tue)return Tj;Tue=1;const e=GY();return Tj=(n,r,i)=>e(n,r,">",i),Tj}var kj,kue;function Xmt(){if(kue)return kj;kue=1;const e=GY();return kj=(n,r,i)=>e(n,r,"<",i),kj}var Aj,Aue;function Qmt(){if(Aue)return Aj;Aue=1;const e=gf();return Aj=(n,r,i)=>(n=new e(n,i),r=new e(r,i),n.intersects(r,i)),Aj}var Rj,Rue;function Jmt(){if(Rue)return Rj;Rue=1;const e=GM(),t=mf();return Rj=(n,r,i)=>{const o=[];let s=null,a=null;const l=n.sort((f,h)=>t(f,h,i));for(const f of l)e(f,r,i)?(a=f,s||(s=f)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);const u=[];for(const[f,h]of o)f===h?u.push(f):!h&&f===l[0]?u.push("*"):h?f===l[0]?u.push(`<=${h}`):u.push(`${f} - ${h}`):u.push(`>=${f}`);const c=u.join(" || "),d=typeof r.raw=="string"?r.raw:String(r);return c.length<d.length?c:r},Rj}var Ij,Iue;function Zmt(){if(Iue)return Ij;Iue=1;const e=gf(),t=WM(),{ANY:n}=t,r=GM(),i=mf(),o=(d,f,h={})=>{if(d===f)return!0;d=new e(d,h),f=new e(f,h);let p=!1;e:for(const m of d.set){for(const g of f.set){const v=l(m,g,h);if(p=p||v!==null,v)continue e}if(p)return!1}return!0},s=[new t(">=0.0.0-0")],a=[new t(">=0.0.0")],l=(d,f,h)=>{if(d===f)return!0;if(d.length===1&&d[0].semver===n){if(f.length===1&&f[0].semver===n)return!0;h.includePrerelease?d=s:d=a}if(f.length===1&&f[0].semver===n){if(h.includePrerelease)return!0;f=a}const p=new Set;let m,g;for(const k of d)k.operator===">"||k.operator===">="?m=u(m,k,h):k.operator==="<"||k.operator==="<="?g=c(g,k,h):p.add(k.semver);if(p.size>1)return null;let v;if(m&&g){if(v=i(m.semver,g.semver,h),v>0)return null;if(v===0&&(m.operator!==">="||g.operator!=="<="))return null}for(const k of p){if(m&&!r(k,String(m),h)||g&&!r(k,String(g),h))return null;for(const R of f)if(!r(k,String(R),h))return!1;return!0}let y,x,E,_,S=g&&!h.includePrerelease&&g.semver.prerelease.length?g.semver:!1,T=m&&!h.includePrerelease&&m.semver.prerelease.length?m.semver:!1;S&&S.prerelease.length===1&&g.operator==="<"&&S.prerelease[0]===0&&(S=!1);for(const k of f){if(_=_||k.operator===">"||k.operator===">=",E=E||k.operator==="<"||k.operator==="<=",m){if(T&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===T.major&&k.semver.minor===T.minor&&k.semver.patch===T.patch&&(T=!1),k.operator===">"||k.operator===">="){if(y=u(m,k,h),y===k&&y!==m)return!1}else if(m.operator===">="&&!r(m.semver,String(k),h))return!1}if(g){if(S&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===S.major&&k.semver.minor===S.minor&&k.semver.patch===S.patch&&(S=!1),k.operator==="<"||k.operator==="<="){if(x=c(g,k,h),x===k&&x!==g)return!1}else if(g.operator==="<="&&!r(g.semver,String(k),h))return!1}if(!k.operator&&(g||m)&&v!==0)return!1}return!(m&&E&&!g&&v!==0||g&&_&&!m&&v!==0||T||S)},u=(d,f,h)=>{if(!d)return f;const p=i(d.semver,f.semver,h);return p>0?d:p<0||f.operator===">"&&d.operator===">="?f:d},c=(d,f,h)=>{if(!d)return f;const p=i(d.semver,f.semver,h);return p<0?d:p>0||f.operator==="<"&&d.operator==="<="?f:d};return Ij=o,Ij}var Dj,Due;function egt(){if(Due)return Dj;Due=1;const e=ek(),t=HM(),n=kl(),r=VEe(),i=SC(),o=Imt(),s=Dmt(),a=Pmt(),l=Omt(),u=Nmt(),c=Mmt(),d=$mt(),f=Lmt(),h=mf(),p=Fmt(),m=jmt(),g=HY(),v=Bmt(),y=zmt(),x=VM(),E=qY(),_=WEe(),S=GEe(),T=VY(),k=WY(),R=YEe(),I=Umt(),P=WM(),N=gf(),M=GM(),O=qmt(),j=Vmt(),U=Wmt(),q=Gmt(),W=Ymt(),V=GY(),z=Kmt(),L=Xmt(),H=Qmt(),B=Jmt(),Y=Zmt();return Dj={parse:i,valid:o,clean:s,inc:a,diff:l,major:u,minor:c,patch:d,prerelease:f,compare:h,rcompare:p,compareLoose:m,compareBuild:g,sort:v,rsort:y,gt:x,lt:E,eq:_,neq:S,gte:T,lte:k,cmp:R,coerce:I,Comparator:P,Range:N,satisfies:M,toComparators:O,maxSatisfying:j,minSatisfying:U,minVersion:q,validRange:W,outside:V,gtr:z,ltr:L,intersects:H,simplifyRange:B,subset:Y,SemVer:n,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},Dj}var KEe=egt();function du(e,t,n){return e.fields=t||[],e.fname=n,e}function vo(e){return e==null?null:e.fname}function La(e){return e==null?null:e.fields}function XEe(e){return e.length===1?tgt(e[0]):ngt(e)}const tgt=e=>function(t){return t[e]},ngt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function it(e){throw Error(e)}function YM(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?u():s=a+1:l==="["?(a>s&&u(),i=s=a+1):l==="]"&&(i||it("Access path missing open bracket: "+e),i>0&&u(),i=0,s=a+1)}return i&&it("Access path missing closing bracket: "+e),r&&it("Access path missing closing quote: "+e),a>s&&(a++,u()),t}function $c(e,t,n){const r=YM(e);return e=r.length===1?r[0]:e,du((n&&n.get||XEe)(r),[e],t||e)}const tk=$c("id"),xl=du(e=>e,[],"identity"),Bg=du(()=>0,[],"zero"),TC=du(()=>1,[],"one"),Lc=du(()=>!0,[],"true"),Eg=du(()=>!1,[],"false"),QEe=new Set([...Object.getOwnPropertyNames(Object.prototype).filter(e=>typeof Object.prototype[e]=="function"),"__proto__"]);function rgt(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const JEe=0,YY=1,ZEe=2,eSe=3,tSe=4;function nSe(e,t,n=rgt){let r=e||JEe;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=YY&&n(t||"error","ERROR",arguments),this},warn(){return r>=ZEe&&n(t||"warn","WARN",arguments),this},info(){return r>=eSe&&n(t||"log","INFO",arguments),this},debug(){return r>=tSe&&n(t||"log","DEBUG",arguments),this}}}var cn=Array.isArray;function Gn(e){return e===Object(e)}const Pue=e=>e!=="__proto__";function KM(...e){return e.reduce((t,n)=>{for(const r in n)if(r==="signals")t.signals=igt(t.signals,n.signals);else{const i=r==="legend"?{layout:1}:r==="style"?!0:null;XM(t,r,n[r],i)}return t},{})}function XM(e,t,n,r){if(!Pue(t))return;let i,o;if(Gn(n)&&!cn(n)){o=Gn(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?XM(o,i,n[i]):Pue(i)&&(o[i]=n[i])}else e[t]=n}function igt(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function Er(e){return e[e.length-1]}function Na(e){return e==null||e===""?null:+e}const rSe=e=>t=>e*Math.exp(t),iSe=e=>t=>Math.log(e*t),oSe=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),sSe=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,yO=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function QM(e,t,n,r){const i=n(e[0]),o=n(Er(e)),s=(o-i)*t;return[r(i-s),r(o-s)]}function aSe(e,t){return QM(e,t,Na,xl)}function lSe(e,t){var n=Math.sign(e[0]);return QM(e,t,iSe(n),rSe(n))}function uSe(e,t,n){return QM(e,t,yO(n),yO(1/n))}function cSe(e,t,n){return QM(e,t,oSe(n),sSe(n))}function JM(e,t,n,r,i){const o=r(e[0]),s=r(Er(e)),a=t!=null?r(t):(o+s)/2;return[i(a+(o-a)*n),i(a+(s-a)*n)]}function KY(e,t,n){return JM(e,t,n,Na,xl)}function XY(e,t,n){const r=Math.sign(e[0]);return JM(e,t,n,iSe(r),rSe(r))}function vO(e,t,n,r){return JM(e,t,n,yO(r),yO(1/r))}function QY(e,t,n,r){return JM(e,t,n,oSe(r),sSe(r))}function dSe(e){return 1+~~(new Date(e).getMonth()/3)}function fSe(e){return 1+~~(new Date(e).getUTCMonth()/3)}function wn(e){return e!=null?cn(e)?e:[e]:[]}function hSe(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function nr(e){return typeof e=="function"}const ogt="descending";function JY(e,t,n){n=n||{},t=wn(t)||[];const r=[],i=[],o={},s=n.comparator||sgt;return wn(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===ogt?-1:1),i.push(a=nr(a)?a:$c(a,null,n)),(La(a)||[]).forEach(u=>o[u]=1))}),i.length===0?null:du(s(i,r),Object.keys(o))}const nk=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),sgt=(e,t)=>e.length===1?agt(e[0],t[0]):lgt(e,t,e.length),agt=(e,t)=>function(n,r){return nk(e(n),e(r))*t},lgt=(e,t,n)=>(t.push(0),function(r,i){let o,s=0,a=-1;for(;s===0&&++a<n;)o=e[a],s=nk(o(r),o(i));return s*t[a]});function qa(e){return nr(e)?e:()=>e}function ZY(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function tr(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Rh(e,t){let n=0,r,i,o,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(o=s=i;n<r;++n)i=e[n],i!=null&&(i<o&&(o=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(o=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<o&&(o=i),i>s&&(s=i))}return[o,s]}function pSe(e,t){const n=e.length;let r=-1,i,o,s,a,l;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=e[r],o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=t(e[r],r,e),o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}return[a,l]}function Dn(e,t){return Object.hasOwn(e,t)}const $R={};function kC(e){let t={},n;function r(o){return Dn(t,o)&&t[o]!==$R}const i={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,s){return r(o)||(++i.size,t[o]===$R&&--i.empty),t[o]=s,this},delete(o){return r(o)&&(--i.size,++i.empty,t[o]=$R),this},clear(){i.size=i.empty=0,i.object=t={}},test(o){return arguments.length?(n=o,i):n},clean(){const o={};let s=0;for(const a in t){const l=t[a];l!==$R&&(!n||!n(l))&&(o[a]=l,++s)}i.size=s,i.empty=0,i.object=t=o}};return e&&Object.keys(e).forEach(o=>{i.set(o,e[o])}),i}function mSe(e,t,n,r,i,o){if(!n&&n!==0)return o;const s=+n;let a=e[0],l=Er(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=s?r:c<=s?i:o}function It(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),tr(r,n)}function bw(e,t,n,r){let i=t[0],o=t[t.length-1],s;return i>o&&(s=i,i=o,o=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=o:e<o)}function eK(e){return typeof e=="boolean"}function l0(e){return Object.prototype.toString.call(e)==="[object Date]"}function gSe(e){return e&&nr(e[Symbol.iterator])}function E0(e){return typeof e=="number"}function tK(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Vr(e){return typeof e=="string"}function nK(e,t,n){e&&(e=t?wn(e).map(a=>a.replace(/\\(.)/g,"$1")):wn(e));const r=e&&e.length,i=n&&n.get||XEe,o=a=>i(t?[a]:YM(a));let s;if(!r)s=function(){return""};else if(r===1){const a=o(e[0]);s=function(l){return""+a(l)}}else{const a=e.map(o);s=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return du(s,e,"key")}function ySe(e,t){const n=e[0],r=Er(e),i=+t;return i?i===1?r:n+i*(r-n):n}const ugt=1e4;function vSe(e){e=+e||ugt;let t,n,r;const i=()=>{t={},n={},r=0},o=(s,a)=>(++r>e&&(n=t,t={},r=1),t[s]=a);return i(),{clear:i,has:s=>Dn(t,s)||Dn(n,s),get:s=>Dn(t,s)?t[s]:Dn(n,s)?o(s,n[s]):void 0,set:(s,a)=>Dn(t,s)?t[s]=a:o(s,a)}}function bSe(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const s=r||new t.constructor(i+o);let a=0,l=0,u=0;for(;a<i&&l<o;++u)s[u]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++u)s[u]=t[a];for(;l<o;++l,++u)s[u]=n[l];return s}function LE(e,t){let n="";for(;--t>=0;)n+=e;return n}function wSe(e,t,n,r){const i=n||" ",o=e+"",s=t-o.length;return s<=0?o:r==="left"?LE(i,s)+o:r==="center"?LE(i,~~(s/2))+o+LE(i,Math.ceil(s/2)):o+LE(i,s)}function rk(e){return e&&Er(e)-e[0]||0}function an(e){return cn(e)?`[${e.map(t=>t===null?"null":an(t))}]`:Gn(e)||Vr(e)?JSON.stringify(e).replaceAll("\u2028","\\u2028").replaceAll("\u2029","\\u2029"):e}function rK(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const cgt=e=>E0(e)||l0(e)?e:Date.parse(e);function iK(e,t){return t=t||cgt,e==null||e===""?null:t(e)}function oK(e){return e==null||e===""?null:e+""}function Jd(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function xSe(e,t,n,r){const i=r??"",o=e+"",s=o.length,a=Math.max(0,t-i.length);return s<=t?o:n==="left"?i+o.slice(s-a):n==="center"?o.slice(0,Math.ceil(a/2))+i+o.slice(s-~~(a/2)):o.slice(0,a)+i}function Ig(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const o=t(e[i]);o&&n(o,i,e)}}else e.forEach(n)}var Oue={},Pj={},Oj=34,q_=10,Nj=13;function CSe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function dgt(e,t){var n=CSe(e);return function(r,i){return t(n(r),i,e)}}function Nue(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Ul(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function fgt(e){return e<0?"-"+Ul(-e,6):e>9999?"+"+Ul(e,6):Ul(e,4)}function hgt(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":fgt(e.getUTCFullYear())+"-"+Ul(e.getUTCMonth()+1,2)+"-"+Ul(e.getUTCDate(),2)+(i?"T"+Ul(t,2)+":"+Ul(n,2)+":"+Ul(r,2)+"."+Ul(i,3)+"Z":r?"T"+Ul(t,2)+":"+Ul(n,2)+":"+Ul(r,2)+"Z":n||t?"T"+Ul(t,2)+":"+Ul(n,2)+"Z":"")}function pgt(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(d,f){var h,p,m=i(d,function(g,v){if(h)return h(g,v-1);p=g,h=f?dgt(g,f):CSe(g)});return m.columns=p||[],m}function i(d,f){var h=[],p=d.length,m=0,g=0,v,y=p<=0,x=!1;d.charCodeAt(p-1)===q_&&--p,d.charCodeAt(p-1)===Nj&&--p;function E(){if(y)return Pj;if(x)return x=!1,Oue;var S,T=m,k;if(d.charCodeAt(T)===Oj){for(;m++<p&&d.charCodeAt(m)!==Oj||d.charCodeAt(++m)===Oj;);return(S=m)>=p?y=!0:(k=d.charCodeAt(m++))===q_?x=!0:k===Nj&&(x=!0,d.charCodeAt(m)===q_&&++m),d.slice(T+1,S-1).replace(/""/g,'"')}for(;m<p;){if((k=d.charCodeAt(S=m++))===q_)x=!0;else if(k===Nj)x=!0,d.charCodeAt(m)===q_&&++m;else if(k!==n)continue;return d.slice(T,S)}return y=!0,d.slice(T,p)}for(;(v=E())!==Pj;){for(var _=[];v!==Oue&&v!==Pj;)_.push(v),v=E();f&&(_=f(_,g++))==null||h.push(_)}return h}function o(d,f){return d.map(function(h){return f.map(function(p){return c(h[p])}).join(e)})}function s(d,f){return f==null&&(f=Nue(d)),[f.map(c).join(e)].concat(o(d,f)).join(`
`)}function a(d,f){return f==null&&(f=Nue(d)),o(d,f).join(`
`)}function l(d){return d.map(u).join(`
`)}function u(d){return d.map(c).join(e)}function c(d){return d==null?"":d instanceof Date?hgt(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}function mgt(e){return e}function ggt(e){if(e==null)return mgt;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,l){l||(t=n=0);var u=2,c=a.length,d=new Array(c);for(d[0]=(t+=a[0])*r+o,d[1]=(n+=a[1])*i+s;u<c;)d[u]=a[u],++u;return d}}function ygt(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function vgt(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return Mue(e,n)})}:Mue(e,t)}function Mue(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=_Se(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function _Se(e,t){var n=ggt(e.transform),r=e.arcs;function i(c,d){d.length&&d.pop();for(var f=r[c<0?~c:c],h=0,p=f.length;h<p;++h)d.push(n(f[h],h));c<0&&ygt(d,p)}function o(c){return n(c)}function s(c){for(var d=[],f=0,h=c.length;f<h;++f)i(c[f],d);return d.length<2&&d.push(d[0]),d}function a(c){for(var d=s(c);d.length<4;)d.push(d[0]);return d}function l(c){return c.map(a)}function u(c){var d=c.type,f;switch(d){case"GeometryCollection":return{type:d,geometries:c.geometries.map(u)};case"Point":f=o(c.coordinates);break;case"MultiPoint":f=c.coordinates.map(o);break;case"LineString":f=s(c.arcs);break;case"MultiLineString":f=c.arcs.map(s);break;case"Polygon":f=l(c.arcs);break;case"MultiPolygon":f=c.arcs.map(l);break;default:return null}return{type:d,coordinates:f}}return u(t)}function bgt(e,t){var n={},r={},i={},o=[],s=-1;t.forEach(function(u,c){var d=e.arcs[u<0?~u:u],f;d.length<3&&!d[1][0]&&!d[1][1]&&(f=t[++s],t[s]=u,t[c]=f)}),t.forEach(function(u){var c=a(u),d=c[0],f=c[1],h,p;if(h=i[d])if(delete i[h.end],h.push(u),h.end=f,p=r[f]){delete r[p.start];var m=p===h?h:h.concat(p);r[m.start=h.start]=i[m.end=p.end]=m}else r[h.start]=i[h.end]=h;else if(h=r[f])if(delete r[h.start],h.unshift(u),h.start=d,p=i[d]){delete i[p.end];var g=p===h?h:p.concat(h);r[g.start=p.start]=i[g.end=h.end]=g}else r[h.start]=i[h.end]=h;else h=[u],r[h.start=d]=i[h.end=f]=h});function a(u){var c=e.arcs[u<0?~u:u],d=c[0],f;return e.transform?(f=[0,0],c.forEach(function(h){f[0]+=h[0],f[1]+=h[1]})):f=c[c.length-1],u<0?[f,d]:[d,f]}function l(u,c){for(var d in u){var f=u[d];delete c[f.start],delete f.start,delete f.end,f.forEach(function(h){n[h<0?~h:h]=1}),o.push(f)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function wgt(e){return _Se(e,xgt.apply(this,arguments))}function xgt(e,t,n){var r,i,o;if(arguments.length>1)r=Cgt(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:bgt(e,r)}}function Cgt(e,t,n){var r=[],i=[],o;function s(d){var f=d<0?~d:d;(i[f]||(i[f]=[])).push({i:d,g:o})}function a(d){d.forEach(s)}function l(d){d.forEach(a)}function u(d){d.forEach(l)}function c(d){switch(o=d,d.type){case"GeometryCollection":d.geometries.forEach(c);break;case"LineString":a(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":u(d.arcs);break}}return c(t),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}function Qp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _gt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function AC(e){let t,n,r;e.length!==2?(t=Qp,n=(a,l)=>Qp(e(a),l),r=(a,l)=>e(a)-l):(t=e===Qp||e===_gt?e:Egt,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function Egt(){return 0}function ESe(e){return e===null?NaN:+e}function*Sgt(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const SSe=AC(Qp),S0=SSe.right,Tgt=SSe.left;AC(ESe).center;function kgt(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function Agt(e,t){const n=kgt(e,t);return n&&Math.sqrt(n)}function TSe(e,t){let n,r;for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class gl{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[r++]=a),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}class $ue extends Map{constructor(t,n=RSe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(fU(this,t))}has(t){return super.has(fU(this,t))}set(t,n){return super.set(kSe(this,t),n)}delete(t){return super.delete(ASe(this,t))}}class bO extends Set{constructor(t,n=RSe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(fU(this,t))}add(t){return super.add(kSe(this,t))}delete(t){return super.delete(ASe(this,t))}}function fU({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function kSe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ASe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function RSe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Rgt(e,t){return Array.from(t,n=>e[n])}function Igt(e=Qp){if(e===Qp)return ISe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function ISe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Dgt=Math.sqrt(50),Pgt=Math.sqrt(10),Ogt=Math.sqrt(2);function wO(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Dgt?10:o>=Pgt?5:o>=Ogt?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?wO(e,t,n*2):[a,l,u]}function hU(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?wO(t,e,n):wO(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function pU(e,t,n){return t=+t,e=+e,n=+n,wO(e,t,n)[2]}function T0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?pU(t,e,n):pU(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Iv(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function mU(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function DSe(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?ISe:Igt(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*d/l+f)),p=Math.min(r,Math.floor(t+(l-u)*d/l+f));DSe(e,t,h,p,i)}const o=e[t];let s=n,a=r;for(V_(e,n,t),i(e[r],o)>0&&V_(e,n,r);s<a;){for(V_(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?V_(e,n,a):(++a,V_(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function V_(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function gU(e,t,n){if(e=Float64Array.from(Sgt(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return mU(e);if(t>=1)return Iv(e);var r,i=(r-1)*t,o=Math.floor(i),s=Iv(DSe(e,o).subarray(0,o+1)),a=mU(e.subarray(o+1));return s+(a-s)*(i-o)}}function PSe(e,t,n=ESe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function Ngt(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function OSe(e,t){return gU(e,.5,t)}function*Mgt(e){for(const t of e)yield*t}function NSe(e){return Array.from(Mgt(e))}function Nu(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function MSe(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function $gt(e,...t){e=new bO(e),t=t.map(Lgt);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function Lgt(e){return e instanceof bO?e:new bO(e)}function Fgt(...e){const t=new bO;for(const n of e)for(const r of n)t.add(r);return t}function jgt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xO(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function gx(e){return e=xO(Math.abs(e)),e?e[1]:NaN}function Bgt(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function zgt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ugt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kv(e){if(!(t=Ugt.exec(e)))throw new Error("invalid format: "+e);var t;return new sK({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Kv.prototype=sK.prototype;function sK(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sK.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hgt(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var $Se;function qgt(e,t){var n=xO(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-($Se=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+xO(e,Math.max(0,t+o-1))[0]}function Lue(e,t){var n=xO(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Fue={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jgt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Lue(e*100,t),r:Lue,s:qgt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function jue(e){return e}var Bue=Array.prototype.map,zue=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function LSe(e){var t=e.grouping===void 0||e.thousands===void 0?jue:Bgt(Bue.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?jue:zgt(Bue.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Kv(d);var f=d.fill,h=d.align,p=d.sign,m=d.symbol,g=d.zero,v=d.width,y=d.comma,x=d.precision,E=d.trim,_=d.type;_==="n"?(y=!0,_="g"):Fue[_]||(x===void 0&&(x=12),E=!0,_="g"),(g||f==="0"&&h==="=")&&(g=!0,f="0",h="=");var S=m==="$"?n:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",T=m==="$"?r:/[%p]/.test(_)?s:"",k=Fue[_],R=/[defgprs%]/.test(_);x=x===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function I(P){var N=S,M=T,O,j,U;if(_==="c")M=k(P)+M,P="";else{P=+P;var q=P<0||1/P<0;if(P=isNaN(P)?l:k(Math.abs(P),x),E&&(P=Hgt(P)),q&&+P==0&&p!=="+"&&(q=!1),N=(q?p==="("?p:a:p==="-"||p==="("?"":p)+N,M=(_==="s"?zue[8+$Se/3]:"")+M+(q&&p==="("?")":""),R){for(O=-1,j=P.length;++O<j;)if(U=P.charCodeAt(O),48>U||U>57){M=(U===46?i+P.slice(O+1):P.slice(O))+M,P=P.slice(0,O);break}}}y&&!g&&(P=t(P,1/0));var W=N.length+P.length+M.length,V=W<v?new Array(v-W+1).join(f):"";switch(y&&g&&(P=t(V+P,V.length?v-M.length:1/0),V=""),h){case"<":P=N+P+M+V;break;case"=":P=N+V+P+M;break;case"^":P=V.slice(0,W=V.length>>1)+N+P+M+V.slice(W);break;default:P=V+N+P+M;break}return o(P)}return I.toString=function(){return d+""},I}function c(d,f){var h=u((d=Kv(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(gx(f)/3)))*3,m=Math.pow(10,-p),g=zue[8+p/3];return function(v){return h(m*v)+g}}return{format:u,formatPrefix:c}}var LR,ZM,aK;Vgt({thousands:",",grouping:[3],currency:["$",""]});function Vgt(e){return LR=LSe(e),ZM=LR.format,aK=LR.formatPrefix,LR}function FSe(e){return Math.max(0,-gx(Math.abs(e)))}function jSe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gx(t)/3)))*3-gx(Math.abs(e)))}function BSe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gx(t)-gx(e))+1}const Mj=new Date,$j=new Date;function fs(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<s);return l},i.filter=o=>fs(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(Mj.setTime(+o),$j.setTime(+s),e(Mj),e($j),Math.floor(n(Mj,$j))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const yx=fs(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?fs(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):yx);yx.range;const Fp=1e3,Ec=Fp*60,jp=Ec*60,gm=jp*24,lK=gm*7,Uue=gm*30,Lj=gm*365,Bp=fs(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fp)},(e,t)=>(t-e)/Fp,e=>e.getUTCSeconds());Bp.range;const e6=fs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fp)},(e,t)=>{e.setTime(+e+t*Ec)},(e,t)=>(t-e)/Ec,e=>e.getMinutes());e6.range;const t6=fs(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ec)},(e,t)=>(t-e)/Ec,e=>e.getUTCMinutes());t6.range;const n6=fs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fp-e.getMinutes()*Ec)},(e,t)=>{e.setTime(+e+t*jp)},(e,t)=>(t-e)/jp,e=>e.getHours());n6.range;const r6=fs(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*jp)},(e,t)=>(t-e)/jp,e=>e.getUTCHours());r6.range;const Jp=fs(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ec)/gm,e=>e.getDate()-1);Jp.range;const u0=fs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gm,e=>e.getUTCDate()-1);u0.range;const zSe=fs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gm,e=>Math.floor(e/gm));zSe.range;function Mb(e){return fs(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ec)/lK)}const RC=Mb(0),CO=Mb(1),Wgt=Mb(2),Ggt=Mb(3),vx=Mb(4),Ygt=Mb(5),Kgt=Mb(6);RC.range;CO.range;Wgt.range;Ggt.range;vx.range;Ygt.range;Kgt.range;function $b(e){return fs(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/lK)}const IC=$b(0),_O=$b(1),Xgt=$b(2),Qgt=$b(3),bx=$b(4),Jgt=$b(5),Zgt=$b(6);IC.range;_O.range;Xgt.range;Qgt.range;bx.range;Jgt.range;Zgt.range;const P2=fs(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());P2.range;const O2=fs(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());O2.range;const Ih=fs(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ih.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fs(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ih.range;const Dh=fs(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Dh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fs(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Dh.range;function USe(e,t,n,r,i,o){const s=[[Bp,1,Fp],[Bp,5,5*Fp],[Bp,15,15*Fp],[Bp,30,30*Fp],[o,1,Ec],[o,5,5*Ec],[o,15,15*Ec],[o,30,30*Ec],[i,1,jp],[i,3,3*jp],[i,6,6*jp],[i,12,12*jp],[r,1,gm],[r,2,2*gm],[n,1,lK],[t,1,Uue],[t,3,3*Uue],[e,1,Lj]];function a(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:l(u,c,d),p=h?h.range(u,+c+1):[];return f?p.reverse():p}function l(u,c,d){const f=Math.abs(c-u)/d,h=AC(([,,g])=>g).right(s,f);if(h===s.length)return e.every(T0(u/Lj,c/Lj,d));if(h===0)return yx.every(Math.max(T0(u,c,d),1));const[p,m]=s[f/s[h-1][2]<s[h][2]/f?h-1:h];return p.every(m)}return[a,l]}const[e0t,t0t]=USe(Dh,O2,IC,zSe,r6,t6),[n0t,r0t]=USe(Ih,P2,RC,Jp,n6,e6),sa="year",tu="quarter",Fa="month",us="week",nu="date",Da="day",Ph="dayofyear",Gu="hours",Yu="minutes",Fc="seconds",Zd="milliseconds",uK=[sa,tu,Fa,us,nu,Da,Ph,Gu,Yu,Fc,Zd],Fj=uK.reduce((e,t,n)=>(e[t]=1+n,e),{});function cK(e){const t=wn(e).slice(),n={};return t.length||it("Missing time unit."),t.forEach(i=>{Dn(Fj,i)?n[i]=1:it(`Invalid time unit: ${i}.`)}),(n[us]||n[Da]?1:0)+(n[tu]||n[Fa]||n[nu]?1:0)+(n[Ph]?1:0)>1&&it(`Incompatible time units: ${e}`),t.sort((i,o)=>Fj[i]-Fj[o]),t}const i0t={[sa]:"%Y ",[tu]:"Q%q ",[Fa]:"%b ",[nu]:"%d ",[us]:"W%U ",[Da]:"%a ",[Ph]:"%j ",[Gu]:"%H:00",[Yu]:"00:%M",[Fc]:":%S",[Zd]:".%L",[`${sa}-${Fa}`]:"%Y-%m ",[`${sa}-${Fa}-${nu}`]:"%Y-%m-%d ",[`${Gu}-${Yu}`]:"%H:%M"};function HSe(e,t){const n=tr({},i0t,t),r=cK(e),i=r.length;let o="",s=0,a,l;for(s=0;s<i;)for(a=r.length;a>s;--a)if(l=r.slice(s,a).join("-"),n[l]!=null){o+=n[l],s=a;break}return o.trim()}const nv=new Date;function dK(e){return nv.setFullYear(e),nv.setMonth(0),nv.setDate(1),nv.setHours(0,0,0,0),nv}function qSe(e){return WSe(new Date(e))}function VSe(e){return yU(new Date(e))}function WSe(e){return Jp.count(dK(e.getFullYear())-1,e)}function yU(e){return RC.count(dK(e.getFullYear())-1,e)}function vU(e){return dK(e).getDay()}function o0t(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,o,s);return a.setFullYear(e),a}return new Date(e,t,n,r,i,o,s)}function GSe(e){return KSe(new Date(e))}function YSe(e){return bU(new Date(e))}function KSe(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return u0.count(t-1,e)}function bU(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return IC.count(t-1,e)}function wU(e){return nv.setTime(Date.UTC(e,0,1)),nv.getUTCDay()}function s0t(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,o,s));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,o,s))}function XSe(e,t,n,r,i){const o=t||1,s=Er(e),a=(v,y,x)=>(x=x||v,a0t(n[x],r[x],v===s&&o,y)),l=new Date,u=Jd(e),c=u[sa]?a(sa):qa(2012),d=u[Fa]?a(Fa):u[tu]?a(tu):Bg,f=u[us]&&u[Da]?a(Da,1,us+Da):u[us]?a(us,1):u[Da]?a(Da,1):u[nu]?a(nu,1):u[Ph]?a(Ph,1):TC,h=u[Gu]?a(Gu):Bg,p=u[Yu]?a(Yu):Bg,m=u[Fc]?a(Fc):Bg,g=u[Zd]?a(Zd):Bg;return function(v){l.setTime(+v);const y=c(l);return i(y,d(l),f(l,y),h(l),p(l),m(l),g(l))}}function a0t(e,t,n,r){const i=n<=1?e:r?(o,s)=>r+n*Math.floor((e(o,s)-r)/n):(o,s)=>n*Math.floor(e(o,s)/n);return t?(o,s)=>t(i(o,s),s):i}function wx(e,t,n){return t+e*7-(n+6)%7}const l0t={[sa]:e=>e.getFullYear(),[tu]:e=>Math.floor(e.getMonth()/3),[Fa]:e=>e.getMonth(),[nu]:e=>e.getDate(),[Gu]:e=>e.getHours(),[Yu]:e=>e.getMinutes(),[Fc]:e=>e.getSeconds(),[Zd]:e=>e.getMilliseconds(),[Ph]:e=>WSe(e),[us]:e=>yU(e),[us+Da]:(e,t)=>wx(yU(e),e.getDay(),vU(t)),[Da]:(e,t)=>wx(1,e.getDay(),vU(t))},u0t={[tu]:e=>3*e,[us]:(e,t)=>wx(e,0,vU(t))};function QSe(e,t){return XSe(e,t||1,l0t,u0t,o0t)}const c0t={[sa]:e=>e.getUTCFullYear(),[tu]:e=>Math.floor(e.getUTCMonth()/3),[Fa]:e=>e.getUTCMonth(),[nu]:e=>e.getUTCDate(),[Gu]:e=>e.getUTCHours(),[Yu]:e=>e.getUTCMinutes(),[Fc]:e=>e.getUTCSeconds(),[Zd]:e=>e.getUTCMilliseconds(),[Ph]:e=>KSe(e),[us]:e=>bU(e),[Da]:(e,t)=>wx(1,e.getUTCDay(),wU(t)),[us+Da]:(e,t)=>wx(bU(e),e.getUTCDay(),wU(t))},d0t={[tu]:e=>3*e,[us]:(e,t)=>wx(e,0,wU(t))};function JSe(e,t){return XSe(e,t||1,c0t,d0t,s0t)}const f0t={[sa]:Ih,[tu]:P2.every(3),[Fa]:P2,[us]:RC,[nu]:Jp,[Da]:Jp,[Ph]:Jp,[Gu]:n6,[Yu]:e6,[Fc]:Bp,[Zd]:yx},h0t={[sa]:Dh,[tu]:O2.every(3),[Fa]:O2,[us]:IC,[nu]:u0,[Da]:u0,[Ph]:u0,[Gu]:r6,[Yu]:t6,[Fc]:Bp,[Zd]:yx};function DC(e){return f0t[e]}function PC(e){return h0t[e]}function ZSe(e,t,n){return e?e.offset(t,n):void 0}function e2e(e,t,n){return ZSe(DC(e),t,n)}function t2e(e,t,n){return ZSe(PC(e),t,n)}function n2e(e,t,n,r){return e?e.range(t,n,r):void 0}function r2e(e,t,n,r){return n2e(DC(e),t,n,r)}function i2e(e,t,n,r){return n2e(PC(e),t,n,r)}const FE=1e3,jE=FE*60,BE=jE*60,i6=BE*24,p0t=i6*7,Hue=i6*30,xU=i6*365,o2e=[sa,Fa,nu,Gu,Yu,Fc,Zd],zE=o2e.slice(0,-1),UE=zE.slice(0,-1),HE=UE.slice(0,-1),m0t=HE.slice(0,-1),g0t=[sa,us],que=[sa,Fa],s2e=[sa],W_=[[zE,1,FE],[zE,5,5*FE],[zE,15,15*FE],[zE,30,30*FE],[UE,1,jE],[UE,5,5*jE],[UE,15,15*jE],[UE,30,30*jE],[HE,1,BE],[HE,3,3*BE],[HE,6,6*BE],[HE,12,12*BE],[m0t,1,i6],[g0t,1,p0t],[que,1,Hue],[que,3,3*Hue],[s2e,1,xU]];function a2e(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(rk(t))/n;let i=AC(a=>a[2]).right(W_,r),o,s;return i===W_.length?(o=s2e,s=T0(t[0]/xU,t[1]/xU,n)):i?(i=W_[r/W_[i-1][2]<W_[i][2]/r?i-1:i],o=i[0],s=i[1]):(o=o2e,s=Math.max(T0(t[0],t[1],n),1)),{units:o,step:s}}function jj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Bj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function G_(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function l2e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=Y_(i),c=K_(i),d=Y_(o),f=K_(o),h=Y_(s),p=K_(s),m=Y_(a),g=K_(a),v=Y_(l),y=K_(l),x={a:q,A:W,b:V,B:z,c:null,d:Xue,e:Xue,f:j0t,g:K0t,G:Q0t,H:$0t,I:L0t,j:F0t,L:u2e,m:B0t,M:z0t,p:L,q:H,Q:Zue,s:ece,S:U0t,u:H0t,U:q0t,V:V0t,w:W0t,W:G0t,x:null,X:null,y:Y0t,Y:X0t,Z:J0t,"%":Jue},E={a:B,A:Y,b:Q,B:ne,c:null,d:Que,e:Que,f:nyt,g:fyt,G:pyt,H:Z0t,I:eyt,j:tyt,L:d2e,m:ryt,M:iyt,p:ce,q:le,Q:Zue,s:ece,S:oyt,u:syt,U:ayt,V:lyt,w:uyt,W:cyt,x:null,X:null,y:dyt,Y:hyt,Z:myt,"%":Jue},_={a:I,A:P,b:N,B:M,c:O,d:Yue,e:Yue,f:P0t,g:Gue,G:Wue,H:Kue,I:Kue,j:A0t,L:D0t,m:k0t,M:R0t,p:R,q:T0t,Q:N0t,s:M0t,S:I0t,u:x0t,U:C0t,V:_0t,w:w0t,W:E0t,x:j,X:U,y:Gue,Y:Wue,Z:S0t,"%":O0t};x.x=S(n,x),x.X=S(r,x),x.c=S(t,x),E.x=S(n,E),E.X=S(r,E),E.c=S(t,E);function S(ue,ae){return function(te){var se=[],we=-1,X=0,he=ue.length,ge,re,ee;for(te instanceof Date||(te=new Date(+te));++we<he;)ue.charCodeAt(we)===37&&(se.push(ue.slice(X,we)),(re=Vue[ge=ue.charAt(++we)])!=null?ge=ue.charAt(++we):re=ge==="e"?" ":"0",(ee=ae[ge])&&(ge=ee(te,re)),se.push(ge),X=we+1);return se.push(ue.slice(X,we)),se.join("")}}function T(ue,ae){return function(te){var se=G_(1900,void 0,1),we=k(se,ue,te+="",0),X,he;if(we!=te.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(ae&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(X=Bj(G_(se.y,0,1)),he=X.getUTCDay(),X=he>4||he===0?_O.ceil(X):_O(X),X=u0.offset(X,(se.V-1)*7),se.y=X.getUTCFullYear(),se.m=X.getUTCMonth(),se.d=X.getUTCDate()+(se.w+6)%7):(X=jj(G_(se.y,0,1)),he=X.getDay(),X=he>4||he===0?CO.ceil(X):CO(X),X=Jp.offset(X,(se.V-1)*7),se.y=X.getFullYear(),se.m=X.getMonth(),se.d=X.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),he="Z"in se?Bj(G_(se.y,0,1)).getUTCDay():jj(G_(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(he+5)%7:se.w+se.U*7-(he+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,Bj(se)):jj(se)}}function k(ue,ae,te,se){for(var we=0,X=ae.length,he=te.length,ge,re;we<X;){if(se>=he)return-1;if(ge=ae.charCodeAt(we++),ge===37){if(ge=ae.charAt(we++),re=_[ge in Vue?ae.charAt(we++):ge],!re||(se=re(ue,te,se))<0)return-1}else if(ge!=te.charCodeAt(se++))return-1}return se}function R(ue,ae,te){var se=u.exec(ae.slice(te));return se?(ue.p=c.get(se[0].toLowerCase()),te+se[0].length):-1}function I(ue,ae,te){var se=h.exec(ae.slice(te));return se?(ue.w=p.get(se[0].toLowerCase()),te+se[0].length):-1}function P(ue,ae,te){var se=d.exec(ae.slice(te));return se?(ue.w=f.get(se[0].toLowerCase()),te+se[0].length):-1}function N(ue,ae,te){var se=v.exec(ae.slice(te));return se?(ue.m=y.get(se[0].toLowerCase()),te+se[0].length):-1}function M(ue,ae,te){var se=m.exec(ae.slice(te));return se?(ue.m=g.get(se[0].toLowerCase()),te+se[0].length):-1}function O(ue,ae,te){return k(ue,t,ae,te)}function j(ue,ae,te){return k(ue,n,ae,te)}function U(ue,ae,te){return k(ue,r,ae,te)}function q(ue){return s[ue.getDay()]}function W(ue){return o[ue.getDay()]}function V(ue){return l[ue.getMonth()]}function z(ue){return a[ue.getMonth()]}function L(ue){return i[+(ue.getHours()>=12)]}function H(ue){return 1+~~(ue.getMonth()/3)}function B(ue){return s[ue.getUTCDay()]}function Y(ue){return o[ue.getUTCDay()]}function Q(ue){return l[ue.getUTCMonth()]}function ne(ue){return a[ue.getUTCMonth()]}function ce(ue){return i[+(ue.getUTCHours()>=12)]}function le(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var ae=S(ue+="",x);return ae.toString=function(){return ue},ae},parse:function(ue){var ae=T(ue+="",!1);return ae.toString=function(){return ue},ae},utcFormat:function(ue){var ae=S(ue+="",E);return ae.toString=function(){return ue},ae},utcParse:function(ue){var ae=T(ue+="",!0);return ae.toString=function(){return ue},ae}}}var Vue={"-":"",_:" ",0:"0"},Fs=/^\s*\d+/,y0t=/^%/,v0t=/[\\^$*+?|[\]().{}]/g;function Wr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function b0t(e){return e.replace(v0t,"\\$&")}function Y_(e){return new RegExp("^(?:"+e.map(b0t).join("|")+")","i")}function K_(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function w0t(e,t,n){var r=Fs.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function x0t(e,t,n){var r=Fs.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function C0t(e,t,n){var r=Fs.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function _0t(e,t,n){var r=Fs.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function E0t(e,t,n){var r=Fs.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Wue(e,t,n){var r=Fs.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Gue(e,t,n){var r=Fs.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function S0t(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function T0t(e,t,n){var r=Fs.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function k0t(e,t,n){var r=Fs.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Yue(e,t,n){var r=Fs.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function A0t(e,t,n){var r=Fs.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Kue(e,t,n){var r=Fs.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function R0t(e,t,n){var r=Fs.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function I0t(e,t,n){var r=Fs.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function D0t(e,t,n){var r=Fs.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function P0t(e,t,n){var r=Fs.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function O0t(e,t,n){var r=y0t.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function N0t(e,t,n){var r=Fs.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function M0t(e,t,n){var r=Fs.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Xue(e,t){return Wr(e.getDate(),t,2)}function $0t(e,t){return Wr(e.getHours(),t,2)}function L0t(e,t){return Wr(e.getHours()%12||12,t,2)}function F0t(e,t){return Wr(1+Jp.count(Ih(e),e),t,3)}function u2e(e,t){return Wr(e.getMilliseconds(),t,3)}function j0t(e,t){return u2e(e,t)+"000"}function B0t(e,t){return Wr(e.getMonth()+1,t,2)}function z0t(e,t){return Wr(e.getMinutes(),t,2)}function U0t(e,t){return Wr(e.getSeconds(),t,2)}function H0t(e){var t=e.getDay();return t===0?7:t}function q0t(e,t){return Wr(RC.count(Ih(e)-1,e),t,2)}function c2e(e){var t=e.getDay();return t>=4||t===0?vx(e):vx.ceil(e)}function V0t(e,t){return e=c2e(e),Wr(vx.count(Ih(e),e)+(Ih(e).getDay()===4),t,2)}function W0t(e){return e.getDay()}function G0t(e,t){return Wr(CO.count(Ih(e)-1,e),t,2)}function Y0t(e,t){return Wr(e.getFullYear()%100,t,2)}function K0t(e,t){return e=c2e(e),Wr(e.getFullYear()%100,t,2)}function X0t(e,t){return Wr(e.getFullYear()%1e4,t,4)}function Q0t(e,t){var n=e.getDay();return e=n>=4||n===0?vx(e):vx.ceil(e),Wr(e.getFullYear()%1e4,t,4)}function J0t(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Wr(t/60|0,"0",2)+Wr(t%60,"0",2)}function Que(e,t){return Wr(e.getUTCDate(),t,2)}function Z0t(e,t){return Wr(e.getUTCHours(),t,2)}function eyt(e,t){return Wr(e.getUTCHours()%12||12,t,2)}function tyt(e,t){return Wr(1+u0.count(Dh(e),e),t,3)}function d2e(e,t){return Wr(e.getUTCMilliseconds(),t,3)}function nyt(e,t){return d2e(e,t)+"000"}function ryt(e,t){return Wr(e.getUTCMonth()+1,t,2)}function iyt(e,t){return Wr(e.getUTCMinutes(),t,2)}function oyt(e,t){return Wr(e.getUTCSeconds(),t,2)}function syt(e){var t=e.getUTCDay();return t===0?7:t}function ayt(e,t){return Wr(IC.count(Dh(e)-1,e),t,2)}function f2e(e){var t=e.getUTCDay();return t>=4||t===0?bx(e):bx.ceil(e)}function lyt(e,t){return e=f2e(e),Wr(bx.count(Dh(e),e)+(Dh(e).getUTCDay()===4),t,2)}function uyt(e){return e.getUTCDay()}function cyt(e,t){return Wr(_O.count(Dh(e)-1,e),t,2)}function dyt(e,t){return Wr(e.getUTCFullYear()%100,t,2)}function fyt(e,t){return e=f2e(e),Wr(e.getUTCFullYear()%100,t,2)}function hyt(e,t){return Wr(e.getUTCFullYear()%1e4,t,4)}function pyt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?bx(e):bx.ceil(e),Wr(e.getUTCFullYear()%1e4,t,4)}function myt(){return"+0000"}function Jue(){return"%"}function Zue(e){return+e}function ece(e){return Math.floor(+e/1e3)}var F1,fK,h2e,hK,p2e;gyt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gyt(e){return F1=l2e(e),fK=F1.format,h2e=F1.parse,hK=F1.utcFormat,p2e=F1.utcParse,F1}function qE(e){const t={};return n=>t[n]||(t[n]=e(n))}function yyt(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=vyt(r,i);const s=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function vyt(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function m2e(e){const t=qE(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=Kv(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return yyt(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,o,s){s=Kv(s??",f");const a=T0(r,i,o),l=Math.max(Math.abs(r),Math.abs(i));let u;if(s.precision==null)switch(s.type){case"s":return isNaN(u=jSe(a,l))||(s.precision=u),n(s,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=BSe(a,l))||(s.precision=u-(s.type==="e"));break}case"f":case"%":{isNaN(u=FSe(a))||(s.precision=u-(s.type==="%")*2);break}}return t(s)}}}let CU;g2e();function g2e(){return CU=m2e({format:ZM,formatPrefix:aK})}function y2e(e){return m2e(LSe(e))}function EO(e){return arguments.length?CU=y2e(e):CU}function tce(e,t,n){n=n||{},Gn(n)||it(`Invalid time multi-format specifier: ${n}`);const r=t(Fc),i=t(Yu),o=t(Gu),s=t(nu),a=t(us),l=t(Fa),u=t(tu),c=t(sa),d=e(n[Zd]||".%L"),f=e(n[Fc]||":%S"),h=e(n[Yu]||"%I:%M"),p=e(n[Gu]||"%I %p"),m=e(n[nu]||n[Da]||"%a %d"),g=e(n[us]||"%b %d"),v=e(n[Fa]||"%B"),y=e(n[tu]||"%B"),x=e(n[sa]||"%Y");return E=>(r(E)<E?d:i(E)<E?f:o(E)<E?h:s(E)<E?p:l(E)<E?a(E)<E?m:g:c(E)<E?u(E)<E?v:y:x)(E)}function v2e(e){const t=qE(e.format),n=qE(e.utcFormat);return{timeFormat:r=>Vr(r)?t(r):tce(t,DC,r),utcFormat:r=>Vr(r)?n(r):tce(n,PC,r),timeParse:qE(e.parse),utcParse:qE(e.utcParse)}}let _U;b2e();function b2e(){return _U=v2e({format:fK,parse:h2e,utcFormat:hK,utcParse:p2e})}function w2e(e){return v2e(l2e(e))}function N2(e){return arguments.length?_U=w2e(e):_U}const EU=(e,t)=>tr({},e,t);function x2e(e,t){const n=e?y2e(e):EO(),r=t?w2e(t):N2();return EU(n,r)}function pK(e,t){const n=arguments.length;return n&&n!==2&&it("defaultLocale expects either zero or two arguments."),n?EU(EO(e),N2(t)):EU(EO(),N2())}function byt(){return g2e(),b2e(),pK()}const wyt=/^(data:|([A-Za-z]+:)?\/\/)/,xyt=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Cyt=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,nce="file://";function _yt(e){return t=>({options:t||{},sanitize:Syt,load:Eyt,fileAccess:!1,file:Tyt(),http:Ayt})}async function Eyt(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t?.http)}async function Syt(e,t){t=tr({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,s;const a=xyt.test(e.replace(Cyt,""));(e==null||typeof e!="string"||!a)&&it("Sanitize failure, invalid URI: "+an(e));const l=wyt.test(e);return(s=t.baseURL)&&!l&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),o=(i=e.startsWith(nce))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(nce.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function Tyt(e){return kyt}async function kyt(){it("No file system access.")}async function Ayt(e,t){const n=tr({},this.options.http,t),r=t&&t.response,i=await fetch(e,n);return i.ok?nr(i[r])?i[r]():i.text():it(i.status+""+i.statusText)}const Ryt=e=>e!=null&&e===e,Iyt=e=>e==="true"||e==="false"||e===!0||e===!1,Dyt=e=>!Number.isNaN(Date.parse(e)),C2e=e=>!Number.isNaN(+e)&&!(e instanceof Date),Pyt=e=>C2e(e)&&Number.isInteger(+e),SU={boolean:rK,integer:Na,number:Na,date:iK,string:oK,unknown:xl},FR=[Iyt,Pyt,C2e,Dyt],Oyt=["boolean","integer","number","date"];function _2e(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=FR.length,i=FR.map((o,s)=>s+1);for(let o=0,s=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(i[a]&&Ryt(l)&&!FR[a](l)&&(i[a]=0,++s,s===FR.length))return"string";return Oyt[i.reduce((o,s)=>o===0?s:o,0)-1]}function E2e(e,t){return t.reduce((n,r)=>(n[r]=_2e(e,r),n),{})}function rce(e){const t=function(n,r){const i={delimiter:e};return mK(n,r?tr(r,i):i)};return t.responseType="text",t}function mK(e,t){return t.header&&(e=t.header.map(an).join(t.delimiter)+`
`+e),pgt(t.delimiter).parse(e+"")}mK.responseType="text";function Nyt(e){return typeof Buffer=="function"&&nr(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function gK(e,t){const n=t&&t.property?$c(t.property):xl;return Gn(e)&&!Nyt(e)?Myt(n(e),t):n(JSON.parse(e))}gK.responseType="json";function Myt(e,t){return!cn(e)&&gSe(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const $yt={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function S2e(e,t){let n,r,i,o;return e=gK(e,t),t&&t.feature?(n=vgt,i=t.feature):t&&t.mesh?(n=wgt,i=t.mesh,o=$yt[t.filter]):it("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):it("Invalid TopoJSON object: "+i),r&&r.features||[r]}S2e.responseType="json";const IP={dsv:mK,csv:rce(","),tsv:rce("	"),json:gK,topojson:S2e};function yK(e,t){return arguments.length>1?(IP[e]=t,this):Dn(IP,e)?IP[e]:null}function T2e(e){const t=yK(e);return t&&t.responseType||"text"}function k2e(e,t,n,r){t=t||{};const i=yK(t.type||"json");return i||it("Unknown data format type: "+t.type),e=i(e,t),t.parse&&Lyt(e,t.parse,n,r),Dn(e,"columns")&&delete e.columns,e}function Lyt(e,t,n,r){if(!e.length)return;const i=N2();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),s,a,l,u,c,d;t==="auto"&&(t=E2e(e,o)),o=Object.keys(t);const f=o.map(h=>{const p=t[h];let m,g;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return m=p.split(/:(.+)?/,2),g=m[1],(g[0]==="'"&&g[g.length-1]==="'"||g[0]==='"'&&g[g.length-1]==='"')&&(g=g.slice(1,-1)),(m[0]==="utc"?r:n)(g);if(!SU[p])throw Error("Illegal format pattern: "+h+":"+p);return SU[p]});for(l=0,c=e.length,d=o.length;l<c;++l)for(s=e[l],u=0;u<d;++u)a=o[u],s[a]=f[u](s[a])}const o6=_yt();function s6(e){const t=e||xl,n=[],r={};return n.add=i=>{const o=t(i);return r[o]||(r[o]=1,n.push(i)),n},n.remove=i=>{const o=t(i);if(r[o]){r[o]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function DP(e,t){try{await t(e)}catch(n){e.error(n)}}const A2e=Symbol("vega_id");let Fyt=1;function a6(e){return!!(e&&mn(e))}function mn(e){return e[A2e]}function R2e(e,t){return e[A2e]=t,e}function Zr(e){const t=e===Object(e)?e:{data:e};return mn(t)?t:R2e(t,Fyt++)}function vK(e){return l6(e,Zr({}))}function l6(e,t){for(const n in e)t[n]=e[n];return t}function I2e(e,t){return R2e(t,mn(e))}function Lb(e,t){return e?t?(n,r)=>e(n,r)||mn(t(n))-mn(t(r)):(n,r)=>e(n,r)||mn(n)-mn(r):null}function D2e(e){return e&&e.constructor===Fb}function Fb(){const e=[],t=[],n=[],r=[],i=[];let o=null,s=!1;return{constructor:Fb,insert(a){const l=wn(a),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(a){const l=nr(a)?r:t,u=wn(a),c=u.length;for(let d=0;d<c;++d)l.push(u[d]);return this},modify(a,l,u){const c={field:l,value:qa(u)};return nr(a)?(c.filter=a,i.push(c)):(c.tuple=a,n.push(c)),this},encode(a,l){return nr(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return o=a,this},reflow(){return s=!0,this},pulse(a,l){const u={},c={};let d,f,h,p,m,g;for(d=0,f=l.length;d<f;++d)u[mn(l[d])]=1;for(d=0,f=t.length;d<f;++d)m=t[d],u[mn(m)]=-1;for(d=0,f=r.length;d<f;++d)p=r[d],l.forEach(y=>{p(y)&&(u[mn(y)]=-1)});for(d=0,f=e.length;d<f;++d)m=e[d],g=mn(m),u[g]?u[g]=1:a.add.push(Zr(e[d]));for(d=0,f=l.length;d<f;++d)m=l[d],u[mn(m)]<0&&a.rem.push(m);function v(y,x,E){E?y[x]=E(y):a.encode=x,s||(c[mn(y)]=y)}for(d=0,f=n.length;d<f;++d)h=n[d],m=h.tuple,p=h.field,g=u[mn(m)],g>0&&(v(m,p,h.value),a.modifies(p));for(d=0,f=i.length;d<f;++d)h=i[d],p=h.filter,l.forEach(y=>{p(y)&&u[mn(y)]>0&&v(y,h.field,h.value)}),a.modifies(h.field);if(s)a.mod=t.length||r.length?l.filter(y=>u[mn(y)]>0):l.slice();else for(g in c)a.mod.push(c[g]);return(o||o==null&&(t.length||r.length))&&a.clean(!0),a}}}const PP="_:mod:_";function u6(){Object.defineProperty(this,PP,{writable:!0,value:{}})}u6.prototype={set(e,t,n,r){const i=this,o=i[e],s=i[PP];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||r)&&(i[e]=n,s[e]=cn(n)?1+n.length:-1),i},modified(e,t){const n=this[PP];if(arguments.length){if(cn(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[PP]={},this}};let jyt=0;const Byt="pulse",zyt=new u6,Uyt=1,Hyt=2;function Ci(e,t,n,r){this.id=++jyt,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function ice(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Ci.prototype={targets(){return this._targets||(this._targets=s6(tk))},set(e){return this.value!==e?(this.value=e,1):0},skip:ice(Uyt),modified:ice(Hyt),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new u6,i=this._argops=this._argops||[],o=[];let s,a,l,u;const c=(d,f,h)=>{h instanceof Ci?(h!==this&&(t&&h.targets().add(this),o.push(h)),i.push({op:h,name:d,index:f})):r.set(d,f,h)};for(s in e)if(a=e[s],s===Byt)wn(a).forEach(d=>{d instanceof Ci?d!==this&&(d.targets().add(this),o.push(d)):it("Pulse parameters must be operator instances.")}),this.source=a;else if(cn(a))for(r.set(s,-1,Array(l=a.length)),u=0;u<l;++u)c(s,u,a[u]);else c(s,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||zyt,n=this._argops;let r,i,o,s;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],o=r.op,s=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,s);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function qyt(e,t,n,r){let i=1,o;return e instanceof Ci?o=e:e&&e.prototype instanceof Ci?o=new e:nr(e)?o=new Ci(null,e):(i=0,o=new Ci(e,t)),this.rank(o),i&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function Vyt(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let Wyt=0;function c6(e,t,n){this.id=++Wyt,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Sg(e,t,n){return new c6(e,t,n)}c6.prototype={_filter:Lc,_apply:xl,targets(){return this._targets||(this._targets=s6(tk))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=Sg(e);return this.targets().add(t),t},apply(e){const t=Sg(null,e);return this.targets().add(t),t},merge(){const e=Sg();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=Sg();return this.targets().add(Sg(null,null,ZY(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(Sg(null,null,()=>n=!0)),t.targets().add(Sg(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=Lc,this._targets=null}};function Gyt(e,t,n,r){const i=this,o=Sg(n,r),s=function(u){u.dataflow=i;try{o.receive(u)}catch(c){i.error(c)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=wn(e);const l=a.length;for(let u=0;u<l;++u)a[u].addEventListener(t,s);return o}function Yyt(e,t){const n=this.locale();return k2e(e,t,n.timeParse,n.utcParse)}function Kyt(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function Xyt(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:T2e(t&&t.type)});try{i=n.parse(i,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:i,status:r}}async function Qyt(e,t,n){const r=this,i=r._pending||Jyt(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(Lc).insert(o.data||[])),i.done(),o}function Jyt(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const Zyt={skip:!0};function evt(e,t,n,r,i){return(e instanceof Ci?nvt:tvt)(this,e,t,n,r,i),this}function tvt(e,t,n,r,i,o){const s=tr({},o,Zyt);let a,l;nr(n)||(n=qa(n)),r===void 0?a=u=>e.touch(n(u)):nr(r)?(l=new Ci(null,r,i,!1),a=u=>{l.evaluate(u);const c=n(u),d=l.value;D2e(d)?e.pulse(c,d,o):e.update(c,d,s)}):a=u=>e.update(n(u),r,s),t.apply(a)}function nvt(e,t,n,r,i,o){if(r===void 0)t.targets().add(n);else{const s=o||{},a=new Ci(null,rvt(n,r),i,!1);a.modified(s.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function rvt(e,t){return t=nr(t)?t:qa(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function ivt(e){e.rank=++this._rank}function ovt(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&it("Cycle detected in dataflow graph.")}const SO={},Yf=1,Dg=2,Tp=4,svt=Yf|Dg,oce=Yf|Tp,j1=Yf|Dg|Tp,sce=8,X_=16,ace=32,lce=64;function c0(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function zj(e,t){const n=[];return Ig(e,t,r=>n.push(r)),n}function uce(e,t){const n={};return e.visit(t,r=>{n[mn(r)]=1}),r=>n[mn(r)]?null:r}function jR(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}c0.prototype={StopPropagation:SO,ADD:Yf,REM:Dg,MOD:Tp,ADD_REM:svt,ADD_MOD:oce,ALL:j1,REFLOW:sce,SOURCE:X_,NO_SOURCE:ace,NO_FIELDS:lce,fork(e){return new c0(this.dataflow).init(this,e)},clone(){const e=this.fork(j1);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(j1|X_)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new c0(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&lce)&&(n.fields=e.fields),t&Yf?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&Dg?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Tp?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&ace?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||j1;return t&Yf&&this.add.length||t&Dg&&this.rem.length||t&Tp&&this.mod.length},reflow(e){if(e)return this.fork(j1).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Tp,uce(this,Yf))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return cn(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?cn(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&Yf&&(n.addF=jR(n.addF,t)),e&Dg&&(n.remF=jR(n.remF,t)),e&Tp&&(n.modF=jR(n.modF,t)),e&X_&&(n.srcF=jR(n.srcF,t)),n},materialize(e){e=e||j1;const t=this;return e&Yf&&t.addF&&(t.add=zj(t.add,t.addF),t.addF=null),e&Dg&&t.remF&&(t.rem=zj(t.rem,t.remF),t.remF=null),e&Tp&&t.modF&&(t.mod=zj(t.mod,t.modF),t.modF=null),e&X_&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&X_)return Ig(n.source,n.srcF,r),n;e&Yf&&Ig(n.add,n.addF,r),e&Dg&&Ig(n.rem,n.remF,r),e&Tp&&Ig(n.mod,n.modF,r);const i=n.source;if(e&sce&&i){const o=n.add.length+n.mod.length;o===i.length||(o?Ig(i,uce(n,oce),r):Ig(i,n.srcF,r))}return n}};function bK(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const a=i.fields||(i.fields={});for(const l in s.fields)a[l]=1}s.changed(i.ADD)&&(o|=i.ADD),s.changed(i.REM)&&(o|=i.REM),s.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}It(bK,c0,{fork(e){const t=new c0(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?cn(e)?e.some(r=>n[r]):n[e]:0},filter(){it("MultiPulse does not support filtering.")},materialize(){it("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function avt(e,t,n){const r=this,i=[];if(r._pulse)return P2e(r);if(r._pending&&await r._pending,t&&await DP(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new c0(r,o,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=s6(tk);let s=0,a,l,u;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=SO),l!==SO&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++s}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${s} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((d,f)=>f.priority-d.priority);r._postrun=[];for(let d=0;d<c.length;++d)await DP(r,c[d].callback)}return n&&await DP(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(d=>{try{d(r)}catch(f){r.error(f)}})})),r}async function lvt(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function uvt(e,t,n){return this._pulse?P2e(this):(this.evaluate(e,t,n),this)}function cvt(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function P2e(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function dvt(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function fvt(e,t){const n=e.source,r=this._clock;return n&&cn(n)?new bK(this,r,n.map(i=>i.pulse),t):this._input[e.id]||hvt(this._pulse,n&&n.pulse)}function hvt(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==SO&&(e.source=t.source),e)}const wK={skip:!1,force:!1};function pvt(e,t){const n=t||wK;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function mvt(e,t,n){const r=n||wK;return(e.set(t)||r.force)&&this.touch(e,r),this}function gvt(e,t,n){this.touch(e,n||wK);const r=new c0(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function yvt(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),O2e(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,vvt(t,0,e)):r=n,r}}}function O2e(e,t,n,r){let i,o;const s=e[n];for(;n>t;){if(o=n-1>>1,i=e[o],r(s,i)<0){e[n]=i,n=o;continue}break}return e[n]=s}function vvt(e,t,n){const r=t,i=e.length,o=e[t];let s=(t<<1)+1,a;for(;s<i;)a=s+1,a<i&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=o,O2e(e,r,t,n)}function jw(){this.logger(nSe()),this.logLevel(YY),this._clock=0,this._rank=0,this._locale=pK();try{this._loader=o6()}catch{}this._touched=s6(tk),this._input={},this._pulse=null,this._heap=yvt((e,t)=>e.qrank-t.qrank),this._postrun=[]}function Q_(e){return function(){return this._log[e].apply(this,arguments)}}jw.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:Q_("error"),warn:Q_("warn"),info:Q_("info"),debug:Q_("debug"),logLevel:Q_("level"),cleanThreshold:1e4,add:qyt,connect:Vyt,rank:ivt,rerank:ovt,pulse:gvt,touch:pvt,update:mvt,changeset:Fb,ingest:Kyt,parse:Yyt,preload:Qyt,request:Xyt,events:Gyt,on:evt,evaluate:avt,run:uvt,runAsync:lvt,runAfter:cvt,_enqueue:dvt,_getPulse:fvt};function et(e,t){Ci.call(this,e,null,t)}It(et,Ci,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const xx={};function N2e(e){const t=M2e(e);return t&&t.Definition||null}function M2e(e){return e=e&&e.toLowerCase(),Dn(xx,e)?xx[e]:null}function*$2e(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function xK(e,t,n){const r=Float64Array.from($2e(e,n));return r.sort(Qp),t.map(i=>PSe(r,i))}function CK(e,t){return xK(e,[.25,.5,.75],t)}function _K(e,t){const n=e.length,r=Agt(e,t),i=CK(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function L2e(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o=e.extent[0],s=e.extent[1],a,l,u,c,d,f;const h=e.span||s-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(c=h/t,d=0,f=e.steps.length;d<f&&e.steps[d]<c;++d);a=e.steps[Math.max(0,d-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,a=Math.max(u,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/a)>t;)a*=n;for(d=0,f=i.length;d<f;++d)c=a/i[d],c>=u&&h/c<=t&&(a=c)}c=Math.log(a);const p=c>=0?0:~~(-c/r)+1,m=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(o/a+m)*a,o=o<c?c-a:c,s=Math.ceil(s/a)*a),{start:o,stop:s===o?o+a:s,step:a}}var jc=Math.random;function bvt(e){jc=e}function F2e(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from($2e(e,r)),o=i.length,s=t;let a,l,u,c;for(u=0,c=Array(s);u<s;++u){for(a=0,l=0;l<o;++l)a+=i[~~(jc()*o)];c[u]=a/o}return c.sort(Qp),[gU(c,n/2),gU(c,1-n/2)]}function j2e(e,t,n,r){r=r||(f=>f);const i=e.length,o=new Float64Array(i);let s=0,a=1,l=r(e[0]),u=l,c=l+t,d;for(;a<i;++a){if(d=r(e[a]),d>=c){for(u=(l+u)/2;s<a;++s)o[s]=u;c=d+t,l=d}u=d}for(u=(l+u)/2;s<a;++s)o[s]=u;return n?wvt(o,t+t/4):o}function wvt(e,t){const n=e.length;let r=0,i=1,o,s;for(;e[r]===e[i];)++i;for(;i<n;){for(o=i+1;e[i]===e[o];)++o;if(e[i]-e[i-1]<t){for(s=i+(r+o-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=o}return e}function xvt(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function Cvt(e,t){t==null&&(t=e,e=0);let n,r,i;const o={min(s){return arguments.length?(n=s||0,i=r-n,o):n},max(s){return arguments.length?(r=s||0,i=r-n,o):r},sample(){return n+Math.floor(i*jc())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const a=Math.floor(s);return a<n?0:a>=r?1:(a-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return o.min(e).max(t)}const B2e=Math.sqrt(2*Math.PI),_vt=Math.SQRT2;let J_=NaN;function d6(e,t){e=e||0,t=t??1;let n=0,r=0,i,o;if(J_===J_)n=J_,J_=NaN;else{do n=jc()*2-1,r=jc()*2-1,i=n*n+r*r;while(i===0||i>1);o=Math.sqrt(-2*Math.log(i)/i),n*=o,J_=r*o}return e+n*t}function EK(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*B2e)}function f6(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const s=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,o=s*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,o=o/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,o=s/a/2.506628274631)}return r>0?1-o:o}function h6(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*_vt*Evt(2*e-1)}function Evt(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function SK(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>d6(n,r),pdf:o=>EK(o,n,r),cdf:o=>f6(o,n,r),icdf:o=>h6(o,n,r)};return i.mean(e).stdev(t)}function TK(e,t){const n=SK();let r=0;const i={data(o){return arguments.length?(e=o,r=o?o.length:0,i.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=_K(e)),i):t},sample(){return e[~~(jc()*r)]+t*n.sample()},pdf(o){let s=0,a=0;for(;a<r;++a)s+=n.pdf((o-e[a])/t);return s/t/r},cdf(o){let s=0,a=0;for(;a<r;++a)s+=n.cdf((o-e[a])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function kK(e,t){return e=e||0,t=t??1,Math.exp(e+d6()*t)}function AK(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*B2e*e)}function RK(e,t,n){return f6(Math.log(e),t,n)}function IK(e,t,n){return Math.exp(h6(e,t,n))}function z2e(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>kK(n,r),pdf:o=>AK(o,n,r),cdf:o=>RK(o,n,r),icdf:o=>IK(o,n,r)};return i.mean(e).stdev(t)}function U2e(e,t){let n=0,r;function i(s){const a=[];let l=0,u;for(u=0;u<n;++u)l+=a[u]=s[u]==null?1:+s[u];for(u=0;u<n;++u)a[u]/=l;return a}const o={weights(s){return arguments.length?(r=i(t=s||[]),o):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),o.weights(t)):e},sample(){const s=jc();let a=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(s<l){a=e[u];break}return a.sample()},pdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(s);return a},cdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(s);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function DK(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*jc()}function PK(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function OK(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function NK(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function H2e(e,t){let n,r;const i={min(o){return arguments.length?(n=o||0,i):n},max(o){return arguments.length?(r=o??1,i):r},sample:()=>DK(n,r),pdf:o=>PK(o,n,r),cdf:o=>OK(o,n,r),icdf:o=>NK(o,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function MK(e,t,n){let r=0,i=0;for(const o of e){const s=n(o);t(o)==null||s==null||isNaN(s)||(r+=(s-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function ik(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function p6(e,t,n,r){e=e.filter(h=>{let p=t(h),m=n(h);return p!=null&&(p=+p)>=p&&m!=null&&(m=+m)>=m}),r&&e.sort((h,p)=>t(h)-t(p));const i=e.length,o=new Float64Array(i),s=new Float64Array(i);let a=0,l=0,u=0,c,d,f;for(f of e)o[a]=c=+t(f),s[a]=d=+n(f),++a,l+=(c-l)/a,u+=(d-u)/a;for(a=0;a<i;++a)o[a]-=l,s[a]-=u;return[o,s,l,u]}function ok(e,t,n,r){let i=-1,o,s;for(const a of e)o=t(a),s=n(a),o!=null&&(o=+o)>=o&&s!=null&&(s=+s)>=s&&r(o,s,++i)}function OC(e,t,n,r,i){let o=0,s=0;return ok(e,t,n,(a,l)=>{const u=l-i(a),c=l-r;o+=u*u,s+=c*c}),1-o/s}function $K(e,t,n){let r=0,i=0,o=0,s=0,a=0;ok(e,t,n,(c,d)=>{++a,r+=(c-r)/a,i+=(d-i)/a,o+=(c*d-o)/a,s+=(c*c-s)/a});const l=ik(r,i,o,s),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:OC(e,t,n,i,u)}}function q2e(e,t,n){let r=0,i=0,o=0,s=0,a=0;ok(e,t,n,(c,d)=>{++a,c=Math.log(c),r+=(c-r)/a,i+=(d-i)/a,o+=(c*d-o)/a,s+=(c*c-s)/a});const l=ik(r,i,o,s),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:OC(e,t,n,i,u)}}function V2e(e,t,n){const[r,i,o,s]=p6(e,t,n);let a=0,l=0,u=0,c=0,d=0,f,h,p;ok(e,t,n,(y,x)=>{f=r[d++],h=Math.log(x),p=f*x,a+=(x*h-a)/d,l+=(p-l)/d,u+=(p*h-u)/d,c+=(f*p-c)/d});const[m,g]=ik(l/s,a/s,u/s,c/s),v=y=>Math.exp(m+g*(y-o));return{coef:[Math.exp(m-g*o),g],predict:v,rSquared:OC(e,t,n,s,v)}}function W2e(e,t,n){let r=0,i=0,o=0,s=0,a=0,l=0;ok(e,t,n,(d,f)=>{const h=Math.log(d),p=Math.log(f);++l,r+=(h-r)/l,i+=(p-i)/l,o+=(h*p-o)/l,s+=(h*h-s)/l,a+=(f-a)/l});const u=ik(r,i,o,s),c=d=>u[0]*Math.pow(d,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:OC(e,t,n,a,c)}}function LK(e,t,n){const[r,i,o,s]=p6(e,t,n),a=r.length;let l=0,u=0,c=0,d=0,f=0,h,p,m,g;for(h=0;h<a;)p=r[h],m=i[h++],g=p*p,l+=(g-l)/h,u+=(g*p-u)/h,c+=(g*g-c)/h,d+=(p*m-d)/h,f+=(g*m-f)/h;const v=c-l*l,y=l*v-u*u,x=(f*l-d*u)/y,E=(d*v-f*u)/y,_=-x*l,S=T=>(T=T-o,x*T*T+E*T+_+s);return{coef:[_-E*o+x*o*o+s,E-2*x*o,x],predict:S,rSquared:OC(e,t,n,s,S)}}function G2e(e,t,n,r){if(r===0)return MK(e,t,n);if(r===1)return $K(e,t,n);if(r===2)return LK(e,t,n);const[i,o,s,a]=p6(e,t,n),l=i.length,u=[],c=[],d=r+1;let f,h,p,m,g;for(f=0;f<d;++f){for(p=0,m=0;p<l;++p)m+=Math.pow(i[p],f)*o[p];for(u.push(m),g=new Float64Array(d),h=0;h<d;++h){for(p=0,m=0;p<l;++p)m+=Math.pow(i[p],f+h);g[h]=m}c.push(g)}c.push(u);const v=Tvt(c),y=x=>{x-=s;let E=a+v[0]+v[1]*x+v[2]*x*x;for(f=3;f<d;++f)E+=v[f]*Math.pow(x,f);return E};return{coef:Svt(d,v,-s,a),predict:y,rSquared:OC(e,t,n,a,y)}}function Svt(e,t,n,r){const i=Array(e);let o,s,a,l;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],l=1,i[o]+=a,s=1;s<=o;++s)l*=(o+1-s)/s,i[o-s]+=a*Math.pow(n,s)*l;return i[0]+=r,i}function Tvt(e){const t=e.length-1,n=[];let r,i,o,s,a;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(o=r;o<t+1;++o)a=e[o][r],e[o][r]=e[o][s],e[o][s]=a;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,o=i+1;o<t;++o)a+=e[o][i]*n[o];n[i]=(e[t][i]-a)/e[i][i]}return n}const cce=2,dce=1e-12;function Y2e(e,t,n,r){const[i,o,s,a]=p6(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),d=new Float64Array(l),f=new Float64Array(l).fill(1);for(let h=-1;++h<=cce;){const p=[0,u-1];for(let g=0;g<l;++g){const v=i[g],y=p[0],x=p[1],E=v-i[y]>i[x]-v?y:x;let _=0,S=0,T=0,k=0,R=0;const I=1/Math.abs(i[E]-v||1);for(let M=y;M<=x;++M){const O=i[M],j=o[M],U=kvt(Math.abs(v-O)*I)*f[M],q=O*U;_+=U,S+=q,T+=j*U,k+=j*q,R+=O*q}const[P,N]=ik(S/_,T/_,k/_,R/_);c[g]=P+N*v,d[g]=Math.abs(o[g]-c[g]),Avt(i,g+1,p)}if(h===cce)break;const m=OSe(d);if(Math.abs(m)<dce)break;for(let g=0,v,y;g<l;++g)v=d[g]/(6*m),f[g]=v>=1?dce:(y=1-v*v)*y}return Rvt(i,c,s,a)}function kvt(e){return(e=1-e*e*e)*e*e}function Avt(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}function Rvt(e,t,n,r){const i=e.length,o=[];let s=0,a=0,l=[],u;for(;s<i;++s)u=e[s]+n,l[0]===u?l[1]+=(t[s]-l[1])/++a:(a=0,l[1]+=r,l=[u,t[s]],o.push(l));return l[1]+=r,o}const Ivt=.5*Math.PI/180;function m6(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=m=>[m,e(m)],o=t[0],s=t[1],a=s-o,l=a/r,u=[i(o)],c=[];if(n===r){for(let m=1;m<r;++m)u.push(i(o+m/n*a));return u.push(i(s)),u}else{c.push(i(s));for(let m=n;--m>0;)c.push(i(o+m/n*a))}let d=u[0],f=c[c.length-1];const h=1/a,p=Dvt(d[1],c);for(;f;){const m=i((d[0]+f[0])/2);m[0]-d[0]>=l&&Pvt(d,m,f,h,p)>Ivt?c.push(m):(d=f,u.push(f),c.pop()),f=c[c.length-1]}return u}function Dvt(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const s=t[o][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function Pvt(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-s)}function Ovt(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function TU(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:Ovt(e)}function K2e(e,t,n){return n||e+(t?"_"+t:"")}const Uj=()=>{},Nvt={init:Uj,add:Uj,rem:Uj,idx:0},M2={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},sk=Object.keys(M2).filter(e=>e!=="__count__");function Mvt(e,t){return(n,r)=>tr({name:e,aggregate_param:r,out:n||e},Nvt,t)}[...sk,"__count__"].forEach(e=>{M2[e]=Mvt(e,M2[e])});function X2e(e,t,n){return M2[e](n,t)}function Q2e(e,t){return e.idx-t.idx}function $vt(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=M2[i]())})};return e.forEach(n),Object.values(t).sort(Q2e)}function Lvt(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function Fvt(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function jvt(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function Bvt(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function J2e(e,t){const n=t||xl,r=$vt(e),i=e.slice().sort(Q2e);function o(s){this._ops=r,this._out=i,this.cell=s,this.init()}return o.prototype.init=Lvt,o.prototype.add=Fvt,o.prototype.rem=jvt,o.prototype.set=Bvt,o.prototype.get=n,o.fields=e.map(s=>s.out),o}function FK(e){this._key=e?$c(e):mn,this.reset()}const ha=FK.prototype;ha.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};ha.add=function(e){this._add.push(e)};ha.rem=function(e){this._rem.push(e)};ha.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),s={};let a,l,u;for(a=0;a<i;++a)s[n(t[a])]=1;for(a=0,l=0;a<r;++a)s[n(u=e[a])]?s[n(u)]=0:o[l++]=u;return this._rem=[],this._add=o};ha.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,o;for(;--r>=0;)o=e(t[r])+"",Dn(n,o)||(n[o]=1,++i);return i};ha.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=pSe(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};ha.argmin=function(e){return this.extent(e)[0]||{}};ha.argmax=function(e){return this.extent(e)[1]||{}};ha.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};ha.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};ha.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=CK(this.values(),e),this._get=e),this._q};ha.q1=function(e){return this.quartile(e)[0]};ha.q2=function(e){return this.quartile(e)[1]};ha.q3=function(e){return this.quartile(e)[2]};ha.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=F2e(this.values(),1e3,.05,e),this._get=e),this._ci};ha.ci0=function(e){return this.ci(e)[0]};ha.ci1=function(e){return this.ci(e)[1]};function k0(e){et.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}k0.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:sk},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};It(k0,et,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function o(a){let l,u,c,d;for(l in a)for(c=a[l].tuple,u=0;u<i;++u)r[u][d=c[n[u]]]=d}o(e._prev),o(t);function s(a,l,u){const c=n[u],d=r[u++];for(const f in d){const h=a?a+"|"+f:f;l[c]=d[f],u<i?s(h,l,u):t[h]||e.cell(h,l)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(y){const x=wn(La(y)),E=x.length;let _=0,S;for(;_<E;++_)r[S=x[_]]||(r[S]=1,t.push(S))}this._dims=wn(e.groupby),this._dnames=this._dims.map(y=>{const x=vo(y);return i(y),n.push(x),x}),this.cellkey=e.key?e.key:TU(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],a=e.aggregate_params||[null],l=e.as||[],u=o.length,c={};let d,f,h,p,m,g,v;for(u!==s.length&&it("Unmatched number of fields and aggregate ops."),v=0;v<u;++v){if(d=o[v],f=s[v],h=a[v]||null,d==null&&f!=="count"&&it("Null aggregate field specified."),m=vo(d),g=K2e(f,m,l[v]),n.push(g),f==="count"){this._counts.push(g);continue}p=c[m],p||(i(d),p=c[m]=[],p.field=d,this._measures.push(p)),f!=="count"&&(this._countOnly=!1),p.push(X2e(f,h,g))}return this._measures=this._measures.map(y=>J2e(y,y.field)),Object.create(null)},cellkey:TU(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new FK),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let s=0;s<i;++s)o[n[s]]=r[s](e);return t?I2e(t.tuple,o):Zr(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,o=r.length;i<o;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,s=e.rem,a=e.mod;let l,u,c,d;if(r)for(u in r)l=r[u],(!i||l.num)&&s.push(l.tuple);for(c=0,d=this._alen;c<d;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,d=this._mlen;c<d;++c)l=n[c],(l.num===0&&i?s:a).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const zvt=1e-14;function jK(e){et.call(this,null,e)}jK.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};It(jK,et,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,o=r.step,s=e.as||["bin0","bin1"],a=s[0],l=s[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(La(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const d=r(c);c[a]=d,c[l]=d==null?null:i+o*(1+(d-i)/o)}:c=>c[a]=r(c)),t.modifies(n?s:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=L2e(e),r=n.step;let i=n.start,o=i+Math.ceil((n.stop-i)/r)*r,s,a;(s=e.anchor)!=null&&(a=s-(i+r*Math.floor((s-i)/r)),i+=a,o+=a);const l=function(u){let c=Na(t(u));return c==null?null:c<i?-1/0:c>o?1/0:(c=Math.max(i,Math.min(c,o-r)),i+r*Math.floor(zvt+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=du(l,La(t),e.name||"bin_"+vo(t))}});function Z2e(e,t,n){const r=e;let i=t||[],o=n||[],s={},a=0;return{add:l=>o.push(l),remove:l=>s[r(l)]=++a,size:()=>i.length,data:(l,u)=>(a&&(i=i.filter(c=>!s[r(c)]),s={},a=0),u&&l&&i.sort(l),o.length&&(i=l?bSe(l,i,o.sort(l)):i.concat(o),o=[]),i)}}function BK(e){et.call(this,[],e)}BK.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};It(BK,et,{transform(e,t){const n=t.fork(t.ALL),r=Z2e(mn,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(Lb(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function eTe(e){Ci.call(this,null,Uvt,e)}It(eTe,Ci);function Uvt(e){return this.value&&!e.modified()?this.value:JY(e.fields,e.orders)}function zK(e){et.call(this,null,e)}zK.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function Hvt(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}It(zK,et,{transform(e,t){const n=d=>f=>{for(var h=Hvt(a(f),e.case,o)||[],p,m=0,g=h.length;m<g;++m)s.test(p=h[m])||d(p)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,s=this._stop,a=e.field,l=e.as||["text","count"],u=n(d=>i[d]=1+(i[d]||0)),c=n(d=>i[d]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,u;for(a in n)l=r[a],u=n[a]||0,!l&&u?(r[a]=l=Zr({}),l[i]=a,l[o]=u,s.add.push(l)):u===0?(l&&s.rem.push(l),n[a]=null,r[a]=null):l[o]!==u&&(l[o]=u,s.mod.push(l));return s.modifies(t)}});function UK(e){et.call(this,null,e)}UK.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};It(UK,et,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return s?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=qvt(a,i,o,e.filter||Lc)):n.mod=a,n.source=this.value,n.modifies(r)}});function qvt(e,t,n,r){for(var i=[],o={},s=e.length,a=0,l,u;a<s;++a)for(o[t]=u=e[a],l=0;l<s;++l)o[n]=e[l],r(o)&&(i.push(Zr(o)),o={},o[t]=u);return i}const fce={kde:TK,mixture:U2e,normal:SK,lognormal:z2e,uniform:H2e},Vvt="distributions",hce="function",Wvt="field";function tTe(e,t){const n=e[hce];Dn(fce,n)||it("Unknown distribution function: "+n);const r=fce[n]();for(const i in e)i===Wvt?r.data((e.from||t()).map(e[i])):i===Vvt?r[i](e[i].map(o=>tTe(o,t))):typeof r[i]===hce&&r[i](e[i]);return r}function HK(e){et.call(this,null,e)}const nTe=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Gvt={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:nTe},{name:"weights",type:"number",array:!0}]};HK.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:nTe.concat(Gvt)},{name:"as",type:"string",array:!0,default:["value","density"]}]};It(HK,et,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=tTe(e.distribution,Yvt(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&it("Invalid density method: "+s),!e.extent&&!r.data&&it("Missing density extent parameter."),s=r[s];const a=e.as||["value","density"],l=e.extent||Rh(r.data()),u=m6(s,l,i,o).map(c=>{const d={};return d[a[0]]=c[0],d[a[1]]=c[1],Zr(d)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function Yvt(e){return()=>e.materialize(e.SOURCE).source}function rTe(e,t){return e?e.map((n,r)=>t[r]||vo(n)):null}function qK(e,t,n){const r=[],i=d=>d(l);let o,s,a,l,u,c;if(t==null)r.push(e.map(n));else for(o={},s=0,a=e.length;s<a;++s)l=e[s],u=t.map(i),c=o[u],c||(o[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const iTe="bin";function VK(e){et.call(this,null,e)}VK.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:iTe}]};const Kvt=(e,t)=>rk(Rh(e,t))/30;It(VK,et,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=qK(t.source,e.groupby,xl),i=e.smooth||!1,o=e.field,s=e.step||Kvt(n,o),a=Lb((p,m)=>o(p)-o(m)),l=e.as||iTe,u=r.length;let c=1/0,d=-1/0,f=0,h;for(;f<u;++f){const p=r[f].sort(a);h=-1;for(const m of j2e(p,s,i,o))m<c&&(c=m),m>d&&(d=m),p[++h][l]=m}return this.value={start:c,stop:d,step:s},t.reflow(!0).modifies(l)}});function oTe(e){Ci.call(this,null,Xvt,e),this.modified(!0)}It(oTe,Ci);function Xvt(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:du(n=>t(n,e),La(t),vo(t))}function WK(e){et.call(this,[void 0,void 0],e)}WK.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};It(WK,et,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],s=n[1];if((i||o==null)&&(o=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=Na(r(a));l!=null&&(l<o&&(o=l),l>s&&(s=l))}),!Number.isFinite(o)||!Number.isFinite(s)){let a=vo(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}});function GK(e,t){Ci.call(this,e),this.parent=t,this.count=0}It(GK,Ci,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function g6(e){et.call(this,{},e),this._keys=kC();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}It(g6,et,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o=Dn(i,e)&&i[e],s,a;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=r||(a=this._group[e])&&a.tuple,s=n.dataflow,o=new GK(n.fork(n.NO_SOURCE),this),s.add(o).connect(t(s,e,a)),i[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,s=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=mn(l),c=o.get(u);c!==void 0&&(o.delete(u),a(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);o.set(mn(l),u),a(u).add(l)}),s||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=mn(l),c=o.get(u),d=r(l);c===d?a(d).mod(l):(o.set(u,d),a(c).rem(l),a(d).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(o.get(mn(l))).mod(l)}),s&&t.visit(t.REFLOW,l=>{const u=mn(l),c=o.get(u),d=r(l);c!==d&&(o.set(u,d),a(c).rem(l),a(d).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function sTe(e){Ci.call(this,null,Qvt,e)}It(sTe,Ci);function Qvt(e){return this.value&&!e.modified()?this.value:cn(e.name)?wn(e.name).map(t=>$c(t)):$c(e.name,e.as)}function YK(e){et.call(this,kC(),e)}YK.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};It(YK,et,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,s=i.rem,a=i.mod,l=e.expr;let u=!0;t.visit(t.REM,d=>{const f=mn(d);r.has(f)?r.delete(f):s.push(d)}),t.visit(t.ADD,d=>{l(d,e)?o.push(d):r.set(mn(d),1)});function c(d){const f=mn(d),h=l(d,e),p=r.get(f);h&&p?(r.delete(f),o.push(d)):!h&&!p?(r.set(f,1),s.push(d)):u&&h&&!p&&a.push(d)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function KK(e){et.call(this,[],e)}KK.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};It(KK,et,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=rTe(r,e.as||[]),o=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(p=>p(a)),u=l.reduce((p,m)=>Math.max(p,m.length),0);let c=0,d,f,h;for(;c<u;++c){for(f=vK(a),d=0;d<s;++d)f[i[d]]=(h=l[d][c])==null?null:h;o&&(f[o]=c),n.add.push(f)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}});function XK(e){et.call(this,[],e)}XK.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};It(XK,et,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(vo),o=e.as||["key","value"],s=o[0],a=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,d;c<l;++c)d=vK(u),d[s]=i[c],d[a]=r[c](u),n.add.push(d)}),this.value=n.source=n.add,n.modifies(o)}});function QK(e){et.call(this,null,e)}QK.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};It(QK,et,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,s=>s[r]=n(s,e))}});function aTe(e){et.call(this,[],e)}It(aTe,et,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,o=e.size-i.length,s,a,l;if(o>0){for(s=[];--o>=0;)s.push(l=Zr(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else a=i.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-o);return n.source=this.value=i,n}});const BR={value:"value",median:OSe,mean:Ngt,min:mU,max:Iv},Jvt=[];function JK(e){et.call(this,[],e)}JK.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function Zvt(e){var t=e.method||BR.value,n;if(BR[t]==null)it("Unrecognized imputation method: "+t);else return t===BR.value?(n=e.value!==void 0?e.value:0,()=>n):BR[t]}function ebt(e){const t=e.field;return n=>n?t(n):NaN}It(JK,et,{transform(e,t){var n=t.fork(t.ALL),r=Zvt(e),i=ebt(e),o=vo(e.field),s=vo(e.key),a=(e.groupby||[]).map(vo),l=tbt(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,d=l.domain.length,f,h,p,m,g,v,y,x,E,_;for(g=0,x=l.length;g<x;++g)for(f=l[g],p=f.values,h=NaN,y=0;y<d;++y)if(f[y]==null){for(m=l.domain[y],_={_impute:!0},v=0,E=p.length;v<E;++v)_[a[v]]=p[v];_[s]=m,_[o]=Number.isNaN(h)?h=r(f,i):h,u.push(Zr(_))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function tbt(e,t,n,r){var i=v=>v(g),o=[],s=r?r.slice():[],a={},l={},u,c,d,f,h,p,m,g;for(s.forEach((v,y)=>a[v]=y+1),f=0,m=e.length;f<m;++f)g=e[f],p=n(g),h=a[p]||(a[p]=s.push(p)),c=(u=t?t.map(i):Jvt)+"",(d=l[c])||(d=l[c]=[],o.push(d),d.values=u),d[h-1]=g;return o.domain=s,o}function ZK(e){k0.call(this,e)}ZK.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:sk},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};It(ZK,k0,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(i=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{tr(o,i[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function eX(e){et.call(this,null,e)}eX.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};It(eX,et,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=qK(r,e.groupby,e.field),o=(e.groupby||[]).map(vo),s=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,d=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&it("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=Rh(r,e.field)),d=f=e.steps||f),i.forEach(h=>{const p=TK(h,s)[a],m=e.counts?h.length:1,g=c||Rh(h);m6(p,g,d,f).forEach(v=>{const y={};for(let x=0;x<o.length;++x)y[o[x]]=h.dims[x];y[l[0]]=v[0],y[l[1]]=v[1]*m,u.push(Zr(y))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function lTe(e){Ci.call(this,null,nbt,e)}It(lTe,Ci);function nbt(e){return this.value&&!e.modified()?this.value:nK(e.fields,e.flat)}function uTe(e){et.call(this,[],e),this._pending=null}It(uTe,et,{transform(e,t){const n=t.dataflow;return this._pending?Hj(this,t,this._pending):rbt(e)?t.StopPropagation:e.values?Hj(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=wn(i.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>Hj(this,t,wn(r.data)))}});function rbt(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function Hj(e,t,n){n.forEach(Zr);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function tX(e){et.call(this,{},e)}tX.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};It(tX,et,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=e.default==null?null:e.default,s=e.modified(),a=n.length;let l=s?t.SOURCE:t.ADD,u=t,c=e.as,d,f,h;return i?(f=i.length,a>1&&!c&&it('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*f&&it('The "as" parameter has too few output field names.'),c=c||i.map(vo),d=function(p){for(var m=0,g=0,v,y;m<a;++m)if(y=r.get(n[m](p)),y==null)for(v=0;v<f;++v,++g)p[c[g]]=o;else for(v=0;v<f;++v,++g)p[c[g]]=i[v](y)}):(c||it("Missing output field names."),d=function(p){for(var m=0,g;m<a;++m)g=r.get(n[m](p)),p[c[m]]=g??o}),s?u=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),l|=h?t.MOD:0),t.visit(l,d),u.modifies(c)}});function cTe(e){Ci.call(this,null,ibt,e)}It(cTe,Ci);function ibt(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,o,s;for(o=0;o<n;++o)s=t[o],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function dTe(e){Ci.call(this,null,obt,e)}It(dTe,Ci);function obt(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function fTe(e){et.call(this,null,e)}It(fTe,et,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function nX(e){k0.call(this,e)}nX.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:sk,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};It(nX,k0,{_transform:k0.prototype.transform,transform(e,t){return this._transform(sbt(e,t),t)}});function sbt(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",o=La(n).concat(La(r)),s=lbt(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(a=>abt(a,n,r,o)),as:s.map(a=>a+""),modified:e.modified.bind(e)}}function abt(e,t,n,r){return du(i=>t(i)===e?n(i):NaN,r,e+"")}function lbt(e,t,n){const r={},i=[];return n.visit(n.SOURCE,o=>{const s=e(o);r[s]||(r[s]=1,i.push(s))}),i.sort(nk),t?i.slice(0,t):i}function hTe(e){g6.call(this,e)}It(hTe,g6,{transform(e,t){const n=e.subflow,r=e.field,i=o=>this.subflow(mn(o),n,t,o);return(e.modified("field")||r&&t.modified(La(r)))&&it("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const s=i(o);r(o).forEach(a=>s.mod(a))}),t.visit(t.ADD,o=>{const s=i(o);r(o).forEach(a=>s.add(Zr(a)))}),t.visit(t.REM,o=>{const s=i(o);r(o).forEach(a=>s.rem(a))})):(t.visit(t.MOD,o=>i(o).mod(o)),t.visit(t.ADD,o=>i(o).add(o)),t.visit(t.REM,o=>i(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function rX(e){et.call(this,null,e)}rX.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};It(rX,et,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=rTe(e.fields,e.as||[]),o=r?(a,l)=>ubt(a,l,r,i):l6;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,a=>{const l=mn(a);n.rem.push(s[l]),s[l]=null}),t.visit(t.ADD,a=>{const l=o(a,Zr({}));s[mn(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(o(a,s[mn(a)]))}),n}});function ubt(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}function pTe(e){et.call(this,null,e)}It(pTe,et,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function iX(e){et.call(this,null,e)}iX.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const cbt=1e-14;It(iX,et,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,o=qK(i,e.groupby,e.field),s=(e.groupby||[]).map(vo),a=[],l=e.step||.01,u=e.probs||Nu(l/2,1-cbt,l),c=u.length;return o.forEach(d=>{const f=xK(d,u);for(let h=0;h<c;++h){const p={};for(let m=0;m<s.length;++m)p[s[m]]=d.dims[m];p[r[0]]=u[h],p[r[1]]=f[h],a.push(Zr(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function mTe(e){et.call(this,null,e)}It(mTe,et,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const o=mn(i);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,i=>{const o=vK(i);r[mn(i)]=o,n.add.push(o)}),t.visit(t.MOD,i=>{const o=r[mn(i)];for(const s in i)o[s]=i[s],n.modifies(s);n.mod.push(o)})),n}});function oX(e){et.call(this,[],e),this.count=0}oX.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};It(oX,et,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((c,d)=>(c[mn(d)]=1,c),{});let s=this.value,a=this.count,l=0;function u(c){let d,f;s.length<i?s.push(c):(f=~~((a+1)*jc()),f<s.length&&f>=l&&(d=s[f],o[mn(d)]&&n.rem.push(d),s[f]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const d=mn(c);o[d]&&(o[d]=-1,n.rem.push(c)),--a}),s=s.filter(c=>o[mn(c)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(l=a=s.length,t.visit(t.SOURCE,c=>{o[mn(c)]||u(c)}),l=-1),r&&s.length>i){const c=s.length-i;for(let d=0;d<c;++d)o[mn(s[d])]=-1,n.rem.push(s[d]);s=s.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{o[mn(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=s.filter(c=>!o[mn(c)])),this.count=a,this.value=n.source=s,n}});function sX(e){et.call(this,null,e)}sX.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};It(sX,et,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Nu(e.start,e.stop,e.step||1).map(i=>{const o={};return o[r]=i,Zr(o)}),n.add=t.add.concat(this.value),n}});function gTe(e){et.call(this,null,e),this.modified(!0)}It(gTe,et,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function aX(e){et.call(this,null,e)}const yTe=["unit0","unit1"];aX.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:uK,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:yTe}]};It(aX,et,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",o=this._floor(e,t),s=(i?PC:DC)(o.unit).offset,a=e.as||yTe,l=a[0],u=a[1],c=o.step;let d=o.start||1/0,f=o.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(La(n)))&&(t=t.reflow(!0),h=t.SOURCE,d=1/0,f=-1/0),t.visit(h,p=>{const m=n(p);let g,v;m==null?(p[l]=null,r&&(p[u]=null)):(p[l]=g=v=o(m),r&&(p[u]=v=s(g,c)),g<d&&(d=g),v>f&&(f=v))}),o.start=d,o.stop=f,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:a2e({extent:e.extent||Rh(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=cK(r),s=this.value||{},a=(n?JSe:QSe)(o,i);return a.unit=Er(o),a.units=o,a.step=i,a.start=s.start,a.stop=s.stop,this.value=a}});function vTe(e){et.call(this,kC(),e)}It(vTe,et,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=a=>i.set(r(a),a);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,o)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function bTe(e){et.call(this,null,e)}It(bTe,et,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Lb(e.sort)):t.source).map(e.field))}});function dbt(e,t,n,r){const i=$2[e](t,n);return{init:i.init||Bg,update:function(o,s){s[r]=i.next(o)}}}const $2={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=$2.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||it("ntile num must be greater than zero.");const n=$2.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||it("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=fbt(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function fbt(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const hbt=Object.keys($2);function wTe(e){const t=wn(e.ops),n=wn(e.fields),r=wn(e.params),i=wn(e.aggregate_params),o=wn(e.as),s=this.outputs=[],a=this.windows=[],l={},u={},c=[],d=[];let f=!0;function h(p){wn(La(p)).forEach(m=>l[m]=1)}h(e.sort),t.forEach((p,m)=>{const g=n[m],v=r[m],y=i[m]||null,x=vo(g),E=K2e(p,x,o[m]);if(h(g),s.push(E),Dn($2,p))a.push(dbt(p,g,v,E));else{if(g==null&&p!=="count"&&it("Null aggregate field specified."),p==="count"){c.push(E);return}f=!1;let _=u[x];_||(_=u[x]=[],_.field=g,d.push(_)),_.push(X2e(p,y,E))}}),(c.length||d.length)&&(this.cell=pbt(d,c,f)),this.inputs=Object.keys(l)}const xTe=wTe.prototype;xTe.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};xTe.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<o;++s)r[s].update(e,t)};function pbt(e,t,n){e=e.map(l=>J2e(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),s=0;s<i;++s)o[s]=new e[s](r);if(r.store)var a=r.data=new FK;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let u=0;u<i;++u)o[u].add(o[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let u=0;u<i;++u)o[u].rem(o[u].get(l),l)}},r.set=function(l){let u,c;for(a&&a.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=o.length;u<c;++u)o[u].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)o[l].init()},r}function lX(e){et.call(this,{},e),this._mlen=0,this._mods=[]}lX.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:hbt.concat(sk)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};It(lX,et,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=Lb(e.sort),i=TU(e.groupby),o=a=>this.group(i(a));let s=this.state;(!s||n)&&(s=this.state=new wTe(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)mbt(this._mods[a],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=Z2e(mn),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function mbt(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,s=r.frame||[null,0],a=e.data(n),l=a.length,u=o?AC(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||qa(-1)};t.init();for(let d=0;d<l;++d)gbt(c,s,d,l),o&&ybt(c,u),t.update(c,a[d])}function gbt(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function ybt(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,s=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<s&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const vbt=Object.freeze(Object.defineProperty({__proto__:null,aggregate:k0,bin:jK,collect:BK,compare:eTe,countpattern:zK,cross:UK,density:HK,dotbin:VK,expression:oTe,extent:WK,facet:g6,field:sTe,filter:YK,flatten:KK,fold:XK,formula:QK,generate:aTe,impute:JK,joinaggregate:ZK,kde:eX,key:lTe,load:uTe,lookup:tX,multiextent:cTe,multivalues:dTe,params:fTe,pivot:nX,prefacet:hTe,project:rX,proxy:pTe,quantile:iX,relay:mTe,sample:oX,sequence:sX,sieve:gTe,subflow:GK,timeunit:aX,tupleindex:vTe,values:bTe,window:lX},Symbol.toStringTag,{value:"Module"}));function ei(e){return function(){return e}}const pce=Math.abs,Ca=Math.atan2,Ry=Math.cos,bbt=Math.max,qj=Math.min,zf=Math.sin,gv=Math.sqrt,Ta=1e-12,Cx=Math.PI,TO=Cx/2,CTe=2*Cx;function wbt(e){return e>1?0:e<-1?Cx:Math.acos(e)}function mce(e){return e>=1?TO:e<=-1?-TO:Math.asin(e)}const kU=Math.PI,AU=2*kU,Qy=1e-6,xbt=AU-Qy;function _Te(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Cbt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _Te;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let uX=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_Te:Cbt(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,u=i-n,c=s-t,d=a-n,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Qy)if(!(Math.abs(d*l-u*c)>Qy)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,p=i-a,m=l*l+u*u,g=h*h+p*p,v=Math.sqrt(m),y=Math.sqrt(f),x=o*Math.tan((kU-Math.acos((m+f-g)/(2*v*y)))/2),E=x/y,_=x/v;Math.abs(E-1)>Qy&&this._append`L${t+E*c},${n+E*d}`,this._append`A${o},${o},0,0,${+(d*h>c*p)},${this._x1=t+_*l},${this._y1=n+_*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,d=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Qy||Math.abs(this._y1-c)>Qy)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%AU+AU),f>xbt?this._append`A${r},${r},0,1,${d},${t-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:f>Qy&&this._append`A${r},${r},0,${+(f>=kU)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function y6(){return new uX}y6.prototype=uX.prototype;function v6(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new uX(t)}function _bt(e){return e.innerRadius}function Ebt(e){return e.outerRadius}function Sbt(e){return e.startAngle}function Tbt(e){return e.endAngle}function kbt(e){return e&&e.padAngle}function Abt(e,t,n,r,i,o,s,a){var l=n-e,u=r-t,c=s-i,d=a-o,f=d*l-c*u;if(!(f*f<Ta))return f=(c*(t-o)-d*(e-i))/f,[e+f*l,t+f*u]}function zR(e,t,n,r,i,o,s){var a=e-n,l=t-r,u=(s?o:-o)/gv(a*a+l*l),c=u*l,d=-u*a,f=e+c,h=t+d,p=n+c,m=r+d,g=(f+p)/2,v=(h+m)/2,y=p-f,x=m-h,E=y*y+x*x,_=i-o,S=f*m-p*h,T=(x<0?-1:1)*gv(bbt(0,_*_*E-S*S)),k=(S*x-y*T)/E,R=(-S*y-x*T)/E,I=(S*x+y*T)/E,P=(-S*y+x*T)/E,N=k-g,M=R-v,O=I-g,j=P-v;return N*N+M*M>O*O+j*j&&(k=I,R=P),{cx:k,cy:R,x01:-c,y01:-d,x11:k*(i/_-1),y11:R*(i/_-1)}}function Rbt(){var e=_bt,t=Ebt,n=ei(0),r=null,i=Sbt,o=Tbt,s=kbt,a=null,l=v6(u);function u(){var c,d,f=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-TO,m=o.apply(this,arguments)-TO,g=pce(m-p),v=m>p;if(a||(a=c=l()),h<f&&(d=h,h=f,f=d),!(h>Ta))a.moveTo(0,0);else if(g>CTe-Ta)a.moveTo(h*Ry(p),h*zf(p)),a.arc(0,0,h,p,m,!v),f>Ta&&(a.moveTo(f*Ry(m),f*zf(m)),a.arc(0,0,f,m,p,v));else{var y=p,x=m,E=p,_=m,S=g,T=g,k=s.apply(this,arguments)/2,R=k>Ta&&(r?+r.apply(this,arguments):gv(f*f+h*h)),I=qj(pce(h-f)/2,+n.apply(this,arguments)),P=I,N=I,M,O;if(R>Ta){var j=mce(R/f*zf(k)),U=mce(R/h*zf(k));(S-=j*2)>Ta?(j*=v?1:-1,E+=j,_-=j):(S=0,E=_=(p+m)/2),(T-=U*2)>Ta?(U*=v?1:-1,y+=U,x-=U):(T=0,y=x=(p+m)/2)}var q=h*Ry(y),W=h*zf(y),V=f*Ry(_),z=f*zf(_);if(I>Ta){var L=h*Ry(x),H=h*zf(x),B=f*Ry(E),Y=f*zf(E),Q;if(g<Cx)if(Q=Abt(q,W,B,Y,L,H,V,z)){var ne=q-Q[0],ce=W-Q[1],le=L-Q[0],ue=H-Q[1],ae=1/zf(wbt((ne*le+ce*ue)/(gv(ne*ne+ce*ce)*gv(le*le+ue*ue)))/2),te=gv(Q[0]*Q[0]+Q[1]*Q[1]);P=qj(I,(f-te)/(ae-1)),N=qj(I,(h-te)/(ae+1))}else P=N=0}T>Ta?N>Ta?(M=zR(B,Y,q,W,h,N,v),O=zR(L,H,V,z,h,N,v),a.moveTo(M.cx+M.x01,M.cy+M.y01),N<I?a.arc(M.cx,M.cy,N,Ca(M.y01,M.x01),Ca(O.y01,O.x01),!v):(a.arc(M.cx,M.cy,N,Ca(M.y01,M.x01),Ca(M.y11,M.x11),!v),a.arc(0,0,h,Ca(M.cy+M.y11,M.cx+M.x11),Ca(O.cy+O.y11,O.cx+O.x11),!v),a.arc(O.cx,O.cy,N,Ca(O.y11,O.x11),Ca(O.y01,O.x01),!v))):(a.moveTo(q,W),a.arc(0,0,h,y,x,!v)):a.moveTo(q,W),!(f>Ta)||!(S>Ta)?a.lineTo(V,z):P>Ta?(M=zR(V,z,L,H,f,-P,v),O=zR(q,W,B,Y,f,-P,v),a.lineTo(M.cx+M.x01,M.cy+M.y01),P<I?a.arc(M.cx,M.cy,P,Ca(M.y01,M.x01),Ca(O.y01,O.x01),!v):(a.arc(M.cx,M.cy,P,Ca(M.y01,M.x01),Ca(M.y11,M.x11),!v),a.arc(0,0,f,Ca(M.cy+M.y11,M.cx+M.x11),Ca(O.cy+O.y11,O.cx+O.x11),v),a.arc(O.cx,O.cy,P,Ca(O.y11,O.x11),Ca(O.y01,O.x01),!v))):a.arc(0,0,f,_,E,v)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Cx/2;return[Ry(d)*c,zf(d)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:ei(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:ei(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:ei(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:ei(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:ei(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:ei(+c),u):o},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:ei(+c),u):s},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function ETe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function STe(e){this._context=e}STe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cX(e){return new STe(e)}function TTe(e){return e[0]}function kTe(e){return e[1]}function ATe(e,t){var n=ei(!0),r=null,i=cX,o=null,s=v6(a);e=typeof e=="function"?e:e===void 0?TTe:ei(e),t=typeof t=="function"?t:t===void 0?kTe:ei(t);function a(l){var u,c=(l=ETe(l)).length,d,f=!1,h;for(r==null&&(o=i(h=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(d,u,l),+t(d,u,l));if(h)return o=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:ei(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:ei(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ei(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function RTe(e,t,n){var r=null,i=ei(!0),o=null,s=cX,a=null,l=v6(u);e=typeof e=="function"?e:e===void 0?TTe:ei(+e),t=typeof t=="function"?t:ei(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?kTe:ei(+n);function u(d){var f,h,p,m=(d=ETe(d)).length,g,v=!1,y,x=new Array(m),E=new Array(m);for(o==null&&(a=s(y=l())),f=0;f<=m;++f){if(!(f<m&&i(g=d[f],f,d))===v)if(v=!v)h=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=f-1;p>=h;--p)a.point(x[p],E[p]);a.lineEnd(),a.areaEnd()}v&&(x[f]=+e(g,f,d),E[f]=+t(g,f,d),a.point(r?+r(g,f,d):x[f],n?+n(g,f,d):E[f]))}if(y)return a=null,y+""||null}function c(){return ATe().defined(i).curve(s).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:ei(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:ei(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ei(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:ei(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:ei(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ei(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ei(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),u):s},u.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),u):o},u}const Ibt={draw(e,t){const n=gv(t/Cx);e.moveTo(n,0),e.arc(0,0,n,0,CTe)}};function Dbt(e,t){let n=null,r=v6(i);e=typeof e=="function"?e:ei(e||Ibt),t=typeof t=="function"?t:ei(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ei(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ei(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function A0(){}function kO(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function b6(e){this._context=e}b6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kO(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kO(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Pbt(e){return new b6(e)}function ITe(e){this._context=e}ITe.prototype={areaStart:A0,areaEnd:A0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:kO(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Obt(e){return new ITe(e)}function DTe(e){this._context=e}DTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:kO(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Nbt(e){return new DTe(e)}function PTe(e,t){this._basis=new b6(e),this._beta=t}PTe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Mbt=(function e(t){function n(r){return t===1?new b6(r):new PTe(r,t)}return n.beta=function(r){return e(+r)},n})(.85);function AO(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function dX(e,t){this._context=e,this._k=(1-t)/6}dX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:AO(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:AO(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const $bt=(function e(t){function n(r){return new dX(r,t)}return n.tension=function(r){return e(+r)},n})(0);function fX(e,t){this._context=e,this._k=(1-t)/6}fX.prototype={areaStart:A0,areaEnd:A0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:AO(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Lbt=(function e(t){function n(r){return new fX(r,t)}return n.tension=function(r){return e(+r)},n})(0);function hX(e,t){this._context=e,this._k=(1-t)/6}hX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:AO(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Fbt=(function e(t){function n(r){return new hX(r,t)}return n.tension=function(r){return e(+r)},n})(0);function pX(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>Ta){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Ta){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function OTe(e,t){this._context=e,this._alpha=t}OTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:pX(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const jbt=(function e(t){function n(r){return t?new OTe(r,t):new dX(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function NTe(e,t){this._context=e,this._alpha=t}NTe.prototype={areaStart:A0,areaEnd:A0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:pX(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Bbt=(function e(t){function n(r){return t?new NTe(r,t):new fX(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function MTe(e,t){this._context=e,this._alpha=t}MTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:pX(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const zbt=(function e(t){function n(r){return t?new MTe(r,t):new hX(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function $Te(e){this._context=e}$Te.prototype={areaStart:A0,areaEnd:A0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Ubt(e){return new $Te(e)}function gce(e){return e<0?-1:1}function yce(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(gce(o)+gce(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function vce(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Vj(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function RO(e){this._context=e}RO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vj(this,this._t0,vce(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Vj(this,vce(this,n=yce(this,e,t)),n);break;default:Vj(this,this._t0,n=yce(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function LTe(e){this._context=new FTe(e)}(LTe.prototype=Object.create(RO.prototype)).point=function(e,t){RO.prototype.point.call(this,t,e)};function FTe(e){this._context=e}FTe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function Hbt(e){return new RO(e)}function qbt(e){return new LTe(e)}function jTe(e){this._context=e}jTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=bce(e),i=bce(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function bce(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Vbt(e){return new jTe(e)}function w6(e,t){this._context=e,this._t=t}w6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Wbt(e){return new w6(e,.5)}function Gbt(e){return new w6(e,0)}function Ybt(e){return new w6(e,1)}function d0(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const Kbt=()=>typeof Image<"u"?Image:null;function Wh(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function J0(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const RU=Symbol("implicit");function mX(){var e=new $ue,t=[],n=[],r=RU;function i(o){let s=e.get(o);if(s===void 0){if(r!==RU)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new $ue;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return mX(t,n).unknown(r)},Wh.apply(i,arguments),i}function NC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ak(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Z0(){}var Xv=.7,_x=1/Xv,Bw="\\s*([+-]?\\d+)\\s*",L2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xbt=/^#([0-9a-f]{3,8})$/,Qbt=new RegExp(`^rgb\\(${Bw},${Bw},${Bw}\\)$`),Jbt=new RegExp(`^rgb\\(${bh},${bh},${bh}\\)$`),Zbt=new RegExp(`^rgba\\(${Bw},${Bw},${Bw},${L2}\\)$`),e1t=new RegExp(`^rgba\\(${bh},${bh},${bh},${L2}\\)$`),t1t=new RegExp(`^hsl\\(${L2},${bh},${bh}\\)$`),n1t=new RegExp(`^hsla\\(${L2},${bh},${bh},${L2}\\)$`),wce={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NC(Z0,Qv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xce,formatHex:xce,formatHex8:r1t,formatHsl:i1t,formatRgb:Cce,toString:Cce});function xce(){return this.rgb().formatHex()}function r1t(){return this.rgb().formatHex8()}function i1t(){return BTe(this).formatHsl()}function Cce(){return this.rgb().formatRgb()}function Qv(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Xbt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?_ce(t):n===3?new As(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?UR(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?UR(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Qbt.exec(e))?new As(t[1],t[2],t[3],1):(t=Jbt.exec(e))?new As(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Zbt.exec(e))?UR(t[1],t[2],t[3],t[4]):(t=e1t.exec(e))?UR(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=t1t.exec(e))?Tce(t[1],t[2]/100,t[3]/100,1):(t=n1t.exec(e))?Tce(t[1],t[2]/100,t[3]/100,t[4]):wce.hasOwnProperty(e)?_ce(wce[e]):e==="transparent"?new As(NaN,NaN,NaN,0):null}function _ce(e){return new As(e>>16&255,e>>8&255,e&255,1)}function UR(e,t,n,r){return r<=0&&(e=t=n=NaN),new As(e,t,n,r)}function gX(e){return e instanceof Z0||(e=Qv(e)),e?(e=e.rgb(),new As(e.r,e.g,e.b,e.opacity)):new As}function R0(e,t,n,r){return arguments.length===1?gX(e):new As(e,t,n,r??1)}function As(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}NC(As,R0,ak(Z0,{brighter(e){return e=e==null?_x:Math.pow(_x,e),new As(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xv:Math.pow(Xv,e),new As(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new As(Dv(this.r),Dv(this.g),Dv(this.b),IO(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ece,formatHex:Ece,formatHex8:o1t,formatRgb:Sce,toString:Sce}));function Ece(){return`#${yv(this.r)}${yv(this.g)}${yv(this.b)}`}function o1t(){return`#${yv(this.r)}${yv(this.g)}${yv(this.b)}${yv((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sce(){const e=IO(this.opacity);return`${e===1?"rgb(":"rgba("}${Dv(this.r)}, ${Dv(this.g)}, ${Dv(this.b)}${e===1?")":`, ${e})`}`}function IO(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dv(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yv(e){return e=Dv(e),(e<16?"0":"")+e.toString(16)}function Tce(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Td(e,t,n,r)}function BTe(e){if(e instanceof Td)return new Td(e.h,e.s,e.l,e.opacity);if(e instanceof Z0||(e=Qv(e)),!e)return new Td;if(e instanceof Td)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Td(s,a,l,e.opacity)}function F2(e,t,n,r){return arguments.length===1?BTe(e):new Td(e,t,n,r??1)}function Td(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}NC(Td,F2,ak(Z0,{brighter(e){return e=e==null?_x:Math.pow(_x,e),new Td(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xv:Math.pow(Xv,e),new Td(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new As(Wj(e>=240?e-240:e+120,i,r),Wj(e,i,r),Wj(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Td(kce(this.h),HR(this.s),HR(this.l),IO(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=IO(this.opacity);return`${e===1?"hsl(":"hsla("}${kce(this.h)}, ${HR(this.s)*100}%, ${HR(this.l)*100}%${e===1?")":`, ${e})`}`}}));function kce(e){return e=(e||0)%360,e<0?e+360:e}function HR(e){return Math.max(0,Math.min(1,e||0))}function Wj(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const zTe=Math.PI/180,UTe=180/Math.PI,DO=18,HTe=.96422,qTe=1,VTe=.82521,WTe=4/29,zw=6/29,GTe=3*zw*zw,s1t=zw*zw*zw;function YTe(e){if(e instanceof wh)return new wh(e.l,e.a,e.b,e.opacity);if(e instanceof zp)return KTe(e);e instanceof As||(e=gX(e));var t=Xj(e.r),n=Xj(e.g),r=Xj(e.b),i=Gj((.2225045*t+.7168786*n+.0606169*r)/qTe),o,s;return t===n&&n===r?o=s=i:(o=Gj((.4360747*t+.3850649*n+.1430804*r)/HTe),s=Gj((.0139322*t+.0971045*n+.7141733*r)/VTe)),new wh(116*i-16,500*(o-i),200*(i-s),e.opacity)}function PO(e,t,n,r){return arguments.length===1?YTe(e):new wh(e,t,n,r??1)}function wh(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}NC(wh,PO,ak(Z0,{brighter(e){return new wh(this.l+DO*(e??1),this.a,this.b,this.opacity)},darker(e){return new wh(this.l-DO*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=HTe*Yj(t),e=qTe*Yj(e),n=VTe*Yj(n),new As(Kj(3.1338561*t-1.6168667*e-.4906146*n),Kj(-.9787684*t+1.9161415*e+.033454*n),Kj(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Gj(e){return e>s1t?Math.pow(e,1/3):e/GTe+WTe}function Yj(e){return e>zw?e*e*e:GTe*(e-WTe)}function Kj(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Xj(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function a1t(e){if(e instanceof zp)return new zp(e.h,e.c,e.l,e.opacity);if(e instanceof wh||(e=YTe(e)),e.a===0&&e.b===0)return new zp(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*UTe;return new zp(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function OO(e,t,n,r){return arguments.length===1?a1t(e):new zp(e,t,n,r??1)}function zp(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function KTe(e){if(isNaN(e.h))return new wh(e.l,0,0,e.opacity);var t=e.h*zTe;return new wh(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}NC(zp,OO,ak(Z0,{brighter(e){return new zp(this.h,this.c,this.l+DO*(e??1),this.opacity)},darker(e){return new zp(this.h,this.c,this.l-DO*(e??1),this.opacity)},rgb(){return KTe(this).rgb()}}));var XTe=-.14861,yX=1.78277,vX=-.29227,x6=-.90649,j2=1.97294,Ace=j2*x6,Rce=j2*yX,Ice=yX*vX-x6*XTe;function l1t(e){if(e instanceof Pv)return new Pv(e.h,e.s,e.l,e.opacity);e instanceof As||(e=gX(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Ice*r+Ace*t-Rce*n)/(Ice+Ace-Rce),o=r-i,s=(j2*(n-i)-vX*o)/x6,a=Math.sqrt(s*s+o*o)/(j2*i*(1-i)),l=a?Math.atan2(s,o)*UTe-120:NaN;return new Pv(l<0?l+360:l,a,i,e.opacity)}function IU(e,t,n,r){return arguments.length===1?l1t(e):new Pv(e,t,n,r??1)}function Pv(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}NC(Pv,IU,ak(Z0,{brighter(e){return e=e==null?_x:Math.pow(_x,e),new Pv(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xv:Math.pow(Xv,e),new Pv(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*zTe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new As(255*(t+n*(XTe*r+yX*i)),255*(t+n*(vX*r+x6*i)),255*(t+n*(j2*r)),this.opacity)}}));function QTe(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function JTe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return QTe((n-r/t)*t,s,i,o,a)}}function ZTe(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return QTe((n-r/t)*t,i,o,s,a)}}const C6=e=>()=>e;function eke(e,t){return function(n){return e+n*t}}function u1t(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function _6(e,t){var n=t-e;return n?eke(e,n>180||n<-180?n-360*Math.round(n/360):n):C6(isNaN(e)?t:e)}function c1t(e){return(e=+e)==1?Rs:function(t,n){return n-t?u1t(t,n,e):C6(isNaN(t)?n:t)}}function Rs(e,t){var n=t-e;return n?eke(e,n):C6(isNaN(e)?t:e)}const B2=(function e(t){var n=c1t(t);function r(i,o){var s=n((i=R0(i)).r,(o=R0(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=Rs(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r})(1);function tke(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=R0(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var d1t=tke(JTe),f1t=tke(ZTe);function bX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function nke(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function h1t(e,t){return(nke(t)?bX:rke)(e,t)}function rke(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=ey(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function ike(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function vc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function oke(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ey(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var DU=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qj=new RegExp(DU.source,"g");function p1t(e){return function(){return e}}function m1t(e){return function(t){return e(t)+""}}function wX(e,t){var n=DU.lastIndex=Qj.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=DU.exec(e))&&(i=Qj.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:vc(r,i)})),n=Qj.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?m1t(l[0].x):p1t(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function ey(e,t){var n=typeof t,r;return t==null||n==="boolean"?C6(t):(n==="number"?vc:n==="string"?(r=Qv(t))?(t=r,B2):wX:t instanceof Qv?B2:t instanceof Date?ike:nke(t)?bX:Array.isArray(t)?rke:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?oke:vc)(e,t)}function g1t(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function y1t(e,t){var n=_6(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function lk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Dce=180/Math.PI,PU={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ske(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Dce,skewX:Math.atan(l)*Dce,scaleX:s,scaleY:a}}var qR;function v1t(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?PU:ske(t.a,t.b,t.c,t.d,t.e,t.f)}function b1t(e){return e==null||(qR||(qR=document.createElementNS("http://www.w3.org/2000/svg","g")),qR.setAttribute("transform",e),!(e=qR.transform.baseVal.consolidate()))?PU:(e=e.matrix,ske(e.a,e.b,e.c,e.d,e.e,e.f))}function ake(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,d,f,h,p){if(u!==d||c!==f){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:vc(u,d)},{i:m-2,x:vc(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function s(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:vc(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:vc(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,f,h,p){if(u!==d||c!==f){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:vc(u,d)},{i:m-2,x:vc(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,d,f),s(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var p=-1,m=f.length,g;++p<m;)d[(g=f[p]).i]=g.x(h);return d.join("")}}}var lke=ake(v1t,"px, ","px)","deg)"),uke=ake(b1t,", ",")",")"),w1t=1e-12;function Pce(e){return((e=Math.exp(e))+1/e)/2}function x1t(e){return((e=Math.exp(e))-1/e)/2}function C1t(e){return((e=Math.exp(2*e))-1)/(e+1)}const _1t=(function e(t,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],d=s[1],f=s[2],h=c-a,p=d-l,m=h*h+p*p,g,v;if(m<w1t)v=Math.log(f/u)/t,g=function(T){return[a+T*h,l+T*p,u*Math.exp(t*T*v)]};else{var y=Math.sqrt(m),x=(f*f-u*u+r*m)/(2*u*n*y),E=(f*f-u*u-r*m)/(2*f*n*y),_=Math.log(Math.sqrt(x*x+1)-x),S=Math.log(Math.sqrt(E*E+1)-E);v=(S-_)/t,g=function(T){var k=T*v,R=Pce(_),I=u/(n*y)*(R*C1t(t*k+_)-x1t(_));return[a+I*h,l+I*p,u*R/Pce(t*k+_)]}}return g.duration=v*1e3*t/Math.SQRT2,g}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i})(Math.SQRT2,2,4);function cke(e){return function(t,n){var r=e((t=F2(t)).h,(n=F2(n)).h),i=Rs(t.s,n.s),o=Rs(t.l,n.l),s=Rs(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const E1t=cke(_6);var S1t=cke(Rs);function T1t(e,t){var n=Rs((e=PO(e)).l,(t=PO(t)).l),r=Rs(e.a,t.a),i=Rs(e.b,t.b),o=Rs(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function dke(e){return function(t,n){var r=e((t=OO(t)).h,(n=OO(n)).h),i=Rs(t.c,n.c),o=Rs(t.l,n.l),s=Rs(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const k1t=dke(_6);var A1t=dke(Rs);function fke(e){return(function t(n){n=+n;function r(i,o){var s=e((i=IU(i)).h,(o=IU(o)).h),a=Rs(i.s,o.s),l=Rs(i.l,o.l),u=Rs(i.opacity,o.opacity);return function(c){return i.h=s(c),i.s=a(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r})(1)}const R1t=fke(_6);var I1t=fke(Rs);function xX(e,t){t===void 0&&(t=e,e=ey);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function D1t(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const P1t=Object.freeze(Object.defineProperty({__proto__:null,interpolate:ey,interpolateArray:h1t,interpolateBasis:JTe,interpolateBasisClosed:ZTe,interpolateCubehelix:R1t,interpolateCubehelixLong:I1t,interpolateDate:ike,interpolateDiscrete:g1t,interpolateHcl:k1t,interpolateHclLong:A1t,interpolateHsl:E1t,interpolateHslLong:S1t,interpolateHue:y1t,interpolateLab:T1t,interpolateNumber:vc,interpolateNumberArray:bX,interpolateObject:oke,interpolateRgb:B2,interpolateRgbBasis:d1t,interpolateRgbBasisClosed:f1t,interpolateRound:lk,interpolateString:wX,interpolateTransformCss:lke,interpolateTransformSvg:uke,interpolateZoom:_1t,piecewise:xX,quantize:D1t},Symbol.toStringTag,{value:"Module"}));function O1t(e){return function(){return e}}function OU(e){return+e}var Oce=[0,1];function Kl(e){return e}function NU(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:O1t(isNaN(t)?NaN:.5)}function N1t(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function M1t(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=NU(i,r),o=n(s,o)):(r=NU(r,i),o=n(o,s)),function(a){return o(r(a))}}function $1t(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=NU(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=S0(e,a,1,r)-1;return o[l](i[l](a))}}function uk(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function E6(){var e=Oce,t=Oce,n=ey,r,i,o,s=Kl,a,l,u;function c(){var f=Math.min(e.length,t.length);return s!==Kl&&(s=N1t(e[0],e[f-1])),a=f>2?$1t:M1t,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=a(e.map(r),t,n)))(r(s(f)))}return d.invert=function(f){return s(i((u||(u=a(t,e.map(r),vc)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,OU),c()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=lk,c()},d.clamp=function(f){return arguments.length?(s=f?!0:Kl,c()):s!==Kl},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,h){return r=f,i=h,c()}}function hke(){return E6()(Kl,Kl)}function pke(e,t,n,r){var i=T0(e,t,n),o;switch(r=Kv(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=jSe(i,s))&&(r.precision=o),aK(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=BSe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=FSe(i))&&(r.precision=o-(r.type==="%")*2);break}}return ZM(r)}function jb(e){var t=e.domain;return e.ticks=function(n){var r=t();return hU(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return pke(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=pU(s,a,n),u===l)return r[i]=s,r[o]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function Jv(){var e=hke();return e.copy=function(){return uk(e,Jv())},Wh.apply(e,arguments),jb(e)}function mke(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,OU),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return mke(e).unknown(t)},e=arguments.length?Array.from(e,OU):[0,1],jb(n)}function gke(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function Nce(e){return Math.log(e)}function Mce(e){return Math.exp(e)}function L1t(e){return-Math.log(-e)}function F1t(e){return-Math.exp(-e)}function j1t(e){return isFinite(e)?+("1e"+e):e<0?0:e}function B1t(e){return e===10?j1t:e===Math.E?Math.exp:t=>Math.pow(e,t)}function z1t(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $ce(e){return(t,n)=>-e(-t,n)}function CX(e){const t=e(Nce,Mce),n=t.domain;let r=10,i,o;function s(){return i=z1t(r),o=B1t(r),n()[0]<0?(i=$ce(i),o=$ce(o),e(L1t,F1t)):e(Nce,Mce),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),h=i(c),p,m;const g=a==null?10:+a;let v=[];if(!(r%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(p=1;p<r;++p)if(m=f<0?p/o(-f):p*o(f),!(m<u)){if(m>c)break;v.push(m)}}else for(;f<=h;++f)for(p=r-1;p>=1;--p)if(m=f>0?p/o(-f):p*o(f),!(m<u)){if(m>c)break;v.push(m)}v.length*2<g&&(v=hU(u,c,g))}else v=hU(f,h,Math.min(h-f,g)).map(o);return d?v.reverse():v},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Kv(l)).precision==null&&(l.trim=!0),l=ZM(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(gke(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function yke(){const e=CX(E6()).domain([1,10]);return e.copy=()=>uk(e,yke()).base(e.base()),Wh.apply(e,arguments),e}function Lce(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Fce(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _X(e){var t=1,n=e(Lce(t),Fce(t));return n.constant=function(r){return arguments.length?e(Lce(t=+r),Fce(t)):t},jb(n)}function vke(){var e=_X(E6());return e.copy=function(){return uk(e,vke()).constant(e.constant())},Wh.apply(e,arguments)}function jce(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function U1t(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function H1t(e){return e<0?-e*e:e*e}function EX(e){var t=e(Kl,Kl),n=1;function r(){return n===1?e(Kl,Kl):n===.5?e(U1t,H1t):e(jce(n),jce(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},jb(t)}function SX(){var e=EX(E6());return e.copy=function(){return uk(e,SX()).exponent(e.exponent())},Wh.apply(e,arguments),e}function q1t(){return SX.apply(null,arguments).exponent(.5)}function bke(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=PSe(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[S0(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Qp),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return bke().domain(e).range(t).unknown(r)},Wh.apply(o,arguments)}function wke(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[S0(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return wke().domain([e,t]).range(i).unknown(o)},Wh.apply(jb(s),arguments)}function xke(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[S0(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return xke().domain(e).range(t).unknown(n)},Wh.apply(i,arguments)}function V1t(e){return new Date(e)}function W1t(e){return e instanceof Date?+e:+new Date(+e)}function TX(e,t,n,r,i,o,s,a,l,u){var c=hke(),d=c.invert,f=c.domain,h=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),v=u("%a %d"),y=u("%b %d"),x=u("%B"),E=u("%Y");function _(S){return(l(S)<S?h:a(S)<S?p:s(S)<S?m:o(S)<S?g:r(S)<S?i(S)<S?v:y:n(S)<S?x:E)(S)}return c.invert=function(S){return new Date(d(S))},c.domain=function(S){return arguments.length?f(Array.from(S,W1t)):f().map(V1t)},c.ticks=function(S){var T=f();return e(T[0],T[T.length-1],S??10)},c.tickFormat=function(S,T){return T==null?_:u(T)},c.nice=function(S){var T=f();return(!S||typeof S.range!="function")&&(S=t(T[0],T[T.length-1],S??10)),S?f(gke(T,S)):c},c.copy=function(){return uk(c,TX(e,t,n,r,i,o,s,a,l,u))},c}function G1t(){return Wh.apply(TX(n0t,r0t,Ih,P2,RC,Jp,n6,e6,Bp,fK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Y1t(){return Wh.apply(TX(e0t,t0t,Dh,O2,IC,u0,r6,t6,Bp,hK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function S6(){var e=0,t=1,n,r,i,o,s=Kl,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(f){var h,p;return arguments.length?([h,p]=f,s=d(h,p),u):[s(0),s(1)]}}return u.range=c(ey),u.rangeRound=c(lk),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function ty(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function kX(){var e=jb(S6()(Kl));return e.copy=function(){return ty(e,kX())},J0.apply(e,arguments)}function Cke(){var e=CX(S6()).domain([1,10]);return e.copy=function(){return ty(e,Cke()).base(e.base())},J0.apply(e,arguments)}function _ke(){var e=_X(S6());return e.copy=function(){return ty(e,_ke()).constant(e.constant())},J0.apply(e,arguments)}function AX(){var e=EX(S6());return e.copy=function(){return ty(e,AX()).exponent(e.exponent())},J0.apply(e,arguments)}function K1t(){return AX.apply(null,arguments).exponent(.5)}function T6(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,u=Kl,c,d=!1,f;function h(m){return isNaN(m=+m)?f:(m=.5+((m=+c(m))-o)*(r*m<r*o?a:l),u(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,i=c(e=+e),o=c(t=+t),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(u=m,h):u};function p(m){return function(g){var v,y,x;return arguments.length?([v,y,x]=g,u=xX(m,[v,y,x]),h):[u(0),u(.5),u(1)]}}return h.range=p(ey),h.rangeRound=p(lk),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return c=m,i=m(e),o=m(t),s=m(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h}}function Eke(){var e=jb(T6()(Kl));return e.copy=function(){return ty(e,Eke())},J0.apply(e,arguments)}function Ske(){var e=CX(T6()).domain([.1,1,10]);return e.copy=function(){return ty(e,Ske()).base(e.base())},J0.apply(e,arguments)}function Tke(){var e=_X(T6());return e.copy=function(){return ty(e,Tke()).constant(e.constant())},J0.apply(e,arguments)}function RX(){var e=EX(T6());return e.copy=function(){return ty(e,RX()).exponent(e.exponent())},J0.apply(e,arguments)}function X1t(){return RX.apply(null,arguments).exponent(.5)}function Gh(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Q1t=Gh("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),J1t=Gh("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Z1t=Gh("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),ewt=Gh("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),twt=Gh("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),nwt=Gh("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),rwt=Gh("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),iwt=Gh("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),owt=Gh("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),swt=Gh("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function IX(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const awt="identity",Ex="linear",ym="log",ck="pow",dk="sqrt",k6="symlog",Zv="time",eb="utc",xh="sequential",MC="diverging",Sx="quantile",A6="quantize",R6="threshold",DX="ordinal",MU="point",kke="band",PX="bin-ordinal",hs="continuous",fk="discrete",hk="discretizing",Qc="interpolating",OX="temporal";function lwt(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function uwt(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,s,a,l,u;for(i<r&&(a=r,r=i,i=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(o<0&&(o=l),s=l);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function NX(){const e=mX().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,s=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const d=t().length,f=r[1]<r[0],h=r[1-f],p=IX(d,a,l);let m=r[f-0];i=(h-m)/(p||1),s&&(i=Math.floor(i)),m+=(h-m-i*(d-a))*u,o=i*(1-a),s&&(m=Math.round(m),o=Math.round(o));const g=Nu(d).map(v=>m+i*v);return n(f?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?(r=[+d[0],+d[1]],c()):r.slice()},e.rangeRound=function(d){return r=[+d[0],+d[1]],s=!0,c()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(d){return arguments.length?(s=!!d,c()):s},e.padding=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),a=l,c()):a},e.paddingInner=function(d){return arguments.length?(a=Math.max(0,Math.min(1,d)),c()):a},e.paddingOuter=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),c()):l},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),c()):u},e.invertRange=function(d){if(d[0]==null||d[1]==null)return;const f=r[1]<r[0],h=f?n().reverse():n(),p=h.length-1;let m=+d[0],g=+d[1],v,y,x;if(!(m!==m||g!==g)&&(g<m&&(x=m,m=g,g=x),!(g<h[0]||m>r[1-f])))return v=Math.max(0,S0(h,m)-1),y=m===g?v:S0(h,g)-1,m-h[v]>o+1e-10&&++v,f&&(x=v,v=p-y,y=p-x),v>y?void 0:t().slice(v,y+1)},e.invert=function(d){const f=e.invertRange([d,d]);return f&&f[0]},e.copy=function(){return NX().domain(t()).range(r).round(s).paddingInner(a).paddingOuter(l).align(u)},c()}function Ake(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return Ake(t())},e}function cwt(){return Ake(NX().paddingInner(1))}var dwt=Array.prototype.map;function fwt(e){return dwt.call(e,Na)}const hwt=Array.prototype.slice;function Rke(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(S0(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=fwt(r),n):e.slice()},n.range=function(r){return arguments.length?(t=hwt.call(r),n):t.slice()},n.tickFormat=function(r,i){return pke(e[0],Er(e),r??10,i)},n.copy=function(){return Rke().domain(n.domain()).range(n.range())},n}const NO=new Map,Ike=Symbol("vega_scale");function Dke(e){return e[Ike]=!0,e}function Bce(e){return e&&e[Ike]===!0}function pwt(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?lwt(o):o.invertExtent?uwt(o):void 0),o.type=e,Dke(o)};return r.metadata=Jd(wn(n)),r}function Gr(e,t,n){return arguments.length>1?(NO.set(e,pwt(e,t,n)),this):Pke(e)?NO.get(e):void 0}Gr(awt,mke);Gr(Ex,Jv,hs);Gr(ym,yke,[hs,ym]);Gr(ck,SX,hs);Gr(dk,q1t,hs);Gr(k6,vke,hs);Gr(Zv,G1t,[hs,OX]);Gr(eb,Y1t,[hs,OX]);Gr(xh,kX,[hs,Qc]);Gr(`${xh}-${Ex}`,kX,[hs,Qc]);Gr(`${xh}-${ym}`,Cke,[hs,Qc,ym]);Gr(`${xh}-${ck}`,AX,[hs,Qc]);Gr(`${xh}-${dk}`,K1t,[hs,Qc]);Gr(`${xh}-${k6}`,_ke,[hs,Qc]);Gr(`${MC}-${Ex}`,Eke,[hs,Qc]);Gr(`${MC}-${ym}`,Ske,[hs,Qc,ym]);Gr(`${MC}-${ck}`,RX,[hs,Qc]);Gr(`${MC}-${dk}`,X1t,[hs,Qc]);Gr(`${MC}-${k6}`,Tke,[hs,Qc]);Gr(Sx,bke,[hk,Sx]);Gr(A6,wke,hk);Gr(R6,xke,hk);Gr(PX,Rke,[fk,hk]);Gr(DX,mX,fk);Gr(kke,NX,fk);Gr(MU,cwt,fk);function Pke(e){return NO.has(e)}function Bb(e,t){const n=NO.get(e);return n&&n.metadata[t]}function MX(e){return Bb(e,hs)}function Tx(e){return Bb(e,fk)}function $U(e){return Bb(e,hk)}function Oke(e){return Bb(e,ym)}function mwt(e){return Bb(e,OX)}function Nke(e){return Bb(e,Qc)}function Mke(e){return Bb(e,Sx)}const gwt=["clamp","base","constant","exponent"];function $ke(e,t){const n=t[0],r=Er(t)-n;return function(i){return e(n+i*r)}}function I6(e,t,n){return xX($X(t||"rgb",n),e)}function Lke(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function Fke(e,t,n){const r=n-t;let i,o,s;return!r||!Number.isFinite(r)?qa(.5):(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),s=Gr(o)().domain([t,n]).range([0,1]),gwt.forEach(a=>e[a]?s[a](e[a]()):0),s)}function $X(e,t){const n=P1t[ywt(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function ywt(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const vwt={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},bwt={accent:J1t,category10:Q1t,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:Z1t,observable10:ewt,paired:twt,pastel1:nwt,pastel2:rwt,set1:iwt,set2:owt,set3:swt,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function jke(e){if(cn(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function Bke(e,t){for(const n in e)LX(n,t(e[n]))}const zce={};Bke(bwt,jke);Bke(vwt,e=>I6(jke(e)));function LX(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(zce[e]=t,this):zce[e]}const OP="symbol",wwt="discrete",xwt="gradient",Cwt=e=>cn(e)?e.map(t=>String(t)):String(e),_wt=(e,t)=>e[1]-t[1],Ewt=(e,t)=>t[1]-e[1];function FX(e,t,n){let r;return E0(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(rk(e.domain())/n||1)+1))),Gn(t)&&(r=t.step,t=t.interval),Vr(t)&&(t=e.type===Zv?DC(t):e.type==eb?PC(t):it("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function zke(e,t,n){let r=e.range(),i=r[0],o=Er(r),s=_wt;if(i>o&&(r=o,o=i,i=r,s=Ewt),i=Math.floor(i),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=o).sort(s).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],Er(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=a)}return t}function jX(e,t){return e.bins?zke(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function Uke(e,t,n,r,i,o){const s=t.type;let a=Cwt;if(s===Zv||i===Zv)a=e.timeFormat(r);else if(s===eb||i===eb)a=e.utcFormat(r);else if(Oke(s)){const l=e.formatFloat(r);if(o||t.bins)a=l;else{const u=Hke(t,n,!1);a=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function Hke(e,t,n){const r=jX(e,t),i=e.base(),o=Math.log(i),s=Math.max(1,i*t/r.length),a=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/o));return u*i<i-.5&&(u*=i),u<=s};return n?r.filter(a):a}const LU={[Sx]:"quantiles",[A6]:"thresholds",[R6]:"domain"},qke={[Sx]:"quantiles",[A6]:"domain"};function Vke(e,t){return e.bins?kwt(e.bins):e.type===ym?Hke(e,t,!0):LU[e.type]?Twt(e[LU[e.type]]()):jX(e,t)}function Swt(e,t,n){const r=t[qke[t.type]](),i=r.length;let o=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)o=Math.min(o,r[s]-r[s-1]);return e.formatSpan(0,o,30,n)}function Twt(e){const t=[-1/0].concat(e);return t.max=1/0,t}function kwt(e){const t=e.slice(0,-1);return t.max=Er(e),t}const Awt=e=>LU[e.type]||e.bins;function Wke(e,t,n,r,i,o,s){const a=qke[t.type]&&o!==Zv&&o!==eb?Swt(e,t,i):Uke(e,t,n,i,o,s);return r===OP&&Awt(t)?Rwt(a):r===wwt?Iwt(a):Dwt(a)}const Rwt=e=>(t,n,r)=>{const i=Uce(r[n+1],Uce(r.max,1/0)),o=Hce(t,e),s=Hce(i,e);return o&&s?o+"  "+s:s?"< "+s:" "+o},Uce=(e,t)=>e??t,Iwt=e=>(t,n)=>n?e(t):null,Dwt=e=>t=>e(t),Hce=(e,t)=>Number.isFinite(e)?t(e):null;function Pwt(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+Er(t),o=i-r;if(e.type===R6){const s=n?o/n:.1;r-=s,i+=s,o=i-r}return s=>(s-r)/o}function Owt(e,t,n,r){const i=r||t.type;return Vr(n)&&mwt(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===Zv?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===eb?e.utcFormat("%A, %d %B %Y, %X UTC"):Wke(e,t,5,null,n,r,!0)}function Gke(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=Owt(e,t,n.format,n.formatType);if($U(t.type)){const o=Vke(t).slice(1).map(i),s=o.length;return`${s} boundar${s===1?"y":"ies"}: ${o.join(", ")}`}else if(Tx(t.type)){const o=t.domain(),s=o.length,a=s>r?o.slice(0,r-2).map(i).join(", ")+", ending with "+o.slice(-1).map(i):o.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${a}`}else{const o=t.domain();return`values from ${i(o[0])} to ${i(Er(o))}`}}let Yke=0;function Nwt(){Yke=0}const MO="p_";function BX(e){return e&&e.gradient}function Kke(e,t,n){const r=e.gradient;let i=e.id,o=r==="radial"?MO:"";return i||(i=e.id="gradient_"+Yke++,r==="radial"?(e.x1=Uf(e.x1,.5),e.y1=Uf(e.y1,.5),e.r1=Uf(e.r1,0),e.x2=Uf(e.x2,.5),e.y2=Uf(e.y2,.5),e.r2=Uf(e.r2,.5),o=MO):(e.x1=Uf(e.x1,0),e.y1=Uf(e.y1,0),e.x2=Uf(e.x2,1),e.y2=Uf(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function Uf(e,t){return e??t}function Xke(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,o){return n.push({offset:i,color:o}),r}}}const qce={basis:{curve:Pbt},"basis-closed":{curve:Obt},"basis-open":{curve:Nbt},bundle:{curve:Mbt,tension:"beta",value:.85},cardinal:{curve:$bt,tension:"tension",value:0},"cardinal-open":{curve:Fbt,tension:"tension",value:0},"cardinal-closed":{curve:Lbt,tension:"tension",value:0},"catmull-rom":{curve:jbt,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Bbt,tension:"alpha",value:.5},"catmull-rom-open":{curve:zbt,tension:"alpha",value:.5},linear:{curve:cX},"linear-closed":{curve:Ubt},monotone:{horizontal:qbt,vertical:Hbt},natural:{curve:Vbt},step:{curve:Wbt},"step-after":{curve:Ybt},"step-before":{curve:Gbt}};function zX(e,t,n){var r=Dn(qce,e)&&qce[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const Mwt={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},$wt=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Lwt=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,Fwt=/^((\s+,?\s*)|(,\s*))/,jwt=/^[01]/;function kx(e){const t=[];return(e.match($wt)||[]).forEach(r=>{let i=r[0];const o=i.toLowerCase(),s=Mwt[o],a=Bwt(o,s,r.slice(1).trim()),l=a.length;if(l<s||l&&l%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,s)]),l!==s){o==="m"&&(i=i==="M"?"L":"l");for(let u=s;u<l;u+=s)t.push([i,...a.slice(u,u+s)])}}),t}function Bwt(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const s=e==="a"&&(o===3||o===4)?jwt:Lwt,a=n.slice(i).match(s);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(Fwt);l!==null&&(i+=l[0].length)}return r}const I0=Math.PI/180,zwt=1e-14,rv=Math.PI/2,th=Math.PI*2,B1=Math.sqrt(3)/2;var Jj={},Zj={},Qke=[].join;function Uwt(e,t,n,r,i,o,s,a,l){const u=Qke.call(arguments);if(Jj[u])return Jj[u];const c=s*I0,d=Math.sin(c),f=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=f*(a-e)*.5+d*(l-t)*.5,p=f*(l-t)*.5-d*(a-e)*.5;let m=h*h/(n*n)+p*p/(r*r);m>1&&(m=Math.sqrt(m),n*=m,r*=m);const g=f/n,v=d/n,y=-d/r,x=f/r,E=g*a+v*l,_=y*a+x*l,S=g*e+v*t,T=y*e+x*t;let R=1/((S-E)*(S-E)+(T-_)*(T-_))-.25;R<0&&(R=0);let I=Math.sqrt(R);o==i&&(I=-I);const P=.5*(E+S)-I*(T-_),N=.5*(_+T)+I*(S-E),M=Math.atan2(_-N,E-P);let j=Math.atan2(T-N,S-P)-M;j<0&&o===1?j+=th:j>0&&o===0&&(j-=th);const U=Math.ceil(Math.abs(j/(rv+.001))),q=[];for(let W=0;W<U;++W){const V=M+W*j/U,z=M+(W+1)*j/U;q[W]=[P,N,V,z,n,r,d,f]}return Jj[u]=q}function Hwt(e){const t=Qke.call(e);if(Zj[t])return Zj[t];var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7];const c=u*s,d=-l*a,f=l*s,h=u*a,p=Math.cos(i),m=Math.sin(i),g=Math.cos(o),v=Math.sin(o),y=.5*(o-i),x=Math.sin(y*.5),E=8/3*x*x/Math.sin(y),_=n+p-E*m,S=r+m+E*p,T=n+g,k=r+v,R=T+E*v,I=k-E*g;return Zj[t]=[c*_+d*S,f*_+h*S,c*R+d*I,f*R+h*I,c*T+d*k,f*T+h*k]}const dc=["l",0,0,0,0,0,0,0];function qwt(e,t,n){const r=dc[0]=e[0];if(r==="a"||r==="A")dc[1]=t*e[1],dc[2]=n*e[2],dc[3]=e[3],dc[4]=e[4],dc[5]=e[5],dc[6]=t*e[6],dc[7]=n*e[7];else if(r==="h"||r==="H")dc[1]=t*e[1];else if(r==="v"||r==="V")dc[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)dc[i]=(i%2==1?t:n)*e[i];return dc}function z2(e,t,n,r,i,o){var s,a=null,l=0,u=0,c=0,d=0,f,h,p,m,g=0,v=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),o==null&&(o=i),e.beginPath&&e.beginPath();for(var y=0,x=t.length;y<x;++y){switch(s=t[y],(i!==1||o!==1)&&(s=qwt(s,i,o)),s[0]){case"l":l+=s[1],u+=s[2],e.lineTo(l+n,u+r);break;case"L":l=s[1],u=s[2],e.lineTo(l+n,u+r);break;case"h":l+=s[1],e.lineTo(l+n,u+r);break;case"H":l=s[1],e.lineTo(l+n,u+r);break;case"v":u+=s[1],e.lineTo(l+n,u+r);break;case"V":u=s[1],e.lineTo(l+n,u+r);break;case"m":l+=s[1],u+=s[2],g=l,v=u,e.moveTo(l+n,u+r);break;case"M":l=s[1],u=s[2],g=l,v=u,e.moveTo(l+n,u+r);break;case"c":f=l+s[5],h=u+s[6],c=l+s[3],d=u+s[4],e.bezierCurveTo(l+s[1]+n,u+s[2]+r,c+n,d+r,f+n,h+r),l=f,u=h;break;case"C":l=s[5],u=s[6],c=s[3],d=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,c+n,d+r,l+n,u+r);break;case"s":f=l+s[3],h=u+s[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,l+s[1]+n,u+s[2]+r,f+n,h+r),c=l+s[1],d=u+s[2],l=f,u=h;break;case"S":f=s[3],h=s[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,s[1]+n,s[2]+r,f+n,h+r),l=f,u=h,c=s[1],d=s[2];break;case"q":f=l+s[3],h=u+s[4],c=l+s[1],d=u+s[2],e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h;break;case"Q":f=s[3],h=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,f+n,h+r),l=f,u=h,c=s[1],d=s[2];break;case"t":f=l+s[1],h=u+s[2],a[0].match(/[QqTt]/)===null?(c=l,d=u):a[0]==="t"?(c=2*l-p,d=2*u-m):a[0]==="q"&&(c=2*l-c,d=2*u-d),p=c,m=d,e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h,c=l+s[1],d=u+s[2];break;case"T":f=s[1],h=s[2],c=2*l-c,d=2*u-d,e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h;break;case"a":Vce(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+l+n,s[7]+u+r]),l+=s[6],u+=s[7];break;case"A":Vce(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),l=s[6],u=s[7];break;case"z":case"Z":l=g,u=v,e.closePath();break}a=s}}function Vce(e,t,n,r){const i=Uwt(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const s=Hwt(i[o]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const Wce=.5773502691896257,Gce={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,th)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=B1*n,i=r-n*Wce,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=B1*n,i=r-n*Wce;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=B1*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=B1*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=B1*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=B1*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Jke(e){return Dn(Gce,e)?Gce[e]:Vwt(e)}var e9={};function Vwt(e){if(!Dn(e9,e)){const t=kx(e);e9[e]={draw:function(n,r){z2(n,t,0,0,Math.sqrt(r)/2)}}}return e9[e]}const gg=.448084975506;function Wwt(e){return e.x}function Gwt(e){return e.y}function Ywt(e){return e.width}function Kwt(e){return e.height}function yp(e){return typeof e=="function"?e:()=>+e}function VR(e,t,n){return Math.max(t,Math.min(e,n))}function Zke(){var e=Wwt,t=Gwt,n=Ywt,r=Kwt,i=yp(0),o=i,s=i,a=i,l=null;function u(c,d,f){var h,p=d??+e.call(this,c),m=f??+t.call(this,c),g=+n.call(this,c),v=+r.call(this,c),y=Math.min(g,v)/2,x=VR(+i.call(this,c),0,y),E=VR(+o.call(this,c),0,y),_=VR(+s.call(this,c),0,y),S=VR(+a.call(this,c),0,y);if(l||(l=h=y6()),x<=0&&E<=0&&_<=0&&S<=0)l.rect(p,m,g,v);else{var T=p+g,k=m+v;l.moveTo(p+x,m),l.lineTo(T-E,m),l.bezierCurveTo(T-gg*E,m,T,m+gg*E,T,m+E),l.lineTo(T,k-S),l.bezierCurveTo(T,k-gg*S,T-gg*S,k,T-S,k),l.lineTo(p+_,k),l.bezierCurveTo(p+gg*_,k,p,k-gg*_,p,k-_),l.lineTo(p,m+x),l.bezierCurveTo(p,m+gg*x,p+gg*x,m,p+x,m),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(c){return arguments.length?(e=yp(c),u):e},u.y=function(c){return arguments.length?(t=yp(c),u):t},u.width=function(c){return arguments.length?(n=yp(c),u):n},u.height=function(c){return arguments.length?(r=yp(c),u):r},u.cornerRadius=function(c,d,f,h){return arguments.length?(i=yp(c),o=d!=null?yp(d):i,a=f!=null?yp(f):i,s=h!=null?yp(h):o,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function eAe(){var e,t,n,r,i=null,o,s,a,l;function u(d,f,h){const p=h/2;if(o){var m=a-f,g=d-s;if(m||g){var v=Math.hypot(m,g),y=(m/=v)*l,x=(g/=v)*l,E=Math.atan2(g,m);i.moveTo(s-y,a-x),i.lineTo(d-m*p,f-g*p),i.arc(d,f,p,E-Math.PI,E),i.lineTo(s+y,a+x),i.arc(s,a,l,E,E+Math.PI)}else i.arc(d,f,p,0,th);i.closePath()}else o=1;s=d,a=f,l=p}function c(d){var f,h=d.length,p,m=!1,g;for(i==null&&(i=g=y6()),f=0;f<=h;++f)!(f<h&&r(p=d[f],f,d))===m&&(m=!m)&&(o=0),m&&u(+e(p,f,d),+t(p,f,d),+n(p,f,d));if(g)return i=null,g+""||null}return c.x=function(d){return arguments.length?(e=d,c):e},c.y=function(d){return arguments.length?(t=d,c):t},c.size=function(d){return arguments.length?(n=d,c):n},c.defined=function(d){return arguments.length?(r=d,c):r},c.context=function(d){return arguments.length?(d==null?i=null:i=d,c):i},c}function pk(e,t){return e??t}const mk=e=>e.x||0,gk=e=>e.y||0,Xwt=e=>e.width||0,Qwt=e=>e.height||0,Jwt=e=>(e.x||0)+(e.width||0),Zwt=e=>(e.y||0)+(e.height||0),ext=e=>e.startAngle||0,txt=e=>e.endAngle||0,nxt=e=>e.padAngle||0,rxt=e=>e.innerRadius||0,ixt=e=>e.outerRadius||0,oxt=e=>e.cornerRadius||0,sxt=e=>pk(e.cornerRadiusTopLeft,e.cornerRadius)||0,axt=e=>pk(e.cornerRadiusTopRight,e.cornerRadius)||0,lxt=e=>pk(e.cornerRadiusBottomRight,e.cornerRadius)||0,uxt=e=>pk(e.cornerRadiusBottomLeft,e.cornerRadius)||0,cxt=e=>pk(e.size,64),dxt=e=>e.size||1,D6=e=>e.defined!==!1,fxt=e=>Jke(e.shape||"circle"),hxt=Rbt().startAngle(ext).endAngle(txt).padAngle(nxt).innerRadius(rxt).outerRadius(ixt).cornerRadius(oxt),pxt=RTe().x(mk).y1(gk).y0(Zwt).defined(D6),mxt=RTe().y(gk).x1(mk).x0(Jwt).defined(D6),gxt=ATe().x(mk).y(gk).defined(D6),yxt=Zke().x(mk).y(gk).width(Xwt).height(Qwt).cornerRadius(sxt,axt,lxt,uxt),vxt=Dbt().type(fxt).size(cxt),bxt=eAe().x(mk).y(gk).defined(D6).size(dxt);function UX(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function wxt(e,t){return hxt.context(e)(t)}function xxt(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?mxt:pxt).curve(zX(r,n.orient,n.tension)).context(e)(t)}function Cxt(e,t){const n=t[0],r=n.interpolate||"linear";return gxt.curve(zX(r,n.orient,n.tension)).context(e)(t)}function $C(e,t,n,r){return yxt.context(e)(t,n,r)}function _xt(e,t){return(t.mark.shape||t.shape).context(e)(t)}function Ext(e,t){return vxt.context(e)(t)}function Sxt(e,t){return bxt.context(e)(t)}var tAe=1;function Txt(){tAe=1}function HX(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+tAe++),s=i.clipping[o]||(i.clipping[o]={id:o});return nr(r)?s.path=r(null):UX(n)?s.path=$C(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function Xo(e){this.clear(),e&&this.union(e)}Xo.prototype={clone(){return new Xo(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:s}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*i+u,l*r+a*i+c,a*r-l*s+u,l*r+a*s+c,a*o-l*i+u,l*o+a*i+c,a*o-l*s+u,l*o+a*s+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function P6(e){this.mark=e,this.bounds=this.bounds||new Xo}function O6(e){P6.call(this,e),this.items=this.items||[]}It(O6,P6);class nAe{constructor(t){this._pending=0,this._loader=t||o6()}pending(){return this._pending}sanitizeURL(t){const n=this;return Yce(n),n._loader.sanitize(t,{context:"href"}).then(r=>(Z_(n),r)).catch(()=>(Z_(n),null))}loadImage(t){const n=this,r=Kbt();return Yce(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const o=i.href;if(!o||!r)throw{url:o};const s=new r,a=Dn(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(s.crossOrigin=a),s.onload=()=>Z_(n),s.onerror=()=>Z_(n),s.src=o,s}).catch(i=>(Z_(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function Yce(e){e._pending+=1}function Z_(e){e._pending-=1}function jm(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?kxt(t,r):0))}return e}function kxt(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const Axt=th-1e-8;let N6,NP,MP,vv,FU,$P,jU,BU;const Vg=(e,t)=>N6.add(e,t),LP=(e,t)=>Vg(NP=e,MP=t),Kce=e=>Vg(e,N6.y1),Xce=e=>Vg(N6.x1,e),iv=(e,t)=>FU*e+jU*t,ov=(e,t)=>$P*e+BU*t,t9=(e,t)=>Vg(iv(e,t),ov(e,t)),n9=(e,t)=>LP(iv(e,t),ov(e,t));function yk(e,t){return N6=e,t?(vv=t*I0,FU=BU=Math.cos(vv),$P=Math.sin(vv),jU=-$P):(FU=BU=1,vv=$P=jU=0),Rxt}const Rxt={beginPath(){},closePath(){},moveTo:n9,lineTo:n9,rect(e,t,n,r){vv?(t9(e+n,t),t9(e+n,t+r),t9(e,t+r),n9(e,t)):(Vg(e+n,t+r),LP(e,t))},quadraticCurveTo(e,t,n,r){const i=iv(e,t),o=ov(e,t),s=iv(n,r),a=ov(n,r);Qce(NP,i,s,Kce),Qce(MP,o,a,Xce),LP(s,a)},bezierCurveTo(e,t,n,r,i,o){const s=iv(e,t),a=ov(e,t),l=iv(n,r),u=ov(n,r),c=iv(i,o),d=ov(i,o);Jce(NP,s,l,c,Kce),Jce(MP,a,u,d,Xce),LP(c,d)},arc(e,t,n,r,i,o){if(r+=vv,i+=vv,NP=n*Math.cos(i)+e,MP=n*Math.sin(i)+t,Math.abs(i-r)>Axt)Vg(e-n,t-n),Vg(e+n,t+n);else{const s=u=>Vg(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(s(r),s(i),i!==r)if(r=r%th,r<0&&(r+=th),i=i%th,i<0&&(i+=th),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=th,a=r-r%rv,l=0;l<4&&a>i;++l,a-=rv)s(a);else for(a=r-r%rv+rv,l=0;l<4&&a<i;++l,a=a+rv)s(a)}}};function Qce(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function Jce(e,t,n,r,i){const o=r-e+3*t-3*n,s=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(o)>zwt?(c=s*s+a*o,c>=0&&(c=Math.sqrt(c),l=(-s+c)/o,u=(-s-c)/o)):l=.5*a/s,0<l&&l<1&&i(Zce(l,e,t,n,r)),0<u&&u<1&&i(Zce(u,e,t,n,r))}function Zce(e,t,n,r,i){const o=1-e,s=o*o,a=e*e;return s*o*t+3*s*e*n+3*o*a*r+a*e*i}var f0=(f0=d0(1,1))?f0.getContext("2d"):null;const zU=new Xo;function qX(e){return function(t,n){if(!f0)return!0;e(f0,t),zU.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:s}=zU;for(let a=i;a<=s;++a)for(let l=r;l<=o;++l)if(f0.isPointInPath(l,a))return!0;return!1}}function VX(e,t){return t.contains(e.x||0,e.y||0)}function rAe(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(zU.set(n,r,n+i,r+o))}function iAe(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return ww(t,n,r,i,o)}function ww(e,t,n,r,i){const{x1:o,y1:s,x2:a,y2:l}=e,u=r-t,c=i-n;let d=0,f=1,h,p,m,g;for(g=0;g<4;++g){if(g===0&&(h=-u,p=-(o-t)),g===1&&(h=u,p=a-t),g===2&&(h=-c,p=-(s-n)),g===3&&(h=c,p=l-n),Math.abs(h)<1e-10&&p<0)return!1;if(m=p/h,h<0){if(m>f)return!1;m>d&&(d=m)}else if(h>0){if(m<d)return!1;m<f&&(f=m)}}return!0}function Ax(e,t){e.globalCompositeOperation=t.blend||"source-over"}function hd(e,t){return e??t}function ede(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function Ixt(e,t,n){const r=n.width(),i=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+hd(t.x1,.5)*r,n.y1+hd(t.y1,.5)*i,Math.max(r,i)*hd(t.r1,0),n.x1+hd(t.x2,.5)*r,n.y1+hd(t.y2,.5)*i,Math.max(r,i)*hd(t.r2,.5));else{const s=hd(t.x1,0),a=hd(t.y1,0),l=hd(t.x2,1),u=hd(t.y2,0);if(s===l||a===u||r===i)o=e.createLinearGradient(n.x1+s*r,n.y1+a*i,n.x1+l*r,n.y1+u*i);else{const c=d0(Math.ceil(r),Math.ceil(i)),d=c.getContext("2d");return d.scale(r,i),d.fillStyle=ede(d.createLinearGradient(s,a,l,u),t.stops),d.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return ede(o,t.stops)}function oAe(e,t,n){return BX(n)?Ixt(e,n,t.bounds):n}function $O(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=oAe(e,t,t.fill),!0):!1}var Dxt=[];function Rx(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=oAe(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||Dxt),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function Pxt(e,t){return e.zindex-t.zindex||e.index-t.index}function WX(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,o;for(i=0,o=t.length;i<o;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(Pxt)}function ef(e,t){var n=e.items,r,i;if(!n||!n.length)return;const o=WX(e);if(o&&o.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=o}for(r=0,i=n.length;r<i;++r)t(n[r])}function LO(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const o=WX(e);for(o&&o.length&&(n=o),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===o){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function GX(e){return function(t,n,r){ef(n,i=>{(!r||r.intersects(i.bounds))&&sAe(e,t,i,i)})}}function Oxt(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&sAe(e,t,n.items[0],n.items)}}function sAe(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(Ax(t,n),n.fill&&$O(t,n,i)&&t.fill(),n.stroke&&Rx(t,n,i)&&t.stroke()))}function M6(e){return e=e||Lc,function(t,n,r,i,o,s){return r*=t.pixelRatio,i*=t.pixelRatio,LO(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,s)||!l)&&e(t,a,r,i,o,s))return a})}}function vk(e,t){return function(n,r,i,o){var s=Array.isArray(r)?r[0]:r,a=t??s.fill,l=s.stroke&&n.isPointInStroke,u,c;return l&&(u=s.strokeWidth,c=s.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o)}}function YX(e){return M6(vk(e))}function Ov(e,t){return"translate("+e+","+t+")"}function KX(e){return"rotate("+e+")"}function Nxt(e,t){return"scale("+e+","+t+")"}function aAe(e){return Ov(e.x||0,e.y||0)}function Mxt(e){return Ov(e.x||0,e.y||0)+(e.angle?" "+KX(e.angle):"")}function $xt(e){return Ov(e.x||0,e.y||0)+(e.angle?" "+KX(e.angle):"")+(e.scaleX||e.scaleY?" "+Nxt(e.scaleX||1,e.scaleY||1):"")}function XX(e,t,n){function r(s,a){s("transform",Mxt(a)),s("d",t(null,a))}function i(s,a){return t(yk(s,a.angle),a),jm(s,a).translate(a.x||0,a.y||0)}function o(s,a){var l=a.x||0,u=a.y||0,c=a.angle||0;s.translate(l,u),c&&s.rotate(c*=I0),s.beginPath(),t(s,a),c&&s.rotate(-c),s.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:GX(o),pick:YX(o),isect:n||qX(o)}}var Lxt=XX("arc",wxt);function Fxt(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,o=1/0,s,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<o&&(o=a,s=e[i]));return s}function jxt(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,o,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],s=i*i+o*o,s<n))return e[r];return null}function Bxt(e,t){for(var n=e.length,r,i,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],o=r*r+i*i,r=e[n].size||1,o<r*r))return e[n];return null}function QX(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t(yk(l),c),jm(l,c[0]))}function o(l,u){l.beginPath(),t(l,u)}const s=vk(o);function a(l,u,c,d,f,h){var p=u.items,m=u.bounds;return!p||!p.length||m&&!m.contains(f,h)?null:(c*=l.pixelRatio,d*=l.pixelRatio,s(l,p,c,d)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:Oxt(o),pick:a,isect:VX,tip:n}}var zxt=QX("area",xxt,Fxt);function Uxt(e,t){var n=t.clip;e.save(),nr(n)?(e.beginPath(),n(e),e.clip()):lAe(e,t.group)}function lAe(e,t){e.beginPath(),UX(t)?$C(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function uAe(e){const t=hd(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function Hxt(e,t){e("transform",aAe(t))}function cAe(e,t){const n=uAe(t);e("d",$C(null,t,n,n))}function qxt(e,t){e("class","background"),e("aria-hidden",!0),cAe(e,t)}function Vxt(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?cAe(e,t):e("d","")}function Wxt(e,t,n){const r=t.clip?HX(n,t,t):null;e("clip-path",r)}function Gxt(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),jm(e,t),e.translate(t.x||0,t.y||0)}function U2(e,t,n,r){const i=uAe(t);e.beginPath(),$C(e,t,(n||0)+i,(r||0)+i)}const Yxt=vk(U2),Kxt=vk(U2,!1),Xxt=vk(U2,!0);function Qxt(e,t,n,r){ef(t,i=>{const o=i.x||0,s=i.y||0,a=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(U2(e,i,o,s),Ax(e,i),i.fill&&$O(e,i,l)&&e.fill(),i.stroke&&!a&&Rx(e,i,l)&&e.stroke()),e.save(),e.translate(o,s),i.clip&&lAe(e,i),n&&n.translate(-o,-s),ef(i,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(o,s),e.restore(),a&&i.stroke&&l&&(U2(e,i,o,s),Ax(e,i),Rx(e,i,l)&&e.stroke())})}function Jxt(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const s=n*e.pixelRatio,a=r*e.pixelRatio;return LO(t,l=>{let u,c,d;const f=l.bounds;if(f&&!f.contains(i,o))return;c=l.x||0,d=l.y||0;const h=c+(l.width||0),p=d+(l.height||0),m=l.clip;if(m&&(i<c||i>h||o<d||o>p))return;if(e.save(),e.translate(c,d),c=i-c,d=o-d,m&&UX(l)&&!Xxt(e,l,s,a))return e.restore(),null;const g=l.strokeForeground,v=t.interactive!==!1;return v&&g&&l.stroke&&Kxt(e,l,s,a)?(e.restore(),l):(u=LO(l,y=>Zxt(y,c,d)?this.pick(y,n,r,c,d):null),!u&&v&&(l.fill||!g&&l.stroke)&&Yxt(e,l,s,a)&&(u=l),e.restore(),u||null)})}function Zxt(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var eCt={type:"group",tag:"g",nested:!1,attr:Hxt,bound:Gxt,draw:Qxt,pick:Jxt,isect:rAe,content:Wxt,background:qxt,foreground:Vxt},H2={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function JX(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function ZX(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function eQ(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function $6(e,t){return e==="center"?t/2:e==="right"?t:0}function L6(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function tCt(e,t,n){const r=JX(t,n),i=ZX(t,r),o=eQ(t,r),s=(t.x||0)-$6(t.align,i),a=(t.y||0)-L6(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,H2["xmlns:xlink"],"xlink:href"),e("transform",Ov(s,a)),e("width",i),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function nCt(e,t){const n=t.image,r=ZX(t,n),i=eQ(t,n),o=(t.x||0)-$6(t.align,r),s=(t.y||0)-L6(t.baseline,i);return e.set(o,s,o+r,s+i)}function rCt(e,t,n){ef(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=JX(r,this);let o=ZX(r,i),s=eQ(r,i);if(o===0||s===0)return;let a=(r.x||0)-$6(r.align,o),l=(r.y||0)-L6(r.baseline,s),u,c,d,f;r.aspect!==!1&&(c=i.width/i.height,d=r.width/r.height,c===c&&d===d&&c!==d&&(d<c?(f=o/c,l+=(s-f)/2,s=f):(f=s*c,a+=(o-f)/2,o=f))),(i.complete||i.toDataURL)&&(Ax(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,o,s))})}var iCt={type:"image",tag:"image",nested:!1,attr:tCt,bound:nCt,draw:rCt,pick:M6(),isect:Lc,get:JX,xOffset:$6,yOffset:L6},oCt=QX("line",Cxt,jxt);function sCt(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",$xt(t)),e("d",t.path)}function FP(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,s=t.scaleY||1,a=(t.angle||0)*I0,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=kx(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),z2(e,l,0,0,o,s),e.rotate(-a),e.translate(-r,-i)):z2(e,l,r,i,o,s)}function aCt(e,t){return FP(yk(e,t.angle),t)?e.set(0,0,0,0):jm(e,t,!0)}var lCt={type:"path",tag:"path",nested:!1,attr:sCt,bound:aCt,draw:GX(FP),pick:YX(FP),isect:qX(FP)};function uCt(e,t){e("d",$C(null,t))}function cCt(e,t){var n,r;return jm(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function tde(e,t){e.beginPath(),$C(e,t)}var dCt={type:"rect",tag:"path",nested:!1,attr:uCt,bound:cCt,draw:GX(tde),pick:YX(tde),isect:rAe};function fCt(e,t){e("transform",aAe(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function hCt(e,t){var n,r;return jm(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function dAe(e,t,n){var r,i,o,s;return t.stroke&&Rx(e,t,n)?(r=t.x||0,i=t.y||0,o=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,s),!0):!1}function pCt(e,t,n){ef(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&dAe(e,r,i)&&(Ax(e,r),e.stroke())}})}function mCt(e,t,n,r){return e.isPointInStroke?dAe(e,t,1)&&e.isPointInStroke(n,r):!1}var gCt={type:"rule",tag:"line",nested:!1,attr:fCt,bound:hCt,draw:pCt,pick:M6(mCt),isect:iAe},yCt=XX("shape",_xt),vCt=XX("symbol",Ext,VX);const nde=vSe();var Bu={height:Yh,measureWidth:tQ,estimateWidth:FO,width:FO,canvas:fAe};fAe(!0);function fAe(e){Bu.width=e&&f0?tQ:FO}function FO(e,t){return hAe(P0(e,t),Yh(e))}function hAe(e,t){return~~(.8*e.length*t)}function tQ(e,t){return Yh(e)<=0||!(t=P0(e,t))?0:pAe(t,F6(e))}function pAe(e,t){const n=`(${t}) ${e}`;let r=nde.get(n);return r===void 0&&(f0.font=t,r=f0.measureText(e).width,nde.set(n,r)),r}function Yh(e){return e.fontSize!=null?+e.fontSize||0:11}function D0(e){return e.lineHeight!=null?e.lineHeight:Yh(e)+2}function bCt(e){return cn(e)?e.length>1?e:e[0]:e}function bk(e){return bCt(e.lineBreak&&e.text&&!cn(e.text)?e.text.split(e.lineBreak):e.text)}function nQ(e){const t=bk(e);return(cn(t)?t.length-1:0)*D0(e)}function P0(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?xCt(e,n):n}function wCt(e){if(Bu.width===tQ){const t=F6(e);return n=>pAe(n,t)}else if(Bu.width===FO){const t=Yh(e);return n=>hAe(n,t)}else return t=>Bu.width(e,t)}function xCt(e,t){var n=+e.limit,r=wCt(e);if(r(t)<n)return t;var i=e.ellipsis||"",o=e.dir==="rtl",s=0,a=t.length,l;if(n-=r(i),o){for(;s<a;)l=s+a>>>1,r(t.slice(l))>n?s=l+1:a=l;return i+t.slice(s)}else{for(;s<a;)l=1+(s+a>>>1),r(t.slice(0,l))<n?s=l:a=l-1;return t.slice(0,s)+i}}function wk(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function F6(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Yh(e)+"px "+wk(e,t)}function rQ(e){var t=e.baseline,n=Yh(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*D0(e):t==="line-bottom"?.29*n-.5*D0(e):0)}const CCt={left:"start",center:"middle",right:"end"},IS=new Xo;function j6(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-rv,t+=r*Math.cos(i),n+=r*Math.sin(i)),IS.x1=t,IS.y1=n,IS}function _Ct(e,t){var n=t.dx||0,r=(t.dy||0)+rQ(t),i=j6(t),o=i.x1,s=i.y1,a=t.angle||0,l;e("text-anchor",CCt[t.align]||"start"),a?(l=Ov(o,s)+" "+KX(a),(n||r)&&(l+=" "+Ov(n,r))):l=Ov(o+n,s+r),e("transform",l)}function iQ(e,t,n){var r=Bu.height(t),i=t.align,o=j6(t),s=o.x1,a=o.y1,l=t.dx||0,u=(t.dy||0)+rQ(t)-Math.round(.8*r),c=bk(t),d;if(cn(c)?(r+=D0(t)*(c.length-1),d=c.reduce((f,h)=>Math.max(f,Bu.width(t,h)),0)):d=Bu.width(t,c),i==="center"?l-=d/2:i==="right"&&(l-=d),e.set(l+=s,u+=a,l+d,u+r),t.angle&&!n)e.rotate(t.angle*I0,s,a);else if(n===2)return e.rotatedPoints(t.angle*I0,s,a);return e}function ECt(e,t,n){ef(t,r=>{var i=r.opacity==null?1:r.opacity,o,s,a,l,u,c,d;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=F6(r),e.textAlign=r.align||"left",o=j6(r),s=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(s,a),e.rotate(r.angle*I0),s=a=0),s+=r.dx||0,a+=(r.dy||0)+rQ(r),c=bk(r),Ax(e,r),cn(c))for(u=D0(r),l=0;l<c.length;++l)d=P0(r,c[l]),r.fill&&$O(e,r,i)&&e.fillText(d,s,a),r.stroke&&Rx(e,r,i)&&e.strokeText(d,s,a),a+=u;else d=P0(r,c),r.fill&&$O(e,r,i)&&e.fillText(d,s,a),r.stroke&&Rx(e,r,i)&&e.strokeText(d,s,a);r.angle&&e.restore()}})}function SCt(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=j6(t),a=s.x1,l=s.y1,u=iQ(IS,t,1),c=-t.angle*I0,d=Math.cos(c),f=Math.sin(c),h=d*i-f*o+(a-d*a+f*l),p=f*i+d*o+(l-f*a-d*l);return u.contains(h,p)}function TCt(e,t){const n=iQ(IS,e,2);return ww(t,n[0],n[1],n[2],n[3])||ww(t,n[0],n[1],n[4],n[5])||ww(t,n[4],n[5],n[6],n[7])||ww(t,n[2],n[3],n[6],n[7])}var kCt={type:"text",tag:"text",nested:!1,attr:_Ct,bound:iQ,draw:ECt,pick:M6(SCt),isect:TCt},ACt=QX("trail",Sxt,Bxt),Ku={arc:Lxt,area:zxt,group:eCt,image:iCt,line:oCt,path:lCt,rect:dCt,rule:gCt,shape:yCt,symbol:vCt,text:kCt,trail:ACt};function UU(e,t,n){var r=Ku[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new Xo),e,n)}var rde={mark:null};function mAe(e,t,n){var r=Ku[e.marktype],i=r.bound,o=e.items,s=o&&o.length,a,l,u,c;if(r.nested)return s?u=o[0]:(rde.mark=e,u=rde),c=UU(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new Xo,s)for(a=0,l=o.length;a<l;++a)t.union(UU(o[a],i,n));return e.bounds=t}const RCt=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function gAe(e,t){return JSON.stringify(e,RCt,t)}function yAe(e){const t=typeof e=="string"?JSON.parse(e):e;return vAe(t)}function vAe(e){var t=e.marktype,n=e.items,r,i,o;if(n)for(i=0,o=n.length;i<o;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&vAe(n[i]);return t&&mAe(e),e}class bAe{constructor(t){arguments.length?this.root=yAe(t):(this.root=ide({marktype:"group",name:"root",role:"frame"}),this.root.items=[new O6(this.root)])}toJSON(t){return gAe(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=ide(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function ide(e,t){const n={bounds:new Xo,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Wg(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function oQ(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function ls(e,t,n,r){var i=e.childNodes[t],o;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(o=i||null,i=Wg(e.ownerDocument,n,r),e.insertBefore(i,o)),i}function bc(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function wAe(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function B6(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function ICt(e,t,n,r){var i=e&&e.mark,o,s;if(i&&(o=Ku[i.marktype]).tip){for(s=B6(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(i.items,s)}return e}let sQ=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||o6(),this._tooltip=n||DCt}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const o=new MouseEvent(t.type,t),s=Wg(null,"a");for(const a in i)s.setAttribute(a,i[a]);s.dispatchEvent(o)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=ICt(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,o=t.bounds,s=o.width(),a=o.height();let l=o.x1+i[0]+r.left,u=o.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,u+=t.y||0;return{x:l,y:u,width:s,height:a,left:l,top:u,right:l+s,bottom:u+a}}};function DCt(e,t,n,r){e.element().setAttribute("title",r||"")}class xk{constructor(t){this._el=null,this._bgcolor=null,this._loader=new nAe(t)}initialize(t,n,r,i,o){return this._el=t,this.resize(n,r,i,o)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const o=r._call;r._ready=r._loader.ready().then(s=>{s&&o(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const PCt="keydown",OCt="keypress",NCt="keyup",xAe="dragenter",jP="dragleave",CAe="dragover",HU="pointerdown",MCt="pointerup",jO="pointermove",BP="pointerout",_Ae="pointerover",qU="mousedown",$Ct="mouseup",EAe="mousemove",BO="mouseout",SAe="mouseover",zO="click",LCt="dblclick",FCt="wheel",TAe="mousewheel",UO="touchstart",HO="touchmove",qO="touchend",jCt=[PCt,OCt,NCt,xAe,jP,CAe,HU,MCt,jO,BP,_Ae,qU,$Ct,EAe,BO,SAe,zO,LCt,FCt,TAe,UO,HO,qO],VU=jO,DS=BO,WU=zO;class Ck extends sQ{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=jCt,this.pointermove=sde([jO,EAe],[_Ae,SAe],[BP,BO]),this.dragover=sde([CAe],[xAe],[jP]),this.pointerout=ade([BP,BO]),this.dragleave=ade([jP])}initialize(t,n,r){return this._canvas=t&&oQ(t,"canvas"),[zO,qU,HU,jO,BP,jP].forEach(i=>ode(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(TAe,t)}pointerdown(t){this._down=this._active,this.fire(HU,t)}mousedown(t){this._down=this._active,this.fire(qU,t)}click(t){this._down===this._active&&(this.fire(zO,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(UO,t,!0)}touchmove(t){this.fire(HO,t,!0)}touchend(t){this.fire(qO,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,o=this._handlers[t];if(n.vegaType=t,t===WU&&i&&i.href?this.handleHref(n,i,i.href):(t===VU||t===DS)&&this.handleTooltip(n,i,t!==DS),o)for(let s=0,a=o.length;s<a;++s)o[s].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(ode(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&i.splice(o,1),this}pickEvent(t){const n=B6(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,o){const s=this.context();return Ku[t.marktype].pick.call(this,s,t,n,r,i,o)}}const BCt=e=>e===UO||e===HO||e===qO?[UO,HO,qO]:[e];function ode(e,t){BCt(t).forEach(n=>zCt(e,n))}function zCt(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function VE(e,t,n){t.forEach(r=>e.fire(r,n))}function sde(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i?VE(this,e,r):((!i||!i.exit)&&VE(this,n,r),this._active=o,VE(this,t,r),VE(this,e,r))}}function ade(e){return function(t){VE(this,e,t),this._active=null}}function UCt(){return typeof window<"u"&&window.devicePixelRatio||1}function HCt(e,t,n,r,i,o){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=s?UCt():i;e.width=t*l,e.height=n*l;for(const u in o)a[u]=o[u];return s&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class VO extends xk{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new Xo,this._tempb=new Xo}initialize(t,n,r,i,o,s){return this._options=s||{},this._canvas=this._options.externalContext?null:d0(1,1,this._options.type),t&&this._canvas&&(bc(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,o)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)HCt(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const o=this._options.externalContext;o||it("CanvasRenderer is missing a valid canvas or context"),o.scale(this._scale,this._scale),o.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,o=this._width,s=this._height,a=this._dirty,l=qCt(i,o,s);r.save();const u=this._redraw||a.empty()?(this._redraw=!1,l.expand(1)):VCt(r,l.intersect(a),i);return this.clear(-i[0],-i[1],o,s),this.draw(r,t,u,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const o=Ku[n.marktype];n.clip&&Uxt(t,n),o.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const o=this._options,s=this.context();o.type!=="pdf"&&!o.externalContext&&s.clearRect(t,n,r,i),this._bgcolor!=null&&(s.fillStyle=this._bgcolor,s.fillRect(t,n,r,i))}}const qCt=(e,t,n)=>new Xo().set(0,0,t,n).translate(-e[0],-e[1]);function VCt(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class kAe extends sQ{constructor(t,n){super(t,n);const r=this;r._hrefHandler=r9(r,(i,o)=>{o&&o.href&&r.handleHref(i,o,o.href)}),r._tooltipHandler=r9(r,(i,o)=>{r.handleTooltip(i,o,i.type!==DS)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(WU,this._hrefHandler),i.removeEventListener(VU,this._tooltipHandler),i.removeEventListener(DS,this._tooltipHandler)),this._svg=i=t&&oQ(t,"svg"),i&&(i.addEventListener(WU,this._hrefHandler),i.addEventListener(VU,this._tooltipHandler),i.addEventListener(DS,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const s={type:t,handler:n,listener:r9(this,n)};(i[r]||(i[r]=[])).push(s),this._svg&&this._svg.addEventListener(r,s.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&(this._svg&&this._svg.removeEventListener(r,i[o].listener),i.splice(o,1)),this}}const r9=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},AAe="aria-hidden",aQ="aria-label",lQ="role",uQ="aria-roledescription",RAe="graphics-object",cQ="graphics-symbol",IAe=(e,t,n)=>({[lQ]:e,[uQ]:t,[aQ]:n||void 0}),WCt=Jd(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),lde={axis:{desc:"axis",caption:KCt},legend:{desc:"legend",caption:XCt},"title-text":{desc:"title",caption:e=>`Title text '${cde(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${cde(e)}'`}},ude={ariaRole:lQ,ariaRoleDescription:uQ,description:aQ};function DAe(e,t){const n=t.aria===!1;if(e(AAe,n||void 0),n||t.description==null)for(const r in ude)e(ude[r],void 0);else{const r=t.mark.marktype;e(aQ,t.description),e(lQ,t.ariaRole||(r==="group"?RAe:cQ)),e(uQ,t.ariaRoleDescription||`${r} mark`)}}function PAe(e){return e.aria===!1?{[AAe]:!0}:WCt[e.role]?null:lde[e.role]?YCt(e,lde[e.role]):GCt(e)}function GCt(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return IAe(n?RAe:cQ,`${t} mark container`,e.description)}function YCt(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return IAe(t.role||cQ,t.desc,n.description||r(n))}catch{return null}}function cde(e){return wn(e.text).join(" ")}function KCt(e){const t=e.datum,n=e.orient,r=t.title?OAe(e):null,i=e.context,o=i.scales[t.scale].value,s=i.dataflow.locale(),a=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${Tx(a)?"discrete":a} scale with ${Gke(s,o,e)}`}function XCt(e){const t=e.datum,n=t.title?OAe(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,o=Object.keys(i),s=e.context,a=s.scales[i[o[0]]].value,l=s.dataflow.locale();return JCt(r)+(n?` titled '${n}'`:"")+` for ${QCt(o)} with ${Gke(l,a,e)}`}function OAe(e){try{return wn(Er(e.items).items[0].text).join(" ")}catch{return null}}function QCt(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Er(e)}function JCt(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const NAe=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),ZCt=e=>NAe(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function dQ(){let e="",t="",n="";const r=[],i=()=>t=n="",o=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},s=(l,u)=>(u!=null&&(t+=` ${l}="${ZCt(u)}"`),a),a={open(l,...u){o(l),t="<"+l;for(const c of u)for(const d in c)s(d,c[d]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:s,text:l=>(n+=NAe(l),a),toString:()=>e};return a}const MAe=e=>$Ae(dQ(),e)+"";function $Ae(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):$Ae(e,r)}return e.close()}const WO={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},GO={blend:"mix-blend-mode"},LAe={fill:"none","stroke-miterlimit":10},eE=0,dde="http://www.w3.org/2000/xmlns/",as=H2.xmlns;class fQ extends xk{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,o){return this._defs={},this._clearDefs(),t&&(this._svg=ls(t,0,"svg",as),this._svg.setAttributeNS(dde,"xmlns",as),this._svg.setAttributeNS(dde,"xmlns:xlink",H2["xmlns:xlink"]),this._svg.setAttribute("version",H2.version),this._svg.setAttribute("class","marks"),bc(t,1),this._root=ls(this._svg,eE,"g",as),Gg(this._root,LAe),bc(this._svg,eE+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,o)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(Gg(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=ls(t,eE,"rect",as),Gg(r,{width:this._width,height:this._height,fill:n}));const i=MAe(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),bc(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,o,s,a,l,u;for(a=0,l=t.length;a<l;++a)if(r=t[a],i=r.mark,i.marktype!==o&&(o=i.marktype,s=Ku[o]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,fde(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){s.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(s,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=s.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,fde(r,n)):this._update(s,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const o=this._svg,s=n.marktype,a=Ku[s],l=n.interactive===!1?"none":null,u=a.tag==="g",c=hde(n,t,r,"g",o);if(s!=="group"&&i!=null&&!i.includes(s))return bc(c,0),n._svg;c.setAttribute("class",wAe(n));const d=PAe(n);for(const m in d)nl(c,m,d[m]);u||nl(c,"pointer-events",l),nl(c,"clip-path",n.clip?HX(this,n,n.group):null);let f=null,h=0;const p=m=>{const g=this.isDirty(m),v=hde(m,c,f,a.tag,o);g&&(this._update(a,v,m),u&&n_t(this,v,m,i)),f=v,++h};return a.nested?n.items.length&&p(n.items[0]):ef(n,p),bc(c,h),c}_update(t,n,r){Up=n,Ra=n.__values__,DAe(PS,r),t.attr(PS,r,this);const i=i_t[t.type];i&&i.call(this,t,n,r),Up&&this.style(Up,r)}style(t,n){if(n!=null){for(const r in WO){let i=r==="font"?wk(n):n[r];if(i===Ra[r])continue;const o=WO[r];i==null?t.removeAttribute(o):(BX(i)&&(i=Kke(i,this._defs.gradient,FAe())),t.setAttribute(o,i+"")),Ra[r]=i}for(const r in GO)zP(t,GO[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const o in n.gradient)r||(n.el=r=ls(t,eE+1,"defs",as)),i=e_t(r,n.gradient[o],i);for(const o in n.clipping)r||(n.el=r=ls(t,eE+1,"defs",as)),i=t_t(r,n.clipping[o],i);r&&(i===0?(t.removeChild(r),n.el=null):bc(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function fde(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function e_t(e,t,n){let r,i,o;if(t.gradient==="radial"){let s=ls(e,n++,"pattern",as);Gg(s,{id:MO+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=ls(s,0,"rect",as),Gg(s,{width:1,height:1,fill:`url(${FAe()}#${t.id})`}),e=ls(e,n++,"radialGradient",as),Gg(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=ls(e,n++,"linearGradient",as),Gg(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=ls(e,r,"stop",as),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return bc(e,r),n}function t_t(e,t,n){let r;return e=ls(e,n,"clipPath",as),e.setAttribute("id",t.id),t.path?(r=ls(e,0,"path",as),r.setAttribute("d",t.path)):(r=ls(e,0,"rect",as),Gg(r,{x:0,y:0,width:t.width,height:t.height})),bc(e,1),n+1}function n_t(e,t,n,r){t=t.lastChild.previousSibling;let i,o=0;ef(n,s=>{i=e.mark(t,s,i,r),++o}),bc(t,1+o)}function hde(e,t,n,r,i){let o=e._svg,s;if(!o&&(s=t.ownerDocument,o=Wg(s,r,as),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const a=Wg(s,"path",as);o.appendChild(a),a.__data__=e;const l=Wg(s,"g",as);o.appendChild(l),l.__data__=e;const u=Wg(s,"path",as);o.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(o.ownerSVGElement!==i||r_t(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function r_t(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Up=null,Ra=null;const i_t={group(e,t,n){const r=Up=t.childNodes[2];Ra=r.__values__,e.foreground(PS,n,this),Ra=t.__values__,Up=t.childNodes[1],e.content(PS,n,this);const i=Up=t.childNodes[0];e.background(PS,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==Ra.events&&(nl(r,"pointer-events",o),nl(i,"pointer-events",o),Ra.events=o),n.strokeForeground&&n.stroke){const s=n.fill;nl(r,"display",null),this.style(i,n),nl(i,"stroke",null),s&&(n.fill=null),Ra=r.__values__,this.style(r,n),s&&(n.fill=s),Up=null}else nl(r,"display","none")},image(e,t,n){n.smooth===!1?(zP(t,"image-rendering","optimizeSpeed"),zP(t,"image-rendering","pixelated")):zP(t,"image-rendering",null)},text(e,t,n){const r=bk(n);let i,o,s,a;cn(r)?(o=r.map(l=>P0(n,l)),i=o.join(`
`),i!==Ra.text&&(bc(t,0),s=t.ownerDocument,a=D0(n),o.forEach((l,u)=>{const c=Wg(s,"tspan",as);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),Ra.text=i)):(o=P0(n,r),o!==Ra.text&&(t.textContent=o,Ra.text=o)),nl(t,"font-family",wk(n)),nl(t,"font-size",Yh(n)+"px"),nl(t,"font-style",n.fontStyle),nl(t,"font-variant",n.fontVariant),nl(t,"font-weight",n.fontWeight)}};function PS(e,t,n){t!==Ra[e]&&(n?o_t(Up,e,t,n):nl(Up,e,t),Ra[e]=t)}function zP(e,t,n){n!==Ra[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Ra[t]=n)}function Gg(e,t){for(const n in t)nl(e,n,t[n])}function nl(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function o_t(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function FAe(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class jAe extends xk{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=dQ();n.open("svg",tr({},H2,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",LAe,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=Ku[n.marktype],i=r.tag,o=[DAe,r.attr];t.open("g",{class:wAe(n),"clip-path":n.clip?HX(this,n,n.group):null},PAe(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const s=a=>{const l=this.href(a);if(l&&t.open("a",l),t.open(i,this.attr(n,a,o,i!=="g"?i:null)),i==="text"){const u=bk(a);if(cn(u)){const c={x:0,dy:D0(a)};for(let d=0;d<u.length;++d)t.open("tspan",d?c:null).text(P0(a,u[d])).close()}else t.text(P0(a,u))}else if(i==="g"){const u=a.strokeForeground,c=a.fill,d=a.stroke;u&&d&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),ef(a,f=>this.mark(t,f)),t.close(),u&&d?(c&&(a.fill=null),a.stroke=d,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),c&&(a.fill=c)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&s(n.items[0]):ef(n,s),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const o={},s=(a,l,u,c)=>{o[c||a]=l};return Array.isArray(r)?r.forEach(a=>a(s,n,this)):r(s,n,this),i&&s_t(o,n,t,i,this._defs),o}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const o in n){const s=n[o],a=s.stops;s.gradient==="radial"?(t.open("pattern",{id:MO+o,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+o+")"}).close(),t.close(),t.open("radialGradient",{id:o,fx:s.x1,fy:s.y1,fr:s.r1,cx:s.x2,cy:s.y2,r:s.r2})):t.open("linearGradient",{id:o,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2});for(let l=0;l<a.length;++l)t.open("stop",{offset:a[l].offset,"stop-color":a[l].color}).close();t.close()}for(const o in r){const s=r[o];t.open("clipPath",{id:o}),s.path?t.open("path",{d:s.path}).close():t.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),t.close()}t.close()}}}function s_t(e,t,n,r,i){let o;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=wk(t),e["font-size"]=Yh(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in WO){let a=t[s];const l=WO[s];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(BX(a)&&(a=Kke(a,i.gradient,"")),e[l]=a)}for(const s in GO){const a=t[s];a!=null&&(o=o||[],o.push(`${GO[s]}: ${a};`))}return o&&(e.style=o.join(" ")),e}const vd={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function a_t(e){vd.svgMarkTypes=e.svgMarkTypes??["text"],vd.svgOnTop=e.svgOnTop??!0,vd.debug=e.debug??!1}class GU extends xk{constructor(t){super(t),this._svgRenderer=new fQ(t),this._canvasRenderer=new VO(t)}initialize(t,n,r,i,o){this._root_el=ls(t,0,"div");const s=ls(this._root_el,0,"div"),a=ls(this._root_el,1,"div");return this._root_el.style.position="relative",vd.debug||(s.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=vd.svgOnTop?a:s,this._canvasEl=vd.svgOnTop?s:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,o),this._svgRenderer.initialize(this._svgEl,n,r,i,o),super.initialize(t,n,r,i,o)}dirty(t){return vd.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(o=>!vd.svgMarkTypes.includes(o));this._svgRenderer.render(t,vd.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return vd.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class BAe extends Ck{constructor(t,n){super(t,n)}initialize(t,n,r){const i=ls(ls(t,0,"div"),vd.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const zAe="canvas",UAe="hybrid",HAe="png",qAe="svg",VAe="none",Yg={Canvas:zAe,PNG:HAe,SVG:qAe,Hybrid:UAe,None:VAe},tb={};tb[zAe]=tb[HAe]={renderer:VO,headless:VO,handler:Ck};tb[qAe]={renderer:fQ,headless:jAe,handler:kAe};tb[UAe]={renderer:GU,headless:GU,handler:BAe};tb[VAe]={};function z6(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(tb[e]=t,this):tb[e]}function WAe(e,t,n){const r=[],i=new Xo().union(t),o=e.marktype;return o?GAe(e,i,n,r):o==="group"?YAe(e,i,n,r):it("Intersect scene must be mark node or group item.")}function GAe(e,t,n,r){if(l_t(e,t,n)){const i=e.items,o=e.marktype,s=i.length;let a=0;if(o==="group")for(;a<s;++a)YAe(i[a],t,n,r);else for(const l=Ku[o].isect;a<s;++a){const u=i[a];KAe(u,t,l)&&r.push(u)}}return r}function l_t(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function YAe(e,t,n,r){n&&n(e.mark)&&KAe(e,t,Ku.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const s=e.x||0,a=e.y||0;t.translate(-s,-a);for(let l=0;l<o;++l)GAe(i[l],t,n,r);t.translate(s,a)}return r}function KAe(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const i9=new Xo;function XAe(e){const t=e.clip;if(nr(t))t(yk(i9.clear()));else if(t)i9.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(i9)}const u_t=1e-9;function hQ(e,t,n){return e===t?!0:n==="path"?QAe(e,t):e instanceof Date&&t instanceof Date?+e==+t:E0(e)&&E0(t)?Math.abs(e-t)<=u_t:!e||!t||!Gn(e)&&!Gn(t)?e==t:c_t(e,t)}function QAe(e,t){return hQ(kx(e),kx(t))}function c_t(e,t){var n=Object.keys(e),r=Object.keys(t),i,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(i=n[o],!hQ(e[i],t[i],i))return!1;return typeof e==typeof t}function d_t(){Txt(),Nwt()}const Ix="top",kd="left",Pd="right",O0="bottom",f_t="top-left",h_t="top-right",p_t="bottom-left",m_t="bottom-right",pQ="start",YU="middle",ol="end",g_t="x",y_t="y",U6="group",mQ="axis",gQ="title",v_t="frame",b_t="scope",yQ="legend",JAe="row-header",ZAe="row-footer",eRe="row-title",tRe="column-header",nRe="column-footer",rRe="column-title",w_t="padding",x_t="symbol",iRe="fit",oRe="fit-x",sRe="fit-y",C_t="pad",vQ="none",WR="all",KU="each",bQ="flush",Kg="column",Xg="row";function aRe(e){et.call(this,null,e)}It(aRe,et,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=Ku[i],s=o.bound;let a=r.bounds,l;if(o.nested)r.items.length&&n.dirty(r.items[0]),a=GR(r,s),r.items.forEach(u=>{u.bounds.clear().union(a)});else if(i===U6||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),a.clear(),r.items.forEach(u=>a.union(GR(u,s))),r.role){case mQ:case yQ:case gQ:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{a.union(GR(u,s))}),t.visit(t.MOD,u=>{l=l||a.alignsWith(u.bounds),n.dirty(u),a.union(GR(u,s))}),l&&(a.clear(),r.items.forEach(u=>a.union(u.bounds)));return XAe(r),t.modifies("bounds")}});function GR(e,t,n){return t(e.bounds.clear(),e,n)}const pde=":vega_identifier:";function wQ(e){et.call(this,0,e)}wQ.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};It(wQ,et,{transform(e,t){const n=__t(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++i),n.set(this.value=i),t}});function __t(e){return e._signals[pde]||(e._signals[pde]=e.add(0))}function lRe(e){et.call(this,null,e)}It(lRe,et,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,E_t(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===U6?O6:P6;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function E_t(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function uRe(e){et.call(this,null,e)}const mde={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!cRe(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},cRe=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),gde=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,o;n<r;i=o,++n)if(cRe(i,o=e[n].bounds,t))return!0},S_t=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},T_t=(e,t,n)=>{var r=e.range(),i=new Xo;return t===Ix||t===O0?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),o=>i.encloses(o.bounds)},yde=e=>(e.forEach(t=>t.opacity=1),e),vde=(e,t)=>e.reflow(t.modified()).modifies("opacity");It(uRe,et,{transform(e,t){const n=mde[e.method]||mde.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,o,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(yde(i),t=vde(t,e)),t;if(i=i.filter(S_t),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),o=yde(i),t=vde(t,e),o.length>=3&&gde(o,r)){do o=n(o,r);while(o.length>=3&&gde(o,r));o.length<3&&!Er(i).opacity&&(o.length>1&&(Er(o).opacity=0),Er(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=T_t(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{s(l)||(l.opacity=0)}));const a=o[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function dRe(e){et.call(this,null,e)}It(dRe,et,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const ka=new Xo;function xw(e,t,n){return e[t]===n?0:(e[t]=n,1)}function k_t(e){var t=e.items[0].orient;return t===kd||t===Pd}function A_t(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function R_t(e,t,n,r){var i=t.items[0],o=i.datum,s=i.translate!=null?i.translate:.5,a=i.orient,l=A_t(o),u=i.range,c=i.offset,d=i.position,f=i.minExtent,h=i.maxExtent,p=o.title&&i.items[l[2]].items[0],m=i.titlePadding,g=i.bounds,v=p&&nQ(p),y=0,x=0,E,_;switch(ka.clear().union(g),g.clear(),(E=l[0])>-1&&g.union(i.items[E].bounds),(E=l[1])>-1&&g.union(i.items[E].bounds),a){case Ix:y=d||0,x=-c,_=Math.max(f,Math.min(h,-g.y1)),g.add(0,-_).add(u,0),p&&YR(e,p,_,m,v,0,-1,g);break;case kd:y=-c,x=d||0,_=Math.max(f,Math.min(h,-g.x1)),g.add(-_,0).add(0,u),p&&YR(e,p,_,m,v,1,-1,g);break;case Pd:y=n+c,x=d||0,_=Math.max(f,Math.min(h,g.x2)),g.add(0,0).add(_,u),p&&YR(e,p,_,m,v,1,1,g);break;case O0:y=d||0,x=r+c,_=Math.max(f,Math.min(h,g.y2)),g.add(0,0).add(u,_),p&&YR(e,p,_,m,0,0,1,g);break;default:y=i.x,x=i.y}return jm(g.translate(y,x),i),xw(i,"x",y+s)|xw(i,"y",x+s)&&(i.bounds=ka,e.dirty(i),i.bounds=g,e.dirty(i)),i.mark.bounds.clear().union(g)}function YR(e,t,n,r,i,o,s,a){const l=t.bounds;if(t.auto){const u=s*(n+i+r);let c=0,d=0;e.dirty(t),o?c=(t.x||0)-(t.x=u):d=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-d)),e.dirty(t)}a.union(l)}const bde=(e,t)=>Math.floor(Math.min(e,t)),wde=(e,t)=>Math.ceil(Math.max(e,t));function I_t(e){var t=e.items,n=t.length,r=0,i,o;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],o=i.items,i.marktype===U6)switch(i.role){case mQ:case yQ:case gQ:break;case JAe:s.rowheaders.push(...o);break;case ZAe:s.rowfooters.push(...o);break;case tRe:s.colheaders.push(...o);break;case nRe:s.colfooters.push(...o);break;case eRe:s.rowtitle=o[0];break;case rRe:s.coltitle=o[0];break;default:s.marks.push(...o)}return s}function D_t(e){return new Xo().set(0,0,e.width||0,e.height||0)}function P_t(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Gi(e,t,n){const r=Gn(e)?e[t]:e;return r??(n!==void 0?n:0)}function xde(e){return e<0?Math.ceil(-e):0}function fRe(e,t,n){var r=!n.nodirty,i=n.bounds===bQ?D_t:P_t,o=ka.set(0,0,0,0),s=Gi(n.align,Kg),a=Gi(n.align,Xg),l=Gi(n.padding,Kg),u=Gi(n.padding,Xg),c=n.columns||t.length,d=c<=0?1:Math.ceil(t.length/c),f=t.length,h=Array(f),p=Array(c),m=0,g=Array(f),v=Array(d),y=0,x=Array(f),E=Array(f),_=Array(f),S,T,k,R,I,P,N,M,O,j,U;for(T=0;T<c;++T)p[T]=0;for(T=0;T<d;++T)v[T]=0;for(T=0;T<f;++T)P=t[T],I=_[T]=i(P),P.x=P.x||0,x[T]=0,P.y=P.y||0,E[T]=0,k=T%c,R=~~(T/c),m=Math.max(m,N=Math.ceil(I.x2)),y=Math.max(y,M=Math.ceil(I.y2)),p[k]=Math.max(p[k],N),v[R]=Math.max(v[R],M),h[T]=l+xde(I.x1),g[T]=u+xde(I.y1),r&&e.dirty(t[T]);for(T=0;T<f;++T)T%c===0&&(h[T]=0),T<c&&(g[T]=0);if(s===KU)for(k=1;k<c;++k){for(U=0,T=k;T<f;T+=c)U<h[T]&&(U=h[T]);for(T=k;T<f;T+=c)h[T]=U+p[k-1]}else if(s===WR){for(U=0,T=0;T<f;++T)T%c&&U<h[T]&&(U=h[T]);for(T=0;T<f;++T)T%c&&(h[T]=U+m)}else for(s=!1,k=1;k<c;++k)for(T=k;T<f;T+=c)h[T]+=p[k-1];if(a===KU)for(R=1;R<d;++R){for(U=0,T=R*c,S=T+c;T<S;++T)U<g[T]&&(U=g[T]);for(T=R*c;T<S;++T)g[T]=U+v[R-1]}else if(a===WR){for(U=0,T=c;T<f;++T)U<g[T]&&(U=g[T]);for(T=c;T<f;++T)g[T]=U+y}else for(a=!1,R=1;R<d;++R)for(T=R*c,S=T+c;T<S;++T)g[T]+=v[R-1];for(O=0,T=0;T<f;++T)O=h[T]+(T%c?O:0),x[T]+=O-t[T].x;for(k=0;k<c;++k)for(j=0,T=k;T<f;T+=c)j+=g[T],E[T]+=j-t[T].y;if(s&&Gi(n.center,Kg)&&d>1)for(T=0;T<f;++T)I=s===WR?m:p[T%c],O=I-_[T].x2-t[T].x-x[T],O>0&&(x[T]+=O/2);if(a&&Gi(n.center,Xg)&&c!==1)for(T=0;T<f;++T)I=a===WR?y:v[~~(T/c)],j=I-_[T].y2-t[T].y-E[T],j>0&&(E[T]+=j/2);for(T=0;T<f;++T)o.union(_[T].translate(x[T],E[T]));switch(O=Gi(n.anchor,g_t),j=Gi(n.anchor,y_t),Gi(n.anchor,Kg)){case ol:O-=o.width();break;case YU:O-=o.width()/2}switch(Gi(n.anchor,Xg)){case ol:j-=o.height();break;case YU:j-=o.height()/2}for(O=Math.round(O),j=Math.round(j),o.clear(),T=0;T<f;++T)t[T].mark.bounds.clear();for(T=0;T<f;++T)P=t[T],P.x+=x[T]+=O,P.y+=E[T]+=j,o.union(P.mark.bounds.union(P.bounds.translate(x[T],E[T]))),r&&e.dirty(P);return o}function O_t(e,t,n){var r=I_t(t),i=r.marks,o=n.bounds===bQ?N_t:M_t,s=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),u=l*a,c,d,f,h,p,m,g;const v=fRe(e,i,n);v.empty()&&v.set(0,0,0,0),r.rowheaders&&(m=Gi(n.headerBand,Xg,null),c=KR(e,r.rowheaders,i,a,l,-Gi(s,"rowHeader"),bde,0,o,"x1",0,a,1,m)),r.colheaders&&(m=Gi(n.headerBand,Kg,null),d=KR(e,r.colheaders,i,a,a,-Gi(s,"columnHeader"),bde,1,o,"y1",0,1,a,m)),r.rowfooters&&(m=Gi(n.footerBand,Xg,null),f=KR(e,r.rowfooters,i,a,l,Gi(s,"rowFooter"),wde,0,o,"x2",a-1,a,1,m)),r.colfooters&&(m=Gi(n.footerBand,Kg,null),h=KR(e,r.colfooters,i,a,a,Gi(s,"columnFooter"),wde,1,o,"y2",u-a,1,a,m)),r.rowtitle&&(p=Gi(n.titleAnchor,Xg),g=Gi(s,"rowTitle"),g=p===ol?f+g:c-g,m=Gi(n.titleBand,Xg,.5),Cde(e,r.rowtitle,g,0,v,m)),r.coltitle&&(p=Gi(n.titleAnchor,Kg),g=Gi(s,"columnTitle"),g=p===ol?h+g:d-g,m=Gi(n.titleBand,Kg,.5),Cde(e,r.coltitle,g,1,v,m))}function N_t(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function M_t(e,t){return e.bounds[t]}function KR(e,t,n,r,i,o,s,a,l,u,c,d,f,h){var p=n.length,m=0,g=0,v,y,x,E,_,S,T,k,R;if(!p)return m;for(v=c;v<p;v+=d)n[v]&&(m=s(m,l(n[v],u)));if(!t.length)return m;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),m+=o,y=0,E=t.length;y<E;++y)e.dirty(t[y]),t[y].mark.bounds.clear();for(v=c,y=0,E=t.length;y<E;++y,v+=d){for(S=t[y],_=S.mark.bounds,x=v;x>=0&&(T=n[x])==null;x-=f);a?(k=h==null?T.x:Math.round(T.bounds.x1+h*T.bounds.width()),R=m):(k=m,R=h==null?T.y:Math.round(T.bounds.y1+h*T.bounds.height())),_.union(S.bounds.translate(k-(S.x||0),R-(S.y||0))),S.x=k,S.y=R,e.dirty(S),g=s(g,_[u])}return g}function Cde(e,t,n,r,i,o){if(t){e.dirty(t);var s=n,a=n;r?s=Math.round(i.x1+o*i.width()):a=Math.round(i.y1+o*i.height()),t.bounds.translate(s-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=a,e.dirty(t)}}function $_t(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function L_t(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function F_t(e,t,n,r,i,o,s){const a=$_t(n,t),l=L_t(e,a("offset",0)),u=a("anchor",pQ),c=u===ol?1:u===YU?.5:0,d={align:KU,bounds:a("bounds",bQ),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case kd:d.anchor={x:Math.floor(r.x1)-l,column:ol,y:c*(s||r.height()+2*r.y1),row:u};break;case Pd:d.anchor={x:Math.ceil(r.x2)+l,y:c*(s||r.height()+2*r.y1),row:u};break;case Ix:d.anchor={y:Math.floor(i.y1)-l,row:ol,x:c*(o||i.width()+2*i.x1),column:u};break;case O0:d.anchor={y:Math.ceil(i.y2)+l,x:c*(o||i.width()+2*i.x1),column:u};break;case f_t:d.anchor={x:l,y:l};break;case h_t:d.anchor={x:o-l,y:l,column:ol};break;case p_t:d.anchor={x:l,y:s-l,row:ol};break;case m_t:d.anchor={x:o-l,y:s-l,column:ol,row:ol};break}return d}function j_t(e,t){var n=t.items[0],r=n.datum,i=n.orient,o=n.bounds,s=n.x,a=n.y,l,u;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),z_t(e,n,n.items[0].items[0]),o=B_t(n,o),l=2*n.padding,u=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),u=Math.ceil(o.height()+u)),r.type===x_t&&U_t(n.items[0].items[0].items[0].items),i!==vQ&&(n.x=s=0,n.y=a=0),n.width=l,n.height=u,jm(o.set(s,a,s+l,a+u),n),n.mark.bounds.clear().union(o),n}function B_t(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function z_t(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(!t.datum.title)(i||o)&&tE(e,n,i,o);else{var s=t.items[1].items[0],a=s.anchor,l=t.titlePadding||0,u=r-s.x,c=r-s.y;switch(s.orient){case kd:i+=Math.ceil(s.bounds.width())+l;break;case Pd:case O0:break;default:o+=s.bounds.height()+l}switch((i||o)&&tE(e,n,i,o),s.orient){case kd:c+=z1(t,n,s,a,1,1);break;case Pd:u+=z1(t,n,s,ol,0,0)+l,c+=z1(t,n,s,a,1,1);break;case O0:u+=z1(t,n,s,a,0,0),c+=z1(t,n,s,ol,-1,0,1)+l;break;default:u+=z1(t,n,s,a,0,0)}(u||c)&&tE(e,s,u,c),(u=Math.round(s.bounds.x1-r))<0&&(tE(e,n,-u,0),tE(e,s,-u,0))}}function z1(e,t,n,r,i,o,s){const a=e.datum.type!=="symbol",l=n.datum.vgrad,u=a&&(o||!l)&&!s?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,d=l&&o?c:0,f=l&&o?0:c,h=i<=0?0:nQ(n);return Math.round(r===pQ?d:r===ol?f-h:.5*(c-h))}function tE(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function U_t(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function H_t(e,t,n,r,i){var o=t.items[0],s=o.frame,a=o.orient,l=o.anchor,u=o.offset,c=o.padding,d=o.items[0].items[0],f=o.items[1]&&o.items[1].items[0],h=a===kd||a===Pd?r:n,p=0,m=0,g=0,v=0,y=0,x;if(s!==U6?a===kd?(p=i.y2,h=i.y1):a===Pd?(p=i.y1,h=i.y2):(p=i.x1,h=i.x2):a===kd&&(p=r,h=0),x=l===pQ?p:l===ol?h:(p+h)/2,f&&f.text){switch(a){case Ix:case O0:y=d.bounds.height()+c;break;case kd:v=d.bounds.width()+c;break;case Pd:v=-d.bounds.width()-c;break}ka.clear().union(f.bounds),ka.translate(v-(f.x||0),y-(f.y||0)),xw(f,"x",v)|xw(f,"y",y)&&(e.dirty(f),f.bounds.clear().union(ka),f.mark.bounds.clear().union(ka),e.dirty(f)),ka.clear().union(f.bounds)}else ka.clear();switch(ka.union(d.bounds),a){case Ix:m=x,g=i.y1-ka.height()-u;break;case kd:m=i.x1-ka.width()-u,g=x;break;case Pd:m=i.x2+ka.width()+u,g=x;break;case O0:m=x,g=i.y2+u;break;default:m=o.x,g=o.y}return xw(o,"x",m)|xw(o,"y",g)&&(ka.translate(m,g),e.dirty(o),o.bounds.clear().union(ka),t.bounds.clear().union(ka),e.dirty(o)),o.bounds}function hRe(e){et.call(this,null,e)}It(hRe,et,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&O_t(n,r,e.layout),V_t(n,r,e)}),q_t(e.mark.group)?t.reflow():t}});function q_t(e){return e&&e.mark.role!=="legend-entry"}function V_t(e,t,n){var r=t.items,i=Math.max(0,t.width||0),o=Math.max(0,t.height||0),s=new Xo().set(0,0,i,o),a=s.clone(),l=s.clone(),u=[],c,d,f,h,p,m;for(p=0,m=r.length;p<m;++p)switch(d=r[p],d.role){case mQ:h=k_t(d)?a:l,h.union(R_t(e,d,i,o));break;case gQ:c=d;break;case yQ:u.push(j_t(e,d));break;case v_t:case b_t:case JAe:case ZAe:case eRe:case tRe:case nRe:case rRe:a.union(d.bounds),l.union(d.bounds);break;default:s.union(d.bounds)}if(u.length){const g={};u.forEach(v=>{f=v.orient||Pd,f!==vQ&&(g[f]||(g[f]=[])).push(v)});for(const v in g){const y=g[v];fRe(e,y,F_t(y,v,n.legends,a,l,i,o))}u.forEach(v=>{const y=v.bounds;if(y.equals(v._bounds)||(v.bounds=v._bounds,e.dirty(v),v.bounds=y,e.dirty(v)),n.autosize&&(n.autosize.type===iRe||n.autosize.type===oRe||n.autosize.type===sRe))switch(v.orient){case kd:case Pd:s.add(y.x1,0).add(y.x2,0);break;case Ix:case O0:s.add(0,y.y1).add(0,y.y2)}else s.union(y)})}s.union(a).union(l),c&&s.union(H_t(e,c,i,o,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),W_t(e,t,s,n)}function W_t(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let s=e._width,a=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1));const f=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-c));if(i.contains===w_t){const p=e.padding();s-=p.left+p.right,a-=p.top+p.bottom}o===vQ?(u=0,d=0,l=s,c=a):o===iRe?(l=Math.max(0,s-u-f),c=Math.max(0,a-d-h)):o===oRe?(l=Math.max(0,s-u-f),a=c+d+h):o===sRe?(s=l+u+f,c=Math.max(0,a-d-h)):o===C_t&&(s=l+u+f,a=c+d+h),e._resizeView(s,a,l,c,[u,d],i.resize)}const G_t=Object.freeze(Object.defineProperty({__proto__:null,bound:aRe,identifier:wQ,mark:lRe,overlap:uRe,render:dRe,viewlayout:hRe},Symbol.toStringTag,{value:"Module"}));function pRe(e){et.call(this,null,e)}It(pRe,et,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,a=FX(o,s,e.minstep),l=e.format||Uke(n,o,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?zke(o,e.values,a):jX(o,a);return i&&(r.rem=i),i=u.map((c,d)=>Zr({index:d/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(Zr({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function mRe(e){et.call(this,null,e)}function Y_t(){return Zr({})}function K_t(e){const t=kC().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}It(mRe,et,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||Y_t,o=e.key||mn,s=this.value;return cn(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(o))&&it("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=K_t(o)),t.visit(t.ADD,a=>{const l=o(a);let u=s.get(l);u?u.exit?(s.empty--,r.add.push(u)):r.mod.push(u):(u=i(a),s.set(l,u),r.add.push(u)),u.datum=a,u.exit=!1}),t.visit(t.MOD,a=>{const l=o(a),u=s.get(l);u&&(u.datum=a,r.mod.push(u))}),t.visit(t.REM,a=>{const l=o(a),u=s.get(l);a===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function gRe(e){et.call(this,null,e)}It(gRe,et,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(cn(o))if(n.changed()||o.every(d=>i[d]))o=o[0],n.encode=null;else return t.StopPropagation;var s=o==="enter",a=i.update||Eg,l=i.enter||Eg,u=i.exit||Eg,c=(o&&!s?i[o]:a)||Eg;if(t.changed(t.ADD)&&(t.visit(t.ADD,d=>{l(d,e),a(d,e)}),n.modifies(l.output),n.modifies(a.output),c!==Eg&&c!==a&&(t.visit(t.ADD,d=>{c(d,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==Eg&&(t.visit(t.REM,d=>{u(d,e)}),n.modifies(u.output)),s||c!==Eg){const d=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(d,f=>{const h=l(f,e)||r;(c(f,e)||h)&&n.mod.push(f)}),n.mod.length&&n.modifies(l.output)):t.visit(d,f=>{(c(f,e)||r)&&n.mod.push(f)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function yRe(e){et.call(this,[],e)}It(yRe,et,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.type||OP,s=e.scale,a=+e.limit,l=FX(s,e.count==null?5:e.count,e.minstep),u=!!e.values||o===OP,c=e.format||Wke(n,s,l,o,e.formatSpecifier,e.formatType,u),d=e.values||Vke(s,l),f,h,p,m,g;return i&&(r.rem=i),o===OP?(a&&d.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=d.slice(0,a-1),g=!0):i=d,nr(p=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),m=i.reduce((v,y)=>Math.max(v,p(y,e)),0)):p=qa(m=p||8),i=i.map((v,y)=>Zr({index:y,label:c(v,y,i),value:v,offset:m,size:p(v,e)})),g&&(g=d[i.length],i.push(Zr({index:i.length,label:`${d.length-i.length} entries`,value:g,offset:m,size:p(g,e)})))):o===xwt?(f=s.domain(),h=Fke(s,f[0],Er(f)),d.length<3&&!e.values&&f[0]!==Er(f)&&(d=[f[0],Er(f)]),i=d.map((v,y)=>Zr({index:y,label:c(v,y,d),value:v,perc:h(v)}))):(p=d.length-1,h=Pwt(s),i=d.map((v,y)=>Zr({index:y,label:c(v,y,d),value:v,perc:y?h(v):0,perc2:y===p?1:h(d[y+1])}))),r.source=i,r.add=i,this.value=i,r}});const X_t=e=>e.source.x,Q_t=e=>e.source.y,J_t=e=>e.target.x,Z_t=e=>e.target.y;function xQ(e){et.call(this,{},e)}xQ.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};It(xQ,et,{transform(e,t){var n=e.sourceX||X_t,r=e.sourceY||Q_t,i=e.targetX||J_t,o=e.targetY||Z_t,s=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",u=_de.get(l+"-"+a)||_de.get(l);return u||it("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[s]=u(n(c),r(c),i(c),o(c))}),t.reflow(e.modified()).modifies(s)}});const vRe=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,eEt=(e,t,n,r)=>vRe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),bRe=(e,t,n,r)=>{var i=n-e,o=r-t,s=Math.hypot(i,o)/2,a=180*Math.atan2(o,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+a+" 0 1 "+n+","+r},tEt=(e,t,n,r)=>bRe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),wRe=(e,t,n,r)=>{const i=n-e,o=r-t,s=.2*(i+o),a=.2*(o-i);return"M"+e+","+t+"C"+(e+s)+","+(t+a)+" "+(n+a)+","+(r-s)+" "+n+","+r},nEt=(e,t,n,r)=>wRe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),rEt=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,iEt=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,oEt=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*s+","+t*a+"L"+r*s+","+r*a},sEt=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},aEt=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},lEt=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*o+"C"+l*i+","+l*o+" "+l*s+","+l*a+" "+r*s+","+r*a},_de=kC({line:vRe,"line-radial":eEt,arc:bRe,"arc-radial":tEt,curve:wRe,"curve-radial":nEt,"orthogonal-horizontal":rEt,"orthogonal-vertical":iEt,"orthogonal-radial":oEt,"diagonal-horizontal":sEt,"diagonal-vertical":aEt,"diagonal-radial":lEt});function CQ(e){et.call(this,null,e)}CQ.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};It(CQ,et,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],o=e.field||TC,s=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(o),c=u.length,d=s,f=(a-s)/MSe(u),h=Nu(c),p,m,g;for(e.sort&&h.sort((v,y)=>u[v]-u[y]),p=0;p<c;++p)g=u[h[p]],m=l[h[p]],m[r]=d,m[i]=d+=g*f;return this.value=u,t.reflow(e.modified()).modifies(n)}});const uEt=5;function cEt(e){const t=e.type;return!e.bins&&(t===Ex||t===ck||t===dk)}function xRe(e){return MX(e)&&e!==xh}const dEt=Jd(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function CRe(e){et.call(this,null,e),this.modified(!0)}It(CRe,et,{transform(e,t){var n=t.dataflow,r=this.value,i=fEt(e);(!r||i!==r.type)&&(this.value=r=Gr(i)());for(i in e)if(!dEt[i]){if(i==="padding"&&xRe(r.type))continue;nr(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return vEt(r,e,yEt(r,e,pEt(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function fEt(e){var t=e.type,n="",r;return t===xh?xh+"-"+Ex:(hEt(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?xh+"-":r===3?MC+"-":""),(n+t||Ex).toLowerCase())}function hEt(e){const t=e.type;return MX(t)&&t!==Zv&&t!==eb&&(e.scheme||e.range&&e.range.length&&e.range.every(Vr))}function pEt(e,t,n){const r=mEt(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,s=t.zero||t.zero===void 0&&cEt(e),a,l;if(!i)return 0;if((s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[a]?a+1:l<i[0]?0:a;u!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return xRe(o)&&t.padding&&i[0]!==Er(i)&&(i=gEt(o,i,t.range,t.padding,t.exponent,t.constant)),e.domain(_Re(o,i,n)),o===DX&&e.unknown(t.domainImplicit?RU:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&FX(e,t.nice)||null),i.length}function mEt(e,t,n){return t?(e.domain(_Re(e.type,t,n)),t.length):-1}function gEt(e,t,n,r,i,o){var s=Math.abs(Er(n)-n[0]),a=s/(s-2*r),l=e===ym?XY(t,null,a):e===dk?vO(t,null,a,.5):e===ck?vO(t,null,a,i||1):e===k6?QY(t,null,a,o||1):KY(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function _Re(e,t,n){if(Oke(e)){var r=Math.abs(t.reduce((i,o)=>i+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+an(t))}return t}function yEt(e,t,n){let r=t.bins;if(r&&!cn(r)){const i=e.domain(),o=i[0],s=Er(i),a=r.step;let l=r.start==null?o:r.start,u=r.stop==null?s:r.stop;a||it("Scale bins parameter missing step property."),l<o&&(l=a*Math.ceil(o/a)),u>s&&(u=a*Math.floor(s/a)),r=Nu(l,u+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===PX&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function vEt(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=bEt(r,t,n);else if(t.scheme&&(o=wEt(r,t,n),nr(o))){if(e.interpolator)return e.interpolator(o);it(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&Nke(r))return e.interpolator(I6(XU(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate($X(t.interpolate,t.interpolateGamma)):nr(e.round)?e.round(i):nr(e.rangeRound)&&e.interpolate(i?lk:ey),o&&e.range(XU(o,t.reverse))}function bEt(e,t,n){e!==kke&&e!==MU&&it("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===MU?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*IX(n,i,r)]}function wEt(e,t,n){var r=t.schemeExtent,i,o;return cn(t.scheme)?o=I6(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=LX(i),o||it(`Unrecognized scheme name: ${t.scheme}`)),n=e===R6?n+1:e===PX?n-1:e===Sx||e===A6?+t.schemeCount||uEt:n,Nke(e)?Ede(o,r,t.reverse):nr(o)?Lke(Ede(o,r),n):e===DX?o:o.slice(0,n)}function Ede(e,t,n){return nr(e)&&(t||n)?$ke(e,XU(t||[0,1],n)):e}function XU(e,t){return t?e.slice().reverse():e}function ERe(e){et.call(this,null,e)}It(ERe,et,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Lb(e.sort)),this.modified(n),t}});const Sde="zero",SRe="center",TRe="normalize",kRe=["y0","y1"];function _Q(e){et.call(this,null,e)}_Q.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Sde,values:[Sde,SRe,TRe]},{name:"as",type:"string",array:!0,length:2,default:kRe}]};It(_Q,et,{transform(e,t){var n=e.as||kRe,r=n[0],i=n[1],o=Lb(e.sort),s=e.field||TC,a=e.offset===SRe?xEt:e.offset===TRe?CEt:_Et,l,u,c,d;for(l=EEt(t.source,e.groupby,o,s),u=0,c=l.length,d=l.max;u<c;++u)a(l[u],d,s,r,i);return t.reflow(e.modified()).modifies(n)}});function xEt(e,t,n,r,i){for(var o=(t-e.sum)/2,s=e.length,a=0,l;a<s;++a)l=e[a],l[r]=o,l[i]=o+=Math.abs(n(l))}function CEt(e,t,n,r,i){for(var o=1/e.sum,s=0,a=e.length,l=0,u=0,c;l<a;++l)c=e[l],c[r]=s,c[i]=s=o*(u+=Math.abs(n(c)))}function _Et(e,t,n,r,i){for(var o=0,s=0,a=e.length,l=0,u,c;l<a;++l)c=e[l],u=+n(c),u<0?(c[r]=s,c[i]=s+=u):(c[r]=o,c[i]=o+=u)}function EEt(e,t,n,r){var i=[],o=m=>m(c),s,a,l,u,c,d,f,h,p;if(t==null)i.push(e.slice());else for(s={},a=0,l=e.length;a<l;++a)c=e[a],d=t.map(o),f=s[d],f||(s[d]=f=[],i.push(f)),f.push(c);for(d=0,p=0,u=i.length;d<u;++d){for(f=i[d],a=0,h=0,l=f.length;a<l;++a)h+=Math.abs(r(f[a]));f.sum=h,h>p&&(p=h),n&&f.sort(n)}return i.max=p,i}const SEt=Object.freeze(Object.defineProperty({__proto__:null,axisticks:pRe,datajoin:mRe,encode:gRe,legendentries:yRe,linkpath:xQ,pie:CQ,scale:CRe,sortitems:ERe,stack:_Q},Symbol.toStringTag,{value:"Module"}));var Cn=1e-6,YO=1e-12,hr=Math.PI,yo=hr/2,KO=hr/4,Cl=hr*2,Do=180/hr,ur=hr/180,_r=Math.abs,LC=Math.atan,Bc=Math.atan2,Tn=Math.cos,XR=Math.ceil,ARe=Math.exp,QU=Math.hypot,XO=Math.log,o9=Math.pow,gn=Math.sin,Sc=Math.sign||function(e){return e>0?1:e<0?-1:0},_l=Math.sqrt,EQ=Math.tan;function RRe(e){return e>1?0:e<-1?hr:Math.acos(e)}function ru(e){return e>1?yo:e<-1?-yo:Math.asin(e)}function ra(){}function QO(e,t){e&&kde.hasOwnProperty(e.type)&&kde[e.type](e,t)}var Tde={Feature:function(e,t){QO(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)QO(n[r].geometry,t)}},kde={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){JU(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)JU(n[r],t,0)},Polygon:function(e,t){Ade(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Ade(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)QO(n[r],t)}};function JU(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function Ade(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)JU(e[n],t,1);t.polygonEnd()}function Pp(e,t){e&&Tde.hasOwnProperty(e.type)?Tde[e.type](e,t):QO(e,t)}var JO=new gl,ZO=new gl,IRe,DRe,ZU,eH,tH,Oh={point:ra,lineStart:ra,lineEnd:ra,polygonStart:function(){JO=new gl,Oh.lineStart=TEt,Oh.lineEnd=kEt},polygonEnd:function(){var e=+JO;ZO.add(e<0?Cl+e:e),this.lineStart=this.lineEnd=this.point=ra},sphere:function(){ZO.add(Cl)}};function TEt(){Oh.point=AEt}function kEt(){PRe(IRe,DRe)}function AEt(e,t){Oh.point=PRe,IRe=e,DRe=t,e*=ur,t*=ur,ZU=e,eH=Tn(t=t/2+KO),tH=gn(t)}function PRe(e,t){e*=ur,t*=ur,t=t/2+KO;var n=e-ZU,r=n>=0?1:-1,i=r*n,o=Tn(t),s=gn(t),a=tH*s,l=eH*o+a*Tn(i),u=a*r*gn(i);JO.add(Bc(u,l)),ZU=e,eH=o,tH=s}function REt(e){return ZO=new gl,Pp(e,Oh),ZO*2}function eN(e){return[Bc(e[1],e[0]),ru(e[2])]}function nb(e){var t=e[0],n=e[1],r=Tn(n);return[r*Tn(t),r*gn(t),gn(n)]}function QR(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Dx(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function s9(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function JR(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function tN(e){var t=_l(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var io,Vl,ho,Au,Jy,ORe,NRe,Uw,OS,Pg,vm,Ap={point:nH,lineStart:Rde,lineEnd:Ide,polygonStart:function(){Ap.point=$Re,Ap.lineStart=IEt,Ap.lineEnd=DEt,OS=new gl,Oh.polygonStart()},polygonEnd:function(){Oh.polygonEnd(),Ap.point=nH,Ap.lineStart=Rde,Ap.lineEnd=Ide,JO<0?(io=-(ho=180),Vl=-(Au=90)):OS>Cn?Au=90:OS<-Cn&&(Vl=-90),vm[0]=io,vm[1]=ho},sphere:function(){io=-(ho=180),Vl=-(Au=90)}};function nH(e,t){Pg.push(vm=[io=e,ho=e]),t<Vl&&(Vl=t),t>Au&&(Au=t)}function MRe(e,t){var n=nb([e*ur,t*ur]);if(Uw){var r=Dx(Uw,n),i=[r[1],-r[0],0],o=Dx(i,r);tN(o),o=eN(o);var s=e-Jy,a=s>0?1:-1,l=o[0]*Do*a,u,c=_r(s)>180;c^(a*Jy<l&&l<a*e)?(u=o[1]*Do,u>Au&&(Au=u)):(l=(l+360)%360-180,c^(a*Jy<l&&l<a*e)?(u=-o[1]*Do,u<Vl&&(Vl=u)):(t<Vl&&(Vl=t),t>Au&&(Au=t))),c?e<Jy?Su(io,e)>Su(io,ho)&&(ho=e):Su(e,ho)>Su(io,ho)&&(io=e):ho>=io?(e<io&&(io=e),e>ho&&(ho=e)):e>Jy?Su(io,e)>Su(io,ho)&&(ho=e):Su(e,ho)>Su(io,ho)&&(io=e)}else Pg.push(vm=[io=e,ho=e]);t<Vl&&(Vl=t),t>Au&&(Au=t),Uw=n,Jy=e}function Rde(){Ap.point=MRe}function Ide(){vm[0]=io,vm[1]=ho,Ap.point=nH,Uw=null}function $Re(e,t){if(Uw){var n=e-Jy;OS.add(_r(n)>180?n+(n>0?360:-360):n)}else ORe=e,NRe=t;Oh.point(e,t),MRe(e,t)}function IEt(){Oh.lineStart()}function DEt(){$Re(ORe,NRe),Oh.lineEnd(),_r(OS)>Cn&&(io=-(ho=180)),vm[0]=io,vm[1]=ho,Uw=null}function Su(e,t){return(t-=e)<0?t+360:t}function PEt(e,t){return e[0]-t[0]}function Dde(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function OEt(e){var t,n,r,i,o,s,a;if(Au=ho=-(io=Vl=1/0),Pg=[],Pp(e,Ap),n=Pg.length){for(Pg.sort(PEt),t=1,r=Pg[0],o=[r];t<n;++t)i=Pg[t],Dde(r,i[0])||Dde(r,i[1])?(Su(r[0],i[1])>Su(r[0],r[1])&&(r[1]=i[1]),Su(i[0],r[1])>Su(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=i,++t)i=o[t],(a=Su(r[1],i[0]))>s&&(s=a,io=i[0],ho=r[1])}return Pg=vm=null,io===1/0||Vl===1/0?[[NaN,NaN],[NaN,NaN]]:[[io,Vl],[ho,Au]]}var WE,nN,rN,iN,oN,sN,aN,lN,rH,iH,oH,LRe,FRe,sl,al,ll,Od={sphere:ra,point:SQ,lineStart:Pde,lineEnd:Ode,polygonStart:function(){Od.lineStart=$Et,Od.lineEnd=LEt},polygonEnd:function(){Od.lineStart=Pde,Od.lineEnd=Ode}};function SQ(e,t){e*=ur,t*=ur;var n=Tn(t);_k(n*Tn(e),n*gn(e),gn(t))}function _k(e,t,n){++WE,rN+=(e-rN)/WE,iN+=(t-iN)/WE,oN+=(n-oN)/WE}function Pde(){Od.point=NEt}function NEt(e,t){e*=ur,t*=ur;var n=Tn(t);sl=n*Tn(e),al=n*gn(e),ll=gn(t),Od.point=MEt,_k(sl,al,ll)}function MEt(e,t){e*=ur,t*=ur;var n=Tn(t),r=n*Tn(e),i=n*gn(e),o=gn(t),s=Bc(_l((s=al*o-ll*i)*s+(s=ll*r-sl*o)*s+(s=sl*i-al*r)*s),sl*r+al*i+ll*o);nN+=s,sN+=s*(sl+(sl=r)),aN+=s*(al+(al=i)),lN+=s*(ll+(ll=o)),_k(sl,al,ll)}function Ode(){Od.point=SQ}function $Et(){Od.point=FEt}function LEt(){jRe(LRe,FRe),Od.point=SQ}function FEt(e,t){LRe=e,FRe=t,e*=ur,t*=ur,Od.point=jRe;var n=Tn(t);sl=n*Tn(e),al=n*gn(e),ll=gn(t),_k(sl,al,ll)}function jRe(e,t){e*=ur,t*=ur;var n=Tn(t),r=n*Tn(e),i=n*gn(e),o=gn(t),s=al*o-ll*i,a=ll*r-sl*o,l=sl*i-al*r,u=QU(s,a,l),c=ru(u),d=u&&-c/u;rH.add(d*s),iH.add(d*a),oH.add(d*l),nN+=c,sN+=c*(sl+(sl=r)),aN+=c*(al+(al=i)),lN+=c*(ll+(ll=o)),_k(sl,al,ll)}function jEt(e){WE=nN=rN=iN=oN=sN=aN=lN=0,rH=new gl,iH=new gl,oH=new gl,Pp(e,Od);var t=+rH,n=+iH,r=+oH,i=QU(t,n,r);return i<YO&&(t=sN,n=aN,r=lN,nN<Cn&&(t=rN,n=iN,r=oN),i=QU(t,n,r),i<YO)?[NaN,NaN]:[Bc(n,t)*Do,ru(r/i)*Do]}function sH(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function aH(e,t){return _r(e)>hr&&(e-=Math.round(e/Cl)*Cl),[e,t]}aH.invert=aH;function BRe(e,t,n){return(e%=Cl)?t||n?sH(Mde(e),$de(t,n)):Mde(e):t||n?$de(t,n):aH}function Nde(e){return function(t,n){return t+=e,_r(t)>hr&&(t-=Math.round(t/Cl)*Cl),[t,n]}}function Mde(e){var t=Nde(e);return t.invert=Nde(-e),t}function $de(e,t){var n=Tn(e),r=gn(e),i=Tn(t),o=gn(t);function s(a,l){var u=Tn(l),c=Tn(a)*u,d=gn(a)*u,f=gn(l),h=f*n+c*r;return[Bc(d*i-h*o,c*n-f*r),ru(h*i+d*o)]}return s.invert=function(a,l){var u=Tn(l),c=Tn(a)*u,d=gn(a)*u,f=gn(l),h=f*i-d*o;return[Bc(d*i+f*o,c*n+h*r),ru(h*n-c*r)]},s}function BEt(e){e=BRe(e[0]*ur,e[1]*ur,e.length>2?e[2]*ur:0);function t(n){return n=e(n[0]*ur,n[1]*ur),n[0]*=Do,n[1]*=Do,n}return t.invert=function(n){return n=e.invert(n[0]*ur,n[1]*ur),n[0]*=Do,n[1]*=Do,n},t}function zEt(e,t,n,r,i,o){if(n){var s=Tn(t),a=gn(t),l=r*n;i==null?(i=t+r*Cl,o=t-l/2):(i=Lde(s,i),o=Lde(s,o),(r>0?i<o:i>o)&&(i+=r*Cl));for(var u,c=i;r>0?c>o:c<o;c-=l)u=eN([s,-a*Tn(c),-a*gn(c)]),e.point(u[0],u[1])}}function Lde(e,t){t=nb(t),t[0]-=e,tN(t);var n=RRe(-t[1]);return((-t[2]<0?-n:n)+Cl-Cn)%Cl}function zRe(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:ra,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function UP(e,t){return _r(e[0]-t[0])<Cn&&_r(e[1]-t[1])<Cn}function ZR(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function URe(e,t,n,r,i){var o=[],s=[],a,l;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],v=p[m],y;if(UP(g,v)){if(!g[2]&&!v[2]){for(i.lineStart(),a=0;a<m;++a)i.point((g=p[a])[0],g[1]);i.lineEnd();return}v[0]+=2*Cn}o.push(y=new ZR(g,p,null,!0)),s.push(y.o=new ZR(g,null,y,!1)),o.push(y=new ZR(v,p,null,!1)),s.push(y.o=new ZR(v,null,y,!0))}}),!!o.length){for(s.sort(t),Fde(o),Fde(s),a=0,l=s.length;a<l;++a)s[a].e=n=!n;for(var u=o[0],c,d;;){for(var f=u,h=!0;f.v;)if((f=f.n)===u)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(a=0,l=c.length;a<l;++a)i.point((d=c[a])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(h)for(c=f.p.z,a=c.length-1;a>=0;--a)i.point((d=c[a])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,h=!h}while(!f.v);i.lineEnd()}}}function Fde(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function a9(e){return _r(e[0])<=hr?e[0]:Sc(e[0])*((_r(e[0])+hr)%Cl-hr)}function UEt(e,t){var n=a9(t),r=t[1],i=gn(r),o=[gn(n),-Tn(n),0],s=0,a=0,l=new gl;i===1?r=yo+Cn:i===-1&&(r=-yo-Cn);for(var u=0,c=e.length;u<c;++u)if(f=(d=e[u]).length)for(var d,f,h=d[f-1],p=a9(h),m=h[1]/2+KO,g=gn(m),v=Tn(m),y=0;y<f;++y,p=E,g=S,v=T,h=x){var x=d[y],E=a9(x),_=x[1]/2+KO,S=gn(_),T=Tn(_),k=E-p,R=k>=0?1:-1,I=R*k,P=I>hr,N=g*S;if(l.add(Bc(N*R*gn(I),v*T+N*Tn(I))),s+=P?k+R*Cl:k,P^p>=n^E>=n){var M=Dx(nb(h),nb(x));tN(M);var O=Dx(o,M);tN(O);var j=(P^k>=0?-1:1)*ru(O[2]);(r>j||r===j&&(M[0]||M[1]))&&(a+=P^k>=0?1:-1)}}return(s<-Cn||s<Cn&&l<-YO)^a&1}function HRe(e,t,n,r){return function(i){var o=t(i),s=zRe(),a=t(s),l=!1,u,c,d,f={point:h,lineStart:m,lineEnd:g,polygonStart:function(){f.point=v,f.lineStart=y,f.lineEnd=x,c=[],u=[]},polygonEnd:function(){f.point=h,f.lineStart=m,f.lineEnd=g,c=NSe(c);var E=UEt(u,r);c.length?(l||(i.polygonStart(),l=!0),URe(c,qEt,E,n,i)):E&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(E,_){e(E,_)&&i.point(E,_)}function p(E,_){o.point(E,_)}function m(){f.point=p,o.lineStart()}function g(){f.point=h,o.lineEnd()}function v(E,_){d.push([E,_]),a.point(E,_)}function y(){a.lineStart(),d=[]}function x(){v(d[0][0],d[0][1]),a.lineEnd();var E=a.clean(),_=s.result(),S,T=_.length,k,R,I;if(d.pop(),u.push(d),d=null,!!T){if(E&1){if(R=_[0],(k=R.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),S=0;S<k;++S)i.point((I=R[S])[0],I[1]);i.lineEnd()}return}T>1&&E&2&&_.push(_.pop().concat(_.shift())),c.push(_.filter(HEt))}}return f}}function HEt(e){return e.length>1}function qEt(e,t){return((e=e.x)[0]<0?e[1]-yo-Cn:yo-e[1])-((t=t.x)[0]<0?t[1]-yo-Cn:yo-t[1])}const jde=HRe(function(){return!0},VEt,GEt,[-hr,-yo]);function VEt(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?hr:-hr,l=_r(o-t);_r(l-hr)<Cn?(e.point(t,n=(n+s)/2>0?yo:-yo),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&l>=hr&&(_r(t-r)<Cn&&(t-=r*Cn),_r(o-a)<Cn&&(o-=a*Cn),n=WEt(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function WEt(e,t,n,r){var i,o,s=gn(e-n);return _r(s)>Cn?LC((gn(t)*(o=Tn(r))*gn(n)-gn(r)*(i=Tn(t))*gn(e))/(i*o*s)):(t+r)/2}function GEt(e,t,n,r){var i;if(e==null)i=n*yo,r.point(-hr,i),r.point(0,i),r.point(hr,i),r.point(hr,0),r.point(hr,-i),r.point(0,-i),r.point(-hr,-i),r.point(-hr,0),r.point(-hr,i);else if(_r(e[0]-t[0])>Cn){var o=e[0]<t[0]?hr:-hr;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function YEt(e){var t=Tn(e),n=2*ur,r=t>0,i=_r(t)>Cn;function o(c,d,f,h){zEt(h,e,n,f,c,d)}function s(c,d){return Tn(c)*Tn(d)>t}function a(c){var d,f,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,v){var y=[g,v],x,E=s(g,v),_=r?E?0:u(g,v):E?u(g+(g<0?hr:-hr),v):0;if(!d&&(p=h=E)&&c.lineStart(),E!==h&&(x=l(d,y),(!x||UP(d,x)||UP(y,x))&&(y[2]=1)),E!==h)m=0,E?(c.lineStart(),x=l(y,d),c.point(x[0],x[1])):(x=l(d,y),c.point(x[0],x[1],2),c.lineEnd()),d=x;else if(i&&d&&r^E){var S;!(_&f)&&(S=l(y,d,!0))&&(m=0,r?(c.lineStart(),c.point(S[0][0],S[0][1]),c.point(S[1][0],S[1][1]),c.lineEnd()):(c.point(S[1][0],S[1][1]),c.lineEnd(),c.lineStart(),c.point(S[0][0],S[0][1],3)))}E&&(!d||!UP(d,y))&&c.point(y[0],y[1]),d=y,h=E,f=_},lineEnd:function(){h&&c.lineEnd(),d=null},clean:function(){return m|(p&&h)<<1}}}function l(c,d,f){var h=nb(c),p=nb(d),m=[1,0,0],g=Dx(h,p),v=QR(g,g),y=g[0],x=v-y*y;if(!x)return!f&&c;var E=t*v/x,_=-t*y/x,S=Dx(m,g),T=JR(m,E),k=JR(g,_);s9(T,k);var R=S,I=QR(T,R),P=QR(R,R),N=I*I-P*(QR(T,T)-1);if(!(N<0)){var M=_l(N),O=JR(R,(-I-M)/P);if(s9(O,T),O=eN(O),!f)return O;var j=c[0],U=d[0],q=c[1],W=d[1],V;U<j&&(V=j,j=U,U=V);var z=U-j,L=_r(z-hr)<Cn,H=L||z<Cn;if(!L&&W<q&&(V=q,q=W,W=V),H?L?q+W>0^O[1]<(_r(O[0]-j)<Cn?q:W):q<=O[1]&&O[1]<=W:z>hr^(j<=O[0]&&O[0]<=U)){var B=JR(R,(-I+M)/P);return s9(B,T),[O,eN(B)]}}}function u(c,d){var f=r?e:hr-e,h=0;return c<-f?h|=1:c>f&&(h|=2),d<-f?h|=4:d>f&&(h|=8),h}return HRe(s,a,o,r?[0,-e]:[-hr,e-hr])}function KEt(e,t,n,r,i,o){var s=e[0],a=e[1],l=t[0],u=t[1],c=0,d=1,f=l-s,h=u-a,p;if(p=n-s,!(!f&&p>0)){if(p/=f,f<0){if(p<c)return;p<d&&(d=p)}else if(f>0){if(p>d)return;p>c&&(c=p)}if(p=i-s,!(!f&&p<0)){if(p/=f,f<0){if(p>d)return;p>c&&(c=p)}else if(f>0){if(p<c)return;p<d&&(d=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>c&&(c=p)}if(p=o-a,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<d&&(d=p)}return c>0&&(e[0]=s+c*f,e[1]=a+c*h),d<1&&(t[0]=s+d*f,t[1]=a+d*h),!0}}}}}var GE=1e9,eI=-GE;function qRe(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function o(u,c,d,f){var h=0,p=0;if(u==null||(h=s(u,d))!==(p=s(c,d))||l(u,c)<0^d>0)do f.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+d+4)%4)!==p);else f.point(c[0],c[1])}function s(u,c){return _r(u[0]-e)<Cn?c>0?0:3:_r(u[0]-n)<Cn?c>0?2:1:_r(u[1]-t)<Cn?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var d=s(u,1),f=s(c,1);return d!==f?d-f:d===0?c[1]-u[1]:d===1?u[0]-c[0]:d===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,d=zRe(),f,h,p,m,g,v,y,x,E,_,S,T={point:k,lineStart:N,lineEnd:M,polygonStart:I,polygonEnd:P};function k(j,U){i(j,U)&&c.point(j,U)}function R(){for(var j=0,U=0,q=h.length;U<q;++U)for(var W=h[U],V=1,z=W.length,L=W[0],H,B,Y=L[0],Q=L[1];V<z;++V)H=Y,B=Q,L=W[V],Y=L[0],Q=L[1],B<=r?Q>r&&(Y-H)*(r-B)>(Q-B)*(e-H)&&++j:Q<=r&&(Y-H)*(r-B)<(Q-B)*(e-H)&&--j;return j}function I(){c=d,f=[],h=[],S=!0}function P(){var j=R(),U=S&&j,q=(f=NSe(f)).length;(U||q)&&(u.polygonStart(),U&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),q&&URe(f,a,j,o,u),u.polygonEnd()),c=u,f=h=p=null}function N(){T.point=O,h&&h.push(p=[]),_=!0,E=!1,y=x=NaN}function M(){f&&(O(m,g),v&&E&&d.rejoin(),f.push(d.result())),T.point=k,E&&c.lineEnd()}function O(j,U){var q=i(j,U);if(h&&p.push([j,U]),_)m=j,g=U,v=q,_=!1,q&&(c.lineStart(),c.point(j,U));else if(q&&E)c.point(j,U);else{var W=[y=Math.max(eI,Math.min(GE,y)),x=Math.max(eI,Math.min(GE,x))],V=[j=Math.max(eI,Math.min(GE,j)),U=Math.max(eI,Math.min(GE,U))];KEt(W,V,e,t,n,r)?(E||(c.lineStart(),c.point(W[0],W[1])),c.point(V[0],V[1]),q||c.lineEnd(),S=!1):q&&(c.lineStart(),c.point(j,U),S=!1)}y=j,x=U,E=q}return T}}function Bde(e,t,n){var r=Nu(e,t-Cn,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function zde(e,t,n){var r=Nu(e,t-Cn,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function XEt(){var e,t,n,r,i,o,s,a,l=10,u=l,c=90,d=360,f,h,p,m,g=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return Nu(XR(r/c)*c,n,c).map(p).concat(Nu(XR(a/d)*d,s,d).map(m)).concat(Nu(XR(t/l)*l,e,l).filter(function(x){return _r(x%c)>Cn}).map(f)).concat(Nu(XR(o/u)*u,i,u).filter(function(x){return _r(x%d)>Cn}).map(h))}return v.lines=function(){return y().map(function(x){return{type:"LineString",coordinates:x}})},v.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(m(s).slice(1),p(n).reverse().slice(1),m(a).reverse().slice(1))]}},v.extent=function(x){return arguments.length?v.extentMajor(x).extentMinor(x):v.extentMinor()},v.extentMajor=function(x){return arguments.length?(r=+x[0][0],n=+x[1][0],a=+x[0][1],s=+x[1][1],r>n&&(x=r,r=n,n=x),a>s&&(x=a,a=s,s=x),v.precision(g)):[[r,a],[n,s]]},v.extentMinor=function(x){return arguments.length?(t=+x[0][0],e=+x[1][0],o=+x[0][1],i=+x[1][1],t>e&&(x=t,t=e,e=x),o>i&&(x=o,o=i,i=x),v.precision(g)):[[t,o],[e,i]]},v.step=function(x){return arguments.length?v.stepMajor(x).stepMinor(x):v.stepMinor()},v.stepMajor=function(x){return arguments.length?(c=+x[0],d=+x[1],v):[c,d]},v.stepMinor=function(x){return arguments.length?(l=+x[0],u=+x[1],v):[l,u]},v.precision=function(x){return arguments.length?(g=+x,f=Bde(o,i,90),h=zde(t,e,g),p=Bde(a,s,90),m=zde(r,n,g),v):g},v.extentMajor([[-180,-90+Cn],[180,90-Cn]]).extentMinor([[-180,-80-Cn],[180,80+Cn]])}const q2=e=>e;var l9=new gl,lH=new gl,VRe,WRe,uH,cH,Op={point:ra,lineStart:ra,lineEnd:ra,polygonStart:function(){Op.lineStart=QEt,Op.lineEnd=ZEt},polygonEnd:function(){Op.lineStart=Op.lineEnd=Op.point=ra,l9.add(_r(lH)),lH=new gl},result:function(){var e=l9/2;return l9=new gl,e}};function QEt(){Op.point=JEt}function JEt(e,t){Op.point=GRe,VRe=uH=e,WRe=cH=t}function GRe(e,t){lH.add(cH*e-uH*t),uH=e,cH=t}function ZEt(){GRe(VRe,WRe)}var Px=1/0,uN=Px,V2=-Px,cN=V2,dN={point:eSt,lineStart:ra,lineEnd:ra,polygonStart:ra,polygonEnd:ra,result:function(){var e=[[Px,uN],[V2,cN]];return V2=cN=-(uN=Px=1/0),e}};function eSt(e,t){e<Px&&(Px=e),e>V2&&(V2=e),t<uN&&(uN=t),t>cN&&(cN=t)}var dH=0,fH=0,YE=0,fN=0,hN=0,Cw=0,hH=0,pH=0,KE=0,YRe,KRe,nh,rh,wc={point:rb,lineStart:Ude,lineEnd:Hde,polygonStart:function(){wc.lineStart=rSt,wc.lineEnd=iSt},polygonEnd:function(){wc.point=rb,wc.lineStart=Ude,wc.lineEnd=Hde},result:function(){var e=KE?[hH/KE,pH/KE]:Cw?[fN/Cw,hN/Cw]:YE?[dH/YE,fH/YE]:[NaN,NaN];return dH=fH=YE=fN=hN=Cw=hH=pH=KE=0,e}};function rb(e,t){dH+=e,fH+=t,++YE}function Ude(){wc.point=tSt}function tSt(e,t){wc.point=nSt,rb(nh=e,rh=t)}function nSt(e,t){var n=e-nh,r=t-rh,i=_l(n*n+r*r);fN+=i*(nh+e)/2,hN+=i*(rh+t)/2,Cw+=i,rb(nh=e,rh=t)}function Hde(){wc.point=rb}function rSt(){wc.point=oSt}function iSt(){XRe(YRe,KRe)}function oSt(e,t){wc.point=XRe,rb(YRe=nh=e,KRe=rh=t)}function XRe(e,t){var n=e-nh,r=t-rh,i=_l(n*n+r*r);fN+=i*(nh+e)/2,hN+=i*(rh+t)/2,Cw+=i,i=rh*e-nh*t,hH+=i*(nh+e),pH+=i*(rh+t),KE+=i*3,rb(nh=e,rh=t)}function QRe(e){this._context=e}QRe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Cl);break}}},result:ra};var mH=new gl,u9,JRe,ZRe,XE,QE,W2={point:ra,lineStart:function(){W2.point=sSt},lineEnd:function(){u9&&eIe(JRe,ZRe),W2.point=ra},polygonStart:function(){u9=!0},polygonEnd:function(){u9=null},result:function(){var e=+mH;return mH=new gl,e}};function sSt(e,t){W2.point=eIe,JRe=XE=e,ZRe=QE=t}function eIe(e,t){XE-=e,QE-=t,mH.add(_l(XE*XE+QE*QE)),XE=e,QE=t}let qde,pN,Vde,Wde;class Gde{constructor(t){this._append=t==null?tIe:aSt(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Vde||this._append!==pN){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Vde=r,pN=this._append,Wde=this._,this._=i}this._+=Wde;break}}}result(){const t=this._;return this._="",t.length?t:null}}function tIe(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function aSt(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return tIe;if(t!==qde){const n=10**t;qde=t,pN=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return pN}function nIe(e,t){let n=3,r=4.5,i,o;function s(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Pp(a,i(o))),o.result()}return s.area=function(a){return Pp(a,i(Op)),Op.result()},s.measure=function(a){return Pp(a,i(W2)),W2.result()},s.bounds=function(a){return Pp(a,i(dN)),dN.result()},s.centroid=function(a){return Pp(a,i(wc)),wc.result()},s.projection=function(a){return arguments.length?(i=a==null?(e=null,q2):(e=a).stream,s):e},s.context=function(a){return arguments.length?(o=a==null?(t=null,new Gde(n)):new QRe(t=a),typeof r!="function"&&o.pointRadius(r),s):t},s.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),s):r},s.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(o=new Gde(n)),s},s.projection(e).digits(n).context(t)}function H6(e){return function(t){var n=new gH;for(var r in e)n[r]=e[r];return n.stream=t,n}}function gH(){}gH.prototype={constructor:gH,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function TQ(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Pp(n,e.stream(dN)),t(dN.result()),r!=null&&e.clipExtent(r),e}function q6(e,t,n){return TQ(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},n)}function kQ(e,t,n){return q6(e,[[0,0],t],n)}function AQ(e,t,n){return TQ(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function RQ(e,t,n){return TQ(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}var Yde=16,lSt=Tn(30*ur);function Kde(e,t){return+t?cSt(e,t):uSt(e)}function uSt(e){return H6({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function cSt(e,t){function n(r,i,o,s,a,l,u,c,d,f,h,p,m,g){var v=u-r,y=c-i,x=v*v+y*y;if(x>4*t&&m--){var E=s+f,_=a+h,S=l+p,T=_l(E*E+_*_+S*S),k=ru(S/=T),R=_r(_r(S)-1)<Cn||_r(o-d)<Cn?(o+d)/2:Bc(_,E),I=e(R,k),P=I[0],N=I[1],M=P-r,O=N-i,j=y*M-v*O;(j*j/x>t||_r((v*M+y*O)/x-.5)>.3||s*f+a*h+l*p<lSt)&&(n(r,i,o,s,a,l,P,N,R,E/=T,_/=T,S,m,g),g.point(P,N),n(P,N,R,E,_,S,u,c,d,f,h,p,m,g))}}return function(r){var i,o,s,a,l,u,c,d,f,h,p,m,g={point:v,lineStart:y,lineEnd:E,polygonStart:function(){r.polygonStart(),g.lineStart=_},polygonEnd:function(){r.polygonEnd(),g.lineStart=y}};function v(k,R){k=e(k,R),r.point(k[0],k[1])}function y(){d=NaN,g.point=x,r.lineStart()}function x(k,R){var I=nb([k,R]),P=e(k,R);n(d,f,c,h,p,m,d=P[0],f=P[1],c=k,h=I[0],p=I[1],m=I[2],Yde,r),r.point(d,f)}function E(){g.point=v,r.lineEnd()}function _(){y(),g.point=S,g.lineEnd=T}function S(k,R){x(i=k,R),o=d,s=f,a=h,l=p,u=m,g.point=x}function T(){n(d,f,c,h,p,m,o,s,i,a,l,u,Yde,r),g.lineEnd=E,E()}return g}}var dSt=H6({point:function(e,t){this.stream.point(e*ur,t*ur)}});function fSt(e){return H6({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function hSt(e,t,n,r,i){function o(s,a){return s*=r,a*=i,[t+e*s,n-e*a]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function Xde(e,t,n,r,i,o){if(!o)return hSt(e,t,n,r,i);var s=Tn(o),a=gn(o),l=s*e,u=a*e,c=s/e,d=a/e,f=(a*n-s*t)/e,h=(a*t+s*n)/e;function p(m,g){return m*=r,g*=i,[l*m-u*g+t,n-u*m-l*g]}return p.invert=function(m,g){return[r*(c*m-d*g+f),i*(h-d*m-c*g)]},p}function Kh(e){return rIe(function(){return e})()}function rIe(e){var t,n=150,r=480,i=250,o=0,s=0,a=0,l=0,u=0,c,d=0,f=1,h=1,p=null,m=jde,g=null,v,y,x,E=q2,_=.5,S,T,k,R,I;function P(j){return k(j[0]*ur,j[1]*ur)}function N(j){return j=k.invert(j[0],j[1]),j&&[j[0]*Do,j[1]*Do]}P.stream=function(j){return R&&I===j?R:R=dSt(fSt(c)(m(S(E(I=j)))))},P.preclip=function(j){return arguments.length?(m=j,p=void 0,O()):m},P.postclip=function(j){return arguments.length?(E=j,g=v=y=x=null,O()):E},P.clipAngle=function(j){return arguments.length?(m=+j?YEt(p=j*ur):(p=null,jde),O()):p*Do},P.clipExtent=function(j){return arguments.length?(E=j==null?(g=v=y=x=null,q2):qRe(g=+j[0][0],v=+j[0][1],y=+j[1][0],x=+j[1][1]),O()):g==null?null:[[g,v],[y,x]]},P.scale=function(j){return arguments.length?(n=+j,M()):n},P.translate=function(j){return arguments.length?(r=+j[0],i=+j[1],M()):[r,i]},P.center=function(j){return arguments.length?(o=j[0]%360*ur,s=j[1]%360*ur,M()):[o*Do,s*Do]},P.rotate=function(j){return arguments.length?(a=j[0]%360*ur,l=j[1]%360*ur,u=j.length>2?j[2]%360*ur:0,M()):[a*Do,l*Do,u*Do]},P.angle=function(j){return arguments.length?(d=j%360*ur,M()):d*Do},P.reflectX=function(j){return arguments.length?(f=j?-1:1,M()):f<0},P.reflectY=function(j){return arguments.length?(h=j?-1:1,M()):h<0},P.precision=function(j){return arguments.length?(S=Kde(T,_=j*j),O()):_l(_)},P.fitExtent=function(j,U){return q6(P,j,U)},P.fitSize=function(j,U){return kQ(P,j,U)},P.fitWidth=function(j,U){return AQ(P,j,U)},P.fitHeight=function(j,U){return RQ(P,j,U)};function M(){var j=Xde(n,0,0,f,h,d).apply(null,t(o,s)),U=Xde(n,r-j[0],i-j[1],f,h,d);return c=BRe(a,l,u),T=sH(t,U),k=sH(c,T),S=Kde(T,_),O()}function O(){return R=I=null,P}return function(){return t=e.apply(this,arguments),P.invert=t.invert&&N,M()}}function IQ(e){var t=0,n=hr/3,r=rIe(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*ur,n=o[1]*ur):[t*Do,n*Do]},i}function pSt(e){var t=Tn(e);function n(r,i){return[r*t,gn(i)/t]}return n.invert=function(r,i){return[r/t,ru(i*t)]},n}function mSt(e,t){var n=gn(e),r=(n+gn(t))/2;if(_r(r)<Cn)return pSt(e);var i=1+n*(2*r-n),o=_l(i)/r;function s(a,l){var u=_l(i-2*r*gn(l))/r;return[u*gn(a*=r),o-u*Tn(a)]}return s.invert=function(a,l){var u=o-l,c=Bc(a,_r(u))*Sc(u);return u*r<0&&(c-=hr*Sc(a)*Sc(u)),[c/r,ru((i-(a*a+u*u)*r*r)/(2*r))]},s}function mN(){return IQ(mSt).scale(155.424).center([0,33.6442])}function iIe(){return mN().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function gSt(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function ySt(){var e,t,n=iIe(),r,i=mN().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=mN().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(f,h){l=[f,h]}};function c(f){var h=f[0],p=f[1];return l=null,r.point(h,p),l||(o.point(h,p),l)||(a.point(h,p),l)}c.invert=function(f){var h=n.scale(),p=n.translate(),m=(f[0]-p[0])/h,g=(f[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?s:n).invert(f)},c.stream=function(f){return e&&t===f?e:e=gSt([n.stream(t=f),i.stream(f),s.stream(f)])},c.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),s.precision(f),d()):n.precision()},c.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),s.scale(f),c.translate(n.translate())):n.scale()},c.translate=function(f){if(!arguments.length)return n.translate();var h=n.scale(),p=+f[0],m=+f[1];return r=n.translate(f).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(u),o=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+Cn,m+.12*h+Cn],[p-.214*h-Cn,m+.234*h-Cn]]).stream(u),a=s.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+Cn,m+.166*h+Cn],[p-.115*h-Cn,m+.234*h-Cn]]).stream(u),d()},c.fitExtent=function(f,h){return q6(c,f,h)},c.fitSize=function(f,h){return kQ(c,f,h)},c.fitWidth=function(f,h){return AQ(c,f,h)},c.fitHeight=function(f,h){return RQ(c,f,h)};function d(){return e=t=null,c}return c.scale(1070)}function oIe(e){return function(t,n){var r=Tn(t),i=Tn(n),o=e(r*i);return o===1/0?[2,0]:[o*i*gn(t),o*gn(n)]}}function Ek(e){return function(t,n){var r=_l(t*t+n*n),i=e(r),o=gn(i),s=Tn(i);return[Bc(t*o,r*s),ru(r&&n*o/r)]}}var sIe=oIe(function(e){return _l(2/(1+e))});sIe.invert=Ek(function(e){return 2*ru(e/2)});function vSt(){return Kh(sIe).scale(124.75).clipAngle(180-.001)}var aIe=oIe(function(e){return(e=RRe(e))&&e/gn(e)});aIe.invert=Ek(function(e){return e});function bSt(){return Kh(aIe).scale(79.4188).clipAngle(180-.001)}function V6(e,t){return[e,XO(EQ((yo+t)/2))]}V6.invert=function(e,t){return[e,2*LC(ARe(t))-yo]};function wSt(){return lIe(V6).scale(961/Cl)}function lIe(e){var t=Kh(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null,a,l,u;t.scale=function(d){return arguments.length?(r(d),c()):r()},t.translate=function(d){return arguments.length?(i(d),c()):i()},t.center=function(d){return arguments.length?(n(d),c()):n()},t.clipExtent=function(d){return arguments.length?(d==null?s=a=l=u=null:(s=+d[0][0],a=+d[0][1],l=+d[1][0],u=+d[1][1]),c()):s==null?null:[[s,a],[l,u]]};function c(){var d=hr*r(),f=t(BEt(t.rotate()).invert([0,0]));return o(s==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:e===V6?[[Math.max(f[0]-d,s),a],[Math.min(f[0]+d,l),u]]:[[s,Math.max(f[1]-d,a)],[l,Math.min(f[1]+d,u)]])}return c()}function tI(e){return EQ((yo+e)/2)}function xSt(e,t){var n=Tn(e),r=e===t?gn(e):XO(n/Tn(t))/XO(tI(t)/tI(e)),i=n*o9(tI(e),r)/r;if(!r)return V6;function o(s,a){i>0?a<-yo+Cn&&(a=-yo+Cn):a>yo-Cn&&(a=yo-Cn);var l=i/o9(tI(a),r);return[l*gn(r*s),i-l*Tn(r*s)]}return o.invert=function(s,a){var l=i-a,u=Sc(r)*_l(s*s+l*l),c=Bc(s,_r(l))*Sc(l);return l*r<0&&(c-=hr*Sc(s)*Sc(l)),[c/r,2*LC(o9(i/u,1/r))-yo]},o}function CSt(){return IQ(xSt).scale(109.5).parallels([30,30])}function gN(e,t){return[e,t]}gN.invert=gN;function _St(){return Kh(gN).scale(152.63)}function ESt(e,t){var n=Tn(e),r=e===t?gn(e):(n-Tn(t))/(t-e),i=n/r+e;if(_r(r)<Cn)return gN;function o(s,a){var l=i-a,u=r*s;return[l*gn(u),i-l*Tn(u)]}return o.invert=function(s,a){var l=i-a,u=Bc(s,_r(l))*Sc(l);return l*r<0&&(u-=hr*Sc(s)*Sc(l)),[u/r,i-Sc(r)*_l(s*s+l*l)]},o}function SSt(){return IQ(ESt).scale(131.154).center([0,13.9389])}var NS=1.340264,MS=-.081106,$S=893e-6,LS=.003796,yN=_l(3)/2,TSt=12;function uIe(e,t){var n=ru(yN*gn(t)),r=n*n,i=r*r*r;return[e*Tn(n)/(yN*(NS+3*MS*r+i*(7*$S+9*LS*r))),n*(NS+MS*r+i*($S+LS*r))]}uIe.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,s,a,l;o<TSt&&(a=n*(NS+MS*r+i*($S+LS*r))-t,l=NS+3*MS*r+i*(7*$S+9*LS*r),n-=s=a/l,r=n*n,i=r*r*r,!(_r(s)<YO));++o);return[yN*e*(NS+3*MS*r+i*(7*$S+9*LS*r))/Tn(n),ru(gn(n)/yN)]};function kSt(){return Kh(uIe).scale(177.158)}function cIe(e,t){var n=Tn(t),r=Tn(e)*n;return[n*gn(e)/r,gn(t)/r]}cIe.invert=Ek(LC);function ASt(){return Kh(cIe).scale(144.049).clipAngle(60)}function RSt(){var e=1,t=0,n=0,r=1,i=1,o=0,s,a,l=null,u,c,d,f=1,h=1,p=H6({point:function(E,_){var S=x([E,_]);this.stream.point(S[0],S[1])}}),m=q2,g,v;function y(){return f=e*r,h=e*i,g=v=null,x}function x(E){var _=E[0]*f,S=E[1]*h;if(o){var T=S*s-_*a;_=_*s+S*a,S=T}return[_+t,S+n]}return x.invert=function(E){var _=E[0]-t,S=E[1]-n;if(o){var T=S*s+_*a;_=_*s-S*a,S=T}return[_/f,S/h]},x.stream=function(E){return g&&v===E?g:g=p(m(v=E))},x.postclip=function(E){return arguments.length?(m=E,l=u=c=d=null,y()):m},x.clipExtent=function(E){return arguments.length?(m=E==null?(l=u=c=d=null,q2):qRe(l=+E[0][0],u=+E[0][1],c=+E[1][0],d=+E[1][1]),y()):l==null?null:[[l,u],[c,d]]},x.scale=function(E){return arguments.length?(e=+E,y()):e},x.translate=function(E){return arguments.length?(t=+E[0],n=+E[1],y()):[t,n]},x.angle=function(E){return arguments.length?(o=E%360*ur,a=gn(o),s=Tn(o),y()):o*Do},x.reflectX=function(E){return arguments.length?(r=E?-1:1,y()):r<0},x.reflectY=function(E){return arguments.length?(i=E?-1:1,y()):i<0},x.fitExtent=function(E,_){return q6(x,E,_)},x.fitSize=function(E,_){return kQ(x,E,_)},x.fitWidth=function(E,_){return AQ(x,E,_)},x.fitHeight=function(E,_){return RQ(x,E,_)},x}function dIe(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}dIe.invert=function(e,t){var n=t,r=25,i;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while(_r(i)>Cn&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function ISt(){return Kh(dIe).scale(175.295)}function fIe(e,t){return[Tn(t)*gn(e),gn(t)]}fIe.invert=Ek(ru);function DSt(){return Kh(fIe).scale(249.5).clipAngle(90+Cn)}function hIe(e,t){var n=Tn(t),r=1+Tn(e)*n;return[n*gn(e)/r,gn(t)/r]}hIe.invert=Ek(function(e){return 2*LC(e)});function PSt(){return Kh(hIe).scale(250).clipAngle(142)}function pIe(e,t){return[XO(EQ((yo+t)/2)),-e]}pIe.invert=function(e,t){return[-t,2*LC(ARe(e))-yo]};function OSt(){var e=lIe(pIe),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var NSt=Math.abs,yH=Math.cos,vN=Math.sin,MSt=1e-6,mIe=Math.PI,vH=mIe/2,Qde=$St(2);function Jde(e){return e>1?vH:e<-1?-vH:Math.asin(e)}function $St(e){return e>0?Math.sqrt(e):0}function LSt(e,t){var n=e*vN(t),r=30,i;do t-=i=(t+vN(t)-n)/(1+yH(t));while(NSt(i)>MSt&&--r>0);return t/2}function FSt(e,t,n){function r(i,o){return[e*i*yH(o=LSt(n,o)),t*vN(o)]}return r.invert=function(i,o){return o=Jde(o/t),[i/(e*yH(o)),Jde((2*o+vN(2*o))/n)]},r}var jSt=FSt(Qde/vH,Qde,mIe);function BSt(){return Kh(jSt).scale(169.529)}const zSt=nIe(),bH=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function USt(e,t){return function n(){const r=t();return r.type=e,r.path=nIe().projection(r),r.copy=r.copy||function(){const i=n();return bH.forEach(o=>{r[o]&&i[o](r[o]())}),i.path.pointRadius(r.path.pointRadius()),i},Dke(r)}}function DQ(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(bN[e]=USt(e,t),this):bN[e]||null}function gIe(e){return e&&e.path||zSt}const bN={albers:iIe,albersusa:ySt,azimuthalequalarea:vSt,azimuthalequidistant:bSt,conicconformal:CSt,conicequalarea:mN,conicequidistant:SSt,equalEarth:kSt,equirectangular:_St,gnomonic:ASt,identity:RSt,mercator:wSt,mollweide:BSt,naturalEarth1:ISt,orthographic:DSt,stereographic:PSt,transversemercator:OSt};for(const e in bN)DQ(e,bN[e]);function HSt(){}const vp=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function yIe(){var e=1,t=1,n=a;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],d=[];return o(l,u,f=>{n(f,l,u),qSt(f)>0?c.push([f]):d.push(f)}),d.forEach(f=>{for(var h=0,p=c.length,m;h<p;++h)if(VSt((m=c[h])[0],f)!==-1){m.push(f);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function o(l,u,c){var d=[],f=[],h,p,m,g,v,y;for(h=p=-1,g=l[0]>=u,vp[g<<1].forEach(x);++h<e-1;)m=g,g=l[h+1]>=u,vp[m|g<<1].forEach(x);for(vp[g<<0].forEach(x);++p<t-1;){for(h=-1,g=l[p*e+e]>=u,v=l[p*e]>=u,vp[g<<1|v<<2].forEach(x);++h<e-1;)m=g,g=l[p*e+e+h+1]>=u,y=v,v=l[p*e+h+1]>=u,vp[m|g<<1|v<<2|y<<3].forEach(x);vp[g|v<<3].forEach(x)}for(h=-1,v=l[p*e]>=u,vp[v<<2].forEach(x);++h<e-1;)y=v,v=l[p*e+h+1]>=u,vp[v<<2|y<<3].forEach(x);vp[v<<3].forEach(x);function x(E){var _=[E[0][0]+h,E[0][1]+p],S=[E[1][0]+h,E[1][1]+p],T=s(_),k=s(S),R,I;(R=f[T])?(I=d[k])?(delete f[R.end],delete d[I.start],R===I?(R.ring.push(S),c(R.ring)):d[R.start]=f[I.end]={start:R.start,end:I.end,ring:R.ring.concat(I.ring)}):(delete f[R.end],R.ring.push(S),f[R.end=k]=R):(R=d[k])?(I=f[T])?(delete d[R.start],delete f[I.end],R===I?(R.ring.push(S),c(R.ring)):d[I.start]=f[R.end]={start:I.start,end:R.end,ring:I.ring.concat(R.ring)}):(delete d[R.start],R.ring.unshift(_),d[R.start=T]=R):d[T]=f[k]={start:T,end:k,ring:[_,S]}}}function s(l){return l[0]*2+l[1]*(e+1)*4}function a(l,u,c){l.forEach(d=>{var f=d[0],h=d[1],p=f|0,m=h|0,g,v=u[m*e+p];f>0&&f<e&&p===f&&(g=u[m*e+p-1],d[0]=f+(c-g)/(v-g)-.5),h>0&&h<t&&m===h&&(g=u[(m-1)*e+p],d[1]=h+(c-g)/(v-g)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||it("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?a:HSt,r):n===a},r}function qSt(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function VSt(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=WSt(e,t[n]))return i;return 0}function WSt(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],u=l[0],c=l[1],d=e[a],f=d[0],h=d[1];if(GSt(l,d,t))return 0;c>r!=h>r&&n<(f-u)*(r-c)/(h-c)+u&&(i=-i)}return i}function GSt(e,t,n){var r;return YSt(e,t,n)&&KSt(e[r=+(e[0]===t[0])],n[r],t[r])}function YSt(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function KSt(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function vIe(e,t,n){return function(r){var i=Rh(r),o=n?Math.min(i[0],0):i[0],s=i[1],a=s-o,l=t?T0(o,s,e):a/(e+1);return Nu(o+l,s,l)}}function PQ(e){et.call(this,null,e)}PQ.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};It(PQ,et,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||xl,o=yIe().smooth(e.smooth!==!1),s=e.thresholds||XSt(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),d=o.size([c.width,c.height])(c.values,cn(s)?s:s(c.values));QSt(d,c,u,e),d.forEach(f=>{l.push(l6(u,Zr(a!=null?{[a]:f}:f)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function XSt(e,t,n){const r=vIe(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>Iv(t(i).values)))}function QSt(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(nr(i)&&(i=i(n,r)),nr(o)&&(o=o(n,r)),(i===1||i==null)&&!o)return;const s=(E0(i)?i:i[0])||1,a=(E0(i)?i:i[1])||1,l=o&&o[0]||0,u=o&&o[1]||0;e.forEach(bIe(t,s,a,l,u))}function bIe(e,t,n,r,i){const o=e.x1||0,s=e.y1||0,a=t*n<0;function l(d){d.forEach(u)}function u(d){a&&d.reverse(),d.forEach(c)}function c(d){d[0]=(d[0]-o)*t+r,d[1]=(d[1]-s)*n+i}return function(d){return d.coordinates.forEach(l),d}}function Zde(e,t,n){const r=e>=0?e:_K(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function c9(e){return nr(e)?e:qa(+e)}function wIe(){var e=l=>l[0],t=l=>l[1],n=TC,r=[-1,-1],i=960,o=500,s=2;function a(l,u){const c=Zde(r[0],l,e)>>s,d=Zde(r[1],l,t)>>s,f=c?c+2:0,h=d?d+2:0,p=2*f+(i>>s),m=2*h+(o>>s),g=new Float32Array(p*m),v=new Float32Array(p*m);let y=g;l.forEach(E=>{const _=f+(+e(E)>>s),S=h+(+t(E)>>s);_>=0&&_<p&&S>=0&&S<m&&(g[_+S*p]+=+n(E))}),c>0&&d>0?(U1(p,m,g,v,c),H1(p,m,v,g,d),U1(p,m,g,v,c),H1(p,m,v,g,d),U1(p,m,g,v,c),H1(p,m,v,g,d)):c>0?(U1(p,m,g,v,c),U1(p,m,v,g,c),U1(p,m,g,v,c),y=v):d>0&&(H1(p,m,g,v,d),H1(p,m,v,g,d),H1(p,m,g,v,d),y=v);const x=u?Math.pow(2,-2*s):1/MSe(y);for(let E=0,_=p*m;E<_;++E)y[E]*=x;return{values:y,scale:1<<s,width:p,height:m,x1:f,y1:h,x2:f+(i>>s),y2:h+(o>>s)}}return a.x=function(l){return arguments.length?(e=c9(l),a):e},a.y=function(l){return arguments.length?(t=c9(l),a):t},a.weight=function(l){return arguments.length?(n=c9(l),a):n},a.size=function(l){if(!arguments.length)return[i,o];var u=+l[0],c=+l[1];return u>=0&&c>=0||it("invalid size"),i=u,o=c,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||it("invalid cell size"),s=Math.floor(Math.log(l)/Math.LN2),a):1<<s},a.bandwidth=function(l){return arguments.length?(l=wn(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&it("invalid bandwidth"),r=l,a):r},a}function U1(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<t;++s)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+s*e]),a>=i&&(a>=o&&(l-=n[a-o+s*e]),r[a-i+s*e]=l/Math.min(a+1,e-1+o-a,o))}function H1(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<e;++s)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[s+a*e]),a>=i&&(a>=o&&(l-=n[s+(a-o)*e]),r[s+(a-i)*e]=l/Math.min(a+1,t-1+o-a,o))}function OQ(e){et.call(this,null,e)}OQ.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const JSt=["x","y","weight","size","cellSize","bandwidth"];function xIe(e,t){return JSt.forEach(n=>t[n]!=null?e[n](t[n]):0),e}It(OQ,et,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=ZSt(r,e.groupby),o=(e.groupby||[]).map(vo),s=xIe(wIe(),e),a=e.as||"grid",l=[];function u(c,d){for(let f=0;f<o.length;++f)c[o[f]]=d[f];return c}return l=i.map(c=>Zr(u({[a]:s(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function ZSt(e,t){var n=[],r=c=>c(a),i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function NQ(e){et.call(this,null,e)}NQ.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};It(NQ,et,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=yIe().smooth(e.smooth!==!1),i=e.values,o=e.thresholds||vIe(e.count||10,e.nice,!!i),s=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=xIe(wIe(),e)(i,!0),l=bIe(a,a.scale||1,a.scale||1,0,0),s=[a.width,a.height],i=a.values),o=cn(o)?o:o(i),i=r.size(s)(i,o),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(Zr),n}});const wH="Feature",MQ="FeatureCollection",e2t="MultiPoint";function $Q(e){et.call(this,null,e)}$Q.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};It($Q,et,{transform(e,t){var n=this._features,r=this._points,i=e.fields,o=i&&i[0],s=i&&i[1],a=e.geojson||!i&&xl,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(La(a))||o&&t.modified(La(o))||s&&t.modified(La(s)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,c=>n.push(a(c))),o&&s&&(t.visit(l,c=>{var d=o(c),f=s(c);d!=null&&f!=null&&(d=+d)===d&&(f=+f)===f&&r.push([d,f])}),n=n.concat({type:wH,geometry:{type:e2t,coordinates:r}})),this.value={type:MQ,features:n}}});function LQ(e){et.call(this,null,e)}LQ.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};It(LQ,et,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||xl,o=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=gIe(e.projection),n.materialize().reflow()):s=i===xl||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=t2t(r,e.pointRadius);return n.visit(s,l=>l[o]=r(i(l))),r.pointRadius(a),n.modifies(o)}});function t2t(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function FQ(e){et.call(this,null,e)}FQ.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};It(FQ,et,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],s=o[0],a=o[1],l;function u(c){const d=n([r(c),i(c)]);d?(c[s]=d[0],c[a]=d[1]):(c[s]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(o)}});function jQ(e){et.call(this,null,e)}jQ.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};It(jQ,et,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=n2t(gIe(e.projection),e.field||$c("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,s=>s[i]=r),n.modifies(i)}});function n2t(e,t,n){const r=n==null?i=>e(t(i)):i=>{var o=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(o),s};return r.context=i=>(e.context(i),r),r}function BQ(e){et.call(this,[],e),this.generator=XEt()}BQ.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};It(BQ,et,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const o in e)nr(r[o])&&r[o](e[o]);return i=r(),n.length?t.mod.push(I2e(n[0],i)):t.add.push(Zr(i)),n[0]=i,t}});function zQ(e){et.call(this,null,e)}zQ.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};It(zQ,et,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||xl,o=i2t(e.opacity,e),s=r2t(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?Iv(n.map(u=>Iv(i(u).values))):0};return n.forEach(u=>{const c=i(u),d=tr({},u,l);r||(d.$max=Iv(c.values||[])),u[a]=o2t(c,d,s.dep?s:qa(s(d)),o.dep?o:qa(o(d)))}),t.reflow(!0).modifies(a)}});function r2t(e,t){let n;return nr(e)?(n=r=>R0(e(r,t)),n.dep=CIe(e)):n=qa(R0(e||"#888")),n}function i2t(e,t){let n;return nr(e)?(n=r=>e(r,t),n.dep=CIe(e)):e?n=qa(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function CIe(e){if(!nr(e))return!1;const t=Jd(La(e));return t.$x||t.$y||t.$value||t.$max}function o2t(e,t,n,r){const i=e.width,o=e.height,s=e.x1||0,a=e.y1||0,l=e.x2||i,u=e.y2||o,c=e.values,d=c?g=>c[g]:Bg,f=d0(l-s,u-a),h=f.getContext("2d"),p=h.getImageData(0,0,l-s,u-a),m=p.data;for(let g=a,v=0;g<u;++g){t.$y=g-a;for(let y=s,x=g*i;y<l;++y,v+=4){t.$x=y-s,t.$value=d(y+x);const E=n(t);m[v+0]=E.r,m[v+1]=E.g,m[v+2]=E.b,m[v+3]=~~(255*r(t))}}return h.putImageData(p,0,0),f}function _Ie(e){et.call(this,null,e),this.modified(!0)}It(_Ie,et,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=a2t(e.type),bH.forEach(r=>{e[r]!=null&&efe(n,r,e[r])})):bH.forEach(r=>{e.modified(r)&&efe(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&s2t(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function s2t(e,t){const n=l2t(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function a2t(e){const t=DQ((e||"mercator").toLowerCase());return t||it("Unrecognized projection type: "+e),t()}function efe(e,t,n){nr(e[t])&&e[t](n)}function l2t(e){return e=wn(e),e.length===1?e[0]:{type:MQ,features:e.reduce((t,n)=>t.concat(u2t(n)),[])}}function u2t(e){return e.type===MQ?e.features:wn(e).filter(t=>t!=null).map(t=>t.type===wH?t:{type:wH,geometry:t})}const c2t=Object.freeze(Object.defineProperty({__proto__:null,contour:NQ,geojson:$Q,geopath:LQ,geopoint:FQ,geoshape:jQ,graticule:BQ,heatmap:zQ,isocontour:PQ,kde2d:OQ,projection:_Ie},Symbol.toStringTag,{value:"Module"}));function d2t(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=n.length,a,l=0,u=0;for(o=0;o<s;++o)a=n[o],l+=a.x,u+=a.y;for(l=(l/s-e)*r,u=(u/s-t)*r,o=0;o<s;++o)a=n[o],a.x-=l,a.y-=u}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function f2t(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return EIe(this.cover(t,n),t,n,e)}function EIe(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,s={data:r},a=e._x0,l=e._y0,u=e._x1,c=e._y1,d,f,h,p,m,g,v,y;if(!o)return e._root=s,e;for(;o.length;)if((m=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(f=(l+c)/2))?l=f:c=f,i=o,!(o=o[v=g<<1|m]))return i[v]=s,e;if(h=+e._x.call(null,o.data),p=+e._y.call(null,o.data),t===h&&n===p)return s.next=o,i?i[v]=s:e._root=s,e;do i=i?i[v]=new Array(4):e._root=new Array(4),(m=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(f=(l+c)/2))?l=f:c=f;while((v=g<<1|m)===(y=(p>=f)<<1|h>=d));return i[y]=o,i[v]=s,e}function h2t(e){var t,n,r=e.length,i,o,s=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,a[n]=o,i<l&&(l=i),i>c&&(c=i),o<u&&(u=o),o>d&&(d=o));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<r;++n)EIe(this,s[n],a[n],e[n]);return this}function p2t(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s=i-n||1,a=this._root,l,u;n>e||e>=i||r>t||t>=o;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=a,a=l,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function m2t(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function g2t(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function dl(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function y2t(e,t,n){var r,i=this._x0,o=this._y0,s,a,l,u,c=this._x1,d=this._y1,f=[],h=this._root,p,m;for(h&&f.push(new dl(h,i,o,c,d)),n==null?n=1/0:(i=e-n,o=t-n,c=e+n,d=t+n,n*=n);p=f.pop();)if(!(!(h=p.node)||(s=p.x0)>c||(a=p.y0)>d||(l=p.x1)<i||(u=p.y1)<o))if(h.length){var g=(s+l)/2,v=(a+u)/2;f.push(new dl(h[3],g,v,l,u),new dl(h[2],s,v,g,u),new dl(h[1],g,a,l,v),new dl(h[0],s,a,g,v)),(m=(t>=v)<<1|e>=g)&&(p=f[f.length-1],f[f.length-1]=f[f.length-1-m],f[f.length-1-m]=p)}else{var y=e-+this._x.call(null,h.data),x=t-+this._y.call(null,h.data),E=y*y+x*x;if(E<n){var _=Math.sqrt(n=E);i=e-_,o=t-_,c=e+_,d=t+_,r=h.data}}return r}function v2t(e){if(isNaN(c=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,s=this._x0,a=this._y0,l=this._x1,u=this._y1,c,d,f,h,p,m,g,v;if(!n)return this;if(n.length)for(;;){if((p=c>=(f=(s+l)/2))?s=f:l=f,(m=d>=(h=(a+u)/2))?a=h:u=h,t=n,!(n=n[g=m<<1|p]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(r=t,v=g)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[g]=o:delete t[g],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[v]=n:this._root=n),this):(this._root=o,this)}function b2t(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function w2t(){return this._root}function x2t(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function C2t(e){var t=[],n,r=this._root,i,o,s,a,l;for(r&&t.push(new dl(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(o+a)/2,c=(s+l)/2;(i=r[3])&&t.push(new dl(i,u,c,a,l)),(i=r[2])&&t.push(new dl(i,o,c,u,l)),(i=r[1])&&t.push(new dl(i,u,s,a,c)),(i=r[0])&&t.push(new dl(i,o,s,u,c))}return this}function _2t(e){var t=[],n=[],r;for(this._root&&t.push(new dl(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(s+l)/2,d=(a+u)/2;(o=i[0])&&t.push(new dl(o,s,a,c,d)),(o=i[1])&&t.push(new dl(o,c,a,l,d)),(o=i[2])&&t.push(new dl(o,s,d,c,u)),(o=i[3])&&t.push(new dl(o,c,d,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function E2t(e){return e[0]}function S2t(e){return arguments.length?(this._x=e,this):this._x}function T2t(e){return e[1]}function k2t(e){return arguments.length?(this._y=e,this):this._y}function UQ(e,t,n){var r=new HQ(t??E2t,n??T2t,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function HQ(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function tfe(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Al=UQ.prototype=HQ.prototype;Al.copy=function(){var e=new HQ(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=tfe(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=tfe(r));return e};Al.add=f2t;Al.addAll=h2t;Al.cover=p2t;Al.data=m2t;Al.extent=g2t;Al.find=y2t;Al.remove=v2t;Al.removeAll=b2t;Al.root=w2t;Al.size=x2t;Al.visit=C2t;Al.visitAfter=_2t;Al.x=S2t;Al.y=k2t;function hl(e){return function(){return e}}function Qg(e){return(e()-.5)*1e-6}function A2t(e){return e.x+e.vx}function R2t(e){return e.y+e.vy}function I2t(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=hl(e==null?1:+e));function s(){for(var u,c=t.length,d,f,h,p,m,g,v=0;v<o;++v)for(d=UQ(t,A2t,R2t).visitAfter(a),u=0;u<c;++u)f=t[u],m=n[f.index],g=m*m,h=f.x+f.vx,p=f.y+f.vy,d.visit(y);function y(x,E,_,S,T){var k=x.data,R=x.r,I=m+R;if(k){if(k.index>f.index){var P=h-k.x-k.vx,N=p-k.y-k.vy,M=P*P+N*N;M<I*I&&(P===0&&(P=Qg(r),M+=P*P),N===0&&(N=Qg(r),M+=N*N),M=(I-(M=Math.sqrt(M)))/M*i,f.vx+=(P*=M)*(I=(R*=R)/(g+R)),f.vy+=(N*=M)*I,k.vx-=P*(I=1-I),k.vy-=N*I)}return}return E>h+I||S<h-I||_>p+I||T<p-I}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,d;for(n=new Array(c),u=0;u<c;++u)d=t[u],n[d.index]=+e(d,u,t)}}return s.initialize=function(u,c){t=u,r=c,l()},s.iterations=function(u){return arguments.length?(o=+u,s):o},s.strength=function(u){return arguments.length?(i=+u,s):i},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:hl(+u),l(),s):e},s}function D2t(e){return e.index}function nfe(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function P2t(e){var t=D2t,n=d,r,i=hl(30),o,s,a,l,u,c=1;e==null&&(e=[]);function d(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function f(g){for(var v=0,y=e.length;v<c;++v)for(var x=0,E,_,S,T,k,R,I;x<y;++x)E=e[x],_=E.source,S=E.target,T=S.x+S.vx-_.x-_.vx||Qg(u),k=S.y+S.vy-_.y-_.vy||Qg(u),R=Math.sqrt(T*T+k*k),R=(R-o[x])/R*g*r[x],T*=R,k*=R,S.vx-=T*(I=l[x]),S.vy-=k*I,_.vx+=T*(I=1-I),_.vy+=k*I}function h(){if(s){var g,v=s.length,y=e.length,x=new Map(s.map((_,S)=>[t(_,S,s),_])),E;for(g=0,a=new Array(v);g<y;++g)E=e[g],E.index=g,typeof E.source!="object"&&(E.source=nfe(x,E.source)),typeof E.target!="object"&&(E.target=nfe(x,E.target)),a[E.source.index]=(a[E.source.index]||0)+1,a[E.target.index]=(a[E.target.index]||0)+1;for(g=0,l=new Array(y);g<y;++g)E=e[g],l[g]=a[E.source.index]/(a[E.source.index]+a[E.target.index]);r=new Array(y),p(),o=new Array(y),m()}}function p(){if(s)for(var g=0,v=e.length;g<v;++g)r[g]=+n(e[g],g,e)}function m(){if(s)for(var g=0,v=e.length;g<v;++g)o[g]=+i(e[g],g,e)}return f.initialize=function(g,v){s=g,u=v,h()},f.links=function(g){return arguments.length?(e=g,h(),f):e},f.id=function(g){return arguments.length?(t=g,f):t},f.iterations=function(g){return arguments.length?(c=+g,f):c},f.strength=function(g){return arguments.length?(n=typeof g=="function"?g:hl(+g),p(),f):n},f.distance=function(g){return arguments.length?(i=typeof g=="function"?g:hl(+g),m(),f):i},f}var O2t={value:()=>{}};function qQ(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new HP(n)}function HP(e){this._=e}function N2t(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}HP.prototype=qQ.prototype={constructor:HP,on:function(e,t){var n=this._,r=N2t(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=M2t(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=rfe(n[i],e.name,t);else if(t==null)for(i in n)n[i]=rfe(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new HP(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function M2t(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function rfe(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=O2t,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ox=0,JE=0,nE=0,SIe=1e3,wN,ZE,xN=0,ib=0,W6=0,G2=typeof performance=="object"&&performance.now?performance:Date,TIe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function G6(){return ib||(TIe($2t),ib=G2.now()+W6)}function $2t(){ib=0}function Y2(){this._call=this._time=this._next=null}Y2.prototype=VQ.prototype={constructor:Y2,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?G6():+n)+(t==null?0:+t),!this._next&&ZE!==this&&(ZE?ZE._next=this:wN=this,ZE=this),this._call=e,this._time=n,xH()},stop:function(){this._call&&(this._call=null,this._time=1/0,xH())}};function VQ(e,t,n){var r=new Y2;return r.restart(e,t,n),r}function L2t(){G6(),++Ox;for(var e=wN,t;e;)(t=ib-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ox}function ife(){ib=(xN=G2.now())+W6,Ox=JE=0;try{L2t()}finally{Ox=0,j2t(),ib=0}}function F2t(){var e=G2.now(),t=e-xN;t>SIe&&(W6-=t,xN=e)}function j2t(){for(var e,t=wN,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:wN=n);ZE=e,xH(r)}function xH(e){if(!Ox){JE&&(JE=clearTimeout(JE));var t=e-ib;t>24?(e<1/0&&(JE=setTimeout(ife,e-G2.now()-W6)),nE&&(nE=clearInterval(nE))):(nE||(xN=G2.now(),nE=setInterval(F2t,SIe)),Ox=1,TIe(ife))}}function ofe(e,t,n){var r=new Y2;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function B2t(e,t,n){var r=new Y2,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,s,a){s=+s,a=a==null?G6():+a,r._restart(function l(u){u+=i,r._restart(l,i+=s,a),o(u)},s,a)},r.restart(e,t,n),r)}const z2t=1664525,U2t=1013904223,sfe=4294967296;function H2t(){let e=1;return()=>(e=(z2t*e+U2t)%sfe)/sfe}function q2t(e){return e.x}function V2t(e){return e.y}var W2t=10,G2t=Math.PI*(3-Math.sqrt(5));function Y2t(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=VQ(d),u=qQ("tick","end"),c=H2t();e==null&&(e=[]);function d(){f(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function f(m){var g,v=e.length,y;m===void 0&&(m=1);for(var x=0;x<m;++x)for(n+=(o-n)*i,a.forEach(function(E){E(n)}),g=0;g<v;++g)y=e[g],y.fx==null?y.x+=y.vx*=s:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=s:(y.y=y.fy,y.vy=0);return t}function h(){for(var m=0,g=e.length,v;m<g;++m){if(v=e[m],v.index=m,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var y=W2t*Math.sqrt(.5+m),x=m*G2t;v.x=y*Math.cos(x),v.y=y*Math.sin(x)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function p(m){return m.initialize&&m.initialize(e,c),m}return h(),t={tick:f,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(m){return arguments.length?(e=m,h(),a.forEach(p),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(i=+m,t):+i},alphaTarget:function(m){return arguments.length?(o=+m,t):o},velocityDecay:function(m){return arguments.length?(s=1-m,t):1-s},randomSource:function(m){return arguments.length?(c=m,a.forEach(p),t):c},force:function(m,g){return arguments.length>1?(g==null?a.delete(m):a.set(m,p(g)),t):a.get(m)},find:function(m,g,v){var y=0,x=e.length,E,_,S,T,k;for(v==null?v=1/0:v*=v,y=0;y<x;++y)T=e[y],E=m-T.x,_=g-T.y,S=E*E+_*_,S<v&&(k=T,v=S);return k},on:function(m,g){return arguments.length>1?(u.on(m,g),t):u.on(m)}}}function K2t(){var e,t,n,r,i=hl(-30),o,s=1,a=1/0,l=.81;function u(h){var p,m=e.length,g=UQ(e,q2t,V2t).visitAfter(d);for(r=h,p=0;p<m;++p)t=e[p],g.visit(f)}function c(){if(e){var h,p=e.length,m;for(o=new Array(p),h=0;h<p;++h)m=e[h],o[m.index]=+i(m,h,e)}}function d(h){var p=0,m,g,v=0,y,x,E;if(h.length){for(y=x=E=0;E<4;++E)(m=h[E])&&(g=Math.abs(m.value))&&(p+=m.value,v+=g,y+=g*m.x,x+=g*m.y);h.x=y/v,h.y=x/v}else{m=h,m.x=m.data.x,m.y=m.data.y;do p+=o[m.data.index];while(m=m.next)}h.value=p}function f(h,p,m,g){if(!h.value)return!0;var v=h.x-t.x,y=h.y-t.y,x=g-p,E=v*v+y*y;if(x*x/l<E)return E<a&&(v===0&&(v=Qg(n),E+=v*v),y===0&&(y=Qg(n),E+=y*y),E<s&&(E=Math.sqrt(s*E)),t.vx+=v*h.value*r/E,t.vy+=y*h.value*r/E),!0;if(h.length||E>=a)return;(h.data!==t||h.next)&&(v===0&&(v=Qg(n),E+=v*v),y===0&&(y=Qg(n),E+=y*y),E<s&&(E=Math.sqrt(s*E)));do h.data!==t&&(x=o[h.data.index]*r/E,t.vx+=v*x,t.vy+=y*x);while(h=h.next)}return u.initialize=function(h,p){e=h,n=p,c()},u.strength=function(h){return arguments.length?(i=typeof h=="function"?h:hl(+h),c(),u):i},u.distanceMin=function(h){return arguments.length?(s=h*h,u):Math.sqrt(s)},u.distanceMax=function(h){return arguments.length?(a=h*h,u):Math.sqrt(a)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function X2t(e){var t=hl(.1),n,r,i;typeof e!="function"&&(e=hl(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:hl(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:hl(+a),s(),o):e},o}function Q2t(e){var t=hl(.1),n,r,i;typeof e!="function"&&(e=hl(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:hl(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:hl(+a),s(),o):e},o}const afe={center:d2t,collide:I2t,nbody:K2t,link:P2t,x:X2t,y:Q2t},eS="forces",CH=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],J2t=["static","iterations"],kIe=["x","y","vx","vy"];function WQ(e){et.call(this,null,e)}WQ.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:kIe}]};It(WQ,et,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(CH),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&AIe(n,e,0,t)):(this.value=n=eTt(t.source,e),n.on("tick",Z2t(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(J2t)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,u=a.length,c;l<u;++l)if(c=a[l],!(c.name!==eS||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,o=r.length,s;i<o;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(kIe)}});function Z2t(e,t){return()=>e.touch(t).run()}function eTt(e,t){const n=Y2t(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),AIe(n,t,!0).on("end",()=>o=!0)}function AIe(e,t,n,r){var i=wn(t.forces),o,s,a,l;for(o=0,s=CH.length;o<s;++o)a=CH[o],a!==eS&&t.modified(a)&&e[a](t[a]);for(o=0,s=i.length;o<s;++o)l=eS+o,a=n||t.modified(eS,o)?nTt(i[o]):r&&tTt(i[o],r)?e.force(l):null,a&&e.force(l,a);for(s=e.numForces||0;o<s;++o)e.force(eS+o,null);return e.numForces=i.length,e}function tTt(e,t){var n,r;for(n in e)if(nr(r=e[n])&&t.modified(La(r)))return 1;return 0}function nTt(e){var t,n;Dn(afe,e.force)||it("Unrecognized force: "+e.force),t=afe[e.force]();for(n in e)nr(t[n])&&rTt(t[n],e[n],e);return t}function rTt(e,t,n){e(nr(t)?r=>t(r,n):t)}const iTt=Object.freeze(Object.defineProperty({__proto__:null,force:WQ},Symbol.toStringTag,{value:"Module"}));function oTt(e,t){return e.parent===t.parent?1:2}function sTt(e){return e.reduce(aTt,0)/e.length}function aTt(e,t){return e+t.x}function lTt(e){return 1+e.reduce(uTt,0)}function uTt(e,t){return Math.max(e,t.y)}function cTt(e){for(var t;t=e.children;)e=t[0];return e}function dTt(e){for(var t;t=e.children;)e=t[t.length-1];return e}function fTt(){var e=oTt,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(f){var h=f.children;h?(f.x=sTt(h),f.y=lTt(h)):(f.x=s?a+=e(f,s):0,f.y=0,s=f)});var l=cTt(o),u=dTt(o),c=l.x-e(l,u)/2,d=u.x+e(u,l)/2;return o.eachAfter(r?function(f){f.x=(f.x-o.x)*t,f.y=(o.y-f.y)*n}:function(f){f.x=(f.x-c)/(d-c)*t,f.y=(1-(o.y?f.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function hTt(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function pTt(){return this.eachAfter(hTt)}function mTt(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function gTt(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function yTt(e,t){for(var n=this,r=[n],i=[],o,s,a,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function vTt(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function bTt(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function wTt(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function xTt(e){for(var t=this,n=CTt(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function CTt(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function _Tt(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function ETt(){return Array.from(this)}function STt(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function TTt(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*kTt(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function GQ(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=ITt)):t===void 0&&(t=RTt);for(var n=new Nx(e),r,i=[n],o,s,a,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new Nx(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(RIe)}function ATt(){return GQ(this).eachBefore(DTt)}function RTt(e){return e.children}function ITt(e){return Array.isArray(e)?e[1]:null}function DTt(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function RIe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Nx(e){this.data=e,this.depth=this.height=0,this.parent=null}Nx.prototype=GQ.prototype={constructor:Nx,count:pTt,each:mTt,eachAfter:yTt,eachBefore:gTt,find:vTt,sum:bTt,sort:wTt,path:xTt,ancestors:_Tt,descendants:ETt,leaves:STt,links:TTt,copy:ATt,[Symbol.iterator]:kTt};function qP(e){return e==null?null:IIe(e)}function IIe(e){if(typeof e!="function")throw new Error;return e}function sv(){return 0}function fw(e){return function(){return e}}const PTt=1664525,OTt=1013904223,lfe=4294967296;function NTt(){let e=1;return()=>(e=(PTt*e+OTt)%lfe)/lfe}function MTt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $Tt(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function LTt(e,t){for(var n=0,r=(e=$Tt(Array.from(e),t)).length,i=[],o,s;n<r;)o=e[n],s&&DIe(s,o)?++n:(s=jTt(i=FTt(i,o)),n=0);return s}function FTt(e,t){var n,r;if(d9(t,e))return[t];for(n=0;n<e.length;++n)if(nI(t,e[n])&&d9(tS(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(nI(tS(e[n],e[r]),t)&&nI(tS(e[n],t),e[r])&&nI(tS(e[r],t),e[n])&&d9(PIe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function nI(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function DIe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function d9(e,t){for(var n=0;n<t.length;++n)if(!DIe(e,t[n]))return!1;return!0}function jTt(e){switch(e.length){case 1:return BTt(e[0]);case 2:return tS(e[0],e[1]);case 3:return PIe(e[0],e[1],e[2])}}function BTt(e){return{x:e.x,y:e.y,r:e.r}}function tS(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,u=s-r,c=a-i,d=Math.sqrt(l*l+u*u);return{x:(n+o+l/d*c)/2,y:(r+s+u/d*c)/2,r:(d+i+a)/2}}function PIe(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,u=n.x,c=n.y,d=n.r,f=r-s,h=r-u,p=i-a,m=i-c,g=l-o,v=d-o,y=r*r+i*i-o*o,x=y-s*s-a*a+l*l,E=y-u*u-c*c+d*d,_=h*p-f*m,S=(p*E-m*x)/(_*2)-r,T=(m*g-p*v)/_,k=(h*x-f*E)/(_*2)-i,R=(f*v-h*g)/_,I=T*T+R*R-1,P=2*(o+S*T+k*R),N=S*S+k*k-o*o,M=-(Math.abs(I)>1e-6?(P+Math.sqrt(P*P-4*I*N))/(2*I):N/P);return{x:r+S+T*M,y:i+k+R*M,r:M}}function ufe(e,t,n){var r=e.x-t.x,i,o,s=e.y-t.y,a,l,u=r*r+s*s;u?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(i=(u+l-o)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(u+o-l)/(2*u),a=Math.sqrt(Math.max(0,o/u-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function cfe(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function dfe(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function rI(e){this._=e,this.next=null,this.previous=null}function zTt(e,t){if(!(o=(e=MTt(e)).length))return 0;var n,r,i,o,s,a,l,u,c,d,f;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;ufe(r,n,i=e[2]),n=new rI(n),r=new rI(r),i=new rI(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){ufe(n._,r._,i=e[l]),i=new rI(i),u=r.next,c=n.previous,d=r._.r,f=n._.r;do if(d<=f){if(cfe(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.next}else{if(cfe(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=dfe(n);(i=i.next)!==r;)(a=dfe(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=LTt(n,t),l=0;l<o;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function UTt(e){return Math.sqrt(e.value)}function HTt(){var e=null,t=1,n=1,r=sv;function i(o){const s=NTt();return o.x=t/2,o.y=n/2,e?o.eachBefore(ffe(e)).eachAfter(f9(r,.5,s)).eachBefore(hfe(1)):o.eachBefore(ffe(UTt)).eachAfter(f9(sv,1,s)).eachAfter(f9(r,o.r/Math.min(t,n),s)).eachBefore(hfe(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=qP(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:fw(+o),i):r},i}function ffe(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function f9(e,t,n){return function(r){if(i=r.children){var i,o,s=i.length,a=e(r)*t||0,l;if(a)for(o=0;o<s;++o)i[o].r+=a;if(l=zTt(i,n),a)for(o=0;o<s;++o)i[o].r-=a;r.r=l+a}}}function hfe(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function OIe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Sk(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(r-t)/e.value;++a<l;)s=o[a],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*u}function qTt(){var e=1,t=1,n=0,r=!1;function i(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(o(t,a)),r&&s.eachBefore(OIe),s}function o(s,a){return function(l){l.children&&Sk(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var u=l.x0,c=l.y0,d=l.x1-n,f=l.y1-n;d<u&&(u=d=(u+d)/2),f<c&&(c=f=(c+f)/2),l.x0=u,l.y0=c,l.x1=d,l.y1=f}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var VTt={depth:-1},pfe={},h9={};function WTt(e){return e.id}function GTt(e){return e.parentId}function mfe(){var e=WTt,t=GTt,n;function r(i){var o=Array.from(i),s=e,a=t,l,u,c,d,f,h,p,m,g=new Map;if(n!=null){const v=o.map((E,_)=>YTt(n(E,_,i))),y=v.map(gfe),x=new Set(v).add("");for(const E of y)x.has(E)||(x.add(E),v.push(E),y.push(gfe(E)),o.push(h9));s=(E,_)=>v[_],a=(E,_)=>y[_]}for(c=0,l=o.length;c<l;++c)u=o[c],h=o[c]=new Nx(u),(p=s(u,c,i))!=null&&(p+="")&&(m=h.id=p,g.set(m,g.has(m)?pfe:h)),(p=a(u,c,i))!=null&&(p+="")&&(h.parent=p);for(c=0;c<l;++c)if(h=o[c],p=h.parent){if(f=g.get(p),!f)throw new Error("missing: "+p);if(f===pfe)throw new Error("ambiguous: "+p);f.children?f.children.push(h):f.children=[h],h.parent=f}else{if(d)throw new Error("multiple roots");d=h}if(!d)throw new Error("no root");if(n!=null){for(;d.data===h9&&d.children.length===1;)d=d.children[0],--l;for(let v=o.length-1;v>=0&&(h=o[v],h.data===h9);--v)h.data=null}if(d.parent=VTt,d.eachBefore(function(v){v.depth=v.parent.depth+1,--l}).eachBefore(RIe),d.parent=null,l>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(e=qP(i),r):e},r.parentId=function(i){return arguments.length?(t=qP(i),r):t},r.path=function(i){return arguments.length?(n=qP(i),r):n},r}function YTt(e){e=`${e}`;let t=e.length;return _H(e,t-1)&&!_H(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function gfe(e){let t=e.length;if(t<2)return"";for(;--t>1&&!_H(e,t););return e.slice(0,t)}function _H(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function KTt(e,t){return e.parent===t.parent?1:2}function p9(e){var t=e.children;return t?t[0]:e.t}function m9(e){var t=e.children;return t?t[t.length-1]:e.t}function XTt(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function QTt(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function JTt(e,t,n){return e.a.parent===t.parent?e.a:n}function VP(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}VP.prototype=Object.create(Nx.prototype);function ZTt(e){for(var t=new VP(e,0),n,r=[t],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new VP(o[s],s)),i.parent=n;return(t.parent=new VP(null,0)).children=[t],t}function ekt(){var e=KTt,t=1,n=1,r=null;function i(u){var c=ZTt(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),r)u.eachBefore(l);else{var d=u,f=u,h=u;u.eachBefore(function(y){y.x<d.x&&(d=y),y.x>f.x&&(f=y),y.depth>h.depth&&(h=y)});var p=d===f?1:e(d,f)/2,m=p-d.x,g=t/(f.x+p+m),v=n/(h.depth||1);u.eachBefore(function(y){y.x=(y.x+m)*g,y.y=y.depth*v})}return u}function o(u){var c=u.children,d=u.parent.children,f=u.i?d[u.i-1]:null;if(c){QTt(u);var h=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+e(u._,f._),u.m=u.z-h):u.z=h}else f&&(u.z=f.z+e(u._,f._));u.parent.A=a(u,f,u.parent.A||d[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,c,d){if(c){for(var f=u,h=u,p=c,m=f.parent.children[0],g=f.m,v=h.m,y=p.m,x=m.m,E;p=m9(p),f=p9(f),p&&f;)m=p9(m),h=m9(h),h.a=u,E=p.z+y-f.z-g+e(p._,f._),E>0&&(XTt(JTt(p,u,d),u,E),g+=E,v+=E),y+=p.m,g+=f.m,x+=m.m,v+=h.m;p&&!m9(h)&&(h.t=p,h.m+=y-v),f&&!p9(m)&&(m.t=f,m.m+=g-x,d=u)}return d}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function Y6(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(i-n)/e.value;++a<l;)s=o[a],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*u}var NIe=(1+Math.sqrt(5))/2;function MIe(e,t,n,r,i,o){for(var s=[],a=t.children,l,u,c=0,d=0,f=a.length,h,p,m=t.value,g,v,y,x,E,_,S;c<f;){h=i-n,p=o-r;do g=a[d++].value;while(!g&&d<f);for(v=y=g,_=Math.max(p/h,h/p)/(m*e),S=g*g*_,E=Math.max(y/S,S/v);d<f;++d){if(g+=u=a[d].value,u<v&&(v=u),u>y&&(y=u),S=g*g*_,x=Math.max(y/S,S/v),x>E){g-=u;break}E=x}s.push(l={value:g,dice:h<p,children:a.slice(c,d)}),l.dice?Sk(l,n,r,i,m?r+=p*g/m:o):Y6(l,n,r,m?n+=h*g/m:i,o),m-=g,c=d}return s}const $Ie=(function e(t){function n(r,i,o,s,a){MIe(t,r,i,o,s,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(NIe);function tkt(){var e=$Ie,t=!1,n=1,r=1,i=[0],o=sv,s=sv,a=sv,l=sv,u=sv;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),i=[0],t&&f.eachBefore(OIe),f}function d(f){var h=i[f.depth],p=f.x0+h,m=f.y0+h,g=f.x1-h,v=f.y1-h;g<p&&(p=g=(p+g)/2),v<m&&(m=v=(m+v)/2),f.x0=p,f.y0=m,f.x1=g,f.y1=v,f.children&&(h=i[f.depth+1]=o(f)/2,p+=u(f)-h,m+=s(f)-h,g-=a(f)-h,v-=l(f)-h,g<p&&(p=g=(p+g)/2),v<m&&(m=v=(m+v)/2),e(f,p,m,g,v))}return c.round=function(f){return arguments.length?(t=!!f,c):t},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(e=IIe(f),c):e},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(o=typeof f=="function"?f:fw(+f),c):o},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(s=typeof f=="function"?f:fw(+f),c):s},c.paddingRight=function(f){return arguments.length?(a=typeof f=="function"?f:fw(+f),c):a},c.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:fw(+f),c):l},c.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:fw(+f),c):u},c}function nkt(e,t,n,r,i){var o=e.children,s,a=o.length,l,u=new Array(a+1);for(u[0]=l=s=0;s<a;++s)u[s+1]=l+=o[s].value;c(0,a,e.value,t,n,r,i);function c(d,f,h,p,m,g,v){if(d>=f-1){var y=o[d];y.x0=p,y.y0=m,y.x1=g,y.y1=v;return}for(var x=u[d],E=h/2+x,_=d+1,S=f-1;_<S;){var T=_+S>>>1;u[T]<E?_=T+1:S=T}E-u[_-1]<u[_]-E&&d+1<_&&--_;var k=u[_]-x,R=h-k;if(g-p>v-m){var I=h?(p*R+g*k)/h:g;c(d,_,k,p,m,I,v),c(_,f,R,I,m,g,v)}else{var P=h?(m*R+v*k)/h:v;c(d,_,k,p,m,g,P),c(_,f,R,p,P,g,v)}}}function rkt(e,t,n,r,i){(e.depth&1?Y6:Sk)(e,t,n,r,i)}const ikt=(function e(t){function n(r,i,o,s,a){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,d,f=-1,h,p=l.length,m=r.value;++f<p;){for(u=l[f],c=u.children,d=u.value=0,h=c.length;d<h;++d)u.value+=c[d].value;u.dice?Sk(u,i,o,s,m?o+=(a-o)*u.value/m:a):Y6(u,i,o,m?i+=(s-i)*u.value/m:s,a),m-=u.value}else r._squarify=l=MIe(t,r,i,o,s,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(NIe);function EH(e,t,n){const r={};return e.each(i=>{const o=i.data;n(o)&&(r[t(o)]=i)}),e.lookup=r,e}function YQ(e){et.call(this,null,e)}YQ.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const okt=e=>e.values;It(YQ,et,{transform(e,t){t.source||it("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(s=>{s.children&&a6(s.data)&&i.rem.push(s.data)}),this.value=o=GQ({values:wn(e.keys).reduce((s,a)=>(s.key(a),s),skt()).entries(i.source)},okt),n&&o.each(s=>{s.children&&(s=Zr(s.data),i.add.push(s),i.source.push(s))}),EH(o,mn,mn)),i.source.root=o,i}});function skt(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,o){if(o>=e.length)return i;const s=i.length,a=e[o++],l={},u={};let c=-1,d,f,h;for(;++c<s;)d=a(f=i[c])+"",(h=l[d])?h.push(f):l[d]=[f];for(d in l)u[d]=n(l[d],o);return u}function r(i,o){if(++o>e.length)return i;const s=[];for(const a in i)s.push({key:a,values:r(i[a],o)});return s}return t}function Bm(e){et.call(this,null,e)}const akt=(e,t)=>e.parent===t.parent?1:2;It(Bm,et,{transform(e,t){(!t.source||!t.source.root)&&it(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(Lb(e.sort,s=>s.data)),lkt(n,this.params,e),n.separation&&n.separation(e.separation!==!1?akt:TC);try{this.value=n(i)}catch(s){it(s)}return i.each(s=>ukt(s,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function lkt(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}function ukt(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}const SH=["x","y","r","depth","children"];function KQ(e){Bm.call(this,e)}KQ.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:SH.length,default:SH}]};It(KQ,Bm,{layout:HTt,params:["radius","size","padding"],fields:SH});const TH=["x0","y0","x1","y1","depth","children"];function XQ(e){Bm.call(this,e)}XQ.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:TH.length,default:TH}]};It(XQ,Bm,{layout:qTt,params:["size","round","padding"],fields:TH});function QQ(e){et.call(this,null,e)}QQ.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};It(QQ,et,{transform(e,t){t.source||it("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?EH(mfe().id(e.key).parentId(e.parentKey)(i.source),e.key,Lc):EH(mfe()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const yfe={tidy:ekt,cluster:fTt},kH=["x","y","depth","children"];function JQ(e){Bm.call(this,e)}JQ.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:kH.length,default:kH}]};It(JQ,Bm,{layout(e){const t=e||"tidy";if(Dn(yfe,t))return yfe[t]();it("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:kH});function ZQ(e){et.call(this,[],e)}ZQ.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};It(ZQ,et,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||it("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>o[mn(s)]=1),r.each(s=>{const a=s.data,l=s.parent&&s.parent.data;l&&o[mn(a)]&&o[mn(l)]&&i.add.push(Zr({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>o[mn(s)]=1),n.forEach(s=>{(o[mn(s.source)]||o[mn(s.target)])&&i.mod.push(s)})),i}});const vfe={binary:nkt,dice:Sk,slice:Y6,slicedice:rkt,squarify:$Ie,resquarify:ikt},AH=["x0","y0","x1","y1","depth","children"];function eJ(e){Bm.call(this,e)}eJ.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:AH.length,default:AH}]};It(eJ,Bm,{layout(){const e=tkt();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Dn(vfe,t)?e.tile(vfe[t]):it("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:AH});const ckt=Object.freeze(Object.defineProperty({__proto__:null,nest:YQ,pack:KQ,partition:XQ,stratify:QQ,tree:JQ,treelinks:ZQ,treemap:eJ},Symbol.toStringTag,{value:"Module"})),g9=4278190080;function dkt(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function fkt(e,t,n,r,i){const o=e.width,s=e.height,a=r||i,l=d0(o,s).getContext("2d"),u=d0(o,s).getContext("2d"),c=a&&d0(o,s).getContext("2d");n.forEach(k=>WP(l,k,!1)),WP(u,t,!1),a&&WP(c,t,!0);const d=y9(l,o,s),f=y9(u,o,s),h=a&&y9(c,o,s),p=e.bitmap(),m=a&&e.bitmap();let g,v,y,x,E,_,S,T;for(v=0;v<s;++v)for(g=0;g<o;++g)E=v*o+g,_=d[E]&g9,T=f[E]&g9,S=a&&h[E]&g9,(_||S||T)&&(y=e(g),x=e(v),!i&&(_||T)&&p.set(y,x),a&&(_||S)&&m.set(y,x));return[p,m]}function y9(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function WP(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(o=>WP(e,o.items,n))}):Ku[r].draw(e,{items:n?t.map(hkt):t})}function hkt(e){const t=l6(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const bp=5,Za=31,K2=32,Og=new Uint32Array(K2+1),Cd=new Uint32Array(K2+1);Cd[0]=0;Og[0]=~Cd[0];for(let e=1;e<=K2;++e)Cd[e]=Cd[e-1]<<1|1,Og[e]=~Cd[e];function pkt(e,t){const n=new Uint32Array(~~((e*t+K2)/K2));function r(o,s){n[o]|=s}function i(o,s){n[o]&=s}return{array:n,get:(o,s)=>{const a=s*e+o;return n[a>>>bp]&1<<(a&Za)},set:(o,s)=>{const a=s*e+o;r(a>>>bp,1<<(a&Za))},clear:(o,s)=>{const a=s*e+o;i(a>>>bp,~(1<<(a&Za)))},getRange:(o,s,a,l)=>{let u=l,c,d,f,h;for(;u>=s;--u)if(c=u*e+o,d=u*e+a,f=c>>>bp,h=d>>>bp,f===h){if(n[f]&Og[c&Za]&Cd[(d&Za)+1])return!0}else{if(n[f]&Og[c&Za]||n[h]&Cd[(d&Za)+1])return!0;for(let p=f+1;p<h;++p)if(n[p])return!0}return!1},setRange:(o,s,a,l)=>{let u,c,d,f,h;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,d=u>>>bp,f=c>>>bp,d===f)r(d,Og[u&Za]&Cd[(c&Za)+1]);else for(r(d,Og[u&Za]),r(f,Cd[(c&Za)+1]),h=d+1;h<f;++h)r(h,4294967295)},clearRange:(o,s,a,l)=>{let u,c,d,f,h;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,d=u>>>bp,f=c>>>bp,d===f)i(d,Cd[u&Za]|Og[(c&Za)+1]);else for(i(d,Cd[u&Za]),i(f,Og[(c&Za)+1]),h=d+1;h<f;++h)i(h,0)},outOfBounds:(o,s,a,l)=>o<0||s<0||l>=t||a>=e}}function mkt(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),s=a=>~~((a+n)/r);return s.invert=a=>a*r-n,s.bitmap=()=>pkt(i,o),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function gkt(e,t,n,r){const i=e.width,o=e.height;return function(s){const a=s.datum.datum.items[r].items,l=a.length,u=s.datum.fontSize,c=Bu.width(s.datum,s.datum.text);let d=0,f,h,p,m,g,v,y;for(let x=0;x<l;++x)f=a[x].x,p=a[x].y,h=a[x].x2===void 0?f:a[x].x2,m=a[x].y2===void 0?p:a[x].y2,g=(f+h)/2,v=(p+m)/2,y=Math.abs(h-f+m-p),y>=d&&(d=y,s.x=g,s.y=v);return g=c/2,v=u/2,f=s.x-g,h=s.x+g,p=s.y-v,m=s.y+v,s.align="center",f<0&&h<=i?s.align="left":0<=f&&i<h&&(s.align="right"),s.baseline="middle",p<0&&m<=o?s.baseline="top":0<=p&&o<m&&(s.baseline="bottom"),!0}}function CN(e,t,n,r,i,o){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>o}function Jg(e,t,n,r,i,o,s,a){const l=i*o/(r*2),u=e(t-l),c=e(t+l),d=e(n-(o=o/2)),f=e(n+o);return s.outOfBounds(u,d,c,f)||s.getRange(u,d,c,f)||a&&a.getRange(u,d,c,f)}function ykt(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1];function l(u,c,d,f,h){const p=e.invert(u),m=e.invert(c);let g=d,v=o,y;if(!CN(p,m,f,h,i,o)&&!Jg(e,p,m,h,f,g,s,a)&&!Jg(e,p,m,h,f,h,s,null)){for(;v-g>=1;)y=(g+v)/2,Jg(e,p,m,h,f,y,s,a)?v=y:g=y;if(g>d)return[p,m,g,!0]}}return function(u){const c=u.datum.datum.items[r].items,d=c.length,f=u.datum.fontSize,h=Bu.width(u.datum,u.datum.text);let p=n?f:0,m=!1,g=!1,v=0,y,x,E,_,S,T,k,R,I,P,N,M,O,j,U,q,W;for(let V=0;V<d;++V){for(y=c[V].x,E=c[V].y,x=c[V].x2===void 0?y:c[V].x2,_=c[V].y2===void 0?E:c[V].y2,y>x&&(W=y,y=x,x=W),E>_&&(W=E,E=_,_=W),I=e(y),N=e(x),P=~~((I+N)/2),M=e(E),j=e(_),O=~~((M+j)/2),k=P;k>=I;--k)for(R=O;R>=M;--R)q=l(k,R,p,h,f),q&&([u.x,u.y,p,m]=q);for(k=P;k<=N;++k)for(R=O;R<=j;++R)q=l(k,R,p,h,f),q&&([u.x,u.y,p,m]=q);!m&&!n&&(U=Math.abs(x-y+_-E),S=(y+x)/2,T=(E+_)/2,U>=v&&!CN(S,T,h,f,i,o)&&!Jg(e,S,T,f,h,f,s,null)&&(v=U,u.x=S,u.y=T,g=!0))}return m||g?(S=h/2,T=f/2,s.setRange(e(u.x-S),e(u.y-T),e(u.x+S),e(u.y+T)),u.align="center",u.baseline="middle",!0):!1}}const vkt=[-1,-1,1,1],bkt=[-1,1,-1,1];function wkt(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,d=c.length,f=u.datum.fontSize,h=Bu.width(u.datum,u.datum.text),p=[];let m=n?f:0,g=!1,v=!1,y=0,x,E,_,S,T,k,R,I,P,N,M,O;for(let j=0;j<d;++j){for(x=c[j].x,_=c[j].y,E=c[j].x2===void 0?x:c[j].x2,S=c[j].y2===void 0?_:c[j].y2,p.push([e((x+E)/2),e((_+S)/2)]);p.length;)if([R,I]=p.pop(),!(s.get(R,I)||a.get(R,I)||l.get(R,I))){l.set(R,I);for(let U=0;U<4;++U)T=R+vkt[U],k=I+bkt[U],l.outOfBounds(T,k,T,k)||p.push([T,k]);if(T=e.invert(R),k=e.invert(I),P=m,N=o,!CN(T,k,h,f,i,o)&&!Jg(e,T,k,f,h,P,s,a)&&!Jg(e,T,k,f,h,f,s,null)){for(;N-P>=1;)M=(P+N)/2,Jg(e,T,k,f,h,M,s,a)?N=M:P=M;P>m&&(u.x=T,u.y=k,m=P,g=!0)}}!g&&!n&&(O=Math.abs(E-x+S-_),T=(x+E)/2,k=(_+S)/2,O>=y&&!CN(T,k,h,f,i,o)&&!Jg(e,T,k,f,h,f,s,null)&&(y=O,u.x=T,u.y=k,v=!0))}return g||v?(T=h/2,k=f/2,s.setRange(e(u.x-T),e(u.y-k),e(u.x+T),e(u.y+k)),u.align="center",u.baseline="middle",!0):!1}}const xkt=["right","center","left"],Ckt=["bottom","middle","top"];function _kt(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=r.length;return function(u){const c=u.boundary,d=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>o)return!1;let f=u.textWidth??0,h,p,m,g,v,y,x,E,_,S,T,k,R,I,P;for(let N=0;N<l;++N){if(h=(n[N]&3)-1,p=(n[N]>>>2&3)-1,m=h===0&&p===0||r[N]<0,g=h&&p?Math.SQRT1_2:1,v=r[N]<0?-1:1,y=c[1+h]+r[N]*h*g,T=c[4+p]+v*d*p/2+r[N]*p*g,E=T-d/2,_=T+d/2,k=e(y),I=e(E),P=e(_),!f)if(bfe(k,k,I,P,s,a,y,y,E,_,c,m))f=Bu.width(u.datum,u.datum.text);else continue;if(S=y+v*f*h/2,y=S-f/2,x=S+f/2,k=e(y),R=e(x),bfe(k,R,I,P,s,a,y,x,E,_,c,m))return u.x=h?h*v<0?x:y:S,u.y=p?p*v<0?_:E:T,u.align=xkt[h*v+1],u.baseline=Ckt[p*v+1],s.setRange(k,I,R,P),!0}return!1}}function bfe(e,t,n,r,i,o,s,a,l,u,c,d){return!(i.outOfBounds(e,n,t,r)||(d&&o||i).getRange(e,n,t,r))}const v9=0,b9=4,w9=8,x9=0,C9=1,_9=2,Ekt={"top-left":v9+x9,top:v9+C9,"top-right":v9+_9,left:b9+x9,middle:b9+C9,right:b9+_9,"bottom-left":w9+x9,bottom:w9+C9,"bottom-right":w9+_9},Skt={naive:gkt,"reduced-search":ykt,floodfill:wkt};function Tkt(e,t,n,r,i,o,s,a,l,u,c){if(!e.length)return e;const d=Math.max(r.length,i.length),f=kkt(r,d),h=Akt(i,d),p=Rkt(e[0].datum),m=p==="group"&&e[0].datum.items[l].marktype,g=m==="area",v=Ikt(p,m,a,l),y=u===null||u===1/0,x=g&&c==="naive";let E=-1,_=-1;const S=e.map(I=>{const P=y?Bu.width(I,I.text):void 0;return E=Math.max(E,P),_=Math.max(_,I.fontSize),{datum:I,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:v(I),textWidth:P}});u=u===null||u===1/0?Math.max(E,_)+Math.max(...r):u;const T=mkt(t[0],t[1],u);let k;if(!x){n&&S.sort((N,M)=>n(N.datum,M.datum));let I=!1;for(let N=0;N<h.length&&!I;++N)I=h[N]===5||f[N]<0;const P=(p&&s||g)&&e.map(N=>N.datum);k=o.length||P?fkt(T,P||[],o,I,g):dkt(T,s&&S)}const R=g?Skt[c](T,k,s,l):_kt(T,k,h,f);return S.forEach(I=>I.opacity=+R(I)),S}function kkt(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function Akt(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=Ekt[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function Rkt(e){return e&&e.mark&&e.mark.marktype}function Ikt(e,t,n,r){const i=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>i(o.datum):t==="line"?o=>{const s=o.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:o=>{const s=o.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const RH=["x","y","opacity","align","baseline"],LIe=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function tJ(e){et.call(this,null,e)}tJ.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:LIe},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:RH.length,default:RH}]};It(tJ,et,{transform(e,t){function n(o){const s=e[o];return nr(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&it("Size parameter should be specified as a [width, height] array.");const i=e.as||RH;return Tkt(t.materialize(t.SOURCE).source||[],e.size,e.sort,wn(e.offset==null?1:e.offset),wn(e.anchor||LIe),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(o=>{const s=o.datum;s[i[0]]=o.x,s[i[1]]=o.y,s[i[2]]=o.opacity,s[i[3]]=o.align,s[i[4]]=o.baseline}),t.reflow(r).modifies(i)}});const Dkt=Object.freeze(Object.defineProperty({__proto__:null,label:tJ},Symbol.toStringTag,{value:"Module"}));function FIe(e,t){var n=[],r=function(c){return c(a)},i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function nJ(e){et.call(this,null,e)}nJ.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};It(nJ,et,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=FIe(r,e.groupby),o=(e.groupby||[]).map(vo),s=o.length,a=e.as||[vo(e.x),vo(e.y)],l=[];i.forEach(u=>{Y2e(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const d={};for(let f=0;f<s;++f)d[o[f]]=u.dims[f];d[a[0]]=c[0],d[a[1]]=c[1],l.push(Zr(d))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const IH={constant:MK,linear:$K,log:q2e,exp:V2e,pow:W2e,quad:LK,poly:G2e},Pkt=(e,t)=>e==="poly"?t:e==="quad"?2:1;function rJ(e){et.call(this,null,e)}rJ.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(IH)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};It(rJ,et,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=FIe(r,e.groupby),o=(e.groupby||[]).map(vo),s=e.method||"linear",a=e.order==null?3:e.order,l=Pkt(s,a),u=e.as||[vo(e.x),vo(e.y)],c=IH[s],d=[];let f=e.extent;Dn(IH,s)||it("Invalid regression method: "+s),f!=null&&s==="log"&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),i.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const m=c(h,e.x,e.y,a);if(e.params){d.push(Zr({keys:h.dims,coef:m.coef,rSquared:m.rSquared}));return}const g=f||Rh(h,e.x),v=y=>{const x={};for(let E=0;E<o.length;++E)x[o[E]]=h.dims[E];x[u[0]]=y[0],x[u[1]]=y[1],d.push(Zr(x))};s==="linear"||s==="constant"?g.forEach(y=>v([y,m.predict(y)])):m6(m.predict,g,25,200).forEach(v)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}});const Okt=Object.freeze(Object.defineProperty({__proto__:null,loess:nJ,regression:rJ},Symbol.toStringTag,{value:"Module"})),Zp=11102230246251565e-32,_a=134217729,Nkt=(3+8*Zp)*Zp;function E9(e,t,n,r,i){let o,s,a,l,u=t[0],c=r[0],d=0,f=0;c>u==c>-u?(o=u,u=t[++d]):(o=c,c=r[++f]);let h=0;if(d<e&&f<n)for(c>u==c>-u?(s=u+o,a=o-(s-u),u=t[++d]):(s=c+o,a=o-(s-c),c=r[++f]),o=s,a!==0&&(i[h++]=a);d<e&&f<n;)c>u==c>-u?(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++d]):(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++f]),o=s,a!==0&&(i[h++]=a);for(;d<e;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++d],o=s,a!==0&&(i[h++]=a);for(;f<n;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++f],o=s,a!==0&&(i[h++]=a);return(o!==0||h===0)&&(i[h++]=o),h}function Mkt(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function Tk(e){return new Float64Array(e)}const $kt=(3+16*Zp)*Zp,Lkt=(2+12*Zp)*Zp,Fkt=(9+64*Zp)*Zp*Zp,q1=Tk(4),wfe=Tk(8),xfe=Tk(12),Cfe=Tk(16),el=Tk(4);function jkt(e,t,n,r,i,o,s){let a,l,u,c,d,f,h,p,m,g,v,y,x,E,_,S,T,k;const R=e-i,I=n-i,P=t-o,N=r-o;E=R*N,f=_a*R,h=f-(f-R),p=R-h,f=_a*N,m=f-(f-N),g=N-m,_=p*g-(E-h*m-p*m-h*g),S=P*I,f=_a*P,h=f-(f-P),p=P-h,f=_a*I,m=f-(f-I),g=I-m,T=p*g-(S-h*m-p*m-h*g),v=_-T,d=_-v,q1[0]=_-(v+d)+(d-T),y=E+v,d=y-E,x=E-(y-d)+(v-d),v=x-S,d=x-v,q1[1]=x-(v+d)+(d-S),k=y+v,d=k-y,q1[2]=y-(k-d)+(v-d),q1[3]=k;let M=Mkt(4,q1),O=Lkt*s;if(M>=O||-M>=O||(d=e-R,a=e-(R+d)+(d-i),d=n-I,u=n-(I+d)+(d-i),d=t-P,l=t-(P+d)+(d-o),d=r-N,c=r-(N+d)+(d-o),a===0&&l===0&&u===0&&c===0)||(O=Fkt*s+Nkt*Math.abs(M),M+=R*c+N*a-(P*u+I*l),M>=O||-M>=O))return M;E=a*N,f=_a*a,h=f-(f-a),p=a-h,f=_a*N,m=f-(f-N),g=N-m,_=p*g-(E-h*m-p*m-h*g),S=l*I,f=_a*l,h=f-(f-l),p=l-h,f=_a*I,m=f-(f-I),g=I-m,T=p*g-(S-h*m-p*m-h*g),v=_-T,d=_-v,el[0]=_-(v+d)+(d-T),y=E+v,d=y-E,x=E-(y-d)+(v-d),v=x-S,d=x-v,el[1]=x-(v+d)+(d-S),k=y+v,d=k-y,el[2]=y-(k-d)+(v-d),el[3]=k;const j=E9(4,q1,4,el,wfe);E=R*c,f=_a*R,h=f-(f-R),p=R-h,f=_a*c,m=f-(f-c),g=c-m,_=p*g-(E-h*m-p*m-h*g),S=P*u,f=_a*P,h=f-(f-P),p=P-h,f=_a*u,m=f-(f-u),g=u-m,T=p*g-(S-h*m-p*m-h*g),v=_-T,d=_-v,el[0]=_-(v+d)+(d-T),y=E+v,d=y-E,x=E-(y-d)+(v-d),v=x-S,d=x-v,el[1]=x-(v+d)+(d-S),k=y+v,d=k-y,el[2]=y-(k-d)+(v-d),el[3]=k;const U=E9(j,wfe,4,el,xfe);E=a*c,f=_a*a,h=f-(f-a),p=a-h,f=_a*c,m=f-(f-c),g=c-m,_=p*g-(E-h*m-p*m-h*g),S=l*u,f=_a*l,h=f-(f-l),p=l-h,f=_a*u,m=f-(f-u),g=u-m,T=p*g-(S-h*m-p*m-h*g),v=_-T,d=_-v,el[0]=_-(v+d)+(d-T),y=E+v,d=y-E,x=E-(y-d)+(v-d),v=x-S,d=x-v,el[1]=x-(v+d)+(d-S),k=y+v,d=k-y,el[2]=y-(k-d)+(v-d),el[3]=k;const q=E9(U,xfe,4,el,Cfe);return Cfe[q-1]}function iI(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),l=s-a,u=Math.abs(s+a);return Math.abs(l)>=$kt*u?l:-jkt(e,t,n,r,i,o,u)}const _fe=Math.pow(2,-52),oI=new Uint32Array(512);class _N{static from(t,n=qkt,r=Vkt){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new _N(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let R=0;R<s;R++){const I=t[2*R],P=t[2*R+1];I<a&&(a=I),P<l&&(l=P),I>u&&(u=I),P>c&&(c=P),this._ids[R]=R}const d=(a+u)/2,f=(l+c)/2;let h,p,m;for(let R=0,I=1/0;R<s;R++){const P=S9(d,f,t[2*R],t[2*R+1]);P<I&&(h=R,I=P)}const g=t[2*h],v=t[2*h+1];for(let R=0,I=1/0;R<s;R++){if(R===h)continue;const P=S9(g,v,t[2*R],t[2*R+1]);P<I&&P>0&&(p=R,I=P)}let y=t[2*p],x=t[2*p+1],E=1/0;for(let R=0;R<s;R++){if(R===h||R===p)continue;const I=Ukt(g,v,y,x,t[2*R],t[2*R+1]);I<E&&(m=R,E=I)}let _=t[2*m],S=t[2*m+1];if(E===1/0){for(let P=0;P<s;P++)this._dists[P]=t[2*P]-t[0]||t[2*P+1]-t[1];_w(this._ids,this._dists,0,s-1);const R=new Uint32Array(s);let I=0;for(let P=0,N=-1/0;P<s;P++){const M=this._ids[P],O=this._dists[M];O>N&&(R[I++]=M,N=O)}this.hull=R.subarray(0,I),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(iI(g,v,y,x,_,S)<0){const R=p,I=y,P=x;p=m,y=_,x=S,m=R,_=I,S=P}const T=Hkt(g,v,y,x,_,S);this._cx=T.x,this._cy=T.y;for(let R=0;R<s;R++)this._dists[R]=S9(t[2*R],t[2*R+1],T.x,T.y);_w(this._ids,this._dists,0,s-1),this._hullStart=h;let k=3;r[h]=n[m]=p,r[p]=n[h]=m,r[m]=n[p]=h,i[h]=0,i[p]=1,i[m]=2,o.fill(-1),o[this._hashKey(g,v)]=h,o[this._hashKey(y,x)]=p,o[this._hashKey(_,S)]=m,this.trianglesLen=0,this._addTriangle(h,p,m,-1,-1,-1);for(let R=0,I,P;R<this._ids.length;R++){const N=this._ids[R],M=t[2*N],O=t[2*N+1];if(R>0&&Math.abs(M-I)<=_fe&&Math.abs(O-P)<=_fe||(I=M,P=O,N===h||N===p||N===m))continue;let j=0;for(let z=0,L=this._hashKey(M,O);z<this._hashSize&&(j=o[(L+z)%this._hashSize],!(j!==-1&&j!==r[j]));z++);j=n[j];let U=j,q;for(;q=r[U],iI(M,O,t[2*U],t[2*U+1],t[2*q],t[2*q+1])>=0;)if(U=q,U===j){U=-1;break}if(U===-1)continue;let W=this._addTriangle(U,N,r[U],-1,-1,i[U]);i[N]=this._legalize(W+2),i[U]=W,k++;let V=r[U];for(;q=r[V],iI(M,O,t[2*V],t[2*V+1],t[2*q],t[2*q+1])<0;)W=this._addTriangle(V,N,q,i[N],-1,i[V]),i[N]=this._legalize(W+2),r[V]=V,k--,V=q;if(U===j)for(;q=n[U],iI(M,O,t[2*q],t[2*q+1],t[2*U],t[2*U+1])<0;)W=this._addTriangle(q,N,U,-1,i[U],i[q]),this._legalize(W+2),i[q]=W,r[U]=U,k--,U=q;this._hullStart=n[N]=U,r[U]=n[V]=N,r[N]=V,o[this._hashKey(M,O)]=N,o[this._hashKey(t[2*U],t[2*U+1])]=U}this.hull=new Uint32Array(k);for(let R=0,I=this._hullStart;R<k;R++)this.hull[R]=I,I=r[I];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(Bkt(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const a=r[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=oI[--o];continue}const u=a-a%3,c=l+(t+1)%3,d=u+(a+2)%3,f=n[s],h=n[t],p=n[c],m=n[d];if(zkt(i[2*f],i[2*f+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*m],i[2*m+1])){n[t]=m,n[a]=f;const v=r[d];if(v===-1){let x=this._hullStart;do{if(this._hullTri[x]===d){this._hullTri[x]=t;break}x=this._hullPrev[x]}while(x!==this._hullStart)}this._link(t,v),this._link(a,r[s]),this._link(s,d);const y=u+(a+1)%3;o<oI.length&&(oI[o++]=y)}else{if(o===0)break;t=oI[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function Bkt(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function S9(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function zkt(e,t,n,r,i,o,s,a){const l=e-s,u=t-a,c=n-s,d=r-a,f=i-s,h=o-a,p=l*l+u*u,m=c*c+d*d,g=f*f+h*h;return l*(d*g-m*h)-u*(c*g-m*f)+p*(c*h-d*f)<0}function Ukt(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,d=l*l+u*u,f=.5/(s*u-a*l),h=(u*c-a*d)*f,p=(s*d-l*c)*f;return h*h+p*p}function Hkt(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,d=l*l+u*u,f=.5/(s*u-a*l),h=e+(u*c-a*d)*f,p=t+(s*d-l*c)*f;return{x:h,y:p}}function _w(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let a=i-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{const i=n+r>>1;let o=n+1,s=r;rE(e,i,o),t[e[n]]>t[e[r]]&&rE(e,n,r),t[e[o]]>t[e[r]]&&rE(e,o,r),t[e[n]]>t[e[o]]&&rE(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;rE(e,o,s)}e[n+1]=e[s],e[s]=a,r-o+1>=s-n?(_w(e,t,o,r),_w(e,t,n,s-1)):(_w(e,t,n,s-1),_w(e,t,o,r))}}function rE(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function qkt(e){return e[0]}function Vkt(e){return e[1]}const Efe=1e-6;class bv{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>Efe||Math.abs(this._y1-o)>Efe)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class DH{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let Wkt=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,s;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let m=0,g=0,v=r.length,y,x;m<v;m+=3,g+=2){const E=r[m]*2,_=r[m+1]*2,S=r[m+2]*2,T=t[E],k=t[E+1],R=t[_],I=t[_+1],P=t[S],N=t[S+1],M=R-T,O=I-k,j=P-T,U=N-k,q=(M*U-O*j)*2;if(Math.abs(q)<1e-9){if(o===void 0){o=s=0;for(const V of n)o+=t[V*2],s+=t[V*2+1];o/=n.length,s/=n.length}const W=1e9*Math.sign((o-T)*U-(s-k)*j);y=(T+P)/2-W*U,x=(k+N)/2+W*j}else{const W=1/q,V=M*M+O*O,z=j*j+U*U;y=T+(U*V-O*z)*W,x=k+(M*z-j*V)*W}a[g]=y,a[g+1]=x}let l=n[n.length-1],u,c=l*4,d,f=t[2*l],h,p=t[2*l+1];i.fill(0);for(let m=0;m<n.length;++m)l=n[m],u=c,d=f,h=p,c=l*4,f=t[2*l],p=t[2*l+1],i[u+2]=i[c]=h-p,i[u+3]=i[c+1]=f-d}render(t){const n=t==null?t=new bv:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let c=0,d=r.length;c<d;++c){const f=r[c];if(f<c)continue;const h=Math.floor(c/3)*2,p=Math.floor(f/3)*2,m=s[h],g=s[h+1],v=s[p],y=s[p+1];this._renderSegment(m,g,v,y,t)}let l,u=o[o.length-1];for(let c=0;c<o.length;++c){l=u,u=o[c];const d=Math.floor(i[u]/3)*2,f=s[d],h=s[d+1],p=l*4,m=this._project(f,h,a[p+2],a[p+3]);m&&this._renderSegment(f,h,m[0],m[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new bv:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new bv:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new DH;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+l-2)%l]&&n[(o+3)%s]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const a=[];let l=s;do{const u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,o,s,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),d,f=0;for(let h=0;h<r;h+=2)if(o=a,s=l,a=n[h],l=n[h+1],u=c,c=this._regioncode(a,l),u===0&&c===0)d=f,f=0,i?i.push(a,l):i=[a,l];else{let p,m,g,v,y;if(u===0){if((p=this._clipSegment(o,s,a,l,u,c))===null)continue;[m,g,v,y]=p}else{if((p=this._clipSegment(a,l,o,s,c,u))===null)continue;[v,y,m,g]=p,d=f,f=this._edgecode(m,g),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(m,g):i=[m,g]}d=f,f=this._edgecode(v,y),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(v,y):i=[v,y]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(t,d,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){const a=o<s;for(a&&([t,n,r,i,o,s]=[r,i,t,n,s,o]);;){if(o===0&&s===0)return a?[r,i,t,n]:[t,n,r,i];if(o&s)return null;let l,u,c=o||s;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),o?(t=l,n=u,o=this._regioncode(t,n)):(r=l,i=u,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,c=a.length,d,f=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)d=f,f=this._edgecode(a[u],a[u+1]),d&&f&&(u=this._edge(t,d,f,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(t,n,r,i){let o=1/0,s,a,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(l=this.ymin,a=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(l=this.ymax,a=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(a=this.xmax,l=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(a=this.xmin,l=n+(o=s)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const Gkt=2*Math.PI,V1=Math.pow;function Ykt(e){return e[0]}function Kkt(e){return e[1]}function Xkt(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function Qkt(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class iJ{static from(t,n=Ykt,r=Kkt,i){return new iJ("length"in t?Jkt(t,n,r,i):Float64Array.from(Zkt(t,n,r,i)))}constructor(t){this._delaunator=new _N(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&Xkt(t)){this.collinear=Int32Array.from({length:n.length/2},(f,h)=>h).sort((f,h)=>n[2*f]-n[2*h]||n[2*f+1]-n[2*h+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],d=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,h=n.length/2;f<h;++f){const p=Qkt(n[2*f],n[2*f+1],d);n[2*f]=p[0],n[2*f+1]=p[1]}this._delaunator=new _N(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=o[l%3===2?l-2:l+1];(r[l]===-1||s[c]===-1)&&(s[c]=l)}for(let l=0,u=i.length;l<u;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new Wkt(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){const d=a.indexOf(t);d>0&&(yield a[d-1]),d<a.length-1&&(yield a[d+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=s[u],u=u%3===2?u-2:u+1,s[u]!==t)return;if(u=o[u],u===-1){const d=r[(i[t]+1)%r.length];d!==c&&(yield d);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,d=V1(n-u[t*2],2)+V1(r-u[t*2+1],2);const f=i[t];let h=f;do{let p=l[h];const m=V1(n-u[p*2],2)+V1(r-u[p*2+1],2);if(m<d&&(d=m,c=p),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=o[(s[t]+1)%o.length],h!==p&&V1(n-u[h*2],2)+V1(r-u[h*2+1],2)<d)return h;break}}while(h!==f);return c}render(t){const n=t==null?t=new bv:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){const l=i[s];if(l<s)continue;const u=o[s]*2,c=o[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new bv:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const a=i[o],l=i[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,Gkt)}return r&&r.value()}renderHull(t){const n=t==null?t=new bv:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new DH;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new bv:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new DH;return this.renderTriangle(t,n),n.value()}}function Jkt(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const a=e[s];o[s*2]=t.call(r,a,s,e),o[s*2+1]=n.call(r,a,s,e)}return o}function*Zkt(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}function oJ(e){et.call(this,null,e)}oJ.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const eAt=[-1e5,-1e5,1e5,1e5];It(oJ,et,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:eAt;const o=this.value=iJ.from(r,e.x,e.y).voronoi(i);for(let s=0,a=r.length;s<a;++s){const l=o.cellPolygon(s);r[s][n]=l&&!nAt(l)?tAt(l):null}return t.reflow(e.modified()).modifies(n)}});function tAt(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function nAt(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const rAt=Object.freeze(Object.defineProperty({__proto__:null,voronoi:oJ},Symbol.toStringTag,{value:"Module"}));var T9=Math.PI/180,nS=64,GP=2048;function iAt(){var e=[256,256],t,n,r,i,o,s,a,l=jIe,u=[],c=Math.random,d={};d.layout=function(){for(var p=f(d0()),m=cAt((e[0]>>5)*e[1]),g=null,v=u.length,y=-1,x=[],E=u.map(S=>({text:t(S),font:n(S),style:i(S),weight:o(S),rotate:s(S),size:~~(r(S)+1e-14),padding:a(S),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:S})).sort((S,T)=>T.size-S.size);++y<v;){var _=E[y];_.x=e[0]*(c()+.5)>>1,_.y=e[1]*(c()+.5)>>1,oAt(p,_,E,y),_.hasText&&h(m,_,g)&&(x.push(_),g?aAt(g,_):g=[{x:_.x+_.x0,y:_.y+_.y0},{x:_.x+_.x1,y:_.y+_.y1}],_.x-=e[0]>>1,_.y-=e[1]>>1)}return x};function f(p){p.width=p.height=1;var m=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(nS<<5)/m,p.height=GP/m;var g=p.getContext("2d");return g.fillStyle=g.strokeStyle="red",g.textAlign="center",{context:g,ratio:m}}function h(p,m,g){for(var v=m.x,y=m.y,x=Math.hypot(e[0],e[1]),E=l(e),_=c()<.5?1:-1,S=-_,T,k,R;(T=E(S+=_))&&(k=~~T[0],R=~~T[1],!(Math.min(Math.abs(k),Math.abs(R))>=x));)if(m.x=v+k,m.y=y+R,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>e[0]||m.y+m.y1>e[1])&&(!g||!sAt(m,p,e[0]))&&(!g||lAt(m,g))){for(var I=m.sprite,P=m.width>>5,N=e[0]>>5,M=m.x-(P<<4),O=M&127,j=32-O,U=m.y1-m.y0,q=(m.y+m.y0)*N+(M>>5),W,V=0;V<U;V++){W=0;for(var z=0;z<=P;z++)p[q+z]|=W<<j|(z<P?(W=I[V*P+z])>>>O:0);q+=N}return m.sprite=null,!0}return!1}return d.words=function(p){return arguments.length?(u=p,d):u},d.size=function(p){return arguments.length?(e=[+p[0],+p[1]],d):e},d.font=function(p){return arguments.length?(n=Iy(p),d):n},d.fontStyle=function(p){return arguments.length?(i=Iy(p),d):i},d.fontWeight=function(p){return arguments.length?(o=Iy(p),d):o},d.rotate=function(p){return arguments.length?(s=Iy(p),d):s},d.text=function(p){return arguments.length?(t=Iy(p),d):t},d.spiral=function(p){return arguments.length?(l=dAt[p]||p,d):l},d.fontSize=function(p){return arguments.length?(r=Iy(p),d):r},d.padding=function(p){return arguments.length?(a=Iy(p),d):a},d.random=function(p){return arguments.length?(c=p,d):c},d}function oAt(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,(nS<<5)/o,GP/o);var s=0,a=0,l=0,u=n.length,c,d,f,h,p;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,c=i.measureText(t.text+"m").width*o,f=t.size<<1,t.rotate){var m=Math.sin(t.rotate*T9),g=Math.cos(t.rotate*T9),v=c*g,y=c*m,x=f*g,E=f*m;c=Math.max(Math.abs(v+E),Math.abs(v-E))+31>>5<<5,f=~~Math.max(Math.abs(y+x),Math.abs(y-x))}else c=c+31>>5<<5;if(f>l&&(l=f),s+c>=nS<<5&&(s=0,a+=l,l=0),a+f>=GP)break;i.translate((s+(c>>1))/o,(a+(f>>1))/o),t.rotate&&i.rotate(t.rotate*T9),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=f,t.xoff=s,t.yoff=a,t.x1=c>>1,t.y1=f>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=c}for(var _=i.getImageData(0,0,(nS<<5)/o,GP/o).data,S=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,d=c>>5,f=t.y1-t.y0,h=0;h<f*d;h++)S[h]=0;if(s=t.xoff,s==null)return;a=t.yoff;var T=0,k=-1;for(p=0;p<f;p++){for(h=0;h<c;h++){var R=d*p+(h>>5),I=_[(a+p)*(nS<<5)+(s+h)<<2]?1<<31-h%32:0;S[R]|=I,T|=I}T?k=p:(t.y0++,f--,p--,a++)}t.y1=t.y0+k,t.sprite=S.slice(0,(t.y1-t.y0)*d)}}}function sAt(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,o=e.x-(i<<4),s=o&127,a=32-s,l=e.y1-e.y0,u=(e.y+e.y0)*n+(o>>5),c,d=0;d<l;d++){c=0;for(var f=0;f<=i;f++)if((c<<a|(f<i?(c=r[d*i+f])>>>s:0))&t[u+f])return!0;u+=n}return!1}function aAt(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function lAt(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function jIe(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function uAt(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(o){var s=o<0?-1:1;switch(Math.sqrt(1+4*s*o)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function cAt(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function Iy(e){return typeof e=="function"?e:function(){return e}}var dAt={archimedean:jIe,rectangular:uAt};const BIe=["x","y","font","fontSize","fontStyle","fontWeight","angle"],fAt=["text","font","rotate","fontSize","fontStyle","fontWeight"];function sJ(e){et.call(this,iAt(),e)}sJ.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:BIe}]};It(sJ,et,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&it("Wordcloud size dimensions must be non-zero.");function n(p){const m=e[p];return nr(m)&&t.modified(m.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||fAt.some(n)))return;const i=t.materialize(t.SOURCE).source,o=this.value,s=e.as||BIe;let a=e.fontSize||14,l;if(nr(a)?l=e.fontSizeRange:a=qa(a),l){const p=a,m=Gr("sqrt")().domain(Rh(i,p)).range(l);a=g=>m(p(g))}i.forEach(p=>{p[s[0]]=NaN,p[s[1]]=NaN,p[s[3]]=0});const u=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(jc).layout(),c=o.size(),d=c[0]>>1,f=c[1]>>1,h=u.length;for(let p=0,m,g;p<h;++p)m=u[p],g=m.datum,g[s[0]]=m.x+d,g[s[1]]=m.y+f,g[s[2]]=m.font,g[s[3]]=m.size,g[s[4]]=m.style,g[s[5]]=m.weight,g[s[6]]=m.rotate;return t.reflow(r).modifies(s)}});const hAt=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:sJ},Symbol.toStringTag,{value:"Module"})),pAt=e=>new Uint8Array(e),mAt=e=>new Uint16Array(e),FS=e=>new Uint32Array(e);function gAt(){let e=8,t=[],n=FS(0),r=sI(0,e),i=sI(0,e);return{data:()=>t,seen:()=>n=yAt(n,t.length),add(o){for(let s=0,a=t.length,l=o.length,u;s<l;++s)u=o[s],u._index=a++,t.push(u)},remove(o,s){const a=t.length,l=Array(a-o),u=t;let c,d,f;for(d=0;!s[d]&&d<a;++d)l[d]=t[d],u[d]=d;for(f=d;d<a;++d)c=t[d],s[d]?u[d]=-1:(u[d]=f,r[f]=r[d],i[f]=i[d],l[f]=c,c._index=f++),r[d]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,s){r[o]|=s},clear(o,s){r[o]&=~s},resize(o,s){const a=r.length;(o>a||s>e)&&(e=Math.max(s,e),r=sI(o,e,r),i=sI(o,e))}}}function yAt(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function sI(e,t,n){const r=(t<257?pAt:t<65537?mAt:FS)(e);return n&&r.set(n),r}function Sfe(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,o){const s=this,a=s.bisect(s.range,i.value),l=i.index,u=a[0],c=a[1],d=l.length;let f;for(f=0;f<u;++f)o[l[f]]|=r;for(f=c;f<d;++f)o[l[f]]|=r;return s}}}function Tfe(){let e=FS(0),t=[],n=0;function r(a,l,u){if(!l.length)return[];const c=n,d=l.length,f=FS(d);let h=Array(d),p,m,g;for(g=0;g<d;++g)h[g]=a(l[g]),f[g]=g;if(h=vAt(h,f),c)p=t,m=e,t=Array(c+d),e=FS(c+d),bAt(u,p,m,c,h,f,d,t,e);else{if(u>0)for(g=0;g<d;++g)f[g]+=u;t=h,e=f}return n=c+d,{index:f,value:h}}function i(a,l){const u=n;let c,d,f;for(d=0;!l[e[d]]&&d<u;++d);for(f=d;d<u;++d)l[c=e[d]]||(e[f]=c,t[f]=t[d],++f);n=u-a}function o(a){for(let l=0,u=n;l<u;++l)e[l]=a[e[l]]}function s(a,l){let u;return l?u=l.length:(l=t,u=n),[Tgt(l,a[0],0,u),S0(l,a[1],0,u)]}return{insert:r,remove:i,bisect:s,reindex:o,index:()=>e,size:()=>n}}function vAt(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],o=e[r];return i<o?-1:i>o?1:0}),Rgt(e,t)}function bAt(e,t,n,r,i,o,s,a,l){let u=0,c=0,d;for(d=0;u<r&&c<s;++d)t[u]<i[c]?(a[d]=t[u],l[d]=n[u++]):(a[d]=i[c],l[d]=o[c++]+e);for(;u<r;++u,++d)a[d]=t[u],l[d]=n[u];for(;c<s;++c,++d)a[d]=i[c],l[d]=o[c]+e}function aJ(e){et.call(this,gAt(),e),this._indices=null,this._dims=null}aJ.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};It(aJ,et,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],s=r.length;let a=0,l,u;for(;a<s;++a)l=n[a].fname,u=i[l]||(i[l]=Tfe()),o.push(Sfe(u,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,s=this._dims,a=this.value,l=a.curr(),u=a.prev(),c=a.all(),d=n.rem=n.add,f=n.mod,h=i.length,p={};let m,g,v,y,x,E,_,S,T;if(u.set(l),t.rem.length&&(x=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(E={},y=t.mod,_=0,S=y.length;_<S;++_)E[y[_]._index]=1;for(_=0;_<h;++_)T=r[_],(!s[_]||e.modified("fields",_)||t.modified(T.fields))&&(v=T.fname,(m=p[v])||(o[v]=g=Tfe(),p[v]=m=g.insert(T,t.source,0)),s[_]=Sfe(g,_,i[_]).onAdd(m,l));for(_=0,S=a.data().length;_<S;++_)x[_]||(u[_]!==l[_]?d.push(_):E[_]&&l[_]!==c&&f.push(_));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,s=this._indices,a=e.fields,l={},u=n.add,c=i.size()+r.length,d=o.length;let f=i.size(),h,p,m;i.resize(c,d),i.add(r);const g=i.curr(),v=i.prev(),y=i.all();for(h=0;h<d;++h)p=a[h].fname,m=l[p]||(l[p]=s[p].insert(a[h],r,f)),o[h].onAdd(m,g);for(;f<c;++f)v[f]=y,g[f]!==y&&u.push(f)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),s=e.mod;let a,l,u;for(a=0,l=s.length;a<l;++a)u=s[a]._index,i[u]!==o&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),s=i.prev(),a=i.all(),l={},u=n.rem,c=t.rem;let d,f,h,p;for(d=0,f=c.length;d<f;++d)h=c[d]._index,l[h]=1,s[h]=p=o[h],o[h]=a,p!==a&&u.push(h);for(h in r)r[h].remove(f,l);return this.reindex(t,f,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const o=i.remove(t,n);for(const s in r)r[s].reindex(o)})},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,s=r.length;let a=0,l,u;for(n.filters=0,u=0;u<s;++u)e.modified("query",u)&&(l=u,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,a=0;u<s;++u)e.modified("query",u)&&(a|=r[u].one,this.incrementAll(r[u],i[u],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),s=i.curr(),a=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),d=c[0],f=c[1],h=u[0],p=u[1],m=e.one;let g,v,y;if(d<h)for(g=d,v=Math.min(h,f);g<v;++g)y=l[g],o[y]!==n&&(a[y]=s[y],o[y]=n,r.push(y)),s[y]^=m;else if(d>h)for(g=h,v=Math.min(d,p);g<v;++g)y=l[g],o[y]!==n&&(a[y]=s[y],o[y]=n,r.push(y)),s[y]^=m;if(f>p)for(g=Math.max(d,p),v=f;g<v;++g)y=l[g],o[y]!==n&&(a[y]=s[y],o[y]=n,r.push(y)),s[y]^=m;else if(f<p)for(g=Math.max(h,f),v=p;g<v;++g)y=l[g],o[y]!==n&&(a[y]=s[y],o[y]=n,r.push(y)),s[y]^=m;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,o=i.curr(),s=e.index(),a=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],d=a[0],f=a[1],h=e.one;let p,m,g;if(u<d)for(p=u,m=Math.min(d,c);p<m;++p)g=s[p],o[g]^=h,n.push(g);else if(u>d)for(p=d,m=Math.min(u,f);p<m;++p)g=s[p],o[g]^=h,r.push(g);if(c>f)for(p=Math.max(u,f),m=c;p<m;++p)g=s[p],o[g]^=h,n.push(g);else if(c<f)for(p=Math.max(d,c),m=f;p<m;++p)g=s[p],o[g]^=h,r.push(g);e.range=t.slice()}});function lJ(e){et.call(this,null,e)}lJ.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};It(lJ,et,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if((i&n)===0)return t.StopPropagation;const o=t.fork(t.ALL),s=r.data(),a=r.curr(),l=r.prev(),u=c=>a[c]&n?null:s[c];return o.filter(o.MOD,u),i&i-1?(o.filter(o.ADD,c=>{const d=a[c]&n;return!d&&d^l[c]&n?s[c]:null}),o.filter(o.REM,c=>{const d=a[c]&n;return d&&!(d^(d^l[c]&n))?s[c]:null})):(o.filter(o.ADD,u),o.filter(o.REM,c=>(a[c]&n)===i?s[c]:null)),o.filter(o.SOURCE,c=>u(c._index))}});const wAt=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:aJ,resolvefilter:lJ},Symbol.toStringTag,{value:"Module"})),xAt="RawCode",ob="Literal",CAt="Property",_At="Identifier",EAt="ArrayExpression",SAt="BinaryExpression",zIe="CallExpression",TAt="ConditionalExpression",kAt="LogicalExpression",AAt="MemberExpression",RAt="ObjectExpression",IAt="UnaryExpression";function yf(e){this.type=e}yf.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=DAt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function DAt(e){switch(e.type){case EAt:return e.elements;case SAt:case kAt:return[e.left,e.right];case zIe:return[e.callee].concat(e.arguments);case TAt:return[e.test,e.consequent,e.alternate];case AAt:return[e.object,e.property];case RAt:return e.properties;case CAt:return[e.key,e.value];case IAt:return[e.argument];case _At:case ob:case xAt:default:return[]}}var Xh,Jt,ot,ja,fi,K6=1,kk=2,sb=3,ny=4,X6=5,zb=6,Hl=7,Ak=8,PAt=9;Xh={};Xh[K6]="Boolean";Xh[kk]="<end>";Xh[sb]="Identifier";Xh[ny]="Keyword";Xh[X6]="Null";Xh[zb]="Numeric";Xh[Hl]="Punctuator";Xh[Ak]="String";Xh[PAt]="RegularExpression";var OAt="ArrayExpression",NAt="BinaryExpression",MAt="CallExpression",$At="ConditionalExpression",UIe="Identifier",LAt="Literal",FAt="LogicalExpression",jAt="MemberExpression",BAt="ObjectExpression",zAt="Property",UAt="UnaryExpression",Is="Unexpected token %0",HAt="Unexpected number",qAt="Unexpected string",VAt="Unexpected identifier",WAt="Unexpected reserved word",GAt="Unexpected end of input",PH="Invalid regular expression",k9="Invalid regular expression: missing /",HIe="Octal literals are not allowed in strict mode.",YAt="Duplicate data property in object literal not allowed in strict mode",ia="ILLEGAL",X2="Disabled.",KAt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),XAt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Q6(e,t){if(!e)throw new Error("ASSERT: "+t)}function Rp(e){return e>=48&&e<=57}function uJ(e){return"0123456789abcdefABCDEF".includes(e)}function jS(e){return"01234567".includes(e)}function QAt(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function Q2(e){return e===10||e===13||e===8232||e===8233}function Rk(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&KAt.test(String.fromCharCode(e))}function EN(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&XAt.test(String.fromCharCode(e))}const JAt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function qIe(){for(;ot<ja;){const e=Jt.charCodeAt(ot);if(QAt(e)||Q2(e))++ot;else break}}function OH(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)ot<ja&&uJ(Jt[ot])?(r=Jt[ot++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Ur({},Is,ia);return String.fromCharCode(i)}function ZAt(){var e,t,n,r;for(e=Jt[ot],t=0,e==="}"&&Ur({},Is,ia);ot<ja&&(e=Jt[ot++],!!uJ(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Ur({},Is,ia),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function VIe(){var e,t;for(e=Jt.charCodeAt(ot++),t=String.fromCharCode(e),e===92&&(Jt.charCodeAt(ot)!==117&&Ur({},Is,ia),++ot,e=OH("u"),(!e||e==="\\"||!Rk(e.charCodeAt(0)))&&Ur({},Is,ia),t=e);ot<ja&&(e=Jt.charCodeAt(ot),!!EN(e));)++ot,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Jt.charCodeAt(ot)!==117&&Ur({},Is,ia),++ot,e=OH("u"),(!e||e==="\\"||!EN(e.charCodeAt(0)))&&Ur({},Is,ia),t+=e);return t}function eRt(){var e,t;for(e=ot++;ot<ja;){if(t=Jt.charCodeAt(ot),t===92)return ot=e,VIe();if(EN(t))++ot;else break}return Jt.slice(e,ot)}function tRt(){var e,t,n;return e=ot,t=Jt.charCodeAt(ot)===92?VIe():eRt(),t.length===1?n=sb:JAt.hasOwnProperty(t)?n=ny:t==="null"?n=X6:t==="true"||t==="false"?n=K6:n=sb,{type:n,value:t,start:e,end:ot}}function A9(){var e=ot,t=Jt.charCodeAt(ot),n,r=Jt[ot],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ot,{type:Hl,value:String.fromCharCode(t),start:e,end:ot};default:if(n=Jt.charCodeAt(ot+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ot+=2,{type:Hl,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:ot};case 33:case 61:return ot+=2,Jt.charCodeAt(ot)===61&&++ot,{type:Hl,value:Jt.slice(e,ot),start:e,end:ot}}}if(s=Jt.substr(ot,4),s===">>>=")return ot+=4,{type:Hl,value:s,start:e,end:ot};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return ot+=3,{type:Hl,value:o,start:e,end:ot};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return ot+=2,{type:Hl,value:i,start:e,end:ot};if(i==="//"&&Ur({},Is,ia),"<>=!+-*%&|^/".includes(r))return++ot,{type:Hl,value:r,start:e,end:ot};Ur({},Is,ia)}function nRt(e){let t="";for(;ot<ja&&uJ(Jt[ot]);)t+=Jt[ot++];return t.length===0&&Ur({},Is,ia),Rk(Jt.charCodeAt(ot))&&Ur({},Is,ia),{type:zb,value:parseInt("0x"+t,16),start:e,end:ot}}function rRt(e){let t="0"+Jt[ot++];for(;ot<ja&&jS(Jt[ot]);)t+=Jt[ot++];return(Rk(Jt.charCodeAt(ot))||Rp(Jt.charCodeAt(ot)))&&Ur({},Is,ia),{type:zb,value:parseInt(t,8),octal:!0,start:e,end:ot}}function kfe(){var e,t,n;if(n=Jt[ot],Q6(Rp(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=ot,e="",n!=="."){if(e=Jt[ot++],n=Jt[ot],e==="0"){if(n==="x"||n==="X")return++ot,nRt(t);if(jS(n))return rRt(t);n&&Rp(n.charCodeAt(0))&&Ur({},Is,ia)}for(;Rp(Jt.charCodeAt(ot));)e+=Jt[ot++];n=Jt[ot]}if(n==="."){for(e+=Jt[ot++];Rp(Jt.charCodeAt(ot));)e+=Jt[ot++];n=Jt[ot]}if(n==="e"||n==="E")if(e+=Jt[ot++],n=Jt[ot],(n==="+"||n==="-")&&(e+=Jt[ot++]),Rp(Jt.charCodeAt(ot)))for(;Rp(Jt.charCodeAt(ot));)e+=Jt[ot++];else Ur({},Is,ia);return Rk(Jt.charCodeAt(ot))&&Ur({},Is,ia),{type:zb,value:parseFloat(e),start:t,end:ot}}function iRt(){var e="",t,n,r,i,o=!1;for(t=Jt[ot],Q6(t==="'"||t==='"',"String literal must starts with a quote"),n=ot,++ot;ot<ja;)if(r=Jt[ot++],r===t){t="";break}else if(r==="\\")if(r=Jt[ot++],!r||!Q2(r.charCodeAt(0)))switch(r){case"u":case"x":Jt[ot]==="{"?(++ot,e+=ZAt()):e+=OH(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:jS(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),ot<ja&&jS(Jt[ot])&&(o=!0,i=i*8+"01234567".indexOf(Jt[ot++]),"0123".includes(r)&&ot<ja&&jS(Jt[ot])&&(i=i*8+"01234567".indexOf(Jt[ot++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Jt[ot]===`
`&&++ot;else{if(Q2(r.charCodeAt(0)))break;e+=r}return t!==""&&Ur({},Is,ia),{type:Ak,value:e,octal:o,start:n,end:ot}}function oRt(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Ur({},PH)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Ur({},PH)}try{return new RegExp(e,t)}catch{return null}}function sRt(){var e,t,n,r,i;for(e=Jt[ot],Q6(e==="/","Regular expression literal must start with a slash"),t=Jt[ot++],n=!1,r=!1;ot<ja;)if(e=Jt[ot++],t+=e,e==="\\")e=Jt[ot++],Q2(e.charCodeAt(0))&&Ur({},k9),t+=e;else if(Q2(e.charCodeAt(0)))Ur({},k9);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Ur({},k9),i=t.substr(1,t.length-2),{value:i,literal:t}}function aRt(){var e,t,n;for(t="",n="";ot<ja&&(e=Jt[ot],!!EN(e.charCodeAt(0)));)++ot,e==="\\"&&ot<ja?Ur({},Is,ia):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Ur({},PH,n),{value:n,literal:t}}function lRt(){var e,t,n,r;return fi=null,qIe(),e=ot,t=sRt(),n=aRt(),r=oRt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:ot}}function uRt(e){return e.type===sb||e.type===ny||e.type===K6||e.type===X6}function WIe(){if(qIe(),ot>=ja)return{type:kk,start:ot,end:ot};const e=Jt.charCodeAt(ot);return Rk(e)?tRt():e===40||e===41||e===59?A9():e===39||e===34?iRt():e===46?Rp(Jt.charCodeAt(ot+1))?kfe():A9():Rp(e)?kfe():A9()}function Wl(){const e=fi;return ot=e.end,fi=WIe(),ot=e.end,e}function GIe(){const e=ot;fi=WIe(),ot=e}function cRt(e){const t=new yf(OAt);return t.elements=e,t}function Afe(e,t,n){const r=new yf(e==="||"||e==="&&"?FAt:NAt);return r.operator=e,r.left=t,r.right=n,r}function dRt(e,t){const n=new yf(MAt);return n.callee=e,n.arguments=t,n}function fRt(e,t,n){const r=new yf($At);return r.test=e,r.consequent=t,r.alternate=n,r}function cJ(e){const t=new yf(UIe);return t.name=e,t}function rS(e){const t=new yf(LAt);return t.value=e.value,t.raw=Jt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Rfe(e,t,n){const r=new yf(jAt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function hRt(e){const t=new yf(BAt);return t.properties=e,t}function Ife(e,t,n){const r=new yf(zAt);return r.key=t,r.value=n,r.kind=e,r}function pRt(e,t){const n=new yf(UAt);return n.operator=e,n.argument=t,n.prefix=!0,n}function Ur(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(Q6(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=ot,n.description=i,n}function J6(e){e.type===kk&&Ur(e,GAt),e.type===zb&&Ur(e,HAt),e.type===Ak&&Ur(e,qAt),e.type===sb&&Ur(e,VAt),e.type===ny&&Ur(e,WAt),Ur(e,Is,e.value)}function Ba(e){const t=Wl();(t.type!==Hl||t.value!==e)&&J6(t)}function Bi(e){return fi.type===Hl&&fi.value===e}function R9(e){return fi.type===ny&&fi.value===e}function mRt(){const e=[];for(ot=fi.start,Ba("[");!Bi("]");)Bi(",")?(Wl(),e.push(null)):(e.push(ab()),Bi("]")||Ba(","));return Wl(),cRt(e)}function Dfe(){ot=fi.start;const e=Wl();return e.type===Ak||e.type===zb?(e.octal&&Ur(e,HIe),rS(e)):cJ(e.value)}function gRt(){var e,t,n,r;if(ot=fi.start,e=fi,e.type===sb)return n=Dfe(),Ba(":"),r=ab(),Ife("init",n,r);if(e.type===kk||e.type===Hl)J6(e);else return t=Dfe(),Ba(":"),r=ab(),Ife("init",t,r)}function yRt(){var e=[],t,n,r,i={},o=String;for(ot=fi.start,Ba("{");!Bi("}");)t=gRt(),t.key.type===UIe?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Ur({},YAt):i[r]=!0,e.push(t),Bi("}")||Ba(",");return Ba("}"),hRt(e)}function vRt(){Ba("(");const e=dJ();return Ba(")"),e}const bRt={if:1};function wRt(){var e,t,n;if(Bi("("))return vRt();if(Bi("["))return mRt();if(Bi("{"))return yRt();if(e=fi.type,ot=fi.start,e===sb||bRt[fi.value])n=cJ(Wl().value);else if(e===Ak||e===zb)fi.octal&&Ur(fi,HIe),n=rS(Wl());else{if(e===ny)throw new Error(X2);e===K6?(t=Wl(),t.value=t.value==="true",n=rS(t)):e===X6?(t=Wl(),t.value=null,n=rS(t)):Bi("/")||Bi("/=")?(n=rS(lRt()),GIe()):J6(Wl())}return n}function xRt(){const e=[];if(Ba("("),!Bi(")"))for(;ot<ja&&(e.push(ab()),!Bi(")"));)Ba(",");return Ba(")"),e}function CRt(){ot=fi.start;const e=Wl();return uRt(e)||J6(e),cJ(e.value)}function _Rt(){return Ba("."),CRt()}function ERt(){Ba("[");const e=dJ();return Ba("]"),e}function SRt(){var e,t,n;for(e=wRt();;)if(Bi("."))n=_Rt(),e=Rfe(".",e,n);else if(Bi("("))t=xRt(),e=dRt(e,t);else if(Bi("["))n=ERt(),e=Rfe("[",e,n);else break;return e}function Pfe(){const e=SRt();if(fi.type===Hl&&(Bi("++")||Bi("--")))throw new Error(X2);return e}function YP(){var e,t;if(fi.type!==Hl&&fi.type!==ny)t=Pfe();else{if(Bi("++")||Bi("--"))throw new Error(X2);if(Bi("+")||Bi("-")||Bi("~")||Bi("!"))e=Wl(),t=YP(),t=pRt(e.value,t);else{if(R9("delete")||R9("void")||R9("typeof"))throw new Error(X2);t=Pfe()}}return t}function Ofe(e){let t=0;if(e.type!==Hl&&e.type!==ny)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function TRt(){var e,t,n,r,i,o,s,a,l,u;if(e=fi,l=YP(),r=fi,i=Ofe(r),i===0)return l;for(r.prec=i,Wl(),t=[e,fi],s=YP(),o=[l,r,s];(i=Ofe(fi))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=Afe(a,l,s),o.push(n);r=Wl(),r.prec=i,o.push(r),t.push(fi),n=YP(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=Afe(o[u-1].value,o[u-2],n),u-=2;return n}function ab(){var e,t,n;return e=TRt(),Bi("?")&&(Wl(),t=ab(),Ba(":"),n=ab(),e=fRt(e,t,n)),e}function dJ(){const e=ab();if(Bi(","))throw new Error(X2);return e}function YIe(e){Jt=e,ot=0,ja=Jt.length,fi=null,GIe();const t=dJ();if(fi.type!==kk)throw new Error("Unexpect token after expression.");return t}var KIe={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function XIe(e){function t(s,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+s+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(s,a,l){return u=>t(s,u,a,l)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&it("Missing arguments to clamp function."),s.length>3&&it("Too many arguments to clamp function.");const a=s.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),btoa:"btoa",atob:"atob",regexp:o,test:n("test",o),if:function(s){s.length<3&&it("Missing arguments to if function."),s.length>3&&it("Too many arguments to if function.");const a=s.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function kRt(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function QIe(e){e=e||{};const t=e.allowed?Jd(e.allowed):{},n=e.forbidden?Jd(e.forbidden):{},r=e.constants||KIe,i=(e.functions||XIe)(d),o=e.globalvar,s=e.fieldvar,a=nr(o)?o:p=>`${o}["${p}"]`;[...Object.getOwnPropertyNames(Object.prototype).filter(p=>typeof Object.prototype[p]=="function")];let l={},u={},c=0;function d(p){if(Vr(p))return p;const m=f[p.type];return m==null&&it("Unsupported type: "+p.type),m(p)}const f={Literal:p=>p.raw,Identifier:p=>{const m=p.name;return c>0?m:Dn(n,m)?it("Illegal identifier: "+m):Dn(r,m)?r[m]:Dn(t,m)?m:(l[m]=1,a(m))},MemberExpression:p=>{const m=!p.computed,g=d(p.object);m&&(c+=1);const v=d(p.property);return g===s&&(u[kRt(v)]=1),m&&(c-=1),g+(m?"."+v:"["+v+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&it("Illegal callee type: "+p.callee.type);const m=p.callee.name,g=p.arguments,v=Dn(i,m)&&i[m];return v||it("Unrecognized function: "+m),nr(v)?v(g):v+"("+g.map(d).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(d).join(",")+"]",BinaryExpression:p=>"("+d(p.left)+" "+p.operator+" "+d(p.right)+")",UnaryExpression:p=>"("+p.operator+d(p.argument)+")",ConditionalExpression:p=>"("+d(p.test)+"?"+d(p.consequent)+":"+d(p.alternate)+")",LogicalExpression:p=>"("+d(p.left)+p.operator+d(p.right)+")",ObjectExpression:p=>{for(const m of p.properties){const g=m.key.name;QEe.has(g)&&it("Illegal property: "+g)}return"{"+p.properties.map(d).join(",")+"}"},Property:p=>{c+=1;const m=d(p.key);return c-=1,m+":"+d(p.value)}};function h(p){const m={code:d(p),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},m}return h.functions=i,h.constants=r,h}const Nfe=Symbol("vega_selection_getter");function JIe(e){return(!e.getter||!e.getter[Nfe])&&(e.getter=$c(e.field),e.getter[Nfe]=!0),e.getter}const fJ="intersect",Mfe="union",ARt="vlMulti",RRt="vlPoint",$fe="or",IRt="and",Jf="_vgsid_",J2=$c(Jf),DRt="E",PRt="R",ORt="R-E",NRt="R-LE",MRt="R-RE",$Rt="E-LT",LRt="E-LTE",FRt="E-GT",jRt="E-GTE",BRt="E-VALID",zRt="E-ONE",SN="index:unit";function Lfe(e,t){for(var n=t.fields,r=t.values,i=n.length,o=0,s,a;o<i;++o)if(a=n[o],s=JIe(a)(e),l0(s)&&(s=Na(s)),l0(r[o])&&(r[o]=Na(r[o])),cn(r[o])&&l0(r[o][0])&&(r[o]=r[o].map(Na)),a.type===DRt){if(cn(r[o])?!r[o].includes(s):s!==r[o])return!1}else if(a.type===PRt){if(!bw(s,r[o]))return!1}else if(a.type===MRt){if(!bw(s,r[o],!0,!1))return!1}else if(a.type===ORt){if(!bw(s,r[o],!1,!1))return!1}else if(a.type===NRt){if(!bw(s,r[o],!1,!0))return!1}else if(a.type===$Rt){if(s>=r[o])return!1}else if(a.type===LRt){if(s>r[o])return!1}else if(a.type===FRt){if(s<=r[o])return!1}else if(a.type===jRt){if(s<r[o])return!1}else if(a.type===BRt){if(s===null||isNaN(s))return!1}else if(a.type===zRt&&r[o].indexOf(s)===-1)return!1;return!0}function URt(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],o=r?r[SN]&&r[SN].value:void 0,s=n===fJ,a=i.length,l=0,u,c,d,f,h;l<a;++l)if(u=i[l],o&&s){if(c=c||{},d=c[f=u.unit]||0,d===-1)continue;if(h=Lfe(t,u),c[f]=h?-1:++d,h&&o.size===1)return!0;if(!h&&d===o.get(f).count)return!1}else if(h=Lfe(t,u),s^h)return h;return a&&s}const ZIe=AC(J2),HRt=ZIe.left,qRt=ZIe.right;function VRt(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[SN]&&r[SN].value:void 0,s=n===fJ,a=J2(t),l=HRt(i,a);if(l===i.length||J2(i[l])!==a)return!1;if(o&&s){if(o.size===1)return!0;if(qRt(i,a)-l<o.size)return!1}return!0}function WRt(e,t){return cn(e)||it("First argument to selectionTuples must be an array."),Gn(t)||it("Second argument to selectionTuples must be an object."),e.map(n=>tr(t.fields?{values:t.fields.map(r=>JIe(r)(n.datum))}:{[Jf]:J2(n.datum)},t))}function GRt(e,t,n,r){for(var i=this.context.data[e],o=i?i.values.value:[],s={},a={},l={},u,c,d,f,h,p,m,g,v,y,x=o.length,E=0,_,S;E<x;++E)if(u=o[E],f=u.unit,c=u.fields,d=u.values,c&&d){for(_=0,S=c.length;_<S;++_)h=c[_],m=s[h.field]||(s[h.field]={}),g=m[f]||(m[f]=[]),l[h.field]=v=h.type.charAt(0),y=I9[`${v}_union`],m[f]=y(g,wn(d[_]));n&&(g=a[f]||(a[f]=[]),g.push(wn(d).reduce((T,k,R)=>(T[c[R].field]=k,T),{})))}else h=Jf,p=J2(u),m=s[h]||(s[h]={}),g=m[f]||(m[f]=[]),g.push(p),n&&(g=a[f]||(a[f]=[]),g.push({[Jf]:p}));if(t=t||Mfe,s[Jf]?s[Jf]=I9[`${Jf}_${t}`](...Object.values(s[Jf])):Object.keys(s).forEach(T=>{s[T]=Object.keys(s[T]).map(k=>s[T][k]).reduce((k,R)=>k===void 0?R:I9[`${l[T]}_${t}`](k,R))}),o=Object.keys(a),n&&o.length){const T=r?RRt:ARt;s[T]=t===Mfe?{[$fe]:o.reduce((k,R)=>(k.push(...a[R]),k),[])}:{[IRt]:o.map(k=>({[$fe]:a[k]}))}}return s}var I9={[`${Jf}_union`]:Fgt,[`${Jf}_intersect`]:$gt,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=Na(t[0]),r=Na(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Na(t[0]),r=Na(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const YRt=":",KRt="@";function hJ(e,t,n,r){t[0].type!==ob&&it("First argument to selection functions must be a string literal.");const i=t[0].value,o=t.length>=2&&Er(t).value,s="unit",a=KRt+s,l=YRt+i;o===fJ&&!Dn(r,a)&&(r[a]=n.getData(i).indataRef(n,s)),Dn(r,l)||(r[l]=n.getData(i).tuplesRef())}function eDe(e){const t=this.context.data[e];return t?t.values.value:[]}function XRt(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function QRt(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(Lc).insert(t)),1}function JRt(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const Ik=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},ZRt=Ik("format"),tDe=Ik("timeFormat"),eIt=Ik("utcFormat"),tIt=Ik("timeParse"),nIt=Ik("utcParse"),aI=new Date(2e3,0,1);function Z6(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(aI.setYear(2e3),aI.setMonth(e),aI.setDate(t),tDe.call(this,aI,n))}function rIt(e){return Z6.call(this,e,1,"%B")}function iIt(e){return Z6.call(this,e,1,"%b")}function oIt(e){return Z6.call(this,0,2+e,"%A")}function sIt(e){return Z6.call(this,0,2+e,"%a")}const aIt=":",lIt="@",NH="%",nDe="$";function pJ(e,t,n,r){t[0].type!==ob&&it("First argument to data functions must be a string literal.");const i=t[0].value,o=aIt+i;if(!Dn(o,r))try{r[o]=n.getData(i).tuplesRef()}catch{}}function uIt(e,t,n,r){t[0].type!==ob&&it("First argument to indata must be a string literal."),t[1].type!==ob&&it("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,s=lIt+o;Dn(s,r)||(r[s]=n.getData(i).indataRef(n,o))}function yl(e,t,n,r){if(t[0].type===ob)Ffe(n,r,t[0].value);else for(e in n.scales)Ffe(n,r,e)}function Ffe(e,t,n){const r=NH+n;if(!Dn(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Qh(e,t){if(Vr(e)){const n=t.scales[e];return n&&Bce(n.value)?n.value:void 0}else if(nr(e))return Bce(e)?e:void 0}function cIt(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=yl,n._range=yl,n._scale=yl;const r=i=>"_["+(i.type===ob?an(NH+i.value):an(NH)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function mJ(e,t){return function(n,r,i){if(n){const o=Qh(n,(i||this).context);return o&&o.path[e](r)}else return t(r)}}const dIt=mJ("area",REt),fIt=mJ("bounds",OEt),hIt=mJ("centroid",jEt);function pIt(e,t){const n=Qh(e,(t||this).context);return n&&n.scale()}function mIt(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function gJ(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function gIt(){return gJ(this.context.dataflow,"warn",arguments)}function yIt(){return gJ(this.context.dataflow,"info",arguments)}function vIt(){return gJ(this.context.dataflow,"debug",arguments)}function D9(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function MH(e){const t=R0(e),n=D9(t.r),r=D9(t.g),i=D9(t.b);return .2126*n+.7152*r+.0722*i}function bIt(e,t){const n=MH(e),r=MH(t),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function wIt(){const e=[].slice.call(arguments);return e.unshift({}),tr(...e)}function rDe(e,t){return e===t||e!==e&&t!==t?!0:cn(e)?cn(t)&&e.length===t.length?xIt(e,t):!1:Gn(e)&&Gn(t)?iDe(e,t):!1}function xIt(e,t){for(let n=0,r=e.length;n<r;++n)if(!rDe(e[n],t[n]))return!1;return!0}function iDe(e,t){for(const n in e)if(!rDe(e[n],t[n]))return!1;return!0}function jfe(e){return t=>iDe(e,t)}function CIt(e,t,n,r,i,o){const s=this.context.dataflow,a=this.context.data[e],l=a.input,u=s.stamp();let c=a.changes,d,f;if(s._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(a.changes=c=s.changeset(),c.stamp=u,s.runAfter(()=>{a.modified=!0,s.pulse(l,c).run()},!0,1)),n&&(d=n===!0?Lc:cn(n)||a6(n)?n:jfe(n),c.remove(d)),t&&c.insert(t),r&&(d=jfe(r),l.value.some(d)?c.remove(d):c.insert(r)),i){if(nr(i))throw Error("modify parameter must be a data tuple, not a function");for(f in o)c.modify(i,f,o[f])}return 1}function _It(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function EIt(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const Bfe={};function SIt(e,t){const n=Bfe[t]||(Bfe[t]=$c(t));return cn(e)?e.map(n):n(e)}function e5(e){return cn(e)||ArrayBuffer.isView(e)?e:null}function yJ(e){return e5(e)||(Vr(e)?e:null)}function TIt(e,...t){return e5(e).join(...t)}function kIt(e,...t){return yJ(e).indexOf(...t)}function AIt(e,...t){return yJ(e).lastIndexOf(...t)}function RIt(e,...t){return yJ(e).slice(...t)}function IIt(e,t,n){return nr(n)&&it("Function argument passed to replace."),!Vr(t)&&!tK(t)&&it("Please pass a string or RegExp argument to replace."),String(e).replace(t,n)}function DIt(e){return e5(e).slice().reverse()}function PIt(e){return e5(e).slice().sort(nk)}function OIt(e,t,n){return IX(e||0,t||0,n||0)}function NIt(e,t){const n=Qh(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function MIt(e,t){const n=Qh(e,(t||this).context);return n?n.copy():void 0}function $It(e,t){const n=Qh(e,(t||this).context);return n?n.domain():[]}function LIt(e,t,n){const r=Qh(e,(n||this).context);return r?cn(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function FIt(e,t){const n=Qh(e,(t||this).context);return n&&n.range?n.range():[]}function jIt(e,t,n){const r=Qh(e,(n||this).context);return r?r(t):void 0}function BIt(e,t,n,r,i){e=Qh(e,(i||this).context);const o=Xke(t,n);let s=e.domain(),a=s[0],l=Er(s),u=xl;return l-a?u=Fke(e,a,l):e=(e.interpolator?Gr("sequential")().interpolator(e.interpolator()):Gr("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(s=e.ticks(+r||15),a!==s[0]&&s.unshift(a),l!==Er(s)&&s.push(l)),s.forEach(c=>o.stop(u(c),e(c))),o}function zIt(e,t,n){const r=Qh(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function UIt(e){let t=null;return function(n){return n?z2(n,t=t||kx(e)):e}}const oDe=e=>e.data;function sDe(e,t){const n=eDe.call(t,e);return n.root&&n.root.lookup||{}}function HIt(e,t,n){const r=sDe(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(oDe):void 0}function qIt(e,t){const n=sDe(e,this)[t];return n?n.ancestors().map(oDe):void 0}const aDe=()=>typeof window<"u"&&window||null;function VIt(){const e=aDe();return e?e.screen:{}}function WIt(){const e=aDe();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function GIt(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function lDe(e,t,n){if(!e)return[];const[r,i]=e,o=new Xo().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return WAe(s,o,YIt(t))}function YIt(e){let t=null;if(e){const n=wn(e.marktype),r=wn(e.markname);t=i=>(!n.length||n.some(o=>i.marktype===o))&&(!r.length||r.some(o=>i.name===o))}return t}function KIt(e,t,n,r=5){e=wn(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function XIt(e){return wn(e).reduce((t,[n,r],i)=>t+=i==0?`M ${n},${r} `:i===e.length-1?" Z":`L ${n},${r} `,"")}function QIt(e,t,n){const{x:r,y:i,mark:o}=n,s=new Xo().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<s.x1&&(s.x1=l),l>s.x2&&(s.x2=l),u<s.y1&&(s.y1=u),u>s.y2&&(s.y2=u);return s.translate(r,i),lDe([[s.x1,s.y1],[s.x2,s.y2]],e,o).filter(l=>JIt(l.x,l.y,t))}function JIt(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[s,a]=n[o],[l,u]=n[i];u>t!=a>t&&e<(s-l)*(t-u)/(a-u)+l&&r++}return r&1}const Z2={random(){return jc()},cumulativeNormal:f6,cumulativeLogNormal:RK,cumulativeUniform:OK,densityNormal:EK,densityLogNormal:AK,densityUniform:PK,quantileNormal:h6,quantileLogNormal:IK,quantileUniform:NK,sampleNormal:d6,sampleLogNormal:kK,sampleUniform:DK,isArray:cn,isBoolean:eK,isDate:l0,isDefined(e){return e!==void 0},isNumber:E0,isObject:Gn,isRegExp:tK,isString:Vr,isTuple:a6,isValid(e){return e!=null&&e===e},toBoolean:rK,toDate(e){return iK(e)},toNumber:Na,toString:oK,indexof:kIt,join:TIt,lastindexof:AIt,replace:IIt,reverse:DIt,sort:PIt,slice:RIt,flush:mSe,lerp:ySe,merge:wIt,pad:wSe,peek:Er,pluck:SIt,span:rk,inrange:bw,truncate:xSe,rgb:R0,lab:PO,hcl:OO,hsl:F2,luminance:MH,contrast:bIt,sequence:Nu,format:ZRt,utcFormat:eIt,utcParse:nIt,utcOffset:t2e,utcSequence:i2e,timeFormat:tDe,timeParse:tIt,timeOffset:e2e,timeSequence:r2e,timeUnitSpecifier:HSe,monthFormat:rIt,monthAbbrevFormat:iIt,dayFormat:oIt,dayAbbrevFormat:sIt,quarter:dSe,utcquarter:fSe,week:VSe,utcweek:YSe,dayofyear:qSe,utcdayofyear:GSe,warn:gIt,info:yIt,debug:vIt,extent(e){return Rh(e)},inScope:mIt,intersect:lDe,clampRange:hSe,pinchDistance:_It,pinchAngle:EIt,screen:VIt,containerSize:GIt,windowSize:WIt,bandspace:OIt,setdata:QRt,pathShape:UIt,panLinear:aSe,panLog:lSe,panPow:uSe,panSymlog:cSe,zoomLinear:KY,zoomLog:XY,zoomPow:vO,zoomSymlog:QY,encode:JRt,modify:CIt,lassoAppend:KIt,lassoPath:XIt,intersectLasso:QIt},ZIt=["view","item","group","xy","x","y"],eDt="event.vega.",uDe="this.",vJ={},cDe={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${an(nDe+e)}]`,functions:tDt,constants:KIe,visitors:vJ},$H=QIe(cDe);function tDt(e){const t=XIe(e);ZIt.forEach(n=>t[n]=eDt+n);for(const n in Z2)t[n]=uDe+n;return tr(t,cIt(e,Z2,vJ)),t}function Uo(e,t,n){return arguments.length===1?Z2[e]:(Z2[e]=t,n&&(vJ[e]=n),$H&&($H.functions[e]=uDe+e),this)}Uo("bandwidth",NIt,yl);Uo("copy",MIt,yl);Uo("domain",$It,yl);Uo("range",FIt,yl);Uo("invert",LIt,yl);Uo("scale",jIt,yl);Uo("gradient",BIt,yl);Uo("geoArea",dIt,yl);Uo("geoBounds",fIt,yl);Uo("geoCentroid",hIt,yl);Uo("geoShape",zIt,yl);Uo("geoScale",pIt,yl);Uo("indata",XRt,uIt);Uo("data",eDe,pJ);Uo("treePath",HIt,pJ);Uo("treeAncestors",qIt,pJ);Uo("vlSelectionTest",URt,hJ);Uo("vlSelectionIdTest",VRt,hJ);Uo("vlSelectionResolve",GRt,hJ);Uo("vlSelectionTuples",WRt);function Nh(e,t){const n={};let r;try{e=Vr(e)?e:an(e)+"",r=YIe(e)}catch{it("Expression parse error: "+e)}r.visit(o=>{if(o.type!==zIe)return;const s=o.callee.name,a=cDe.visitors[s];a&&a(s,o.arguments,t,n)});const i=$H(r);return i.globals.forEach(o=>{const s=nDe+o;!Dn(n,s)&&t.getSignal(o)&&(n[s]=t.signalRef(o))}),{$expr:tr({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function nDt(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const rDt=Jd(["rule"]),zfe=Jd(["group","image","rect"]);function iDt(e,t){let n="";return rDt[t]||(e.x2&&(e.x?(zfe[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(zfe[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function bJ(e){return(e+"").toLowerCase()}function oDt(e){return bJ(e)==="operator"}function sDt(e){return bJ(e)==="collect"}function iE(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function aDt(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var lDt={operator:(e,t)=>iE(e,["_"],t.code),parameter:(e,t)=>iE(e,["datum","_"],t.code),event:(e,t)=>iE(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return iE(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const s="o["+an(o)+"]";i+=`$=${r[o].code};if(${s}!==$)${s}=$,m=1;`}return i+=iDt(r,n),i+="return m;",iE(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(an).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,s)=>{const a=t[s];let l,u;return o.path?(l=`a${o.path}`,u=`b${o.path}`):((n=n||{})["f"+s]=o,l=`this.f${s}(a)`,u=`this.f${s}(b)`),aDt(l,u,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function uDt(e){const t=this;oDt(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function cDt(e){const t=this;if(e.params){const n=t.get(e.id);n||it("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function dDt(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=cn(i)?i.map(o=>Ufe(o,n,t)):Ufe(i,n,t)}return t}function Ufe(e,t,n){if(!e||!Gn(e))return e;for(let r=0,i=Hfe.length,o;r<i;++r)if(o=Hfe[r],Dn(e,o.key))return o.parse(e,t,n);return e}var Hfe=[{key:"$ref",parse:fDt},{key:"$key",parse:pDt},{key:"$expr",parse:hDt},{key:"$field",parse:mDt},{key:"$encode",parse:yDt},{key:"$compare",parse:gDt},{key:"$context",parse:vDt},{key:"$subflow",parse:bDt},{key:"$tupleid",parse:wDt}];function fDt(e,t){return t.get(e.$ref)||it("Operator not defined: "+e.$ref)}function hDt(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=du(t.parameterExpression(e.$expr),e.$fields))}function pDt(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=nK(e.$key,e.$flat,t.expr.codegen))}function mDt(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=$c(e.$field,e.$name,t.expr.codegen))}function gDt(e,t){const n="c:"+e.$compare+"_"+e.$order,r=wn(e.$compare).map(i=>i&&i.$tupleid?mn:i);return t.fn[n]||(t.fn[n]=JY(r,e.$order,t.expr.codegen))}function yDt(e,t){const n=e.$encode,r={};for(const i in n){const o=n[i];r[i]=du(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}function vDt(e,t){return t}function bDt(e,t){const n=e.$subflow;return function(r,i,o){const s=t.fork().parse(n),a=s.get(n.operators[0].id),l=s.signals.parent;return l&&l.set(o),a.detachSubflow=()=>t.detach(s),a}}function wDt(){return mn}function xDt(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(o=>t.get(o)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(o=>t.get(o)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&it("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function CDt(e){var t=this,n=Gn(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,s=void 0;r||it("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(s=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,i,o,s)}const _Dt={skip:!0};function EDt(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const s=t.signals[o];e.signals(o,s)&&(r[o]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(o=>{const s=t.data[o];e.data(o,s)&&(i[o]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function SDt(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(o=>{n.update(t.signals[o],i[o],_Dt)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(Lc).insert(r[o]))}),(e.subcontext||[]).forEach((o,s)=>{const a=t.subcontext[s];a&&a.setState(o)})}function dDe(e,t,n,r){return new fDe(e,t,n,r)}function fDe(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||lDt,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function qfe(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}fDe.prototype=qfe.prototype={fork(){const e=new qfe(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),sDt(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const s=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>s[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[bJ(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:nDt,parseOperator:uDt,parseOperatorParameters:cDt,parseParameters:dDt,parseStream:xDt,parseUpdate:CDt,getState:EDt,setState:SDt};function TDt(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),hDe(t,e.description()))}function hDe(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function kDt(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const P9="default";function ADt(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:P9,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,o=i?Vr(i)?i:i.user:P9,s=r.item&&r.item.cursor||null;return i&&o===i.user&&s==i.item?i:{user:o,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return Vr(r)||(i=r.item,r=r.user),LH(e,r&&r!==P9?r:i||r),i},{cursor:t})}function LH(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function TN(e,t){var n=e._runtime.data;return Dn(n,t)||it("Unrecognized data set: "+t),n[t]}function RDt(e,t){return arguments.length<2?TN(this,e).values.value:t5.call(this,e,Fb().remove(Lc).insert(t))}function t5(e,t){D2e(t)||it("Second argument to changes must be a changeset.");const n=TN(this,e);return n.modified=!0,this.pulse(n.input,t)}function IDt(e,t){return t5.call(this,e,Fb().insert(t))}function DDt(e,t){return t5.call(this,e,Fb().remove(t))}function pDe(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function mDe(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function n5(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function PDt(e){var t=n5(e),n=pDe(e),r=mDe(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(o){e.error(o)}})}function ODt(e,t,n){var r=e._renderer,i=r&&r.canvas(),o,s,a;return i&&(a=n5(e),s=t.changedTouches?t.changedTouches[0]:t,o=B6(s,i),o[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=NDt(e,n,o),t}function NDt(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var a=r,l;if(s){for(l=t;l;l=l.mark.group)if(l.mark.name===s){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function o(s){if(!s)return n;Vr(s)&&(s=i(s));const a=n.slice();for(;s;)a[0]-=s.x||0,a[1]-=s.y||0,s=s.mark&&s.mark.group;return a}return{view:qa(e),item:qa(t||{}),group:i,xy:o,x:s=>o(s)[0],y:s=>o(s)[1]}}const Vfe="view",MDt="timer",$Dt="window",LDt={trap:!1};function FDt(e){const t=tr({defaults:{}},e),n=(r,i)=>{i.forEach(o=>{cn(r[o])&&(r[o]=Jd(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function gDe(e,t,n,r){e._eventListeners.push({type:n,sources:wn(t),handler:r})}function jDt(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function lI(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||Gn(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function BDt(e,t,n){var r=this,i=new c6(n),o=function(u,c){r.runAsync(null,()=>{e===Vfe&&jDt(r,t)&&u.preventDefault(),i.receive(ODt(r,u,c))})},s;if(e===MDt)lI(r,"timer",t)&&r.timer(o,t);else if(e===Vfe)lI(r,"view",t)&&r.addEventListener(t,o,LDt);else if(e===$Dt?lI(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&lI(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=s.length;a<l;++a)s[a].addEventListener(t,o);gDe(r,s,t,o)}return i}function Wfe(e){return e.item}function Gfe(e){return e.item.mark.source}function Yfe(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function zDt(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",Wfe),Gfe,Yfe(e)),this.on(this.events("view","pointerout",Wfe),Gfe,Yfe(t)),this}function UDt(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,o,s,a,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(s=r[i],o=s.sources.length;--o>=0;)s.sources[o].removeEventListener(s.type,s.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,a=n[i].handler,this._handler.off(l,a);return this}function zu(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const HDt="vega-bind",qDt="vega-bind-name",VDt="vega-bind-radio";function WDt(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=ZY(r.debounce,i.update))),(r.input==null&&r.element?GDt:KDt)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function GDt(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),gDe(r,t,i,o),e.set=s=>{t.value=s,t.dispatchEvent(YDt(i))}}function YDt(e){return typeof Event<"u"?new Event(e):{type:e}}function KDt(e,t,n,r){const i=r.signal(n.signal),o=zu("div",{class:HDt}),s=n.input==="radio"?o:o.appendChild(zu("label"));s.appendChild(zu("span",{class:qDt},n.name||n.signal)),t.appendChild(o);let a=XDt;switch(n.input){case"checkbox":a=QDt;break;case"select":a=JDt;break;case"radio":a=ZDt;break;case"range":a=ePt;break}a(e,s,n,i)}function XDt(e,t,n,r){const i=zu("input");for(const o in n)o!=="signal"&&o!=="element"&&i.setAttribute(o==="input"?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=o=>i.value=o}function QDt(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=zu("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=s=>o.checked=!!s||null}function JDt(e,t,n,r){const i=zu("select",{name:n.signal}),o=n.labels||[];n.options.forEach((s,a)=>{const l={value:s};kN(s,r)&&(l.selected=!0),i.appendChild(zu("option",l,(o[a]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let a=0,l=n.options.length;a<l;++a)if(kN(n.options[a],s)){i.selectedIndex=a;return}}}function ZDt(e,t,n,r){const i=zu("span",{class:VDt}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,a)=>{const l={type:"radio",name:n.signal,value:s};kN(s,r)&&(l.checked=!0);const u=zu("input",l);u.addEventListener("change",()=>e.update(s));const c=zu("label",{},(o[a]||s)+"");return c.prepend(u),i.appendChild(c),u}),e.set=s=>{const a=e.elements,l=a.length;for(let u=0;u<l;++u)kN(a[u].value,s)&&(a[u].checked=!0)}}function ePt(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,s=n.step||T0(o,i,100),a=zu("input",{type:"range",name:n.signal,min:o,max:i,step:s});a.value=r;const l=zu("span",{},+r);t.appendChild(a),t.appendChild(l);const u=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",u),a.addEventListener("change",u),e.elements=[a],e.set=c=>{a.value=c,l.textContent=c}}function kN(e,t){return e===t||e+""==t+""}function yDe(e,t,n,r,i,o){return t=t||new r(e.loader()),t.initialize(n,pDe(e),mDe(e),n5(e),i,o).background(e.background())}function wJ(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function tPt(e,t,n,r){const i=new r(e.loader(),wJ(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,n5(e),e);return t&&t.handlers().forEach(o=>{i.on(o.type,o.handler)}),i}function nPt(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=z6(r);e=n._el=e?O9(n,e,!0):null,TDt(n),o||n.error("Unrecognized renderer type: "+r);const s=o.handler||Ck,a=e?o.renderer:o.headless;return n._renderer=a?yDe(n,n._renderer,e,a):null,n._handler=tPt(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=O9(n,t,!0):e.appendChild(zu("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=O9(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{WDt(n,l.element||t,l)})),n}function O9(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const oE=e=>+e||0,rPt=e=>({top:e,bottom:e,left:e,right:e});function Kfe(e){return Gn(e)?{top:oE(e.top),bottom:oE(e.bottom),left:oE(e.left),right:oE(e.right)}:rPt(oE(e))}async function xJ(e,t,n,r){const i=z6(t),o=i&&i.headless;return o||it("Unrecognized renderer type: "+t),await e.runAsync(),yDe(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function iPt(e,t){e!==Yg.Canvas&&e!==Yg.SVG&&e!==Yg.PNG&&it("Unrecognized image type: "+e);const n=await xJ(this,e,t);return e===Yg.SVG?oPt(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function oPt(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function sPt(e,t){return(await xJ(this,Yg.Canvas,e,t)).canvas()}async function aPt(e){return(await xJ(this,Yg.SVG,e)).svg()}function lPt(e,t,n){return dDe(e,xx,Z2,n).parse(t)}function uPt(e){var t=this._runtime.scales;return Dn(t,e)||it("Unrecognized scale or projection: "+e),t[e].value}var vDe="width",bDe="height",CJ="padding",Xfe={skip:!0};function wDe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===CJ?r.left+r.right:0)}function xDe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===CJ?r.top+r.bottom:0)}function cPt(e){var t=e._signals,n=t[vDe],r=t[bDe],i=t[CJ];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=wDe(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=xDe(e,a.size),o()},{size:r});const s=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function dPt(e,t,n,r,i,o){this.runAfter(s=>{let a=0;s._autosize=0,s.width()!==n&&(a=1,s.signal(vDe,n,Xfe),s._resizeWidth.skip(!0)),s.height()!==r&&(a=1,s.signal(bDe,r,Xfe),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),a&&s.run("enter"),o&&s.runAfter(l=>l.resize())},!1,1)}function fPt(e){return this._runtime.getState(e||{data:hPt,signals:pPt,recurse:!0})}function hPt(e,t){return t.modified&&cn(t.input.value)&&!e.startsWith("_:vega:_")}function pPt(e,t){return!(e==="parent"||t instanceof xx.proxy)}function mPt(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function gPt(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(B2t(n,t))}function yPt(e,t,n,r){const i=e.element();i&&i.setAttribute("title",vPt(r))}function vPt(e){return e==null?"":cn(e)?CDe(e):Gn(e)&&!l0(e)?bPt(e):e+""}function bPt(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(cn(n)?CDe(n):_De(n))}).join(`
`)}function CDe(e){return"["+e.map(_De).join(", ")+"]"}function _De(e){return cn(e)?"[]":Gn(e)&&!l0(e)?"{}":e}function wPt(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e?.();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function EDe(e,t){const n=this;if(t=t||{},jw.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=tr({},e.locale,t.locale);n.locale(x2e(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Yg.Canvas,n._scenegraph=new bAe;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||yPt,n._redraw=!0,n._handler=new Ck().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=FDt(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=lPt(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:tr({},o)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=wDe(n,n._width),n._viewHeight=xDe(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,cPt(n),kDt(n),ADt(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function uI(e,t){return Dn(e._signals,t)?e._signals[t]:it("Unrecognized signal name: "+an(t))}function SDe(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function Qfe(e,t,n,r){let i=SDe(n,r);return i||(i=wJ(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function Jfe(e,t,n){const r=SDe(t,n);return r&&t._targets.remove(r),e}It(EDe,jw,{async evaluate(e,t,n){if(await jw.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,PDt(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&DP(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&hDe(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=uI(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",Kfe(e)):Kfe(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(z6(e)||it("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(jw.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(uI(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:dPt,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=wJ(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,o;--r>=0;)if(o=n[r].type,i=n[r].handler,e===o&&(t===i||t===i.raw)){this._handler.off(o,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return Qfe(this,e,uI(this,e),t)},removeSignalListener(e,t){return Jfe(this,uI(this,e),t)},addDataListener(e,t){return Qfe(this,e,TN(this,e).values,t)},removeDataListener(e,t){return Jfe(this,TN(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=LH(this,null);this._globalCursor=!!e,t&&LH(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:gPt,events:BDt,finalize:UDt,hover:zDt,data:RDt,change:t5,insert:IDt,remove:DDt,scale:uPt,initialize:nPt,toImageURL:iPt,toCanvas:sPt,toSVG:aPt,getState:fPt,setState:mPt,_watchPixelRatio:wPt});const xPt="view",AN="[",RN="]",TDe="{",kDe="}",CPt=":",ADe=",",_Pt="@",EPt=">",SPt=/[[\]{}]/,TPt={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let RDe,IDe;function DDe(e,t,n){return RDe=t||xPt,IDe=n||TPt,PDe(e.trim()).map(FH)}function kPt(e){return IDe[e]}function BS(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.includes(a)?--s:r&&r.includes(a)&&++s}return t}function PDe(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=BS(e,i,ADe,AN+TDe,RN+kDe),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function FH(e){return e[0]==="["?APt(e):RPt(e)}function APt(e){const t=e.length;let n=1,r;if(n=BS(e,n,RN,AN,RN),n===t)throw"Empty between selector: "+e;if(r=PDe(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==EPt)throw"Expected '>' after between selector: "+e;r=r.map(FH);const i=FH(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function RPt(e){const t={source:RDe},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,l,u;if(e[s-1]===kDe){if(a=e.lastIndexOf(TDe),a>=0){try{r=IPt(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===_Pt&&(i=++a),l=BS(e,a,CPt),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=BS(e,a,AN),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=BS(e,a,RN),a===s)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==AN)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||SPt.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):kPt(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function IPt(e){const t=e.split(ADe);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function DPt(e){return Gn(e)?e:{type:e||"pad"}}const sE=e=>+e||0,PPt=e=>({top:e,bottom:e,left:e,right:e});function OPt(e){return Gn(e)?e.signal?e:{top:sE(e.top),bottom:sE(e.bottom),left:sE(e.left),right:sE(e.right)}:PPt(sE(e))}const Ds=e=>Gn(e)&&!cn(e)?tr({},e):{value:e};function Zfe(e,t,n,r){return n!=null?(Gn(n)&&!cn(n)||cn(n)&&n.length&&Gn(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function ua(e,t,n){for(const r in t)Zfe(e,r,t[r]);for(const r in n)Zfe(e,r,n[r],"update")}function FC(e,t,n){for(const r in t)n&&Dn(n,r)||(e[r]=tr(e[r]||{},t[r]));return e}function hw(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const _J="mark",EJ="frame",SJ="scope",NPt="axis",MPt="axis-domain",$Pt="axis-grid",LPt="axis-label",FPt="axis-tick",jPt="axis-title",BPt="legend",zPt="legend-band",UPt="legend-entry",HPt="legend-gradient",ODe="legend-label",qPt="legend-symbol",VPt="legend-title",WPt="title",GPt="title-text",YPt="title-subtitle";function KPt(e,t,n,r,i){const o={},s={};let a,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!hw(l,e)&&N9(o,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===EJ?i.group:n===_J?tr({},i.mark,i[t]):null;for(l in c)u=hw(l,e)||(l==="fill"||l==="stroke")&&(hw("fill",e)||hw("stroke",e)),u||N9(o,l,c[l]);wn(r).forEach(d=>{const f=i.style&&i.style[d];for(const h in f)hw(h,e)||N9(o,h,f[h])}),e=tr({},e);for(l in o)c=o[l],c.signal?(a=a||{})[l]=c:s[l]=c;return e.enter=tr(s,e.enter),a&&(e.update=tr(a,e.update)),e}function N9(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const NDe=e=>Vr(e)?an(e):e.signal?`(${e.signal})`:MDe(e);function r5(e){if(e.gradient!=null)return QPt(e);let t=e.signal?`(${e.signal})`:e.color?XPt(e.color):e.field!=null?MDe(e.field):e.value!==void 0?an(e.value):void 0;return e.scale!=null&&(t=JPt(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${KP(e.exponent)})`),e.mult!=null&&(t+=`*${KP(e.mult)}`),e.offset!=null&&(t+=`+${KP(e.offset)}`),e.round&&(t=`round(${t})`),t}const cI=(e,t,n,r)=>`(${e}(${[t,n,r].map(r5).join(",")})+'')`;function XPt(e){return e.c?cI("hcl",e.h,e.c,e.l):e.h||e.s?cI("hsl",e.h,e.s,e.l):e.l||e.a?cI("lab",e.l,e.a,e.b):e.r||e.g||e.b?cI("rgb",e.r,e.g,e.b):null}function QPt(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:an(n));for(;t.length&&Er(t)==null;)t.pop();return t.unshift(NDe(e.gradient)),`gradient(${t.join(",")})`}function KP(e){return Gn(e)?"("+r5(e)+")":e}function MDe(e){return $De(Gn(e)?e:{datum:e})}function $De(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):it("Invalid field reference: "+an(e));return e.signal||(r=Vr(r)?YM(r).map(an).join("]["):$De(r)),t+"["+r+"]"}function JPt(e,t){const n=NDe(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+KP(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function ZPt(e){let t="";return e.forEach(n=>{const r=r5(n);t+=n.test?`(${n.test})?${r}:`:r}),Er(t)===":"&&(t+="null"),t}function LDe(e,t,n,r,i,o){const s={};o=o||{},o.encoders={$encode:s},e=KPt(e,t,n,r,i.config);for(const a in e)s[a]=e3t(e[a],t,o,i);return o}function e3t(e,t,n,r){const i={},o={};for(const s in e)e[s]!=null&&(i[s]=n3t(t3t(e[s]),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function t3t(e){return cn(e)?ZPt(e):r5(e)}function n3t(e,t,n,r){const i=Nh(e,t);return i.$fields.forEach(o=>r[o]=1),tr(n,i.$params),i.$expr}const r3t="outer",i3t=["value","update","init","react","bind"];function ehe(e,t){it(e+' for "outer" push: '+an(t))}function FDe(e,t){const n=e.name;if(e.push===r3t)t.signals[n]||ehe("No prior signal definition",n),i3t.forEach(r=>{e[r]!==void 0&&ehe("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function jH(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function i5(e,t,n,r){return new jH(e,t,n,r)}function IN(e,t){return i5("operator",e,t)}function pn(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function eT(e,t){return t?{$field:e,$name:t}:{$field:e}}const BH=eT("key");function the(e,t){return{$compare:e,$order:t}}function o3t(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const s3t="ascending",a3t="descending";function l3t(e){return Gn(e)?(e.order===a3t?"-":"+")+o5(e.op,e.field):""}function o5(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const TJ="scope",zH="view";function ds(e){return e&&e.signal}function u3t(e){return e&&e.expr}function XP(e){if(ds(e))return!0;if(Gn(e)){for(const t in e)if(XP(e[t]))return!0}return!1}function bd(e,t){return e??t}function Nv(e){return e&&e.signal||e}const nhe="timer";function tT(e,t){return(e.merge?d3t:e.stream?f3t:e.type?h3t:it("Invalid stream specification: "+an(e)))(e,t)}function c3t(e){return e===TJ?zH:e||zH}function d3t(e,t){const n=e.merge.map(i=>tT(i,t)),r=kJ({merge:n},e,t);return t.addStream(r).id}function f3t(e,t){const n=tT(e.stream,t),r=kJ({stream:n},e,t);return t.addStream(r).id}function h3t(e,t){let n;e.type===nhe?(n=t.event(nhe,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(c3t(e.source),e.type);const r=kJ({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function kJ(e,t,n){let r=t.between;return r&&(r.length!==2&&it('Stream "between" parameter must have 2 entries: '+an(t)),e.between=[tT(r[0],n),tT(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(p3t(t.marktype,t.markname,t.markrole)),t.source===TJ&&r.push("inScope(event.item)"),r.length&&(e.filter=Nh("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function p3t(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const m3t={code:"_.$value",ast:{type:"Identifier",value:"value"}};function g3t(e,t,n){const r=e.encode,i={target:n};let o=e.events,s=e.update,a=[];o||it("Signal update missing events specification."),Vr(o)&&(o=DDe(o,t.isSubscope()?TJ:zH)),o=wn(o).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[v3t(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),r!=null&&(s&&it("Signal encode and update are mutually exclusive."),s="encode(item(),"+an(r)+")"),i.update=Vr(s)?Nh(s,t):s.expr!=null?Nh(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:m3t,$params:{$value:t.signalRef(s.signal)}}:it("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(tr(y3t(l,t),i)))}function y3t(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):tT(e,t)}}function v3t(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function b3t(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?it("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Nh(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>g3t(i,t,n.id))}const bi=e=>(t,n,r)=>i5(e,n,t||void 0,r),jDe=bi("aggregate"),w3t=bi("axisticks"),BDe=bi("bound"),vf=bi("collect"),rhe=bi("compare"),x3t=bi("datajoin"),zDe=bi("encode"),C3t=bi("expression"),_3t=bi("facet"),E3t=bi("field"),S3t=bi("key"),T3t=bi("legendentries"),k3t=bi("load"),A3t=bi("mark"),R3t=bi("multiextent"),I3t=bi("multivalues"),D3t=bi("overlap"),P3t=bi("params"),UDe=bi("prefacet"),O3t=bi("projection"),N3t=bi("proxy"),M3t=bi("relay"),HDe=bi("render"),$3t=bi("scale"),Ub=bi("sieve"),L3t=bi("sortitems"),qDe=bi("viewlayout"),F3t=bi("values");let j3t=0;const VDe={min:"min",max:"max",count:"sum"};function B3t(e,t){const n=e.type||"linear";Pke(n)||it("Unrecognized scale type: "+an(n)),t.addScale(e.name,{type:n,domain:void 0})}function z3t(e,t){const n=t.getScale(e.name).params;let r;n.domain=WDe(e.domain,e,t),e.range!=null&&(n.range=YDe(e,t,n)),e.interpolate!=null&&Q3t(e.interpolate,n),e.nice!=null&&(n.nice=X3t(e.nice,t)),e.bins!=null&&(n.bins=K3t(e.bins,t));for(r in e)Dn(n,r)||r==="name"||(n[r]=Tc(e[r],t))}function Tc(e,t){return Gn(e)?e.signal?t.signalRef(e.signal):it("Unsupported object: "+an(e)):e}function QP(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Tc(n,t))}function s5(e){it("Can not find data set: "+an(e))}function WDe(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&it("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(cn(e)?U3t:e.fields?q3t:H3t)(e,t,n)}function U3t(e,t,n){return e.map(r=>Tc(r,n))}function H3t(e,t,n){const r=n.getData(e.data);return r||s5(e.data),Tx(t.type)?r.valuesRef(n,e.field,GDe(e.sort,!1)):Mke(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function q3t(e,t,n){const r=e.data,i=e.fields.reduce((o,s)=>(s=Vr(s)?{data:r,field:s}:cn(s)||s.signal?V3t(s,n):s,o.push(s),o),[]);return(Tx(t.type)?W3t:Mke(t.type)?G3t:Y3t)(e,n,i)}function V3t(e,t){const n="_:vega:_"+j3t++,r=vf({});if(cn(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+an(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,Ub({})]),{data:n,field:"data"}}function W3t(e,t,n){const r=GDe(e.sort,!0);let i,o;const s=n.map(u=>{const c=t.getData(u.data);return c||s5(u.data),c.countsRef(t,u.field,r)}),a={groupby:BH,pulse:s};r&&(i=r.op||"count",o=r.field?o5(i,r.field):"count",a.ops=[VDe[i]],a.fields=[t.fieldRef(o)],a.as=[o]),i=t.add(jDe(a));const l=t.add(vf({pulse:pn(i)}));return o=t.add(F3t({field:BH,sort:t.sortRef(r),pulse:pn(l)})),pn(o)}function GDe(e,t){return e&&(!e.field&&!e.op?Gn(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?it("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!VDe[e.op]&&it("Multiple domain scales can not be sorted using "+e.op)),e}function G3t(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||s5(i.data),o.domainRef(t,i.field)});return pn(t.add(I3t({values:r})))}function Y3t(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||s5(i.data),o.extentRef(t,i.field)});return pn(t.add(R3t({extents:r})))}function K3t(e,t){return e.signal||cn(e)?QP(e,t):t.objectProperty(e)}function X3t(e,t){return e.signal?t.signalRef(e.signal):Gn(e)?{interval:Tc(e.interval),step:Tc(e.step)}:Tc(e)}function Q3t(e,t){t.interpolate=Tc(e.type||e),e.gamma!=null&&(t.interpolateGamma=Tc(e.gamma))}function YDe(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(Vr(i)){if(r&&Dn(r,i))return e=tr({},e,{range:r[i]}),YDe(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=Tx(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:it("Unrecognized scale range value: "+an(i))}else if(i.scheme){n.scheme=cn(i.scheme)?QP(i.scheme,t):Tc(i.scheme,t),i.extent&&(n.schemeExtent=QP(i.extent,t)),i.count&&(n.schemeCount=Tc(i.count,t));return}else if(i.step){n.rangeStep=Tc(i.step,t);return}else{if(Tx(e.type)&&!cn(i))return WDe(i,e,t);cn(i)||it("Unsupported range type: "+an(i))}return i.map(o=>(cn(o)?QP:Tc)(o,t))}function J3t(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=UH(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=UH(n[i],i,t));t.addProjection(e.name,r)}function UH(e,t,n){return cn(e)?e.map(r=>UH(r,t,n)):Gn(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:it("Unsupported parameter object: "+an(e)):e}const bf="top",jC="left",BC="right",N0="bottom",KDe="center",Z3t="vertical",eOt="start",tOt="middle",nOt="end",HH="index",AJ="label",rOt="offset",Mx="perc",iOt="perc2",Ic="value",Dk="guide-label",RJ="guide-title",oOt="group-title",sOt="group-subtitle",ihe="symbol",JP="gradient",qH="discrete",VH="size",aOt="shape",lOt="fill",uOt="stroke",cOt="strokeWidth",dOt="strokeDash",fOt="opacity",IJ=[VH,aOt,lOt,uOt,cOt,dOt,fOt],Pk={name:1,style:1,interactive:1},Dr={value:0},Dc={value:1},a5="group",XDe="rect",DJ="rule",hOt="symbol",Hb="text";function nT(e){return e.type=a5,e.interactive=e.interactive||!1,e}function fu(e,t){const n=(r,i)=>bd(e[r],bd(t[r],i));return n.isVertical=r=>Z3t===bd(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>bd(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>bd(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>bd(e.columns,bd(t.columns,+n.isVertical(!0))),n}function QDe(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function pOt(e,t,n){const r=t.config.style[n];return r&&r[e]}function l5(e,t,n){return`item.anchor === '${eOt}' ? ${e} : item.anchor === '${nOt}' ? ${t} : ${n}`}const PJ=l5(an(jC),an(BC),an(KDe));function mOt(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},Gn(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function JDe(e,t){return t?e?Gn(e)?Object.assign({},e,{offset:JDe(e.offset,t)}):{value:e,offset:t}:t:e}function Xu(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=FC(e.encode,t,Pk)):e.interactive=!1,e}function gOt(e,t,n,r){const i=fu(e,n),o=i.isVertical(),s=i.gradientThickness(),a=i.gradientLength();let l,u,c,d,f;o?(u=[0,1],c=[0,0],d=s,f=a):(u=[0,0],c=[1,0],d=a,f=s);const h={enter:l={opacity:Dr,x:Dr,y:Dr,width:Ds(d),height:Ds(f)},update:tr({},l,{opacity:Dc,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:Dr}};return ua(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),Xu({type:XDe,role:HPt,encode:h},r)}function yOt(e,t,n,r,i){const o=fu(e,n),s=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let u,c,d,f,h="";s?(u="y",d="y2",c="x",f="width",h="1-"):(u="x",d="x2",c="y",f="height");const p={opacity:Dr,fill:{scale:t,field:Ic}};p[u]={signal:h+"datum."+Mx,mult:l},p[c]=Dr,p[d]={signal:h+"datum."+iOt,mult:l},p[f]=Ds(a);const m={enter:p,update:tr({},p,{opacity:Dc}),exit:{opacity:Dr}};return ua(m,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),Xu({type:XDe,role:zPt,key:Ic,from:i,encode:m},r)}const vOt=`datum.${Mx}<=0?"${jC}":datum.${Mx}>=1?"${BC}":"${KDe}"`,bOt=`datum.${Mx}<=0?"${N0}":datum.${Mx}>=1?"${bf}":"${tOt}"`;function ohe(e,t,n,r){const i=fu(e,t),o=i.isVertical(),s=Ds(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),u,c,d,f,h="";const p={enter:u={opacity:Dr},update:c={opacity:Dc,text:{field:AJ}},exit:{opacity:Dr}};return ua(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:bd(e.labelLimit,t.gradientLabelLimit)}),o?(u.align={value:"left"},u.baseline=c.baseline={signal:bOt},d="y",f="x",h="1-"):(u.align=c.align={signal:vOt},u.baseline={value:"top"},d="x",f="y"),u[d]=c[d]={signal:h+"datum."+Mx,mult:a},u[f]=c[f]=s,s.offset=bd(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+HH}:void 0,Xu({type:Hb,role:ODe,style:Dk,key:Ic,from:r,encode:p,overlap:l},n)}function wOt(e,t,n,r,i){const o=fu(e,t),s=n.entries,a=!!(s&&s.interactive),l=s?s.name:void 0,u=o("clipHeight"),c=o("symbolOffset"),d={data:"value"},f=`(${i}) ? datum.${rOt} : datum.${VH}`,h=u?Ds(u):{field:VH},p=`datum.${HH}`,m=`max(1, ${i})`;let g,v,y,x,E;h.mult=.5,g={enter:v={opacity:Dr,x:{signal:f,mult:.5,offset:c},y:h},update:y={opacity:Dc,x:v.x,y:v.y},exit:{opacity:Dr}};let _=null,S=null;e.fill||(_=t.symbolBaseFillColor,S=t.symbolBaseStrokeColor),ua(g,{fill:o("symbolFillColor",_),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",S),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),IJ.forEach(I=>{e[I]&&(y[I]=v[I]={scale:e[I],field:Ic})});const T=Xu({type:hOt,role:qPt,key:Ic,from:d,clip:u?!0:void 0,encode:g},n.symbols),k=Ds(c);k.offset=o("labelOffset"),g={enter:v={opacity:Dr,x:{signal:f,offset:k},y:h},update:y={opacity:Dc,text:{field:AJ},x:v.x,y:v.y},exit:{opacity:Dr}},ua(g,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const R=Xu({type:Hb,role:ODe,style:Dk,key:Ic,from:d,encode:g},n.labels);return g={enter:{noBound:{value:!u},width:Dr,height:u?Ds(u):Dr,opacity:Dr},exit:{opacity:Dr},update:y={opacity:Dc,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(x=`ceil(item.mark.items.length / ${m})`,y.row.signal=`${p}%${x}`,y.column.signal=`floor(${p} / ${x})`,E={field:["row",p]}):(y.row.signal=`floor(${p} / ${m})`,y.column.signal=`${p} % ${m}`,E={field:p}),y.column.signal=`(${i})?${y.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:HH}},nT({role:SJ,from:r,encode:FC(g,s,Pk),marks:[T,R],name:l,interactive:a,sort:E})}function xOt(e,t){const n=fu(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const OJ='item.orient === "left"',NJ='item.orient === "right"',u5=`(${OJ} || ${NJ})`,COt=`datum.vgrad && ${u5}`,_Ot=l5('"top"','"bottom"','"middle"'),EOt=l5('"right"','"left"','"center"'),SOt=`datum.vgrad && ${NJ} ? (${EOt}) : (${u5} && !(datum.vgrad && ${OJ})) ? "left" : ${PJ}`,TOt=`item._anchor || (${u5} ? "middle" : "start")`,kOt=`${COt} ? (${OJ} ? -90 : 90) : 0`,AOt=`${u5} ? (datum.vgrad ? (${NJ} ? "bottom" : "top") : ${_Ot}) : "top"`;function ROt(e,t,n,r){const i=fu(e,t),o={enter:{opacity:Dr},update:{opacity:Dc,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Dr}};return ua(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:TOt},angle:{signal:kOt},align:{signal:SOt},baseline:{signal:AOt},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),Xu({type:Hb,role:VPt,style:RJ,from:r,encode:o},n)}function IOt(e,t){let n;return Gn(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+she(e.path)+")":e.sphere&&(n="geoShape("+she(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function she(e){return Gn(e)&&e.signal?e.signal:an(e)}function ZDe(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===a5?SJ:t||_J}function DOt(e){return{marktype:e.type,name:e.name||void 0,role:e.role||ZDe(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function POt(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function MJ(e,t){const n=N2e(e.type);n||it("Unrecognized transform type: "+an(e.type));const r=i5(n.type.toLowerCase(),null,ePe(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function ePe(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const s=e.params[o];r[s.name]=OOt(s,t,n)}return r}function OOt(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return NOt(e,t,n);if(i===void 0){e.required&&it("Missing required "+an(t.type)+" parameter: "+an(e.name));return}else{if(r==="param")return MOt(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!ds(i)?i.map(o=>ahe(e,o,n)):ahe(e,i,n)}function ahe(e,t,n){const r=e.type;if(ds(t))return uhe(r)?it("Expression references can not be signals."):M9(r)?n.fieldRef(t):che(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||M9(r);return i&&$Ot(t)?n.exprRef(t.expr,t.as):i&&LOt(t)?eT(t.field,t.as):uhe(r)?Nh(t,n):FOt(r)?pn(n.getData(t).values):M9(r)?eT(t):che(r)?n.compareRef(t):t}}function NOt(e,t,n){return Vr(t.from)||it('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function MOt(e,t,n){const r=t[e.name];return e.array?(cn(r)||it("Expected an array of sub-parameters. Instead: "+an(r)),r.map(i=>lhe(e,i,n))):lhe(e,r,n)}function lhe(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||it("Unsupported parameter: "+an(t));const o=tr(ePe(i,t,n),i.key);return pn(n.add(P3t(o)))}const $Ot=e=>e&&e.expr,LOt=e=>e&&e.field,FOt=e=>e==="data",uhe=e=>e==="expr",M9=e=>e==="field",che=e=>e==="compare";function jOt(e,t,n){let r,i,o,s,a;return e?(r=e.facet)&&(t||it("Only group marks can be faceted."),r.field!=null?s=a=ZP(r,n):(e.data?a=pn(n.getData(e.data).aggregate):(o=MJ(tr({type:"aggregate",groupby:wn(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=ZP(r,n),s=a=pn(n.add(o))),i=n.keyRef(r.groupby,!0))):s=pn(n.add(vf(null,[{}]))),s||(s=ZP(e,n)),{key:i,pulse:s,parent:a}}function ZP(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:pn(t.getData(e.data).output)}function lb(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}lb.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],s=null,a=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=pn(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(s=t[a]);return new lb(e,o,i,r,s)};function tPe(e){return Vr(e)?e:null}function dhe(e,t,n){const r=o5(n.op,n.field);let i;if(t.ops){for(let o=0,s=t.as.length;o<s;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function aE(e,t,n,r,i,o,s){const a=t[n]||(t[n]={}),l=l3t(o);let u=tPe(i),c,d;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=a[u]),!c){const f=o?{field:BH,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:pn(t.output)};l&&(f.sort=e.sortRef(o)),d=e.add(i5(r,void 0,f)),s&&(t.index[i]=d),c=pn(d),u!=null&&(a[u]=c)}return c}lb.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=tPe(t);let s,a,l;return o!=null&&(e=r.scope,s=i[o]),s?n&&n.field&&dhe(e,s.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:pn(r.output)},n&&n.field&&dhe(e,l,n),a=e.add(jDe(l)),s=e.add(vf({pulse:pn(a)})),s={agg:a,ref:pn(s)},o!=null&&(i[o]=s)),s.ref},tuplesRef(){return pn(this.values)},extentRef(e,t){return aE(e,this,"extent","extent",t,!1)},domainRef(e,t){return aE(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return aE(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return aE(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return aE(e,this,"indata","tupleindex",t,!0,!0)}};function BOt(e,t,n){const r=e.from.facet,i=r.name,o=ZP(r,t);let s;r.name||it("Facet must have a name: "+an(r)),r.data||it("Facet must reference a data set: "+an(r)),r.field?s=t.add(UDe({field:t.fieldRef(r.field),pulse:o})):r.groupby?s=t.add(_3t({key:t.keyRef(r.groupby),group:pn(t.proxy(n.parent)),pulse:o})):it("Facet must specify groupby or field: "+an(r));const a=t.fork(),l=a.add(vf()),u=a.add(Ub({pulse:pn(l)}));a.addData(i,new lb(a,l,l,u)),a.addSignal("parent",null),s.params.subflow={$subflow:a.parse(e).toRuntime()}}function zOt(e,t,n){const r=t.add(UDe({pulse:n.pulse})),i=t.fork();i.add(Ub()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function nPe(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,s=e.modify,a=e.values,l=t.add(IN()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,o,s,a].map(d=>d??"null").join(",")+"),0)",c=Nh(u,t);l.update=c.$expr,l.params=c.$params}function c5(e,t){const n=ZDe(e),r=e.type===a5,i=e.from&&e.from.facet,o=e.overlap;let s=e.layout||n===SJ||n===EJ,a,l,u,c,d,f,h;const p=n===_J||s||i,m=jOt(e.from,r,t);l=t.add(x3t({key:m.key||(e.key?eT(e.key):void 0),pulse:m.pulse,clean:!r}));const g=pn(l);l=u=t.add(vf({pulse:g})),l=t.add(A3t({markdef:DOt(e),interactive:POt(e.interactive,t),clip:IOt(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:pn(l)}));const v=pn(l);l=c=t.add(zDe(LDe(e.encode,e.type,n,e.style,t,{mod:!1,pulse:v}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(S=>{const T=MJ(S,t),k=T.metadata;(k.generates||k.changes)&&it("Mark transforms should not generate new data."),k.nomod||(c.params.mod=!0),T.params.pulse=pn(l),t.add(l=T)}),e.sort&&(l=t.add(L3t({sort:t.compareRef(e.sort),pulse:pn(l)})));const y=pn(l);(i||s)&&(s=t.add(qDe({layout:t.objectProperty(e.layout),legends:t.legends,mark:v,pulse:y})),f=pn(s));const x=t.add(BDe({mark:v,pulse:f||y}));h=pn(x),r&&(p&&(a=t.operators,a.pop(),s&&a.pop()),t.pushState(y,f||h,g),i?BOt(e,t,m):p?zOt(e,t,m):t.parse(e),t.popState(),p&&(s&&a.push(s),a.push(x))),o&&(h=UOt(o,h,t));const E=t.add(HDe({pulse:h})),_=t.add(Ub({pulse:pn(E)},void 0,t.parent()));e.name!=null&&(d=e.name,t.addData(d,new lb(t,u,E,_)),e.on&&e.on.forEach(S=>{(S.insert||S.remove||S.toggle)&&it("Marks only support modify triggers."),nPe(S,t,d)}))}function UOt(e,t,n){const r=e.method,i=e.bound,o=e.separation,s={separation:ds(o)?n.signalRef(o.signal):o,method:ds(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;s.boundTolerance=ds(a)?n.signalRef(a.signal):+a,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return pn(n.add(D3t(s)))}function HOt(e,t){const n=t.config.legend,r=e.encode||{},i=fu(e,n),o=r.legend||{},s=o.name||void 0,a=o.interactive,l=o.style,u={};let c=0,d,f,h;IJ.forEach(x=>e[x]?(u[x]=e[x],c=c||e[x]):0),c||it("Missing valid scale for legend.");const p=qOt(e,t.scaleType(c)),m={title:e.title!=null,scales:u,type:p,vgrad:p!=="symbol"&&i.isVertical()},g=pn(t.add(vf(null,[m]))),v={enter:{x:{value:0},y:{value:0}}},y=pn(t.add(T3t(f={type:p,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===JP?(h=[gOt(e,c,n,r.gradient),ohe(e,n,r.labels,y)],f.count=f.count||t.signalRef(`max(2,2*floor((${Nv(i.gradientLength())})/100))`)):p===qH?h=[yOt(e,c,n,r.gradient,y),ohe(e,n,r.labels,y)]:(d=xOt(e,n),h=[wOt(e,n,r,y,Nv(d.columns))],f.size=GOt(e,t,h[0].marks)),h=[nT({role:UPt,from:g,encode:v,marks:h,layout:d,interactive:a})],m.title&&h.push(ROt(e,n,r.title,g)),c5(nT({role:BPt,from:g,encode:FC(WOt(i,e,n),o,Pk),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:a,style:l}),t)}function qOt(e,t){let n=e.type||ihe;return!e.type&&VOt(e)===1&&(e.fill||e.stroke)&&(n=MX(t)?JP:$U(t)?qH:ihe),n!==JP?n:$U(t)?qH:JP}function VOt(e){return IJ.reduce((t,n)=>t+(e[n]?1:0),0)}function WOt(e,t,n){const r={enter:{},update:{}};return ua(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function GOt(e,t,n){const r=Nv(fhe("size",e,n)),i=Nv(fhe("strokeWidth",e,n)),o=Nv(YOt(n[1].encode,t,Dk));return Nh(`max(ceil(sqrt(${r})+${i}),${o})`,t)}function fhe(e,t,n){return t[e]?`scale("${t[e]}",datum)`:QDe(e,n[0].encode)}function YOt(e,t,n){return QDe("fontSize",e)||pOt("fontSize",t,n)}const KOt=`item.orient==="${jC}"?-90:item.orient==="${BC}"?90:0`;function XOt(e,t){e=Vr(e)?{text:e}:e;const n=fu(e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,s=i.interactive,a=i.style,l=[],u={},c=pn(t.add(vf(null,[u])));return l.push(ZOt(e,n,QOt(e),c)),e.subtitle&&l.push(eNt(e,n,r.subtitle,c)),c5(nT({role:WPt,from:c,encode:JOt(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:a}),t)}function QOt(e){const t=e.encode;return t&&t.title||tr({name:e.name,interactive:e.interactive,style:e.style},t)}function JOt(e,t){const n={enter:{},update:{}};return ua(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:PJ},angle:{signal:KOt},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),FC(n,t,Pk)}function ZOt(e,t,n,r){const i={value:0},o=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return ua(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Xu({type:Hb,role:GPt,style:oOt,from:r,encode:s},n)}function eNt(e,t,n,r){const i={value:0},o=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return ua(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Xu({type:Hb,role:YPt,style:sOt,from:r,encode:s},n)}function tNt(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(MJ(r,t))}),e.on&&e.on.forEach(r=>{nPe(r,t,e.name)}),t.addDataPipeline(e.name,nNt(e,t,n))}function nNt(e,t,n){const r=[];let i=null,o=!1,s=!1,a,l,u,c,d;for(e.values?ds(e.values)||XP(e.format)?(r.push(hhe(t,e)),r.push(i=Dy())):r.push(i=Dy({$ingest:e.values,$format:e.format})):e.url?XP(e.url)||XP(e.format)?(r.push(hhe(t,e)),r.push(i=Dy())):r.push(i=Dy({$request:e.url,$format:e.format})):e.source&&(i=a=wn(e.source).map(f=>pn(t.getData(f).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],d=c.metadata,!i&&!d.source&&r.push(i=Dy()),r.push(c),d.generates&&(s=!0),d.modifies&&!s&&(o=!0),d.source?i=c:d.changes&&(i=null);return a&&(u=a.length-1,r[0]=M3t({derive:o,pulse:u?a:a[0]}),(o||u)&&r.splice(1,0,Dy())),i||r.push(Dy()),r.push(Ub({})),r}function Dy(e){const t=vf({},e);return t.metadata={source:!0},t}function hhe(e,t){return k3t({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const rPe=e=>e===N0||e===bf,d5=(e,t,n)=>ds(e)?sNt(e.signal,t,n):e===jC||e===bf?t:n,Ps=(e,t,n)=>ds(e)?iNt(e.signal,t,n):rPe(e)?t:n,zd=(e,t,n)=>ds(e)?oNt(e.signal,t,n):rPe(e)?n:t,iPe=(e,t,n)=>ds(e)?aNt(e.signal,t,n):e===bf?{value:t}:{value:n},rNt=(e,t,n)=>ds(e)?lNt(e.signal,t,n):e===BC?{value:t}:{value:n},iNt=(e,t,n)=>oPe(`${e} === '${bf}' || ${e} === '${N0}'`,t,n),oNt=(e,t,n)=>oPe(`${e} !== '${bf}' && ${e} !== '${N0}'`,t,n),sNt=(e,t,n)=>$J(`${e} === '${jC}' || ${e} === '${bf}'`,t,n),aNt=(e,t,n)=>$J(`${e} === '${bf}'`,t,n),lNt=(e,t,n)=>$J(`${e} === '${BC}'`,t,n),oPe=(e,t,n)=>(t=t!=null?Ds(t):t,n=n!=null?Ds(n):n,phe(t)&&phe(n)?(t=t?t.signal||an(t.value):null,n=n?n.signal||an(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[tr({test:e},t)].concat(n||[])),phe=e=>e==null||Object.keys(e).length===1,$J=(e,t,n)=>({signal:`${e} ? (${Ew(t)}) : (${Ew(n)})`}),uNt=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${jC}' ? (${Ew(r)}) : `:"")+(n!=null?`${e} === '${N0}' ? (${Ew(n)}) : `:"")+(i!=null?`${e} === '${BC}' ? (${Ew(i)}) : `:"")+(t!=null?`${e} === '${bf}' ? (${Ew(t)}) : `:"")+"(null)"}),Ew=e=>ds(e)?e.signal:e==null?null:an(e),cNt=(e,t)=>t===0?0:ds(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},Hw=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function W1(e,t,n,r){let i;if(t&&Dn(t,e))return t[e];if(Dn(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[RJ][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[Dk][i]}return null}function mhe(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function dNt(e,t){var n=t.config,r=n.style,i=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,a,l,u;if(ds(s)){const d=mhe([n.axisX,n.axisY]),f=mhe([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(u of d)a[u]=Ps(s,W1(u,n.axisX,i,r),W1(u,n.axisY,i,r));l={};for(u of f)l[u]=uNt(s.signal,W1(u,n.axisTop,i,r),W1(u,n.axisBottom,i,r),W1(u,n.axisLeft,i,r),W1(u,n.axisRight,i,r))}else a=s===bf||s===N0?n.axisX:n.axisY,l=n["axis"+s[0].toUpperCase()+s.slice(1)];return a||l||o?tr({},i,a,l,o):i}function fNt(e,t,n,r){const i=fu(e,t),o=e.orient;let s,a;const l={enter:s={opacity:Dr},update:a={opacity:Dc},exit:{opacity:Dr}};ua(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=ghe(e,0),c=ghe(e,1);return s.x=a.x=Ps(o,u,Dr),s.x2=a.x2=Ps(o,c),s.y=a.y=zd(o,u,Dr),s.y2=a.y2=zd(o,c),Xu({type:DJ,role:MPt,from:r,encode:l},n)}function ghe(e,t){return{scale:e.scale,range:t}}function hNt(e,t,n,r,i){const o=fu(e,t),s=e.orient,a=e.gridScale,l=d5(s,1,-1),u=pNt(e.offset,l);let c,d,f;const h={enter:c={opacity:Dr},update:f={opacity:Dc},exit:d={opacity:Dr}};ua(h,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const p={scale:e.scale,field:Ic,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},m=Ps(s,{signal:"height"},{signal:"width"}),g=a?{scale:a,range:0,mult:l,offset:u}:{value:0,offset:u},v=a?{scale:a,range:1,mult:l,offset:u}:tr(m,{mult:l,offset:u});return c.x=f.x=Ps(s,p,g),c.y=f.y=zd(s,p,g),c.x2=f.x2=zd(s,v),c.y2=f.y2=Ps(s,v),d.x=Ps(s,p),d.y=zd(s,p),Xu({type:DJ,role:$Pt,key:Ic,from:r,encode:h},n)}function pNt(e,t){if(t!==1)if(!Gn(e))e=ds(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=tr({},e);for(;n.mult!=null;)if(Gn(n.mult))n=n.mult=tr({},n.mult);else return n.mult=ds(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function mNt(e,t,n,r,i,o){const s=fu(e,t),a=e.orient,l=d5(a,-1,1);let u,c,d;const f={enter:u={opacity:Dr},update:d={opacity:Dc},exit:c={opacity:Dr}};ua(f,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const h=Ds(i);h.mult=l;const p={scale:e.scale,field:Ic,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")};return d.y=u.y=Ps(a,Dr,p),d.y2=u.y2=Ps(a,h),c.x=Ps(a,p),d.x=u.x=zd(a,Dr,p),d.x2=u.x2=zd(a,h),c.y=zd(a,p),Xu({type:DJ,role:FPt,key:Ic,from:r,encode:f},n)}function $9(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function gNt(e,t,n,r,i,o){const s=fu(e,t),a=e.orient,l=e.scale,u=d5(a,-1,1),c=Nv(s("labelFlush")),d=Nv(s("labelFlushOffset")),f=s("labelAlign"),h=s("labelBaseline");let p=c===0||!!c,m;const g=Ds(i);g.mult=u,g.offset=Ds(s("labelPadding")||0),g.offset.mult=u;const v={scale:l,field:Ic,band:.5,offset:JDe(o.offset,s("labelOffset"))},y=Ps(a,p?$9(l,c,'"left"','"right"','"center"'):{value:"center"},rNt(a,"left","right")),x=Ps(a,iPe(a,"bottom","top"),p?$9(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),E=$9(l,c,`-(${d})`,d,0);p=p&&d;const _={opacity:Dr,x:Ps(a,v,g),y:zd(a,v,g)},S={enter:_,update:m={opacity:Dc,text:{field:AJ},x:_.x,y:_.y,align:y,baseline:x},exit:{opacity:Dr,x:_.x,y:_.y}};ua(S,{dx:!f&&p?Ps(a,E):null,dy:!h&&p?zd(a,E):null}),ua(S,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:f,baseline:h});const T=s("labelBound");let k=s("labelOverlap");return k=k||T?{separation:s("labelSeparation"),method:k,order:"datum.index",bound:T?{scale:l,orient:a,tolerance:T}:null}:void 0,m.align!==y&&(m.align=Hw(m.align,y)),m.baseline!==x&&(m.baseline=Hw(m.baseline,x)),Xu({type:Hb,role:LPt,style:Dk,key:Ic,from:r,encode:S,overlap:k},n)}function yNt(e,t,n,r){const i=fu(e,t),o=e.orient,s=d5(o,-1,1);let a,l;const u={enter:a={opacity:Dr,anchor:Ds(i("titleAnchor",null)),align:{signal:PJ}},update:l=tr({},a,{opacity:Dc,text:Ds(e.title)}),exit:{opacity:Dr}},c={signal:`lerp(range("${e.scale}"), ${l5(0,1,.5)})`};return l.x=Ps(o,c),l.y=zd(o,c),a.angle=Ps(o,Dr,cNt(s,90)),a.baseline=Ps(o,iPe(o,N0,bf),{value:N0}),l.angle=a.angle,l.baseline=a.baseline,ua(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),vNt(i,o,u,n),u.update.align=Hw(u.update.align,a.align),u.update.angle=Hw(u.update.angle,a.angle),u.update.baseline=Hw(u.update.baseline,a.baseline),Xu({type:Hb,role:jPt,style:RJ,from:r,encode:u},n)}function vNt(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=Hw(Ds(a),n.update[l]),!1):!hw(l,r),o=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===o?Ds(s):Ps(t,Ds(s),Ds(o))}function bNt(e,t){const n=dNt(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,s=i.interactive,a=i.style,l=fu(e,n),u=mOt(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},d=pn(t.add(vf({},[c]))),f=pn(t.add(w3t({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return c.grid&&h.push(hNt(e,n,r.grid,f,u)),c.ticks&&(p=l("tickSize"),h.push(mNt(e,n,r.ticks,f,p,u))),c.labels&&(p=c.ticks?p:0,h.push(gNt(e,n,r.labels,f,p,u))),c.domain&&h.push(fNt(e,n,r.domain,d)),c.title&&h.push(yNt(e,n,r.title,d)),c5(nT({role:NPt,from:d,encode:FC(wNt(l,e),i,Pk),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:s,style:a}),t)}function wNt(e,t){const n={enter:{},update:{}};return ua(n,{orient:e("orient"),offset:e("offset")||0,position:bd(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function sPe(e,t,n){const r=wn(e.signals),i=wn(e.scales);return n||r.forEach(o=>FDe(o,t)),wn(e.projections).forEach(o=>J3t(o,t)),i.forEach(o=>B3t(o,t)),wn(e.data).forEach(o=>tNt(o,t)),i.forEach(o=>z3t(o,t)),(n||r).forEach(o=>b3t(o,t)),wn(e.axes).forEach(o=>bNt(o,t)),wn(e.marks).forEach(o=>c5(o,t)),wn(e.legends).forEach(o=>HOt(o,t)),e.title&&XOt(e.title,t),t.parseLambdas(),t}const xNt=e=>FC({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function CNt(e,t){const n=t.config,r=pn(t.root=t.add(IN())),i=_Nt(e,n);i.forEach(u=>FDe(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(vf()),s=t.add(zDe(LDe(xNt(e.encode),a5,EJ,e.style,t,{pulse:pn(o)}))),a=t.add(qDe({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:pn(s)}));t.operators.pop(),t.pushState(pn(s),pn(a),null),sPe(e,t,i),t.operators.push(a);let l=t.add(BDe({mark:r,pulse:pn(a)}));return l=t.add(HDe({pulse:pn(l)})),l=t.add(Ub({pulse:pn(l)})),t.addData("root",new lb(t,o,o,l)),t}function lE(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function _Nt(e,t){const n=s=>bd(e[s],t[s]),r=[lE("background",n("background")),lE("autosize",DPt(n("autosize"))),lE("padding",OPt(n("padding"))),lE("width",n("width")||0),lE("height",n("height")||0)],i=r.reduce((s,a)=>(s[a.name]=a,s),{}),o={};return wn(e.signals).forEach(s=>{Dn(i,s.name)?s=tr(i[s.name],s):r.push(s),o[s.name]=s}),wn(t.signals).forEach(s=>{!Dn(o,s.name)&&!Dn(i,s.name)&&r.push(s)}),r}function aPe(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function yhe(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}aPe.prototype=yhe.prototype={parse(e){return sPe(e,this)},fork(){return new yhe(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof jH?pn(e):e;return this.add(N3t({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,o){let s,a;r&&(s=r.data||(r.data={}),a=s[i]||(s[i]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(pn(this.add(Ub({pulse:e})))),this._parent.push(t),this._lookup.push(n?pn(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Er(this._parent)},encode(){return Er(this._encode)},lookup(){return Er(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Vr(e))return eT(e,t);e.signal||it("Unsupported field reference: "+an(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=pn(this.add(E3t(i)))}return r},compareRef(e){let t=!1;const n=o=>ds(o)?(t=!0,this.signalRef(o.signal)):u3t(o)?(t=!0,this.exprRef(o.expr)):o,r=wn(e.field).map(n),i=wn(e.order).map(n);return t?pn(this.add(rhe({fields:r,orders:i}))):the(r,i)},keyRef(e,t){let n=!1;const r=o=>ds(o)?(n=!0,pn(i[o.signal])):o,i=this.signals;return e=wn(e).map(r),n?pn(this.add(S3t({fields:e,flat:t}))):o3t(e,t)},sortRef(e){if(!e)return e;const t=o5(e.op,e.field),n=e.order||s3t;return n.signal?pn(this.add(rhe({fields:t,orders:this.signalRef(n.signal)}))):the(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Dn(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&it("Duplicate signal name: "+an(e));const n=t instanceof jH?t:this.add(IN(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||it("Unrecognized signal name: "+an(e)),this.signals[e]},signalRef(e){return this.signals[e]?pn(this.signals[e]):(Dn(this.lambdas,e)||(this.lambdas[e]=this.add(IN(null))),pn(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=Nh(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!Gn(e)?e:this.signalRef(e.signal||LJ(e))},exprRef(e,t){const n={expr:Nh(e,this)};return t&&(n.expr.$name=t),pn(this.add(C3t(n)))},addBinding(e,t){this.bindings||it("Nested signals do not support binding: "+an(e)),this.bindings.push(tr({signal:e},t))},addScaleProj(e,t){Dn(this.scales,e)&&it("Duplicate scale or projection name: "+an(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,$3t(t))},addProjection(e,t){this.addScaleProj(e,O3t(t))},getScale(e){return this.scales[e]||it("Unrecognized scale name: "+an(e)),this.scales[e]},scaleRef(e){return pn(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Dn(this.data,e)&&it("Duplicate data set name: "+an(e)),this.data[e]=t},getData(e){return this.data[e]||it("Undefined data set name: "+an(e)),this.data[e]},addDataPipeline(e,t){return Dn(this.data,e)&&it("Duplicate data set name: "+an(e)),this.addData(e,lb.fromEntries(this,t))}};function LJ(e){return(cn(e)?ENt:SNt)(e)}function ENt(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(Gn(i)?i.signal||LJ(i):an(i))}return n+"]"}function SNt(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+an(r)+":"+(Gn(i)?i.signal||LJ(i):an(i));return t+"}"}function TNt(){const e="sans-serif",r="#4c78a8",i="#000",o="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function kNt(e,t,n){return Gn(e)||it("Input Vega specification must be an object."),t=KM(TNt(),t,e.config),CNt(e,new aPe(t,n)).toRuntime()}var ANt="6.2.0";tr(xx,vbt,G_t,SEt,c2t,iTt,Dkt,ckt,Okt,rAt,hAt,wAt);const RNt=ANt,INt=Object.freeze(Object.defineProperty({__proto__:null,Bounds:Xo,CanvasHandler:Ck,CanvasRenderer:VO,DATE:nu,DAY:Da,DAYOFYEAR:Ph,Dataflow:jw,Debug:tSe,DisallowedObjectProperties:QEe,Error:YY,EventStream:c6,Gradient:Xke,GroupItem:O6,HOURS:Gu,Handler:sQ,HybridHandler:BAe,HybridRenderer:GU,Info:eSe,Item:P6,MILLISECONDS:Zd,MINUTES:Yu,MONTH:Fa,Marks:Ku,MultiPulse:bK,None:JEe,Operator:Ci,Parameters:u6,Pulse:c0,QUARTER:tu,RenderType:Yg,Renderer:xk,ResourceLoader:nAe,SECONDS:Fc,SVGHandler:kAe,SVGRenderer:fQ,SVGStringRenderer:jAe,Scenegraph:bAe,TIME_UNITS:uK,Transform:et,View:EDe,WEEK:us,Warn:ZEe,YEAR:sa,accessor:du,accessorFields:La,accessorName:vo,array:wn,ascending:nk,bandwidthNRD:_K,bin:L2e,bootstrapCI:F2e,boundClip:XAe,boundContext:yk,boundItem:UU,boundMark:mAe,boundStroke:jm,changeset:Fb,clampRange:hSe,codegenExpression:QIe,compare:JY,constant:qa,cumulativeLogNormal:RK,cumulativeNormal:f6,cumulativeUniform:OK,dayofyear:qSe,debounce:ZY,defaultLocale:pK,definition:N2e,densityLogNormal:AK,densityNormal:EK,densityUniform:PK,domChild:ls,domClear:bc,domCreate:Wg,domFind:oQ,dotbin:j2e,error:it,expressionFunction:Uo,extend:tr,extent:Rh,extentIndex:pSe,falsy:Eg,fastmap:kC,field:$c,flush:mSe,font:F6,fontFamily:wk,fontSize:Yh,format:IP,formatLocale:EO,formats:yK,hasOwnProperty:Dn,id:tk,identity:xl,inferType:_2e,inferTypes:E2e,ingest:Zr,inherits:It,inrange:bw,interpolate:$X,interpolateColors:I6,interpolateRange:$ke,intersect:WAe,intersectBoxLine:ww,intersectPath:qX,intersectPoint:VX,intersectRule:iAe,isArray:cn,isBoolean:eK,isDate:l0,isFunction:nr,isIterable:gSe,isNumber:E0,isObject:Gn,isRegExp:tK,isString:Vr,isTuple:a6,key:nK,lerp:ySe,lineHeight:D0,loader:o6,locale:x2e,logger:nSe,lruCache:vSe,markup:dQ,merge:bSe,mergeConfig:KM,multiLineOffset:nQ,one:TC,pad:wSe,panLinear:aSe,panLog:lSe,panPow:uSe,panSymlog:cSe,parse:kNt,parseExpression:YIe,parseSelector:DDe,path:y6,pathCurves:zX,pathEqual:QAe,pathParse:kx,pathRectangle:Zke,pathRender:z2,pathSymbols:Jke,pathTrail:eAe,peek:Er,point:B6,projection:DQ,quantileLogNormal:IK,quantileNormal:h6,quantileUniform:NK,quantiles:xK,quantizeInterpolator:Lke,quarter:dSe,quartiles:CK,get random(){return jc},randomInteger:Cvt,randomKDE:TK,randomLCG:xvt,randomLogNormal:z2e,randomMixture:U2e,randomNormal:SK,randomUniform:H2e,read:k2e,regressionConstant:MK,regressionExp:V2e,regressionLinear:$K,regressionLoess:Y2e,regressionLog:q2e,regressionPoly:G2e,regressionPow:W2e,regressionQuad:LK,renderModule:z6,repeat:LE,resetDefaultLocale:byt,resetSVGDefIds:d_t,responseType:T2e,runtimeContext:dDe,sampleCurve:m6,sampleLogNormal:kK,sampleNormal:d6,sampleUniform:DK,scale:Gr,sceneEqual:hQ,sceneFromJSON:yAe,scenePickVisit:LO,sceneToJSON:gAe,sceneVisit:ef,sceneZOrder:WX,scheme:LX,serializeXML:MAe,setHybridRendererOptions:a_t,setRandom:bvt,span:rk,splitAccessPath:YM,stringValue:an,textMetrics:Bu,timeBin:a2e,timeFloor:QSe,timeFormatLocale:N2,timeInterval:DC,timeOffset:e2e,timeSequence:r2e,timeUnitSpecifier:HSe,timeUnits:cK,toBoolean:rK,toDate:iK,toNumber:Na,toSet:Jd,toString:oK,transform:M2e,transforms:xx,truncate:xSe,truthy:Lc,tupleid:mn,typeParsers:SU,utcFloor:JSe,utcInterval:PC,utcOffset:t2e,utcSequence:i2e,utcdayofyear:GSe,utcquarter:fSe,utcweek:YSe,version:RNt,visitArray:Ig,week:VSe,writeConfig:XM,zero:Bg,zoomLinear:KY,zoomLog:XY,zoomPow:vO,zoomSymlog:QY},Symbol.toStringTag,{value:"Module"})),DNt="5.23.0",PNt={version:DNt};function zC(e,t,n){return e.fields=t||[],e.fname=n,e}function ONt(e){return e.length===1?NNt(e[0]):MNt(e)}const NNt=e=>function(t){return t[e]},MNt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function L9(e){throw Error(e)}function qb(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?u():s=a+1:l==="["?(a>s&&u(),i=s=a+1):l==="]"&&(i||L9("Access path missing open bracket: "+e),i>0&&u(),i=0,s=a+1)}return i&&L9("Access path missing closing bracket: "+e),r&&L9("Access path missing closing quote: "+e),a>s&&(a++,u()),t}function $Nt(e,t,n){const r=qb(e);return e=r.length===1?r[0]:e,zC(ONt(r),[e],e)}$Nt("id");const LNt=zC(e=>e,[],"identity");zC(()=>0,[],"zero");zC(()=>1,[],"one");zC(()=>!0,[],"true");zC(()=>!1,[],"false");function FNt(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const jNt=1,lPe=2,BNt=3,zNt=4;function UNt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:FNt,r=e;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=jNt&&n("error","ERROR",arguments),this},warn(){return r>=lPe&&n("warn","WARN",arguments),this},info(){return r>=BNt&&n("log","INFO",arguments),this},debug(){return r>=zNt&&n("log","DEBUG",arguments),this}}}var Yt=Array.isArray;function Lr(e){return e===Object(e)}const vhe=e=>e!=="__proto__";function uPe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const o in i)if(o==="signals")r.signals=HNt(r.signals,i.signals);else{const s=o==="legend"?{layout:1}:o==="style"?!0:null;f5(r,o,i[o],s)}return r},{})}function f5(e,t,n,r){if(!vhe(t))return;let i,o;if(Lr(n)&&!Yt(n)){o=Lr(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?f5(o,i,n[i]):vhe(i)&&(o[i]=n[i])}else e[t]=n}function HNt(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function Lo(e){return e!=null?Yt(e)?e:[e]:[]}function qNt(e){return typeof e=="function"}function Go(e,t){return Object.hasOwn(e,t)}function Ok(e){return typeof e=="boolean"}function Ji(e){return typeof e=="number"}function Kn(e){return typeof e=="string"}function $r(e){return Yt(e)?"["+e.map($r)+"]":Lr(e)||Kn(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function FJ(e){return bt(e,"or")}function jJ(e){return bt(e,"and")}function BJ(e){return bt(e,"not")}function e3(e,t){if(BJ(e))e3(e.not,t);else if(jJ(e))for(const n of e.and)e3(n,t);else if(FJ(e))for(const n of e.or)e3(n,t);else t(e)}function qw(e,t){return BJ(e)?{not:qw(e.not,t)}:jJ(e)?{and:e.and.map(n=>qw(n,t))}:FJ(e)?{or:e.or.map(n=>qw(n,t))}:t(e)}const qn=structuredClone;function cPe(e){throw new Error(e)}function $x(e,t){const n={};for(const r of t)Go(e,r)&&(n[r]=e[r]);return n}function Ql(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>vi(e)).join(",")})`};function xr(e){if(Ji(e))return e;const t=Kn(e)?e:vi(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function WH(e){return e===!1||e===null}function pr(e,t){return e.includes(t)}function Lx(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function zJ(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function dPe(e,...t){for(const n of t)VNt(e,n??{});return e}function VNt(e,t){for(const n of vt(t))f5(e,n,t[n],!0)}function ah(e,t){const n=[],r={};let i;for(const o of e)i=t(o),!(i in r)&&(r[i]=1,n.push(o));return n}function WNt(e,t){const n=vt(e),r=vt(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function fPe(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function UJ(e,t){for(const n of e)if(t.has(n))return!0;return!1}function GH(e){const t=new Set;for(const n of e){const i=qb(n).map((s,a)=>a===0?s:`[${s}]`),o=i.map((s,a)=>i.slice(0,a+1).join(""));for(const s of o)t.add(s)}return t}function HJ(e,t){return e===void 0||t===void 0?!0:UJ(GH(e),GH(t))}function yi(e){return vt(e).length===0}const vt=Object.keys,aa=Object.values,M0=Object.entries;function rT(e){return e===!0||e===!1}function Ki(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function zS(e,t){return BJ(e)?`!(${zS(e.not,t)})`:jJ(e)?`(${e.and.map(n=>zS(n,t)).join(") && (")})`:FJ(e)?`(${e.or.map(n=>zS(n,t)).join(") || (")})`:t(e)}function DN(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&DN(e[n],t)&&delete e[n],yi(e)}function Nk(e){return e.charAt(0).toUpperCase()+e.substr(1)}function qJ(e,t="datum"){const n=qb(e),r=[];for(let i=1;i<=n.length;i++){const o=`[${n.slice(0,i).map($r).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function hPe(e,t="datum"){return`${t}[${$r(qb(e).join("."))}]`}function ui(e){return`datum['${e.replaceAll("'","\\'")}']`}function GNt(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function zc(e){return`${qb(e).map(GNt).join("\\.")}`}function ub(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function UC(e){return`${qb(e).join(".")}`}function Fx(e){return e?qb(e).length:0}function Fo(...e){return e.find(t=>t!==void 0)}let pPe=42;function mPe(e){const t=++pPe;return e?String(e)+t:t}function YNt(){pPe=42}function gPe(e){return yPe(e)?e:`__${e}`}function yPe(e){return e.startsWith("__")}function iT(e){if(e!==void 0)return(e%360+360)%360}function h5(e){return Ji(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const bhe=Object.getPrototypeOf(structuredClone({}));function Mu(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Mu(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;for(const o of e.entries())if(!Mu(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==bhe.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==bhe.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!Mu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function vi(e){const t=[];return(function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,o;if(Array.isArray(r)){for(o="[",i=0;i<r.length;i++)i&&(o+=","),o+=n(r[i])||"null";return o+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const s=t.push(r)-1,a=Object.keys(r).sort();for(o="",i=0;i<a.length;i++){const l=a[i],u=n(r[l]);u&&(o&&(o+=","),o+=JSON.stringify(l)+":"+u)}return t.splice(s,1),`{${o}}`})(e)}function bt(e,t){return Lr(e)&&Go(e,t)&&e[t]!==void 0}const em="row",tm="column",p5="facet",Zi="x",js="y",wf="x2",Jh="y2",ry="xOffset",HC="yOffset",xf="radius",zm="radius2",Jc="theta",Um="theta2",Cf="latitude",_f="longitude",Ef="latitude2",Uc="longitude2",iy="time",iu="color",Zh="fill",ep="stroke",ou="shape",Hm="size",Vb="angle",qm="opacity",oy="fillOpacity",sy="strokeOpacity",ay="strokeWidth",ly="strokeDash",Mk="text",jx="order",$k="detail",m5="key",cb="tooltip",g5="href",y5="url",v5="description",KNt={x:1,y:1,x2:1,y2:1},vPe={theta:1,theta2:1,radius:1,radius2:1};function bPe(e){return Go(vPe,e)}const VJ={longitude:1,longitude2:1,latitude:1,latitude2:1};function wPe(e){switch(e){case Cf:return"y";case Ef:return"y2";case _f:return"x";case Uc:return"x2"}}function xPe(e){return Go(VJ,e)}const XNt=vt(VJ),WJ={...KNt,...vPe,...VJ,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function Vw(e){return e===iu||e===Zh||e===ep}const CPe={row:1,column:1,facet:1},kc=vt(CPe),GJ={...WJ,...CPe},QNt=vt(GJ),{order:Grn,detail:Yrn,tooltip:Krn,...JNt}=GJ,{row:Xrn,column:Qrn,facet:Jrn,...ZNt}=JNt;function e4t(e){return Go(ZNt,e)}function _Pe(e){return Go(GJ,e)}const t4t=[wf,Jh,Ef,Uc,Um,zm];function EPe(e){return Wb(e)!==e}function Wb(e){switch(e){case wf:return Zi;case Jh:return js;case Ef:return Cf;case Uc:return _f;case Um:return Jc;case zm:return xf}return e}function $0(e){if(bPe(e))switch(e){case Jc:return"startAngle";case Um:return"endAngle";case xf:return"outerRadius";case zm:return"innerRadius"}return e}function tp(e){switch(e){case Zi:return wf;case js:return Jh;case Cf:return Ef;case _f:return Uc;case Jc:return Um;case xf:return zm}}function su(e){switch(e){case Zi:case wf:return"width";case js:case Jh:return"height"}}function SPe(e){switch(e){case Zi:return"xOffset";case js:return"yOffset";case wf:return"x2Offset";case Jh:return"y2Offset";case Jc:return"thetaOffset";case xf:return"radiusOffset";case Um:return"theta2Offset";case zm:return"radius2Offset"}}function YJ(e){switch(e){case Zi:return"xOffset";case js:return"yOffset"}}function n4t(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const r4t=vt(WJ),{x:Zrn,y:ein,x2:tin,y2:nin,xOffset:rin,yOffset:iin,latitude:oin,longitude:sin,latitude2:ain,longitude2:lin,theta:uin,theta2:cin,radius:din,radius2:fin,...KJ}=WJ,i4t=vt(KJ),XJ={x:1,y:1},Vm=vt(XJ);function jo(e){return Go(XJ,e)}const QJ={theta:1,radius:1},o4t=vt(QJ);function b5(e){return e==="width"?Zi:js}const TPe={xOffset:1,yOffset:1};function Lk(e){return Go(TPe,e)}const s4t={time:1};function F9(e){return e in s4t}const{text:hin,tooltip:pin,href:min,url:gin,description:yin,detail:vin,key:bin,order:win,...kPe}=KJ,a4t=vt(kPe);function l4t(e){return Go(KJ,e)}function u4t(e){switch(e){case iu:case Zh:case ep:case Hm:case ou:case qm:case ay:case ly:return!0;case oy:case sy:case Vb:case iy:return!1}}const APe={...XJ,...QJ,...TPe,...kPe},JJ=vt(APe);function np(e){return Go(APe,e)}function c4t(e,t){return f4t(e)[t]}const RPe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:xin,...d4t}=RPe;function f4t(e){switch(e){case iu:case Zh:case ep:case v5:case $k:case m5:case cb:case g5:case jx:case qm:case oy:case sy:case ay:case p5:case em:case tm:return RPe;case Zi:case js:case ry:case HC:case Cf:case _f:case iy:return d4t;case wf:case Jh:case Ef:case Uc:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Hm:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case ly:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case ou:return{point:"always",geoshape:"always"};case Mk:return{text:"always"};case Vb:return{point:"always",square:"always",text:"always"};case y5:return{image:"always"};case Jc:return{text:"always",arc:"always"};case xf:return{text:"always",arc:"always"};case Um:case zm:return{arc:"always"}}}function j9(e){switch(e){case Zi:case js:case Jc:case xf:case ry:case HC:case Hm:case Vb:case ay:case qm:case oy:case sy:case iy:case wf:case Jh:case Um:case zm:return;case p5:case em:case tm:case ou:case ly:case Mk:case cb:case g5:case y5:case v5:return"discrete";case iu:case Zh:case ep:return"flexible";case Cf:case _f:case Ef:case Uc:case $k:case m5:case jx:return}}const h4t={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},p4t={count:1,min:1,max:1};function bm(e){return bt(e,"argmin")}function uy(e){return bt(e,"argmax")}function ZJ(e){return Kn(e)&&Go(h4t,e)}const m4t=new Set(["count","valid","missing","distinct"]);function w5(e){return Kn(e)&&m4t.has(e)}function g4t(e){return Kn(e)&&pr(["min","max"],e)}const y4t=new Set(["count","sum","distinct","valid","missing"]),v4t=new Set(["mean","average","median","q1","q3","min","max"]);function IPe(e){return Ok(e)&&(e=P5(e,void 0)),"bin"+vt(e).map(t=>x5(e[t])?Ki(`_${t}_${M0(e[t])}`):Ki(`_${t}_${e[t]}`)).join("")}function Pi(e){return e===!0||Gb(e)&&!e.binned}function Qs(e){return e==="binned"||Gb(e)&&e.binned===!0}function Gb(e){return Lr(e)}function x5(e){return bt(e,"param")}function whe(e){switch(e){case em:case tm:case Hm:case iu:case Zh:case ep:case ay:case qm:case oy:case sy:case ou:return 6;case ly:return 4;default:return 10}}function Fk(e){return bt(e,"expr")}function Js(e,{level:t}={level:0}){const n=vt(e||{}),r={};for(const i of n)r[i]=t===0?Iu(e[i]):Js(e[i],{level:t-1});return r}function DPe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:s,color:a,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:d,subtitleFontWeight:f,subtitleLineHeight:h,subtitlePadding:p,...m}=e,g={...m,...a?{fill:a}:{}},v={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...o!==void 0?{angle:o}:{},...s!==void 0?{limit:s}:{}},y={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...d?{subtitleFontStyle:d}:{},...f?{subtitleFontWeight:f}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}},x=$x(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:g,subtitleMarkConfig:x,nonMarkTitleProperties:v,subtitle:y}}function Ng(e){return Kn(e)||Yt(e)&&Kn(e[0])}function tn(e){return bt(e,"signal")}function Yb(e){return bt(e,"step")}function b4t(e){return Yt(e)?!1:bt(e,"fields")&&!bt(e,"data")}function w4t(e){return Yt(e)?!1:bt(e,"fields")&&bt(e,"data")}function Hp(e){return Yt(e)?!1:bt(e,"field")&&bt(e,"data")}const x4t={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},C4t=vt(x4t),_4t={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},YH=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function PPe(e){const t=Yt(e.condition)?e.condition.map(xhe):xhe(e.condition);return{...Iu(e),condition:t}}function Iu(e){if(Fk(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function xhe(e){if(Fk(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function zi(e){if(Fk(e)){const{expr:t,...n}=e;return{signal:t,...n}}return tn(e)?e:e!==void 0?{value:e}:void 0}function E4t(e){return tn(e)?e.signal:$r(e)}function Che(e){return tn(e)?e.signal:$r(e.value)}function Nd(e){return tn(e)?e.signal:e==null?null:$r(e)}function S4t(e,t,n){for(const r of n){const i=Mh(r,t.markDef,t.config);i!==void 0&&(e[r]=zi(i))}return e}function OPe(e){return[].concat(e.type,e.style??[])}function gi(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&bt(t,i)?t[i]:t[e]!==void 0?t[e]:o&&(!i||i===e)?void 0:Mh(e,t,n,r)}function Mh(e,t,n,{vgChannel:r}={}){const i=KH(e,t,n.style);return Fo(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function KH(e,t,n){return NPe(e,OPe(t),n)}function NPe(e,t,n){t=Lo(t);let r;for(const i of t){const o=n[i];bt(o,e)&&(r=o[e])}return r}function MPe(e,t){return Lo(e).reduce((n,r)=>(n.field.push(Ot(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function $Pe(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(Mu(i,r))return;n.push(r)}),n}function LPe(e,t){return Mu(e,t)||!t?e:e?[...Lo(e),...Lo(t)].join(", "):t}function FPe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((Ng(n)||tn(n))&&(Ng(r)||tn(r)))return{explicit:e.explicit,value:LPe(n,r)};if(Ng(n)||tn(n))return{explicit:e.explicit,value:n};if(Ng(r)||tn(r))return{explicit:e.explicit,value:r};if(!Ng(n)&&!tn(n)&&!Ng(r)&&!tn(r))return{explicit:e.explicit,value:$Pe(n,r)};throw new Error("It should never reach here")}function eZ(e){return`Invalid specification ${vi(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const T4t='Autosize "fit" only works for single views and layered views.';function _he(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function Ehe(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function She(e){return e?`Dropping "fit-${e}" because spec has discrete ${su(e)}.`:'Dropping "fit" because spec has discrete size.'}function tZ(e){return`Unknown field for ${e}. Cannot calculate view size.`}function The(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function k4t(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function A4t(e){return`The "nearest" transform is not supported for ${e} marks.`}function jPe(e){return`Selection not supported for ${e} yet.`}function R4t(e){return`Cannot find a selection named "${e}".`}const I4t="Scale bindings are currently only supported for scales with unbinned, continuous domains.",D4t="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",P4t="Legend bindings are only supported for selections over an individual field or encoding channel.";function O4t(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function N4t(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const M4t="The same selection must be used to override scale domains in a layered view.",$4t='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function L4t(e){return`Unknown repeated value "${e}".`}function khe(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const F4t="Multiple timer selections in one unit spec are not supported. Ignoring all but the first.",nZ="Animation involving facet, layer, or concat is currently unsupported.";function j4t(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${an(e)}.`}function B4t(e,t,n,r){return(e.length?"Multiple ":"No ")+`matching ${an(t)} encoding found for selection ${an(n.param)}. Using "field": ${an(r)}.`}const z4t="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function U4t(e){return`Unrecognized parse "${e}".`}function Ahe(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const H4t="Attempt to add the same child twice.";function q4t(e){return`Ignoring an invalid transform: ${vi(e)}.`}const V4t='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function Rhe(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function W4t(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${vi(t)} is overridden by a child projection ${vi(n)}.`}const G4t="Arc marks uses theta channel rather than angle, replacing angle with theta.";function Y4t(e){return`${e}Offset dropped because ${e} is continuous`}function K4t(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${vi(n)}}.`}function BPe(e){return`Invalid field type "${e}".`}function X4t(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function Q4t(e){return`Invalid aggregation operator "${e}".`}function zPe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function J4t(e){return`Position range does not support relative band size for ${e}.`}function XH(e,t){return`Dropping ${vi(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const Z4t="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function C5(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function eMt(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function tMt(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function nMt(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function rMt(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function B9(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function iMt(e){return`The ${e} for range marks cannot be an expression`}function oMt(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function sMt(e,t){return`Specified orient "${e}" overridden with "${t}".`}function aMt(e){return`Cannot use the scale property "${e}" with non-color channel.`}function lMt(e){return`Cannot use the relative band size with ${e} scale.`}function uMt(e){return`Using unaggregated domain with raw field has no effect (${vi(e)}).`}function cMt(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function dMt(e){return`Unaggregated domain is currently unsupported for log scale (${vi(e)}).`}function fMt(e){return`Cannot apply size to non-oriented mark "${e}".`}function hMt(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function pMt(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function UPe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function HPe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function mMt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${vi(n)} and ${vi(r)}). Using ${vi(n)}.`}function gMt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${vi(n)} and ${vi(r)}). Using the union of the two domains.`}function yMt(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function vMt(e){return`Dropping sort property ${vi(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const Ihe="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",bMt="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",wMt="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",xMt="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function CMt(e){return`Cannot stack "${e}" if there is already "${e}2".`}function _Mt(e){return`Stack is applied to a non-linear scale (${e}).`}function EMt(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function PN(e,t){return`Invalid ${e}: ${vi(t)}.`}function SMt(e){return`Dropping day from datetime ${vi(e)} as day cannot be combined with other units.`}function TMt(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function kMt(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function AMt(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function Dhe(e){return`1D error band does not support ${e}.`}function qPe(e){return`Channel ${e} is required for "binned" bin.`}function RMt(e){return`Channel ${e} should not be used with "binned" bin.`}function IMt(e){return`Domain for ${e} is required for threshold scale.`}const VPe=UNt(lPe);let db=VPe;function DMt(e){return db=e,db}function PMt(){return db=VPe,db}function rZ(...e){db.error(...e)}function Ct(...e){db.warn(...e)}function OMt(...e){db.debug(...e)}function Kb(e){if(e&&Lr(e)){for(const t of oZ)if(bt(e,t))return!0}return!1}const WPe=["january","february","march","april","may","june","july","august","september","october","november","december"],NMt=WPe.map(e=>e.substr(0,3)),GPe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],MMt=GPe.map(e=>e.substr(0,3));function $Mt(e){if(h5(e)&&(e=+e),Ji(e))return e>4&&Ct(PN("quarter",e)),e-1;throw new Error(PN("quarter",e))}function LMt(e){if(h5(e)&&(e=+e),Ji(e))return e-1;{const t=e.toLowerCase(),n=WPe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=NMt.indexOf(r);if(i!==-1)return i;throw new Error(PN("month",e))}}function FMt(e){if(h5(e)&&(e=+e),Ji(e))return e%7;{const t=e.toLowerCase(),n=GPe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=MMt.indexOf(r);if(i!==-1)return i;throw new Error(PN("day",e))}}function iZ(e,t){const n=[];if(t&&e.day!==void 0&&vt(e).length>1&&(Ct(SMt(e)),e=qn(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?LMt(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?$Mt(e.quarter):e.quarter;n.push(Ji(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?FMt(e.day):e.day;n.push(Ji(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function fb(e){const n=iZ(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function jMt(e){const n=iZ(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function BMt(e){const t=iZ(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const YPe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},oZ=vt(YPe);function zMt(e){return Dn(YPe,e)}function Xb(e){return Lr(e)?e.binned:KPe(e)}function KPe(e){return e&&e.startsWith("binned")}function sZ(e){return e.startsWith("utc")}function UMt(e){return e.substring(3)}const HMt={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function _5(e){return oZ.filter(t=>QPe(e,t))}function XPe(e){const t=_5(e);return t[t.length-1]}function QPe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function qMt(e,t,{end:n}={end:!1}){const r=qJ(t),i=sZ(e)?"utc":"";function o(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let s;const a={};for(const l of oZ)QPe(e,l)&&(a[l]=o(l),s=l);return n&&(a[s]+="+1"),jMt(a)}function JPe(e){if(!e)return;const t=_5(e);return`timeUnitSpecifier(${vi(t)}, ${vi(HMt)})`}function VMt(e,t,n){if(!e)return;const r=JPe(e);return`${n||sZ(e)?"utc":"time"}Format(${t}, ${r})`}function Ms(e){if(!e)return;let t;return Kn(e)?KPe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:Lr(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),sZ(t.unit)&&(t.utc=!0,t.unit=UMt(t.unit)),t}function WMt(e){const{utc:t,...n}=Ms(e);return n.unit?(t?"utc":"")+vt(n).map(r=>Ki(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+vt(n).map(r=>Ki(`_${r}_${n[r]}`)).join("")}function ZPe(e,t=n=>n){const n=Ms(e),r=XPe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:s}=e3e(r,n.step),a={...i,[s]:+i[s]+o};return`${t(fb(a))} - ${t(fb(i))}`}}const GMt={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function YMt(e){return Dn(GMt,e)}function e3e(e,t=1){if(YMt(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function KMt(e){return bt(e,"param")}function aZ(e){return!!e?.field&&e.equal!==void 0}function lZ(e){return!!e?.field&&e.lt!==void 0}function uZ(e){return!!e?.field&&e.lte!==void 0}function cZ(e){return!!e?.field&&e.gt!==void 0}function dZ(e){return!!e?.field&&e.gte!==void 0}function fZ(e){if(e?.field){if(Yt(e.range)&&e.range.length===2)return!0;if(tn(e.range))return!0}return!1}function hZ(e){return!!e?.field&&(Yt(e.oneOf)||Yt(e.in))}function XMt(e){return!!e?.field&&e.valid!==void 0}function t3e(e){return hZ(e)||aZ(e)||fZ(e)||lZ(e)||cZ(e)||uZ(e)||dZ(e)}function qf(e,t){return O5(e,{timeUnit:t,wrapTime:!0})}function QMt(e,t){return e.map(n=>qf(n,t))}function n3e(e,t=!0){const{field:n}=e,r=Ms(e.timeUnit),{unit:i,binned:o}=r||{},s=Ot(e,{expr:"datum"}),a=i?`time(${o?s:qMt(i,n)})`:s;if(aZ(e))return`${a}===${qf(e.equal,i)}`;if(lZ(e)){const l=e.lt;return`${a}<${qf(l,i)}`}else if(cZ(e)){const l=e.gt;return`${a}>${qf(l,i)}`}else if(uZ(e)){const l=e.lte;return`${a}<=${qf(l,i)}`}else if(dZ(e)){const l=e.gte;return`${a}>=${qf(l,i)}`}else{if(hZ(e))return`indexof([${QMt(e.oneOf,i).join(",")}], ${a}) !== -1`;if(XMt(e))return E5(a,e.valid);if(fZ(e)){const{range:l}=Js(e),u=tn(l)?{signal:`${l.signal}[0]`}:l[0],c=tn(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return"inrange("+a+", ["+qf(u,i)+", "+qf(c,i)+"])";const d=[];return u!==null&&d.push(`${a} >= ${qf(u,i)}`),c!==null&&d.push(`${a} <= ${qf(c,i)}`),d.length>0?d.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${vi(e)}`)}function E5(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function JMt(e){return t3e(e)&&e.timeUnit?{...e,timeUnit:Ms(e.timeUnit)}:e}const jk={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function ZMt(e){return e==="quantitative"||e==="temporal"}function r3e(e){return e==="ordinal"||e==="nominal"}const hb=jk.quantitative,pZ=jk.ordinal,Bx=jk.temporal,mZ=jk.nominal,qC=jk.geojson;function e6t(e){if(e)switch(e=e.toLowerCase(),e){case"q":case hb:return"quantitative";case"t":case Bx:return"temporal";case"o":case pZ:return"ordinal";case"n":case mZ:return"nominal";case qC:return"geojson"}}const ea={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",TIME:"time",UTC:"utc",POINT:"point",BAND:"band"},QH={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function t6t(e,t){const n=QH[e],r=QH[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const n6t={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function Phe(e){return n6t[e]}const i3e=new Set(["linear","log","pow","sqrt","symlog"]),o3e=new Set([...i3e,"time","utc"]);function s3e(e){return i3e.has(e)}const a3e=new Set(["quantile","quantize","threshold"]),r6t=new Set([...o3e,...a3e,"sequential","identity"]),i6t=new Set(["ordinal","bin-ordinal","point","band"]);function $s(e){return i6t.has(e)}function tf(e){return r6t.has(e)}function lh(e){return o3e.has(e)}function zx(e){return a3e.has(e)}const o6t={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5};function s6t(e){return!Kn(e)&&bt(e,"name")}function l3e(e){return bt(e,"param")}function a6t(e){return bt(e,"unionWith")}function l6t(e){return Lr(e)&&"field"in e}const u6t={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:Cin,domain:_in,range:Ein,rangeMax:Sin,rangeMin:Tin,scheme:kin,...c6t}=u6t,d6t=vt(c6t);function JH(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return lh(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return lh(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return lh(e);case"nice":return lh(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return tf(e)&&!pr(["log","time","utc","threshold","quantile"],e)}}function u3e(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Vw(e)?void 0:aMt(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function f6t(e,t){return pr([pZ,mZ],t)?e===void 0||$s(e):t===Bx?pr([ea.TIME,ea.UTC,void 0],e):t===hb?s3e(e)||zx(e)||e===void 0:!0}function h6t(e,t,n=!1){if(!np(e))return!1;switch(e){case Zi:case js:case ry:case HC:case Jc:case xf:return lh(t)||t==="band"?!0:t==="point"?!n:!1;case iy:return pr(["linear","band"],t);case Hm:case ay:case qm:case oy:case sy:case Vb:return lh(t)||zx(t)||pr(["band","point","ordinal"],t);case iu:case Zh:case ep:return t!=="band";case ly:case ou:return t==="ordinal"||zx(t)}}function p6t(e){return Lr(e)&&"value"in e}const Rl={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},c3e=Rl.arc,S5=Rl.area,T5=Rl.bar,m6t=Rl.image,k5=Rl.line,A5=Rl.point,g6t=Rl.rect,ON=Rl.rule,d3e=Rl.text,gZ=Rl.tick,y6t=Rl.trail,yZ=Rl.circle,vZ=Rl.square,f3e=Rl.geoshape;function cy(e){return["line","area","trail"].includes(e)}function oT(e){return["rect","bar","image","arc","tick"].includes(e)}const v6t=new Set(vt(Rl));function $h(e){return bt(e,"type")}const b6t=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],w6t=["fill","fillOpacity"],x6t=[...b6t,...w6t],C6t={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},Ohe=vt(C6t),z9=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],_6t={area:["line","point"],bar:z9,rect:z9,line:["point"],tick:["bandSize","thickness",...z9]},E6t={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},S6t={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},h3e=vt(S6t);function pb(e){return bt(e,"band")}const T6t={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},k6t=5,bZ={binSpacing:0,continuousBandSize:k6t,minBandSize:.25,timeUnitBandPosition:.5},A6t={...bZ,binSpacing:1},R6t={...bZ,thickness:1};function I6t(e){return $h(e)?e.type:e}function p3e(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function wZ({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){if(!r||!tf(r)||i)return"always-valid";const o=p3e(gi("invalid",e,t),{isPath:cy(e.type)});return t.scale?.invalid?.[n]!==void 0?"show":o}function D6t(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function m3e({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,o=`peek(${r})`,s=t.domainHasZero();return s==="definitely"?{scale:e,value:0}:s==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:o})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:o})`}}function g3e({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:o}){const s=n?.get("type"),a=rf(t),l=w5(a?.aggregate),u=wZ({scaleChannel:e,markDef:i,config:o,scaleType:s,isCountAggregate:l});if(a&&u==="show"){const c=o.scale.invalid?.[e]??"zero-or-min";return{test:E5(Ot(a,{expr:"datum"}),!1),...P6t(c,n,r)}}}function P6t(e,t,n){if(p6t(e)){const{value:r}=e;return tn(r)?{signal:r.signal}:{value:r}}return m3e({scale:t,scaleName:n,mode:"zeroOrMin"})}function xZ(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:o,config:s}=e,a=Wb(t),l=CZ(e),u=g3e({scaleChannel:a,channelDef:n,scale:i,scaleName:o,markDef:r,config:s});return u!==void 0?[u,l]:l}function O6t(e){const{datum:t}=e;return Kb(t)?fb(t):`${vi(t)}`}function Mv(e,t,n,r){const i={};if(t&&(i.scale=t),rp(e)){const{datum:o}=e;Kb(o)?i.signal=fb(o):tn(o)?i.signal=o.signal:Fk(o)?i.signal=o.expr:i.value=o}else i.field=Ot(e,n);if(r){const{offset:o,band:s}=r;o&&(i.offset=o),s&&(i.band=s)}return i}function NN({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:o="end",bandPosition:s=.5}){const a=!tn(s)&&0<s&&s<1?"datum":void 0,l=Ot(t,{expr:a,suffix:i}),u=n!==void 0?Ot(n,{expr:a}):Ot(t,{suffix:o,expr:a}),c={};if(s===0||s===1){c.scale=e;const d=s===0?l:u;c.field=d}else{const d=tn(s)?`(1-${s.signal}) * ${l} + ${s.signal} * ${u}`:`${1-s} * ${l} + ${s} * ${u}`;c.signal=`scale("${e}", ${d})`}return r&&(c.offset=r),c}function N6t({scaleName:e,fieldDef:t}){const n=Ot(t,{expr:"datum"}),r=Ot(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function CZ({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u,bandPosition:c}){if(t){if(Wn(t)){const d=s?.get("type");if(El(t)){c??(c=L0({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:f,timeUnit:h,type:p}=t;if(Pi(f)||c&&h&&p===Bx)return a?.impute?Mv(t,o,{binSuffix:"mid"},{offset:l}):c&&!$s(d)?NN({scaleName:o,fieldOrDatumDef:t,bandPosition:c,offset:l}):Mv(t,o,qk(t,e)?{binSuffix:"range"}:{},{offset:l});if(Qs(f)){if(Et(n))return NN({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});Ct(qPe(e===Zi?wf:Jh))}}return Mv(t,o,$s(d)?{binSuffix:"range"}:{},{offset:l,band:d==="band"?c??t.bandPosition??.5:void 0})}else if(nf(t)){const d=t.value,f=l?{offset:l}:{};return{...US(e,d),...f}}}return qNt(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function US(e,t){return pr(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:pr(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:zi(t)}function mb(e){return e&&e!=="number"&&e!=="time"}function y3e(e,t,n){return`${e}(${t}${n?`, ${vi(n)}`:""})`}const M6t="  ";function _Z({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){if(mb(n))return Md({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const s=v3e(e,r,i),a=Ux(e);if(t===void 0&&n===void 0&&o.customFormatTypes){if(a==="quantitative"){if(i&&o.normalizedNumberFormatType)return Md({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:r,config:o});if(o.numberFormatType)return Md({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:r,config:o})}if(a==="temporal"&&o.timeFormatType&&Et(e)&&e.timeUnit===void 0)return Md({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:r,config:o})}if(qx(e)){const l=L6t({field:s,timeUnit:Et(e)?Ms(e.timeUnit)?.unit:void 0,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:Qb(e)&&e.scale?.type===ea.UTC});return l?{signal:l}:void 0}if(t=ZH({type:a,specifiedFormat:t,config:o,normalizeStack:i}),Et(e)&&Pi(e.bin)){const l=Ot(e,{expr:r,binSuffix:"end"});return{signal:Bk(s,l,t,n,o)}}else return t||Ux(e)==="quantitative"?{signal:`${x3e(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function v3e(e,t,n){return Et(e)?n?`${Ot(e,{expr:t,suffix:"end"})}-${Ot(e,{expr:t,suffix:"start"})}`:Ot(e,{expr:t}):O6t(e)}function Md({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:s}){if(s??(s=v3e(e,r,i)),s!=="datum.value"&&Et(e)&&Pi(e.bin)){const a=Ot(e,{expr:r,binSuffix:"end"});return{signal:Bk(s,a,t,n,o)}}return{signal:y3e(n,s,t)}}function b3e(e,t,n,r,i,o){if(!(Kn(r)&&mb(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&Ux(e)==="quantitative"&&(i.normalizedNumberFormatType&&Hx(e)&&e.stack==="normalize"||i.numberFormatType))){if(Hx(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return ZH({type:"quantitative",config:i,normalizeStack:!0});if(qx(e)){const s=Et(e)?Ms(e.timeUnit)?.unit:void 0;return s===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:$6t({specifiedFormat:n,timeUnit:s,config:i,omitTimeFormatConfig:o})}return ZH({type:t,specifiedFormat:n,config:i})}}function w3e(e,t,n){if(e&&(tn(e)||e==="number"||e==="time"))return e;if(qx(t)&&n!=="time"&&n!=="utc")return Et(t)&&Ms(t?.timeUnit)?.utc?"utc":"time"}function ZH({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(Kn(t))return t;if(e===hb)return r?n.normalizedNumberFormat:n.numberFormat}function $6t({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:JPe(t)}:r?void 0:n.timeFormat)}function x3e(e,t){return`format(${e}, "${t||""}")`}function Nhe(e,t,n,r){return mb(n)?y3e(n,e,t):x3e(e,(Kn(t)?t:void 0)??r.numberFormat)}function Bk(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return Bk(e,t,i.numberFormat,i.numberFormatType,i);const o=Nhe(e,n,r,i),s=Nhe(t,n,r,i);return`${E5(e,!1)} ? "null" : ${o} + "${M6t}" + ${s}`}function L6t({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:o}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=Kn(n)?n:i,`${o?"utc":"time"}Format(${e}, '${n}')`):VMt(t,e,o)}const R5="min",F6t={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function Mhe(e){return Go(F6t,e)}function j6t(e){return bt(e,"encoding")}function nm(e){return e&&(e.op==="count"||bt(e,"field"))}function C3e(e){return e&&Yt(e)}function zk(e){return bt(e,"row")||bt(e,"column")}function EZ(e){return bt(e,"header")}function I5(e){return bt(e,"facet")}function B6t(e){return bt(e,"param")}function z6t(e){return!Kn(e)&&bt(e,"repeat")}function $he(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function SZ(e){return bt(e,"sort")}function L0({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Wn(e)&&e.bandPosition!==void 0)return e.bandPosition;if(Et(e)){const{timeUnit:i,bin:o}=e;if(i&&!t)return Mh("timeUnitBandPosition",n,r);if(Pi(o))return .5}}function _3e({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:o,useVlSizeChannel:s}){const a=su(e),l=gi(s?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(Et(t)){const{timeUnit:u,bin:c}=t;if(u&&!n)return{band:Mh("timeUnitBandSize",r,i)};if(Pi(c)&&!$s(o))return{band:1}}if(oT(r.type))return o?$s(o)?i[r.type]?.discreteBandSize||{band:1}:i[r.type]?.continuousBandSize:i[r.type]?.discreteBandSize}function E3e(e,t,n,r){return Pi(e.bin)||e.timeUnit&&El(e)&&e.type==="temporal"?L0({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function S3e(e){return bt(e,"sort")&&!bt(e,"field")}function Uk(e){return bt(e,"condition")}function D5(e){const t=e?.condition;return!!t&&!Yt(t)&&Et(t)}function Hk(e){const t=e?.condition;return!!t&&!Yt(t)&&Wn(t)}function U6t(e){const t=e?.condition;return!!t&&(Yt(t)||nf(t))}function Et(e){return bt(e,"field")||e?.aggregate==="count"}function Ux(e){return e?.type}function rp(e){return bt(e,"datum")}function Zg(e){return El(e)&&!$N(e)||MN(e)}function Lhe(e){return El(e)&&e.type==="quantitative"&&!e.bin||MN(e)}function MN(e){return rp(e)&&Ji(e.datum)}function Wn(e){return Et(e)||rp(e)}function El(e){return e&&(bt(e,"field")||e.aggregate==="count")&&bt(e,"type")}function nf(e){return bt(e,"value")}function Qb(e){return bt(e,"scale")||bt(e,"sort")}function Hx(e){return bt(e,"axis")||bt(e,"stack")||bt(e,"impute")}function T3e(e){return bt(e,"legend")}function k3e(e){return bt(e,"format")||bt(e,"formatType")}function H6t(e){return Ql(e,["legend","axis","header","scale"])}function q6t(e){return bt(e,"op")}function Ot(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(W6t(e))n=gPe("count");else{let s;if(!t.nofn)if(q6t(e))s=e.op;else{const{bin:a,aggregate:l,timeUnit:u}=e;Pi(a)?(s=IPe(a),i=(t.binSuffix??"")+(t.suffix??"")):l?uy(l)?(o=`["${n}"]`,n=`argmax_${l.argmax}`):bm(l)?(o=`["${n}"]`,n=`argmin_${l.argmin}`):s=String(l):u&&!Xb(u)&&(s=WMt(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?UC(n):t.expr?hPe(n,t.expr)+o:zc(n)+o}function $N(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Et(e)&&!!e.bin;case"temporal":return!1}throw new Error(BPe(e.type))}function V6t(e){return Qb(e)&&zx(e.scale?.type)}function W6t(e){return e.aggregate==="count"}function G6t(e,t){const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if(o==="count")return t.countTitle;if(Pi(r))return`${n} (binned)`;if(i&&!Xb(i)){const s=Ms(i)?.unit;if(s)return`${n} (${_5(s).join("-")})`}else if(o)return uy(o)?`${n} for max ${o.argmax}`:bm(o)?`${n} for min ${o.argmin}`:`${Nk(o)} of ${n}`;return n}function Y6t(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(uy(t))return`${i} for argmax(${t.argmax})`;if(bm(t))return`${i} for argmin(${t.argmin})`;const o=r&&!Xb(r)?Ms(r):void 0,s=t||o?.unit||o?.maxbins&&"timeunit"||Pi(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const A3e=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return Y6t(e);default:return G6t(e,t)}};let R3e=A3e;function I3e(e){R3e=e}function K6t(){I3e(A3e)}function Ww(e,t,{allowDisabling:n,includeDefault:r=!0}){const i=TZ(e)?.title;if(!Et(e))return i??e.title;const o=e,s=r?kZ(o,t):void 0;return n?Fo(i,o.title,s):i??o.title??s}function TZ(e){if(Hx(e)&&e.axis)return e.axis;if(T3e(e)&&e.legend)return e.legend;if(EZ(e)&&e.header)return e.header}function kZ(e,t){return R3e(e,t)}function LN(e){if(k3e(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=TZ(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function X6t(e,t){switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(SZ(e)&&Yt(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!uy(n)&&!bm(n))return"quantitative";if(Qb(e)&&e.scale?.type)switch(QH[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function rf(e){if(Et(e))return e;if(D5(e))return e.condition}function cs(e){if(Wn(e))return e;if(Hk(e))return e.condition}function D3e(e,t,n,r={}){if(Kn(e)||Ji(e)||Ok(e)){const i=Kn(e)?"string":Ji(e)?"number":"boolean";return Ct(K4t(t,i,e)),{value:e}}return Wn(e)?FN(e,t,n,r):Hk(e)?{...e,condition:FN(e.condition,t,n,r)}:e}function FN(e,t,n,r){if(k3e(e)){const{format:i,formatType:o,...s}=e;if(mb(o)&&!n.customFormatTypes)return Ct(Rhe(t)),FN(s,t,n,r)}else{const i=Hx(e)?"axis":T3e(e)?"legend":EZ(e)?"header":null;if(i&&e[i]){const{format:o,formatType:s,...a}=e[i];if(mb(s)&&!n.customFormatTypes)return Ct(Rhe(t)),FN({...e,[i]:a},t,n,r)}}return Et(e)?AZ(e,t,r):Q6t(e)}function Q6t(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=Ji(n)?"quantitative":Kn(n)?"nominal":Kb(n)?"temporal":void 0,{...e,type:t}}function AZ(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:o,field:s}=e,a={...e};if(!n&&r&&!ZJ(r)&&!uy(r)&&!bm(r)&&(Ct(Q4t(r)),delete a.aggregate),i&&(a.timeUnit=Ms(i)),s&&(a.field=`${s}`),Pi(o)&&(a.bin=P5(o,t)),Qs(o)&&!jo(t)&&Ct(RMt(t)),El(a)){const{type:l}=a,u=e6t(l);l!==u&&(a.type=u),l!=="quantitative"&&w5(r)&&(Ct(X4t(l,r)),a.type="quantitative")}else if(!EPe(t)){const l=X6t(a,t);a.type=l}if(El(a)){const{compatible:l,warning:u}=J6t(a,t)||{};l===!1&&Ct(u)}if(SZ(a)&&Kn(a.sort)){const{sort:l}=a;if(Mhe(l))return{...a,sort:{encoding:l}};const u=l.substring(1);if(l.charAt(0)==="-"&&Mhe(u))return{...a,sort:{encoding:u,order:"descending"}}}if(EZ(a)){const{header:l}=a;if(l){const{orient:u,...c}=l;if(u)return{...a,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return a}function P5(e,t){return Ok(e)?{maxbins:whe(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:whe(t)}:e}const G1={compatible:!0};function J6t(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case em:case tm:case p5:return $N(e)?G1:{compatible:!1,warning:tMt(t)};case Zi:case js:case ry:case HC:case iu:case Zh:case ep:case Mk:case $k:case m5:case cb:case g5:case y5:case Vb:case Jc:case xf:case v5:return G1;case _f:case Uc:case Cf:case Ef:return n!==hb?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:G1;case qm:case oy:case sy:case ay:case Hm:case Um:case zm:case wf:case Jh:case iy:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:G1;case ou:case ly:return!$N(e)&&!V6t(e)?{compatible:!1,warning:nMt(t)}:G1;case jx:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:G1}}function qx(e){const{formatType:t}=LN(e);return t==="time"||!t&&Z6t(e)}function Z6t(e){return e&&(e.type==="temporal"||Et(e)&&!!e.timeUnit)}function O5(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){const o=t&&Ms(t)?.unit;let s=o||n==="temporal",a;return Fk(e)?a=e.expr:tn(e)?a=e.signal:Kb(e)?(s=!0,a=fb(e)):(Kn(e)||Ji(e))&&s&&(a=`datetime(${vi(e)})`,zMt(o)&&(Ji(e)&&e<1e4||Kn(e)&&isNaN(Date.parse(e)))&&(a=fb({[o]:e}))),a?r&&s?`time(${a})`:a:i?void 0:vi(e)}function P3e(e,t){const{type:n}=e;return t.map(r=>{const i=Et(e)&&!Xb(e.timeUnit)?e.timeUnit:void 0,o=O5(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return o!==void 0?{signal:o}:r})}function qk(e,t){return Pi(e.bin)?np(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const Fhe={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function Vk(e){return e?.condition}const O3e=["domain","grid","labels","ticks","title"],e5t={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},N3e={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},t5t={...N3e,style:1,labelExpr:1,encoding:1};function jhe(e){return Go(t5t,e)}const n5t={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},M3e=vt(n5t);function Wm(e){return bt(e,"mark")}class N5{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return Wm(t)?I6t(t.mark)===this.name:!1}}function $v(e,t){const n=e&&e[t];return n?Yt(n)?Lx(n,r=>!!r.field):Et(n)||D5(n):!1}function $3e(e,t){const n=e&&e[t];return n?Yt(n)?Lx(n,r=>!!r.field):Et(n)||rp(n)||Hk(n):!1}function L3e(e,t){if(jo(t)){const n=e[t];if((Et(n)||rp(n))&&(r3e(n.type)||Et(n)&&n.timeUnit)){const r=YJ(t);return $3e(e,r)}}return!1}function F3e(e){return Lx(QNt,t=>{if($v(e,t)){const n=e[t];if(Yt(n))return Lx(n,r=>!!r.aggregate);{const r=rf(n);return r&&!!r.aggregate}}return!1})}function j3e(e,t){const n=[],r=[],i=[],o=[],s={};return RZ(e,(a,l)=>{if(Et(a)){const{field:u,aggregate:c,bin:d,timeUnit:f,...h}=a;if(c||f||d){const m=TZ(a)?.title;let g=Ot(a,{forAs:!0});const v={...m?[]:{title:Ww(a,t,{allowDisabling:!0})},...h,field:g};if(c){let y;if(uy(c)?(y="argmax",g=Ot({op:"argmax",field:c.argmax},{forAs:!0}),v.field=`${g}.${u}`):bm(c)?(y="argmin",g=Ot({op:"argmin",field:c.argmin},{forAs:!0}),v.field=`${g}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(y=c),y){const x={op:y,as:g};u&&(x.field=u),o.push(x)}}else if(n.push(g),El(a)&&Pi(d)){if(r.push({bin:d,field:u,as:g}),n.push(Ot(a,{binSuffix:"end"})),qk(a,l)&&n.push(Ot(a,{binSuffix:"range"})),jo(l)){const y={field:`${g}_end`};s[`${l}2`]=y}v.bin="binned",EPe(l)||(v.type=hb)}else if(f&&!Xb(f)){i.push({timeUnit:f,field:u,as:g});const y=El(a)&&a.type!==Bx&&"time";y&&(l===Mk||l===cb?v.formatType=y:l4t(l)?v.legend={formatType:y,...v.legend}:jo(l)&&(v.axis={formatType:y,...v.axis}))}s[l]=v}else n.push(u),s[l]=e[l]}else s[l]=e[l]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:s}}function r5t(e,t,n){const r=c4t(t,n);if(r){if(r==="binned"){const i=e[t===wf?Zi:js];return!!(Et(i)&&Et(e[t])&&Qs(i.bin))}}else return!1;return!0}function i5t(e,t,n,r){const i={};for(const o of vt(e))_Pe(o)||Ct(eMt(o));for(let o of r4t){if(!e[o])continue;const s=e[o];if(Lk(o)){const a=n4t(o),l=i[a];if(Et(l)&&ZMt(l.type)&&Et(s)&&!l.timeUnit){Ct(Y4t(a));continue}}if(o==="angle"&&t==="arc"&&!e.theta&&(Ct(G4t),o=Jc),!r5t(e,o,t)){Ct(C5(o,t));continue}if(o===Hm&&t==="line"&&rf(e[o])?.aggregate){Ct(Z4t);continue}if(o===iu&&(n?"fill"in e:"stroke"in e)){Ct(zPe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(o===$k||o===jx&&!Yt(s)&&!nf(s)||o===cb&&Yt(s)){if(s){if(o===jx){const a=e[o];if(S3e(a)){i[o]=a;continue}}i[o]=Lo(s).reduce((a,l)=>(Et(l)?a.push(AZ(l,o)):Ct(XH(l,o)),a),[])}}else{if(o===cb&&s===null)i[o]=null;else if(!Et(s)&&!rp(s)&&!nf(s)&&!Uk(s)&&!tn(s)){Ct(XH(s,o));continue}i[o]=D3e(s,o,r)}}return i}function M5(e,t){const n={};for(const r of vt(e)){const i=D3e(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function o5t(e){const t=[];for(const n of vt(e))if($v(e,n)){const r=e[n],i=Lo(r);for(const o of i)Et(o)?t.push(o):D5(o)&&t.push(o.condition)}return t}function RZ(e,t,n){if(e)for(const r of vt(e)){const i=e[r];if(Yt(i))for(const o of i)t.call(n,o,r);else t.call(n,i,r)}}function s5t(e,t,n,r){return e?vt(e).reduce((i,o)=>{const s=e[o];return Yt(s)?s.reduce((a,l)=>t.call(r,a,l,o),i):t.call(r,i,s,o)},n):n}function B3e(e,t){return vt(t).reduce((n,r)=>{switch(r){case Zi:case js:case g5:case v5:case y5:case wf:case Jh:case ry:case HC:case Jc:case Um:case xf:case zm:case iy:case Cf:case _f:case Ef:case Uc:case Mk:case ou:case Vb:case cb:return n;case jx:if(e==="line"||e==="trail")return n;case $k:case m5:{const i=t[r];if(Yt(i)||Et(i))for(const o of Lo(i))o.aggregate||n.push(Ot(o,{}));return n}case Hm:if(e==="trail")return n;case iu:case Zh:case ep:case qm:case oy:case sy:case ly:case ay:{const i=rf(t[r]);return i&&!i.aggregate&&n.push(Ot(i,{})),n}}},[])}function a5t(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(Yt(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(i||(i=[]),i.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return Yt(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function eq(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:a})=>{const l=r?` of ${IZ(t)}`:"";return{field:s+t.field,type:t.type,title:tn(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),o=o5t(n).map(H6t);return{tooltip:[...i,...ah(o,xr)]}}function IZ(e){const{title:t,field:n}=e;return Fo(t,n)}function DZ(e,t,n,r,i){const{scale:o,axis:s}=n;return({partName:a,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:d={}})=>{const f=IZ(n);return z3e(e,a,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...f!==void 0?{title:f}:{},...o!==void 0?{scale:o}:{},...s!==void 0?{axis:s}:{}},...Kn(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...d}})}}function z3e(e,t,n,r){const{clip:i,color:o,opacity:s}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...s?{opacity:s}:{},...$h(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...Ok(e[t])?{}:e[t]}}]:[]}function U3e(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",o=r[i],s=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:dI(o,n),continuousAxisChannelDef2:dI(s,n),continuousAxisChannelDefError:dI(a,n),continuousAxisChannelDefError2:dI(l,n),continuousAxis:i}}function dI(e,t){if(e?.aggregate){const{aggregate:n,...r}=e;return n!==t&&Ct(AMt(n,t)),r}else return e}function H3e(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if($h(n)&&n.orient)return n.orient;if(Zg(i)){if(Zg(o)){const s=Et(i)&&i.aggregate,a=Et(o)&&o.aggregate;if(!s&&a===t)return"vertical";if(!a&&s===t)return"horizontal";if(s===t&&a===t)throw new Error("Both x and y cannot have aggregate");return qx(o)&&!qx(i)?"horizontal":"vertical"}return"horizontal"}else{if(Zg(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const jN="boxplot",l5t=["box","median","outliers","rule","ticks"],u5t=new N5(jN,V3e);function q3e(e){return Ji(e)?"tukey":e}function V3e(e,{config:t}){e={...e,encoding:M5(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:o,...s}=e,a=$h(n)?n:{type:n};i&&Ct(jPe("boxplot"));const l=a.extent??t.boxplot.extent,u=gi("size",a,t),c=a.invalid,d=q3e(l),{bins:f,timeUnits:h,transform:p,continuousAxisChannelDef:m,continuousAxis:g,groupby:v,aggregate:y,encodingWithoutContinuousAxis:x,ticksOrient:E,boxOrient:_,customTooltipWithoutAggregatedField:S}=c5t(e,l,t),T=UC(m.field),{color:k,size:R,...I}=x,P=ee=>DZ(a,g,m,ee,t.boxplot),N=P(I),M=P(x),O=(Lr(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",j=P({...I,...R?{size:R}:{},color:{condition:{test:`${ui(`lower_box_${m.field}`)} >= ${ui(`upper_box_${m.field}`)}`,...k||{value:O}}}}),U=eq([{fieldPrefix:d==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:d==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],m,x),q={type:"tick",color:"black",opacity:1,orient:E,invalid:c,aria:!1},W=d==="min-max"?U:eq([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],m,x),V=[...N({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:W}),...N({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:W}),...N({partName:"ticks",mark:q,positionPrefix:"lower_whisker",extraEncoding:W}),...N({partName:"ticks",mark:q,positionPrefix:"upper_whisker",extraEncoding:W})],z=[...d!=="tukey"?V:[],...M({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:_,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:U}),...j({partName:"median",mark:{type:"tick",invalid:c,...Lr(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:E,aria:!1},positionPrefix:"mid_box",extraEncoding:U})];if(d==="min-max")return{...s,transform:(s.transform??[]).concat(p),layer:z};const L=ui(`lower_box_${m.field}`),H=ui(`upper_box_${m.field}`),B=`(${H} - ${L})`,Y=`${L} - ${l} * ${B}`,Q=`${H} + ${l} * ${B}`,ne=ui(m.field),ce={joinaggregate:W3e(m.field),groupby:v},le={transform:[{filter:`(${Y} <= ${ne}) && (${ne} <= ${Q})`},{aggregate:[{op:"min",field:m.field,as:`lower_whisker_${T}`},{op:"max",field:m.field,as:`upper_whisker_${T}`},{op:"min",field:`lower_box_${m.field}`,as:`lower_box_${T}`},{op:"max",field:`upper_box_${m.field}`,as:`upper_box_${T}`},...y],groupby:v}],layer:V},{tooltip:ue,...ae}=I,{scale:te,axis:se}=m,we=IZ(m),X=Ql(se,["title"]),he=z3e(a,"outliers",t.boxplot,{transform:[{filter:`(${ne} < ${Y}) || (${ne} > ${Q})`}],mark:"point",encoding:{[g]:{field:m.field,type:m.type,...we!==void 0?{title:we}:{},...te!==void 0?{scale:te}:{},...yi(X)?{}:{axis:X}},...ae,...k?{color:k}:{},...S?{tooltip:S}:{}}})[0];let ge;const re=[...f,...h,ce];return he?ge={transform:re,layer:[he,le]}:(ge=le,ge.transform.unshift(...re)),{...s,layer:[ge,{transform:p,layer:z}]}}function W3e(e){const t=UC(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function c5t(e,t,n){const r=H3e(e,jN),{continuousAxisChannelDef:i,continuousAxis:o}=U3e(e,r,jN),s=i.field,a=UC(s),l=q3e(t),u=[...W3e(s),{op:"median",field:s,as:`mid_box_${a}`},{op:"min",field:s,as:(l==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:s,as:(l==="min-max"?"upper_whisker_":"max_")+a}],c=l==="min-max"||l==="tukey"?[]:[{calculate:`${ui(`upper_box_${a}`)} - ${ui(`lower_box_${a}`)}`,as:`iqr_${a}`},{calculate:`min(${ui(`upper_box_${a}`)} + ${ui(`iqr_${a}`)} * ${t}, ${ui(`max_${a}`)})`,as:`upper_whisker_${a}`},{calculate:`max(${ui(`lower_box_${a}`)} - ${ui(`iqr_${a}`)} * ${t}, ${ui(`min_${a}`)})`,as:`lower_whisker_${a}`}],{[o]:d,...f}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:p}=a5t(f),{bins:m,timeUnits:g,aggregate:v,groupby:y,encoding:x}=j3e(p,n),E=r==="vertical"?"horizontal":"vertical",_=r,S=[...m,...g,{aggregate:[...v,...u],groupby:y},...c];return{bins:m,timeUnits:g,transform:S,groupby:y,aggregate:v,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:x,ticksOrient:E,boxOrient:_,customTooltipWithoutAggregatedField:h}}const PZ="errorbar",d5t=["ticks","rule"],f5t=new N5(PZ,G3e);function G3e(e,{config:t}){e={...e,encoding:M5(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:s,markDef:a,outerSpec:l,tooltipEncoding:u}=Y3e(e,PZ,t);delete o.size;const c=DZ(a,i,r,o,t.errorbar),d=a.thickness,f=a.size,h={type:"tick",orient:s,aria:!1,...d!==void 0?{thickness:d}:{},...f!==void 0?{size:f}:{}},p=[...c({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...d!==void 0?{size:d}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function h5t(e,t){const{encoding:n}=e;if(p5t(n))return{orient:H3e(e,t),inputType:"raw"};const r=m5t(n),i=g5t(n),o=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(Wn(a)&&Wn(l))throw new Error(`${t} cannot have both x2 and y2`);if(Wn(a)){if(Zg(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Wn(l)){if(Zg(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(Wn(l)&&!Wn(a))throw new Error(`${t} cannot have xError2 without xError`);if(Wn(c)&&!Wn(u))throw new Error(`${t} cannot have yError2 without yError`);if(Wn(a)&&Wn(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Wn(a)){if(Zg(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Wn(u)){if(Zg(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function p5t(e){return(Wn(e.x)||Wn(e.y))&&!Wn(e.x2)&&!Wn(e.y2)&&!Wn(e.xError)&&!Wn(e.xError2)&&!Wn(e.yError)&&!Wn(e.yError2)}function m5t(e){return Wn(e.x2)||Wn(e.y2)}function g5t(e){return Wn(e.xError)||Wn(e.xError2)||Wn(e.yError)||Wn(e.yError2)}function Y3e(e,t,n){const{mark:r,encoding:i,params:o,projection:s,...a}=e,l=$h(r)?r:{type:r};o&&Ct(jPe(t));const{orient:u,inputType:c}=h5t(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:f,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:p,continuousAxis:m}=U3e(e,u,t),{errorBarSpecificAggregate:g,postAggregateCalculates:v,tooltipSummary:y,tooltipTitleWithFieldName:x}=y5t(l,d,f,h,p,c,t,n),{[m]:E,[m==="x"?"x2":"y2"]:_,[m==="x"?"xError":"yError"]:S,[m==="x"?"xError2":"yError2"]:T,...k}=i,{bins:R,timeUnits:I,aggregate:P,groupby:N,encoding:M}=j3e(k,n),O=[...P,...g],j=c!=="raw"?[]:N,U=eq(y,d,M,x);return{transform:[...a.transform??[],...R,...I,...O.length===0?[]:[{aggregate:O,groupby:j}],...v],groupby:j,continuousAxisChannelDef:d,continuousAxis:m,encodingWithoutContinuousAxis:M,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:U}}function y5t(e,t,n,r,i,o,s,a){let l=[],u=[];const c=t.field;let d,f=!1;if(o==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&Ct(kMt(h,p,s)),p==="stderr"||p==="stdev")l=[{op:p,field:c,as:`extent_${c}`},{op:h,field:c,as:`center_${c}`}],u=[{calculate:`${ui(`center_${c}`)} + ${ui(`extent_${c}`)}`,as:`upper_${c}`},{calculate:`${ui(`center_${c}`)} - ${ui(`extent_${c}`)}`,as:`lower_${c}`}],d=[{fieldPrefix:"center_",titlePrefix:Nk(h)},{fieldPrefix:"upper_",titlePrefix:Bhe(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:Bhe(h,p,"-")}],f=!0;else{let m,g,v;p==="ci"?(m="mean",g="ci0",v="ci1"):(m="median",g="q1",v="q3"),l=[{op:g,field:c,as:`lower_${c}`},{op:v,field:c,as:`upper_${c}`},{op:m,field:c,as:`center_${c}`}],d=[{fieldPrefix:"upper_",titlePrefix:Ww({field:c,aggregate:v,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Ww({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Ww({field:c,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&Ct(TMt(e.center,e.extent)),o==="aggregated-upper-lower"?(d=[],u=[{calculate:ui(n.field),as:`upper_${c}`},{calculate:ui(c),as:`lower_${c}`}]):o==="aggregated-error"&&(d=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`${ui(c)} + ${ui(r.field)}`,as:`upper_${c}`}],i?u.push({calculate:`${ui(c)} + ${ui(i.field)}`,as:`lower_${c}`}):u.push({calculate:`${ui(c)} - ${ui(r.field)}`,as:`lower_${c}`}));for(const h of u)d.push({fieldPrefix:h.as.substring(0,6),titlePrefix:ub(ub(h.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:d,tooltipTitleWithFieldName:f}}function Bhe(e,t,n){return`${Nk(e)} ${n} ${t}`}const OZ="errorband",v5t=["band","borders"],b5t=new N5(OZ,K3e);function K3e(e,{config:t}){e={...e,encoding:M5(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:s,outerSpec:a,tooltipEncoding:l}=Y3e(e,OZ,t),u=s,c=DZ(u,i,r,o,t.errorband),d=e.encoding.x!==void 0&&e.encoding.y!==void 0;let f={type:d?"area":"rect"},h={type:d?"line":"rule"};const p={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return d?(f={...f,...p,ariaRoleDescription:"errorband"},h={...h,...p,aria:!1}):u.interpolate?Ct(Dhe("interpolate")):u.tension&&Ct(Dhe("tension")),{...a,transform:n,layer:[...c({partName:"band",mark:f,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:l})]}}const X3e={};function NZ(e,t,n){const r=new N5(e,t);X3e[e]={normalizer:r,parts:n}}function w5t(){return vt(X3e)}NZ(jN,V3e,l5t);NZ(PZ,G3e,d5t);NZ(OZ,K3e,v5t);const x5t=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Q3e={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},J3e={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},C5t=vt(Q3e),_5t=vt(J3e),E5t={header:1,headerRow:1,headerColumn:1,headerFacet:1},Z3e=vt(E5t),eOe=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],S5t={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},T5t={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},of="_vgsid_",k5t={point:{on:"click",fields:[of],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function MZ(e){return e==="legend"||!!e?.legend}function U9(e){return MZ(e)&&Lr(e)}function $Z(e){return!!e?.select}function tOe(e){const t=[];for(const n of e||[]){if($Z(n))continue;const{expr:r,bind:i,...o}=n;if(i&&r){const s={...o,bind:i,init:r};t.push(s)}else{const s={...o,...r?{update:r}:{},...i?{bind:i}:{}};t.push(s)}}return t}function A5t(e){return $5(e)||FZ(e)||LZ(e)}function LZ(e){return bt(e,"concat")}function $5(e){return bt(e,"vconcat")}function FZ(e){return bt(e,"hconcat")}function nOe({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function Lh(e){return bt(e,"step")}function zhe(e){return bt(e,"view")||bt(e,"width")||bt(e,"height")}const Uhe=20,R5t={align:1,bounds:1,center:1,columns:1,spacing:1},I5t=vt(R5t);function D5t(e,t,n){const r=n[t],i={},{spacing:o,columns:s}=r;o!==void 0&&(i.spacing=o),s!==void 0&&(I5(e)&&!zk(e.facet)||LZ(e))&&(i.columns=s),$5(e)&&(i.columns=1);for(const a of I5t)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=Ji(l)?l:{row:l.row??o,column:l.column??o}}else i[a]=e[a];return i}function tq(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function nq(e,t){const n=BN(e,t);return Lh(n)?n.step:rOe}function BN(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return Fo(n,{step:e.step})}const rOe=20,P5t={continuousWidth:200,continuousHeight:200,step:rOe},O5t={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:P5t,mark:E6t,arc:{},area:{},bar:A6t,circle:{},geoshape:{},image:{},line:{},point:{},rect:bZ,rule:{color:"black"},square:{},text:{color:"black"},tick:R6t,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:o6t,projection:{},legend:S5t,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:k5t,style:{},title:{},facet:{spacing:Uhe},concat:{spacing:Uhe},normalizedNumberFormat:".0%"},wp=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],Hhe={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},qhe={blue:wp[0],orange:wp[1],red:wp[2],teal:wp[3],green:wp[4],yellow:wp[5],purple:wp[6],pink:wp[7],brown:wp[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function N5t(e={}){return{signals:[{name:"color",value:Lr(e)?{...qhe,...e}:qhe}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function M5t(e){return{signals:[{name:"fontSize",value:Lr(e)?{...Hhe,...e}:Hhe}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function $5t(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function iOe(e){const t=vt(e||{}),n={};for(const r of t){const i=e[r];n[r]=Vk(i)?PPe(i):Iu(i)}return n}function L5t(e){const t=vt(e),n={};for(const r of t)n[r]=iOe(e[r]);return n}const F5t=[...h3e,...M3e,...Z3e,"background","padding","legend","lineBreak","scale","style","title","view"];function oOe(e={}){const{color:t,font:n,fontSize:r,selection:i,...o}=e,s=uPe({},qn(O5t),n?$5t(n):{},t?N5t(t):{},r?M5t(r):{},o||{});i&&f5(s,"selection",i,!0);const a=Ql(s,F5t);for(const l of["background","lineBreak","padding"])s[l]&&(a[l]=Iu(s[l]));for(const l of h3e)s[l]&&(a[l]=Js(s[l]));for(const l of M3e)s[l]&&(a[l]=iOe(s[l]));for(const l of Z3e)s[l]&&(a[l]=Js(s[l]));if(s.legend&&(a.legend=Js(s.legend)),s.scale){const{invalid:l,...u}=s.scale,c=Js(l,{level:1});a.scale={...Js(u),...vt(c).length>0?{invalid:c}:{}}}return s.style&&(a.style=L5t(s.style)),s.title&&(a.title=Js(s.title)),s.view&&(a.view=Js(s.view)),a}const j5t=new Set(["view",...v6t]),B5t=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],z5t={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],..._6t};function U5t(e){e=qn(e);for(const t of B5t)delete e[t];if(e.axis)for(const t in e.axis)Vk(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of x5t)delete e.legend[t];if(e.mark){for(const t of Ohe)delete e.mark[t];e.mark.tooltip&&Lr(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(tOe(e.params)),delete e.params);for(const t of j5t){for(const r of Ohe)delete e[t][r];const n=z5t[t];if(n)for(const r of n)delete e[t][r];q5t(e,t)}for(const t of w5t())delete e[t];H5t(e);for(const t in e)Lr(e[t])&&yi(e[t])&&delete e[t];return yi(e)?void 0:e}function H5t(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=DPe(e.title);yi(t)||(e.style["group-title"]={...e.style["group-title"],...t}),yi(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),yi(r)?delete e.title:e.title=r}function q5t(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const o={...i,...e.style[n??t]};yi(o)||(e.style[n??t]=o),delete e[t]}function L5(e){return bt(e,"layer")}function V5t(e){return bt(e,"repeat")}function W5t(e){return!Yt(e.repeat)&&bt(e.repeat,"layer")}class jZ{map(t,n){return I5(t)?this.mapFacet(t,n):V5t(t)?this.mapRepeat(t,n):FZ(t)?this.mapHConcat(t,n):$5(t)?this.mapVConcat(t,n):LZ(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(L5(t))return this.mapLayer(t,n);if(Wm(t))return this.mapUnit(t,n);throw new Error(eZ(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(o=>this.map(o,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const G5t={zero:1,center:1,normalize:1};function Y5t(e){return Go(G5t,e)}const K5t=new Set([c3e,T5,S5,ON,A5,yZ,vZ,k5,d3e,gZ]),X5t=new Set([T5,S5,c3e]);function Y1(e){return Et(e)&&Ux(e)==="quantitative"&&!e.bin}function Vhe(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",o=t==="x"&&["bar","area"].includes(r),s=e[t],a=e[i];if(Et(s)&&Et(a))if(Y1(s)&&Y1(a)){if(s.stack)return t;if(a.stack)return i;const l=Et(s)&&!!s.aggregate,u=Et(a)&&!!a.aggregate;if(l!==u)return l?t:i;if(o){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(Y1(s))return t;if(Y1(a))return i}else{if(Y1(s))return o&&n==="vertical"?void 0:t;if(Y1(a))return o&&n==="horizontal"?void 0:i}}function Q5t(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function sOe(e,t){const n=$h(e)?e:{type:e},r=n.type;if(!K5t.has(r))return null;const i=Vhe(t,"x",n)||Vhe(t,"theta",n);if(!i)return null;const o=t[i],s=Et(o)?Ot(o,{}):void 0,a=Q5t(i),l=[],u=new Set;if(t[a]){const m=t[a],g=Et(m)?Ot(m,{}):void 0;g&&g!==s&&(l.push(a),u.add(g))}const c=a==="x"?"xOffset":"yOffset",d=t[c],f=Et(d)?Ot(d,{}):void 0;f&&f!==s&&(l.push(c),u.add(f));const h=i4t.reduce((m,g)=>{if(g!=="tooltip"&&$v(t,g)){const v=t[g];for(const y of Lo(v)){const x=rf(y);if(x.aggregate)continue;const E=Ot(x,{});(!E||!u.has(E))&&m.push({channel:g,fieldDef:x})}}return m},[]);let p;return o.stack!==void 0?Ok(o.stack)?p=o.stack?"zero":null:p=o.stack:X5t.has(r)&&(p="zero"),!p||!Y5t(p)||F3e(t)&&h.length===0?null:(o?.scale?.type&&o?.scale?.type!==ea.LINEAR&&o?.stack&&Ct(_Mt(o.scale.type)),Wn(t[tp(i)])?(o.stack!==void 0&&Ct(CMt(i)),null):(Et(o)&&o.aggregate&&!y4t.has(o.aggregate)&&Ct(EMt(o.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:o.impute===null?!1:cy(r),stackBy:h,offset:p}))}function aOe(e,t,n){const r=Js(e),i=gi("orient",r,n);if(r.orient=t$t(r.type,t,i),i!==void 0&&i!==r.orient&&Ct(sMt(r.orient,i)),r.type==="bar"&&r.orient){const l=gi("cornerRadiusEnd",r,n);if(l!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:T6t[r.orient];for(const c of u)r[c]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const o=gi("opacity",r,n),s=gi("fillOpacity",r,n);return o===void 0&&s===void 0&&(r.opacity=Z5t(r.type,t)),gi("cursor",r,n)===void 0&&(r.cursor=J5t(r,t,n)),r}function J5t(e,t,n){return t.href||e.href||gi("href",e,n)?"pointer":e.cursor}function Z5t(e,t){if(pr([A5,gZ,yZ,vZ],e)&&!F3e(t))return .7}function e$t(e,t,{graticule:n}){if(n)return!1;const r=Mh("filled",e,t),i=e.type;return Fo(r,i!==A5&&i!==k5&&i!==ON)}function t$t(e,t,n){switch(e){case A5:case yZ:case vZ:case d3e:case g6t:case m6t:return}const{x:r,y:i,x2:o,y2:s}=t;switch(e){case T5:if(Et(r)&&(Qs(r.bin)||Et(i)&&i.aggregate&&!r.aggregate))return"vertical";if(Et(i)&&(Qs(i.bin)||Et(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||o){if(n)return n;if(!o)return(Et(r)&&r.type===hb&&!Pi(r.bin)||MN(r))&&Et(i)&&Qs(i.bin)?"horizontal":"vertical";if(!s)return(Et(i)&&i.type===hb&&!Pi(i.bin)||MN(i))&&Et(r)&&Qs(r.bin)?"vertical":"horizontal"}case ON:if(o&&!(Et(r)&&Qs(r.bin))&&s&&!(Et(i)&&Qs(i.bin)))return;case S5:if(s)return Et(i)&&Qs(i.bin)?"horizontal":"vertical";if(o)return Et(r)&&Qs(r.bin)?"vertical":"horizontal";if(e===ON){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case k5:case gZ:{const a=Lhe(r),l=Lhe(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const u=El(r)&&r.type===Bx,c=El(i)&&i.type===Bx;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}function n$t(e){const{point:t,line:n,...r}=e;return vt(r).length>1?r:r.type}function r$t(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:Ql(e[t],["point","line"])});return e}function H9(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Lr(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Lr(t.point)?t.point:{}:void 0}function Whe(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class i$t{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(Wm(t)){const{mark:r,encoding:i}=t,o=$h(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!H9(o,n[o.type],i);case"area":return!!H9(o,n[o.type],i)||!!Whe(o,n[o.type])}}return!1}run(t,n,r){const{config:i}=n,{params:o,projection:s,mark:a,name:l,encoding:u,...c}=t,d=M5(u,i),f=$h(a)?a:{type:a},h=H9(f,i[f.type],d),p=f.type==="area"&&Whe(f,i[f.type]),m=[{name:l,...o?{params:o}:{},mark:n$t({...f.type==="area"&&f.opacity===void 0&&f.fillOpacity===void 0?{opacity:.7}:{},...f}),encoding:Ql(d,["shape"])}],g=sOe(aOe(f,d,i),d);let v=d;if(g){const{fieldChannel:y,offset:x}=g;v={...d,[y]:{...d[y],...x?{stack:x}:{}}}}return v=Ql(v,["y2","x2"]),p&&m.push({...s?{projection:s}:{},mark:{type:"line",...$x(f,["clip","interpolate","tension","tooltip"]),...p},encoding:v}),h&&m.push({...s?{projection:s}:{},mark:{type:"point",opacity:1,filled:!0,...$x(f,["clip","tooltip"]),...h},encoding:v}),r({...c,layer:m},{...n,config:r$t(i)})}}function o$t(e,t){return t?zk(e)?uOe(e,t):lOe(e,t):e}function q9(e,t){return t?uOe(e,t):e}function rq(e,t,n){const r=t[e];if(z6t(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};Ct(L4t(r.repeat));return}return t}function lOe(e,t){if(e=rq("field",e,t),e!==void 0){if(e===null)return null;if(SZ(e)&&nm(e.sort)){const n=rq("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function Ghe(e,t){if(Et(e))return lOe(e,t);{const n=rq("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function Yhe(e,t){if(Wn(e)){const n=Ghe(e,t);if(n)return n;if(Uk(e))return{condition:e.condition}}else{if(Hk(e)){const n=Ghe(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function uOe(e,t){const n={};for(const r in e)if(bt(e,r)){const i=e[r];if(Yt(i))n[r]=i.map(o=>Yhe(o,t)).filter(o=>o);else{const o=Yhe(i,t);o!==void 0&&(n[r]=o)}}return n}class s$t{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(Wm(t)){const{encoding:n,mark:r}=t;if(r==="line"||$h(r)&&r.type==="line")for(const i of t4t){const o=Wb(i),s=n[o];if(n[i]&&(Et(s)&&!Qs(s.bin)||rp(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:o}=t;return Ct(oMt(!!i.x2,!!i.y2)),r({...t,mark:Lr(o)?{...o,type:"rule"}:"rule"},n)}}class a$t extends jZ{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[u5t,f5t,b5t,new i$t,new s$t]}map(t,n){if(Wm(t)){const r=$v(t.encoding,em),i=$v(t.encoding,tm),o=$v(t.encoding,p5);if(r||i||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,o=q9(t.encoding,n.repeater),s={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...o?{encoding:o}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(s,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(s,n.config))return l.run(s,n,a);return s}mapRepeat(t,n){return W5t(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...o}=t,{row:s,column:a,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return s||a?this.mapRepeat({...t,repeat:{...s?{row:s}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:i}},n):{...o,layer:l.map(d=>{const f={...u,layer:d},h=`${(i.name?`${i.name}_`:"")+c}child__layer_${Ki(d)}`,p=this.mapLayerOrUnit(i,{...n,repeater:f,repeaterPrefix:h});return p.name=h,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:o,...s}=t;!Yt(r)&&t.columns&&(t=Ql(t,["columns"]),Ct(khe("repeat")));const a=[],{repeater:l={},repeaterPrefix:u=""}=n,c=!Yt(r)&&r.row||[l?l.row:null],d=!Yt(r)&&r.column||[l?l.column:null],f=Yt(r)&&r||[l?l.repeat:null];for(const p of f)for(const m of c)for(const g of d){const v={repeat:p,row:m,column:g,layer:l.layer},y=(i.name?`${i.name}_`:"")+u+"child__"+(Yt(r)?`${Ki(p)}`:(r.row?`row_${Ki(m)}`:"")+(r.column?`column_${Ki(g)}`:"")),x=this.map(i,{...n,repeater:v,repeaterPrefix:y});x.name=y,a.push(Ql(x,["data"]))}const h=Yt(r)?t.columns:r.column?r.column.length:1;return{data:i.data??o,align:"all",...s,columns:h,concat:a}}mapFacet(t,n){const{facet:r}=t;return zk(r)&&t.columns&&(t=Ql(t,["columns"]),Ct(khe("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:o,parentProjection:s,config:a}=n,l=Xhe({parentProjection:s,projection:i}),u=Khe({parentEncoding:o,encoding:q9(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...u?{encoding:u}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:o,...s}=t.encoding,{mark:a,width:l,projection:u,height:c,view:d,params:f,encoding:h,...p}=t,{facetMapping:m,layout:g}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},n),v=q9(s,n.repeater);return this.mapFacet({...p,...g,facet:m,spec:{...l?{width:l}:{},...c?{height:c}:{},...d?{view:d}:{},...u?{projection:u}:{},mark:a,encoding:v,...f?{params:f}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:o}=t;if(r||i){o&&Ct(rMt([...r?[em]:[],...i?[tm]:[]]));const s={},a={};for(const l of[em,tm]){const u=t[l];if(u){const{align:c,center:d,spacing:f,columns:h,...p}=u;s[l]=p;for(const m of["align","center","spacing"])u[m]!==void 0&&(a[m]??(a[m]={}),a[m][l]=u[m])}}return{facetMapping:s,layout:a}}else{const{align:s,center:a,spacing:l,columns:u,...c}=o;return{facetMapping:o$t(c,n.repeater),layout:{...s?{align:s}:{},...a?{center:a}:{},...l?{spacing:l}:{},...u?{columns:u}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:o,projection:s,...a}=t,l={...i,parentEncoding:Khe({parentEncoding:n,encoding:o,layer:!0}),parentProjection:Xhe({parentProjection:r,projection:s})};return super.mapLayer({...a,...t.name?{name:[l.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}},l)}}function Khe({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...vt(e),...vt(t)]);for(const o of i){const s=t[o],a=e[o];if(Wn(s)){const l={...a,...s};r[o]=l}else Hk(s)?r[o]={...s,condition:{...a,...s.condition}}:s||s===null?r[o]=s:(n||nf(a)||tn(a)||Wn(a)||Yt(a))&&(r[o]=a)}}else r=t;return!r||yi(r)?void 0:r}function Xhe(e){const{parentProjection:t,projection:n}=e;return t&&n&&Ct(W4t({parentProjection:t,projection:n})),n??t}function BZ(e){return bt(e,"filter")}function l$t(e){return bt(e,"stop")}function cOe(e){return bt(e,"lookup")}function u$t(e){return bt(e,"data")}function c$t(e){return bt(e,"param")}function d$t(e){return bt(e,"pivot")}function f$t(e){return bt(e,"density")}function h$t(e){return bt(e,"quantile")}function p$t(e){return bt(e,"regression")}function m$t(e){return bt(e,"loess")}function g$t(e){return bt(e,"sample")}function y$t(e){return bt(e,"window")}function v$t(e){return bt(e,"joinaggregate")}function b$t(e){return bt(e,"flatten")}function w$t(e){return bt(e,"calculate")}function dOe(e){return bt(e,"bin")}function x$t(e){return bt(e,"impute")}function C$t(e){return bt(e,"timeUnit")}function _$t(e){return bt(e,"aggregate")}function E$t(e){return bt(e,"stack")}function S$t(e){return bt(e,"fold")}function T$t(e){return bt(e,"extent")&&!bt(e,"density")&&!bt(e,"regression")}function k$t(e){return e.map(t=>BZ(t)?{filter:qw(t.filter,JMt)}:t)}class A$t extends jZ{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=Qhe(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=Qhe(t,n),t.encoding){const r={};for(const[i,o]of M0(t.encoding))r[i]=fOe(o,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:M0(r).map(([o,s])=>{const{init:a,bind:l,empty:u,...c}=s;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[o]=u!=="none";for(const d of aa(n.selectionPredicates[o]??{}))d.empty=u!=="none";return{name:o,value:a,select:c,bind:l}})}:t}}function Qhe(e,t){const{transform:n,...r}=e;if(n){const i=n.map(o=>{if(BZ(o))return{filter:iq(o,t)};if(dOe(o)&&Gb(o.bin))return{...o,bin:hOe(o.bin)};if(cOe(o)){const{selection:s,...a}=o.from;return s?{...o,from:{param:s,...a}}:o}return o});return{...r,transform:i}}return e}function fOe(e,t){const n=qn(e);if(Et(n)&&Gb(n.bin)&&(n.bin=hOe(n.bin)),Qb(n)&&n.scale?.domain?.selection){const{selection:r,...i}=n.scale.domain;n.scale.domain={...i,...r?{param:r}:{}}}if(Uk(n))if(Yt(n.condition))n.condition=n.condition.map(r=>{const{selection:i,param:o,test:s,...a}=r;return o?r:{...a,test:iq(r,t)}});else{const{selection:r,param:i,test:o,...s}=fOe(n.condition,t);n.condition=i?n.condition:{...s,test:iq(n.condition,t)}}return n}function hOe(e){const t=e.extent;if(t?.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function iq(e,t){const n=r=>qw(r,i=>{var o;const s=t.emptySelections[i]??!0,a={param:i,empty:s};return(o=t.selectionPredicates)[i]??(o[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):qw(e.test||e.filter,r=>r.selection?n(r.selection):r)}class oq extends jZ{map(t,n){const r=n.selections??[];if(t.params&&!Wm(t)){const i=[];for(const o of t.params)$Z(o)?r.push(o):i.push(o);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),o=[];for(const s of r)if(!s.views||!s.views.length)o.push(s);else for(const a of s.views)(Kn(a)&&(a===t.name||i.includes(a))||Yt(a)&&a.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&o.push(s);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=oq.prototype[e];oq.prototype[e]=function(n,r){return t.call(this,n,R$t(n,r))}}function R$t(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function pOe(e,t){t===void 0&&(t=oOe(e.config));const n=O$t(e,t),{width:r,height:i}=e,o=N$t(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const I$t=new a$t,D$t=new A$t,P$t=new oq;function O$t(e,t={}){const n={config:t};return P$t.map(I$t.map(D$t.map(e,n),n),n)}function Jhe(e){return Kn(e)?{type:e}:e??{}}function N$t(e,t,n){let{width:r,height:i}=t;const o=Wm(e)||L5(e),s={};o?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&(Ct(_he("width")),r=void 0),i=="container"&&(Ct(_he("height")),i=void 0));const a={type:"pad",...s,...n?Jhe(n.autosize):{},...Jhe(e.autosize)};if(a.type==="fit"&&!o&&(Ct(T4t),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&Ct(Ehe("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&Ct(Ehe("height")),!Mu(a,{type:"pad"}))return a}function M$t(e){return["fit","fit-x","fit-y"].includes(e)}function $$t(e){return e?`fit-${b5(e)}`:"fit"}const L$t=["background","padding"];function Zhe(e,t){const n={};for(const r of L$t)e&&e[r]!==void 0&&(n[r]=Iu(e[r]));return t&&(n.params=e.params),n}class Gm{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new Gm(qn(this.explicit),qn(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return Fo(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of vt(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Kf(e){return{explicit:!0,value:e}}function Eu(e){return{explicit:!1,value:e}}function mOe(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:F5(t,n,r,i)}}function F5(e,t,n,r){return e.explicit&&t.explicit&&Ct(mMt(n,r,e.value,t.value)),e}function F0(e,t,n,r,i=F5){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:Mu(e.value,t.value)?e:i(e,t,n,r)}class F$t extends Gm{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function Vx(e){return bt(e,"url")}function sT(e){return bt(e,"values")}function gOe(e){return bt(e,"name")&&!Vx(e)&&!sT(e)&&!h0(e)}function h0(e){return e&&(yOe(e)||vOe(e)||zZ(e))}function yOe(e){return bt(e,"sequence")}function vOe(e){return bt(e,"sphere")}function zZ(e){return bt(e,"graticule")}var ao;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(ao||(ao={}));function bOe({invalid:e,isPath:t}){switch(p3e(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function j$t(e){const{marks:t,scales:n}=bOe(e);return t===n?ao.Main:n==="include-invalid-values"?ao.PreFilterInvalid:ao.PostFilterInvalid}const B$t="view",zN="[",UN="]",wOe="{",xOe="}",z$t=":",COe=",",U$t="@",H$t=">",q$t=/[[\]{}]/,V$t={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let _Oe,EOe;function VC(e,t,n){return _Oe=t||B$t,EOe=V$t,SOe(e.trim()).map(sq)}function W$t(e){return EOe[e]}function HS(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.indexOf(a)>=0?--s:r&&r.indexOf(a)>=0&&++s}return t}function SOe(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=HS(e,i,COe,zN+wOe,UN+xOe),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function sq(e){return e[0]==="["?G$t(e):Y$t(e)}function G$t(e){const t=e.length;let n=1,r;if(n=HS(e,n,UN,zN,UN),n===t)throw"Empty between selector: "+e;if(r=SOe(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==H$t)throw"Expected '>' after between selector: "+e;r=r.map(sq);const i=sq(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function Y$t(e){const t={source:_Oe},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,l,u;if(e[s-1]===xOe){if(a=e.lastIndexOf(wOe),a>=0){try{r=K$t(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===U$t&&(i=++a),l=HS(e,a,z$t),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=HS(e,a,zN),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=HS(e,a,UN),a===s)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==zN)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||q$t.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):W$t(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function K$t(e){const t=e.split(COe);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}class pi{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){Ct(H4t);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class Jl extends pi{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${mPe()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function V9(e){return e.as!==void 0}function epe(e){return`${e}_end`}class Ch extends pi{clone(){return new Ch(null,qn(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{const{field:a,timeUnit:l}=o;if(l){let u;if(Xb(l)){if(oo(n)){const{mark:c,markDef:d,config:f}=n,h=L0({fieldDef:o,markDef:d,config:f});(oT(c)||h)&&(u={timeUnit:Ms(l),field:a})}}else u={as:Ot(o,{forAs:!0}),field:a,timeUnit:l};if(oo(n)){const{mark:c,markDef:d,config:f}=n,h=L0({fieldDef:o,markDef:d,config:f});oT(c)&&jo(s)&&h!==.5&&(u.rectBandPosition=h)}u&&(i[xr(u)]=u)}return i},{});return yi(r)?null:new Ch(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},o=Ms(r),s={...i,timeUnit:o};return new Ch(t,{[xr(s)]:s})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of M0(this.timeUnits)){const o=V9(i)?i.as:`${i.field}_end`;t.has(o)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(aa(this.timeUnits).map(t=>V9(t)?t.as:epe(t.field)))}dependentFields(){return new Set(aa(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${xr(this.timeUnits)}`}assemble(){const t=[];for(const n of aa(this.timeUnits)){const{rectBandPosition:r}=n,i=Ms(n.timeUnit);if(V9(n)){const{field:o,as:s}=n,{unit:a,utc:l,...u}=i,c=[s,`${s}_end`];t.push({field:zc(o),type:"timeunit",...a?{units:_5(a)}:{},...l?{timezone:"utc"}:{},...u,as:c}),t.push(...tpe(c,r,i))}else if(n){const{field:o}=n,s=o.replaceAll("\\.","."),a=TOe({timeUnit:i,field:s}),l=epe(s);t.push({type:"formula",expr:a,as:l}),t.push(...tpe([s,l],r,i))}}return t}}const j5="offsetted_rect_start",B5="offsetted_rect_end";function TOe({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,o=XPe(r),{part:s,step:a}=e3e(o,e.step);return`${i?"utcOffset":"timeOffset"}('${s}', ${ui(t)}, ${n?-a:a})`}function tpe([e,t],n,r){if(n!==void 0&&n!==.5){const i=ui(e),o=ui(t);return[{type:"formula",expr:npe([TOe({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${j5}`},{type:"formula",expr:npe([i,o],n+.5),as:`${e}_${B5}`}]}return[]}function npe([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const Wk="_tuple_fields";class X$t{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const Q$t={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new X$t),o={},s={},a=new Set,l=(p,m)=>{const g=m==="visual"?p.channel:p.field;let v=Ki(`${r}_${g}`);for(let y=1;a.has(v);y++)v=Ki(`${r}_${g}_${y}`);return a.add(v),{[m]:v}},u=t.type,c=e.config.selection[u],d=n.value!==void 0?Lo(n.value):null;let{fields:f,encodings:h}=Lr(n.select)?n.select:{};if(!f&&!h&&d){for(const p of d)if(Lr(p))for(const m of vt(p))e4t(m)?(h||(h=[])).push(m):u==="interval"?(Ct($4t),h=c.encodings):(f??(f=[])).push(m)}!f&&!h&&(h=c.encodings,"fields"in c&&(f=c.fields));for(const p of h??[]){const m=e.fieldDef(p);if(m){let g=m.field;if(m.aggregate){Ct(k4t(p,m.aggregate));continue}else if(!g){Ct(The(p));continue}if(m.timeUnit&&!Xb(m.timeUnit)){g=e.vgField(p);const v={timeUnit:m.timeUnit,as:g,field:m.field};s[xr(v)]=v}if(!o[g]){const v=u==="interval"&&np(p)&&tf(e.getScaleComponent(p).get("type"))?"R":m.bin?"R-RE":"E",y={field:g,channel:p,type:v,index:i.items.length};y.signals={...l(y,"data"),...l(y,"visual")},i.items.push(o[g]=y),i.hasField[g]=o[g],i.hasSelectionId=i.hasSelectionId||g===of,xPe(p)?(y.geoChannel=p,y.channel=wPe(p),i.hasChannel[y.channel]=o[g]):i.hasChannel[p]=o[g]}}else Ct(The(p))}for(const p of f??[]){if(i.hasField[p])continue;const m={type:"E",field:p,index:i.items.length};m.signals={...l(m,"data")},i.items.push(m),i.hasField[p]=m,i.hasSelectionId=i.hasSelectionId||p===of}d&&(t.init=d.map(p=>i.items.map(m=>Lr(p)?p[m.geoChannel||m.channel]!==void 0?p[m.geoChannel||m.channel]:p[m.field]:p))),yi(s)||(i.timeUnit=new Ch(null,s))},signals:(e,t,n)=>{const r=t.name+Wk;return n.filter(o=>o.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(IOe)})}},kOe="_curr",t3="anim_value",pw="anim_clock",aq="eased_anim_clock",AOe="min_extent",ROe="max_range_extent",W9="last_tick_at",G9="is_playing",J$t=1/60*1e3,Z$t=(e,t)=>[{name:aq,update:pw},{name:`${e}_domain`,init:`domain('${t}')`},{name:AOe,init:`extent(${e}_domain)[0]`},{name:ROe,init:`extent(range('${t}'))[1]`},{name:t3,update:`invert('${t}', ${aq})`}],eLt={defined:e=>e.type==="point",topLevelSignals:(e,t,n)=>(_h(t)&&(n=n.concat([{name:pw,init:"0",on:[{events:{type:"timer",throttle:J$t},update:`${G9} ? (${pw} + (now() - ${W9}) > ${ROe} ? 0 : ${pw} + (now() - ${W9})) : ${pw}`}]},{name:W9,init:"now()",on:[{events:[{signal:pw},{signal:G9}],update:"now()"}]},{name:G9,init:"true"}])),n),signals:(e,t,n)=>{const r=t.name,i=r+Wk,o=t.project,s="(item().isVoronoi ? datum.datum : datum)",a=aa(e.component.selection??{}).reduce((c,d)=>d.type==="interval"?c.concat(d.name+Gw):c,[]).map(c=>`indexof(item().mark.name, '${c}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let u=`unit: ${Lv(e)}, `;if(t.project.hasSelectionId)u+=`${of}: ${s}[${$r(of)}]`;else if(_h(t))u+=`fields: ${i}, values: [${t3} ? ${t3} : ${AOe}]`;else{const c=o.items.map(d=>e.fieldDef(d.channel)?.bin?`[${s}[${$r(e.vgField(d.channel,{}))}], ${s}[${$r(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${s}[${$r(d.field)}]`).join(", ");u+=`fields: ${i}, values: [${c}]`}if(_h(t))return n.concat(Z$t(t.name,e.scaleName(iy)),[{name:r+xm,on:[{events:[{signal:aq},{signal:t3}],update:`{${u}}`,force:!0}]}]);{const c=t.events;return n.concat([{name:r+xm,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}}};function IOe(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=zc(i.field),i}function gb(e,t=!0,n=LNt){if(Yt(e)){const r=e.map(i=>gb(i,t,n));return t?`[${r.join(", ")}]`:r}else if(Kb(e))return n(t?fb(e):BMt(e));return t?n(vi(e)):e}function tLt(e,t){for(const n of aa(e.component.selection??{})){const r=n.name;let i=`${r}${xm}, ${n.resolve==="global"?"true":`{unit: ${Lv(e)}}`}`;for(const o of U5)o.defined(n)&&(o.signals&&(t=o.signals(e,n,t)),o.modifyExpr&&(i=o.modifyExpr(e,n,i)));t.push({name:r+ALt,on:[{events:{signal:n.name+xm},update:`modify(${$r(n.name+yb)}, ${i})`}]})}return UZ(t)}function nLt(e,t){if(e.component.selection&&vt(e.component.selection).length){const n=$r(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:VC("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return UZ(t)}function rLt(e,t){let n=!1;for(const r of aa(e.component.selection??{})){const i=r.name,o=$r(i+yb);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${GOe}(${o}, ${$r(a)}${l}`})}n=!0;for(const a of U5)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),UZ(t)}function iLt(e,t){const n=[],r=[],i=Lv(e,{escape:!1});for(const o of aa(e.component.selection??{})){const s={name:o.name+yb};if(o.project.hasSelectionId&&(s.transform=[{type:"collect",sort:{field:of}}]),o.init){const l=o.project.items.map(IOe);s.values=o.project.hasSelectionId?o.init.map(u=>({unit:i,[of]:gb(u,!1)[0]})):o.init.map(u=>({unit:i,fields:l,values:gb(u,!1)}))}if([...n,...t].filter(l=>l.name===o.name+yb).length||n.push(s),_h(o)&&t.length){const l=e.lookupDataSource(e.getDataName(ao.Main)),u=t.find(d=>d.name===l),c=u.transform.find(d=>d.type==="filter"&&d.expr.includes("vlSelectionTest"));if(c){u.transform=u.transform.filter(f=>f!==c);const d={name:u.name+kOe,source:u.name,transform:[c]};r.push(d)}}}return n.concat(t,r)}function DOe(e,t){for(const n of aa(e.component.selection??{}))for(const r of U5)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function oLt(e,t){for(const n of e.children)oo(n)&&(t=DOe(n,t));return t}function sLt(e,t,n,r){const i=iNe(e,t.param,t);return{signal:tf(n.get("type"))&&Yt(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function UZ(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const rm={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!np(i))continue;const o=e.getScaleComponent(i),s=o?o.get("type"):void 0;if(s=="sequential"&&Ct(D4t),!o||!tf(s)){Ct(I4t);continue}o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(a=>a.name===s.signals.data).length===0);if(!e.parent||uq(e)||r.length===0)return n;const i=n.find(s=>s.name===t.name);let o=i.update;if(o.includes(GOe))i.update=`{${r.map(s=>`${$r(zc(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const a=`${$r(zc(s.field))}: ${s.signals.data}`;o.includes(a)||(o=`${o.substring(0,o.length-1)}, ${a}}`)}i.update=o}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!uq(e))for(const r of t.scales){const i=n.find(o=>o.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function lq(e,t){return`domain(${$r(e.scaleName(t))})`}function uq(e){return e.parent&&XC(e.parent)&&(!e.parent.parent||uq(e.parent.parent))}const Gw="_brush",POe="_scale_trigger",uE="geo_interval_init_tick",OOe="_init",aLt="_center",lLt={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...Gn(n.select)?n.select:{}};i.fields=[of],i.encodings||(i.encodings=n.value?vt(n.value):[_f,Cf]),n.select={type:"interval",...i}}if(t.translate&&!rm.defined(t)){const i=`!event.item || event.item.mark.name !== ${$r(t.name+Gw)}`;for(const o of t.events){if(!o.between){Ct(`${o} is not an ordered event stream for interval selections.`);continue}const s=Lo((r=o.between[0]).filter??(r.filter=[]));s.includes(i)||s.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+xm,o=aa(t.project.hasChannel).filter(a=>a.channel===Zi||a.channel===js),s=t.init?t.init[0]:null;if(n.push(...o.reduce((a,l)=>a.concat(uLt(e,t,l,s&&s[l.index])),[])),e.hasProjection){const a=$r(e.projectionName()),l=e.projectionName()+aLt,{x:u,y:c}=t.project.hasChannel,d=u&&u.signals.visual,f=c&&c.signals.visual,h=u?s&&s[u.index]:`${l}[0]`,p=c?s&&s[c.index]:`${l}[1]`,m=_=>e.getSizeSignalRef(_).signal,g=`[[${d?d+"[0]":"0"}, ${f?f+"[0]":"0"}],[${d?d+"[1]":m("width")}, ${f?f+"[1]":m("height")}]]`;s&&(n.unshift({name:r+OOe,init:`[scale(${a}, [${u?h[0]:h}, ${c?p[0]:p}]), scale(${a}, [${u?h[1]:h}, ${c?p[1]:p}])]`}),(!u||!c)&&(n.find(S=>S.name===l)||n.unshift({name:l,update:`invert(${a}, [${m("width")}/2, ${m("height")}/2])`})));const v=`intersect(${g}, {markname: ${$r(e.getName("marks"))}}, unit.mark)`,y=`{unit: ${Lv(e)}}`,x=`vlSelectionTuples(${v}, ${y})`,E=o.map(_=>_.signals.visual);return n.concat({name:i,on:[{events:[...E.length?[{signal:E.join(" || ")}]:[],...s?[{signal:uE}]:[]],update:x}]})}else{if(!rm.defined(t)){const u=r+POe,c=o.map(d=>{const f=d.channel,{data:h,visual:p}=d.signals,m=$r(e.scaleName(f)),g=e.getScaleComponent(f).get("type"),v=tf(g)?"+":"";return`(!isArray(${h}) || (${v}invert(${m}, ${p})[0] === ${v}${h}[0] && ${v}invert(${m}, ${p})[1] === ${v}${h}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:o.map(d=>({scale:e.scaleName(d.channel)})),update:c.join(" && ")+` ? ${u} : {}`}]})}const a=o.map(u=>u.signals.data),l=`unit: ${Lv(e)}, fields: ${r+Wk}, values`;return n.concat({name:i,...s?{init:`{${l}: ${gb(s)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(oo(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===uE).length||n.unshift({name:uE,value:null,on:[{events:"timer{1}",update:`${uE} === null ? {} : ${uE}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,s=i?.signals.visual,a=o?.signals.visual,l=`data(${$r(t.name+yb)})`;if(rm.defined(t)||!i&&!o)return n;const u={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:o!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const g of vt(u))u[g]=[{test:`${l}.length && ${l}[0].unit === ${Lv(e)}`,...u[g]},{value:0}];const{fill:c,fillOpacity:d,cursor:f,...h}=t.mark,p=vt(h).reduce((g,v)=>(g[v]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,o!==void 0&&`${a}[0] !== ${a}[1]`].filter(y=>y).join(" && "),value:h[v]},{value:null}],g),{}),m=f??(t.translate?"move":null);return[{name:`${r+Gw}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:d}},update:u}},...n,{name:r+Gw,type:"rect",clip:!0,encode:{enter:{...m?{cursor:{value:m}}:{},fill:{value:"transparent"}},update:{...u,...p}}}]}};function uLt(e,t,n,r){const i=!e.hasProjection,o=n.channel,s=n.signals.visual,a=$r(i?e.scaleName(o):e.projectionName()),l=f=>`scale(${a}, ${f})`,u=e.getSizeSignalRef(o===Zi?"width":"height").signal,c=`${o}(unit)`,d=t.events.reduce((f,h)=>[...f,{events:h.between[0],update:`[${c}, ${c}]`},{events:h,update:`[${s}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const f=n.signals.data,h=rm.defined(t),p=e.getScaleComponent(o),m=p?p.get("type"):void 0,g=r?{init:gb(r,!0,l)}:{value:[]};return d.push({events:{signal:t.name+POe},update:tf(m)?`[${l(`${f}[0]`)}, ${l(`${f}[1]`)}]`:"[0, 0]"}),h?[{name:f,on:[]}]:[{name:s,...g,on:d},{name:f,...r?{init:gb(r)}:{},on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${a}, ${s})`}]}]}else{const f=o===Zi?0:1,h=t.name+OOe,p=r?{init:`[${h}[0][${f}], ${h}[1][${f}]]`}:{value:[]};return[{name:s,...p,on:d}]}}function WC({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const o=Uk(t)&&t.condition;let s=[];o&&(s=Lo(o).map(u=>{const c=i(u);if(B6t(u)){const{param:d,empty:f}=u;return{test:rNe(e,{param:d,empty:f}),...c}}else return{test:WN(e,u.test),...c}})),r!==void 0&&s.push(r);const a=i(t);return a!==void 0&&s.push(a),s.length>1||s.length===1&&s[0].test?{[n]:s}:s.length===1?{[n]:s[0]}:{}}function HZ(e,t="text"){const n=e.encoding[t];return WC({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>z5(r,e.config),invalidValueRef:void 0})}function z5(e,t,n="datum"){if(e){if(nf(e))return zi(e.value);if(Wn(e)){const{format:r,formatType:i}=LN(e);return _Z({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function NOe(e,t={}){const{encoding:n,markDef:r,config:i,stack:o}=e,s=n.tooltip;if(Yt(s))return{tooltip:rpe({tooltip:s},o,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return WC({model:e,channelDef:s,vgChannel:"tooltip",mainRefFn:u=>{const c=z5(u,i,a);if(c)return c;if(u===null)return;let d=gi("tooltip",r,i);if(d===!0&&(d={content:"encoding"}),Kn(d))return{value:d};if(Lr(d))return tn(d)?d:d.content==="encoding"?rpe(n,o,i,t):{signal:a}},invalidValueRef:void 0})}}function MOe(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},o=new Set,s=r?"datum.datum":"datum",a=[];function l(c,d){const f=Wb(d),h=El(c)?c:{...c,type:e[f].type},p=h.title||kZ(h,i),m=Lo(p).join(", ").replaceAll(/"/g,'\\"');let g;if(jo(d)){const v=d==="x"?"x2":"y2",y=rf(e[v]);if(Qs(h.bin)&&y){const x=Ot(h,{expr:s}),E=Ot(y,{expr:s}),{format:_,formatType:S}=LN(h);g=Bk(x,E,_,S,i),o.add(v)}}if((jo(d)||d===Jc||d===xf)&&t&&t.fieldChannel===d&&t.offset==="normalize"){const{format:v,formatType:y}=LN(h);g=_Z({fieldOrDatumDef:h,format:v,formatType:y,expr:s,config:i,normalizeStack:!0}).signal}g??(g=z5(h,i,s).signal),a.push({channel:d,key:m,value:g})}RZ(e,(c,d)=>{Et(c)?l(c,d):D5(c)&&l(c.condition,d)});const u={};for(const{channel:c,key:d,value:f}of a)!o.has(c)&&!u[d]&&(u[d]=f);return u}function rpe(e,t,n,{reactiveGeom:r}={}){const i=MOe(e,t,n,{reactiveGeom:r}),o=M0(i).map(([s,a])=>`"${s}": ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function cLt(e){const{markDef:t,config:n}=e,r=gi("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...dLt(e),...fLt(e)}}function dLt(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=gi("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:Go(_4t,t)?{}:{ariaRoleDescription:{value:t}}}function fLt(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return WC({model:e,channelDef:o,vgChannel:"description",mainRefFn:l=>z5(l,e.config),invalidValueRef:void 0});const s=gi("description",n,r);if(s!=null)return{description:zi(s)};if(r.aria===!1)return{};const a=MOe(t,i,r);if(!yi(a))return{description:{signal:M0(a).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function na(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:s}=n;let{defaultRef:a,defaultValue:l}=n;const u=i[e];a===void 0&&(l??(l=gi(e,r,o,{vgChannel:s,ignoreVgConfig:!Uk(u)})),l!==void 0&&(a=zi(l)));const c={markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},d=g3e({...c,scaleChannel:e,channelDef:u});return WC({model:t,channelDef:u,vgChannel:s??e,invalidValueRef:d,mainRefFn:h=>CZ({...c,channel:e,channelDef:h,stack:null,defaultRef:a})})}function $Oe(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:o}=n,s=t.filled??gi("filled",n,i),a=pr(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,l=gi(s===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[s===!0&&"color"]??a,u=gi(s===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[s===!1&&"color"],c=s?"fill":"stroke",d={...l?{fill:zi(l)}:{},...u?{stroke:zi(u)}:{}};return n.color&&(s?n.fill:n.stroke)&&Ct(zPe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...d,...na("color",e,{vgChannel:c,defaultValue:s?l:u}),...na("fill",e,{defaultValue:r.fill?l:void 0}),...na("stroke",e,{defaultValue:r.stroke?u:void 0})}}function hLt(e){const{encoding:t,mark:n}=e,r=t.order;return!cy(n)&&nf(r)?WC({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>zi(i.value),invalidValueRef:void 0}):{}}function Wx({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const o=`${e}Offset`,s=t[o],a=n[o];if((o==="xOffset"||o==="yOffset")&&a)return{offsetType:"encoding",offset:CZ({channel:o,channelDef:a,markDef:t,config:r?.config,scaleName:r.scaleName(o),scale:r.getScaleComponent(o),stack:null,defaultRef:zi(s),bandPosition:i})};const l=t[o];return l?{offsetType:"visual",offset:l}:{}}function pl(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:o,config:s,stack:a}=t,l=i[e],u=i[tp(e)],c=t.scaleName(e),d=t.getScaleComponent(e),{offset:f,offsetType:h}=Wx({channel:e,markDef:o,encoding:i,model:t,bandPosition:.5}),p=qZ({model:t,defaultPos:n,channel:e,scaleName:c,scale:d}),m=!l&&jo(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:pLt({channel:e,channelDef:l,channel2Def:u,markDef:o,config:s,scaleName:c,scale:d,stack:a,offset:f,defaultRef:p,bandPosition:h==="encoding"?0:void 0});return m?{[r||e]:m}:void 0}function pLt(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:s}=e;if(Wn(n)&&i&&t===i.fieldChannel){if(Et(n)){let a=n.bandPosition;if(a===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return NN({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:o})}return Mv(n,r,{suffix:"end"},{offset:o})}return xZ(e)}function qZ({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:s}=e;return()=>{const a=Wb(n),l=$0(n),u=gi(n,o,s,{vgChannel:l});if(u!==void 0)return US(n,u);switch(t){case"zeroOrMin":return ipe({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:a,config:s});case"zeroOrMax":return ipe({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:a,config:s});case"mid":return{...e[su(n)],mult:.5}}}}function ipe({mainChannel:e,config:t,...n}){const r=m3e(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:o,heightSignal:s}=i.zeroOrMax;return{signal:`min(${o},${s})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const mLt={left:"x",center:"xc",right:"x2"},gLt={top:"y",middle:"yc",bottom:"y2"};function LOe(e,t,n,r="middle"){if(e==="radius"||e==="theta")return $0(e);const i=e==="x"?"align":"baseline",o=gi(i,t,n);let s;return tn(o)?(Ct(iMt(i)),s=void 0):s=o,e==="x"?mLt[s||(r==="top"?"left":"center")]:gLt[s||r]}function HN(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?FOe(e,t,{defaultPos:n,defaultPos2:r}):pl(e,t,{defaultPos:n})}function FOe(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,s=tp(e),a=su(e),l=yLt(t,r,s),u=l[a]?LOe(e,i,o):$0(e);return{...pl(e,t,{defaultPos:n,vgChannel:u}),...l}}function yLt(e,t,n){const{encoding:r,mark:i,markDef:o,stack:s,config:a}=e,l=Wb(n),u=su(n),c=$0(n),d=r[l],f=e.scaleName(l),h=e.getScaleComponent(l),{offset:p}=n in r||n in o?Wx({channel:n,markDef:o,encoding:r,model:e}):Wx({channel:l,markDef:o,encoding:r,model:e});if(!d&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const g=su(n),v=e.markDef[g];return v!=null?{[g]:{value:v}}:{[c]:{field:e.getName(n)}}}const m=vLt({channel:n,channelDef:d,channel2Def:r[n],markDef:o,config:a,scaleName:f,scale:h,stack:s,offset:p,defaultRef:void 0});return m!==void 0?{[c]:m}:fI(n,o)||fI(n,{[n]:KH(n,o,a.style),[u]:KH(u,o,a.style)})||fI(n,a[i])||fI(n,a.mark)||{[c]:qZ({model:e,defaultPos:t,channel:n,scaleName:f,scale:h})()}}function vLt({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u}){return Wn(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?Mv(t,o,{suffix:"start"},{offset:l}):xZ({channel:e,channelDef:n,scaleName:o,scale:s,stack:a,markDef:r,config:i,offset:l,defaultRef:u})}function fI(e,t){const n=su(e),r=$0(e);if(t[r]!==void 0)return{[r]:US(e,t[r])};if(t[e]!==void 0)return{[r]:US(e,t[e])};if(t[n]){const i=t[n];if(pb(i))Ct(J4t(n));else return{[n]:US(e,i)}}}function wm(e,t){const{config:n,encoding:r,markDef:i}=e,o=i.type,s=tp(t),a=su(t),l=r[t],u=r[s],c=e.getScaleComponent(t),d=c?c.get("type"):void 0,f=i.orient,h=r[a]??r.size??gi("size",i,n,{vgChannel:a}),p=SPe(t),m=o==="bar"&&(t==="x"?f==="vertical":f==="horizontal")||o==="tick"&&(t==="y"?f==="vertical":f==="horizontal");return Et(l)&&(Pi(l.bin)||Qs(l.bin)||l.timeUnit&&!u)&&!(h&&!pb(h))&&!r[p]&&!$s(d)?xLt({fieldDef:l,fieldDef2:u,channel:t,model:e}):(Wn(l)&&$s(d)||m)&&!u?wLt(l,t,e):FOe(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function bLt(e,t,n,r,i,o,s){if(pb(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=Mh("minBandSize",{type:s},r);return{signal:c?`max(${Nd(c)}, ${u})`:u}}else i.band!==1&&(Ct(lMt(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(tn(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(Yb(l)&&Ji(l.step))return{value:l.step-2}}if(!o){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c,tickBandPaddingInner:d}=r.scale,f=Fo(l,s==="tick"?d:s==="bar"?u:c);if(tn(f))return{signal:`(1 - (${f.signal})) * ${e}`};if(Ji(f))return{signal:`${1-f} * ${e}`}}return{value:nq(r.view,e)-2}}function wLt(e,t,n){const{markDef:r,encoding:i,config:o,stack:s}=n,a=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=su(t),d=tp(t),f=SPe(t),h=n.scaleName(f),p=n.getScaleComponent(YJ(t)),m=r.type==="tick"||a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let g;(i.size||r.size)&&(m?g=na("size",n,{vgChannel:c,defaultRef:zi(r.size)}):Ct(fMt(r.type)));const v=!!g,y=_3e({channel:t,fieldDef:e,markDef:r,config:o,scaleType:(u||p)?.get("type"),useVlSizeChannel:m});g=g||{[c]:bLt(c,h||l,p||u,o,y,!!e,r.type)};const x=(u||p)?.get("type")==="band"&&pb(y)&&!v?"top":"middle",E=LOe(t,r,o,x),_=E==="xc"||E==="yc",{offset:S,offsetType:T}=Wx({channel:t,markDef:r,encoding:i,model:n,bandPosition:_?.5:0}),k=xZ({channel:t,channelDef:e,markDef:r,config:o,scaleName:l,scale:u,stack:s,offset:S,defaultRef:qZ({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:_?T==="encoding"?0:.5:tn(y)?{signal:`(1-${y})/2`}:pb(y)?(1-y.band)/2:0});if(c)return{[E]:k,...g};{const R=$0(d),I=g[c],P=S?{...I,offset:S}:I;return{[E]:k,[R]:Yt(k)?[k[0],{...k[1],offset:P}]:{...k,offset:P}}}}function ope(e,t,n,r,i,o,s){if(bPe(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(tn(n)||tn(i)||tn(r)||o){const u=Nd(n),c=Nd(i),d=Nd(r),f=Nd(o),p=o?`(${s} < ${f} ? ${a?"":"-"}0.5 * (${f} - (${s})) : ${l})`:l,m=d?`${d} + `:"",g=u?`(${u} ? -1 : 1) * `:"",v=c?`(${c} + ${p})`:p;return{signal:m+g+v}}else return i=i||0,r+(n?-i-l:+i+l)}function xLt({fieldDef:e,fieldDef2:t,channel:n,model:r}){const{config:i,markDef:o,encoding:s}=r,a=r.getScaleComponent(n),l=r.scaleName(n),u=a?a.get("type"):void 0,c=a.get("reverse"),d=_3e({channel:n,fieldDef:e,markDef:o,config:i,scaleType:u}),h=r.component.axes[n]?.[0]?.get("translate")??.5,p=jo(n)?gi("binSpacing",o,i)??0:0,m=tp(n),g=$0(n),v=$0(m),y=Mh("minBandSize",o,i),{offset:x}=Wx({channel:n,markDef:o,encoding:s,model:r,bandPosition:0}),{offset:E}=Wx({channel:m,markDef:o,encoding:s,model:r,bandPosition:0}),_=N6t({fieldDef:e,scaleName:l}),S=ope(n,p,c,h,x,y,_),T=ope(m,p,c,h,E??x,y,_),k=tn(d)?{signal:`(1-${d.signal})/2`}:pb(d)?(1-d.band)/2:.5,R=L0({fieldDef:e,fieldDef2:t,markDef:o,config:i});if(Pi(e.bin)||e.timeUnit){const I=e.timeUnit&&R!==.5;return{[v]:spe({fieldDef:e,scaleName:l,bandPosition:k,offset:T,useRectOffsetField:I}),[g]:spe({fieldDef:e,scaleName:l,bandPosition:tn(k)?{signal:`1-${k.signal}`}:1-k,offset:S,useRectOffsetField:I})}}else if(Qs(e.bin)){const I=Mv(e,l,{},{offset:T});if(Et(t))return{[v]:I,[g]:Mv(t,l,{},{offset:S})};if(Gb(e.bin)&&e.bin.step)return{[v]:I,[g]:{signal:`scale("${l}", ${Ot(e,{expr:"datum"})} + ${e.bin.step})`,offset:S}}}Ct(qPe(m))}function spe({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return NN({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:j5,endSuffix:B5}:{}})}const CLt=new Set(["aria","width","height"]);function Zc(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?$Oe(e):{};return{..._Lt(e.markDef,t),...ape("fill",n),...ape("stroke",r),...na("opacity",e),...na("fillOpacity",e),...na("strokeOpacity",e),...na("strokeWidth",e),...na("strokeDash",e),...hLt(e),...NOe(e),...HZ(e,"href"),...cLt(e)}}function ape(e,t){return t?{[e]:t}:{}}function _Lt(e,t){return C4t.reduce((n,r)=>(!CLt.has(r)&&bt(e,r)&&t[r]!=="ignore"&&(n[r]=zi(e[r])),n),{})}function VZ(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,o)=>{let s;if(!np(o)||!(s=e.getScaleType(o)))return;const a=w5(i.aggregate),l=wZ({scaleChannel:o,markDef:n,config:t,scaleType:s,isCountAggregate:a});if(D6t(l)){const u=e.vgField(o,{expr:"datum",binSuffix:e.stack?.impute?"mid":void 0});u&&r.add(u)}}),r.size>0)return{defined:{signal:[...r].map(o=>E5(o,!0)).join(" && ")}}}function lpe(e,t){if(t!==void 0)return{[e]:zi(t)}}const Y9="voronoi",jOe={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(Y9)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(cy(o))return Ct(A4t(o)),n;const s={name:e.getName(Y9),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...NOe(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((u,c)=>{const d=u.name??"";d===e.component.mark[0].name?a=c:d.includes(Y9)&&(l=!0)}),l||n.splice(a+1,0,s),n}},BOe={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!MZ(e.bind),parse:(e,t,n)=>YOe(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,s=t.init&&t.init[0],a=jOe.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,u)=>{const c=Ki(`${r}_${l.field}`);n.filter(f=>f.name===c).length||n.unshift({name:c,...s?{init:gb(s[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${$r(l.field)}] : null`}]:[],bind:o[l.field]??o[l.channel]??o})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(u=>u.name===r+xm),s=r+Wk,a=i.items.map(u=>Ki(`${r}_${u.field}`)),l=a.map(u=>`${u} !== null`).join(" && ");return a.length&&(o.update=`${l} ? {fields: ${s}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},qN="_toggle",zOe={defined:e=>e.type==="point"&&!_h(e)&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+qN,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+xm,r=t.name+qN;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${Lv(e)}}, `)+`${r} ? ${n} : null`}},ELt={defined:e=>e.clear!==void 0&&e.clear!==!1&&!_h(e),parse:(e,t)=>{t.clear&&(t.clear=Kn(t.clear)?VC(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(BOe.defined(t))for(const r of t.project.items){const i=n.findIndex(o=>o.name===Ki(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,o){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const i of t.project.items){const o=n.findIndex(s=>s.name===i.signals.visual);if(r(o,"[0, 0]"),o===-1){const s=n.findIndex(a=>a.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(o=>o.name===t.name+xm);r(i,"null"),zOe.defined(t)&&(i=n.findIndex(o=>o.name===t.name+qN),r(i,"false"))}return n}},UOe={defined:e=>{const t=e.resolve==="global"&&e.bind&&MZ(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==of;return t&&!n&&Ct(P4t),t&&n},parse:(e,t,n)=>{const r=qn(n);if(r.select=Kn(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},YOe(t,r),Gn(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=Lo(a.filter??[]),a.filter.includes(s)||a.filter.push(s)}const i=U9(t.bind)?t.bind.legend:"click",o=Kn(i)?VC(i,"view"):Lo(i);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=U9(t.bind)&&t.bind.legend,o=s=>a=>{const l=qn(a);return l.markname=s,l};for(const s of t.project.items){if(!s.hasLegend)continue;const a=`${Ki(s.field)}_legend`,l=`${r}_${a}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(o(`${a}_symbols`)).concat(i.merge.map(o(`${a}_labels`))).concat(i.merge.map(o(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(f=>f.name===r+xm),s=r+Wk,a=i.items.filter(f=>f.hasLegend).map(f=>Ki(`${r}_${Ki(f.field)}_legend`)),u=`${a.map(f=>`${f} !== null`).join(" && ")} ? {fields: ${s}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(f=>({signal:f})),update:u}):a.length>0&&(o.update=u,delete o.value,delete o.on);const c=n.find(f=>f.name===r+qN),d=U9(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:d}):c.on[0].events=d),n}};function SLt(e,t,n){const r=e.fieldDef(t)?.field;for(const i of aa(e.component.selection??{})){const o=i.project.hasField[r]??i.project.hasChannel[t];if(o&&UOe.defined(i)){const s=n.get("selections")??[];s.push(i.name),n.set("selections",s,!1),o.hasLegend=!0}}}const HOe="_translate_anchor",qOe="_translate_delta",TLt={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=rm.defined(t),o=r+HOe,{x:s,y:a}=t.project.hasChannel;let l=VC(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+Gw,u))),n.push({name:o,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(s!==void 0?`, extent_x: ${i?lq(e,Zi):`slice(${s.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?lq(e,js):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+qOe,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),s!==void 0&&upe(e,t,s,"width",n),a!==void 0&&upe(e,t,a,"height",n),n}};function upe(e,t,n,r,i){const o=t.name,s=o+HOe,a=o+qOe,l=n.channel,u=rm.defined(t),c=i.find(_=>_.name===n.signals[u?"data":"visual"]),d=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(l),h=f&&f.get("type"),p=f&&f.get("reverse"),m=u?l===Zi?p?"":"-":p?"-":"":"",g=`${s}.extent_${l}`,v=`${m}${a}.${l} / ${u?`${d}`:`span(${g})`}`,y=!u||!f?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",x=u?h==="pow"?`, ${f.get("exponent")??1}`:h==="symlog"?`, ${f.get("constant")??1}`:"":"",E=`${y}(${g}, ${v}${x})`;c.on.push({events:{signal:a},update:u?E:`clampRange(${E}, 0, ${d})`})}const VOe="_zoom_anchor",WOe="_zoom_delta",kLt={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=rm.defined(t),o=r+WOe,{x:s,y:a}=t.project.hasChannel,l=$r(e.scaleName(Zi)),u=$r(e.scaleName(js));let c=VC(t.zoom,"scope");return i||(c=c.map(d=>(d.markname=r+Gw,d))),n.push({name:r+VOe,on:[{events:c,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(d=>d).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&cpe(e,t,s,"width",n),a!==void 0&&cpe(e,t,a,"height",n),n}};function cpe(e,t,n,r,i){const o=t.name,s=n.channel,a=rm.defined(t),l=i.find(y=>y.name===n.signals[a?"data":"visual"]),u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(s),d=c&&c.get("type"),f=a?lq(e,s):l.name,h=o+WOe,p=`${o}${VOe}.${s}`,m=!a||!c?"zoomLinear":d==="log"?"zoomLog":d==="symlog"?"zoomSymlog":d==="pow"?"zoomPow":"zoomLinear",g=a?d==="pow"?`, ${c.get("exponent")??1}`:d==="symlog"?`, ${c.get("constant")??1}`:"":"",v=`${m}(${f}, ${p}, ${h}${g})`;l.on.push({events:{signal:h},update:a?v:`clampRange(${v}, 0, ${u})`})}const yb="_store",xm="_tuple",ALt="_modify",GOe="vlSelectionResolve",U5=[eLt,lLt,Q$t,zOe,BOe,rm,UOe,ELt,TLt,kLt,jOe];function RLt(e){let t=e.parent;for(;t&&!Uu(t);)t=t.parent;return t}function Lv(e,{escape:t}={escape:!0}){let n=t?$r(e.name):e.name;const r=RLt(e);if(r){const{facet:i}=r;for(const o of kc)i[o]&&(n+=` + '__facet_${o}_' + (facet[${$r(r.vgField(o))}])`)}return n}function WZ(e){return aa(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function YOe(e,t){(Vr(t.select)||!t.select.on)&&delete e.events,(Vr(t.select)||!t.select.clear)&&delete e.clear,(Vr(t.select)||!t.select.toggle)&&delete e.toggle}function _h(e){return e.events?.find(t=>"type"in t&&t.type==="timer")}const ILt="RawCode",DLt="Literal",PLt="Property",OLt="Identifier",NLt="ArrayExpression",MLt="BinaryExpression",$Lt="CallExpression",LLt="ConditionalExpression",FLt="LogicalExpression",jLt="MemberExpression",BLt="ObjectExpression",zLt="UnaryExpression";function Sf(e){this.type=e}Sf.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=ULt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function ULt(e){switch(e.type){case NLt:return e.elements;case MLt:case FLt:return[e.left,e.right];case $Lt:return[e.callee].concat(e.arguments);case LLt:return[e.test,e.consequent,e.alternate];case jLt:return[e.object,e.property];case BLt:return e.properties;case PLt:return[e.key,e.value];case zLt:return[e.argument];case OLt:case DLt:case ILt:default:return[]}}var ip,Zt,st,za,hi,H5=1,Gk=2,vb=3,dy=4,q5=5,Jb=6,ql=7,Yk=8,HLt=9;ip={};ip[H5]="Boolean";ip[Gk]="<end>";ip[vb]="Identifier";ip[dy]="Keyword";ip[q5]="Null";ip[Jb]="Numeric";ip[ql]="Punctuator";ip[Yk]="String";ip[HLt]="RegularExpression";var qLt="ArrayExpression",VLt="BinaryExpression",WLt="CallExpression",GLt="ConditionalExpression",KOe="Identifier",YLt="Literal",KLt="LogicalExpression",XLt="MemberExpression",QLt="ObjectExpression",JLt="Property",ZLt="UnaryExpression",Os="Unexpected token %0",eFt="Unexpected number",tFt="Unexpected string",nFt="Unexpected identifier",rFt="Unexpected reserved word",iFt="Unexpected end of input",cq="Invalid regular expression",K9="Invalid regular expression: missing /",XOe="Octal literals are not allowed in strict mode.",oFt="Duplicate data property in object literal not allowed in strict mode",oa="ILLEGAL",aT="Disabled.",sFt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),aFt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function V5(e,t){if(!e)throw new Error("ASSERT: "+t)}function Ip(e){return e>=48&&e<=57}function GZ(e){return"0123456789abcdefABCDEF".includes(e)}function qS(e){return"01234567".includes(e)}function lFt(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function lT(e){return e===10||e===13||e===8232||e===8233}function Kk(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&sFt.test(String.fromCharCode(e))}function VN(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&aFt.test(String.fromCharCode(e))}const uFt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function QOe(){for(;st<za;){const e=Zt.charCodeAt(st);if(lFt(e)||lT(e))++st;else break}}function dq(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)st<za&&GZ(Zt[st])?(r=Zt[st++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Hr({},Os,oa);return String.fromCharCode(i)}function cFt(){var e,t,n,r;for(e=Zt[st],t=0,e==="}"&&Hr({},Os,oa);st<za&&(e=Zt[st++],!!GZ(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Hr({},Os,oa),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function JOe(){var e,t;for(e=Zt.charCodeAt(st++),t=String.fromCharCode(e),e===92&&(Zt.charCodeAt(st)!==117&&Hr({},Os,oa),++st,e=dq("u"),(!e||e==="\\"||!Kk(e.charCodeAt(0)))&&Hr({},Os,oa),t=e);st<za&&(e=Zt.charCodeAt(st),!!VN(e));)++st,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Zt.charCodeAt(st)!==117&&Hr({},Os,oa),++st,e=dq("u"),(!e||e==="\\"||!VN(e.charCodeAt(0)))&&Hr({},Os,oa),t+=e);return t}function dFt(){var e,t;for(e=st++;st<za;){if(t=Zt.charCodeAt(st),t===92)return st=e,JOe();if(VN(t))++st;else break}return Zt.slice(e,st)}function fFt(){var e,t,n;return e=st,t=Zt.charCodeAt(st)===92?JOe():dFt(),t.length===1?n=vb:uFt.hasOwnProperty(t)?n=dy:t==="null"?n=q5:t==="true"||t==="false"?n=H5:n=vb,{type:n,value:t,start:e,end:st}}function X9(){var e=st,t=Zt.charCodeAt(st),n,r=Zt[st],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++st,{type:ql,value:String.fromCharCode(t),start:e,end:st};default:if(n=Zt.charCodeAt(st+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return st+=2,{type:ql,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:st};case 33:case 61:return st+=2,Zt.charCodeAt(st)===61&&++st,{type:ql,value:Zt.slice(e,st),start:e,end:st}}}if(s=Zt.substr(st,4),s===">>>=")return st+=4,{type:ql,value:s,start:e,end:st};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return st+=3,{type:ql,value:o,start:e,end:st};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return st+=2,{type:ql,value:i,start:e,end:st};if(i==="//"&&Hr({},Os,oa),"<>=!+-*%&|^/".includes(r))return++st,{type:ql,value:r,start:e,end:st};Hr({},Os,oa)}function hFt(e){let t="";for(;st<za&&GZ(Zt[st]);)t+=Zt[st++];return t.length===0&&Hr({},Os,oa),Kk(Zt.charCodeAt(st))&&Hr({},Os,oa),{type:Jb,value:parseInt("0x"+t,16),start:e,end:st}}function pFt(e){let t="0"+Zt[st++];for(;st<za&&qS(Zt[st]);)t+=Zt[st++];return(Kk(Zt.charCodeAt(st))||Ip(Zt.charCodeAt(st)))&&Hr({},Os,oa),{type:Jb,value:parseInt(t,8),octal:!0,start:e,end:st}}function dpe(){var e,t,n;if(n=Zt[st],V5(Ip(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=st,e="",n!=="."){if(e=Zt[st++],n=Zt[st],e==="0"){if(n==="x"||n==="X")return++st,hFt(t);if(qS(n))return pFt(t);n&&Ip(n.charCodeAt(0))&&Hr({},Os,oa)}for(;Ip(Zt.charCodeAt(st));)e+=Zt[st++];n=Zt[st]}if(n==="."){for(e+=Zt[st++];Ip(Zt.charCodeAt(st));)e+=Zt[st++];n=Zt[st]}if(n==="e"||n==="E")if(e+=Zt[st++],n=Zt[st],(n==="+"||n==="-")&&(e+=Zt[st++]),Ip(Zt.charCodeAt(st)))for(;Ip(Zt.charCodeAt(st));)e+=Zt[st++];else Hr({},Os,oa);return Kk(Zt.charCodeAt(st))&&Hr({},Os,oa),{type:Jb,value:parseFloat(e),start:t,end:st}}function mFt(){var e="",t,n,r,i,o=!1;for(t=Zt[st],V5(t==="'"||t==='"',"String literal must starts with a quote"),n=st,++st;st<za;)if(r=Zt[st++],r===t){t="";break}else if(r==="\\")if(r=Zt[st++],!r||!lT(r.charCodeAt(0)))switch(r){case"u":case"x":Zt[st]==="{"?(++st,e+=cFt()):e+=dq(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:qS(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),st<za&&qS(Zt[st])&&(o=!0,i=i*8+"01234567".indexOf(Zt[st++]),"0123".includes(r)&&st<za&&qS(Zt[st])&&(i=i*8+"01234567".indexOf(Zt[st++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Zt[st]===`
`&&++st;else{if(lT(r.charCodeAt(0)))break;e+=r}return t!==""&&Hr({},Os,oa),{type:Yk,value:e,octal:o,start:n,end:st}}function gFt(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Hr({},cq)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Hr({},cq)}try{return new RegExp(e,t)}catch{return null}}function yFt(){var e,t,n,r,i;for(e=Zt[st],V5(e==="/","Regular expression literal must start with a slash"),t=Zt[st++],n=!1,r=!1;st<za;)if(e=Zt[st++],t+=e,e==="\\")e=Zt[st++],lT(e.charCodeAt(0))&&Hr({},K9),t+=e;else if(lT(e.charCodeAt(0)))Hr({},K9);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Hr({},K9),i=t.substr(1,t.length-2),{value:i,literal:t}}function vFt(){var e,t,n;for(t="",n="";st<za&&(e=Zt[st],!!VN(e.charCodeAt(0)));)++st,e==="\\"&&st<za?Hr({},Os,oa):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Hr({},cq,n),{value:n,literal:t}}function bFt(){var e,t,n,r;return hi=null,QOe(),e=st,t=yFt(),n=vFt(),r=gFt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:st}}function wFt(e){return e.type===vb||e.type===dy||e.type===H5||e.type===q5}function ZOe(){if(QOe(),st>=za)return{type:Gk,start:st,end:st};const e=Zt.charCodeAt(st);return Kk(e)?fFt():e===40||e===41||e===59?X9():e===39||e===34?mFt():e===46?Ip(Zt.charCodeAt(st+1))?dpe():X9():Ip(e)?dpe():X9()}function Gl(){const e=hi;return st=e.end,hi=ZOe(),st=e.end,e}function eNe(){const e=st;hi=ZOe(),st=e}function xFt(e){const t=new Sf(qLt);return t.elements=e,t}function fpe(e,t,n){const r=new Sf(e==="||"||e==="&&"?KLt:VLt);return r.operator=e,r.left=t,r.right=n,r}function CFt(e,t){const n=new Sf(WLt);return n.callee=e,n.arguments=t,n}function _Ft(e,t,n){const r=new Sf(GLt);return r.test=e,r.consequent=t,r.alternate=n,r}function YZ(e){const t=new Sf(KOe);return t.name=e,t}function iS(e){const t=new Sf(YLt);return t.value=e.value,t.raw=Zt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function hpe(e,t,n){const r=new Sf(XLt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function EFt(e){const t=new Sf(QLt);return t.properties=e,t}function ppe(e,t,n){const r=new Sf(JLt);return r.key=t,r.value=n,r.kind=e,r}function SFt(e,t){const n=new Sf(ZLt);return n.operator=e,n.argument=t,n.prefix=!0,n}function Hr(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(V5(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=st,n.description=i,n}function W5(e){e.type===Gk&&Hr(e,iFt),e.type===Jb&&Hr(e,eFt),e.type===Yk&&Hr(e,tFt),e.type===vb&&Hr(e,nFt),e.type===dy&&Hr(e,rFt),Hr(e,Os,e.value)}function Ua(e){const t=Gl();(t.type!==ql||t.value!==e)&&W5(t)}function Ui(e){return hi.type===ql&&hi.value===e}function Q9(e){return hi.type===dy&&hi.value===e}function TFt(){const e=[];for(st=hi.start,Ua("[");!Ui("]");)Ui(",")?(Gl(),e.push(null)):(e.push(bb()),Ui("]")||Ua(","));return Gl(),xFt(e)}function mpe(){st=hi.start;const e=Gl();return e.type===Yk||e.type===Jb?(e.octal&&Hr(e,XOe),iS(e)):YZ(e.value)}function kFt(){var e,t,n,r;if(st=hi.start,e=hi,e.type===vb)return n=mpe(),Ua(":"),r=bb(),ppe("init",n,r);if(e.type===Gk||e.type===ql)W5(e);else return t=mpe(),Ua(":"),r=bb(),ppe("init",t,r)}function AFt(){var e=[],t,n,r,i={},o=String;for(st=hi.start,Ua("{");!Ui("}");)t=kFt(),t.key.type===KOe?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Hr({},oFt):i[r]=!0,e.push(t),Ui("}")||Ua(",");return Ua("}"),EFt(e)}function RFt(){Ua("(");const e=KZ();return Ua(")"),e}const IFt={if:1};function DFt(){var e,t,n;if(Ui("("))return RFt();if(Ui("["))return TFt();if(Ui("{"))return AFt();if(e=hi.type,st=hi.start,e===vb||IFt[hi.value])n=YZ(Gl().value);else if(e===Yk||e===Jb)hi.octal&&Hr(hi,XOe),n=iS(Gl());else{if(e===dy)throw new Error(aT);e===H5?(t=Gl(),t.value=t.value==="true",n=iS(t)):e===q5?(t=Gl(),t.value=null,n=iS(t)):Ui("/")||Ui("/=")?(n=iS(bFt()),eNe()):W5(Gl())}return n}function PFt(){const e=[];if(Ua("("),!Ui(")"))for(;st<za&&(e.push(bb()),!Ui(")"));)Ua(",");return Ua(")"),e}function OFt(){st=hi.start;const e=Gl();return wFt(e)||W5(e),YZ(e.value)}function NFt(){return Ua("."),OFt()}function MFt(){Ua("[");const e=KZ();return Ua("]"),e}function $Ft(){var e,t,n;for(e=DFt();;)if(Ui("."))n=NFt(),e=hpe(".",e,n);else if(Ui("("))t=PFt(),e=CFt(e,t);else if(Ui("["))n=MFt(),e=hpe("[",e,n);else break;return e}function gpe(){const e=$Ft();if(hi.type===ql&&(Ui("++")||Ui("--")))throw new Error(aT);return e}function n3(){var e,t;if(hi.type!==ql&&hi.type!==dy)t=gpe();else{if(Ui("++")||Ui("--"))throw new Error(aT);if(Ui("+")||Ui("-")||Ui("~")||Ui("!"))e=Gl(),t=n3(),t=SFt(e.value,t);else{if(Q9("delete")||Q9("void")||Q9("typeof"))throw new Error(aT);t=gpe()}}return t}function ype(e){let t=0;if(e.type!==ql&&e.type!==dy)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function LFt(){var e,t,n,r,i,o,s,a,l,u;if(e=hi,l=n3(),r=hi,i=ype(r),i===0)return l;for(r.prec=i,Gl(),t=[e,hi],s=n3(),o=[l,r,s];(i=ype(hi))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=fpe(a,l,s),o.push(n);r=Gl(),r.prec=i,o.push(r),t.push(hi),n=n3(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=fpe(o[u-1].value,o[u-2],n),u-=2;return n}function bb(){var e,t,n;return e=LFt(),Ui("?")&&(Gl(),t=bb(),Ua(":"),n=bb(),e=_Ft(e,t,n)),e}function KZ(){const e=bb();if(Ui(","))throw new Error(aT);return e}function FFt(e){Zt=e,st=0,za=Zt.length,hi=null,eNe();const t=KZ();if(hi.type!==Gk)throw new Error("Unexpect token after expression.");return t}function fq(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...fq(e.object)),t.push(...fq(e.property))),t)}function tNe(e){return e.object.type==="MemberExpression"?tNe(e.object):e.object.name==="datum"}function nNe(e){const t=FFt(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&tNe(r)&&n.add(fq(r).slice(1).join("."))}),n}class GC extends pi{clone(){return new GC(null,this.model,qn(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=WN(this.model,this.filter,this),this._dependentFields=nNe(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function jFt(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;let i=0;for(const o of t){const s=Ki(o.name),a=o.select,l=Kn(a)?a:a.type,u=Lr(a)?qn(a):{type:l},c=r[l];for(const h in c)h==="fields"||h==="encodings"||(h==="mark"&&(u.mark={...c.mark,...u.mark}),(u[h]===void 0||u[h]===!0)&&(u[h]=qn(c[h]??u[h])));const d=n[s]={...u,name:s,type:l,init:o.value,bind:o.bind,events:Kn(u.on)?VC(u.on,"scope"):Lo(qn(u.on))};if(_h(d)&&(i++,i>1)){delete n[s];continue}const f=qn(o);for(const h of U5)h.defined(d)&&h.parse&&h.parse(e,d,f)}return i>1&&Ct(F4t),n}function rNe(e,t,n,r="datum"){const i=Kn(t)?t:t.param,o=Ki(i),s=$r(o+yb);let a;try{a=e.getSelectionComponent(o,i)}catch{return`!!${o}`}if(a.project.timeUnit){const f=n??e.component.data.raw,h=a.project.timeUnit.clone();f.parent?h.insertAsParentOf(f):f.parent=h}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=a.resolve==="global"?")":`, ${$r(a.resolve)})`,c=`${l}${s}, ${r}${u}`,d=`length(data(${s}))`;return t.empty===!1?`${d} && ${c}`:`!${d} || ${c}`}function iNe(e,t,n){const r=Ki(t),i=n.encoding;let o=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!o)o=s.project.items[0].field,s.project.items.length>1&&Ct(j4t(o));else if(i&&!o){const a=s.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(o=s.project.items[0].field,Ct(B4t(a,i,n,o))):o=a[0].field}return`${s.name}[${$r(zc(o))}]`}function BFt(e,t){for(const[n,r]of M0(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new Jl(new GC(t,e,{param:n}),i,ao.Lookup,e.component.data.outputNodeRefCounts)}}function WN(e,t,n){return zS(t,r=>Kn(r)?r:KMt(r)?rNe(e,r,n):n3e(r))}function zFt(e,t){if(e)return Yt(e)&&!Ng(e)?e.map(n=>kZ(n,t)).join(", "):e}function J9(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function oS(e,t,n,r={header:!1}){const{disable:i,orient:o,scale:s,labelExpr:a,title:l,zindex:u,...c}=e.combine();if(!i){for(const d in c){const f=d,h=e5t[f],p=c[f];if(h&&h!==t&&h!=="both")delete c[f];else if(Vk(p)){const{condition:m,...g}=p,v=Lo(m),y=Fhe[f];if(y){const{vgProp:x,part:E}=y,_=[...v.map(S=>{const{test:T,...k}=S;return{test:WN(null,T),...k}}),g];J9(c,E,x,_),delete c[f]}else if(y===null){const x={signal:v.map(E=>{const{test:_,...S}=E;return`${WN(null,_)} ? ${Che(S)} : `}).join("")+Che(g)};c[f]=x}}else if(tn(p)){const m=Fhe[f];if(m){const{vgProp:g,part:v}=m;J9(c,v,g,p),delete c[f]}}pr(["labelAlign","labelBaseline"],f)&&c[f]===null&&delete c[f]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:d}=c.encode;c.encode={...d?{grid:d}:{}},yi(c.encode)&&delete c.encode}return{scale:s,orient:o,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Fo(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let f=a;c.encode?.labels?.update&&tn(c.encode.labels.update.text)&&(f=ub(a,"datum.label",c.encode.labels.update.text.signal)),J9(c,"labels","text",{signal:f})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const f of O3e)e.hasAxisPart(f)||delete c.encode[f];yi(c.encode)&&delete c.encode}const d=zFt(l,n);return{scale:s,orient:o,grid:!1,...d?{title:d}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:Fo(u,0)}}}}function oNe(e){const{axes:t}=e.component,n=[];for(const r of Vm)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const o=r==="x"?"height":"width",s=e.getSizeSignalRef(o).signal;o!==s&&n.push({name:o,update:s})}}return n}function UFt(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>oS(i,"grid",t)),...r.map(i=>oS(i,"grid",t)),...n.map(i=>oS(i,"main",t)),...r.map(i=>oS(i,"main",t))].filter(i=>i)}function vpe(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const o=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...vt(s),...vt(a)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${o}" ? ${Nd(s[c])} : ${Nd(a[c])}`};return u}return t[i]})])}function HFt(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:s3e(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",s=tn(n)?"axisOrient":`axis${Nk(n)}`,a=[...i,...i.map(u=>o+u.substr(4))],l=["axis",s,o];return{vlOnlyAxisConfig:vpe(a,r,e,n),vgAxisConfig:vpe(l,r,e,n),axisConfigStyle:qFt([...l,...a],r)}}function qFt(e,t){const n=[{}];for(const r of e){let i=t[r]?.style;if(i){i=Lo(i);for(const o of i)n.push(t.style[o])}}return Object.assign.apply(null,n)}function hq(e,t,n,r={}){const i=NPe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const o of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(r[o]?.[e]!==void 0)return{configFrom:o,configValue:r[o][e]};return{}}const bpe={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??VFt(n,e),gridScale:({model:e,channel:t})=>WFt(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||aNe(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||sNe(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??YFt(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??KFt(t.type,n,Et(t)&&!!t.timeUnit,Et(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const o=e==="x"?"width":e==="y"?"height":void 0,s=o?t.getSizeSignalRef(o):void 0;return n.tickCount??QFt({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},tickMinStep:JFt,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=lNe(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),o=n==="x"?"x2":"y2",s=t.fieldDef(o);return $Pe(i?[$he(i)]:[],Et(s)?[$he(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>ZFt(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??e8t(n,t)};function VFt(e,t){return!$s(e)&&Et(t)&&!Pi(t?.bin)&&!Qs(t?.bin)}function WFt(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function GFt(e,t,n,r,i){const o=t?.labelAngle;if(o!==void 0)return tn(o)?o:iT(o);{const{configValue:s}=hq("labelAngle",r,t?.style,i);return s!==void 0?iT(s):n===Zi&&pr([mZ,pZ],e.type)&&!(Et(e)&&e.timeUnit)?270:void 0}}function pq(e){return`(((${e.signal} % 360) + 360) % 360)`}function sNe(e,t,n,r){if(e!==void 0)if(n==="x"){if(tn(e)){const i=pq(e),o=tn(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(tn(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(tn(e)){const i=pq(e),o=tn(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(tn(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function aNe(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,o=r?"bottom":"left";if(tn(e)){const s=pq(e),a=tn(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(tn(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${o}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function YFt(e,t){if(t==="x"&&pr(["quantitative","temporal"],e))return!0}function KFt(e,t,n,r){if(n&&!Lr(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function XFt(e){return e==="x"?"bottom":"left"}function QFt({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){if(!r&&!$s(t)&&t!=="log"){if(Et(e)){if(Pi(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&pr(["month","hours","day","quarter"],Ms(e.timeUnit)?.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function JFt({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(Et(t)){const{timeUnit:n}=t;if(n){const r=ZPe(n);if(r)return{signal:r}}}}function lNe(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,s=i?i.title:void 0;if(o&&s)return LPe(o,s);if(o)return o;if(s)return s;if(o!==void 0)return o;if(s!==void 0)return s}function ZFt(e,t){const n=e.values;if(Yt(n))return P3e(t,n);if(tn(n))return n}function e8t(e,t){return e==="rect"&&$N(t)?1:0}class Gx extends pi{clone(){return new Gx(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=nNe(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(Qb(r)&&C3e(r.sort)){const{field:o,timeUnit:s}=r,a=r.sort,l=a.map((u,c)=>`${n3e({field:o,timeUnit:s,equal:u})} ? ${c} : `).join("")+a.length;t=new Gx(t,{calculate:l,as:Yx(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${xr(this.transform)}`}}function Yx(e,t,n){return Ot(e,{prefix:t,suffix:"sort_index",...n})}function G5(e,t){return pr(["top","bottom"],t)?"column":pr(["left","right"],t)||e==="row"?"row":"column"}function Kx(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return Fo((t||{})[e],i[e],n.header[e])}function Y5(e,t,n,r){const i={};for(const o of e){const s=Kx(o,t||{},n,r);s!==void 0&&(i[o]=s)}return i}const XZ=["row","column"],QZ=["header","footer"];function t8t(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:s,titleOrient:a}=Y5(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=G5(t,a),u=iT(s);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...cNe(u,l),...uNe(l,u,o),...dNe(r,i,t,C5t,Q3e)}}}function uNe(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=aNe(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function cNe(e,t){const n=sNe(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function n8t(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of QZ)if(n[i])for(const o of n[i]){const s=i8t(e,t,i,n,o);s!=null&&r.push(s)}return r}function r8t(e,t){const{sort:n}=e;return nm(n)?{field:Ot(n,{expr:"datum"}),order:n.order??"ascending"}:Yt(n)?{field:Yx(e,t,{expr:"datum"}),order:"ascending"}:{field:Ot(e,{expr:"datum"}),order:n??"ascending"}}function mq(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:s,labelOrient:a,labelExpr:l}=Y5(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=_Z({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=G5(t,a);return{text:{signal:l?ub(ub(l,"datum.label",u),"datum.value",Ot(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...cNe(o,c),...uNe(c,o,s),...dNe(n,e,t,_5t,J3e)}}function i8t(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:s}=r,a=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:d}=Y5(["labelOrient"],s.header,a,t);(t==="row"&&!pr(["top","bottom"],d)||t==="column"&&!pr(["left","right"],d))&&(o=mq(s,t,a))}const l=Uu(e)&&!zk(e.facet),u=i.axes,c=u?.length>0;if(o||c){const d=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:r8t(s,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[d]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const o8t={column:{start:0,end:1},row:{start:1,end:0}};function s8t(e,t){return o8t[t][e]}function a8t(e,t){const n={};for(const r of kc){const i=e[r];if(i?.facetFieldDef){const{titleAnchor:o,titleOrient:s}=Y5(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=G5(r,s),l=s8t(o,a);l!==void 0&&(n[a]=l)}}return yi(n)?void 0:n}function dNe(e,t,n,r,i){const o={};for(const s of r){if(!i[s])continue;const a=Kx(s,t?.header,e,n);a!==void 0&&(o[i[s]]=a)}return o}function JZ(e){return[...hI(e,"width"),...hI(e,"height"),...hI(e,"childWidth"),...hI(e,"childHeight")]}function hI(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const s=o.get("type"),a=o.get("range");if($s(s)&&Yb(a)){const l=e.scaleName(n);return Uu(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[wpe(l,a)]:[wpe(l,a),{name:i,update:fNe(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=i.endsWith("width"),s=o?"containerSize()[0]":"containerSize()[1]",a=tq(e.config.view,o?"width":"height"),l=`isFinite(${s}) ? ${s} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function wpe(e,t){const n=`${e}_step`;return tn(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function fNe(e,t,n){const r=t.get("type"),i=t.get("padding"),o=Fo(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${Nd(s)}, ${Nd(o)}) * ${e}_step`}function hNe(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function pNe(e,t){return vt(e).reduce((n,r)=>({...n,...WC({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>zi(i.value),invalidValueRef:void 0})}),{})}function mNe(e,t){if(Uu(t))return e==="theta"?"independent":"shared";if(XC(t))return"shared";if(oee(t))return jo(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function ZZ(e,t){const n=e.scale[t],r=jo(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&Ct(yMt(t)),"independent"):e[r][t]||"shared"}const l8t={...T5t,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},gNe=vt(l8t);class u8t extends Gm{}const xpe={symbols:c8t,gradient:d8t,labels:f8t,entries:h8t};function c8t(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:o}){if(o!=="symbol")return;const{markDef:s,encoding:a,config:l,mark:u}=n,c=s.filled&&u!=="trail";let d={...S4t({},n,x6t),...$Oe(n,{filled:c})};const f=i.get("symbolOpacity")??l.legend.symbolOpacity,h=i.get("symbolFillColor")??l.legend.symbolFillColor,p=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,m=f===void 0?yNe(a.opacity)??s.opacity:void 0;if(d.fill){if(r==="fill"||c&&r===iu)delete d.fill;else if(bt(d.fill,"field"))h?delete d.fill:(d.fill=zi(l.legend.symbolBaseFillColor??"black"),d.fillOpacity=zi(m??1));else if(Yt(d.fill)){const g=gq(a.fill??a.color)??s.fill??(c&&s.color);g&&(d.fill=zi(g))}}if(d.stroke){if(r==="stroke"||!c&&r===iu)delete d.stroke;else if(bt(d.stroke,"field")||p)delete d.stroke;else if(Yt(d.stroke)){const g=Fo(gq(a.stroke||a.color),s.stroke,c?s.color:void 0);g&&(d.stroke={value:g})}}if(r!==qm){const g=Et(t)&&bNe(n,i,t);g?d.opacity=[{test:g,...zi(m??1)},zi(l.legend.unselectedOpacity)]:m&&(d.opacity=zi(m))}return d={...d,...e},yi(d)?void 0:d}function d8t(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:o,encoding:s}=t;let a={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?yNe(s.opacity)||o.opacity:void 0;return u&&(a.opacity=zi(u)),a={...a,...e},yi(a)?void 0:a}function f8t(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},s=n.config,a=Et(t)?bNe(n,i,t):void 0,l=a?[{test:a,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=o;let d;mb(c)?d=Md({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:s}):u===void 0&&c===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?d=Md({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&Et(t)&&t.timeUnit===void 0&&(d=Md({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const f={...l?{opacity:l}:{},...d?{text:d}:{},...e};return yi(f)?void 0:f}function h8t(e,{legendCmpt:t}){return t.get("selections")?.length?{...e,fill:{value:"transparent"}}:e}function yNe(e){return vNe(e,(t,n)=>Math.max(t,n.value))}function gq(e){return vNe(e,(t,n)=>Fo(t,n.value))}function vNe(e,t){if(U6t(e))return Lo(e.condition).reduce(t,e.value);if(nf(e))return e.value}function bNe(e,t,n){const r=t.get("selections");if(!r?.length)return;const i=$r(n.field);return r.map(o=>`(!length(data(${$r(Ki(o)+yb)})) || (${o}[${i}] && indexof(${o}[${i}], datum.value) >= 0))`).join(" || ")}const Cpe={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return b3e(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return w3e(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??w8t(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??x8t(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??m8t(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>Ww(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(Vw(n)&&lh(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>p8t(t,e)};function p8t(e,t){const n=e.values;if(Yt(n))return P3e(t,n);if(tn(n))return n}function m8t(e,t,n,r){if(t!=="shape"){const i=gq(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function g8t(e){const{legend:t}=e;return Fo(t.type,y8t(e))}function y8t({channel:e,timeUnit:t,scaleType:n}){if(Vw(e)){if(pr(["quarter","month","day"],t))return"symbol";if(lh(n))return"gradient"}return"symbol"}function v8t({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??b8t(n,t)}function b8t(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function w8t({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:s,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(lh(i))return n==="horizontal"?r==="top"||r==="bottom"?_pe(t,"width",s,o):s:_pe(t,"height",l,a)}function _pe(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function x8t(e){if(pr(["quantile","threshold","log","symlog"],e))return"greedy"}function wNe(e){const t=oo(e)?C8t(e):T8t(e);return e.component.legends=t,t}function C8t(e){const{encoding:t}=e,n={};for(const r of[iu,...eOe]){const i=cs(t[r]);!i||!e.getScaleComponent(r)||r===ou&&Et(i)&&i.type===qC||(n[r]=S8t(e,r))}return n}function _8t(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function E8t(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!n?.values;case"title":if(t==="title"&&e===r?.title)return!0}return e===(n||{})[t]}function S8t(e,t){let n=e.legend(t);const{markDef:r,encoding:i,config:o}=e,s=o.legend,a=new u8t({},_8t(e,t));SLt(e,t,a);const l=n!==void 0?!n:s.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const u=e.getScaleComponent(t).get("type"),c=cs(i[t]),d=Et(c)?Ms(c.timeUnit)?.unit:void 0,f=n.orient||o.legend.orient||"right",h=g8t({legend:n,channel:t,timeUnit:d,scaleType:u}),p=v8t({legend:n,legendType:h,orient:f,legendConfig:s}),m={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:s,config:o,scaleType:u,orient:f,legendType:h,direction:p};for(const E of gNe){if(h==="gradient"&&E.startsWith("symbol")||h==="symbol"&&E.startsWith("gradient"))continue;const _=E in Cpe?Cpe[E](m):n[E];if(_!==void 0){const S=E8t(_,E,n,e.fieldDef(t));(S||o.legend[E]===void 0)&&a.set(E,_,S)}}const g=n?.encoding??{},v=a.get("selections"),y={},x={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:a,legendType:h};for(const E of["labels","legend","title","symbols","gradient","entries"]){const _=pNe(g[E]??{},e),S=E in xpe?xpe[E](_,x):_;S!==void 0&&!yi(S)&&(y[E]={...v?.length&&Et(c)?{name:`${Ki(c.field)}_legend_${E}`}:{},...v?.length?{interactive:!!v}:{},update:S})}return yi(y)||a.set("encode",y,!!n?.encoding),a}function T8t(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){wNe(r);for(const i of vt(r.component.legends))n.legend[i]=ZZ(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=xNe(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of vt(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function xNe(e,t){if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const o of gNe){const s=F0(e.getWithExplicit(o),t.getWithExplicit(o),o,"legend",(a,l)=>{switch(o){case"symbolType":return k8t(a,l);case"title":return FPe(a,l);case"type":return i=!0,Eu("symbol")}return F5(a,l,o,"legend")});e.setWithExplicit(o,s)}return i&&(e.implicit?.encode?.gradient&&DN(e.implicit,["encode","gradient"]),e.explicit?.encode?.gradient&&DN(e.explicit,["encode","gradient"])),e}function k8t(e,t){return t.value==="circle"?t:e}function A8t(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function CNe(e){const t=e.component.legends,n={};for(const i of vt(t)){const o=e.getScaleComponent(i),s=vi(o.get("domains"));if(n[s])for(const a of n[s])xNe(a,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return aa(n).flat().map(i=>R8t(i,e.config)).filter(i=>i!==void 0)}function R8t(e,t){const{disable:n,labelExpr:r,selections:i,...o}=e.combine();if(!n){if(t.aria===!1&&o.aria==null&&(o.aria=!1),o.encode?.symbols){const s=o.encode.symbols.update;s.fill&&s.fill.value!=="transparent"&&!s.stroke&&!o.stroke&&(s.stroke={value:"transparent"});for(const a of eOe)o[a]&&delete s[a]}if(o.title||delete o.title,r!==void 0){let s=r;o.encode?.labels?.update&&tn(o.encode.labels.update.text)&&(s=ub(r,"datum.label",o.encode.labels.update.text.signal)),A8t(o,"labels","text",{signal:s})}return o}}function I8t(e){return XC(e)||oee(e)?D8t(e):_Ne(e)}function D8t(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),_Ne(e))}function _Ne(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},o=t.data.reduce((s,a)=>{const l=tn(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return pr(s,l)||s.push(l),s},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const P8t=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class ENe extends Gm{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function SNe(e){e.component.projection=oo(e)?O8t(e):$8t(e)}function O8t(e){if(e.hasProjection){const t=Js(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?N8t(e):void 0,o=new ENe(e.projectionName(!0),{...Js(e.config.projection),...t},r,i);return o.get("type")||o.set("type","equalEarth",!1),o}}function N8t(e){const t=[],{encoding:n}=e;for(const r of[[_f,Cf],[Uc,Ef]])(cs(n[r[0]])||cs(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(ou)&&e.typedFieldDef(ou).type===qC&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(ao.Main)),t}function M8t(e,t){const n=zJ(P8t,i=>!!(!Go(e.explicit,i)&&!Go(t.explicit,i)||Go(e.explicit,i)&&Go(t.explicit,i)&&Mu(e.get(i),t.get(i))));if(Mu(e.size,t.size)){if(n)return e;if(Mu(e.explicit,{}))return t;if(Mu(t.explicit,{}))return e}return null}function $8t(e){if(e.children.length===0)return;let t;for(const r of e.children)SNe(r);const n=zJ(e.children,r=>{const i=r.component.projection;if(i)if(t){const o=M8t(t,i);return o&&(t=o),!!o}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new ENe(r,t.specifiedProjection,t.size,qn(t.data));for(const o of e.children){const s=o.component.projection;s&&(s.isFit&&i.data.push(...o.component.projection.data),o.renameProjection(s.get("name"),r),s.merged=!0)}return i}}function L8t(e,t,n,r){if(qk(t,n)){const i=oo(e)?e.axis(n)??e.legend(n)??{}:{},o=Ot(t,{expr:"datum"}),s=Ot(t,{expr:"datum",binSuffix:"end"});return{formulaAs:Ot(t,{binSuffix:"range",forAs:!0}),formula:Bk(o,s,i.format,i.formatType,r)}}return{}}function TNe(e,t){return`${IPe(e)}_${t}`}function F8t(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function eee(e,t,n){const r=P5(n,void 0)??{},i=TNe(r,t);return e.getName(`${i}_bins`)}function j8t(e){return"as"in e}function Epe(e,t,n){let r,i;j8t(e)?r=Kn(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[Ot(e,{forAs:!0}),Ot(e,{binSuffix:"end",forAs:!0})];const o={...P5(t,void 0)},s=TNe(o,e.field),{signal:a,extentSignal:l}=F8t(n,s);if(x5(o.extent)){const c=o.extent;i=iNe(n,c.param,c),delete o.extent}const u={bin:o,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:s,binComponent:u}}class Eh extends pi{clone(){return new Eh(null,qn(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{if(El(o)&&Pi(o.bin)){const{key:a,binComponent:l}=Epe(o,o.bin,n);i[a]={...l,...i[a],...L8t(n,o,s,n.config)}}return i},{});return yi(r)?null:new Eh(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:o}=Epe(n,n.bin,r);return new Eh(t,{[i]:o})}merge(t,n){for(const r of vt(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=ah([...this.bins[r].as,...t.bins[r].as],xr)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(aa(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(aa(this.bins).map(t=>t.field))}hash(){return`Bin ${xr(this.bins)}`}assemble(){return aa(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:o,...s}=t.bin,a={type:"bin",field:zc(t.field),as:r,signal:t.signal,...x5(o)?{extent:null}:{extent:o},...t.span?{span:{signal:`span(${t.span})`}}:{},...s};!o&&t.extentSignal&&(n.push({type:"extent",field:zc(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const l of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:Ot({field:r[u]},{expr:"datum"}),as:l[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function B8t(e,t,n,r){const i=oo(r)?r.encoding[tp(t)]:void 0;if(El(n)&&oo(r)&&E3e(n,i,r.markDef,r.config)){e.add(Ot(n,{})),e.add(Ot(n,{suffix:"end"}));const{mark:o,markDef:s,config:a}=r,l=L0({fieldDef:n,markDef:s,config:a});oT(o)&&l!==.5&&jo(t)&&(e.add(Ot(n,{suffix:j5})),e.add(Ot(n,{suffix:B5}))),n.bin&&qk(n,t)&&e.add(Ot(n,{binSuffix:"range"}))}else if(xPe(t)){const o=wPe(t);e.add(r.getName(o))}else e.add(Ot(n));return Qb(n)&&l6t(n.scale?.range)&&e.add(n.scale.range.field),e}function z8t(e,t){for(const n of vt(t)){const r=t[n];for(const i of vt(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class Ud extends pi{clone(){return new Ud(null,new Set(this.dimensions),qn(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(s=>{s.aggregate&&(r=!0)});const i={},o=new Set;return!r||(n.forEachFieldDef((s,a)=>{const{aggregate:l,field:u}=s;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([Ot(s,{forAs:!0})]);else{if(bm(l)||uy(l)){const c=bm(l)?"argmin":"argmax",d=l[c];i[d]??(i[d]={}),i[d][c]=new Set([Ot({op:c,field:d},{forAs:!0})])}else i[u]??(i[u]={}),i[u][l]=new Set([Ot(s,{forAs:!0})]);np(a)&&n.scaleDomain(a)==="unaggregated"&&(i[u]??(i[u]={}),i[u].min=new Set([Ot({field:u,aggregate:"min"},{forAs:!0})]),i[u].max=new Set([Ot({field:u,aggregate:"max"},{forAs:!0})]))}else B8t(o,a,s,n)}),o.size+vt(i).length===0)?null:new Ud(t,o,i)}static makeFromTransform(t,n){var r;const i=new Set,o={};for(const s of n.aggregate){const{op:a,field:l,as:u}=s;a&&(a==="count"?(o["*"]??(o["*"]={}),o["*"].count=new Set([u||Ot(s,{forAs:!0})])):(o[l]??(o[l]={}),(r=o[l])[a]??(r[a]=new Set),o[l][a].add(u||Ot(s,{forAs:!0}))))}for(const s of n.groupby??[])i.add(s);return i.size+vt(o).length===0?null:new Ud(t,i,o)}merge(t){return fPe(this.dimensions,t.dimensions)?(z8t(this.measures,t.measures),!0):(OMt("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...vt(this.measures)])}producedFields(){const t=new Set;for(const n of vt(this.measures))for(const r of vt(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${xr({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const o of vt(this.measures))for(const s of vt(this.measures[o]))for(const a of this.measures[o][s])r.push(a),t.push(s),n.push(o==="*"?null:zc(o));return{type:"aggregate",groupby:[...this.dimensions].map(zc),ops:t,fields:n,as:r}}}class YC extends pi{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const o of kc){const s=n.facet[o];if(s){const{bin:a,sort:l}=s;this[o]={name:n.getName(`${o}_domain`),fields:[Ot(s),...Pi(a)?[Ot(s,{binSuffix:"end"})]:[]],...nm(l)?{sortField:l}:Yt(l)?{sortIndexField:Yx(s,o)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of kc)this[n]&&(t+=` ${n.charAt(0)}:${xr(this[n])}`);return t}get fields(){const t=[];for(const n of kc)this[n]?.fields&&t.push(...this[n].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of kc)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of Vm){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),o=r.get("range");if($s(i)&&Yb(o)){const s=K5(this.childModel,n),a=iee(s);a?t[n]=a:Ct(tZ(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],o=[],s=[],a=[];i&&r&&r[i]&&(n?(o.push(`distinct_${r[i]}`),s.push("max")):(o.push(r[i]),s.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=R5,field:d}=l;o.push(d),s.push(c),a.push(Ot(l,{forAs:!0}))}else u&&(o.push(u),s.push("max"),a.push(u));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...o.length?{fields:o,ops:s,as:a}:{}}]}}assembleFacetHeaderData(t){const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],o={};for(const l of XZ){for(const u of QZ){const c=(r[l]&&r[l][u])??[];for(const d of c)if(d.axes?.length>0){o[l]=!0;break}}if(o[l]){const u=`length(data("${this.facet.name}"))`,c=l==="row"?n?{signal:`ceil(${u} / ${n})`}:1:n?{signal:`min(${u}, ${n})`}:{signal:u};i.push({name:`${this.facet.name}_${l}`,transform:[{type:"sequence",start:0,stop:c}]})}}const{row:s,column:a}=o;return(s||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:o,facet:s}=this;if(i&&o&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),l=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:l}]})}for(const a of[tm,em])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(s){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function Spe(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function U8t(e,t){const n=qJ(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=Spe(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=Spe(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return Ct(U4t(t)),null}function H8t(e){const t={};return e3(e.filter,n=>{if(t3e(n)){let r=null;aZ(n)?r=Iu(n.equal):uZ(n)?r=Iu(n.lte):lZ(n)?r=Iu(n.lt):cZ(n)?r=Iu(n.gt):dZ(n)?r=Iu(n.gte):fZ(n)?r=n.range[0]:hZ(n)&&(r=(n.oneOf??n.in)[0]),r&&(Kb(r)?t[n.field]="date":Ji(r)?t[n.field]="number":Kn(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function q8t(e){const t={};function n(r){qx(r)?t[r.field]="date":r.type==="quantitative"&&g4t(r.aggregate)?t[r.field]="number":Fx(r.field)>1?r.field in t||(t[r.field]="flatten"):Qb(r)&&nm(r.sort)&&Fx(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((oo(e)||Uu(e))&&e.forEachFieldDef((r,i)=>{if(El(r))n(r);else{const o=Wb(i),s=e.fieldDef(o);n({...r,type:s.type})}}),oo(e)){const{mark:r,markDef:i,encoding:o}=e;if(cy(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",a=o[s];Et(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function V8t(e){const t={};if(oo(e)&&e.component.selection)for(const n of vt(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&Fx(i.field)>1&&(t[i.field]="flatten")}return t}class Ma extends pi{clone(){return new Ma(null,qn(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${xr(this._parse)}`}static makeExplicit(t,n,r){let i={};const o=n.data;return!h0(o)&&o?.format?.parse&&(i=o.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of vt(r)){const l=i.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:Ct(Ahe(a,r[a],l.value)))}for(const a of vt(n)){const l=i.get(a);l!==void 0&&(l===n[a]?delete n[a]:Ct(Ahe(a,n[a],l)))}const o=new Gm(n,r);i.copyAll(o);const s={};for(const a of vt(o.combine())){const l=o.get(a);l!==null&&(s[a]=l)}return vt(s).length===0||i.parseNothing?null:new Ma(t,s)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of vt(this._parse)){const r=this._parse[n];Fx(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(vt(this._parse))}dependentFields(){return new Set(vt(this._parse))}assembleTransforms(t=!1){return vt(this._parse).filter(n=>t?Fx(n)>1:!0).map(n=>{const r=U8t(n,this._parse[n]);return r?{type:"formula",expr:r,as:UC(n)}:null}).filter(n=>n!==null)}}class j0 extends pi{clone(){return new j0(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([of])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:of}}}class Xk extends pi{clone(){return new Xk(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${xr(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class Qk extends pi{clone(){return new Qk(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${xr(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class wb extends pi{constructor(t){super(null),t??(t={name:"source"});let n;if(h0(t)||(n=t.format?{...Ql(t.format,["parse"])}:{}),sT(t))this._data={values:t.values};else if(Vx(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];pr(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else vOe(t)?this._data={values:[{type:"Sphere"}]}:(gOe(t)||h0(t))&&(this._data={});this._generator=h0(t),t.name&&(this._name=t.name),n&&!yi(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var Tpe=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},W8t=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},sS;function tee(e){return e instanceof wb||e instanceof Xk||e instanceof Qk}class nee{constructor(){sS.set(this,void 0),Tpe(this,sS,!1,"f")}setModified(){Tpe(this,sS,!0,"f")}get modifiedFlag(){return W8t(this,sS,"f")}}sS=new WeakMap;class Zb extends nee{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,o)=>o[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class ree extends nee{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class G8t extends ree{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of vt(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class Y8t extends ree{constructor(t){super(),this.requiresSelectionId=t&&WZ(t)}run(t){t instanceof j0&&(this.requiresSelectionId&&(tee(t.parent)||t.parent instanceof Ud||t.parent instanceof Ma)||(this.setModified(),t.remove()))}}class K8t extends nee{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof Ch&&(r=t.producedFields(),UJ(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class X8t extends ree{constructor(){super()}run(t){t instanceof Jl&&!t.isRequired()&&(this.setModified(),t.remove())}}class Q8t extends Zb{run(t){if(!tee(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Ma)if(t instanceof Ma)this.setModified(),t.merge(n);else{if(HJ(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class J8t extends Zb{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Ma);if(t.numChildren()>1&&r.length>=1){const i={},o=new Set;for(const s of r){const a=s.parse;for(const l of vt(a))l in i?i[l]!==a[l]&&o.add(l):i[l]=a[l]}for(const s of o)delete i[s];if(!yi(i)){this.setModified();const s=new Ma(t,i);for(const a of n){if(a instanceof Ma)for(const l of vt(i))delete a.parse[l];t.removeChild(a),a.parent=s,a instanceof Ma&&vt(a.parse).length===0&&a.remove()}}}}}class Z8t extends Zb{run(t){t instanceof Jl||t.numChildren()>0||t instanceof YC||t instanceof wb||(this.setModified(),t.remove())}}class ejt extends Zb{run(t){const n=t.children.filter(i=>i instanceof Ch),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class tjt extends Zb{run(t){const n=t.children.filter(i=>i instanceof Ud),r={};for(const i of n){const o=xr(i.groupBy);o in r||(r[o]=[]),r[o].push(i)}for(const i of vt(r)){const o=r[i];if(o.length>1){const s=o.pop();for(const a of o)s.merge(a)&&(t.removeChild(a),a.parent=s,a.remove(),this.setModified())}}}}class njt extends Zb{constructor(t){super(),this.model=t}run(t){const n=!(tee(t)||t instanceof GC||t instanceof Ma||t instanceof j0),r=[],i=[];for(const o of t.children)o instanceof Eh&&(n&&!HJ(t.producedFields(),o.dependentFields())?r.push(o):i.push(o));if(r.length>0){const o=r.pop();for(const s of r)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Eh?t.merge(o,this.model.renameSignal.bind(this.model)):o.swapWithParent()}if(i.length>1){const o=i.pop();for(const s of i)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class rjt extends Zb{run(t){const n=[...t.children];if(!Lx(n,s=>s instanceof Jl)||t.numChildren()<=1)return;const i=[];let o;for(const s of n)if(s instanceof Jl){let a=s;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof Jl)a=l;else break}i.push(...a.children),o?(t.removeChild(s),s.parent=o.parent,o.parent.removeChild(o),o.parent=a,this.setModified()):o=a}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=o}}}class e1 extends pi{clone(){return new e1(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=ah(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??Ot(t)}hash(){return`JoinAggregateTransform ${xr(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const o of this.transform.joinaggregate)n.push(o.op),r.push(this.getDefaultName(o)),t.push(o.field===void 0?null:o.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class Xx extends pi{clone(){return new Xx(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:o}=n,{marks:s,scales:a}=r;if(s==="include-invalid-values"&&a==="include-invalid-values")return null;const l=n.reduceFieldDef((u,c,d)=>{const f=np(d)&&n.getScaleComponent(d);if(f){const h=f.get("type"),{aggregate:p}=c,m=wZ({scaleChannel:d,markDef:o,config:i,scaleType:h,isCountAggregate:w5(p)});m!=="show"&&m!=="always-valid"&&(u[c.field]=c)}return u},{});return vt(l).length?new Xx(t,l):null}dependentFields(){return new Set(vt(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${xr(this.filter)}`}assemble(){const t=vt(this.filter).reduce((n,r)=>{const i=this.filter[r],o=Ot(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${o}) || (${yq(o)}))`):i.type==="quantitative"&&n.push(yq(o))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function yq(e){return`isValid(${e}) && isFinite(+${e})`}function ijt(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=Ot(r);return i&&t.push(i),t},[])}function ojt(e){return Yt(e)&&e.every(t=>Kn(t))&&e.length>1}class im extends pi{clone(){return new im(null,qn(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:o,offset:s="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const d of n.sort)a.push(d.field),l.push(Fo(d.order,"ascending"));const u={field:a,order:l};let c;return ojt(o)?c=o:Kn(o)?c=[o,`${o}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new im(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:s,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:o,fieldChannel:s,offset:a,impute:l}=r,u=o.map(h=>{const p=i[h];return rf(p)}).filter(h=>!!h),c=ijt(n),d=n.encoding.order;let f;if(Yt(d)||Et(d))f=MPe(d);else{const h=S3e(d)?d.sort:s==="y"?"descending":"ascending";f=c.reduce((p,m)=>(p.field.includes(m)||(p.field.push(m),p.order.push(h)),p),{field:[],order:[]})}return new im(t,{dimensionFieldDefs:u,stackField:n.vgField(s),facetby:[],stackby:c,sort:f,offset:a,impute:l,as:[n.vgField(s,{suffix:"start",forAs:!0}),n.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${xr(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[Ot(i,{binSuffix:"mid"})]:[Ot(i,{}),Ot(i,{binSuffix:"end"})]:[Ot(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:o,sort:s,offset:a,impute:l,as:u}=this._stack;if(l)for(const c of r){const{bandPosition:d=.5,bin:f}=c;if(f){const h=Ot(c,{expr:"datum"}),p=Ot(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${yq(h)} ? ${d}*${h}+${1-d}*${p} : ${h}`,as:Ot(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...o,...n],key:Ot(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:s,as:u,offset:a}),t}}class KC extends pi{clone(){return new KC(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=ah(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??Ot(t)}hash(){return`WindowTransform ${xr(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const d of this.transform.window)n.push(d.op),r.push(this.getDefaultName(d)),i.push(d.param===void 0?null:d.param),t.push(d.field===void 0?null:d.field);const o=this.transform.frame,s=this.transform.groupby;if(o&&o[0]===null&&o[1]===null&&n.every(d=>ZJ(d)))return{type:"joinaggregate",as:r,ops:n,fields:t,...s!==void 0?{groupby:s}:{}};const a=[],l=[];if(this.transform.sort!==void 0)for(const d of this.transform.sort)a.push(d.field),l.push(d.order??"ascending");const u={field:a,order:l},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:u,...c!==void 0?{ignorePeers:c}:{},...s!==void 0?{groupby:s}:{},...o!==void 0?{frame:o}:{}}}}function sjt(e){function t(n){if(!(n instanceof YC)){const r=n.clone();if(r instanceof Jl){const i=bq+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof Ud||r instanceof im||r instanceof KC||r instanceof e1)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function vq(e){if(e instanceof YC)if(e.numChildren()===1&&!(e.children[0]instanceof Jl)){const t=e.children[0];(t instanceof Ud||t instanceof im||t instanceof KC||t instanceof e1)&&t.addDimensions(e.fields),t.swapWithParent(),vq(e)}else{const t=e.model.component.data.main;kNe(t);const n=sjt(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(vq)}function kNe(e){if(e instanceof Jl&&e.type===ao.Main&&e.numChildren()===1){const t=e.children[0];t instanceof YC||(t.swapWithParent(),kNe(e))}}const bq="scale_",pI=5;function wq(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!wq(t.children))return!1}return!0}function cd(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function kpe(e,t,n){let r=e.sources,i=!1;return i=cd(new X8t,r)||i,i=cd(new Y8t(t),r)||i,r=r.filter(o=>o.numChildren()>0),i=cd(new Z8t,r)||i,r=r.filter(o=>o.numChildren()>0),n||(i=cd(new Q8t,r)||i,i=cd(new njt(t),r)||i,i=cd(new K8t,r)||i,i=cd(new J8t,r)||i,i=cd(new tjt,r)||i,i=cd(new ejt,r)||i,i=cd(new G8t,r)||i,i=cd(new rjt,r)||i),e.sources=r,i}function ajt(e,t){wq(e.sources);let n=0,r=0;for(let i=0;i<pI&&kpe(e,t,!0);i++)n++;e.sources.map(vq);for(let i=0;i<pI&&kpe(e,t,!1);i++)r++;wq(e.sources),Math.max(n,r)===pI&&Ct(`Maximum optimization runs(${pI}) reached.`)}class Ss{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Ss(()=>t(n))}}function ANe(e){oo(e)?ljt(e):ujt(e)}function ljt(e){const t=e.component.scales;for(const n of vt(t)){const r=djt(e,n);if(t[n].setWithExplicit("domains",r),hjt(e,n),e.component.data.isFaceted){let o=e;for(;!Uu(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const a of r.value)Hp(a)&&(a.data=bq+a.data.replace(bq,""))}}}function ujt(e){for(const n of e.children)ANe(n);const t=e.component.scales;for(const n of vt(t)){let r,i=null;for(const o of e.children){const s=o.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=F0(r,s.getWithExplicit("domains"),"domains","scale",xq);const a=s.get("selectionExtent");i&&a&&i.param!==a.param&&Ct(M4t),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function cjt(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:o}=Ape(t,n);if(!i){Ct(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=Ape(t,n);if(i)return"unaggregated"}return e}function djt(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=cjt(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&cs(r.x2)?cs(r.x)?F0(Tg(n,i,e,"x"),Tg(n,i,e,"x2"),"domain","scale",xq):Tg(n,i,e,"x2"):t==="y"&&cs(r.y2)?cs(r.y)?F0(Tg(n,i,e,"y"),Tg(n,i,e,"y2"),"domain","scale",xq):Tg(n,i,e,"y2"):Tg(n,i,e,t)}function fjt(e,t,n){return e.map(r=>({signal:`{data: ${O5(r,{timeUnit:n,type:t})}}`}))}function Z9(e,t,n){const r=Ms(n)?.unit;return t==="temporal"||r?fjt(e,t,r):[e]}function Tg(e,t,n,r){const{encoding:i,markDef:o,mark:s,config:a,stack:l}=n,u=cs(i[r]),{type:c}=u,d=u.timeUnit,f=j$t({invalid:Mh("invalid",o,a),isPath:cy(s)});if(a6t(t)){const m=Tg(e,void 0,n,r),g=Z9(t.unionWith,c,d);return Kf([...g,...m.value])}else{if(tn(t))return Kf([t]);if(t&&t!=="unaggregated"&&!l3e(t))return Kf(Z9(t,c,d))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return Eu([[0,1]]);const m=n.requestDataName(f);return Eu([{data:m,field:n.vgField(r,{suffix:"start"})},{data:m,field:n.vgField(r,{suffix:"end"})}])}const h=np(r)&&Et(u)?pjt(n,r,e):void 0;if(rp(u)){const m=Z9([u.datum],c,d);return Eu(m)}const p=u;if(t==="unaggregated"){const{field:m}=u;return Eu([{data:n.requestDataName(f),field:Ot({field:m,aggregate:"min"})},{data:n.requestDataName(f),field:Ot({field:m,aggregate:"max"})}])}else if(Pi(p.bin)){if($s(e))return Eu(e==="bin-ordinal"?[]:[{data:rT(h)?n.requestDataName(f):n.requestDataName(ao.Raw),field:n.vgField(r,qk(p,r)?{binSuffix:"range"}:{}),sort:h===!0||!Lr(h)?{field:n.vgField(r,{}),op:"min"}:h}]);{const{bin:m}=p;if(Pi(m)){const g=eee(n,p.field,m);return Eu([new Ss(()=>{const v=n.getSignalName(g);return`[${v}.start, ${v}.stop]`})])}else return Eu([{data:n.requestDataName(f),field:n.vgField(r,{})}])}}else if(p.timeUnit&&pr(["time","utc"],e)){const m=i[tp(r)];if(E3e(p,m,o,a)){const g=n.requestDataName(f),v=L0({fieldDef:p,fieldDef2:m,markDef:o,config:a}),y=oT(s)&&v!==.5&&jo(r);return Eu([{data:g,field:n.vgField(r,y?{suffix:j5}:{})},{data:g,field:n.vgField(r,{suffix:y?B5:"end"})}])}}return Eu(h?[{data:rT(h)?n.requestDataName(f):n.requestDataName(ao.Raw),field:n.vgField(r),sort:h}]:[{data:n.requestDataName(f),field:n.vgField(r)}])}function eB(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":R5),...r?{field:zc(r)}:{},...i?{order:i}:{}}}function hjt(e,t){const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=e.fieldDef(t)?.bin,o=l3e(r)?r:void 0,s=Gb(i)&&x5(i.extent)?i.extent:void 0;(o||s)&&n.set("selectionExtent",o??s,!0)}function pjt(e,t,n){if(!$s(n))return;const r=e.fieldDef(t),i=r.sort;if(C3e(i))return{op:"min",field:Yx(r,t),order:"ascending"};const{stack:o}=e,s=o?new Set([...o.groupbyFields,...o.stackBy.map(a=>a.fieldDef.field)]):void 0;if(nm(i)){const a=o&&!s.has(i.field);return eB(i,a)}else if(j6t(i)){const{encoding:a,order:l}=i,u=e.fieldDef(a),{aggregate:c,field:d}=u,f=o&&!s.has(d);if(bm(c)||uy(c))return eB({field:Ot(u),order:l},f);if(ZJ(c)||!c)return eB({op:c,field:d,order:l},f)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(pr(["ascending",void 0],i))return!0}}function Ape(e,t){const{aggregate:n,type:r}=e;return n?Kn(n)&&!v4t.has(n)?{valid:!1,reason:cMt(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:dMt(e)}:{valid:!0}:{valid:!1,reason:uMt(e)}}function xq(e,t,n,r){return e.explicit&&t.explicit&&Ct(gMt(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function mjt(e){const t=ah(e.map(s=>{if(Hp(s)){const{sort:a,...l}=s;return l}return s}),xr),n=ah(e.map(s=>{if(Hp(s)){const a=s.sort;return a!==void 0&&!rT(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(s=>s!==void 0),xr);if(t.length===0)return;if(t.length===1){const s=e[0];if(Hp(s)&&n.length>0){let a=n[0];if(n.length>1){Ct(Ihe);const l=n.filter(u=>Lr(u)&&"op"in u&&u.op!=="min");n.every(u=>Lr(u)&&"op"in u)&&l.length===1?a=l[0]:a=!0}else if(Lr(a)&&"field"in a){const l=a.field;s.field===l&&(a=a.order?{order:a.order}:!0)}return{...s,sort:a}}return s}const r=ah(n.map(s=>rT(s)||!("op"in s)||Kn(s.op)&&Go(p4t,s.op)?s:(Ct(vMt(s)),!0)),xr);let i;r.length===1?i=r[0]:r.length>1&&(Ct(Ihe),i=!0);const o=ah(e.map(s=>Hp(s)?s.data:null),s=>s);return o.length===1&&o[0]!==null?{data:o[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function iee(e){if(Hp(e)&&Kn(e.field))return e.field;if(b4t(e)){let t;for(const n of e.fields)if(Hp(n)&&Kn(n.field)){if(!t)t=n.field;else if(t!==n.field)return Ct(bMt),t}return Ct(wMt),t}else if(w4t(e)){Ct(xMt);const t=e.fields[0];return Kn(t)?t:void 0}}function K5(e,t){const r=e.component.scales[t].get("domains").map(i=>(Hp(i)&&(i.data=e.lookupDataSource(i.data)),i));return mjt(r)}function RNe(e){return XC(e)||oee(e)?e.children.reduce((t,n)=>t.concat(RNe(n)),Rpe(e)):Rpe(e)}function Rpe(e){return vt(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:s,selectionExtent:a,domains:l,range:u,reverse:c,...d}=i,f=gjt(i.range,o,n,e),h=K5(e,n),p=a?sLt(e,a,r,h):null;return t.push({name:o,type:s,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:f,...c!==void 0?{reverse:c}:{},...d}),t},[])}function gjt(e,t,n,r){if(jo(n)){if(Yb(e))return{step:{signal:`${t}_step`}}}else if(Lr(e)&&Hp(e))return{...e,data:r.lookupDataSource(e.data)};return e}class INe extends Gm{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(pr([ea.LOG,ea.TIME,ea.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&pr([ea.LINEAR,ea.SQRT,ea.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,o=!1,s=!1;for(const a of r){if(Yt(a)){const l=a[0],u=a[a.length-1];if(Ji(l)&&Ji(u))if(l<=0&&u>=0){i=!0;continue}else{o=!0;continue}}s=!0}if(i)return"definitely";if(o&&!s)return"definitely-not"}return"maybe"}}const yjt=["range","scheme"];function vjt(e){const t=e.component.scales;for(const n of JJ){const r=t[n];if(!r)continue;const i=bjt(n,e);r.setWithExplicit("range",i)}}function Ipe(e,t){const n=e.fieldDef(t);if(n?.bin){const{bin:r,field:i}=n,o=su(t),s=e.getName(o);if(Lr(r)&&r.binned&&r.step!==void 0)return new Ss(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${l})`});if(Pi(r)){const a=eee(e,i,r);return new Ss(()=>{const l=e.getSignalName(a),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(s)} / (${u})`})}}}function bjt(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const d of yjt)if(n[d]!==void 0){const f=JH(o,d),h=u3e(e,d);if(!f)Ct(UPe(o,d,e));else if(h)Ct(h);else switch(d){case"range":{const p=n.range;if(Yt(p)){if(jo(e))return Kf(p.map(m=>{if(m==="width"||m==="height"){const g=t.getName(m),v=t.getSignalName.bind(t);return Ss.fromName(v,g)}return m}))}else if(Lr(p))return Kf({data:t.requestDataName(ao.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return Kf(p)}case"scheme":return Kf(wjt(n[d]))}}const s=e===Zi||e==="xOffset"?"width":"height",a=r[s];if(Lh(a)){if(jo(e))if($s(o)){const d=PNe(a,t,e);if(d)return Kf({step:d})}else Ct(HPe(s));else if(Lk(e)){const d=e===ry?"x":"y";if(t.getScaleComponent(d).get("type")==="band"){const p=ONe(a,o);if(p)return Kf(p)}}}const{rangeMin:l,rangeMax:u}=n,c=xjt(e,t);return(l!==void 0||u!==void 0)&&JH(o,"rangeMin")&&Yt(c)&&c.length===2?Kf([l??c[0],u??c[1]]):Eu(c)}function wjt(e){return s6t(e)?{scheme:e.name,...Ql(e,["name"])}:{scheme:e}}function DNe(e,t,n,{center:r}={}){const i=su(e),o=t.getName(i),s=t.getSignalName.bind(t);return e===js&&tf(n)?r?[Ss.fromName(a=>`${s(a)}/2`,o),Ss.fromName(a=>`-${s(a)}/2`,o)]:[Ss.fromName(s,o),0]:r?[Ss.fromName(a=>`-${s(a)}/2`,o),Ss.fromName(a=>`${s(a)}/2`,o)]:[0,Ss.fromName(s,o)]}function xjt(e,t){const{size:n,config:r,mark:i,encoding:o}=t,{type:s}=cs(o[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case Zi:case js:{if(pr(["point","band"],l)){const d=NNe(e,n,r.view);if(Lh(d))return{step:PNe(d,t,e)}}return DNe(e,t,l)}case ry:case HC:return Cjt(e,t,l);case Hm:{const d=Sjt(i,r),f=Tjt(i,n,t,r);return zx(l)?Ejt(d,f,_jt(l,r,u,e)):[d,f]}case Jc:return[0,Math.PI*2];case Vb:return[0,360];case xf:return[0,new Ss(()=>{const d=t.getSignalName(Uu(t.parent)?"child_width":"width"),f=t.getSignalName(Uu(t.parent)?"child_height":"height");return`min(${d},${f})/2`})];case iy:return{step:1e3/r.scale.framesPerSecond};case ay:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case ly:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case ou:return"symbol";case iu:case Zh:case ep:return l==="ordinal"?s==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case qm:case oy:case sy:return[r.scale.minOpacity,r.scale.maxOpacity]}}function PNe(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=YJ(n),s=r[o];if(nOe({step:e,offsetIsDiscrete:Wn(s)&&r3e(s.type)})==="offset"&&$3e(r,o)){const l=t.getScaleComponent(o);let c=`domain('${t.scaleName(o)}').length`;if(l.get("type")==="band"){const f=l.get("paddingInner")??l.get("padding")??0,h=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${f}, ${h})`}const d=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${E4t(d)})`}}else return e.step}function ONe(e,t){if(nOe({step:e,offsetIsDiscrete:$s(t)})==="offset")return{step:e.step}}function Cjt(e,t,n){const r=e===ry?"x":"y",i=t.getScaleComponent(r);if(!i)return DNe(r,t,n,{center:!0});const o=i.get("type"),s=t.scaleName(r),{markDef:a,config:l}=t;if(o==="band"){const u=NNe(r,t.size,t.config.view);if(Lh(u)){const c=ONe(u,n);if(c)return c}return[0,{signal:`bandwidth('${s}')`}]}else{const u=t.encoding[r];if(Et(u)&&u.timeUnit){const c=ZPe(u.timeUnit,p=>`scale('${s}', ${p})`),d=t.config.scale.bandWithNestedOffsetPaddingInner,f=L0({fieldDef:u,markDef:a,config:l})-.5,h=f!==0?` + ${f}`:"";if(d){const p=tn(d)?`${d.signal}/2`+h:`${d/2+f}`,m=tn(d)?`(1 - ${d.signal}/2)`+h:`${1-d/2+f}`;return[{signal:`${p} * (${c})`},{signal:`${m} * (${c})`}]}return[0,{signal:c}]}return cPe(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function NNe(e,t,n){const r=e===Zi?"width":"height",i=t[r];return i||BN(n,r)}function _jt(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&Yt(n)?n.length+1:(Ct(IMt(r)),3)}}function Ejt(e,t,n){const r=()=>{const i=Nd(t),o=Nd(e),s=`(${i} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${i} + ${s}, ${s})`};return tn(t)?new Ss(r):{signal:r()}}function Sjt(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(C5("size",e))}const Dpe=.95;function Tjt(e,t,n,r){const i={x:Ipe(n,"x"),y:Ipe(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=Ppe(t,i,r.view);return Ji(o)?o-1:new Ss(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=Ppe(t,i,r.view);return Ji(o)?Math.pow(Dpe*o,2):new Ss(()=>`pow(${Dpe} * ${o.signal}, 2)`)}}throw new Error(C5("size",e))}function Ppe(e,t,n){const r=Lh(e.width)?e.width.step:nq(n,"width"),i=Lh(e.height)?e.height.step:nq(n,"height");return t.x||t.y?new Ss(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function MNe(e,t){oo(e)?kjt(e,t):LNe(e,t)}function kjt(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:s}=e;for(const a of vt(n)){const l=s[a],u=n[a],c=e.getScaleComponent(a),d=cs(i[a]),f=l[t],h=c.get("type"),p=c.get("padding"),m=c.get("paddingInner"),g=JH(h,t),v=u3e(a,t);if(f!==void 0&&(g?v&&Ct(v):Ct(UPe(h,t,a))),g&&v===void 0)if(f!==void 0){const y=d.timeUnit,x=d.type;switch(t){case"domainMax":case"domainMin":Kb(l[t])||x==="temporal"||y?u.set(t,{signal:O5(l[t],{type:x,timeUnit:y})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const y=bt(Ope,t)?Ope[t]({model:e,channel:a,fieldOrDatumDef:d,scaleType:h,scalePadding:p,scalePaddingInner:m,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:r,hasNestedOffsetScale:L3e(i,a),hasSecondaryRangeChannel:!!i[tp(a)]}):r.scale[t];y!==void 0&&u.set(t,y,!1)}}}const Ope={bins:({model:e,fieldOrDatumDef:t})=>Et(t)?Ajt(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>Rjt(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:o})=>Ijt(e,t,n,r,i,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>Djt(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:o})=>Pjt(e,t,n.type,r,i.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:o})=>Ojt(e,t,n,r,i.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=Et(e)?e.sort:void 0;return Njt(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:o,hasSecondaryRangeChannel:s})=>Mjt(e,t,n,r,i,o.scale,s)};function $Ne(e){oo(e)?vjt(e):LNe(e,"range")}function LNe(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?$Ne(r):MNe(r,t);for(const r of vt(n)){let i;for(const o of e.children){const s=o.component.scales[r];if(s){const a=s.getWithExplicit(t);i=F0(i,a,t,"scale",mOe((l,u)=>t==="range"&&l.step&&u.step?l.step-u.step:0))}}n[r].setWithExplicit(t,i)}}function Ajt(e,t){const n=t.bin;if(Pi(n)){const r=eee(e,t.field,n);return new Ss(()=>e.getSignalName(r))}else if(Qs(n)&&Gb(n)&&n.step!==void 0)return{step:n.step}}function Rjt(e,t){if(pr([iu,Zh,ep],e)&&t!=="nominal")return"hcl"}function Ijt(e,t,n,r,i,o){if(!(rf(o)?.bin||Yt(n)||i!=null||r!=null||pr([ea.TIME,ea.UTC],e)))return jo(t)?!0:void 0}function Djt(e,t,n,r,i,o){if(jo(e)){if(lh(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:a}=i;if(s==="bar"&&!(Et(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===ea.POINT)return n.pointPadding}}function Pjt(e,t,n,r,i,o=!1){if(e===void 0){if(jo(t)){const{bandPaddingInner:s,barBandPaddingInner:a,rectBandPaddingInner:l,tickBandPaddingInner:u,bandWithNestedOffsetPaddingInner:c}=i;return o?c:Fo(s,n==="bar"?a:n==="tick"?u:l)}else if(Lk(t)&&r===ea.BAND)return i.offsetBandPaddingInner}}function Ojt(e,t,n,r,i,o=!1){if(e===void 0){if(jo(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:a}=i;if(o)return a;if(n===ea.BAND)return Fo(s,tn(r)?{signal:`${r.signal}/2`}:r/2)}else if(Lk(t)){if(n===ea.POINT)return .5;if(n===ea.BAND)return i.offsetBandPaddingOuter}}}function Njt(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return tf(e)&&t==="descending"?tn(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(tf(e)&&t==="descending")return!0}function Mjt(e,t,n,r,i,o,s){if(!!n&&n!=="unaggregated"&&tf(i)){if(Yt(n)){const l=n[0],u=n[n.length-1];if(Ji(l)&&l<=0&&Ji(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!zx(i))return!0;if(!(Et(t)&&t.bin)&&pr([...Vm,...o4t],e)){const{orient:l,type:u}=r;return pr(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:pr(["bar","area"],u)&&!s?!0:o?.zero}return!1}function $jt(e,t,n,r,i=!1){const o=Ljt(t,n,r,i),{type:s}=e;return np(t)?s!==void 0?h6t(t,s)?Et(n)&&!f6t(s,n.type)?(Ct(pMt(s,o)),o):s:(Ct(hMt(t,s,o)),o):o:null}function Ljt(e,t,n,r){switch(t.type){case"nominal":case"ordinal":{if(Vw(e)||j9(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&Ct(B9(e,"ordinal")),"ordinal";if(F9(e))return"band";if(jo(e)||Lk(e)){if(pr(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in QJ)return"band";const i=n[su(e)];return pb(i)||Hx(t)&&t.axis?.tickBand?"band":"point"}case"temporal":return Vw(e)?"time":j9(e)==="discrete"?(Ct(B9(e,"temporal")),"ordinal"):Et(t)&&t.timeUnit&&Ms(t.timeUnit).utc?"utc":F9(e)?"band":"time";case"quantitative":return Vw(e)?Et(t)&&Pi(t.bin)?"bin-ordinal":"linear":j9(e)==="discrete"?(Ct(B9(e,"quantitative")),"ordinal"):F9(e)?"band":"linear";case"geojson":return}throw new Error(BPe(t.type))}function Fjt(e,{ignoreRange:t}={}){FNe(e),ANe(e);for(const n of d6t)MNe(e,n);t||$Ne(e)}function FNe(e){oo(e)?e.component.scales=jjt(e):e.component.scales=zjt(e)}function jjt(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of JJ){const s=cs(t[o]);if(s&&n===f3e&&o===ou&&s.type===qC)continue;let a=s&&s.scale;if(s&&a!==null&&a!==!1){a??(a={});const l=L3e(t,o),u=$jt(a,o,s,r,l);i[o]=new INe(e.scaleName(`${o}`,!0),{value:u,explicit:a.type===u})}}return i}const Bjt=mOe((e,t)=>Phe(e)-Phe(t));function zjt(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const o of e.children){FNe(o);for(const s of vt(o.component.scales))if((t=i.scale)[s]??(t[s]=mNe(s,e)),i.scale[s]==="shared"){const a=r[s],l=o.component.scales[s].getWithExplicit("type");a?t6t(a.value,l.value)?r[s]=F0(a,l,"type","scale",Bjt):(i.scale[s]="independent",delete r[s]):r[s]=l}}for(const o of vt(r)){const s=e.scaleName(o,!0),a=r[o];n[o]=new INe(s,a);for(const l of e.children){const u=l.component.scales[o];u&&(l.renameScale(u.get("name"),s),u.merged=!0)}}return n}class tB{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function oo(e){return e?.type==="unit"}function Uu(e){return e?.type==="facet"}function oee(e){return e?.type==="concat"}function XC(e){return e?.type==="layer"}class see{constructor(t,n,r,i,o,s,a){this.type=n,this.parent=r,this.config=o,this.parent=r,this.config=o,this.view=Js(a),this.name=t.name??i,this.title=Ng(t.title)?{text:t.title}:t.title?Js(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new tB,this.projectionNameMap=r?r.projectionNameMap:new tB,this.signalNameMap=r?r.signalNameMap:new tB,this.data=t.data,this.description=t.description,this.transforms=k$t(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:D5t(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:I5(t)||r?.component.data.isFaceted&&t.data===void 0},layoutSize:new Gm,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...s?qn(s):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){Fjt(this)}parseProjection(){SNe(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){wNe(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const o of vt(r)){const s=r[o];s!==void 0&&(i[o]=zi(s))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=zi(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:yi(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,o=a8t(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of kc)t[r].title&&n.push(t8t(this,r));for(const r of XZ)n=n.concat(n8t(this,r));return n}assembleAxes(){return UFt(this.component.axes,this.config)}assembleLegends(){return CNe(this)}assembleProjections(){return I8t(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...DPe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return pr(["unit","layer"],this.type)?pr(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),yi(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||Uu(this.parent)?RNe(this):[];i.length>0&&(n.scales=i);const o=this.assembleAxes();o.length>0&&(n.axes=o);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return Ki((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(ao[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(Uu(this.parent)){const n=hNe(t),r=b5(n),i=this.component.scales[r];if(i&&!i.merged){const o=i.get("type"),s=i.get("range");if($s(o)&&Yb(s)){const a=i.get("name"),l=K5(this,r),u=iee(l);if(u){const c=Ot({aggregate:"distinct",field:u},{expr:"datum"});return{signal:fNe(a,i,c)}}else return Ct(tZ(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(_Pe(t)&&np(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(R4t(n));return r}hasAxisOrientSignalRef(){return this.component.axes.x?.some(t=>t.hasOrientSignalRef())||this.component.axes.y?.some(t=>t.hasOrientSignalRef())}}class jNe extends see{vgField(t,n={}){const r=this.fieldDef(t);if(r)return Ot(r,n)}reduceFieldDef(t,n){return s5t(this.getMapping(),(r,i,o)=>{const s=rf(i);return s?t(r,s,o):r},n)}forEachFieldDef(t,n){RZ(this.getMapping(),(r,i)=>{const o=rf(r);o&&t(o,i)},n)}}class X5 extends pi{clone(){return new X5(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${xr(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class Q5 extends pi{clone(){return new Q5(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qn(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${xr(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class J5 extends pi{clone(){return new J5(this.parent,qn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qn(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((o,s)=>i[s]??o)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${xr(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class Z5 extends pi{clone(){return new Z5(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${xr(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class Yw extends pi{clone(){return new Yw(null,qn(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[_f,Cf],[Uc,Ef]]){const o=i.map(s=>{const a=cs(n.encoding[s]);return Et(a)?a.field:rp(a)?{expr:`${a.datum}`}:nf(a)?{expr:`${a.value}`}:void 0});(o[0]||o[1])&&(t=new Yw(t,o,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(ou)){const i=n.typedFieldDef(ou);i.type===qC&&(t=new Yw(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(Kn);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${xr(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class uT extends pi{clone(){return new uT(null,this.projection,qn(this.fields),qn(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[_f,Cf],[Uc,Ef]]){const i=r.map(s=>{const a=cs(n.encoding[s]);return Et(a)?a.field:rp(a)?{expr:`${a.datum}`}:nf(a)?{expr:`${a.value}`}:void 0}),o=r[0]===Uc?"2":"";(i[0]||i[1])&&(t=new uT(t,n.projectionName(),i,[n.getName(`x${o}`),n.getName(`y${o}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Kn))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${xr(this.fields)} ${xr(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Fv extends pi{clone(){return new Fv(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new Fv(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,o=r.y;if(Et(i)&&Et(o)){const s=i.impute?i:o.impute?o:void 0;if(s===void 0)return;const a=i.impute?o:o.impute?i:void 0,{method:l,value:u,frame:c,keyvals:d}=s.impute,f=B3e(n.mark,r);return new Fv(t,{impute:s.field,key:a.field,...l?{method:l}:{},...u!==void 0?{value:u}:{},...c?{frame:c}:{},...d!==void 0?{keyvals:d}:{},...f.length?{groupby:f}:{}})}return null}hash(){return`Impute ${xr(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:o,value:s,frame:a=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:l$t(r)?this.processSequence(r):r}:{},method:"value",...o?{groupby:o}:{},value:!i||i==="value"?s:null};if(i&&i!=="value"){const u={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...o?{groupby:o}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class e$ extends pi{clone(){return new e$(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${xr(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class cT extends pi{clone(){return new cT(null,qn(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const o=n.component.data.sources,{from:s}=r;let a=null;if(u$t(s)){let l=UNe(s.data,o);l||(l=new wb(s.data),o.push(l));const u=n.getName(`lookup_${i}`);a=new Jl(l,u,ao.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=a}else if(c$t(s)){const l=s.param;r={as:l,...r};let u;try{u=n.getSelectionComponent(Ki(l),l)}catch{throw new Error(O4t(l))}if(a=u.materialized,!a)throw new Error(N4t(l))}return new cT(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Lo(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${xr({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:Lo(this.transform.as)}:{}};else{let n=this.transform.as;Kn(n)||(Ct(V4t),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class t$ extends pi{clone(){return new t$(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${xr(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class n$ extends pi{clone(){return new n$(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${xr(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class r$ extends pi{clone(){return new r$(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=ah((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${xr(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:o}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...o!==void 0?{op:o}:{},...r!==void 0?{groupby:r}:{}}}}class i$ extends pi{clone(){return new i$(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${xr(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function BNe(e){let t=0;function n(r,i){if(r instanceof wb&&!r.isGenerator&&!Vx(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Ma&&(r.parent instanceof wb&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof YC){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof Xk||r instanceof Qk||r instanceof Xx||r instanceof GC||r instanceof Gx||r instanceof uT||r instanceof Ud||r instanceof cT||r instanceof KC||r instanceof e1||r instanceof Z5||r instanceof J5||r instanceof X5||r instanceof e$||r instanceof t$||r instanceof n$||r instanceof j0||r instanceof i$||r instanceof r$||r instanceof Q5)&&i.transform.push(r.assemble()),(r instanceof Eh||r instanceof Ch||r instanceof Fv||r instanceof im||r instanceof Yw)&&i.transform.push(...r.assemble()),r instanceof Jl&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof Jl?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof Jl&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const s of r.children)n(s,{name:null,source:o,transform:[]});break}}}return n}function Ujt(e){const t=[],n=BNe(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function Hjt(e,t){const n=[],r=BNe(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName=`source_${i++}`);const a=s.assemble();r(s,a)}for(const s of n)s.transform.length===0&&delete s.transform;let o=0;for(const[s,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(o++,0,n.splice(s,1)[0]);for(const s of n)for(const a of s.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const s of n)s.name in t&&(s.values=t[s.name]);return n}function qjt(e){return e==="top"||e==="left"||tn(e)?"header":"footer"}function Vjt(e){for(const t of kc)Wjt(e,t);Npe(e,"x"),Npe(e,"y")}function Wjt(e,t){const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){const s=n[t],a=Kx("title",null,r,t);let l=Ww(s,r,{allowDisabling:!0,includeDefault:a===void 0||!!a});i.component.layoutHeaders[t].title&&(l=Yt(l)?l.join(", "):l,l+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const u=Kx("labelOrient",s.header,r,t),c=s.header!==null?Fo(s.header?.labels,r.header.labels,!0):!1,d=pr(["bottom","right"],u)?"footer":"header";o.layoutHeaders[t]={title:s.header!==null?l:null,facetFieldDef:s,[d]:t==="facet"?[]:[zNe(e,t,c)]}}}function zNe(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function Npe(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=ZZ(i,t),i.axis[t]==="shared"){const o=t==="x"?"column":"row",s=r[o];for(const a of n.component.axes[t]){const l=qjt(a.get("orient"));s[l]??(s[l]=[zNe(e,o,!1)]);const u=oS(a,"main",e.config,{header:!0});u&&s[l][0].axes.push(u),a.mainExtracted=!0}}}}function Gjt(e){aee(e),GN(e,"width"),GN(e,"height")}function Yjt(e){aee(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";GN(e,t),GN(e,n)}function aee(e){for(const t of e.children)t.parseLayoutSize()}function GN(e,t){const n=hNe(t),r=b5(n),i=e.component.resolve,o=e.component.layoutSize;let s;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),u=i.scale[r]??mNe(r,e);if(u==="independent"&&l.value==="step"){s=void 0;break}if(s){if(u==="independent"&&s.value!==l.value){s=void 0;break}s=F0(s,l,n,"")}else s=l}if(s){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,s)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function Kjt(e){const{size:t,component:n}=e;for(const r of Vm){const i=su(r);if(t[i]){const o=t[i];n.layoutSize.set(i,Lh(o)?"step":o,!0)}else{const o=Xjt(e,i);n.layoutSize.set(i,o,!1)}}}function Xjt(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const o=i.get("type"),s=i.get("range");if($s(o)){const a=BN(r.view,t);return Yb(s)||Lh(a)?"step":a}else return tq(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return tq(r.view,t);{const o=BN(r.view,t);return Lh(o)?o.step:o}}}function Cq(e,t,n){return Ot(t,{suffix:`by_${Ot(e)}`,...n})}class VS extends jNe{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=fee(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!zk(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=vt(t),r={};for(const i of n){if(![em,tm].includes(i)){Ct(C5(i,"facet"));break}const o=t[i];if(o.field===void 0){Ct(XH(o,i));break}r[i]=this.initFacetFieldDef(o,i)}return r}initFacetFieldDef(t,n){const r=AZ(t,n);return r.header?r.header=Js(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return bt(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=o$(this),this.child.parseData()}parseLayoutSize(){aee(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Object.values(this.component.selection).some(t=>_h(t))&&rZ(nZ)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),Vjt(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of kc)for(const r of QZ){const i=this.component.layoutHeaders[n],o=i[r],{facetFieldDef:s}=i;if(s){const a=Kx("titleOrient",s.header,this.config,n);if(["right","bottom"].includes(a)){const l=G5(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(o?.[0]){const a=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof VS))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof VS?{...this.channelHasField("column")?{encode:{update:{columns:{field:Ot(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof VS){if(this.child.channelHasField("column")){const i=Ot(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of Vm){const o=this.child.component.scales[i];if(o&&!o.merged){const s=o.get("type"),a=o.get("range");if($s(s)&&Yb(a)){const l=K5(this.child,i),u=iee(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):Ct(tZ(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:o,ops:s,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of kc){const d=this.facet[c];if(d){l.push(Ot(d));const{bin:f,sort:h}=d;if(Pi(f)&&l.push(Ot(d,{binSuffix:"end"})),nm(h)){const{field:p,op:m=R5}=h,g=Cq(d,h);r&&i?(o.push(g),s.push("max"),a.push(g)):(o.push(p),s.push(m),a.push(g))}else if(Yt(h)){const p=Yx(d,c);o.push(p),s.push("max"),a.push(p)}}}const u=!!r&&!!i;return{name:t,data:n,groupby:l,...u||o.length>0?{aggregate:{...u?{cross:u}:{},...o.length?{fields:o,ops:s,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?nm(r.sort)?[Cq(r,r.sort,{expr:"datum"})]:Yt(r.sort)?[Yx(r,t,{expr:"datum"})]:[Ot(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(nm(i)?i.order:!Yt(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){const{facet:t,config:n}=this;if(t.facet)return mq(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const i of XZ)if(t[i]){const o=Kx("labelOrient",t[i]?.header,n,i);if(r[i].includes(o))return mq(t[i],i,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=Ujt(n),i=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...o?{title:o}:{},...s?{style:s}:{},from:{facet:this.assembleFacet()},sort:{field:kc.map(l=>this.facetSortFields(l)).flat(),order:kc.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(nLt(this,[]))}]}getMapping(){return this.facet}}function Qjt(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const o of[n,r])if(nm(o.sort)){const{field:s,op:a=R5}=o.sort;e=i=new e1(e,{joinaggregate:[{op:a,field:s,as:Cq(o,o.sort,{forAs:!0})}],groupby:[Ot(o)]})}return i}return null}function UNe(e,t){for(const n of t){const r=n.data;if(e.name&&n.hasName()&&e.name!==n.dataName)continue;const i=e.format?.mesh,o=r.format?.feature;if(i&&o)continue;const s=e.format?.feature;if((s||o)&&s!==o)continue;const a=r.format?.mesh;if(!((i||a)&&i!==a)){if(sT(e)&&sT(r)){if(Mu(e.values,r.values))return n}else if(Vx(e)&&Vx(r)){if(e.url===r.url)return n}else if(gOe(e)&&e.name===n.dataName)return n}}return null}function Jjt(e,t){if(e.data||!e.parent){if(e.data===null){const r=new wb({values:[]});return t.push(r),r}const n=UNe(e.data,t);if(n)return h0(e.data)||(n.data.format=dPe({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new wb(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function Zjt(e,t,n){let r=0;for(const i of t.transforms){let o,s;if(w$t(i))s=e=new Gx(e,i),o="derived";else if(BZ(i)){const a=H8t(i);s=e=Ma.makeWithAncestors(e,{},a,n)??e,e=new GC(e,t,i.filter)}else if(dOe(i))s=e=Eh.makeFromTransform(e,i,t),o="number";else if(C$t(i))o="date",n.getWithExplicit(i.field).value===void 0&&(e=new Ma(e,{[i.field]:o}),n.set(i.field,o,!1)),s=e=Ch.makeFromTransform(e,i);else if(_$t(i))s=e=Ud.makeFromTransform(e,i),o="number",WZ(t)&&(e=new j0(e));else if(cOe(i))s=e=cT.make(e,t,i,r++),o="derived";else if(y$t(i))s=e=new KC(e,i),o="number";else if(v$t(i))s=e=new e1(e,i),o="number";else if(E$t(i))s=e=im.makeFromTransform(e,i),o="derived";else if(S$t(i))s=e=new Z5(e,i),o="derived";else if(T$t(i))s=e=new Q5(e,i),o="derived";else if(b$t(i))s=e=new J5(e,i),o="derived";else if(d$t(i))s=e=new r$(e,i),o="derived";else if(g$t(i))e=new i$(e,i);else if(x$t(i))s=e=Fv.makeFromTransform(e,i),o="derived";else if(f$t(i))s=e=new X5(e,i),o="derived";else if(h$t(i))s=e=new t$(e,i),o="derived";else if(p$t(i))s=e=new n$(e,i),o="derived";else if(m$t(i))s=e=new e$(e,i),o="derived";else{Ct(q4t(i));continue}if(s&&o!==void 0)for(const a of s.producedFields()??[])n.set(a,o,!1)}return e}function o$(e){let t=Jjt(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,s=!(i&&(h0(i)||Vx(i)||sT(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new F$t;h0(i)?(yOe(i)?t=new Qk(t,i.sequence):zZ(i)&&(t=new Xk(t,i.graticule)),s.parseNothing=!0):i?.format?.parse===null&&(s.parseNothing=!0),t=Ma.makeExplicit(t,e,s)??t,t=new j0(t);const a=e.parent&&XC(e.parent);(oo(e)||Uu(e))&&a&&(t=Eh.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=Zjt(t,e,s));const l=V8t(e),u=q8t(e);t=Ma.makeWithAncestors(t,{},{...l,...u},s)??t,oo(e)&&(t=Yw.parseAll(t,e),t=uT.parseAll(t,e)),(oo(e)||Uu(e))&&(a||(t=Eh.makeFromEncoding(t,e)??t),t=Ch.makeFromEncoding(t,e)??t,t=Gx.parseAllForSortIndex(t,e));const c=t=mI(ao.Raw,e,t);if(oo(e)){const g=Ud.makeFromEncoding(t,e);g&&(t=g,WZ(e)&&(t=new j0(t))),t=Fv.makeFromEncoding(t,e)??t,t=im.makeFromEncoding(t,e)??t}let d,f;if(oo(e)){const{markDef:g,mark:v,config:y}=e,x=gi("invalid",g,y),{marks:E,scales:_}=f=bOe({invalid:x,isPath:cy(v)});E!==_&&_==="include-invalid-values"&&(d=t=mI(ao.PreFilterInvalid,e,t)),E==="exclude-invalid-values"&&(t=Xx.make(t,e,f)??t)}const h=t=mI(ao.Main,e,t);let p;if(oo(e)&&f){const{marks:g,scales:v}=f;g==="include-invalid-values"&&v==="exclude-invalid-values"&&(t=Xx.make(t,e,f)??t,p=t=mI(ao.PostFilterInvalid,e,t))}oo(e)&&BFt(e,h);let m=null;if(Uu(e)){const g=e.getName("facet");t=Qjt(t,e.facet)??t,m=new YC(t,e,g,h.getSource()),n[g]=m}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:h,facetRoot:m,ancestorParse:s,preFilterInvalid:d,postFilterInvalid:p}}function mI(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,o=t.getDataName(e),s=new Jl(n,o,e,i);return r[o]=s,s}class e9t extends see{constructor(t,n,r,i){super(t,"concat",n,r,i,t.resolve),(t.resolve?.axis?.x==="shared"||t.resolve?.axis?.y==="shared")&&Ct(z4t),this.children=this.getChildren(t).map((o,s)=>fee(o,this,this.getName(`concat_${s}`),void 0,i))}parseData(){this.component.data=o$(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of vt(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>_h(t))&&rZ(nZ)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return $5(t)?t.vconcat:FZ(t)?t.hconcat:t.concat}parseLayoutSize(){Yjt(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=JZ(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function t9t(e){return e===!1||e===null}const n9t={disable:1,gridScale:1,scale:1,...N3e,labelExpr:1,encode:1},HNe=vt(n9t);class lee extends Gm{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new lee(qn(this.explicit),qn(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!t9t(this.get(t))}hasOrientSignalRef(){return tn(this.explicit.orient)}}function r9t(e,t,n){const{encoding:r,config:i}=e,o=cs(r[t])??cs(r[tp(t)]),s=e.axis(t)||{},{format:a,formatType:l}=s;if(mb(l))return{text:Md({fieldOrDatumDef:o,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if(Ux(o)==="quantitative"){if(Hx(o)&&o.stack==="normalize"&&i.normalizedNumberFormatType)return{text:Md({fieldOrDatumDef:o,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:Md({fieldOrDatumDef:o,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(Ux(o)==="temporal"&&i.timeFormatType&&Et(o)&&!o.timeUnit)return{text:Md({fieldOrDatumDef:o,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function i9t(e){return Vm.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[d9t(n,e)]),t),{})}const o9t={bottom:"top",top:"bottom",left:"right",right:"left"};function s9t(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const o of vt(i.component.axes))n.axis[o]=ZZ(e.component.resolve,o),n.axis[o]==="shared"&&(t[o]=a9t(t[o],i.component.axes[o]),t[o]||(n.axis[o]="independent",delete t[o]))}for(const i of Vm){for(const o of e.children)if(o.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(o.component.axes[i]);for(const s of o.component.axes[i]){const{value:a,explicit:l}=s.getWithExplicit("orient");if(!tn(a)){if(r[a]>0&&!l){const u=o9t[a];r[a]>r[u]&&s.set("orient",u,!1)}r[a]++}}}delete o.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[o,s]of(t[i]||[]).entries())o>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function a9t(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){const s=i.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(s.explicit&&a.explicit&&s.value!==a.value)return;e[r]=l9t(i,o)}}}else return t.map(n=>n.clone());return e}function l9t(e,t){for(const n of HNe){const r=F0(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,o)=>{switch(n){case"title":return FPe(i,o);case"gridScale":return{explicit:i.explicit,value:Fo(i.value,o.value)}}return F5(i,o,n,"axis")});e.setWithExplicit(n,r)}return e}function u9t(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(tn(n.labelAngle)?n.labelAngle:iT(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===lNe(r,i))return!0}return e===n[t]}const c9t=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function d9t(e,t){let n=t.axis(e);const r=new lee,i=cs(t.encoding[e]),{mark:o,config:s}=t,a=n?.orient||s[e==="x"?"axisX":"axisY"]?.orient||s.axis?.orient||XFt(e),l=t.getScaleComponent(e).get("type"),u=HFt(e,l,a,t.config),c=n!==void 0?!n:hq("disable",s.style,n?.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const d=GFt(i,n,e,s.style,u),f=w3e(n.formatType,i,l),h=b3e(i,i.type,n.format,n.formatType,s,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:d,format:h,formatType:f,mark:o,config:s};for(const v of HNe){const y=v in bpe?bpe[v](p):jhe(v)?n[v]:void 0,x=y!==void 0,E=u9t(y,v,n,t,e);if(x&&E)r.set(v,y,E);else{const{configValue:_=void 0,configFrom:S=void 0}=jhe(v)&&v!=="values"?hq(v,s.style,n.style,u):{},T=_!==void 0;x&&!T?r.set(v,y,E):(S!=="vgAxisConfig"||c9t.has(v)&&T||Vk(_)||tn(_))&&r.set(v,_,!1)}}const m=n.encoding??{},g=O3e.reduce((v,y)=>{if(!r.hasAxisPart(y))return v;const x=pNe(m[y]??{},t),E=y==="labels"?r9t(t,e,x):x;return E!==void 0&&!yi(E)&&(v[y]={update:E}),v},{});return yi(g)||r.set("encode",g,!!n.encoding||n.labelAngle!==void 0),r}function f9t({encoding:e,size:t}){for(const n of Vm){const r=su(n);Lh(t[r])&&Zg(e[n])&&(delete t[r],Ct(HPe(r)))}return t}const h9t={vgMark:"arc",encodeEntry:e=>({...Zc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...pl("x",e,{defaultPos:"mid"}),...pl("y",e,{defaultPos:"mid"}),...wm(e,"radius"),...wm(e,"theta")})},p9t={vgMark:"area",encodeEntry:e=>({...Zc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...HN("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...HN("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...VZ(e)})},m9t={vgMark:"rect",encodeEntry:e=>({...Zc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...wm(e,"x"),...wm(e,"y")})},g9t={vgMark:"shape",encodeEntry:e=>({...Zc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&Et(n)&&n.type===qC?{field:Ot(n,{expr:"datum"})}:{}}]}},y9t={vgMark:"image",encodeEntry:e=>({...Zc(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...wm(e,"x"),...wm(e,"y"),...HZ(e,"url")})},v9t={vgMark:"line",encodeEntry:e=>({...Zc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...pl("x",e,{defaultPos:"mid"}),...pl("y",e,{defaultPos:"mid"}),...na("size",e,{vgChannel:"strokeWidth"}),...VZ(e)})},b9t={vgMark:"trail",encodeEntry:e=>({...Zc(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...pl("x",e,{defaultPos:"mid"}),...pl("y",e,{defaultPos:"mid"}),...na("size",e),...VZ(e)})};function uee(e,t){const{config:n}=e;return{...Zc(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...pl("x",e,{defaultPos:"mid"}),...pl("y",e,{defaultPos:"mid"}),...na("size",e),...na("angle",e),...w9t(e,n,t)}}function w9t(e,t,n){return n?{shape:{value:n}}:na("shape",e)}const x9t={vgMark:"symbol",encodeEntry:e=>uee(e)},C9t={vgMark:"symbol",encodeEntry:e=>uee(e,"circle")},_9t={vgMark:"symbol",encodeEntry:e=>uee(e,"square")},E9t={vgMark:"rect",encodeEntry:e=>({...Zc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...wm(e,"x"),...wm(e,"y")})},S9t={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...Zc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...HN("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...HN("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...na("size",e,{vgChannel:"strokeWidth"})}}},T9t={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Zc(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...pl("x",e,{defaultPos:"mid"}),...pl("y",e,{defaultPos:"mid"}),...HZ(e),...na("size",e,{vgChannel:"fontSize"}),...na("angle",e),...lpe("align",k9t(e.markDef,n,t)),...lpe("baseline",A9t(e.markDef,n,t)),...pl("radius",e,{defaultPos:null}),...pl("theta",e,{defaultPos:null})}}};function k9t(e,t,n){if(gi("align",e,n)===void 0)return"center"}function A9t(e,t,n){if(gi("baseline",e,n)===void 0)return"middle"}const R9t={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",o=r==="horizontal"?"y":"x",s=r==="horizontal"?"height":"width";return{...Zc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...wm(e,i),...pl(o,e,{defaultPos:"mid",vgChannel:o==="y"?"yc":"xc"}),[s]:zi(gi("thickness",n,t))}}},gI={arc:h9t,area:p9t,bar:m9t,circle:C9t,geoshape:g9t,image:y9t,line:v9t,point:x9t,rect:E9t,rule:S9t,square:_9t,text:T9t,tick:R9t,trail:b9t};function I9t(e){if(pr([k5,S5,y6t],e.mark)){const t=B3e(e.mark,e.encoding);if(t.length>0)return D9t(e,t)}else if(e.mark===T5){const t=YH.some(n=>gi(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return P9t(e)}return cee(e)}const Mpe="faceted_path_";function D9t(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:Mpe+e.requestDataName(ao.Main),data:e.requestDataName(ao.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:cee(e,{fromPrefix:Mpe})}]}const $pe="stack_group_";function P9t(e){const[t]=cee(e,{fromPrefix:$pe}),n=e.scaleName(e.stack.fieldChannel),r=(u={})=>e.vgField(e.stack.fieldChannel,u),i=(u,c)=>{const d=[r({prefix:"min",suffix:"start",expr:c}),r({prefix:"max",suffix:"start",expr:c}),r({prefix:"min",suffix:"end",expr:c}),r({prefix:"max",suffix:"end",expr:c})];return`${u}(${d.map(f=>`scale('${n}',${f})`).join(",")})`};let o,s;e.stack.fieldChannel==="x"?(o={...$x(t.encode.update,["y","yc","y2","height",...YH]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...Ql(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...$x(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...Ql(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const u of YH){const c=Mh(u,e.markDef,e.config);t.encode.update[u]?(o[u]=t.encode.update[u],delete t.encode.update[u]):c&&(o[u]=zi(c)),c&&(t.encode.update[u]={value:0})}const a=[];if(e.stack.groupbyChannels?.length>0)for(const u of e.stack.groupbyChannels){const c=e.fieldDef(u),d=Ot(c);d&&a.push(d),(c?.bin||c?.timeUnit)&&a.push(Ot(c,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((u,c)=>{if(t.encode.update[c])return{...u,[c]:t.encode.update[c]};{const d=Mh(c,e.markDef,e.config);return d!==void 0?{...u,[c]:zi(d)}:u}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(ao.Main),name:$pe+e.requestDataName(ao.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function O9t(e){const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,s=t.order;if(!(!Yt(s)&&nf(s)&&WH(s.value)||!s&&WH(gi("order",i,o)))){if((Yt(s)||Et(s))&&!n)return MPe(s,{expr:"datum"});if(cy(r)){const a=i.orient==="horizontal"?"y":"x",l=t[a];if(Et(l))return{field:a}}}}function cee(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:o}=e,s=Fo(r.clip,N9t(e),M9t(e)),a=OPe(r),l=i.key,u=O9t(e),c=$9t(e),d=gi("aria",r,o),f=gI[n].postEncodingTransform?gI[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:gI[n].vgMark,...s?{clip:s}:{},...a?{style:a}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...d===!1?{aria:d}:{},from:{data:t.fromPrefix+e.requestDataName(ao.Main)},encode:{update:gI[n].encodeEntry(e)},...f?{transform:f}:{}}]}function N9t(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t?.get("selectionExtent")||n?.get("selectionExtent")?!0:void 0}function M9t(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function $9t(e){if(!e.component.selection)return null;const t=vt(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=vt(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class qNe extends jNe{constructor(t,n,r,i={},o){super(t,"unit",n,r,o,void 0,zhe(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[],this.correctDataNames=u=>(u.from?.data&&(u.from.data=this.lookupDataSource(u.from.data),"time"in this.encoding&&(u.from.data=u.from.data+kOe)),u.from?.facet?.data&&(u.from.facet.data=this.lookupDataSource(u.from.facet.data)),u);const s=$h(t.mark)?{...t.mark}:{type:t.mark},a=s.type;s.filled===void 0&&(s.filled=e$t(s,o,{graticule:t.data&&zZ(t.data)}));const l=this.encoding=i5t(t.encoding||{},a,s.filled,o);this.markDef=aOe(s,l,o),this.size=f9t({encoding:l,size:zhe(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=sOe(this.markDef,l),this.specifiedScales=this.initScales(a,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(u=>$Z(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===f3e,r=t&&XNt.some(i=>Wn(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return JJ.reduce((r,i)=>{const o=cs(n[i]);return o&&(r[i]=this.initScale(o.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=Js(t);return Yt(n)&&(i.domain=n.map(Iu)),Yt(r)&&(i.range=r.map(Iu)),i}initAxes(t){return Vm.reduce((n,r)=>{const i=t[r];if(Wn(i)||r===Zi&&Wn(t.x2)||r===js&&Wn(t.y2)){const o=Wn(i)?i.axis:void 0;n[r]=o&&this.initAxis({...o})}return n},{})}initAxis(t){const n=vt(t),r={};for(const i of n){const o=t[i];r[i]=Vk(o)?PPe(o):Iu(o)}return r}initLegends(t){return a4t.reduce((n,r)=>{const i=cs(t[r]);if(i&&u4t(r)){const o=i.legend;n[r]=o&&Js(o)}return n},{})}parseData(){this.component.data=o$(this)}parseLayoutSize(){Kjt(this)}parseSelections(){this.component.selection=jFt(this,this.selection)}parseMarkGroup(){this.component.mark=I9t(this)}parseAxesAndHeaders(){this.component.axes=i9t(this)}assembleSelectionTopLevelSignals(t){return rLt(this,t)}assembleSignals(){return[...oNe(this),...tLt(this,[])]}assembleSelectionData(t){return iLt(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return JZ(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!XC(this.parent))&&(t=DOe(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return $v(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return rf(n)}typedFieldDef(t){const n=this.fieldDef(t);return El(n)?n:null}}class dee extends see{constructor(t,n,r,i,o){super(t,"layer",n,r,o,t.resolve,t.view);const s={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,l)=>{if(L5(a))return new dee(a,this,this.getName(`layer_${l}`),s,o);if(Wm(a))return new qNe(a,this,this.getName(`layer_${l}`),s,o);throw new Error(eZ(a))})}parseData(){this.component.data=o$(this);for(const t of this.children)t.parseData()}parseLayoutSize(){Gjt(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of vt(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>_h(t))&&rZ(nZ)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){s9t(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),oNe(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),JZ(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of Lo(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return oLt(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),CNe(this))}}function fee(e,t,n,r,i){if(I5(e))return new VS(e,t,n,i);if(L5(e))return new dee(e,t,n,r,i);if(Wm(e))return new qNe(e,t,n,r,i);if(A5t(e))return new e9t(e,t,n,i);throw new Error(eZ(e))}function L9t(e,t={}){t.logger&&DMt(t.logger),t.fieldTitle&&I3e(t.fieldTitle);try{const n=oOe(uPe(t.config,e.config)),r=pOe(e,n),i=fee(r,null,"",void 0,n);return i.parse(),ajt(i.component.data,i),{spec:j9t(i,F9t(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&PMt(),t.fieldTitle&&K6t()}}function F9t(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Kn(t)&&(t={type:t}),i&&o&&M$t(t.type)){if(i==="step"&&o==="step")Ct(She()),t.type="pad";else if(i==="step"||o==="step"){const s=i==="step"?"width":"height";Ct(She(b5(s)));const a=s==="width"?"height":"width";t.type=$$t(a)}}return{...vt(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...Zhe(n,!1),...Zhe(e,!0)}}function j9t(e,t,n={},r){const i=e.config?U5t(e.config):void 0,o=Hjt(e.component.data,n),s=e.assembleSelectionData(o),a=e.assembleProjections(),l=e.assembleTitle(),u=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let d=e.assembleLayoutSignals();d=d.filter(p=>(p.name==="width"||p.name==="height")&&p.value!==void 0?(t[p.name]=+p.value,!1):!0);const{params:f,...h}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...h,...l?{title:l}:{},...u?{style:u}:{},...c?{encode:{update:c}}:{},data:s,...a.length>0?{projections:a}:{},...e.assembleGroup([...d,...e.assembleSelectionTopLevelSignals([]),...tOe(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const B9t=PNt.version,z9t=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:Fx,accessPathWithDatum:qJ,accessWithDatumToUnescapedPath:ui,compile:L9t,contains:pr,deepEqual:Mu,deleteNestedProperty:DN,duplicate:qn,entries:M0,every:zJ,fieldIntersection:HJ,flatAccessWithDatum:hPe,getFirstDefined:Fo,hasIntersection:UJ,hasProperty:bt,hash:xr,internalField:gPe,isBoolean:rT,isEmpty:yi,isEqual:WNt,isInternalField:yPe,isNullOrFalse:WH,isNumeric:h5,keys:vt,logicalExpr:zS,mergeDeep:dPe,never:cPe,normalize:pOe,normalizeAngle:iT,omit:Ql,pick:$x,prefixGenerator:GH,removePathFromField:UC,replaceAll:ub,replacePathInField:zc,resetIdCounter:YNt,setEqual:fPe,some:Lx,stringify:vi,titleCase:Nk,unique:ah,uniqueId:mPe,vals:aa,varName:Ki,version:B9t},Symbol.toStringTag,{value:"Module"}));var yI={},Lpe;function U9t(){if(Lpe)return yI;Lpe=1,Object.defineProperty(yI,"__esModule",{value:!0});function e(t){var n=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g,r=n.exec(t).slice(1,3),i=r[0],o=r[1];return{library:i,version:o}}return yI.default=e,yI}var H9t=U9t();const VNe=Qo(H9t);var q9t="2.15.0",V9t={version:q9t};const K1="#fff",Fpe="#888",W9t={background:"#333",view:{stroke:Fpe},title:{color:K1,subtitleColor:K1},style:{"guide-label":{fill:K1},"guide-title":{fill:K1}},axis:{domainColor:K1,gridColor:Fpe,tickColor:K1}},Py="#4572a7",G9t={background:"#fff",arc:{fill:Py},area:{fill:Py},line:{stroke:Py,strokeWidth:2},path:{stroke:Py},rect:{fill:Py},shape:{stroke:Py},symbol:{fill:Py,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Oy="#30a2da",nB="#cbcbcb",Y9t="#999",K9t="#333",jpe="#f0f0f0",Bpe="#333",X9t={arc:{fill:Oy},area:{fill:Oy},axis:{domainColor:nB,grid:!0,gridColor:nB,gridWidth:1,labelColor:Y9t,labelFontSize:10,titleColor:K9t,tickColor:nB,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:jpe,group:{fill:jpe},legend:{labelColor:Bpe,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:Bpe,titleFontSize:14,titlePadding:10},line:{stroke:Oy,strokeWidth:2},path:{stroke:Oy,strokeWidth:.5},rect:{fill:Oy},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Oy},bar:{binSpacing:2,fill:Oy,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Ny="#000",Q9t={group:{fill:"#e5e5e5"},arc:{fill:Ny},area:{fill:Ny},line:{stroke:Ny},path:{stroke:Ny},rect:{fill:Ny},shape:{stroke:Ny},symbol:{fill:Ny,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},J9t=22,Z9t="normal",zpe="Benton Gothic, sans-serif",Upe=11.5,eBt="normal",My="#82c6df",rB="Benton Gothic Bold, sans-serif",Hpe="normal",qpe=13,cE={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},tBt={background:"#ffffff",title:{anchor:"start",color:"#000000",font:rB,fontSize:J9t,fontWeight:Z9t},arc:{fill:My},area:{fill:My},line:{stroke:My,strokeWidth:2},path:{stroke:My},rect:{fill:My},shape:{stroke:My},symbol:{fill:My,size:30},axis:{labelFont:zpe,labelFontSize:Upe,labelFontWeight:eBt,titleFont:rB,titleFontSize:qpe,titleFontWeight:Hpe},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:zpe,labelFontSize:Upe,symbolType:"square",titleFont:rB,titleFontSize:qpe,titleFontWeight:Hpe},range:{category:cE["category-6"],diverging:cE["fireandice-6"],heatmap:cE["fire-7"],ordinal:cE["fire-7"],ramp:cE["fire-7"]}},$y="#ab5787",vI="#979797",nBt={background:"#f9f9f9",arc:{fill:$y},area:{fill:$y},line:{stroke:$y},path:{stroke:$y},rect:{fill:$y},shape:{stroke:$y},symbol:{fill:$y,size:30},axis:{domainColor:vI,domainWidth:.5,gridWidth:.2,labelColor:vI,tickColor:vI,tickWidth:.2,titleColor:vI},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Ly="#3e5c69",rBt={background:"#fff",arc:{fill:Ly},area:{fill:Ly},line:{stroke:Ly},path:{stroke:Ly},rect:{fill:Ly},shape:{stroke:Ly},symbol:{fill:Ly},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},fc="#1696d2",Vpe="#000000",iBt="#FFFFFF",bI="Lato",iB="Lato",oBt="Lato",sBt="#DEDDDD",aBt=18,dE={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},lBt={background:iBt,title:{anchor:"start",fontSize:aBt,font:bI},axisX:{domain:!0,domainColor:Vpe,domainWidth:1,grid:!1,labelFontSize:12,labelFont:iB,labelAngle:0,tickColor:Vpe,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:bI},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:sBt,gridWidth:1,labelFontSize:12,labelFont:iB,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:bI,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:iB,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:bI,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:dE["six-groups-cat-1"],diverging:dE["diverging-colors"],heatmap:dE["diverging-colors"],ordinal:dE["six-groups-seq"],ramp:dE["shades-blue"]},area:{fill:fc},rect:{fill:fc},line:{color:fc,stroke:fc,strokeWidth:5},trail:{color:fc,stroke:fc,strokeWidth:0,size:1},path:{stroke:fc,strokeWidth:.5},point:{filled:!0},text:{font:oBt,color:fc,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:fc,stroke:null}},arc:{fill:fc},shape:{stroke:fc},symbol:{fill:fc,size:30}},Fy="#3366CC",Wpe="#ccc",wI="Arial, sans-serif",uBt={arc:{fill:Fy},area:{fill:Fy},path:{stroke:Fy},rect:{fill:Fy},shape:{stroke:Fy},symbol:{stroke:Fy},circle:{fill:Fy},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:wI,fontSize:12},"guide-title":{font:wI,fontSize:12},"group-title":{font:wI,fontSize:12}},title:{font:wI,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:Wpe,tickColor:Wpe,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},hee=e=>e*(1/3+1),Gpe=hee(9),Ype=hee(10),Kpe=hee(12),fE="Segoe UI",Xpe="wf_standard-font, helvetica, arial, sans-serif",Qpe="#252423",hE="#605E5C",Jpe="transparent",cBt="#C8C6C4",pd="#118DFF",dBt="#12239E",fBt="#E66C37",hBt="#6B007B",pBt="#E044A7",mBt="#744EC2",gBt="#D9B300",yBt="#D64550",WNe=pd,GNe="#DEEFFF",Zpe=[GNe,WNe],vBt=[GNe,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",WNe],bBt={view:{stroke:Jpe},background:Jpe,font:fE,header:{titleFont:Xpe,titleFontSize:Kpe,titleColor:Qpe,labelFont:fE,labelFontSize:Ype,labelColor:hE},axis:{ticks:!1,grid:!1,domain:!1,labelColor:hE,labelFontSize:Gpe,titleFont:Xpe,titleColor:Qpe,titleFontSize:Kpe,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:cBt,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:pd},line:{stroke:pd,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:fE,fontSize:Gpe,fill:hE},arc:{fill:pd},area:{fill:pd,line:!0,opacity:.6},path:{stroke:pd},rect:{fill:pd},point:{fill:pd,filled:!0,size:75},shape:{stroke:pd},symbol:{fill:pd,strokeWidth:1.5,size:50},legend:{titleFont:fE,titleFontWeight:"bold",titleColor:hE,labelFont:fE,labelFontSize:Ype,labelColor:hE,symbolType:"circle",symbolSize:75},range:{category:[pd,dBt,fBt,hBt,pBt,mBt,gBt,yBt],diverging:Zpe,heatmap:Zpe,ordinal:vBt}},oB='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',wBt='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',sB=400,xI={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},xBt=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],CBt=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function s$({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=xI.gridBg[e],i=xI.textPrimary[e],o=xI.textSecondary[e],s=n==="dark"?xBt:CBt,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:oB,fontWeight:600},axis:{labelColor:o,labelFontSize:12,labelFont:wBt,labelFontWeight:sB,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:xI.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:oB,fill:o,fontWeight:sB},"guide-title":{font:oB,fill:o,fontWeight:sB}},range:{category:s,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const _Bt=s$({theme:"white",background:"#ffffff"}),EBt=s$({theme:"g10",background:"#f4f4f4"}),SBt=s$({theme:"g90",background:"#262626"}),TBt=s$({theme:"g100",background:"#161616"}),kBt=V9t.version,ABt=Object.freeze(Object.defineProperty({__proto__:null,carbong10:EBt,carbong100:TBt,carbong90:SBt,carbonwhite:_Bt,dark:W9t,excel:G9t,fivethirtyeight:X9t,ggplot2:Q9t,googlecharts:uBt,latimes:tBt,powerbi:bBt,quartz:nBt,urbaninstitute:lBt,version:kBt,vox:rBt},Symbol.toStringTag,{value:"Module"})),RBt=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black; }
  #vg-tooltip-element.visible {
    visibility: visible; }
  #vg-tooltip-element h2 {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 13px; }
  #vg-tooltip-element table {
    border-spacing: 0; }
    #vg-tooltip-element table tr {
      border: none; }
      #vg-tooltip-element table tr td {
        overflow: hidden;
        text-overflow: ellipsis;
        padding-top: 2px;
        padding-bottom: 2px; }
        #vg-tooltip-element table tr td.key {
          color: #808080;
          max-width: 150px;
          text-align: right;
          padding-right: 4px; }
        #vg-tooltip-element table tr td.value {
          display: block;
          max-width: 300px;
          max-height: 7em;
          text-align: left; }
  #vg-tooltip-element.dark-theme {
    background-color: rgba(32, 32, 32, 0.9);
    border: 1px solid #f5f5f5;
    color: white; }
    #vg-tooltip-element.dark-theme td.key {
      color: #bfbfbf; }
`,YNe="vg-tooltip-element",IBt={offsetX:10,offsetY:10,id:YNe,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:DBt,maxDepth:2};function DBt(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function PBt(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return RBt.toString().replace(YNe,e)}function QC(e,t,n){return e.fields=t||[],e.fname=n,e}function OBt(e){return e.length===1?NBt(e[0]):MBt(e)}const NBt=e=>function(t){return t[e]},MBt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function aB(e){throw Error(e)}function $Bt(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?u():s=a+1:l==="["?(a>s&&u(),i=s=a+1):l==="]"&&(i||aB("Access path missing open bracket: "+e),i>0&&u(),i=0,s=a+1)}return i&&aB("Access path missing closing bracket: "+e),r&&aB("Access path missing closing quote: "+e),a>s&&(a++,u()),t}function LBt(e,t,n){const r=$Bt(e);return e=r.length===1?r[0]:e,QC(OBt(r),[e],e)}LBt("id");QC(e=>e,[],"identity");QC(()=>0,[],"zero");QC(()=>1,[],"one");QC(()=>!0,[],"true");QC(()=>!1,[],"false");var FBt=Array.isArray;function eme(e){return e===Object(e)}function jBt(e){return typeof e=="string"}var BBt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function zBt(e,t,n){if(FBt(e))return`[${e.map(r=>t(jBt(r)?r:tme(r,n))).join(", ")}]`;if(eme(e)){let r="";const i=e,{title:o}=i,s=BBt(i,["title"]);o&&(r+=`<h2>${t(o)}</h2>`);const a=Object.keys(s);if(a.length>0){r+="<table>";for(const l of a){let u=s[l];u!==void 0&&(eme(u)&&(u=tme(u,n)),r+=`<tr><td class="key">${t(l)}:</td><td class="value">${t(u)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(e)}function UBt(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function tme(e,t){return JSON.stringify(e,UBt(t))}function HBt(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}class qBt{constructor(t){this.options=Object.assign(Object.assign({},IBt),t);const n=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=PBt(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}this.el=document.getElementById(n),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",n),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(t,n,r,i){if(i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=zBt(i,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:s}=HBt(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${s}px; left: ${o}px`)}}function VBt(e,t,n){const r=e.open(t),i=250;let o=40;function s(l){l.source===r&&(o=0,e.removeEventListener("message",s,!1))}e.addEventListener("message",s,!1);function a(){o<=0||(r.postMessage(n,"*"),setTimeout(a,i),o-=1)}setTimeout(a,i)}const WBt=`.vega-embed {
  position: relative;
  display: inline-block; }
  .vega-embed.has-actions {
    padding-right: 38px; }
  .vega-embed details:not([open]) > :not(summary) {
    display: none !important; }
  .vega-embed summary {
    list-style: none;
    position: absolute;
    top: 0;
    right: 0;
    padding: 6px;
    z-index: 1000;
    background: white;
    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
    color: #1b1e23;
    border: 1px solid #aaa;
    border-radius: 999px;
    opacity: 0.2;
    transition: opacity 0.4s ease-in;
    outline: none;
    cursor: pointer;
    line-height: 0px; }
    .vega-embed summary::-webkit-details-marker {
      display: none; }
    .vega-embed summary:active {
      box-shadow: #aaa 0px 0px 0px 1px inset; }
    .vega-embed summary svg {
      width: 14px;
      height: 14px; }
  .vega-embed details[open] summary {
    opacity: 0.7; }
  .vega-embed:hover summary,
  .vega-embed:focus summary {
    opacity: 1 !important;
    transition: opacity 0.2s ease; }
  .vega-embed .vega-actions {
    position: absolute;
    z-index: 1001;
    top: 35px;
    right: -9px;
    display: flex;
    flex-direction: column;
    padding-bottom: 8px;
    padding-top: 8px;
    border-radius: 4px;
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
    border: 1px solid #d9d9d9;
    background: white;
    animation-duration: 0.15s;
    animation-name: scale-in;
    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
    text-align: left; }
    .vega-embed .vega-actions a {
      padding: 8px 16px;
      font-family: sans-serif;
      font-size: 14px;
      font-weight: 600;
      white-space: nowrap;
      color: #434a56;
      text-decoration: none; }
      .vega-embed .vega-actions a:hover {
        background-color: #f7f7f9;
        color: black; }
    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
      content: "";
      display: inline-block;
      position: absolute; }
    .vega-embed .vega-actions::before {
      left: auto;
      right: 14px;
      top: -16px;
      border: 8px solid #0000;
      border-bottom-color: #d9d9d9; }
    .vega-embed .vega-actions::after {
      left: auto;
      right: 15px;
      top: -14px;
      border: 7px solid #0000;
      border-bottom-color: #fff; }

.vega-embed-wrapper {
  max-width: 100%;
  overflow: scroll;
  padding-right: 14px; }

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6); }
  to {
    opacity: 1;
    transform: scale(1); } }
`;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});function KNe(e,...t){for(const n of t)GBt(e,n);return e}function GBt(e,t){for(const n of Object.keys(t))XM(e,n,t[n],!0)}var lB;const zg=INt;let dT=z9t;const CI=typeof window<"u"?window:void 0;dT===void 0&&(!((lB=CI?.vl)===null||lB===void 0)&&lB.compile)&&(dT=CI.vl);const YBt={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},KBt={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},aS={vega:"Vega","vega-lite":"Vega-Lite"},YN={vega:zg.version,"vega-lite":dT?dT.version:"not available"},XBt={vega:e=>e,"vega-lite":(e,t)=>dT.compile(e,{config:t}).spec},QBt=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`;function JBt(e){return typeof e=="function"}function nme(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,s=window.open("");s.document.write(i+e+o),s.document.title=`${aS[r]} JSON Source`}function ZBt(e,t){var n;if(e.$schema){const r=VNe(e.$schema);t&&t!==r.library&&console.warn(`The given visualization spec is written in ${aS[r.library]}, but mode argument sets ${(n=aS[t])!==null&&n!==void 0?n:t}.`);const i=r.library;return KEe.satisfies(YN[i],`^${r.version.slice(1)}`)||console.warn(`The input spec uses ${aS[i]} ${r.version}, but the current version of ${aS[i]} is v${YN[i]}.`),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function e7t(e){return!!(e&&"load"in e)}function t7t(e,t,n={}){var r,i,o;return b3(this,void 0,void 0,function*(){const s=e7t(n.loader)?n.loader:zg.loader(n.loader),a=Vr(t)?JSON.parse(yield s.load(t)):t,l=yield rme((r=a.usermeta&&a.usermeta.embedOptions)!==null&&r!==void 0?r:{},s),u=yield rme(n,s),c=Object.assign(Object.assign({},KNe(u,l)),{config:KM((i=u.config)!==null&&i!==void 0?i:{},(o=l.config)!==null&&o!==void 0?o:{})});return yield n7t(e,a,c,s)})}function rme(e,t){var n;return b3(this,void 0,void 0,function*(){const r=Vr(e.config)?JSON.parse(yield t.load(e.config)):(n=e.config)!==null&&n!==void 0?n:{},i=Vr(e.patch)?JSON.parse(yield t.load(e.patch)):e.patch;return Object.assign(Object.assign(Object.assign({},e),i?{patch:i}:{}),r?{config:r}:{})})}function n7t(e,t,n={},r){var i,o,s,a,l,u;return b3(this,void 0,void 0,function*(){const c=n.theme?KM(ABt[n.theme],(i=n.config)!==null&&i!==void 0?i:{}):n.config,d=eK(n.actions)?n.actions:KNe({},YBt,(o=n.actions)!==null&&o!==void 0?o:{}),f=Object.assign(Object.assign({},KBt),n.i18n),h=(s=n.renderer)!==null&&s!==void 0?s:"canvas",p=(a=n.logLevel)!==null&&a!==void 0?a:zg.Warn,m=(l=n.downloadFileName)!==null&&l!==void 0?l:"visualization";if(n.defaultStyle!==!1){const R="vega-embed-style";if(!document.getElementById(R)){const I=document.createElement("style");I.id=R,I.innerText=n.defaultStyle===void 0||n.defaultStyle===!0?WBt.toString():n.defaultStyle,document.head.appendChild(I)}}const g=ZBt(t,n.mode);let v=XBt[g](t,c);if(g==="vega-lite"&&v.$schema){const R=VNe(v.$schema);KEe.satisfies(YN.vega,`^${R.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${R.version}, but current version is v${YN.vega}.`)}const y=typeof e=="string"?document.querySelector(e):e;if(!y)throw Error(`${e} does not exist`);y.classList.add("vega-embed"),d&&y.classList.add("has-actions"),y.innerHTML="";const x=n.patch;x&&(x instanceof Function?v=x(v):v=UM(v,x,!0,!1).newDocument),n.formatLocale&&zg.formatLocale(n.formatLocale),n.timeFormatLocale&&zg.timeFormatLocale(n.timeFormatLocale);const E=zg.parse(v,g==="vega-lite"?{}:c),_=new zg.View(E,{loader:r,logLevel:p,renderer:h});if(n.tooltip!==!1){let R;JBt(n.tooltip)?R=n.tooltip:R=new qBt(n.tooltip===!0?{}:n.tooltip).call,_.tooltip(R)}let{hover:S}=n;if(S===void 0&&(S=g==="vega"),S){const{hoverSet:R,updateSet:I}=typeof S=="boolean"?{}:S;_.hover(R,I)}n&&(n.width!=null&&_.width(n.width),n.height!=null&&_.height(n.height),n.padding!=null&&_.padding(n.padding)),yield _.initialize(e).runAsync();let T;if(d!==!1){let R=y;if(n.defaultStyle!==!1){const P=document.createElement("details");P.title=f.CLICK_TO_VIEW_ACTIONS,y.append(P),R=P;const N=document.createElement("summary");N.innerHTML=QBt,P.append(N),T=M=>{P.contains(M.target)||P.removeAttribute("open")},document.addEventListener("click",T)}const I=document.createElement("div");if(R.append(I),I.classList.add("vega-actions"),d===!0||d.export!==!1){for(const P of["svg","png"])if(d===!0||d.export===!0||d.export[P]){const N=f[`${P.toUpperCase()}_ACTION`],M=document.createElement("a");M.text=N,M.href="#",M.target="_blank",M.download=`${m}.${P}`,M.addEventListener("mousedown",function(O){return b3(this,void 0,void 0,function*(){O.preventDefault();const j=yield _.toImageURL(P,n.scaleFactor);this.href=j})}),I.append(M)}}if(d===!0||d.source!==!1){const P=document.createElement("a");P.text=f.SOURCE_ACTION,P.href="#",P.addEventListener("mousedown",function(N){var M,O;nme(z8(t),(M=n.sourceHeader)!==null&&M!==void 0?M:"",(O=n.sourceFooter)!==null&&O!==void 0?O:"",g),N.preventDefault()}),I.append(P)}if(g==="vega-lite"&&(d===!0||d.compiled!==!1)){const P=document.createElement("a");P.text=f.COMPILED_ACTION,P.href="#",P.addEventListener("mousedown",function(N){var M,O;nme(z8(v),(M=n.sourceHeader)!==null&&M!==void 0?M:"",(O=n.sourceFooter)!==null&&O!==void 0?O:"","vega"),N.preventDefault()}),I.append(P)}if(d===!0||d.editor!==!1){const P=(u=n.editorUrl)!==null&&u!==void 0?u:"https://vega.github.io/editor/",N=document.createElement("a");N.text=f.EDITOR_ACTION,N.href="#",N.addEventListener("mousedown",function(M){VBt(window,P,{config:c,mode:g,renderer:h,spec:z8(t)}),M.preventDefault()}),I.append(N)}}function k(){T&&document.removeEventListener("click",T),_.finalize()}return{view:_,spec:t,vgSpec:v,finalize:k}})}function r7t(e){return!!e&&{}.toString.call(e)==="[object Function]"}function i7t(e,t,n){n&&(r7t(n)?n(e.data(t)):e.change(t,zg.changeset().remove(()=>!0).insert(n)))}function o7t(e,t){Object.keys(t).forEach(n=>{i7t(e,n,t[n])})}function XNe(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const QNe=()=>{};function uB(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}function s7t(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=XNe([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!$E(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function ime(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function cB(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function lS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class JNe extends un.PureComponent{constructor(){super(...arguments),lS(this,"containerRef",un.createRef()),lS(this,"resultPromise",void 0),lS(this,"handleError",t=>{const{onError:n=QNe}=this.props;n(t,this.containerRef.current),console.warn(t)}),lS(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=XNe([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=s7t(cB(this.props),cB(t)),{signalListeners:i}=this.props,{signalListeners:o}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const s=!sU(i,o);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),s&&(o&&ime(a,o),i&&uB(a,i)),a.run()})}else sU(i,o)||this.modifyView(s=>{o&&ime(s,o),i&&uB(s,i),s.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:o,...s}=this.props;if(this.containerRef.current){const a=cB(this.props);this.resultPromise=t7t(this.containerRef.current,a,s).then(l=>{if(l){const{view:u}=l;uB(u,r)&&u.run()}return l}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return un.createElement("div",{ref:this.containerRef,className:t,style:n})}}lS(JNe,"propTypes",{className:O3.string,onError:O3.func});function _q(){return _q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_q.apply(this,arguments)}function Eq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a7t={};class pee extends un.PureComponent{constructor(){super(...arguments),Eq(this,"vegaEmbed",un.createRef()),Eq(this,"handleNewView",t=>{this.update();const{onNewView:n=QNe}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){sU(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{o7t(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return un.createElement(JNe,_q({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}Eq(pee,"defaultProps",{data:a7t});function Sq(){return Sq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sq.apply(this,arguments)}function ome(e){return un.createElement(pee,Sq({},e,{mode:"vega-lite"}))}function ih(e){const t=A.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return A.useLayoutEffect(()=>{t.current=e}),A.useCallback((...n)=>t.current?.(...n),[])}const l7t=pee;function u7t({currentConfig:e,provState:t}){const n=bo(),[r,i]=A.useState(null),[o,s]=A.useState(!0),[a,l]=A.useState(!1),[u,c]=A.useState({}),d=Fm(),{updateResponseBlockValidation:f,setReactiveAnswers:h}=Qi(),[p,m]=A.useState(),{actions:g,trrack:v}=A.useMemo(()=>{const S=xC.create(),T=S.register("signal",(R,I)=>(R.event=I,R)),k=NM({registry:S,initialState:{event:{}}});return{actions:{signalAction:T},trrack:k}},[]),y=A.useCallback(({status:S,provenanceGraph:T,answers:k})=>{n(f({location:"stimulus",identifier:d,status:S,values:k,provenanceGraph:T})),Object.keys(k).length>0&&n(h(k))},[n,f,d,h]),x=ih((S,T)=>{v.apply(S,g.signalAction({key:S,value:T})),y({status:a,provenanceGraph:v.graph.backend,answers:u})}),E=ih((S,T)=>{const{responseId:k,response:R}=T;v.apply(S,g.signalAction({key:S,value:structuredClone(T)})),l(!0),c({[k]:R}),y({status:!0,provenanceGraph:v.graph.backend,answers:{[k]:R}})}),_=A.useMemo(()=>{const S=r?.config?.signals;return S?S.reduce((T,k)=>(k.name==="revisitAnswer"?T[k.name]=E:T[k.name]=x,T),{}):{}},[E,x,r]);return A.useEffect(()=>{async function S(){s(!0);let T;"path"in e?T=await Wpt(e.path):T=e.config,T!==void 0&&i(T),s(!1)}e&&S()},[e]),A.useEffect(()=>{p&&t&&t.event&&t.event.key&&p.signal(t.event.key,structuredClone(t.event.value)).run()},[p,t]),o?b.jsx("div",{children:"Loading..."}):"path"in e&&!r?b.jsx(mm,{path:e.path}):r?b.jsx(l7t,{spec:structuredClone(r),signalListeners:_,onNewView:S=>m(S),actions:e.withActions}):b.jsx("div",{children:"Failed to load vega config"})}function Bt(e,t,n){return(t=d7t(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c7t(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d7t(e){var t=c7t(e,"string");return typeof t=="symbol"?t:String(t)}function f7t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h7t(e,t,n){return t&&sme(e.prototype,t),n&&sme(e,n),e}function p7t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ame(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function lme(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ame(Object(n),!0).forEach((function(r){p7t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ame(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var ume={addCSS:!0,thumbWidth:15,watch:!0};function m7t(e,t){return(function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function g7t(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}var Jk=function(e){return e!=null?e.constructor:null},mee=function(e,t){return!!(e&&t&&e instanceof t)},ZNe=function(e){return e==null},e4e=function(e){return Jk(e)===Object},y7t=function(e){return Jk(e)===Number&&!Number.isNaN(e)},t4e=function(e){return Jk(e)===String},v7t=function(e){return Jk(e)===Boolean},b7t=function(e){return Jk(e)===Function},n4e=function(e){return Array.isArray(e)},r4e=function(e){return mee(e,NodeList)},w7t=function(e){return mee(e,Element)},x7t=function(e){return mee(e,Event)},C7t=function(e){return ZNe(e)||(t4e(e)||n4e(e)||r4e(e))&&!e.length||e4e(e)&&!Object.keys(e).length},Ea={nullOrUndefined:ZNe,object:e4e,number:y7t,string:t4e,boolean:v7t,function:b7t,array:n4e,nodeList:r4e,element:w7t,event:x7t,empty:C7t};function _7t(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function E7t(e,t){if(1>t){var n=_7t(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}var S7t=(function(){function e(t,n){f7t(this,e),Ea.element(t)?this.element=t:Ea.string(t)&&(this.element=document.querySelector(t)),Ea.element(this.element)&&Ea.empty(this.element.rangeTouch)&&(this.config=lme({},ume,{},n),this.init())}return h7t(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(t){var n=this,r=t?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(i){n.element[r](i,(function(o){return n.set(o)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!Ea.event(t))return null;var n,r=t.target,i=t.changedTouches[0],o=parseFloat(r.getAttribute("min"))||0,s=parseFloat(r.getAttribute("max"))||100,a=parseFloat(r.getAttribute("step"))||1,l=r.getBoundingClientRect(),u=100/l.width*(this.config.thumbWidth/2)/100;return 0>(n=100/l.width*(i.clientX-l.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*u:50<n&&(n+=2*(n-50)*u),o+E7t(n/100*(s-o),a)}},{key:"set",value:function(t){e.enabled&&Ea.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),g7t(t.target,t.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},r=null;if(Ea.empty(t)||Ea.string(t)?r=Array.from(document.querySelectorAll(Ea.string(t)?t:'input[type="range"]')):Ea.element(t)?r=[t]:Ea.nodeList(t)?r=Array.from(t):Ea.array(t)&&(r=t.filter(Ea.element)),Ea.empty(r))return null;var i=lme({},ume,{},n);if(Ea.string(t)&&i.watch){var o=new MutationObserver((function(s){Array.from(s).forEach((function(a){Array.from(a.addedNodes).forEach((function(l){Ea.element(l)&&m7t(l,t)&&new e(l,i)}))}))}));o.observe(document.body,{childList:!0,subtree:!0})}return r.map((function(s){return new e(s,n)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e})();const Zk=e=>e!=null?e.constructor:null,Cm=(e,t)=>!!(e&&t&&e instanceof t),gee=e=>e==null,i4e=e=>Zk(e)===Object,T7t=e=>Zk(e)===Number&&!Number.isNaN(e),a$=e=>Zk(e)===String,k7t=e=>Zk(e)===Boolean,o4e=e=>typeof e=="function",s4e=e=>Array.isArray(e),A7t=e=>Cm(e,WeakMap),a4e=e=>Cm(e,NodeList),R7t=e=>Zk(e)===Text,I7t=e=>Cm(e,Event),D7t=e=>Cm(e,KeyboardEvent),P7t=e=>Cm(e,window.TextTrackCue)||Cm(e,window.VTTCue),O7t=e=>Cm(e,TextTrack)||!gee(e)&&a$(e.kind),N7t=e=>Cm(e,Promise)&&o4e(e.then),M7t=e=>e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.style=="object"&&typeof e.ownerDocument=="object",l4e=e=>gee(e)||(a$(e)||s4e(e)||a4e(e))&&!e.length||i4e(e)&&!Object.keys(e).length,$7t=e=>{if(Cm(e,window.URL))return!0;if(!a$(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!l4e(new URL(t).hostname)}catch{return!1}};var Te={nullOrUndefined:gee,object:i4e,number:T7t,string:a$,boolean:k7t,function:o4e,array:s4e,weakMap:A7t,nodeList:a4e,element:M7t,textNode:R7t,event:I7t,keyboardEvent:D7t,cue:P7t,track:O7t,promise:N7t,url:$7t,empty:l4e};const Tq=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n=Object.keys(t).find((r=>e.style[r]!==void 0));return!!Te.string(n)&&t[n]})();function u4e(e,t){setTimeout((()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch{}}),t)}const L7t=!!window.document.documentMode,F7t=/Edge/g.test(navigator.userAgent),j7t="WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),B7t=/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,z7t=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,U7t=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var Es={isIE:L7t,isEdge:F7t,isWebKit:j7t,isIPhone:B7t,isIPadOS:z7t,isIos:U7t};function H7t(e){return JSON.parse(JSON.stringify(e))}function c4e(e,t){return t.split(".").reduce(((n,r)=>n&&n[r]),e)}function Ro(e={},...t){if(!t.length)return e;const n=t.shift();return Te.object(n)?(Object.keys(n).forEach((r=>{Te.object(n[r])?(Object.keys(e).includes(r)||Object.assign(e,{[r]:{}}),Ro(e[r],n[r])):Object.assign(e,{[r]:n[r]})})),Ro(e,...t)):e}function d4e(e,t){const n=e.length?e:[e];Array.from(n).reverse().forEach(((r,i)=>{const o=i>0?t.cloneNode(!0):t,s=r.parentNode,a=r.nextSibling;o.appendChild(r),a?s.insertBefore(o,a):s.appendChild(o)}))}function kq(e,t){Te.element(e)&&!Te.empty(t)&&Object.entries(t).filter((([,n])=>!Te.nullOrUndefined(n))).forEach((([n,r])=>e.setAttribute(n,r)))}function $n(e,t,n){const r=document.createElement(e);return Te.object(t)&&kq(r,t),Te.string(n)&&(r.innerText=n),r}function q7t(e,t){Te.element(e)&&Te.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)}function cme(e,t,n,r){Te.element(t)&&t.appendChild($n(e,n,r))}function qp(e){Te.nodeList(e)||Te.array(e)?Array.from(e).forEach(qp):Te.element(e)&&Te.element(e.parentNode)&&e.parentNode.removeChild(e)}function r3(e){if(!Te.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function KN(e,t){return Te.element(t)&&Te.element(t.parentNode)&&Te.element(e)?(t.parentNode.replaceChild(e,t),e):null}function Gf(e,t){if(!Te.string(e)||Te.empty(e))return{};const n={},r=Ro({},t);return e.split(",").forEach((i=>{const o=i.trim(),s=o.replace(".",""),a=o.replace(/[[\]]/g,"").split("="),[l]=a,u=a.length>1?a[1].replace(/["']/g,""):"";switch(o.charAt(0)){case".":Te.string(r.class)?n.class=`${r.class} ${s}`:n.class=s;break;case"#":n.id=o.replace("#","");break;case"[":n[l]=u}})),Ro(r,n)}function jy(e,t){if(!Te.element(e))return;let n=t;Te.boolean(n)||(n=!e.hidden),e.hidden=n}function ti(e,t,n){if(Te.nodeList(e))return Array.from(e).map((r=>ti(r,t,n)));if(Te.element(e)){let r="toggle";return n!==void 0&&(r=n?"add":"remove"),e.classList[r](t),e.classList.contains(t)}return!1}function XN(e,t){return Te.element(e)&&e.classList.contains(t)}function wv(e,t){const{prototype:n}=Element;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function V7t(e,t){const{prototype:n}=Element;return(n.closest||function(){let r=this;do{if(wv.matches(r,t))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null}).call(e,t)}function fT(e){return this.elements.container.querySelectorAll(e)}function os(e){return this.elements.container.querySelector(e)}function dB(e=null,t=!1){Te.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}const dme={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},Po={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const n=Po[e]||t!=="html5";return{api:n,ui:n&&Po.rangeInput}},pip:!(Es.isIPhone||!Te.function($n("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||$n("video").disablePictureInPicture)),airplay:Te.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(Te.empty(e))return!1;const[t]=e.split("/");let n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(dme).includes(n)&&(n+=`; codecs="${dme[e]}"`);try{return!!(n&&this.media.canPlayType(n).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range",e.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:Tq!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},W7t=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e})();function hT(e,t,n,r=!1,i=!0,o=!1){if(!e||!("addEventListener"in e)||Te.empty(t)||!Te.function(n))return;const s=t.split(" ");let a=o;W7t&&(a={passive:i,capture:o}),s.forEach((l=>{this&&this.eventListeners&&r&&this.eventListeners.push({element:e,type:l,callback:n,options:a}),e[r?"addEventListener":"removeEventListener"](l,n,a)}))}function Mr(e,t="",n,r=!0,i=!1){hT.call(this,e,t,n,!0,r,i)}function l$(e,t="",n,r=!0,i=!1){hT.call(this,e,t,n,!1,r,i)}function yee(e,t="",n,r=!0,i=!1){const o=(...s)=>{l$(e,t,o,r,i),n.apply(this,s)};hT.call(this,e,t,o,!0,r,i)}function Bn(e,t="",n=!1,r={}){if(!Te.element(e)||Te.empty(t))return;const i=new CustomEvent(t,{bubbles:n,detail:{...r,plyr:this}});e.dispatchEvent(i)}function G7t(){this&&this.eventListeners&&(this.eventListeners.forEach((e=>{const{element:t,type:n,callback:r,options:i}=e;t.removeEventListener(n,r,i)})),this.eventListeners=[])}function Y7t(){return new Promise((e=>this.ready?setTimeout(e,0):Mr.call(this,this.elements.container,"ready",e))).then((()=>{}))}function oh(e){Te.promise(e)&&e.then(null,(()=>{}))}function Aq(e){return Te.array(e)?e.filter(((t,n)=>e.indexOf(t)===n)):e}function f4e(e,t){return Te.array(e)&&e.length?e.reduce(((n,r)=>Math.abs(r-t)<Math.abs(n-t)?r:n)):null}function h4e(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const fme=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce(((e,[t,n])=>({...e,[t/n]:[t,n]})),{});function p4e(e){return Te.array(e)||Te.string(e)&&e.includes(":")?(Te.array(e)?e:e.split(":")).map(Number).every(Te.number):!1}function QN(e){if(!Te.array(e)||!e.every(Te.number))return null;const[t,n]=e,r=(o,s)=>s===0?o:r(s,o%s),i=r(t,n);return[t/i,n/i]}function vee(e){const t=r=>p4e(r)?r.split(":").map(Number):null;let n=t(e);if(n===null&&(n=t(this.config.ratio)),n===null&&!Te.empty(this.embed)&&Te.array(this.embed.ratio)&&({ratio:n}=this.embed),n===null&&this.isHTML5){const{videoWidth:r,videoHeight:i}=this.media;n=[r,i]}return QN(n)}function Qx(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,n=vee.call(this,e);if(!Te.array(n))return{};const[r,i]=QN(n),o=100/r*i;if(h4e(`aspect-ratio: ${r}/${i}`)?t.style.aspectRatio=`${r}/${i}`:t.style.paddingBottom=`${o}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const s=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),a=(s-o)/(s/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${a}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:o,ratio:n}}function m4e(e,t,n=.05){const r=e/t,i=f4e(Object.keys(fme),r);return Math.abs(i-r)<=n?fme[i]:[e,t]}function K7t(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const e0={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((e=>{const t=e.getAttribute("type");return!!Te.empty(t)||Po.mime.call(this,t)})):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:e0.getSources.call(this).map((e=>Number(e.getAttribute("size")))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,Te.empty(this.config.ratio)||Qx.call(e),Object.defineProperty(e.media,"quality",{get(){const t=e0.getSources.call(e).find((n=>n.getAttribute("src")===e.source));return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&Te.function(e.config.quality.onChange))e.config.quality.onChange(t);else{const n=e0.getSources.call(e).find((l=>Number(l.getAttribute("size"))===t));if(!n)return;const{currentTime:r,paused:i,preload:o,readyState:s,playbackRate:a}=e.media;e.media.src=n.getAttribute("src"),(o!=="none"||s)&&(e.once("loadedmetadata",(()=>{e.speed=a,e.currentTime=r,i||oh(e.play())})),e.media.load())}Bn.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(qp(e0.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function X7t(e){return`${e}-${Math.floor(1e4*Math.random())}`}function Rq(e,...t){return Te.empty(e)?e:e.toString().replace(/{(\d+)}/g,((n,r)=>t[r].toString()))}function Q7t(e,t){return e===0||t===0||Number.isNaN(e)||Number.isNaN(t)?0:(e/t*100).toFixed(2)}const WS=(e="",t="",n="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString()),g4e=(e="")=>e.toString().replace(/\w\S*/g,(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()));function J7t(e=""){let t=e.toString();return t=WS(t,"-"," "),t=WS(t,"_"," "),t=g4e(t),WS(t," ","")}function Z7t(e=""){let t=e.toString();return t=J7t(t),t.charAt(0).toLowerCase()+t.slice(1)}function ezt(e){const t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText}function tzt(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const hme={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Cs={get(e="",t={}){if(Te.empty(e)||Te.empty(t))return"";let n=c4e(t.i18n,e);if(Te.empty(n))return Object.keys(hme).includes(e)?hme[e]:"";const r={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(r).forEach((([i,o])=>{n=WS(n,i,o)})),n}};class pT{constructor(t){Bt(this,"get",(n=>{if(!pT.supported||!this.enabled)return null;const r=window.localStorage.getItem(this.key);if(Te.empty(r))return null;const i=JSON.parse(r);return Te.string(n)&&n.length?i[n]:i})),Bt(this,"set",(n=>{if(!pT.supported||!this.enabled||!Te.object(n))return;let r=this.get();Te.empty(r)&&(r={}),Ro(r,n);try{window.localStorage.setItem(this.key,JSON.stringify(r))}catch{}})),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}}}function eA(e,t="text"){return new Promise(((n,r)=>{try{const i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",(()=>{if(t==="text")try{n(JSON.parse(i.responseText))}catch{n(i.responseText)}else n(i.response)})),i.addEventListener("error",(()=>{throw new Error(i.status)})),i.open("GET",e,!0),i.responseType=t,i.send()}catch(i){r(i)}}))}function y4e(e,t){if(!Te.string(e))return;const n="cache",r=Te.string(t);let i=!1;const o=()=>document.getElementById(t)!==null,s=(a,l)=>{a.innerHTML=l,r&&o()||document.body.insertAdjacentElement("afterbegin",a)};if(!r||!o()){const a=pT.supported,l=document.createElement("div");if(l.setAttribute("hidden",""),r&&l.setAttribute("id",t),a){const u=window.localStorage.getItem(`${n}-${t}`);if(i=u!==null,i){const c=JSON.parse(u);s(l,c.content)}}eA(e).then((u=>{if(!Te.empty(u)){if(a)try{window.localStorage.setItem(`${n}-${t}`,JSON.stringify({content:u}))}catch{}s(l,u)}})).catch((()=>{}))}}const v4e=e=>Math.trunc(e/60/60%60,10),nzt=e=>Math.trunc(e/60%60,10),rzt=e=>Math.trunc(e%60,10);function u$(e=0,t=!1,n=!1){if(!Te.number(e))return u$(void 0,t,n);const r=a=>`0${a}`.slice(-2);let i=v4e(e);const o=nzt(e),s=rzt(e);return i=t||i>0?`${i}:`:"",`${n&&e>0?"-":""}${i}${r(o)}:${r(s)}`}const Lt={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,n=e.host!==t||Es.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:n}},findElements(){try{return this.elements.controls=os.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:fT.call(this,this.config.selectors.buttons.play),pause:os.call(this,this.config.selectors.buttons.pause),restart:os.call(this,this.config.selectors.buttons.restart),rewind:os.call(this,this.config.selectors.buttons.rewind),fastForward:os.call(this,this.config.selectors.buttons.fastForward),mute:os.call(this,this.config.selectors.buttons.mute),pip:os.call(this,this.config.selectors.buttons.pip),airplay:os.call(this,this.config.selectors.buttons.airplay),settings:os.call(this,this.config.selectors.buttons.settings),captions:os.call(this,this.config.selectors.buttons.captions),fullscreen:os.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=os.call(this,this.config.selectors.progress),this.elements.inputs={seek:os.call(this,this.config.selectors.inputs.seek),volume:os.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:os.call(this,this.config.selectors.display.buffer),currentTime:os.call(this,this.config.selectors.display.currentTime),duration:os.call(this,this.config.selectors.display.duration)},Te.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const n="http://www.w3.org/2000/svg",r=Lt.getIconUrl.call(this),i=`${r.cors?"":r.url}#${this.config.iconPrefix}`,o=document.createElementNS(n,"svg");kq(o,Ro(t,{"aria-hidden":"true",focusable:"false"}));const s=document.createElementNS(n,"use"),a=`${i}-${e}`;return"href"in s&&s.setAttributeNS("http://www.w3.org/1999/xlink","href",a),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),o.appendChild(s),o},createLabel(e,t={}){const n=Cs.get(e,this.config);return $n("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},n)},createBadge(e){if(Te.empty(e))return null;const t=$n("span",{class:this.config.classNames.menu.value});return t.appendChild($n("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const n=Ro({},t);let r=Z7t(e);const i={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((s=>{Object.keys(n).includes(s)&&(i[s]=n[s],delete n[s])})),i.element!=="button"||Object.keys(n).includes("type")||(n.type="button"),Object.keys(n).includes("class")?n.class.split(" ").some((s=>s===this.config.classNames.control))||Ro(n,{class:`${n.class} ${this.config.classNames.control}`}):n.class=this.config.classNames.control,e){case"play":i.toggle=!0,i.label="play",i.labelPressed="pause",i.icon="play",i.iconPressed="pause";break;case"mute":i.toggle=!0,i.label="mute",i.labelPressed="unmute",i.icon="volume",i.iconPressed="muted";break;case"captions":i.toggle=!0,i.label="enableCaptions",i.labelPressed="disableCaptions",i.icon="captions-off",i.iconPressed="captions-on";break;case"fullscreen":i.toggle=!0,i.label="enterFullscreen",i.labelPressed="exitFullscreen",i.icon="enter-fullscreen",i.iconPressed="exit-fullscreen";break;case"play-large":n.class+=` ${this.config.classNames.control}--overlaid`,r="play",i.label="play",i.icon="play";break;default:Te.empty(i.label)&&(i.label=r),Te.empty(i.icon)&&(i.icon=e)}const o=$n(i.element);return i.toggle?(o.appendChild(Lt.createIcon.call(this,i.iconPressed,{class:"icon--pressed"})),o.appendChild(Lt.createIcon.call(this,i.icon,{class:"icon--not-pressed"})),o.appendChild(Lt.createLabel.call(this,i.labelPressed,{class:"label--pressed"})),o.appendChild(Lt.createLabel.call(this,i.label,{class:"label--not-pressed"}))):(o.appendChild(Lt.createIcon.call(this,i.icon)),o.appendChild(Lt.createLabel.call(this,i.label))),Ro(n,Gf(this.config.selectors.buttons[r],n)),kq(o,n),r==="play"?(Te.array(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(o)):this.elements.buttons[r]=o,o},createRange(e,t){const n=$n("input",Ro(Gf(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Cs.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,Lt.updateRangeFill.call(this,n),S7t.setup(n),n},createProgress(e,t){const n=$n("progress",Ro(Gf(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if(e!=="volume"){n.appendChild($n("span",null,"0"));const r={played:"played",buffer:"buffered"}[e],i=r?Cs.get(r,this.config):"";n.innerText=`% ${i.toLowerCase()}`}return this.elements.display[e]=n,n},createTime(e,t){const n=Gf(this.config.selectors.display[e],t),r=$n("div",Ro(n,{class:`${n.class?n.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":Cs.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=r,r},bindMenuItemShortcuts(e,t){Mr.call(this,e,"keydown keyup",(n=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(n.key)||(n.preventDefault(),n.stopPropagation(),n.type==="keydown"))return;const r=wv(e,'[role="menuitemradio"]');if(!r&&[" ","ArrowRight"].includes(n.key))Lt.showMenuPanel.call(this,t,!0);else{let i;n.key!==" "&&(n.key==="ArrowDown"||r&&n.key==="ArrowRight"?(i=e.nextElementSibling,Te.element(i)||(i=e.parentNode.firstElementChild)):(i=e.previousElementSibling,Te.element(i)||(i=e.parentNode.lastElementChild)),dB.call(this,i,!0))}}),!1),Mr.call(this,e,"keyup",(n=>{n.key==="Return"&&Lt.focusFirstMenuItem.call(this,null,!0)}))},createMenuItem({value:e,list:t,type:n,title:r,badge:i=null,checked:o=!1}){const s=Gf(this.config.selectors.inputs[n]),a=$n("button",Ro(s,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${s.class?s.class:""}`.trim(),"aria-checked":o,value:e})),l=$n("span");l.innerHTML=r,Te.element(i)&&l.appendChild(i),a.appendChild(l),Object.defineProperty(a,"checked",{enumerable:!0,get:()=>a.getAttribute("aria-checked")==="true",set(u){u&&Array.from(a.parentNode.children).filter((c=>wv(c,'[role="menuitemradio"]'))).forEach((c=>c.setAttribute("aria-checked","false"))),a.setAttribute("aria-checked",u?"true":"false")}}),this.listeners.bind(a,"click keyup",(u=>{if(!Te.keyboardEvent(u)||u.key===" "){switch(u.preventDefault(),u.stopPropagation(),a.checked=!0,n){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}Lt.showMenuPanel.call(this,"home",Te.keyboardEvent(u))}}),n,!1),Lt.bindMenuItemShortcuts.call(this,a,n),t.appendChild(a)},formatTime(e=0,t=!1){return Te.number(e)?u$(e,v4e(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,n=!1){Te.element(e)&&Te.number(t)&&(e.innerText=Lt.formatTime(t,n))},updateVolume(){this.supported.ui&&(Te.element(this.elements.inputs.volume)&&Lt.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),Te.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(e,t=0){Te.element(e)&&(e.value=t,Lt.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!Te.event(e))return;let t=0;const n=(r,i)=>{const o=Te.number(i)?i:0,s=Te.element(r)?r:this.elements.display.buffer;if(Te.element(s)){s.value=o;const a=s.getElementsByTagName("span")[0];Te.element(a)&&(a.childNodes[0].nodeValue=o)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=Q7t(this.currentTime,this.duration),e.type==="timeupdate"&&Lt.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":n(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(e){const t=Te.event(e)?e.target:e;if(Te.element(t)&&t.getAttribute("type")==="range"){if(wv(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const n=Lt.formatTime(this.currentTime),r=Lt.formatTime(this.duration),i=Cs.get("seekLabel",this.config);t.setAttribute("aria-valuetext",i.replace("{currentTime}",n).replace("{duration}",r))}else if(wv(t,this.config.selectors.inputs.volume)){const n=100*t.value;t.setAttribute("aria-valuenow",n),t.setAttribute("aria-valuetext",`${n.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(Es.isWebKit||Es.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,n;if(!this.config.tooltips.seek||!Te.element(this.elements.inputs.seek)||!Te.element(this.elements.display.seekTooltip)||this.duration===0)return;const r=this.elements.display.seekTooltip,i=`${this.config.classNames.tooltip}--visible`,o=c=>ti(r,i,c);if(this.touch)return void o(!1);let s=0;const a=this.elements.progress.getBoundingClientRect();if(Te.event(e))s=100/a.width*(e.pageX-a.left);else{if(!XN(r,i))return;s=parseFloat(r.style.left,10)}s<0?s=0:s>100&&(s=100);const l=this.duration/100*s;r.innerText=Lt.formatTime(l);const u=(t=this.config.markers)===null||t===void 0||(n=t.points)===null||n===void 0?void 0:n.find((({time:c})=>c===Math.round(l)));u&&r.insertAdjacentHTML("afterbegin",`${u.label}<br>`),r.style.left=`${s}%`,Te.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&o(e.type==="mouseenter")},timeUpdate(e){const t=!Te.element(this.elements.display.duration)&&this.config.invertTime;Lt.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&e.type==="timeupdate"&&this.media.seeking||Lt.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return jy(this.elements.display.currentTime,!0),void jy(this.elements.progress,!0);Te.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=Te.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Lt.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Lt.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Lt.setMarkers.call(this),Lt.updateSeekTooltip.call(this)},toggleMenuButton(e,t){jy(this.elements.settings.buttons[e],!t)},updateSetting(e,t,n){const r=this.elements.settings.panels[e];let i=null,o=t;if(e==="captions")i=this.currentTrack;else{if(i=Te.empty(n)?this[e]:n,Te.empty(i)&&(i=this.config[e].default),!Te.empty(this.options[e])&&!this.options[e].includes(i))return void this.debug.warn(`Unsupported value of '${i}' for ${e}`);if(!this.config[e].options.includes(i))return void this.debug.warn(`Disabled value of '${i}' for ${e}`)}if(Te.element(o)||(o=r&&r.querySelector('[role="menu"]')),!Te.element(o))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=Lt.getLabel.call(this,e,i);const s=o&&o.querySelector(`[value="${i}"]`);Te.element(s)&&(s.checked=!0)},getLabel(e,t){switch(e){case"speed":return t===1?Cs.get("normal",this.config):`${t}&times;`;case"quality":if(Te.number(t)){const n=Cs.get(`qualityLabel.${t}`,this.config);return n.length?n:`${t}p`}return g4e(t);case"captions":return zr.getLabel.call(this);default:return null}},setQualityMenu(e){if(!Te.element(this.elements.settings.panels.quality))return;const t="quality",n=this.elements.settings.panels.quality.querySelector('[role="menu"]');Te.array(e)&&(this.options.quality=Aq(e).filter((o=>this.config.quality.options.includes(o))));const r=!Te.empty(this.options.quality)&&this.options.quality.length>1;if(Lt.toggleMenuButton.call(this,t,r),r3(n),Lt.checkMenu.call(this),!r)return;const i=o=>{const s=Cs.get(`qualityBadge.${o}`,this.config);return s.length?Lt.createBadge.call(this,s):null};this.options.quality.sort(((o,s)=>{const a=this.config.quality.options;return a.indexOf(o)>a.indexOf(s)?1:-1})).forEach((o=>{Lt.createMenuItem.call(this,{value:o,list:n,type:t,title:Lt.getLabel.call(this,"quality",o),badge:i(o)})})),Lt.updateSetting.call(this,t,n)},setCaptionsMenu(){if(!Te.element(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),n=zr.getTracks.call(this),r=!!n.length;if(Lt.toggleMenuButton.call(this,e,r),r3(t),Lt.checkMenu.call(this),!r)return;const i=n.map(((o,s)=>({value:s,checked:this.captions.toggled&&this.currentTrack===s,title:zr.getLabel.call(this,o),badge:o.language&&Lt.createBadge.call(this,o.language.toUpperCase()),list:t,type:"language"})));i.unshift({value:-1,checked:!this.captions.toggled,title:Cs.get("disabled",this.config),list:t,type:"language"}),i.forEach(Lt.createMenuItem.bind(this)),Lt.updateSetting.call(this,e,t)},setSpeedMenu(){if(!Te.element(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((r=>r>=this.minimumSpeed&&r<=this.maximumSpeed));const n=!Te.empty(this.options.speed)&&this.options.speed.length>1;Lt.toggleMenuButton.call(this,e,n),r3(t),Lt.checkMenu.call(this),n&&(this.options.speed.forEach((r=>{Lt.createMenuItem.call(this,{value:r,list:t,type:e,title:Lt.getLabel.call(this,"speed",r)})})),Lt.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!Te.empty(e)&&Object.values(e).some((n=>!n.hidden));jy(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let n=e;Te.element(n)||(n=Object.values(this.elements.settings.panels).find((i=>!i.hidden)));const r=n.querySelector('[role^="menuitem"]');dB.call(this,r,t)},toggleMenu(e){const{popup:t}=this.elements.settings,n=this.elements.buttons.settings;if(!Te.element(t)||!Te.element(n))return;const{hidden:r}=t;let i=r;if(Te.boolean(e))i=e;else if(Te.keyboardEvent(e)&&e.key==="Escape")i=!1;else if(Te.event(e)){const o=Te.function(e.composedPath)?e.composedPath()[0]:e.target,s=t.contains(o);if(s||!s&&e.target!==n&&i)return}n.setAttribute("aria-expanded",i),jy(t,!i),ti(this.elements.container,this.config.classNames.menu.open,i),i&&Te.keyboardEvent(e)?Lt.focusFirstMenuItem.call(this,null,!0):i||r||dB.call(this,n,Te.keyboardEvent(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const n=t.scrollWidth,r=t.scrollHeight;return qp(t),{width:n,height:r}},showMenuPanel(e="",t=!1){const n=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!Te.element(n))return;const r=n.parentNode,i=Array.from(r.children).find((o=>!o.hidden));if(Po.transitions&&!Po.reducedMotion){r.style.width=`${i.scrollWidth}px`,r.style.height=`${i.scrollHeight}px`;const o=Lt.getMenuSize.call(this,n),s=a=>{a.target===r&&["width","height"].includes(a.propertyName)&&(r.style.width="",r.style.height="",l$.call(this,r,Tq,s))};Mr.call(this,r,Tq,s),r.style.width=`${o.width}px`,r.style.height=`${o.height}px`}jy(i,!0),jy(n,!1),Lt.focusFirstMenuItem.call(this,n,t)},setDownloadUrl(){const e=this.elements.buttons.download;Te.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:n,createProgress:r,createRange:i,createTime:o,setQualityMenu:s,setSpeedMenu:a,showMenuPanel:l}=Lt;this.elements.controls=null,Te.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(n.call(this,"play-large"));const u=$n("div",Gf(this.config.selectors.controls.wrapper));this.elements.controls=u;const c={class:"plyr__controls__item"};return Aq(Te.array(this.config.controls)?this.config.controls:[]).forEach((d=>{if(d==="restart"&&u.appendChild(n.call(this,"restart",c)),d==="rewind"&&u.appendChild(n.call(this,"rewind",c)),d==="play"&&u.appendChild(n.call(this,"play",c)),d==="fast-forward"&&u.appendChild(n.call(this,"fast-forward",c)),d==="progress"){const f=$n("div",{class:`${c.class} plyr__progress__container`}),h=$n("div",Gf(this.config.selectors.progress));if(h.appendChild(i.call(this,"seek",{id:`plyr-seek-${e.id}`})),h.appendChild(r.call(this,"buffer")),this.config.tooltips.seek){const p=$n("span",{class:this.config.classNames.tooltip},"00:00");h.appendChild(p),this.elements.display.seekTooltip=p}this.elements.progress=h,f.appendChild(this.elements.progress),u.appendChild(f)}if(d==="current-time"&&u.appendChild(o.call(this,"currentTime",c)),d==="duration"&&u.appendChild(o.call(this,"duration",c)),d==="mute"||d==="volume"){let{volume:f}=this.elements;if(Te.element(f)&&u.contains(f)||(f=$n("div",Ro({},c,{class:`${c.class} plyr__volume`.trim()})),this.elements.volume=f,u.appendChild(f)),d==="mute"&&f.appendChild(n.call(this,"mute")),d==="volume"&&!Es.isIos&&!Es.isIPadOS){const h={max:1,step:.05,value:this.config.volume};f.appendChild(i.call(this,"volume",Ro(h,{id:`plyr-volume-${e.id}`})))}}if(d==="captions"&&u.appendChild(n.call(this,"captions",c)),d==="settings"&&!Te.empty(this.config.settings)){const f=$n("div",Ro({},c,{class:`${c.class} plyr__menu`.trim(),hidden:""}));f.appendChild(n.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const h=$n("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),p=$n("div"),m=$n("div",{id:`plyr-settings-${e.id}-home`}),g=$n("div",{role:"menu"});m.appendChild(g),p.appendChild(m),this.elements.settings.panels.home=m,this.config.settings.forEach((v=>{const y=$n("button",Ro(Gf(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,y,v),Mr.call(this,y,"click",(()=>{l.call(this,v,!1)}));const x=$n("span",null,Cs.get(v,this.config)),E=$n("span",{class:this.config.classNames.menu.value});E.innerHTML=e[v],x.appendChild(E),y.appendChild(x),g.appendChild(y);const _=$n("div",{id:`plyr-settings-${e.id}-${v}`,hidden:""}),S=$n("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});S.appendChild($n("span",{"aria-hidden":!0},Cs.get(v,this.config))),S.appendChild($n("span",{class:this.config.classNames.hidden},Cs.get("menuBack",this.config))),Mr.call(this,_,"keydown",(T=>{T.key==="ArrowLeft"&&(T.preventDefault(),T.stopPropagation(),l.call(this,"home",!0))}),!1),Mr.call(this,S,"click",(()=>{l.call(this,"home",!1)})),_.appendChild(S),_.appendChild($n("div",{role:"menu"})),p.appendChild(_),this.elements.settings.buttons[v]=y,this.elements.settings.panels[v]=_})),h.appendChild(p),f.appendChild(h),u.appendChild(f),this.elements.settings.popup=h,this.elements.settings.menu=f}if(d==="pip"&&Po.pip&&u.appendChild(n.call(this,"pip",c)),d==="airplay"&&Po.airplay&&u.appendChild(n.call(this,"airplay",c)),d==="download"){const f=Ro({},c,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(f.download="");const{download:h}=this.config.urls;!Te.url(h)&&this.isEmbed&&Ro(f,{icon:`logo-${this.provider}`,label:this.provider}),u.appendChild(n.call(this,"download",f))}d==="fullscreen"&&u.appendChild(n.call(this,"fullscreen",c))})),this.isHTML5&&s.call(this,e0.getQualityOptions.call(this)),a.call(this),u},inject(){if(this.config.loadSprite){const i=Lt.getIconUrl.call(this);i.cors&&y4e(i.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let n=!0;Te.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),Te.element(this.config.controls)||Te.string(this.config.controls)?e=this.config.controls:(e=Lt.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:zr.getLabel.call(this)}),n=!1);let r;if(n&&Te.string(this.config.controls)&&(e=(i=>{let o=i;return Object.entries(t).forEach((([s,a])=>{o=WS(o,`{${s}}`,a)})),o})(e)),Te.string(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),Te.element(r)||(r=this.elements.container),r[Te.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),Te.element(this.elements.controls)||Lt.findElements.call(this),!Te.empty(this.elements.buttons)){const i=o=>{const s=this.config.classNames.controlPressed;o.setAttribute("aria-pressed","false"),Object.defineProperty(o,"pressed",{configurable:!0,enumerable:!0,get:()=>XN(o,s),set(a=!1){ti(o,s,a),o.setAttribute("aria-pressed",a?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach((o=>{Te.array(o)||Te.nodeList(o)?Array.from(o).filter(Boolean).forEach(i):i(o)}))}if(Es.isEdge&&u4e(r),this.config.tooltips.controls){const{classNames:i,selectors:o}=this.config,s=`${o.controls.wrapper} ${o.labels} .${i.hidden}`,a=fT.call(this,s);Array.from(a).forEach((l=>{ti(l,this.config.classNames.hidden,!1),ti(l,this.config.classNames.tooltip,!0)}))}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const n=(e=this.config.markers)===null||e===void 0||(t=e.points)===null||t===void 0?void 0:t.filter((({time:l})=>l>0&&l<this.duration));if(n==null||!n.length)return;const r=document.createDocumentFragment(),i=document.createDocumentFragment();let o=null;const s=`${this.config.classNames.tooltip}--visible`,a=l=>ti(o,s,l);n.forEach((l=>{const u=$n("span",{class:this.config.classNames.marker},""),c=l.time/this.duration*100+"%";o&&(u.addEventListener("mouseenter",(()=>{l.label||(o.style.left=c,o.innerHTML=l.label,a(!0))})),u.addEventListener("mouseleave",(()=>{a(!1)}))),u.addEventListener("click",(()=>{this.currentTime=l.time})),u.style.left=c,i.appendChild(u)})),r.appendChild(i),this.config.tooltips.seek||(o=$n("span",{class:this.config.classNames.tooltip},""),r.appendChild(o)),this.elements.markers={points:i,tip:o},this.elements.progress.appendChild(r)}};function b4e(e,t=!0){let n=e;if(t){const r=document.createElement("a");r.href=n,n=r.href}try{return new URL(n)}catch{return null}}function w4e(e){const t=new URLSearchParams;return Te.object(e)&&Object.entries(e).forEach((([n,r])=>{t.set(n,r)})),t}const zr={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!Po.textTracks)return void(Te.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Lt.setCaptionsMenu.call(this));if(Te.element(this.elements.captions)||(this.elements.captions=$n("div",Gf(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),q7t(this.elements.captions,this.elements.wrapper)),Es.isIE&&window.URL){const r=this.media.querySelectorAll("track");Array.from(r).forEach((i=>{const o=i.getAttribute("src"),s=b4e(o);s!==null&&s.hostname!==window.location.href.hostname&&["http:","https:"].includes(s.protocol)&&eA(o,"blob").then((a=>{i.setAttribute("src",window.URL.createObjectURL(a))})).catch((()=>{qp(i)}))}))}const e=Aq((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((r=>r.split("-")[0])));let t=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();t==="auto"&&([t]=e);let n=this.storage.get("captions");if(Te.boolean(n)||({active:n}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n,language:t,languages:e}),this.isHTML5){const r=this.config.captions.update?"addtrack removetrack":"removetrack";Mr.call(this,this.media.textTracks,r,zr.update.bind(this))}setTimeout(zr.update.bind(this),0)},update(){const e=zr.getTracks.call(this,!0),{active:t,language:n,meta:r,currentTrackNode:i}=this.captions,o=!!e.find((s=>s.language===n));this.isHTML5&&this.isVideo&&e.filter((s=>!r.get(s))).forEach((s=>{this.debug.log("Track added",s),r.set(s,{default:s.mode==="showing"}),s.mode==="showing"&&(s.mode="hidden"),Mr.call(this,s,"cuechange",(()=>zr.updateCues.call(this)))})),(o&&this.language!==n||!e.includes(i))&&(zr.setLanguage.call(this,n),zr.toggle.call(this,t&&o)),this.elements&&ti(this.elements.container,this.config.classNames.captions.enabled,!Te.empty(e)),Te.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Lt.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:n}=this.captions,r=this.config.classNames.captions.active,i=Te.nullOrUndefined(e)?!n:e;if(i!==n){if(t||(this.captions.active=i,this.storage.set({captions:i})),!this.language&&i&&!t){const o=zr.getTracks.call(this),s=zr.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=s.language,void zr.set.call(this,o.indexOf(s))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=i),ti(this.elements.container,r,i),this.captions.toggled=i,Lt.updateSetting.call(this,"captions"),Bn.call(this,this.media,i?"captionsenabled":"captionsdisabled")}setTimeout((()=>{i&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")}))},set(e,t=!0){const n=zr.getTracks.call(this);if(e!==-1)if(Te.number(e))if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const r=n[e],{language:i}=r||{};this.captions.currentTrackNode=r,Lt.updateSetting.call(this,"captions"),t||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i),Bn.call(this,this.media,"languagechange")}zr.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&zr.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else zr.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!Te.string(e))return void this.debug.warn("Invalid language argument",e);const n=e.toLowerCase();this.captions.language=n;const r=zr.getTracks.call(this),i=zr.findTrack.call(this,[n]);zr.set.call(this,r.indexOf(i),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter((t=>!this.isHTML5||e||this.captions.meta.has(t))).filter((t=>["captions","subtitles"].includes(t.kind)))},findTrack(e,t=!1){const n=zr.getTracks.call(this),r=s=>Number((this.captions.meta.get(s)||{}).default),i=Array.from(n).sort(((s,a)=>r(a)-r(s)));let o;return e.every((s=>(o=i.find((a=>a.language===s)),!o))),o||(t?i[0]:void 0)},getCurrentTrack(){return zr.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!Te.track(t)&&Po.textTracks&&this.captions.toggled&&(t=zr.getCurrentTrack.call(this)),Te.track(t)?Te.empty(t.label)?Te.empty(t.language)?Cs.get("enabled",this.config):e.language.toUpperCase():t.label:Cs.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!Te.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!Te.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const r=zr.getCurrentTrack.call(this);t=Array.from((r||{}).activeCues||[]).map((i=>i.getCueAsHTML())).map(tzt)}const n=t.map((r=>r.trim())).join(`
`);if(n!==this.elements.captions.innerHTML){r3(this.elements.captions);const r=$n("span",Gf(this.config.selectors.caption));r.innerHTML=n,this.elements.captions.appendChild(r),Bn.call(this,this.media,"cuechange")}}},x4e={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},fB={active:"picture-in-picture",inactive:"inline"},Ug={html5:"html5",youtube:"youtube",vimeo:"vimeo"},hB={audio:"audio",video:"video"};function izt(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?Ug.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?Ug.vimeo:null}const pB=()=>{};class ozt{constructor(t=!1){this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):pB}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):pB}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):pB}}class gd{constructor(t){Bt(this,"onChange",(()=>{if(!this.supported)return;const n=this.player.elements.buttons.fullscreen;Te.element(n)&&(n.pressed=this.active);const r=this.target===this.player.media?this.target:this.player.elements.container;Bn.call(this.player,r,this.active?"enterfullscreen":"exitfullscreen",!0)})),Bt(this,"toggleFallback",((n=!1)=>{if(n?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=n?"hidden":"",ti(this.target,this.player.config.classNames.fullscreen.fallback,n),Es.isIos){let r=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";r||(r=document.createElement("meta"),r.setAttribute("name","viewport"));const o=Te.string(r.content)&&r.content.includes(i);n?(this.cleanupViewport=!o,o||(r.content+=`,${i}`)):this.cleanupViewport&&(r.content=r.content.split(",").filter((s=>s.trim()!==i)).join(","))}this.onChange()})),Bt(this,"trapFocus",(n=>{if(Es.isIos||Es.isIPadOS||!this.active||n.key!=="Tab")return;const r=document.activeElement,i=fT.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[o]=i,s=i[i.length-1];r!==s||n.shiftKey?r===o&&n.shiftKey&&(s.focus(),n.preventDefault()):(o.focus(),n.preventDefault())})),Bt(this,"update",(()=>{if(this.supported){let n;n=this.forceFallback?"Fallback (forced)":gd.nativeSupported?"Native":"Fallback",this.player.debug.log(`${n} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");ti(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)})),Bt(this,"enter",(()=>{this.supported&&(Es.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!gd.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?Te.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))})),Bt(this,"exit",(()=>{if(this.supported)if(Es.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),oh(this.player.play());else if(!gd.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!Te.empty(this.prefix)){const n=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${n}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),Bt(this,"toggle",(()=>{this.active?this.exit():this.enter()})),this.player=t,this.prefix=gd.prefix,this.property=gd.property,this.scrollPosition={x:0,y:0},this.forceFallback=t.config.fullscreen.fallback==="force",this.player.elements.fullscreen=t.config.fullscreen.container&&V7t(this.player.elements.container,t.config.fullscreen.container),Mr.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,(()=>{this.onChange()})),Mr.call(this.player,this.player.elements.container,"dblclick",(n=>{Te.element(this.player.elements.controls)&&this.player.elements.controls.contains(n.target)||this.player.listeners.proxy(n,this.toggle,"fullscreen")})),Mr.call(this,this.player.elements.container,"keydown",(n=>this.trapFocus(n))),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return gd.nativeSupported&&!this.forceFallback}static get prefix(){if(Te.function(document.exitFullscreen))return"";let t="";return["webkit","moz","ms"].some((n=>!(!Te.function(document[`${n}ExitFullscreen`])&&!Te.function(document[`${n}CancelFullScreen`]))&&(t=n,!0))),t}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,gd.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||gd.nativeSupported||!Es.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!gd.nativeSupported||this.forceFallback)return XN(this.target,this.player.config.classNames.fullscreen.fallback);const t=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}get target(){return Es.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function i3(e,t=1){return new Promise(((n,r)=>{const i=new Image,o=()=>{delete i.onload,delete i.onerror,(i.naturalWidth>=t?n:r)(i)};Object.assign(i,{onload:o,onerror:o,src:e})}))}const mi={addStyleHook(){ti(this.elements.container,this.config.selectors.container.replace(".",""),!0),ti(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void mi.toggleNativeControls.call(this,!0);Te.element(this.elements.controls)||(Lt.inject.call(this),this.listeners.controls()),mi.toggleNativeControls.call(this),this.isHTML5&&zr.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Lt.updateVolume.call(this),Lt.timeUpdate.call(this),Lt.durationUpdate.call(this),mi.checkPlaying.call(this),ti(this.elements.container,this.config.classNames.pip.supported,Po.pip&&this.isHTML5&&this.isVideo),ti(this.elements.container,this.config.classNames.airplay.supported,Po.airplay&&this.isHTML5),ti(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((()=>{Bn.call(this,this.media,"ready")}),0),mi.setTitle.call(this),this.poster&&mi.setPoster.call(this,this.poster,!1).catch((()=>{})),this.config.duration&&Lt.durationUpdate.call(this),this.config.mediaMetadata&&Lt.setMediaMetadata.call(this)},setTitle(){let e=Cs.get("play",this.config);if(Te.string(this.config.title)&&!Te.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach((t=>{t.setAttribute("aria-label",e)})),this.isEmbed){const t=os.call(this,"iframe");if(!Te.element(t))return;const n=Te.empty(this.config.title)?"video":this.config.title,r=Cs.get("frameTitle",this.config);t.setAttribute("title",r.replace("{title}",n))}},togglePoster(e){ti(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),Y7t.call(this).then((()=>i3(e))).catch((n=>{throw e===this.poster&&mi.togglePoster.call(this,!1),n})).then((()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),mi.togglePoster.call(this,!0),e))))},checkPlaying(e){ti(this.elements.container,this.config.classNames.playing,this.playing),ti(this.elements.container,this.config.classNames.paused,this.paused),ti(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((t=>{Object.assign(t,{pressed:this.playing}),t.setAttribute("aria-label",Cs.get(this.playing?"pause":"play",this.config))})),Te.event(e)&&e.type==="timeupdate"||mi.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((()=>{ti(this.elements.container,this.config.classNames.loading,this.loading),mi.toggleControls.call(this)}),this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(e||this.loading||this.paused||t.pressed||t.hover||n))}},migrateStyles(){Object.values({...this.media.style}).filter((e=>!Te.empty(e)&&Te.string(e)&&e.startsWith("--plyr"))).forEach((e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)})),Te.empty(this.media.style)&&this.media.removeAttribute("style")}};class szt{constructor(t){Bt(this,"firstTouch",(()=>{const{player:n}=this,{elements:r}=n;n.touch=!0,ti(r.container,n.config.classNames.isTouch,!0)})),Bt(this,"global",((n=!0)=>{const{player:r}=this;r.config.keyboard.global&&hT.call(r,window,"keydown keyup",this.handleKey,n,!1),hT.call(r,document.body,"click",this.toggleMenu,n),yee.call(r,document.body,"touchstart",this.firstTouch)})),Bt(this,"container",(()=>{const{player:n}=this,{config:r,elements:i,timers:o}=n;!r.keyboard.global&&r.keyboard.focused&&Mr.call(n,i.container,"keydown keyup",this.handleKey,!1),Mr.call(n,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(l=>{const{controls:u}=i;u&&l.type==="enterfullscreen"&&(u.pressed=!1,u.hover=!1);let c=0;["touchstart","touchmove","mousemove"].includes(l.type)&&(mi.toggleControls.call(n,!0),c=n.touch?3e3:2e3),clearTimeout(o.controls),o.controls=setTimeout((()=>mi.toggleControls.call(n,!1)),c)}));const s=()=>{if(!n.isVimeo||n.config.vimeo.premium)return;const l=i.wrapper,{active:u}=n.fullscreen,[c,d]=vee.call(n),f=h4e(`aspect-ratio: ${c} / ${d}`);if(!u)return void(f?(l.style.width=null,l.style.height=null):(l.style.maxWidth=null,l.style.margin=null));const[h,p]=K7t(),m=h/p>c/d;f?(l.style.width=m?"auto":"100%",l.style.height=m?"100%":"auto"):(l.style.maxWidth=m?p/d*c+"px":null,l.style.margin=m?"0 auto":null)},a=()=>{clearTimeout(o.resized),o.resized=setTimeout(s,50)};Mr.call(n,i.container,"enterfullscreen exitfullscreen",(l=>{const{target:u}=n.fullscreen;u===i.container&&(!n.isEmbed&&Te.empty(n.config.ratio)||(s(),(l.type==="enterfullscreen"?Mr:l$).call(n,window,"resize",a)))}))})),Bt(this,"media",(()=>{const{player:n}=this,{elements:r}=n;if(Mr.call(n,n.media,"timeupdate seeking seeked",(o=>Lt.timeUpdate.call(n,o))),Mr.call(n,n.media,"durationchange loadeddata loadedmetadata",(o=>Lt.durationUpdate.call(n,o))),Mr.call(n,n.media,"ended",(()=>{n.isHTML5&&n.isVideo&&n.config.resetOnEnd&&(n.restart(),n.pause())})),Mr.call(n,n.media,"progress playing seeking seeked",(o=>Lt.updateProgress.call(n,o))),Mr.call(n,n.media,"volumechange",(o=>Lt.updateVolume.call(n,o))),Mr.call(n,n.media,"playing play pause ended emptied timeupdate",(o=>mi.checkPlaying.call(n,o))),Mr.call(n,n.media,"waiting canplay seeked playing",(o=>mi.checkLoading.call(n,o))),n.supported.ui&&n.config.clickToPlay&&!n.isAudio){const o=os.call(n,`.${n.config.classNames.video}`);if(!Te.element(o))return;Mr.call(n,r.container,"click",(s=>{([r.container,o].includes(s.target)||o.contains(s.target))&&(n.touch&&n.config.hideControls||(n.ended?(this.proxy(s,n.restart,"restart"),this.proxy(s,(()=>{oh(n.play())}),"play")):this.proxy(s,(()=>{oh(n.togglePlay())}),"play")))}))}n.supported.ui&&n.config.disableContextMenu&&Mr.call(n,r.wrapper,"contextmenu",(o=>{o.preventDefault()}),!1),Mr.call(n,n.media,"volumechange",(()=>{n.storage.set({volume:n.volume,muted:n.muted})})),Mr.call(n,n.media,"ratechange",(()=>{Lt.updateSetting.call(n,"speed"),n.storage.set({speed:n.speed})})),Mr.call(n,n.media,"qualitychange",(o=>{Lt.updateSetting.call(n,"quality",null,o.detail.quality)})),Mr.call(n,n.media,"ready qualitychange",(()=>{Lt.setDownloadUrl.call(n)}));const i=n.config.events.concat(["keyup","keydown"]).join(" ");Mr.call(n,n.media,i,(o=>{let{detail:s={}}=o;o.type==="error"&&(s=n.media.error),Bn.call(n,r.container,o.type,!0,s)}))})),Bt(this,"proxy",((n,r,i)=>{const{player:o}=this,s=o.config.listeners[i];let a=!0;Te.function(s)&&(a=s.call(o,n)),a!==!1&&Te.function(r)&&r.call(o,n)})),Bt(this,"bind",((n,r,i,o,s=!0)=>{const{player:a}=this,l=a.config.listeners[o],u=Te.function(l);Mr.call(a,n,r,(c=>this.proxy(c,i,o)),s&&!u)})),Bt(this,"controls",(()=>{const{player:n}=this,{elements:r}=n,i=Es.isIE?"change":"input";if(r.buttons.play&&Array.from(r.buttons.play).forEach((o=>{this.bind(o,"click",(()=>{oh(n.togglePlay())}),"play")})),this.bind(r.buttons.restart,"click",n.restart,"restart"),this.bind(r.buttons.rewind,"click",(()=>{n.lastSeekTime=Date.now(),n.rewind()}),"rewind"),this.bind(r.buttons.fastForward,"click",(()=>{n.lastSeekTime=Date.now(),n.forward()}),"fastForward"),this.bind(r.buttons.mute,"click",(()=>{n.muted=!n.muted}),"mute"),this.bind(r.buttons.captions,"click",(()=>n.toggleCaptions())),this.bind(r.buttons.download,"click",(()=>{Bn.call(n,n.media,"download")}),"download"),this.bind(r.buttons.fullscreen,"click",(()=>{n.fullscreen.toggle()}),"fullscreen"),this.bind(r.buttons.pip,"click",(()=>{n.pip="toggle"}),"pip"),this.bind(r.buttons.airplay,"click",n.airplay,"airplay"),this.bind(r.buttons.settings,"click",(o=>{o.stopPropagation(),o.preventDefault(),Lt.toggleMenu.call(n,o)}),null,!1),this.bind(r.buttons.settings,"keyup",(o=>{[" ","Enter"].includes(o.key)&&(o.key!=="Enter"?(o.preventDefault(),o.stopPropagation(),Lt.toggleMenu.call(n,o)):Lt.focusFirstMenuItem.call(n,null,!0))}),null,!1),this.bind(r.settings.menu,"keydown",(o=>{o.key==="Escape"&&Lt.toggleMenu.call(n,o)})),this.bind(r.inputs.seek,"mousedown mousemove",(o=>{const s=r.progress.getBoundingClientRect(),a=100/s.width*(o.pageX-s.left);o.currentTarget.setAttribute("seek-value",a)})),this.bind(r.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(o=>{const s=o.currentTarget,a="play-on-seeked";if(Te.keyboardEvent(o)&&!["ArrowLeft","ArrowRight"].includes(o.key))return;n.lastSeekTime=Date.now();const l=s.hasAttribute(a),u=["mouseup","touchend","keyup"].includes(o.type);l&&u?(s.removeAttribute(a),oh(n.play())):!u&&n.playing&&(s.setAttribute(a,""),n.pause())})),Es.isIos){const o=fT.call(n,'input[type="range"]');Array.from(o).forEach((s=>this.bind(s,i,(a=>u4e(a.target)))))}this.bind(r.inputs.seek,i,(o=>{const s=o.currentTarget;let a=s.getAttribute("seek-value");Te.empty(a)&&(a=s.value),s.removeAttribute("seek-value"),n.currentTime=a/s.max*n.duration}),"seek"),this.bind(r.progress,"mouseenter mouseleave mousemove",(o=>Lt.updateSeekTooltip.call(n,o))),this.bind(r.progress,"mousemove touchmove",(o=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.startMove(o)})),this.bind(r.progress,"mouseleave touchend click",(()=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.endMove(!1,!0)})),this.bind(r.progress,"mousedown touchstart",(o=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.startScrubbing(o)})),this.bind(r.progress,"mouseup touchend",(o=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.endScrubbing(o)})),Es.isWebKit&&Array.from(fT.call(n,'input[type="range"]')).forEach((o=>{this.bind(o,"input",(s=>Lt.updateRangeFill.call(n,s.target)))})),n.config.toggleInvert&&!Te.element(r.display.duration)&&this.bind(r.display.currentTime,"click",(()=>{n.currentTime!==0&&(n.config.invertTime=!n.config.invertTime,Lt.timeUpdate.call(n))})),this.bind(r.inputs.volume,i,(o=>{n.volume=o.target.value}),"volume"),this.bind(r.controls,"mouseenter mouseleave",(o=>{r.controls.hover=!n.touch&&o.type==="mouseenter"})),r.fullscreen&&Array.from(r.fullscreen.children).filter((o=>!o.contains(r.container))).forEach((o=>{this.bind(o,"mouseenter mouseleave",(s=>{r.controls&&(r.controls.hover=!n.touch&&s.type==="mouseenter")}))})),this.bind(r.controls,"mousedown mouseup touchstart touchend touchcancel",(o=>{r.controls.pressed=["mousedown","touchstart"].includes(o.type)})),this.bind(r.controls,"focusin",(()=>{const{config:o,timers:s}=n;ti(r.controls,o.classNames.noTransition,!0),mi.toggleControls.call(n,!0),setTimeout((()=>{ti(r.controls,o.classNames.noTransition,!1)}),0);const a=this.touch?3e3:4e3;clearTimeout(s.controls),s.controls=setTimeout((()=>mi.toggleControls.call(n,!1)),a)})),this.bind(r.inputs.volume,"wheel",(o=>{const s=o.webkitDirectionInvertedFromDevice,[a,l]=[o.deltaX,-o.deltaY].map((d=>s?-d:d)),u=Math.sign(Math.abs(a)>Math.abs(l)?a:l);n.increaseVolume(u/50);const{volume:c}=n.media;(u===1&&c<1||u===-1&&c>0)&&o.preventDefault()}),"volume",!1)})),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(t){const{player:n}=this,{elements:r}=n,{key:i,type:o,altKey:s,ctrlKey:a,metaKey:l,shiftKey:u}=t,c=o==="keydown",d=c&&i===this.lastKey;if(!(s||a||l||u)&&i){if(c){const h=document.activeElement;if(Te.element(h)){const{editable:p}=n.config.selectors,{seek:m}=r.inputs;if(h!==m&&wv(h,p)||t.key===" "&&wv(h,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(i)&&(t.preventDefault(),t.stopPropagation()),i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d||(f=parseInt(i,10),n.currentTime=n.duration/10*f);break;case" ":case"k":d||oh(n.togglePlay());break;case"ArrowUp":n.increaseVolume(.1);break;case"ArrowDown":n.decreaseVolume(.1);break;case"m":d||(n.muted=!n.muted);break;case"ArrowRight":n.forward();break;case"ArrowLeft":n.rewind();break;case"f":n.fullscreen.toggle();break;case"c":d||n.toggleCaptions();break;case"l":n.loop=!n.loop}i==="Escape"&&!n.fullscreen.usingNative&&n.fullscreen.active&&n.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null;var f}}toggleMenu(t){Lt.toggleMenu.call(this.player,t)}}function azt(e,t){return e(t={exports:{}},t.exports),t.exports}var lzt=azt((function(e,t){e.exports=(function(){var n=function(){},r={},i={},o={};function s(f,h){f=f.push?f:[f];var p,m,g,v=[],y=f.length,x=y;for(p=function(E,_){_.length&&v.push(E),--x||h(v)};y--;)m=f[y],(g=i[m])?p(m,g):(o[m]=o[m]||[]).push(p)}function a(f,h){if(f){var p=o[f];if(i[f]=h,p)for(;p.length;)p[0](f,h),p.splice(0,1)}}function l(f,h){f.call&&(f={success:f}),h.length?(f.error||n)(h):(f.success||n)(f)}function u(f,h,p,m){var g,v,y=document,x=p.async,E=(p.numRetries||0)+1,_=p.before||n,S=f.replace(/[\?|#].*$/,""),T=f.replace(/^(css|img)!/,"");m=m||0,/(^css!|\.css$)/.test(S)?((v=y.createElement("link")).rel="stylesheet",v.href=T,(g="hideFocus"in v)&&v.relList&&(g=0,v.rel="preload",v.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(S)?(v=y.createElement("img")).src=T:((v=y.createElement("script")).src=f,v.async=x===void 0||x),v.onload=v.onerror=v.onbeforeload=function(k){var R=k.type[0];if(g)try{v.sheet.cssText.length||(R="e")}catch(I){I.code!=18&&(R="e")}if(R=="e"){if((m+=1)<E)return u(f,h,p,m)}else if(v.rel=="preload"&&v.as=="style")return v.rel="stylesheet";h(f,R,k.defaultPrevented)},_(f,v)!==!1&&y.head.appendChild(v)}function c(f,h,p){var m,g,v=(f=f.push?f:[f]).length,y=v,x=[];for(m=function(E,_,S){if(_=="e"&&x.push(E),_=="b"){if(!S)return;x.push(E)}--v||h(x)},g=0;g<y;g++)u(f[g],m,p)}function d(f,h,p){var m,g;if(h&&h.trim&&(m=h),g=(m?p:h)||{},m){if(m in r)throw"LoadJS";r[m]=!0}function v(y,x){c(f,(function(E){l(g,E),y&&l({success:y,error:x},E),a(m,E)}),g)}if(g.returnPromise)return new Promise(v);v()}return d.ready=function(f,h){return s(f,(function(p){l(h,p)})),d},d.done=function(f){a(f,[])},d.reset=function(){r={},i={},o={}},d.isDefined=function(f){return f in r},d})()}));function bee(e){return new Promise(((t,n)=>{lzt(e,{success:t,error:n})}))}function uzt(e){return Te.empty(e)?null:Te.number(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e}function czt(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&t.length===5?t[4]:null}function pE(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Bn.call(this,this.media,e?"play":"pause"))}const Iq={setup(){const e=this;ti(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,Qx.call(e),Te.object(window.Vimeo)?Iq.ready.call(e):bee(e.config.urls.vimeo.sdk).then((()=>{Iq.ready.call(e)})).catch((t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready(){const e=this,t=e.config.vimeo,{premium:n,referrerPolicy:r,...i}=t;let o=e.media.getAttribute("src"),s="";Te.empty(o)?(o=e.media.getAttribute(e.config.attributes.embed.id),s=e.media.getAttribute(e.config.attributes.embed.hash)):s=czt(o);const a=s?{h:s}:{};n&&Object.assign(i,{controls:!1,sidedock:!1});const l=w4e({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...a,...i}),u=uzt(o),c=$n("iframe"),d=Rq(e.config.urls.vimeo.iframe,u,l);if(c.setAttribute("src",d),c.setAttribute("allowfullscreen",""),c.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),Te.empty(r)||c.setAttribute("referrerPolicy",r),n||!t.customControls)c.setAttribute("data-poster",e.poster),e.media=KN(c,e.media);else{const y=$n("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});y.appendChild(c),e.media=KN(y,e.media)}t.customControls||eA(Rq(e.config.urls.vimeo.api,d)).then((y=>{!Te.empty(y)&&y.thumbnail_url&&mi.setPoster.call(e,y.thumbnail_url).catch((()=>{}))})),e.embed=new window.Vimeo.Player(c,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(pE.call(e,!0),e.embed.play()),e.media.pause=()=>(pE.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:f}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>f,set(y){const{embed:x,media:E,paused:_,volume:S}=e,T=_&&!x.hasPlayed;E.seeking=!0,Bn.call(e,E,"seeking"),Promise.resolve(T&&x.setVolume(0)).then((()=>x.setCurrentTime(y))).then((()=>T&&x.pause())).then((()=>T&&x.setVolume(S))).catch((()=>{}))}});let h=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>h,set(y){e.embed.setPlaybackRate(y).then((()=>{h=y,Bn.call(e,e.media,"ratechange")})).catch((()=>{e.options.speed=[1]}))}});let{volume:p}=e.config;Object.defineProperty(e.media,"volume",{get:()=>p,set(y){e.embed.setVolume(y).then((()=>{p=y,Bn.call(e,e.media,"volumechange")}))}});let{muted:m}=e.config;Object.defineProperty(e.media,"muted",{get:()=>m,set(y){const x=!!Te.boolean(y)&&y;e.embed.setMuted(!!x||e.config.muted).then((()=>{m=x,Bn.call(e,e.media,"volumechange")}))}});let g,{loop:v}=e.config;Object.defineProperty(e.media,"loop",{get:()=>v,set(y){const x=Te.boolean(y)?y:e.config.loop.active;e.embed.setLoop(x).then((()=>{v=x}))}}),e.embed.getVideoUrl().then((y=>{g=y,Lt.setDownloadUrl.call(e)})).catch((y=>{this.debug.warn(y)})),Object.defineProperty(e.media,"currentSrc",{get:()=>g}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then((y=>{const[x,E]=y;e.embed.ratio=m4e(x,E),Qx.call(this)})),e.embed.setAutopause(e.config.autopause).then((y=>{e.config.autopause=y})),e.embed.getVideoTitle().then((y=>{e.config.title=y,mi.setTitle.call(this)})),e.embed.getCurrentTime().then((y=>{f=y,Bn.call(e,e.media,"timeupdate")})),e.embed.getDuration().then((y=>{e.media.duration=y,Bn.call(e,e.media,"durationchange")})),e.embed.getTextTracks().then((y=>{e.media.textTracks=y,zr.setup.call(e)})),e.embed.on("cuechange",(({cues:y=[]})=>{const x=y.map((E=>ezt(E.text)));zr.updateCues.call(e,x)})),e.embed.on("loaded",(()=>{e.embed.getPaused().then((y=>{pE.call(e,!y),y||Bn.call(e,e.media,"playing")})),Te.element(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)})),e.embed.on("bufferstart",(()=>{Bn.call(e,e.media,"waiting")})),e.embed.on("bufferend",(()=>{Bn.call(e,e.media,"playing")})),e.embed.on("play",(()=>{pE.call(e,!0),Bn.call(e,e.media,"playing")})),e.embed.on("pause",(()=>{pE.call(e,!1)})),e.embed.on("timeupdate",(y=>{e.media.seeking=!1,f=y.seconds,Bn.call(e,e.media,"timeupdate")})),e.embed.on("progress",(y=>{e.media.buffered=y.percent,Bn.call(e,e.media,"progress"),parseInt(y.percent,10)===1&&Bn.call(e,e.media,"canplaythrough"),e.embed.getDuration().then((x=>{x!==e.media.duration&&(e.media.duration=x,Bn.call(e,e.media,"durationchange"))}))})),e.embed.on("seeked",(()=>{e.media.seeking=!1,Bn.call(e,e.media,"seeked")})),e.embed.on("ended",(()=>{e.media.paused=!0,Bn.call(e,e.media,"ended")})),e.embed.on("error",(y=>{e.media.error=y,Bn.call(e,e.media,"error")})),t.customControls&&setTimeout((()=>mi.build.call(e)),0)}};function dzt(e){return Te.empty(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e}function mE(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Bn.call(this,this.media,e?"play":"pause"))}function fzt(e){return e.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const o3={setup(){if(ti(this.elements.wrapper,this.config.classNames.embed,!0),Te.object(window.YT)&&Te.function(window.YT.Player))o3.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{Te.function(e)&&e(),o3.ready.call(this)},bee(this.config.urls.youtube.sdk).catch((t=>{this.debug.warn("YouTube API failed to load",t)}))}},getTitle(e){eA(Rq(this.config.urls.youtube.api,e)).then((t=>{if(Te.object(t)){const{title:n,height:r,width:i}=t;this.config.title=n,mi.setTitle.call(this),this.embed.ratio=m4e(i,r)}Qx.call(this)})).catch((()=>{Qx.call(this)}))},ready(){const e=this,t=e.config.youtube,n=e.media&&e.media.getAttribute("id");if(!Te.empty(n)&&n.startsWith("youtube-"))return;let r=e.media.getAttribute("src");Te.empty(r)&&(r=e.media.getAttribute(this.config.attributes.embed.id));const i=dzt(r),o=$n("div",{id:X7t(e.provider),"data-poster":t.customControls?e.poster:void 0});if(e.media=KN(o,e.media),t.customControls){const s=a=>`https://i.ytimg.com/vi/${i}/${a}default.jpg`;i3(s("maxres"),121).catch((()=>i3(s("sd"),121))).catch((()=>i3(s("hq")))).then((a=>mi.setPoster.call(e,a.src))).then((a=>{a.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((()=>{}))}e.embed=new window.YT.Player(e.media,{videoId:i,host:fzt(t),playerVars:Ro({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(s){if(!e.media.error){const a=s.data,l={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[a]||"An unknown error occurred";e.media.error={code:a,message:l},Bn.call(e,e.media,"error")}},onPlaybackRateChange(s){const a=s.target;e.media.playbackRate=a.getPlaybackRate(),Bn.call(e,e.media,"ratechange")},onReady(s){if(Te.function(e.media.play))return;const a=s.target;o3.getTitle.call(e,i),e.media.play=()=>{mE.call(e,!0),a.playVideo()},e.media.pause=()=>{mE.call(e,!1),a.pauseVideo()},e.media.stop=()=>{a.stopVideo()},e.media.duration=a.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(a.getCurrentTime()),set(d){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,Bn.call(e,e.media,"seeking"),a.seekTo(d)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>a.getPlaybackRate(),set(d){a.setPlaybackRate(d)}});let{volume:l}=e.config;Object.defineProperty(e.media,"volume",{get:()=>l,set(d){l=d,a.setVolume(100*l),Bn.call(e,e.media,"volumechange")}});let{muted:u}=e.config;Object.defineProperty(e.media,"muted",{get:()=>u,set(d){const f=Te.boolean(d)?d:u;u=f,a[f?"mute":"unMute"](),a.setVolume(100*l),Bn.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>a.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const c=a.getAvailablePlaybackRates();e.options.speed=c.filter((d=>e.config.speed.options.includes(d))),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),Bn.call(e,e.media,"timeupdate"),Bn.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((()=>{e.media.buffered=a.getVideoLoadedFraction(),(e.media.lastBuffered===null||e.media.lastBuffered<e.media.buffered)&&Bn.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,e.media.buffered===1&&(clearInterval(e.timers.buffering),Bn.call(e,e.media,"canplaythrough"))}),200),t.customControls&&setTimeout((()=>mi.build.call(e)),50)},onStateChange(s){const a=s.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(s.data)&&(e.media.seeking=!1,Bn.call(e,e.media,"seeked")),s.data){case-1:Bn.call(e,e.media,"timeupdate"),e.media.buffered=a.getVideoLoadedFraction(),Bn.call(e,e.media,"progress");break;case 0:mE.call(e,!1),e.media.loop?(a.stopVideo(),a.playVideo()):Bn.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(mE.call(e,!0),Bn.call(e,e.media,"playing"),e.timers.playing=setInterval((()=>{Bn.call(e,e.media,"timeupdate")}),50),e.media.duration!==a.getDuration()&&(e.media.duration=a.getDuration(),Bn.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),mE.call(e,!1);break;case 3:Bn.call(e,e.media,"waiting")}Bn.call(e,e.elements.container,"statechange",!1,{code:s.data})}}})}},C4e={setup(){this.media?(ti(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),ti(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&ti(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=$n("div",{class:this.config.classNames.video}),d4e(this.media,this.elements.wrapper),this.elements.poster=$n("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?e0.setup.call(this):this.isYouTube?o3.setup.call(this):this.isVimeo&&Iq.setup.call(this)):this.debug.warn("No media element found!")}};class hzt{constructor(t){Bt(this,"load",(()=>{this.enabled&&(Te.object(window.google)&&Te.object(window.google.ima)?this.ready():bee(this.player.config.urls.googleIMA.sdk).then((()=>{this.ready()})).catch((()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))})))})),Bt(this,"ready",(()=>{var n;this.enabled||((n=this).manager&&n.manager.destroy(),n.elements.displayContainer&&n.elements.displayContainer.destroy(),n.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((()=>{this.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()})),Bt(this,"setupIMA",(()=>{this.elements.container=$n("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(n=>this.onAdsManagerLoaded(n)),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(n=>this.onAdError(n)),!1),this.requestAds()})),Bt(this,"requestAds",(()=>{const{container:n}=this.player.elements;try{const r=new google.ima.AdsRequest;r.adTagUrl=this.tagUrl,r.linearAdSlotWidth=n.offsetWidth,r.linearAdSlotHeight=n.offsetHeight,r.nonLinearAdSlotWidth=n.offsetWidth,r.nonLinearAdSlotHeight=n.offsetHeight,r.forceNonLinearFullSlot=!1,r.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(r)}catch(r){this.onAdError(r)}})),Bt(this,"pollCountdown",((n=!1)=>{if(!n)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval((()=>{const r=u$(Math.max(this.manager.getRemainingTime(),0)),i=`${Cs.get("advertisement",this.player.config)} - ${r}`;this.elements.container.setAttribute("data-badge-text",i)}),100)})),Bt(this,"onAdsManagerLoaded",(n=>{if(!this.enabled)return;const r=new google.ima.AdsRenderingSettings;r.restoreCustomPlaybackStateOnAdBreakComplete=!0,r.enablePreloading=!0,this.manager=n.getAdsManager(this.player,r),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(i=>this.onAdError(i))),Object.keys(google.ima.AdEvent.Type).forEach((i=>{this.manager.addEventListener(google.ima.AdEvent.Type[i],(o=>this.onAdEvent(o)))})),this.trigger("loaded")})),Bt(this,"addCuePoints",(()=>{Te.empty(this.cuePoints)||this.cuePoints.forEach((n=>{if(n!==0&&n!==-1&&n<this.player.duration){const r=this.player.elements.progress;if(Te.element(r)){const i=100/this.player.duration*n,o=$n("span",{class:this.player.config.classNames.cues});o.style.left=`${i.toString()}%`,r.appendChild(o)}}}))})),Bt(this,"onAdEvent",(n=>{const{container:r}=this.player.elements,i=n.getAd(),o=n.getAdData();switch((s=>{Bn.call(this.player,this.player.media,`ads${s.replace(/_/g,"").toLowerCase()}`)})(n.type),n.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=r.offsetWidth,i.height=r.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:o.adError&&this.player.debug.warn(`Non-fatal ad error: ${o.adError.getMessage()}`)}})),Bt(this,"onAdError",(n=>{this.cancel(),this.player.debug.warn("Ads error",n)})),Bt(this,"listeners",(()=>{const{container:n}=this.player.elements;let r;this.player.on("canplay",(()=>{this.addCuePoints()})),this.player.on("ended",(()=>{this.loader.contentComplete()})),this.player.on("timeupdate",(()=>{r=this.player.currentTime})),this.player.on("seeked",(()=>{const i=this.player.currentTime;Te.empty(this.cuePoints)||this.cuePoints.forEach(((o,s)=>{r<o&&o<i&&(this.manager.discardAdBreak(),this.cuePoints.splice(s,1))}))})),window.addEventListener("resize",(()=>{this.manager&&this.manager.resize(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL)}))})),Bt(this,"play",(()=>{const{container:n}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then((()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(r){this.onAdError(r)}})).catch((()=>{}))})),Bt(this,"resumeContent",(()=>{this.elements.container.style.zIndex="",this.playing=!1,oh(this.player.media.play())})),Bt(this,"pauseContent",(()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()})),Bt(this,"cancel",(()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()})),Bt(this,"loadAds",(()=>{this.managerPromise.then((()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise((n=>{this.on("loaded",n),this.player.debug.log(this.manager)})),this.initialized=!1,this.requestAds()})).catch((()=>{}))})),Bt(this,"trigger",((n,...r)=>{const i=this.events[n];Te.array(i)&&i.forEach((o=>{Te.function(o)&&o.apply(this,r)}))})),Bt(this,"on",((n,r)=>(Te.array(this.events[n])||(this.events[n]=[]),this.events[n].push(r),this))),Bt(this,"startSafetyTimer",((n,r)=>{this.player.debug.log(`Safety timer invoked from: ${r}`),this.safetyTimer=setTimeout((()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")}),n)})),Bt(this,"clearSafetyTimer",(n=>{Te.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${n}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)})),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(((n,r)=>{this.on("loaded",n),this.on("error",r)})),this.load()}get enabled(){const{config:t}=this;return this.player.isHTML5&&this.player.isVideo&&t.enabled&&(!Te.empty(t.publisherId)||Te.url(t.tagUrl))}get tagUrl(){const{config:t}=this;return Te.url(t.tagUrl)?t.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${w4e({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:t.publisherId})}`}}function _4e(e=0,t=0,n=255){return Math.min(Math.max(e,t),n)}const pzt=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach((n=>{const r={};n.split(/\r\n|\n|\r/).forEach((i=>{if(Te.number(r.startTime)){if(!Te.empty(i.trim())&&Te.empty(r.text)){const o=i.trim().split("#xywh=");[r.text]=o,o[1]&&([r.x,r.y,r.w,r.h]=o[1].split(","))}}else{const o=i.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);o&&(r.startTime=60*Number(o[1]||0)*60+60*Number(o[2])+Number(o[3])+ +`0.${o[4]}`,r.endTime=60*Number(o[6]||0)*60+60*Number(o[7])+Number(o[8])+ +`0.${o[9]}`)}})),r.text&&t.push(r)})),t},pme=(e,t)=>{const n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n};class Dq{constructor(t){Bt(this,"load",(()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)}))})),Bt(this,"getThumbnails",(()=>new Promise((n=>{const{src:r}=this.player.config.previewThumbnails;if(Te.empty(r))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort(((o,s)=>o.height-s.height)),this.player.debug.log("Preview thumbnails",this.thumbnails),n()};if(Te.function(r))r((o=>{this.thumbnails=o,i()}));else{const o=(Te.string(r)?[r]:r).map((s=>this.getThumbnail(s)));Promise.all(o).then(i)}})))),Bt(this,"getThumbnail",(n=>new Promise((r=>{eA(n).then((i=>{const o={frames:pzt(i),height:null,urlPrefix:""};o.frames[0].text.startsWith("/")||o.frames[0].text.startsWith("http://")||o.frames[0].text.startsWith("https://")||(o.urlPrefix=n.substring(0,n.lastIndexOf("/")+1));const s=new Image;s.onload=()=>{o.height=s.naturalHeight,o.width=s.naturalWidth,this.thumbnails.push(o),r()},s.src=o.urlPrefix+o.frames[0].text}))})))),Bt(this,"startMove",(n=>{if(this.loaded&&Te.event(n)&&["touchmove","mousemove"].includes(n.type)&&this.player.media.duration){if(n.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var r,i;const o=this.player.elements.progress.getBoundingClientRect(),s=100/o.width*(n.pageX-o.left);this.seekTime=this.player.media.duration*(s/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=n.pageX,this.elements.thumb.time.innerText=u$(this.seekTime);const a=(r=this.player.config.markers)===null||r===void 0||(i=r.points)===null||i===void 0?void 0:i.find((({time:l})=>l===Math.round(this.seekTime)));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${a.label}<br>`)}this.showImageAtCurrentTime()}})),Bt(this,"endMove",(()=>{this.toggleThumbContainer(!1,!0)})),Bt(this,"startScrubbing",(n=>{(Te.nullOrUndefined(n.button)||n.button===!1||n.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))})),Bt(this,"endScrubbing",(()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):yee.call(this.player,this.player.media,"timeupdate",(()=>{this.mouseDown||this.toggleScrubbingContainer(!1)}))})),Bt(this,"listeners",(()=>{this.player.on("play",(()=>{this.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(()=>{this.toggleThumbContainer(!1)})),this.player.on("timeupdate",(()=>{this.lastTime=this.player.media.currentTime}))})),Bt(this,"render",(()=>{this.elements.thumb.container=$n("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=$n("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const n=$n("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=$n("span",{},"00:00"),n.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(n),Te.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=$n("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)})),Bt(this,"destroy",(()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()})),Bt(this,"showImageAtCurrentTime",(()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const n=this.thumbnails[0].frames.findIndex((o=>this.seekTime>=o.startTime&&this.seekTime<=o.endTime)),r=n>=0;let i=0;this.mouseDown||this.toggleThumbContainer(r),r&&(this.thumbnails.forEach(((o,s)=>{this.loadedImages.includes(o.frames[n].text)&&(i=s)})),n!==this.showingThumb&&(this.showingThumb=n,this.loadImage(i)))})),Bt(this,"loadImage",((n=0)=>{const r=this.showingThumb,i=this.thumbnails[n],{urlPrefix:o}=i,s=i.frames[r],a=i.frames[r].text,l=o+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,s,n,r,a,!1),this.currentImageElement.dataset.index=r,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const u=new Image;u.src=l,u.dataset.index=r,u.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${l}`),u.onload=()=>this.showImage(u,s,n,r,a,!0),this.loadingImage=u,this.removeOldImages(u)}})),Bt(this,"showImage",((n,r,i,o,s,a=!0)=>{this.player.debug.log(`Showing thumb: ${s}. num: ${o}. qual: ${i}. newimg: ${a}`),this.setImageSizeAndOffset(n,r),a&&(this.currentImageContainer.appendChild(n),this.currentImageElement=n,this.loadedImages.includes(s)||this.loadedImages.push(s)),this.preloadNearby(o,!0).then(this.preloadNearby(o,!1)).then(this.getHigherQuality(i,n,r,s))})),Bt(this,"removeOldImages",(n=>{Array.from(this.currentImageContainer.children).forEach((r=>{if(r.tagName.toLowerCase()!=="img")return;const i=this.usingSprites?500:1e3;if(r.dataset.index!==n.dataset.index&&!r.dataset.deleting){r.dataset.deleting=!0;const{currentImageContainer:o}=this;setTimeout((()=>{o.removeChild(r),this.player.debug.log(`Removing thumb: ${r.dataset.filename}`)}),i)}}))})),Bt(this,"preloadNearby",((n,r=!0)=>new Promise((i=>{setTimeout((()=>{const o=this.thumbnails[0].frames[n].text;if(this.showingThumbFilename===o){let s;s=r?this.thumbnails[0].frames.slice(n):this.thumbnails[0].frames.slice(0,n).reverse();let a=!1;s.forEach((l=>{const u=l.text;if(u!==o&&!this.loadedImages.includes(u)){a=!0,this.player.debug.log(`Preloading thumb filename: ${u}`);const{urlPrefix:c}=this.thumbnails[0],d=c+u,f=new Image;f.src=d,f.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${u}`),this.loadedImages.includes(u)||this.loadedImages.push(u),i()}}})),a||i()}}),300)})))),Bt(this,"getHigherQuality",((n,r,i,o)=>{if(n<this.thumbnails.length-1){let s=r.naturalHeight;this.usingSprites&&(s=i.h),s<this.thumbContainerHeight&&setTimeout((()=>{this.showingThumbFilename===o&&(this.player.debug.log(`Showing higher quality thumb for: ${o}`),this.loadImage(n+1))}),300)}})),Bt(this,"toggleThumbContainer",((n=!1,r=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,n),!n&&r&&(this.showingThumb=null,this.showingThumbFilename=null)})),Bt(this,"toggleScrubbingContainer",((n=!1)=>{const r=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(r,n),n||(this.showingThumb=null,this.showingThumbFilename=null)})),Bt(this,"determineContainerAutoSizing",(()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)})),Bt(this,"setThumbContainerSizeAndPos",(()=>{const{imageContainer:n}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(n.clientHeight>20&&n.clientWidth<20){const r=Math.floor(n.clientHeight*this.thumbAspectRatio);n.style.width=`${r}px`}else if(n.clientHeight<20&&n.clientWidth>20){const r=Math.floor(n.clientWidth/this.thumbAspectRatio);n.style.height=`${r}px`}}else{const r=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);n.style.height=`${this.thumbContainerHeight}px`,n.style.width=`${r}px`}this.setThumbContainerPos()})),Bt(this,"setThumbContainerPos",(()=>{const n=this.player.elements.progress.getBoundingClientRect(),r=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,o=r.left-n.left+10,s=r.right-n.left-i.clientWidth-10,a=this.mousePosX-n.left-i.clientWidth/2,l=_4e(a,o,s);i.style.left=`${l}px`,i.style.setProperty("--preview-arrow-offset",a-l+"px")})),Bt(this,"setScrubbingContainerSize",(()=>{const{width:n,height:r}=pme(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${n}px`,this.elements.scrubbing.container.style.height=`${r}px`})),Bt(this,"setImageSizeAndOffset",((n,r)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/r.h;n.style.height=n.naturalHeight*i+"px",n.style.width=n.naturalWidth*i+"px",n.style.left=`-${r.x*i}px`,n.style.top=`-${r.y*i}px`})),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:t}=pme(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return t}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(t){this.mouseDown?this.currentScrubbingImageElement=t:this.currentThumbnailImageElement=t}}const Pq={insertElements(e,t){Te.string(t)?cme(e,this.media,{src:t}):Te.array(t)&&t.forEach((n=>{cme(e,this.media,n)}))},change(e){c4e(e,"sources.length")?(e0.cancelRequests.call(this),this.destroy.call(this,(()=>{this.options.quality=[],qp(this.media),this.media=null,Te.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:n}=e,[{provider:r=Ug.html5,src:i}]=t,o=r==="html5"?n:"div",s=r==="html5"?{}:{src:i};Object.assign(this,{provider:r,type:n,supported:Po.check(n,r,this.config.playsinline),media:$n(o,s)}),this.elements.container.appendChild(this.media),Te.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),Te.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),mi.addStyleHook.call(this),this.isHTML5&&Pq.insertElements.call(this,"source",t),this.config.title=e.title,C4e.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&Pq.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&mi.build.call(this),this.isHTML5&&this.media.load(),Te.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Dq(this))),this.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}};let E4e=class Oq{constructor(t,n){if(Bt(this,"play",(()=>Te.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((()=>this.ads.play())).catch((()=>oh(this.media.play()))),this.media.play()):null)),Bt(this,"pause",(()=>this.playing&&Te.function(this.media.pause)?this.media.pause():null)),Bt(this,"togglePlay",(a=>(Te.boolean(a)?a:!this.playing)?this.play():this.pause())),Bt(this,"stop",(()=>{this.isHTML5?(this.pause(),this.restart()):Te.function(this.media.stop)&&this.media.stop()})),Bt(this,"restart",(()=>{this.currentTime=0})),Bt(this,"rewind",(a=>{this.currentTime-=Te.number(a)?a:this.config.seekTime})),Bt(this,"forward",(a=>{this.currentTime+=Te.number(a)?a:this.config.seekTime})),Bt(this,"increaseVolume",(a=>{const l=this.media.muted?0:this.volume;this.volume=l+(Te.number(a)?a:0)})),Bt(this,"decreaseVolume",(a=>{this.increaseVolume(-a)})),Bt(this,"airplay",(()=>{Po.airplay&&this.media.webkitShowPlaybackTargetPicker()})),Bt(this,"toggleControls",(a=>{if(this.supported.ui&&!this.isAudio){const l=XN(this.elements.container,this.config.classNames.hideControls),u=a===void 0?void 0:!a,c=ti(this.elements.container,this.config.classNames.hideControls,u);if(c&&Te.array(this.config.controls)&&this.config.controls.includes("settings")&&!Te.empty(this.config.settings)&&Lt.toggleMenu.call(this,!1),c!==l){const d=c?"controlshidden":"controlsshown";Bn.call(this,this.media,d)}return!c}return!1})),Bt(this,"on",((a,l)=>{Mr.call(this,this.elements.container,a,l)})),Bt(this,"once",((a,l)=>{yee.call(this,this.elements.container,a,l)})),Bt(this,"off",((a,l)=>{l$(this.elements.container,a,l)})),Bt(this,"destroy",((a,l=!1)=>{if(!this.ready)return;const u=()=>{document.body.style.overflow="",this.embed=null,l?(Object.keys(this.elements).length&&(qp(this.elements.buttons.play),qp(this.elements.captions),qp(this.elements.controls),qp(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),Te.function(a)&&a()):(G7t.call(this),e0.cancelRequests.call(this),KN(this.elements.original,this.elements.container),Bn.call(this,this.elements.original,"destroyed",!0),Te.function(a)&&a.call(this.elements.original),this.ready=!1,setTimeout((()=>{this.elements=null,this.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(mi.toggleNativeControls.call(this,!0),u()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&Te.function(this.embed.destroy)&&this.embed.destroy(),u()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(u),setTimeout(u,200))})),Bt(this,"supports",(a=>Po.mime.call(this,a))),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=Po.touch,this.media=t,Te.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||Te.nodeList(this.media)||Te.array(this.media))&&(this.media=this.media[0]),this.config=Ro({},x4e,Oq.defaults,n||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new ozt(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",Po),Te.nullOrUndefined(this.media)||!Te.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!Po.check().api)return void this.debug.error("Setup failed: no support");const r=this.media.cloneNode(!0);r.autoplay=!1,this.elements.original=r;const i=this.media.tagName.toLowerCase();let o=null,s=null;switch(i){case"div":if(o=this.media.querySelector("iframe"),Te.element(o)){if(s=b4e(o.getAttribute("src")),this.provider=izt(s.toString()),this.elements.container=this.media,this.media=o,this.elements.container.className="",s.search.length){const a=["1","true"];a.includes(s.searchParams.get("autoplay"))&&(this.config.autoplay=!0),a.includes(s.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=a.includes(s.searchParams.get("playsinline")),this.config.youtube.hl=s.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(Te.empty(this.provider)||!Object.values(Ug).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=hB.video;break;case"video":case"audio":this.type=i,this.provider=Ug.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=Po.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new szt(this),this.storage=new pT(this),this.media.plyr=this,Te.element(this.elements.container)||(this.elements.container=$n("div"),d4e(this.media,this.elements.container)),mi.migrateStyles.call(this),mi.addStyleHook.call(this),C4e.setup.call(this),this.config.debug&&Mr.call(this,this.elements.container,this.config.events.join(" "),(a=>{this.debug.log(`event: ${a.type}`)})),this.fullscreen=new gd(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&mi.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new hzt(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(()=>oh(this.play()))),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Dq(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Ug.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Ug.youtube}get isVimeo(){return this.provider===Ug.vimeo}get isVideo(){return this.type===hB.video}get isAudio(){return this.type===hB.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(t){if(!this.duration)return;const n=Te.number(t)&&t>0;this.media.currentTime=n?Math.min(t,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:t}=this.media;return Te.number(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const t=parseFloat(this.config.duration),n=(this.media||{}).duration,r=Te.number(n)&&n!==1/0?n:0;return t||r}set volume(t){let n=t;Te.string(n)&&(n=Number(n)),Te.number(n)||(n=this.storage.get("volume")),Te.number(n)||({volume:n}=this.config),n>1&&(n=1),n<0&&(n=0),this.config.volume=n,this.media.volume=n,!Te.empty(t)&&this.muted&&n>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(t){let n=t;Te.boolean(n)||(n=this.storage.get("muted")),Te.boolean(n)||(n=this.config.muted),this.config.muted=n,this.media.muted=n}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(t){let n=null;Te.number(t)&&(n=t),Te.number(n)||(n=this.storage.get("speed")),Te.number(n)||(n=this.config.speed.selected);const{minimumSpeed:r,maximumSpeed:i}=this;n=_4e(n,r,i),this.config.speed.selected=n,setTimeout((()=>{this.media&&(this.media.playbackRate=n)}),0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(t){const n=this.config.quality,r=this.options.quality;if(!r.length)return;let i=[!Te.empty(t)&&Number(t),this.storage.get("quality"),n.selected,n.default].find(Te.number),o=!0;if(!r.includes(i)){const s=f4e(r,i);this.debug.warn(`Unsupported quality option: ${i}, using ${s} instead`),i=s,o=!1}n.selected=i,this.media.quality=i,o&&this.storage.set({quality:i})}get quality(){return this.media.quality}set loop(t){const n=Te.boolean(t)?t:this.config.loop.active;this.config.loop.active=n,this.media.loop=n}get loop(){return!!this.media.loop}set source(t){Pq.change.call(this,t)}get source(){return this.media.currentSrc}get download(){const{download:t}=this.config.urls;return Te.url(t)?t:this.source}set download(t){Te.url(t)&&(this.config.urls.download=t,Lt.setDownloadUrl.call(this))}set poster(t){this.isVideo?mi.setPoster.call(this,t,!1).catch((()=>{})):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const t=QN(vee.call(this));return Te.array(t)?t.join(":"):t}set ratio(t){this.isVideo?Te.string(t)&&p4e(t)?(this.config.ratio=QN(t),Qx.call(this)):this.debug.error(`Invalid aspect ratio specified (${t})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(t){this.config.autoplay=Te.boolean(t)?t:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(t){zr.toggle.call(this,t,!1)}set currentTrack(t){zr.set.call(this,t,!1),zr.setup.call(this)}get currentTrack(){const{toggled:t,currentTrack:n}=this.captions;return t?n:-1}set language(t){zr.setLanguage.call(this,t,!1)}get language(){return(zr.getCurrentTrack.call(this)||{}).language}set pip(t){if(!Po.pip)return;const n=Te.boolean(t)?t:!this.pip;Te.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(n?fB.active:fB.inactive),Te.function(this.media.requestPictureInPicture)&&(!this.pip&&n?this.media.requestPictureInPicture():this.pip&&!n&&document.exitPictureInPicture())}get pip(){return Po.pip?Te.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===fB.active:null}setPreviewThumbnails(t){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,t),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Dq(this))}static supported(t,n){return Po.check(t,n)}static loadSprite(t,n){return y4e(t,n)}static setup(t,n={}){let r=null;return Te.string(t)?r=Array.from(document.querySelectorAll(t)):Te.nodeList(t)?r=Array.from(t):Te.array(t)&&(r=t.filter(Te.element)),Te.empty(r)?null:r.map((i=>new Oq(i,n)))}};E4e.defaults=H7t(x4e);function mzt(e,t,n=[]){const[r,i]=A.useState(null),o=A.useRef(null),{instantiate:s,destroy:a,getAPI:l,params:u}=t;A.useEffect(()=>{const d=s(o.current,u);return i(d),()=>{a&&a(d,u)}},n);const c=A.useMemo(()=>l(r,u),[r]);return A.useImperativeHandle(e,c,[c]),o}const gzt={},yzt=(e,t)=>{const n=new E4e(".plyr-react",t.options||{});return t.source&&(n.source=t.source),n},vzt=e=>{e&&e.destroy()},bzt=()=>{},wzt=e=>e?()=>({plyr:e}):()=>new Proxy({plyr:{source:null}},{get:(t,n)=>n==="plyr"?t[n]:bzt});function S4e(e,t,n=null){return mzt(e,{instantiate:yzt,getAPI:wzt,destroy:vzt,params:t},n||[t.options,t.source])}const mB=A.forwardRef((e,t)=>{const{source:n,options:r=null,...i}=e,o=S4e(t,{source:n,options:r});return b.jsx("video",{ref:o,className:"plyr-react plyr",...i})});(gzt&&"production")!=="production"&&(mB.displayName="Plyr",mB.defaultProps={options:{controls:["rewind","play","fast-forward","progress","current-time","duration","mute","volume","settings","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop"}},source:{type:"video",sources:[{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:720},{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:1080}]}},mB.propTypes={options:O3.object,source:O3.any});function xzt(e){return e.includes("youtube")||e.includes("youtu.be")?"youtube":e.includes("vimeo")?"vimeo":"html5"}function Czt(e){return/^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)[\w-]{11}/.test(e)}function _zt(e){return/^(https?:\/\/)?(www\.)?vimeo\.com\/\d+/.test(e)}const Ezt=A.forwardRef((e,t)=>{const{source:n,options:r=null,endedCallback:i}=e,o=S4e(t,{options:r,source:n});return A.useEffect(()=>{const s=t.current?.plyr;if(!(!s||typeof s.on!="function"||typeof s.off!="function")){try{s.off("ended",i),s.on("ended",i)}catch{return}return()=>{try{s.off("ended",i)}catch{}}}},[i,t,n]),b.jsx("video",{ref:o,className:"plyr-react plyr"})});function Szt({currentConfig:e}){const t=A.useMemo(()=>e.path.startsWith("http")?e.path:`${Hi}${e.path}`,[e.path]),n=A.useMemo(()=>xzt(t),[t]),r=A.useMemo(()=>n==="youtube"?Czt(t):n==="vimeo"?_zt(t):!0,[n,t]),[i,o]=A.useState(!0),[s,a]=A.useState(!1);A.useEffect(()=>{let v=!1;async function y(){o(!0);try{if(n!=="html5"){v||(a(r),o(!1));return}const x=await zM(t);v||(a(!!x),o(!1))}catch{v||(a(!1),o(!1))}}return y(),()=>{v=!0}},[n,t,r]);const l=A.useMemo(()=>n==="youtube"?r?[{src:t,provider:"youtube"}]:[]:n==="vimeo"?r?[{src:t,provider:"vimeo"}]:[]:[{src:t,type:"video/mp4"}],[n,t,r]),u=A.useMemo(()=>({type:"video",sources:l}),[l]),c=A.useMemo(()=>({controls:[e.forceCompletion!==!1?"play-large":"play","current-time",...e.withTimeline?["progress"]:[],"volume","fullscreen"]}),[e.forceCompletion,e.withTimeline]),d=pf(),f=hf(),h=bo(),{updateResponseBlockValidation:p}=Qi();A.useEffect(()=>{e.forceCompletion&&h(p({location:"stimulus",identifier:`${d}_${f}`,status:!1,values:{}}))},[d,e.forceCompletion,f,h,p]);const m=A.useCallback(()=>{e.forceCompletion&&h(p({location:"stimulus",identifier:`${d}_${f}`,status:!0,values:{}}))},[d,e.forceCompletion,f,h,p]),g=A.useRef(null);return s&&l.length>0?b.jsx(De,{children:b.jsx(Ezt,{ref:g,source:u,options:c,endedCallback:m})}):i?b.jsx(eu,{}):b.jsx(mm,{path:e.path})}const Ks=[];for(let e=0;e<256;++e)Ks.push((e+256).toString(16).slice(1));function Tzt(e,t=0){return(Ks[e[t+0]]+Ks[e[t+1]]+Ks[e[t+2]]+Ks[e[t+3]]+"-"+Ks[e[t+4]]+Ks[e[t+5]]+"-"+Ks[e[t+6]]+Ks[e[t+7]]+"-"+Ks[e[t+8]]+Ks[e[t+9]]+"-"+Ks[e[t+10]]+Ks[e[t+11]]+Ks[e[t+12]]+Ks[e[t+13]]+Ks[e[t+14]]+Ks[e[t+15]]).toLowerCase()}let gB;const kzt=new Uint8Array(16);function Azt(){if(!gB){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");gB=crypto.getRandomValues.bind(crypto)}return gB(kzt)}const Rzt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mme={randomUUID:Rzt};function wee(e,t,n){if(mme.randomUUID&&!e)return mme.randomUUID();e=e||{};const r=e.random??e.rng?.()??Azt();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Tzt(r)}class T4e{listeners={};on(t,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n)}off(t,n){this.listeners[t]&&(n?this.listeners[t]=this.listeners[t].filter(r=>r!==n):delete this.listeners[t])}emit(t,...n){if(!this.listeners[t])return;[...this.listeners[t]].forEach(i=>i(...n))}}const Izt=new URLSearchParams(window.location.search),Nq=Izt.get("revisitPageId")||wee(),xv=new BroadcastChannel(`sync-${Nq}`),Cv=new T4e;xv.onmessage=e=>{const{key:t,value:n}=e.data;Cv.emit(t,n)};function k4e(){const e=A.useRef(null),t=A.useRef(null),[n,r]=A.useState(!0),i=A.useRef(new T4e),o=A.useRef(null),[s,a]=A.useState(0),l=A.useRef(Date.now()),[u,c]=A.useState(0),d=A.useRef(u),f=A.useRef(1),[h,p]=A.useState(1),[m,g]=A.useState(!1),[v,y]=A.useState(!1),x=A.useCallback(V=>{c(V),d.current=V},[]),E=A.useRef(0);A.useEffect(()=>{u>0&&(E.current>=u||o.current&&E.current>=o.current.duration)&&y(!0)},[u,m]);const _=A.useCallback((V,z=!1)=>{r(!z),f.current=V,p(V),a(o.current?.currentTime||E.current)},[]),S=A.useRef(null),[T]=uu(),k=A.useMemo(()=>T.get("t")||"",[T]),R=A.useMemo(()=>{if(!k)return 0;if(!Number.isNaN(Number(k)))return parseInt(k,10)/1e3;const V=parseInt(k.match(/(\d+)h/)?.[1]||"0",10),z=parseInt(k.match(/(\d+)m/)?.[1]||"0",10),L=parseInt(k.match(/(\d+)s/)?.[1]||"0",10);return V*3600+z*60+L},[k]);A.useEffect(()=>{n&&xv.postMessage({key:"replaySync",value:{seekTime:s,isPlaying:m,speed:h}})},[s,m,h,n]),A.useEffect(()=>{const V=!n;e.current&&(e.current.muted=V),t.current&&(t.current.muted=V)},[n]),A.useEffect(()=>{e.current&&(e.current.playbackRate=h),t.current&&(t.current.playbackRate=h)},[h]);const I=A.useCallback(()=>{g(!0);const V=o.current?.currentTime||0;i.current.emit("play",V),e.current===o.current?t.current&&(t.current.muted=!0,t.current.play()):e.current?.play();const z=o.current;z&&(S.current=setInterval(()=>{i.current.emit("timeupdate",z.currentTime)},30))},[]),P=A.useCallback(()=>{const V=o.current?.currentTime||0;a(V),i.current.emit("timeupdate",V),e.current===o.current?t.current&&(t.current.currentTime=V):e.current&&(e.current.currentTime=V)},[]),N=A.useCallback((V,z=!1)=>{r(!z),a(V),l.current=Date.now(),o.current&&(o.current.currentTime=V),i.current.emit("timeupdate",V),E.current=V,y(!1)},[]),M=A.useCallback(()=>{g(!1),S.current&&clearInterval(S.current);const V=o.current?.currentTime||0;i.current.emit("pause",V),E.current=V,e.current===o.current?t.current&&t.current.pause():e.current?.pause()},[]),O=A.useCallback(()=>{i.current.emit("timeupdate",E.current)},[]),j=A.useCallback(()=>{const V=e.current,z=t.current;V&&(V.playbackRate=f.current,V.currentTime=R,V.removeEventListener("play",I),V.removeEventListener("pause",M),V.removeEventListener("seeked",P)),z&&(z.playbackRate=f.current,z.currentTime=R,z.removeEventListener("play",I),z.removeEventListener("pause",M),z.removeEventListener("seeked",P)),o.current=(e.current?.src?e.current:null)??(t.current?.src?t.current:null),o.current&&(o.current.addEventListener("play",I),o.current.addEventListener("pause",M),o.current.addEventListener("seeked",P)),O()},[I,M,P,R,O]),U=A.useCallback((V,z=!1)=>{r(!z),v&&(y(!1),N(0)),g(V),V?o.current?.play():o.current?.pause()},[v,N]);A.useEffect(()=>{if(m?l.current=Date.now():a(V=>{const z=(Date.now()-l.current)*f.current/1e3,L=z<.5?V:V+z;return o.current&&(o.current.currentTime=L),L}),!t.current&&!e.current)if(m){const V=Date.now(),z=E.current;S.current=setInterval(()=>{E.current=z+(Date.now()-V)*f.current/1e3,i.current.emit("timeupdate",E.current),E.current>=d.current&&U(!1)},30)}else S.current&&clearInterval(S.current)},[m,U]),A.useEffect(()=>{const V=z=>{const{seekTime:L,isPlaying:H,speed:B}=z||{};r(!1),_(B,!0),N(L,!0),U(H,!0)};return Cv.on("replaySync",V),()=>{Cv.off("replaySync")}},[U,N,_]),A.useEffect(()=>{N(R)},[R,N]);const q=A.useMemo(()=>({on:i.current.on.bind(i.current),off:i.current.off.bind(i.current)}),[]);return A.useMemo(()=>({replayRef:o,videoRef:e,audioRef:t,updateReplayRef:j,seekTime:s,setSeekTime:N,duration:u,setDuration:x,speed:h,setSpeed:_,isPlaying:m,setIsPlaying:U,replayEvent:q,forceEmitTimeUpdate:O,hasEnded:v}),[q,s,N,u,h,m,U,j,_,O,x,v])}const xee=A.createContext(void 0);function c$(){const e=A.useContext(xee);if(!e)throw new Error("useReplayContext must be used within a ReplayProvider");return e}function Dzt(){const[e]=uu(),t=A.useMemo(()=>e.get("participantId")||void 0,[e]),{videoRef:n,updateReplayRef:r,isPlaying:i}=c$();A.useEffect(()=>{r()},[r]);const o=Hn(f=>f.analysisCanPlayScreenRecording),{storageEngine:s}=ri(),{setAnalysisHasScreenRecording:a,setAnalysisCanPlayScreenRecording:l}=Qi(),u=bo(),c=df(),d=Fm();return A.useEffect(()=>{async function f(){if(c&&d&&s)try{if(!t)throw new Error("Participant ID is required to load audio");const h=await s.getScreenRecording(d,t);if(!h){u(a(!1)),u(l(!1));return}if(u(a(!0)),n.current){const p=n.current;p.preload="metadata",h&&(n.current.src=h,r())}}catch(h){throw u(a(!1)),u(l(!1)),new Error(h)}else u(a(!1)),u(l(!1))}f()},[c,d,s,t,u,a,l]),b.jsx(De,{pos:"relative",children:o&&b.jsxs("video",{ref:n,width:"100%",style:{background:"black",maxWidth:"100%",maxHeight:"calc(100vh - 270px)",display:"block",margin:"20px auto",height:"auto",border:`5px solid ${i?"#ccc":"black"}`},children:[b.jsx("source",{type:"video/mp4"}),"Your browser does not support the video tag."]})})}function Pzt(e,t){const n=t||{};return{width:"100%",display:"flex",flexGrow:e==="website"?1:void 0,flexDirection:"column",...n,...n.width!==void 0&&n.maxWidth===void 0?{maxWidth:"100%"}:{}}}function Ozt(){const e=Ya(),t=hf(),n=pf(),r=ff(),i=e.components[n],{storageEngine:o}=ri(),s=Hn(j=>j.answers),a=Hn(j=>j.analysisCanPlayScreenRecording),{setAnalysisCanPlayScreenRecording:l}=Qi(),u=Hn(j=>j.analysisProvState.stimulus),c=fa(),{studyHasScreenRecording:d}=C_e(),f=df(),h=Lm(),p=Hn(j=>j.sequence),m=Hn(j=>j.modes),[g]=uu(),v=Hn(j=>j.participantId),y=A.useMemo(()=>g.get("participantId"),[g]);jEe();const x=bo(),{setAlertModal:E}=Qi();A.useEffect(()=>{o?.getEngine()!=="localStorage"&&x(E({show:!0,message:"There was an issue connecting to the localStorage database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh.",title:"Failed to connect to the storage engine"}))},[E,o,x]);const[_,S]=A.useState([]),T=A.useRef([]);A.useEffect(()=>{if(f)return;async function j(){const q=y_e(p,t)?.map(W=>W.currentBlock.id).filter(W=>W!==void 0)||[];S(q)}async function U(){const q=T.current;JSON.stringify(q)!==JSON.stringify(_)&&_.length>0&&o&&await o.addParticipantTags(_),T.current=_}j().then(U)},[t,o,p]);const k=Fm(),R=A.useMemo(()=>{const j=n&&n!=="end"&&!n.startsWith("__")&&ju(i,e);if(typeof j=="object"){const U=s[k]?.parameters,q=s[k]?.correctAnswer;return{...j,parameters:U||j.parameters||{},correctAnswer:q||j.correctAnswer||void 0}}return j},[s,n,k,i,e]);A.useEffect(()=>{x(l(!0))},[t,l,x]),FY(R?.stylesheetPath);const{funcIndex:I}=$o();if(A.useEffect(()=>{if(h&&h.endTime>0&&!f&&!m.developmentModeEnabled&&n!=="end"&&!n.startsWith("__")&&typeof t=="number"){let j="0";Object.values(s).forEach(z=>{z.endTime>0&&(j=z.trialOrder)});const[U,q]=j.split("_"),W=Number(U),V=q?Number(q):void 0;(W>t||W===t&&V!==void 0&&I!==void 0&&V>Number(jd(I)))&&c(`/${r}/${di(W)}${V!==void 0?`/${di(V)}`:""}${window.location.search}`)}},[s,n,t,I,f,m.developmentModeEnabled,c,h,r]),n==="end")return b.jsx(cmt,{});if(n==="__dynamicLoading")return null;if(n==="__trainingFailed")return b.jsx(dmt,{});if(n==="__timedOut")return b.jsx(fmt,{});if(n==="Notfound")return b.jsx(mm,{email:e.uiConfig.contactEmail});if(!o?.isConnected())return b.jsxs(Ha,{style:{height:"80vh",flexDirection:"column",textAlign:"center"},children:[b.jsx(XKe,{size:48,stroke:1.5,color:"orange"}),b.jsx(gr,{mt:"md",order:4,children:"Database Disconnected"}),b.jsx($e,{mt:"md",children:"Please check your network connection or disable your adblocker for this site, then refresh the page."})]});if(y&&v!==y)return b.jsx(Ha,{style:{height:"80vh"},children:b.jsx(Wc,{})});const P=R?.instruction||"",N=R.instructionLocation??e.uiConfig.instructionLocation??"sidebar",M=N==="sidebar",O=Pzt(R.type,R.style);return d&&f&&a?b.jsx(Dzt,{},`${t}-stimulus`):b.jsxs(b.Fragment,{children:[N==="aboveStimulus"&&b.jsx(kh,{text:P}),b.jsx(oU,{status:h,config:R,location:"aboveStimulus"},`${t}-above-response-block`),b.jsx(De,{id:n,className:R.type,style:O,children:b.jsx(A.Suspense,{fallback:b.jsx("div",{children:"Loading..."}),children:b.jsxs(b.Fragment,{children:[R.type==="markdown"&&b.jsx(Xpt,{currentConfig:R}),R.type==="website"&&b.jsx(Vpt,{currentConfig:R,provState:u,answers:s}),R.type==="image"&&b.jsx(Gpt,{currentConfig:R}),R.type==="react-component"&&b.jsx(Kpt,{currentConfig:R,provState:u,answers:s}),R.type==="vega"&&b.jsx(u7t,{currentConfig:R,provState:u}),R.type==="video"&&b.jsx(Szt,{currentConfig:R})]})},`${t}-stimulus`)}),(N==="belowStimulus"||N===void 0&&!M)&&b.jsx(kh,{text:P}),b.jsx(oU,{status:h,config:R,location:"belowStimulus"},`${t}-below-response-block`)]})}function Mq(e){const[t]=uu();return b.jsx(vG,{...e,to:{pathname:e.to,search:t.toString()}})}var yB,gme;function Nzt(){if(gme)return yB;gme=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=typeof xi=="object"&&xi&&xi.Object===Object&&xi,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,f=d.toString,h=Math.max,p=Math.min,m=function(){return c.Date.now()};function g(_,S,T){var k,R,I,P,N,M,O=0,j=!1,U=!1,q=!0;if(typeof _!="function")throw new TypeError(e);S=E(S)||0,v(T)&&(j=!!T.leading,U="maxWait"in T,I=U?h(E(T.maxWait)||0,S):I,q="trailing"in T?!!T.trailing:q);function W(ce){var le=k,ue=R;return k=R=void 0,O=ce,P=_.apply(ue,le),P}function V(ce){return O=ce,N=setTimeout(H,S),j?W(ce):P}function z(ce){var le=ce-M,ue=ce-O,ae=S-le;return U?p(ae,I-ue):ae}function L(ce){var le=ce-M,ue=ce-O;return M===void 0||le>=S||le<0||U&&ue>=I}function H(){var ce=m();if(L(ce))return B(ce);N=setTimeout(H,z(ce))}function B(ce){return N=void 0,q&&k?W(ce):(k=R=void 0,P)}function Y(){N!==void 0&&clearTimeout(N),O=0,k=M=R=N=void 0}function Q(){return N===void 0?P:B(m())}function ne(){var ce=m(),le=L(ce);if(k=arguments,R=this,M=ce,le){if(N===void 0)return V(M);if(U)return N=setTimeout(H,S),W(M)}return N===void 0&&(N=setTimeout(H,S)),P}return ne.cancel=Y,ne.flush=Q,ne}function v(_){var S=typeof _;return!!_&&(S=="object"||S=="function")}function y(_){return!!_&&typeof _=="object"}function x(_){return typeof _=="symbol"||y(_)&&f.call(_)==n}function E(_){if(typeof _=="number")return _;if(x(_))return t;if(v(_)){var S=typeof _.valueOf=="function"?_.valueOf():_;_=v(S)?S+"":S}if(typeof _!="string")return _===0?_:+_;_=_.replace(r,"");var T=o.test(_);return T||s.test(_)?a(_.slice(2),T?2:8):i.test(_)?t:+_}return yB=g,yB}var Mzt=Nzt();const md=Qo(Mzt);function X1(e,t,n){let r=n.initialDeps??[],i,o=!0;function s(){var a,l,u;let c;n.key&&((a=n.debug)!=null&&a.call(n))&&(c=Date.now());const d=e();if(!(d.length!==r.length||d.some((p,m)=>r[m]!==p)))return i;r=d;let h;if(n.key&&((l=n.debug)!=null&&l.call(n))&&(h=Date.now()),i=t(...d),n.key&&((u=n.debug)!=null&&u.call(n))){const p=Math.round((Date.now()-c)*100)/100,m=Math.round((Date.now()-h)*100)/100,g=m/16,v=(y,x)=>{for(y=String(y);y.length<x;)y=" "+y;return y};console.info(`%c ${v(m,5)} /${v(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n?.key)}return n?.onChange&&!(o&&n.skipInitialOnChange)&&n.onChange(i),o=!1,i}return s.updateDeps=a=>{r=a},s}function yme(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const $zt=(e,t)=>Math.abs(e-t)<1.01,Lzt=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},vme=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},Fzt=e=>e,jzt=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},Bzt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=s=>{const{width:a,height:l}=s;t({width:Math.round(a),height:Math.round(l)})};if(i(vme(n)),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(s=>{const a=()=>{const l=s[0];if(l?.borderBoxSize){const u=l.borderBoxSize[0];if(u){i({width:u.inlineSize,height:u.blockSize});return}}i(vme(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},bme={passive:!0},wme=typeof window>"u"?!0:"onscrollend"in window,zzt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const o=e.options.useScrollendEvent&&wme?()=>{}:Lzt(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),s=c=>()=>{const{horizontal:d,isRtl:f}=e.options;i=d?n.scrollLeft*(f&&-1||1):n.scrollTop,o(),t(i,c)},a=s(!0),l=s(!1);n.addEventListener("scroll",a,bme);const u=e.options.useScrollendEvent&&wme;return u&&n.addEventListener("scrollend",l,bme),()=>{n.removeEventListener("scroll",a),u&&n.removeEventListener("scrollend",l)}},Uzt=(e,t,n)=>{if(t?.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},Hzt=(e,{adjustments:t=0,behavior:n},r)=>{var i,o;const s=e+t;(o=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};let qzt=class{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(o=>{const s=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var o;return(o=r())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=r())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Fzt,rangeExtractor:jzt,onChange:()=>{},measureElement:Uzt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=X1(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=o,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,o=new Map;for(let s=r-1;s>=0;s--){const a=n[s];if(i.has(a.lane))continue;const l=o.get(a.lane);if(l==null||a.end>l.end?o.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurementOptions=X1(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,i,o,s,a)=>(this.prevLanes!==void 0&&this.prevLanes!==a&&(this.lanesChangedFlag=!0),this.prevLanes=a,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s,lanes:a}),{key:!1}),this.getMeasurements=X1(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s,lanes:a},l)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const f of this.laneAssignments.keys())f>=n&&this.laneAssignments.delete(f);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const u=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const c=this.measurementsCache.slice(0,u),d=new Array(a).fill(void 0);for(let f=0;f<u;f++){const h=c[f];h&&(d[h.lane]=f)}for(let f=u;f<n;f++){const h=o(f),p=this.laneAssignments.get(f);let m,g;if(p!==void 0&&this.options.lanes>1){m=p;const E=d[m],_=E!==void 0?c[E]:void 0;g=_?_.end+this.options.gap:r+i}else{const E=this.options.lanes===1?c[f-1]:this.getFurthestMeasurement(c,f);g=E?E.end+this.options.gap:r+i,m=E?E.lane:f%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(f,m)}const v=l.get(h),y=typeof v=="number"?v:this.options.estimateSize(f),x=g+y;c[f]={index:f,start:g,size:y,end:x,key:h,lane:m},d[m]=f}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=X1(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,o)=>this.range=n.length>0&&r>0?Vzt({measurements:n,outerSize:r,scrollOffset:i,lanes:o}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=X1(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,o,s)=>o===null||s===null?[]:n({startIndex:o,endIndex:s,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),o=this.measurementsCache[i];if(!o)return;const s=o.key,a=this.elementsCache.get(s);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const o=this.itemSizeCache.get(i.key)??i.size,s=r-o;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=X1(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let o=0,s=n.length;o<s;o++){const a=n[o],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return yme(r[A4e(0,r.length-1,i=>yme(r[i]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,r,i=0)=>{if(!this.scrollElement)return 0;const o=this.getSize(),s=this.getScrollOffset();r==="auto"&&(r=n>=s+o?"end":"start"),r==="center"?n+=(i-o)/2:r==="end"&&(n-=o);const a=this.getMaxScrollOffset();return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const o=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+o-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];if(r==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),r];const a=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let o=0;const s=10,a=u=>{if(!this.targetWindow)return;const c=this.getOffsetForIndex(n,u);if(!c){console.warn("Failed to get offset for index:",n);return}const[d,f]=c;this._scrollToOffset(d,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const h=()=>{if(this.currentScrollToIndex!==n)return;const p=this.getScrollOffset(),m=this.getOffsetForIndex(n,f);if(!m){console.warn("Failed to get offset for index:",n);return}$zt(m[0],p)||l(f)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(h):h()})},l=u=>{this.targetWindow&&this.currentScrollToIndex===n&&(o++,o<s?this.targetWindow.requestAnimationFrame(()=>a(u)):console.warn(`Failed to scroll to index ${n} after ${s} attempts.`))};a(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const o=Array(this.options.lanes).fill(null);let s=r.length-1;for(;s>=0&&o.some(a=>a===null);){const a=r[s];o[a.lane]===null&&(o[a.lane]=a.end),s--}i=Math.max(...o.filter(a=>a!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}};const A4e=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else if(o>r)t=i-1;else return i}return e>0?e-1:0};function Vzt({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const i=e.length-1,o=l=>e[l].start;if(e.length<=r)return{startIndex:0,endIndex:i};let s=A4e(0,i,o,n),a=s;if(r===1)for(;a<i&&e[a].end<n+t;)a++;else if(r>1){const l=Array(r).fill(0);for(;a<i&&l.some(c=>c<n+t);){const c=e[a];l[c.lane]=c.end,a++}const u=Array(r).fill(n+t);for(;s>=0&&u.some(c=>c>=n);){const c=e[s];u[c.lane]=c.start,s--}s=Math.max(0,s-s%r),a=Math.min(i,a+(r-1-a%r))}return{startIndex:s,endIndex:a}}const xme=typeof document<"u"?A.useLayoutEffect:A.useEffect;function Wzt({useFlushSync:e=!0,...t}){const n=A.useReducer(()=>({}),{})[1],r={...t,onChange:(o,s)=>{var a;e&&s?Rd.flushSync(n):n(),(a=t.onChange)==null||a.call(t,o,s)}},[i]=A.useState(()=>new qzt(r));return i.setOptions(r),xme(()=>i._didMount(),[]),xme(()=>i._willUpdate()),i}function Gzt(e){return Wzt({observeElementRect:Bzt,observeElementOffset:zzt,scrollToFn:Hzt,...e})}function Yzt(e,t,n){return e.order!=="dynamic"?[]:Object.entries(t).filter(([r])=>r.startsWith(`${e.id}_${n}_`)).map(([r,i])=>i.componentName)}function Kzt(e){return e.some(t=>t.type==="radio"||t.type==="checkbox"||t.type==="buttons"?t.optionOrder==="random":t.type==="matrix-radio"||t.type==="matrix-checkbox"?t.questionOrder==="random":!1)}function Xzt(e,t){let n=null;const r=i=>{if(typeof i!="string"){if(i.orderPath&&e.orderPath&&i.orderPath===e.orderPath){n=i;return}i.components.forEach(o=>{n===null&&r(o)})}};return r(t),n}function uS(e,t){let n=0;return la(e)?Object.entries(t).filter(([r,i])=>r.startsWith(`${e.id}_`)).length:(e.components.forEach(r=>{typeof r=="string"?n+=1:n+=uS(r,t)}),n)}function _I(e){const t=e.includes(".components.")?".components.":e.includes(".co.")?".co.":!1,n=t!==!1&&e.startsWith("$"),r=n?e.split(t).at(-1):e,i=n?e.split(t)[0].slice(1):void 0;return{isLibraryImport:n,label:r,importedLibraryName:i}}function EI(e){return e?.__revisitImportedSequenceRef}function vB(e,t){const n=t||e,r=n.includes(".sequences.")?".sequences.":n.includes(".se.")?".se.":!1,i=r!==!1&&n.startsWith("$"),o=e.includes(".sequences.")?".sequences.":e.includes(".se.")?".se.":!1,s=o?e.split(o).at(-1):e,a=i?n.split(r)[0].slice(1):void 0;return{isLibraryImport:i,label:s,importedLibraryName:a}}function Qzt(e,t){const n=[],r=new Set;return t.components.forEach(i=>{typeof i!="string"&&i.orderPath&&r.add(i.orderPath)}),e.components.forEach(i=>{typeof i!="string"&&i.orderPath&&!r.has(i.orderPath)&&n.push(i)}),n}function Jzt(e,t){const n=[],r=new Set;return t.components.forEach(i=>{typeof i=="string"&&r.add(i)}),e.components.forEach(i=>{typeof i=="string"&&!r.has(i)&&n.push(i)}),n}function $q({participantSequence:e,participantAnswers:t,studyConfig:n,isAnalysis:r}){const[u,c]=A.useState({}),[d,f]=A.useState({}),[h,p]=A.useState([]),[m,g]=A.useState([]),v=A.useRef(new Map),y=ff(),x=fa(),E=da(),_=A.useMemo(()=>{let N=structuredClone(n.sequence);return N=b_e(N,"root"),N.components.push("end"),N},[n.sequence]),S=A.useMemo(()=>{const N=new Map;return Object.entries(n.components).forEach(([M,O])=>{O.response&&N.set(M,Kzt(O.response))}),N},[n.components]);A.useEffect(()=>{let N=[];if(e===void 0)N=Object.keys(n.components).map(O=>{const{label:j,isLibraryImport:U,importedLibraryName:q}=_I(O);return{type:"component",label:j,indentLevel:0,path:`browse.${O}`,href:`/${y}/reviewer-${O}`,isLibraryImport:U,importedLibraryName:q,componentName:O}});else{const O=new Map,j=new Map;let U=0,q=0;const W=(V,z,L,H,B=!1)=>{if(typeof V=="string"){const{label:re,isLibraryImport:ee,importedLibraryName:fe}=_I(V),Re=B?`${L.id}_${U}_${V}_${q}`:`${V}_${U}`,Oe=`${H}.${V}_${B?q:U}`;N.push({type:"component",label:re,indentLevel:z,path:Oe,isLibraryImport:ee,importedLibraryName:fe,href:B?`/${y}/${di(U)}/${di(q)}`:`/${y}/${di(U)}`,isInterruption:(L.interruptions||[]).flatMap(Ae=>Ae.components).includes(V),component:n.components[V],componentAnswer:t[Re],componentName:V}),B?q+=1:U+=1;return}const Y=(V.interruptions||[]).flatMap(re=>re.components),Q=`${H}.${V.id??V.order}`,ne=V.orderPath||Q;let ce=O.get(ne);ce===void 0&&(ce=Xzt(V,_),O.set(ne,ce));let le=j.get(V);le===void 0&&(le=uS(V,t),j.set(V,le));let ue=j.get(ce||V);ue===void 0&&(ue=uS(ce||V,t),ce&&j.set(ce,ue));const ae=V.id??V.order,te=EI(V)||EI(ce),{label:se,isLibraryImport:we,importedLibraryName:X}=vB(String(ae),te);N.push({type:"block",label:se,indentLevel:z,path:Q,order:V.order,orderPath:V.orderPath,conditional:V.conditional,numInterruptions:V.components.filter(re=>typeof re=="string"&&Y.includes(re)).length,numComponentsInSequence:le,numComponentsInStudySequence:ue,isLibraryImport:we,importedLibraryName:X}),V.order==="dynamic"&&(q=0);const he=Yzt(V,t,U),ge=[...V.components,...he];ge.length>0&&ge.forEach(re=>{W(re,z+1,V,Q,V.order==="dynamic")}),V.order==="dynamic"&&(U+=1),ce&&(Jzt(ce,V).forEach(fe=>{const{label:Re,isLibraryImport:Oe,importedLibraryName:Ae}=_I(fe),Se=`${Q}.${fe}_excluded`;N.push({type:"component",label:Re,indentLevel:z+1,path:Se,isLibraryImport:Oe,importedLibraryName:Ae,component:n.components[fe],componentName:fe,isExcluded:!0})}),Qzt(ce,V).forEach(fe=>{const Re=`${Q}.${fe.id??fe.order}_excluded`,Oe=fe.id??fe.order,{label:Ae,isLibraryImport:Se,importedLibraryName:xe}=vB(String(Oe),EI(fe));N.push({type:"block",label:Ae,indentLevel:z+1,path:Re,order:fe.order,orderPath:fe.orderPath,numInterruptions:0,numComponentsInSequence:0,numComponentsInStudySequence:uS(fe,t),isLibraryImport:Se,importedLibraryName:xe,isExcluded:!0});const ke=(me,Me,ze)=>{me.components.forEach(Xe=>{if(typeof Xe=="string"){const{label:tt,isLibraryImport:gt,importedLibraryName:qt}=_I(Xe),zt=`${ze}.${Xe}_excluded`;N.push({type:"component",label:tt,indentLevel:Me,path:zt,isLibraryImport:gt,importedLibraryName:qt,component:n.components[Xe],componentName:Xe,isExcluded:!0})}else{const tt=`${ze}.${Xe.id??Xe.order}_excluded`,gt=Xe.id??Xe.order,{label:qt,isLibraryImport:zt,importedLibraryName:_n}=vB(String(gt),EI(Xe));N.push({type:"block",label:qt,indentLevel:Me,path:tt,order:Xe.order,orderPath:Xe.orderPath,numInterruptions:0,numComponentsInSequence:0,numComponentsInStudySequence:uS(Xe,t),isLibraryImport:zt,importedLibraryName:_n,isExcluded:!0}),ke(Xe,Me+1,tt)}})};ke(fe,z+2,Re)}))};W(e,0,e,"root")}for(let O=0;O<N.length;O+=1){const j=N[O];if(j.type==="block"){const U=j.indentLevel;let q=O+1;for(;q<N.length&&N[q].indentLevel>U;)q+=1;j.childrenRange={start:O+1,end:q}}}v.current.clear(),N.forEach((O,j)=>{v.current.set(O.path,j)});const M=Object.fromEntries(N.map(O=>O.type==="component"&&O.href?[O.href,6]:null).filter(O=>O!==null));c(structuredClone(M)),f(structuredClone(M)),p(N),g(N)},[_,t,e,n.components,y]);const T=A.useCallback((N,M)=>{g(O=>{const j=M.indentLevel;if(M.type==="block"&&M.childrenRange&&h.length>0){const{start:q,end:W}=M.childrenRange,V=new Set(h.slice(q,W).map(L=>L.path));let z=N+1;for(;z<O.length&&V.has(O[z].path);)z+=1;return[...O.slice(0,N+1),...O.slice(z)]}let U=N+1;for(;U<O.length&&O[U].indentLevel>j;)U+=1;return[...O.slice(0,N+1),...O.slice(U)]})},[h]),k=A.useCallback((N,M)=>{g(O=>{const{start:j,end:U}=M.type==="block"?M.childrenRange??{start:0,end:0}:{start:0,end:0},q=[],W=M.indentLevel,V=new Set(O.map(L=>L.path)),z=new Set;for(let L=j;L<U;L+=1){const H=h[L];if(H.indentLevel===W+1)q.push(H),z.add(H.path);else if(H.indentLevel>W+1){const B=v.current.get(H.path);if(B!==void 0){let Y=B-1;for(;Y>=0&&h[Y].indentLevel>=H.indentLevel;)Y-=1;if(Y>=0){const Q=h[Y];if(Q){const ne=Q.path===M.path,ce=V.has(Q.path),le=z.has(Q.path);(ne||ce||le)&&(q.push(H),z.add(H.path))}}}}}return[...O.slice(0,N+1),...q,...O.slice(N+1)]})},[h]),R=A.useRef(null),I=m.length,P=Gzt({count:I,getScrollElement:()=>R.current,estimateSize:()=>32,overscan:10});return b.jsx(De,{ref:R,style:{height:"100%",overflow:"auto",position:"relative"},children:b.jsx(De,{style:{height:`${P.getTotalSize()}px`,position:"relative",width:"100%"},children:P.getVirtualItems().map(N=>{const M=N.index,O=m[M],{label:j,indentLevel:U,isExcluded:q}=O,W=O.type==="component"?O:void 0,V=O.type==="block"?O:void 0,z=!!W,{href:L,isInterruption:H,component:B,componentAnswer:Y,componentName:Q,isLibraryImport:ne,importedLibraryName:ce}=W??{},{order:le,orderPath:ue,conditional:ae,numInterruptions:te,numComponentsInSequence:se,numComponentsInStudySequence:we,isLibraryImport:X,importedLibraryName:he}=V??{},ge=z?ne:X,re=z?ce:he,ee=Y?.correctAnswer?.length?Y.correctAnswer:B?.correctAnswer,fe=ee&&Y&&Object.keys(Y.answer).length>0&&YT(Y.answer,ee),Re=ee&&Y&&Y?.endTime>-1?fe?b.jsx(Th,{size:16,style:{marginRight:4,flexShrink:0},color:"green"}):b.jsx(dm,{size:16,style:{marginRight:4,flexShrink:0},color:"red"}):null,Oe=ee?JSON.stringify(ee,null,2):void 0,Ae=B&&JSON.stringify(B.response,null,2),Se=Y&&"parameters"in Y?Y.parameters:B&&"parameters"in B?B.parameters:void 0,xe=!z&&(m[M+1]?.indentLevel===void 0||m[M+1]?.indentLevel<=U);return b.jsx(De,{style:{position:"absolute",top:0,left:0,width:"100%",height:32,transform:`translateY(${N.start}px)`},children:b.jsxs(hh,{withinPortal:!0,position:"left",withArrow:!0,arrowSize:10,shadow:"md",offset:0,closeDelay:0,children:[b.jsx(zW,{h:32,pl:U*24+12,onClick:()=>{z&&L&&!q?x(r?`/analysis/stats/${y}/stats/${encodeURIComponent(String(Q))}${E.search}`:`${L}${E.search}`):z||(xe?k(M,m[M]):T(M,m[M]))},active:!q&&L===E.pathname,disabled:q&&z,style:{opacity:q?.5:1,cursor:q&&z?"not-allowed":"pointer"},rightSection:z?void 0:b.jsx(kwe,{size:16,stroke:1.5,style:{cursor:"pointer",transform:xe?"rotate(180deg)":"none",transition:"transform 0.2s"}}),label:b.jsxs(lt,{align:"center",children:[H&&b.jsx(ct,{label:"Interruption",position:"right",withArrow:!0,children:b.jsx(qGe,{size:16,style:{marginRight:4,flexShrink:0},color:"orange"})}),ge&&b.jsx(ct,{label:re?`Imported from ${re}`:"Package import",position:"right",withArrow:!0,children:b.jsx(BKe,{size:16,style:{marginRight:4,flexShrink:0},color:"blue"})}),!z&&ae&&b.jsx(ct,{label:`Condition: ${j}`,position:"right",withArrow:!0,children:b.jsx(BGe,{size:16,style:{marginRight:4,flexShrink:0},color:"green"})}),(B?.responseOrder==="random"||!e&&Q&&n.components[Q]?.responseOrder==="random")&&b.jsx(ct,{label:"Random responses",position:"right",withArrow:!0,children:b.jsx(BYe,{size:16,opacity:.8,style:{marginRight:4,flexShrink:0},color:"black"})}),Q&&S.get(Q)&&b.jsx(ct,{label:"Random options",position:"right",withArrow:!0,children:b.jsx(UYe,{size:16,opacity:.8,style:{marginRight:4,flexShrink:0},color:"black"})}),Re,b.jsx($e,{size:"sm",title:ue??j,fw:z?void 0:700,style:{textWrap:"nowrap",flexGrow:1,width:0,textOverflow:"ellipsis",overflow:"hidden"},children:j}),z&&j!=="end"&&b.jsx(hh.Target,{children:b.jsx(Rc,{size:16,style:{marginLeft:"5px",verticalAlign:"middle"},opacity:.5})}),le==="random"||le==="latinSquare"?b.jsx(ct,{label:le,position:"right",withArrow:!0,children:b.jsx(AGe,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}})}):null,!z&&!q&&b.jsxs(Ii,{ml:5,variant:"light",children:[(se||0)-(te||0),"/",we]}),!z&&q&&b.jsx(Ii,{ml:5,color:"gray",variant:"light",children:"Excluded"}),te!==void 0&&te>0&&b.jsx(Ii,{ml:5,color:"orange",variant:"light",children:te})]})}),z&&b.jsx(hh.Dropdown,{children:b.jsxs(De,{mah:700,maw:500,style:{overflow:"auto"},children:[b.jsxs(De,{children:[b.jsx($e,{fw:900,display:"inline-block",mr:2,children:"Name:"})," ",b.jsx($e,{fw:400,component:"span",children:j})]}),B&&B.description&&b.jsxs(De,{children:[b.jsx($e,{fw:900,display:"inline-block",mr:2,children:"Description:"})," ",b.jsx($e,{fw:400,component:"span",children:B.description})]}),Se&&b.jsxs(De,{children:[b.jsx($e,{fw:900,display:"inline-block",mr:2,children:"Parameters:"})," ",b.jsx(Ru,{block:!0,children:JSON.stringify(Se,null,2)})]}),Y&&Object.keys(Y.answer).length>0&&b.jsxs(De,{children:[b.jsxs($e,{fw:900,display:"inline-block",mr:2,children:[Re,"Participant Answer:"]})," ",b.jsx(Ru,{block:!0,children:JSON.stringify(Y.answer,null,2)})]}),Oe&&b.jsxs(De,{children:[b.jsx($e,{fw:900,display:"inline-block",mr:2,children:"Correct Answer:"})," ",b.jsxs(Ru,{block:!0,children:[b.jsx($e,{size:"xs",lineClamp:u[L],children:Oe}),Oe.split(`
`).length>6&&b.jsx(lt,{justify:"flex-end",children:(u[L]===void 0||Oe.split(`
`).length>(u[L]||-1))&&b.jsx(Mt,{variant:"light",size:"xs",onClick:()=>{c(ke=>({...ke,[L]:ke[L]===6?void 0:6}))},children:u[L]!==void 0?"Show more":"Show less"})})]})]}),B&&Ae&&b.jsxs(De,{children:[b.jsx($e,{fw:900,display:"inline-block",mr:2,children:"Response:"})," ",b.jsxs(Ru,{block:!0,children:[b.jsx($e,{size:"xs",lineClamp:d[L],children:JSON.stringify(B.response,null,2)}),Ae.split(`
`).length>6&&b.jsx(lt,{justify:"flex-end",children:(d[L]===void 0||Ae.split(`
`).length>(d[L]||-1))&&b.jsx(Mt,{variant:"light",size:"xs",onClick:()=>{f(ke=>({...ke,[L]:ke[L]===6?void 0:6}))},children:d[L]!==void 0?"Show more":"Show less"})})]})]}),B&&B.meta&&b.jsxs(De,{children:[b.jsx($e,{fw:"900",component:"span",children:"Task Meta: "}),b.jsx(Ru,{block:!0,children:JSON.stringify(B.meta,null,2)})]})]})})]})},N.key)})})})}function Cee(e,t){e?.clearCurrentParticipantId().then(()=>{window.location.href=t}).catch(n=>{console.error(n)})}function Cme({text:e}){return b.jsx(ct,{label:e,multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:b.jsx(Rc,{size:16,style:{marginBottom:-3,marginLeft:4}})})}function Zzt(){const e=Hn(h=>h.sequence),t=Hn(h=>h.answers),{toggleStudyBrowser:n}=Qi(),r=Ya(),i=bo(),o=ff(),s=f2(`/${o}`),{storageEngine:a}=ri(),l=df(),[u,c]=A.useState("participant"),d=A.useMemo(()=>u==="allTrials"||l,[u,l]),f=Hn(h=>h.modes);return b.jsxs(Ri.Aside,{className:"studyBrowser","data-testid":"app-aside",p:"0",children:[b.jsxs(Ri.Section,{p:"sm",pb:0,children:[b.jsxs(lt,{direction:"row",justify:"space-between",children:[b.jsx($e,{size:"md",fw:700,pt:3,children:"Study Browser"}),b.jsx(ct,{label:"Go to the sequence of the next participant in the experiment. Sequences can be different between participants due to randomization, etc.",w:280,multiline:!0,disabled:d,children:b.jsx(Mt,{variant:"light",leftSection:b.jsx(EG,{size:14}),onClick:()=>Cee(a,s),size:"xs",disabled:d,children:"Next Participant"})}),b.jsx(Im,{onClick:()=>i(n()),mt:1})]}),b.jsxs(lt,{direction:"row",justify:"space-between",align:"center",mt:"xs",opacity:.7,children:[b.jsxs($e,{size:"sm",children:["Study Status:"," ",f?.dataCollectionEnabled?"Collecting Data":"Data Collection Disabled"]}),b.jsxs(lt,{gap:"sm",align:"center",children:[b.jsx(ct,{label:"Edit Study Settings",withinPortal:!0,position:"bottom",children:b.jsx(on,{variant:"white","aria-label":"Edit Study Modes",component:"a",href:f2(`/analysis/stats/${o}/manage`),p:0,children:b.jsx(hXe,{style:{width:"70%",height:"70%"},stroke:1.5,size:16})})}),f?.dataSharingEnabled?b.jsx(ct,{label:"Data sharing enabled",multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:b.jsx(Pwe,{size:16,color:"green"})}):b.jsx(ct,{label:"Data sharing disabled",multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:b.jsx(Dwe,{size:16,color:"red"})}),a?.getEngine()==="localStorage"?b.jsx(ct,{label:"Local storage enabled",withinPortal:!0,position:"bottom",children:b.jsx($3,{size:16,color:"green"})}):a?.getEngine()==="firebase"?b.jsx(ct,{label:"Firebase enabled",withinPortal:!0,position:"bottom",children:b.jsx(Ewe,{size:16,color:"green"})}):a?.getEngine()==="supabase"?b.jsx(ct,{label:"Supabase enabled",withinPortal:!0,position:"bottom",children:b.jsx(_G,{size:16,color:"green"})}):b.jsx(ct,{label:"Unknown storage engine enabled",withinPortal:!0,position:"bottom",children:b.jsx($3,{size:16,color:"red"})})]})]})]}),b.jsx(Ri.Section,{grow:!0,p:"xs",pt:4,style:{display:"flex",flexDirection:"column",overflow:"hidden"},children:b.jsxs(jn,{value:u,onChange:c,keepMounted:!1,style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},children:[b.jsx(De,{style:{position:"sticky",top:0,backgroundColor:"white",zIndex:1,flexShrink:0},children:b.jsxs(jn.List,{grow:!0,children:[b.jsxs(jn.Tab,{value:"participant",children:["Participant View",b.jsx(Cme,{text:"The Participants View shows items just as a participants would see them, considering randomization, omissions, etc. You can navigate between multiple participants using the next participant button."})]}),b.jsxs(jn.Tab,{value:"allTrials",disabled:l,p:"xs",children:["Browse Components",b.jsx(Cme,{text:"Browse Components allows you to view all the components that are defined in your study."})]})]})}),b.jsx(jn.Panel,{value:"participant",style:{flex:1,overflow:"hidden"},children:b.jsx($q,{participantSequence:e,participantAnswers:t,studyConfig:r})}),b.jsx(jn.Panel,{value:"allTrials",style:{flex:1,overflow:"hidden"},children:b.jsx($q,{participantAnswers:{},studyConfig:r})})]})})]})}function eUt({developmentModeEnabled:e,dataCollectionEnabled:t}){const n=Hn(V=>V.config),r=Hn(V=>V.answers),i=Hn(V=>V.storageEngineFailedToConnect),o=bC(),s=bo(),{toggleShowHelpText:a,toggleStudyBrowser:l,incrementHelpCounter:u}=Qi(),{storageEngine:c}=ri(),d=pf(),f=A.useMemo(()=>ju(n.components[d]||{},n),[d,n]),h=hf(),p=A.useMemo(()=>{const V=Object.values(r).filter(L=>L.endTime>-1).length,z=o.map((L,H)=>n.components[L]?1:typeof h=="number"&&h<=H&&L!=="end"?55:Object.entries(r).filter(([B,Y])=>B.includes(`${L}_`)).length).reduce((L,H)=>L+H,0);return V/z*100},[r,h,o,n.components]),[m,g]=A.useState(!1),v=n?.uiConfig.logoPath,y=A.useMemo(()=>f.withProgressBar??n.uiConfig.withProgressBar,[f,n]),x=A.useMemo(()=>f.showTitle??n.uiConfig.showTitle??!0,[f,n]),E=ff(),_=f2(`/${E}`),S=A.useRef(null),[T,k]=A.useState(!1),R=A.useRef(0),{isScreenRecording:I,isAudioRecording:P,setIsMuted:N,isMuted:M,clickToRecord:O}=A_e(),{funcIndex:j}=$o();A.useEffect(()=>{const V=S.current;V&&k(V.scrollWidth>V.offsetWidth)},[n]),A.useEffect(()=>{if(n&&c&&t){const V=Pst(r,o,n,h,j),z=V.total>0?V.answered.length/V.total*100:0;z!==R.current&&z>0&&!Number.isNaN(z)&&(R.current=z,c.updateProgressData(V).catch(L=>{console.warn("Failed to update progress data:",L)}))}},[r,o,n,h,c,t,j]);const{setAlertModal:U}=Qi(),[q,W]=A.useState(!0);return A.useEffect(()=>{if(!i||!q)return;const V=window.setTimeout(()=>{s(U({show:!0,message:"You may be behind a firewall blocking access, or the server collecting data may be down. Study data will not be saved. If you're taking the study you will not be compensated for your efforts. You are welcome to look around.",title:"Failed to connect to the storage engine"})),W(!1)},5e3);return()=>window.clearTimeout(V)},[q,U,i,s]),b.jsx(Ri.Header,{className:"header",p:"md",children:b.jsxs(so,{mt:-7,align:"center",children:[b.jsx(so.Col,{span:4,children:b.jsxs(lt,{align:"center",children:[b.jsx(Pm,{w:40,src:`${Hi}${v}`,alt:"Study Logo",className:"logoImage"}),b.jsx($u,{w:"md"}),x?b.jsx(gr,{ref:S,order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:T?n?.studyMetadata.title:void 0,className:"studyTitle",children:n?.studyMetadata.title}):null]})}),b.jsx(so.Col,{span:4,children:y&&b.jsx(Y0,{radius:"md",size:"lg",value:p,className:"progressBar"})}),b.jsx(so.Col,{span:4,children:b.jsxs(ln,{wrap:"nowrap",justify:"right",children:[(P||I)&&b.jsxs(ln,{ml:"xl",gap:20,wrap:"nowrap",children:[b.jsxs($e,{c:"red",children:[(P&&!M||I)&&"Recording",I&&" screen",I&&P&&!M&&" and",P&&!M&&" audio"]}),P&&!M&&b.jsx(JG,{}),O?b.jsx(ct,{label:"Press and hold to unmute",children:b.jsx(on,{variant:"light",size:"md","aria-label":"Press and hold to unmute",onMouseDown:()=>N(!1),onMouseUp:()=>N(!0),onTouchStart:()=>N(!1),onTouchEnd:()=>N(!0),children:M?b.jsx(yoe,{style:{width:"70%",height:"70%"},stroke:1.5}):b.jsx(voe,{style:{width:"70%",height:"70%"},stroke:1.5})})}):b.jsx(ct,{label:`Press to ${M?"unmute":"mute"}`,children:b.jsx(on,{variant:"light",size:"md","aria-label":"Press and hold to unmute",onClick:()=>N(!M),children:M?b.jsx(yoe,{style:{width:"70%",height:"70%"},stroke:1.5}):b.jsx(voe,{style:{width:"70%",height:"70%"},stroke:1.5})})})]}),i&&b.jsx(ct,{multiline:!0,withArrow:!0,arrowSize:6,w:300,label:"Failed to connect to the storage engine. Study data will not be saved. Check your connection or restart the app.",children:b.jsx(Ii,{size:"lg",color:"red",children:"Storage Disconnected"})}),!i&&!t&&b.jsx(ct,{multiline:!0,withArrow:!0,arrowSize:6,w:300,label:"This is a demo version of the study, were not collecting any data.",children:b.jsx(Ii,{size:"lg",color:"orange",children:"Demo Mode"})}),n?.uiConfig.helpTextPath!==void 0&&b.jsx(Mt,{variant:"outline",onClick:()=>{s(a()),s(u({identifier:`${d}_${h}`}))},children:"Help"}),b.jsxs(Rn,{shadow:"md",width:200,withinPortal:!0,opened:m,onChange:g,children:[b.jsx(Rn.Target,{children:b.jsx(on,{size:"lg",className:"studyBrowserMenuDropdown",variant:"subtle",color:"gray",children:b.jsx(Rwe,{})})}),b.jsxs(Rn.Dropdown,{children:[e&&b.jsx(Rn.Item,{leftSection:b.jsx(Lwe,{size:14}),onClick:()=>s(l()),children:"Study Browser"}),b.jsx(Rn.Item,{component:"a",href:n!==null?`mailto:${n.uiConfig.contactEmail}`:void 0,leftSection:b.jsx(RKe,{size:14}),children:"Contact"}),e&&b.jsx(Rn.Item,{leftSection:b.jsx(EG,{size:14}),onClick:()=>Cee(c,_),children:"Next Participant"}),e&&b.jsx(Rn.Item,{leftSection:b.jsx(Swe,{size:14}),component:"a",href:`${Hi}analysis/stats/${E}`,children:"Analyze & Manage"})]})]})]})})]})})}function tUt({width:e,top:t,sidebarOpen:n}){const r=Ya(),i=pf(),o=r.components[i],s=A.useMemo(()=>o?ju(o,r):null,[o,r]),a=Lm(),l=s?.instruction||"",c=A.useMemo(()=>s?.instructionLocation??r.uiConfig.instructionLocation??"sidebar",[s,r])==="sidebar";return s?b.jsxs(De,{className:"sidebar",bg:"gray.1",display:n?"block":"none",style:{zIndex:0,marginTop:t,position:"relative"},w:e,miw:e,children:[c&&l!==""&&b.jsxs(De,{bg:"gray.3",p:"md",children:[b.jsx($e,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),b.jsx(kh,{text:l})]}),b.jsx(De,{p:"md",children:b.jsx(oU,{status:a,config:s,location:"sidebar"},`${i}-sidebar-response-block`)})]}):null}function nUt(){const e=Hn(h=>h.showHelpText),t=Hn(h=>h.config),n=bo(),{toggleShowHelpText:r}=Qi(),[i,o]=A.useState(!0),[s,a]=A.useState(""),[l,u]=A.useState(!0),c=pf(),d=A.useMemo(()=>ju(t.components[c]||{},t),[c,t]),f=A.useMemo(()=>d.helpTextPath??t.uiConfig.helpTextPath,[d.helpTextPath,t.uiConfig.helpTextPath]);return A.useEffect(()=>{async function h(){if(!f){o(!1),u(!1);return}const p=await zM(`${Hi}${f}`);p!==void 0?a(p):o(!1),u(!1)}h()},[f]),b.jsx(ni,{className:"helpModal",size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:l||i?b.jsx(kh,{text:s}):b.jsx(mm,{path:t.uiConfig.helpTextPath})})}function rUt(){const e=Hn(g=>g.alertModal),t=Hn(g=>g.config),n=Hn(g=>g.studyId),r=Hn(g=>g.participantId),i=Hn(g=>g.metadata),{setAlertModal:o}=Qi(),s=bo(),[a,l]=A.useState(e.show),[u,c]=A.useState(!1),d=A.useCallback(()=>s(o({...e,show:!1,title:""})),[e,o,s]);A.useEffect(()=>l(e.show),[e.show]);const f=e.title==="Failed to connect to the storage engine",h=A.useMemo(()=>!a||!f?"":`Study ID: ${n}
URL: ${window.location.href}
Participant ID: ${r}
Timestamp (UTC): ${new Date().toISOString()}
Storage Engine: localStorage
User Agent: ${i.userAgent}
Resolution: ${JSON.stringify(i.resolution,null,2)}
IP: ${i.ip}
Language: ${i.language}`,[a,f,n,r,i]),p=A.useMemo(()=>{const g=encodeURIComponent(`Storage Connection Issue (${n})`),v=encodeURIComponent(`I encountered a storage connection issue while taking a study.

 Warning message:
${e.message}

Diagnostics information:
${h}`);return`mailto:${t.uiConfig.contactEmail}?subject=${g}&body=${v}`},[e.message,h,t.uiConfig.contactEmail,n]),m=A.useCallback(async()=>{try{if(!window.isSecureContext||!navigator.clipboard?.writeText)return;await navigator.clipboard.writeText(h),c(!0),setTimeout(()=>c(!1),1e3)}catch{}},[h]);return b.jsx(ni,{opened:a,centered:!0,size:f?"70%":"lg",withCloseButton:!1,onClose:d,children:b.jsxs(ml,{color:"red",radius:"xs",title:e.title,icon:b.jsx(_we,{}),onClose:d,styles:{root:{backgroundColor:"unset"}},children:[b.jsxs($e,{my:"xs",children:[e.message,f&&b.jsxs(b.Fragment,{children:[b.jsx("br",{}),b.jsx("br",{}),"Please email if you need help"," ",b.jsx(V0,{href:p,children:t.uiConfig.contactEmail})," ","and include the following details to help us troubleshoot the issue:"]})]}),f&&b.jsxs(De,{pos:"relative",children:[b.jsx(on,{variant:"subtle",color:"gray",onClick:m,style:{position:"absolute",top:6,right:6},children:u?b.jsx(Th,{size:16}):b.jsx(cM,{size:16})}),b.jsx(Ru,{block:!0,children:h})]}),b.jsx(ln,{w:"100%",justify:"end",children:b.jsx(Mt,{onClick:d,color:"red",variant:"filled",m:"xs",children:"Continue Study"})})]})})}function iUt(){const e=Hn(c=>c.isStalledConfig),t=Hn(c=>c.modes.developmentModeEnabled),r=Ya()?.uiConfig?.contactEmail,i=df(),[o,s]=A.useState(e&&!i);A.useEffect(()=>{if(e&&!i){s(!0);return}s(!1)},[i,e]),A.useEffect(()=>{if(!o)return;const c=window.setTimeout(()=>s(!1),1e4);return()=>window.clearTimeout(c)},[o]);const{storageEngine:a}=ri(),l=ff(),u=f2(`/${l}`);return o?b.jsx(YV,{position:{top:20,right:20},zIndex:300,children:b.jsxs(ml,{color:"yellow",radius:"sm",title:"Study Configuration Has Changed",icon:b.jsx(_we,{}),w:420,withCloseButton:!0,onClose:()=>s(!1),styles:{root:{backgroundColor:"var(--mantine-color-yellow-1)",borderColor:"var(--mantine-color-yellow-4)",opacity:1}},children:[b.jsx($e,{my:"md",children:t?'The study configuration has changed since this participant session started. You might need to click "Next Participant" to refresh and load the latest version.':`The study configuration has changed since this participant session started. Please contact the study administrator${r?` at ${r}`:""}.`}),t&&b.jsx(ln,{w:"100%",justify:"end",children:b.jsx(Mt,{onClick:()=>Cee(a,u),color:"yellow",variant:"filled",children:"Next Participant"})})]})}):null}var Lq="http://www.w3.org/1999/xhtml";const _me={svg:"http://www.w3.org/2000/svg",xhtml:Lq,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function d$(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_me.hasOwnProperty(t)?{space:_me[t],local:e}:e}function oUt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Lq&&t.documentElement.namespaceURI===Lq?t.createElement(e):t.createElementNS(n,e)}}function sUt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function R4e(e){var t=d$(e);return(t.local?sUt:oUt)(t)}function aUt(){}function _ee(e){return e==null?aUt:function(){return this.querySelector(e)}}function lUt(e){typeof e!="function"&&(e=_ee(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Qu(r,this._parents)}function uUt(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function cUt(){return[]}function I4e(e){return e==null?cUt:function(){return this.querySelectorAll(e)}}function dUt(e){return function(){return uUt(e.apply(this,arguments))}}function fUt(e){typeof e=="function"?e=dUt(e):e=I4e(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new Qu(r,i)}function D4e(e){return function(){return this.matches(e)}}function P4e(e){return function(t){return t.matches(e)}}var hUt=Array.prototype.find;function pUt(e){return function(){return hUt.call(this.children,e)}}function mUt(){return this.firstElementChild}function gUt(e){return this.select(e==null?mUt:pUt(typeof e=="function"?e:P4e(e)))}var yUt=Array.prototype.filter;function vUt(){return Array.from(this.children)}function bUt(e){return function(){return yUt.call(this.children,e)}}function wUt(e){return this.selectAll(e==null?vUt:bUt(typeof e=="function"?e:P4e(e)))}function xUt(e){typeof e!="function"&&(e=D4e(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new Qu(r,this._parents)}function O4e(e){return new Array(e.length)}function CUt(){return new Qu(this._enter||this._groups.map(O4e),this._parents)}function JN(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}JN.prototype={constructor:JN,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function _Ut(e){return function(){return e}}function EUt(e,t,n,r,i,o){for(var s=0,a,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new JN(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function SUt(e,t,n,r,i,o,s){var a,l,u=new Map,c=t.length,d=o.length,f=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(f[a]=h=s.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<d;++a)h=s.call(e,o[a],a,o)+"",(l=u.get(h))?(r[a]=l,l.__data__=o[a],u.delete(h)):n[a]=new JN(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(f[a])===l&&(i[a]=l)}function TUt(e){return e.__data__}function kUt(e,t){if(!arguments.length)return Array.from(this,TUt);var n=t?SUt:EUt,r=this._parents,i=this._groups;typeof e!="function"&&(e=_Ut(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],d=i[u],f=d.length,h=AUt(e.call(c,c&&c.__data__,u,r)),p=h.length,m=a[u]=new Array(p),g=s[u]=new Array(p),v=l[u]=new Array(f);n(c,d,m,g,v,h,t);for(var y=0,x=0,E,_;y<p;++y)if(E=m[y]){for(y>=x&&(x=y+1);!(_=g[x])&&++x<p;);E._next=_||null}}return s=new Qu(s,r),s._enter=a,s._exit=l,s}function AUt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function RUt(){return new Qu(this._exit||this._groups.map(O4e),this._parents)}function IUt(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function DUt(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],d=u.length,f=a[l]=new Array(d),h,p=0;p<d;++p)(h=u[p]||c[p])&&(f[p]=h);for(;l<i;++l)a[l]=n[l];return new Qu(a,this._parents)}function PUt(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function OUt(e){e||(e=NUt);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new Qu(i,this._parents).order()}function NUt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function MUt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function $Ut(){return Array.from(this)}function LUt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function FUt(){let e=0;for(const t of this)++e;return e}function jUt(){return!this.node()}function BUt(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function zUt(e){return function(){this.removeAttribute(e)}}function UUt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function HUt(e,t){return function(){this.setAttribute(e,t)}}function qUt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function VUt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function WUt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function GUt(e,t){var n=d$(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?UUt:zUt:typeof t=="function"?n.local?WUt:VUt:n.local?qUt:HUt)(n,t))}function N4e(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function YUt(e){return function(){this.style.removeProperty(e)}}function KUt(e,t,n){return function(){this.style.setProperty(e,t,n)}}function XUt(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function QUt(e,t,n){return arguments.length>1?this.each((t==null?YUt:typeof t=="function"?XUt:KUt)(e,t,n??"")):Jx(this.node(),e)}function Jx(e,t){return e.style.getPropertyValue(t)||N4e(e).getComputedStyle(e,null).getPropertyValue(t)}function JUt(e){return function(){delete this[e]}}function ZUt(e,t){return function(){this[e]=t}}function eHt(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function tHt(e,t){return arguments.length>1?this.each((t==null?JUt:typeof t=="function"?eHt:ZUt)(e,t)):this.node()[e]}function M4e(e){return e.trim().split(/^|\s+/)}function Eee(e){return e.classList||new $4e(e)}function $4e(e){this._node=e,this._names=M4e(e.getAttribute("class")||"")}$4e.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function L4e(e,t){for(var n=Eee(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function F4e(e,t){for(var n=Eee(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function nHt(e){return function(){L4e(this,e)}}function rHt(e){return function(){F4e(this,e)}}function iHt(e,t){return function(){(t.apply(this,arguments)?L4e:F4e)(this,e)}}function oHt(e,t){var n=M4e(e+"");if(arguments.length<2){for(var r=Eee(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?iHt:t?nHt:rHt)(n,t))}function sHt(){this.textContent=""}function aHt(e){return function(){this.textContent=e}}function lHt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function uHt(e){return arguments.length?this.each(e==null?sHt:(typeof e=="function"?lHt:aHt)(e)):this.node().textContent}function cHt(){this.innerHTML=""}function dHt(e){return function(){this.innerHTML=e}}function fHt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function hHt(e){return arguments.length?this.each(e==null?cHt:(typeof e=="function"?fHt:dHt)(e)):this.node().innerHTML}function pHt(){this.nextSibling&&this.parentNode.appendChild(this)}function mHt(){return this.each(pHt)}function gHt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yHt(){return this.each(gHt)}function vHt(e){var t=typeof e=="function"?e:R4e(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function bHt(){return null}function wHt(e,t){var n=typeof e=="function"?e:R4e(e),r=t==null?bHt:typeof t=="function"?t:_ee(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function xHt(){var e=this.parentNode;e&&e.removeChild(this)}function CHt(){return this.each(xHt)}function _Ht(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function EHt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function SHt(e){return this.select(e?EHt:_Ht)}function THt(e){return arguments.length?this.property("__data__",e):this.node().__data__}function kHt(e){return function(t){e.call(this,t,this.__data__)}}function AHt(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function RHt(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function IHt(e,t,n){return function(){var r=this.__on,i,o=kHt(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function DHt(e,t,n){var r=AHt(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?IHt:RHt,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function j4e(e,t,n){var r=N4e(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function PHt(e,t){return function(){return j4e(this,e,t)}}function OHt(e,t){return function(){return j4e(this,e,t.apply(this,arguments))}}function NHt(e,t){return this.each((typeof t=="function"?OHt:PHt)(e,t))}function*MHt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var B4e=[null];function Qu(e,t){this._groups=e,this._parents=t}function tA(){return new Qu([[document.documentElement]],B4e)}function $Ht(){return this}Qu.prototype=tA.prototype={constructor:Qu,select:lUt,selectAll:fUt,selectChild:gUt,selectChildren:wUt,filter:xUt,data:kUt,enter:CUt,exit:RUt,join:IUt,merge:DUt,selection:$Ht,order:PUt,sort:OUt,call:MUt,nodes:$Ut,node:LUt,size:FUt,empty:jUt,each:BUt,attr:GUt,style:QUt,property:tHt,classed:oHt,text:uHt,html:hHt,raise:mHt,lower:yHt,append:vHt,insert:wHt,remove:CHt,clone:SHt,datum:THt,on:DHt,dispatch:NHt,[Symbol.iterator]:MHt};function LHt(e){return typeof e=="string"?new Qu([[document.querySelector(e)]],[document.documentElement]):new Qu([[e]],B4e)}var FHt=qQ("start","end","cancel","interrupt"),jHt=[],z4e=0,Eme=1,Fq=2,s3=3,Sme=4,jq=5,a3=6;function f$(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;BHt(e,n,{name:t,index:r,group:i,on:FHt,tween:jHt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:z4e})}function See(e,t){var n=Tf(e,t);if(n.state>z4e)throw new Error("too late; already scheduled");return n}function op(e,t){var n=Tf(e,t);if(n.state>s3)throw new Error("too late; already running");return n}function Tf(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function BHt(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=VQ(o,0,n.time);function o(u){n.state=Eme,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,f,h;if(n.state!==Eme)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===s3)return ofe(s);h.state===Sme?(h.state=a3,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=a3,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(ofe(function(){n.state===s3&&(n.state=Sme,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Fq,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Fq){for(n.state=s3,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=jq,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===jq&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=a3,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function zHt(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Fq&&r.state<jq,r.state=a3,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function UHt(e){return this.each(function(){zHt(this,e)})}function HHt(e,t){var n,r;return function(){var i=op(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function qHt(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=op(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function VHt(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Tf(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?HHt:qHt)(n,e,t))}function Tee(e,t,n){var r=e._id;return e.each(function(){var i=op(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Tf(i,r).value[t]}}function U4e(e,t){var n;return(typeof t=="number"?vc:t instanceof Qv?B2:(n=Qv(t))?(t=n,B2):wX)(e,t)}function WHt(e){return function(){this.removeAttribute(e)}}function GHt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function YHt(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function KHt(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function XHt(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function QHt(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function JHt(e,t){var n=d$(e),r=n==="transform"?uke:U4e;return this.attrTween(e,typeof t=="function"?(n.local?QHt:XHt)(n,r,Tee(this,"attr."+e,t)):t==null?(n.local?GHt:WHt)(n):(n.local?KHt:YHt)(n,r,t))}function ZHt(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function eqt(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function tqt(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&eqt(e,o)),n}return i._value=t,i}function nqt(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&ZHt(e,o)),n}return i._value=t,i}function rqt(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=d$(e);return this.tween(n,(r.local?tqt:nqt)(r,t))}function iqt(e,t){return function(){See(this,e).delay=+t.apply(this,arguments)}}function oqt(e,t){return t=+t,function(){See(this,e).delay=t}}function sqt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?iqt:oqt)(t,e)):Tf(this.node(),t).delay}function aqt(e,t){return function(){op(this,e).duration=+t.apply(this,arguments)}}function lqt(e,t){return t=+t,function(){op(this,e).duration=t}}function uqt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?aqt:lqt)(t,e)):Tf(this.node(),t).duration}function cqt(e,t){if(typeof t!="function")throw new Error;return function(){op(this,e).ease=t}}function dqt(e){var t=this._id;return arguments.length?this.each(cqt(t,e)):Tf(this.node(),t).ease}function fqt(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;op(this,e).ease=n}}function hqt(e){if(typeof e!="function")throw new Error;return this.each(fqt(this._id,e))}function pqt(e){typeof e!="function"&&(e=D4e(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new _m(r,this._parents,this._name,this._id)}function mqt(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],u=n[a],c=l.length,d=s[a]=new Array(c),f,h=0;h<c;++h)(f=l[h]||u[h])&&(d[h]=f);for(;a<r;++a)s[a]=t[a];return new _m(s,this._parents,this._name,this._id)}function gqt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function yqt(e,t,n){var r,i,o=gqt(t)?See:op;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function vqt(e,t){var n=this._id;return arguments.length<2?Tf(this.node(),n).on.on(e):this.each(yqt(n,e,t))}function bqt(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function wqt(){return this.on("end.remove",bqt(this._id))}function xqt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_ee(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,f$(u[f],t,n,f,u,Tf(c,n)));return new _m(o,this._parents,t,n)}function Cqt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=I4e(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=e.call(c,c.__data__,d,l),h,p=Tf(c,n),m=0,g=f.length;m<g;++m)(h=f[m])&&f$(h,t,n,m,f,p);o.push(f),s.push(c)}return new _m(o,s,t,n)}var _qt=tA.prototype.constructor;function Eqt(){return new _qt(this._groups,this._parents)}function Sqt(e,t){var n,r,i;return function(){var o=Jx(this,e),s=(this.style.removeProperty(e),Jx(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function H4e(e){return function(){this.style.removeProperty(e)}}function Tqt(e,t,n){var r,i=n+"",o;return function(){var s=Jx(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function kqt(e,t,n){var r,i,o;return function(){var s=Jx(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Jx(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function Aqt(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=op(this,e),u=l.on,c=l.value[o]==null?a||(a=H4e(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function Rqt(e,t,n){var r=(e+="")=="transform"?lke:U4e;return t==null?this.styleTween(e,Sqt(e,r)).on("end.style."+e,H4e(e)):typeof t=="function"?this.styleTween(e,kqt(e,r,Tee(this,"style."+e,t))).each(Aqt(this._id,e)):this.styleTween(e,Tqt(e,r,t),n).on("end.style."+e,null)}function Iqt(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Dqt(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Iqt(e,s,n)),r}return o._value=t,o}function Pqt(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Dqt(e,t,n??""))}function Oqt(e){return function(){this.textContent=e}}function Nqt(e){return function(){var t=e(this);this.textContent=t??""}}function Mqt(e){return this.tween("text",typeof e=="function"?Nqt(Tee(this,"text",e)):Oqt(e==null?"":e+""))}function $qt(e){return function(t){this.textContent=e.call(this,t)}}function Lqt(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&$qt(i)),t}return r._value=e,r}function Fqt(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Lqt(e))}function jqt(){for(var e=this._name,t=this._id,n=q4e(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=Tf(l,t);f$(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new _m(r,this._parents,e,n)}function Bqt(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=op(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&o()})}var zqt=0;function _m(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function q4e(){return++zqt}var xp=tA.prototype;_m.prototype={constructor:_m,select:xqt,selectAll:Cqt,selectChild:xp.selectChild,selectChildren:xp.selectChildren,filter:pqt,merge:mqt,selection:Eqt,transition:jqt,call:xp.call,nodes:xp.nodes,node:xp.node,size:xp.size,empty:xp.empty,each:xp.each,on:vqt,attr:JHt,attrTween:rqt,style:Rqt,styleTween:Pqt,text:Mqt,textTween:Fqt,remove:wqt,tween:VHt,delay:sqt,duration:uqt,ease:dqt,easeVarying:hqt,end:Bqt,[Symbol.iterator]:xp[Symbol.iterator]};function Uqt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Hqt={time:null,delay:0,duration:250,ease:Uqt};function qqt(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Vqt(e){var t,n;e instanceof _m?(t=e._id,e=e._name):(t=q4e(),(n=Hqt).time=G6(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&f$(l,e,t,u,s,n||qqt(l,t));return new _m(r,this._parents,e,t)}tA.prototype.interrupt=UHt;tA.prototype.transition=Vqt;function cS(e,t,n){this.k=e,this.x=t,this.y=n}cS.prototype={constructor:cS,scale:function(e){return e===1?this:new cS(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new cS(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};cS.prototype;const Wqt=A.createContext(null);function ul(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(u){try{l(r.next(u))}catch(c){o(c)}}function a(u){try{l(r.throw(u))}catch(c){o(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof n?c:new n((function(d){d(c)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}class nA{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),r?.once){const i=(...o)=>{this.un(t,i),n(...o)};return this.listeners[t].add(i),()=>this.un(t,i)}return this.listeners[t].add(n),()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach((r=>r(...n)))}}const SI={decode:function(e,t){return ul(this,void 0,void 0,(function*(){const n=new AudioContext({sampleRate:t});try{return yield n.decodeAudioData(e)}finally{n.close()}}))},createBuffer:function(e,t){if(!e||e.length===0)throw new Error("channelData must be a non-empty array");if(t<=0)throw new Error("duration must be greater than 0");if(typeof e[0]=="number"&&(e=[e]),!e[0]||e[0].length===0)throw new Error("channelData must contain non-empty channel arrays");(function(r){const i=r[0];if(i.some((o=>o>1||o<-1))){const o=i.length;let s=0;for(let a=0;a<o;a++){const l=Math.abs(i[a]);l>s&&(s=l)}for(const a of r)for(let l=0;l<o;l++)a[l]/=s}})(e);const n=e.map((r=>r instanceof Float32Array?r:Float32Array.from(r)));return{duration:t,length:n[0].length,sampleRate:n[0].length/t,numberOfChannels:n.length,getChannelData:r=>{const i=n[r];if(!i)throw new Error(`Channel ${r} not found`);return i},copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function V4e(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children"&&i)for(const[o,s]of Object.entries(i))s instanceof Node?n.appendChild(s):typeof s=="string"?n.appendChild(document.createTextNode(s)):n.appendChild(V4e(o,s));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function Tme(e,t,n){const r=V4e(e,t||{});return n?.appendChild(r),r}var Gqt=Object.freeze({__proto__:null,createElement:Tme,default:Tme});const Yqt={fetchBlob:function(e,t,n){return ul(this,void 0,void 0,(function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return(function(i,o){ul(this,void 0,void 0,(function*(){if(!i.body||!i.headers)return;const s=i.body.getReader(),a=Number(i.headers.get("Content-Length"))||0;let l=0;const u=c=>{l+=c?.length||0;const d=Math.round(l/a*100);o(d)};try{for(;;){const c=yield s.read();if(c.done)break;u(c.value)}}catch(c){console.warn("Progress tracking error:",c)}}))})(r.clone(),t),r.blob()}))}};function Io(e){let t=e;const n=new Set;return{get value(){return t},set(r){Object.is(t,r)||(t=r,n.forEach((i=>i(t))))},update(r){this.set(r(t))},subscribe:r=>(n.add(r),()=>n.delete(r))}}function av(e,t){const n=Io(e());return t.forEach((r=>r.subscribe((()=>{const i=e();Object.is(n.value,i)||n.set(i)})))),{get value(){return n.value},subscribe:r=>n.subscribe(r)}}function Mg(e,t){let n;const r=()=>{n&&(n(),n=void 0),n=e()},i=t.map((o=>o.subscribe(r)));return r(),()=>{n&&(n(),n=void 0),i.forEach((o=>o()))}}class Kqt extends nA{get isPlayingSignal(){return this._isPlaying}get currentTimeSignal(){return this._currentTime}get durationSignal(){return this._duration}get volumeSignal(){return this._volume}get mutedSignal(){return this._muted}get playbackRateSignal(){return this._playbackRate}get seekingSignal(){return this._seeking}constructor(t){super(),this.isExternalMedia=!1,this.reactiveMediaEventCleanups=[],t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),this._isPlaying=Io(!1),this._currentTime=Io(0),this._duration=Io(0),this._volume=Io(this.media.volume),this._muted=Io(this.media.muted),this._playbackRate=Io(this.media.playbackRate||1),this._seeking=Io(!1),this.setupReactiveMediaEvents(),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onMediaEvent("canplay",(()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)}),{once:!0})}setupReactiveMediaEvents(){this.reactiveMediaEventCleanups.push(this.onMediaEvent("play",(()=>{this._isPlaying.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("pause",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ended",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("timeupdate",(()=>{this._currentTime.set(this.media.currentTime)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("durationchange",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("loadedmetadata",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeking",(()=>{this._seeking.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("seeked",(()=>{this._seeking.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("volumechange",(()=>{this._volume.set(this.media.volume),this._muted.set(this.media.muted)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent("ratechange",(()=>{this._playbackRate.set(this.media.playbackRate)})))}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n,r)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){const r=this.getSrc();if(t&&r===t)return;this.revokeSrc();const i=n instanceof Blob&&(this.canPlayType(n.type)||!t)?URL.createObjectURL(n):t;if(r&&this.media.removeAttribute("src"),i||t)try{this.media.src=i}catch{this.media.src=t}}destroy(){this.reactiveMediaEventCleanups.forEach((t=>t())),this.reactiveMediaEventCleanups=[],this.isExternalMedia||(this.media.pause(),this.revokeSrc(),this.media.removeAttribute("src"),this.media.load(),this.media.remove())}setMediaElement(t){this.reactiveMediaEventCleanups.forEach((n=>n())),this.reactiveMediaEventCleanups=[],this.media=t,this.setupReactiveMediaEvents()}play(){return ul(this,void 0,void 0,(function*(){try{return yield this.media.play()}catch(t){if(t instanceof DOMException&&t.name==="AbortError")return;throw t}}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=Math.max(0,Math.min(t,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}function Xqt({maxTop:e,maxBottom:t,halfHeight:n,vScale:r,barMinHeight:i=0,barAlign:o}){let s=Math.round(e*n*r),a=s+Math.round(t*n*r)||1;return a<i&&(a=i,o||(s=a/2)),{topHeight:s,totalHeight:a}}function Qqt({barAlign:e,halfHeight:t,topHeight:n,totalHeight:r,canvasHeight:i}){return e==="top"?0:e==="bottom"?i-r:t-n}function kme(e,t,n){const r=t-e.left,i=n-e.top;return[r/e.width,i/e.height]}function W4e(e){return!!(e.barWidth||e.barGap||e.barAlign)}function Ame(e,t){if(!W4e(t))return e;const n=t.barWidth||.5,r=n+(t.barGap||n/2);return r===0?e:Math.floor(e/r)*r}function Rme({scrollLeft:e,totalWidth:t,numCanvases:n}){if(t===0)return[0];const r=e/t,i=Math.floor(r*n);return[i-1,i,i+1]}function G4e(e){const t=e._cleanup;typeof t=="function"&&t()}function Jqt(e){const t=Io({scrollLeft:e.scrollLeft,scrollWidth:e.scrollWidth,clientWidth:e.clientWidth}),n=av((()=>(function(o){const{scrollLeft:s,scrollWidth:a,clientWidth:l}=o;if(a===0)return{startX:0,endX:1};const u=s/a,c=(s+l)/a;return{startX:Math.max(0,Math.min(1,u)),endX:Math.max(0,Math.min(1,c))}})(t.value)),[t]),r=av((()=>(function(o){return{left:o.scrollLeft,right:o.scrollLeft+o.clientWidth}})(t.value)),[t]),i=()=>{t.set({scrollLeft:e.scrollLeft,scrollWidth:e.scrollWidth,clientWidth:e.clientWidth})};return e.addEventListener("scroll",i,{passive:!0}),{scrollData:t,percentages:n,bounds:r,cleanup:()=>{e.removeEventListener("scroll",i),G4e(t)}}}class Zqt extends nA{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.dragStream=null,this.scrollStream=null,this.subscriptions=[],this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,o]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=o.querySelector(".scroll"),this.wrapper=o.querySelector(".wrapper"),this.canvasWrapper=o.querySelector(".canvases"),this.progressWrapper=o.querySelector(".progress"),this.cursor=o.querySelector(".cursor"),n&&o.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){this.wrapper.addEventListener("click",(n=>{const r=this.wrapper.getBoundingClientRect(),[i,o]=kme(r,n.clientX,n.clientY);this.emit("click",i,o)})),this.wrapper.addEventListener("dblclick",(n=>{const r=this.wrapper.getBoundingClientRect(),[i,o]=kme(r,n.clientX,n.clientY);this.emit("dblclick",i,o)})),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollStream=Jqt(this.scrollContainer);const t=Mg((()=>{const{startX:n,endX:r}=this.scrollStream.percentages.value,{left:i,right:o}=this.scrollStream.bounds.value;this.emit("scroll",n,r,i,o)}),[this.scrollStream.percentages,this.scrollStream.bounds]);if(this.subscriptions.push(t),typeof ResizeObserver=="function"){const n=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{n().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender(),this.emit("resize"))}initDrag(){if(this.dragStream)return;this.dragStream=(function(n,r={}){const{threshold:i=3,mouseButton:o=0,touchDelay:s=100}=r,a=Io(null),l=new Map,u=matchMedia("(pointer: coarse)").matches;let c=()=>{};const d=f=>{if(f.button!==o||(l.set(f.pointerId,f),l.size>1))return;let h=f.clientX,p=f.clientY,m=!1;const g=Date.now(),v=n.getBoundingClientRect(),{left:y,top:x}=v,E=R=>{if(R.defaultPrevented||l.size>1||u&&Date.now()-g<s)return;const I=R.clientX,P=R.clientY,N=I-h,M=P-p;(m||Math.abs(N)>i||Math.abs(M)>i)&&(R.preventDefault(),R.stopPropagation(),m||(a.set({type:"start",x:h-y,y:p-x}),m=!0),a.set({type:"move",x:I-y,y:P-x,deltaX:N,deltaY:M}),h=I,p=P)},_=R=>{if(l.delete(R.pointerId),m){const I=R.clientX,P=R.clientY;a.set({type:"end",x:I-y,y:P-x})}c()},S=R=>{l.delete(R.pointerId),R.relatedTarget&&R.relatedTarget!==document.documentElement||_(R)},T=R=>{m&&(R.stopPropagation(),R.preventDefault())},k=R=>{R.defaultPrevented||l.size>1||m&&R.preventDefault()};document.addEventListener("pointermove",E),document.addEventListener("pointerup",_),document.addEventListener("pointerout",S),document.addEventListener("pointercancel",S),document.addEventListener("touchmove",k,{passive:!1}),document.addEventListener("click",T,{capture:!0}),c=()=>{document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",_),document.removeEventListener("pointerout",S),document.removeEventListener("pointercancel",S),document.removeEventListener("touchmove",k),setTimeout((()=>{document.removeEventListener("click",T,{capture:!0})}),10)}};return n.addEventListener("pointerdown",d),{signal:a,cleanup:()=>{c(),n.removeEventListener("pointerdown",d),l.clear(),G4e(a)}}})(this.wrapper);const t=Mg((()=>{const n=this.dragStream.signal.value;if(!n)return;const r=this.wrapper.getBoundingClientRect().width,i=(o=n.x/r)<0?0:o>1?1:o;var o;n.type==="start"?(this.isDragging=!0,this.emit("dragstart",i)):n.type==="move"?this.emit("drag",i):n.type==="end"&&(this.isDragging=!1,this.emit("dragend",i))}),[this.dragStream.signal]);this.subscriptions.push(t)}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"}),r=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return n.innerHTML=`
      <style${r?` nonce="${r}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
          pointer-events: none;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t;this.subscriptions.forEach((n=>n())),this.container.remove(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),(t=this.unsubscribeOnScroll)===null||t===void 0||t.forEach((n=>n())),this.unsubscribeOnScroll=[],this.dragStream&&(this.dragStream.cleanup(),this.dragStream=null),this.scrollStream&&(this.scrollStream.cleanup(),this.scrollStream=null)}createDelay(t=10){let n,r;const i=()=>{n&&(clearTimeout(n),n=void 0),r&&(r(),r=void 0)};return this.timeouts.push(i),()=>new Promise(((o,s)=>{i(),r=s,n=setTimeout((()=>{n=void 0,r=void 0,o()}),t)}))}getHeight(t,n){var r;const i=((r=this.audioData)===null||r===void 0?void 0:r.numberOfChannels)||1;return(function({optionsHeight:o,optionsSplitChannels:s,parentHeight:a,numberOfChannels:l,defaultHeight:u=128}){if(o==null)return u;const c=Number(o);if(!isNaN(c))return c;if(o==="auto"){const d=a||u;return s?.every((f=>!f.overlay))?d/l:d}return u})({optionsHeight:t,optionsSplitChannels:n,parentHeight:this.parent.clientHeight,numberOfChannels:i,defaultHeight:128})}convertColorValues(t,n){return(function(r,i,o){if(!Array.isArray(r))return r||"";if(r.length===0)return"#999";if(r.length<2)return r[0]||"";const s=document.createElement("canvas"),a=s.getContext("2d"),l=o??s.height*i,u=a.createLinearGradient(0,0,0,l||i),c=1/(r.length-1);return r.forEach(((d,f)=>{u.addColorStop(f*c,d)})),u})(t,this.getPixelRatio(),n?.canvas.height)}getPixelRatio(){return t=window.devicePixelRatio,Math.max(1,t||1);var t}renderBarWaveform(t,n,r,i){const{width:o,height:s}=r.canvas,{halfHeight:a,barWidth:l,barRadius:u,barIndexScale:c,barSpacing:d,barMinHeight:f}=(function({width:p,height:m,length:g,options:v,pixelRatio:y}){const x=m/2,E=v.barWidth?v.barWidth*y:1,_=v.barGap?v.barGap*y:v.barWidth?E/2:0,S=E+_||1;return{halfHeight:x,barWidth:E,barGap:_,barRadius:v.barRadius||0,barMinHeight:v.barMinHeight?v.barMinHeight*y:0,barIndexScale:g>0?p/S/g:0,barSpacing:S}})({width:o,height:s,length:(t[0]||[]).length,options:n,pixelRatio:this.getPixelRatio()}),h=(function({channelData:p,barIndexScale:m,barSpacing:g,barWidth:v,halfHeight:y,vScale:x,canvasHeight:E,barAlign:_,barMinHeight:S}){const T=p[0]||[],k=p[1]||T,R=T.length,I=[];let P=0,N=0,M=0;for(let O=0;O<=R;O++){const j=Math.round(O*m);if(j>P){const{topHeight:W,totalHeight:V}=Xqt({maxTop:N,maxBottom:M,halfHeight:y,vScale:x,barMinHeight:S,barAlign:_}),z=Qqt({barAlign:_,halfHeight:y,topHeight:W,totalHeight:V,canvasHeight:E});I.push({x:P*g,y:z,width:v,height:V}),P=j,N=0,M=0}const U=Math.abs(T[O]||0),q=Math.abs(k[O]||0);U>N&&(N=U),q>M&&(M=q)}return I})({channelData:t,barIndexScale:c,barSpacing:d,barWidth:l,halfHeight:a,vScale:i,canvasHeight:s,barAlign:n.barAlign,barMinHeight:f});r.beginPath();for(const p of h)u&&"roundRect"in r?r.roundRect(p.x,p.y,p.width,p.height,u):r.rect(p.x,p.y,p.width,p.height);r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const{width:o,height:s}=r.canvas,a=(function({channelData:l,width:u,height:c,vScale:d}){const f=c/2,h=l[0]||[];return[h,l[1]||h].map(((p,m)=>{const g=p.length,v=g?u/g:0,y=f,x=m===0?-1:1,E=[{x:0,y}];let _=0,S=0;for(let T=0;T<=g;T++){const k=Math.round(T*v);if(k>_){const I=y+(Math.round(S*f*d)||1)*x;E.push({x:_,y:I}),_=k,S=0}const R=Math.abs(p[T]||0);R>S&&(S=R)}return E.push({x:_,y}),E}))})({channelData:t,width:o,height:s,vScale:i});r.beginPath();for(const l of a)if(l.length){r.moveTo(l[0].x,l[0].y);for(let u=1;u<l.length;u++){const c=l[u];r.lineTo(c.x,c.y)}}r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor,r),n.renderFunction)return void n.renderFunction(t,r);const i=(function({channelData:o,barHeight:s,normalize:a,maxPeak:l}){var u;const c=s||1;if(!a)return c;const d=o[0];if(!d||d.length===0)return c;let f=l??0;if(!l)for(let h=0;h<d.length;h++){const p=(u=d[h])!==null&&u!==void 0?u:0,m=Math.abs(p);m>f&&(f=m)}return f?c/f:c})({channelData:t,barHeight:n.barHeight,normalize:n.normalize,maxPeak:n.maxPeak});W4e(n)?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,o,s,a){const l=this.getPixelRatio(),u=document.createElement("canvas");u.width=Math.round(r*l),u.height=Math.round(i*l),u.style.width=`${r}px`,u.style.height=`${i}px`,u.style.left=`${Math.round(o)}px`,s.appendChild(u);const c=u.getContext("2d");if(n.renderFunction?(c.fillStyle=this.convertColorValues(n.waveColor,c),n.renderFunction(t,c)):this.renderWaveform(t,n,c),u.width>0&&u.height>0){const d=u.cloneNode(),f=d.getContext("2d");f.drawImage(u,0,0),f.globalCompositeOperation="source-in",f.fillStyle=this.convertColorValues(n.progressColor,f),f.fillRect(0,0,u.width,u.height),a.appendChild(d)}}renderMultiCanvas(t,n,r,i,o,s){const a=this.getPixelRatio(),{clientWidth:l}=this.scrollContainer,u=r/a,c=(function({clientWidth:p,totalWidth:m,options:g}){return Ame(Math.min(8e3,p,m),g)})({clientWidth:l,totalWidth:u,options:n});let d={};if(c===0)return;const f=p=>{if(p<0||p>=h||d[p])return;d[p]=!0;const m=p*c;let g=Math.min(u-m,c);if(g=Ame(g,n),g<=0)return;const v=(function({channelData:y,offset:x,clampedWidth:E,totalWidth:_}){return y.map((S=>{const T=Math.floor(x/_*S.length),k=Math.floor((x+E)/_*S.length);return S.slice(T,k)}))})({channelData:t,offset:m,clampedWidth:g,totalWidth:u});this.renderSingleCanvas(v,n,g,i,m,o,s)},h=Math.ceil(u/c);if(!this.isScrollable){for(let p=0;p<h;p++)f(p);return}if(Rme({scrollLeft:this.scrollContainer.scrollLeft,totalWidth:u,numCanvases:h}).forEach((p=>f(p))),h>1){const p=this.on("scroll",(()=>{const{scrollLeft:m}=this.scrollContainer;Object.keys(d).length>10&&(o.innerHTML="",s.innerHTML="",d={}),Rme({scrollLeft:m,totalWidth:u,numCanvases:h}).forEach((g=>f(g)))}));this.unsubscribeOnScroll.push(p)}}renderChannel(t,n,r,i){var{overlay:o}=n,s=(function(c,d){var f={};for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&d.indexOf(h)<0&&(f[h]=c[h]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(h=Object.getOwnPropertySymbols(c);p<h.length;p++)d.indexOf(h[p])<0&&Object.prototype.propertyIsEnumerable.call(c,h[p])&&(f[h[p]]=c[h[p]])}return f})(n,["overlay"]);const a=document.createElement("div"),l=this.getHeight(s.height,s.splitChannels);a.style.height=`${l}px`,o&&i>0&&(a.style.marginTop=`-${l}px`),this.canvasWrapper.style.minHeight=`${l}px`,this.canvasWrapper.appendChild(a);const u=a.cloneNode();this.progressWrapper.appendChild(u),this.renderMultiCanvas(t,s,r,l,a,u)}render(t){return ul(this,void 0,void 0,(function*(){var n;this.timeouts.forEach((u=>u())),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const r=this.getPixelRatio(),i=this.scrollContainer.clientWidth,{scrollWidth:o,isScrollable:s,useParentWidth:a,width:l}=(function({duration:u,minPxPerSec:c=0,parentWidth:d,fillParent:f,pixelRatio:h}){const p=Math.ceil(u*c),m=p>d,g=!!(f&&!m);return{scrollWidth:p,isScrollable:m,useParentWidth:g,width:(g?d:p)*h}})({duration:t.duration,minPxPerSec:this.options.minPxPerSec||0,parentWidth:i,fillParent:this.options.fillParent,pixelRatio:r});if(this.isScrollable=s,this.wrapper.style.width=a?"100%":`${o}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render"),this.options.splitChannels)for(let u=0;u<t.numberOfChannels;u++){const c=Object.assign(Object.assign({},this.options),(n=this.options.splitChannels)===null||n===void 0?void 0:n[u]);this.renderChannel([t.getChannelData(u)],c,l,u)}else{const u=[t.getChannelData(0)];t.numberOfChannels>1&&u.push(t.getChannelData(1)),this.renderChannel(u,this.options,l,0)}Promise.resolve().then((()=>this.emit("rendered")))}))}reRender(){if(this.unsubscribeOnScroll.forEach((r=>r())),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect(),i=(function(o){const s=2*o;return(s<0?Math.floor(s):Math.ceil(s))/2})(r-n);this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:o}=this.scrollContainer,s=t*i,a=r,l=r+o,u=o/2;if(this.isDragging)s+30>l?this.scrollContainer.scrollLeft+=30:s-30<a&&(this.scrollContainer.scrollLeft-=30);else{(s<a||s>l)&&(this.scrollContainer.scrollLeft=s-(this.options.autoCenter?u:0));const c=s-r-u;n&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=c)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0%, 100% 0%, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=this.options.cursorWidth?`translateX(-${t*this.options.cursorWidth}px)`:"",this.isScrollable&&this.options.autoScroll&&this.audioData&&this.audioData.duration>0&&this.scrollIntoView(t,n)}exportImage(t,n,r){return ul(this,void 0,void 0,(function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const o=Array.from(i).map((s=>s.toDataURL(t,n)));return Promise.resolve(o)}return Promise.all(Array.from(i).map((o=>new Promise(((s,a)=>{o.toBlob((l=>{l?s(l):a(new Error("Could not export image"))}),t,n)})))))}))}}class eVt extends nA{constructor(){super(...arguments),this.animationFrameId=null,this.isRunning=!1}start(){if(this.isRunning)return;this.isRunning=!0;const t=()=>{this.isRunning&&(this.emit("tick"),this.animationFrameId=requestAnimationFrame(t))};t()}stop(){this.isRunning=!1,this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}destroy(){this.stop()}}class bB extends nA{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return ul(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then((n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()})).then((n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n))).then((n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})).catch((n=>{console.error("WebAudioPlayer load error:",n)}))}_play(){if(!this.paused)return;this.paused=!1,this.bufferNode&&(this.bufferNode.onended=null,this.bufferNode.disconnect()),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let t=this.playedDuration*this._playbackRate;(t>=this.duration||t<0)&&(t=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,t),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return ul(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit("play"))}))}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){const n=t-this.currentTime,r=this.bufferNode;r?.stop(this.audioContext.currentTime+n),r?.addEventListener("ended",(()=>{r===this.bufferNode&&(this.bufferNode=null,this.pause())}),{once:!0})}setSinkId(t){return ul(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(t)}))}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var t,n;return(t=this._duration)!==null&&t!==void 0?t:((n=this.buffer)===null||n===void 0?void 0:n.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}removeAttribute(t){switch(t){case"src":this.src="";break;case"playbackRate":this.playbackRate=0;break;case"currentTime":this.currentTime=0;break;case"duration":this.duration=0;break;case"volume":this.volume=0;break;case"muted":this.muted=!1}}}const tVt={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class mT extends Kqt{static create(t){return new mT(t)}getState(){return this.wavesurferState}getRenderer(){return this.renderer}constructor(t){const n=t.media||(t.backend==="WebAudio"?new bB:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.reactiveCleanups=[],this.options=Object.assign({},tVt,t);const{state:r,actions:i}=(function(a){var l,u,c,d,f,h;const p=(l=a?.currentTime)!==null&&l!==void 0?l:Io(0),m=(u=a?.duration)!==null&&u!==void 0?u:Io(0),g=(c=a?.isPlaying)!==null&&c!==void 0?c:Io(!1),v=(d=a?.isSeeking)!==null&&d!==void 0?d:Io(!1),y=(f=a?.volume)!==null&&f!==void 0?f:Io(1),x=(h=a?.playbackRate)!==null&&h!==void 0?h:Io(1),E=Io(null),_=Io(null),S=Io(""),T=Io(0),k=Io(0),R=av((()=>!g.value),[g]),I=av((()=>E.value!==null),[E]),P=av((()=>I.value&&m.value>0),[I,m]),N=av((()=>p.value),[p]),M=av((()=>m.value>0?p.value/m.value:0),[p,m]);return{state:{currentTime:p,duration:m,isPlaying:g,isPaused:R,isSeeking:v,volume:y,playbackRate:x,audioBuffer:E,peaks:_,url:S,zoom:T,scrollPosition:k,canPlay:I,isReady:P,progress:N,progressPercent:M},actions:{setCurrentTime:O=>{const j=Math.max(0,Math.min(m.value||1/0,O));p.set(j)},setDuration:O=>{m.set(Math.max(0,O))},setPlaying:O=>{g.set(O)},setSeeking:O=>{v.set(O)},setVolume:O=>{const j=Math.max(0,Math.min(1,O));y.set(j)},setPlaybackRate:O=>{const j=Math.max(.1,Math.min(16,O));x.set(j)},setAudioBuffer:O=>{E.set(O),O&&m.set(O.duration)},setPeaks:O=>{_.set(O)},setUrl:O=>{S.set(O)},setZoom:O=>{T.set(Math.max(0,O))},setScrollPosition:O=>{k.set(Math.max(0,O))}}}})({isPlaying:this.isPlayingSignal,currentTime:this.currentTimeSignal,duration:this.durationSignal,volume:this.volumeSignal,playbackRate:this.playbackRateSignal,isSeeking:this.seekingSignal});this.wavesurferState=r,this.wavesurferActions=i,this.timer=new eVt;const o=n?void 0:this.getMediaElement();this.renderer=new Zqt(this.options,o),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initReactiveState(),this.initPlugins();const s=this.options.url||this.getSrc()||"";Promise.resolve().then((()=>{this.emit("init");const{peaks:a,duration:l}=this.options;(s||a&&l)&&this.load(s,a,l).catch((u=>{this.emit("error",u instanceof Error?u:new Error(String(u)))}))}))}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",(()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t),this.stopAtPosition!=null&&this.isPlaying()&&t>=this.stopAtPosition&&this.pause()}})))}initReactiveState(){this.reactiveCleanups.push((function(t,n){const r=[];r.push(Mg((()=>{const s=t.isPlaying.value;n.emit(s?"play":"pause")}),[t.isPlaying])),r.push(Mg((()=>{const s=t.currentTime.value;n.emit("timeupdate",s),t.isPlaying.value&&n.emit("audioprocess",s)}),[t.currentTime,t.isPlaying])),r.push(Mg((()=>{t.isSeeking.value&&n.emit("seeking",t.currentTime.value)}),[t.isSeeking,t.currentTime]));let i=!1;r.push(Mg((()=>{t.isReady.value&&!i&&(i=!0,n.emit("ready",t.duration.value))}),[t.isReady,t.duration]));let o=!1;return r.push(Mg((()=>{const s=t.isPlaying.value,a=t.currentTime.value,l=t.duration.value,u=l>0&&a>=l;o&&!s&&u&&n.emit("finish"),o=s&&u}),[t.isPlaying,t.currentTime,t.duration])),r.push(Mg((()=>{const s=t.zoom.value;s>0&&n.emit("zoom",s)}),[t.zoom])),()=>{r.forEach((s=>s()))}})(this.wavesurferState,{emit:this.emit.bind(this)}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",(()=>{const t=this.updateProgress();this.emit("timeupdate",t)})),this.onMediaEvent("play",(()=>{this.emit("play"),this.timer.start()})),this.onMediaEvent("pause",(()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("emptied",(()=>{this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("ended",(()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null})),this.onMediaEvent("seeking",(()=>{this.emit("seeking",this.getCurrentTime())})),this.onMediaEvent("error",(()=>{var t;this.emit("error",(t=this.getMediaElement().error)!==null&&t!==void 0?t:new Error("Media error")),this.stopAtPosition=null})))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",((t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))})),this.renderer.on("dblclick",((t,n)=>{this.emit("dblclick",t,n)})),this.renderer.on("scroll",((t,n,r,i)=>{const o=this.getDuration();this.emit("scroll",t*o,n*o,r,i)})),this.renderer.on("render",(()=>{this.emit("redraw")})),this.renderer.on("rendered",(()=>{this.emit("redrawcomplete")})),this.renderer.on("dragstart",(t=>{this.emit("dragstart",t)})),this.renderer.on("dragend",(t=>{this.emit("dragend",t)})),this.renderer.on("resize",(()=>{this.emit("resize")})));{let t;const n=this.renderer.on("drag",(r=>{var i;if(!this.options.interact)return;this.renderer.renderProgress(r),clearTimeout(t);let o=0;const s=this.options.dragToSeek;this.isPlaying()?o=0:s===!0?o=200:s&&typeof s=="object"&&(o=(i=s.debounceTime)!==null&&i!==void 0?i:200),t=setTimeout((()=>{this.seekTo(r)}),o),this.emit("interaction",r*this.getDuration()),this.emit("drag",r)}));this.subscriptions.push((()=>{clearTimeout(t),n()}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach((n=>{this.registerPlugin(n)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((t=>t())),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),t.duration&&!t.peaks&&(this.decodedData=SI.createBuffer(this.exportPeaks(),t.duration)),t.peaks&&t.duration&&(this.decodedData=SI.createBuffer(t.peaks,t.duration)),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){if(this.plugins.includes(t))return t;t._init(this),this.plugins.push(t);const n=t.once("destroy",(()=>{this.plugins=this.plugins.filter((r=>r!==t)),this.subscriptions=this.subscriptions.filter((r=>r!==n))}));return this.subscriptions.push(n),t}unregisterPlugin(t){this.plugins=this.plugins.filter((n=>n!==t)),t.destroy()}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return ul(this,void 0,void 0,(function*(){var o;if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,(o=this.abortController)===null||o===void 0||o.abort(),this.abortController=null,!n&&!r){const a=this.options.fetchParams||{};window.AbortController&&!a.signal&&(this.abortController=new AbortController,a.signal=this.abortController.signal);const l=c=>this.emit("loading",c);n=yield Yqt.fetchBlob(t,l,a);const u=this.options.blobMimeType;u&&(n=new Blob([n],{type:u}))}this.setSrc(t,n);const s=yield new Promise((a=>{const l=i||this.getDuration();l?a(l):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",(()=>a(this.getDuration())),{once:!0}))}));if(!t&&!n){const a=this.getMediaElement();a instanceof bB&&(a.duration=s)}if(r)this.decodedData=SI.createBuffer(r,s||0);else if(n){const a=yield n.arrayBuffer();this.decodedData=yield SI.decode(a,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())}))}load(t,n,r){return ul(this,void 0,void 0,(function*(){try{return yield this.loadAudio(t,void 0,n,r)}catch(i){throw this.emit("error",i),i}}))}loadBlob(t,n,r){return ul(this,void 0,void 0,(function*(){try{return yield this.loadAudio("",t,n,r)}catch(i){throw this.emit("error",i),i}}))}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),o=[];for(let s=0;s<i;s++){const a=this.decodedData.getChannelData(s),l=[],u=a.length/n;for(let c=0;c<n;c++){const d=a.slice(Math.floor(c*u),Math.ceil((c+1)*u));let f=0;for(let h=0;h<d.length;h++){const p=d[h];Math.abs(p)>Math.abs(f)&&(f=p)}l.push(Math.round(f*r)/r)}o.push(l)}return o}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){this.stopAtPosition=null,super.setTime(t),this.updateProgress(t),this.emit("timeupdate",t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}play(t,n){const r=Object.create(null,{play:{get:()=>super.play}});return ul(this,void 0,void 0,(function*(){t!=null&&this.setTime(t);const i=yield r.play.call(this);return n!=null&&(this.media instanceof bB?this.media.stopAt(n):this.stopAtPosition=n),i}))}playPause(){return ul(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return ul(this,arguments,void 0,(function*(t="image/png",n=1,r="dataURL"){return this.renderer.exportImage(t,n,r)}))}destroy(){var t;this.emit("destroy"),(t=this.abortController)===null||t===void 0||t.abort(),this.plugins.forEach((n=>n.destroy())),this.subscriptions.forEach((n=>n())),this.unsubscribePlayerEvents(),this.reactiveCleanups.forEach((n=>n())),this.reactiveCleanups=[],this.timer.destroy(),this.renderer.destroy(),super.destroy()}}mT.BasePlugin=class extends nA{constructor(e){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=e}onInit(){}_init(e){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((e=>e())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}},mT.dom=Gqt;function nVt(e){return mT.create(e)}function rVt(e){const{plugin:t,options:n,creator:r="create"}=e,i=t[r];if(!t)throw new Error("Please pass a valid plugin in plugin list");if(!r)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof i!="function")throw new Error(`"${r}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return i(n)}const Ime=e=>e.reduce((t,n)=>(t[n[0]]=n[1],t),{}),iVt=(e,t)=>{const n=Object.entries(e),r=Object.entries(t),i=n.filter(([s])=>r.findIndex(([a])=>a===s)===-1),o=r.filter(([s])=>n.findIndex(([a])=>a===s)===-1);return{disabled:Ime(i),enabled:Ime(o)}};function Dme(e,t){const n={},r=[...t];for(;r.length>=1;){const i=r.shift();!!e[i.key]?n[i.key]=e[i.key]:n[i.key]=rVt(i)}return n}function oVt({container:e,plugins:t=[],onMount:n,...r}){const i=A.useRef(!1),[o,s]=A.useState({}),a=A.useRef([]),[l,u]=A.useState(null);return A.useEffect(()=>{if(!e)return;const c=e;if(i.current)return;i.current=!0;const d=Dme(o,t);a.current=Object.keys(d);const f=nVt({container:e,...r,plugins:Object.values(d)});return n?.(f),s(d),u(f),()=>{c!==e&&f.destroy()}},[e]),A.useEffect(()=>{if(l){const c=Dme(o,t),{disabled:d,enabled:f}=iVt(o,c);Object.keys(d).forEach(h=>{d[h].destroy()}),Object.keys(f).forEach(h=>{a.current.includes(h)||(console.log("register plugin",h,f[h]),l?.registerPlugin(f[h]))}),a.current=Object.keys(f),s(c)}},[t]),[l,o,Object.values(o)]}function sVt({children:e,plugins:t=[],onMount:n,...r}){const i=oVt({plugins:t,onMount:n,...r});return un.createElement(Wqt.Provider,{value:i},e)}const aVt=({id:e="waveform",children:t})=>un.createElement("div",{id:e},t),lVt="#efb118",uVt="#9498a0",cVt="#9498a0",Y4e="__root__",kee="__unknown__",dVt="update";function h$(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g," ").replace(/\s+/g," ").trim()}function fVt(e){return h$(e)}function K4e(e,t=!1){if("sideEffects"in e&&e.sideEffects?.do?.length>0){const n=e.sideEffects.do.find(r=>typeof r?.type=="string")?.type;if(n)return t?h$(n):n.trim()}return null}function X4e(e){if(e.event==="Root")return Y4e;const t=K4e(e,!0);if(t)return t;if("event"in e&&typeof e.event=="string"&&e.event!=="Root"){const n=h$(e.event);if(n)return n}if(typeof e.label=="string"){const n=fVt(e.label);if(n)return n}return kee}function hVt(e){let t=0;for(let n=0;n<e.length;n+=1)t=t*31+e.charCodeAt(n)>>>0;return t}function pVt(e){return e===dVt||e===h$("Update form field")}function Q4e(e){if(e===Y4e)return lVt;if(!e||e===kee)return uVt;if(pVt(e))return cVt;const t=hVt(e),n=t%360,r=60+(t>>>9)%21,i=35+(t>>>17)%21;return`hsl(${n}, ${r}%, ${i}%)`}function Pme(e){return Q4e(X4e(e))}function mVt(e){const t=typeof e.label=="string"?e.label.trim():"";if(t)return t;const n=K4e(e,!1);if(n)return n;if("event"in e&&typeof e.event=="string"){const r=e.event.trim();if(r)return r}return kee}function gVt(e){const t=new Map;return e.forEach(n=>{n?.nodes&&Object.values(n.nodes).forEach(r=>{const i=X4e(r);t.has(i)||t.set(i,{label:mVt(r),color:Q4e(i)})})}),t}const TI=15,kI=3;function yVt({height:e,xScale:t,currentNode:n,provenance:r}){return b.jsxs("g",{style:{cursor:"pointer"},children:[r?Object.entries(r.nodes||{}).map(i=>{const[o,s]=i;return b.jsx("g",{children:b.jsx("rect",{fill:Pme(s),opacity:s.id===n?1:.7,x:t(s.createdOn)-kI/2,y:e/2-TI/2,width:kI,height:TI})},o)}):null,n&&r&&r.nodes[n]&&b.jsx("rect",{fill:Pme(r.nodes[n]),x:t(r.nodes[n].createdOn)-kI/2,y:e/2-TI/2,width:kI,height:TI})]})}function vVt({xScale:e,answers:t,width:n,height:r,currentNode:i,trialName:o,startTime:s,margin:a}){const l=A.useMemo(()=>e.copy().range([0,e.range()[1]]).domain([s+e.domain()[0]*1e3,s+e.domain()[1]*1e3]),[s,e]),u=A.useMemo(()=>Object.entries(t).filter(c=>o?o===c[0]:!0).map(c=>{const[d,f]=c;return Object.keys(f.provenanceGraph).map(p=>{const m=f.provenanceGraph[p];return m?b.jsx(yVt,{height:r,currentNode:i,xScale:l,provenance:m},d+p):null})}),[i,r,t,o,l]);return b.jsxs("svg",{style:{width:n,height:r,marginLeft:a.left},children:[b.jsx("line",{stroke:"black",strokeWidth:1,x1:0,x2:n,y1:r/2,y2:r/2}),u]})}function bVt({width:e,height:t,debounceUpdateTimer:n,xScale:r}){const i=A.useRef(null),{setSeekTime:o,replayEvent:s,forceEmitTimeUpdate:a}=c$();A.useEffect(()=>{const u=c=>{if(i.current){const d=r(c);LHt(i.current).attr("x1",d).attr("x2",d)}n(c*1e3,void 0)};return s.on("timeupdate",u),a(),()=>{s.off("timeupdate",u)}},[s,r,n,a]),A.useEffect(()=>{a()},[a]);const l=A.useCallback(u=>{o(r.invert(u.clientX)-r.domain()[0])},[r,o]);return b.jsx("svg",{onClick:l,style:{width:e,height:t,position:"absolute",zIndex:1e4},children:b.jsx("line",{ref:i,stroke:"#e15759",strokeWidth:3,y1:0,y2:t})})}function Bq(e){if(Number.isNaN(e))return;if(e<=0)return"0s";const t=Math.floor(e/1e3/60/60),n=Math.floor((e/1e3/60/60-t)*60),r=Math.floor(((e/1e3/60/60-t)*60-n)*60),i=r<10?`0${r}`:`${r}`,o=n<10?`0${n}`:`${n}`,s=t<10?`0${t}`:`${t}`;return`${t>0?`${s}:`:""}${`${o}`}:${i}`}function wB(e,t,n,r,i,o){const s=A.useMemo(()=>{const a=xC.create(),l=NM({registry:a,initialState:{}});return n&&l.importObject(structuredClone(n)),l},[n]);A.useEffect(()=>{if(!o)return;if(!n){r&&(i(null,e),o({prov:null,location:e}));return}if(!r||!n.nodes[r]){i(n.root,e),o({prov:s.getState(n.nodes[n.root]),location:e});return}let a=n.nodes[r];for(;;)if(t<a.createdOn){if(J_e(a))break;{const l=a.parent;a=n.nodes[l]}}else if(a.children.length>0){const l=a.children[0];if(t>n.nodes[l].createdOn)a=n.nodes[l];else break}else break;a.id!==r&&(i(a.id,e),o({prov:s.getState(a),location:e}))},[r,t,n,e,i,s,o])}const By={left:20,top:0,right:20,bottom:0};function Ome(e){return e.catch(()=>null)}function wVt({setTimeString:e,answers:t,setTime:n,taskName:r,context:i,saveProvenance:o,setHasAudio:s}){const[a,l]=uu(),u=da(),{studyId:c}=$o(),d=A.useMemo(()=>a.get("participantId")||"",[a]),{audioRef:f,updateReplayRef:h,duration:p,setDuration:m,seekTime:g}=c$(),{storageEngine:v}=ri(),[y,x]=A.useState(!0),E=A.useCallback(ae=>{x(ae),s(ae)},[s]),[_,{width:S}]=_b(),[T,k]=A.useState(0),R=A.useMemo(()=>t[r]?.startTime||0,[t,r]),[I,P]=A.useState(null),[N,M]=A.useState({aboveStimulus:void 0,belowStimulus:void 0,sidebar:void 0,stimulus:void 0}),[O,j]=A.useState(null),[U,q]=A.useState(0),W=A.useRef(null),V=A.useRef(null),z=fa(),[L,H]=A.useState(!0),B=A.useRef(null),Y=ih((ae,te)=>{const se=t[r]?.provenanceGraph[te];se&&ae&&(!O||se.nodes[ae].createdOn>O.time||U<O.time)&&j({name:ae||"",time:se.nodes[ae].createdOn}),M({...N,[te]:ae})}),Q=SFe(ae=>{q(R+ae),n&&n(R+ae)},100);A.useEffect(()=>{Q(g*1e3)},[g,Q]),A.useEffect(()=>{r&&t[r]?.trialOrder&&xv.postMessage({key:"trialOrder",value:t[r].trialOrder})},[t,r]),A.useEffect(()=>{const ae=se=>{l(we=>(we.set("participantId",se||""),we.delete("currentTrial"),we))},te=se=>{const{step:we,funcIndex:X}=Lp(se);if(!c||we===null)return;const he=new URLSearchParams(u.search);he.set("participantId",d||""),he.delete("currentTrial");const ge=he.toString();if(i==="provenanceVis"){z({pathname:X===null?`/${c}/${di(we)}`:`/${c}/${di(we)}/${di(X)}`,search:ge?`?${ge}`:""});return}const re=Object.entries(t).find(([ee,fe])=>fe.trialOrder===se)?.[0];re&&z({pathname:`/analysis/stats/${c}/tagging/${encodeURIComponent(re)}`,search:ge?`?${ge}`:""})};return Cv.on("participantId",ae),Cv.on("trialOrder",te),()=>{Cv.off("participantId",ae),Cv.off("trialOrder",te)}},[t,i,z,d,u.search,l,c]),wB("aboveStimulus",U,t[r]?.provenanceGraph.aboveStimulus,N.aboveStimulus,Y,o),wB("belowStimulus",U,t[r]?.provenanceGraph.belowStimulus,N.belowStimulus,Y,o),wB("sidebar",U,t[r]?.provenanceGraph.sidebar,N.sidebar,Y,o),A.useEffect(()=>{if(r&&t[r]?.provenanceGraph){const ae=xC.create(),te=NM({registry:ae,initialState:{}});t[r]?.provenanceGraph.stimulus&&(te.importObject(structuredClone(t[r]?.provenanceGraph.stimulus)),B.current=te)}},[t,r]);const ne=A.useCallback(ae=>{ae&&(r&&B.current&&i==="provenanceVis"&&o&&(o({prov:B.current.getState(t[r]?.provenanceGraph.stimulus?.nodes[ae]),location:"stimulus"}),B.current.to(ae)),Y(ae,"stimulus"),P(ae))},[r,i,Y,o,t]);A.useEffect(()=>{if(!r||!B.current||!t[r]?.provenanceGraph)return;const ae=t[r]?.provenanceGraph;if(!ae.stimulus)return;if(!I||!ae.stimulus.nodes[I]){ne(ae.stimulus.root);return}let te=ae.stimulus.nodes[I];for(;;)if(U<te.createdOn){if(J_e(te))break;{const se=te.parent;te=ae.stimulus.nodes[se]}}else if(te.children.length>0){const se=te.children[0];if(U>ae.stimulus.nodes[se].createdOn)te=ae.stimulus.nodes[se];else break}else break;te.id!==I&&ne(te.id)},[ne,I,d,U,r,t]),A.useEffect(()=>{p===0?e(""):U!==0&&e(`${Bq(U-R)}/${Bq(p*1e3)}`)},[r,U,e,R,p]),A.useEffect(()=>{const ae=t[r]?.endTime-t[r]?.startTime;m(ae>-1?ae/1e3:0)},[y,t,r,m]);const ce=df(),le=ih(async ae=>{if(W.current=ae,f.current=null,h(),ae&&ce&&r&&v)try{if(!d)throw new Error("Participant ID is required to load audio");const[te,se]=await Promise.all([Ome(v.getAudio(r,d)),Ome(v.getScreenRecording(r,d))]),we=se??te??null;if(!we){E(!1),H(!1),W.current?.empty();return}await ae.load(we,void 0,p),H(!1),f.current=ae.getMediaElement(),h(),k(ae.getWidth()),E(!0),ae.seekTo(0),ae.on("redrawcomplete",()=>k(ae.getWidth()))}catch(te){throw E(!1),H(!1),f.current=null,h(),new Error(te)}else E(!1),H(!1),f.current=null,h(),m(0)}),ue=A.useMemo(()=>!t[r]?.startTime||!t[r]?.endTime?null:Jv([By.left,S-By.right]).domain([0,p]).clamp(!0),[t,r,p,S]);return b.jsx(ln,{wrap:"nowrap",gap:0,mx:0,children:b.jsxs(Nn,{ref:_,style:{width:"100%"},gap:0,children:[b.jsx(eu,{visible:L,overlayProps:{blur:5,backgroundOpacity:.35}}),d!==void 0&&r?b.jsx(De,{pos:"relative",ml:By.left,mr:By.right,children:b.jsx(De,{ref:V,style:{overflow:"hidden",width:"100%",pointerEvents:"none"},display:y?"block":"none",id:"waveformDiv",children:b.jsx(sVt,{backend:"MediaElement",onMount:le,plugins:[],container:"#waveformDiv",height:50,waveColor:"#484848",progressColor:"cornflowerblue",barHeight:0,cursorColor:"rgba(0, 0, 0, 0)",children:b.jsx(aVt,{id:"waveform",height:50})})})}):null,ue&&r&&t[r]?.provenanceGraph?b.jsx(vVt,{xScale:ue,trialName:r,currentNode:O?.name||"",answers:t,width:T||S-By.left-By.right,height:25,margin:By,startTime:t[r]?.startTime}):null,ue?b.jsx(bVt,{height:(y?49:0)+25,width:S,xScale:ue,debounceUpdateTimer:Q}):null]})})}const Nme={top:5};function xVt({transcriptLines:e,xScale:t,startTime:n,currentShownTranscription:r}){const i=A.useMemo(()=>e.map(o=>b.jsxs("g",{children:[b.jsx("line",{stroke:r>=o.lineStart&&r<=o.lineEnd?"cornflowerblue":"lightgray",strokeWidth:5,y1:Nme.top,y2:Nme.top,x1:t(n+o.start*1e3)+2,x2:t(n+o.end*1e3)-2}),o.tags.map((s,a)=>b.jsx("g",{children:s.map((l,u)=>{const c=t(n+o.start*1e3),d=t(n+o.end*1e3);return l?b.jsx("foreignObject",{x:c+(d-c)/o.tags.length*(a+.5)-6+(-(s.length-1)*15/2+u*15),y:15,height:"20px",width:"20px",children:b.jsx(ct,{label:l.name,withArrow:!0,arrowSize:6,children:b.jsx(Sh,{size:12,color:l.color})})},l.name):null})},a))]},o.start)),[r,n,e,t]);return b.jsx("svg",{style:{width:"100%",height:"30px"},children:i})}function CVt({selectedTags:e,removeFunc:t}){return e.map(n=>{if(!n||!n.id)return null;const r=F2(n.color).l;return b.jsx(ct,{label:n.name,withinPortal:!0,children:b.jsx(Hv,{style:{width:"80px"},withRemoveButton:!!t,styles:{root:{backgroundColor:n.color,color:r>.7?"black":"white"}},onRemove:()=>t?t(n.id):null,children:n.name})},n.id)})}function zq({addTagCallback:e,currentNames:t,editTag:n=!1,editableTag:r}){const[i,o]=A.useState(n?r.name:""),[s,a]=A.useState(n?r.color:"#fd7e14"),l=A.useCallback(()=>{const u=wee();e({color:s,name:i,id:n&&r?r.id:u})},[e,s,n,r,i]);return b.jsxs(Nn,{gap:"xs",children:[b.jsxs(ln,{children:[b.jsx(Sh,{color:s}),b.jsx(fl,{required:!0,placeholder:"Enter tag name",value:i,onChange:u=>o(u.currentTarget.value),error:t.includes(i)&&(!n||r.name!==i)?"Tag with this name already exists":null})]}),b.jsx(F4,{withPicker:n,style:{width:"100%"},value:s,onChange:u=>a(u),swatches:["#2e2e2e","#868e96","#fa5252","#e64980","#be4bdb","#7950f2","#4c6ef5","#228be6","#15aabf","#12b886","#40c057","#82c91e","#fab005","#fd7e14"]}),b.jsx(Mt,{disabled:n&&s===r.color&&(i.length===0||t.includes(i)),size:"compact-sm",onClick:()=>l(),children:n?"Edit Tag":"Add Tag"})]})}function _Vt({createTagCallback:e,tags:t}){const[n,r]=A.useState(!1);return b.jsxs(Cr,{trapFocus:!0,withinPortal:!1,children:[b.jsx(Nn,{justify:"center",children:b.jsx(Cr.Target,{children:b.jsx(Mt,{style:{width:"100%"},variant:"light",onClick:()=>r(!n),children:"Create new tag"})})}),t?b.jsx(Cr.Dropdown,{children:b.jsx(zq,{currentNames:t.map(i=>i.name),addTagCallback:i=>{r(!1),e(i)}})}):b.jsx(Wc,{})]})}function Uq({tags:e,selectedTags:t,onSelectTags:n,disabled:r=!1,tagsEmptyText:i,createTagCallback:o,editTagCallback:s,width:a}){const l=TT(),u=A.useCallback(p=>n(t.filter(m=>m!==void 0&&m.id!==p)),[n,t]),c=A.useCallback(p=>{if(t.find(m=>m.id===p)){u(p);return}n([...t,[...e].find(m=>m.id===p)])},[u,n,t,e]),d=b.jsx(CVt,{selectedTags:t,removeFunc:u}),f=A.useMemo(()=>e.filter(p=>p!==void 0&&t.find(m=>m&&m.id===p.id)).map(p=>b.jsx(Un.Option,{value:p.id,active:!0,children:b.jsxs(ln,{justify:"space-between",gap:"sm",style:{width:"100%"},wrap:"nowrap",children:[b.jsx(ct,{label:p.name,withArrow:!0,openDelay:600,children:b.jsxs(ln,{wrap:"nowrap",children:[b.jsx(mW,{size:12}),b.jsx(Sh,{size:10,color:p.color}),b.jsx($e,{style:{width:a-120},truncate:"end",children:p.name})]})}),b.jsx(De,{onClick:m=>{m.preventDefault(),m.stopPropagation()},children:b.jsxs(Cr,{trapFocus:!0,withinPortal:!1,children:[b.jsx(Cr.Target,{children:b.jsx(on,{variant:"light",size:"sm",children:b.jsx(L3,{})})}),b.jsx(Cr.Dropdown,{children:b.jsx(zq,{editTag:!0,currentNames:e.map(m=>m.id),addTagCallback:m=>{s(p,m)},editableTag:p})})]})})]})},p.id)),[s,t,e,a]),h=A.useMemo(()=>e.filter(p=>p!==void 0&&!t.find(m=>m&&m.id===p.id)).map(p=>b.jsx(Un.Option,{value:p.id,children:b.jsxs(ln,{justify:"space-between",gap:"sm",style:{width:"100%"},wrap:"nowrap",children:[b.jsx(ct,{label:p.name,withArrow:!0,openDelay:600,children:b.jsxs(ln,{wrap:"nowrap",children:[b.jsx(Sh,{size:10,color:p.color}),b.jsx($e,{style:{width:a-100},truncate:"end",children:p.name})]})}),b.jsx(De,{onClick:m=>{m.preventDefault(),m.stopPropagation()},children:b.jsxs(Cr,{trapFocus:!0,withinPortal:!1,children:[b.jsx(Cr.Target,{children:b.jsx(on,{variant:"light",size:"sm",onClick:m=>{m.stopPropagation(),m.preventDefault()},children:b.jsx(L3,{})})}),b.jsx(Cr.Dropdown,{children:b.jsx(zq,{editTag:!0,currentNames:e.map(m=>m.id),addTagCallback:m=>{s(p,m)},editableTag:p})})]})})]})},p.id)),[s,t,e,a]);return b.jsxs(Un,{disabled:r,width:a,store:l,onOptionSubmit:c,withinPortal:!0,children:[b.jsx(Un.DropdownTarget,{children:b.jsx(ax,{style:{width:a},pointer:!0,onClick:()=>l.toggleDropdown(),children:b.jsxs(Hv.Group,{children:[t.length>0?d:b.jsx(Or.Placeholder,{children:i}),b.jsx(Un.EventsTarget,{children:b.jsx(ax.Field,{type:"hidden"})})]})})}),b.jsx(Un.Dropdown,{children:b.jsxs(Un.Options,{children:[h.length===0&&f.length===0?b.jsx(Un.Empty,{children:"No additional tags"}):[...f,...h],b.jsx(_Vt,{createTagCallback:o,tags:e||[]})]})})]})}var xB={exports:{}};var Mme;function EVt(){return Mme||(Mme=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,o){function s(u,c){if(!i[u]){if(!r[u]){var d=typeof $p=="function"&&$p;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(p){var m=r[u][1][p];return s(m||p)},h,h.exports,n,r,i,o)}return i[u].exports}for(var a=typeof $p=="function"&&$p,l=0;l<o.length;l++)s(o[l]);return s})({1:[function(n,r,i){var o=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,d,f,h,p,m,g=[],v=0,y=l.length,x=y,E=o.getTypeOf(l)!=="string";v<l.length;)x=y-v,d=E?(u=l[v++],c=v<y?l[v++]:0,v<y?l[v++]:0):(u=l.charCodeAt(v++),c=v<y?l.charCodeAt(v++):0,v<y?l.charCodeAt(v++):0),f=u>>2,h=(3&u)<<4|c>>4,p=1<x?(15&c)<<2|d>>6:64,m=2<x?63&d:64,g.push(a.charAt(f)+a.charAt(h)+a.charAt(p)+a.charAt(m));return g.join("")},i.decode=function(l){var u,c,d,f,h,p,m=0,g=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var y,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&x--,l.charAt(l.length-2)===a.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=s.uint8array?new Uint8Array(0|x):new Array(0|x);m<l.length;)u=a.indexOf(l.charAt(m++))<<2|(f=a.indexOf(l.charAt(m++)))>>4,c=(15&f)<<4|(h=a.indexOf(l.charAt(m++)))>>2,d=(3&h)<<6|(p=a.indexOf(l.charAt(m++))),y[g++]=u,h!==64&&(y[g++]=c),p!==64&&(y[g++]=d);return y}},{"./support":30,"./utils":32}],2:[function(n,r,i){var o=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,d,f,h,p){this.compressedSize=c,this.uncompressedSize=d,this.crc32=f,this.compression=h,this.compressedContent=p}u.prototype={getContentWorker:function(){var c=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return c.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,d,f){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var o=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var o=n("./utils"),s=(function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l})();r.exports=function(a,l){return a!==void 0&&a.length?o.getTypeOf(a)!=="string"?(function(u,c,d,f){var h=s,p=f+d;u^=-1;for(var m=f;m<p;m++)u=u>>>8^h[255&(u^c[m])];return-1^u})(0|l,a,a.length,0):(function(u,c,d,f){var h=s,p=f+d;u^=-1;for(var m=f;m<p;m++)u=u>>>8^h[255&(u^c.charCodeAt(m))];return-1^u})(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var o=null;o=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:o}},{lie:37}],7:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=o?"uint8array":"array";function c(d,f){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=f,this.meta={}}i.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,d.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(f){d.push({data:f,meta:d.meta})}},i.compressWorker=function(d){return new c("Deflate",d)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function o(h,p){var m,g="";for(m=0;m<p;m++)g+=String.fromCharCode(255&h),h>>>=8;return g}function s(h,p,m,g,v,y){var x,E,_=h.file,S=h.compression,T=y!==u.utf8encode,k=a.transformTo("string",y(_.name)),R=a.transformTo("string",u.utf8encode(_.name)),I=_.comment,P=a.transformTo("string",y(I)),N=a.transformTo("string",u.utf8encode(I)),M=R.length!==_.name.length,O=N.length!==I.length,j="",U="",q="",W=_.dir,V=_.date,z={crc32:0,compressedSize:0,uncompressedSize:0};p&&!m||(z.crc32=h.crc32,z.compressedSize=h.compressedSize,z.uncompressedSize=h.uncompressedSize);var L=0;p&&(L|=8),T||!M&&!O||(L|=2048);var H=0,B=0;W&&(H|=16),v==="UNIX"?(B=798,H|=(function(Q,ne){var ce=Q;return Q||(ce=ne?16893:33204),(65535&ce)<<16})(_.unixPermissions,W)):(B=20,H|=(function(Q){return 63&(Q||0)})(_.dosPermissions)),x=V.getUTCHours(),x<<=6,x|=V.getUTCMinutes(),x<<=5,x|=V.getUTCSeconds()/2,E=V.getUTCFullYear()-1980,E<<=4,E|=V.getUTCMonth()+1,E<<=5,E|=V.getUTCDate(),M&&(U=o(1,1)+o(c(k),4)+R,j+="up"+o(U.length,2)+U),O&&(q=o(1,1)+o(c(P),4)+N,j+="uc"+o(q.length,2)+q);var Y="";return Y+=`
\0`,Y+=o(L,2),Y+=S.magic,Y+=o(x,2),Y+=o(E,2),Y+=o(z.crc32,4),Y+=o(z.compressedSize,4),Y+=o(z.uncompressedSize,4),Y+=o(k.length,2),Y+=o(j.length,2),{fileRecord:d.LOCAL_FILE_HEADER+Y+k+j,dirRecord:d.CENTRAL_FILE_HEADER+o(B,2)+Y+o(P.length,2)+"\0\0\0\0"+o(H,4)+o(g,4)+k+j+P}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),d=n("../signature");function f(h,p,m,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=m,this.encodeFileName=g,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(h){var p=h.meta.percent||0,m=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:m?(p+100*(m-g-1))/m:100}}))},f.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var p=this.streamFiles&&!h.file.dir;if(p){var m=s(h,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(h){this.accumulate=!1;var p=this.streamFiles&&!h.file.dir,m=s(h,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),p)this.push({data:(function(g){return d.DATA_DESCRIPTOR+o(g.crc32,4)+o(g.compressedSize,4)+o(g.uncompressedSize,4)})(h),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var h=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var m=this.bytesWritten-h,g=(function(v,y,x,E,_){var S=a.transformTo("string",_(E));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(v,2)+o(v,2)+o(y,4)+o(x,4)+o(S.length,2)+S})(this.dirRecords.length,m,h,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(h){this._sources.push(h);var p=this;return h.on("data",function(m){p.processChunk(m)}),h.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),h.on("error",function(m){p.error(m)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(h){var p=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var m=0;m<p.length;m++)try{p[m].error(h)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,p=0;p<h.length;p++)h[p].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var o=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(a,l,u){var c=new s(l.streamFiles,u,l.platform,l.encodeFileName),d=0;try{a.forEach(function(f,h){d++;var p=(function(y,x){var E=y||x,_=o[E];if(!_)throw new Error(E+" is not a valid compression method !");return _})(h.options.compression,l.compression),m=h.options.compressionOptions||l.compressionOptions||{},g=h.dir,v=h.date;h._compressWorker(p,m).withStreamInfo("file",{name:f,dir:g,date:v,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(c)}),c.entriesCount=d}catch(f){c.error(f)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(s,a){return new o().loadAsync(s,a)},o.external=n("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var o=n("./utils"),s=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function d(f){return new s.Promise(function(h,p){var m=f.decompressed.getContentWorker().pipe(new u);m.on("error",function(g){p(g)}).on("end",function(){m.streamInfo.crc32!==f.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(f,h){var p=this;return h=o.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(f)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",f,!0,h.optimizedBinaryString,h.base64).then(function(m){var g=new l(h);return g.load(m),g}).then(function(m){var g=[s.Promise.resolve(m)],v=m.files;if(h.checkCRC32)for(var y=0;y<v.length;y++)g.push(d(v[y]));return s.Promise.all(g)}).then(function(m){for(var g=m.shift(),v=g.files,y=0;y<v.length;y++){var x=v[y],E=x.fileNameStr,_=o.resolve(x.fileNameStr);p.file(_,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:h.createFolders}),x.dir||(p.file(_).unsafeOriginalName=E)}return g.zipComment.length&&(p.comment=g.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var o=n("../utils"),s=n("../stream/GenericWorker");function a(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}o.inherits(a,s),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var o=n("readable-stream").Readable;function s(a,l,u){o.call(this,l),this._helper=a;var c=this;a.on("data",function(d,f){c.push(d)||c._helper.pause(),u&&u(f)}).on("error",function(d){c.emit("error",d)}).on("end",function(){c.push(null)})}n("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,r,i){function o(_,S,T){var k,R=a.getTypeOf(S),I=a.extend(T||{},c);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(_=v(_)),I.createFolders&&(k=g(_))&&y.call(this,k,!0);var P=R==="string"&&I.binary===!1&&I.base64===!1;T&&T.binary!==void 0||(I.binary=!P),(S instanceof d&&S.uncompressedSize===0||I.dir||!S||S.length===0)&&(I.base64=!1,I.binary=!0,S="",I.compression="STORE",R="string");var N=null;N=S instanceof d||S instanceof l?S:p.isNode&&p.isStream(S)?new m(_,S):a.prepareContent(_,S,I.binary,I.optimizedBinaryString,I.base64);var M=new f(_,N,I);this.files[_]=M}var s=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),d=n("./compressedObject"),f=n("./zipObject"),h=n("./generate"),p=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),g=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var S=_.lastIndexOf("/");return 0<S?_.substring(0,S):""},v=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},y=function(_,S){return S=S!==void 0?S:c.createFolders,_=v(_),this.files[_]||o.call(this,_,null,{dir:!0,createFolders:S}),this.files[_]};function x(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var S,T,k;for(S in this.files)k=this.files[S],(T=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&_(T,k)},filter:function(_){var S=[];return this.forEach(function(T,k){_(T,k)&&S.push(k)}),S},file:function(_,S,T){if(arguments.length!==1)return _=this.root+_,o.call(this,_,S,T),this;if(x(_)){var k=_;return this.filter(function(I,P){return!P.dir&&k.test(I)})}var R=this.files[this.root+_];return R&&!R.dir?R:null},folder:function(_){if(!_)return this;if(x(_))return this.filter(function(R,I){return I.dir&&_.test(R)});var S=this.root+_,T=y.call(this,S),k=this.clone();return k.root=T.name,k},remove:function(_){_=this.root+_;var S=this.files[_];if(S||(_.slice(-1)!=="/"&&(_+="/"),S=this.files[_]),S&&!S.dir)delete this.files[_];else for(var T=this.filter(function(R,I){return I.name.slice(0,_.length)===_}),k=0;k<T.length;k++)delete this.files[T[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var S,T={};try{if((T=a.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");a.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var k=T.comment||this.comment||"";S=h.generateWorker(this,T,k)}catch(R){(S=new l("error")).error(R)}return new u(S,T.type||"string",T.mimeType)},generateAsync:function(_,S){return this.generateInternalStream(_).accumulate(S)},generateNodeStream:function(_,S){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(S)}};r.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===u&&this.data[f+2]===c&&this.data[f+3]===d)return f-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&u===f[1]&&c===f[2]&&d===f[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var o=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return o.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var o=n("./Uint8ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var o=n("./ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var o=n("../utils"),s=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(d){var f=o.getTypeOf(d);return o.checkSupport(f),f!=="string"||s.uint8array?f==="nodebuffer"?new u(d):s.uint8array?new c(o.transformTo("uint8array",d)):new a(o.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var o=n("./GenericWorker"),s=n("../utils");function a(l){o.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,o),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var o=n("./GenericWorker"),s=n("../crc32");function a(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,o),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(a,s),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=o.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}o.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=o},{}],29:[function(n,r,i){var o=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),d=null;if(u.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(p,m){return new c.Promise(function(g,v){var y=[],x=p._internalType,E=p._outputType,_=p._mimeType;p.on("data",function(S,T){y.push(S),m&&m(T)}).on("error",function(S){y=[],v(S)}).on("end",function(){try{var S=(function(T,k,R){switch(T){case"blob":return o.newBlob(o.transformTo("arraybuffer",k),R);case"base64":return l.encode(k);default:return o.transformTo(T,k)}})(E,(function(T,k){var R,I=0,P=null,N=0;for(R=0;R<k.length;R++)N+=k[R].length;switch(T){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(P=new Uint8Array(N),R=0;R<k.length;R++)P.set(k[R],I),I+=k[R].length;return P;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+T+"'")}})(x,y),_);g(S)}catch(T){v(T)}y=[]}).resume()})}function h(p,m,g){var v=m;switch(m){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=m,this._mimeType=g,o.checkSupport(v),this._worker=p.pipe(new s(v)),p.lock()}catch(y){this._worker=new a("error"),this._worker.error(y)}}h.prototype={accumulate:function(p){return f(this,p)},on:function(p,m){var g=this;return p==="data"?this._worker.on(p,function(v){m.call(g,v.data,v.meta)}):this._worker.on(p,function(){o.delay(m,arguments,g)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var o=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return s.nodebuffer?a.newBufferFrom(h,"utf-8"):(function(p){var m,g,v,y,x,E=p.length,_=0;for(y=0;y<E;y++)(64512&(g=p.charCodeAt(y)))==55296&&y+1<E&&(64512&(v=p.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),y++),_+=g<128?1:g<2048?2:g<65536?3:4;for(m=s.uint8array?new Uint8Array(_):new Array(_),y=x=0;x<_;y++)(64512&(g=p.charCodeAt(y)))==55296&&y+1<E&&(64512&(v=p.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),y++),g<128?m[x++]=g:(g<2048?m[x++]=192|g>>>6:(g<65536?m[x++]=224|g>>>12:(m[x++]=240|g>>>18,m[x++]=128|g>>>12&63),m[x++]=128|g>>>6&63),m[x++]=128|63&g);return m})(h)},i.utf8decode=function(h){return s.nodebuffer?o.transformTo("nodebuffer",h).toString("utf-8"):(function(p){var m,g,v,y,x=p.length,E=new Array(2*x);for(m=g=0;m<x;)if((v=p[m++])<128)E[g++]=v;else if(4<(y=u[v]))E[g++]=65533,m+=y-1;else{for(v&=y===2?31:y===3?15:7;1<y&&m<x;)v=v<<6|63&p[m++],y--;1<y?E[g++]=65533:v<65536?E[g++]=v:(v-=65536,E[g++]=55296|v>>10&1023,E[g++]=56320|1023&v)}return E.length!==g&&(E.subarray?E=E.subarray(0,g):E.length=g),o.applyFromCharCode(E)})(h=o.transformTo(s.uint8array?"uint8array":"array",h))},o.inherits(d,l),d.prototype.processChunk=function(h){var p=o.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var m=p;(p=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),p.set(m,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var g=(function(y,x){var E;for((x=x||y.length)>y.length&&(x=y.length),E=x-1;0<=E&&(192&y[E])==128;)E--;return E<0||E===0?x:E+u[y[E]]>x?E:x})(p),v=p;g!==p.length&&(s.uint8array?(v=p.subarray(0,g),this.leftOver=p.subarray(g,p.length)):(v=p.slice(0,g),this.leftOver=p.slice(g,p.length))),this.push({data:i.utf8decode(v),meta:h.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,o.inherits(f,l),f.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var o=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(m){return m}function c(m,g){for(var v=0;v<m.length;++v)g[v]=255&m.charCodeAt(v);return g}n("setimmediate"),i.newBlob=function(m,g){i.checkSupport("blob");try{return new Blob([m],{type:g})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(m),v.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(m,g,v){var y=[],x=0,E=m.length;if(E<=v)return String.fromCharCode.apply(null,m);for(;x<E;)g==="array"||g==="nodebuffer"?y.push(String.fromCharCode.apply(null,m.slice(x,Math.min(x+v,E)))):y.push(String.fromCharCode.apply(null,m.subarray(x,Math.min(x+v,E)))),x+=v;return y.join("")},stringifyByChar:function(m){for(var g="",v=0;v<m.length;v++)g+=String.fromCharCode(m[v]);return g},applyCanBeUsed:{uint8array:(function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}})()}};function f(m){var g=65536,v=i.getTypeOf(m),y=!0;if(v==="uint8array"?y=d.applyCanBeUsed.uint8array:v==="nodebuffer"&&(y=d.applyCanBeUsed.nodebuffer),y)for(;1<g;)try{return d.stringifyByChunk(m,v,g)}catch{g=Math.floor(g/2)}return d.stringifyByChar(m)}function h(m,g){for(var v=0;v<m.length;v++)g[v]=m[v];return g}i.applyFromCharCode=f;var p={};p.string={string:u,array:function(m){return c(m,new Array(m.length))},arraybuffer:function(m){return p.string.uint8array(m).buffer},uint8array:function(m){return c(m,new Uint8Array(m.length))},nodebuffer:function(m){return c(m,a.allocBuffer(m.length))}},p.array={string:f,array:u,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(m)}},p.arraybuffer={string:function(m){return f(new Uint8Array(m))},array:function(m){return h(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:u,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(new Uint8Array(m))}},p.uint8array={string:f,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:u,nodebuffer:function(m){return a.newBufferFrom(m)}},p.nodebuffer={string:f,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return p.nodebuffer.uint8array(m).buffer},uint8array:function(m){return h(m,new Uint8Array(m.length))},nodebuffer:u},i.transformTo=function(m,g){if(g=g||"",!m)return g;i.checkSupport(m);var v=i.getTypeOf(g);return p[v][m](g)},i.resolve=function(m){for(var g=m.split("/"),v=[],y=0;y<g.length;y++){var x=g[y];x==="."||x===""&&y!==0&&y!==g.length-1||(x===".."?v.pop():v.push(x))}return v.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":o.nodebuffer&&a.isBuffer(m)?"nodebuffer":o.uint8array&&m instanceof Uint8Array?"uint8array":o.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!o[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var g,v,y="";for(v=0;v<(m||"").length;v++)y+="\\x"+((g=m.charCodeAt(v))<16?"0":"")+g.toString(16).toUpperCase();return y},i.delay=function(m,g,v){setImmediate(function(){m.apply(v||null,g||[])})},i.inherits=function(m,g){function v(){}v.prototype=g.prototype,m.prototype=new v},i.extend=function(){var m,g,v={};for(m=0;m<arguments.length;m++)for(g in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],g)&&v[g]===void 0&&(v[g]=arguments[m][g]);return v},i.prepareContent=function(m,g,v,y,x){return l.Promise.resolve(g).then(function(E){return o.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new l.Promise(function(_,S){var T=new FileReader;T.onload=function(k){_(k.target.result)},T.onerror=function(k){S(k.target.error)},T.readAsArrayBuffer(E)}):E}).then(function(E){var _=i.getTypeOf(E);return _?(_==="arraybuffer"?E=i.transformTo("uint8array",E):_==="string"&&(x?E=s.decode(E):v&&y!==!0&&(E=(function(S){return c(S,o.uint8array?new Uint8Array(S.length):new Array(S.length))})(E))),E):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(d){this.files=[],this.loadOptions=d}c.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(f)+", expected "+s.pretty(d)+")")}},isSignature:function(d,f){var h=this.reader.index;this.reader.setIndex(d);var p=this.reader.readString(4)===f;return this.reader.setIndex(h),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),f=u.uint8array?"uint8array":"array",h=s.transformTo(f,d);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,f,h,p=this.zip64EndOfCentralSize-44;0<p;)d=this.reader.readInt(2),f=this.reader.readInt(4),h=this.reader.readData(f),this.zip64ExtensibleData[d]={id:d,length:f,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,f;for(d=0;d<this.files.length;d++)f=this.files[d],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var f=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var p=f-h;if(0<p)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(d){this.reader=o(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),d=n("./support");function f(h,p){this.options=h,this.loadOptions=p}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var p,m;if(h.skip(22),this.fileNameLength=h.readInt(2),m=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=(function(g){for(var v in c)if(Object.prototype.hasOwnProperty.call(c,v)&&c[v].magic===g)return c[v];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,p,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var p=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(p),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var p,m,g,v=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<v;)p=h.readInt(2),m=h.readInt(2),g=h.readData(m),this.extraFields[p]={id:p,length:m,value:g};h.setIndex(v)},handleUTF8:function(){var h=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var m=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var v=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var p=o(h.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:u.utf8decode(p.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var p=o(h.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:u.utf8decode(p.readData(h.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function o(p,m,g){this.name=p,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=m,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");o.prototype={internalStream:function(p){var m=null,g="string";try{if(!p)throw new Error("No output type specified.");var v=(g=p.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),m=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(m=m.pipe(new l.Utf8EncodeWorker)),!y&&v&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(x){(m=new c("error")).error(x)}return new s(m,g,"")},async:function(p,m){return this.internalStream(p).accumulate(m)},nodeStream:function(p,m){return this.internalStream(p||"nodebuffer").toNodejsStream(m)},_compressWorker:function(p,m){if(this._data instanceof u&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(g,p,m)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<d.length;h++)o.prototype[d[h]]=f;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(o){var s,a,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var u=0,c=new l(p),d=o.document.createTextNode("");c.observe(d,{characterData:!0}),s=function(){d.data=u=++u%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var m=o.document.createElement("script");m.onreadystatechange=function(){p(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},o.document.documentElement.appendChild(m)}:function(){setTimeout(p,0)};else{var f=new o.MessageChannel;f.port1.onmessage=p,s=function(){f.port2.postMessage(0)}}var h=[];function p(){var m,g;a=!0;for(var v=h.length;v;){for(g=h,h=[],m=-1;++m<v;)g[m]();v=h.length}a=!1}r.exports=function(m){h.push(m)!==1||a||s()}}).call(this,typeof xi<"u"?xi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var o=n("immediate");function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function d(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,v!==s&&m(this,v)}function f(v,y,x){this.promise=v,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function h(v,y,x){o(function(){var E;try{E=y(x)}catch(_){return a.reject(v,_)}E===v?a.reject(v,new TypeError("Cannot resolve promise with itself")):a.resolve(v,E)})}function p(v){var y=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof y=="function")return function(){y.apply(v,arguments)}}function m(v,y){var x=!1;function E(T){x||(x=!0,a.reject(v,T))}function _(T){x||(x=!0,a.resolve(v,T))}var S=g(function(){y(_,E)});S.status==="error"&&E(S.value)}function g(v,y){var x={};try{x.value=v(y),x.status="success"}catch(E){x.status="error",x.value=E}return x}(r.exports=d).prototype.finally=function(v){if(typeof v!="function")return this;var y=this.constructor;return this.then(function(x){return y.resolve(v()).then(function(){return x})},function(x){return y.resolve(v()).then(function(){throw x})})},d.prototype.catch=function(v){return this.then(null,v)},d.prototype.then=function(v,y){if(typeof v!="function"&&this.state===u||typeof y!="function"&&this.state===l)return this;var x=new this.constructor(s);return this.state!==c?h(x,this.state===u?v:y,this.outcome):this.queue.push(new f(x,v,y)),x},f.prototype.callFulfilled=function(v){a.resolve(this.promise,v)},f.prototype.otherCallFulfilled=function(v){h(this.promise,this.onFulfilled,v)},f.prototype.callRejected=function(v){a.reject(this.promise,v)},f.prototype.otherCallRejected=function(v){h(this.promise,this.onRejected,v)},a.resolve=function(v,y){var x=g(p,y);if(x.status==="error")return a.reject(v,x.value);var E=x.value;if(E)m(v,E);else{v.state=u,v.outcome=y;for(var _=-1,S=v.queue.length;++_<S;)v.queue[_].callFulfilled(y)}return v},a.reject=function(v,y){v.state=l,v.outcome=y;for(var x=-1,E=v.queue.length;++x<E;)v.queue[x].callRejected(y);return v},d.resolve=function(v){return v instanceof this?v:a.resolve(new this(s),v)},d.reject=function(v){var y=new this(s);return a.reject(y,v)},d.all=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,E=!1;if(!x)return this.resolve([]);for(var _=new Array(x),S=0,T=-1,k=new this(s);++T<x;)R(v[T],T);return k;function R(I,P){y.resolve(I).then(function(N){_[P]=N,++S!==x||E||(E=!0,a.resolve(k,_))},function(N){E||(E=!0,a.reject(k,N))})}},d.race=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,E=!1;if(!x)return this.resolve([]);for(var _=-1,S=new this(s);++_<x;)T=v[_],y.resolve(T).then(function(k){E||(E=!0,a.resolve(S,k))},function(k){E||(E=!0,a.reject(S,k))});var T;return S}},{immediate:36}],38:[function(n,r,i){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var o=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,d=0,f=-1,h=0,p=8;function m(v){if(!(this instanceof m))return new m(v);this.options=s.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},v||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=o.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(x!==d)throw new Error(l[x]);if(y.header&&o.deflateSetHeader(this.strm,y.header),y.dictionary){var E;if(E=typeof y.dictionary=="string"?a.string2buf(y.dictionary):c.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(x=o.deflateSetDictionary(this.strm,E))!==d)throw new Error(l[x]);this._dict_set=!0}}function g(v,y){var x=new m(y);if(x.push(v,!0),x.err)throw x.msg||l[x.err];return x.result}m.prototype.push=function(v,y){var x,E,_=this.strm,S=this.options.chunkSize;if(this.ended)return!1;E=y===~~y?y:y===!0?4:0,typeof v=="string"?_.input=a.string2buf(v):c.call(v)==="[object ArrayBuffer]"?_.input=new Uint8Array(v):_.input=v,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new s.Buf8(S),_.next_out=0,_.avail_out=S),(x=o.deflate(_,E))!==1&&x!==d)return this.onEnd(x),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(_.output,_.next_out))):this.onData(s.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&x!==1);return E===4?(x=o.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d):E!==2||(this.onEnd(d),!(_.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=m,i.deflate=g,i.deflateRaw=function(v,y){return(y=y||{}).raw=!0,g(v,y)},i.gzip=function(v,y){return(y=y||{}).gzip=!0,g(v,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var o=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),d=n("./zlib/gzheader"),f=Object.prototype.toString;function h(m){if(!(this instanceof h))return new h(m);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},m||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||m&&m.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var v=o.inflateInit2(this.strm,g.windowBits);if(v!==l.Z_OK)throw new Error(u[v]);this.header=new d,o.inflateGetHeader(this.strm,this.header)}function p(m,g){var v=new h(g);if(v.push(m,!0),v.err)throw v.msg||u[v.err];return v.result}h.prototype.push=function(m,g){var v,y,x,E,_,S,T=this.strm,k=this.options.chunkSize,R=this.options.dictionary,I=!1;if(this.ended)return!1;y=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?T.input=a.binstring2buf(m):f.call(m)==="[object ArrayBuffer]"?T.input=new Uint8Array(m):T.input=m,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new s.Buf8(k),T.next_out=0,T.avail_out=k),(v=o.inflate(T,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&R&&(S=typeof R=="string"?a.string2buf(R):f.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,v=o.inflateSetDictionary(this.strm,S)),v===l.Z_BUF_ERROR&&I===!0&&(v=l.Z_OK,I=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&v!==l.Z_STREAM_END&&(T.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=a.utf8border(T.output,T.next_out),E=T.next_out-x,_=a.buf2string(T.output,x),T.next_out=E,T.avail_out=k-E,E&&s.arraySet(T.output,T.output,x,E,0),this.onData(_)):this.onData(s.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(I=!0)}while((0<T.avail_in||T.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(v=o.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(T.avail_out=0))},h.prototype.onData=function(m){this.chunks.push(m)},h.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=h,i.inflate=p,i.inflateRaw=function(m,g){return(g=g||{}).raw=!0,p(m,g)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(l[d]=c[d])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,c,d,f){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+d),f);else for(var h=0;h<d;h++)l[f+h]=u[c+h]},flattenChunks:function(l){var u,c,d,f,h,p;for(u=d=0,c=l.length;u<c;u++)d+=l[u].length;for(p=new Uint8Array(d),u=f=0,c=l.length;u<c;u++)h=l[u],p.set(h,f),f+=h.length;return p}},a={arraySet:function(l,u,c,d,f){for(var h=0;h<d;h++)l[f+h]=u[c+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(o)},{}],42:[function(n,r,i){var o=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new o.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(d,f){if(f<65537&&(d.subarray&&a||!d.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(d,f));for(var h="",p=0;p<f;p++)h+=String.fromCharCode(d[p]);return h}l[254]=l[254]=1,i.string2buf=function(d){var f,h,p,m,g,v=d.length,y=0;for(m=0;m<v;m++)(64512&(h=d.charCodeAt(m)))==55296&&m+1<v&&(64512&(p=d.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),m++),y+=h<128?1:h<2048?2:h<65536?3:4;for(f=new o.Buf8(y),m=g=0;g<y;m++)(64512&(h=d.charCodeAt(m)))==55296&&m+1<v&&(64512&(p=d.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),m++),h<128?f[g++]=h:(h<2048?f[g++]=192|h>>>6:(h<65536?f[g++]=224|h>>>12:(f[g++]=240|h>>>18,f[g++]=128|h>>>12&63),f[g++]=128|h>>>6&63),f[g++]=128|63&h);return f},i.buf2binstring=function(d){return c(d,d.length)},i.binstring2buf=function(d){for(var f=new o.Buf8(d.length),h=0,p=f.length;h<p;h++)f[h]=d.charCodeAt(h);return f},i.buf2string=function(d,f){var h,p,m,g,v=f||d.length,y=new Array(2*v);for(h=p=0;h<v;)if((m=d[h++])<128)y[p++]=m;else if(4<(g=l[m]))y[p++]=65533,h+=g-1;else{for(m&=g===2?31:g===3?15:7;1<g&&h<v;)m=m<<6|63&d[h++],g--;1<g?y[p++]=65533:m<65536?y[p++]=m:(m-=65536,y[p++]=55296|m>>10&1023,y[p++]=56320|1023&m)}return c(y,p)},i.utf8border=function(d,f){var h;for((f=f||d.length)>d.length&&(f=d.length),h=f-1;0<=h&&(192&d[h])==128;)h--;return h<0||h===0?f:h+l[d[h]]>f?h:f}},{"./common":41}],43:[function(n,r,i){r.exports=function(o,s,a,l){for(var u=65535&o|0,c=o>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;c=c+(u=u+s[l++]|0)|0,--d;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var o=(function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a})();r.exports=function(s,a,l,u){var c=o,d=u+l;s^=-1;for(var f=u;f<d;f++)s=s>>>8^c[255&(s^a[f])];return-1^s}},{}],46:[function(n,r,i){var o,s=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),d=0,f=4,h=0,p=-2,m=-1,g=4,v=2,y=8,x=9,E=286,_=30,S=19,T=2*E+1,k=15,R=3,I=258,P=I+R+1,N=42,M=113,O=1,j=2,U=3,q=4;function W(X,he){return X.msg=c[he],he}function V(X){return(X<<1)-(4<X?9:0)}function z(X){for(var he=X.length;0<=--he;)X[he]=0}function L(X){var he=X.state,ge=he.pending;ge>X.avail_out&&(ge=X.avail_out),ge!==0&&(s.arraySet(X.output,he.pending_buf,he.pending_out,ge,X.next_out),X.next_out+=ge,he.pending_out+=ge,X.total_out+=ge,X.avail_out-=ge,he.pending-=ge,he.pending===0&&(he.pending_out=0))}function H(X,he){a._tr_flush_block(X,0<=X.block_start?X.block_start:-1,X.strstart-X.block_start,he),X.block_start=X.strstart,L(X.strm)}function B(X,he){X.pending_buf[X.pending++]=he}function Y(X,he){X.pending_buf[X.pending++]=he>>>8&255,X.pending_buf[X.pending++]=255&he}function Q(X,he){var ge,re,ee=X.max_chain_length,fe=X.strstart,Re=X.prev_length,Oe=X.nice_match,Ae=X.strstart>X.w_size-P?X.strstart-(X.w_size-P):0,Se=X.window,xe=X.w_mask,ke=X.prev,me=X.strstart+I,Me=Se[fe+Re-1],ze=Se[fe+Re];X.prev_length>=X.good_match&&(ee>>=2),Oe>X.lookahead&&(Oe=X.lookahead);do if(Se[(ge=he)+Re]===ze&&Se[ge+Re-1]===Me&&Se[ge]===Se[fe]&&Se[++ge]===Se[fe+1]){fe+=2,ge++;do;while(Se[++fe]===Se[++ge]&&Se[++fe]===Se[++ge]&&Se[++fe]===Se[++ge]&&Se[++fe]===Se[++ge]&&Se[++fe]===Se[++ge]&&Se[++fe]===Se[++ge]&&Se[++fe]===Se[++ge]&&Se[++fe]===Se[++ge]&&fe<me);if(re=I-(me-fe),fe=me-I,Re<re){if(X.match_start=he,Oe<=(Re=re))break;Me=Se[fe+Re-1],ze=Se[fe+Re]}}while((he=ke[he&xe])>Ae&&--ee!=0);return Re<=X.lookahead?Re:X.lookahead}function ne(X){var he,ge,re,ee,fe,Re,Oe,Ae,Se,xe,ke=X.w_size;do{if(ee=X.window_size-X.lookahead-X.strstart,X.strstart>=ke+(ke-P)){for(s.arraySet(X.window,X.window,ke,ke,0),X.match_start-=ke,X.strstart-=ke,X.block_start-=ke,he=ge=X.hash_size;re=X.head[--he],X.head[he]=ke<=re?re-ke:0,--ge;);for(he=ge=ke;re=X.prev[--he],X.prev[he]=ke<=re?re-ke:0,--ge;);ee+=ke}if(X.strm.avail_in===0)break;if(Re=X.strm,Oe=X.window,Ae=X.strstart+X.lookahead,Se=ee,xe=void 0,xe=Re.avail_in,Se<xe&&(xe=Se),ge=xe===0?0:(Re.avail_in-=xe,s.arraySet(Oe,Re.input,Re.next_in,xe,Ae),Re.state.wrap===1?Re.adler=l(Re.adler,Oe,xe,Ae):Re.state.wrap===2&&(Re.adler=u(Re.adler,Oe,xe,Ae)),Re.next_in+=xe,Re.total_in+=xe,xe),X.lookahead+=ge,X.lookahead+X.insert>=R)for(fe=X.strstart-X.insert,X.ins_h=X.window[fe],X.ins_h=(X.ins_h<<X.hash_shift^X.window[fe+1])&X.hash_mask;X.insert&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[fe+R-1])&X.hash_mask,X.prev[fe&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=fe,fe++,X.insert--,!(X.lookahead+X.insert<R)););}while(X.lookahead<P&&X.strm.avail_in!==0)}function ce(X,he){for(var ge,re;;){if(X.lookahead<P){if(ne(X),X.lookahead<P&&he===d)return O;if(X.lookahead===0)break}if(ge=0,X.lookahead>=R&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+R-1])&X.hash_mask,ge=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),ge!==0&&X.strstart-ge<=X.w_size-P&&(X.match_length=Q(X,ge)),X.match_length>=R)if(re=a._tr_tally(X,X.strstart-X.match_start,X.match_length-R),X.lookahead-=X.match_length,X.match_length<=X.max_lazy_match&&X.lookahead>=R){for(X.match_length--;X.strstart++,X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+R-1])&X.hash_mask,ge=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart,--X.match_length!=0;);X.strstart++}else X.strstart+=X.match_length,X.match_length=0,X.ins_h=X.window[X.strstart],X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+1])&X.hash_mask;else re=a._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++;if(re&&(H(X,!1),X.strm.avail_out===0))return O}return X.insert=X.strstart<R-1?X.strstart:R-1,he===f?(H(X,!0),X.strm.avail_out===0?U:q):X.last_lit&&(H(X,!1),X.strm.avail_out===0)?O:j}function le(X,he){for(var ge,re,ee;;){if(X.lookahead<P){if(ne(X),X.lookahead<P&&he===d)return O;if(X.lookahead===0)break}if(ge=0,X.lookahead>=R&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+R-1])&X.hash_mask,ge=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),X.prev_length=X.match_length,X.prev_match=X.match_start,X.match_length=R-1,ge!==0&&X.prev_length<X.max_lazy_match&&X.strstart-ge<=X.w_size-P&&(X.match_length=Q(X,ge),X.match_length<=5&&(X.strategy===1||X.match_length===R&&4096<X.strstart-X.match_start)&&(X.match_length=R-1)),X.prev_length>=R&&X.match_length<=X.prev_length){for(ee=X.strstart+X.lookahead-R,re=a._tr_tally(X,X.strstart-1-X.prev_match,X.prev_length-R),X.lookahead-=X.prev_length-1,X.prev_length-=2;++X.strstart<=ee&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+R-1])&X.hash_mask,ge=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),--X.prev_length!=0;);if(X.match_available=0,X.match_length=R-1,X.strstart++,re&&(H(X,!1),X.strm.avail_out===0))return O}else if(X.match_available){if((re=a._tr_tally(X,0,X.window[X.strstart-1]))&&H(X,!1),X.strstart++,X.lookahead--,X.strm.avail_out===0)return O}else X.match_available=1,X.strstart++,X.lookahead--}return X.match_available&&(re=a._tr_tally(X,0,X.window[X.strstart-1]),X.match_available=0),X.insert=X.strstart<R-1?X.strstart:R-1,he===f?(H(X,!0),X.strm.avail_out===0?U:q):X.last_lit&&(H(X,!1),X.strm.avail_out===0)?O:j}function ue(X,he,ge,re,ee){this.good_length=X,this.max_lazy=he,this.nice_length=ge,this.max_chain=re,this.func=ee}function ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*T),this.dyn_dtree=new s.Buf16(2*(2*_+1)),this.bl_tree=new s.Buf16(2*(2*S+1)),z(this.dyn_ltree),z(this.dyn_dtree),z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(k+1),this.heap=new s.Buf16(2*E+1),z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*E+1),z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function te(X){var he;return X&&X.state?(X.total_in=X.total_out=0,X.data_type=v,(he=X.state).pending=0,he.pending_out=0,he.wrap<0&&(he.wrap=-he.wrap),he.status=he.wrap?N:M,X.adler=he.wrap===2?0:1,he.last_flush=d,a._tr_init(he),h):W(X,p)}function se(X){var he=te(X);return he===h&&(function(ge){ge.window_size=2*ge.w_size,z(ge.head),ge.max_lazy_match=o[ge.level].max_lazy,ge.good_match=o[ge.level].good_length,ge.nice_match=o[ge.level].nice_length,ge.max_chain_length=o[ge.level].max_chain,ge.strstart=0,ge.block_start=0,ge.lookahead=0,ge.insert=0,ge.match_length=ge.prev_length=R-1,ge.match_available=0,ge.ins_h=0})(X.state),he}function we(X,he,ge,re,ee,fe){if(!X)return p;var Re=1;if(he===m&&(he=6),re<0?(Re=0,re=-re):15<re&&(Re=2,re-=16),ee<1||x<ee||ge!==y||re<8||15<re||he<0||9<he||fe<0||g<fe)return W(X,p);re===8&&(re=9);var Oe=new ae;return(X.state=Oe).strm=X,Oe.wrap=Re,Oe.gzhead=null,Oe.w_bits=re,Oe.w_size=1<<Oe.w_bits,Oe.w_mask=Oe.w_size-1,Oe.hash_bits=ee+7,Oe.hash_size=1<<Oe.hash_bits,Oe.hash_mask=Oe.hash_size-1,Oe.hash_shift=~~((Oe.hash_bits+R-1)/R),Oe.window=new s.Buf8(2*Oe.w_size),Oe.head=new s.Buf16(Oe.hash_size),Oe.prev=new s.Buf16(Oe.w_size),Oe.lit_bufsize=1<<ee+6,Oe.pending_buf_size=4*Oe.lit_bufsize,Oe.pending_buf=new s.Buf8(Oe.pending_buf_size),Oe.d_buf=1*Oe.lit_bufsize,Oe.l_buf=3*Oe.lit_bufsize,Oe.level=he,Oe.strategy=fe,Oe.method=ge,se(X)}o=[new ue(0,0,0,0,function(X,he){var ge=65535;for(ge>X.pending_buf_size-5&&(ge=X.pending_buf_size-5);;){if(X.lookahead<=1){if(ne(X),X.lookahead===0&&he===d)return O;if(X.lookahead===0)break}X.strstart+=X.lookahead,X.lookahead=0;var re=X.block_start+ge;if((X.strstart===0||X.strstart>=re)&&(X.lookahead=X.strstart-re,X.strstart=re,H(X,!1),X.strm.avail_out===0)||X.strstart-X.block_start>=X.w_size-P&&(H(X,!1),X.strm.avail_out===0))return O}return X.insert=0,he===f?(H(X,!0),X.strm.avail_out===0?U:q):(X.strstart>X.block_start&&(H(X,!1),X.strm.avail_out),O)}),new ue(4,4,8,4,ce),new ue(4,5,16,8,ce),new ue(4,6,32,32,ce),new ue(4,4,16,16,le),new ue(8,16,32,32,le),new ue(8,16,128,128,le),new ue(8,32,128,256,le),new ue(32,128,258,1024,le),new ue(32,258,258,4096,le)],i.deflateInit=function(X,he){return we(X,he,y,15,8,0)},i.deflateInit2=we,i.deflateReset=se,i.deflateResetKeep=te,i.deflateSetHeader=function(X,he){return X&&X.state?X.state.wrap!==2?p:(X.state.gzhead=he,h):p},i.deflate=function(X,he){var ge,re,ee,fe;if(!X||!X.state||5<he||he<0)return X?W(X,p):p;if(re=X.state,!X.output||!X.input&&X.avail_in!==0||re.status===666&&he!==f)return W(X,X.avail_out===0?-5:p);if(re.strm=X,ge=re.last_flush,re.last_flush=he,re.status===N)if(re.wrap===2)X.adler=0,B(re,31),B(re,139),B(re,8),re.gzhead?(B(re,(re.gzhead.text?1:0)+(re.gzhead.hcrc?2:0)+(re.gzhead.extra?4:0)+(re.gzhead.name?8:0)+(re.gzhead.comment?16:0)),B(re,255&re.gzhead.time),B(re,re.gzhead.time>>8&255),B(re,re.gzhead.time>>16&255),B(re,re.gzhead.time>>24&255),B(re,re.level===9?2:2<=re.strategy||re.level<2?4:0),B(re,255&re.gzhead.os),re.gzhead.extra&&re.gzhead.extra.length&&(B(re,255&re.gzhead.extra.length),B(re,re.gzhead.extra.length>>8&255)),re.gzhead.hcrc&&(X.adler=u(X.adler,re.pending_buf,re.pending,0)),re.gzindex=0,re.status=69):(B(re,0),B(re,0),B(re,0),B(re,0),B(re,0),B(re,re.level===9?2:2<=re.strategy||re.level<2?4:0),B(re,3),re.status=M);else{var Re=y+(re.w_bits-8<<4)<<8;Re|=(2<=re.strategy||re.level<2?0:re.level<6?1:re.level===6?2:3)<<6,re.strstart!==0&&(Re|=32),Re+=31-Re%31,re.status=M,Y(re,Re),re.strstart!==0&&(Y(re,X.adler>>>16),Y(re,65535&X.adler)),X.adler=1}if(re.status===69)if(re.gzhead.extra){for(ee=re.pending;re.gzindex<(65535&re.gzhead.extra.length)&&(re.pending!==re.pending_buf_size||(re.gzhead.hcrc&&re.pending>ee&&(X.adler=u(X.adler,re.pending_buf,re.pending-ee,ee)),L(X),ee=re.pending,re.pending!==re.pending_buf_size));)B(re,255&re.gzhead.extra[re.gzindex]),re.gzindex++;re.gzhead.hcrc&&re.pending>ee&&(X.adler=u(X.adler,re.pending_buf,re.pending-ee,ee)),re.gzindex===re.gzhead.extra.length&&(re.gzindex=0,re.status=73)}else re.status=73;if(re.status===73)if(re.gzhead.name){ee=re.pending;do{if(re.pending===re.pending_buf_size&&(re.gzhead.hcrc&&re.pending>ee&&(X.adler=u(X.adler,re.pending_buf,re.pending-ee,ee)),L(X),ee=re.pending,re.pending===re.pending_buf_size)){fe=1;break}fe=re.gzindex<re.gzhead.name.length?255&re.gzhead.name.charCodeAt(re.gzindex++):0,B(re,fe)}while(fe!==0);re.gzhead.hcrc&&re.pending>ee&&(X.adler=u(X.adler,re.pending_buf,re.pending-ee,ee)),fe===0&&(re.gzindex=0,re.status=91)}else re.status=91;if(re.status===91)if(re.gzhead.comment){ee=re.pending;do{if(re.pending===re.pending_buf_size&&(re.gzhead.hcrc&&re.pending>ee&&(X.adler=u(X.adler,re.pending_buf,re.pending-ee,ee)),L(X),ee=re.pending,re.pending===re.pending_buf_size)){fe=1;break}fe=re.gzindex<re.gzhead.comment.length?255&re.gzhead.comment.charCodeAt(re.gzindex++):0,B(re,fe)}while(fe!==0);re.gzhead.hcrc&&re.pending>ee&&(X.adler=u(X.adler,re.pending_buf,re.pending-ee,ee)),fe===0&&(re.status=103)}else re.status=103;if(re.status===103&&(re.gzhead.hcrc?(re.pending+2>re.pending_buf_size&&L(X),re.pending+2<=re.pending_buf_size&&(B(re,255&X.adler),B(re,X.adler>>8&255),X.adler=0,re.status=M)):re.status=M),re.pending!==0){if(L(X),X.avail_out===0)return re.last_flush=-1,h}else if(X.avail_in===0&&V(he)<=V(ge)&&he!==f)return W(X,-5);if(re.status===666&&X.avail_in!==0)return W(X,-5);if(X.avail_in!==0||re.lookahead!==0||he!==d&&re.status!==666){var Oe=re.strategy===2?(function(Ae,Se){for(var xe;;){if(Ae.lookahead===0&&(ne(Ae),Ae.lookahead===0)){if(Se===d)return O;break}if(Ae.match_length=0,xe=a._tr_tally(Ae,0,Ae.window[Ae.strstart]),Ae.lookahead--,Ae.strstart++,xe&&(H(Ae,!1),Ae.strm.avail_out===0))return O}return Ae.insert=0,Se===f?(H(Ae,!0),Ae.strm.avail_out===0?U:q):Ae.last_lit&&(H(Ae,!1),Ae.strm.avail_out===0)?O:j})(re,he):re.strategy===3?(function(Ae,Se){for(var xe,ke,me,Me,ze=Ae.window;;){if(Ae.lookahead<=I){if(ne(Ae),Ae.lookahead<=I&&Se===d)return O;if(Ae.lookahead===0)break}if(Ae.match_length=0,Ae.lookahead>=R&&0<Ae.strstart&&(ke=ze[me=Ae.strstart-1])===ze[++me]&&ke===ze[++me]&&ke===ze[++me]){Me=Ae.strstart+I;do;while(ke===ze[++me]&&ke===ze[++me]&&ke===ze[++me]&&ke===ze[++me]&&ke===ze[++me]&&ke===ze[++me]&&ke===ze[++me]&&ke===ze[++me]&&me<Me);Ae.match_length=I-(Me-me),Ae.match_length>Ae.lookahead&&(Ae.match_length=Ae.lookahead)}if(Ae.match_length>=R?(xe=a._tr_tally(Ae,1,Ae.match_length-R),Ae.lookahead-=Ae.match_length,Ae.strstart+=Ae.match_length,Ae.match_length=0):(xe=a._tr_tally(Ae,0,Ae.window[Ae.strstart]),Ae.lookahead--,Ae.strstart++),xe&&(H(Ae,!1),Ae.strm.avail_out===0))return O}return Ae.insert=0,Se===f?(H(Ae,!0),Ae.strm.avail_out===0?U:q):Ae.last_lit&&(H(Ae,!1),Ae.strm.avail_out===0)?O:j})(re,he):o[re.level].func(re,he);if(Oe!==U&&Oe!==q||(re.status=666),Oe===O||Oe===U)return X.avail_out===0&&(re.last_flush=-1),h;if(Oe===j&&(he===1?a._tr_align(re):he!==5&&(a._tr_stored_block(re,0,0,!1),he===3&&(z(re.head),re.lookahead===0&&(re.strstart=0,re.block_start=0,re.insert=0))),L(X),X.avail_out===0))return re.last_flush=-1,h}return he!==f?h:re.wrap<=0?1:(re.wrap===2?(B(re,255&X.adler),B(re,X.adler>>8&255),B(re,X.adler>>16&255),B(re,X.adler>>24&255),B(re,255&X.total_in),B(re,X.total_in>>8&255),B(re,X.total_in>>16&255),B(re,X.total_in>>24&255)):(Y(re,X.adler>>>16),Y(re,65535&X.adler)),L(X),0<re.wrap&&(re.wrap=-re.wrap),re.pending!==0?h:1)},i.deflateEnd=function(X){var he;return X&&X.state?(he=X.state.status)!==N&&he!==69&&he!==73&&he!==91&&he!==103&&he!==M&&he!==666?W(X,p):(X.state=null,he===M?W(X,-3):h):p},i.deflateSetDictionary=function(X,he){var ge,re,ee,fe,Re,Oe,Ae,Se,xe=he.length;if(!X||!X.state||(fe=(ge=X.state).wrap)===2||fe===1&&ge.status!==N||ge.lookahead)return p;for(fe===1&&(X.adler=l(X.adler,he,xe,0)),ge.wrap=0,xe>=ge.w_size&&(fe===0&&(z(ge.head),ge.strstart=0,ge.block_start=0,ge.insert=0),Se=new s.Buf8(ge.w_size),s.arraySet(Se,he,xe-ge.w_size,ge.w_size,0),he=Se,xe=ge.w_size),Re=X.avail_in,Oe=X.next_in,Ae=X.input,X.avail_in=xe,X.next_in=0,X.input=he,ne(ge);ge.lookahead>=R;){for(re=ge.strstart,ee=ge.lookahead-(R-1);ge.ins_h=(ge.ins_h<<ge.hash_shift^ge.window[re+R-1])&ge.hash_mask,ge.prev[re&ge.w_mask]=ge.head[ge.ins_h],ge.head[ge.ins_h]=re,re++,--ee;);ge.strstart=re,ge.lookahead=R-1,ne(ge)}return ge.strstart+=ge.lookahead,ge.block_start=ge.strstart,ge.insert=ge.lookahead,ge.lookahead=0,ge.match_length=ge.prev_length=R-1,ge.match_available=0,X.next_in=Oe,X.input=Ae,X.avail_in=Re,ge.wrap=fe,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(o,s){var a,l,u,c,d,f,h,p,m,g,v,y,x,E,_,S,T,k,R,I,P,N,M,O,j;a=o.state,l=o.next_in,O=o.input,u=l+(o.avail_in-5),c=o.next_out,j=o.output,d=c-(s-o.avail_out),f=c+(o.avail_out-257),h=a.dmax,p=a.wsize,m=a.whave,g=a.wnext,v=a.window,y=a.hold,x=a.bits,E=a.lencode,_=a.distcode,S=(1<<a.lenbits)-1,T=(1<<a.distbits)-1;e:do{x<15&&(y+=O[l++]<<x,x+=8,y+=O[l++]<<x,x+=8),k=E[y&S];t:for(;;){if(y>>>=R=k>>>24,x-=R,(R=k>>>16&255)===0)j[c++]=65535&k;else{if(!(16&R)){if((64&R)==0){k=E[(65535&k)+(y&(1<<R)-1)];continue t}if(32&R){a.mode=12;break e}o.msg="invalid literal/length code",a.mode=30;break e}I=65535&k,(R&=15)&&(x<R&&(y+=O[l++]<<x,x+=8),I+=y&(1<<R)-1,y>>>=R,x-=R),x<15&&(y+=O[l++]<<x,x+=8,y+=O[l++]<<x,x+=8),k=_[y&T];n:for(;;){if(y>>>=R=k>>>24,x-=R,!(16&(R=k>>>16&255))){if((64&R)==0){k=_[(65535&k)+(y&(1<<R)-1)];continue n}o.msg="invalid distance code",a.mode=30;break e}if(P=65535&k,x<(R&=15)&&(y+=O[l++]<<x,(x+=8)<R&&(y+=O[l++]<<x,x+=8)),h<(P+=y&(1<<R)-1)){o.msg="invalid distance too far back",a.mode=30;break e}if(y>>>=R,x-=R,(R=c-d)<P){if(m<(R=P-R)&&a.sane){o.msg="invalid distance too far back",a.mode=30;break e}if(M=v,(N=0)===g){if(N+=p-R,R<I){for(I-=R;j[c++]=v[N++],--R;);N=c-P,M=j}}else if(g<R){if(N+=p+g-R,(R-=g)<I){for(I-=R;j[c++]=v[N++],--R;);if(N=0,g<I){for(I-=R=g;j[c++]=v[N++],--R;);N=c-P,M=j}}}else if(N+=g-R,R<I){for(I-=R;j[c++]=v[N++],--R;);N=c-P,M=j}for(;2<I;)j[c++]=M[N++],j[c++]=M[N++],j[c++]=M[N++],I-=3;I&&(j[c++]=M[N++],1<I&&(j[c++]=M[N++]))}else{for(N=c-P;j[c++]=j[N++],j[c++]=j[N++],j[c++]=j[N++],2<(I-=3););I&&(j[c++]=j[N++],1<I&&(j[c++]=j[N++]))}break}}break}}while(l<u&&c<f);l-=I=x>>3,y&=(1<<(x-=I<<3))-1,o.next_in=l,o.next_out=c,o.avail_in=l<u?u-l+5:5-(l-u),o.avail_out=c<f?f-c+257:257-(c-f),a.hold=y,a.bits=x}},{}],49:[function(n,r,i){var o=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,d=2,f=0,h=-2,p=1,m=852,g=592;function v(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(N){var M;return N&&N.state?(M=N.state,N.total_in=N.total_out=M.total=0,N.msg="",M.wrap&&(N.adler=1&M.wrap),M.mode=p,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new o.Buf32(m),M.distcode=M.distdyn=new o.Buf32(g),M.sane=1,M.back=-1,f):h}function E(N){var M;return N&&N.state?((M=N.state).wsize=0,M.whave=0,M.wnext=0,x(N)):h}function _(N,M){var O,j;return N&&N.state?(j=N.state,M<0?(O=0,M=-M):(O=1+(M>>4),M<48&&(M&=15)),M&&(M<8||15<M)?h:(j.window!==null&&j.wbits!==M&&(j.window=null),j.wrap=O,j.wbits=M,E(N))):h}function S(N,M){var O,j;return N?(j=new y,(N.state=j).window=null,(O=_(N,M))!==f&&(N.state=null),O):h}var T,k,R=!0;function I(N){if(R){var M;for(T=new o.Buf32(512),k=new o.Buf32(32),M=0;M<144;)N.lens[M++]=8;for(;M<256;)N.lens[M++]=9;for(;M<280;)N.lens[M++]=7;for(;M<288;)N.lens[M++]=8;for(u(c,N.lens,0,288,T,0,N.work,{bits:9}),M=0;M<32;)N.lens[M++]=5;u(d,N.lens,0,32,k,0,N.work,{bits:5}),R=!1}N.lencode=T,N.lenbits=9,N.distcode=k,N.distbits=5}function P(N,M,O,j){var U,q=N.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new o.Buf8(q.wsize)),j>=q.wsize?(o.arraySet(q.window,M,O-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(j<(U=q.wsize-q.wnext)&&(U=j),o.arraySet(q.window,M,O-j,U,q.wnext),(j-=U)?(o.arraySet(q.window,M,O-j,j,0),q.wnext=j,q.whave=q.wsize):(q.wnext+=U,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=U))),0}i.inflateReset=E,i.inflateReset2=_,i.inflateResetKeep=x,i.inflateInit=function(N){return S(N,15)},i.inflateInit2=S,i.inflate=function(N,M){var O,j,U,q,W,V,z,L,H,B,Y,Q,ne,ce,le,ue,ae,te,se,we,X,he,ge,re,ee=0,fe=new o.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return h;(O=N.state).mode===12&&(O.mode=13),W=N.next_out,U=N.output,z=N.avail_out,q=N.next_in,j=N.input,V=N.avail_in,L=O.hold,H=O.bits,B=V,Y=z,he=f;e:for(;;)switch(O.mode){case p:if(O.wrap===0){O.mode=13;break}for(;H<16;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if(2&O.wrap&&L===35615){fe[O.check=0]=255&L,fe[1]=L>>>8&255,O.check=a(O.check,fe,2,0),H=L=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&L)<<8)+(L>>8))%31){N.msg="incorrect header check",O.mode=30;break}if((15&L)!=8){N.msg="unknown compression method",O.mode=30;break}if(H-=4,X=8+(15&(L>>>=4)),O.wbits===0)O.wbits=X;else if(X>O.wbits){N.msg="invalid window size",O.mode=30;break}O.dmax=1<<X,N.adler=O.check=1,O.mode=512&L?10:12,H=L=0;break;case 2:for(;H<16;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if(O.flags=L,(255&O.flags)!=8){N.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){N.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=L>>8&1),512&O.flags&&(fe[0]=255&L,fe[1]=L>>>8&255,O.check=a(O.check,fe,2,0)),H=L=0,O.mode=3;case 3:for(;H<32;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}O.head&&(O.head.time=L),512&O.flags&&(fe[0]=255&L,fe[1]=L>>>8&255,fe[2]=L>>>16&255,fe[3]=L>>>24&255,O.check=a(O.check,fe,4,0)),H=L=0,O.mode=4;case 4:for(;H<16;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}O.head&&(O.head.xflags=255&L,O.head.os=L>>8),512&O.flags&&(fe[0]=255&L,fe[1]=L>>>8&255,O.check=a(O.check,fe,2,0)),H=L=0,O.mode=5;case 5:if(1024&O.flags){for(;H<16;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}O.length=L,O.head&&(O.head.extra_len=L),512&O.flags&&(fe[0]=255&L,fe[1]=L>>>8&255,O.check=a(O.check,fe,2,0)),H=L=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(V<(Q=O.length)&&(Q=V),Q&&(O.head&&(X=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),o.arraySet(O.head.extra,j,q,Q,X)),512&O.flags&&(O.check=a(O.check,j,Q,q)),V-=Q,q+=Q,O.length-=Q),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(V===0)break e;for(Q=0;X=j[q+Q++],O.head&&X&&O.length<65536&&(O.head.name+=String.fromCharCode(X)),X&&Q<V;);if(512&O.flags&&(O.check=a(O.check,j,Q,q)),V-=Q,q+=Q,X)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(V===0)break e;for(Q=0;X=j[q+Q++],O.head&&X&&O.length<65536&&(O.head.comment+=String.fromCharCode(X)),X&&Q<V;);if(512&O.flags&&(O.check=a(O.check,j,Q,q)),V-=Q,q+=Q,X)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;H<16;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if(L!==(65535&O.check)){N.msg="header crc mismatch",O.mode=30;break}H=L=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),N.adler=O.check=0,O.mode=12;break;case 10:for(;H<32;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}N.adler=O.check=v(L),H=L=0,O.mode=11;case 11:if(O.havedict===0)return N.next_out=W,N.avail_out=z,N.next_in=q,N.avail_in=V,O.hold=L,O.bits=H,2;N.adler=O.check=1,O.mode=12;case 12:if(M===5||M===6)break e;case 13:if(O.last){L>>>=7&H,H-=7&H,O.mode=27;break}for(;H<3;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}switch(O.last=1&L,H-=1,3&(L>>>=1)){case 0:O.mode=14;break;case 1:if(I(O),O.mode=20,M!==6)break;L>>>=2,H-=2;break e;case 2:O.mode=17;break;case 3:N.msg="invalid block type",O.mode=30}L>>>=2,H-=2;break;case 14:for(L>>>=7&H,H-=7&H;H<32;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if((65535&L)!=(L>>>16^65535)){N.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&L,H=L=0,O.mode=15,M===6)break e;case 15:O.mode=16;case 16:if(Q=O.length){if(V<Q&&(Q=V),z<Q&&(Q=z),Q===0)break e;o.arraySet(U,j,q,Q,W),V-=Q,q+=Q,z-=Q,W+=Q,O.length-=Q;break}O.mode=12;break;case 17:for(;H<14;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if(O.nlen=257+(31&L),L>>>=5,H-=5,O.ndist=1+(31&L),L>>>=5,H-=5,O.ncode=4+(15&L),L>>>=4,H-=4,286<O.nlen||30<O.ndist){N.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;H<3;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}O.lens[Re[O.have++]]=7&L,L>>>=3,H-=3}for(;O.have<19;)O.lens[Re[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,ge={bits:O.lenbits},he=u(0,O.lens,0,19,O.lencode,0,O.work,ge),O.lenbits=ge.bits,he){N.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;ue=(ee=O.lencode[L&(1<<O.lenbits)-1])>>>16&255,ae=65535&ee,!((le=ee>>>24)<=H);){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if(ae<16)L>>>=le,H-=le,O.lens[O.have++]=ae;else{if(ae===16){for(re=le+2;H<re;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if(L>>>=le,H-=le,O.have===0){N.msg="invalid bit length repeat",O.mode=30;break}X=O.lens[O.have-1],Q=3+(3&L),L>>>=2,H-=2}else if(ae===17){for(re=le+3;H<re;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}H-=le,X=0,Q=3+(7&(L>>>=le)),L>>>=3,H-=3}else{for(re=le+7;H<re;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}H-=le,X=0,Q=11+(127&(L>>>=le)),L>>>=7,H-=7}if(O.have+Q>O.nlen+O.ndist){N.msg="invalid bit length repeat",O.mode=30;break}for(;Q--;)O.lens[O.have++]=X}}if(O.mode===30)break;if(O.lens[256]===0){N.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,ge={bits:O.lenbits},he=u(c,O.lens,0,O.nlen,O.lencode,0,O.work,ge),O.lenbits=ge.bits,he){N.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,ge={bits:O.distbits},he=u(d,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,ge),O.distbits=ge.bits,he){N.msg="invalid distances set",O.mode=30;break}if(O.mode=20,M===6)break e;case 20:O.mode=21;case 21:if(6<=V&&258<=z){N.next_out=W,N.avail_out=z,N.next_in=q,N.avail_in=V,O.hold=L,O.bits=H,l(N,Y),W=N.next_out,U=N.output,z=N.avail_out,q=N.next_in,j=N.input,V=N.avail_in,L=O.hold,H=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;ue=(ee=O.lencode[L&(1<<O.lenbits)-1])>>>16&255,ae=65535&ee,!((le=ee>>>24)<=H);){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if(ue&&(240&ue)==0){for(te=le,se=ue,we=ae;ue=(ee=O.lencode[we+((L&(1<<te+se)-1)>>te)])>>>16&255,ae=65535&ee,!(te+(le=ee>>>24)<=H);){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}L>>>=te,H-=te,O.back+=te}if(L>>>=le,H-=le,O.back+=le,O.length=ae,ue===0){O.mode=26;break}if(32&ue){O.back=-1,O.mode=12;break}if(64&ue){N.msg="invalid literal/length code",O.mode=30;break}O.extra=15&ue,O.mode=22;case 22:if(O.extra){for(re=O.extra;H<re;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}O.length+=L&(1<<O.extra)-1,L>>>=O.extra,H-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;ue=(ee=O.distcode[L&(1<<O.distbits)-1])>>>16&255,ae=65535&ee,!((le=ee>>>24)<=H);){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if((240&ue)==0){for(te=le,se=ue,we=ae;ue=(ee=O.distcode[we+((L&(1<<te+se)-1)>>te)])>>>16&255,ae=65535&ee,!(te+(le=ee>>>24)<=H);){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}L>>>=te,H-=te,O.back+=te}if(L>>>=le,H-=le,O.back+=le,64&ue){N.msg="invalid distance code",O.mode=30;break}O.offset=ae,O.extra=15&ue,O.mode=24;case 24:if(O.extra){for(re=O.extra;H<re;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}O.offset+=L&(1<<O.extra)-1,L>>>=O.extra,H-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){N.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(z===0)break e;if(Q=Y-z,O.offset>Q){if((Q=O.offset-Q)>O.whave&&O.sane){N.msg="invalid distance too far back",O.mode=30;break}ne=Q>O.wnext?(Q-=O.wnext,O.wsize-Q):O.wnext-Q,Q>O.length&&(Q=O.length),ce=O.window}else ce=U,ne=W-O.offset,Q=O.length;for(z<Q&&(Q=z),z-=Q,O.length-=Q;U[W++]=ce[ne++],--Q;);O.length===0&&(O.mode=21);break;case 26:if(z===0)break e;U[W++]=O.length,z--,O.mode=21;break;case 27:if(O.wrap){for(;H<32;){if(V===0)break e;V--,L|=j[q++]<<H,H+=8}if(Y-=z,N.total_out+=Y,O.total+=Y,Y&&(N.adler=O.check=O.flags?a(O.check,U,Y,W-Y):s(O.check,U,Y,W-Y)),Y=z,(O.flags?L:v(L))!==O.check){N.msg="incorrect data check",O.mode=30;break}H=L=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;H<32;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if(L!==(4294967295&O.total)){N.msg="incorrect length check",O.mode=30;break}H=L=0}O.mode=29;case 29:he=1;break e;case 30:he=-3;break e;case 31:return-4;default:return h}return N.next_out=W,N.avail_out=z,N.next_in=q,N.avail_in=V,O.hold=L,O.bits=H,(O.wsize||Y!==N.avail_out&&O.mode<30&&(O.mode<27||M!==4))&&P(N,N.output,N.next_out,Y-N.avail_out)?(O.mode=31,-4):(B-=N.avail_in,Y-=N.avail_out,N.total_in+=B,N.total_out+=Y,O.total+=Y,O.wrap&&Y&&(N.adler=O.check=O.flags?a(O.check,U,Y,N.next_out-Y):s(O.check,U,Y,N.next_out-Y)),N.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(B==0&&Y===0||M===4)&&he===f&&(he=-5),he)},i.inflateEnd=function(N){if(!N||!N.state)return h;var M=N.state;return M.window&&(M.window=null),N.state=null,f},i.inflateGetHeader=function(N,M){var O;return N&&N.state?(2&(O=N.state).wrap)==0?h:((O.head=M).done=!1,f):h},i.inflateSetDictionary=function(N,M){var O,j=M.length;return N&&N.state?(O=N.state).wrap!==0&&O.mode!==11?h:O.mode===11&&s(1,M,j,0)!==O.check?-3:P(N,M,j,j)?(O.mode=31,-4):(O.havedict=1,f):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var o=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,d,f,h,p,m,g,v){var y,x,E,_,S,T,k,R,I,P=v.bits,N=0,M=0,O=0,j=0,U=0,q=0,W=0,V=0,z=0,L=0,H=null,B=0,Y=new o.Buf16(16),Q=new o.Buf16(16),ne=null,ce=0;for(N=0;N<=15;N++)Y[N]=0;for(M=0;M<h;M++)Y[d[f+M]]++;for(U=P,j=15;1<=j&&Y[j]===0;j--);if(j<U&&(U=j),j===0)return p[m++]=20971520,p[m++]=20971520,v.bits=1,0;for(O=1;O<j&&Y[O]===0;O++);for(U<O&&(U=O),N=V=1;N<=15;N++)if(V<<=1,(V-=Y[N])<0)return-1;if(0<V&&(c===0||j!==1))return-1;for(Q[1]=0,N=1;N<15;N++)Q[N+1]=Q[N]+Y[N];for(M=0;M<h;M++)d[f+M]!==0&&(g[Q[d[f+M]]++]=M);if(T=c===0?(H=ne=g,19):c===1?(H=s,B-=257,ne=a,ce-=257,256):(H=l,ne=u,-1),N=O,S=m,W=M=L=0,E=-1,_=(z=1<<(q=U))-1,c===1&&852<z||c===2&&592<z)return 1;for(;;){for(k=N-W,I=g[M]<T?(R=0,g[M]):g[M]>T?(R=ne[ce+g[M]],H[B+g[M]]):(R=96,0),y=1<<N-W,O=x=1<<q;p[S+(L>>W)+(x-=y)]=k<<24|R<<16|I|0,x!==0;);for(y=1<<N-1;L&y;)y>>=1;if(y!==0?(L&=y-1,L+=y):L=0,M++,--Y[N]==0){if(N===j)break;N=d[f+g[M]]}if(U<N&&(L&_)!==E){for(W===0&&(W=U),S+=O,V=1<<(q=N-W);q+W<j&&!((V-=Y[q+W])<=0);)q++,V<<=1;if(z+=1<<q,c===1&&852<z||c===2&&592<z)return 1;p[E=L&_]=U<<24|q<<16|S-m|0}}return L!==0&&(p[S+L]=N-W<<24|64<<16|0),v.bits=U,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var o=n("../utils/common"),s=0,a=1;function l(ee){for(var fe=ee.length;0<=--fe;)ee[fe]=0}var u=0,c=29,d=256,f=d+1+c,h=30,p=19,m=2*f+1,g=15,v=16,y=7,x=256,E=16,_=17,S=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(f+2));l(P);var N=new Array(2*h);l(N);var M=new Array(512);l(M);var O=new Array(256);l(O);var j=new Array(c);l(j);var U,q,W,V=new Array(h);function z(ee,fe,Re,Oe,Ae){this.static_tree=ee,this.extra_bits=fe,this.extra_base=Re,this.elems=Oe,this.max_length=Ae,this.has_stree=ee&&ee.length}function L(ee,fe){this.dyn_tree=ee,this.max_code=0,this.stat_desc=fe}function H(ee){return ee<256?M[ee]:M[256+(ee>>>7)]}function B(ee,fe){ee.pending_buf[ee.pending++]=255&fe,ee.pending_buf[ee.pending++]=fe>>>8&255}function Y(ee,fe,Re){ee.bi_valid>v-Re?(ee.bi_buf|=fe<<ee.bi_valid&65535,B(ee,ee.bi_buf),ee.bi_buf=fe>>v-ee.bi_valid,ee.bi_valid+=Re-v):(ee.bi_buf|=fe<<ee.bi_valid&65535,ee.bi_valid+=Re)}function Q(ee,fe,Re){Y(ee,Re[2*fe],Re[2*fe+1])}function ne(ee,fe){for(var Re=0;Re|=1&ee,ee>>>=1,Re<<=1,0<--fe;);return Re>>>1}function ce(ee,fe,Re){var Oe,Ae,Se=new Array(g+1),xe=0;for(Oe=1;Oe<=g;Oe++)Se[Oe]=xe=xe+Re[Oe-1]<<1;for(Ae=0;Ae<=fe;Ae++){var ke=ee[2*Ae+1];ke!==0&&(ee[2*Ae]=ne(Se[ke]++,ke))}}function le(ee){var fe;for(fe=0;fe<f;fe++)ee.dyn_ltree[2*fe]=0;for(fe=0;fe<h;fe++)ee.dyn_dtree[2*fe]=0;for(fe=0;fe<p;fe++)ee.bl_tree[2*fe]=0;ee.dyn_ltree[2*x]=1,ee.opt_len=ee.static_len=0,ee.last_lit=ee.matches=0}function ue(ee){8<ee.bi_valid?B(ee,ee.bi_buf):0<ee.bi_valid&&(ee.pending_buf[ee.pending++]=ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0}function ae(ee,fe,Re,Oe){var Ae=2*fe,Se=2*Re;return ee[Ae]<ee[Se]||ee[Ae]===ee[Se]&&Oe[fe]<=Oe[Re]}function te(ee,fe,Re){for(var Oe=ee.heap[Re],Ae=Re<<1;Ae<=ee.heap_len&&(Ae<ee.heap_len&&ae(fe,ee.heap[Ae+1],ee.heap[Ae],ee.depth)&&Ae++,!ae(fe,Oe,ee.heap[Ae],ee.depth));)ee.heap[Re]=ee.heap[Ae],Re=Ae,Ae<<=1;ee.heap[Re]=Oe}function se(ee,fe,Re){var Oe,Ae,Se,xe,ke=0;if(ee.last_lit!==0)for(;Oe=ee.pending_buf[ee.d_buf+2*ke]<<8|ee.pending_buf[ee.d_buf+2*ke+1],Ae=ee.pending_buf[ee.l_buf+ke],ke++,Oe===0?Q(ee,Ae,fe):(Q(ee,(Se=O[Ae])+d+1,fe),(xe=T[Se])!==0&&Y(ee,Ae-=j[Se],xe),Q(ee,Se=H(--Oe),Re),(xe=k[Se])!==0&&Y(ee,Oe-=V[Se],xe)),ke<ee.last_lit;);Q(ee,x,fe)}function we(ee,fe){var Re,Oe,Ae,Se=fe.dyn_tree,xe=fe.stat_desc.static_tree,ke=fe.stat_desc.has_stree,me=fe.stat_desc.elems,Me=-1;for(ee.heap_len=0,ee.heap_max=m,Re=0;Re<me;Re++)Se[2*Re]!==0?(ee.heap[++ee.heap_len]=Me=Re,ee.depth[Re]=0):Se[2*Re+1]=0;for(;ee.heap_len<2;)Se[2*(Ae=ee.heap[++ee.heap_len]=Me<2?++Me:0)]=1,ee.depth[Ae]=0,ee.opt_len--,ke&&(ee.static_len-=xe[2*Ae+1]);for(fe.max_code=Me,Re=ee.heap_len>>1;1<=Re;Re--)te(ee,Se,Re);for(Ae=me;Re=ee.heap[1],ee.heap[1]=ee.heap[ee.heap_len--],te(ee,Se,1),Oe=ee.heap[1],ee.heap[--ee.heap_max]=Re,ee.heap[--ee.heap_max]=Oe,Se[2*Ae]=Se[2*Re]+Se[2*Oe],ee.depth[Ae]=(ee.depth[Re]>=ee.depth[Oe]?ee.depth[Re]:ee.depth[Oe])+1,Se[2*Re+1]=Se[2*Oe+1]=Ae,ee.heap[1]=Ae++,te(ee,Se,1),2<=ee.heap_len;);ee.heap[--ee.heap_max]=ee.heap[1],(function(ze,Xe){var tt,gt,qt,zt,_n,$t,dn=Xe.dyn_tree,Vn=Xe.max_code,Ln=Xe.stat_desc.static_tree,Tr=Xe.stat_desc.has_stree,Xn=Xe.stat_desc.extra_bits,mr=Xe.stat_desc.extra_base,En=Xe.stat_desc.max_length,nn=0;for(zt=0;zt<=g;zt++)ze.bl_count[zt]=0;for(dn[2*ze.heap[ze.heap_max]+1]=0,tt=ze.heap_max+1;tt<m;tt++)En<(zt=dn[2*dn[2*(gt=ze.heap[tt])+1]+1]+1)&&(zt=En,nn++),dn[2*gt+1]=zt,Vn<gt||(ze.bl_count[zt]++,_n=0,mr<=gt&&(_n=Xn[gt-mr]),$t=dn[2*gt],ze.opt_len+=$t*(zt+_n),Tr&&(ze.static_len+=$t*(Ln[2*gt+1]+_n)));if(nn!==0){do{for(zt=En-1;ze.bl_count[zt]===0;)zt--;ze.bl_count[zt]--,ze.bl_count[zt+1]+=2,ze.bl_count[En]--,nn-=2}while(0<nn);for(zt=En;zt!==0;zt--)for(gt=ze.bl_count[zt];gt!==0;)Vn<(qt=ze.heap[--tt])||(dn[2*qt+1]!==zt&&(ze.opt_len+=(zt-dn[2*qt+1])*dn[2*qt],dn[2*qt+1]=zt),gt--)}})(ee,fe),ce(Se,Me,ee.bl_count)}function X(ee,fe,Re){var Oe,Ae,Se=-1,xe=fe[1],ke=0,me=7,Me=4;for(xe===0&&(me=138,Me=3),fe[2*(Re+1)+1]=65535,Oe=0;Oe<=Re;Oe++)Ae=xe,xe=fe[2*(Oe+1)+1],++ke<me&&Ae===xe||(ke<Me?ee.bl_tree[2*Ae]+=ke:Ae!==0?(Ae!==Se&&ee.bl_tree[2*Ae]++,ee.bl_tree[2*E]++):ke<=10?ee.bl_tree[2*_]++:ee.bl_tree[2*S]++,Se=Ae,Me=(ke=0)===xe?(me=138,3):Ae===xe?(me=6,3):(me=7,4))}function he(ee,fe,Re){var Oe,Ae,Se=-1,xe=fe[1],ke=0,me=7,Me=4;for(xe===0&&(me=138,Me=3),Oe=0;Oe<=Re;Oe++)if(Ae=xe,xe=fe[2*(Oe+1)+1],!(++ke<me&&Ae===xe)){if(ke<Me)for(;Q(ee,Ae,ee.bl_tree),--ke!=0;);else Ae!==0?(Ae!==Se&&(Q(ee,Ae,ee.bl_tree),ke--),Q(ee,E,ee.bl_tree),Y(ee,ke-3,2)):ke<=10?(Q(ee,_,ee.bl_tree),Y(ee,ke-3,3)):(Q(ee,S,ee.bl_tree),Y(ee,ke-11,7));Se=Ae,Me=(ke=0)===xe?(me=138,3):Ae===xe?(me=6,3):(me=7,4)}}l(V);var ge=!1;function re(ee,fe,Re,Oe){Y(ee,(u<<1)+(Oe?1:0),3),(function(Ae,Se,xe,ke){ue(Ae),B(Ae,xe),B(Ae,~xe),o.arraySet(Ae.pending_buf,Ae.window,Se,xe,Ae.pending),Ae.pending+=xe})(ee,fe,Re)}i._tr_init=function(ee){ge||((function(){var fe,Re,Oe,Ae,Se,xe=new Array(g+1);for(Ae=Oe=0;Ae<c-1;Ae++)for(j[Ae]=Oe,fe=0;fe<1<<T[Ae];fe++)O[Oe++]=Ae;for(O[Oe-1]=Ae,Ae=Se=0;Ae<16;Ae++)for(V[Ae]=Se,fe=0;fe<1<<k[Ae];fe++)M[Se++]=Ae;for(Se>>=7;Ae<h;Ae++)for(V[Ae]=Se<<7,fe=0;fe<1<<k[Ae]-7;fe++)M[256+Se++]=Ae;for(Re=0;Re<=g;Re++)xe[Re]=0;for(fe=0;fe<=143;)P[2*fe+1]=8,fe++,xe[8]++;for(;fe<=255;)P[2*fe+1]=9,fe++,xe[9]++;for(;fe<=279;)P[2*fe+1]=7,fe++,xe[7]++;for(;fe<=287;)P[2*fe+1]=8,fe++,xe[8]++;for(ce(P,f+1,xe),fe=0;fe<h;fe++)N[2*fe+1]=5,N[2*fe]=ne(fe,5);U=new z(P,T,d+1,f,g),q=new z(N,k,0,h,g),W=new z(new Array(0),R,0,p,y)})(),ge=!0),ee.l_desc=new L(ee.dyn_ltree,U),ee.d_desc=new L(ee.dyn_dtree,q),ee.bl_desc=new L(ee.bl_tree,W),ee.bi_buf=0,ee.bi_valid=0,le(ee)},i._tr_stored_block=re,i._tr_flush_block=function(ee,fe,Re,Oe){var Ae,Se,xe=0;0<ee.level?(ee.strm.data_type===2&&(ee.strm.data_type=(function(ke){var me,Me=4093624447;for(me=0;me<=31;me++,Me>>>=1)if(1&Me&&ke.dyn_ltree[2*me]!==0)return s;if(ke.dyn_ltree[18]!==0||ke.dyn_ltree[20]!==0||ke.dyn_ltree[26]!==0)return a;for(me=32;me<d;me++)if(ke.dyn_ltree[2*me]!==0)return a;return s})(ee)),we(ee,ee.l_desc),we(ee,ee.d_desc),xe=(function(ke){var me;for(X(ke,ke.dyn_ltree,ke.l_desc.max_code),X(ke,ke.dyn_dtree,ke.d_desc.max_code),we(ke,ke.bl_desc),me=p-1;3<=me&&ke.bl_tree[2*I[me]+1]===0;me--);return ke.opt_len+=3*(me+1)+5+5+4,me})(ee),Ae=ee.opt_len+3+7>>>3,(Se=ee.static_len+3+7>>>3)<=Ae&&(Ae=Se)):Ae=Se=Re+5,Re+4<=Ae&&fe!==-1?re(ee,fe,Re,Oe):ee.strategy===4||Se===Ae?(Y(ee,2+(Oe?1:0),3),se(ee,P,N)):(Y(ee,4+(Oe?1:0),3),(function(ke,me,Me,ze){var Xe;for(Y(ke,me-257,5),Y(ke,Me-1,5),Y(ke,ze-4,4),Xe=0;Xe<ze;Xe++)Y(ke,ke.bl_tree[2*I[Xe]+1],3);he(ke,ke.dyn_ltree,me-1),he(ke,ke.dyn_dtree,Me-1)})(ee,ee.l_desc.max_code+1,ee.d_desc.max_code+1,xe+1),se(ee,ee.dyn_ltree,ee.dyn_dtree)),le(ee),Oe&&ue(ee)},i._tr_tally=function(ee,fe,Re){return ee.pending_buf[ee.d_buf+2*ee.last_lit]=fe>>>8&255,ee.pending_buf[ee.d_buf+2*ee.last_lit+1]=255&fe,ee.pending_buf[ee.l_buf+ee.last_lit]=255&Re,ee.last_lit++,fe===0?ee.dyn_ltree[2*Re]++:(ee.matches++,fe--,ee.dyn_ltree[2*(O[Re]+d+1)]++,ee.dyn_dtree[2*H(fe)]++),ee.last_lit===ee.lit_bufsize-1},i._tr_align=function(ee){Y(ee,2,3),Q(ee,x,P),(function(fe){fe.bi_valid===16?(B(fe,fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0):8<=fe.bi_valid&&(fe.pending_buf[fe.pending++]=255&fe.bi_buf,fe.bi_buf>>=8,fe.bi_valid-=8)})(ee)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(o){(function(s,a){if(!s.setImmediate){var l,u,c,d,f=1,h={},p=!1,m=s.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(s);g=g&&g.setTimeout?g:s,l={}.toString.call(s.process)==="[object process]"?function(E){process.nextTick(function(){y(E)})}:(function(){if(s.postMessage&&!s.importScripts){var E=!0,_=s.onmessage;return s.onmessage=function(){E=!1},s.postMessage("","*"),s.onmessage=_,E}})()?(d="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",x,!1):s.attachEvent("onmessage",x),function(E){s.postMessage(d+E,"*")}):s.MessageChannel?((c=new MessageChannel).port1.onmessage=function(E){y(E.data)},function(E){c.port2.postMessage(E)}):m&&"onreadystatechange"in m.createElement("script")?(u=m.documentElement,function(E){var _=m.createElement("script");_.onreadystatechange=function(){y(E),_.onreadystatechange=null,u.removeChild(_),_=null},u.appendChild(_)}):function(E){setTimeout(y,0,E)},g.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var _=new Array(arguments.length-1),S=0;S<_.length;S++)_[S]=arguments[S+1];var T={callback:E,args:_};return h[f]=T,l(f),f++},g.clearImmediate=v}function v(E){delete h[E]}function y(E){if(p)setTimeout(y,0,E);else{var _=h[E];if(_){p=!0;try{(function(S){var T=S.callback,k=S.args;switch(k.length){case 0:T();break;case 1:T(k[0]);break;case 2:T(k[0],k[1]);break;case 3:T(k[0],k[1],k[2]);break;default:T.apply(a,k)}})(_)}finally{v(E),p=!1}}}}function x(E){E.source===s&&typeof E.data=="string"&&E.data.indexOf(d)===0&&y(+E.data.slice(d.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof xi<"u"?xi:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(xB)),xB.exports}var SVt=EVt();const rA=Qo(SVt);async function TVt({storageEngine:e,participantId:t,identifier:n,audioUrl:r}){const i=r||await e.getAudioUrl(n,t);if(i){const s=await(await fetch(i)).blob(),a=URL.createObjectURL(s);Object.assign(document.createElement("a"),{href:a,download:`${t}_${n}_audio.webm`}).click(),URL.revokeObjectURL(a)}const o=await e.getTranscriptUrl(n,t);if(o){const s=await(await fetch(o)).blob(),a=URL.createObjectURL(s);Object.assign(document.createElement("a"),{href:a,download:`${t}_${n}_transcript.txt`}).click(),URL.revokeObjectURL(a)}}async function kVt({storageEngine:e,participantId:t,identifier:n,screenRecordingUrl:r}){const i=r||await e.getScreenRecording(n,t);if(i){const o=await(await fetch(i)).blob(),s=URL.createObjectURL(o);Object.assign(document.createElement("a"),{href:s,download:`${t}_${n}_screenRecording.webm`}).click(),URL.revokeObjectURL(s)}}async function Hq(e,t,n){if(n){const i=await(await fetch(n)).blob();e.file(t,i)}}async function iA(e,t){const n=await e.generateAsync({type:"blob"}),r=URL.createObjectURL(n);Object.assign(document.createElement("a"),{href:r,download:t}).click(),URL.revokeObjectURL(r)}async function AVt({storageEngine:e,participantId:t,identifier:n,namePrefix:r,zip:i}){const o=i||new rA;try{const s=await e.getAudioUrl(n,t);await Hq(o,`${r}_${t}_${n}.webm`,s);const a=await e.getTranscriptUrl(n,t);await Hq(o,`${r}_${t}_${n}_transcript.txt`,a),i||iA(o,`${r}_${t}_${n}_audio.zip`)}catch(s){console.warn(`Failed to fetch files for ${n}:`,s)}}async function RVt({storageEngine:e,participants:t,studyId:n,fileName:r}){const i=r||n,o=new rA,s=t.flatMap(a=>Object.values(a.answers).filter(u=>u.endTime>0).sort((u,c)=>u.startTime-c.startTime).map(async u=>{const c=`${u.componentName}_${u.trialOrder}`;await AVt({storageEngine:e,participantId:a.participantId,identifier:c,namePrefix:i,zip:o})}));await Promise.all(s),await iA(o,`${i}_audio.zip`)}async function IVt({storageEngine:e,participantId:t,identifier:n,namePrefix:r,zip:i}){const o=i||new rA;try{const s=await e.getScreenRecording(n,t);await Hq(o,`${r}_${t}_${n}.webm`,s),i||iA(o,`${r}_${t}_${n}_screenRecording.zip`)}catch(s){console.warn(`Failed to fetch files for ${n}:`,s)}}async function DVt({storageEngine:e,participants:t,studyId:n,fileName:r}){const i=r||n,o=new rA,s=t.flatMap(a=>Object.values(a.answers).filter(u=>u.endTime>0).sort((u,c)=>u.startTime-c.startTime).map(async u=>{const c=`${u.componentName}_${u.trialOrder}`;await IVt({storageEngine:e,participantId:a.participantId,identifier:c,namePrefix:i,zip:o})}));await Promise.all(s),await iA(o,`${i}_screenRecording.zip`)}async function PVt({studyId:e,hash:t,config:n}){const r=JSON.stringify(n,null,2),i=new Blob([r],{type:"application/json"}),o=URL.createObjectURL(i);Object.assign(document.createElement("a"),{href:o,download:`${e}_${t}_config.json`}).click(),URL.revokeObjectURL(o)}async function OVt({studyId:e,configs:t,hashes:n}){const r=new rA;n.forEach(i=>{const o=t.find(s=>s.hash===i);o&&r.file(`${e}_${i}_config.json`,JSON.stringify(o.config,null,2))}),await iA(r,`${e}_config.zip`)}function J4e({selectedParticipants:e=[],refresh:t,footer:n=!1}){const{storageEngine:r}=ri(),{user:i}=X0(),{studyId:o}=$o(),[s]=uu(),a=A.useMemo(()=>s.get("participantId")||void 0,[s]),[l,u]=A.useState(null);A.useEffect(()=>{async function k(){if(r&&a&&o){const R=await r.getParticipantData(a);u(R)}else u(null)}k()},[r,a,o]);const c=A.useCallback(async()=>{if(r&&a&&o){const k=await r.getParticipantData(a);u(k)}},[r,a,o]),[d,f]=A.useState(!1),[h,p]=A.useState(!1),[m,g]=A.useState(""),v=A.useMemo(()=>[...e,l].filter(k=>k!==null),[e,l]),y=A.useMemo(()=>v.filter(k=>k.rejected).length,[v]),x=A.useMemo(()=>v.filter(k=>!k.rejected).length,[v]),E=A.useCallback(async(k,R)=>{if(r&&o){const I=R===""?"Rejected by admin":R;await r.rejectParticipant(k,I)}},[r,o]),_=A.useCallback(async k=>{r&&o&&await r.undoRejectParticipant(k)},[r,o]),S=A.useCallback(async()=>{if(f(!1),v.length>0){const R=v.filter(I=>!I.rejected).map(async I=>await E(I.participantId,m));await Promise.all(R)}else await E(a||"",m);t&&await t(),l&&await c(),g("")},[v,t,l,E,m,a,c]),T=A.useCallback(async()=>{if(p(!1),v.length>0){const k=v.map(async R=>await _(R.participantId));await Promise.all(k)}else await _(a||""),await c();t&&await t(),l&&await c()},[v,t,l,_,a,c]);return b.jsxs(b.Fragment,{children:[y>0&&b.jsx(ct,{label:"Only admins can undo rejection",disabled:i.isAdmin,children:b.jsxs(Mt,{disabled:!i.isAdmin,onClick:()=>p(!0),color:"blue",children:["Undo Reject",n?"":` Participants (${y})`]})}),x>0&&b.jsx(ct,{label:"Only admins can reject participants",disabled:i.isAdmin,children:b.jsxs(Mt,{disabled:!i.isAdmin,onClick:()=>f(!0),color:"red",children:["Reject",n?"":` Participants (${x})`]})}),b.jsxs(ni,{opened:d,onClose:()=>f(!1),title:x>0?`Reject Participants (${x})`:"Reject Participant",children:[b.jsxs(ml,{icon:b.jsx(Du,{size:16}),title:"Warning",color:"orange",mb:"md",children:[v.length>0&&y>0&&b.jsxs(b.Fragment,{children:[y," ","of your"," ",v.length," ","selected participant",v.length===1?"":"s"," ",y===1?"has":"have"," ","already been rejected. Clicking reject participants will now reject the other"," ",x,".",b.jsx("br",{}),b.jsx("br",{})]}),"When participants are rejected, their sequences will be reassigned to other participants."]}),b.jsx(fl,{label:"Please enter the reason for rejection.",onChange:k=>g(k.target.value)}),b.jsxs(lt,{mt:"sm",justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{f(!1),g("")},children:"Cancel"}),b.jsx(Mt,{color:"red",onClick:S,children:v.length>0?"Reject Participants":"Reject Participant"})]})]}),b.jsxs(ni,{opened:h,onClose:()=>p(!1),title:b.jsx($e,{children:`Undo Reject Participants (${v.length})`}),children:[b.jsx(ml,{icon:b.jsx(Du,{size:16}),title:"Warning",color:"orange",mb:"md",children:"When you undo participant rejections, you may end up with unbalanced latin squares. This is because the rejected sequence may have been reassigned."}),v.length>0?b.jsx($e,{children:"Are you sure you want to undo the rejection of these participants?"}):b.jsxs(b.Fragment,{children:[b.jsx($e,{children:"The participant has been rejected."}),b.jsxs($e,{children:["Reason:"," ",l?.rejected&&typeof l.rejected=="object"?l.rejected.reason:"No reason provided"]})]}),b.jsxs(lt,{mt:"sm",justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"dark",onClick:()=>p(!1),children:"Cancel"}),b.jsx(Mt,{color:"blue",onClick:T,children:v.length>0?"Undo Reject Participants":"Undo Reject Participant"})]})]})]})}const CB={left:5,right:5};function NVt(e,t){return t?t.getParticipantData(e):null}async function MVt(e,t,n,r){return r&&t?await r.getAllParticipantAndTaskTags(e,t):null}async function $me(e,t){if(e){const n=await e.getTags(t);return Array.isArray(n)?n:[]}return[]}function Z4e({visibleParticipants:e,rawTranscript:t,currentShownTranscription:n,width:r,onTimeUpdate:i,isReplay:o,editedTranscript:s,currentTrial:a,saveProvenance:l,jumpedToLine:u=0,studyId:c,setHasAudio:d,storageEngine:f}){const h=X0(),[p,m]=uu(),g=fa(),v=da(),y=A.useMemo(()=>p.get("participantId")||"",[p]),{value:x}=_c(NVt,[y,f]),{value:E,execute:_}=_c($me,[f,"task"]),{value:S,execute:T}=_c($me,[f,"participant"]),{isPlaying:k,setIsPlaying:R,speed:I,setSpeed:P,setSeekTime:N,hasEnded:M}=c$(),[O,j]=A.useState(null),[U,q]=A.useState(null);A.useEffect(()=>{async function Se(){if(!f||!y||!a){j(null);return}try{const xe=await f.getAudioUrl(a,y);j(xe)}catch{j(null)}try{const xe=await f.getScreenRecording(a,y);q(xe)}catch{q(null)}}Se()},[f,y,a]);const W=A.useCallback(async()=>{!f||!y||!a||await TVt({storageEngine:f,participantId:y,identifier:a,audioUrl:O})},[f,y,a,O]),V=A.useCallback(async()=>{!f||!y||!a||await kVt({storageEngine:f,participantId:y,identifier:a,screenRecordingUrl:U})},[f,y,a,U]),[z,L]=A.useState(null),{value:H,execute:B}=_c(MVt,[h.user.user?.email||"temp",y,c,f]),[Y,Q]=A.useState();A.useEffect(()=>{H&&Q(H)},[H]);const ne=A.useMemo(()=>a.includes("__dynamicLoading")?"":x?.answers[a]?.componentName??"",[a,x]),ce=A.useMemo(()=>{if(!x||!x.answers[a])return null;const Se=Object.values(x.answers||{}).map(me=>[me.startTime,me.endTime]).flat(),xe=TSe(Se);return Jv([CB.left,r+CB.left+CB.right]).domain(a?[x.answers[a].startTime,x.answers[a].endTime]:xe).clamp(!0)},[x,a,r]);A.useEffect(()=>{const Se=[];if(!s||s.length===0){L(null);return}s.forEach((xe,ke)=>{t&&(ke===0||xe.transcriptMappingStart!==s[ke-1].transcriptMappingStart)&&Se.push({start:ke===0?0:t.results[xe.transcriptMappingStart-1].resultEndTime,end:ke===s.length-1?t.results[xe.transcriptMappingEnd].resultEndTime+500:t.results[xe.transcriptMappingEnd].resultEndTime,lineStart:xe.transcriptMappingStart,lineEnd:xe.transcriptMappingEnd,tags:s.filter(me=>me.transcriptMappingStart===xe.transcriptMappingStart&&me.transcriptMappingEnd===xe.transcriptMappingEnd).map(me=>me.selectedTags)})}),L(Se)},[s,L,t]);const le=A.useCallback(Se=>{let xe=e.findIndex(ke=>ke===y)+Se;xe>=e.length?xe=0:xe<0&&(xe=e.length-1),xv.postMessage({key:"participantId",value:e[xe]}),m(ke=>(ke.set("participantId",e[xe]||""),ke.delete("currentTrial"),ke))},[y,m,e]),ue=A.useMemo(()=>{if(!x)return[];const Se=Object.values(x.answers);return Se.sort((xe,ke)=>{const me=Lp(xe.trialOrder),Me=Lp(ke.trialOrder);return me.step!==Me.step?(me.step??Number.MAX_SAFE_INTEGER)-(Me.step??Number.MAX_SAFE_INTEGER):me.funcIndex!==Me.funcIndex?(me.funcIndex??-1)-(Me.funcIndex??-1):xe.identifier.localeCompare(ke.identifier)}),Se},[x]),ae=A.useCallback(Se=>{if(!x)return;const xe=x.answers[Se];if(!xe)return;const{step:ke,funcIndex:me}=Lp(xe.trialOrder);if(ke===null)return;const Me=o?me===null?`/${c}/${di(ke)}`:`/${c}/${di(ke)}/${di(me)}`:`/analysis/stats/${c}/tagging/${encodeURIComponent(Se)}`;g({pathname:Me,search:v.search}),xe.trialOrder&&xv.postMessage({key:"trialOrder",value:xe.trialOrder})},[o,v.search,g,x,c]),te=A.useCallback(Se=>{if(!a||ue.length===0)return;const xe=ue.findIndex(me=>me.identifier===a);if(xe===-1){const me=Se>=0?0:ue.length-1;ae(ue[me].identifier);return}let ke=xe+Se;ke>=ue.length?ke=0:ke<0&&(ke=ue.length-1),ae(ue[ke].identifier)},[a,ae,ue]),se=A.useCallback((Se,xe)=>{f&&f.saveTags(Se,xe).then(()=>{xe==="task"?_(f,xe):T(f,xe)})},[T,_,f]),we=A.useCallback((Se,xe)=>{if(!E)return;const ke=E.findIndex(Me=>Me.id===Se.id),me=Array.from(E);me[ke]=xe,se(me,"task")},[se,E]),X=A.useCallback((Se,xe)=>{if(!S)return;const ke=S.findIndex(Me=>Me.id===Se.id),me=Array.from(S);me[ke]=xe,se(me,"participant")},[se,S]),he=A.useCallback(Se=>{se([...E||[],Se],"task")},[se,E]),ge=A.useCallback(Se=>{se([...E||[],Se],"participant")},[se,E]);A.useEffect(()=>{const Se=z&&z[u]?.start||0;N(Se+.001)},[u,z,N]);const[re,ee]=A.useState(""),fe=A.useMemo(()=>{const Se=x?.answers[a];return Se?.provenanceGraph?gVt(Object.values(Se.provenanceGraph)):new Map},[x,a]),Re=A.useMemo(()=>ue.map(Se=>({label:Se.componentName,value:Se.identifier})),[ue]),Oe=A.useMemo(()=>`${Hi}analysis/stats/${c}/tagging${a?`/${encodeURIComponent(a)}`:""}?participantId=${y}&revisitPageId=${Nq}`,[a,y,c]),Ae=A.useMemo(()=>{const{step:Se,funcIndex:xe}=Lp(x?.answers[a]?.trialOrder),ke=Se??0,me=xe===null?"":`/${di(xe)}`;return`${Hi}${c}/${di(ke)}${me}?participantId=${y}&revisitPageId=${Nq}`},[a,x,y,c]);return b.jsxs(Ri.Footer,{zIndex:101,withBorder:!1,children:[a&&x&&ne===""&&b.jsx("div",{style:{position:"absolute",top:-5,left:5,transform:"translateY(-100%)"},children:b.jsx(ml,{variant:"filled",color:"red",title:"Participant hasn't completed any tasks.",icon:b.jsx(Rc,{})})}),b.jsxs(Nn,{style:{backgroundColor:"var(--mantine-color-blue-1)",height:"100%"},gap:5,justify:"center",children:[x&&a&&(!x.answers[a]||x.answers[a].endTime===-1)?b.jsx(Ha,{children:b.jsx($e,{c:"dimmed",children:`Participant ${x.participantId} has not completed this task`})}):null,b.jsx(wVt,{setHasAudio:d,saveProvenance:l,setTime:i,setTimeString:Se=>ee(Se),answers:x?x.answers:{},taskName:a,context:o?"provenanceVis":"audioAnalysis"}),ce&&z?b.jsx(xVt,{startTime:ce.domain()[0],xScale:ce,transcriptLines:z,currentShownTranscription:n||0}):null,b.jsxs(ln,{gap:"xs",style:{width:"100%"},justify:"center",wrap:"nowrap",children:[b.jsxs(ln,{wrap:"nowrap",children:[b.jsx($e,{ff:"monospace",style:{textAlign:"right"},mt:"lg",c:"dimmed",children:re}),b.jsx(ct,{label:M?"Restart":k?"Pause":"Play",children:b.jsx(on,{mt:25,size:"lg",variant:"light",onClick:()=>{R(!k)},children:M?b.jsx(nXe,{}):k?b.jsx($Xe,{}):b.jsx(FXe,{})})}),b.jsxs(Cr,{styles:{dropdown:{padding:0}},position:"bottom",withArrow:!0,shadow:"md",children:[b.jsx(Cr.Target,{children:b.jsx(ct,{label:"Speed",children:b.jsx(on,{style:{width:"50px"},mt:25,variant:"light",children:`${I}x`})})}),b.jsxs(Cr.Dropdown,{children:[b.jsx(JW,{value:I.toString(),onChange:Se=>{P(+Se),xv.postMessage({key:"currentSpeed",value:Se})},orientation:"vertical",data:[{label:"0.5x",value:"0.5"},{label:"1x",value:"1"},{label:"1.5x",value:"1.5"},{label:"2x",value:"2"},{label:"4x",value:"4"},{label:"8x",value:"8"}]}),b.jsx(Nn,{gap:"xs"})]})]})]}),b.jsxs(ln,{wrap:"nowrap",gap:"lg",children:[b.jsx(um,{leftSection:b.jsx(ct,{label:"Previous Participant",children:b.jsx(on,{size:"sm",variant:"light",onClick:()=>le(-1),children:b.jsx(iz,{})})}),rightSection:b.jsx(ct,{label:"Next Participant",children:b.jsx(on,{size:"sm",variant:"light",onClick:()=>le(1),style:{pointerEvents:"all"},children:b.jsx(goe,{})})}),label:"Participant Id",style:{width:"200px"},value:y,onChange:Se=>{m(xe=>(xe.set("participantId",Se||""),xe.delete("currentTrial"),xe)),xv.postMessage({key:"participantId",value:Se||""})},data:e.map(Se=>Se).sort(),searchable:!0}),b.jsxs(Nn,{gap:"4",children:[b.jsxs(ln,{gap:"xs",align:"center",children:[b.jsx($e,{size:"sm",fw:500,children:"Participant Tags"}),b.jsx(ct,{w:300,multiline:!0,label:"Participant tags allow you to categorize or label the participant. Click in the box to add, create, or edit tags.",children:b.jsx(Rc,{size:16})})]}),b.jsx(Uq,{width:200,tags:S||[],editTagCallback:X,createTagCallback:ge,tagsEmptyText:"Add Participant Tags",onSelectTags:Se=>{if(f&&H){let xe=structuredClone(H);xe||(xe={participantTags:[],taskTags:{}}),xe.participantTags=Se,Q(xe),f.saveAllParticipantAndTaskTags(h.user.user?.email||"temp",y,xe).then(()=>{B(h.user.user?.email||"temp",y,c,f)})}},selectedTags:Y?Y.participantTags:[]})]}),b.jsx(um,{leftSection:b.jsx(ct,{label:"Previous Task",children:b.jsx(on,{size:"sm",variant:"light",onClick:()=>te(-1),children:b.jsx(iz,{})})}),rightSection:b.jsx(ct,{label:"Next Task",children:b.jsx(on,{size:"sm",variant:"light",onClick:()=>te(1),style:{pointerEvents:"all"},children:b.jsx(goe,{})})}),label:"Task",style:{width:"200px"},value:a,onChange:Se=>{Se&&ae(Se)},data:Re,searchable:!0}),b.jsxs(Nn,{gap:"4",children:[b.jsxs(ln,{gap:"xs",align:"center",children:[b.jsx($e,{size:"sm",fw:500,children:"Task Tags"}),b.jsx(ct,{w:300,multiline:!0,label:"Task tags allow you to categorize or label the current task. Click in the box to add, create, or edit tags.",children:b.jsx(Rc,{size:16})})]}),b.jsx(Uq,{width:200,tags:E||[],editTagCallback:we,createTagCallback:he,tagsEmptyText:"Add Task Tags",onSelectTags:Se=>{if(f&&H){let xe=structuredClone(H);xe||(xe={participantTags:[],taskTags:{}}),xe.taskTags[a]=Se,Q(xe),f.saveAllParticipantAndTaskTags(h.user.user?.email||"temp",y,xe).then(()=>{B(h.user.user?.email||"temp",y,c,f)})}},selectedTags:Y?Y.taskTags[a]||[]:[]})]})]}),b.jsx(Mt,{mt:"lg",variant:"light",component:"a",href:o?Oe:Ae,target:"_blank",children:o?"Transcript":"Replay"}),b.jsxs(ln,{mt:"lg",children:[O&&b.jsx(ct,{label:"Download audio",children:b.jsx(on,{variant:"light",size:30,onClick:W,children:b.jsx(Nwe,{})})}),U&&b.jsx(ct,{label:"Download screen recording",children:b.jsx(on,{variant:"filled",size:30,onClick:V,children:b.jsx(Awe,{})})}),b.jsx(J4e,{selectedParticipants:[],footer:!0})]}),fe.size>1&&b.jsxs(hh,{width:160,position:"top",withArrow:!0,shadow:"md",children:[b.jsx(hh.Target,{children:b.jsx(on,{c:"",size:"lg",variant:"light",mt:"lg",style:{cursor:"default"},children:b.jsx(UKe,{})})}),b.jsx(hh.Dropdown,{children:b.jsx(Nn,{gap:6,children:Array.from(fe.entries()).map(([Se,xe])=>b.jsxs(ln,{gap:8,children:[b.jsx(Sh,{color:xe.color,size:12}),b.jsx("span",{style:{fontSize:12},children:xe.label})]},Se))})})]})]})]})]})}async function $Vt(e){return e?await e.getAllParticipantIds():null}function LVt({setHasAudio:e}){const{storageEngine:t}=ri(),{value:n}=_c($Vt,[t]),r=Fm(),i=bo(),{studyId:o}=$o(),{saveAnalysisState:s}=Qi(),a=A.useCallback(l=>i(s(l)),[i,s]);return b.jsx(Z4e,{storageEngine:t,setHasAudio:e,studyId:o||"",currentTrial:r,isReplay:!0,visibleParticipants:n||[],rawTranscript:null,currentShownTranscription:null,width:3e3,onTimeUpdate:()=>{},saveProvenance:a})}function FVt(){const e=Ya(),{minWidth:t,minHeight:n}=e.studyRules?.display??{},[r,i]=A.useState(!1),[o,s]=A.useState(!1),[a,l]=A.useState(60),[u,c]=A.useState(!1),[d,f]=A.useState({width:0,height:0}),h=A.useRef(null),{storageEngine:p}=ri(),m=ff(),g=fa();return A.useEffect(()=>{const v=()=>{if(f({width:window.innerWidth,height:window.innerHeight}),t===void 0||n===void 0)return;const y=window.innerWidth<t,x=window.innerHeight<n,E=y||x,_=()=>{l(60),h.current&&(clearInterval(h.current),h.current=null),h.current=setInterval(()=>{l(S=>S<=1?(h.current&&(clearInterval(h.current),h.current=null),p&&!o&&(s(!0),c(!0),p.rejectCurrentParticipant("Screen resolution too small").catch(()=>{console.error("Failed to reject participant who failed training")})),0):S-1)},1e3)};o||(E?(i(!0),_()):(i(!1),h.current&&(clearInterval(h.current),h.current=null)))};return v(),window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v),h.current&&clearInterval(h.current)}},[t,n,p,m,g,o]),r?b.jsx(ni,{opened:r,onClose:()=>{},fullScreen:!0,withCloseButton:!1,children:b.jsxs(Nn,{align:"center",justify:"center",children:[b.jsx(Du,{size:64,color:"orange"}),b.jsx(gr,{order:3,children:" Screen Resolution Warning "}),b.jsx($e,{size:"md",ta:"center",children:u?b.jsxs(b.Fragment,{children:["Thank you for participating in this study. You have been timed out and will not be able to continue.",b.jsx("br",{}),"You may now close this page."]}):b.jsxs(b.Fragment,{children:["Your screen resolution is below the minimum requirement:",b.jsx("br",{}),t!==void 0&&` Width: ${t}px`,n!==void 0&&` Height: ${n}px`,b.jsx("br",{}),`Detected: Width: ${d.width}px Height: ${d.height}px`,b.jsx("br",{}),"Please resize your browser window to the minimum required size within"," ",a," ","seconds."]})})]})}):null}function jVt(){return b.jsx(ni,{opened:!0,onClose:()=>{},fullScreen:!0,withCloseButton:!1,children:b.jsxs(Nn,{align:"center",justify:"center",children:[b.jsx(Du,{size:64,color:"orange"}),b.jsx(gr,{order:3,children:" Screen Recording Stopped "}),b.jsx($e,{size:"md",ta:"center",children:b.jsxs(b.Fragment,{children:["Thank you for participating in this study. Screen recording was stopped and you will not be able to continue.",b.jsx("br",{}),"You may now close this page."]})})]})})}function BVt(){const e=navigator.userAgent.toLowerCase();let t="unknown",n=0;return e.includes("chrome")&&!e.includes("edg")&&!e.includes("opr")?(t="chrome",n=parseInt(e.match(/chrome\/(\d+)/)?.[1]||"0",10)):e.includes("firefox")?(t="firefox",n=parseInt(e.match(/firefox\/(\d+)/)?.[1]||"0",10)):e.includes("safari")&&!e.includes("chrome")?(t="safari",n=parseInt(e.match(/version\/(\d+)/)?.[1]||"0",10)):e.includes("edg")&&(t="edge",n=parseInt(e.match(/edg\/(\d+)/)?.[1]||"0",10)),{name:t,version:n}}function zVt(){const e=navigator.userAgent.toLowerCase(),t=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,n=/iphone|ipod|android.*mobile|windows phone|blackberry|opera mini/.test(e),r=/ipad|tablet/.test(e)||/android/.test(e)&&!/mobile/.test(e)||t;return n?"mobile":r?"tablet":"desktop"}function UVt(){const e=[];return window.matchMedia("(pointer:fine)").matches&&e.push("mouse"),("ontouchstart"in window||navigator.maxTouchPoints>0)&&e.push("touch"),e}function HVt(e){const[t,n]=A.useState(!0),[r,i]=A.useState(!0),[o,s]=A.useState(!0);return A.useEffect(()=>{const a=BVt(),l=zVt(),u=UVt();e&&(e.browsers?.allowed?.length&&(e.browsers.allowed.some(d=>d.name===a.name&&a.version>=(d.minVersion??0))||n(!1)),e.devices?.allowed?.length&&(e.devices.allowed.includes(l)||i(!1)),e.inputs?.allowed?.length&&(u.some(d=>e.inputs.allowed.includes(d))||s(!1)))},[e]),{isBrowserAllowed:t,isDeviceAllowed:r,isInputAllowed:o}}function qVt(){const e=Ya(),{browsers:t,devices:n,inputs:r}=e.studyRules??{},{isBrowserAllowed:i,isDeviceAllowed:o,isInputAllowed:s}=HVt(e.studyRules);return i&&o&&s?null:b.jsx(ni,{opened:!0,onClose:()=>{},fullScreen:!0,withCloseButton:!1,children:b.jsxs(Nn,{align:"center",justify:"center",children:[b.jsx(Du,{size:64,color:"orange"}),b.jsx(gr,{order:3,children:" Browser or Device Not Supported "}),b.jsxs(lt,{my:"lg",wrap:"wrap",justify:"center",children:[!i&&b.jsxs(Zs,{shadow:"sm",padding:"lg",radius:"md",mx:"md",my:"md",withBorder:!0,w:400,children:[b.jsx(Zs.Section,{bg:"gray.3",mb:"md",p:"md",style:{display:"flex",justifyContent:"center"},children:b.jsx(XGe,{size:48,color:"gray"})}),t?.blockedMessage?b.jsx($e,{size:"md",children:t.blockedMessage}):b.jsxs(b.Fragment,{children:[b.jsx($e,{size:"md",children:"This study only works in the following browser(s):"}),b.jsx(ji,{ml:"md",children:t?.allowed.map((a,l)=>b.jsxs(ji.Item,{children:[a.name,a.minVersion&&` v${a.minVersion} or later`]},l))})]})]}),!o&&b.jsxs(Zs,{shadow:"sm",padding:"lg",radius:"md",mx:"md",my:"md",withBorder:!0,w:400,children:[b.jsx(Zs.Section,{bg:"gray.3",mb:"md",p:"md",style:{display:"flex",justifyContent:"center"},children:b.jsx(FYe,{size:48,color:"gray"})}),n?.blockedMessage?b.jsx($e,{size:"md",children:n.blockedMessage}):b.jsxs(b.Fragment,{children:[b.jsx($e,{size:"md",children:"This study only works in the following device(s):"}),b.jsx(ji,{ml:"md",children:n?.allowed.map((a,l)=>b.jsx(ji.Item,{children:a},l))})]})]}),!s&&b.jsxs(Zs,{shadow:"sm",padding:"lg",radius:"md",mx:"md",my:"md",withBorder:!0,w:400,children:[b.jsx(Zs.Section,{bg:"gray.3",mb:"md",p:"md",style:{display:"flex",justifyContent:"center"},children:b.jsx(yKe,{size:48,color:"gray"})}),r?.blockedMessage?b.jsx($e,{size:"md",children:r.blockedMessage}):b.jsxs(b.Fragment,{children:[b.jsx($e,{size:"md",children:"This study only works on devices that support following input type(s):"}),b.jsx(ji,{ml:"md",children:r?.allowed.map((a,l)=>b.jsx(ji.Item,{children:a},l))})]})]})]}),b.jsxs($e,{size:"md",ta:"center",children:["Please reopen the study link in one of the browsers/device listed above.",b.jsx("br",{}),"Thank you for your understanding!"]})]})})}function VVt(e,t,n,r,i){return e||n?!1:t==="end"?i&&!r:!0}function WVt(e){e.preventDefault(),e.returnValue=""}const Lme=360;function GVt(){const e=A.useRef([]),t=bo(),{toggleStudyBrowser:n}=Qi(),r=df(),i=Ya(),o=pf(),s=A.useMemo(()=>ju(i.components[o]||{},i),[o,i]),a=A.useMemo(()=>s.windowEventDebounceTime??i.uiConfig.windowEventDebounceTime??100,[s,i]);FY(i?.uiConfig.stylesheetPath);const l=Hn(I=>I.showStudyBrowser),u=Hn(I=>I.modes),c=Hn(I=>I.completed),d=Zut(),f=k4e(),{isRejected:h}=d,p=Hn(I=>I.analysisHasScreenRecording),m=Hn(I=>I.analysisCanPlayScreenRecording);A.useEffect(()=>{const I=md(z=>{e.current.push([Date.now(),"focus",z.target instanceof HTMLElement?z.target.tagName:""])},a,{maxWait:a}),P=md(z=>{e.current.push([Date.now(),"input",z.data??""])},a,{maxWait:a}),N=md(z=>{e.current.push([Date.now(),"keydown",z.key])},a,{maxWait:a}),M=md(z=>{e.current.push([Date.now(),"keyup",z.key])},a,{maxWait:a}),O=md(z=>{e.current.push([Date.now(),"mousedown",[z.clientX,z.clientY]])},a,{maxWait:a}),j=md(z=>{e.current.push([Date.now(),"mouseup",[z.clientX,z.clientY]])},a,{maxWait:a}),U=md(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},a,{maxWait:a}),q=md(z=>{e.current.push([Date.now(),"mousemove",[z.clientX,z.clientY]])},a,{maxWait:a}),W=md(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},a,{maxWait:a}),V=md(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},a,{maxWait:a});return window.addEventListener("focus",I,!0),window.addEventListener("input",P),window.addEventListener("keydown",N),window.addEventListener("keyup",M),window.addEventListener("mousedown",O),window.addEventListener("mouseup",j),window.addEventListener("resize",U),window.addEventListener("mousemove",q),window.addEventListener("scroll",W),document.addEventListener("visibilitychange",V),()=>{window.removeEventListener("focus",I,!0),window.removeEventListener("input",P),window.removeEventListener("keydown",N),window.removeEventListener("keyup",M),window.removeEventListener("mousedown",O),window.removeEventListener("mouseup",j),window.removeEventListener("resize",U),window.removeEventListener("mousemove",q),window.removeEventListener("scroll",W),document.removeEventListener("visibilitychange",V)}},[]);const{developmentModeEnabled:g,dataCollectionEnabled:v}=A.useMemo(()=>u,[u]),y=A.useMemo(()=>p&&m||o==="end"?!1:s.withSidebar??i.uiConfig.withSidebar,[p,m,o,s.withSidebar,i.uiConfig.withSidebar]),x=A.useMemo(()=>s?.sidebarWidth??i.uiConfig.sidebarWidth??300,[s,i]),E=A.useMemo(()=>s.showTitleBar??i.uiConfig.showTitleBar??!0,[s,i]),_=A.useMemo(()=>g&&l,[g,l]),S=A.useMemo(()=>_?`max(0px, calc(100% - ${Lme}px))`:"100%",[_]),T=A.useMemo(()=>VVt(r,o,g,c,v),[r,o,g,c,v]),[k,R]=A.useState();return A.useEffect(()=>{if(!T)return;const I=P=>{WVt(P)};return window.addEventListener("beforeunload",I),()=>{window.removeEventListener("beforeunload",I)}},[T]),b.jsx(sEe.Provider,{value:e,children:b.jsx(k_e.Provider,{value:d,children:b.jsx(xee.Provider,{value:f,children:b.jsxs(Ri,{padding:"md",header:{height:E?70:0},aside:{width:Lme,breakpoint:"xs",collapsed:{desktop:!_,mobile:!_}},footer:{height:r?125+(k?55:0):0},style:{"--app-shell-aside-offset":"0rem"},children:[_&&b.jsx(Zzt,{}),E&&b.jsx(eUt,{developmentModeEnabled:g,dataCollectionEnabled:v}),b.jsx(qVt,{}),b.jsx(FVt,{}),h&&b.jsx(jVt,{}),b.jsx(nUt,{}),b.jsx(rUt,{}),b.jsx(iUt,{}),b.jsxs(lt,{direction:"row",gap:"xs",style:{width:"100%",maxWidth:S},children:[b.jsx(tUt,{width:x,top:E?70:0,sidebarOpen:y}),b.jsxs(Ri.Main,{className:"main",style:{display:"flex",flexDirection:"column"},w:y?`calc(100% - ${x}px - 10px)`:"100%",children:[!E&&!l&&g&&b.jsx(Mt,{variant:"subtle",leftSection:b.jsx(iz,{size:14}),onClick:()=>t(n()),size:"xs",style:{position:"fixed",top:"10px",right:"10px"},children:"Study Browser"}),b.jsx(kWe,{})]})]}),r&&b.jsx(LVt,{setHasAudio:R},o)]})})})})}function YVt(e,t=!1){return typeof e=="number"?Fme(e,t):Fme(e.length,t).map(r=>r.map(i=>e[i]))}function Fme(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let o=0;o<e;o++)o<2?n[o]=o:o%2==0?n[o]=e-o/2:n[o]=Math.floor(o/2)+1;let r=[n],i=n;for(let o=1;o<e;o+=1){let s=i.map(a=>(a+1)%e);r.push(s),i=s}if(t&&e%2>0)for(let o=0;o<e;o+=1)r.push(r[o].slice().reverse());return r}function eMe(e){let t=e.length;for(;t!==0;){const n=Math.floor(Math.random()*t);t-=1,[e[t],e[n]]=[e[n],e[t]]}}function Aee(e,t){for(const n of t)if(Q3(n.component,e))return n;return null}function tMe(e,t=!0){const n=[];for(let r=0;r<e.length;r+=1){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)&&(t||!la(i))){const o=Aee(i,n);o?o.indices.push(r):n.push({component:i,indices:[r]})}}return n}function KVt(e,t){const n=t.split("-");let r={};n.forEach(s=>{if(s==="root")r=e.sequence;else{if(la(r))return;r=r.components[+s]}});const i=r.components.map((s,a)=>typeof s=="string"?s:`_componentBlock${a}`);return eMe(i),YVt(i,!0)}function jme(e,t,n){const r=[];for(let i=0;i<n;i+=1)r.push(...KVt(e,t));return r}function nMe(e,t,n,r){if(la(e))return{id:e.id,orderPath:n,order:e.order,components:[],skip:[],interruptions:[],conditional:e.conditional};let i=e.components;if(e.order==="random"){const a=structuredClone(e.components);eMe(a),i=a}else if(e.order==="latinSquare"&&t){const a=t[n]?.pop();if(!a)throw new Error(`Latin square exhausted for path: ${n}. This should not happen as we pre-generate enough rows. Please report this issue.`);i=a.map(l=>l.startsWith("_componentBlock")?e.components[+l.slice(15)]:l)}i=i.slice(0,e.numSamples);const o=tMe(e.components),s=new Map;for(let a=0;a<i.length;a+=1){const l=i[a];if(typeof l!="string"&&!Array.isArray(l)){const u=Aee(l,o);if(u){const c=s.get(u.component)||0,d=u.indices[c]??u.indices[0];s.set(u.component,c+1),i[a]=nMe(l,t,`${n}-${d}`)}else throw new Error(`Unexpected: component block not found in uniqueComponents map at path ${n}`)}}return e.interruptions&&e.interruptions.forEach(a=>{const l=[];if(a.spacing!=="random")for(let u=0;u<i.length;u+=1)(u===a.firstLocation||u>a.firstLocation&&u%a.spacing===0)&&l.push(...a.components),l.push(i[u]);if(a.spacing==="random"){const u=new Set;if(a.numInterruptions>i.length-1)throw new Error("Number of interruptions cannot be greater than the number of components");for(;u.size<a.numInterruptions;){const f=Math.floor(Math.random()*i.length-1)+1;u.add(f)}const c=Array.from(u).sort((f,h)=>f-h);let d=0;for(let f=0;f<i.length;f+=1)f===c[d]&&(l.push(...a.components),d+=1),l.push(i[f])}i=l}),{id:e.id,orderPath:n,order:e.order,components:i.flat(),skip:e.skip||[],interruptions:e.interruptions||[],conditional:e.conditional}}function XVt(e,t,n){const r=structuredClone(e);return nMe(r,t,"root")}function rMe(e,t,n,r){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),!la(e)&&e.components.forEach((o,s)=>{typeof o!="string"&&!la(o)&&rMe(o,t,i,s)})}function QVt(e){const t=[];return rMe(e,t,"",0),t}function qq(e,t,n){if(la(e))return;e.order==="latinSquare"&&(t[n]=(t[n]||0)+1);let r=e.components;e.numSamples!==void 0&&(r=r.slice(0,e.numSamples));const i=tMe(e.components,!1),o=new Map;for(let s=0;s<r.length;s+=1){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)&&!la(a)){const l=Aee(a,i);if(l){const u=o.get(l.component)||0,c=l.indices[u]??l.indices[0];o.set(l.component,u+1),qq(a,t,`${n}-${c}`)}else qq(a,t,`${n}-0`)}}}function JVt(e){const t={};return qq(e,t,"root"),t}function _B(e){const t=QVt(e.sequence),n=JVt(e.sequence),r=t.map(s=>{const a=n[s]||1;return{[s]:jme(e,s,a)}}).reduce((s,a)=>({...s,...a}),{}),i=e.uiConfig.numSequences||1e3,o=[];return Array.from({length:i}).forEach(()=>{const s=XVt(e.sequence,r);s.components.push("end"),o.push(s),Object.entries(r).forEach(([a,l])=>{if(l.length===0){const u=n[a]||1;r[a]=jme(e,a,u)}})}),o}var AI={exports:{}},EB={},Cp={},zy={},SB={},TB={},kB={},Bme;function ZN(){return Bme||(Bme=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(y){if(super(),!e.IDENTIFIER.test(y))throw new Error("CodeGen: name must be a valid identifier");this.str=y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(y){super(),this._items=typeof y=="string"?[y]:y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const y=this._items[0];return y===""||y==='""'}get str(){var y;return(y=this._str)!==null&&y!==void 0?y:this._str=this._items.reduce((x,E)=>`${x}${E}`,"")}get names(){var y;return(y=this._names)!==null&&y!==void 0?y:this._names=this._items.reduce((x,E)=>(E instanceof n&&(x[E.str]=(x[E.str]||0)+1),x),{})}}e._Code=r,e.nil=new r("");function i(v,...y){const x=[v[0]];let E=0;for(;E<y.length;)a(x,y[E]),x.push(v[++E]);return new r(x)}e._=i;const o=new r("+");function s(v,...y){const x=[h(v[0])];let E=0;for(;E<y.length;)x.push(o),a(x,y[E]),x.push(o,h(v[++E]));return l(x),new r(x)}e.str=s;function a(v,y){y instanceof r?v.push(...y._items):y instanceof n?v.push(y):v.push(d(y))}e.addCodeArg=a;function l(v){let y=1;for(;y<v.length-1;){if(v[y]===o){const x=u(v[y-1],v[y+1]);if(x!==void 0){v.splice(y-1,3,x);continue}v[y++]="+"}y++}}function u(v,y){if(y==='""')return v;if(v==='""')return y;if(typeof v=="string")return y instanceof n||v[v.length-1]!=='"'?void 0:typeof y!="string"?`${v.slice(0,-1)}${y}"`:y[0]==='"'?v.slice(0,-1)+y.slice(1):void 0;if(typeof y=="string"&&y[0]==='"'&&!(v instanceof n))return`"${v}${y.slice(1)}`}function c(v,y){return y.emptyStr()?v:v.emptyStr()?y:s`${v}${y}`}e.strConcat=c;function d(v){return typeof v=="number"||typeof v=="boolean"||v===null?v:h(Array.isArray(v)?v.join(","):v)}function f(v){return new r(h(v))}e.stringify=f;function h(v){return JSON.stringify(v).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(v){return typeof v=="string"&&e.IDENTIFIER.test(v)?new r(`.${v}`):i`[${v}]`}e.getProperty=p;function m(v){if(typeof v=="string"&&e.IDENTIFIER.test(v))return new r(`${v}`);throw new Error(`CodeGen: invalid export name: ${v}, use explicit $id name mapping`)}e.getEsmExportName=m;function g(v){return new r(v.toString())}e.regexpCode=g})(kB)),kB}var AB={},zme;function Ume(){return zme||(zme=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=ZN();class n extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,d;if(!((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0)&&d.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class o extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:d}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${d}]`}}e.ValueScopeName=o;const s=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?s:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,c){var d;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const f=this.toName(u),{prefix:h}=f,p=(d=c.key)!==null&&d!==void 0?d:c.ref;let m=this._values[h];if(m){const y=m.get(p);if(y)return y}else m=this._values[h]=new Map;m.set(p,f);const g=this._scope[h]||(this._scope[h]=[]),v=g.length;return g[v]=c.ref,f.setValue(c,{property:h,itemIndex:v}),f}getValue(u,c){const d=this._values[u];if(d)return d.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${u}${d.scopePath}`})}scopeCode(u=this._values,c,d){return this._reduceValues(u,f=>{if(f.value===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return f.value.code},c,d)}_reduceValues(u,c,d={},f){let h=t.nil;for(const p in u){const m=u[p];if(!m)continue;const g=d[p]=d[p]||new Map;m.forEach(v=>{if(g.has(v))return;g.set(v,r.Started);let y=c(v);if(y){const x=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${x} ${v} = ${y};${this.opts._n}`}else if(y=f?.(v))h=(0,t._)`${h}${y}${this.opts._n}`;else throw new n(v);g.set(v,r.Completed)})}return h}}e.ValueScope=a})(AB)),AB}var Hme;function vr(){return Hme||(Hme=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=ZN(),n=Ume();var r=ZN();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=Ume();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(Y,Q){return this}}class s extends o{constructor(Y,Q,ne){super(),this.varKind=Y,this.name=Q,this.rhs=ne}render({es5:Y,_n:Q}){const ne=Y?n.varKinds.var:this.varKind,ce=this.rhs===void 0?"":` = ${this.rhs}`;return`${ne} ${this.name}${ce};`+Q}optimizeNames(Y,Q){if(Y[this.name.str])return this.rhs&&(this.rhs=O(this.rhs,Y,Q)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends o{constructor(Y,Q,ne){super(),this.lhs=Y,this.rhs=Q,this.sideEffects=ne}render({_n:Y}){return`${this.lhs} = ${this.rhs};`+Y}optimizeNames(Y,Q){if(!(this.lhs instanceof t.Name&&!Y[this.lhs.str]&&!this.sideEffects))return this.rhs=O(this.rhs,Y,Q),this}get names(){const Y=this.lhs instanceof t.Name?{}:{...this.lhs.names};return M(Y,this.rhs)}}class l extends a{constructor(Y,Q,ne,ce){super(Y,ne,ce),this.op=Q}render({_n:Y}){return`${this.lhs} ${this.op}= ${this.rhs};`+Y}}class u extends o{constructor(Y){super(),this.label=Y,this.names={}}render({_n:Y}){return`${this.label}:`+Y}}class c extends o{constructor(Y){super(),this.label=Y,this.names={}}render({_n:Y}){return`break${this.label?` ${this.label}`:""};`+Y}}class d extends o{constructor(Y){super(),this.error=Y}render({_n:Y}){return`throw ${this.error};`+Y}get names(){return this.error.names}}class f extends o{constructor(Y){super(),this.code=Y}render({_n:Y}){return`${this.code};`+Y}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(Y,Q){return this.code=O(this.code,Y,Q),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends o{constructor(Y=[]){super(),this.nodes=Y}render(Y){return this.nodes.reduce((Q,ne)=>Q+ne.render(Y),"")}optimizeNodes(){const{nodes:Y}=this;let Q=Y.length;for(;Q--;){const ne=Y[Q].optimizeNodes();Array.isArray(ne)?Y.splice(Q,1,...ne):ne?Y[Q]=ne:Y.splice(Q,1)}return Y.length>0?this:void 0}optimizeNames(Y,Q){const{nodes:ne}=this;let ce=ne.length;for(;ce--;){const le=ne[ce];le.optimizeNames(Y,Q)||(j(Y,le.names),ne.splice(ce,1))}return ne.length>0?this:void 0}get names(){return this.nodes.reduce((Y,Q)=>N(Y,Q.names),{})}}class p extends h{render(Y){return"{"+Y._n+super.render(Y)+"}"+Y._n}}class m extends h{}class g extends p{}g.kind="else";class v extends p{constructor(Y,Q){super(Q),this.condition=Y}render(Y){let Q=`if(${this.condition})`+super.render(Y);return this.else&&(Q+="else "+this.else.render(Y)),Q}optimizeNodes(){super.optimizeNodes();const Y=this.condition;if(Y===!0)return this.nodes;let Q=this.else;if(Q){const ne=Q.optimizeNodes();Q=this.else=Array.isArray(ne)?new g(ne):ne}if(Q)return Y===!1?Q instanceof v?Q:Q.nodes:this.nodes.length?this:new v(U(Y),Q instanceof v?[Q]:Q.nodes);if(!(Y===!1||!this.nodes.length))return this}optimizeNames(Y,Q){var ne;if(this.else=(ne=this.else)===null||ne===void 0?void 0:ne.optimizeNames(Y,Q),!!(super.optimizeNames(Y,Q)||this.else))return this.condition=O(this.condition,Y,Q),this}get names(){const Y=super.names;return M(Y,this.condition),this.else&&N(Y,this.else.names),Y}}v.kind="if";class y extends p{}y.kind="for";class x extends y{constructor(Y){super(),this.iteration=Y}render(Y){return`for(${this.iteration})`+super.render(Y)}optimizeNames(Y,Q){if(super.optimizeNames(Y,Q))return this.iteration=O(this.iteration,Y,Q),this}get names(){return N(super.names,this.iteration.names)}}class E extends y{constructor(Y,Q,ne,ce){super(),this.varKind=Y,this.name=Q,this.from=ne,this.to=ce}render(Y){const Q=Y.es5?n.varKinds.var:this.varKind,{name:ne,from:ce,to:le}=this;return`for(${Q} ${ne}=${ce}; ${ne}<${le}; ${ne}++)`+super.render(Y)}get names(){const Y=M(super.names,this.from);return M(Y,this.to)}}class _ extends y{constructor(Y,Q,ne,ce){super(),this.loop=Y,this.varKind=Q,this.name=ne,this.iterable=ce}render(Y){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(Y)}optimizeNames(Y,Q){if(super.optimizeNames(Y,Q))return this.iterable=O(this.iterable,Y,Q),this}get names(){return N(super.names,this.iterable.names)}}class S extends p{constructor(Y,Q,ne){super(),this.name=Y,this.args=Q,this.async=ne}render(Y){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(Y)}}S.kind="func";class T extends h{render(Y){return"return "+super.render(Y)}}T.kind="return";class k extends p{render(Y){let Q="try"+super.render(Y);return this.catch&&(Q+=this.catch.render(Y)),this.finally&&(Q+=this.finally.render(Y)),Q}optimizeNodes(){var Y,Q;return super.optimizeNodes(),(Y=this.catch)===null||Y===void 0||Y.optimizeNodes(),(Q=this.finally)===null||Q===void 0||Q.optimizeNodes(),this}optimizeNames(Y,Q){var ne,ce;return super.optimizeNames(Y,Q),(ne=this.catch)===null||ne===void 0||ne.optimizeNames(Y,Q),(ce=this.finally)===null||ce===void 0||ce.optimizeNames(Y,Q),this}get names(){const Y=super.names;return this.catch&&N(Y,this.catch.names),this.finally&&N(Y,this.finally.names),Y}}class R extends p{constructor(Y){super(),this.error=Y}render(Y){return`catch(${this.error})`+super.render(Y)}}R.kind="catch";class I extends p{render(Y){return"finally"+super.render(Y)}}I.kind="finally";class P{constructor(Y,Q={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...Q,_n:Q.lines?`
`:""},this._extScope=Y,this._scope=new n.Scope({parent:Y}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(Y){return this._scope.name(Y)}scopeName(Y){return this._extScope.name(Y)}scopeValue(Y,Q){const ne=this._extScope.value(Y,Q);return(this._values[ne.prefix]||(this._values[ne.prefix]=new Set)).add(ne),ne}getScopeValue(Y,Q){return this._extScope.getValue(Y,Q)}scopeRefs(Y){return this._extScope.scopeRefs(Y,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(Y,Q,ne,ce){const le=this._scope.toName(Q);return ne!==void 0&&ce&&(this._constants[le.str]=ne),this._leafNode(new s(Y,le,ne)),le}const(Y,Q,ne){return this._def(n.varKinds.const,Y,Q,ne)}let(Y,Q,ne){return this._def(n.varKinds.let,Y,Q,ne)}var(Y,Q,ne){return this._def(n.varKinds.var,Y,Q,ne)}assign(Y,Q,ne){return this._leafNode(new a(Y,Q,ne))}add(Y,Q){return this._leafNode(new l(Y,e.operators.ADD,Q))}code(Y){return typeof Y=="function"?Y():Y!==t.nil&&this._leafNode(new f(Y)),this}object(...Y){const Q=["{"];for(const[ne,ce]of Y)Q.length>1&&Q.push(","),Q.push(ne),(ne!==ce||this.opts.es5)&&(Q.push(":"),(0,t.addCodeArg)(Q,ce));return Q.push("}"),new t._Code(Q)}if(Y,Q,ne){if(this._blockNode(new v(Y)),Q&&ne)this.code(Q).else().code(ne).endIf();else if(Q)this.code(Q).endIf();else if(ne)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(Y){return this._elseNode(new v(Y))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(v,g)}_for(Y,Q){return this._blockNode(Y),Q&&this.code(Q).endFor(),this}for(Y,Q){return this._for(new x(Y),Q)}forRange(Y,Q,ne,ce,le=this.opts.es5?n.varKinds.var:n.varKinds.let){const ue=this._scope.toName(Y);return this._for(new E(le,ue,Q,ne),()=>ce(ue))}forOf(Y,Q,ne,ce=n.varKinds.const){const le=this._scope.toName(Y);if(this.opts.es5){const ue=Q instanceof t.Name?Q:this.var("_arr",Q);return this.forRange("_i",0,(0,t._)`${ue}.length`,ae=>{this.var(le,(0,t._)`${ue}[${ae}]`),ne(le)})}return this._for(new _("of",ce,le,Q),()=>ne(le))}forIn(Y,Q,ne,ce=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(Y,(0,t._)`Object.keys(${Q})`,ne);const le=this._scope.toName(Y);return this._for(new _("in",ce,le,Q),()=>ne(le))}endFor(){return this._endBlockNode(y)}label(Y){return this._leafNode(new u(Y))}break(Y){return this._leafNode(new c(Y))}return(Y){const Q=new T;if(this._blockNode(Q),this.code(Y),Q.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(Y,Q,ne){if(!Q&&!ne)throw new Error('CodeGen: "try" without "catch" and "finally"');const ce=new k;if(this._blockNode(ce),this.code(Y),Q){const le=this.name("e");this._currNode=ce.catch=new R(le),Q(le)}return ne&&(this._currNode=ce.finally=new I,this.code(ne)),this._endBlockNode(R,I)}throw(Y){return this._leafNode(new d(Y))}block(Y,Q){return this._blockStarts.push(this._nodes.length),Y&&this.code(Y).endBlock(Q),this}endBlock(Y){const Q=this._blockStarts.pop();if(Q===void 0)throw new Error("CodeGen: not in self-balancing block");const ne=this._nodes.length-Q;if(ne<0||Y!==void 0&&ne!==Y)throw new Error(`CodeGen: wrong number of nodes: ${ne} vs ${Y} expected`);return this._nodes.length=Q,this}func(Y,Q=t.nil,ne,ce){return this._blockNode(new S(Y,Q,ne)),ce&&this.code(ce).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(Y=1){for(;Y-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(Y){return this._currNode.nodes.push(Y),this}_blockNode(Y){this._currNode.nodes.push(Y),this._nodes.push(Y)}_endBlockNode(Y,Q){const ne=this._currNode;if(ne instanceof Y||Q&&ne instanceof Q)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${Q?`${Y.kind}/${Q.kind}`:Y.kind}"`)}_elseNode(Y){const Q=this._currNode;if(!(Q instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=Q.else=Y,this}get _root(){return this._nodes[0]}get _currNode(){const Y=this._nodes;return Y[Y.length-1]}set _currNode(Y){const Q=this._nodes;Q[Q.length-1]=Y}}e.CodeGen=P;function N(B,Y){for(const Q in Y)B[Q]=(B[Q]||0)+(Y[Q]||0);return B}function M(B,Y){return Y instanceof t._CodeOrName?N(B,Y.names):B}function O(B,Y,Q){if(B instanceof t.Name)return ne(B);if(!ce(B))return B;return new t._Code(B._items.reduce((le,ue)=>(ue instanceof t.Name&&(ue=ne(ue)),ue instanceof t._Code?le.push(...ue._items):le.push(ue),le),[]));function ne(le){const ue=Q[le.str];return ue===void 0||Y[le.str]!==1?le:(delete Y[le.str],ue)}function ce(le){return le instanceof t._Code&&le._items.some(ue=>ue instanceof t.Name&&Y[ue.str]===1&&Q[ue.str]!==void 0)}}function j(B,Y){for(const Q in Y)B[Q]=(B[Q]||0)-(Y[Q]||0)}function U(B){return typeof B=="boolean"||typeof B=="number"||B===null?!B:(0,t._)`!${H(B)}`}e.not=U;const q=L(e.operators.AND);function W(...B){return B.reduce(q)}e.and=W;const V=L(e.operators.OR);function z(...B){return B.reduce(V)}e.or=z;function L(B){return(Y,Q)=>Y===t.nil?Q:Q===t.nil?Y:(0,t._)`${H(Y)} ${B} ${H(Q)}`}function H(B){return B instanceof t.Name?B:(0,t._)`(${B})`}})(TB)),TB}var ar={},qme;function Fr(){if(qme)return ar;qme=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.checkStrictMode=ar.getErrorPath=ar.Type=ar.useFunc=ar.setEvaluated=ar.evaluatedPropsToName=ar.mergeEvaluated=ar.eachItem=ar.unescapeJsonPointer=ar.escapeJsonPointer=ar.escapeFragment=ar.unescapeFragment=ar.schemaRefOrVal=ar.schemaHasRulesButRef=ar.schemaHasRules=ar.checkUnknownRules=ar.alwaysValidSchema=ar.toHash=void 0;const e=vr(),t=ZN();function n(_){const S={};for(const T of _)S[T]=!0;return S}ar.toHash=n;function r(_,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(i(_,S),!o(S,_.self.RULES.all))}ar.alwaysValidSchema=r;function i(_,S=_.schema){const{opts:T,self:k}=_;if(!T.strictSchema||typeof S=="boolean")return;const R=k.RULES.keywords;for(const I in S)R[I]||E(_,`unknown keyword: "${I}"`)}ar.checkUnknownRules=i;function o(_,S){if(typeof _=="boolean")return!_;for(const T in _)if(S[T])return!0;return!1}ar.schemaHasRules=o;function s(_,S){if(typeof _=="boolean")return!_;for(const T in _)if(T!=="$ref"&&S.all[T])return!0;return!1}ar.schemaHasRulesButRef=s;function a({topSchemaRef:_,schemaPath:S},T,k,R){if(!R){if(typeof T=="number"||typeof T=="boolean")return T;if(typeof T=="string")return(0,e._)`${T}`}return(0,e._)`${_}${S}${(0,e.getProperty)(k)}`}ar.schemaRefOrVal=a;function l(_){return d(decodeURIComponent(_))}ar.unescapeFragment=l;function u(_){return encodeURIComponent(c(_))}ar.escapeFragment=u;function c(_){return typeof _=="number"?`${_}`:_.replace(/~/g,"~0").replace(/\//g,"~1")}ar.escapeJsonPointer=c;function d(_){return _.replace(/~1/g,"/").replace(/~0/g,"~")}ar.unescapeJsonPointer=d;function f(_,S){if(Array.isArray(_))for(const T of _)S(T);else S(_)}ar.eachItem=f;function h({mergeNames:_,mergeToName:S,mergeValues:T,resultToName:k}){return(R,I,P,N)=>{const M=P===void 0?I:P instanceof e.Name?(I instanceof e.Name?_(R,I,P):S(R,I,P),P):I instanceof e.Name?(S(R,P,I),I):T(I,P);return N===e.Name&&!(M instanceof e.Name)?k(R,M):M}}ar.mergeEvaluated={props:h({mergeNames:(_,S,T)=>_.if((0,e._)`${T} !== true && ${S} !== undefined`,()=>{_.if((0,e._)`${S} === true`,()=>_.assign(T,!0),()=>_.assign(T,(0,e._)`${T} || {}`).code((0,e._)`Object.assign(${T}, ${S})`))}),mergeToName:(_,S,T)=>_.if((0,e._)`${T} !== true`,()=>{S===!0?_.assign(T,!0):(_.assign(T,(0,e._)`${T} || {}`),m(_,T,S))}),mergeValues:(_,S)=>_===!0?!0:{..._,...S},resultToName:p}),items:h({mergeNames:(_,S,T)=>_.if((0,e._)`${T} !== true && ${S} !== undefined`,()=>_.assign(T,(0,e._)`${S} === true ? true : ${T} > ${S} ? ${T} : ${S}`)),mergeToName:(_,S,T)=>_.if((0,e._)`${T} !== true`,()=>_.assign(T,S===!0?!0:(0,e._)`${T} > ${S} ? ${T} : ${S}`)),mergeValues:(_,S)=>_===!0?!0:Math.max(_,S),resultToName:(_,S)=>_.var("items",S)})};function p(_,S){if(S===!0)return _.var("props",!0);const T=_.var("props",(0,e._)`{}`);return S!==void 0&&m(_,T,S),T}ar.evaluatedPropsToName=p;function m(_,S,T){Object.keys(T).forEach(k=>_.assign((0,e._)`${S}${(0,e.getProperty)(k)}`,!0))}ar.setEvaluated=m;const g={};function v(_,S){return _.scopeValue("func",{ref:S,code:g[S.code]||(g[S.code]=new t._Code(S.code))})}ar.useFunc=v;var y;(function(_){_[_.Num=0]="Num",_[_.Str=1]="Str"})(y||(ar.Type=y={}));function x(_,S,T){if(_ instanceof e.Name){const k=S===y.Num;return T?k?(0,e._)`"[" + ${_} + "]"`:(0,e._)`"['" + ${_} + "']"`:k?(0,e._)`"/" + ${_}`:(0,e._)`"/" + ${_}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return T?(0,e.getProperty)(_).toString():"/"+c(_)}ar.getErrorPath=x;function E(_,S,T=_.opts.strictSchema){if(T){if(S=`strict mode: ${S}`,T===!0)throw new Error(S);_.self.logger.warn(S)}}return ar.checkStrictMode=E,ar}var RI={},Vme;function fy(){if(Vme)return RI;Vme=1,Object.defineProperty(RI,"__esModule",{value:!0});const e=vr(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return RI.default=t,RI}var Wme;function p$(){return Wme||(Wme=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=vr(),n=Fr(),r=fy();e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:v})=>v?(0,t.str)`"${g}" keyword must be ${v} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function i(g,v=e.keywordError,y,x){const{it:E}=g,{gen:_,compositeRule:S,allErrors:T}=E,k=d(g,v,y);x??(S||T)?l(_,k):u(E,(0,t._)`[${k}]`)}e.reportError=i;function o(g,v=e.keywordError,y){const{it:x}=g,{gen:E,compositeRule:_,allErrors:S}=x,T=d(g,v,y);l(E,T),_||S||u(x,r.default.vErrors)}e.reportExtraError=o;function s(g,v){g.assign(r.default.errors,v),g.if((0,t._)`${r.default.vErrors} !== null`,()=>g.if(v,()=>g.assign((0,t._)`${r.default.vErrors}.length`,v),()=>g.assign(r.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:g,keyword:v,schemaValue:y,data:x,errsCount:E,it:_}){if(E===void 0)throw new Error("ajv implementation error");const S=g.name("err");g.forRange("i",E,r.default.errors,T=>{g.const(S,(0,t._)`${r.default.vErrors}[${T}]`),g.if((0,t._)`${S}.instancePath === undefined`,()=>g.assign((0,t._)`${S}.instancePath`,(0,t.strConcat)(r.default.instancePath,_.errorPath))),g.assign((0,t._)`${S}.schemaPath`,(0,t.str)`${_.errSchemaPath}/${v}`),_.opts.verbose&&(g.assign((0,t._)`${S}.schema`,y),g.assign((0,t._)`${S}.data`,x))})}e.extendErrors=a;function l(g,v){const y=g.const("err",v);g.if((0,t._)`${r.default.vErrors} === null`,()=>g.assign(r.default.vErrors,(0,t._)`[${y}]`),(0,t._)`${r.default.vErrors}.push(${y})`),g.code((0,t._)`${r.default.errors}++`)}function u(g,v){const{gen:y,validateName:x,schemaEnv:E}=g;E.$async?y.throw((0,t._)`new ${g.ValidationError}(${v})`):(y.assign((0,t._)`${x}.errors`,v),y.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(g,v,y){const{createErrors:x}=g.it;return x===!1?(0,t._)`{}`:f(g,v,y)}function f(g,v,y={}){const{gen:x,it:E}=g,_=[h(E,y),p(g,y)];return m(g,v,_),x.object(..._)}function h({errorPath:g},{instancePath:v}){const y=v?(0,t.str)`${g}${(0,n.getErrorPath)(v,n.Type.Str)}`:g;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,y)]}function p({keyword:g,it:{errSchemaPath:v}},{schemaPath:y,parentSchema:x}){let E=x?v:(0,t.str)`${v}/${g}`;return y&&(E=(0,t.str)`${E}${(0,n.getErrorPath)(y,n.Type.Str)}`),[c.schemaPath,E]}function m(g,{params:v,message:y},x){const{keyword:E,data:_,schemaValue:S,it:T}=g,{opts:k,propertyName:R,topSchemaRef:I,schemaPath:P}=T;x.push([c.keyword,E],[c.params,typeof v=="function"?v(g):v||(0,t._)`{}`]),k.messages&&x.push([c.message,typeof y=="function"?y(g):y]),k.verbose&&x.push([c.schema,S],[c.parentSchema,(0,t._)`${I}${P}`],[r.default.data,_]),R&&x.push([c.propertyName,R])}})(SB)),SB}var Gme;function ZVt(){if(Gme)return zy;Gme=1,Object.defineProperty(zy,"__esModule",{value:!0}),zy.boolOrEmptySchema=zy.topBoolOrEmptySchema=void 0;const e=p$(),t=vr(),n=fy(),r={message:"boolean schema is false"};function i(a){const{gen:l,schema:u,validateName:c}=a;u===!1?s(a,!1):typeof u=="object"&&u.$async===!0?l.return(n.default.data):(l.assign((0,t._)`${c}.errors`,null),l.return(!0))}zy.topBoolOrEmptySchema=i;function o(a,l){const{gen:u,schema:c}=a;c===!1?(u.var(l,!1),s(a)):u.var(l,!0)}zy.boolOrEmptySchema=o;function s(a,l){const{gen:u,data:c}=a,d={gen:u,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(d,r,void 0,l)}return zy}var Ws={},Uy={},Yme;function iMe(){if(Yme)return Uy;Yme=1,Object.defineProperty(Uy,"__esModule",{value:!0}),Uy.getRules=Uy.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function n(i){return typeof i=="string"&&t.has(i)}Uy.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return Uy.getRules=r,Uy}var _p={},Kme;function oMe(){if(Kme)return _p;Kme=1,Object.defineProperty(_p,"__esModule",{value:!0}),_p.shouldUseRule=_p.shouldUseGroup=_p.schemaHasRulesForType=void 0;function e({schema:r,self:i},o){const s=i.RULES.types[o];return s&&s!==!0&&t(r,s)}_p.schemaHasRulesForType=e;function t(r,i){return i.rules.some(o=>n(r,o))}_p.shouldUseGroup=t;function n(r,i){var o;return r[i.keyword]!==void 0||((o=i.definition.implements)===null||o===void 0?void 0:o.some(s=>r[s]!==void 0))}return _p.shouldUseRule=n,_p}var Xme;function e4(){if(Xme)return Ws;Xme=1,Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.reportTypeError=Ws.checkDataTypes=Ws.checkDataType=Ws.coerceAndCheckDataType=Ws.getJSONTypes=Ws.getSchemaTypes=Ws.DataType=void 0;const e=iMe(),t=oMe(),n=p$(),r=vr(),i=Fr();var o;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(o||(Ws.DataType=o={}));function s(y){const x=a(y.type);if(x.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!x.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&x.push("null")}return x}Ws.getSchemaTypes=s;function a(y){const x=Array.isArray(y)?y:y?[y]:[];if(x.every(e.isJSONType))return x;throw new Error("type must be JSONType or JSONType[]: "+x.join(","))}Ws.getJSONTypes=a;function l(y,x){const{gen:E,data:_,opts:S}=y,T=c(x,S.coerceTypes),k=x.length>0&&!(T.length===0&&x.length===1&&(0,t.schemaHasRulesForType)(y,x[0]));if(k){const R=p(x,_,S.strictNumbers,o.Wrong);E.if(R,()=>{T.length?d(y,x,T):g(y)})}return k}Ws.coerceAndCheckDataType=l;const u=new Set(["string","number","integer","boolean","null"]);function c(y,x){return x?y.filter(E=>u.has(E)||x==="array"&&E==="array"):[]}function d(y,x,E){const{gen:_,data:S,opts:T}=y,k=_.let("dataType",(0,r._)`typeof ${S}`),R=_.let("coerced",(0,r._)`undefined`);T.coerceTypes==="array"&&_.if((0,r._)`${k} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>_.assign(S,(0,r._)`${S}[0]`).assign(k,(0,r._)`typeof ${S}`).if(p(x,S,T.strictNumbers),()=>_.assign(R,S))),_.if((0,r._)`${R} !== undefined`);for(const P of E)(u.has(P)||P==="array"&&T.coerceTypes==="array")&&I(P);_.else(),g(y),_.endIf(),_.if((0,r._)`${R} !== undefined`,()=>{_.assign(S,R),f(y,R)});function I(P){switch(P){case"string":_.elseIf((0,r._)`${k} == "number" || ${k} == "boolean"`).assign(R,(0,r._)`"" + ${S}`).elseIf((0,r._)`${S} === null`).assign(R,(0,r._)`""`);return;case"number":_.elseIf((0,r._)`${k} == "boolean" || ${S} === null
              || (${k} == "string" && ${S} && ${S} == +${S})`).assign(R,(0,r._)`+${S}`);return;case"integer":_.elseIf((0,r._)`${k} === "boolean" || ${S} === null
              || (${k} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(R,(0,r._)`+${S}`);return;case"boolean":_.elseIf((0,r._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(R,!1).elseIf((0,r._)`${S} === "true" || ${S} === 1`).assign(R,!0);return;case"null":_.elseIf((0,r._)`${S} === "" || ${S} === 0 || ${S} === false`),_.assign(R,null);return;case"array":_.elseIf((0,r._)`${k} === "string" || ${k} === "number"
              || ${k} === "boolean" || ${S} === null`).assign(R,(0,r._)`[${S}]`)}}}function f({gen:y,parentData:x,parentDataProperty:E},_){y.if((0,r._)`${x} !== undefined`,()=>y.assign((0,r._)`${x}[${E}]`,_))}function h(y,x,E,_=o.Correct){const S=_===o.Correct?r.operators.EQ:r.operators.NEQ;let T;switch(y){case"null":return(0,r._)`${x} ${S} null`;case"array":T=(0,r._)`Array.isArray(${x})`;break;case"object":T=(0,r._)`${x} && typeof ${x} == "object" && !Array.isArray(${x})`;break;case"integer":T=k((0,r._)`!(${x} % 1) && !isNaN(${x})`);break;case"number":T=k();break;default:return(0,r._)`typeof ${x} ${S} ${y}`}return _===o.Correct?T:(0,r.not)(T);function k(R=r.nil){return(0,r.and)((0,r._)`typeof ${x} == "number"`,R,E?(0,r._)`isFinite(${x})`:r.nil)}}Ws.checkDataType=h;function p(y,x,E,_){if(y.length===1)return h(y[0],x,E,_);let S;const T=(0,i.toHash)(y);if(T.array&&T.object){const k=(0,r._)`typeof ${x} != "object"`;S=T.null?k:(0,r._)`!${x} || ${k}`,delete T.null,delete T.array,delete T.object}else S=r.nil;T.number&&delete T.integer;for(const k in T)S=(0,r.and)(S,h(k,x,E,_));return S}Ws.checkDataTypes=p;const m={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:x})=>typeof y=="string"?(0,r._)`{type: ${y}}`:(0,r._)`{type: ${x}}`};function g(y){const x=v(y);(0,n.reportError)(x,m)}Ws.reportTypeError=g;function v(y){const{gen:x,data:E,schema:_}=y,S=(0,i.schemaRefOrVal)(y,_,"type");return{gen:x,keyword:"type",data:E,schema:_.type,schemaCode:S,schemaValue:S,parentSchema:_,params:{},it:y}}return Ws}var gE={},Qme;function eWt(){if(Qme)return gE;Qme=1,Object.defineProperty(gE,"__esModule",{value:!0}),gE.assignDefaults=void 0;const e=vr(),t=Fr();function n(i,o){const{properties:s,items:a}=i.schema;if(o==="object"&&s)for(const l in s)r(i,l,s[l].default);else o==="array"&&Array.isArray(a)&&a.forEach((l,u)=>r(i,u,l.default))}gE.assignDefaults=n;function r(i,o,s){const{gen:a,compositeRule:l,data:u,opts:c}=i;if(s===void 0)return;const d=(0,e._)`${u}${(0,e.getProperty)(o)}`;if(l){(0,t.checkStrictMode)(i,`default is ignored for: ${d}`);return}let f=(0,e._)`${d} === undefined`;c.useDefaults==="empty"&&(f=(0,e._)`${f} || ${d} === null || ${d} === ""`),a.if(f,(0,e._)`${d} = ${(0,e.stringify)(s)}`)}return gE}var dd={},li={},Jme;function kf(){if(Jme)return li;Jme=1,Object.defineProperty(li,"__esModule",{value:!0}),li.validateUnion=li.validateArray=li.usePattern=li.callValidateCode=li.schemaProperties=li.allSchemaProperties=li.noPropertyInData=li.propertyInData=li.isOwnProperty=li.hasPropFunc=li.reportMissingProp=li.checkMissingProp=li.checkReportMissingProp=void 0;const e=vr(),t=Fr(),n=fy(),r=Fr();function i(y,x){const{gen:E,data:_,it:S}=y;E.if(c(E,_,x,S.opts.ownProperties),()=>{y.setParams({missingProperty:(0,e._)`${x}`},!0),y.error()})}li.checkReportMissingProp=i;function o({gen:y,data:x,it:{opts:E}},_,S){return(0,e.or)(..._.map(T=>(0,e.and)(c(y,x,T,E.ownProperties),(0,e._)`${S} = ${T}`)))}li.checkMissingProp=o;function s(y,x){y.setParams({missingProperty:x},!0),y.error()}li.reportMissingProp=s;function a(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}li.hasPropFunc=a;function l(y,x,E){return(0,e._)`${a(y)}.call(${x}, ${E})`}li.isOwnProperty=l;function u(y,x,E,_){const S=(0,e._)`${x}${(0,e.getProperty)(E)} !== undefined`;return _?(0,e._)`${S} && ${l(y,x,E)}`:S}li.propertyInData=u;function c(y,x,E,_){const S=(0,e._)`${x}${(0,e.getProperty)(E)} === undefined`;return _?(0,e.or)(S,(0,e.not)(l(y,x,E))):S}li.noPropertyInData=c;function d(y){return y?Object.keys(y).filter(x=>x!=="__proto__"):[]}li.allSchemaProperties=d;function f(y,x){return d(x).filter(E=>!(0,t.alwaysValidSchema)(y,x[E]))}li.schemaProperties=f;function h({schemaCode:y,data:x,it:{gen:E,topSchemaRef:_,schemaPath:S,errorPath:T},it:k},R,I,P){const N=P?(0,e._)`${y}, ${x}, ${_}${S}`:x,M=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,T)],[n.default.parentData,k.parentData],[n.default.parentDataProperty,k.parentDataProperty],[n.default.rootData,n.default.rootData]];k.opts.dynamicRef&&M.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const O=(0,e._)`${N}, ${E.object(...M)}`;return I!==e.nil?(0,e._)`${R}.call(${I}, ${O})`:(0,e._)`${R}(${O})`}li.callValidateCode=h;const p=(0,e._)`new RegExp`;function m({gen:y,it:{opts:x}},E){const _=x.unicodeRegExp?"u":"",{regExp:S}=x.code,T=S(E,_);return y.scopeValue("pattern",{key:T.toString(),ref:T,code:(0,e._)`${S.code==="new RegExp"?p:(0,r.useFunc)(y,S)}(${E}, ${_})`})}li.usePattern=m;function g(y){const{gen:x,data:E,keyword:_,it:S}=y,T=x.name("valid");if(S.allErrors){const R=x.let("valid",!0);return k(()=>x.assign(R,!1)),R}return x.var(T,!0),k(()=>x.break()),T;function k(R){const I=x.const("len",(0,e._)`${E}.length`);x.forRange("i",0,I,P=>{y.subschema({keyword:_,dataProp:P,dataPropType:t.Type.Num},T),x.if((0,e.not)(T),R)})}}li.validateArray=g;function v(y){const{gen:x,schema:E,keyword:_,it:S}=y;if(!Array.isArray(E))throw new Error("ajv implementation error");if(E.some(I=>(0,t.alwaysValidSchema)(S,I))&&!S.opts.unevaluated)return;const k=x.let("valid",!1),R=x.name("_valid");x.block(()=>E.forEach((I,P)=>{const N=y.subschema({keyword:_,schemaProp:P,compositeRule:!0},R);x.assign(k,(0,e._)`${k} || ${R}`),y.mergeValidEvaluated(N,R)||x.if((0,e.not)(k))})),y.result(k,()=>y.reset(),()=>y.error(!0))}return li.validateUnion=v,li}var Zme;function tWt(){if(Zme)return dd;Zme=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.validateKeywordUsage=dd.validSchemaType=dd.funcKeywordCode=dd.macroKeywordCode=void 0;const e=vr(),t=fy(),n=kf(),r=p$();function i(f,h){const{gen:p,keyword:m,schema:g,parentSchema:v,it:y}=f,x=h.macro.call(y.self,g,v,y),E=u(p,m,x);y.opts.validateSchema!==!1&&y.self.validateSchema(x,!0);const _=p.name("valid");f.subschema({schema:x,schemaPath:e.nil,errSchemaPath:`${y.errSchemaPath}/${m}`,topSchemaRef:E,compositeRule:!0},_),f.pass(_,()=>f.error(!0))}dd.macroKeywordCode=i;function o(f,h){var p;const{gen:m,keyword:g,schema:v,parentSchema:y,$data:x,it:E}=f;l(E,h);const _=!x&&h.compile?h.compile.call(E.self,v,y,E):h.validate,S=u(m,g,_),T=m.let("valid");f.block$data(T,k),f.ok((p=h.valid)!==null&&p!==void 0?p:T);function k(){if(h.errors===!1)P(),h.modifying&&s(f),N(()=>f.error());else{const M=h.async?R():I();h.modifying&&s(f),N(()=>a(f,M))}}function R(){const M=m.let("ruleErrs",null);return m.try(()=>P((0,e._)`await `),O=>m.assign(T,!1).if((0,e._)`${O} instanceof ${E.ValidationError}`,()=>m.assign(M,(0,e._)`${O}.errors`),()=>m.throw(O))),M}function I(){const M=(0,e._)`${S}.errors`;return m.assign(M,null),P(e.nil),M}function P(M=h.async?(0,e._)`await `:e.nil){const O=E.opts.passContext?t.default.this:t.default.self,j=!("compile"in h&&!x||h.schema===!1);m.assign(T,(0,e._)`${M}${(0,n.callValidateCode)(f,S,O,j)}`,h.modifying)}function N(M){var O;m.if((0,e.not)((O=h.valid)!==null&&O!==void 0?O:T),M)}}dd.funcKeywordCode=o;function s(f){const{gen:h,data:p,it:m}=f;h.if(m.parentData,()=>h.assign(p,(0,e._)`${m.parentData}[${m.parentDataProperty}]`))}function a(f,h){const{gen:p}=f;p.if((0,e._)`Array.isArray(${h})`,()=>{p.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${h} : ${t.default.vErrors}.concat(${h})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(f)},()=>f.error())}function l({schemaEnv:f},h){if(h.async&&!f.$async)throw new Error("async keyword in sync schema")}function u(f,h,p){if(p===void 0)throw new Error(`keyword "${h}" failed to compile`);return f.scopeValue("keyword",typeof p=="function"?{ref:p}:{ref:p,code:(0,e.stringify)(p)})}function c(f,h,p=!1){return!h.length||h.some(m=>m==="array"?Array.isArray(f):m==="object"?f&&typeof f=="object"&&!Array.isArray(f):typeof f==m||p&&typeof f>"u")}dd.validSchemaType=c;function d({schema:f,opts:h,self:p,errSchemaPath:m},g,v){if(Array.isArray(g.keyword)?!g.keyword.includes(v):g.keyword!==v)throw new Error("ajv implementation error");const y=g.dependencies;if(y?.some(x=>!Object.prototype.hasOwnProperty.call(f,x)))throw new Error(`parent schema must have dependencies of ${v}: ${y.join(",")}`);if(g.validateSchema&&!g.validateSchema(f[v])){const E=`keyword "${v}" value is invalid at path "${m}": `+p.errorsText(g.validateSchema.errors);if(h.validateSchema==="log")p.logger.error(E);else throw new Error(E)}}return dd.validateKeywordUsage=d,dd}var Ep={},ege;function nWt(){if(ege)return Ep;ege=1,Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.extendSubschemaMode=Ep.extendSubschemaData=Ep.getSubschema=void 0;const e=vr(),t=Fr();function n(o,{keyword:s,schemaProp:a,schema:l,schemaPath:u,errSchemaPath:c,topSchemaRef:d}){if(s!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const f=o.schema[s];return a===void 0?{schema:f,schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(s)}`,errSchemaPath:`${o.errSchemaPath}/${s}`}:{schema:f[a],schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(s)}${(0,e.getProperty)(a)}`,errSchemaPath:`${o.errSchemaPath}/${s}/${(0,t.escapeFragment)(a)}`}}if(l!==void 0){if(u===void 0||c===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:u,topSchemaRef:d,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}Ep.getSubschema=n;function r(o,s,{dataProp:a,dataPropType:l,data:u,dataTypes:c,propertyName:d}){if(u!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:f}=s;if(a!==void 0){const{errorPath:p,dataPathArr:m,opts:g}=s,v=f.let("data",(0,e._)`${s.data}${(0,e.getProperty)(a)}`,!0);h(v),o.errorPath=(0,e.str)`${p}${(0,t.getErrorPath)(a,l,g.jsPropertySyntax)}`,o.parentDataProperty=(0,e._)`${a}`,o.dataPathArr=[...m,o.parentDataProperty]}if(u!==void 0){const p=u instanceof e.Name?u:f.let("data",u,!0);h(p),d!==void 0&&(o.propertyName=d)}c&&(o.dataTypes=c);function h(p){o.data=p,o.dataLevel=s.dataLevel+1,o.dataTypes=[],s.definedProperties=new Set,o.parentData=s.data,o.dataNames=[...s.dataNames,p]}}Ep.extendSubschemaData=r;function i(o,{jtdDiscriminator:s,jtdMetadata:a,compositeRule:l,createErrors:u,allErrors:c}){l!==void 0&&(o.compositeRule=l),u!==void 0&&(o.createErrors=u),c!==void 0&&(o.allErrors=c),o.jtdDiscriminator=s,o.jtdMetadata=a}return Ep.extendSubschemaMode=i,Ep}var tl={},RB={exports:{}},tge;function rWt(){if(tge)return RB.exports;tge=1;var e=RB.exports=function(r,i,o){typeof i=="function"&&(o=i,i={}),o=i.cb||o;var s=typeof o=="function"?o:o.pre||function(){},a=o.post||function(){};t(i,s,a,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,i,o,s,a,l,u,c,d,f){if(s&&typeof s=="object"&&!Array.isArray(s)){i(s,a,l,u,c,d,f);for(var h in s){var p=s[h];if(Array.isArray(p)){if(h in e.arrayKeywords)for(var m=0;m<p.length;m++)t(r,i,o,p[m],a+"/"+h+"/"+m,l,a,h,s,m)}else if(h in e.propsKeywords){if(p&&typeof p=="object")for(var g in p)t(r,i,o,p[g],a+"/"+h+"/"+n(g),l,a,h,s,g)}else(h in e.keywords||r.allKeys&&!(h in e.skipKeywords))&&t(r,i,o,p,a+"/"+h,l,a,h,s)}o(s,a,l,u,c,d,f)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return RB.exports}var nge;function m$(){if(nge)return tl;nge=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.getSchemaRefs=tl.resolveUrl=tl.normalizeId=tl._getFullPath=tl.getFullPath=tl.inlineRef=void 0;const e=Fr(),t=EY(),n=rWt(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(m,g=!0){return typeof m=="boolean"?!0:g===!0?!s(m):g?a(m)<=g:!1}tl.inlineRef=i;const o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(m){for(const g in m){if(o.has(g))return!0;const v=m[g];if(Array.isArray(v)&&v.some(s)||typeof v=="object"&&s(v))return!0}return!1}function a(m){let g=0;for(const v in m){if(v==="$ref")return 1/0;if(g++,!r.has(v)&&(typeof m[v]=="object"&&(0,e.eachItem)(m[v],y=>g+=a(y)),g===1/0))return 1/0}return g}function l(m,g="",v){v!==!1&&(g=d(g));const y=m.parse(g);return u(m,y)}tl.getFullPath=l;function u(m,g){return m.serialize(g).split("#")[0]+"#"}tl._getFullPath=u;const c=/#\/?$/;function d(m){return m?m.replace(c,""):""}tl.normalizeId=d;function f(m,g,v){return v=d(v),m.resolve(g,v)}tl.resolveUrl=f;const h=/^[a-z_][-a-z0-9._]*$/i;function p(m,g){if(typeof m=="boolean")return{};const{schemaId:v,uriResolver:y}=this.opts,x=d(m[v]||g),E={"":x},_=l(y,x,!1),S={},T=new Set;return n(m,{allKeys:!0},(I,P,N,M)=>{if(M===void 0)return;const O=_+P;let j=E[M];typeof I[v]=="string"&&(j=U.call(this,I[v])),q.call(this,I.$anchor),q.call(this,I.$dynamicAnchor),E[P]=j;function U(W){const V=this.opts.uriResolver.resolve;if(W=d(j?V(j,W):W),T.has(W))throw R(W);T.add(W);let z=this.refs[W];return typeof z=="string"&&(z=this.refs[z]),typeof z=="object"?k(I,z.schema,W):W!==d(O)&&(W[0]==="#"?(k(I,S[W],W),S[W]=I):this.refs[W]=O),W}function q(W){if(typeof W=="string"){if(!h.test(W))throw new Error(`invalid anchor "${W}"`);U.call(this,`#${W}`)}}}),S;function k(I,P,N){if(P!==void 0&&!t(I,P))throw R(N)}function R(I){return new Error(`reference "${I}" resolves to more than one schema`)}}return tl.getSchemaRefs=p,tl}var rge;function g$(){if(rge)return Cp;rge=1,Object.defineProperty(Cp,"__esModule",{value:!0}),Cp.getData=Cp.KeywordCxt=Cp.validateFunctionCode=void 0;const e=ZVt(),t=e4(),n=oMe(),r=e4(),i=eWt(),o=tWt(),s=nWt(),a=vr(),l=fy(),u=m$(),c=Fr(),d=p$();function f(te){if(_(te)&&(T(te),E(te))){g(te);return}h(te,()=>(0,e.topBoolOrEmptySchema)(te))}Cp.validateFunctionCode=f;function h({gen:te,validateName:se,schema:we,schemaEnv:X,opts:he},ge){he.code.es5?te.func(se,(0,a._)`${l.default.data}, ${l.default.valCxt}`,X.$async,()=>{te.code((0,a._)`"use strict"; ${y(we,he)}`),m(te,he),te.code(ge)}):te.func(se,(0,a._)`${l.default.data}, ${p(he)}`,X.$async,()=>te.code(y(we,he)).code(ge))}function p(te){return(0,a._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${te.dynamicRef?(0,a._)`, ${l.default.dynamicAnchors}={}`:a.nil}}={}`}function m(te,se){te.if(l.default.valCxt,()=>{te.var(l.default.instancePath,(0,a._)`${l.default.valCxt}.${l.default.instancePath}`),te.var(l.default.parentData,(0,a._)`${l.default.valCxt}.${l.default.parentData}`),te.var(l.default.parentDataProperty,(0,a._)`${l.default.valCxt}.${l.default.parentDataProperty}`),te.var(l.default.rootData,(0,a._)`${l.default.valCxt}.${l.default.rootData}`),se.dynamicRef&&te.var(l.default.dynamicAnchors,(0,a._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{te.var(l.default.instancePath,(0,a._)`""`),te.var(l.default.parentData,(0,a._)`undefined`),te.var(l.default.parentDataProperty,(0,a._)`undefined`),te.var(l.default.rootData,l.default.data),se.dynamicRef&&te.var(l.default.dynamicAnchors,(0,a._)`{}`)})}function g(te){const{schema:se,opts:we,gen:X}=te;h(te,()=>{we.$comment&&se.$comment&&M(te),I(te),X.let(l.default.vErrors,null),X.let(l.default.errors,0),we.unevaluated&&v(te),k(te),O(te)})}function v(te){const{gen:se,validateName:we}=te;te.evaluated=se.const("evaluated",(0,a._)`${we}.evaluated`),se.if((0,a._)`${te.evaluated}.dynamicProps`,()=>se.assign((0,a._)`${te.evaluated}.props`,(0,a._)`undefined`)),se.if((0,a._)`${te.evaluated}.dynamicItems`,()=>se.assign((0,a._)`${te.evaluated}.items`,(0,a._)`undefined`))}function y(te,se){const we=typeof te=="object"&&te[se.schemaId];return we&&(se.code.source||se.code.process)?(0,a._)`/*# sourceURL=${we} */`:a.nil}function x(te,se){if(_(te)&&(T(te),E(te))){S(te,se);return}(0,e.boolOrEmptySchema)(te,se)}function E({schema:te,self:se}){if(typeof te=="boolean")return!te;for(const we in te)if(se.RULES.all[we])return!0;return!1}function _(te){return typeof te.schema!="boolean"}function S(te,se){const{schema:we,gen:X,opts:he}=te;he.$comment&&we.$comment&&M(te),P(te),N(te);const ge=X.const("_errs",l.default.errors);k(te,ge),X.var(se,(0,a._)`${ge} === ${l.default.errors}`)}function T(te){(0,c.checkUnknownRules)(te),R(te)}function k(te,se){if(te.opts.jtd)return U(te,[],!1,se);const we=(0,t.getSchemaTypes)(te.schema),X=(0,t.coerceAndCheckDataType)(te,we);U(te,we,!X,se)}function R(te){const{schema:se,errSchemaPath:we,opts:X,self:he}=te;se.$ref&&X.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(se,he.RULES)&&he.logger.warn(`$ref: keywords ignored in schema at path "${we}"`)}function I(te){const{schema:se,opts:we}=te;se.default!==void 0&&we.useDefaults&&we.strictSchema&&(0,c.checkStrictMode)(te,"default is ignored in the schema root")}function P(te){const se=te.schema[te.opts.schemaId];se&&(te.baseId=(0,u.resolveUrl)(te.opts.uriResolver,te.baseId,se))}function N(te){if(te.schema.$async&&!te.schemaEnv.$async)throw new Error("async schema in sync schema")}function M({gen:te,schemaEnv:se,schema:we,errSchemaPath:X,opts:he}){const ge=we.$comment;if(he.$comment===!0)te.code((0,a._)`${l.default.self}.logger.log(${ge})`);else if(typeof he.$comment=="function"){const re=(0,a.str)`${X}/$comment`,ee=te.scopeValue("root",{ref:se.root});te.code((0,a._)`${l.default.self}.opts.$comment(${ge}, ${re}, ${ee}.schema)`)}}function O(te){const{gen:se,schemaEnv:we,validateName:X,ValidationError:he,opts:ge}=te;we.$async?se.if((0,a._)`${l.default.errors} === 0`,()=>se.return(l.default.data),()=>se.throw((0,a._)`new ${he}(${l.default.vErrors})`)):(se.assign((0,a._)`${X}.errors`,l.default.vErrors),ge.unevaluated&&j(te),se.return((0,a._)`${l.default.errors} === 0`))}function j({gen:te,evaluated:se,props:we,items:X}){we instanceof a.Name&&te.assign((0,a._)`${se}.props`,we),X instanceof a.Name&&te.assign((0,a._)`${se}.items`,X)}function U(te,se,we,X){const{gen:he,schema:ge,data:re,allErrors:ee,opts:fe,self:Re}=te,{RULES:Oe}=Re;if(ge.$ref&&(fe.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(ge,Oe))){he.block(()=>ce(te,"$ref",Oe.all.$ref.definition));return}fe.jtd||W(te,se),he.block(()=>{for(const Se of Oe.rules)Ae(Se);Ae(Oe.post)});function Ae(Se){(0,n.shouldUseGroup)(ge,Se)&&(Se.type?(he.if((0,r.checkDataType)(Se.type,re,fe.strictNumbers)),q(te,Se),se.length===1&&se[0]===Se.type&&we&&(he.else(),(0,r.reportTypeError)(te)),he.endIf()):q(te,Se),ee||he.if((0,a._)`${l.default.errors} === ${X||0}`))}}function q(te,se){const{gen:we,schema:X,opts:{useDefaults:he}}=te;he&&(0,i.assignDefaults)(te,se.type),we.block(()=>{for(const ge of se.rules)(0,n.shouldUseRule)(X,ge)&&ce(te,ge.keyword,ge.definition,se.type)})}function W(te,se){te.schemaEnv.meta||!te.opts.strictTypes||(V(te,se),te.opts.allowUnionTypes||z(te,se),L(te,te.dataTypes))}function V(te,se){if(se.length){if(!te.dataTypes.length){te.dataTypes=se;return}se.forEach(we=>{B(te.dataTypes,we)||Q(te,`type "${we}" not allowed by context "${te.dataTypes.join(",")}"`)}),Y(te,se)}}function z(te,se){se.length>1&&!(se.length===2&&se.includes("null"))&&Q(te,"use allowUnionTypes to allow union type keyword")}function L(te,se){const we=te.self.RULES.all;for(const X in we){const he=we[X];if(typeof he=="object"&&(0,n.shouldUseRule)(te.schema,he)){const{type:ge}=he.definition;ge.length&&!ge.some(re=>H(se,re))&&Q(te,`missing type "${ge.join(",")}" for keyword "${X}"`)}}}function H(te,se){return te.includes(se)||se==="number"&&te.includes("integer")}function B(te,se){return te.includes(se)||se==="integer"&&te.includes("number")}function Y(te,se){const we=[];for(const X of te.dataTypes)B(se,X)?we.push(X):se.includes("integer")&&X==="number"&&we.push("integer");te.dataTypes=we}function Q(te,se){const we=te.schemaEnv.baseId+te.errSchemaPath;se+=` at "${we}" (strictTypes)`,(0,c.checkStrictMode)(te,se,te.opts.strictTypes)}class ne{constructor(se,we,X){if((0,o.validateKeywordUsage)(se,we,X),this.gen=se.gen,this.allErrors=se.allErrors,this.keyword=X,this.data=se.data,this.schema=se.schema[X],this.$data=we.$data&&se.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(se,this.schema,X,this.$data),this.schemaType=we.schemaType,this.parentSchema=se.schema,this.params={},this.it=se,this.def=we,this.$data)this.schemaCode=se.gen.const("vSchema",ae(this.$data,se));else if(this.schemaCode=this.schemaValue,!(0,o.validSchemaType)(this.schema,we.schemaType,we.allowUndefined))throw new Error(`${X} value must be ${JSON.stringify(we.schemaType)}`);("code"in we?we.trackErrors:we.errors!==!1)&&(this.errsCount=se.gen.const("_errs",l.default.errors))}result(se,we,X){this.failResult((0,a.not)(se),we,X)}failResult(se,we,X){this.gen.if(se),X?X():this.error(),we?(this.gen.else(),we(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(se,we){this.failResult((0,a.not)(se),void 0,we)}fail(se){if(se===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(se),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(se){if(!this.$data)return this.fail(se);const{schemaCode:we}=this;this.fail((0,a._)`${we} !== undefined && (${(0,a.or)(this.invalid$data(),se)})`)}error(se,we,X){if(we){this.setParams(we),this._error(se,X),this.setParams({});return}this._error(se,X)}_error(se,we){(se?d.reportExtraError:d.reportError)(this,this.def.error,we)}$dataError(){(0,d.reportError)(this,this.def.$dataError||d.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,d.resetErrorsCount)(this.gen,this.errsCount)}ok(se){this.allErrors||this.gen.if(se)}setParams(se,we){we?Object.assign(this.params,se):this.params=se}block$data(se,we,X=a.nil){this.gen.block(()=>{this.check$data(se,X),we()})}check$data(se=a.nil,we=a.nil){if(!this.$data)return;const{gen:X,schemaCode:he,schemaType:ge,def:re}=this;X.if((0,a.or)((0,a._)`${he} === undefined`,we)),se!==a.nil&&X.assign(se,!0),(ge.length||re.validateSchema)&&(X.elseIf(this.invalid$data()),this.$dataError(),se!==a.nil&&X.assign(se,!1)),X.else()}invalid$data(){const{gen:se,schemaCode:we,schemaType:X,def:he,it:ge}=this;return(0,a.or)(re(),ee());function re(){if(X.length){if(!(we instanceof a.Name))throw new Error("ajv implementation error");const fe=Array.isArray(X)?X:[X];return(0,a._)`${(0,r.checkDataTypes)(fe,we,ge.opts.strictNumbers,r.DataType.Wrong)}`}return a.nil}function ee(){if(he.validateSchema){const fe=se.scopeValue("validate$data",{ref:he.validateSchema});return(0,a._)`!${fe}(${we})`}return a.nil}}subschema(se,we){const X=(0,s.getSubschema)(this.it,se);(0,s.extendSubschemaData)(X,this.it,se),(0,s.extendSubschemaMode)(X,se);const he={...this.it,...X,items:void 0,props:void 0};return x(he,we),he}mergeEvaluated(se,we){const{it:X,gen:he}=this;X.opts.unevaluated&&(X.props!==!0&&se.props!==void 0&&(X.props=c.mergeEvaluated.props(he,se.props,X.props,we)),X.items!==!0&&se.items!==void 0&&(X.items=c.mergeEvaluated.items(he,se.items,X.items,we)))}mergeValidEvaluated(se,we){const{it:X,gen:he}=this;if(X.opts.unevaluated&&(X.props!==!0||X.items!==!0))return he.if(we,()=>this.mergeEvaluated(se,a.Name)),!0}}Cp.KeywordCxt=ne;function ce(te,se,we,X){const he=new ne(te,we,se);"code"in we?we.code(he,X):he.$data&&we.validate?(0,o.funcKeywordCode)(he,we):"macro"in we?(0,o.macroKeywordCode)(he,we):(we.compile||we.validate)&&(0,o.funcKeywordCode)(he,we)}const le=/^\/(?:[^~]|~0|~1)*$/,ue=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ae(te,{dataLevel:se,dataNames:we,dataPathArr:X}){let he,ge;if(te==="")return l.default.rootData;if(te[0]==="/"){if(!le.test(te))throw new Error(`Invalid JSON-pointer: ${te}`);he=te,ge=l.default.rootData}else{const Re=ue.exec(te);if(!Re)throw new Error(`Invalid JSON-pointer: ${te}`);const Oe=+Re[1];if(he=Re[2],he==="#"){if(Oe>=se)throw new Error(fe("property/index",Oe));return X[se-Oe]}if(Oe>se)throw new Error(fe("data",Oe));if(ge=we[se-Oe],!he)return ge}let re=ge;const ee=he.split("/");for(const Re of ee)Re&&(ge=(0,a._)`${ge}${(0,a.getProperty)((0,c.unescapeJsonPointer)(Re))}`,re=(0,a._)`${re} && ${ge}`);return re;function fe(Re,Oe){return`Cannot access ${Re} ${Oe} levels up, current level is ${se}`}}return Cp.getData=ae,Cp}var II={},ige;function Ree(){if(ige)return II;ige=1,Object.defineProperty(II,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return II.default=e,II}var DI={},oge;function y$(){if(oge)return DI;oge=1,Object.defineProperty(DI,"__esModule",{value:!0});const e=m$();class t extends Error{constructor(r,i,o,s){super(s||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,e.resolveUrl)(r,i,o),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return DI.default=t,DI}var xu={},sge;function Iee(){if(sge)return xu;sge=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.resolveSchema=xu.getCompilingSchema=xu.resolveRef=xu.compileSchema=xu.SchemaEnv=void 0;const e=vr(),t=Ree(),n=fy(),r=m$(),i=Fr(),o=g$();class s{constructor(v){var y;this.refs={},this.dynamicAnchors={};let x;typeof v.schema=="object"&&(x=v.schema),this.schema=v.schema,this.schemaId=v.schemaId,this.root=v.root||this,this.baseId=(y=v.baseId)!==null&&y!==void 0?y:(0,r.normalizeId)(x?.[v.schemaId||"$id"]),this.schemaPath=v.schemaPath,this.localRefs=v.localRefs,this.meta=v.meta,this.$async=x?.$async,this.refs={}}}xu.SchemaEnv=s;function a(g){const v=c.call(this,g);if(v)return v;const y=(0,r.getFullPath)(this.opts.uriResolver,g.root.baseId),{es5:x,lines:E}=this.opts.code,{ownProperties:_}=this.opts,S=new e.CodeGen(this.scope,{es5:x,lines:E,ownProperties:_});let T;g.$async&&(T=S.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const k=S.scopeName("validate");g.validateName=k;const R={gen:S,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:S.scopeValue("schema",this.opts.code.source===!0?{ref:g.schema,code:(0,e.stringify)(g.schema)}:{ref:g.schema}),validateName:k,ValidationError:T,schema:g.schema,schemaEnv:g,rootId:y,baseId:g.baseId||y,schemaPath:e.nil,errSchemaPath:g.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let I;try{this._compilations.add(g),(0,o.validateFunctionCode)(R),S.optimize(this.opts.code.optimize);const P=S.toString();I=`${S.scopeRefs(n.default.scope)}return ${P}`,this.opts.code.process&&(I=this.opts.code.process(I,g));const M=new Function(`${n.default.self}`,`${n.default.scope}`,I)(this,this.scope.get());if(this.scope.value(k,{ref:M}),M.errors=null,M.schema=g.schema,M.schemaEnv=g,g.$async&&(M.$async=!0),this.opts.code.source===!0&&(M.source={validateName:k,validateCode:P,scopeValues:S._values}),this.opts.unevaluated){const{props:O,items:j}=R;M.evaluated={props:O instanceof e.Name?void 0:O,items:j instanceof e.Name?void 0:j,dynamicProps:O instanceof e.Name,dynamicItems:j instanceof e.Name},M.source&&(M.source.evaluated=(0,e.stringify)(M.evaluated))}return g.validate=M,g}catch(P){throw delete g.validate,delete g.validateName,I&&this.logger.error("Error compiling schema, function code:",I),P}finally{this._compilations.delete(g)}}xu.compileSchema=a;function l(g,v,y){var x;y=(0,r.resolveUrl)(this.opts.uriResolver,v,y);const E=g.refs[y];if(E)return E;let _=f.call(this,g,y);if(_===void 0){const S=(x=g.localRefs)===null||x===void 0?void 0:x[y],{schemaId:T}=this.opts;S&&(_=new s({schema:S,schemaId:T,root:g,baseId:v}))}if(_!==void 0)return g.refs[y]=u.call(this,_)}xu.resolveRef=l;function u(g){return(0,r.inlineRef)(g.schema,this.opts.inlineRefs)?g.schema:g.validate?g:a.call(this,g)}function c(g){for(const v of this._compilations)if(d(v,g))return v}xu.getCompilingSchema=c;function d(g,v){return g.schema===v.schema&&g.root===v.root&&g.baseId===v.baseId}function f(g,v){let y;for(;typeof(y=this.refs[v])=="string";)v=y;return y||this.schemas[v]||h.call(this,g,v)}function h(g,v){const y=this.opts.uriResolver.parse(v),x=(0,r._getFullPath)(this.opts.uriResolver,y);let E=(0,r.getFullPath)(this.opts.uriResolver,g.baseId,void 0);if(Object.keys(g.schema).length>0&&x===E)return m.call(this,y,g);const _=(0,r.normalizeId)(x),S=this.refs[_]||this.schemas[_];if(typeof S=="string"){const T=h.call(this,g,S);return typeof T?.schema!="object"?void 0:m.call(this,y,T)}if(typeof S?.schema=="object"){if(S.validate||a.call(this,S),_===(0,r.normalizeId)(v)){const{schema:T}=S,{schemaId:k}=this.opts,R=T[k];return R&&(E=(0,r.resolveUrl)(this.opts.uriResolver,E,R)),new s({schema:T,schemaId:k,root:g,baseId:E})}return m.call(this,y,S)}}xu.resolveSchema=h;const p=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function m(g,{baseId:v,schema:y,root:x}){var E;if(((E=g.fragment)===null||E===void 0?void 0:E[0])!=="/")return;for(const T of g.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const k=y[(0,i.unescapeFragment)(T)];if(k===void 0)return;y=k;const R=typeof y=="object"&&y[this.opts.schemaId];!p.has(T)&&R&&(v=(0,r.resolveUrl)(this.opts.uriResolver,v,R))}let _;if(typeof y!="boolean"&&y.$ref&&!(0,i.schemaHasRulesButRef)(y,this.RULES)){const T=(0,r.resolveUrl)(this.opts.uriResolver,v,y.$ref);_=h.call(this,x,T)}const{schemaId:S}=this.opts;if(_=_||new s({schema:y,schemaId:S,root:x,baseId:v}),_.schema!==_.root.schema)return _}return xu}const iWt="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",oWt="Meta-schema for $data reference (JSON AnySchema extension proposal)",sWt="object",aWt=["$data"],lWt={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},uWt=!1,cWt={$id:iWt,description:oWt,type:sWt,required:aWt,properties:lWt,additionalProperties:uWt};var PI={},yE={exports:{}},IB,age;function sMe(){if(age)return IB;age=1;const e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),t=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function n(f){let h="",p=0,m=0;for(m=0;m<f.length;m++)if(p=f[m].charCodeAt(0),p!==48){if(!(p>=48&&p<=57||p>=65&&p<=70||p>=97&&p<=102))return"";h+=f[m];break}for(m+=1;m<f.length;m++){if(p=f[m].charCodeAt(0),!(p>=48&&p<=57||p>=65&&p<=70||p>=97&&p<=102))return"";h+=f[m]}return h}const r=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function i(f){return f.length=0,!0}function o(f,h,p){if(f.length){const m=n(f);if(m!=="")h.push(m);else return p.error=!0,!1;f.length=0}return!0}function s(f){let h=0;const p={error:!1,address:"",zone:""},m=[],g=[];let v=!1,y=!1,x=o;for(let E=0;E<f.length;E++){const _=f[E];if(!(_==="["||_==="]"))if(_===":"){if(v===!0&&(y=!0),!x(g,m,p))break;if(++h>7){p.error=!0;break}E>0&&f[E-1]===":"&&(v=!0),m.push(":");continue}else if(_==="%"){if(!x(g,m,p))break;x=i}else{g.push(_);continue}}return g.length&&(x===i?p.zone=g.join(""):y?m.push(g.join("")):m.push(n(g))),p.address=m.join(""),p}function a(f){if(l(f,":")<2)return{host:f,isIPV6:!1};const h=s(f);if(h.error)return{host:f,isIPV6:!1};{let p=h.address,m=h.address;return h.zone&&(p+="%"+h.zone,m+="%25"+h.zone),{host:p,isIPV6:!0,escapedHost:m}}}function l(f,h){let p=0;for(let m=0;m<f.length;m++)f[m]===h&&p++;return p}function u(f){let h=f;const p=[];let m=-1,g=0;for(;g=h.length;){if(g===1){if(h===".")break;if(h==="/"){p.push("/");break}else{p.push(h);break}}else if(g===2){if(h[0]==="."){if(h[1]===".")break;if(h[1]==="/"){h=h.slice(2);continue}}else if(h[0]==="/"&&(h[1]==="."||h[1]==="/")){p.push("/");break}}else if(g===3&&h==="/.."){p.length!==0&&p.pop(),p.push("/");break}if(h[0]==="."){if(h[1]==="."){if(h[2]==="/"){h=h.slice(3);continue}}else if(h[1]==="/"){h=h.slice(2);continue}}else if(h[0]==="/"&&h[1]==="."){if(h[2]==="/"){h=h.slice(2);continue}else if(h[2]==="."&&h[3]==="/"){h=h.slice(3),p.length!==0&&p.pop();continue}}if((m=h.indexOf("/",1))===-1){p.push(h);break}else p.push(h.slice(0,m)),h=h.slice(m)}return p.join("")}function c(f,h){const p=h!==!0?escape:unescape;return f.scheme!==void 0&&(f.scheme=p(f.scheme)),f.userinfo!==void 0&&(f.userinfo=p(f.userinfo)),f.host!==void 0&&(f.host=p(f.host)),f.path!==void 0&&(f.path=p(f.path)),f.query!==void 0&&(f.query=p(f.query)),f.fragment!==void 0&&(f.fragment=p(f.fragment)),f}function d(f){const h=[];if(f.userinfo!==void 0&&(h.push(f.userinfo),h.push("@")),f.host!==void 0){let p=unescape(f.host);if(!t(p)){const m=a(p);m.isIPV6===!0?p=`[${m.escapedHost}]`:p=f.host}h.push(p)}return(typeof f.port=="number"||typeof f.port=="string")&&(h.push(":"),h.push(String(f.port))),h.length?h.join(""):void 0}return IB={nonSimpleDomain:r,recomposeAuthority:d,normalizeComponentEncoding:c,removeDotSegments:u,isIPv4:t,isUUID:e,normalizeIPv6:a,stringArrayToHexStripped:n},IB}var DB,lge;function dWt(){if(lge)return DB;lge=1;const{isUUID:e}=sMe(),t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,n=["http","https","ws","wss","urn","urn:uuid"];function r(_){return n.indexOf(_)!==-1}function i(_){return _.secure===!0?!0:_.secure===!1?!1:_.scheme?_.scheme.length===3&&(_.scheme[0]==="w"||_.scheme[0]==="W")&&(_.scheme[1]==="s"||_.scheme[1]==="S")&&(_.scheme[2]==="s"||_.scheme[2]==="S"):!1}function o(_){return _.host||(_.error=_.error||"HTTP URIs must have a host."),_}function s(_){const S=String(_.scheme).toLowerCase()==="https";return(_.port===(S?443:80)||_.port==="")&&(_.port=void 0),_.path||(_.path="/"),_}function a(_){return _.secure=i(_),_.resourceName=(_.path||"/")+(_.query?"?"+_.query:""),_.path=void 0,_.query=void 0,_}function l(_){if((_.port===(i(_)?443:80)||_.port==="")&&(_.port=void 0),typeof _.secure=="boolean"&&(_.scheme=_.secure?"wss":"ws",_.secure=void 0),_.resourceName){const[S,T]=_.resourceName.split("?");_.path=S&&S!=="/"?S:void 0,_.query=T,_.resourceName=void 0}return _.fragment=void 0,_}function u(_,S){if(!_.path)return _.error="URN can not be parsed",_;const T=_.path.match(t);if(T){const k=S.scheme||_.scheme||"urn";_.nid=T[1].toLowerCase(),_.nss=T[2];const R=`${k}:${S.nid||_.nid}`,I=E(R);_.path=void 0,I&&(_=I.parse(_,S))}else _.error=_.error||"URN can not be parsed.";return _}function c(_,S){if(_.nid===void 0)throw new Error("URN without nid cannot be serialized");const T=S.scheme||_.scheme||"urn",k=_.nid.toLowerCase(),R=`${T}:${S.nid||k}`,I=E(R);I&&(_=I.serialize(_,S));const P=_,N=_.nss;return P.path=`${k||S.nid}:${N}`,S.skipEscape=!0,P}function d(_,S){const T=_;return T.uuid=T.nss,T.nss=void 0,!S.tolerant&&(!T.uuid||!e(T.uuid))&&(T.error=T.error||"UUID is not valid."),T}function f(_){const S=_;return S.nss=(_.uuid||"").toLowerCase(),S}const h={scheme:"http",domainHost:!0,parse:o,serialize:s},p={scheme:"https",domainHost:h.domainHost,parse:o,serialize:s},m={scheme:"ws",domainHost:!0,parse:a,serialize:l},g={scheme:"wss",domainHost:m.domainHost,parse:m.parse,serialize:m.serialize},x={http:h,https:p,ws:m,wss:g,urn:{scheme:"urn",parse:u,serialize:c,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:d,serialize:f,skipNormalize:!0}};Object.setPrototypeOf(x,null);function E(_){return _&&(x[_]||x[_.toLowerCase()])||void 0}return DB={wsIsSecure:i,SCHEMES:x,isValidSchemeName:r,getSchemeHandler:E},DB}var uge;function fWt(){if(uge)return yE.exports;uge=1;const{normalizeIPv6:e,removeDotSegments:t,recomposeAuthority:n,normalizeComponentEncoding:r,isIPv4:i,nonSimpleDomain:o}=sMe(),{SCHEMES:s,getSchemeHandler:a}=dWt();function l(g,v){return typeof g=="string"?g=f(p(g,v),v):typeof g=="object"&&(g=p(f(g,v),v)),g}function u(g,v,y){const x=y?Object.assign({scheme:"null"},y):{scheme:"null"},E=c(p(g,x),p(v,x),x,!0);return x.skipEscape=!0,f(E,x)}function c(g,v,y,x){const E={};return x||(g=p(f(g,y),y),v=p(f(v,y),y)),y=y||{},!y.tolerant&&v.scheme?(E.scheme=v.scheme,E.userinfo=v.userinfo,E.host=v.host,E.port=v.port,E.path=t(v.path||""),E.query=v.query):(v.userinfo!==void 0||v.host!==void 0||v.port!==void 0?(E.userinfo=v.userinfo,E.host=v.host,E.port=v.port,E.path=t(v.path||""),E.query=v.query):(v.path?(v.path[0]==="/"?E.path=t(v.path):((g.userinfo!==void 0||g.host!==void 0||g.port!==void 0)&&!g.path?E.path="/"+v.path:g.path?E.path=g.path.slice(0,g.path.lastIndexOf("/")+1)+v.path:E.path=v.path,E.path=t(E.path)),E.query=v.query):(E.path=g.path,v.query!==void 0?E.query=v.query:E.query=g.query),E.userinfo=g.userinfo,E.host=g.host,E.port=g.port),E.scheme=g.scheme),E.fragment=v.fragment,E}function d(g,v,y){return typeof g=="string"?(g=unescape(g),g=f(r(p(g,y),!0),{...y,skipEscape:!0})):typeof g=="object"&&(g=f(r(g,!0),{...y,skipEscape:!0})),typeof v=="string"?(v=unescape(v),v=f(r(p(v,y),!0),{...y,skipEscape:!0})):typeof v=="object"&&(v=f(r(v,!0),{...y,skipEscape:!0})),g.toLowerCase()===v.toLowerCase()}function f(g,v){const y={host:g.host,scheme:g.scheme,userinfo:g.userinfo,port:g.port,path:g.path,query:g.query,nid:g.nid,nss:g.nss,uuid:g.uuid,fragment:g.fragment,reference:g.reference,resourceName:g.resourceName,secure:g.secure,error:""},x=Object.assign({},v),E=[],_=a(x.scheme||y.scheme);_&&_.serialize&&_.serialize(y,x),y.path!==void 0&&(x.skipEscape?y.path=unescape(y.path):(y.path=escape(y.path),y.scheme!==void 0&&(y.path=y.path.split("%3A").join(":")))),x.reference!=="suffix"&&y.scheme&&E.push(y.scheme,":");const S=n(y);if(S!==void 0&&(x.reference!=="suffix"&&E.push("//"),E.push(S),y.path&&y.path[0]!=="/"&&E.push("/")),y.path!==void 0){let T=y.path;!x.absolutePath&&(!_||!_.absolutePath)&&(T=t(T)),S===void 0&&T[0]==="/"&&T[1]==="/"&&(T="/%2F"+T.slice(2)),E.push(T)}return y.query!==void 0&&E.push("?",y.query),y.fragment!==void 0&&E.push("#",y.fragment),E.join("")}const h=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function p(g,v){const y=Object.assign({},v),x={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let E=!1;y.reference==="suffix"&&(y.scheme?g=y.scheme+":"+g:g="//"+g);const _=g.match(h);if(_){if(x.scheme=_[1],x.userinfo=_[3],x.host=_[4],x.port=parseInt(_[5],10),x.path=_[6]||"",x.query=_[7],x.fragment=_[8],isNaN(x.port)&&(x.port=_[5]),x.host)if(i(x.host)===!1){const k=e(x.host);x.host=k.host.toLowerCase(),E=k.isIPV6}else E=!0;x.scheme===void 0&&x.userinfo===void 0&&x.host===void 0&&x.port===void 0&&x.query===void 0&&!x.path?x.reference="same-document":x.scheme===void 0?x.reference="relative":x.fragment===void 0?x.reference="absolute":x.reference="uri",y.reference&&y.reference!=="suffix"&&y.reference!==x.reference&&(x.error=x.error||"URI is not a "+y.reference+" reference.");const S=a(y.scheme||x.scheme);if(!y.unicodeSupport&&(!S||!S.unicodeSupport)&&x.host&&(y.domainHost||S&&S.domainHost)&&E===!1&&o(x.host))try{x.host=URL.domainToASCII(x.host.toLowerCase())}catch(T){x.error=x.error||"Host's domain name can not be converted to ASCII: "+T}(!S||S&&!S.skipNormalize)&&(g.indexOf("%")!==-1&&(x.scheme!==void 0&&(x.scheme=unescape(x.scheme)),x.host!==void 0&&(x.host=unescape(x.host))),x.path&&(x.path=escape(unescape(x.path))),x.fragment&&(x.fragment=encodeURI(decodeURIComponent(x.fragment)))),S&&S.parse&&S.parse(x,y)}else x.error=x.error||"URI can not be parsed.";return x}const m={SCHEMES:s,normalize:l,resolve:u,resolveComponent:c,equal:d,serialize:f,parse:p};return yE.exports=m,yE.exports.default=m,yE.exports.fastUri=m,yE.exports}var cge;function hWt(){if(cge)return PI;cge=1,Object.defineProperty(PI,"__esModule",{value:!0});const e=fWt();return e.code='require("ajv/dist/runtime/uri").default',PI.default=e,PI}var dge;function pWt(){return dge||(dge=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=g$();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=vr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=Ree(),i=y$(),o=iMe(),s=Iee(),a=vr(),l=m$(),u=e4(),c=Fr(),d=cWt,f=hWt(),h=(z,L)=>new RegExp(z,L);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=200;function x(z){var L,H,B,Y,Q,ne,ce,le,ue,ae,te,se,we,X,he,ge,re,ee,fe,Re,Oe,Ae,Se,xe,ke;const me=z.strict,Me=(L=z.code)===null||L===void 0?void 0:L.optimize,ze=Me===!0||Me===void 0?1:Me||0,Xe=(B=(H=z.code)===null||H===void 0?void 0:H.regExp)!==null&&B!==void 0?B:h,tt=(Y=z.uriResolver)!==null&&Y!==void 0?Y:f.default;return{strictSchema:(ne=(Q=z.strictSchema)!==null&&Q!==void 0?Q:me)!==null&&ne!==void 0?ne:!0,strictNumbers:(le=(ce=z.strictNumbers)!==null&&ce!==void 0?ce:me)!==null&&le!==void 0?le:!0,strictTypes:(ae=(ue=z.strictTypes)!==null&&ue!==void 0?ue:me)!==null&&ae!==void 0?ae:"log",strictTuples:(se=(te=z.strictTuples)!==null&&te!==void 0?te:me)!==null&&se!==void 0?se:"log",strictRequired:(X=(we=z.strictRequired)!==null&&we!==void 0?we:me)!==null&&X!==void 0?X:!1,code:z.code?{...z.code,optimize:ze,regExp:Xe}:{optimize:ze,regExp:Xe},loopRequired:(he=z.loopRequired)!==null&&he!==void 0?he:y,loopEnum:(ge=z.loopEnum)!==null&&ge!==void 0?ge:y,meta:(re=z.meta)!==null&&re!==void 0?re:!0,messages:(ee=z.messages)!==null&&ee!==void 0?ee:!0,inlineRefs:(fe=z.inlineRefs)!==null&&fe!==void 0?fe:!0,schemaId:(Re=z.schemaId)!==null&&Re!==void 0?Re:"$id",addUsedSchema:(Oe=z.addUsedSchema)!==null&&Oe!==void 0?Oe:!0,validateSchema:(Ae=z.validateSchema)!==null&&Ae!==void 0?Ae:!0,validateFormats:(Se=z.validateFormats)!==null&&Se!==void 0?Se:!0,unicodeRegExp:(xe=z.unicodeRegExp)!==null&&xe!==void 0?xe:!0,int32range:(ke=z.int32range)!==null&&ke!==void 0?ke:!0,uriResolver:tt}}class E{constructor(L={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,L=this.opts={...L,...x(L)};const{es5:H,lines:B}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:H,lines:B}),this.logger=N(L.logger);const Y=L.validateFormats;L.validateFormats=!1,this.RULES=(0,o.getRules)(),_.call(this,g,L,"NOT SUPPORTED"),_.call(this,v,L,"DEPRECATED","warn"),this._metaOpts=I.call(this),L.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),L.keywords&&R.call(this,L.keywords),typeof L.meta=="object"&&this.addMetaSchema(L.meta),T.call(this),L.validateFormats=Y}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:L,meta:H,schemaId:B}=this.opts;let Y=d;B==="id"&&(Y={...d},Y.id=Y.$id,delete Y.$id),H&&L&&this.addMetaSchema(Y,Y[B],!1)}defaultMeta(){const{meta:L,schemaId:H}=this.opts;return this.opts.defaultMeta=typeof L=="object"?L[H]||L:void 0}validate(L,H){let B;if(typeof L=="string"){if(B=this.getSchema(L),!B)throw new Error(`no schema with key or ref "${L}"`)}else B=this.compile(L);const Y=B(H);return"$async"in B||(this.errors=B.errors),Y}compile(L,H){const B=this._addSchema(L,H);return B.validate||this._compileSchemaEnv(B)}compileAsync(L,H){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:B}=this.opts;return Y.call(this,L,H);async function Y(ae,te){await Q.call(this,ae.$schema);const se=this._addSchema(ae,te);return se.validate||ne.call(this,se)}async function Q(ae){ae&&!this.getSchema(ae)&&await Y.call(this,{$ref:ae},!0)}async function ne(ae){try{return this._compileSchemaEnv(ae)}catch(te){if(!(te instanceof i.default))throw te;return ce.call(this,te),await le.call(this,te.missingSchema),ne.call(this,ae)}}function ce({missingSchema:ae,missingRef:te}){if(this.refs[ae])throw new Error(`AnySchema ${ae} is loaded but ${te} cannot be resolved`)}async function le(ae){const te=await ue.call(this,ae);this.refs[ae]||await Q.call(this,te.$schema),this.refs[ae]||this.addSchema(te,ae,H)}async function ue(ae){const te=this._loading[ae];if(te)return te;try{return await(this._loading[ae]=B(ae))}finally{delete this._loading[ae]}}}addSchema(L,H,B,Y=this.opts.validateSchema){if(Array.isArray(L)){for(const ne of L)this.addSchema(ne,void 0,B,Y);return this}let Q;if(typeof L=="object"){const{schemaId:ne}=this.opts;if(Q=L[ne],Q!==void 0&&typeof Q!="string")throw new Error(`schema ${ne} must be string`)}return H=(0,l.normalizeId)(H||Q),this._checkUnique(H),this.schemas[H]=this._addSchema(L,B,H,Y,!0),this}addMetaSchema(L,H,B=this.opts.validateSchema){return this.addSchema(L,H,!0,B),this}validateSchema(L,H){if(typeof L=="boolean")return!0;let B;if(B=L.$schema,B!==void 0&&typeof B!="string")throw new Error("$schema must be a string");if(B=B||this.opts.defaultMeta||this.defaultMeta(),!B)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const Y=this.validate(B,L);if(!Y&&H){const Q="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(Q);else throw new Error(Q)}return Y}getSchema(L){let H;for(;typeof(H=S.call(this,L))=="string";)L=H;if(H===void 0){const{schemaId:B}=this.opts,Y=new s.SchemaEnv({schema:{},schemaId:B});if(H=s.resolveSchema.call(this,Y,L),!H)return;this.refs[L]=H}return H.validate||this._compileSchemaEnv(H)}removeSchema(L){if(L instanceof RegExp)return this._removeAllSchemas(this.schemas,L),this._removeAllSchemas(this.refs,L),this;switch(typeof L){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const H=S.call(this,L);return typeof H=="object"&&this._cache.delete(H.schema),delete this.schemas[L],delete this.refs[L],this}case"object":{const H=L;this._cache.delete(H);let B=L[this.opts.schemaId];return B&&(B=(0,l.normalizeId)(B),delete this.schemas[B],delete this.refs[B]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(L){for(const H of L)this.addKeyword(H);return this}addKeyword(L,H){let B;if(typeof L=="string")B=L,typeof H=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),H.keyword=B);else if(typeof L=="object"&&H===void 0){if(H=L,B=H.keyword,Array.isArray(B)&&!B.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(O.call(this,B,H),!H)return(0,c.eachItem)(B,Q=>j.call(this,Q)),this;q.call(this,H);const Y={...H,type:(0,u.getJSONTypes)(H.type),schemaType:(0,u.getJSONTypes)(H.schemaType)};return(0,c.eachItem)(B,Y.type.length===0?Q=>j.call(this,Q,Y):Q=>Y.type.forEach(ne=>j.call(this,Q,Y,ne))),this}getKeyword(L){const H=this.RULES.all[L];return typeof H=="object"?H.definition:!!H}removeKeyword(L){const{RULES:H}=this;delete H.keywords[L],delete H.all[L];for(const B of H.rules){const Y=B.rules.findIndex(Q=>Q.keyword===L);Y>=0&&B.rules.splice(Y,1)}return this}addFormat(L,H){return typeof H=="string"&&(H=new RegExp(H)),this.formats[L]=H,this}errorsText(L=this.errors,{separator:H=", ",dataVar:B="data"}={}){return!L||L.length===0?"No errors":L.map(Y=>`${B}${Y.instancePath} ${Y.message}`).reduce((Y,Q)=>Y+H+Q)}$dataMetaSchema(L,H){const B=this.RULES.all;L=JSON.parse(JSON.stringify(L));for(const Y of H){const Q=Y.split("/").slice(1);let ne=L;for(const ce of Q)ne=ne[ce];for(const ce in B){const le=B[ce];if(typeof le!="object")continue;const{$data:ue}=le.definition,ae=ne[ce];ue&&ae&&(ne[ce]=V(ae))}}return L}_removeAllSchemas(L,H){for(const B in L){const Y=L[B];(!H||H.test(B))&&(typeof Y=="string"?delete L[B]:Y&&!Y.meta&&(this._cache.delete(Y.schema),delete L[B]))}}_addSchema(L,H,B,Y=this.opts.validateSchema,Q=this.opts.addUsedSchema){let ne;const{schemaId:ce}=this.opts;if(typeof L=="object")ne=L[ce];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof L!="boolean")throw new Error("schema must be object or boolean")}let le=this._cache.get(L);if(le!==void 0)return le;B=(0,l.normalizeId)(ne||B);const ue=l.getSchemaRefs.call(this,L,B);return le=new s.SchemaEnv({schema:L,schemaId:ce,meta:H,baseId:B,localRefs:ue}),this._cache.set(le.schema,le),Q&&!B.startsWith("#")&&(B&&this._checkUnique(B),this.refs[B]=le),Y&&this.validateSchema(L,!0),le}_checkUnique(L){if(this.schemas[L]||this.refs[L])throw new Error(`schema with key or id "${L}" already exists`)}_compileSchemaEnv(L){if(L.meta?this._compileMetaSchema(L):s.compileSchema.call(this,L),!L.validate)throw new Error("ajv implementation error");return L.validate}_compileMetaSchema(L){const H=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,L)}finally{this.opts=H}}}E.ValidationError=r.default,E.MissingRefError=i.default,e.default=E;function _(z,L,H,B="error"){for(const Y in z){const Q=Y;Q in L&&this.logger[B](`${H}: option ${Y}. ${z[Q]}`)}}function S(z){return z=(0,l.normalizeId)(z),this.schemas[z]||this.refs[z]}function T(){const z=this.opts.schemas;if(z)if(Array.isArray(z))this.addSchema(z);else for(const L in z)this.addSchema(z[L],L)}function k(){for(const z in this.opts.formats){const L=this.opts.formats[z];L&&this.addFormat(z,L)}}function R(z){if(Array.isArray(z)){this.addVocabulary(z);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const L in z){const H=z[L];H.keyword||(H.keyword=L),this.addKeyword(H)}}function I(){const z={...this.opts};for(const L of p)delete z[L];return z}const P={log(){},warn(){},error(){}};function N(z){if(z===!1)return P;if(z===void 0)return console;if(z.log&&z.warn&&z.error)return z;throw new Error("logger must implement log, warn and error methods")}const M=/^[a-z_$][a-z0-9_$:-]*$/i;function O(z,L){const{RULES:H}=this;if((0,c.eachItem)(z,B=>{if(H.keywords[B])throw new Error(`Keyword ${B} is already defined`);if(!M.test(B))throw new Error(`Keyword ${B} has invalid name`)}),!!L&&L.$data&&!("code"in L||"validate"in L))throw new Error('$data keyword must have "code" or "validate" function')}function j(z,L,H){var B;const Y=L?.post;if(H&&Y)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:Q}=this;let ne=Y?Q.post:Q.rules.find(({type:le})=>le===H);if(ne||(ne={type:H,rules:[]},Q.rules.push(ne)),Q.keywords[z]=!0,!L)return;const ce={keyword:z,definition:{...L,type:(0,u.getJSONTypes)(L.type),schemaType:(0,u.getJSONTypes)(L.schemaType)}};L.before?U.call(this,ne,ce,L.before):ne.rules.push(ce),Q.all[z]=ce,(B=L.implements)===null||B===void 0||B.forEach(le=>this.addKeyword(le))}function U(z,L,H){const B=z.rules.findIndex(Y=>Y.keyword===H);B>=0?z.rules.splice(B,0,L):(z.rules.push(L),this.logger.warn(`rule ${H} is not defined`))}function q(z){let{metaSchema:L}=z;L!==void 0&&(z.$data&&this.opts.$data&&(L=V(L)),z.validateSchema=this.compile(L,!0))}const W={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function V(z){return{anyOf:[z,W]}}})(EB)),EB}var OI={},NI={},MI={},fge;function mWt(){if(fge)return MI;fge=1,Object.defineProperty(MI,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return MI.default=e,MI}var yg={},hge;function gWt(){if(hge)return yg;hge=1,Object.defineProperty(yg,"__esModule",{value:!0}),yg.callRef=yg.getValidate=void 0;const e=y$(),t=kf(),n=vr(),r=fy(),i=Iee(),o=Fr(),s={keyword:"$ref",schemaType:"string",code(u){const{gen:c,schema:d,it:f}=u,{baseId:h,schemaEnv:p,validateName:m,opts:g,self:v}=f,{root:y}=p;if((d==="#"||d==="#/")&&h===y.baseId)return E();const x=i.resolveRef.call(v,y,h,d);if(x===void 0)throw new e.default(f.opts.uriResolver,h,d);if(x instanceof i.SchemaEnv)return _(x);return S(x);function E(){if(p===y)return l(u,m,p,p.$async);const T=c.scopeValue("root",{ref:y});return l(u,(0,n._)`${T}.validate`,y,y.$async)}function _(T){const k=a(u,T);l(u,k,T,T.$async)}function S(T){const k=c.scopeValue("schema",g.code.source===!0?{ref:T,code:(0,n.stringify)(T)}:{ref:T}),R=c.name("valid"),I=u.subschema({schema:T,dataTypes:[],schemaPath:n.nil,topSchemaRef:k,errSchemaPath:d},R);u.mergeEvaluated(I),u.ok(R)}}};function a(u,c){const{gen:d}=u;return c.validate?d.scopeValue("validate",{ref:c.validate}):(0,n._)`${d.scopeValue("wrapper",{ref:c})}.validate`}yg.getValidate=a;function l(u,c,d,f){const{gen:h,it:p}=u,{allErrors:m,schemaEnv:g,opts:v}=p,y=v.passContext?r.default.this:n.nil;f?x():E();function x(){if(!g.$async)throw new Error("async schema referenced by sync schema");const T=h.let("valid");h.try(()=>{h.code((0,n._)`await ${(0,t.callValidateCode)(u,c,y)}`),S(c),m||h.assign(T,!0)},k=>{h.if((0,n._)`!(${k} instanceof ${p.ValidationError})`,()=>h.throw(k)),_(k),m||h.assign(T,!1)}),u.ok(T)}function E(){u.result((0,t.callValidateCode)(u,c,y),()=>S(c),()=>_(c))}function _(T){const k=(0,n._)`${T}.errors`;h.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${k} : ${r.default.vErrors}.concat(${k})`),h.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function S(T){var k;if(!p.opts.unevaluated)return;const R=(k=d?.validate)===null||k===void 0?void 0:k.evaluated;if(p.props!==!0)if(R&&!R.dynamicProps)R.props!==void 0&&(p.props=o.mergeEvaluated.props(h,R.props,p.props));else{const I=h.var("props",(0,n._)`${T}.evaluated.props`);p.props=o.mergeEvaluated.props(h,I,p.props,n.Name)}if(p.items!==!0)if(R&&!R.dynamicItems)R.items!==void 0&&(p.items=o.mergeEvaluated.items(h,R.items,p.items));else{const I=h.var("items",(0,n._)`${T}.evaluated.items`);p.items=o.mergeEvaluated.items(h,I,p.items,n.Name)}}}return yg.callRef=l,yg.default=s,yg}var pge;function yWt(){if(pge)return NI;pge=1,Object.defineProperty(NI,"__esModule",{value:!0});const e=mWt(),t=gWt(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return NI.default=n,NI}var $I={},LI={},mge;function vWt(){if(mge)return LI;mge=1,Object.defineProperty(LI,"__esModule",{value:!0});const e=vr(),t=e.operators,n={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:o,schemaCode:s})=>(0,e.str)`must be ${n[o].okStr} ${s}`,params:({keyword:o,schemaCode:s})=>(0,e._)`{comparison: ${n[o].okStr}, limit: ${s}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(o){const{keyword:s,data:a,schemaCode:l}=o;o.fail$data((0,e._)`${a} ${n[s].fail} ${l} || isNaN(${a})`)}};return LI.default=i,LI}var FI={},gge;function bWt(){if(gge)return FI;gge=1,Object.defineProperty(FI,"__esModule",{value:!0});const e=vr(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:o,schemaCode:s,it:a}=r,l=a.opts.multipleOfPrecision,u=i.let("res"),c=l?(0,e._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${l}`:(0,e._)`${u} !== parseInt(${u})`;r.fail$data((0,e._)`(${s} === 0 || (${u} = ${o}/${s}, ${c}))`)}};return FI.default=n,FI}var jI={},BI={},yge;function wWt(){if(yge)return BI;yge=1,Object.defineProperty(BI,"__esModule",{value:!0});function e(t){const n=t.length;let r=0,i=0,o;for(;i<n;)r++,o=t.charCodeAt(i++),o>=55296&&o<=56319&&i<n&&(o=t.charCodeAt(i),(o&64512)===56320&&i++);return r}return BI.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',BI}var vge;function xWt(){if(vge)return jI;vge=1,Object.defineProperty(jI,"__esModule",{value:!0});const e=vr(),t=Fr(),n=wWt(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:o,schemaCode:s}){const a=o==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${s} characters`},params:({schemaCode:o})=>(0,e._)`{limit: ${o}}`},code(o){const{keyword:s,data:a,schemaCode:l,it:u}=o,c=s==="maxLength"?e.operators.GT:e.operators.LT,d=u.opts.unicode===!1?(0,e._)`${a}.length`:(0,e._)`${(0,t.useFunc)(o.gen,n.default)}(${a})`;o.fail$data((0,e._)`${d} ${c} ${l}`)}};return jI.default=i,jI}var zI={},bge;function CWt(){if(bge)return zI;bge=1,Object.defineProperty(zI,"__esModule",{value:!0});const e=kf(),t=Fr(),n=vr(),i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:o})=>(0,n.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,n._)`{pattern: ${o}}`},code(o){const{gen:s,data:a,$data:l,schema:u,schemaCode:c,it:d}=o,f=d.opts.unicodeRegExp?"u":"";if(l){const{regExp:h}=d.opts.code,p=h.code==="new RegExp"?(0,n._)`new RegExp`:(0,t.useFunc)(s,h),m=s.let("valid");s.try(()=>s.assign(m,(0,n._)`${p}(${c}, ${f}).test(${a})`),()=>s.assign(m,!1)),o.fail$data((0,n._)`!${m}`)}else{const h=(0,e.usePattern)(o,u);o.fail$data((0,n._)`!${h}.test(${a})`)}}};return zI.default=i,zI}var UI={},wge;function _Wt(){if(wge)return UI;wge=1,Object.defineProperty(UI,"__esModule",{value:!0});const e=vr(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const o=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${i} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:o,schemaCode:s}=r,a=i==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${o}).length ${a} ${s}`)}};return UI.default=n,UI}var HI={},xge;function EWt(){if(xge)return HI;xge=1,Object.defineProperty(HI,"__esModule",{value:!0});const e=kf(),t=vr(),n=Fr(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:o}})=>(0,t.str)`must have required property '${o}'`,params:({params:{missingProperty:o}})=>(0,t._)`{missingProperty: ${o}}`},code(o){const{gen:s,schema:a,schemaCode:l,data:u,$data:c,it:d}=o,{opts:f}=d;if(!c&&a.length===0)return;const h=a.length>=f.loopRequired;if(d.allErrors?p():m(),f.strictRequired){const y=o.parentSchema.properties,{definedProperties:x}=o.it;for(const E of a)if(y?.[E]===void 0&&!x.has(E)){const _=d.schemaEnv.baseId+d.errSchemaPath,S=`required property "${E}" is not defined at "${_}" (strictRequired)`;(0,n.checkStrictMode)(d,S,d.opts.strictRequired)}}function p(){if(h||c)o.block$data(t.nil,g);else for(const y of a)(0,e.checkReportMissingProp)(o,y)}function m(){const y=s.let("missing");if(h||c){const x=s.let("valid",!0);o.block$data(x,()=>v(y,x)),o.ok(x)}else s.if((0,e.checkMissingProp)(o,a,y)),(0,e.reportMissingProp)(o,y),s.else()}function g(){s.forOf("prop",l,y=>{o.setParams({missingProperty:y}),s.if((0,e.noPropertyInData)(s,u,y,f.ownProperties),()=>o.error())})}function v(y,x){o.setParams({missingProperty:y}),s.forOf(y,l,()=>{s.assign(x,(0,e.propertyInData)(s,u,y,f.ownProperties)),s.if((0,t.not)(x),()=>{o.error(),s.break()})},t.nil)}}};return HI.default=i,HI}var qI={},Cge;function SWt(){if(Cge)return qI;Cge=1,Object.defineProperty(qI,"__esModule",{value:!0});const e=vr(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const o=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${i} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:o,schemaCode:s}=r,a=i==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${o}.length ${a} ${s}`)}};return qI.default=n,qI}var VI={},WI={},_ge;function Dee(){if(_ge)return WI;_ge=1,Object.defineProperty(WI,"__esModule",{value:!0});const e=EY();return e.code='require("ajv/dist/runtime/equal").default',WI.default=e,WI}var Ege;function TWt(){if(Ege)return VI;Ege=1,Object.defineProperty(VI,"__esModule",{value:!0});const e=e4(),t=vr(),n=Fr(),r=Dee(),o={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:s,j:a}})=>(0,t.str)`must NOT have duplicate items (items ## ${a} and ${s} are identical)`,params:({params:{i:s,j:a}})=>(0,t._)`{i: ${s}, j: ${a}}`},code(s){const{gen:a,data:l,$data:u,schema:c,parentSchema:d,schemaCode:f,it:h}=s;if(!u&&!c)return;const p=a.let("valid"),m=d.items?(0,e.getSchemaTypes)(d.items):[];s.block$data(p,g,(0,t._)`${f} === false`),s.ok(p);function g(){const E=a.let("i",(0,t._)`${l}.length`),_=a.let("j");s.setParams({i:E,j:_}),a.assign(p,!0),a.if((0,t._)`${E} > 1`,()=>(v()?y:x)(E,_))}function v(){return m.length>0&&!m.some(E=>E==="object"||E==="array")}function y(E,_){const S=a.name("item"),T=(0,e.checkDataTypes)(m,S,h.opts.strictNumbers,e.DataType.Wrong),k=a.const("indices",(0,t._)`{}`);a.for((0,t._)`;${E}--;`,()=>{a.let(S,(0,t._)`${l}[${E}]`),a.if(T,(0,t._)`continue`),m.length>1&&a.if((0,t._)`typeof ${S} == "string"`,(0,t._)`${S} += "_"`),a.if((0,t._)`typeof ${k}[${S}] == "number"`,()=>{a.assign(_,(0,t._)`${k}[${S}]`),s.error(),a.assign(p,!1).break()}).code((0,t._)`${k}[${S}] = ${E}`)})}function x(E,_){const S=(0,n.useFunc)(a,r.default),T=a.name("outer");a.label(T).for((0,t._)`;${E}--;`,()=>a.for((0,t._)`${_} = ${E}; ${_}--;`,()=>a.if((0,t._)`${S}(${l}[${E}], ${l}[${_}])`,()=>{s.error(),a.assign(p,!1).break(T)})))}}};return VI.default=o,VI}var GI={},Sge;function kWt(){if(Sge)return GI;Sge=1,Object.defineProperty(GI,"__esModule",{value:!0});const e=vr(),t=Fr(),n=Dee(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:o})=>(0,e._)`{allowedValue: ${o}}`},code(o){const{gen:s,data:a,$data:l,schemaCode:u,schema:c}=o;l||c&&typeof c=="object"?o.fail$data((0,e._)`!${(0,t.useFunc)(s,n.default)}(${a}, ${u})`):o.fail((0,e._)`${c} !== ${a}`)}};return GI.default=i,GI}var YI={},Tge;function AWt(){if(Tge)return YI;Tge=1,Object.defineProperty(YI,"__esModule",{value:!0});const e=vr(),t=Fr(),n=Dee(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:o})=>(0,e._)`{allowedValues: ${o}}`},code(o){const{gen:s,data:a,$data:l,schema:u,schemaCode:c,it:d}=o;if(!l&&u.length===0)throw new Error("enum must have non-empty array");const f=u.length>=d.opts.loopEnum;let h;const p=()=>h??(h=(0,t.useFunc)(s,n.default));let m;if(f||l)m=s.let("valid"),o.block$data(m,g);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const y=s.const("vSchema",c);m=(0,e.or)(...u.map((x,E)=>v(y,E)))}o.pass(m);function g(){s.assign(m,!1),s.forOf("v",c,y=>s.if((0,e._)`${p()}(${a}, ${y})`,()=>s.assign(m,!0).break()))}function v(y,x){const E=u[x];return typeof E=="object"&&E!==null?(0,e._)`${p()}(${a}, ${y}[${x}])`:(0,e._)`${a} === ${E}`}}};return YI.default=i,YI}var kge;function RWt(){if(kge)return $I;kge=1,Object.defineProperty($I,"__esModule",{value:!0});const e=vWt(),t=bWt(),n=xWt(),r=CWt(),i=_Wt(),o=EWt(),s=SWt(),a=TWt(),l=kWt(),u=AWt(),c=[e.default,t.default,n.default,r.default,i.default,o.default,s.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,u.default];return $I.default=c,$I}var KI={},Q1={},Age;function aMe(){if(Age)return Q1;Age=1,Object.defineProperty(Q1,"__esModule",{value:!0}),Q1.validateAdditionalItems=void 0;const e=vr(),t=Fr(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{parentSchema:s,it:a}=o,{items:l}=s;if(!Array.isArray(l)){(0,t.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(o,l)}};function i(o,s){const{gen:a,schema:l,data:u,keyword:c,it:d}=o;d.items=!0;const f=a.const("len",(0,e._)`${u}.length`);if(l===!1)o.setParams({len:s.length}),o.pass((0,e._)`${f} <= ${s.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(d,l)){const p=a.var("valid",(0,e._)`${f} <= ${s.length}`);a.if((0,e.not)(p),()=>h(p)),o.ok(p)}function h(p){a.forRange("i",s.length,f,m=>{o.subschema({keyword:c,dataProp:m,dataPropType:t.Type.Num},p),d.allErrors||a.if((0,e.not)(p),()=>a.break())})}}return Q1.validateAdditionalItems=i,Q1.default=r,Q1}var XI={},J1={},Rge;function lMe(){if(Rge)return J1;Rge=1,Object.defineProperty(J1,"__esModule",{value:!0}),J1.validateTuple=void 0;const e=vr(),t=Fr(),n=kf(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(o){const{schema:s,it:a}=o;if(Array.isArray(s))return i(o,"additionalItems",s);a.items=!0,!(0,t.alwaysValidSchema)(a,s)&&o.ok((0,n.validateArray)(o))}};function i(o,s,a=o.schema){const{gen:l,parentSchema:u,data:c,keyword:d,it:f}=o;m(u),f.opts.unevaluated&&a.length&&f.items!==!0&&(f.items=t.mergeEvaluated.items(l,a.length,f.items));const h=l.name("valid"),p=l.const("len",(0,e._)`${c}.length`);a.forEach((g,v)=>{(0,t.alwaysValidSchema)(f,g)||(l.if((0,e._)`${p} > ${v}`,()=>o.subschema({keyword:d,schemaProp:v,dataProp:v},h)),o.ok(h))});function m(g){const{opts:v,errSchemaPath:y}=f,x=a.length,E=x===g.minItems&&(x===g.maxItems||g[s]===!1);if(v.strictTuples&&!E){const _=`"${d}" is ${x}-tuple, but minItems or maxItems/${s} are not specified or different at path "${y}"`;(0,t.checkStrictMode)(f,_,v.strictTuples)}}}return J1.validateTuple=i,J1.default=r,J1}var Ige;function IWt(){if(Ige)return XI;Ige=1,Object.defineProperty(XI,"__esModule",{value:!0});const e=lMe(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};return XI.default=t,XI}var QI={},Dge;function DWt(){if(Dge)return QI;Dge=1,Object.defineProperty(QI,"__esModule",{value:!0});const e=vr(),t=Fr(),n=kf(),r=aMe(),o={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,e.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,e._)`{limit: ${s}}`},code(s){const{schema:a,parentSchema:l,it:u}=s,{prefixItems:c}=l;u.items=!0,!(0,t.alwaysValidSchema)(u,a)&&(c?(0,r.validateAdditionalItems)(s,c):s.ok((0,n.validateArray)(s)))}};return QI.default=o,QI}var JI={},Pge;function PWt(){if(Pge)return JI;Pge=1,Object.defineProperty(JI,"__esModule",{value:!0});const e=vr(),t=Fr(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:o}})=>o===void 0?(0,e.str)`must contain at least ${i} valid item(s)`:(0,e.str)`must contain at least ${i} and no more than ${o} valid item(s)`,params:({params:{min:i,max:o}})=>o===void 0?(0,e._)`{minContains: ${i}}`:(0,e._)`{minContains: ${i}, maxContains: ${o}}`},code(i){const{gen:o,schema:s,parentSchema:a,data:l,it:u}=i;let c,d;const{minContains:f,maxContains:h}=a;u.opts.next?(c=f===void 0?1:f,d=h):c=1;const p=o.const("len",(0,e._)`${l}.length`);if(i.setParams({min:c,max:d}),d===void 0&&c===0){(0,t.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(d!==void 0&&c>d){(0,t.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,t.alwaysValidSchema)(u,s)){let x=(0,e._)`${p} >= ${c}`;d!==void 0&&(x=(0,e._)`${x} && ${p} <= ${d}`),i.pass(x);return}u.items=!0;const m=o.name("valid");d===void 0&&c===1?v(m,()=>o.if(m,()=>o.break())):c===0?(o.let(m,!0),d!==void 0&&o.if((0,e._)`${l}.length > 0`,g)):(o.let(m,!1),g()),i.result(m,()=>i.reset());function g(){const x=o.name("_valid"),E=o.let("count",0);v(x,()=>o.if(x,()=>y(E)))}function v(x,E){o.forRange("i",0,p,_=>{i.subschema({keyword:"contains",dataProp:_,dataPropType:t.Type.Num,compositeRule:!0},x),E()})}function y(x){o.code((0,e._)`${x}++`),d===void 0?o.if((0,e._)`${x} >= ${c}`,()=>o.assign(m,!0).break()):(o.if((0,e._)`${x} > ${d}`,()=>o.assign(m,!1).break()),c===1?o.assign(m,!0):o.if((0,e._)`${x} >= ${c}`,()=>o.assign(m,!0)))}}};return JI.default=r,JI}var PB={},Oge;function OWt(){return Oge||(Oge=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=vr(),n=Fr(),r=kf();e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const d=u===1?"property":"properties";return(0,t.str)`must have ${d} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:d}})=>(0,t._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=o(l);s(l,u),a(l,c)}};function o({schema:l}){const u={},c={};for(const d in l){if(d==="__proto__")continue;const f=Array.isArray(l[d])?u:c;f[d]=l[d]}return[u,c]}function s(l,u=l.schema){const{gen:c,data:d,it:f}=l;if(Object.keys(u).length===0)return;const h=c.let("missing");for(const p in u){const m=u[p];if(m.length===0)continue;const g=(0,r.propertyInData)(c,d,p,f.opts.ownProperties);l.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),f.allErrors?c.if(g,()=>{for(const v of m)(0,r.checkReportMissingProp)(l,v)}):(c.if((0,t._)`${g} && (${(0,r.checkMissingProp)(l,m,h)})`),(0,r.reportMissingProp)(l,h),c.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:c,data:d,keyword:f,it:h}=l,p=c.name("valid");for(const m in u)(0,n.alwaysValidSchema)(h,u[m])||(c.if((0,r.propertyInData)(c,d,m,h.opts.ownProperties),()=>{const g=l.subschema({keyword:f,schemaProp:m},p);l.mergeValidEvaluated(g,p)},()=>c.var(p,!0)),l.ok(p))}e.validateSchemaDeps=a,e.default=i})(PB)),PB}var ZI={},Nge;function NWt(){if(Nge)return ZI;Nge=1,Object.defineProperty(ZI,"__esModule",{value:!0});const e=vr(),t=Fr(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,e._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:o,schema:s,data:a,it:l}=i;if((0,t.alwaysValidSchema)(l,s))return;const u=o.name("valid");o.forIn("key",a,c=>{i.setParams({propertyName:c}),i.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},u),o.if((0,e.not)(u),()=>{i.error(!0),l.allErrors||o.break()})}),i.ok(u)}};return ZI.default=r,ZI}var eD={},Mge;function uMe(){if(Mge)return eD;Mge=1,Object.defineProperty(eD,"__esModule",{value:!0});const e=kf(),t=vr(),n=fy(),r=Fr(),o={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:s})=>(0,t._)`{additionalProperty: ${s.additionalProperty}}`},code(s){const{gen:a,schema:l,parentSchema:u,data:c,errsCount:d,it:f}=s;if(!d)throw new Error("ajv implementation error");const{allErrors:h,opts:p}=f;if(f.props=!0,p.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(f,l))return;const m=(0,e.allSchemaProperties)(u.properties),g=(0,e.allSchemaProperties)(u.patternProperties);v(),s.ok((0,t._)`${d} === ${n.default.errors}`);function v(){a.forIn("key",c,S=>{!m.length&&!g.length?E(S):a.if(y(S),()=>E(S))})}function y(S){let T;if(m.length>8){const k=(0,r.schemaRefOrVal)(f,u.properties,"properties");T=(0,e.isOwnProperty)(a,k,S)}else m.length?T=(0,t.or)(...m.map(k=>(0,t._)`${S} === ${k}`)):T=t.nil;return g.length&&(T=(0,t.or)(T,...g.map(k=>(0,t._)`${(0,e.usePattern)(s,k)}.test(${S})`))),(0,t.not)(T)}function x(S){a.code((0,t._)`delete ${c}[${S}]`)}function E(S){if(p.removeAdditional==="all"||p.removeAdditional&&l===!1){x(S);return}if(l===!1){s.setParams({additionalProperty:S}),s.error(),h||a.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(f,l)){const T=a.name("valid");p.removeAdditional==="failing"?(_(S,T,!1),a.if((0,t.not)(T),()=>{s.reset(),x(S)})):(_(S,T),h||a.if((0,t.not)(T),()=>a.break()))}}function _(S,T,k){const R={keyword:"additionalProperties",dataProp:S,dataPropType:r.Type.Str};k===!1&&Object.assign(R,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(R,T)}}};return eD.default=o,eD}var tD={},$ge;function MWt(){if($ge)return tD;$ge=1,Object.defineProperty(tD,"__esModule",{value:!0});const e=g$(),t=kf(),n=Fr(),r=uMe(),i={keyword:"properties",type:"object",schemaType:"object",code(o){const{gen:s,schema:a,parentSchema:l,data:u,it:c}=o;c.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(c,r.default,"additionalProperties"));const d=(0,t.allSchemaProperties)(a);for(const g of d)c.definedProperties.add(g);c.opts.unevaluated&&d.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(s,(0,n.toHash)(d),c.props));const f=d.filter(g=>!(0,n.alwaysValidSchema)(c,a[g]));if(f.length===0)return;const h=s.name("valid");for(const g of f)p(g)?m(g):(s.if((0,t.propertyInData)(s,u,g,c.opts.ownProperties)),m(g),c.allErrors||s.else().var(h,!0),s.endIf()),o.it.definedProperties.add(g),o.ok(h);function p(g){return c.opts.useDefaults&&!c.compositeRule&&a[g].default!==void 0}function m(g){o.subschema({keyword:"properties",schemaProp:g,dataProp:g},h)}}};return tD.default=i,tD}var nD={},Lge;function $Wt(){if(Lge)return nD;Lge=1,Object.defineProperty(nD,"__esModule",{value:!0});const e=kf(),t=vr(),n=Fr(),r=Fr(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(o){const{gen:s,schema:a,data:l,parentSchema:u,it:c}=o,{opts:d}=c,f=(0,e.allSchemaProperties)(a),h=f.filter(E=>(0,n.alwaysValidSchema)(c,a[E]));if(f.length===0||h.length===f.length&&(!c.opts.unevaluated||c.props===!0))return;const p=d.strictSchema&&!d.allowMatchingProperties&&u.properties,m=s.name("valid");c.props!==!0&&!(c.props instanceof t.Name)&&(c.props=(0,r.evaluatedPropsToName)(s,c.props));const{props:g}=c;v();function v(){for(const E of f)p&&y(E),c.allErrors?x(E):(s.var(m,!0),x(E),s.if(m))}function y(E){for(const _ in p)new RegExp(E).test(_)&&(0,n.checkStrictMode)(c,`property ${_} matches pattern ${E} (use allowMatchingProperties)`)}function x(E){s.forIn("key",l,_=>{s.if((0,t._)`${(0,e.usePattern)(o,E)}.test(${_})`,()=>{const S=h.includes(E);S||o.subschema({keyword:"patternProperties",schemaProp:E,dataProp:_,dataPropType:r.Type.Str},m),c.opts.unevaluated&&g!==!0?s.assign((0,t._)`${g}[${_}]`,!0):!S&&!c.allErrors&&s.if((0,t.not)(m),()=>s.break())})})}}};return nD.default=i,nD}var rD={},Fge;function LWt(){if(Fge)return rD;Fge=1,Object.defineProperty(rD,"__esModule",{value:!0});const e=Fr(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:o}=n;if((0,e.alwaysValidSchema)(o,i)){n.fail();return}const s=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),n.failResult(s,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return rD.default=t,rD}var iD={},jge;function FWt(){if(jge)return iD;jge=1,Object.defineProperty(iD,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:kf().validateUnion,error:{message:"must match a schema in anyOf"}};return iD.default=t,iD}var oD={},Bge;function jWt(){if(Bge)return oD;Bge=1,Object.defineProperty(oD,"__esModule",{value:!0});const e=vr(),t=Fr(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,e._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:o,schema:s,parentSchema:a,it:l}=i;if(!Array.isArray(s))throw new Error("ajv implementation error");if(l.opts.discriminator&&a.discriminator)return;const u=s,c=o.let("valid",!1),d=o.let("passing",null),f=o.name("_valid");i.setParams({passing:d}),o.block(h),i.result(c,()=>i.reset(),()=>i.error(!0));function h(){u.forEach((p,m)=>{let g;(0,t.alwaysValidSchema)(l,p)?o.var(f,!0):g=i.subschema({keyword:"oneOf",schemaProp:m,compositeRule:!0},f),m>0&&o.if((0,e._)`${f} && ${c}`).assign(c,!1).assign(d,(0,e._)`[${d}, ${m}]`).else(),o.if(f,()=>{o.assign(c,!0),o.assign(d,m),g&&i.mergeEvaluated(g,e.Name)})})}}};return oD.default=r,oD}var sD={},zge;function BWt(){if(zge)return sD;zge=1,Object.defineProperty(sD,"__esModule",{value:!0});const e=Fr(),t={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:o}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const s=r.name("valid");i.forEach((a,l)=>{if((0,e.alwaysValidSchema)(o,a))return;const u=n.subschema({keyword:"allOf",schemaProp:l},s);n.ok(s),n.mergeEvaluated(u)})}};return sD.default=t,sD}var aD={},Uge;function zWt(){if(Uge)return aD;Uge=1,Object.defineProperty(aD,"__esModule",{value:!0});const e=vr(),t=Fr(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:o})=>(0,e.str)`must match "${o.ifClause}" schema`,params:({params:o})=>(0,e._)`{failingKeyword: ${o.ifClause}}`},code(o){const{gen:s,parentSchema:a,it:l}=o;a.then===void 0&&a.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const u=i(l,"then"),c=i(l,"else");if(!u&&!c)return;const d=s.let("valid",!0),f=s.name("_valid");if(h(),o.reset(),u&&c){const m=s.let("ifClause");o.setParams({ifClause:m}),s.if(f,p("then",m),p("else",m))}else u?s.if(f,p("then")):s.if((0,e.not)(f),p("else"));o.pass(d,()=>o.error(!0));function h(){const m=o.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);o.mergeEvaluated(m)}function p(m,g){return()=>{const v=o.subschema({keyword:m},f);s.assign(d,f),o.mergeValidEvaluated(v,d),g?s.assign(g,(0,e._)`${m}`):o.setParams({ifClause:m})}}}};function i(o,s){const a=o.schema[s];return a!==void 0&&!(0,t.alwaysValidSchema)(o,a)}return aD.default=r,aD}var lD={},Hge;function UWt(){if(Hge)return lD;Hge=1,Object.defineProperty(lD,"__esModule",{value:!0});const e=Fr(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,e.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return lD.default=t,lD}var qge;function HWt(){if(qge)return KI;qge=1,Object.defineProperty(KI,"__esModule",{value:!0});const e=aMe(),t=IWt(),n=lMe(),r=DWt(),i=PWt(),o=OWt(),s=NWt(),a=uMe(),l=MWt(),u=$Wt(),c=LWt(),d=FWt(),f=jWt(),h=BWt(),p=zWt(),m=UWt();function g(v=!1){const y=[c.default,d.default,f.default,h.default,p.default,m.default,s.default,a.default,o.default,l.default,u.default];return v?y.push(t.default,r.default):y.push(e.default,n.default),y.push(i.default),y}return KI.default=g,KI}var uD={},cD={},Vge;function qWt(){if(Vge)return cD;Vge=1,Object.defineProperty(cD,"__esModule",{value:!0});const e=vr(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,i){const{gen:o,data:s,$data:a,schema:l,schemaCode:u,it:c}=r,{opts:d,errSchemaPath:f,schemaEnv:h,self:p}=c;if(!d.validateFormats)return;a?m():g();function m(){const v=o.scopeValue("formats",{ref:p.formats,code:d.code.formats}),y=o.const("fDef",(0,e._)`${v}[${u}]`),x=o.let("fType"),E=o.let("format");o.if((0,e._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>o.assign(x,(0,e._)`${y}.type || "string"`).assign(E,(0,e._)`${y}.validate`),()=>o.assign(x,(0,e._)`"string"`).assign(E,y)),r.fail$data((0,e.or)(_(),S()));function _(){return d.strictSchema===!1?e.nil:(0,e._)`${u} && !${E}`}function S(){const T=h.$async?(0,e._)`(${y}.async ? await ${E}(${s}) : ${E}(${s}))`:(0,e._)`${E}(${s})`,k=(0,e._)`(typeof ${E} == "function" ? ${T} : ${E}.test(${s}))`;return(0,e._)`${E} && ${E} !== true && ${x} === ${i} && !${k}`}}function g(){const v=p.formats[l];if(!v){_();return}if(v===!0)return;const[y,x,E]=S(v);y===i&&r.pass(T());function _(){if(d.strictSchema===!1){p.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${l}" ignored in schema at path "${f}"`}}function S(k){const R=k instanceof RegExp?(0,e.regexpCode)(k):d.code.formats?(0,e._)`${d.code.formats}${(0,e.getProperty)(l)}`:void 0,I=o.scopeValue("formats",{key:l,ref:k,code:R});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,e._)`${I}.validate`]:["string",k,I]}function T(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!h.$async)throw new Error("async format in sync schema");return(0,e._)`await ${E}(${s})`}return typeof x=="function"?(0,e._)`${E}(${s})`:(0,e._)`${E}.test(${s})`}}}};return cD.default=n,cD}var Wge;function VWt(){if(Wge)return uD;Wge=1,Object.defineProperty(uD,"__esModule",{value:!0});const t=[qWt().default];return uD.default=t,uD}var Hy={},Gge;function WWt(){return Gge||(Gge=1,Object.defineProperty(Hy,"__esModule",{value:!0}),Hy.contentVocabulary=Hy.metadataVocabulary=void 0,Hy.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Hy.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Hy}var Yge;function GWt(){if(Yge)return OI;Yge=1,Object.defineProperty(OI,"__esModule",{value:!0});const e=yWt(),t=RWt(),n=HWt(),r=VWt(),i=WWt(),o=[e.default,t.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return OI.default=o,OI}var dD={},vE={},Kge;function YWt(){if(Kge)return vE;Kge=1,Object.defineProperty(vE,"__esModule",{value:!0}),vE.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(vE.DiscrError=e={})),vE}var Xge;function KWt(){if(Xge)return dD;Xge=1,Object.defineProperty(dD,"__esModule",{value:!0});const e=vr(),t=YWt(),n=Iee(),r=y$(),i=Fr(),s={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:l}})=>a===t.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:u}})=>(0,e._)`{error: ${a}, tag: ${u}, tagValue: ${l}}`},code(a){const{gen:l,data:u,schema:c,parentSchema:d,it:f}=a,{oneOf:h}=d;if(!f.opts.discriminator)throw new Error("discriminator: requires discriminator option");const p=c.propertyName;if(typeof p!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");const m=l.let("valid",!1),g=l.const("tag",(0,e._)`${u}${(0,e.getProperty)(p)}`);l.if((0,e._)`typeof ${g} == "string"`,()=>v(),()=>a.error(!1,{discrError:t.DiscrError.Tag,tag:g,tagName:p})),a.ok(m);function v(){const E=x();l.if(!1);for(const _ in E)l.elseIf((0,e._)`${g} === ${_}`),l.assign(m,y(E[_]));l.else(),a.error(!1,{discrError:t.DiscrError.Mapping,tag:g,tagName:p}),l.endIf()}function y(E){const _=l.name("valid"),S=a.subschema({keyword:"oneOf",schemaProp:E},_);return a.mergeEvaluated(S,e.Name),_}function x(){var E;const _={},S=k(d);let T=!0;for(let P=0;P<h.length;P++){let N=h[P];if(N?.$ref&&!(0,i.schemaHasRulesButRef)(N,f.self.RULES)){const O=N.$ref;if(N=n.resolveRef.call(f.self,f.schemaEnv.root,f.baseId,O),N instanceof n.SchemaEnv&&(N=N.schema),N===void 0)throw new r.default(f.opts.uriResolver,f.baseId,O)}const M=(E=N?.properties)===null||E===void 0?void 0:E[p];if(typeof M!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${p}"`);T=T&&(S||k(N)),R(M,P)}if(!T)throw new Error(`discriminator: "${p}" must be required`);return _;function k({required:P}){return Array.isArray(P)&&P.includes(p)}function R(P,N){if(P.const)I(P.const,N);else if(P.enum)for(const M of P.enum)I(M,N);else throw new Error(`discriminator: "properties/${p}" must have "const" or "enum"`)}function I(P,N){if(typeof P!="string"||P in _)throw new Error(`discriminator: "${p}" values must be unique strings`);_[P]=N}}}};return dD.default=s,dD}const XWt="http://json-schema.org/draft-07/schema#",QWt="http://json-schema.org/draft-07/schema#",JWt="Core schema meta-schema",ZWt={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},eGt=["object","boolean"],tGt={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},nGt={$schema:XWt,$id:QWt,title:JWt,definitions:ZWt,type:eGt,properties:tGt,default:!0};var Qge;function rGt(){return Qge||(Qge=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=pWt(),r=GWt(),i=KWt(),o=nGt,s=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=g$();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=vr();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var d=Ree();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var f=y$();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(AI,AI.exports)),AI.exports}var iGt=rGt();const Pee=Qo(iGt),Oee=Symbol.for("yaml.alias"),Vq=Symbol.for("yaml.document"),p0=Symbol.for("yaml.map"),cMe=Symbol.for("yaml.pair"),Fh=Symbol.for("yaml.scalar"),JC=Symbol.for("yaml.seq"),Hc=Symbol.for("yaml.node.type"),t1=e=>!!e&&typeof e=="object"&&e[Hc]===Oee,v$=e=>!!e&&typeof e=="object"&&e[Hc]===Vq,oA=e=>!!e&&typeof e=="object"&&e[Hc]===p0,Bo=e=>!!e&&typeof e=="object"&&e[Hc]===cMe,Oi=e=>!!e&&typeof e=="object"&&e[Hc]===Fh,sA=e=>!!e&&typeof e=="object"&&e[Hc]===JC;function No(e){if(e&&typeof e=="object")switch(e[Hc]){case p0:case JC:return!0}return!1}function Mo(e){if(e&&typeof e=="object")switch(e[Hc]){case Oee:case p0:case Fh:case JC:return!0}return!1}const dMe=e=>(Oi(e)||No(e))&&!!e.anchor,Zy=Symbol("break visit"),oGt=Symbol("skip children"),GS=Symbol("remove node");function ZC(e,t){const n=sGt(t);v$(e)?Sw(null,e.contents,n,Object.freeze([e]))===GS&&(e.contents=null):Sw(null,e,n,Object.freeze([]))}ZC.BREAK=Zy;ZC.SKIP=oGt;ZC.REMOVE=GS;function Sw(e,t,n,r){const i=aGt(e,t,n,r);if(Mo(i)||Bo(i))return lGt(e,r,i),Sw(e,i,n,r);if(typeof i!="symbol"){if(No(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){const s=Sw(o,t.items[o],n,r);if(typeof s=="number")o=s-1;else{if(s===Zy)return Zy;s===GS&&(t.items.splice(o,1),o-=1)}}}else if(Bo(t)){r=Object.freeze(r.concat(t));const o=Sw("key",t.key,n,r);if(o===Zy)return Zy;o===GS&&(t.key=null);const s=Sw("value",t.value,n,r);if(s===Zy)return Zy;s===GS&&(t.value=null)}}return i}function sGt(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function aGt(e,t,n,r){if(typeof n=="function")return n(e,t,r);if(oA(t))return n.Map?.(e,t,r);if(sA(t))return n.Seq?.(e,t,r);if(Bo(t))return n.Pair?.(e,t,r);if(Oi(t))return n.Scalar?.(e,t,r);if(t1(t))return n.Alias?.(e,t,r)}function lGt(e,t,n){const r=t[t.length-1];if(No(r))r.items[e]=n;else if(Bo(r))e==="key"?r.key=n:r.value=n;else if(v$(r))r.contents=n;else{const i=t1(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const uGt={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},cGt=e=>e.replace(/[!,[\]{}]/g,t=>uGt[t]);class rl{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},rl.defaultYaml,t),this.tags=Object.assign({},rl.defaultTags,n)}clone(){const t=new rl(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new rl(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:rl.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},rl.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:rl.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},rl.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[o,s]=r;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[o]=r;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const s=/^\d+\.\d+$/.test(o);return n(6,`Unsupported YAML version ${o}`,s),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const s=t.slice(2,-1);return s==="!"||s==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),s)}const[,r,i]=t.match(/^(.*!)([^!]*)$/s);i||n(`The ${t} tag has no suffix`);const o=this.tags[r];if(o)try{return o+decodeURIComponent(i)}catch(s){return n(String(s)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+cGt(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&Mo(t.contents)){const o={};ZC(t.contents,(s,a)=>{Mo(a)&&a.tag&&(o[a.tag]=!0)}),i=Object.keys(o)}else i=[];for(const[o,s]of r)o==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(s)))&&n.push(`%TAG ${o} ${s}`);return n.join(`
`)}}rl.defaultYaml={explicit:!1,version:"1.2"};rl.defaultTags={"!!":"tag:yaml.org,2002:"};function fMe(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function hMe(e){const t=new Set;return ZC(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function pMe(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function dGt(e,t){const n=[],r=new Map;let i=null;return{onAnchor:o=>{n.push(o),i??(i=hMe(e));const s=pMe(t,i);return i.add(s),s},setAnchors:()=>{for(const o of n){const s=r.get(o);if(typeof s=="object"&&s.anchor&&(Oi(s.node)||No(s.node)))s.node.anchor=s.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:r}}function Tw(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,o=r.length;i<o;++i){const s=r[i],a=Tw(e,r,String(i),s);a===void 0?delete r[i]:a!==s&&(r[i]=a)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const o=r.get(i),s=Tw(e,r,i,o);s===void 0?r.delete(i):s!==o&&r.set(i,s)}else if(r instanceof Set)for(const i of Array.from(r)){const o=Tw(e,r,i,i);o===void 0?r.delete(i):o!==i&&(r.delete(i),r.add(o))}else for(const[i,o]of Object.entries(r)){const s=Tw(e,r,i,o);s===void 0?delete r[i]:s!==o&&(r[i]=s)}return e.call(t,n,r)}function Pc(e,t,n){if(Array.isArray(e))return e.map((r,i)=>Pc(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!dMe(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=o=>{r.res=o,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!n?.keep?Number(e):e}class Nee{constructor(t){Object.defineProperty(this,Hc,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:o}={}){if(!v$(t))throw new TypeError("A document argument is required");const s={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=Pc(this,"",s);if(typeof i=="function")for(const{count:l,res:u}of s.anchors.values())i(u,l);return typeof o=="function"?Tw(o,{"":a},"",a):a}}class Mee extends Nee{constructor(t){super(Oee),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t,n){let r;n?.aliasResolveCache?r=n.aliasResolveCache:(r=[],ZC(t,{Node:(o,s)=>{(t1(s)||dMe(s))&&r.push(s)}}),n&&(n.aliasResolveCache=r));let i;for(const o of r){if(o===this)break;o.anchor===this.source&&(i=o)}return i}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:o}=n,s=this.resolve(i,n);if(!s){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=r.get(s);if(a||(Pc(s,null,n),a=r.get(s)),a?.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=l3(i,s,r)),a.count*a.aliasCount>o)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(fMe(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${i} `}return i}}function l3(e,t,n){if(t1(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(No(t)){let r=0;for(const i of t.items){const o=l3(e,i,n);o>r&&(r=o)}return r}else if(Bo(t)){const r=l3(e,t.key,n),i=l3(e,t.value,n);return Math.max(r,i)}return 1}const mMe=e=>!e||typeof e!="function"&&typeof e!="object";class Jn extends Nee{constructor(t){super(Fh),this.value=t}toJSON(t,n){return n?.keep?this.value:Pc(this.value,t,n)}toString(){return String(this.value)}}Jn.BLOCK_FOLDED="BLOCK_FOLDED";Jn.BLOCK_LITERAL="BLOCK_LITERAL";Jn.PLAIN="PLAIN";Jn.QUOTE_DOUBLE="QUOTE_DOUBLE";Jn.QUOTE_SINGLE="QUOTE_SINGLE";const fGt="tag:yaml.org,2002:";function hGt(e,t,n){if(t){const r=n.filter(o=>o.tag===t),i=r.find(o=>!o.format)??r[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return n.find(r=>r.identify?.(e)&&!r.format)}function gT(e,t,n){if(v$(e)&&(e=e.contents),Mo(e))return e;if(Bo(e)){const d=n.schema[p0].createNode?.(n.schema,null,n);return d.items.push(e),d}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:o,schema:s,sourceObjects:a}=n;let l;if(r&&e&&typeof e=="object"){if(l=a.get(e),l)return l.anchor??(l.anchor=i(e)),new Mee(l.anchor);l={anchor:null,node:null},a.set(e,l)}t?.startsWith("!!")&&(t=fGt+t.slice(2));let u=hGt(e,t,s.tags);if(!u){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const d=new Jn(e);return l&&(l.node=d),d}u=e instanceof Map?s[p0]:Symbol.iterator in Object(e)?s[JC]:s[p0]}o&&(o(u),delete n.onTagObj);const c=u?.createNode?u.createNode(n.schema,e,n):typeof u?.nodeClass?.from=="function"?u.nodeClass.from(n.schema,e,n):new Jn(e);return t?c.tag=t:u.default||(c.tag=u.tag),l&&(l.node=c),c}function t4(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const o=t[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const s=[];s[o]=r,r=s}else r=new Map([[o,r]])}return gT(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const dS=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class gMe extends Nee{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>Mo(r)||Bo(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(dS(t))this.add(n);else{const[r,...i]=t,o=this.get(r,!0);if(No(o))o.addIn(i,n);else if(o===void 0&&this.schema)this.set(r,t4(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(No(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,o=this.get(r,!0);return i.length===0?!n&&Oi(o)?o.value:o:No(o)?o.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!Bo(n))return!1;const r=n.value;return r==null||t&&Oi(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return No(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const o=this.get(r,!0);if(No(o))o.setIn(i,n);else if(o===void 0&&this.schema)this.set(r,t4(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}const pGt=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Vp(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const _v=(e,t,n)=>e.endsWith(`
`)?Vp(n,t):n.includes(`
`)?`
`+Vp(n,t):(e.endsWith(" ")?"":" ")+n,yMe="flow",Wq="block",u3="quoted";function b$(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!i||i<0)return e;i<o&&(o=0);const l=Math.max(1+o,1+i-t.length);if(e.length<=l)return e;const u=[],c={};let d=i-t.length;typeof r=="number"&&(r>i-Math.max(2,o)?u.push(0):d=i-r);let f,h,p=!1,m=-1,g=-1,v=-1;n===Wq&&(m=Jge(e,m,t.length),m!==-1&&(d=m+l));for(let x;x=e[m+=1];){if(n===u3&&x==="\\"){switch(g=m,e[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}v=m}if(x===`
`)n===Wq&&(m=Jge(e,m,t.length)),d=m+t.length+l,f=void 0;else{if(x===" "&&h&&h!==" "&&h!==`
`&&h!=="	"){const E=e[m+1];E&&E!==" "&&E!==`
`&&E!=="	"&&(f=m)}if(m>=d)if(f)u.push(f),d=f+l,f=void 0;else if(n===u3){for(;h===" "||h==="	";)h=x,x=e[m+=1],p=!0;const E=m>v+1?m-2:g-1;if(c[E])return e;u.push(E),c[E]=!0,d=E+l,f=void 0}else p=!0}h=x}if(p&&a&&a(),u.length===0)return e;s&&s();let y=e.slice(0,u[0]);for(let x=0;x<u.length;++x){const E=u[x],_=u[x+1]||e.length;E===0?y=`
${t}${e.slice(0,_)}`:(n===u3&&c[E]&&(y+=`${e[E]}\\`),y+=`
${t}${e.slice(E+1,_)}`)}return y}function Jge(e,t,n){let r=t,i=t+1,o=e[i];for(;o===" "||o==="	";)if(t<i+n)o=e[++t];else{do o=e[++t];while(o&&o!==`
`);r=t,i=t+1,o=e[i]}return r}const w$=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),x$=e=>/^(%|---|\.\.\.)/m.test(e);function mGt(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let o=0,s=0;o<i;++o)if(e[o]===`
`){if(o-s>r)return!0;if(s=o+1,i-s<=r)return!1}return!0}function YS(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(x$(e)?"  ":"");let s="",a=0;for(let l=0,u=n[l];u;u=n[++l])if(u===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(s+=n.slice(a,l)+"\\ ",l+=1,a=l,u="\\"),u==="\\")switch(n[l+1]){case"u":{s+=n.slice(a,l);const c=n.substr(l+2,4);switch(c){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:c.substr(0,2)==="00"?s+="\\x"+c.substr(2):s+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<i)l+=1;else{for(s+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)s+=`
`,l+=2;s+=o,n[l+2]===" "&&(s+="\\"),l+=1,a=l+1}break;default:l+=1}return s=a?s+n.slice(a):n,r?s:b$(s,o,u3,w$(t,!1))}function Gq(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return YS(e,t);const n=t.indent||(x$(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:b$(r,n,yMe,w$(t,!1))}function kw(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=YS;else{const i=e.includes('"'),o=e.includes("'");i&&!o?r=Gq:o&&!i?r=YS:r=n?Gq:YS}return r(e,t)}let Yq;try{Yq=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Yq=/\n+(?!\n|$)/g}function c3({comment:e,type:t,value:n},r,i,o){const{blockQuote:s,commentString:a,lineWidth:l}=r.options;if(!s||/\n[\t ]+$/.test(n))return kw(n,r);const u=r.indent||(r.forceBlockIndent||x$(n)?"  ":""),c=s==="literal"?!0:s==="folded"||t===Jn.BLOCK_FOLDED?!1:t===Jn.BLOCK_LITERAL?!0:!mGt(n,l,u.length);if(!n)return c?`|
`:`>
`;let d,f;for(f=n.length;f>0;--f){const _=n[f-1];if(_!==`
`&&_!=="	"&&_!==" ")break}let h=n.substring(f);const p=h.indexOf(`
`);p===-1?d="-":n===h||p!==h.length-1?(d="+",o&&o()):d="",h&&(n=n.slice(0,-h.length),h[h.length-1]===`
`&&(h=h.slice(0,-1)),h=h.replace(Yq,`$&${u}`));let m=!1,g,v=-1;for(g=0;g<n.length;++g){const _=n[g];if(_===" ")m=!0;else if(_===`
`)v=g;else break}let y=n.substring(0,v<g?v+1:g);y&&(n=n.substring(y.length),y=y.replace(/\n+/g,`$&${u}`));let E=(m?u?"2":"1":"")+d;if(e&&(E+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),!c){const _=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);let S=!1;const T=w$(r,!0);s!=="folded"&&t!==Jn.BLOCK_FOLDED&&(T.onOverflow=()=>{S=!0});const k=b$(`${y}${_}${h}`,u,Wq,T);if(!S)return`>${E}
${u}${k}`}return n=n.replace(/\n+/g,`$&${u}`),`|${E}
${u}${y}${n}${h}`}function gGt(e,t,n,r){const{type:i,value:o}=e,{actualString:s,implicitKey:a,indent:l,indentStep:u,inFlow:c}=t;if(a&&o.includes(`
`)||c&&/[[\]{},]/.test(o))return kw(o,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||c||!o.includes(`
`)?kw(o,t):c3(e,t,n,r);if(!a&&!c&&i!==Jn.PLAIN&&o.includes(`
`))return c3(e,t,n,r);if(x$(o)){if(l==="")return t.forceBlockIndent=!0,c3(e,t,n,r);if(a&&l===u)return kw(o,t)}const d=o.replace(/\n+/g,`$&
${l}`);if(s){const f=m=>m.default&&m.tag!=="tag:yaml.org,2002:str"&&m.test?.test(d),{compat:h,tags:p}=t.doc.schema;if(p.some(f)||h?.some(f))return kw(o,t)}return a?d:b$(d,l,yMe,w$(t,!1))}function $ee(e,t,n,r){const{implicitKey:i,inFlow:o}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==Jn.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=Jn.QUOTE_DOUBLE);const l=c=>{switch(c){case Jn.BLOCK_FOLDED:case Jn.BLOCK_LITERAL:return i||o?kw(s.value,t):c3(s,t,n,r);case Jn.QUOTE_DOUBLE:return YS(s.value,t);case Jn.QUOTE_SINGLE:return Gq(s.value,t);case Jn.PLAIN:return gGt(s,t,n,r);default:return null}};let u=l(a);if(u===null){const{defaultKeyType:c,defaultStringType:d}=t.options,f=i&&c||d;if(u=l(f),u===null)throw new Error(`Unsupported default string type ${f}`)}return u}function vMe(e,t){const n=Object.assign({blockQuote:!0,commentString:pGt,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function yGt(e,t){if(t.tag){const i=e.filter(o=>o.tag===t.tag);if(i.length>0)return i.find(o=>o.format===t.format)??i[0]}let n,r;if(Oi(t)){r=t.value;let i=e.filter(o=>o.identify?.(r));if(i.length>1){const o=i.filter(s=>s.test);o.length>0&&(i=o)}n=i.find(o=>o.format===t.format)??i.find(o=>!o.format)}else r=t,n=e.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){const i=r?.constructor?.name??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${i} value`)}return n}function vGt(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],o=(Oi(e)||No(e))&&e.anchor;o&&fMe(o)&&(n.add(o),i.push(`&${o}`));const s=e.tag??(t.default?null:t.tag);return s&&i.push(r.directives.tagString(s)),i.join(" ")}function Zx(e,t,n,r){if(Bo(e))return e.toString(t,n,r);if(t1(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const o=Mo(e)?e:t.doc.createNode(e,{onTagObj:l=>i=l});i??(i=yGt(t.doc.schema.tags,o));const s=vGt(o,i,t);s.length>0&&(t.indentAtStart=(t.indentAtStart??0)+s.length+1);const a=typeof i.stringify=="function"?i.stringify(o,t,n,r):Oi(o)?$ee(o,t,n,r):o.toString(t,n,r);return s?Oi(o)||a[0]==="{"||a[0]==="["?`${s} ${a}`:`${s}
${t.indent}${a}`:a}function bGt({key:e,value:t},n,r,i){const{allNullValues:o,doc:s,indent:a,indentStep:l,options:{commentString:u,indentSeq:c,simpleKeys:d}}=n;let f=Mo(e)&&e.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(No(e)||!Mo(e)&&typeof e=="object"){const T="With simple keys, collection cannot be used as a key value";throw new Error(T)}}let h=!d&&(!e||f&&t==null&&!n.inFlow||No(e)||(Oi(e)?e.type===Jn.BLOCK_FOLDED||e.type===Jn.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!h&&(d||!o),indent:a+l});let p=!1,m=!1,g=Zx(e,n,()=>p=!0,()=>m=!0);if(!h&&!n.inFlow&&g.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(n.inFlow){if(o||t==null)return p&&r&&r(),g===""?"?":h?`? ${g}`:g}else if(o&&!d||t==null&&h)return g=`? ${g}`,f&&!p?g+=_v(g,n.indent,u(f)):m&&i&&i(),g;p&&(f=null),h?(f&&(g+=_v(g,n.indent,u(f))),g=`? ${g}
${a}:`):(g=`${g}:`,f&&(g+=_v(g,n.indent,u(f))));let v,y,x;Mo(t)?(v=!!t.spaceBefore,y=t.commentBefore,x=t.comment):(v=!1,y=null,x=null,t&&typeof t=="object"&&(t=s.createNode(t))),n.implicitKey=!1,!h&&!f&&Oi(t)&&(n.indentAtStart=g.length+1),m=!1,!c&&l.length>=2&&!n.inFlow&&!h&&sA(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let E=!1;const _=Zx(t,n,()=>E=!0,()=>m=!0);let S=" ";if(f||v||y){if(S=v?`
`:"",y){const T=u(y);S+=`
${Vp(T,n.indent)}`}_===""&&!n.inFlow?S===`
`&&x&&(S=`

`):S+=`
${n.indent}`}else if(!h&&No(t)){const T=_[0],k=_.indexOf(`
`),R=k!==-1,I=n.inFlow??t.flow??t.items.length===0;if(R||!I){let P=!1;if(R&&(T==="&"||T==="!")){let N=_.indexOf(" ");T==="&"&&N!==-1&&N<k&&_[N+1]==="!"&&(N=_.indexOf(" ",N+1)),(N===-1||k<N)&&(P=!0)}P||(S=`
${n.indent}`)}}else(_===""||_[0]===`
`)&&(S="");return g+=S+_,n.inFlow?E&&r&&r():x&&!E?g+=_v(g,n.indent,u(x)):m&&i&&i(),g}function wGt(e,t){(e==="debug"||e==="warn")&&console.warn(t)}const fD="<<",om={identify:e=>e===fD||typeof e=="symbol"&&e.description===fD,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Jn(Symbol(fD)),{addToJSMap:bMe}),stringify:()=>fD},xGt=(e,t)=>(om.identify(t)||Oi(t)&&(!t.type||t.type===Jn.PLAIN)&&om.identify(t.value))&&e?.doc.schema.tags.some(n=>n.tag===om.tag&&n.default);function bMe(e,t,n){if(n=e&&t1(n)?n.resolve(e.doc):n,sA(n))for(const r of n.items)OB(e,t,r);else if(Array.isArray(n))for(const r of n)OB(e,t,r);else OB(e,t,n)}function OB(e,t,n){const r=e&&t1(n)?n.resolve(e.doc):n;if(!oA(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[o,s]of i)t instanceof Map?t.has(o)||t.set(o,s):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function wMe(e,t,{key:n,value:r}){if(Mo(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(xGt(e,n))bMe(e,t,r);else{const i=Pc(n,"",e);if(t instanceof Map)t.set(i,Pc(r,i,e));else if(t instanceof Set)t.add(i);else{const o=CGt(n,i,e),s=Pc(r,o,e);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}function CGt(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(Mo(e)&&n?.doc){const r=vMe(n.doc,{});r.anchors=new Set;for(const o of n.anchors.keys())r.anchors.add(o.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),wGt(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function Lee(e,t,n){const r=gT(e,void 0,n),i=gT(t,void 0,n);return new vl(r,i)}class vl{constructor(t,n=null){Object.defineProperty(this,Hc,{value:cMe}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return Mo(n)&&(n=n.clone(t)),Mo(r)&&(r=r.clone(t)),new vl(n,r)}toJSON(t,n){const r=n?.mapAsMap?new Map:{};return wMe(n,r,this)}toString(t,n,r){return t?.doc?bGt(this,t,n,r):JSON.stringify(this)}}function xMe(e,t,n){return(t.inFlow??e.flow?EGt:_Gt)(e,t,n)}function _Gt({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:o,onChompKeep:s,onComment:a}){const{indent:l,options:{commentString:u}}=n,c=Object.assign({},n,{indent:o,type:null});let d=!1;const f=[];for(let p=0;p<t.length;++p){const m=t[p];let g=null;if(Mo(m))!d&&m.spaceBefore&&f.push(""),n4(n,f,m.commentBefore,d),m.comment&&(g=m.comment);else if(Bo(m)){const y=Mo(m.key)?m.key:null;y&&(!d&&y.spaceBefore&&f.push(""),n4(n,f,y.commentBefore,d))}d=!1;let v=Zx(m,c,()=>g=null,()=>d=!0);g&&(v+=_v(v,o,u(g))),d&&g&&(d=!1),f.push(r+v)}let h;if(f.length===0)h=i.start+i.end;else{h=f[0];for(let p=1;p<f.length;++p){const m=f[p];h+=m?`
${l}${m}`:`
`}}return e?(h+=`
`+Vp(u(e),l),a&&a()):d&&s&&s(),h}function EGt({items:e},t,{flowChars:n,itemIndent:r}){const{indent:i,indentStep:o,flowCollectionPadding:s,options:{commentString:a}}=t;r+=o;const l=Object.assign({},t,{indent:r,inFlow:!0,type:null});let u=!1,c=0;const d=[];for(let p=0;p<e.length;++p){const m=e[p];let g=null;if(Mo(m))m.spaceBefore&&d.push(""),n4(t,d,m.commentBefore,!1),m.comment&&(g=m.comment);else if(Bo(m)){const y=Mo(m.key)?m.key:null;y&&(y.spaceBefore&&d.push(""),n4(t,d,y.commentBefore,!1),y.comment&&(u=!0));const x=Mo(m.value)?m.value:null;x?(x.comment&&(g=x.comment),x.commentBefore&&(u=!0)):m.value==null&&y?.comment&&(g=y.comment)}g&&(u=!0);let v=Zx(m,l,()=>g=null);p<e.length-1&&(v+=","),g&&(v+=_v(v,r,a(g))),!u&&(d.length>c||v.includes(`
`))&&(u=!0),d.push(v),c=d.length}const{start:f,end:h}=n;if(d.length===0)return f+h;if(!u){const p=d.reduce((m,g)=>m+g.length+2,2);u=t.options.lineWidth>0&&p>t.options.lineWidth}if(u){let p=f;for(const m of d)p+=m?`
${o}${i}${m}`:`
`;return`${p}
${i}${h}`}else return`${f}${s}${d.join(" ")}${s}${h}`}function n4({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const o=Vp(t(r),e);n.push(o.trimStart())}}function Ev(e,t){const n=Oi(t)?t.value:t;for(const r of e)if(Bo(r)&&(r.key===t||r.key===n||Oi(r.key)&&r.key.value===n))return r}class xc extends gMe{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(p0,t),this.items=[]}static from(t,n,r){const{keepUndefined:i,replacer:o}=r,s=new this(t),a=(l,u)=>{if(typeof o=="function")u=o.call(n,l,u);else if(Array.isArray(o)&&!o.includes(l))return;(u!==void 0||i)&&s.items.push(Lee(l,u,r))};if(n instanceof Map)for(const[l,u]of n)a(l,u);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof t.sortMapEntries=="function"&&s.items.sort(t.sortMapEntries),s}add(t,n){let r;Bo(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new vl(t,t?.value):r=new vl(t.key,t.value);const i=Ev(this.items,r.key),o=this.schema?.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);Oi(i.value)&&mMe(r.value)?i.value.value=r.value:i.value=r.value}else if(o){const s=this.items.findIndex(a=>o(r,a)<0);s===-1?this.items.push(r):this.items.splice(s,0,r)}else this.items.push(r)}delete(t){const n=Ev(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const i=Ev(this.items,t)?.value;return(!n&&Oi(i)?i.value:i)??void 0}has(t){return!!Ev(this.items,t)}set(t,n){this.add(new vl(t,n),!0)}toJSON(t,n,r){const i=r?new r:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(i);for(const o of this.items)wMe(n,i,o);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!Bo(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),xMe(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const e_={collection:"map",default:!0,nodeClass:xc,tag:"tag:yaml.org,2002:map",resolve(e,t){return oA(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>xc.from(e,t,n)};class xb extends gMe{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(JC,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=hD(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=hD(t);if(typeof r!="number")return;const i=this.items[r];return!n&&Oi(i)?i.value:i}has(t){const n=hD(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=hD(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];Oi(i)&&mMe(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n?.onCreate&&n.onCreate(r);let i=0;for(const o of this.items)r.push(Pc(o,String(i++),n));return r}toString(t,n,r){return t?xMe(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n)){let s=0;for(let a of n){if(typeof i=="function"){const l=n instanceof Set?a:String(s++);a=i.call(n,l,a)}o.items.push(gT(a,void 0,r))}}return o}}function hD(e){let t=Oi(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const t_={collection:"seq",default:!0,nodeClass:xb,tag:"tag:yaml.org,2002:seq",resolve(e,t){return sA(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>xb.from(e,t,n)},C$={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),$ee(e,t,n,r)}},_$={identify:e=>e==null,createNode:()=>new Jn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Jn(null),stringify:({source:e},t)=>typeof e=="string"&&_$.test.test(e)?e:t.options.nullStr},Fee={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new Jn(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&Fee.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function Af({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=Object.is(r,-0)?"-0":JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=t-(o.length-s-1);for(;a-- >0;)o+="0"}return o}const CMe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Af},_Me={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Af(e)}},EMe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new Jn(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:Af},E$=e=>typeof e=="bigint"||Number.isInteger(e),jee=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function SMe(e,t,n){const{value:r}=e;return E$(r)&&r>=0?n+r.toString(t):Af(e)}const TMe={identify:e=>E$(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>jee(e,2,8,n),stringify:e=>SMe(e,8,"0o")},kMe={identify:E$,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>jee(e,0,10,n),stringify:Af},AMe={identify:e=>E$(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>jee(e,2,16,n),stringify:e=>SMe(e,16,"0x")},SGt=[e_,t_,C$,_$,Fee,TMe,kMe,AMe,CMe,_Me,EMe];function Zge(e){return typeof e=="bigint"||Number.isInteger(e)}const pD=({value:e})=>JSON.stringify(e),TGt=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:pD},{identify:e=>e==null,createNode:()=>new Jn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:pD},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>e==="true",stringify:pD},{identify:Zge,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>Zge(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:pD}],kGt={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},AGt=[e_,t_].concat(TGt,kGt),Bee={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,o){if(!n)return"";const s=n;let a;if(typeof btoa=="function"){let l="";for(let u=0;u<s.length;++u)l+=String.fromCharCode(s[u]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t??(t=Jn.BLOCK_LITERAL),t!==Jn.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(a.length/l),c=new Array(u);for(let d=0,f=0;d<u;++d,f+=l)c[d]=a.substr(f,l);a=c.join(t===Jn.BLOCK_LITERAL?`
`:" ")}return $ee({comment:e,type:t,value:a},r,i,o)}};function RMe(e,t){if(sA(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!Bo(r)){if(oA(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const i=r.items[0]||new vl(new Jn(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const o=i.value??i.key;o.comment=o.comment?`${r.comment}
${o.comment}`:r.comment}r=i}e.items[n]=Bo(r)?r:new vl(r)}}else t("Expected a sequence for this tag");return e}function IMe(e,t,n){const{replacer:r}=n,i=new xb(e);i.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof r=="function"&&(s=r.call(t,String(o++),s));let a,l;if(Array.isArray(s))if(s.length===2)a=s[0],l=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){const u=Object.keys(s);if(u.length===1)a=u[0],l=s[a];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else a=s;i.items.push(Lee(a,l,n))}return i}const zee={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:RMe,createNode:IMe};class Kw extends xb{constructor(){super(),this.add=xc.prototype.add.bind(this),this.delete=xc.prototype.delete.bind(this),this.get=xc.prototype.get.bind(this),this.has=xc.prototype.has.bind(this),this.set=xc.prototype.set.bind(this),this.tag=Kw.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n?.onCreate&&n.onCreate(r);for(const i of this.items){let o,s;if(Bo(i)?(o=Pc(i.key,"",n),s=Pc(i.value,o,n)):o=Pc(i,"",n),r.has(o))throw new Error("Ordered maps must not include duplicate keys");r.set(o,s)}return r}static from(t,n,r){const i=IMe(t,n,r),o=new this;return o.items=i.items,o}}Kw.tag="tag:yaml.org,2002:omap";const Uee={collection:"seq",identify:e=>e instanceof Map,nodeClass:Kw,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=RMe(e,t),r=[];for(const{key:i}of n.items)Oi(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new Kw,n)},createNode:(e,t,n)=>Kw.from(e,t,n)};function DMe({value:e,source:t},n){return t&&(e?PMe:OMe).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const PMe={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Jn(!0),stringify:DMe},OMe={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Jn(!1),stringify:DMe},RGt={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Af},IGt={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Af(e)}},DGt={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new Jn(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:Af},aA=e=>typeof e=="bigint"||Number.isInteger(e);function S$(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const s=BigInt(e);return i==="-"?BigInt(-1)*s:s}const o=parseInt(e,n);return i==="-"?-1*o:o}function Hee(e,t,n){const{value:r}=e;if(aA(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return Af(e)}const PGt={identify:aA,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>S$(e,2,2,n),stringify:e=>Hee(e,2,"0b")},OGt={identify:aA,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>S$(e,1,8,n),stringify:e=>Hee(e,8,"0")},NGt={identify:aA,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>S$(e,0,10,n),stringify:Af},MGt={identify:aA,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>S$(e,2,16,n),stringify:e=>Hee(e,16,"0x")};class Xw extends xc{constructor(t){super(t),this.tag=Xw.tag}add(t){let n;Bo(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new vl(t.key,null):n=new vl(t,null),Ev(this.items,n.key)||this.items.push(n)}get(t,n){const r=Ev(this.items,t);return!n&&Bo(r)?Oi(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Ev(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new vl(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n))for(let s of n)typeof i=="function"&&(s=i.call(n,s,s)),o.items.push(Lee(s,null,r));return o}}Xw.tag="tag:yaml.org,2002:set";const qee={collection:"map",identify:e=>e instanceof Set,nodeClass:Xw,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>Xw.from(e,t,n),resolve(e,t){if(oA(e)){if(e.hasAllNullValues(!0))return Object.assign(new Xw,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function Vee(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),o=r.replace(/_/g,"").split(":").reduce((s,a)=>s*i(60)+i(a),i(0));return n==="-"?i(-1)*o:o}function NMe(e){let{value:t}=e,n=s=>s;if(typeof t=="bigint")n=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return Af(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),r+o.map(s=>String(s).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const MMe={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Vee(e,n),stringify:NMe},$Me={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Vee(e,!1),stringify:NMe},T$={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(T$.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,o,s,a]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,i,o||0,s||0,a||0,l);const c=t[8];if(c&&c!=="Z"){let d=Vee(c,!1);Math.abs(d)<30&&(d*=60),u-=6e4*d}return new Date(u)},stringify:({value:e})=>e?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},e0e=[e_,t_,C$,_$,PMe,OMe,PGt,OGt,NGt,MGt,RGt,IGt,DGt,Bee,om,Uee,zee,qee,MMe,$Me,T$],t0e=new Map([["core",SGt],["failsafe",[e_,t_,C$]],["json",AGt],["yaml11",e0e],["yaml-1.1",e0e]]),n0e={binary:Bee,bool:Fee,float:EMe,floatExp:_Me,floatNaN:CMe,floatTime:$Me,int:kMe,intHex:AMe,intOct:TMe,intTime:MMe,map:e_,merge:om,null:_$,omap:Uee,pairs:zee,seq:t_,set:qee,timestamp:T$},$Gt={"tag:yaml.org,2002:binary":Bee,"tag:yaml.org,2002:merge":om,"tag:yaml.org,2002:omap":Uee,"tag:yaml.org,2002:pairs":zee,"tag:yaml.org,2002:set":qee,"tag:yaml.org,2002:timestamp":T$};function NB(e,t,n){const r=t0e.get(t);if(r&&!e)return n&&!r.includes(om)?r.concat(om):r.slice();let i=r;if(!i)if(Array.isArray(e))i=[];else{const o=Array.from(t0e.keys()).filter(s=>s!=="yaml11").map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${o} or define customTags array`)}if(Array.isArray(e))for(const o of e)i=i.concat(o);else typeof e=="function"&&(i=e(i.slice()));return n&&(i=i.concat(om)),i.reduce((o,s)=>{const a=typeof s=="string"?n0e[s]:s;if(!a){const l=JSON.stringify(s),u=Object.keys(n0e).map(c=>JSON.stringify(c)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${u}`)}return o.includes(a)||o.push(a),o},[])}const LGt=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Wee{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(t)?NB(t,"compat"):t?NB(null,t):null,this.name=typeof o=="string"&&o||"core",this.knownTags=i?$Gt:{},this.tags=NB(n,this.name,r),this.toStringOptions=a??null,Object.defineProperty(this,p0,{value:e_}),Object.defineProperty(this,Fh,{value:C$}),Object.defineProperty(this,JC,{value:t_}),this.sortMapEntries=typeof s=="function"?s:s===!0?LGt:null}clone(){const t=Object.create(Wee.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function FGt(e,t){const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const l=e.directives.toString(e);l?(n.push(l),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=vMe(e,t),{commentString:o}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const l=o(e.commentBefore);n.unshift(Vp(l,""))}let s=!1,a=null;if(e.contents){if(Mo(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const c=o(e.contents.commentBefore);n.push(Vp(c,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}const l=a?void 0:()=>s=!0;let u=Zx(e.contents,i,()=>a=null,l);a&&(u+=_v(u,"",o(a))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(Zx(e.contents,i));if(e.directives?.docEnd)if(e.comment){const l=o(e.comment);l.includes(`
`)?(n.push("..."),n.push(Vp(l,""))):n.push(`... ${l}`)}else n.push("...");else{let l=e.comment;l&&s&&(l=l.replace(/^\n+/,"")),l&&((!s||a)&&n[n.length-1]!==""&&n.push(""),n.push(Vp(o(l),"")))}return n.join(`
`)+`
`}class k${constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Hc,{value:Vq});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=o;let{version:s}=o;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new rl({version:s}),this.setSchema(s,r),this.contents=t===void 0?null:this.createNode(t,i,r)}clone(){const t=Object.create(k$.prototype,{[Hc]:{value:Vq}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Mo(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Z1(this.contents)&&this.contents.add(t)}addIn(t,n){Z1(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=hMe(this);t.anchor=!n||r.has(n)?pMe(n||"a",r):n}return new Mee(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const g=y=>typeof y=="number"||y instanceof String||y instanceof Number,v=n.filter(g).map(String);v.length>0&&(n=n.concat(v)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:l,onTagObj:u,tag:c}=r??{},{onAnchor:d,setAnchors:f,sourceObjects:h}=dGt(this,s||"a"),p={aliasDuplicateObjects:o??!0,keepUndefined:l??!1,onAnchor:d,onTagObj:u,replacer:i,schema:this.schema,sourceObjects:h},m=gT(t,c,p);return a&&No(m)&&(m.flow=!0),f(),m}createPair(t,n,r={}){const i=this.createNode(t,null,r),o=this.createNode(n,null,r);return new vl(i,o)}delete(t){return Z1(this.contents)?this.contents.delete(t):!1}deleteIn(t){return dS(t)?this.contents==null?!1:(this.contents=null,!0):Z1(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return No(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return dS(t)?!n&&Oi(this.contents)?this.contents.value:this.contents:No(this.contents)?this.contents.getIn(t,n):void 0}has(t){return No(this.contents)?this.contents.has(t):!1}hasIn(t){return dS(t)?this.contents!==void 0:No(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=t4(this.schema,[t],n):Z1(this.contents)&&this.contents.set(t,n)}setIn(t,n){dS(t)?this.contents=n:this.contents==null?this.contents=t4(this.schema,Array.from(t),n):Z1(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new rl({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new rl({version:t}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new Wee(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:o,reviver:s}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=Pc(this.contents,n??"",a);if(typeof o=="function")for(const{count:u,res:c}of a.anchors.values())o(c,u);return typeof s=="function"?Tw(s,{"":l},"",l):l}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return FGt(this,t)}}function Z1(e){if(No(e))return!0;throw new Error("Expected a YAML collection as document contents")}class LMe extends Error{constructor(t,n,r,i){super(),this.name=t,this.code=r,this.message=i,this.pos=n}}class fS extends LMe{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class jGt extends LMe{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const r0e=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>t.linePos(a));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let o=i-1,s=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){const a=Math.min(o-39,s.length-79);s=""+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+""),r>1&&/^ *$/.test(s.substring(0,o))){let a=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`
`),s=a+s}if(/[^ ]/.test(s)){let a=1;const l=n.linePos[1];l?.line===r&&l.col>i&&(a=Math.max(1,Math.min(l.col-i,80-o)));const u=" ".repeat(o)+"^".repeat(a);n.message+=`:

${s}
${u}
`}};function eC(e,{flow:t,indicator:n,next:r,offset:i,onError:o,parentIndent:s,startOnNewline:a}){let l=!1,u=a,c=a,d="",f="",h=!1,p=!1,m=null,g=null,v=null,y=null,x=null,E=null,_=null;for(const k of e)switch(p&&(k.type!=="space"&&k.type!=="newline"&&k.type!=="comma"&&o(k.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),m&&(u&&k.type!=="comment"&&k.type!=="newline"&&o(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),k.type){case"space":!t&&(n!=="doc-start"||r?.type!=="flow-collection")&&k.source.includes("	")&&(m=k),c=!0;break;case"comment":{c||o(k,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const R=k.source.substring(1)||" ";d?d+=f+R:d=R,f="",u=!1;break}case"newline":u?d?d+=k.source:(!E||n!=="seq-item-ind")&&(l=!0):f+=k.source,u=!0,h=!0,(g||v)&&(y=k),c=!0;break;case"anchor":g&&o(k,"MULTIPLE_ANCHORS","A node can have at most one anchor"),k.source.endsWith(":")&&o(k.offset+k.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=k,_??(_=k.offset),u=!1,c=!1,p=!0;break;case"tag":{v&&o(k,"MULTIPLE_TAGS","A node can have at most one tag"),v=k,_??(_=k.offset),u=!1,c=!1,p=!0;break}case n:(g||v)&&o(k,"BAD_PROP_ORDER",`Anchors and tags must be after the ${k.source} indicator`),E&&o(k,"UNEXPECTED_TOKEN",`Unexpected ${k.source} in ${t??"collection"}`),E=k,u=n==="seq-item-ind"||n==="explicit-key-ind",c=!1;break;case"comma":if(t){x&&o(k,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),x=k,u=!1,c=!1;break}default:o(k,"UNEXPECTED_TOKEN",`Unexpected ${k.type} token`),u=!1,c=!1}const S=e[e.length-1],T=S?S.offset+S.source.length:i;return p&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&o(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(u&&m.indent<=s||r?.type==="block-map"||r?.type==="block-seq")&&o(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:x,found:E,spaceBefore:l,comment:d,hasNewline:h,anchor:g,tag:v,newlineAfterProp:y,end:T,start:_??T}}function yT(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(yT(t.key)||yT(t.value))return!0}return!1;default:return!0}}function Kq(e,t,n){if(t?.type==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&yT(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function FMe(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const i=typeof r=="function"?r:(o,s)=>o===s||Oi(o)&&Oi(s)&&o.value===s.value;return t.some(o=>i(o.key,n))}const i0e="All mapping items must start at the same column";function BGt({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=o?.nodeClass??xc,a=new s(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,u=null;for(const c of r.items){const{start:d,key:f,sep:h,value:p}=c,m=eC(d,{indicator:"explicit-key-ind",next:f??h?.[0],offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0}),g=!m.found;if(g){if(f&&(f.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in f&&f.indent!==r.indent&&i(l,"BAD_INDENT",i0e)),!m.anchor&&!m.tag&&!h){u=m.end,m.comment&&(a.comment?a.comment+=`
`+m.comment:a.comment=m.comment);continue}(m.newlineAfterProp||yT(f))&&i(f??d[d.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else m.found?.indent!==r.indent&&i(l,"BAD_INDENT",i0e);n.atKey=!0;const v=m.end,y=f?e(n,f,m,i):t(n,v,d,null,m,i);n.schema.compat&&Kq(r.indent,f,i),n.atKey=!1,FMe(n,a.items,y)&&i(v,"DUPLICATE_KEY","Map keys must be unique");const x=eC(h??[],{indicator:"map-value-ind",next:p,offset:y.range[2],onError:i,parentIndent:r.indent,startOnNewline:!f||f.type==="block-scalar"});if(l=x.end,x.found){g&&(p?.type==="block-map"&&!x.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&m.start<x.found.offset-1024&&i(y.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const E=p?e(n,p,x,i):t(n,l,h,null,x,i);n.schema.compat&&Kq(r.indent,p,i),l=E.range[2];const _=new vl(y,E);n.options.keepSourceTokens&&(_.srcToken=c),a.items.push(_)}else{g&&i(y.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),x.comment&&(y.comment?y.comment+=`
`+x.comment:y.comment=x.comment);const E=new vl(y);n.options.keepSourceTokens&&(E.srcToken=c),a.items.push(E)}}return u&&u<l&&i(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,l,u??l],a}function zGt({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=o?.nodeClass??xb,a=new s(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,u=null;for(const{start:c,value:d}of r.items){const f=eC(c,{indicator:"seq-item-ind",next:d,offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0});if(!f.found)if(f.anchor||f.tag||d)d?.type==="block-seq"?i(f.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{u=f.end,f.comment&&(a.comment=f.comment);continue}const h=d?e(n,d,f,i):t(n,f.end,c,null,f,i);n.schema.compat&&Kq(r.indent,d,i),l=h.range[2],a.items.push(h)}return a.range=[r.offset,l,u??l],a}function lA(e,t,n,r){let i="";if(e){let o=!1,s="";for(const a of e){const{source:l,type:u}=a;switch(u){case"space":o=!0;break;case"comment":{n&&!o&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const c=l.substring(1)||" ";i?i+=s+c:i=c,s="";break}case"newline":i&&(s+=l),o=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}t+=l.length}}return{comment:i,offset:t}}const MB="Block collections are not allowed within flow collections",$B=e=>e&&(e.type==="block-map"||e.type==="block-seq");function UGt({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=r.start.source==="{",a=s?"flow map":"flow sequence",l=o?.nodeClass??(s?xc:xb),u=new l(n.schema);u.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let d=r.offset+r.start.source.length;for(let g=0;g<r.items.length;++g){const v=r.items[g],{start:y,key:x,sep:E,value:_}=v,S=eC(y,{flow:a,indicator:"explicit-key-ind",next:x??E?.[0],offset:d,onError:i,parentIndent:r.indent,startOnNewline:!1});if(!S.found){if(!S.anchor&&!S.tag&&!E&&!_){g===0&&S.comma?i(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):g<r.items.length-1&&i(S.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),S.comment&&(u.comment?u.comment+=`
`+S.comment:u.comment=S.comment),d=S.end;continue}!s&&n.options.strict&&yT(x)&&i(x,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(g===0)S.comma&&i(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(S.comma||i(S.start,"MISSING_CHAR",`Missing , between ${a} items`),S.comment){let T="";e:for(const k of y)switch(k.type){case"comma":case"space":break;case"comment":T=k.source.substring(1);break e;default:break e}if(T){let k=u.items[u.items.length-1];Bo(k)&&(k=k.value??k.key),k.comment?k.comment+=`
`+T:k.comment=T,S.comment=S.comment.substring(T.length+1)}}if(!s&&!E&&!S.found){const T=_?e(n,_,S,i):t(n,S.end,E,null,S,i);u.items.push(T),d=T.range[2],$B(_)&&i(T.range,"BLOCK_IN_FLOW",MB)}else{n.atKey=!0;const T=S.end,k=x?e(n,x,S,i):t(n,T,y,null,S,i);$B(x)&&i(k.range,"BLOCK_IN_FLOW",MB),n.atKey=!1;const R=eC(E??[],{flow:a,indicator:"map-value-ind",next:_,offset:k.range[2],onError:i,parentIndent:r.indent,startOnNewline:!1});if(R.found){if(!s&&!S.found&&n.options.strict){if(E)for(const N of E){if(N===R.found)break;if(N.type==="newline"){i(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}S.start<R.found.offset-1024&&i(R.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else _&&("source"in _&&_.source?.[0]===":"?i(_,"MISSING_CHAR",`Missing space after : in ${a}`):i(R.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const I=_?e(n,_,R,i):R.found?t(n,R.end,E,null,R,i):null;I?$B(_)&&i(I.range,"BLOCK_IN_FLOW",MB):R.comment&&(k.comment?k.comment+=`
`+R.comment:k.comment=R.comment);const P=new vl(k,I);if(n.options.keepSourceTokens&&(P.srcToken=v),s){const N=u;FMe(n,N.items,k)&&i(T,"DUPLICATE_KEY","Map keys must be unique"),N.items.push(P)}else{const N=new xc(n.schema);N.flow=!0,N.items.push(P);const M=(I??k).range;N.range=[k.range[0],M[1],M[2]],u.items.push(N)}d=I?I.range[2]:R.end}}const f=s?"}":"]",[h,...p]=r.end;let m=d;if(h?.source===f)m=h.offset+h.source.length;else{const g=a[0].toUpperCase()+a.substring(1),v=c?`${g} must end with a ${f}`:`${g} in block collection must be sufficiently indented and end with a ${f}`;i(d,c?"MISSING_CHAR":"BAD_INDENT",v),h&&h.source.length!==1&&p.unshift(h)}if(p.length>0){const g=lA(p,m,n.options.strict,i);g.comment&&(u.comment?u.comment+=`
`+g.comment:u.comment=g.comment),u.range=[r.offset,m,g.offset]}else u.range=[r.offset,m,m];return u}function LB(e,t,n,r,i,o){const s=n.type==="block-map"?BGt(e,t,n,r,o):n.type==="block-seq"?zGt(e,t,n,r,o):UGt(e,t,n,r,o),a=s.constructor;return i==="!"||i===a.tagName?(s.tag=a.tagName,s):(i&&(s.tag=i),s)}function HGt(e,t,n,r,i){const o=r.tag,s=o?t.directives.tagName(o.source,f=>i(o,"TAG_RESOLVE_FAILED",f)):null;if(n.type==="block-seq"){const{anchor:f,newlineAfterProp:h}=r,p=f&&o?f.offset>o.offset?f:o:f??o;p&&(!h||h.offset<p.offset)&&i(p,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!o||!s||s==="!"||s===xc.tagName&&a==="map"||s===xb.tagName&&a==="seq")return LB(e,t,n,i,s);let l=t.schema.tags.find(f=>f.tag===s&&f.collection===a);if(!l){const f=t.schema.knownTags[s];if(f?.collection===a)t.schema.tags.push(Object.assign({},f,{default:!1})),l=f;else return f?i(o,"BAD_COLLECTION_TYPE",`${f.tag} used for ${a} collection, but expects ${f.collection??"scalar"}`,!0):i(o,"TAG_RESOLVE_FAILED",`Unresolved tag: ${s}`,!0),LB(e,t,n,i,s)}const u=LB(e,t,n,i,s,l),c=l.resolve?.(u,f=>i(o,"TAG_RESOLVE_FAILED",f),t.options)??u,d=Mo(c)?c:new Jn(c);return d.range=u.range,d.tag=s,l?.format&&(d.format=l.format),d}function qGt(e,t,n){const r=t.offset,i=VGt(t,e.options.strict,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const o=i.mode===">"?Jn.BLOCK_FOLDED:Jn.BLOCK_LITERAL,s=t.source?WGt(t.source):[];let a=s.length;for(let m=s.length-1;m>=0;--m){const g=s[m][1];if(g===""||g==="\r")a=m;else break}if(a===0){const m=i.chomp==="+"&&s.length>0?`
`.repeat(Math.max(1,s.length-1)):"";let g=r+i.length;return t.source&&(g+=t.source.length),{value:m,type:o,comment:i.comment,range:[r,g,g]}}let l=t.indent+i.indent,u=t.offset+i.length,c=0;for(let m=0;m<a;++m){const[g,v]=s[m];if(v===""||v==="\r")i.indent===0&&g.length>l&&(l=g.length);else{g.length<l&&n(u+g.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(l=g.length),c=m,l===0&&!e.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=g.length+v.length+1}for(let m=s.length-1;m>=a;--m)s[m][0].length>l&&(a=m+1);let d="",f="",h=!1;for(let m=0;m<c;++m)d+=s[m][0].slice(l)+`
`;for(let m=c;m<a;++m){let[g,v]=s[m];u+=g.length+v.length+1;const y=v[v.length-1]==="\r";if(y&&(v=v.slice(0,-1)),v&&g.length<l){const E=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(u-v.length-(y?2:1),"BAD_INDENT",E),g=""}o===Jn.BLOCK_LITERAL?(d+=f+g.slice(l)+v,f=`
`):g.length>l||v[0]==="	"?(f===" "?f=`
`:!h&&f===`
`&&(f=`

`),d+=f+g.slice(l)+v,f=`
`,h=!0):v===""?f===`
`?d+=`
`:f=`
`:(d+=f+v,f=" ",h=!1)}switch(i.chomp){case"-":break;case"+":for(let m=a;m<s.length;++m)d+=`
`+s[m][0].slice(l);d[d.length-1]!==`
`&&(d+=`
`);break;default:d+=`
`}const p=r+i.length+t.source.length;return{value:d,type:o,comment:i.comment,range:[r,p,p]}}function VGt({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],o=i[0];let s=0,a="",l=-1;for(let f=1;f<i.length;++f){const h=i[f];if(!a&&(h==="-"||h==="+"))a=h;else{const p=Number(h);!s&&p?s=p:l===-1&&(l=e+f)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let u=!1,c="",d=i.length;for(let f=1;f<t.length;++f){const h=t[f];switch(h.type){case"space":u=!0;case"newline":d+=h.source.length;break;case"comment":n&&!u&&r(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=h.source.length,c=h.source.substring(1);break;case"error":r(h,"UNEXPECTED_TOKEN",h.message),d+=h.source.length;break;default:{const p=`Unexpected token in block scalar header: ${h.type}`;r(h,"UNEXPECTED_TOKEN",p);const m=h.source;m&&typeof m=="string"&&(d+=m.length)}}}return{mode:o,indent:s,chomp:a,comment:c,length:d}}function WGt(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),o=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let s=1;s<t.length;s+=2)o.push([t[s],t[s+1]]);return o}function GGt(e,t,n){const{offset:r,type:i,source:o,end:s}=e;let a,l;const u=(f,h,p)=>n(r+f,h,p);switch(i){case"scalar":a=Jn.PLAIN,l=YGt(o,u);break;case"single-quoted-scalar":a=Jn.QUOTE_SINGLE,l=KGt(o,u);break;case"double-quoted-scalar":a=Jn.QUOTE_DOUBLE,l=XGt(o,u);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+o.length,r+o.length]}}const c=r+o.length,d=lA(s,c,t,n);return{value:l,type:a,comment:d.comment,range:[r,c,d.offset]}}function YGt(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),jMe(e)}function KGt(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),jMe(e.slice(1,-1)).replace(/''/g,"'")}function jMe(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let i=r[1],o=" ",s=t.lastIndex;for(n.lastIndex=s;r=n.exec(e);)r[1]===""?o===`
`?i+=o:o=`
`:(i+=o+r[1],o=" "),s=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=s,r=a.exec(e),i+o+(r?.[1]??"")}function XGt(e,t){let n="";for(let r=1;r<e.length-1;++r){const i=e[r];if(!(i==="\r"&&e[r+1]===`
`))if(i===`
`){const{fold:o,offset:s}=QGt(e,r);n+=o,r=s}else if(i==="\\"){let o=e[++r];const s=JGt[o];if(s)n+=s;else if(o===`
`)for(o=e[r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="\r"&&e[r+1]===`
`)for(o=e[++r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="x"||o==="u"||o==="U"){const a={x:2,u:4,U:8}[o];n+=ZGt(e,r+1,a,t),r+=a}else{const a=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const o=r;let s=e[r+1];for(;s===" "||s==="	";)s=e[++r+1];s!==`
`&&!(s==="\r"&&e[r+2]===`
`)&&(n+=r>o?e.slice(o,r+1):i)}else n+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function QGt(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const JGt={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function ZGt(e,t,n,r){const i=e.substr(t,n),s=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){const a=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}function BMe(e,t,n,r){const{value:i,type:o,comment:s,range:a}=t.type==="block-scalar"?qGt(e,t,r):GGt(t,e.options.strict,r),l=n?e.directives.tagName(n.source,d=>r(n,"TAG_RESOLVE_FAILED",d)):null;let u;e.options.stringKeys&&e.atKey?u=e.schema[Fh]:l?u=eYt(e.schema,i,l,n,r):t.type==="scalar"?u=tYt(e,i,t,r):u=e.schema[Fh];let c;try{const d=u.resolve(i,f=>r(n??t,"TAG_RESOLVE_FAILED",f),e.options);c=Oi(d)?d:new Jn(d)}catch(d){const f=d instanceof Error?d.message:String(d);r(n??t,"TAG_RESOLVE_FAILED",f),c=new Jn(i)}return c.range=a,c.source=i,o&&(c.type=o),l&&(c.tag=l),u.format&&(c.format=u.format),s&&(c.comment=s),c}function eYt(e,t,n,r,i){if(n==="!")return e[Fh];const o=[];for(const a of e.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)o.push(a);else return a;for(const a of o)if(a.test?.test(t))return a;const s=e.knownTags[n];return s&&!s.collection?(e.tags.push(Object.assign({},s,{default:!1,test:void 0})),s):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[Fh])}function tYt({atKey:e,directives:t,schema:n},r,i,o){const s=n.tags.find(a=>(a.default===!0||e&&a.default==="key")&&a.test?.test(r))||n[Fh];if(n.compat){const a=n.compat.find(l=>l.default&&l.test?.test(r))??n[Fh];if(s.tag!==a.tag){const l=t.tagString(s.tag),u=t.tagString(a.tag),c=`Value may be parsed as either ${l} or ${u}`;o(i,"TAG_RESOLVE_FAILED",c,!0)}}return s}function nYt(e,t,n){if(t){n??(n=t.length);for(let r=n-1;r>=0;--r){let i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];i?.type==="space";)e+=i.source.length,i=t[++r];break}}return e}const rYt={composeNode:zMe,composeEmptyNode:Gee};function zMe(e,t,n,r){const i=e.atKey,{spaceBefore:o,comment:s,anchor:a,tag:l}=n;let u,c=!0;switch(t.type){case"alias":u=iYt(e,t,r),(a||l)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=BMe(e,t,l,r),a&&(u.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=HGt(rYt,e,t,n,r),a&&(u.anchor=a.source.substring(1));break;default:{const d=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",d),u=Gee(e,t.offset,void 0,null,n,r),c=!1}}return a&&u.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&e.options.stringKeys&&(!Oi(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(l??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),o&&(u.spaceBefore=!0),s&&(t.type==="scalar"&&t.source===""?u.comment=s:u.commentBefore=s),e.options.keepSourceTokens&&c&&(u.srcToken=t),u}function Gee(e,t,n,r,{spaceBefore:i,comment:o,anchor:s,tag:a,end:l},u){const c={type:"scalar",offset:nYt(t,n,r),indent:-1,source:""},d=BMe(e,c,a,u);return s&&(d.anchor=s.source.substring(1),d.anchor===""&&u(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(d.spaceBefore=!0),o&&(d.comment=o,d.range[2]=l),d}function iYt({options:e},{offset:t,source:n,end:r},i){const o=new Mee(n.substring(1));o.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=t+n.length,a=lA(r,s,e.strict,i);return o.range=[t,s,a.offset],a.comment&&(o.comment=a.comment),o}function oYt(e,t,{offset:n,start:r,value:i,end:o},s){const a=Object.assign({_directives:t},e),l=new k$(void 0,a),u={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},c=eC(r,{indicator:"doc-start",next:i??o?.[0],offset:n,onError:s,parentIndent:0,startOnNewline:!0});c.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!c.hasNewline&&s(c.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?zMe(u,i,c,s):Gee(u,c.end,r,null,c,s);const d=l.contents.range[2],f=lA(o,d,!1,s);return f.comment&&(l.comment=f.comment),l.range=[n,d,f.offset],l}function bE(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function o0e(e){let t="",n=!1,r=!1;for(let i=0;i<e.length;++i){const o=e[i];switch(o[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(o.substring(1)||" "),n=!0,r=!1;break;case"%":e[i+1]?.[0]!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class sYt{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,o)=>{const s=bE(n);o?this.warnings.push(new jGt(s,r,i)):this.errors.push(new fS(s,r,i))},this.directives=new rl({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:i}=o0e(this.prelude);if(r){const o=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(i||t.directives.docStart||!o)t.commentBefore=r;else if(No(o)&&!o.flow&&o.items.length>0){let s=o.items[0];Bo(s)&&(s=s.key);const a=s.commentBefore;s.commentBefore=a?`${r}
${a}`:r}else{const s=o.commentBefore;o.commentBefore=s?`${r}
${s}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:o0e(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const i of t)yield*this.next(i);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,i)=>{const o=bE(t);o[0]+=n,this.onError(o,"BAD_DIRECTIVE",r,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=oYt(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new fS(bE(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new fS(bE(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=lA(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new fS(bE(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),i=new k$(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}const UMe="\uFEFF",HMe="",qMe="",Xq="";function aYt(e){switch(e){case UMe:return"byte-order-mark";case HMe:return"doc-mode";case qMe:return"flow-error-end";case Xq:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function fd(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const s0e=new Set("0123456789ABCDEFabcdef"),lYt=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),mD=new Set(",[]{}"),uYt=new Set(` ,[]{}
\r	`),FB=e=>!e||uYt.has(e);class cYt{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const i=this.buffer[r+t+1];if(i===`
`||!i&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&fd(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===UMe&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length,r=t.indexOf("#");for(;r!==-1;){const o=t[r-1];if(o===" "||o==="	"){n=r-1;break}else r=t.indexOf("#",r+1)}for(;;){const o=t[n-1];if(o===" "||o==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield HMe,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&fd(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!fd(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&fd(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(FB),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&fd(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield qMe,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(FB),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const s=this.charAt(1);if(this.flowKey||fd(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let o=0;for(;this.buffer[n-1-o]==="\\";)o+=1;if(o%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const o=this.continueScalar(i+1);if(o===-1)break;i=r.indexOf(`
`,o)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>fd(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let o=this.pos;r=this.buffer[o];++o)switch(r){case" ":n+=1;break;case`
`:t=o,n=0;break;case"\r":{const s=this.buffer[o+1];if(!s&&!this.atEnd)return this.setNext("block-scalar");if(s===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const o=this.continueScalar(t+1);if(o===-1)break;t=this.buffer.indexOf(`
`,o)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let i=t+1;for(r=this.buffer[i];r===" ";)r=this.buffer[++i];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++i];t=i-1}else if(!this.blockScalarKeep)do{let o=t-1,s=this.buffer[o];s==="\r"&&(s=this.buffer[--o]);const a=o;for(;s===" ";)s=this.buffer[--o];if(s===`
`&&o>=this.pos&&o+1+n>a)t=o;else break}while(!0);return yield Xq,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const o=this.buffer[r+1];if(fd(o)||t&&mD.has(o))break;n=r}else if(fd(i)){let o=this.buffer[r+1];if(i==="\r"&&(o===`
`?(r+=1,i=`
`,o=this.buffer[r+1]):n=r),o==="#"||t&&mD.has(o))break;if(i===`
`){const s=this.continueScalar(r+1);if(s===-1)break;r=Math.max(r,s-2)}}else{if(t&&mD.has(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield Xq,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(FB))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(fd(n)||t&&mD.has(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!fd(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(lYt.has(n))n=this.buffer[++t];else if(n==="%"&&s0e.has(this.buffer[t+1])&&s0e.has(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class dYt{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const o=n+r>>1;this.lineStarts[o]<t?n=o+1:r=o}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const i=this.lineStarts[n-1];return{line:n,col:t-i+1}}}}function $g(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function a0e(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function VMe(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function gD(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function ew(e){if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;e[++t]?.type==="space";);return e.splice(t,e.length)}function l0e(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!$g(t.start,"explicit-key-ind")&&!$g(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,VMe(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class fYt{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new cYt,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=aYt(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&t?.type!=="doc-end"){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&l0e(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&a0e(i.start)===-1&&(n.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{a0e(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=gD(this.peek(2)),r=ew(n);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const r=!this.onKeyLine&&this.indent===t.indent,i=r&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(i&&n.sep&&!n.value){const s=[];for(let a=0;a<n.sep.length;++a){const l=n.sep[a];switch(l.type){case"newline":s.push(a);break;case"space":break;case"comment":l.indent>t.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(o=n.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(o.push(this.sourceToken),t.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if($g(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(VMe(n.key)&&!$g(n.sep,"newline")){const s=ew(n.start),a=n.key,l=n.sep;l.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:a,sep:l}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if($g(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const s=ew(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?t.items.push({start:o,key:null,sep:[this.sourceToken]}):$g(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);i||n.value?(t.items.push({start:o,key:s,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(s):(Object.assign(n,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{const s=this.startBlockValue(t);if(s){if(s.type==="block-seq"){if(!n.explicitKey&&n.sep&&!$g(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else r&&t.items.push({start:o});this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||$g(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const r=this.startBlockValue(t);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r?.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=gD(r),o=ew(i);l0e(t);const s=t.end.splice(1,t.end.length);s.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=gD(t),r=ew(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=gD(t),r=ew(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function hYt(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new dYt||null,prettyErrors:t}}function pYt(e,t={}){const{lineCounter:n,prettyErrors:r}=hYt(t),i=new fYt(n?.addNewLine),o=new sYt(t);let s=null;for(const a of o.compose(i.parse(e),!0,e.length))if(!s)s=a;else if(s.options.logLevel!=="silent"){s.errors.push(new fS(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(s.errors.forEach(r0e(e,n)),s.warnings.forEach(r0e(e,n))),s}const mYt="#/definitions/StudyConfig",gYt="http://json-schema.org/draft-07/schema#",yYt=JSON.parse('{"Answer":{"additionalProperties":false,"description":"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.\\n\\nAnswers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.\\n\\nHere\'s an example of how to use the Answer interface to define the correct answer to a question:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/question.md\\", \\"response\\": [  {    \\"id\\": \\"response1\\",    \\"prompt\\": \\"What is 2 + 2?\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"numerical\\"  } ] \\"correctAnswer\\": [{  \\"id\\": \\"response1\\",  \\"answer\\": 4 }] } ```\\n\\nIn this example, the correct answer to the question \\"What is 2 + 2?\\" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.","properties":{"acceptableHigh":{"description":"The acceptable high value for the answer. This is used to define a range of acceptable answers.","type":"number"},"acceptableLow":{"description":"The acceptable low value for the answer. This is used to define a range of acceptable answers.","type":"number"},"answer":{"description":"The correct answer to the question."},"id":{"description":"The id of the answer. This is used to identify the answer in the data file.","type":"string"}},"required":["id","answer"],"type":"object"},"BaseComponents":{"additionalProperties":{"additionalProperties":false,"properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"type":"object"},"description":"The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\\n\\n Using baseComponents:\\n\\n```js \\"baseComponents\\": { \\"my-image-component\\": { \\"instructionLocation\\": \\"sidebar\\", \\"nextButtonLocation\\": \\"sidebar\\", \\"path\\": \\"<study-name>/assets/my-image.jpg\\", \\"response\\": [   {     \\"id\\": \\"my-image-id\\",     \\"options\\": [\\"Europe\\", \\"Japan\\", \\"USA\\"],     \\"prompt\\": \\"Your Selected Answer:\\",     \\"type\\": \\"dropdown\\"   } ], \\"type\\": \\"image\\" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `\\"baseComponent\\":\\"my-image-component\\"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js \\"components\\": { \\"q1\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with largest GDP\\", \\"instruction\\": \\"Which region has the largest GDP?\\" }, \\"q2\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with lowest GDP\\", \\"instruction\\": \\"Which region has the lowest GDP?\\" }, \\"q3\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with highest exports of Wheat\\", \\"instruction\\": \\"Which region had the most Wheat exported in 2022?\\" } } ```","type":"object"},"BrowserRules":{"additionalProperties":false,"description":"Rules specifying which browsers and their minimum versions the study supports.","properties":{"allowed":{"description":"List of browser types and their minimum version to support.","items":{"$ref":"#/definitions/UserBrowser"},"type":"array"},"blockedMessage":{"description":"Optional message to be displayed when browser criterias are not met.","type":"string"}},"required":["allowed"],"type":"object"},"ButtonsResponse":{"additionalProperties":false,"description":"The ButtonsResponse interface is used to define the properties of a buttons response. ButtonsResponses render as a list of buttons that the participant can click. When a button is clicked, the value of the button is stored in the data file. Participants can cycle through the options using the arrow keys.\\n\\nExample: ```js {   \\"id\\": \\"buttonsResponse\\",   \\"type\\": \\"buttons\\",   \\"prompt\\": \\"Click a button\\",   \\"location\\": \\"belowStimulus\\",   \\"options\\": [     \\"Option 1\\",     \\"Option 2\\",     \\"Option 3\\"   ] } ``` In this example, the participant can click one of the buttons labeled \\"Option 1\\", \\"Option 2\\", or \\"Option 3\\".","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"buttons","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"CheckboxResponse":{"additionalProperties":false,"description":"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\\n\\n```js { \\"id\\": \\"q7\\", \\"prompt\\": \\"Checkbox example (not required)\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"checkbox\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\", \\"Option 3\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the checkboxes horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required.","type":"number"},"optionOrder":{"description":"The order in which the checkboxes are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"checkbox","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the checkboxes with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ComponentBlock":{"additionalProperties":false,"description":"The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\\n\\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\\n\\nHere\'s a snippet that shows how to use the random order:\\n\\n```js { \\"order\\": \\"random\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\\n\\n```js [ [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component1\\", \\"component3\\", \\"component2\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], ... ] ```\\n\\nIn addition to the order property, the ComponentBlock interface also includes the `\\"numSamples\\"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `\\"numSamples\\"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ], \\"numSamples\\": 2 } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\"], [\\"component2\\", \\"component3\\"], [\\"component3\\", \\"component1\\"], ... ] ```\\n\\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\\n\\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.","properties":{"components":{"description":"The components that are included in the order.","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}]},"type":"array"},"conditional":{"description":"The conditional property shows the block only when the URL condition matches its `id`.","type":"boolean"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"interruptions":{"description":"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.","items":{"$ref":"#/definitions/InterruptionBlock"},"type":"array"},"numSamples":{"description":"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.","type":"number"},"order":{"description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","enum":["random","latinSquare","fixed"],"type":"string"},"skip":{"$ref":"#/definitions/SkipConditions","description":"The skip conditions for the block."}},"required":["order","components"],"type":"object"},"ComponentBlockCondition":{"additionalProperties":false,"description":"The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.\\n\\nAnswers are checked against the correct answers defined in the IndividualComponent\'s [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.\\n\\nYou might use this if a participant answers two questions in a block incorrectly. Here\'s an example of how to use the ComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"check\\": \\"block\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.\\n\\nWhen the condition is met, the participant will immediately be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"block","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["check","condition","value","to"],"type":"object"},"ConfigResponseBlockLocation":{"enum":["sidebar","aboveStimulus","belowStimulus"],"type":"string"},"DeterministicInterruption":{"additionalProperties":false,"description":"The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.\\n\\nFor example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.\\n\\nThe components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the DeterministicInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"firstLocation\\": 2,   \\"spacing\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"firstLocation":{"description":"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).","type":"number"},"spacing":{"description":"The number of components between breaks.","type":"number"}},"required":["firstLocation","spacing","components"],"type":"object"},"DeviceRules":{"additionalProperties":false,"description":"Rules specifying which device types the study supports.","properties":{"allowed":{"description":"List of device types to support.","items":{"$ref":"#/definitions/UserDevice"},"type":"array"},"blockedMessage":{"description":"Optional message to be displayed when device criterias are not met.","type":"string"}},"required":["allowed"],"type":"object"},"DisplayRules":{"additionalProperties":false,"description":"Rules specifying which minimum screen dimensions for the study.","properties":{"minHeight":{"description":"The minimum screen width size for the study","type":"number"},"minWidth":{"description":"The minimum screen height size for the study","type":"number"}},"required":["minHeight","minWidth"],"type":"object"},"DividerResponse":{"additionalProperties":false,"properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"not":{}},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"not":{}},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"divider","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","type"],"type":"object"},"DropdownResponse":{"additionalProperties":false,"description":"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\\n\\nExample: ```js { \\"id\\": \\"q-color\\", \\"prompt\\": \\"What is your favorite color?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"dropdown\\", \\"placeholder\\": \\"Please choose your favorite color\\", \\"options\\": [\\"Red\\", \\"Blue\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required. This will make the dropdown a multiselect dropdown.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required. This will make the dropdown a multiselect dropdown.","type":"number"},"options":{"description":"The options that are displayed in the dropdown.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"dropdown","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"DynamicBlock":{"additionalProperties":false,"description":"The DynamicBlock interface is used to define a block where displayed components are controlled by a function. This is useful when you want to generate the sequence based on answers to previous questions or other factors.\\n\\nThe functionPath property is a path to the function that generates the components. This should be a relative path from the src/public folder.\\n\\nHere\'s an example of how to use the DynamicBlock:\\n\\n```js {   \\"id\\": \\"funcBlock\\",   \\"order\\": \\"dynamic\\",   \\"functionPath\\": \\"<study-name>/assets/function.js\\",   \\"parameters\\": {     \\"param1\\": \\"value1\\",     \\"param2\\": \\"value2\\"   } } ```","properties":{"conditional":{"description":"The conditional property shows the block only when the URL condition matches its `id`.","type":"boolean"},"functionPath":{"description":"The path to the function that generates the components. This should be a relative path from the src/public folder.","type":"string"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"order":{"const":"dynamic","description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the function. These can be used within your function to render different things.","type":"object"}},"required":["id","order","functionPath"],"type":"object"},"ImageComponent":{"additionalProperties":false,"description":"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\\n\\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { \\"type\\": \\"image\\", \\"path\\": \\"<study-name>/assets/image.jpg\\", \\"style\\": { \\"maxWidth\\": \\"50%\\" } } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"image","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"IndividualComponent":{"anyOf":[{"$ref":"#/definitions/MarkdownComponent"},{"$ref":"#/definitions/ReactComponent"},{"$ref":"#/definitions/ImageComponent"},{"$ref":"#/definitions/WebsiteComponent"},{"$ref":"#/definitions/QuestionnaireComponent"},{"$ref":"#/definitions/VegaComponent"},{"$ref":"#/definitions/VideoComponent"}]},"IndividualComponentAllResponsesCondition":{"additionalProperties":false,"description":"The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\n\\nHere\'s an example of how to use the IndividualComponentAllResponsesCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"responses\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, if all responses to the component with the ID \\"attentionCheck\\" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"responses","description":"The check we\'ll perform.","type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"}},"required":["name","check","to"],"type":"object"},"IndividualComponentSingleResponseCondition":{"additionalProperties":false,"description":"The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\nFor example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here\'s an example of how to use the IndividualComponentSingleResponseCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"response\\",   \\"responseId\\": \\"attentionCheckResponse\\",   \\"value\\": \\"the right answer\\",   \\"comparison\\": \\"equal\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, we assign our skip logic to the component whose ID is \\"attentionCheck\\". If the answer given to the response \\"attentionCheckResponse\\" is equal to \\"the right answer\\", then the user will be redirected to the end of the study. If the response is _not_ equal to \\"the right answer\\", then the participant will continue to the next component in the sequence.","properties":{"check":{"const":"response","description":"The check we\'ll perform.","type":"string"},"comparison":{"description":"The comparison to use.","enum":["equal","notEqual"],"type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"responseId":{"description":"The response id to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The value to check.","type":["string","number"]}},"required":["name","check","responseId","value","comparison","to"],"type":"object"},"InheritedComponent":{"additionalProperties":false,"description":"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"baseComponent":{"type":"string"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["baseComponent"],"type":"object"},"InputRules":{"additionalProperties":false,"description":"Rules specifying which input methods the study supports.","properties":{"allowed":{"description":"List of inputs to support.","items":{"$ref":"#/definitions/UserInput"},"type":"array"},"blockedMessage":{"description":"Optional message to be displayed when input criterias are not met.","type":"string"}},"required":["allowed"],"type":"object"},"InterruptionBlock":{"anyOf":[{"$ref":"#/definitions/DeterministicInterruption"},{"$ref":"#/definitions/RandomInterruption"}],"description":"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},"LikertResponse":{"additionalProperties":false,"description":"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as \'Strongly Disagree\' and \'Strongly Agree\'.\\n\\nExample for a five-point Likert Scale:\\n\\n```js { \\"id\\": \\"q-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"likert\\", \\"leftLabel\\": \\"Not Enjoyable\\", \\"rightLabel\\": \\"Very Enjoyable\\", \\"labelLocation\\": \\"inline\\", \\"numItems\\": 5, \\"start\\": 1, \\"spacing\\": 1 } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"labelLocation":{"description":"The location of the labels. Defaults to inline.","enum":["above","inline","below"],"type":"string"},"leftLabel":{"description":"The left label of the likert scale. E.g Strongly Disagree","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of options to render.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the likert scale. E.g Strongly Agree","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"spacing":{"description":"The spacing between the options. Defaults to 1.","type":"number"},"start":{"description":"The starting value of the likert scale. Defaults to 1.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"likert","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","numItems","prompt","type"],"type":"object"},"LongTextResponse":{"additionalProperties":false,"description":"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { \\"id\\": \\"q-name\\", \\"prompt\\": \\"What is your first name?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"longText\\", \\"placeholder\\": \\"Please enter your first name\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"longText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"MarkdownComponent":{"additionalProperties":false,"description":"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/help.md\\", \\"response\\": [] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"markdown","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"MatrixResponse":{"additionalProperties":false,"description":"The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, `answerOptions` can be set to one of the following custom strings: \'satisfaction5\',\'satisfaction7\', \'likely5\', \'likely7\'. This will automatically generate the appropriate headers for the matrix.\\n\\nExample for a 5-scale satisfaction matrix with three questions:\\n\\n```js { \\"id\\": \\"multi-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-radio\\", \\"answerOptions\\": \\"satisfaction5\\", \\"questionOptions\\": [  \\"The tool we created\\",  \\"The technique we developed\\",  \\"The authors of the tools\\" ] } ```\\n\\nHere\'s an example using custom columns (answerOptions):\\n\\n```js { \\"id\\": \\"multi-custom\\", \\"prompt\\": \\"Which categories do the following items belong to?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-checkbox\\", \\"answerOptions\\": [  \\"Has Legs\\",  \\"Has Wings\\",  \\"Can Swim\\" ], \\"questionOptions\\": [  \\"Dog\\",  \\"Snake\\",  \\"Eagle\\",  \\"Salmon\\",  \\"Platypus\\" ]\\n\\n} ```","properties":{"answerOptions":{"anyOf":[{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},{"const":"likely5","type":"string"},{"const":"likely7","type":"string"},{"const":"satisfaction5","type":"string"},{"const":"satisfaction7","type":"string"}],"description":"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"questionOptions":{"description":"The question options (rows) are the prompts for each response you\'d like to record.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"questionOrder":{"description":"The order in which the questions are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["matrix-radio","matrix-checkbox"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["answerOptions","id","prompt","questionOptions","type"],"type":"object"},"NumberOption":{"additionalProperties":false,"description":"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"number"}},"required":["label","value"],"type":"object"},"NumericalResponse":{"additionalProperties":false,"description":"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\\n\\nExample: ```js { \\"id\\": \\"q-numerical\\", \\"prompt\\": \\"Numerical example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"numerical\\", \\"placeholder\\": \\"Enter your age, range from 0 - 120\\", \\"max\\": 120, \\"min\\": 0 } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"max":{"description":"The maximum value that is accepted in the input.","type":"number"},"min":{"description":"The minimum value that is accepted in the input.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"numerical","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"QuestionnaireComponent":{"additionalProperties":false,"description":"A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\\n\\n```js { \\"type\\": \\"questionnaire\\", \\"response\\": [  {    \\"id\\": \\"gender\\",    \\"prompt\\": \\"Gender:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"checkbox\\",    \\"options\\": [\\"Man\\", \\"Woman\\", \\"Genderqueer\\", \\"Third-gender\\", ...]  } ] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"questionnaire","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["response","type"],"type":"object"},"RadioResponse":{"additionalProperties":false,"description":"The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\\n\\nExample: ```js { \\"id\\": \\"q-radio\\", \\"prompt\\": \\"Radio button example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"radio\\", \\"options\\": [\\"Option 1\\", \\"Option 2, Option 3\\"], \\"optionOrder\\": \\"random\\", \\"leftLabel\\": \\"Left\\", \\"rightLabel\\": \\"Right\\", \\"labelLocation\\": \\"inline\\", \\"horizontal\\": true, \\"withOther\\": true } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the radio buttons horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"labelLocation":{"description":"The location of the labels. This only works when horizontal is true. Defaults to inline.","enum":["above","inline","below"],"type":"string"},"leftLabel":{"description":"The left label of the radio group. Used in Likert scales for example","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the radio buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the radio group. Used in Likert scales for example","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"radio","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the radios with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"RandomInterruption":{"additionalProperties":false,"description":"The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\\n\\nFor example, if you want to show a single interruption randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 1. If you want to show 3 interruptions randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 3.\\n\\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the RandomInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"spacing\\": \\"random\\",   \\"numInterruptions\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"interruption1\\", \\"interruption2\\", \\"component5\\", \\"component6\\"], [\\"component1\\", \\"component2\\" \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"interruption1\\", \\"interruption2\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"numInterruptions":{"description":"The number of times the interruption will be randomly added","type":"number"},"spacing":{"const":"random","description":"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.","type":"string"}},"required":["spacing","numInterruptions","components"],"type":"object"},"RankingResponse":{"additionalProperties":false,"description":"The RankingResponse interface is used to define the properties of a ranking widget response. RankingResponses render as a ranking widget with user specified options.\\n\\nThere are three types of ranking widgets: Ranking Sublist: The participant is asked to rank a subset of items from a larger list. Ranking Categorical: The participant is asked to rank items within categories: HIGH, MEDIUM, and LOW. Ranking Pairwise: The participant is asked to rank items by comparing them in pairs.\\n\\n```js { \\"id\\": \\"ranking-sublist\\", \\"type\\": \\"ranking-sublist\\", \\"prompt\\": \\"Rank your top 2 favorite fruits from the list below\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Apple\\", \\"Banana\\", \\"Orange\\", \\"Strawberry\\", \\"Grapes\\"], \\"numItems\\": 2 }, { \\"id\\": \\"ranking-categorical\\", \\"type\\": \\"ranking-categorical\\", \\"prompt\\": \\"Sort these hobbies into the categories of HIGH, MEDIUM, and LOW based on your level of interest.\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Drawing\\", \\"Singing\\", \\"Hiking\\", \\"Dancing\\", \\"Photography\\"] }, { \\"id\\": \\"ranking-pairwise\\", \\"type\\": \\"ranking-pairwise\\", \\"prompt\\": \\"Which meal would you prefer\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Pizza\\", \\"Sushi\\", \\"Burger\\", \\"Pasta\\", \\"Salad\\", \\"Tacos\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of items to rank. Applies only to sublist and categorical ranking widgets.","type":"number"},"options":{"description":"The options that are displayed as ranking options, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["ranking-sublist","ranking-categorical","ranking-pairwise"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ReactComponent":{"additionalProperties":false,"description":"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\\n\\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\\n\\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\\n\\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\\n\\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don\'t use the default answer interface, and instead have something more unique.\\n\\nSo, for example, if I had the following ReactComponent in my config ```js { type: \'react-component\'; path: \'my_study/CoolComponent.tsx\'; parameters: {  name: \'Zach\';  age: 26; } } ```\\n\\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\\n\\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\\n\\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-react-trrack (https://github.com/revisit-studies/study/tree/v2.4.0/src/public/demo-react-trrack/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.4.0/src/public/example-brush-interactions/assets)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},"path":{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"react-component","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"ReactiveResponse":{"additionalProperties":false,"description":"The ReactiveResponse interface is used to define the properties of a reactive response. ReactiveResponses render as a list, that is connected to a WebsiteComponent, VegaComponent, or ReactComponent. When data is sent from the components, it is displayed in the list.\\n\\n```js { \\"id\\": \\"reactiveResponse\\", \\"prompt\\": \\"Answer clicked in the stimulus\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"reactive\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"reactive","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"RepeatedComponentBlockCondition":{"additionalProperties":false,"description":"The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.\\n\\nHere\'s an example of how to use the RepeatedComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"repeatedComponent\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of incorrect responses to the repeated component with the name \\"attentionCheck\\" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"repeatedComponent","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"name":{"description":"The name of the repeated component to check (e.g. attentionCheck).","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["name","check","condition","value","to"],"type":"object"},"Response":{"anyOf":[{"$ref":"#/definitions/NumericalResponse"},{"$ref":"#/definitions/ShortTextResponse"},{"$ref":"#/definitions/LongTextResponse"},{"$ref":"#/definitions/LikertResponse"},{"$ref":"#/definitions/DropdownResponse"},{"$ref":"#/definitions/SliderResponse"},{"$ref":"#/definitions/RadioResponse"},{"$ref":"#/definitions/CheckboxResponse"},{"$ref":"#/definitions/RankingResponse"},{"$ref":"#/definitions/ReactiveResponse"},{"$ref":"#/definitions/MatrixResponse"},{"$ref":"#/definitions/ButtonsResponse"},{"$ref":"#/definitions/TextOnlyResponse"},{"$ref":"#/definitions/DividerResponse"}]},"ShortTextResponse":{"additionalProperties":false,"description":"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\\n\\n```js { \\"id\\": \\"q-short-text\\", \\"prompt\\": \\"Short text example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"shortText\\", \\"placeholder\\": \\"Enter your answer here\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"shortText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"SkipConditions":{"description":"The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks\' skip conditions will be considered when computing the skip logic.\\n\\nSkip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.\\n\\nSkip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.\\n\\nPlease see the interface definitions for more specific information on the different types of skip conditions.","items":{"anyOf":[{"$ref":"#/definitions/IndividualComponentSingleResponseCondition"},{"$ref":"#/definitions/IndividualComponentAllResponsesCondition"},{"$ref":"#/definitions/ComponentBlockCondition"},{"$ref":"#/definitions/RepeatedComponentBlockCondition"}]},"type":"array"},"SliderResponse":{"additionalProperties":false,"description":"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\\n\\nExample: ```js { \\"id\\": \\"q-slider\\", \\"prompt\\": \\"How are you feeling?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"slider\\", \\"options\\": [  {    \\"label\\": \\"Bad\\",    \\"value\\": 0  },  {    \\"label\\": \\"OK\\",    \\"value\\": 50  },  {    \\"label\\": \\"Good\\",    \\"value\\": 100  } ] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.","items":{"$ref":"#/definitions/NumberOption"},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"smeqStyle":{"description":"Whether to render the slider with a SMEQ style. Defaults to false.","type":"boolean"},"snap":{"description":"Whether the slider should snap between values. Defaults to false. Slider snapping disables the label above the handle.","type":"boolean"},"spacing":{"description":"The spacing between the ticks. If not provided, the spacing is the largest power of 10 smaller than the slider range.","type":"number"},"startingValue":{"description":"The starting value of the slider. Defaults to the minimum value.","type":"number"},"step":{"description":"The step value of the slider. If not provided (and snap not enabled), the step value is calculated as the range of the slider divided by 100.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"tlxStyle":{"description":"Whether to render the slider with a NASA-tlx style. Defaults to false.","type":"boolean"},"type":{"const":"slider","type":"string"},"withBar":{"description":"Whether to render the slider with a bar to the left. Defaults to true.","type":"boolean"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"StringOption":{"additionalProperties":false,"description":"The StringOption interface is used to define the options for a dropdown, radio, buttons, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"infoText":{"description":"The description that is displayed when the participant hovers over the option. This does not accept markdown. Applies to responses that use StringOption, including DropdownResponse, RadioResponse, CheckboxResponse, ButtonsResponse, RankingResponse, and MatrixResponse.","type":"string"},"label":{"description":"The label displayed to participants. Markdown is supported.","type":"string"},"value":{"description":"The value stored in the participant\'s data. Defaults to label.","type":"string"}},"required":["label"],"type":"object"},"StudyConfig":{"additionalProperties":false,"description":"The StudyConfig interface is used to define the properties of a study configuration. This is a JSON object with four main components: the StudyMetadata, the UIConfig, the Components, and the Sequence. Below is the general template that should be followed when constructing a Study configuration file.\\n\\n```js { \\"$schema\\": \\"https://raw.githubusercontent.com/revisit-studies/study/v2.4.0/src/parser/StudyConfigSchema.json\\", \\"studyMetadata\\": {  ... }, \\"uiConfig\\": {  ... }, \\"components\\": {  ... }, \\"sequence\\": {  ... } } ```\\n\\n:::info For information about each of the individual pieces of the study configuration file, you can visit the documentation for each one individually. ::: <br/>\\n\\nThe `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration.","properties":{"$schema":{"description":"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information","type":"string"},"baseComponents":{"$ref":"#/definitions/BaseComponents","description":"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},"components":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/IndividualComponent"},{"$ref":"#/definitions/InheritedComponent"}]},"description":"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.","type":"object"},"importedLibraries":{"description":"A list of libraries that are used in the study. This is used to import external libraries into the study. Library names are valid namespaces to be used later.","items":{"type":"string"},"type":"array"},"sequence":{"anyOf":[{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}],"description":"The order of the components in the study. This might include some randomness."},"studyMetadata":{"$ref":"#/definitions/StudyMetadata","description":"The metadata for the study. This is used to identify the study and version in the data file."},"studyRules":{"$ref":"#/definitions/StudyRules","description":"The study rules for the study. This is used to configure study constraints such as browsers, device sizes, etc."},"uiConfig":{"$ref":"#/definitions/UIConfig","description":"The UI configuration for the study. This is used to configure the UI of the app."}},"required":["$schema","studyMetadata","uiConfig","components","sequence"],"type":"object"},"StudyMetadata":{"additionalProperties":false,"description":"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. Below is an example of a StudyMetadata entry in your study configuration file:\\n\\n```js \\"studyMetadata\\" : { \\"title\\": \\"My New Study\\", \\"version\\": \\"pilot\\", \\"authors\\": [  \\"Jane Doe\\",  \\"John Doe\\" ], \\"date\\": \\"2024-04-01\\", \\"description\\": \\"This study is meant to test your ability.\\", \\"organizations\\": [  \\"The reVISit Team\\",  \\"The Other Team\\" ] } ```","properties":{"authors":{"description":"The authors of your study.","items":{"type":"string"},"type":"array"},"date":{"description":"The date of your study, may be useful for the researcher.","type":"string"},"description":{"description":"The description of your study, shown on the landing page.","type":"string"},"organizations":{"description":"The organizations that are associated with your study.","items":{"type":"string"},"type":"array"},"title":{"description":"The title of your study, shown on the landing page.","type":"string"},"version":{"description":"The version of your study. When you change a configuration file after a study has already been distributed to participants, you can change the version number so that the participants who see this new configuration file can be identified.","type":"string"}},"required":["title","version","authors","date","description","organizations"],"type":"object"},"StudyRules":{"additionalProperties":false,"description":"The StudyRules are used to define a study\'s constraints to determine whether a participant can take the study. If the criteria are not met, a warning message will be displayed. Below is an example of a StudyRules entry in your study configuration file:\\n\\n```js { \\"studyRules\\": {  \\"display\\": {    \\"minHeight\\": 400,    \\"minWidth\\": 800  },  \\"browsers\\": {    \\"allowed\\": [      {        \\"name\\": \\"chrome\\",        \\"minVersion\\": 100      },      {        \\"name\\": \\"firefox\\",        \\"minVersion\\": 100      },      {        \\"name\\": \\"safari\\",        \\"minVersion\\": 10      }    ],    \\"blockedMessage\\": \\"This study can only run in chrome, firefox, or safari. (<-- if blockedMesage is not set, a default message is displayed)\\"  },  \\"devices\\": {    \\"allowed\\": [\\"tablet\\", \\"desktop\\", \\"mobile\\"],    \\"blockedMessage\\": \\"... (<-- if blockedMesage is not set, a default message is displayed)\\"  },  \\"inputs\\": {    \\"allowed\\": [\\"touch\\", \\"mouse\\"],    \\"blockedMessage\\": \\"... (<-- if blockedMesage is not set, a default message is displayed)\\"  } } } ```","properties":{"browsers":{"$ref":"#/definitions/BrowserRules","description":"Browser constraints"},"devices":{"$ref":"#/definitions/DeviceRules","description":"Browser constraints"},"display":{"$ref":"#/definitions/DisplayRules","description":"Display size constraints"},"inputs":{"$ref":"#/definitions/InputRules","description":"Input constraints"}},"type":"object"},"Styles":{"additionalProperties":false,"properties":{"background":{"description":"Background","type":"string"},"backgroundColor":{"type":"string"},"backgroundImage":{"type":"string"},"backgroundPosition":{"type":"string"},"backgroundSize":{"type":"string"},"border":{"description":"Border","type":"string"},"borderRadius":{"type":"string"},"bottom":{"type":"string"},"color":{"description":"Typography","type":"string"},"filter":{"description":"Filter","type":"string"},"font":{"type":"string"},"fontFamily":{"type":"string"},"fontSize":{"type":"string"},"fontStyle":{"enum":["normal","italic","oblique"],"type":"string"},"fontWeight":{"type":["string","number"]},"height":{"description":"Sizing","type":"string"},"left":{"type":"string"},"letterSpacing":{"type":"string"},"lineHeight":{"type":["string","number"]},"margin":{"description":"Spacing","type":"string"},"maxHeight":{"type":"string"},"maxWidth":{"type":"string"},"minHeight":{"type":"string"},"minWidth":{"type":"string"},"padding":{"type":"string"},"position":{"description":"Positioning","enum":["static","relative","absolute","fixed","sticky"],"type":"string"},"right":{"type":"string"},"textAlign":{"enum":["start","center","end","justify","left","right","match-parent"],"type":"string"},"textDecoration":{"enum":["none","underline","overline","line-through","underline-overline"],"type":"string"},"textTransform":{"enum":["capitalize","lowercase","none","uppercase"],"type":"string"},"top":{"type":"string"},"transform":{"description":"Transform","type":"string"},"width":{"type":"string"},"wordSpacing":{"type":"string"}},"type":"object"},"TextOnlyResponse":{"additionalProperties":false,"description":"The TextOnlyResponse interface is used to define the properties of a text only response. TextOnlyResponses render as a block of text that is displayed to the user. This can be used to display instructions or other information. It does not accept any input from the user.\\n\\nExample: ```js {   \\"id\\": \\"textOnlyResponse\\",   \\"type\\": \\"textOnly\\",   \\"prompt\\": \\"This is a text only response, it accepts markdown so you can **bold** or _italicize_ text.\\",   \\"location\\": \\"belowStimulus\\",   \\"restartEnumeration\\": true } ```\\n\\nIn this example, the text only response is displayed below the stimulus and the enumeration of the questions is restarted.","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"description":"The markdown text that is displayed to the user.","type":"string"},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"restartEnumeration":{"description":"Whether to restart the enumeration of the questions. Defaults to false.","type":"boolean"},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"textOnly","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","prompt","type"],"type":"object"},"UIConfig":{"additionalProperties":false,"description":"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses. Below is an example of how the UI Config would look in your study configuration (note, there are optional fields that are not shown here): ```js uiConfig:{ \\"contactEmail\\": \\"contact@revisit.dev\\", \\"helpTextPath\\": \\"<study-name>/assets/help.md\\", \\"logoPath\\": \\"<study-name>/assets/logo.jpg\\", \\"withProgressBar\\": true, \\"autoDownloadStudy\\": true \\"autoDownloadTime\\": 5000, \\"studyEndMsg\\": \\"Thank you for completing this study. You\'re the best!\\", \\"withSidebar\\": true, \\"windowEventDebounceTime\\": 500, \\"urlParticipantIdParam\\": \\"PROLIFIC_ID\\", \\"numSequences\\": 500 } ``` In the above, the `<study-name>/assets/` path is referring to the path to your individual study assets. It is common practice to have your study directory contain an `assets` directory where all components and images relevant to your study reside. Note that this path is relative to the `public` folder of the repository - as is all other paths you define in reVISit (aside from React components whose paths are relative to `src/public`.)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. Defaults to true.","type":"boolean"},"autoDownloadStudy":{"description":"Controls whether the study data is automatically downloaded at the end of the study.","type":"boolean"},"autoDownloadTime":{"description":"The time in milliseconds to wait before automatically downloading the study data.","type":"number"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"contactEmail":{"description":"The email address that used during the study if a participant clicks contact.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"logoPath":{"description":"The path to the logo image. This is displayed on the landing page and the header.","type":"string"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text to display on the next button.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. Defaults to false.","type":"boolean"},"numSequences":{"description":"The number of sequences to generate for the study. This is used to generate the random sequences for the study. Defaults to 1000.","type":"number"},"participantNameField":{"description":"The default name field for a participant. Directs revisit to use the task and response id as a name in UI elements. For example, if you wanted the response \'prolificId\' from the task \'introduction\' to be the name, this field would be \'introduction.prolificId\'","type":"string"},"previousButtonText":{"description":"The text that is displayed on the previous button.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. Defaults to false.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If true, will record audio on all components unless deactivated on individual components. Defaults to false.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If true, will record audio on all components unless deactivated on individual components. This must be set to true if you want to record audio on any component in your study. Defaults to false. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before any component that you want to record the screen on to ensure permissions are granted and screen capture has started.","type":"boolean"},"recordScreenFPS":{"description":"Desired fps for recording screen. If possible, this value will be used, but if it\'s not possible, the user agent will use the closest possible match.","type":"number"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"showTitle":{"description":"Controls whether the title should be hidden in the study.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. Defaults to 300.","type":"number"},"studyEndMsg":{"description":"The message to display when the study ends.","type":"string"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"timeoutReject":{"description":"Whether to redirect a timed out participant to a rejection page. This only works for components where the `nextButtonDisableTime` field is set.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"urlParticipantIdParam":{"description":"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered in the study.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question.","type":"boolean"}},"required":["logoPath","contactEmail","withProgressBar","withSidebar"],"type":"object"},"UserBrowser":{"additionalProperties":false,"description":"UserBrowser is used to define a mininum browser requirement for the study to run.","properties":{"minVersion":{"description":"Minimum version of the browser to support.","type":"number"},"name":{"description":"Name of the browser. e.g. chrome, firefox, safari.","type":"string"}},"required":["name"],"type":"object"},"UserDevice":{"enum":["desktop","tablet","mobile"],"type":"string"},"UserInput":{"enum":["mouse","touch"],"type":"string"},"VegaComponent":{"anyOf":[{"$ref":"#/definitions/VegaComponentPath"},{"$ref":"#/definitions/VegaComponentConfig"}]},"VegaComponentConfig":{"additionalProperties":false,"description":"The VegaComponentConfig interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component by adding Vega/Vega-Lite specs within the reVISit config itself.\\n\\nTo do this, would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"config\\": { ... vega specs here ...}, }\\n\\nIIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["config","response","type"],"type":"object"},"VegaComponentPath":{"additionalProperties":false,"description":"The VegaComponentPath interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component with path pointing to your Vega/Vega-Lite specs file.\\n\\nFor example, to render a vega based stimuli with a path of `<study-name>/assets/vega.spec.json`, you would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"path\\": \\"<study-name>/assets/vega.spec.json\\", } ```\\n\\nIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec file\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. This signal is then passed to reVISit as the participant\'s response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"VideoComponent":{"additionalProperties":false,"description":"The VideoComponent interface is used to define the properties of a video component. This component is used to render a video with optional controls.\\n\\nMost often, video components will be used for trainings, and will have a `forceCompletion` field set to true. This will prevent the participant from moving on until the video has finished playing.\\n\\nAs such, the `forceCompletion` field is set to true by default, and the `withTimeline` field is set to false by default.\\n\\nFor example, to render a training video with a path of `<study-name>/assets/video.mp4`, you would use the following snippet: ```js {   \\"type\\": \\"video\\",   \\"path\\": \\"<study-name>/assets/video.mp4\\", } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"video","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"WebsiteComponent":{"additionalProperties":false,"description":"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/assets/website.html\\", } ```\\n\\nTo pass a data from the config to the website, you can use the `parameters` field as below:\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/website.html\\", \\"parameters\\": {  \\"barData\\": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] }, \\"response\\": [  {    \\"id\\": \\"barChart\\",    \\"prompt\\": \\"Your selected answer:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"reactive\\"  } ] } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\\n\\n```html <script src=\\"../../revisitUtilities/revisit-communicate.js\\"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\\n\\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\\n\\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenance` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\\n\\n```js const trrack = initializeTrrack({ initialState, registry });\\n\\n... Revisit.postProvenance(trrack.graph.backend); ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"},"path":{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"website","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"}}'),vYt={$ref:mYt,$schema:gYt,definitions:yYt},bYt="#/definitions/GlobalConfig",wYt="http://json-schema.org/draft-07/schema#",xYt={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples in the public folder for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"},test:{description:"Indicates whether the study is a test study. This is used to hide the study from the landing page.",type:"boolean"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},CYt={$ref:bYt,$schema:wYt,definitions:xYt},_Yt="#/definitions/LibraryConfig",EYt="http://json-schema.org/draft-07/schema#",SYt=JSON.parse('{"Answer":{"additionalProperties":false,"description":"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.\\n\\nAnswers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.\\n\\nHere\'s an example of how to use the Answer interface to define the correct answer to a question:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/question.md\\", \\"response\\": [  {    \\"id\\": \\"response1\\",    \\"prompt\\": \\"What is 2 + 2?\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"numerical\\"  } ] \\"correctAnswer\\": [{  \\"id\\": \\"response1\\",  \\"answer\\": 4 }] } ```\\n\\nIn this example, the correct answer to the question \\"What is 2 + 2?\\" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.","properties":{"acceptableHigh":{"description":"The acceptable high value for the answer. This is used to define a range of acceptable answers.","type":"number"},"acceptableLow":{"description":"The acceptable low value for the answer. This is used to define a range of acceptable answers.","type":"number"},"answer":{"description":"The correct answer to the question."},"id":{"description":"The id of the answer. This is used to identify the answer in the data file.","type":"string"}},"required":["id","answer"],"type":"object"},"BaseComponents":{"additionalProperties":{"additionalProperties":false,"properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"type":"object"},"description":"The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\\n\\n Using baseComponents:\\n\\n```js \\"baseComponents\\": { \\"my-image-component\\": { \\"instructionLocation\\": \\"sidebar\\", \\"nextButtonLocation\\": \\"sidebar\\", \\"path\\": \\"<study-name>/assets/my-image.jpg\\", \\"response\\": [   {     \\"id\\": \\"my-image-id\\",     \\"options\\": [\\"Europe\\", \\"Japan\\", \\"USA\\"],     \\"prompt\\": \\"Your Selected Answer:\\",     \\"type\\": \\"dropdown\\"   } ], \\"type\\": \\"image\\" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `\\"baseComponent\\":\\"my-image-component\\"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js \\"components\\": { \\"q1\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with largest GDP\\", \\"instruction\\": \\"Which region has the largest GDP?\\" }, \\"q2\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with lowest GDP\\", \\"instruction\\": \\"Which region has the lowest GDP?\\" }, \\"q3\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with highest exports of Wheat\\", \\"instruction\\": \\"Which region had the most Wheat exported in 2022?\\" } } ```","type":"object"},"ButtonsResponse":{"additionalProperties":false,"description":"The ButtonsResponse interface is used to define the properties of a buttons response. ButtonsResponses render as a list of buttons that the participant can click. When a button is clicked, the value of the button is stored in the data file. Participants can cycle through the options using the arrow keys.\\n\\nExample: ```js {   \\"id\\": \\"buttonsResponse\\",   \\"type\\": \\"buttons\\",   \\"prompt\\": \\"Click a button\\",   \\"location\\": \\"belowStimulus\\",   \\"options\\": [     \\"Option 1\\",     \\"Option 2\\",     \\"Option 3\\"   ] } ``` In this example, the participant can click one of the buttons labeled \\"Option 1\\", \\"Option 2\\", or \\"Option 3\\".","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"buttons","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"CheckboxResponse":{"additionalProperties":false,"description":"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\\n\\n```js { \\"id\\": \\"q7\\", \\"prompt\\": \\"Checkbox example (not required)\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"checkbox\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\", \\"Option 3\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the checkboxes horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required.","type":"number"},"optionOrder":{"description":"The order in which the checkboxes are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"checkbox","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the checkboxes with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ComponentBlock":{"additionalProperties":false,"description":"The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\\n\\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\\n\\nHere\'s a snippet that shows how to use the random order:\\n\\n```js { \\"order\\": \\"random\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\\n\\n```js [ [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component1\\", \\"component3\\", \\"component2\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], ... ] ```\\n\\nIn addition to the order property, the ComponentBlock interface also includes the `\\"numSamples\\"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `\\"numSamples\\"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ], \\"numSamples\\": 2 } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\"], [\\"component2\\", \\"component3\\"], [\\"component3\\", \\"component1\\"], ... ] ```\\n\\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\\n\\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.","properties":{"components":{"description":"The components that are included in the order.","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}]},"type":"array"},"conditional":{"description":"The conditional property shows the block only when the URL condition matches its `id`.","type":"boolean"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"interruptions":{"description":"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.","items":{"$ref":"#/definitions/InterruptionBlock"},"type":"array"},"numSamples":{"description":"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.","type":"number"},"order":{"description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","enum":["random","latinSquare","fixed"],"type":"string"},"skip":{"$ref":"#/definitions/SkipConditions","description":"The skip conditions for the block."}},"required":["order","components"],"type":"object"},"ComponentBlockCondition":{"additionalProperties":false,"description":"The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.\\n\\nAnswers are checked against the correct answers defined in the IndividualComponent\'s [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.\\n\\nYou might use this if a participant answers two questions in a block incorrectly. Here\'s an example of how to use the ComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"check\\": \\"block\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.\\n\\nWhen the condition is met, the participant will immediately be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"block","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["check","condition","value","to"],"type":"object"},"ConfigResponseBlockLocation":{"enum":["sidebar","aboveStimulus","belowStimulus"],"type":"string"},"DeterministicInterruption":{"additionalProperties":false,"description":"The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.\\n\\nFor example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.\\n\\nThe components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the DeterministicInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"firstLocation\\": 2,   \\"spacing\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"firstLocation":{"description":"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).","type":"number"},"spacing":{"description":"The number of components between breaks.","type":"number"}},"required":["firstLocation","spacing","components"],"type":"object"},"DividerResponse":{"additionalProperties":false,"properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"not":{}},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"not":{}},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"divider","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","type"],"type":"object"},"DropdownResponse":{"additionalProperties":false,"description":"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\\n\\nExample: ```js { \\"id\\": \\"q-color\\", \\"prompt\\": \\"What is your favorite color?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"dropdown\\", \\"placeholder\\": \\"Please choose your favorite color\\", \\"options\\": [\\"Red\\", \\"Blue\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required. This will make the dropdown a multiselect dropdown.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required. This will make the dropdown a multiselect dropdown.","type":"number"},"options":{"description":"The options that are displayed in the dropdown.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"dropdown","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"DynamicBlock":{"additionalProperties":false,"description":"The DynamicBlock interface is used to define a block where displayed components are controlled by a function. This is useful when you want to generate the sequence based on answers to previous questions or other factors.\\n\\nThe functionPath property is a path to the function that generates the components. This should be a relative path from the src/public folder.\\n\\nHere\'s an example of how to use the DynamicBlock:\\n\\n```js {   \\"id\\": \\"funcBlock\\",   \\"order\\": \\"dynamic\\",   \\"functionPath\\": \\"<study-name>/assets/function.js\\",   \\"parameters\\": {     \\"param1\\": \\"value1\\",     \\"param2\\": \\"value2\\"   } } ```","properties":{"conditional":{"description":"The conditional property shows the block only when the URL condition matches its `id`.","type":"boolean"},"functionPath":{"description":"The path to the function that generates the components. This should be a relative path from the src/public folder.","type":"string"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"order":{"const":"dynamic","description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the function. These can be used within your function to render different things.","type":"object"}},"required":["id","order","functionPath"],"type":"object"},"ImageComponent":{"additionalProperties":false,"description":"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\\n\\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { \\"type\\": \\"image\\", \\"path\\": \\"<study-name>/assets/image.jpg\\", \\"style\\": { \\"maxWidth\\": \\"50%\\" } } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"image","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"IndividualComponent":{"anyOf":[{"$ref":"#/definitions/MarkdownComponent"},{"$ref":"#/definitions/ReactComponent"},{"$ref":"#/definitions/ImageComponent"},{"$ref":"#/definitions/WebsiteComponent"},{"$ref":"#/definitions/QuestionnaireComponent"},{"$ref":"#/definitions/VegaComponent"},{"$ref":"#/definitions/VideoComponent"}]},"IndividualComponentAllResponsesCondition":{"additionalProperties":false,"description":"The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\n\\nHere\'s an example of how to use the IndividualComponentAllResponsesCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"responses\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, if all responses to the component with the ID \\"attentionCheck\\" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"responses","description":"The check we\'ll perform.","type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"}},"required":["name","check","to"],"type":"object"},"IndividualComponentSingleResponseCondition":{"additionalProperties":false,"description":"The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\nFor example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here\'s an example of how to use the IndividualComponentSingleResponseCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"response\\",   \\"responseId\\": \\"attentionCheckResponse\\",   \\"value\\": \\"the right answer\\",   \\"comparison\\": \\"equal\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, we assign our skip logic to the component whose ID is \\"attentionCheck\\". If the answer given to the response \\"attentionCheckResponse\\" is equal to \\"the right answer\\", then the user will be redirected to the end of the study. If the response is _not_ equal to \\"the right answer\\", then the participant will continue to the next component in the sequence.","properties":{"check":{"const":"response","description":"The check we\'ll perform.","type":"string"},"comparison":{"description":"The comparison to use.","enum":["equal","notEqual"],"type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"responseId":{"description":"The response id to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The value to check.","type":["string","number"]}},"required":["name","check","responseId","value","comparison","to"],"type":"object"},"InheritedComponent":{"additionalProperties":false,"description":"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"baseComponent":{"type":"string"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["baseComponent"],"type":"object"},"InterruptionBlock":{"anyOf":[{"$ref":"#/definitions/DeterministicInterruption"},{"$ref":"#/definitions/RandomInterruption"}],"description":"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},"LibraryConfig":{"additionalProperties":false,"description":"LibraryConfig is used to define the properties of a library configuration. This is a JSON object with three main components: baseComponents, components, and the sequences. Libraries are useful for defining components and sequences of these components that are to be reused across multiple studies. We (the reVISit team) provide several libraries that can be used in your study configurations. Check the public/libraries folder in the reVISit-studies repository for available libraries. We also plan to accept community contributions for libraries. If you have a library that you think would be useful for others, please reach out to us. We would love to include it in our repository.\\n\\nBelow is the general template that should be followed when constructing a Library configuration file.\\n\\n```js {  \\"$schema\\": \\"https://raw.githubusercontent.com/revisit-studies/study/v2.4.0/src/parser/LibraryConfigSchema.json\\",  \\"baseComponents\\": {    // BaseComponents here are defined exactly as is in the StudyConfig  },  \\"components\\": {    // Components here are defined exactly as is in the StudyConfig  },  \\"sequences\\": {   // Sequences here are defined as \\"key\\": \\"value\\" pairs where the key is the name of the sequence and the value is a ComponentBlock, just like in the StudyConfig  } } ```","properties":{"$schema":{"description":"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information","type":"string"},"additionalDescription":{"description":"Additional description of the library. It accepts markdown formatting.","type":"string"},"baseComponents":{"$ref":"#/definitions/BaseComponents","description":"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},"components":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/IndividualComponent"},{"$ref":"#/definitions/InheritedComponent"}]},"description":"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.","type":"object"},"description":{"description":"A description of the library.","type":"string"},"doi":{"description":"The DOI of the paper where the content of the library is based on.","type":"string"},"externalLink":{"description":"The external link to the paper/website where the content of the library is based on.","type":"string"},"reference":{"description":"The reference to the paper where the content of the library is based on.","type":"string"},"sequences":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}],"description":"The order of the components in the study. This might include some randomness."},"description":"The order of the components in the study. This might include some randomness.","type":"object"}},"required":["$schema","description","components","sequences"],"type":"object"},"LikertResponse":{"additionalProperties":false,"description":"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as \'Strongly Disagree\' and \'Strongly Agree\'.\\n\\nExample for a five-point Likert Scale:\\n\\n```js { \\"id\\": \\"q-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"likert\\", \\"leftLabel\\": \\"Not Enjoyable\\", \\"rightLabel\\": \\"Very Enjoyable\\", \\"labelLocation\\": \\"inline\\", \\"numItems\\": 5, \\"start\\": 1, \\"spacing\\": 1 } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"labelLocation":{"description":"The location of the labels. Defaults to inline.","enum":["above","inline","below"],"type":"string"},"leftLabel":{"description":"The left label of the likert scale. E.g Strongly Disagree","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of options to render.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the likert scale. E.g Strongly Agree","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"spacing":{"description":"The spacing between the options. Defaults to 1.","type":"number"},"start":{"description":"The starting value of the likert scale. Defaults to 1.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"likert","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","numItems","prompt","type"],"type":"object"},"LongTextResponse":{"additionalProperties":false,"description":"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { \\"id\\": \\"q-name\\", \\"prompt\\": \\"What is your first name?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"longText\\", \\"placeholder\\": \\"Please enter your first name\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"longText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"MarkdownComponent":{"additionalProperties":false,"description":"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/help.md\\", \\"response\\": [] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"markdown","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"MatrixResponse":{"additionalProperties":false,"description":"The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, `answerOptions` can be set to one of the following custom strings: \'satisfaction5\',\'satisfaction7\', \'likely5\', \'likely7\'. This will automatically generate the appropriate headers for the matrix.\\n\\nExample for a 5-scale satisfaction matrix with three questions:\\n\\n```js { \\"id\\": \\"multi-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-radio\\", \\"answerOptions\\": \\"satisfaction5\\", \\"questionOptions\\": [  \\"The tool we created\\",  \\"The technique we developed\\",  \\"The authors of the tools\\" ] } ```\\n\\nHere\'s an example using custom columns (answerOptions):\\n\\n```js { \\"id\\": \\"multi-custom\\", \\"prompt\\": \\"Which categories do the following items belong to?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-checkbox\\", \\"answerOptions\\": [  \\"Has Legs\\",  \\"Has Wings\\",  \\"Can Swim\\" ], \\"questionOptions\\": [  \\"Dog\\",  \\"Snake\\",  \\"Eagle\\",  \\"Salmon\\",  \\"Platypus\\" ]\\n\\n} ```","properties":{"answerOptions":{"anyOf":[{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},{"const":"likely5","type":"string"},{"const":"likely7","type":"string"},{"const":"satisfaction5","type":"string"},{"const":"satisfaction7","type":"string"}],"description":"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"questionOptions":{"description":"The question options (rows) are the prompts for each response you\'d like to record.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"questionOrder":{"description":"The order in which the questions are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["matrix-radio","matrix-checkbox"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["answerOptions","id","prompt","questionOptions","type"],"type":"object"},"NumberOption":{"additionalProperties":false,"description":"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"number"}},"required":["label","value"],"type":"object"},"NumericalResponse":{"additionalProperties":false,"description":"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\\n\\nExample: ```js { \\"id\\": \\"q-numerical\\", \\"prompt\\": \\"Numerical example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"numerical\\", \\"placeholder\\": \\"Enter your age, range from 0 - 120\\", \\"max\\": 120, \\"min\\": 0 } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"max":{"description":"The maximum value that is accepted in the input.","type":"number"},"min":{"description":"The minimum value that is accepted in the input.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"numerical","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"QuestionnaireComponent":{"additionalProperties":false,"description":"A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\\n\\n```js { \\"type\\": \\"questionnaire\\", \\"response\\": [  {    \\"id\\": \\"gender\\",    \\"prompt\\": \\"Gender:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"checkbox\\",    \\"options\\": [\\"Man\\", \\"Woman\\", \\"Genderqueer\\", \\"Third-gender\\", ...]  } ] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"questionnaire","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["response","type"],"type":"object"},"RadioResponse":{"additionalProperties":false,"description":"The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\\n\\nExample: ```js { \\"id\\": \\"q-radio\\", \\"prompt\\": \\"Radio button example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"radio\\", \\"options\\": [\\"Option 1\\", \\"Option 2, Option 3\\"], \\"optionOrder\\": \\"random\\", \\"leftLabel\\": \\"Left\\", \\"rightLabel\\": \\"Right\\", \\"labelLocation\\": \\"inline\\", \\"horizontal\\": true, \\"withOther\\": true } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the radio buttons horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"labelLocation":{"description":"The location of the labels. This only works when horizontal is true. Defaults to inline.","enum":["above","inline","below"],"type":"string"},"leftLabel":{"description":"The left label of the radio group. Used in Likert scales for example","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the radio buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the radio group. Used in Likert scales for example","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"radio","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the radios with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"RandomInterruption":{"additionalProperties":false,"description":"The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\\n\\nFor example, if you want to show a single interruption randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 1. If you want to show 3 interruptions randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 3.\\n\\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the RandomInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"spacing\\": \\"random\\",   \\"numInterruptions\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"interruption1\\", \\"interruption2\\", \\"component5\\", \\"component6\\"], [\\"component1\\", \\"component2\\" \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"interruption1\\", \\"interruption2\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"numInterruptions":{"description":"The number of times the interruption will be randomly added","type":"number"},"spacing":{"const":"random","description":"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.","type":"string"}},"required":["spacing","numInterruptions","components"],"type":"object"},"RankingResponse":{"additionalProperties":false,"description":"The RankingResponse interface is used to define the properties of a ranking widget response. RankingResponses render as a ranking widget with user specified options.\\n\\nThere are three types of ranking widgets: Ranking Sublist: The participant is asked to rank a subset of items from a larger list. Ranking Categorical: The participant is asked to rank items within categories: HIGH, MEDIUM, and LOW. Ranking Pairwise: The participant is asked to rank items by comparing them in pairs.\\n\\n```js { \\"id\\": \\"ranking-sublist\\", \\"type\\": \\"ranking-sublist\\", \\"prompt\\": \\"Rank your top 2 favorite fruits from the list below\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Apple\\", \\"Banana\\", \\"Orange\\", \\"Strawberry\\", \\"Grapes\\"], \\"numItems\\": 2 }, { \\"id\\": \\"ranking-categorical\\", \\"type\\": \\"ranking-categorical\\", \\"prompt\\": \\"Sort these hobbies into the categories of HIGH, MEDIUM, and LOW based on your level of interest.\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Drawing\\", \\"Singing\\", \\"Hiking\\", \\"Dancing\\", \\"Photography\\"] }, { \\"id\\": \\"ranking-pairwise\\", \\"type\\": \\"ranking-pairwise\\", \\"prompt\\": \\"Which meal would you prefer\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Pizza\\", \\"Sushi\\", \\"Burger\\", \\"Pasta\\", \\"Salad\\", \\"Tacos\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of items to rank. Applies only to sublist and categorical ranking widgets.","type":"number"},"options":{"description":"The options that are displayed as ranking options, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["ranking-sublist","ranking-categorical","ranking-pairwise"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ReactComponent":{"additionalProperties":false,"description":"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\\n\\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\\n\\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\\n\\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\\n\\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don\'t use the default answer interface, and instead have something more unique.\\n\\nSo, for example, if I had the following ReactComponent in my config ```js { type: \'react-component\'; path: \'my_study/CoolComponent.tsx\'; parameters: {  name: \'Zach\';  age: 26; } } ```\\n\\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\\n\\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\\n\\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-react-trrack (https://github.com/revisit-studies/study/tree/v2.4.0/src/public/demo-react-trrack/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.4.0/src/public/example-brush-interactions/assets)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},"path":{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"react-component","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"ReactiveResponse":{"additionalProperties":false,"description":"The ReactiveResponse interface is used to define the properties of a reactive response. ReactiveResponses render as a list, that is connected to a WebsiteComponent, VegaComponent, or ReactComponent. When data is sent from the components, it is displayed in the list.\\n\\n```js { \\"id\\": \\"reactiveResponse\\", \\"prompt\\": \\"Answer clicked in the stimulus\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"reactive\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"reactive","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"RepeatedComponentBlockCondition":{"additionalProperties":false,"description":"The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.\\n\\nHere\'s an example of how to use the RepeatedComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"repeatedComponent\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of incorrect responses to the repeated component with the name \\"attentionCheck\\" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"repeatedComponent","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"name":{"description":"The name of the repeated component to check (e.g. attentionCheck).","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["name","check","condition","value","to"],"type":"object"},"Response":{"anyOf":[{"$ref":"#/definitions/NumericalResponse"},{"$ref":"#/definitions/ShortTextResponse"},{"$ref":"#/definitions/LongTextResponse"},{"$ref":"#/definitions/LikertResponse"},{"$ref":"#/definitions/DropdownResponse"},{"$ref":"#/definitions/SliderResponse"},{"$ref":"#/definitions/RadioResponse"},{"$ref":"#/definitions/CheckboxResponse"},{"$ref":"#/definitions/RankingResponse"},{"$ref":"#/definitions/ReactiveResponse"},{"$ref":"#/definitions/MatrixResponse"},{"$ref":"#/definitions/ButtonsResponse"},{"$ref":"#/definitions/TextOnlyResponse"},{"$ref":"#/definitions/DividerResponse"}]},"ShortTextResponse":{"additionalProperties":false,"description":"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\\n\\n```js { \\"id\\": \\"q-short-text\\", \\"prompt\\": \\"Short text example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"shortText\\", \\"placeholder\\": \\"Enter your answer here\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"shortText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"SkipConditions":{"description":"The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks\' skip conditions will be considered when computing the skip logic.\\n\\nSkip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.\\n\\nSkip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.\\n\\nPlease see the interface definitions for more specific information on the different types of skip conditions.","items":{"anyOf":[{"$ref":"#/definitions/IndividualComponentSingleResponseCondition"},{"$ref":"#/definitions/IndividualComponentAllResponsesCondition"},{"$ref":"#/definitions/ComponentBlockCondition"},{"$ref":"#/definitions/RepeatedComponentBlockCondition"}]},"type":"array"},"SliderResponse":{"additionalProperties":false,"description":"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\\n\\nExample: ```js { \\"id\\": \\"q-slider\\", \\"prompt\\": \\"How are you feeling?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"slider\\", \\"options\\": [  {    \\"label\\": \\"Bad\\",    \\"value\\": 0  },  {    \\"label\\": \\"OK\\",    \\"value\\": 50  },  {    \\"label\\": \\"Good\\",    \\"value\\": 100  } ] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.","items":{"$ref":"#/definitions/NumberOption"},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"smeqStyle":{"description":"Whether to render the slider with a SMEQ style. Defaults to false.","type":"boolean"},"snap":{"description":"Whether the slider should snap between values. Defaults to false. Slider snapping disables the label above the handle.","type":"boolean"},"spacing":{"description":"The spacing between the ticks. If not provided, the spacing is the largest power of 10 smaller than the slider range.","type":"number"},"startingValue":{"description":"The starting value of the slider. Defaults to the minimum value.","type":"number"},"step":{"description":"The step value of the slider. If not provided (and snap not enabled), the step value is calculated as the range of the slider divided by 100.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"tlxStyle":{"description":"Whether to render the slider with a NASA-tlx style. Defaults to false.","type":"boolean"},"type":{"const":"slider","type":"string"},"withBar":{"description":"Whether to render the slider with a bar to the left. Defaults to true.","type":"boolean"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"StringOption":{"additionalProperties":false,"description":"The StringOption interface is used to define the options for a dropdown, radio, buttons, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"infoText":{"description":"The description that is displayed when the participant hovers over the option. This does not accept markdown. Applies to responses that use StringOption, including DropdownResponse, RadioResponse, CheckboxResponse, ButtonsResponse, RankingResponse, and MatrixResponse.","type":"string"},"label":{"description":"The label displayed to participants. Markdown is supported.","type":"string"},"value":{"description":"The value stored in the participant\'s data. Defaults to label.","type":"string"}},"required":["label"],"type":"object"},"Styles":{"additionalProperties":false,"properties":{"background":{"description":"Background","type":"string"},"backgroundColor":{"type":"string"},"backgroundImage":{"type":"string"},"backgroundPosition":{"type":"string"},"backgroundSize":{"type":"string"},"border":{"description":"Border","type":"string"},"borderRadius":{"type":"string"},"bottom":{"type":"string"},"color":{"description":"Typography","type":"string"},"filter":{"description":"Filter","type":"string"},"font":{"type":"string"},"fontFamily":{"type":"string"},"fontSize":{"type":"string"},"fontStyle":{"enum":["normal","italic","oblique"],"type":"string"},"fontWeight":{"type":["string","number"]},"height":{"description":"Sizing","type":"string"},"left":{"type":"string"},"letterSpacing":{"type":"string"},"lineHeight":{"type":["string","number"]},"margin":{"description":"Spacing","type":"string"},"maxHeight":{"type":"string"},"maxWidth":{"type":"string"},"minHeight":{"type":"string"},"minWidth":{"type":"string"},"padding":{"type":"string"},"position":{"description":"Positioning","enum":["static","relative","absolute","fixed","sticky"],"type":"string"},"right":{"type":"string"},"textAlign":{"enum":["start","center","end","justify","left","right","match-parent"],"type":"string"},"textDecoration":{"enum":["none","underline","overline","line-through","underline-overline"],"type":"string"},"textTransform":{"enum":["capitalize","lowercase","none","uppercase"],"type":"string"},"top":{"type":"string"},"transform":{"description":"Transform","type":"string"},"width":{"type":"string"},"wordSpacing":{"type":"string"}},"type":"object"},"TextOnlyResponse":{"additionalProperties":false,"description":"The TextOnlyResponse interface is used to define the properties of a text only response. TextOnlyResponses render as a block of text that is displayed to the user. This can be used to display instructions or other information. It does not accept any input from the user.\\n\\nExample: ```js {   \\"id\\": \\"textOnlyResponse\\",   \\"type\\": \\"textOnly\\",   \\"prompt\\": \\"This is a text only response, it accepts markdown so you can **bold** or _italicize_ text.\\",   \\"location\\": \\"belowStimulus\\",   \\"restartEnumeration\\": true } ```\\n\\nIn this example, the text only response is displayed below the stimulus and the enumeration of the questions is restarted.","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"description":"The markdown text that is displayed to the user.","type":"string"},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"restartEnumeration":{"description":"Whether to restart the enumeration of the questions. Defaults to false.","type":"boolean"},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"textOnly","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","prompt","type"],"type":"object"},"VegaComponent":{"anyOf":[{"$ref":"#/definitions/VegaComponentPath"},{"$ref":"#/definitions/VegaComponentConfig"}]},"VegaComponentConfig":{"additionalProperties":false,"description":"The VegaComponentConfig interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component by adding Vega/Vega-Lite specs within the reVISit config itself.\\n\\nTo do this, would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"config\\": { ... vega specs here ...}, }\\n\\nIIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["config","response","type"],"type":"object"},"VegaComponentPath":{"additionalProperties":false,"description":"The VegaComponentPath interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component with path pointing to your Vega/Vega-Lite specs file.\\n\\nFor example, to render a vega based stimuli with a path of `<study-name>/assets/vega.spec.json`, you would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"path\\": \\"<study-name>/assets/vega.spec.json\\", } ```\\n\\nIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec file\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. This signal is then passed to reVISit as the participant\'s response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"VideoComponent":{"additionalProperties":false,"description":"The VideoComponent interface is used to define the properties of a video component. This component is used to render a video with optional controls.\\n\\nMost often, video components will be used for trainings, and will have a `forceCompletion` field set to true. This will prevent the participant from moving on until the video has finished playing.\\n\\nAs such, the `forceCompletion` field is set to true by default, and the `withTimeline` field is set to false by default.\\n\\nFor example, to render a training video with a path of `<study-name>/assets/video.mp4`, you would use the following snippet: ```js {   \\"type\\": \\"video\\",   \\"path\\": \\"<study-name>/assets/video.mp4\\", } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"video","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"WebsiteComponent":{"additionalProperties":false,"description":"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/assets/website.html\\", } ```\\n\\nTo pass a data from the config to the website, you can use the `parameters` field as below:\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/website.html\\", \\"parameters\\": {  \\"barData\\": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] }, \\"response\\": [  {    \\"id\\": \\"barChart\\",    \\"prompt\\": \\"Your selected answer:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"reactive\\"  } ] } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\\n\\n```html <script src=\\"../../revisitUtilities/revisit-communicate.js\\"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\\n\\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\\n\\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenance` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\\n\\n```js const trrack = initializeTrrack({ initialState, registry });\\n\\n... Revisit.postProvenance(trrack.graph.backend); ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"},"path":{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"website","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"}}'),TYt={$ref:_Yt,$schema:EYt,definitions:SYt},WMe=new Pee({allowUnionTypes:!0});WMe.addSchema(TYt);const kYt=WMe.getSchema("#/definitions/LibraryConfig");function Yee(e){let t=e;return t.includes(".co.")&&(t=t.replace(".co.",".components.")),t.includes(".se.")&&(t=t.replace(".se.",".sequences.")),t}function AYt(e){return e&&e.map(t=>({...t,components:t.components.map(n=>Yee(n))}))}function RYt(e){return e&&e.map(t=>({...t,to:Yee(t.to)}))}function GMe(e,t){return la(e)?e:{...e,components:e.components.map(n=>typeof n=="object"?GMe(n,t):typeof n=="string"&&!n.startsWith("$")?`$${t}.components.${n}`:n)}}function Qq(e,t,n=[]){return la(e)?e:{...e,interruptions:AYt(e.interruptions),skip:RYt(e.skip),components:(e.components||[]).map(r=>{if(typeof r=="object")return Qq(r,t,n);const i=Yee(r),o=i.includes(".sequences.")?".sequences.":!1;if(typeof i=="string"&&i.startsWith("$")&&o){const s=i.split(o),a=s[0],l=s.slice(1).join(o),u=a.slice(1);if(!t[u]){const h={message:`Library \`${u}\` not found in imported libraries`,instancePath:"/importedLibraries/",params:{action:"Check the library name and make sure the library is imported correctly"},category:"undefined-library"};return n.push(h),i}let d=t[u].sequences?.[l];if(!d){const h={message:`Sequence \`${l}\` not found in library \`${u}\``,instancePath:`/importedLibraries/${u}/sequence/`,params:{action:"Check the sequence name"},category:"sequence-validation"};return n.push(h),i}d=GMe(d,u);const f={...d,__revisitImportedSequenceRef:i};return!la(f)&&!f.id&&(f.id=i),d=f,Qq(d,t,n)}return i})}}function IYt(e,t,n,r){const i=new Set(Object.values(r).flatMap(l=>Object.keys(l.components))),o=new Set,s=[...rY(e.sequence)],a=new Set;for(;s.length>0;){const l=s.pop();if(!a.has(l)){a.add(l),i.has(l)&&o.add(l);const u=e.components[l];u&&o0(u)&&s.push(u.baseComponent)}}Object.entries(r).forEach(([l,u])=>{Object.entries(u.components).forEach(([c,d])=>{const f=o0(d)?d.baseComponent:u.__revisitInheritedComponentMetadata?.[c]?.baseComponent,h=o0(d)?d.withSidebar:u.__revisitInheritedComponentMetadata?.[c]?.withSidebar;if(f&&!u.baseComponents?.[f]&&t.push({message:`Base component \`${f}\` is not defined in baseComponents object in library \`${l}\``,instancePath:`/importedLibraries/${l}/baseComponents/`,params:{action:"Add the base component to the baseComponents object"},category:"undefined-base-component"}),!o.has(c))return;const p=f?u.baseComponents?.[f]:void 0,m={...p||{},...d},g=!(m.withSidebar??e.uiConfig.withSidebar),v=m.instructionLocation==="sidebar"||m.nextButtonLocation==="sidebar"||m.response?.some(y=>"location"in y&&y.location==="sidebar");if(g&&v){const y=h===!1?`/importedLibraries/${l}/components/`:p?.withSidebar===!1?`/importedLibraries/${l}/baseComponents/`:`/importedLibraries/${l}/uiConfig/`;n.push({message:`Component \`${c}\` in library \`${l}\` uses sidebar locations but sidebar is disabled`,instancePath:y,params:{action:"Enable the sidebar or move the location to belowStimulus or aboveStimulus"},category:"disabled-sidebar"})}})})}function DYt(e,t){let n=!1,r;try{r=JSON.parse(e),n=kYt(r)}catch{n=!1}const i=[],o=[];return r?n||i.push({message:`Library \`${t}\` config is not valid`,instancePath:`/importedLibraries/${t}`,params:{action:"Fix the errors in the library config"},category:"invalid-library-config"}):i.push({message:`Could not find library \`${t}\``,instancePath:"root",params:{action:"Make sure the library is in the correct location"},category:"undefined-library"}),{...r,errors:i,warnings:o}}async function PYt(e){const t=await(await fetch(`${Hi}libraries/${e}/config.json`)).text();return DYt(t,e)}async function OYt(e,t,n){const r=e.map(async o=>{const s=await PYt(o);return s.errors&&t.push(...s.errors),s.warnings&&n.push(...s.warnings),[o,s]}),i=Object.fromEntries(await Promise.all(r));return Object.entries(i).forEach(([o,s])=>{s.components||delete i[o]}),e.forEach(o=>{if(!i[o])return;const s={};i[o].components=Object.fromEntries(Object.entries(i[o].components).map(([a,l])=>{const u=`$${o}.components.${a}`;if(o0(l)){s[u]={baseComponent:l.baseComponent,...l.withSidebar!==void 0?{withSidebar:l.withSidebar}:{}};const c=w_e({},i[o].baseComponents?.[l.baseComponent],l);return delete c.baseComponent,[u,c]}return[u,l]})),Object.keys(s).length>0&&(i[o].__revisitInheritedComponentMetadata=s)}),i}const YMe=new Pee({allowUnionTypes:!0});YMe.addSchema(CYt);const u0e=YMe.getSchema("#/definitions/GlobalConfig"),KMe=new Pee({allowUnionTypes:!0});KMe.addSchema(vYt);const jB=KMe.getSchema("#/definitions/StudyConfig");function NYt(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config \`${r}\` is not defined in configs object, but is present in configsList`}),!1):!0),t]}function MYt(e){const t=JSON.parse(e),n=u0e(t),r=NYt(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...u0e.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function XMe(e,t,n=[],r=[]){const i=o=>{for(let s=t.length-1;s>=0;s-=1)t[s]===o&&t.splice(s,1)};if(!la(e)){if(e.components.length===0){r.push({message:"Sequence has an empty components array",instancePath:"/sequence/",params:{action:"Remove empty components block or add components to the sequence"},category:"sequence-validation"});return}e.id&&i(e.id),e.components.forEach(o=>{typeof o=="string"?t.includes(o)&&i(o):XMe(o,t,n,r)}),e.skip&&e.skip.length>0&&t.push(...e.skip.map(o=>o.to).filter(o=>o!=="end"))}}function $Yt(e,t){const n=[],r=[];IYt(e,n,r,t);const i="contact@revisit.dev",o=["revisit.dev","vdl.sci.utah.edu"],s=typeof window<"u"?window.location.hostname:"",a=o.some(c=>s===c||s.endsWith(`.${c}`));e.uiConfig.contactEmail===i&&!a&&r.push({message:`The contact email is set to the default value \`${i}\`. Please update it to your own email address.`,instancePath:"/uiConfig/contactEmail",params:{action:"Update the contactEmail field in uiConfig to your own email address"},category:"default-contact-email"}),Object.entries(e.components).forEach(([c,d])=>{const f=c.startsWith("$")&&c.includes(".components.");o0(d)&&!e.baseComponents?.[d.baseComponent]&&n.push({message:`Base component \`${d.baseComponent}\` is not defined in baseComponents object`,instancePath:"/baseComponents/",params:{action:"Add the base component to the baseComponents object"},category:"undefined-base-component"});const h=o0(d)?e.baseComponents?.[d.baseComponent]:void 0,p={...h||{},...d},m=o0(d)&&d.baseComponent.startsWith("$")&&d.baseComponent.includes(".components."),g=d.instructionLocation==="sidebar"||d.nextButtonLocation==="sidebar"||d.response?.some(y=>"location"in y&&y.location==="sidebar"),v=d.withSidebar!==void 0;if(!f&&(!m||g||v)){const y=!(p.withSidebar??e.uiConfig.withSidebar),x=p.instructionLocation==="sidebar"||p.nextButtonLocation==="sidebar"||p.response?.some(E=>"location"in E&&E.location==="sidebar");if(y&&x){const E=d.withSidebar===!1?"/components/":h?.withSidebar===!1?"/baseComponents/":"/uiConfig/";r.push({message:`Component \`${c}\` uses sidebar locations but sidebar is disabled`,instancePath:E,params:{action:"Enable the sidebar or move the location to belowStimulus or aboveStimulus"},category:"disabled-sidebar"})}}});const l=rY(e.sequence);l.forEach(c=>{e.components[c]||(e.baseComponents?.[c]?n.push({message:`Component \`${c}\` is a base component and cannot be used in the sequence`,instancePath:"/sequence/",params:{action:"Remove the base component from the sequence"},category:"sequence-validation"}):n.push({message:`Component \`${c}\` is not defined in components object`,instancePath:"/components/",params:{action:"Add the component to the components object"},category:"undefined-component"}))}),Object.keys(e.components).filter(c=>!l.includes(c)&&!c.includes(".sequences.")&&!c.includes(".components.")).forEach(c=>{r.push({message:`Component \`${c}\` is defined in components object but not used deterministically in the sequence`,instancePath:"/components/",params:{action:"Remove the component from the components object or add it to the sequence"},category:"unused-component"})});const u=[];return XMe(e.sequence,u,n,r),u.forEach(c=>{n.push({message:`Skip target \`${c}\` does not occur after the skip block it is used in`,instancePath:"/sequence/",params:{action:"Add the target to the sequence after the skip block"},category:"skip-validation"})}),{errors:n,warnings:r}}async function Kee(e){let t=!1,n;try{n=JSON.parse(e),t=jB(n)}catch{try{n=pYt(e).toJSON(),t=jB(n)}catch(o){console.error("Error parsing study config file:",o),t=!1}}let r=(jB.errors||[]).map(o=>({message:o.message||"Validation error",instancePath:o.instancePath||"",params:o.params||{},category:"invalid-config"})),i=[];if(t&&n){const o=n.importedLibraries||[],s=await OYt(o,r,i);Object.values(s).forEach(u=>{n.components={...n.components,...u.components},n.baseComponents={...n.baseComponents,...u.components}}),Object.values(n.components).forEach(u=>{u&&typeof u=="object"&&"baseComponent"in u&&typeof u.baseComponent=="string"&&u.baseComponent.includes(".co.")&&(u.baseComponent=u.baseComponent.replace(".co.",".components."))}),n.sequence=Qq(n.sequence,s,r);const{errors:a,warnings:l}=$Yt(n,s);r=[...r,...a],i=[...i,...l]}else r=[...r,{message:"There was an issue validating your config file",instancePath:"root",params:{action:"Fix the errors in your file or make sure the global config references the right file path"},category:"invalid-config"}];return{...n,errors:r,warnings:i}}async function LYt(e){const t=await(await fetch(`${Hi}${e}`)).text();return await Kee(t)}async function Xee(e,t){const n=t.configsList.find(r=>zwe(r)===e);if(n){const r=t.configs[n];return await LYt(`${r.path}`)}return null}async function FYt(e){const t={},n=e.configsList.map(async i=>Xee(i,e)),r=await Promise.all(n);return e.configsList.forEach((i,o)=>{t[i]=r[o]}),t}function jYt({globalConfig:e}){const t=ff(),[n,r]=A.useState(null),i=e.configsList.includes(t)||t==="__revisit-widget";A.useEffect(()=>{if(t!=="__revisit-widget")return Xee(t,e).then(m=>{r(m)}),()=>{};if(e&&t){const m=g=>{g.data.type==="revisitWidget/CONFIG"&&Kee(g.data.payload).then(async v=>{r(v);const y=await _B(v);window.parent.postMessage({type:"revisitWidget/SEQUENCE_ARRAY",payload:y},"*")})};return window.addEventListener("message",m),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",m)}}return()=>{}},[e,t]);const[o,s]=A.useState([]),[a,l]=A.useState(null),{storageEngine:u}=ri(),[c]=uu(),d=A.useMemo(()=>c.get("participantId"),[c]),f=A.useMemo(()=>Fu(c.get("condition")),[c]);A.useEffect(()=>{async function m(){if(!(!u||!n||!t)){try{await u.initializeStudyDb(t),await u.saveConfig(n),await u.getSequenceArray()||await u.setSequenceArray(await _B(n));const v=await u.getModes(t),y=n.uiConfig.urlParticipantIdParam&&c.get(n.uiConfig.urlParticipantIdParam)||void 0,x=Object.fromEntries(c.entries()),E=new AbortController,_=window.setTimeout(()=>E.abort(),1200),S=await fetch("https://api.ipify.org?format=json",{signal:E.signal}).catch(()=>"");window.clearTimeout(_);const T=S instanceof Response?await S.json():{ip:""},k={language:navigator.language,userAgent:navigator.userAgent,resolution:{width:window.screen.width,height:window.screen.height,availHeight:window.screen.availHeight,availWidth:window.screen.availWidth,colorDepth:window.screen.colorDepth,orientation:window.screen.orientation.type,pixelDepth:window.screen.pixelDepth},ip:T.ip};let R=await u.initializeParticipantSession(x,n,k,d||y);if(f.length>0&&v.developmentModeEnabled){const j={...R.searchParams,condition:f.join(",")};await u.updateParticipantSearchParams(j),await u.updateStudyCondition(f),R={...R,searchParams:j,conditions:f}}const I=await _z(JSON.stringify(n));let P=n;R.participantConfigHash!==I&&(P=(await u.getAllConfigsFromHash([R.participantConfigHash],t))[R.participantConfigHash]);const N=Nst({urlCondition:f,participantConditions:R.conditions,participantSearchParamCondition:R.searchParams?.condition,allowUrlOverride:v.developmentModeEnabled}),M=Ase(R.sequence,N),O=await Zse(t,P,M,k,R.answers,v,R.participantId,R.completed,!1,R.participantConfigHash!==I);l(O)}catch(g){console.error("Error initializing user store routing:",g);const y=_B(n)[0],x=Ase(y,f),E=await Zse(t,n,x,{language:"",userAgent:"",resolution:{width:0,height:0,availHeight:0,availWidth:0,colorDepth:0,orientation:"",pixelDepth:0},ip:""},{},{developmentModeEnabled:!0,dataSharingEnabled:!0,dataCollectionEnabled:!1},"",!1,!0);l(E)}s([{element:b.jsx(GVt,{}),children:[{path:"/",element:b.jsx(Mq,{to:di(0),replace:!0})},{path:"/:index/:funcIndex?",element:n.errors.length>0?b.jsxs(b.Fragment,{children:[b.jsx(gr,{order:2,mb:8,children:"Error loading config"}),b.jsx(UD,{issues:n.errors,type:"error"})]}):b.jsx(Ozt,{})}]}])}}m()},[u,n,t,c,d,f]);const h=pwe(o);let p=null;return i?o.length===0?p=b.jsx(eu,{visible:!0}):p=h&&a?b.jsx(x_e.Provider,{value:a,children:b.jsx(eat,{store:a.store,children:h})}):b.jsx(mm,{}):p=b.jsx(mm,{}),p}function KS({studyIds:e}){const t=fa(),{studyId:n}=$o(),r=da(),i=e.map(s=>({value:s,label:s})).sort((s,a)=>s.label.localeCompare(a.label)),o=r.pathname.includes("analysis");return b.jsx(Ri.Header,{p:"md",children:b.jsxs(so,{mt:-7,align:"center",children:[b.jsx(so.Col,{span:6,children:b.jsxs(lt,{align:"center",onClick:()=>t("/"),style:{cursor:"pointer"},children:[b.jsx(Pm,{w:40,src:`${Hi}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),b.jsx($u,{w:"md"}),b.jsx(gr,{order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:o?"ReVISit Analytics Platform":"ReVISit Studies"})]})}),b.jsx(so.Col,{span:6,children:b.jsxs(lt,{justify:"flex-end",direction:"row",children:[o&&b.jsxs(b.Fragment,{children:[b.jsx(um,{allowDeselect:!1,placeholder:"Select Study",data:i,value:n,onChange:s=>t(`/analysis/stats/${s}`),mr:16}),b.jsx(Mt,{component:"a",href:`${Hi}${n}`,target:"_blank",leftSection:b.jsx(Owe,{}),mr:"sm",children:"Go to Study"})]}),b.jsx(Fwe,{onClick:()=>t("/settings"),style:{cursor:"pointer",marginTop:o?6:void 0}})]})})]})})}const yD=20,BYt=5,vg={left:5,right:5,top:10,bottom:10},bg={UNANSWERED:{FILL:"grey",STROKE:"#666"},ANSWERED:{FILL:"green",STROKE:"#166534"},DYNAMIC:{FILL:"teal",STROKE:"#0d9488"},TEXT:"white"};function zYt({total:e,answered:t,isDynamic:n}){const r=n?t.length:e,i=A.useMemo(()=>{const u=Math.max(300,r*50);return Jv().domain([0,r]).range([vg.left,u-vg.right])},[r]);if(!e||e<=0||Number.isNaN(e))return null;const o=()=>{const u=[];for(let c=0;c<r;c+=1){const d=c<t.length,f=d?`Question ${c+1}: ${t[c]}`:`Question ${c+1}: Not answered`;let h=bg.UNANSWERED.FILL,p=bg.UNANSWERED.STROKE;n?(h=bg.DYNAMIC.FILL,p=bg.DYNAMIC.STROKE):d&&(h=bg.ANSWERED.FILL,p=bg.ANSWERED.STROKE);const m=i(c),g=i(c+1)-i(c)-BYt,v=Math.max(g,2);u.push(b.jsx(ct,{label:f,position:"top",withinPortal:!0,children:b.jsxs("g",{children:[b.jsx("rect",{x:m,y:vg.top,width:v,height:yD,fill:h,stroke:p,strokeWidth:"1.5",rx:"3",style:{cursor:"pointer"}}),b.jsxs("text",{x:m+v/2,y:vg.top+yD/2+4,fontSize:"11",fontWeight:"600",fill:bg.TEXT,textAnchor:"middle",pointerEvents:"none",children:["Q",c+1]})]})},c))}return n&&r>0&&u.push(b.jsx("text",{x:i(r)+10,y:vg.top+yD/2+7,fontSize:"20",fontWeight:"bold",fill:bg.DYNAMIC.FILL,children:"?"},"question-mark")),u},s=Math.max(300,i(r)+(n?40:vg.right)),a=yD+vg.top+vg.bottom;return b.jsxs(b.Fragment,{children:[b.jsx("style",{children:`
      .progress-heatmap {
        display: inline-block;
        vertical-align: top;
        width: 50%;
        overflow-x: auto;
        overflow-y: hidden;
        white-space: nowrap;
      }
      .progress-heatmap svg {
        display: inline-block;
        vertical-align: top;
      }
      
      /* Custom scrollbar styling */
      .progress-heatmap::-webkit-scrollbar {
        height: 8px;
      }
      .progress-heatmap::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 4px;
      }
      .progress-heatmap::-webkit-scrollbar-thumb {
        background: #c1c1c1;
        border-radius: 4px;
      }
      .progress-heatmap::-webkit-scrollbar-thumb:hover {
        background: #a8a8a8;
      }
      
      @media (max-width: 900px) {
        .progress-heatmap {
          width: 100% !important;
          display: block;
        }
      }
    `}),b.jsx("div",{className:"progress-heatmap",children:b.jsx("svg",{width:s,height:a,children:o()})})]})}function BB({title:e,titleColor:t,participants:n,showProgressHeatmap:r=!1,showDynamicBadge:i=!1,progressValue:o,progressColor:s,progressLabel:a}){const[l,u]=A.useState(!0);return b.jsxs(b.Fragment,{children:[b.jsxs(ln,{gap:"xs",style:{cursor:"pointer"},onClick:()=>u(!l),children:[b.jsx(on,{variant:"subtle",color:t,size:"sm",children:l?b.jsx(uM,{size:18}):b.jsx(Twe,{size:18})}),b.jsxs(gr,{order:5,c:t,children:[e," ","(",n.length,")"]})]}),b.jsx(Uh,{in:l,children:n.length>0&&b.jsx(so,{mt:"xs",children:n.map(({assignment:c,progress:d},f)=>b.jsx(so.Col,{span:12,children:b.jsx(Zs,{shadow:"sm",padding:"sm",radius:"md",withBorder:!0,children:b.jsxs(ln,{justify:"space-between",align:"center",children:[b.jsxs("div",{children:[b.jsxs(ln,{gap:"xs",align:"center",children:[b.jsxs($e,{fw:500,size:"sm",children:["Participant:"," ",c.participantId||`#${f+1}`]}),i&&c.isDynamic&&b.jsx(Ii,{size:"xs",color:"cyan",children:"DYNAMIC"})]}),b.jsxs($e,{size:"xs",c:"dimmed",children:["Started:"," ",new Date(c.createdTime).toLocaleString()]})]}),r&&b.jsx(zYt,{total:c.total,answered:c.answered,isDynamic:c.isDynamic}),b.jsx(nM,{size:60,thickness:6,sections:[{value:o(c,d),color:s}],label:un.createElement(a,{assignment:c,progress:d})})]})})},c.participantId||`${e.toLowerCase()}-${f}`))})})]})}function UYt(e,t,n){return e.map(r=>{const i=r.total>0?r.answered.length/r.total*100:0,o=r.completed!==null,s=r.rejected;return{assignment:r,progress:i,isCompleted:o,isRejected:s}}).filter(({isCompleted:r,isRejected:i,assignment:o})=>{const s=i?"rejected":r?"completed":"inprogress",a=t.includes(s),l=n.includes("ALL")||n.includes(o.stage||"");return a&&l}).sort((r,i)=>i.assignment.createdTime-r.assignment.createdTime)}function HYt(e){const t=e.filter(i=>!i.isCompleted&&!i.isRejected),n=e.filter(i=>i.isCompleted&&!i.isRejected),r=e.filter(i=>i.isRejected);return{inProgress:t,completed:n,rejected:r}}function qYt({assignment:e,progress:t}){return b.jsxs($e,{c:"orange",fw:700,ta:"center",size:"xs",children:[e.isDynamic?"?":Math.round(t),"%"]})}function VYt(){return b.jsx(Ha,{children:b.jsx(on,{color:"teal",variant:"light",radius:"xl",size:"sm",children:b.jsx(Th,{size:16})})})}function WYt({progress:e}){return b.jsxs($e,{c:"red",fw:700,ta:"center",size:"xs",children:[Math.round(e),"%"]})}function GYt({studyConfig:e,storageEngine:t,studyId:n,includedParticipants:r,selectedStages:i}){const o=t,[s,a]=A.useState([]),[l,u]=A.useState("connecting"),[c,d]=A.useState(null),[f,h]=A.useState(!1),p=y=>{a(y),d(new Date),h(!1)},m=A.useCallback(async()=>{if(!o||!n||f)return;if(!navigator.onLine){u("disconnected");return}h(!0),u("connecting");const y=setTimeout(()=>{l==="connecting"&&(u("disconnected"),h(!1))},1e4);try{o.initializeStudyDb(n);const x=await o.getAllSequenceAssignments(n);clearTimeout(y),p(x),u("connected")}catch(x){console.error("Reconnection failed:",x),clearTimeout(y),u("disconnected"),h(!1)}},[o,n,f,l]);A.useEffect(()=>{if(!o||!n){u("disconnected");return}u("connecting"),o.initializeStudyDb(n);const y=o._setupSequenceAssignmentListener?.(n,x=>{p(x)});return u(typeof y=="function"?"connected":"disconnected"),()=>{y?.()}},[o,n]),A.useEffect(()=>{const y=()=>{o&&n&&l==="disconnected"&&m()},x=()=>{u("disconnected"),h(!1)};return window.addEventListener("online",y),window.addEventListener("offline",x),()=>{window.removeEventListener("online",y),window.removeEventListener("offline",x)}},[o,n,l,m]);const g=A.useMemo(()=>UYt(s,r,i),[s,r,i]),v=A.useMemo(()=>HYt(g),[g]);return b.jsxs(Nn,{gap:"sm",children:[b.jsx(Zs,{shadow:"sm",padding:"sm",radius:"md",withBorder:!0,style:{position:"sticky",top:0,zIndex:100,backgroundColor:"white",marginBottom:"1rem"},children:b.jsxs(lt,{justify:"space-between",align:"center",children:[b.jsxs(ln,{gap:"md",children:[b.jsx(gr,{order:5,size:"h5",children:"Live Monitor"}),b.jsxs($e,{size:"sm",c:"dimmed",children:["Total:"," ",g.length]}),b.jsxs(ln,{gap:"xs",children:[b.jsxs(Ii,{color:"green",variant:"light",size:"sm",children:[g.filter(y=>y.isCompleted).length," ","Completed"]}),b.jsxs(Ii,{color:"orange",variant:"light",size:"sm",children:[g.filter(y=>!y.isCompleted&&!y.isRejected).length," ","Active"]}),b.jsxs(Ii,{color:"red",variant:"light",size:"sm",children:[g.filter(y=>y.isRejected).length," ","Rejected"]})]})]}),b.jsxs(ln,{gap:"xs",children:[l==="disconnected"&&b.jsx(Mt,{size:"xs",variant:"light",color:"blue",leftSection:b.jsx($we,{size:12}),loading:f,onClick:m,disabled:!o||!n,children:"Reconnect"}),b.jsx(ct,{label:l==="connected"?`Connected${c?` - Last data update: ${c.toLocaleTimeString()}`:""}`:l==="connecting"?"Connecting...":"Disconnected",position:"bottom-end",children:b.jsx(j4,{color:l==="connected"?"green":l==="connecting"?"yellow":"red",position:"top-end",size:10,withBorder:!0,children:l==="connected"?b.jsx(DXe,{size:22,color:"green"}):b.jsx(RXe,{size:22,color:l==="connecting"?"orange":"red"})})})]})]})}),b.jsx(gr,{order:4,mt:"lg",children:"Participant Progress"}),b.jsxs(Nn,{gap:"md",children:[b.jsx(BB,{title:"In Progress",titleColor:"orange",participants:v.inProgress,showProgressHeatmap:!0,showDynamicBadge:!0,progressValue:(y,x)=>y.isDynamic?50:x,progressColor:"orange",progressLabel:qYt}),b.jsx(BB,{title:"Completed",titleColor:"teal",participants:v.completed,progressValue:()=>100,progressColor:"teal",progressLabel:VYt}),b.jsx(BB,{title:"Rejected",titleColor:"red",participants:v.rejected,progressValue:(y,x)=>x,progressColor:"red",progressLabel:WYt})]})]})}function A$(e,t,n){return e.filter(r=>{const i=!n||!r.rejected,o=!t||Object.values(r.answers).some(s=>s.componentName===t&&s.startTime>0&&s.endTime!==-1);return i&&o})}function QMe(e,t){const n=A$(e,t,!1);return{total:n.length,completed:n.filter(i=>i.completed&&!i.rejected).length,inProgress:n.filter(i=>!i.completed&&!i.rejected).length,rejected:n.filter(i=>i.rejected).length}}function YYt(e,t){const r=A$(e,t,!0).flatMap(s=>Object.values(s.answers)).filter(s=>s.endTime!==-1);if(!r.length)return{startDate:null,endDate:null};const i=r.map(s=>s.startTime),o=r.map(s=>s.endTime);return{startDate:new Date(Math.min(...i)),endDate:new Date(Math.max(...o))}}function JMe(e,t){const n=A$(e,t,!0);let r=0;const i=n.reduce((o,s)=>{let a=!1;const l=Object.values(s.answers).filter(u=>(!t||u.componentName===t)&&u.endTime!==-1).map(u=>{const c=BEe(u);return c===-1&&(a=!0),{totalTime:(u.endTime-u.startTime)/1e3,cleanTime:c>=0?c/1e3:0}});return l.length>0&&(o.count+=l.length,o.totalTimeSum+=l.reduce((u,c)=>u+c.totalTime,0),o.cleanTimeSum+=l.reduce((u,c)=>u+c.cleanTime,0),a&&(r+=1)),o},{count:0,totalTimeSum:0,cleanTimeSum:0});return{avgTime:i.count>0?i.totalTimeSum/i.count:NaN,avgCleanTime:i.count>0?i.cleanTimeSum/i.count:NaN,participantsWithInvalidCleanTimeCount:r}}function Qee(e,t){const r=A$(e,t,!0).flatMap(a=>Object.values(a.answers)).filter(a=>!t||a.componentName===t);if(!r.some(a=>a.correctAnswer&&a.correctAnswer.length>0))return NaN;let o=0,s=0;return r.forEach(a=>{const l=a.correctAnswer.length;if(!l)return;o+=l,YT(a.answer,a.correctAnswer)&&(s+=l)}),o>0?s/o*100:NaN}function KYt(e){if(e.type==="slider")return e.options.map(t=>`${t.label} (${t.value})`).join(", ");if("options"in e)return e.options.map(t=>typeof t=="string"?t:t.label).join(", ");if("answerOptions"in e&&"questionOptions"in e){const t=e.questionOptions.map(r=>typeof r=="string"?r:r.label).join(", "),n=Array.isArray(e.answerOptions)?e.answerOptions.map(r=>typeof r=="string"?r:r.label).join(", "):e.answerOptions;return`Questions: ${t} 
 Answers: ${n}`}return"numItems"in e?`${e.leftLabel?` ${e.leftLabel} ~ ${e.rightLabel}`:""} (${e.numItems} items)`:"N/A"}function Np(e,t){return t==="date"&&e instanceof Date?e!==null?e.toLocaleDateString():"N/A":t==="time"&&typeof e=="number"?Number.isNaN(e)?"N/A":`${e.toFixed(1)}s`:t==="correctness"&&typeof e=="number"?Number.isNaN(e)?"N/A":`${e.toFixed(1)}%`:"N/A"}function ZMe(e,t){const n=JMe(e,t),r=YYt(e,t);return{participantCounts:QMe(e,t),startDate:r.startDate,endDate:r.endDate,avgTime:n.avgTime,avgCleanTime:n.avgCleanTime,participantsWithInvalidCleanTimeCount:n.participantsWithInvalidCleanTimeCount,correctness:Qee(e,t)}}function XYt(e,t){return Object.keys(t.components).map(i=>{const o=JMe(e,i);return{component:i,participants:QMe(e,i).total,avgTime:o.avgTime,avgCleanTime:o.avgCleanTime,correctness:Qee(e,i)}})}function QYt(e,t){return Object.entries(t.components).flatMap(([r,i])=>{const s=ju(i,t).response??[];return s.length===0?[]:s.map(a=>({component:r,type:a.type,question:a.prompt??"N/A",options:KYt(a),correctness:Qee(e,r)}))})}async function JYt(e,t){return!e||!t?null:e.getParticipantsStatusCounts(t)}function e6e({overviewData:e}){const t=e&&e.participantsWithInvalidCleanTimeCount>0,{studyId:n}=$o(),{storageEngine:r}=ri(),{value:i}=_c(JYt,r&&n?[r,n]:null),o=A.useMemo(()=>i?{completed:{current:i.completed,calculated:e.participantCounts.completed},inProgress:{current:i.inProgress,calculated:e.participantCounts.inProgress},rejected:{current:i.rejected,calculated:e.participantCounts.rejected}}:null,[e,i]),s=a=>{if(!o)return!1;const l=o[a];return l.current!==l.calculated};return b.jsxs(Ns,{shadow:"sm",p:"md",withBorder:!0,children:[b.jsx(gr,{order:4,mb:"md",children:"Overview Statistics"}),b.jsxs(lt,{justify:"space-between",m:"xs",gap:"xl",wrap:"wrap",children:[b.jsxs(lt,{direction:"column",children:[b.jsx($e,{size:"xl",fw:"bold",children:e.participantCounts.total}),b.jsx($e,{size:"sm",c:"dimmed",children:"Total Participants"})]}),b.jsxs(lt,{direction:"column",children:[b.jsxs(lt,{align:"center",gap:"xs",children:[s("completed")&&o&&b.jsx(ct,{label:`Calculated: ${o.completed.calculated}, Stored: ${o.completed.current}`,children:b.jsx(Du,{size:16,color:"orange"})}),b.jsx($e,{size:"xl",fw:"bold",c:"green",children:e.participantCounts.completed})]}),b.jsx($e,{size:"sm",c:"dimmed",children:"Completed"})]}),b.jsxs(lt,{direction:"column",children:[b.jsxs(lt,{align:"center",gap:"xs",children:[s("inProgress")&&o&&b.jsx(ct,{label:`Calculated: ${o.inProgress.calculated}, Stored: ${o.inProgress.current}`,children:b.jsx(Du,{size:16,color:"orange"})}),b.jsx($e,{size:"xl",fw:"bold",c:"yellow",children:e.participantCounts.inProgress})]}),b.jsx($e,{size:"sm",c:"dimmed",children:"In Progress"})]}),b.jsxs(lt,{direction:"column",children:[b.jsxs(lt,{align:"center",gap:"xs",children:[s("rejected")&&o&&b.jsx(ct,{label:`Calculated: ${o.rejected.calculated}, Stored: ${o.rejected.current}`,children:b.jsx(Du,{size:16,color:"orange"})}),b.jsx($e,{size:"xl",fw:"bold",c:"red",children:e.participantCounts.rejected})]}),b.jsx($e,{size:"sm",c:"dimmed",children:"Rejected"})]}),b.jsxs(lt,{direction:"column",children:[b.jsx($e,{size:"xl",fw:"bold",children:Np(e.startDate,"date")}),b.jsx($e,{size:"sm",c:"dimmed",children:"Start Date"})]}),b.jsxs(lt,{direction:"column",children:[b.jsx($e,{size:"xl",fw:"bold",children:Np(e.endDate,"date")}),b.jsx($e,{size:"sm",c:"dimmed",children:"End Date"})]}),b.jsxs(lt,{direction:"column",children:[b.jsx($e,{size:"xl",fw:"bold",children:Np(e.avgTime,"time")}),b.jsx($e,{size:"sm",c:"dimmed",children:"Average Time"})]}),b.jsxs(lt,{direction:"column",children:[b.jsxs(lt,{align:"center",gap:"xs",children:[t&&b.jsx(ct,{label:`${e.participantsWithInvalidCleanTimeCount} participants with invalid timing data were excluded from the average clean time calculation`,children:b.jsx(Du,{size:16,color:"orange"})}),b.jsx($e,{size:"xl",fw:"bold",children:Np(e.avgCleanTime,"time")})]}),b.jsx($e,{size:"sm",c:"dimmed",children:"Average Clean Time"})]}),b.jsxs(lt,{direction:"column",children:[b.jsx($e,{size:"xl",fw:"bold",children:Np(e.correctness,"correctness")}),b.jsx($e,{size:"sm",c:"dimmed",children:"Correctness"})]})]})]})}function t0(e,t){return typeof e=="function"?e(t):e}function Ju(e,t){return n=>{t.setState(r=>({...r,[e]:t0(n,r[e])}))}}function R$(e){return e instanceof Function}function ZYt(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function t6e(e,t){const n=[],r=i=>{i.forEach(o=>{n.push(o);const s=t(o);s!=null&&s.length&&r(s)})};return r(e),n}function vn(e,t,n){let r=[],i;return o=>{let s;n.key&&n.debug&&(s=Date.now());const a=e(o);if(!(a.length!==r.length||a.some((c,d)=>r[d]!==c)))return i;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),i=t(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-s)*100)/100,d=Math.round((Date.now()-u)*100)/100,f=d/16,h=(p,m)=>{for(p=String(p);p.length<m;)p=" "+p;return p};console.info(`%c ${h(d,5)} /${h(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n?.key)}return i}}function bn(e,t,n,r){return{debug:()=>{var i;return(i=e?.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function eKt(e,t,n,r){const i=()=>{var s;return(s=o.getValue())!=null?s:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:vn(()=>[e,n,t,o],(s,a,l,u)=>({table:s,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),bn(e.options,"debugCells"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(o,n,t,e)},{}),o}function tKt(e,t,n,r){var i,o;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(i=(o=a.id)!=null?o:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,c;if(a.accessorFn?c=a.accessorFn:l&&(l.includes(".")?c=f=>{let h=f;for(const m of l.split(".")){var p;h=(p=h)==null?void 0:p[m]}return h}:c=f=>f[a.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:vn(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(h=>h.getFlatColumns())]},bn(e.options,"debugColumns")),getLeafColumns:vn(()=>[e._getOrderColumnsFn()],f=>{var h;if((h=d.columns)!=null&&h.length){let p=d.columns.flatMap(m=>m.getLeafColumns());return f(p)}return[d]},bn(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(d,e);return d}const Sa="debugHeaders";function c0e(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),s.push(l)};return a(o),s},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(o,e)}),o}const nKt={createTable:e=>{e.getHeaderGroups=vn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var o,s;const a=(o=r?.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?o:[],l=(s=i?.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?s:[],u=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(i!=null&&i.includes(d.id)));return vD(t,[...a,...u,...l],e)},bn(e.options,Sa)),e.getCenterHeaderGroups=vn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(i!=null&&i.includes(o.id))),vD(t,n,e,"center")),bn(e.options,Sa)),e.getLeftHeaderGroups=vn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const o=(i=r?.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return vD(t,o,e,"left")},bn(e.options,Sa)),e.getRightHeaderGroups=vn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const o=(i=r?.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return vD(t,o,e,"right")},bn(e.options,Sa)),e.getFooterGroups=vn(()=>[e.getHeaderGroups()],t=>[...t].reverse(),bn(e.options,Sa)),e.getLeftFooterGroups=vn(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),bn(e.options,Sa)),e.getCenterFooterGroups=vn(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),bn(e.options,Sa)),e.getRightFooterGroups=vn(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),bn(e.options,Sa)),e.getFlatHeaders=vn(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),bn(e.options,Sa)),e.getLeftFlatHeaders=vn(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),bn(e.options,Sa)),e.getCenterFlatHeaders=vn(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),bn(e.options,Sa)),e.getRightFlatHeaders=vn(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),bn(e.options,Sa)),e.getCenterLeafHeaders=vn(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),bn(e.options,Sa)),e.getLeftLeafHeaders=vn(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),bn(e.options,Sa)),e.getRightLeafHeaders=vn(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),bn(e.options,Sa)),e.getLeafHeaders=vn(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,o,s,a,l,u;return[...(i=(o=t[0])==null?void 0:o.headers)!=null?i:[],...(s=(a=n[0])==null?void 0:a.headers)!=null?s:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(c=>c.getLeafHeaders()).flat()},bn(e.options,Sa))}};function vD(e,t,n,r){var i,o;let s=0;const a=function(f,h){h===void 0&&(h=1),s=Math.max(s,h),f.filter(p=>p.getIsVisible()).forEach(p=>{var m;(m=p.columns)!=null&&m.length&&a(p.columns,h+1)},0)};a(e);let l=[];const u=(f,h)=>{const p={depth:h,id:[r,`${h}`].filter(Boolean).join("_"),headers:[]},m=[];f.forEach(g=>{const v=[...m].reverse()[0],y=g.column.depth===p.depth;let x,E=!1;if(y&&g.column.parent?x=g.column.parent:(x=g.column,E=!0),v&&v?.column===x)v.subHeaders.push(g);else{const _=c0e(n,x,{id:[r,h,x.id,g?.id].filter(Boolean).join("_"),isPlaceholder:E,placeholderId:E?`${m.filter(S=>S.column===x).length}`:void 0,depth:h,index:m.length});_.subHeaders.push(g),m.push(_)}p.headers.push(g),g.headerGroup=p}),l.push(p),h>0&&u(m,h-1)},c=t.map((f,h)=>c0e(n,f,{depth:s,index:h}));u(c,s-1),l.reverse();const d=f=>f.filter(p=>p.column.getIsVisible()).map(p=>{let m=0,g=0,v=[0];p.subHeaders&&p.subHeaders.length?(v=[],d(p.subHeaders).forEach(x=>{let{colSpan:E,rowSpan:_}=x;m+=E,v.push(_)})):m=1;const y=Math.min(...v);return g=g+y,p.colSpan=m,p.rowSpan=g,{colSpan:m,rowSpan:g}});return d((i=(o=l[0])==null?void 0:o.headers)!=null?i:[]),l}const n_=(e,t,n,r,i,o,s)=>{let a={id:t,index:r,original:n,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:o??[],getLeafRows:()=>t6e(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const c=u.getParentRow();if(!c)break;l.push(c),u=c}return l.reverse()},getAllCells:vn(()=>[e.getAllLeafColumns()],l=>l.map(u=>eKt(e,a,u,u.id)),bn(e.options,"debugRows")),_getAllCellsByColumnId:vn(()=>[a.getAllCells()],l=>l.reduce((u,c)=>(u[c.column.id]=c,u),{}),bn(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a},rKt={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},n6e=(e,t,n)=>{var r,i;const o=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(o))};n6e.autoRemove=e=>Hd(e);const r6e=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};r6e.autoRemove=e=>Hd(e);const i6e=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};i6e.autoRemove=e=>Hd(e);const o6e=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};o6e.autoRemove=e=>Hd(e)||!(e!=null&&e.length);const s6e=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});s6e.autoRemove=e=>Hd(e)||!(e!=null&&e.length);const a6e=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});a6e.autoRemove=e=>Hd(e)||!(e!=null&&e.length);const l6e=(e,t,n)=>e.getValue(t)===n;l6e.autoRemove=e=>Hd(e);const u6e=(e,t,n)=>e.getValue(t)==n;u6e.autoRemove=e=>Hd(e);const Jee=(e,t,n)=>{let[r,i]=n;const o=e.getValue(t);return o>=r&&o<=i};Jee.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(i)?1/0:i;if(o>s){const a=o;o=s,s=a}return[o,s]};Jee.autoRemove=e=>Hd(e)||Hd(e[0])&&Hd(e[1]);const Xf={includesString:n6e,includesStringSensitive:r6e,equalsString:i6e,arrIncludes:o6e,arrIncludesAll:s6e,arrIncludesSome:a6e,equals:l6e,weakEquals:u6e,inNumberRange:Jee};function Hd(e){return e==null||e===""}const iKt={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Ju("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);return typeof r=="string"?Xf.includesString:typeof r=="number"?Xf.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Xf.equals:Array.isArray(r)?Xf.arrIncludes:Xf.weakEquals},e.getFilterFn=()=>{var n,r;return R$(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Xf[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),o=r?.find(c=>c.id===e.id),s=t0(n,o?o.value:void 0);if(d0e(i,s,e)){var a;return(a=r?.filter(c=>c.id!==e.id))!=null?a:[]}const l={id:e.id,value:s};if(o){var u;return(u=r?.map(c=>c.id===e.id?l:c))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var o;return(o=t0(t,i))==null?void 0:o.filter(s=>{const a=n.find(l=>l.id===s.id);if(a){const l=a.getFilterFn();if(d0e(l,s.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function d0e(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const oKt=(e,t,n)=>n.reduce((r,i)=>{const o=i.getValue(e);return r+(typeof o=="number"?o:0)},0),sKt=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},aKt=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},lKt=(e,t,n)=>{let r,i;return n.forEach(o=>{const s=o.getValue(e);s!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)))}),[r,i]},uKt=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let o=i.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},cKt=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!ZYt(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((o,s)=>o-s);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},dKt=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),fKt=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,hKt=(e,t)=>t.length,d3={sum:oKt,min:sKt,max:aKt,extent:lKt,mean:uKt,median:cKt,unique:dKt,uniqueCount:fKt,count:hKt},pKt={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Ju("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);if(typeof r=="number")return d3.sum;if(Object.prototype.toString.call(r)==="[object Date]")return d3.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return R$(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:d3[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function mKt(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(s=>s.id===o)).filter(Boolean),...r]}const gKt={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Ju("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=vn(n=>[XS(t,n)],n=>n.findIndex(r=>r.id===e.id),bn(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=XS(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=XS(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=vn(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let o=[];if(!(t!=null&&t.length))o=i;else{const s=[...t],a=[...i];for(;a.length&&s.length;){const l=s.shift(),u=a.findIndex(c=>c.id===l);u>-1&&o.push(a.splice(u,1)[0])}o=[...o,...a]}return mKt(o,n,r)},bn(e.options,"debugTable"))}},zB=()=>({left:[],right:[]}),yKt={getInitialState:e=>({columnPinning:zB(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Ju("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var o,s;if(n==="right"){var a,l;return{left:((a=i?.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=i?.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var u,c;return{left:[...((u=i?.left)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((c=i?.right)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((o=i?.left)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d))),right:((s=i?.right)!=null?s:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,o,s;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((o=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:i}=t.getState().columnPinning,o=n.some(a=>r?.includes(a)),s=n.some(a=>i?.includes(a));return o?"left":s?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=vn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const o=[...r??[],...i??[]];return n.filter(s=>!o.includes(s.column.id))},bn(t.options,"debugRows")),e.getLeftVisibleCells=vn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),bn(t.options,"debugRows")),e.getRightVisibleCells=vn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),bn(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?zB():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:zB())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,o;return!!((i=r.left)!=null&&i.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=vn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),bn(e.options,"debugColumns")),e.getRightLeafColumns=vn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),bn(e.options,"debugColumns")),e.getCenterLeafColumns=vn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(o=>!i.includes(o.id))},bn(e.options,"debugColumns"))}},bD={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},UB=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),vKt={getDefaultColumnDef:()=>bD,getInitialState:e=>({columnSizing:{},columnSizingInfo:UB(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ju("columnSizing",e),onColumnSizingInfoChange:Ju("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:bD.minSize,(r=o??e.columnDef.size)!=null?r:bD.size),(i=e.columnDef.maxSize)!=null?i:bD.maxSize)},e.getStart=vn(n=>[n,XS(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,o)=>i+o.getSize(),0),bn(t.options,"debugColumns")),e.getAfter=vn(n=>[n,XS(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,o)=>i+o.getSize(),0),bn(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var o;n+=(o=i.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r?.getCanResize();return o=>{if(!r||!i||(o.persist==null||o.persist(),HB(o)&&o.touches&&o.touches.length>1))return;const s=e.getSize(),a=e?e.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[r.id,r.getSize()]],l=HB(o)?Math.round(o.touches[0].clientX):o.clientX,u={},c=(v,y)=>{typeof y=="number"&&(t.setColumnSizingInfo(x=>{var E,_;const S=t.options.columnResizeDirection==="rtl"?-1:1,T=(y-((E=x?.startOffset)!=null?E:0))*S,k=Math.max(T/((_=x?.startSize)!=null?_:0),-.999999);return x.columnSizingStart.forEach(R=>{let[I,P]=R;u[I]=Math.round(Math.max(P+P*k,0)*100)/100}),{...x,deltaOffset:T,deltaPercentage:k}}),(t.options.columnResizeMode==="onChange"||v==="end")&&t.setColumnSizing(x=>({...x,...u})))},d=v=>c("move",v),f=v=>{c("end",v),t.setColumnSizingInfo(y=>({...y,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=n||typeof document<"u"?document:null,p={moveHandler:v=>d(v.clientX),upHandler:v=>{h?.removeEventListener("mousemove",p.moveHandler),h?.removeEventListener("mouseup",p.upHandler),f(v.clientX)}},m={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),d(v.touches[0].clientX),!1),upHandler:v=>{var y;h?.removeEventListener("touchmove",m.moveHandler),h?.removeEventListener("touchend",m.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),f((y=v.touches[0])==null?void 0:y.clientX)}},g=bKt()?{passive:!1}:!1;HB(o)?(h?.addEventListener("touchmove",m.moveHandler,g),h?.addEventListener("touchend",m.upHandler,g)):(h?.addEventListener("mousemove",p.moveHandler,g),h?.addEventListener("mouseup",p.upHandler,g)),t.setColumnSizingInfo(v=>({...v,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?UB():(n=e.initialState.columnSizingInfo)!=null?n:UB())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let wD=null;function bKt(){if(typeof wD=="boolean")return wD;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return wD=e,wD}function HB(e){return e.type==="touchstart"}const wKt={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Ju("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(o=>o.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=vn(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),bn(t.options,"debugRows")),e.getVisibleCells=vn(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],bn(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>vn(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),bn(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,o)=>({...i,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function XS(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const xKt={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},CKt={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Ju("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Xf.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return R$(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Xf[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},_Kt={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Ju("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,o;e.setExpanded(r?{}:(i=(o=e.initialState)==null?void 0:o.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const s=o.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const o=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{s[a]=!0}):s=r,n=(i=n)!=null?i:!o,!o&&n)return{...s,[e.id]:!0};if(o&&!n){const{[e.id]:a,...l}=s;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r?.[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Jq=0,Zq=10,qB=()=>({pageIndex:Jq,pageSize:Zq}),EKt={getInitialState:e=>({...e,pagination:{...qB(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:Ju("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=o=>t0(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?qB():(i=e.initialState.pagination)!=null?i:qB())},e.setPageIndex=r=>{e.setPagination(i=>{let o=t0(r,i.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,s)),{...i,pageIndex:o}})},e.resetPageIndex=r=>{var i,o;e.setPageIndex(r?Jq:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?i:Jq)},e.resetPageSize=r=>{var i,o;e.setPageSize(r?Zq:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?i:Zq)},e.setPageSize=r=>{e.setPagination(i=>{const o=Math.max(1,t0(r,i.pageSize)),s=i.pageSize*i.pageIndex,a=Math.floor(s/o);return{...i,pageIndex:a,pageSize:o}})},e.setPageCount=r=>e.setPagination(i=>{var o;let s=t0(r,(o=e.options.pageCount)!=null?o:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...i,pageCount:s}}),e.getPageOptions=vn(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((o,s)=>s)),i},bn(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},VB=()=>({top:[],bottom:[]}),SKt={getInitialState:e=>({rowPinning:VB(),...e}),getDefaultOptions:e=>({onRowPinningChange:Ju("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const o=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],s=i?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...s,e.id,...o]);t.setRowPinning(l=>{var u,c;if(n==="bottom"){var d,f;return{top:((d=l?.top)!=null?d:[]).filter(m=>!(a!=null&&a.has(m))),bottom:[...((f=l?.bottom)!=null?f:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)]}}if(n==="top"){var h,p;return{top:[...((h=l?.top)!=null?h:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)],bottom:((p=l?.bottom)!=null?p:[]).filter(m=>!(a!=null&&a.has(m)))}}return{top:((u=l?.top)!=null?u:[]).filter(m=>!(a!=null&&a.has(m))),bottom:((c=l?.bottom)!=null?c:[]).filter(m=>!(a!=null&&a.has(m)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,o=n.some(a=>r?.includes(a)),s=n.some(a=>i?.includes(a));return o?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const o=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(s=>{let{id:a}=s;return a});return(r=o?.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?VB():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:VB())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,o;return!!((i=r.top)!=null&&i.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(s=>{const a=e.getRow(s,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(s=>t.find(a=>a.id===s))).filter(Boolean).map(s=>({...s,position:r}))},e.getTopRows=vn(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),bn(e.options,"debugRows")),e.getBottomRows=vn(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),bn(e.options,"debugRows")),e.getCenterRows=vn(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(o=>!i.has(o.id))},bn(e.options,"debugRows"))}},TKt={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Ju("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):i.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(o=>{eV(i,o.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=vn(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?WB(e,n):{rows:[],flatRows:[],rowsById:{}},bn(e.options,"debugTable")),e.getFilteredSelectedRowModel=vn(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?WB(e,n):{rows:[],flatRows:[],rowsById:{}},bn(e.options,"debugTable")),e.getGroupedSelectedRowModel=vn(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?WB(e,n):{rows:[],flatRows:[],rowsById:{}},bn(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(o=>{var s;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return o;const a={...o};return eV(a,e.id,n,(s=r?.selectChildren)!=null?s:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Zee(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return tV(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return tV(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},eV=(e,t,n,r,i)=>{var o;const s=i.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=s.subRows)!=null&&o.length&&s.getCanSelectSubRows()&&s.subRows.forEach(a=>eV(e,a.id,n,r,i))};function WB(e,t){const n=e.getState().rowSelection,r=[],i={},o=function(s,a){return s.map(l=>{var u;const c=Zee(l,n);if(c&&(r.push(l),i[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:o(l.subRows)}),c)return l}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:i}}function Zee(e,t){var n;return(n=t[e.id])!=null?n:!1}function tV(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,o=!1;return e.subRows.forEach(s=>{if(!(o&&!i)&&(s.getCanSelect()&&(Zee(s,t)?o=!0:i=!1),s.subRows&&s.subRows.length)){const a=tV(s,t);a==="all"?o=!0:(a==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const nV=/([0-9]+)/gm,kKt=(e,t,n)=>c6e(B0(e.getValue(n)).toLowerCase(),B0(t.getValue(n)).toLowerCase()),AKt=(e,t,n)=>c6e(B0(e.getValue(n)),B0(t.getValue(n))),RKt=(e,t,n)=>ete(B0(e.getValue(n)).toLowerCase(),B0(t.getValue(n)).toLowerCase()),IKt=(e,t,n)=>ete(B0(e.getValue(n)),B0(t.getValue(n))),DKt=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},PKt=(e,t,n)=>ete(e.getValue(n),t.getValue(n));function ete(e,t){return e===t?0:e>t?1:-1}function B0(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function c6e(e,t){const n=e.split(nV).filter(Boolean),r=t.split(nV).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),o=r.shift(),s=parseInt(i,10),a=parseInt(o,10),l=[s,a].sort();if(isNaN(l[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>a)return 1;if(a>s)return-1}return n.length-r.length}const lv={alphanumeric:kKt,alphanumericCaseSensitive:AKt,text:RKt,textCaseSensitive:IKt,datetime:DKt,basic:PKt},OKt={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Ju("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const o=i?.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return lv.datetime;if(typeof o=="string"&&(r=!0,o.split(nV).length>1))return lv.alphanumeric}return r?lv.text:lv.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof n?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return R$(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:lv[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(s=>{const a=s?.find(h=>h.id===e.id),l=s?.findIndex(h=>h.id===e.id);let u=[],c,d=o?n:i==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?a?c="toggle":c="add":s!=null&&s.length&&l!==s.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(o||i||(c="remove")),c==="add"){var f;u=[...s,{id:e.id,desc:d}],u.splice(0,u.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=s.map(h=>h.id===e.id?{...h,desc:d}:h):c==="remove"?u=s.filter(h=>h.id!==e.id):u=[{id:e.id,desc:d}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const o=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:s==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},NKt=[nKt,wKt,gKt,yKt,rKt,iKt,xKt,CKt,OKt,pKt,_Kt,EKt,SKt,TKt,vKt];function MKt(e){var t,n;const r=[...NKt,...(t=e._features)!=null?t:[]];let i={_features:r};const o=i._features.reduce((f,h)=>Object.assign(f,h.getDefaultOptions==null?void 0:h.getDefaultOptions(i)),{}),s=f=>i.options.mergeOptions?i.options.mergeOptions(o,f):{...o,...f};let l={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(f=>{var h;l=(h=f.getInitialState==null?void 0:f.getInitialState(l))!=null?h:l});const u=[];let c=!1;const d={_features:r,options:{...o,...e},initialState:l,_queue:f=>{u.push(f),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(h=>setTimeout(()=>{throw h})))},reset:()=>{i.setState(i.initialState)},setOptions:f=>{const h=t0(f,i.options);i.options=s(h)},getState:()=>i.options.state,setState:f=>{i.options.onStateChange==null||i.options.onStateChange(f)},_getRowId:(f,h,p)=>{var m;return(m=i.options.getRowId==null?void 0:i.options.getRowId(f,h,p))!=null?m:`${p?[p.id,h].join("."):h}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(f,h)=>{let p=(h?i.getPrePaginationRowModel():i.getRowModel()).rowsById[f];if(!p&&(p=i.getCoreRowModel().rowsById[f],!p))throw new Error;return p},_getDefaultColumnDef:vn(()=>[i.options.defaultColumn],f=>{var h;return f=(h=f)!=null?h:{},{header:p=>{const m=p.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:p=>{var m,g;return(m=(g=p.renderValue())==null||g.toString==null?void 0:g.toString())!=null?m:null},...i._features.reduce((p,m)=>Object.assign(p,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...f}},bn(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:vn(()=>[i._getColumnDefs()],f=>{const h=function(p,m,g){return g===void 0&&(g=0),p.map(v=>{const y=tKt(i,v,g,m),x=v;return y.columns=x.columns?h(x.columns,y,g+1):[],y})};return h(f)},bn(e,"debugColumns")),getAllFlatColumns:vn(()=>[i.getAllColumns()],f=>f.flatMap(h=>h.getFlatColumns()),bn(e,"debugColumns")),_getAllFlatColumnsById:vn(()=>[i.getAllFlatColumns()],f=>f.reduce((h,p)=>(h[p.id]=p,h),{}),bn(e,"debugColumns")),getAllLeafColumns:vn(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(f,h)=>{let p=f.flatMap(m=>m.getLeafColumns());return h(p)},bn(e,"debugColumns")),getColumn:f=>i._getAllFlatColumnsById()[f]};Object.assign(i,d);for(let f=0;f<i._features.length;f++){const h=i._features[f];h==null||h.createTable==null||h.createTable(i)}return i}function $Kt(){return e=>vn(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,o,s){o===void 0&&(o=0);const a=[];for(let u=0;u<i.length;u++){const c=n_(e,e._getRowId(i[u],u,s),i[u],u,o,void 0,s?.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),e.options.getSubRows){var l;c.originalSubRows=e.options.getSubRows(i[u],u),(l=c.originalSubRows)!=null&&l.length&&(c.subRows=r(c.originalSubRows,o+1,c))}}return a};return n.rows=r(t),n},bn(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function LKt(){return e=>vn(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(t,n,r)=>!n.rows.length||t!==!0&&!Object.keys(t??{}).length||!r?n:d6e(n),bn(e.options,"debugTable"))}function d6e(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function FKt(){return(e,t)=>vn(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return;const r=n.flatRows.flatMap(s=>{var a;return(a=s.getUniqueValues(t))!=null?a:[]}).map(Number).filter(s=>!Number.isNaN(s));if(!r.length)return;let i=r[0],o=r[r.length-1];for(const s of r)s<i?i=s:s>o&&(o=s);return[i,o]},bn(e.options,"debugTable"))}function f6e(e,t,n){return n.options.filterFromLeafRows?jKt(e,t,n):BKt(e,t,n)}function jKt(e,t,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){var d;let h=l[f];const p=n_(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);if(p.columnFilters=h.columnFilters,(d=h.subRows)!=null&&d.length&&u<s){if(p.subRows=a(h.subRows,u+1),h=p,t(h)&&!p.subRows.length){c.push(h),o[h.id]=h,i.push(h);continue}if(t(h)||p.subRows.length){c.push(h),o[h.id]=h,i.push(h);continue}}else h=p,t(h)&&(c.push(h),o[h.id]=h,i.push(h))}return c};return{rows:a(e),flatRows:i,rowsById:o}}function BKt(e,t,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){let h=l[f];if(t(h)){var d;if((d=h.subRows)!=null&&d.length&&u<s){const m=n_(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);m.subRows=a(h.subRows,u+1),h=m}c.push(h),i.push(h),o[h.id]=h}}return c};return{rows:a(e),flatRows:i,rowsById:o}}function zKt(){return(e,t)=>vn(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,i)=>{if(!n.rows.length||!(r!=null&&r.length)&&!i)return n;const o=[...r.map(a=>a.id).filter(a=>a!==t),i?"__global__":void 0].filter(Boolean),s=a=>{for(let l=0;l<o.length;l++)if(a.columnFilters[o[l]]===!1)return!1;return!0};return f6e(n.rows,s,e)},bn(e.options,"debugTable"))}function UKt(){return(e,t)=>vn(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let o=0;o<n.flatRows.length;o++){const s=n.flatRows[o].getUniqueValues(t);for(let a=0;a<s.length;a++){const l=s[a];if(r.has(l)){var i;r.set(l,((i=r.get(l))!=null?i:0)+1)}else r.set(l,1)}}return r},bn(e.options,"debugTable"))}function HKt(){return e=>vn(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<t.flatRows.length;f++)t.flatRows[f].columnFilters={},t.flatRows[f].columnFiltersMeta={};return t}const i=[],o=[];(n??[]).forEach(f=>{var h;const p=e.getColumn(f.id);if(!p)return;const m=p.getFilterFn();m&&i.push({id:f.id,filterFn:m,resolvedValue:(h=m.resolveFilterValue==null?void 0:m.resolveFilterValue(f.value))!=null?h:f.value})});const s=(n??[]).map(f=>f.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&a&&l.length&&(s.push("__global__"),l.forEach(f=>{var h;o.push({id:f.id,filterFn:a,resolvedValue:(h=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?h:r})}));let u,c;for(let f=0;f<t.flatRows.length;f++){const h=t.flatRows[f];if(h.columnFilters={},i.length)for(let p=0;p<i.length;p++){u=i[p];const m=u.id;h.columnFilters[m]=u.filterFn(h,m,u.resolvedValue,g=>{h.columnFiltersMeta[m]=g})}if(o.length){for(let p=0;p<o.length;p++){c=o[p];const m=c.id;if(c.filterFn(h,m,c.resolvedValue,g=>{h.columnFiltersMeta[m]=g})){h.columnFilters.__global__=!0;break}}h.columnFilters.__global__!==!0&&(h.columnFilters.__global__=!1)}}const d=f=>{for(let h=0;h<s.length;h++)if(f.columnFilters[s[h]]===!1)return!1;return!0};return f6e(t.rows,d,e)},bn(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function qKt(){return e=>vn(()=>[e.getState().grouping,e.getPreGroupedRowModel()],(t,n)=>{if(!n.rows.length||!t.length)return n.rows.forEach(l=>{l.depth=0,l.parentId=void 0}),n;const r=t.filter(l=>e.getColumn(l)),i=[],o={},s=function(l,u,c){if(u===void 0&&(u=0),u>=r.length)return l.map(p=>(p.depth=u,i.push(p),o[p.id]=p,p.subRows&&(p.subRows=s(p.subRows,u+1,p.id)),p));const d=r[u],f=VKt(l,d);return Array.from(f.entries()).map((p,m)=>{let[g,v]=p,y=`${d}:${g}`;y=c?`${c}>${y}`:y;const x=s(v,u+1,y);x.forEach(S=>{S.parentId=y});const E=u?t6e(v,S=>S.subRows):v,_=n_(e,y,E[0].original,m,u,void 0,c);return Object.assign(_,{groupingColumnId:d,groupingValue:g,subRows:x,leafRows:E,getValue:S=>{if(r.includes(S)){if(_._valuesCache.hasOwnProperty(S))return _._valuesCache[S];if(v[0]){var T;_._valuesCache[S]=(T=v[0].getValue(S))!=null?T:void 0}return _._valuesCache[S]}if(_._groupingValuesCache.hasOwnProperty(S))return _._groupingValuesCache[S];const k=e.getColumn(S),R=k?.getAggregationFn();if(R)return _._groupingValuesCache[S]=R(S,E,v),_._groupingValuesCache[S]}}),x.forEach(S=>{i.push(S),o[S.id]=S}),_})},a=s(n.rows,0);return a.forEach(l=>{i.push(l),o[l.id]=l}),{rows:a,flatRows:i,rowsById:o}},bn(e.options,"debugTable","getGroupedRowModel",()=>{e._queue(()=>{e._autoResetExpanded(),e._autoResetPageIndex()})}))}function VKt(e,t){const n=new Map;return e.reduce((r,i)=>{const o=`${i.getGroupingValue(t)}`,s=r.get(o);return s?s.push(i):r.set(o,[i]),r},n)}function WKt(e){return t=>vn(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:o}=n;let{rows:s,flatRows:a,rowsById:l}=r;const u=i*o,c=u+i;s=s.slice(u,c);let d;t.options.paginateExpandedRows?d={rows:s,flatRows:a,rowsById:l}:d=d6e({rows:s,flatRows:a,rowsById:l}),d.flatRows=[];const f=h=>{d.flatRows.push(h),h.subRows.length&&h.subRows.forEach(f)};return d.rows.forEach(f),d},bn(t.options,"debugTable"))}function GKt(){return e=>vn(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,i=[],o=r.filter(l=>{var u;return(u=e.getColumn(l.id))==null?void 0:u.getCanSort()}),s={};o.forEach(l=>{const u=e.getColumn(l.id);u&&(s[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=l=>{const u=l.map(c=>({...c}));return u.sort((c,d)=>{for(let h=0;h<o.length;h+=1){var f;const p=o[h],m=s[p.id],g=m.sortUndefined,v=(f=p?.desc)!=null?f:!1;let y=0;if(g){const x=c.getValue(p.id),E=d.getValue(p.id),_=x===void 0,S=E===void 0;if(_||S){if(g==="first")return _?-1:1;if(g==="last")return _?1:-1;y=_&&S?0:_?g:-g}}if(y===0&&(y=m.sortingFn(c,d,p.id)),y!==0)return v&&(y*=-1),m.invertSorting&&(y*=-1),y}return c.index-d.index}),u.forEach(c=>{var d;i.push(c),(d=c.subRows)!=null&&d.length&&(c.subRows=a(c.subRows))}),u};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},bn(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function YKt(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=A.useState(()=>({current:MKt(t)})),[r,i]=A.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:s=>{i(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}const h6e={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"A",:"A",:"A",:"C",:"C",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"Y",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"a",:"a",:"a",:"c",:"c",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"y",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",C:"C",c:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"G",:"g",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"K",:"k",K:"K",k:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"l",:"l",:"M",:"m",M:"M",m:"m",:"N",:"n",:"N",:"n",:"N",:"n",:"n",N:"N",n:"n",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",P:"P",p:"p",:"R",:"r",:"R",:"r",:"R",:"r",R:"R",r:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"S",:"s",:"s",:"S",:"s",:"T",:"t",:"t",:"T",:"T",:"t",:"T",:"t",T:"T",t:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",V:"V",v:"v",:"W",:"w",:"W",:"w",X:"X",x:"x",:"Y",:"y",:"Y",Y:"Y",y:"y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"s",:"f",:"O",:"o",:"U",:"u",:"A",:"a",:"I",:"i",:"O",:"o",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"A",:"a",:"AE",:"ae",:"O",:"o",:"TH",:"th",:"P",:"p",:"S",:"s",X:"X",x:"x",:"",:"",:"",:"",A:"A",a:"a",E:"E",e:"e",I:"I",i:"i",:"N",:"n",:"O",:"o",:"O",:"o",:"U",:"u",:"W",:"w",:"Y",:"y",:"A",:"a",:"E",:"e",:"I",:"i",:"O",:"o",:"R",:"r",:"U",:"u",B:"B",b:"b",:"C",:"c",:"E",:"e",F:"F",f:"f",:"G",:"g",:"H",:"h",J:"J",:"j",:"K",:"k",M:"M",m:"m",P:"P",p:"p",Q:"Q",q:"q",:"R",:"r",:"S",:"s",V:"V",v:"v",W:"W",w:"w",X:"X",x:"x",Y:"Y",y:"y",A:"A",a:"a",B:"B",b:"b",:"D",:"d",:"E",:"e",:"E",:"e",:"H",:"h",I:"I",i:"i",:"I",:"i",M:"M",m:"m",O:"O",o:"o",Q:"Q",q:"q",U:"U",u:"u",X:"X",x:"x",Z:"Z",z:"z"},KKt=Object.keys(h6e).join("|"),XKt=new RegExp(KKt,"g");function QKt(e){return e.replace(XKt,t=>h6e[t])}const il={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function JKt(e,t,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:il.MATCHES,!n.accessors){const s=f0e(e,t,n);return{rankedValue:e,rank:s,accessorIndex:-1,accessorThreshold:n.threshold,passed:s>=n.threshold}}const i=rXt(e,n.accessors),o={rankedValue:e,rank:il.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let s=0;s<i.length;s++){const a=i[s];let l=f0e(a.itemValue,t,n);const{minRanking:u,maxRanking:c,threshold:d=n.threshold}=a.attributes;l<u&&l>=il.MATCHES?l=u:l>c&&(l=c),l=Math.min(l,c),l>=d&&l>o.rank&&(o.rank=l,o.passed=!0,o.accessorIndex=s,o.accessorThreshold=d,o.rankedValue=a.itemValue)}return o}function f0e(e,t,n){return e=h0e(e,n),t=h0e(t,n),t.length>e.length?il.NO_MATCH:e===t?il.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?il.EQUAL:e.startsWith(t)?il.STARTS_WITH:e.includes(` ${t}`)?il.WORD_STARTS_WITH:e.includes(t)?il.CONTAINS:t.length===1?il.NO_MATCH:ZKt(e).includes(t)?il.ACRONYM:eXt(e,t))}function ZKt(e){let t="";return e.split(" ").forEach(r=>{r.split("-").forEach(o=>{t+=o.substr(0,1)})}),t}function eXt(e,t){let n=0,r=0;function i(l,u,c){for(let d=c,f=u.length;d<f;d++)if(u[d]===l)return n+=1,d+1;return-1}function o(l){const u=1/l,c=n/t.length;return il.MATCHES+c*u}const s=i(t[0],e,0);if(s<0)return il.NO_MATCH;r=s;for(let l=1,u=t.length;l<u;l++){const c=t[l];if(r=i(c,e,r),!(r>-1))return il.NO_MATCH}const a=r-s;return o(a)}function tXt(e,t){return e.rank===t.rank?0:e.rank>t.rank?-1:1}function h0e(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=QKt(e)),e}function nXt(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const r=n(e);return r==null?[]:Array.isArray(r)?r:[String(r)]}function rXt(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const o=t[r],s=iXt(o),a=nXt(e,o);for(let l=0,u=a.length;l<u;l++)n.push({itemValue:a[l],attributes:s})}return n}const p0e={maxRanking:1/0,minRanking:-1/0};function iXt(e){return typeof e=="function"?p0e:{...p0e,...e}}function tw(e,t,n){let r=n.initialDeps??[],i;return()=>{var o,s,a,l;let u;n.key&&((o=n.debug)!=null&&o.call(n))&&(u=Date.now());const c=e();if(!(c.length!==r.length||c.some((h,p)=>r[p]!==h)))return i;r=c;let f;if(n.key&&((s=n.debug)!=null&&s.call(n))&&(f=Date.now()),i=t(...c),n.key&&((a=n.debug)!=null&&a.call(n))){const h=Math.round((Date.now()-u)*100)/100,p=Math.round((Date.now()-f)*100)/100,m=p/16,g=(v,y)=>{for(v=String(v);v.length<y;)v=" "+v;return v};console.info(`%c ${g(p,5)} /${g(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,n?.key)}return(l=n?.onChange)==null||l.call(n,i),i}}function GB(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const oXt=(e,t)=>Math.abs(e-t)<1,sXt=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},aXt=e=>e,p6e=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},lXt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=s=>{const{width:a,height:l}=s;t({width:Math.round(a),height:Math.round(l)})};if(i(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(s=>{const a=s[0];if(a?.borderBoxSize){const l=a.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(n.getBoundingClientRect())});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},m0e={passive:!0},uXt=typeof window>"u"?!0:"onscrollend"in window,cXt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const o=e.options.useScrollendEvent&&uXt?()=>{}:sXt(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),s=u=>()=>{const{horizontal:c,isRtl:d}=e.options;i=c?n.scrollLeft*(d&&-1||1):n.scrollTop,o(),t(i,u)},a=s(!0),l=s(!1);return l(),n.addEventListener("scroll",a,m0e),n.addEventListener("scrollend",l,m0e),()=>{n.removeEventListener("scroll",a),n.removeEventListener("scrollend",l)}},dXt=(e,t,n)=>{if(t?.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},fXt=(e,{adjustments:t=0,behavior:n},r)=>{var i,o;const s=e+t;(o=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class hXt{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(o=>{this._measureElement(o.target,o)})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var o;return(o=r())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=r())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:aXt,rangeExtractor:p6e,onChange:()=>{},measureElement:dXt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=tw(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,o=new Map;for(let s=r-1;s>=0;s--){const a=n[s];if(i.has(a.lane))continue;const l=o.get(a.lane);if(l==null||a.end>l.end?o.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurementOptions=tw(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,o,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s}),{key:!1}),this.getMeasurements=tw(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s},a)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(c=>{this.itemSizeCache.set(c.key,c.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let c=l;c<n;c++){const d=o(c),f=this.options.lanes===1?u[c-1]:this.getFurthestMeasurement(u,c),h=f?f.end+this.options.gap:r+i,p=a.get(d),m=typeof p=="number"?p:this.options.estimateSize(c),g=h+m,v=f?f.lane:c%this.options.lanes;u[c]={index:c,start:h,size:m,end:g,key:d,lane:v}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=tw(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,i)=>this.range=n.length>0&&r>0?pXt({measurements:n,outerSize:r,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=tw(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,i,o)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:i,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),o=this.measurementsCache[i];if(!o)return;const s=o.key,a=this.elementsCache.get(s);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const o=this.itemSizeCache.get(i.key)??i.size,s=r-o;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=tw(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let o=0,s=n.length;o<s;o++){const a=n[o],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return GB(r[m6e(0,r.length-1,i=>GB(r[i]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const i=this.getSize(),o=this.getScrollOffset();r==="auto"&&n>=o+i&&(r="end"),r==="end"&&(n-=i);const s=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[s]:this.scrollElement[s]:0)-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const o=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+o-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const a=i.start-this.options.scrollPaddingStart+(i.size-o)/2;switch(r){case"center":return[this.getOffsetForAlignment(a,r),r];case"end":return[this.getOffsetForAlignment(i.end+this.options.scrollPaddingEnd,r),r];default:return[this.getOffsetForAlignment(i.start-this.options.scrollPaddingStart,r),r]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=this.getOffsetForIndex(n,r);if(!o)return;const[s,a]=o;this._scrollToOffset(s,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[u]=GB(this.getOffsetForIndex(n,a));oXt(u,this.getScrollOffset())||this.scrollToIndex(n,{align:a,behavior:i})}else this.scrollToIndex(n,{align:a,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;return r.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(o=>o.end)),Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const m6e=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else if(o>r)t=i-1;else return i}return e>0?e-1:0};function pXt({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,o=m6e(0,r,a=>e[a].start,n);let s=o;for(;s<r&&e[s].end<n+t;)s++;return{startIndex:o,endIndex:s}}const g0e=typeof document<"u"?A.useLayoutEffect:A.useEffect;function mXt(e){const t=A.useReducer(()=>({}),{})[1],n={...e,onChange:(i,o)=>{var s;o?Rd.flushSync(t):t(),(s=e.onChange)==null||s.call(e,i,o)}},[r]=A.useState(()=>new hXt(n));return r.setOptions(n),g0e(()=>r._didMount(),[]),g0e(()=>r._willUpdate()),r}function g6e(e){return mXt({observeElementRect:lXt,observeElementOffset:cXt,scrollToFn:fXt,...e})}var f3={exports:{}},gXt=f3.exports,y0e;function yXt(){return y0e||(y0e=1,(function(e,t){(function(n,r){e.exports=r()})(gXt,(function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",u="day",c="week",d="month",f="quarter",h="year",p="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var j=["th","st","nd","rd"],U=O%100;return"["+O+(j[(U-20)%10]||j[U]||j[0])+"]"}},x=function(O,j,U){var q=String(O);return!q||q.length>=j?O:""+Array(j+1-q.length).join(U)+O},E={s:x,z:function(O){var j=-O.utcOffset(),U=Math.abs(j),q=Math.floor(U/60),W=U%60;return(j<=0?"+":"-")+x(q,2,"0")+":"+x(W,2,"0")},m:function O(j,U){if(j.date()<U.date())return-O(U,j);var q=12*(U.year()-j.year())+(U.month()-j.month()),W=j.clone().add(q,d),V=U-W<0,z=j.clone().add(q+(V?-1:1),d);return+(-(q+(U-W)/(V?W-z:z-W))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:d,y:h,w:c,d:u,D:p,h:l,m:a,s,ms:o,Q:f}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},_="en",S={};S[_]=y;var T="$isDayjsObject",k=function(O){return O instanceof N||!(!O||!O[T])},R=function O(j,U,q){var W;if(!j)return _;if(typeof j=="string"){var V=j.toLowerCase();S[V]&&(W=V),U&&(S[V]=U,W=V);var z=j.split("-");if(!W&&z.length>1)return O(z[0])}else{var L=j.name;S[L]=j,W=L}return!q&&W&&(_=W),W||!q&&_},I=function(O,j){if(k(O))return O.clone();var U=typeof j=="object"?j:{};return U.date=O,U.args=arguments,new N(U)},P=E;P.l=R,P.i=k,P.w=function(O,j){return I(O,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var N=(function(){function O(U){this.$L=R(U.locale,null,!0),this.parse(U),this.$x=this.$x||U.x||{},this[T]=!0}var j=O.prototype;return j.parse=function(U){this.$d=(function(q){var W=q.date,V=q.utc;if(W===null)return new Date(NaN);if(P.u(W))return new Date;if(W instanceof Date)return new Date(W);if(typeof W=="string"&&!/Z$/i.test(W)){var z=W.match(g);if(z){var L=z[2]-1||0,H=(z[7]||"0").substring(0,3);return V?new Date(Date.UTC(z[1],L,z[3]||1,z[4]||0,z[5]||0,z[6]||0,H)):new Date(z[1],L,z[3]||1,z[4]||0,z[5]||0,z[6]||0,H)}}return new Date(W)})(U),this.init()},j.init=function(){var U=this.$d;this.$y=U.getFullYear(),this.$M=U.getMonth(),this.$D=U.getDate(),this.$W=U.getDay(),this.$H=U.getHours(),this.$m=U.getMinutes(),this.$s=U.getSeconds(),this.$ms=U.getMilliseconds()},j.$utils=function(){return P},j.isValid=function(){return this.$d.toString()!==m},j.isSame=function(U,q){var W=I(U);return this.startOf(q)<=W&&W<=this.endOf(q)},j.isAfter=function(U,q){return I(U)<this.startOf(q)},j.isBefore=function(U,q){return this.endOf(q)<I(U)},j.$g=function(U,q,W){return P.u(U)?this[q]:this.set(W,U)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(U,q){var W=this,V=!!P.u(q)||q,z=P.p(U),L=function(ue,ae){var te=P.w(W.$u?Date.UTC(W.$y,ae,ue):new Date(W.$y,ae,ue),W);return V?te:te.endOf(u)},H=function(ue,ae){return P.w(W.toDate()[ue].apply(W.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(ae)),W)},B=this.$W,Y=this.$M,Q=this.$D,ne="set"+(this.$u?"UTC":"");switch(z){case h:return V?L(1,0):L(31,11);case d:return V?L(1,Y):L(0,Y+1);case c:var ce=this.$locale().weekStart||0,le=(B<ce?B+7:B)-ce;return L(V?Q-le:Q+(6-le),Y);case u:case p:return H(ne+"Hours",0);case l:return H(ne+"Minutes",1);case a:return H(ne+"Seconds",2);case s:return H(ne+"Milliseconds",3);default:return this.clone()}},j.endOf=function(U){return this.startOf(U,!1)},j.$set=function(U,q){var W,V=P.p(U),z="set"+(this.$u?"UTC":""),L=(W={},W[u]=z+"Date",W[p]=z+"Date",W[d]=z+"Month",W[h]=z+"FullYear",W[l]=z+"Hours",W[a]=z+"Minutes",W[s]=z+"Seconds",W[o]=z+"Milliseconds",W)[V],H=V===u?this.$D+(q-this.$W):q;if(V===d||V===h){var B=this.clone().set(p,1);B.$d[L](H),B.init(),this.$d=B.set(p,Math.min(this.$D,B.daysInMonth())).$d}else L&&this.$d[L](H);return this.init(),this},j.set=function(U,q){return this.clone().$set(U,q)},j.get=function(U){return this[P.p(U)]()},j.add=function(U,q){var W,V=this;U=Number(U);var z=P.p(q),L=function(Y){var Q=I(V);return P.w(Q.date(Q.date()+Math.round(Y*U)),V)};if(z===d)return this.set(d,this.$M+U);if(z===h)return this.set(h,this.$y+U);if(z===u)return L(1);if(z===c)return L(7);var H=(W={},W[a]=r,W[l]=i,W[s]=n,W)[z]||1,B=this.$d.getTime()+U*H;return P.w(B,this)},j.subtract=function(U,q){return this.add(-1*U,q)},j.format=function(U){var q=this,W=this.$locale();if(!this.isValid())return W.invalidDate||m;var V=U||"YYYY-MM-DDTHH:mm:ssZ",z=P.z(this),L=this.$H,H=this.$m,B=this.$M,Y=W.weekdays,Q=W.months,ne=W.meridiem,ce=function(ae,te,se,we){return ae&&(ae[te]||ae(q,V))||se[te].slice(0,we)},le=function(ae){return P.s(L%12||12,ae,"0")},ue=ne||function(ae,te,se){var we=ae<12?"AM":"PM";return se?we.toLowerCase():we};return V.replace(v,(function(ae,te){return te||(function(se){switch(se){case"YY":return String(q.$y).slice(-2);case"YYYY":return P.s(q.$y,4,"0");case"M":return B+1;case"MM":return P.s(B+1,2,"0");case"MMM":return ce(W.monthsShort,B,Q,3);case"MMMM":return ce(Q,B);case"D":return q.$D;case"DD":return P.s(q.$D,2,"0");case"d":return String(q.$W);case"dd":return ce(W.weekdaysMin,q.$W,Y,2);case"ddd":return ce(W.weekdaysShort,q.$W,Y,3);case"dddd":return Y[q.$W];case"H":return String(L);case"HH":return P.s(L,2,"0");case"h":return le(1);case"hh":return le(2);case"a":return ue(L,H,!0);case"A":return ue(L,H,!1);case"m":return String(H);case"mm":return P.s(H,2,"0");case"s":return String(q.$s);case"ss":return P.s(q.$s,2,"0");case"SSS":return P.s(q.$ms,3,"0");case"Z":return z}return null})(ae)||z.replace(":","")}))},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(U,q,W){var V,z=this,L=P.p(q),H=I(U),B=(H.utcOffset()-this.utcOffset())*r,Y=this-H,Q=function(){return P.m(z,H)};switch(L){case h:V=Q()/12;break;case d:V=Q();break;case f:V=Q()/3;break;case c:V=(Y-B)/6048e5;break;case u:V=(Y-B)/864e5;break;case l:V=Y/i;break;case a:V=Y/r;break;case s:V=Y/n;break;default:V=Y}return W?V:P.a(V)},j.daysInMonth=function(){return this.endOf(d).$D},j.$locale=function(){return S[this.$L]},j.locale=function(U,q){if(!U)return this.$L;var W=this.clone(),V=R(U,q,!0);return V&&(W.$L=V),W},j.clone=function(){return P.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},O})(),M=N.prototype;return I.prototype=M,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",u],["$M",d],["$y",h],["$D",p]].forEach((function(O){M[O[1]]=function(j){return this.$g(j,O[0],O[1])}})),I.extend=function(O,j){return O.$i||(O(j,N,I),O.$i=!0),I},I.locale=R,I.isDayjs=k,I.unix=function(O){return I(1e3*O)},I.en=S[_],I.Ls=S,I.p={},I}))})(f3)),f3.exports}var vXt=yXt();const en=Qo(vXt);function bXt({direction:e,levelIndex:t,rowIndex:n,cellIndex:r,size:i}){switch(e){case"up":return t===0&&n===0?null:n===0?{levelIndex:t-1,rowIndex:r<=i[t-1][i[t-1].length-1]-1?i[t-1].length-1:i[t-1].length-2,cellIndex:r}:{levelIndex:t,rowIndex:n-1,cellIndex:r};case"down":return n===i[t].length-1?{levelIndex:t+1,rowIndex:0,cellIndex:r}:n===i[t].length-2&&r>=i[t][i[t].length-1]?{levelIndex:t+1,rowIndex:0,cellIndex:r}:{levelIndex:t,rowIndex:n+1,cellIndex:r};case"left":return t===0&&n===0&&r===0?null:n===0&&r===0?{levelIndex:t-1,rowIndex:i[t-1].length-1,cellIndex:i[t-1][i[t-1].length-1]-1}:r===0?{levelIndex:t,rowIndex:n-1,cellIndex:i[t][n-1]-1}:{levelIndex:t,rowIndex:n,cellIndex:r-1};case"right":return n===i[t].length-1&&r===i[t][n]-1?{levelIndex:t+1,rowIndex:0,cellIndex:0}:r===i[t][n]-1?{levelIndex:t,rowIndex:n+1,cellIndex:0}:{levelIndex:t,rowIndex:n,cellIndex:r+1};default:return{levelIndex:t,rowIndex:n,cellIndex:r}}}function y6e({controlsRef:e,direction:t,levelIndex:n,rowIndex:r,cellIndex:i,size:o}){const s=bXt({direction:t,size:o,rowIndex:r,cellIndex:i,levelIndex:n});if(!s)return;const a=e.current?.[s.levelIndex]?.[s.rowIndex]?.[s.cellIndex];a&&(a.disabled||a.getAttribute("data-hidden")||a.getAttribute("data-outside")?y6e({controlsRef:e,direction:t,levelIndex:s.levelIndex,cellIndex:s.cellIndex,rowIndex:s.rowIndex,size:o}):a.focus())}function wXt(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function xXt(e){return e.current?.map(t=>t.map(n=>n.length))}function tte({controlsRef:e,levelIndex:t,rowIndex:n,cellIndex:r,event:i}){const o=wXt(i.key);if(o){i.preventDefault();const s=xXt(e);y6e({controlsRef:e,direction:o,levelIndex:t,rowIndex:n,cellIndex:r,size:s})}}function CXt(e,t){if(!e||!t)return t;const n=e.getHours(),r=e.getMinutes(),i=e.getSeconds(),o=e.getMilliseconds(),s=new Date(t);return s.setHours(n),s.setMinutes(r),s.setSeconds(i),s.setMilliseconds(o),s}var h3={exports:{}},_Xt=h3.exports,v0e;function EXt(){return v0e||(v0e=1,(function(e,t){(function(n,r){e.exports=r()})(_Xt,(function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,o,s){var a,l=function(f,h,p){p===void 0&&(p={});var m=new Date(f),g=(function(v,y){y===void 0&&(y={});var x=y.timeZoneName||"short",E=v+"|"+x,_=r[E];return _||(_=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:v,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:x}),r[E]=_),_})(h,p);return g.formatToParts(m)},u=function(f,h){for(var p=l(f,h),m=[],g=0;g<p.length;g+=1){var v=p[g],y=v.type,x=v.value,E=n[y];E>=0&&(m[E]=parseInt(x,10))}var _=m[3],S=_===24?0:_,T=m[0]+"-"+m[1]+"-"+m[2]+" "+S+":"+m[4]+":"+m[5]+":000",k=+f;return(s.utc(T).valueOf()-(k-=k%1e3))/6e4},c=o.prototype;c.tz=function(f,h){f===void 0&&(f=a);var p,m=this.utcOffset(),g=this.toDate(),v=g.toLocaleString("en-US",{timeZone:f}),y=Math.round((g-new Date(v))/1e3/60),x=15*-Math.round(g.getTimezoneOffset()/15)-y;if(!Number(x))p=this.utcOffset(0,h);else if(p=s(v,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(x,!0),h){var E=p.utcOffset();p=p.add(m-E,"minute")}return p.$x.$timezone=f,p},c.offsetName=function(f){var h=this.$x.$timezone||s.tz.guess(),p=l(this.valueOf(),h,{timeZoneName:f}).find((function(m){return m.type.toLowerCase()==="timezonename"}));return p&&p.value};var d=c.startOf;c.startOf=function(f,h){if(!this.$x||!this.$x.$timezone)return d.call(this,f,h);var p=s(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return d.call(p,f,h).tz(this.$x.$timezone,!0)},s.tz=function(f,h,p){var m=p&&h,g=p||h||a,v=u(+s(),g);if(typeof f!="string")return s(f).tz(g);var y=(function(S,T,k){var R=S-60*T*1e3,I=u(R,k);if(T===I)return[R,T];var P=u(R-=60*(I-T)*1e3,k);return I===P?[R,I]:[S-60*Math.min(I,P)*1e3,Math.max(I,P)]})(s.utc(f,m).valueOf(),v,g),x=y[0],E=y[1],_=s(x).utcOffset(E);return _.$x.$timezone=g,_},s.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},s.tz.setDefault=function(f){a=f}}}))})(h3)),h3.exports}var SXt=EXt();const TXt=Qo(SXt);var p3={exports:{}},kXt=p3.exports,b0e;function AXt(){return b0e||(b0e=1,(function(e,t){(function(n,r){e.exports=r()})(kXt,(function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,s,a){var l=s.prototype;a.utc=function(m){var g={date:m,utc:!0,args:arguments};return new s(g)},l.utc=function(m){var g=a(this.toDate(),{locale:this.$L,utc:!0});return m?g.add(this.utcOffset(),n):g},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),u.call(this,m)};var c=l.init;l.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else c.call(this)};var d=l.utcOffset;l.utcOffset=function(m,g){var v=this.$utils().u;if(v(m))return this.$u?0:v(this.$offset)?d.call(this):this.$offset;if(typeof m=="string"&&(m=(function(_){_===void 0&&(_="");var S=_.match(r);if(!S)return null;var T=(""+S[0]).match(i)||["-",0,0],k=T[0],R=60*+T[1]+ +T[2];return R===0?0:k==="+"?R:-R})(m),m===null))return this;var y=Math.abs(m)<=16?60*m:m;if(y===0)return this.utc(g);var x=this.clone();if(g)return x.$offset=y,x.$u=!1,x;var E=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(x=this.local().add(y+E,n)).$offset=y,x.$x.$localOffset=E,x};var f=l.format;l.format=function(m){var g=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,g)},l.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(m){return m==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var p=l.diff;l.diff=function(m,g,v){if(m&&this.$u===m.$u)return p.call(this,m,g,v);var y=this.local(),x=a(m).local();return p.call(y,x,g,v)}}}))})(p3)),p3.exports}var RXt=AXt();const IXt=Qo(RXt);en.extend(IXt);en.extend(TXt);function DXt(e,t){return t?en(e).tz(t).utcOffset()+e.getTimezoneOffset():0}const w0e=(e,t,n)=>{if(!e)return null;if(!t)return e;let r=DXt(e,t);return n==="remove"&&(r*=-1),en(e).add(r,"minutes").toDate()};function jv(e,t,n,r){return r||!t?t:Array.isArray(t)?t.map(i=>w0e(i,n,e)):w0e(t,n,e)}const PXt={locale:"en",timezone:null,firstDayOfWeek:1,weekendDays:[0,6],labelSeparator:"",consistentWeeks:!1},OXt=A.createContext(PXt);function ed(){const e=A.useContext(OXt),t=A.useCallback(s=>s||e.locale,[e.locale]),n=A.useCallback(s=>s||e.timezone||void 0,[e.timezone]),r=A.useCallback(s=>typeof s=="number"?s:e.firstDayOfWeek,[e.firstDayOfWeek]),i=A.useCallback(s=>Array.isArray(s)?s:e.weekendDays,[e.weekendDays]),o=A.useCallback(s=>typeof s=="string"?s:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:t,getTimezone:n,getFirstDayOfWeek:r,getWeekendDays:i,getLabelSeparator:o}}function NXt(e,t){const n=ed(),r=i=>jv("remove",i,n.getTimezone()).toISOString();if(t==="range"&&Array.isArray(e)){const[i,o]=e;return i?o?`${r(i)}  ${r(o)}`:`${r(i)} `:""}return t==="multiple"&&Array.isArray(e)?e.map(i=>i&&r(i)).filter(Boolean).join(", "):!Array.isArray(e)&&e?r(e):""}function v6e({value:e,type:t,name:n,form:r}){return b.jsx("input",{type:"hidden",value:NXt(e,t),name:n,form:r})}v6e.displayName="@mantine/dates/HiddenDatesInput";var b6e={day:"m_396ce5cb"};const MXt={},$Xt=(e,{size:t})=>({day:{"--day-size":hn(t,"day-size")}}),nte=nt((e,t)=>{const n=qe("Day",MXt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,date:u,disabled:c,__staticSelector:d,weekend:f,outside:h,selected:p,renderDay:m,inRange:g,firstInRange:v,lastInRange:y,hidden:x,static:E,highlightToday:_,...S}=n,T=Rt({name:d||"Day",classes:b6e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:$Xt,rootSelector:"day"}),k=ed();return b.jsx(Ko,{...T("day",{style:x?{display:"none"}:void 0}),component:E?"div":"button",ref:t,disabled:c,"data-today":en(u).isSame(jv("add",new Date,k.getTimezone()),"day")||void 0,"data-hidden":x||void 0,"data-highlight-today":_||void 0,"data-disabled":c||void 0,"data-weekend":!c&&!h&&f||void 0,"data-outside":!c&&h||void 0,"data-selected":!c&&p||void 0,"data-in-range":g&&!c||void 0,"data-first-in-range":v&&!c||void 0,"data-last-in-range":y&&!c||void 0,"data-static":E||void 0,unstyled:a,...S,children:m?.(u)||en(u).date()})});nte.classes=b6e;nte.displayName="@mantine/dates/Day";function LXt({locale:e,format:t="dd",firstDayOfWeek:n=1}){const r=en().day(n),i=[];for(let o=0;o<7;o+=1)typeof t=="string"?i.push(en(r).add(o,"days").locale(e).format(t)):i.push(t(en(r).add(o,"days").toDate()));return i}var w6e={weekday:"m_18a3eca"};const FXt={},jXt=(e,{size:t})=>({weekdaysRow:{"--wr-fz":lo(t),"--wr-spacing":Di(t)}}),rte=nt((e,t)=>{const n=qe("WeekdaysRow",FXt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,locale:u,firstDayOfWeek:c,weekdayFormat:d,cellComponent:f="th",__staticSelector:h,withWeekNumbers:p,...m}=n,g=Rt({name:h||"WeekdaysRow",classes:w6e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:jXt,rootSelector:"weekdaysRow"}),v=ed(),y=LXt({locale:v.getLocale(u),format:d,firstDayOfWeek:v.getFirstDayOfWeek(c)}).map((x,E)=>b.jsx(f,{...g("weekday"),children:x},E));return b.jsxs(De,{component:"tr",ref:t,...g("weekdaysRow"),...m,children:[p&&b.jsx(f,{...g("weekday"),children:"#"}),y]})});rte.classes=w6e;rte.displayName="@mantine/dates/WeekdaysRow";function BXt(e,t=1){let n=en(e);const r=t===0?6:t-1;for(;n.day()!==r;)n=n.add(1,"day");return n.toDate()}function zXt(e,t=1){let n=en(e);for(;n.day()!==t;)n=n.subtract(1,"day");return n.toDate()}function UXt({month:e,firstDayOfWeek:t=1,consistentWeeks:n}){const r=en(e).subtract(en(e).date()-1,"day"),i=en(r).startOf("day"),o=i.toDate(),s=i.add(+i.daysInMonth()-1,"day").toDate(),a=BXt(s,t),l=zXt(o,t),u=[];for(;l<=a;){const c=[];for(let d=0;d<7;d+=1)c.push(new Date(l)),l.setDate(l.getDate()+1);u.push(c)}if(n&&u.length<6){const c=u[u.length-1],d=c[c.length-1],f=new Date(d);for(f.setDate(f.getDate()+1);u.length<6;){const h=[];for(let p=0;p<7;p+=1)h.push(new Date(f)),f.setDate(f.getDate()+1);u.push(h)}}return u}function x6e(e,t){return en(e).format("YYYY-MM")===en(t).format("YYYY-MM")}function C6e(e,t){return t instanceof Date?en(e).isAfter(en(t).subtract(1,"day"),"day"):!0}function _6e(e,t){return t instanceof Date?en(e).isBefore(en(t).add(1,"day"),"day"):!0}function HXt(e,t,n,r,i,o,s){const a=e.flat().filter(c=>_6e(c,n)&&C6e(c,t)&&!i?.(c)&&!r?.(c)?.disabled&&(!o||x6e(c,s))),l=a.find(c=>r?.(c)?.selected);if(l)return l;const u=a.find(c=>en().isSame(c,"date"));return u||a[0]}var m3={exports:{}},qXt=m3.exports,x0e;function VXt(){return x0e||(x0e=1,(function(e,t){(function(n,r){e.exports=r()})(qXt,(function(){var n="day";return function(r,i,o){var s=function(u){return u.add(4-u.isoWeekday(),n)},a=i.prototype;a.isoWeekYear=function(){return s(this).year()},a.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),n);var c,d,f,h,p=s(this),m=(c=this.isoWeekYear(),d=this.$u,f=(d?o.utc:o)().year(c).startOf("year"),h=4-f.isoWeekday(),f.isoWeekday()>4&&(h+=7),f.add(h,n));return p.diff(m,"week")+1},a.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var l=a.startOf;a.startOf=function(u,c){var d=this.$utils(),f=!!d.u(c)||c;return d.p(u)==="isoweek"?f?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(u,c)}}}))})(m3)),m3.exports}var WXt=VXt();const GXt=Qo(WXt);en.extend(GXt);function YXt(e){const t=e.find(n=>en(n).day()===1);return en(t).isoWeek()}var E6e={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const KXt={withCellSpacing:!0},XXt=(e,{size:t})=>({weekNumber:{"--wn-fz":lo(t),"--wn-size":hn(t,"wn-size")}}),I$=nt((e,t)=>{const n=qe("Month",KXt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,__staticSelector:u,locale:c,firstDayOfWeek:d,weekdayFormat:f,month:h,weekendDays:p,getDayProps:m,excludeDate:g,minDate:v,maxDate:y,renderDay:x,hideOutsideDates:E,hideWeekdays:_,getDayAriaLabel:S,static:T,__getDayRef:k,__onDayKeyDown:R,__onDayClick:I,__onDayMouseEnter:P,__preventFocus:N,__stopPropagation:M,withCellSpacing:O,size:j,highlightToday:U,withWeekNumbers:q,...W}=n,V=Rt({name:u||"Month",classes:E6e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:XXt,rootSelector:"month"}),z=ed(),L=UXt({month:h,firstDayOfWeek:z.getFirstDayOfWeek(d),consistentWeeks:z.consistentWeeks}),H=HXt(L,v,y,m,g,E,h),{resolvedClassNames:B,resolvedStyles:Y}=lf({classNames:r,styles:s,props:n}),Q=L.map((ne,ce)=>{const le=ne.map((ue,ae)=>{const te=!x6e(ue,h),se=S?.(ue)||en(ue).locale(c||z.locale).format("D MMMM YYYY"),we=m?.(ue),X=en(ue).isSame(H,"date");return b.jsx("td",{...V("monthCell"),"data-with-spacing":O||void 0,children:b.jsx(nte,{__staticSelector:u||"Month",classNames:B,styles:Y,unstyled:a,"data-mantine-stop-propagation":M||void 0,highlightToday:U,renderDay:x,date:ue,size:j,weekend:z.getWeekendDays(p).includes(ue.getDay()),outside:te,hidden:E?te:!1,"aria-label":se,static:T,disabled:g?.(ue)||!_6e(ue,y)||!C6e(ue,v),ref:he=>k?.(ce,ae,he),...we,onKeyDown:he=>{we?.onKeyDown?.(he),R?.(he,{rowIndex:ce,cellIndex:ae,date:ue})},onMouseEnter:he=>{we?.onMouseEnter?.(he),P?.(he,ue)},onClick:he=>{we?.onClick?.(he),I?.(he,ue)},onMouseDown:he=>{we?.onMouseDown?.(he),N&&he.preventDefault()},tabIndex:N||!X?-1:0})},ue.toString())});return b.jsxs("tr",{...V("monthRow"),children:[q&&b.jsx("td",{...V("weekNumber"),children:YXt(ne)}),le]},ce)});return b.jsxs(De,{component:"table",...V("month"),size:j,ref:t,...W,children:[!_&&b.jsx("thead",{...V("monthThead"),children:b.jsx(rte,{__staticSelector:u||"Month",locale:c,firstDayOfWeek:d,weekdayFormat:f,size:j,classNames:B,styles:Y,unstyled:a,withWeekNumbers:q})}),b.jsx("tbody",{...V("monthTbody"),children:Q})]})});I$.classes=E6e;I$.displayName="@mantine/dates/Month";var S6e={pickerControl:"m_dc6a3c71"};const QXt={},JXt=(e,{size:t})=>({pickerControl:{"--dpc-fz":lo(t),"--dpc-size":hn(t,"dpc-size")}}),D$=nt((e,t)=>{const n=qe("PickerControl",QXt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,firstInRange:u,lastInRange:c,inRange:d,__staticSelector:f,selected:h,disabled:p,...m}=n,g=Rt({name:f||"PickerControl",classes:S6e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:JXt,rootSelector:"pickerControl"});return b.jsx(Ko,{...g("pickerControl"),ref:t,unstyled:a,"data-picker-control":!0,"data-selected":h&&!p||void 0,"data-disabled":p||void 0,"data-in-range":d&&!p&&!h||void 0,"data-first-in-range":u&&!p||void 0,"data-last-in-range":c&&!p||void 0,disabled:p,...m})});D$.classes=S6e;D$.displayName="@mantine/dates/PickerControl";function T6e(e,t,n){return!t&&!n?!1:!!(t&&en(e).isBefore(t,"year")||n&&en(e).isAfter(n,"year"))}function ZXt(e,t,n,r){const i=e.flat().filter(a=>!T6e(a,t,n)&&!r?.(a)?.disabled),o=i.find(a=>r?.(a)?.selected);if(o)return o;const s=i.find(a=>en().isSame(a,"year"));return s||i[0]}function k6e(e){const t=e.getFullYear(),n=t-t%10;let r=0;const i=[[],[],[],[]];for(let o=0;o<4;o+=1){const s=o===3?1:3;for(let a=0;a<s;a+=1)i[o].push(new Date(n+r,0)),r+=1}return i}var A6e={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const eQt={yearsListFormat:"YYYY",withCellSpacing:!0},P$=nt((e,t)=>{const n=qe("YearsList",eQt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,decade:u,yearsListFormat:c,locale:d,minDate:f,maxDate:h,getYearControlProps:p,__staticSelector:m,__getControlRef:g,__onControlKeyDown:v,__onControlClick:y,__onControlMouseEnter:x,__preventFocus:E,__stopPropagation:_,withCellSpacing:S,size:T,...k}=n,R=Rt({name:m||"YearsList",classes:A6e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,rootSelector:"yearsList"}),I=ed(),P=k6e(u),N=ZXt(P,f,h,p),M=P.map((O,j)=>{const U=O.map((q,W)=>{const V=p?.(q),z=en(q).isSame(N,"year");return b.jsx("td",{...R("yearsListCell"),"data-with-spacing":S||void 0,children:b.jsx(D$,{...R("yearsListControl"),size:T,unstyled:a,"data-mantine-stop-propagation":_||void 0,disabled:T6e(q,f,h),ref:L=>g?.(j,W,L),...V,onKeyDown:L=>{V?.onKeyDown?.(L),v?.(L,{rowIndex:j,cellIndex:W,date:q})},onClick:L=>{V?.onClick?.(L),y?.(L,q)},onMouseEnter:L=>{V?.onMouseEnter?.(L),x?.(L,q)},onMouseDown:L=>{V?.onMouseDown?.(L),E&&L.preventDefault()},tabIndex:E||!z?-1:0,children:en(q).locale(I.getLocale(d)).format(c)})},W)});return b.jsx("tr",{...R("yearsListRow"),children:U},j)});return b.jsx(De,{component:"table",ref:t,size:T,...R("yearsList"),...k,children:b.jsx("tbody",{children:M})})});P$.classes=A6e;P$.displayName="@mantine/dates/YearsList";function R6e(e,t,n){return!t&&!n?!1:!!(t&&en(e).isBefore(t,"month")||n&&en(e).isAfter(n,"month"))}function tQt(e,t,n,r){const i=e.flat().filter(a=>!R6e(a,t,n)&&!r?.(a)?.disabled),o=i.find(a=>r?.(a)?.selected);if(o)return o;const s=i.find(a=>en().isSame(a,"month"));return s||i[0]}function nQt(e){const t=en(e).startOf("year").toDate(),n=[[],[],[],[]];let r=0;for(let i=0;i<4;i+=1)for(let o=0;o<3;o+=1)n[i].push(en(t).add(r,"months").toDate()),r+=1;return n}var I6e={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const rQt={monthsListFormat:"MMM",withCellSpacing:!0},O$=nt((e,t)=>{const n=qe("MonthsList",rQt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,__staticSelector:u,year:c,monthsListFormat:d,locale:f,minDate:h,maxDate:p,getMonthControlProps:m,__getControlRef:g,__onControlKeyDown:v,__onControlClick:y,__onControlMouseEnter:x,__preventFocus:E,__stopPropagation:_,withCellSpacing:S,size:T,...k}=n,R=Rt({name:u||"MonthsList",classes:I6e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,rootSelector:"monthsList"}),I=ed(),P=nQt(c),N=tQt(P,h,p,m),M=P.map((O,j)=>{const U=O.map((q,W)=>{const V=m?.(q),z=en(q).isSame(N,"month");return b.jsx("td",{...R("monthsListCell"),"data-with-spacing":S||void 0,children:b.jsx(D$,{...R("monthsListControl"),size:T,unstyled:a,__staticSelector:u||"MonthsList","data-mantine-stop-propagation":_||void 0,disabled:R6e(q,h,p),ref:L=>g?.(j,W,L),...V,onKeyDown:L=>{V?.onKeyDown?.(L),v?.(L,{rowIndex:j,cellIndex:W,date:q})},onClick:L=>{V?.onClick?.(L),y?.(L,q)},onMouseEnter:L=>{V?.onMouseEnter?.(L),x?.(L,q)},onMouseDown:L=>{V?.onMouseDown?.(L),E&&L.preventDefault()},tabIndex:E||!z?-1:0,children:en(q).locale(I.getLocale(f)).format(d)})},W)});return b.jsx("tr",{...R("monthsListRow"),children:U},j)});return b.jsx(De,{component:"table",ref:t,size:T,...R("monthsList"),...k,children:b.jsx("tbody",{children:M})})});O$.classes=I6e;O$.displayName="@mantine/dates/MonthsList";var D6e={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const iQt={nextDisabled:!1,previousDisabled:!1,hasNextLevel:!0,withNext:!0,withPrevious:!0},oQt=(e,{size:t})=>({calendarHeader:{"--dch-control-size":hn(t,"dch-control-size"),"--dch-fz":lo(t)}}),hy=nt((e,t)=>{const n=qe("CalendarHeader",iQt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,nextIcon:u,previousIcon:c,nextLabel:d,previousLabel:f,onNext:h,onPrevious:p,onLevelClick:m,label:g,nextDisabled:v,previousDisabled:y,hasNextLevel:x,levelControlAriaLabel:E,withNext:_,withPrevious:S,__staticSelector:T,__preventFocus:k,__stopPropagation:R,...I}=n,P=Rt({name:T||"CalendarHeader",classes:D6e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:oQt,rootSelector:"calendarHeader"}),N=k?M=>M.preventDefault():void 0;return b.jsxs(De,{...P("calendarHeader"),ref:t,...I,children:[S&&b.jsx(Ko,{...P("calendarHeaderControl"),"data-direction":"previous","aria-label":f,onClick:p,unstyled:a,onMouseDown:N,disabled:y,"data-disabled":y||void 0,tabIndex:k||y?-1:0,"data-mantine-stop-propagation":R||void 0,children:c||b.jsx(R3,{...P("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})}),b.jsx(Ko,{component:x?"button":"div",...P("calendarHeaderLevel"),onClick:x?m:void 0,unstyled:a,onMouseDown:x?N:void 0,disabled:!x,"data-static":!x||void 0,"aria-label":E,tabIndex:k||!x?-1:0,"data-mantine-stop-propagation":R||void 0,children:g}),_&&b.jsx(Ko,{...P("calendarHeaderControl"),"data-direction":"next","aria-label":d,onClick:h,unstyled:a,onMouseDown:N,disabled:v,"data-disabled":v||void 0,tabIndex:k||v?-1:0,"data-mantine-stop-propagation":R||void 0,children:u||b.jsx(R3,{...P("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})})]})});hy.classes=D6e;hy.displayName="@mantine/dates/CalendarHeader";function sQt(e){const t=k6e(e);return[t[0][0],t[3][0]]}const aQt={decadeLabelFormat:"YYYY"},N$=nt((e,t)=>{const n=qe("DecadeLevel",aQt,e),{decade:r,locale:i,minDate:o,maxDate:s,yearsListFormat:a,getYearControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:p,nextIcon:m,previousIcon:g,nextLabel:v,previousLabel:y,onNext:x,onPrevious:E,nextDisabled:_,previousDisabled:S,levelControlAriaLabel:T,withNext:k,withPrevious:R,decadeLabelFormat:I,classNames:P,styles:N,unstyled:M,__staticSelector:O,__stopPropagation:j,size:U,...q}=n,W=ed(),[V,z]=sQt(r),L={__staticSelector:O||"DecadeLevel",classNames:P,styles:N,unstyled:M,size:U},H=typeof _=="boolean"?_:s?!en(z).endOf("year").isBefore(s):!1,B=typeof S=="boolean"?S:o?!en(V).startOf("year").isAfter(o):!1,Y=(Q,ne)=>en(Q).locale(i||W.locale).format(ne);return b.jsxs(De,{"data-decade-level":!0,size:U,ref:t,...q,children:[b.jsx(hy,{label:typeof I=="function"?I(V,z):`${Y(V,I)}  ${Y(z,I)}`,__preventFocus:p,__stopPropagation:j,nextIcon:m,previousIcon:g,nextLabel:v,previousLabel:y,onNext:x,onPrevious:E,nextDisabled:H,previousDisabled:B,hasNextLevel:!1,levelControlAriaLabel:T,withNext:k,withPrevious:R,...L}),b.jsx(P$,{decade:r,locale:i,minDate:o,maxDate:s,yearsListFormat:a,getYearControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,__preventFocus:p,__stopPropagation:j,withCellSpacing:h,...L})]})});N$.classes={...P$.classes,...hy.classes};N$.displayName="@mantine/dates/DecadeLevel";const lQt={yearLabelFormat:"YYYY"},M$=nt((e,t)=>{const n=qe("YearLevel",lQt,e),{year:r,locale:i,minDate:o,maxDate:s,monthsListFormat:a,getMonthControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:p,nextIcon:m,previousIcon:g,nextLabel:v,previousLabel:y,onNext:x,onPrevious:E,onLevelClick:_,nextDisabled:S,previousDisabled:T,hasNextLevel:k,levelControlAriaLabel:R,withNext:I,withPrevious:P,yearLabelFormat:N,__staticSelector:M,__stopPropagation:O,size:j,classNames:U,styles:q,unstyled:W,...V}=n,z=ed(),L={__staticSelector:M||"YearLevel",classNames:U,styles:q,unstyled:W,size:j},H=typeof S=="boolean"?S:s?!en(r).endOf("year").isBefore(s):!1,B=typeof T=="boolean"?T:o?!en(r).startOf("year").isAfter(o):!1;return b.jsxs(De,{"data-year-level":!0,size:j,ref:t,...V,children:[b.jsx(hy,{label:typeof N=="function"?N(r):en(r).locale(i||z.locale).format(N),__preventFocus:p,__stopPropagation:O,nextIcon:m,previousIcon:g,nextLabel:v,previousLabel:y,onNext:x,onPrevious:E,onLevelClick:_,nextDisabled:H,previousDisabled:B,hasNextLevel:k,levelControlAriaLabel:R,withNext:I,withPrevious:P,...L}),b.jsx(O$,{year:r,locale:i,minDate:o,maxDate:s,monthsListFormat:a,getMonthControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,__preventFocus:p,__stopPropagation:O,withCellSpacing:h,...L})]})});M$.classes={...hy.classes,...O$.classes};M$.displayName="@mantine/dates/YearLevel";const uQt={monthLabelFormat:"MMMM YYYY"},$$=nt((e,t)=>{const n=qe("MonthLevel",uQt,e),{month:r,locale:i,firstDayOfWeek:o,weekdayFormat:s,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__getDayRef:g,__onDayKeyDown:v,__onDayClick:y,__onDayMouseEnter:x,withCellSpacing:E,highlightToday:_,withWeekNumbers:S,__preventFocus:T,__stopPropagation:k,nextIcon:R,previousIcon:I,nextLabel:P,previousLabel:N,onNext:M,onPrevious:O,onLevelClick:j,nextDisabled:U,previousDisabled:q,hasNextLevel:W,levelControlAriaLabel:V,withNext:z,withPrevious:L,monthLabelFormat:H,classNames:B,styles:Y,unstyled:Q,__staticSelector:ne,size:ce,static:le,...ue}=n,ae=ed(),te={__staticSelector:ne||"MonthLevel",classNames:B,styles:Y,unstyled:Q,size:ce},se=typeof U=="boolean"?U:d?!en(r).endOf("month").isBefore(d):!1,we=typeof q=="boolean"?q:c?!en(r).startOf("month").isAfter(c):!1;return b.jsxs(De,{"data-month-level":!0,size:ce,ref:t,...ue,children:[b.jsx(hy,{label:typeof H=="function"?H(r):en(r).locale(i||ae.locale).format(H),__preventFocus:T,__stopPropagation:k,nextIcon:R,previousIcon:I,nextLabel:P,previousLabel:N,onNext:M,onPrevious:O,onLevelClick:j,nextDisabled:se,previousDisabled:we,hasNextLevel:W,levelControlAriaLabel:V,withNext:z,withPrevious:L,...te}),b.jsx(I$,{month:r,locale:i,firstDayOfWeek:o,weekdayFormat:s,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__getDayRef:g,__onDayKeyDown:v,__onDayClick:y,__onDayMouseEnter:x,__preventFocus:T,__stopPropagation:k,static:le,withCellSpacing:E,highlightToday:_,withWeekNumbers:S,...te})]})});$$.classes={...I$.classes,...hy.classes};$$.displayName="@mantine/dates/MonthLevel";var P6e={levelsGroup:"m_30b26e33"};const cQt={},py=nt((e,t)=>{const n=qe("LevelsGroup",cQt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,__staticSelector:u,...c}=n,d=Rt({name:u||"LevelsGroup",classes:P6e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,rootSelector:"levelsGroup"});return b.jsx(De,{ref:t,...d("levelsGroup"),...c})});py.classes=P6e;py.displayName="@mantine/dates/LevelsGroup";const dQt={numberOfColumns:1},L$=nt((e,t)=>{const n=qe("DecadeLevelGroup",dQt,e),{decade:r,locale:i,minDate:o,maxDate:s,yearsListFormat:a,getYearControlProps:l,__onControlClick:u,__onControlMouseEnter:c,withCellSpacing:d,__preventFocus:f,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:v,onPrevious:y,nextDisabled:x,previousDisabled:E,classNames:_,styles:S,unstyled:T,__staticSelector:k,__stopPropagation:R,numberOfColumns:I,levelControlAriaLabel:P,decadeLabelFormat:N,size:M,vars:O,...j}=n,U=A.useRef([]),q=Array(I).fill(0).map((W,V)=>{const z=en(r).add(V*10,"years").toDate();return b.jsx(N$,{size:M,yearsListFormat:a,decade:z,withNext:V===I-1,withPrevious:V===0,decadeLabelFormat:N,__onControlClick:u,__onControlMouseEnter:c,__onControlKeyDown:(L,H)=>tte({levelIndex:V,rowIndex:H.rowIndex,cellIndex:H.cellIndex,event:L,controlsRef:U}),__getControlRef:(L,H,B)=>{Array.isArray(U.current[V])||(U.current[V]=[]),Array.isArray(U.current[V][L])||(U.current[V][L]=[]),U.current[V][L][H]=B},levelControlAriaLabel:typeof P=="function"?P(z):P,locale:i,minDate:o,maxDate:s,__preventFocus:f,__stopPropagation:R,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:v,onPrevious:y,nextDisabled:x,previousDisabled:E,getYearControlProps:l,__staticSelector:k||"DecadeLevelGroup",classNames:_,styles:S,unstyled:T,withCellSpacing:d},V)});return b.jsx(py,{classNames:_,styles:S,__staticSelector:k||"DecadeLevelGroup",ref:t,size:M,unstyled:T,...j,children:q})});L$.classes={...py.classes,...N$.classes};L$.displayName="@mantine/dates/DecadeLevelGroup";const fQt={numberOfColumns:1},F$=nt((e,t)=>{const n=qe("YearLevelGroup",fQt,e),{year:r,locale:i,minDate:o,maxDate:s,monthsListFormat:a,getMonthControlProps:l,__onControlClick:u,__onControlMouseEnter:c,withCellSpacing:d,__preventFocus:f,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:v,onPrevious:y,onLevelClick:x,nextDisabled:E,previousDisabled:_,hasNextLevel:S,classNames:T,styles:k,unstyled:R,__staticSelector:I,__stopPropagation:P,numberOfColumns:N,levelControlAriaLabel:M,yearLabelFormat:O,size:j,vars:U,...q}=n,W=A.useRef([]),V=Array(N).fill(0).map((z,L)=>{const H=en(r).add(L,"years").toDate();return b.jsx(M$,{size:j,monthsListFormat:a,year:H,withNext:L===N-1,withPrevious:L===0,yearLabelFormat:O,__stopPropagation:P,__onControlClick:u,__onControlMouseEnter:c,__onControlKeyDown:(B,Y)=>tte({levelIndex:L,rowIndex:Y.rowIndex,cellIndex:Y.cellIndex,event:B,controlsRef:W}),__getControlRef:(B,Y,Q)=>{Array.isArray(W.current[L])||(W.current[L]=[]),Array.isArray(W.current[L][B])||(W.current[L][B]=[]),W.current[L][B][Y]=Q},levelControlAriaLabel:typeof M=="function"?M(H):M,locale:i,minDate:o,maxDate:s,__preventFocus:f,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:v,onPrevious:y,onLevelClick:x,nextDisabled:E,previousDisabled:_,hasNextLevel:S,getMonthControlProps:l,classNames:T,styles:k,unstyled:R,__staticSelector:I||"YearLevelGroup",withCellSpacing:d},L)});return b.jsx(py,{classNames:T,styles:k,__staticSelector:I||"YearLevelGroup",ref:t,size:j,unstyled:R,...q,children:V})});F$.classes={...M$.classes,...py.classes};F$.displayName="@mantine/dates/YearLevelGroup";const hQt={numberOfColumns:1},j$=nt((e,t)=>{const n=qe("MonthLevelGroup",hQt,e),{month:r,locale:i,firstDayOfWeek:o,weekdayFormat:s,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__onDayClick:g,__onDayMouseEnter:v,withCellSpacing:y,highlightToday:x,withWeekNumbers:E,__preventFocus:_,nextIcon:S,previousIcon:T,nextLabel:k,previousLabel:R,onNext:I,onPrevious:P,onLevelClick:N,nextDisabled:M,previousDisabled:O,hasNextLevel:j,classNames:U,styles:q,unstyled:W,numberOfColumns:V,levelControlAriaLabel:z,monthLabelFormat:L,__staticSelector:H,__stopPropagation:B,size:Y,static:Q,vars:ne,...ce}=n,le=A.useRef([]),ue=Array(V).fill(0).map((ae,te)=>{const se=en(r).add(te,"months").toDate();return b.jsx($$,{month:se,withNext:te===V-1,withPrevious:te===0,monthLabelFormat:L,__stopPropagation:B,__onDayClick:g,__onDayMouseEnter:v,__onDayKeyDown:(we,X)=>tte({levelIndex:te,rowIndex:X.rowIndex,cellIndex:X.cellIndex,event:we,controlsRef:le}),__getDayRef:(we,X,he)=>{Array.isArray(le.current[te])||(le.current[te]=[]),Array.isArray(le.current[te][we])||(le.current[te][we]=[]),le.current[te][we][X]=he},levelControlAriaLabel:typeof z=="function"?z(se):z,locale:i,firstDayOfWeek:o,weekdayFormat:s,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__preventFocus:_,nextIcon:S,previousIcon:T,nextLabel:k,previousLabel:R,onNext:I,onPrevious:P,onLevelClick:N,nextDisabled:M,previousDisabled:O,hasNextLevel:j,classNames:U,styles:q,unstyled:W,__staticSelector:H||"MonthLevelGroup",size:Y,static:Q,withCellSpacing:y,highlightToday:x,withWeekNumbers:E},te)});return b.jsx(py,{classNames:U,styles:q,__staticSelector:H||"MonthLevelGroup",ref:t,size:Y,...ce,children:ue})});j$.classes={...py.classes,...$$.classes};j$.displayName="@mantine/dates/MonthLevelGroup";const C0e=e=>e==="range"?[null,null]:e==="multiple"?[]:null;function rV({type:e,value:t,defaultValue:n,onChange:r,applyTimezone:i=!0}){const o=A.useRef(e),s=ed(),[a,l,u]=qi({value:jv("add",t,s.getTimezone(),!i),defaultValue:jv("add",n,s.getTimezone(),!i),finalValue:C0e(e),onChange:d=>{r?.(jv("remove",d,s.getTimezone(),!i))}});let c=a;return o.current!==e&&(o.current=e,t===void 0&&(c=n!==void 0?n:C0e(e),l(c))),[c,l,u]}function YB(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function pQt(e){return e===0?"month":e===1?"year":"decade"}function wE(e,t,n){return pQt(Ac(YB(e,0),YB(t,0),YB(n,2)))}const mQt={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0},B$=nt((e,t)=>{const n=qe("Calendar",mQt,e),{vars:r,maxLevel:i,minLevel:o,defaultLevel:s,level:a,onLevelChange:l,date:u,defaultDate:c,onDateChange:d,numberOfColumns:f,columnsToScroll:h,ariaLabels:p,nextLabel:m,previousLabel:g,onYearSelect:v,onMonthSelect:y,onYearMouseEnter:x,onMonthMouseEnter:E,__updateDateOnYearSelect:_,__updateDateOnMonthSelect:S,firstDayOfWeek:T,weekdayFormat:k,weekendDays:R,getDayProps:I,excludeDate:P,renderDay:N,hideOutsideDates:M,hideWeekdays:O,getDayAriaLabel:j,monthLabelFormat:U,nextIcon:q,previousIcon:W,__onDayClick:V,__onDayMouseEnter:z,withCellSpacing:L,highlightToday:H,withWeekNumbers:B,monthsListFormat:Y,getMonthControlProps:Q,yearLabelFormat:ne,yearsListFormat:ce,getYearControlProps:le,decadeLabelFormat:ue,classNames:ae,styles:te,unstyled:se,minDate:we,maxDate:X,locale:he,__staticSelector:ge,size:re,__preventFocus:ee,__stopPropagation:fe,onNextDecade:Re,onPreviousDecade:Oe,onNextYear:Ae,onPreviousYear:Se,onNextMonth:xe,onPreviousMonth:ke,static:me,__timezoneApplied:Me,...ze}=n,{resolvedClassNames:Xe,resolvedStyles:tt}=lf({classNames:ae,styles:te,props:n}),[gt,qt]=qi({value:a?wE(a,o,i):void 0,defaultValue:s?wE(s,o,i):void 0,finalValue:wE(void 0,o,i),onChange:l}),[zt,_n]=rV({type:"default",value:u,defaultValue:c,onChange:d,applyTimezone:!Me}),$t={__staticSelector:ge||"Calendar",styles:tt,classNames:Xe,unstyled:se,size:re},dn=ed(),Vn=h||f||1,Ln=new Date,Tr=we&&we>Ln?we:Ln,Xn=zt||jv("add",Tr,dn.getTimezone()),mr=()=>{const Sn=en(Xn).add(Vn,"month").toDate();xe?.(Sn),_n(Sn)},En=()=>{const Sn=en(Xn).subtract(Vn,"month").toDate();ke?.(Sn),_n(Sn)},nn=()=>{const Sn=en(Xn).add(Vn,"year").toDate();Ae?.(Sn),_n(Sn)},rr=()=>{const Sn=en(Xn).subtract(Vn,"year").toDate();Se?.(Sn),_n(Sn)},ii=()=>{const Sn=en(Xn).add(10*Vn,"year").toDate();Re?.(Sn),_n(Sn)},br=()=>{const Sn=en(Xn).subtract(10*Vn,"year").toDate();Oe?.(Sn),_n(Sn)};return b.jsxs(De,{ref:t,size:re,"data-calendar":!0,...ze,children:[gt==="month"&&b.jsx(j$,{month:Xn,minDate:we,maxDate:X,firstDayOfWeek:T,weekdayFormat:k,weekendDays:R,getDayProps:I,excludeDate:P,renderDay:N,hideOutsideDates:M,hideWeekdays:O,getDayAriaLabel:j,onNext:mr,onPrevious:En,hasNextLevel:i!=="month",onLevelClick:()=>qt("year"),numberOfColumns:f,locale:he,levelControlAriaLabel:p?.monthLevelControl,nextLabel:p?.nextMonth??m,nextIcon:q,previousLabel:p?.previousMonth??g,previousIcon:W,monthLabelFormat:U,__onDayClick:V,__onDayMouseEnter:z,__preventFocus:ee,__stopPropagation:fe,static:me,withCellSpacing:L,highlightToday:H,withWeekNumbers:B,...$t}),gt==="year"&&b.jsx(F$,{year:Xn,numberOfColumns:f,minDate:we,maxDate:X,monthsListFormat:Y,getMonthControlProps:Q,locale:he,onNext:nn,onPrevious:rr,hasNextLevel:i!=="month"&&i!=="year",onLevelClick:()=>qt("decade"),levelControlAriaLabel:p?.yearLevelControl,nextLabel:p?.nextYear??m,nextIcon:q,previousLabel:p?.previousYear??g,previousIcon:W,yearLabelFormat:ne,__onControlMouseEnter:E,__onControlClick:(Sn,ht)=>{S&&_n(ht),qt(wE("month",o,i)),y?.(ht)},__preventFocus:ee,__stopPropagation:fe,withCellSpacing:L,...$t}),gt==="decade"&&b.jsx(L$,{decade:Xn,minDate:we,maxDate:X,yearsListFormat:ce,getYearControlProps:le,locale:he,onNext:ii,onPrevious:br,numberOfColumns:f,nextLabel:p?.nextDecade??m,nextIcon:q,previousLabel:p?.previousDecade??g,previousIcon:W,decadeLabelFormat:ue,__onControlMouseEnter:x,__onControlClick:(Sn,ht)=>{_&&_n(ht),qt(wE("year",o,i)),v?.(ht)},__preventFocus:ee,__stopPropagation:fe,withCellSpacing:L,...$t})]})});B$.classes={...L$.classes,...F$.classes,...j$.classes};B$.displayName="@mantine/dates/Calendar";function gQt(e){const{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:o,nextIcon:s,previousIcon:a,date:l,defaultDate:u,onDateChange:c,numberOfColumns:d,columnsToScroll:f,ariaLabels:h,nextLabel:p,previousLabel:m,onYearSelect:g,onMonthSelect:v,onYearMouseEnter:y,onMonthMouseEnter:x,onNextMonth:E,onPreviousMonth:_,onNextYear:S,onPreviousYear:T,onNextDecade:k,onPreviousDecade:R,withCellSpacing:I,highlightToday:P,__updateDateOnYearSelect:N,__updateDateOnMonthSelect:M,withWeekNumbers:O,firstDayOfWeek:j,weekdayFormat:U,weekendDays:q,getDayProps:W,excludeDate:V,renderDay:z,hideOutsideDates:L,hideWeekdays:H,getDayAriaLabel:B,monthLabelFormat:Y,monthsListFormat:Q,getMonthControlProps:ne,yearLabelFormat:ce,yearsListFormat:le,getYearControlProps:ue,decadeLabelFormat:ae,allowSingleDateInRange:te,allowDeselect:se,minDate:we,maxDate:X,locale:he,...ge}=e;return{calendarProps:{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:o,nextIcon:s,previousIcon:a,date:l,defaultDate:u,onDateChange:c,numberOfColumns:d,columnsToScroll:f,ariaLabels:h,nextLabel:p,previousLabel:m,onYearSelect:g,onMonthSelect:v,onYearMouseEnter:y,onMonthMouseEnter:x,onNextMonth:E,onPreviousMonth:_,onNextYear:S,onPreviousYear:T,onNextDecade:k,onPreviousDecade:R,withCellSpacing:I,highlightToday:P,__updateDateOnYearSelect:N,__updateDateOnMonthSelect:M,withWeekNumbers:O,firstDayOfWeek:j,weekdayFormat:U,weekendDays:q,getDayProps:W,excludeDate:V,renderDay:z,hideOutsideDates:L,hideWeekdays:H,getDayAriaLabel:B,monthLabelFormat:Y,monthsListFormat:Q,getMonthControlProps:ne,yearLabelFormat:ce,yearsListFormat:le,getYearControlProps:ue,decadeLabelFormat:ae,allowSingleDateInRange:te,allowDeselect:se,minDate:we,maxDate:X,locale:he},others:ge}}function yQt(e,t){if(e===null)return null;const n=jv("add",new Date(e),t);return Number.isNaN(n.getTime())||!e?null:n}function vQt({date:e,maxDate:t,minDate:n}){return!(e==null||Number.isNaN(e.getTime())||t&&en(e).isAfter(t,"date")||n&&en(e).isBefore(n,"date"))}const bQt={valueFormat:"MMMM D, YYYY",fixOnBlur:!0,preserveTime:!0},ite=nt((e,t)=>{const n=WV("DateInput",bQt,e),{inputProps:r,wrapperProps:i,value:o,defaultValue:s,onChange:a,clearable:l,clearButtonProps:u,popoverProps:c,getDayProps:d,locale:f,valueFormat:h,dateParser:p,minDate:m,maxDate:g,fixOnBlur:v,onFocus:y,onBlur:x,onClick:E,onKeyDown:_,readOnly:S,name:T,form:k,rightSection:R,unstyled:I,classNames:P,styles:N,allowDeselect:M,preserveTime:O,date:j,defaultDate:U,onDateChange:q,...W}=n,V=A.useRef(null),z=A.useRef(null),[L,H]=A.useState(!1),{calendarProps:B,others:Y}=gQt(W),Q=ed(),ce=p||(xe=>{const ke=en(xe,h,Q.getLocale(f)).toDate();return Number.isNaN(ke.getTime())?yQt(xe,Q.getTimezone()):ke}),le=M!==void 0?M:l,ue=xe=>xe?en(xe).locale(Q.getLocale(f)).format(h):"",[ae,te,se]=rV({type:"default",value:o,defaultValue:s,onChange:a}),[we,X]=rV({type:"default",value:j,defaultValue:s||U,onChange:q});A.useEffect(()=>{se&&o!==null&&X(o)},[se,o]);const[he,ge]=A.useState(ue(ae));A.useEffect(()=>{ge(ue(ae))},[Q.getLocale(f)]);const re=xe=>{const ke=xe.currentTarget.value;if(ge(ke),H(!0),ke.trim()===""&&l)te(null);else{const me=ce(ke);vQt({date:me,minDate:m,maxDate:g})&&(te(me),X(me))}},ee=xe=>{x?.(xe),H(!1),v&&ge(ue(ae))},fe=xe=>{y?.(xe),H(!0)},Re=xe=>{E?.(xe),H(!0)},Oe=xe=>{xe.key==="Escape"&&H(!1),_?.(xe)},Ae=xe=>({...d?.(xe),selected:en(ae).isSame(xe,"day"),onClick:ke=>{d?.(xe).onClick?.(ke);const me=O?CXt(ae,xe):xe,Me=l&&le&&en(ae).isSame(xe,"day")?null:me;te(Me),!se&&ge(ue(Me)),H(!1)}}),Se=R||(l&&ae&&!S?b.jsx(Im,{variant:"transparent",onMouseDown:xe=>xe.preventDefault(),tabIndex:-1,onClick:()=>{te(null),!se&&ge(""),H(!1)},unstyled:I,size:r.size||"sm",...u}):null);return bl(()=>{ae!==void 0&&!L&&ge(ue(ae))},[ae]),eve(()=>H(!1),void 0,[V.current,z.current]),b.jsxs(b.Fragment,{children:[b.jsx(Or.Wrapper,{...i,__staticSelector:"DateInput",ref:V,children:b.jsxs(Cr,{opened:L,trapFocus:!1,position:"bottom-start",disabled:S,withRoles:!1,unstyled:I,...c,children:[b.jsx(Cr.Target,{children:b.jsx(Or,{"data-dates-input":!0,"data-read-only":S||void 0,autoComplete:"off",ref:t,value:he,onChange:re,onBlur:ee,onFocus:fe,onClick:Re,onKeyDown:Oe,readOnly:S,rightSection:Se,...r,...Y,__staticSelector:"DateInput"})}),b.jsx(Cr.Dropdown,{onMouseDown:xe=>xe.preventDefault(),"data-dates-dropdown":!0,ref:z,children:b.jsx(B$,{__staticSelector:"DateInput",__timezoneApplied:!0,...B,classNames:P,styles:N,unstyled:I,__preventFocus:!0,minDate:m,maxDate:g,locale:f,getDayProps:Ae,size:r.size,date:we,onDateChange:X})})]})}),b.jsx(v6e,{name:T,form:k,value:ae,type:"default"})]})});ite.classes={...Or.classes,...B$.classes};ite.displayName="@mantine/dates/DateInput";function On(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var pc={root:"MRT_TableBody-module_root__kGhRy","root-grid":"MRT_TableBody-module_root-grid__WdOGg","root-no-rows":"MRT_TableBody-module_root-no-rows__iyi9K","root-virtualized":"MRT_TableBody-module_root-virtualized__TxPAi","empty-row-tr-grid":"MRT_TableBody-module_empty-row-tr-grid__LTgxw","empty-row-td-grid":"MRT_TableBody-module_empty-row-td-grid__pzlgG","empty-row-td-content":"MRT_TableBody-module_empty-row-td-content__Cc2XW",pinned:"MRT_TableBody-module_pinned__XHpcs"},KB={root:"MRT_TableBodyRow-module_root__2c3D4","root-grid":"MRT_TableBodyRow-module_root-grid__AwXTe","root-virtualized":"MRT_TableBodyRow-module_root-virtualized__zYgxq"},Hf={root:"MRT_TableBodyCell-module_root__Wf-zi","root-grid":"MRT_TableBodyCell-module_root-grid__zIuC-","root-virtualized":"MRT_TableBodyCell-module_root-virtualized__jLl8R","root-data-col":"MRT_TableBodyCell-module_root-data-col__HHcxc","root-nowrap":"MRT_TableBodyCell-module_root-nowrap__-k1Jo","root-cursor-pointer":"MRT_TableBodyCell-module_root-cursor-pointer__4kw7J","root-editable-hover":"MRT_TableBodyCell-module_root-editable-hover__2DKSa","root-cell-hover-reveal":"MRT_TableBodyCell-module_root-cell-hover-reveal__T1fAH","cell-hover-reveal":"MRT_TableBodyCell-module_cell-hover-reveal__Q-1Xj",overflowing:"MRT_TableBodyCell-module_overflowing__QcXP4"};const Ft=(e,t)=>e instanceof Function?e(t):e,XB=["string","number"],wQt=["text","autocomplete"],_0e=({cell:e,renderedColumnIndex:t=0,renderedRowIndex:n=0,table:r})=>{var i,o;const{getState:s,options:{enableFilterMatchHighlighting:a,mantineHighlightProps:l}}=r,{column:u,row:c}=e,{columnDef:d}=u,{globalFilter:f,globalFilterFn:h}=s(),p=u.getFilterValue(),m=Ft(l,{cell:e,column:u,row:c,table:r});let g=e.getIsAggregated()&&d.AggregatedCell?d.AggregatedCell({cell:e,column:u,row:c,table:r}):c.getIsGrouped()&&!e.getIsGrouped()?null:e.getIsGrouped()&&d.GroupedCell?d.GroupedCell({cell:e,column:u,row:c,table:r}):void 0;const v=g!==void 0;if(v||(g=e.renderValue()),a&&d.enableFilterMatchHighlighting!==!1&&g&&XB.includes(typeof g)&&(p&&XB.includes(typeof p)&&wQt.includes(d.filterVariant)||f&&XB.includes(typeof f)&&u.getCanGlobalFilter())){let y=((o=(i=u.getFilterValue())!==null&&i!==void 0?i:f)!==null&&o!==void 0?o:"").toString();(p?d._filterFn:h)==="fuzzy"&&(y=y.split(" ")),g=b.jsx(IW,Object.assign({color:"yellow.3",highlight:y},m,{children:g?.toString()}))}return d.Cell&&!v&&(g=d.Cell({cell:e,column:u,renderedCellValue:g,renderedColumnIndex:t,renderedRowIndex:n,row:c,table:r})),g},qd=e=>e.replace(/[^a-zA-Z0-9]/g,"_"),xQt=e=>{var t,n;return typeof e.primaryShade=="number"?e.primaryShade:(n=(t=e.primaryShade)===null||t===void 0?void 0:t.dark)!==null&&n!==void 0?n:7},CQt=(e,t)=>e.colors[e.primaryColor][xQt(e)];function r4(e,t){const n=`data-${e}`;switch(typeof t){case"boolean":return t?{[n]:""}:null;case"number":return{[n]:`${t}`};case"string":return{[n]:t};default:return null}}var _Qt={root:"MRT_CopyButton-module_root__mkXy4"};const EQt=e=>{var{cell:t,children:n,table:r}=e,i=On(e,["cell","children","table"]);const{options:{localization:{clickToCopy:o,copiedToClipboard:s},mantineCopyButtonProps:a}}=r,{column:l,row:u}=t,{columnDef:c}=l,d={cell:t,column:l,row:u,table:r},f=Object.assign(Object.assign(Object.assign({},Ft(a,d)),Ft(c.mantineCopyButtonProps,d)),i);return b.jsx(TW,{value:t.getValue(),children:({copied:h,copy:p})=>{var m;return b.jsx(ct,{color:h?"green":void 0,label:(m=f?.title)!==null&&m!==void 0?m:h?s:o,openDelay:1e3,withinPortal:!0,children:b.jsx(Ko,Object.assign({},f,{className:Nt("mrt-copy-button",_Qt.root,f?.className),onClick:g=>{g.stopPropagation(),p()},role:"presentation",title:void 0,children:n}))})}})},z$=e=>{var t,{cell:n,table:r}=e,i=On(e,["cell","table"]);const{getState:o,options:{createDisplayMode:s,editDisplayMode:a,mantineEditSelectProps:l,mantineEditTextInputProps:u},refs:{editInputRefs:c},setCreatingRow:d,setEditingCell:f,setEditingRow:h}=r,{column:p,row:m}=n,{columnDef:g}=p,{creatingRow:v,editingRow:y}=o(),x=v?.id===m.id,E=y?.id===m.id,_=g.editVariant==="select",S=g.editVariant==="multi-select",[T,k]=A.useState(()=>n.getValue()),R={cell:n,column:p,row:m,table:r},I=Object.assign(Object.assign(Object.assign({},Ft(u,R)),Ft(g.mantineEditTextInputProps,R)),i),P=Object.assign(Object.assign(Object.assign({},Ft(l,R)),Ft(g.mantineEditSelectProps,R)),i),N=U=>{m._valuesCache[p.id]=U,x?d(m):E&&h(m)},M=U=>{var q;(q=I.onBlur)===null||q===void 0||q.call(I,U),N(T),f(null)},O=U=>{var q,W;(q=I.onKeyDown)===null||q===void 0||q.call(I,U),U.key==="Enter"&&((W=c.current[n.id])===null||W===void 0||W.blur())};if(g.Edit)return(t=g.Edit)===null||t===void 0?void 0:t.call(g,{cell:n,column:p,row:m,table:r});const j={disabled:Ft(g.enableEditing,m)===!1,label:["custom","modal"].includes(x?s:a)?p.columnDef.header:void 0,name:n.id,onClick:U=>{var q;U.stopPropagation(),(q=I?.onClick)===null||q===void 0||q.call(I,U)},placeholder:["custom","modal"].includes(x?s:a)?void 0:g.header,value:T,variant:a==="table"?"unstyled":"default"};return _?b.jsx(um,Object.assign({},j,{searchable:!0,value:T},P,{onBlur:M,onChange:(U,q)=>{var W,V;(V=(W=P).onChange)===null||V===void 0||V.call(W,U,q),k(U)},onClick:U=>{var q;U.stopPropagation(),(q=P?.onClick)===null||q===void 0||q.call(P,U)},ref:U=>{U&&(c.current[n.id]=U,P.ref&&(P.ref.current=U))}})):S?b.jsx(Gp,Object.assign({},j,{searchable:!0,value:T},P,{onBlur:M,onChange:U=>{var q,W;(W=(q=P).onChange)===null||W===void 0||W.call(q,T),k(U),document.activeElement!==c.current[n.id]&&N(U)},onClick:U=>{var q;U.stopPropagation(),(q=P?.onClick)===null||q===void 0||q.call(P,U)},ref:U=>{U&&(c.current[n.id]=U,P.ref&&(P.ref.current=U))}})):b.jsx(fl,Object.assign({},j,{onKeyDown:O,value:T??""},I,{onBlur:M,onChange:U=>{var q;(q=I.onChange)===null||q===void 0||q.call(I,U),k(U.target.value)},onClick:U=>{var q;U.stopPropagation(),(q=I?.onClick)===null||q===void 0||q.call(I,U)},ref:U=>{U&&(c.current[n.id]=U,I.ref&&(I.ref.current=U))}}))},O6e=e=>{var t,n,r,i,o,{cell:s,numRows:a=1,renderedColumnIndex:l=0,renderedRowIndex:u=0,rowRef:c,table:d,virtualCell:f}=e,h=On(e,["cell","numRows","renderedColumnIndex","renderedRowIndex","rowRef","table","virtualCell"]);const p=lu(),{getState:m,options:{columnResizeDirection:g,columnResizeMode:v,createDisplayMode:y,editDisplayMode:x,enableClickToCopy:E,enableColumnOrdering:_,enableColumnPinning:S,enableEditing:T,enableGrouping:k,layoutMode:R,mantineSkeletonProps:I,mantineTableBodyCellProps:P},refs:{editInputRefs:N},setEditingCell:M,setHoveredColumn:O}=d,{columnSizingInfo:j,creatingRow:U,density:q,draggingColumn:W,editingCell:V,editingRow:z,hoveredColumn:L,isLoading:H,showSkeletons:B}=m(),{column:Y,row:Q}=s,{columnDef:ne}=Y,{columnDefType:ce}=ne,le={cell:s,column:Y,renderedColumnIndex:l,renderedRowIndex:u,row:Q,table:d},ue=Object.assign(Object.assign(Object.assign({},Ft(P,le)),Ft(ne.mantineTableBodyCellProps,le)),h),ae=Ft(I,le),[te,se]=A.useState(100);A.useEffect(()=>{if(!H&&!B||te!==100)return;const tt=Y.getSize();se(ce==="display"?tt/2:Math.round(Math.random()*(tt-tt/3)+tt/3))},[H,B]);const we={minWidth:`max(calc(var(--col-${qd(Y?.id)}-size) * 1px), ${(t=ne.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--col-${qd(Y.id)}-size) * 1px)`};R==="grid"?we.flex=`${[0,!1].includes(ne.grow)?0:`var(--col-${qd(Y.id)}-size)`} 0 auto`:R==="grid-no-grow"&&(we.flex=`${+(ne.grow||0)} 0 auto`);const X=W?.id===Y.id,he=L?.id===Y.id,ge=S&&ne.columnDefType!=="group"&&Y.getIsPinned(),re=!s.getIsPlaceholder()&&Ft(T,Q)&&Ft(ne.enableEditing,Q)!==!1,ee=re&&!["custom","modal"].includes(x)&&(x==="table"||z?.id===Q.id||V?.id===s.id)&&!Q.getIsGrouped(),fe=re&&y==="row"&&U?.id===Q.id,Re=Ft(E,s)||Ft(ne.enableClickToCopy,s)&&Ft(ne.enableClickToCopy,s)!==!1,Oe=tt=>{var gt;(gt=ue?.onDoubleClick)===null||gt===void 0||gt.call(ue,tt),re&&x==="cell"&&(M(s),setTimeout(()=>{var qt;const zt=N.current[s.id];zt&&(zt.focus(),(qt=zt.select)===null||qt===void 0||qt.call(zt))},100))},Ae=tt=>{var gt;(gt=ue?.onDragEnter)===null||gt===void 0||gt.call(ue,tt),k&&L?.id==="drop-zone"&&O(null),_&&W&&O(ne.enableColumnOrdering!==!1?Y:null)},Se={cell:s,renderedColumnIndex:l,renderedRowIndex:u,table:d},xe=A.useRef(null),[ke,me]=A.useState(!1),Me=()=>{if(!ne.enableCellHoverReveal)return;const tt=xe.current;if(tt){const gt=tt.scrollWidth>tt.clientWidth;me(gt)}},ze=()=>{ne.enableCellHoverReveal&&me(!1)},Xe=()=>{var tt,gt,qt;return s.getIsPlaceholder()?(gt=(tt=ne.PlaceholderCell)===null||tt===void 0?void 0:tt.call(ne,{cell:s,column:Y,row:Q,table:d}))!==null&&gt!==void 0?gt:null:B!==!1&&(H||B)?b.jsx(Ao,Object.assign({height:20,width:te},ae)):ce==="display"&&(["mrt-row-expand","mrt-row-numbers","mrt-row-select"].includes(Y.id)||!Q.getIsGrouped())?(qt=ne.Cell)===null||qt===void 0?void 0:qt.call(ne,Object.assign({column:Y,renderedCellValue:s.renderValue(),row:Q,rowRef:c},Se)):fe||ee?b.jsx(z$,{cell:s,table:d}):Re&&ne.enableClickToCopy!==!1?b.jsx(EQt,{cell:s,table:d,children:b.jsx(_0e,Object.assign({},Se))}):b.jsx(_0e,Object.assign({},Se))};return b.jsx(OT,Object.assign({"data-column-pinned":ge||void 0,"data-dragging-column":X||void 0,"data-first-right-pinned":ge==="right"&&Y.getIsFirstColumn(ge)||void 0,"data-hovered-column-target":he||void 0,"data-index":l,"data-last-left-pinned":ge==="left"&&Y.getIsLastColumn(ge)||void 0,"data-last-row":u===a-1||void 0,"data-resizing":v==="onChange"&&j?.isResizingColumn===Y.id&&g||void 0},ue,{__vars:Object.assign({"--mrt-cell-align":(n=ue.align)!==null&&n!==void 0?n:p.dir==="rtl"?"right":"left","--mrt-table-cell-left":ge==="left"?`${Y.getStart(ge)}`:void 0,"--mrt-table-cell-right":ge==="right"?`${Y.getAfter(ge)}`:void 0},ue.__vars),className:Nt(Hf.root,R?.startsWith("grid")&&Hf["root-grid"],f&&Hf["root-virtualized"],re&&x==="cell"&&Hf["root-cursor-pointer"],re&&["cell","table"].includes(x??"")&&ce!=="display"&&Hf["root-editable-hover"],ce==="data"&&Hf["root-data-col"],q==="xs"&&Hf["root-nowrap"],ne.enableCellHoverReveal&&Hf["root-cell-hover-reveal"],ue?.className),onDoubleClick:Oe,onDragEnter:Ae,onMouseEnter:Me,onMouseLeave:ze,style:tt=>Object.assign(Object.assign({},we),Ft(ue.style,tt)),children:b.jsx(b.Fragment,{children:(r=ue.children)!==null&&r!==void 0?r:ne.enableCellHoverReveal?b.jsxs("div",{className:Nt(ne.enableCellHoverReveal&&!(fe||ee)&&Hf["cell-hover-reveal"],ke&&Hf.overflowing),ref:xe,children:[Xe(),s.getIsGrouped()&&!ne.GroupedCell&&b.jsxs(b.Fragment,{children:[" (",(i=Q.subRows)===null||i===void 0?void 0:i.length,")"]})]}):b.jsxs(b.Fragment,{children:[Xe(),s.getIsGrouped()&&!ne.GroupedCell&&b.jsxs(b.Fragment,{children:[" (",(o=Q.subRows)===null||o===void 0?void 0:o.length,")"]})]})})}))},SQt=A.memo(O6e,(e,t)=>t.cell===e.cell);var qy={root:"MRT_TableDetailPanel-module_root__vQAlM","root-grid":"MRT_TableDetailPanel-module_root-grid__7UMC6","root-virtual-row":"MRT_TableDetailPanel-module_root-virtual-row__r-X4Z",inner:"MRT_TableDetailPanel-module_inner__o-Fk-","inner-grid":"MRT_TableDetailPanel-module_inner-grid__WLZgF","inner-expanded":"MRT_TableDetailPanel-module_inner-expanded__6tg9T","inner-virtual":"MRT_TableDetailPanel-module_inner-virtual__TItRy"};const TQt=e=>{var t,n,{parentRowRef:r,renderedRowIndex:i=0,row:o,rowVirtualizer:s,striped:a,table:l,virtualRow:u}=e,c=On(e,["parentRowRef","renderedRowIndex","row","rowVirtualizer","striped","table","virtualRow"]);const{getState:d,getVisibleLeafColumns:f,options:{layoutMode:h,mantineDetailPanelProps:p,mantineTableBodyRowProps:m,renderDetailPanel:g}}=l,{isLoading:v}=d(),y=Ft(m,{isDetailPanel:!0,row:o,table:l}),x=Object.assign(Object.assign({},Ft(p,{row:o,table:l})),c),E=o.getAllCells().filter(S=>S.column.columnDef.columnDefType==="data").map(S=>b.jsx(z$,{cell:S,table:l},S.id)),_=!v&&o.getIsExpanded()&&g?.({internalEditComponents:E,row:o,table:l});return b.jsx(Yp,Object.assign({"data-index":g?i*2+1:i,"data-striped":a,ref:S=>{var T;S&&((T=s?.measureElement)===null||T===void 0||T.call(s,S))}},y,{__vars:Object.assign({"--mrt-parent-row-height":u?`${(n=(t=r.current)===null||t===void 0?void 0:t.getBoundingClientRect())===null||n===void 0?void 0:n.height}px`:void 0,"--mrt-virtual-row-start":u?`${u.start}px`:void 0},y?.__vars),className:Nt("mantine-Table-tr-detail-panel",qy.root,h?.startsWith("grid")&&qy["root-grid"],u&&qy["root-virtual-row"],y?.className),children:b.jsx(OT,Object.assign({colSpan:f().length,component:"td"},x,{__vars:{"--mrt-inner-width":`${l.getTotalSize()}px`},className:Nt("mantine-Table-td-detail-panel",qy.inner,h?.startsWith("grid")&&qy["inner-grid"],o.getIsExpanded()&&qy["inner-expanded"],u&&qy["inner-virtual"]),p:o.getIsExpanded()&&_?"md":0,children:s?o.getIsExpanded()&&_:b.jsx(Uh,{in:o.getIsExpanded(),children:_})}))}))},kQt=(e,t,n)=>{let r=0;return e.columnFiltersMeta[n]&&(r=tXt(e.columnFiltersMeta[n],t.columnFiltersMeta[n])),r===0?lv.alphanumeric(e,t,n):r},AQt=Object.assign(Object.assign({},lv),{fuzzy:kQt}),RQt=(e,t)=>Math.max(...Object.values(t.columnFiltersMeta).map(n=>n.rank))-Math.max(...Object.values(e.columnFiltersMeta).map(n=>n.rank)),N6e=(e,t)=>{const{getCenterRows:n,getPrePaginationRowModel:r,getRowModel:i,getState:o,getTopRows:s,options:{createDisplayMode:a,enablePagination:l,enableRowPinning:u,manualPagination:c,positionCreatingRow:d,rowPinningDisplayMode:f}}=e,{creatingRow:h,pagination:p}=o(),m=IQt(e);let g=[];if(!m)g=!u||f?.includes("sticky")?t?r().rows:i().rows:n();else{if(g=r().rows.sort((v,y)=>RQt(v,y)),l&&!c&&!t){const v=p.pageIndex*p.pageSize;g=g.slice(v,v+p.pageSize)}u&&!f?.includes("sticky")&&(g=g.filter(v=>!v.getIsPinned()))}if(u&&f?.includes("sticky")){const v=g.filter(y=>y.getIsPinned()).map(y=>y.id);g=[...s().filter(y=>!v.includes(y.id)),...g]}if(d!==void 0&&h&&a==="row"){const v=isNaN(+d)?d==="top"?0:g.length:+d;g=[...g.slice(0,v),h,...g.slice(v)]}return g},M6e=e=>{const{getState:t,options:{enableGlobalFilterRankedResults:n,manualExpanding:r,manualFiltering:i,manualGrouping:o,manualSorting:s}}=e,{expanded:a,globalFilterFn:l}=t();return!r&&!i&&!o&&!s&&n&&l==="fuzzy"&&a!==!0&&!Object.values(a).some(Boolean)},IQt=e=>{const{globalFilter:t,sorting:n}=e.getState();return M6e(e)&&t&&!Object.values(n).some(Boolean)},i4=({row:e,table:t})=>{const{options:{enableRowSelection:n}}=t;return e.getIsSelected()||Ft(n,e)&&e.getCanSelectSubRows()&&e.getIsAllSubRowsSelected()},DQt=({renderedRowIndex:e=0,row:t,table:n})=>(r,i)=>{var o;const{getState:s,options:{enableBatchRowSelection:a,enableMultiRowSelection:l,enableRowPinning:u,manualPagination:c,rowPinningDisplayMode:d},refs:{lastSelectedRowId:f}}=n,{pagination:{pageIndex:h,pageSize:p}}=s(),m=c?0:p*h,g=i4({row:t,table:n});t.toggleSelected(i??!g);const v=new Set([t.id]);if(a&&l&&r.nativeEvent.shiftKey&&f.current!==null){const y=N6e(n,!0),x=y.findIndex(E=>E.id===f.current);if(x!==-1){const E=i4({row:y?.[x],table:n}),_=e+m,[S,T]=x<_?[x,_]:[_,x];if(g!==E)for(let k=S;k<=T;k++)y[k].toggleSelected(!g),v.add(y[k].id)}}f.current=t.id,t.getCanSelectSubRows()&&t.getIsAllSubRowsSelected()&&((o=t.subRows)===null||o===void 0||o.forEach(y=>y.toggleSelected(!1))),u&&d?.includes("select")&&v.forEach(y=>{n.getRow(y).pin(g?!1:d?.includes("bottom")?"bottom":"top")})},$6e=({table:e})=>(t,n,r)=>{const{options:{enableRowPinning:i,rowPinningDisplayMode:o,selectAllMode:s},refs:{lastSelectedRowId:a}}=e;s==="all"||r?e.toggleAllRowsSelected(n??t.target.checked):e.toggleAllPageRowsSelected(n??t.target.checked),i&&o?.includes("select")&&e.setRowPinning({bottom:[],top:[]}),a.current=null},QS=e=>{var t,n,r,{children:i,columnVirtualizer:o,numRows:s,pinnedRowIds:a,renderedRowIndex:l=0,row:u,rowVirtualizer:c,table:d,tableProps:f,virtualRow:h}=e,p=On(e,["children","columnVirtualizer","numRows","pinnedRowIds","renderedRowIndex","row","rowVirtualizer","table","tableProps","virtualRow"]);const{getState:m,options:{enableRowOrdering:g,enableRowPinning:v,enableStickyFooter:y,enableStickyHeader:x,layoutMode:E,mantineTableBodyRowProps:_,memoMode:S,renderDetailPanel:T,rowPinningDisplayMode:k},refs:{tableFooterRef:R,tableHeadRef:I},setHoveredRow:P}=d,{density:N,draggingColumn:M,draggingRow:O,editingCell:j,editingRow:U,hoveredRow:q,isFullScreen:W,rowPinning:V}=m(),z=u.getVisibleCells(),{virtualColumns:L,virtualPaddingLeft:H,virtualPaddingRight:B}=o??{},Y=i4({row:u,table:d}),Q=v&&u.getIsPinned(),ne=Q&&k?.includes("sticky")&&"sticky",ce=O?.id===u.id,le=q?.id===u.id,ue=Object.assign(Object.assign({},Ft(_,{renderedRowIndex:l,row:u,table:d})),p),[ae,te]=A.useMemo(()=>!v||!ne||!a||!u.getIsPinned()?[]:[[...a].reverse().indexOf(u.id),a.indexOf(u.id)],[a,V]),se=(x||W)&&((t=I.current)===null||t===void 0?void 0:t.clientHeight)||0,we=y&&((n=R.current)===null||n===void 0?void 0:n.clientHeight)||0,X=parseInt((r=ue?.style)===null||r===void 0?void 0:r.height,10)||(N==="xs"?37:N==="md"?53:69),he=ee=>{g&&O&&P(u)},ge=A.useRef(null);let re=f.striped;return re&&(re===!0&&(re="odd"),re==="odd"&&l%2!==0&&(re=!1),re==="even"&&l%2===0&&(re=!1)),b.jsxs(b.Fragment,{children:[b.jsxs(Yp,Object.assign({"data-dragging-row":ce||void 0,"data-hovered-row-target":le||void 0,"data-index":T?l*2:l,"data-row-pinned":ne||Q||void 0,"data-selected":Y||void 0,"data-striped":re,onDragEnter:he,ref:ee=>{ee&&(ge.current=ee,c?.measureElement(ee))}},ue,{__vars:Object.assign(Object.assign({},ue?.__vars),{"--mrt-pinned-row-bottom":!h&&ae!==void 0&&Q?`${ae*X+(y?we-1:0)}`:void 0,"--mrt-pinned-row-top":h?void 0:te!==void 0&&Q?`${te*X+(x||W?se-1:0)}`:void 0,"--mrt-virtual-row-start":h?`${h.start}`:void 0}),className:Nt(KB.root,E?.startsWith("grid")&&KB["root-grid"],h&&KB["root-virtualized"],ue?.className),children:[H?b.jsx(De,{component:"td",display:"flex",w:H}):null,i||(L??u.getVisibleCells()).map((ee,fe)=>{let Re=ee;o&&(fe=ee.index,Re=z[fe]);const Oe={cell:Re,numRows:s,renderedColumnIndex:fe,renderedRowIndex:l,rowRef:ge,table:d,virtualCell:o?ee:void 0};return S==="cells"&&Re.column.columnDef.columnDefType==="data"&&!M&&!O&&j?.id!==Re.id&&U?.id!==u.id?b.jsx(SQt,Object.assign({},Oe),Re.id):b.jsx(O6e,Object.assign({},Oe),Re.id)}),B?b.jsx(De,{component:"td",display:"flex",w:B}):null]})),T&&!u.getIsGrouped()&&b.jsx(TQt,{parentRowRef:ge,renderedRowIndex:l,row:u,rowVirtualizer:c,striped:re,table:d,virtualRow:h})]})},QB=A.memo(QS,(e,t)=>e.row===t.row);var xE={root:"MRT_ExpandButton-module_root__IFYio","root-ltr":"MRT_ExpandButton-module_root-ltr__FHNnp",chevron:"MRT_ExpandButton-module_chevron__XzC5P",right:"MRT_ExpandButton-module_right__-pC-A",up:"MRT_ExpandButton-module_up__TZGBo","root-rtl":"MRT_ExpandButton-module_root-rtl__zoudS"};const iV=e=>{var t,n,{row:r,table:i}=e,o=On(e,["row","table"]);const s=lu(),{options:{icons:{IconChevronDown:a},localization:l,mantineExpandButtonProps:u,positionExpandColumn:c,renderDetailPanel:d}}=i,f=Object.assign(Object.assign({},Ft(u,{row:r,table:i})),o),h=r.getAllCells().filter(x=>x.column.columnDef.columnDefType==="data").map(x=>b.jsx(z$,{cell:x,table:i},x.id)),p=r.getCanExpand(),m=r.getIsExpanded(),g=!!d?.({internalEditComponents:h,row:r,table:i}),v=x=>{var E;x.stopPropagation(),r.toggleExpanded(),(E=f?.onClick)===null||E===void 0||E.call(f,x)},y=s.dir==="rtl"||c==="last";return b.jsx(ct,{disabled:!p&&!g,label:(t=f?.title)!==null&&t!==void 0?t:m?l.collapse:l.expand,openDelay:1e3,withinPortal:!0,children:b.jsx(on,Object.assign({"aria-label":l.expand,color:"gray",disabled:!p&&!g,variant:"subtle"},f,{__vars:{"--mrt-row-depth":`${r.depth}`},className:Nt("mrt-expand-button",xE.root,xE[`root-${y?"rtl":"ltr"}`],f?.className),onClick:v,title:void 0,children:(n=f?.children)!==null&&n!==void 0?n:b.jsx(a,{className:Nt("mrt-expand-button-chevron",xE.chevron,!p&&!d?xE.right:m?xE.up:void 0)})}))})},PQt=e=>{var t,n,{table:r,tableProps:i}=e,o=On(e,["table","tableProps"]);const{getState:s,options:{layoutMode:a,localization:l,renderDetailPanel:u,renderEmptyRowsFallback:c},refs:{tablePaperRef:d}}=r,{columnFilters:f,globalFilter:h}=s(),p=A.useMemo(()=>n_(r,"mrt-row-empty",{},0,0),[]),m=Object.assign(Object.assign({},o),{renderedRowIndex:0,row:p,virtualRow:void 0});return b.jsxs(QS,Object.assign({className:Nt("mrt-table-body-row",a?.startsWith("grid")&&pc["empty-row-tr-grid"]),table:r,tableProps:i},m,{children:[u&&b.jsx(OT,{className:Nt("mrt-table-body-cell",a?.startsWith("grid")&&pc["empty-row-td-grid"]),colSpan:1,children:b.jsx(iV,{row:p,table:r})}),b.jsx("td",{className:Nt("mrt-table-body-cell",a?.startsWith("grid")&&pc["empty-row-td-grid"]),colSpan:r.getVisibleLeafColumns().length,children:(t=c?.({table:r}))!==null&&t!==void 0?t:b.jsx($e,{__vars:{"--mrt-paper-width":`${(n=d.current)===null||n===void 0?void 0:n.clientWidth}`},className:Nt(pc["empty-row-td-content"]),children:h||f.length?l.noResultsFound:l.noRecordsToDisplay})})]}))},OQt=e=>{const{getRowModel:t,getState:n,options:{data:r,enableGlobalFilterRankedResults:i,positionCreatingRow:o}}=e,{creatingRow:s,expanded:a,globalFilter:l,pagination:u,rowPinning:c,sorting:d}=n();return A.useMemo(()=>N6e(e),[s,r,i,a,t().rows,l,u.pageIndex,u.pageSize,o,c,d])},L6e=(e,t)=>{const n=p6e(e);return t===void 0||(t>=0&&t<Math.max(e.startIndex-e.overscan,0)&&n.unshift(t),t>=0&&t>e.endIndex+e.overscan&&n.push(t)),n},NQt=(e,t)=>{var n;const{getRowModel:r,getState:i,options:{enableRowVirtualization:o,renderDetailPanel:s,rowVirtualizerInstanceRef:a,rowVirtualizerOptions:l},refs:{tableContainerRef:u}}=e,{density:c,draggingRow:d,expanded:f}=i();if(!o)return;const h=Ft(l,{table:e}),p=(n=t?.length)!==null&&n!==void 0?n:r().rows.length,m=c==="xs"?42.7:c==="md"?54.7:70.7,g=g6e(Object.assign({count:s?p*2:p,estimateSize:v=>s&&v%2===1?f===!0?100:0:m,getScrollElement:()=>u.current,measureElement:typeof window<"u"&&navigator.userAgent.indexOf("Firefox")===-1?v=>v?.getBoundingClientRect().height:void 0,overscan:4,rangeExtractor:A.useCallback(v=>{var y;return L6e(v,(y=d?.index)!==null&&y!==void 0?y:0)},[d])},h));return g.virtualRows=g.getVirtualItems(),a&&(a.current=g),g},F6e=e=>{var t,n,r,{columnVirtualizer:i,table:o,tableProps:s}=e,a=On(e,["columnVirtualizer","table","tableProps"]);const{getBottomRows:l,getIsSomeRowsPinned:u,getRowModel:c,getState:d,getTopRows:f,options:{enableStickyFooter:h,enableStickyHeader:p,layoutMode:m,mantineTableBodyProps:g,memoMode:v,renderDetailPanel:y,rowPinningDisplayMode:x},refs:{tableFooterRef:E,tableHeadRef:_}}=o,{isFullScreen:S,rowPinning:T}=d(),k=Object.assign(Object.assign({},Ft(g,{table:o})),a),R=(p||S)&&((t=_.current)===null||t===void 0?void 0:t.clientHeight)||0,I=h&&((n=E.current)===null||n===void 0?void 0:n.clientHeight)||0,P=A.useMemo(()=>{var U,q;return!(!((U=T.bottom)===null||U===void 0)&&U.length)&&!(!((q=T.top)===null||q===void 0)&&q.length)?[]:c().rows.filter(W=>W.getIsPinned()).map(W=>W.id)},[T,c().rows]),N=OQt(o),M=NQt(o,N),{virtualRows:O}=M??{},j={columnVirtualizer:i,numRows:N.length,table:o,tableProps:s};return b.jsxs(b.Fragment,{children:[!x?.includes("sticky")&&u("top")&&b.jsx(mS,Object.assign({},k,{__vars:Object.assign({"--mrt-table-head-height":`${R}`},k?.__vars),className:Nt(pc.pinned,m?.startsWith("grid")&&pc["root-grid"],k?.className),children:f().map((U,q)=>{const W=Object.assign(Object.assign({},j),{renderedRowIndex:q,row:U});return v==="rows"?b.jsx(QB,Object.assign({},W),U.id):b.jsx(QS,Object.assign({},W),U.id)})})),b.jsx(mS,Object.assign({},k,{__vars:Object.assign({"--mrt-table-body-height":M?`${M.getTotalSize()}px`:void 0},k?.__vars),className:Nt(pc.root,m?.startsWith("grid")&&pc["root-grid"],!N.length&&pc["root-no-rows"],M&&pc["root-virtualized"],k?.className),children:(r=k?.children)!==null&&r!==void 0?r:N.length?b.jsx(b.Fragment,{children:(O??N).map((U,q)=>{if(M)if(y){if(U.index%2===1)return null;q=U.index/2}else q=U.index;const W=M?N[q]:U,V=Object.assign(Object.assign({},j),{pinnedRowIds:P,renderedRowIndex:q,row:W,rowVirtualizer:M,virtualRow:M?U:void 0}),z=`${W.id}-${W.index}`;return v==="rows"?b.jsx(QB,Object.assign({},V),z):b.jsx(QS,Object.assign({},V),z)})}):b.jsx(PQt,Object.assign({},j))})),!x?.includes("sticky")&&u("bottom")&&b.jsx(mS,Object.assign({},k,{__vars:Object.assign({"--mrt-table-footer-height":`${I}`},k?.__vars),className:Nt(pc.pinned,m?.startsWith("grid")&&pc["root-grid"],k?.className),children:l().map((U,q)=>{const W=Object.assign(Object.assign({},j),{renderedRowIndex:q,row:U});return v==="rows"?b.jsx(QB,Object.assign({},W),U.id):b.jsx(QS,Object.assign({},W),U.id)})}))]})},MQt=A.memo(F6e,(e,t)=>e.table.options.data===t.table.options.data);var $Qt={"grab-icon":"MRT_GrabHandleButton-module_grab-icon__mQimy"};const ote=({actionIconProps:e,onDragEnd:t,onDragStart:n,table:{options:{icons:{IconGripHorizontal:r},localization:{move:i}}}})=>{var o,s;return b.jsx(ct,{label:(o=e?.title)!==null&&o!==void 0?o:i,openDelay:1e3,withinPortal:!0,children:b.jsx(on,Object.assign({"aria-label":(s=e?.title)!==null&&s!==void 0?s:i,draggable:!0},e,{className:Nt("mrt-grab-handle-button",$Qt["grab-icon"],e?.className),color:"gray",onClick:a=>{var l;a.stopPropagation(),(l=e?.onClick)===null||l===void 0||l.call(e,a)},onDragEnd:t,onDragStart:n,size:"sm",title:void 0,variant:"transparent",children:b.jsx(r,{size:"100%"})}))})},LQt=e=>{var{row:t,rowRef:n,table:r}=e,i=On(e,["row","rowRef","table"]);const{options:{mantineRowDragHandleProps:o}}=r,s=Object.assign(Object.assign({},Ft(o,{row:t,table:r})),i),a=u=>{var c;(c=s?.onDragStart)===null||c===void 0||c.call(s,u),u.dataTransfer.setDragImage(n.current,0,0),r.setDraggingRow(t)},l=u=>{var c;(c=s?.onDragEnd)===null||c===void 0||c.call(s,u),r.setDraggingRow(null),r.setHoveredRow(null)};return b.jsx(ote,{actionIconProps:s,onDragEnd:l,onDragStart:a,table:r})},JB=e=>{var{pinningPosition:t,row:n,table:r}=e,i=On(e,["pinningPosition","row","table"]);const{options:{icons:{IconPinned:o,IconX:s},localization:a,rowPinningDisplayMode:l}}=r,u=n.getIsPinned(),[c,d]=A.useState(!1),f=h=>{d(!1),h.stopPropagation(),n.pin(u?!1:t)};return b.jsx(ct,{label:u?a.unpin:a.pin,openDelay:1e3,opened:c,children:b.jsx(on,Object.assign({"aria-label":a.pin,color:"gray",onClick:f,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),size:"xs",style:{height:"24px",width:"24px"},variant:"subtle"},i,{children:u?b.jsx(s,{}):b.jsx(o,{fontSize:"small",style:{transform:`rotate(${l==="sticky"?135:t==="top"?180:0}deg)`}})}))})},FQt=e=>{var{row:t,table:n}=e,r=On(e,["row","table"]);const{getState:i,options:{enableRowPinning:o,rowPinningDisplayMode:s}}=n,{density:a}=i();if(!Ft(o,t))return null;const u=Object.assign({row:t,table:n},r);return s==="top-and-bottom"&&!t.getIsPinned()?b.jsxs(De,{style:{display:"flex",flexDirection:a==="xs"?"row":"column"},children:[b.jsx(JB,Object.assign({pinningPosition:"top"},u)),b.jsx(JB,Object.assign({pinningPosition:"bottom"},u))]}):b.jsx(JB,Object.assign({pinningPosition:s==="bottom"?"bottom":"top"},u))};var ZB={root:"MRT_ColumnPinningButtons-module_root__scTtW",left:"MRT_ColumnPinningButtons-module_left__W6Aog",right:"MRT_ColumnPinningButtons-module_right__7AJE3"};const jQt=({column:e,table:t})=>{const{options:{icons:{IconPinned:n,IconPinnedOff:r},localization:i}}=t;return b.jsx(lt,{className:Nt("mrt-column-pinning-buttons",ZB.root),children:e.getIsPinned()?b.jsx(ct,{label:i.unpin,withinPortal:!0,children:b.jsx(on,{color:"gray",onClick:()=>e.pin(!1),size:"md",variant:"subtle",children:b.jsx(r,{})})}):b.jsxs(b.Fragment,{children:[b.jsx(ct,{label:i.pinToLeft,withinPortal:!0,children:b.jsx(on,{color:"gray",onClick:()=>e.pin("left"),size:"md",variant:"subtle",children:b.jsx(n,{className:ZB.left})})}),b.jsx(ct,{label:i.pinToRight,withinPortal:!0,children:b.jsx(on,{color:"gray",onClick:()=>e.pin("right"),size:"md",variant:"subtle",children:b.jsx(n,{className:ZB.right})})})]})})};var BQt={root:"MRT_EditActionButtons-module_root__BfxVZ"};const j6e=e=>{var{row:t,table:n,variant:r="icon"}=e,i=On(e,["row","table","variant"]);const{getState:o,options:{icons:{IconCircleX:s,IconDeviceFloppy:a},localization:l,onCreatingRowCancel:u,onCreatingRowSave:c,onEditingRowCancel:d,onEditingRowSave:f},refs:{editInputRefs:h},setCreatingRow:p,setEditingRow:m}=n,{creatingRow:g,editingRow:v,isSaving:y}=o(),x=g?.id===t.id,E=v?.id===t.id,_=()=>{x?(u?.({row:t,table:n}),p(null)):E&&(d?.({row:t,table:n}),m(null)),t._valuesCache={}},S=()=>{var T;(T=Object.values(h?.current).filter(k=>{var R,I;return t.id===((I=(R=k?.name)===null||R===void 0?void 0:R.split("_"))===null||I===void 0?void 0:I[0])}))===null||T===void 0||T.forEach(k=>{k.value!==void 0&&Object.hasOwn(t?._valuesCache,k.name)&&(t._valuesCache[k.name]=k.value)}),x?c?.({exitCreatingMode:()=>p(null),row:t,table:n,values:t._valuesCache}):E&&f?.({exitEditingMode:()=>m(null),row:t,table:n,values:t?._valuesCache})};return b.jsx(De,Object.assign({className:Nt("mrt-edit-action-buttons",BQt.root),onClick:T=>T.stopPropagation()},i,{children:r==="icon"?b.jsxs(b.Fragment,{children:[b.jsx(ct,{label:l.cancel,withinPortal:!0,children:b.jsx(on,{"aria-label":l.cancel,color:"red",onClick:_,variant:"subtle",children:b.jsx(s,{})})}),b.jsx(ct,{label:l.save,withinPortal:!0,children:b.jsx(on,{"aria-label":l.save,color:"blue",loading:y,onClick:S,variant:"subtle",children:b.jsx(a,{})})})]}):b.jsxs(b.Fragment,{children:[b.jsx(Mt,{onClick:_,variant:"subtle",children:l.cancel}),b.jsx(Mt,{loading:y,onClick:S,variant:"filled",children:l.save})]})}))};var xD={root:"MRT_ExpandAllButton-module_root__gkBZD",chevron:"MRT_ExpandAllButton-module_chevron__Iep0j",up:"MRT_ExpandAllButton-module_up__Xth3U",right:"MRT_ExpandAllButton-module_right__bS4L-"};const zQt=e=>{var t,n,{table:r}=e,i=On(e,["table"]);const{getCanSomeRowsExpand:o,getIsAllRowsExpanded:s,getIsSomeRowsExpanded:a,getState:l,options:{icons:{IconChevronsDown:u},localization:c,mantineExpandAllButtonProps:d,renderDetailPanel:f},toggleAllRowsExpanded:h}=r,{density:p,isLoading:m}=l(),g=Object.assign(Object.assign({},Ft(d,{table:r})),i),v=s();return b.jsx(ct,{label:((t=g?.title)!==null&&t!==void 0?t:v)?c.collapseAll:c.expandAll,openDelay:1e3,withinPortal:!0,children:b.jsx(on,Object.assign({"aria-label":c.expandAll,color:"gray",variant:"subtle"},g,{className:Nt("mrt-expand-all-button",xD.root,g?.className,p),disabled:m||!f&&!o(),onClick:()=>h(!v),title:void 0,children:(n=g?.children)!==null&&n!==void 0?n:b.jsx(u,{className:Nt(xD.chevron,v?xD.up:a()?xD.right:void 0)})}))})};var E0e={root:"MRT_ShowHideColumnsMenu-module_root__2UWak",content:"MRT_ShowHideColumnsMenu-module_content__ehkWQ"},nw={root:"MRT_ShowHideColumnsMenuItems-module_root__wYgv-",menu:"MRT_ShowHideColumnsMenuItems-module_menu__CeATR",grab:"MRT_ShowHideColumnsMenuItems-module_grab__a-d-y",pin:"MRT_ShowHideColumnsMenuItems-module_pin__P437b",switch:"MRT_ShowHideColumnsMenuItems-module_switch__tMsdt",header:"MRT_ShowHideColumnsMenuItems-module_header__xVkKb"};const Qw=e=>{var t,n,r,i;return(i=(t=e.id)!==null&&t!==void 0?t:(r=(n=e.accessorKey)===null||n===void 0?void 0:n.toString)===null||r===void 0?void 0:r.call(n))!==null&&i!==void 0?i:e.header},o4=e=>{const t=[],n=r=>{r.forEach(i=>{i.columns?n(i.columns):t.push(i)})};return n(e),t},B6e=({columnDefs:e,tableOptions:t})=>{const{aggregationFns:n={},defaultDisplayColumn:r,filterFns:i={},sortingFns:o={},state:{columnFilterFns:s={}}={}}=t;return e.map(a=>{var l,u;if(a.id||(a.id=Qw(a)),a.columnDefType||(a.columnDefType="data"),!((l=a.columns)===null||l===void 0)&&l.length)a.columnDefType="group",a.columns=B6e({columnDefs:a.columns,tableOptions:t});else if(a.columnDefType==="data"){if(Array.isArray(a.aggregationFn)){const c=a.aggregationFn;a.aggregationFn=(d,f,h)=>c.map(p=>{var m;return(m=n[p])===null||m===void 0?void 0:m.call(n,d,f,h)})}Object.keys(i).includes(s[a.id])&&(a.filterFn=(u=i[s[a.id]])!==null&&u!==void 0?u:i.fuzzy,a._filterFn=s[a.id]),Object.keys(o).includes(a.sortingFn)&&(a.sortingFn=o[a.sortingFn])}else a.columnDefType==="display"&&(a=Object.assign(Object.assign({},r),a));return a})},z6e=(e,t,n)=>{e.getCanPin()&&e.pin(t.getIsPinned());const r=[...n];return r.splice(r.indexOf(t.id),0,r.splice(r.indexOf(e.id),1)[0]),r},UQt=e=>{const{filterVariant:t}=e;return t==="multi-select"?"arrIncludesSome":t?.includes("range")?"betweenInclusive":["checkbox","date","select"].includes(t||"")?"equals":"fuzzy"},U6e=({allColumns:e,column:t,hoveredColumn:n,setHoveredColumn:r,table:i})=>{var o;const s=eo(),{getState:a,options:{enableColumnOrdering:l,enableColumnPinning:u,enableHiding:c,localization:d},setColumnOrder:f}=i,{columnOrder:h}=a(),{columnDef:p}=t,{columnDefType:m}=p,g=m!=="group"&&t.getIsVisible()||m==="group"&&t.getLeafColumns().some(k=>k.getIsVisible()),v=k=>{var R,I;m==="group"?(I=(R=k?.columns)===null||R===void 0?void 0:R.forEach)===null||I===void 0||I.call(R,P=>{P.toggleVisibility(!g)}):k.toggleVisibility()},y=A.useRef(null),[x,E]=A.useState(!1),_=k=>{E(!0),k.dataTransfer.setDragImage(y.current,0,0)},S=k=>{E(!1),r(null),n&&f(z6e(t,n,h))},T=k=>{!x&&p.enableColumnOrdering!==!1&&r(t)};return!p.header||p.visibleInShowHideMenu===!1?null:b.jsxs(b.Fragment,{children:[b.jsx(Rn.Item,Object.assign({className:nw.root,component:"span",onDragEnter:T,ref:y,style:{"--_column-depth":`${(t.depth+.5)*2}rem`,"--_hover-color":CQt(s)}},r4("dragging",x),r4("order-hovered",n?.id===t.id),{children:b.jsxs(De,{className:nw.menu,children:[m!=="group"&&l&&!e.some(k=>k.columnDef.columnDefType==="group")&&(p.enableColumnOrdering!==!1?b.jsx(ote,{onDragEnd:S,onDragStart:_,table:i}):b.jsx(De,{className:nw.grab})),u&&(t.getCanPin()?b.jsx(jQt,{column:t,table:i}):b.jsx(De,{className:nw.pin})),c?b.jsx(ct,{label:d.toggleVisibility,openDelay:1e3,withinPortal:!0,children:b.jsx(r0,{checked:g,className:nw.switch,disabled:!t.getCanHide(),label:p.header,onChange:()=>v(t)})}):b.jsx($e,{className:nw.header,children:p.header})]})})),(o=t.columns)===null||o===void 0?void 0:o.map((k,R)=>b.jsx(U6e,{allColumns:e,column:k,hoveredColumn:n,setHoveredColumn:r,table:i},`${R}-${k.id}`))]})};function n1({header:e,id:t,size:n,tableOptions:r}){const{defaultDisplayColumn:i,displayColumnDefOptions:o,localization:s}=r;return Object.assign(Object.assign(Object.assign(Object.assign({},i),{header:e?s[e]:"",size:n}),o?.[t]),{id:t})}const H6e=e=>{const{enableRowPinning:t,rowPinningDisplayMode:n}=e;return!!(t&&!n?.startsWith("select"))},q6e=e=>{const{enableRowDragging:t,enableRowOrdering:n}=e;return!!(t||n)},ste=e=>{const{enableExpanding:t,enableGrouping:n,renderDetailPanel:r,state:{grouping:i}}=e;return!!(t||n&&i?.length||r)},ate=e=>{const{createDisplayMode:t,editDisplayMode:n,enableEditing:r,enableRowActions:i,state:{creatingRow:o}}=e;return!!(i||o&&t==="row"||r&&["modal","row"].includes(n??""))},V6e=e=>!!e.enableRowSelection,W6e=e=>!!e.enableRowNumbers,G6e=e=>e.layoutMode==="grid-no-grow",HQt=e=>[H6e(e)&&"mrt-row-pin",q6e(e)&&"mrt-row-drag",e.positionActionsColumn==="first"&&ate(e)&&"mrt-row-actions",e.positionExpandColumn==="first"&&ste(e)&&"mrt-row-expand",V6e(e)&&"mrt-row-select",W6e(e)&&"mrt-row-numbers"].filter(Boolean),qQt=e=>[e.positionActionsColumn==="last"&&ate(e)&&"mrt-row-actions",e.positionExpandColumn==="last"&&ste(e)&&"mrt-row-expand",G6e(e)&&"mrt-row-spacer"].filter(Boolean),lte=(e,t=!1)=>{const{state:{columnOrder:n=[]}}=e,r=HQt(e),i=qQt(e),o=o4(e.columns).map(a=>Qw(a));let s=t?o:Array.from(new Set([...n,...o]));return s=s.filter(a=>!r.includes(a)&&!i.includes(a)),[...r,...s,...i]},VQt=({table:e})=>{const{getAllColumns:t,getAllLeafColumns:n,getCenterLeafColumns:r,getIsAllColumnsVisible:i,getIsSomeColumnsPinned:o,getIsSomeColumnsVisible:s,getLeftLeafColumns:a,getRightLeafColumns:l,getState:u,options:{enableColumnOrdering:c,enableColumnPinning:d,enableHiding:f,localization:h}}=e,{columnOrder:p,columnPinning:m}=u(),g=E=>{n().filter(_=>_.columnDef.enableHiding!==!1).forEach(_=>_.toggleVisibility(E))},v=A.useMemo(()=>{const E=t();return p.length>0&&!E.some(_=>_.columnDef.columnDefType==="group")?[...a(),...Array.from(new Set(p)).map(_=>r().find(S=>S?.id===_)),...l()].filter(Boolean):E},[p,m,t(),r(),a(),l()]),[y,x]=A.useState(null);return b.jsxs(Rn.Dropdown,{className:Nt("mrt-show-hide-columns-menu",E0e.root),children:[b.jsxs(lt,{className:E0e.content,children:[f&&b.jsx(Mt,{disabled:!s(),onClick:()=>g(!1),variant:"subtle",children:h.hideAll}),c&&b.jsx(Mt,{onClick:()=>e.setColumnOrder(lte(e.options,!0)),variant:"subtle",children:h.resetOrder}),d&&b.jsx(Mt,{disabled:!o(),onClick:()=>e.resetColumnPinning(!0),variant:"subtle",children:h.unpinAll}),f&&b.jsx(Mt,{disabled:i(),onClick:()=>g(!0),variant:"subtle",children:h.showAll})]}),b.jsx(Rn.Divider,{}),v.map((E,_)=>b.jsx(U6e,{allColumns:v,column:E,hoveredColumn:y,setHoveredColumn:x,table:e},`${_}-${E.id}`))]})},WQt=e=>{var{table:t,title:n}=e,r=On(e,["table","title"]);const{icons:{IconColumns:i},localization:{showHideColumns:o}}=t.options;return b.jsxs(Rn,{closeOnItemClick:!1,withinPortal:!0,children:[b.jsx(ct,{label:n??o,withinPortal:!0,children:b.jsx(Rn.Target,{children:b.jsx(on,Object.assign({"aria-label":n??o,color:"gray",size:"lg",variant:"subtle"},r,{children:b.jsx(i,{})}))})}),b.jsx(VQt,{table:t})]})},GQt={md:"xs",xl:"md",xs:"xl"},YQt=e=>{var{table:{getState:t,options:{icons:{IconBaselineDensityLarge:n,IconBaselineDensityMedium:r,IconBaselineDensitySmall:i},localization:{toggleDensity:o}},setDensity:s},title:a}=e,l=On(e,["table","title"]);const{density:u}=t();return b.jsx(ct,{label:a??o,withinPortal:!0,children:b.jsx(on,Object.assign({"aria-label":a??o,color:"gray",onClick:()=>s(c=>GQt[c]),size:"lg",variant:"subtle"},l,{children:u==="xs"?b.jsx(i,{}):u==="md"?b.jsx(r,{}):b.jsx(n,{})}))})},KQt=e=>{var{table:{getState:t,options:{icons:{IconFilter:n,IconFilterOff:r},localization:{showHideFilters:i}},setShowColumnFilters:o},title:s}=e,a=On(e,["table","title"]);const{showColumnFilters:l}=t();return b.jsx(ct,{label:s??i,withinPortal:!0,children:b.jsx(on,Object.assign({"aria-label":s??i,color:"gray",onClick:()=>o(u=>!u),size:"lg",variant:"subtle"},a,{children:l?b.jsx(r,{}):b.jsx(n,{})}))})},XQt=e=>{var{table:{getState:t,options:{icons:{IconMaximize:n,IconMinimize:r},localization:{toggleFullScreen:i}},setIsFullScreen:o},title:s}=e,a=On(e,["table","title"]);const{isFullScreen:l}=t(),[u,c]=A.useState(!1),d=()=>{c(!1),o(f=>!f)};return b.jsx(ct,{label:s??i,opened:u,withinPortal:!0,children:b.jsx(on,Object.assign({"aria-label":s??i,color:"gray",onClick:d,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),size:"lg",variant:"subtle"},a,{children:l?b.jsx(r,{}):b.jsx(n,{})}))})},QQt=e=>{var{table:{getState:t,options:{icons:{IconSearch:n,IconSearchOff:r},localization:{showHideSearch:i}},refs:{searchInputRef:o},setShowGlobalFilter:s},title:a}=e,l=On(e,["table","title"]);const{globalFilter:u,showGlobalFilter:c}=t(),d=()=>{s(!c),setTimeout(()=>{var f;return(f=o.current)===null||f===void 0?void 0:f.focus()},100)};return b.jsx(ct,{label:a??i,withinPortal:!0,children:b.jsx(on,Object.assign({"aria-label":a??i,color:"gray",disabled:!!u,onClick:d,size:"lg",variant:"subtle"},l,{children:c?b.jsx(r,{}):b.jsx(n,{})}))})},JQt=e=>{var{handleEdit:t,row:n,table:r}=e,i=On(e,["handleEdit","row","table"]);const{options:{editDisplayMode:o,enableEditing:s,icons:{IconDots:a,IconEdit:l},localization:u,positionActionsColumn:c,renderRowActionMenuItems:d}}=r;return b.jsxs(Rn,{closeOnItemClick:!0,position:c==="first"?"bottom-start":c==="last"?"bottom-end":void 0,withinPortal:!0,children:[b.jsx(ct,{label:u.rowActions,openDelay:1e3,withinPortal:!0,children:b.jsx(Rn.Target,{children:b.jsx(on,Object.assign({"aria-label":u.rowActions,color:"gray",onClick:f=>f.stopPropagation(),size:"sm",variant:"subtle"},i,{children:b.jsx(a,{})}))})}),b.jsxs(Rn.Dropdown,{onClick:f=>f.stopPropagation(),children:[s&&o!=="table"&&b.jsx(Rn.Item,{leftSection:b.jsx(l,{}),onClick:t,children:u.edit}),d?.({row:n,table:r})]})]})},ZQt=({cell:e,row:t,table:n})=>{const{getState:r,options:{createDisplayMode:i,editDisplayMode:o,enableEditing:s,icons:{IconEdit:a},localization:{edit:l},renderRowActionMenuItems:u,renderRowActions:c},setEditingRow:d}=n,{creatingRow:f,editingRow:h}=r(),p=f?.id===t.id,m=h?.id===t.id,g=y=>{y.stopPropagation(),d(Object.assign({},t))},v=p&&i==="row"||m&&o==="row";return b.jsx(b.Fragment,{children:c&&!v?c({cell:e,row:t,table:n}):v?b.jsx(j6e,{row:t,table:n}):!u&&Ft(s,t)?b.jsx(ct,{label:l,openDelay:1e3,position:"right",withinPortal:!0,children:b.jsx(on,{"aria-label":l,color:"gray",disabled:!!h&&h.id!==t.id,onClick:g,size:"md",variant:"subtle",children:b.jsx(a,{})})}):u?b.jsx(JQt,{handleEdit:g,row:t,table:n}):null})};var e7={root:"MRT_TableFooter-module_root__-JXpw",grid:"MRT_TableFooter-module_grid__J3Ga-",sticky:"MRT_TableFooter-module_sticky__GcoK6"},S0e={root:"MRT_TableFooterRow-module_root__EuoPr","layout-mode-grid":"MRT_TableFooterRow-module_layout-mode-grid__dUEMF"},t7={root:"MRT_TableFooterCell-module_root__d8Scs",grid:"MRT_TableFooterCell-module_grid__H9jLk",group:"MRT_TableFooterCell-module_group__l3-p-"};const eJt=e=>{var t,n,r,i,o,{footer:s,renderedColumnIndex:a,table:l}=e,u=On(e,["footer","renderedColumnIndex","table"]);const c=lu(),{options:{enableColumnPinning:d,layoutMode:f,mantineTableFooterCellProps:h}}=l,{column:p}=s,{columnDef:m}=p,{columnDefType:g}=m,v=d&&m.columnDefType!=="group"&&p.getIsPinned(),y={column:p,table:l},x=Object.assign(Object.assign(Object.assign({},Ft(h,y)),Ft(m.mantineTableFooterCellProps,y)),u),E={minWidth:`max(calc(var(--header-${qd(s?.id)}-size) * 1px), ${(t=m.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--header-${qd(s.id)}-size) * 1px)`};return f==="grid"?E.flex=`${[0,!1].includes(m.grow)?0:`var(--header-${qd(s.id)}-size)`} 0 auto`:f==="grid-no-grow"&&(E.flex=`${+(m.grow||0)} 0 auto`),b.jsx(lx,Object.assign({colSpan:s.colSpan,"data-column-pinned":v||void 0,"data-first-right-pinned":v==="right"&&p.getIsFirstColumn(v)||void 0,"data-index":a,"data-last-left-pinned":v==="left"&&p.getIsLastColumn(v)||void 0},x,{__vars:Object.assign({"--mrt-cell-align":(n=x.align)!==null&&n!==void 0?n:g==="group"?"center":c.dir==="rtl"?"right":"left","--mrt-table-cell-left":v==="left"?`${p.getStart(v)}`:void 0,"--mrt-table-cell-right":v==="right"?`${p.getAfter(v)}`:void 0},x?.__vars),className:Nt(t7.root,f?.startsWith("grid")&&t7.grid,g==="group"&&t7.group,x?.className),style:_=>Object.assign(Object.assign({},E),Ft(x.style,_)),children:(r=x.children)!==null&&r!==void 0?r:s.isPlaceholder?null:(o=(i=Ft(m.Footer,{column:p,footer:s,table:l}))!==null&&i!==void 0?i:m.footer)!==null&&o!==void 0?o:null}))},tJt=e=>{var t,{columnVirtualizer:n,footerGroup:r,table:i}=e,o=On(e,["columnVirtualizer","footerGroup","table"]);const{options:{layoutMode:s,mantineTableFooterRowProps:a}}=i,{virtualColumns:l,virtualPaddingLeft:u,virtualPaddingRight:c}=n??{};if(!(!((t=r.headers)===null||t===void 0)&&t.some(f=>typeof f.column.columnDef.footer=="string"&&!!f.column.columnDef.footer||f.column.columnDef.Footer)))return null;const d=Object.assign(Object.assign({},Ft(a,{footerGroup:r,table:i})),o);return b.jsxs(Yp,Object.assign({className:Nt(S0e.root,s?.startsWith("grid")&&S0e["layout-mode-grid"])},d,{children:[u?b.jsx(De,{component:"th",display:"flex",w:u}):null,(l??r.headers).map((f,h)=>{let p=f;return n&&(h=f.index,p=r.headers[h]),b.jsx(eJt,{footer:p,renderedColumnIndex:h,table:i},p.id)}),c?b.jsx(De,{component:"th",display:"flex",w:c}):null]}))},nJt=e=>{var{columnVirtualizer:t,table:n}=e,r=On(e,["columnVirtualizer","table"]);const{getFooterGroups:i,getState:o,options:{enableStickyFooter:s,layoutMode:a,mantineTableFooterProps:l},refs:{tableFooterRef:u}}=n,{isFullScreen:c}=o(),d=Object.assign(Object.assign({},Ft(l,{table:n})),r),f=(c||s)&&s!==!1;return b.jsx(sG,Object.assign({},d,{className:Nt(e7.root,d?.className,f&&e7.sticky,a?.startsWith("grid")&&e7.grid),ref:h=>{u.current=h,d?.ref&&(d.ref.current=h)},children:i().map(h=>b.jsx(tJt,{columnVirtualizer:t,footerGroup:h,table:n},h.id))}))};var wg={root:"MRT_TableHead-module_root__j9NkO","root-grid":"MRT_TableHead-module_root-grid__c3aGl","root-table-row-group":"MRT_TableHead-module_root-table-row-group__d9FO4","root-sticky":"MRT_TableHead-module_root-sticky__0kuDE","banner-tr":"MRT_TableHead-module_banner-tr__EhT-x","banner-th":"MRT_TableHead-module_banner-th__KwM5a",grid:"MRT_TableHead-module_grid__OJ-td"},n7={root:"MRT_TableHeadRow-module_root__hUKv4","layout-mode-grid":"MRT_TableHeadRow-module_layout-mode-grid__4ZGri",sticky:"MRT_TableHeadRow-module_sticky__Ej7Ax"},Gs={root:"MRT_TableHeadCell-module_root__6y50a","root-grid":"MRT_TableHeadCell-module_root-grid__bAf1d","root-virtualized":"MRT_TableHeadCell-module_root-virtualized__CWLit","root-no-select":"MRT_TableHeadCell-module_root-no-select__BEOVU",content:"MRT_TableHeadCell-module_content__-pzSK","content-spaced":"MRT_TableHeadCell-module_content-spaced__S85Aa","content-center":"MRT_TableHeadCell-module_content-center__c-17L","content-right":"MRT_TableHeadCell-module_content-right__NSRZU","content-wrapper":"MRT_TableHeadCell-module_content-wrapper__py6aJ","content-wrapper-hidden-overflow":"MRT_TableHeadCell-module_content-wrapper-hidden-overflow__QY40r","content-wrapper-nowrap":"MRT_TableHeadCell-module_content-wrapper-nowrap__-4aIg",labels:"MRT_TableHeadCell-module_labels__oiMSr","labels-right":"MRT_TableHeadCell-module_labels-right__6ZJp-","labels-center":"MRT_TableHeadCell-module_labels-center__MM9q8","labels-sortable":"MRT_TableHeadCell-module_labels-sortable__tyuLr","labels-data":"MRT_TableHeadCell-module_labels-data__PvFGO","content-actions":"MRT_TableHeadCell-module_content-actions__utxbm"},rJt={"filter-mode-label":"MRT_TableHeadCellFilterContainer-module_filter-mode-label__8reK-"};const Y6e=(e,t,n,r)=>{const i=JKt(e.getValue(t),n,{threshold:il.MATCHES});return r(i),i.passed};Y6e.autoRemove=e=>!e;const K6e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().includes(n.toString().toLowerCase().trim())};K6e.autoRemove=e=>!e;const X6e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().startsWith(n.toString().toLowerCase().trim())};X6e.autoRemove=e=>!e;const Q6e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().endsWith(n.toString().toLowerCase().trim())};Q6e.autoRemove=e=>!e;const U$=(e,t,n)=>{var r;return((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())===n?.toString().toLowerCase().trim()};U$.autoRemove=e=>!e;const J6e=(e,t,n)=>{var r;return((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())!==n.toString().toLowerCase().trim()};J6e.autoRemove=e=>!e;const H$=(e,t,n)=>{var r;return!isNaN(+n)&&!isNaN(+e.getValue(t))?+e.getValue(t)>+n:((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())>n?.toString().toLowerCase().trim()};H$.autoRemove=e=>!e;const ute=(e,t,n)=>U$(e,t,n)||H$(e,t,n);ute.autoRemove=e=>!e;const q$=(e,t,n)=>{var r;return!isNaN(+n)&&!isNaN(+e.getValue(t))?+e.getValue(t)<+n:((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())<n?.toString().toLowerCase().trim()};q$.autoRemove=e=>!e;const cte=(e,t,n)=>U$(e,t,n)||q$(e,t,n);cte.autoRemove=e=>!e;const Z6e=(e,t,n)=>(["",void 0].includes(n[0])||H$(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||q$(e,t,n[1]));Z6e.autoRemove=e=>!e;const e5e=(e,t,n)=>(["",void 0].includes(n[0])||ute(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||cte(e,t,n[1]));e5e.autoRemove=e=>!e;const t5e=(e,t,n)=>{var r;return!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().trim())};t5e.autoRemove=e=>!e;const n5e=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().trim())};n5e.autoRemove=e=>!e;const iJt=Object.assign(Object.assign({},Xf),{between:Z6e,betweenInclusive:e5e,contains:K6e,empty:t5e,endsWith:Q6e,equals:U$,fuzzy:Y6e,greaterThan:H$,greaterThanOrEqualTo:ute,lessThan:q$,lessThanOrEqualTo:cte,notEmpty:n5e,notEquals:J6e,startsWith:X6e});function dte(e,t){var n;if(!t)return"";const r=`filter${t[0].toUpperCase()}${t.slice(1)}`;return(n=e[r])!==null&&n!==void 0?n:""}var oJt={root:"MRT_FilterCheckBox-module_root__59h9r"};const sJt=e=>{var t,n,r,{column:i,table:o}=e,s=On(e,["column","table"]);const{getState:a,options:{localization:l,mantineFilterCheckboxProps:u}}=o,{density:c}=a(),{columnDef:d}=i,f={column:i,table:o},h=Object.assign(Object.assign(Object.assign({},Ft(u,f)),Ft(d.mantineFilterCheckboxProps,f)),s),p=(t=l.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",d.header),m=i.getFilterValue();return b.jsx(ct,{label:(n=h?.title)!==null&&n!==void 0?n:p,openDelay:1e3,withinPortal:!0,children:b.jsx(Pa,Object.assign({checked:m==="true",className:Nt("mrt-filter-checkbox",oJt.root),indeterminate:m===void 0,label:(r=h.title)!==null&&r!==void 0?r:p,size:c==="xs"?"sm":"md"},h,{onChange:g=>{var v;i.setFilterValue(i.getFilterValue()===void 0?"true":i.getFilterValue()==="true"?"false":void 0),(v=h?.onChange)===null||v===void 0||v.call(h,g)},onClick:g=>{var v;g.stopPropagation(),(v=h?.onClick)===null||v===void 0||v.call(h,g)},title:void 0}))})};var aJt={root:"MRT_FilterRangeFields-module_root__KfCcg"},CE={root:"MRT_FilterTextInput-module_root__Ss8Ql","date-filter":"MRT_FilterTextInput-module_date-filter__jOBLB","range-filter":"MRT_FilterTextInput-module_range-filter__JQHAL","not-filter-chip":"MRT_FilterTextInput-module_not-filter-chip__u8b1y","filter-chip-badge":"MRT_FilterTextInput-module_filter-chip-badge__Sel2k"};const oV=e=>{var t,n,r,i,o,s,a,l,{header:u,rangeFilterIndex:c,table:d}=e,f=On(e,["header","rangeFilterIndex","table"]);const{options:{columnFilterDisplayMode:h,columnFilterModeOptions:p,icons:{IconX:m},localization:g,mantineFilterAutocompleteProps:v,mantineFilterDateInputProps:y,mantineFilterMultiSelectProps:x={clearable:!0},mantineFilterSelectProps:E,mantineFilterTextInputProps:_,manualFiltering:S},refs:{filterInputRefs:T},setColumnFilterFns:k}=d,{column:R}=u,{columnDef:I}=R,P={column:R,rangeFilterIndex:c,table:d},N=Object.assign(Object.assign(Object.assign({},Ft(_,P)),Ft(I.mantineFilterTextInputProps,P)),f),M=Object.assign(Object.assign({},Ft(E,P)),Ft(I.mantineFilterSelectProps,P)),O=Object.assign(Object.assign({},Ft(x,P)),Ft(I.mantineFilterMultiSelectProps,P)),j=Object.assign(Object.assign({},Ft(y,P)),Ft(I.mantineFilterDateInputProps,P)),U=Object.assign(Object.assign({},Ft(v,P)),Ft(I.mantineFilterAutocompleteProps,P)),q=I.filterVariant==="range"||I.filterVariant==="date-range"||c!==void 0,W=I.filterVariant==="select",V=I.filterVariant==="multi-select",z=I.filterVariant==="date"||I.filterVariant==="date-range",L=I.filterVariant==="autocomplete",H=(t=I?.columnFilterModeOptions)!==null&&t!==void 0?t:p,B=I._filterFn,Y=["empty","notEmpty"].includes(B)?dte(g,B):"",Q=q?c===0?g.min:c===1?g.max:"":(n=N?.placeholder)!==null&&n!==void 0?n:(r=g.filterByColumn)===null||r===void 0?void 0:r.replace("{column}",String(I.header)),ne=R.getFacetedUniqueValues(),ce=A.useMemo(()=>{var ee,fe,Re;return((Re=(fe=(ee=U?.data)!==null&&ee!==void 0?ee:M?.data)!==null&&fe!==void 0?fe:O?.data)!==null&&Re!==void 0?Re:(L||W||V)&&ne?Array.from(ne.keys()).filter(Oe=>Oe!==null).sort((Oe,Ae)=>Oe.localeCompare(Ae)):[]).filter(Oe=>Oe!=null)},[U?.data,ne,L,V,W,O?.data,M?.data]),le=A.useRef(!1),[ue,ae]=A.useState(()=>{var ee,fe;return V?R.getFilterValue()||[]:q?((ee=R.getFilterValue())===null||ee===void 0?void 0:ee[c])||"":(fe=R.getFilterValue())!==null&&fe!==void 0?fe:""}),[te]=tve(ue,S?400:200);A.useEffect(()=>{le.current&&(q?R.setFilterValue(ee=>{const fe=Array.isArray(ee)?ee:["",""];return fe[c]=te,fe}):R.setFilterValue(te??void 0))},[te]),A.useEffect(()=>{if(!le.current){le.current=!0;return}const ee=R.getFilterValue();ee===void 0?se():ae(q&&c!==void 0?(ee??["",""])[c]:ee??"")},[R.getFilterValue()]);const se=()=>{V?(ae([]),R.setFilterValue([])):q?(ae(""),R.setFilterValue(ee=>{const fe=Array.isArray(ee)?ee:["",""];return fe[c]=void 0,fe})):W?(ae(null),R.setFilterValue(null)):(ae(""),R.setFilterValue(void 0))},we=()=>{V?(ae([]),R.setFilterValue([])):(ae(""),R.setFilterValue(void 0)),k(ee=>{var fe;return Object.assign(Object.assign({},ee),{[u.id]:(fe=H?.[0])!==null&&fe!==void 0?fe:"fuzzy"})})},X={"aria-label":Q,className:Nt("mrt-filter-text-input",CE.root,z?CE["date-filter"]:q?CE["range-filter"]:!Y&&CE["not-filter-chip"]),disabled:!!Y,onChange:ae,onClick:ee=>ee.stopPropagation(),placeholder:Q,style:Object.assign({},V?O?.style:W?M?.style:z?j?.style:N?.style),title:Q,value:V&&!Array.isArray(ue)?[]:ue,variant:"unstyled"},{className:he}=X,ge=On(X,["className"]),re=ue?b.jsx(on,{"aria-label":g.clearFilter,color:"var(--mantine-color-gray-7)",onClick:se,size:"sm",title:(i=g.clearFilter)!==null&&i!==void 0?i:"",variant:"transparent",children:b.jsx(m,{})}):null;return I.Filter?b.jsx(b.Fragment,{children:(o=I.Filter)===null||o===void 0?void 0:o.call(I,{column:R,header:u,rangeFilterIndex:c,table:d})}):Y?b.jsx(De,{style:ge.style,children:b.jsx(Ii,{className:CE["filter-chip-badge"],onClick:we,rightSection:re,size:"lg",children:Y})}):V?b.jsx(Gp,Object.assign({},ge,{searchable:!0},O,{className:Nt(he,O.className),data:ce,onChange:ee=>ae(ee),ref:ee=>{ee&&(T.current[`${R.id}-${c??0}`]=ee,O.ref&&(O.ref.current=ee))},rightSection:!((s=ue?.toString())===null||s===void 0)&&s.length&&O?.clearable?re:void 0,style:ge.style})):W?b.jsx(um,Object.assign({},ge,{clearable:!0,searchable:!0},M,{className:Nt(he,M.className),clearButtonProps:{size:"md"},data:ce,ref:ee=>{ee&&(T.current[`${R.id}-${c??0}`]=ee,M.ref&&(M.ref.current=ee))},style:ge.style})):z?b.jsx(ite,Object.assign({},ge,{allowDeselect:!0,clearable:!0,popoverProps:{withinPortal:h!=="popover"}},j,{className:Nt(he,j.className),onChange:ee=>ge.onChange(ee===null?"":ee),ref:ee=>{ee&&(T.current[`${R.id}-${c??0}`]=ee,j.ref&&(j.ref.current=ee))},style:ge.style})):L?b.jsx(vW,Object.assign({},ge,{onChange:ee=>ae(ee),rightSection:!((a=ue?.toString())===null||a===void 0)&&a.length?re:void 0},U,{className:Nt(he,U.className),data:ce,ref:ee=>{ee&&(T.current[`${R.id}-${c??0}`]=ee,U.ref&&(U.ref.current=ee))},style:ge.style})):b.jsx(fl,Object.assign({},ge,{onChange:ee=>ae(ee.target.value),rightSection:!((l=ue?.toString())===null||l===void 0)&&l.length?re:void 0},N,{className:Nt(he,N.className),mt:0,ref:ee=>{ee&&(T.current[`${R.id}-${c??0}`]=ee,N.ref&&(N.ref.current=ee))},style:ge.style}))},lJt=e=>{var{header:t,table:n}=e,r=On(e,["header","table"]);return b.jsxs(De,Object.assign({},r,{className:Nt("mrt-filter-range-fields",aJt.root,r.className),children:[b.jsx(oV,{header:t,rangeFilterIndex:0,table:n}),b.jsx(oV,{header:t,rangeFilterIndex:1,table:n})]}))};var uJt={root:"MRT_FilterRangeSlider-module_root__uwYEk"};const cJt=e=>{var t,{header:n,table:r}=e,i=On(e,["header","table"]);const{options:{mantineFilterRangeSliderProps:o},refs:{filterInputRefs:s}}=r,{column:a}=n,{columnDef:l}=a,u={column:a,table:r},c=Object.assign(Object.assign(Object.assign({},Ft(o,u)),Ft(l.mantineFilterRangeSliderProps,u)),i);let[d,f]=c.min!==void 0&&c.max!==void 0?[c.min,c.max]:(t=a.getFacetedMinMaxValues())!==null&&t!==void 0?t:[0,1];Array.isArray(d)&&(d=d[0]),Array.isArray(f)&&(f=f[0]),d===null&&(d=0),f===null&&(f=1);const[h,p]=A.useState([d,f]),m=a.getFilterValue(),g=A.useRef(!1);return A.useEffect(()=>{g.current&&(m===void 0?p([d,f]):Array.isArray(m)&&p(m)),g.current=!0},[m,d,f]),b.jsx(nG,Object.assign({className:Nt("mrt-filter-range-slider",uJt.root),max:f,min:d,onChange:v=>{p(v)},onChangeEnd:v=>{Array.isArray(v)&&(v[0]<=d&&v[1]>=f?a.setFilterValue(void 0):a.setFilterValue(v))},value:h},c,{ref:v=>{v&&(s.current[`${a.id}-0`]=v,c?.ref&&(c.ref=v))}}))};var dJt={symbol:"MRT_FilterOptionMenu-module_symbol__a1Bsy"};const fJt=e=>[{divider:!1,label:e.filterFuzzy,option:"fuzzy",symbol:""},{divider:!1,label:e.filterContains,option:"contains",symbol:"*"},{divider:!1,label:e.filterStartsWith,option:"startsWith",symbol:"a"},{divider:!0,label:e.filterEndsWith,option:"endsWith",symbol:"z"},{divider:!1,label:e.filterEquals,option:"equals",symbol:"="},{divider:!0,label:e.filterNotEquals,option:"notEquals",symbol:""},{divider:!1,label:e.filterBetween,option:"between",symbol:""},{divider:!0,label:e.filterBetweenInclusive,option:"betweenInclusive",symbol:""},{divider:!1,label:e.filterGreaterThan,option:"greaterThan",symbol:">"},{divider:!1,label:e.filterGreaterThanOrEqualTo,option:"greaterThanOrEqualTo",symbol:""},{divider:!1,label:e.filterLessThan,option:"lessThan",symbol:"<"},{divider:!0,label:e.filterLessThanOrEqualTo,option:"lessThanOrEqualTo",symbol:""},{divider:!1,label:e.filterEmpty,option:"empty",symbol:""},{divider:!1,label:e.filterNotEmpty,option:"notEmpty",symbol:"!"}],CD=["between","betweenInclusive","inNumberRange"],r7=["empty","notEmpty"],hJt=["arrIncludesSome","arrIncludesAll","arrIncludes"],T0e=["range-slider","date-range","range"],r5e=({header:e,onSelect:t,table:n})=>{var r,i,o,s;const{getState:a,options:{columnFilterModeOptions:l,globalFilterModeOptions:u,localization:c,renderColumnFilterModeMenuItems:d,renderGlobalFilterModeMenuItems:f},setColumnFilterFns:h,setGlobalFilterFn:p}=n,{globalFilterFn:m}=a(),{column:g}=e??{},{columnDef:v}=g??{},y=g?.getFilterValue();let x=(r=v?.columnFilterModeOptions)!==null&&r!==void 0?r:l;T0e.includes(v?.filterVariant)&&(x=[...CD,...x??[]].filter(T=>CD.includes(T)));const E=A.useMemo(()=>fJt(c).filter(T=>v?x===void 0||x?.includes(T.option):(!u||u.includes(T.option))&&["contains","fuzzy","startsWith"].includes(T.option)),[]),_=T=>{var k;const R=(k=v?._filterFn)!==null&&k!==void 0?k:"";!e||!g?p(T):T!==R&&(h(I=>Object.assign(Object.assign({},I),{[e.id]:T})),r7.includes(T)?y!==" "&&!r7.includes(R)?g.setFilterValue(" "):y&&g.setFilterValue(y):v?.filterVariant==="multi-select"||hJt.includes(T)?y instanceof String||y?.length?g.setFilterValue([]):y&&g.setFilterValue(y):T0e.includes(v?.filterVariant)||CD.includes(T)?!Array.isArray(y)||!y?.every(I=>I==="")&&!CD.includes(R)?g.setFilterValue(["",""]):g.setFilterValue(y):Array.isArray(y)?g.setFilterValue(""):y===" "&&r7.includes(R)?g.setFilterValue(void 0):g.setFilterValue(y)),t?.()},S=e&&v?v._filterFn:m;return b.jsx(Rn.Dropdown,{children:(s=e&&g&&v?(o=(i=v.renderColumnFilterModeMenuItems)===null||i===void 0?void 0:i.call(v,{column:g,internalFilterOptions:E,onSelectFilterMode:_,table:n}))!==null&&o!==void 0?o:d?.({column:g,internalFilterOptions:E,onSelectFilterMode:_,table:n}):f?.({internalFilterOptions:E,onSelectFilterMode:_,table:n}))!==null&&s!==void 0?s:E.map(({divider:T,label:k,option:R,symbol:I},P)=>b.jsxs(A.Fragment,{children:[b.jsx(Rn.Item,{color:R===S?"blue":void 0,leftSection:b.jsx("span",{className:dJt.symbol,children:I}),onClick:()=>_(R),value:R,children:k}),T&&b.jsx(Rn.Divider,{})]},P))})},i5e=e=>{var t,n,{header:r,table:i}=e,o=On(e,["header","table"]);const{getState:s,options:{columnFilterDisplayMode:a,columnFilterModeOptions:l,enableColumnFilterModes:u,icons:{IconFilterCog:c},localization:d},refs:{filterInputRefs:f}}=i,{showColumnFilters:h}=s(),{column:p}=r,{columnDef:m}=p,g=m._filterFn,v=(t=m?.columnFilterModeOptions)!==null&&t!==void 0?t:l,y=u&&m.enableColumnFilterModes!==!1&&(v===void 0||!!v?.length);return b.jsx(Uh,{in:h||a==="popover",children:b.jsxs(lt,Object.assign({direction:"column"},o,{children:[b.jsxs(lt,{align:"flex-end",children:[m.filterVariant==="checkbox"?b.jsx(sJt,{column:p,table:i}):m.filterVariant==="range-slider"?b.jsx(cJt,{header:r,table:i}):["date-range","range"].includes((n=m.filterVariant)!==null&&n!==void 0?n:"")||["between","betweenInclusive","inNumberRange"].includes(m._filterFn)?b.jsx(lJt,{header:r,table:i}):b.jsx(oV,{header:r,table:i}),y&&b.jsxs(Rn,{withinPortal:a!=="popover",children:[b.jsx(ct,{label:d.changeFilterMode,position:"bottom-start",withinPortal:!0,children:b.jsx(Rn.Target,{children:b.jsx(on,{"aria-label":d.changeFilterMode,color:"gray",size:"md",variant:"subtle",children:b.jsx(c,{})})})}),b.jsx(r5e,{header:r,onSelect:()=>setTimeout(()=>{var x;return(x=f.current[`${p.id}-0`])===null||x===void 0?void 0:x.focus()},100),table:i})]})]}),y?b.jsx($e,{c:"dimmed",className:rJt["filter-mode-label"],component:"label",children:d.filterMode.replace("{filterType}",dte(d,g))}):null]}))})};var pJt={root:"MRT_TableHeadCellFilterLabel-module_root__Rur2R"};const mJt=e=>{var t,n,r,{header:i,table:o}=e,s=On(e,["header","table"]);const{options:{columnFilterDisplayMode:a,icons:{IconFilter:l},localization:u},refs:{filterInputRefs:c},setShowColumnFilters:d}=o,{column:f}=i,{columnDef:h}=f,p=f.getFilterValue(),[m,g]=A.useState(!1),v=Array.isArray(p)&&p.some(Boolean)||!!p&&!Array.isArray(p),y=h.filterVariant==="range"||h.filterVariant==="date-range"||["between","betweenInclusive","inNumberRange"].includes(h._filterFn),x=h._filterFn,E=h.filterTooltipValueFn||(S=>S),_=a==="popover"&&!v?(t=u.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",String(h.header)):u.filteringByColumn.replace("{column}",String(h.header)).replace("{filterType}",dte(u,x)).replace("{filterValue}",`"${Array.isArray(f.getFilterValue())?f.getFilterValue().map(S=>E(S)).join(`" ${y?u.and:u.or} "`):E(f.getFilterValue())}"`).replace('" "',"");return b.jsx(b.Fragment,{children:b.jsxs(Cr,{keepMounted:h.filterVariant==="range-slider",onChange:g,onClose:()=>g(!1),opened:m,position:"top",shadow:"xl",width:360,withinPortal:!0,children:[b.jsx(Vc,{mounted:a==="popover"||!!f.getFilterValue()&&!y||y&&(!!(!((n=f.getFilterValue())===null||n===void 0)&&n[0])||!!(!((r=f.getFilterValue())===null||r===void 0)&&r[1])),transition:"scale",children:()=>b.jsx(Cr.Target,{children:b.jsx(ct,{disabled:m,label:_,multiline:!0,w:_.length>40?300:void 0,withinPortal:!0,children:b.jsx(on,Object.assign({className:Nt("mrt-table-head-cell-filter-label-icon",pJt.root),size:18},r4("active",v),{onClick:S=>{S.stopPropagation(),a==="popover"?g(T=>!T):d(!0),setTimeout(()=>{const T=c.current[`${f.id}-0`];T?.focus(),T?.select()},100)}},s,{children:b.jsx(l,{size:"100%"})}))})})}),a==="popover"&&b.jsx(Cr.Dropdown,{onClick:S=>S.stopPropagation(),onKeyDown:S=>S.key==="Enter"&&g(!1),onMouseDown:S=>S.stopPropagation(),children:b.jsx(i5e,{header:i,table:o})})]})})},gJt=e=>{var{column:t,table:n,tableHeadCellRef:r}=e,i=On(e,["column","table","tableHeadCellRef"]);const{getState:o,options:{enableColumnOrdering:s,mantineColumnDragHandleProps:a},setColumnOrder:l,setDraggingColumn:u,setHoveredColumn:c}=n,{columnDef:d}=t,{columnOrder:f,draggingColumn:h,hoveredColumn:p}=o(),m={column:t,table:n},g=Object.assign(Object.assign(Object.assign({},Ft(a,m)),Ft(d.mantineColumnDragHandleProps,m)),i),v=x=>{var E;(E=g?.onDragStart)===null||E===void 0||E.call(g,x),u(t),x.dataTransfer.setDragImage(r.current,0,0)},y=x=>{var E;(E=g?.onDragEnd)===null||E===void 0||E.call(g,x),p?.id==="drop-zone"?t.toggleGrouping():s&&p&&p?.id!==h?.id&&l(z6e(t,p,f)),u(null),c(null)};return b.jsx(ote,{actionIconProps:g,onDragEnd:y,onDragStart:v,table:n})};var i7={root:"MRT_TableHeadCellResizeHandle-module_root__paufe","root-ltr":"MRT_TableHeadCellResizeHandle-module_root-ltr__652AZ","root-rtl":"MRT_TableHeadCellResizeHandle-module_root-rtl__5VlSo","root-hide":"MRT_TableHeadCellResizeHandle-module_root-hide__-ILlD"};const yJt=e=>{var t,{header:n,table:r}=e,i=On(e,["header","table"]);const{getState:o,options:{columnResizeDirection:s,columnResizeMode:a},setColumnSizingInfo:l}=r,{density:u}=o(),{column:c}=n,d=n.getResizeHandler(),f=c.getIsResizing()&&a==="onEnd"?`translateX(${(s==="rtl"?-1:1)*((t=o().columnSizingInfo.deltaOffset)!==null&&t!==void 0?t:0)}px)`:void 0;return b.jsx(De,Object.assign({onDoubleClick:()=>{l(h=>Object.assign(Object.assign({},h),{isResizingColumn:!1})),c.resetSize()},onMouseDown:d,onTouchStart:d,role:"separator"},i,{__vars:Object.assign({"--mrt-transform":f},i.__vars),className:Nt("mrt-table-head-cell-resize-handle",i7.root,i7[`root-${s}`],!n.subHeaders.length&&a==="onChange"&&i7["root-hide"],u,i.className)}))};var k0e={"sort-icon":"MRT_TableHeadCellSortLabel-module_sort-icon__zs1xA","multi-sort-indicator":"MRT_TableHeadCellSortLabel-module_multi-sort-indicator__MGBj2"};const vJt=e=>{var{header:t,table:n}=e,r=On(e,["header","table"]);const{getState:i,options:{icons:{IconArrowsSort:o,IconSortAscending:s,IconSortDescending:a},localization:l}}=n,u=t.column,{columnDef:c}=u,{sorting:d}=i(),f=u.getIsSorted(),h=u.getSortIndex(),p=f?f==="desc"?l.sortedByColumnDesc.replace("{column}",c.header):l.sortedByColumnAsc.replace("{column}",c.header):u.getNextSortingOrder()==="desc"?l.sortByColumnDesc.replace("{column}",c.header):l.sortByColumnAsc.replace("{column}",c.header),m=b.jsx(on,Object.assign({"aria-label":p},r4("sorted",f),r,{className:Nt("mrt-table-head-sort-button",k0e["sort-icon"],r.className),children:f==="desc"?b.jsx(a,{size:"100%"}):f==="asc"?b.jsx(s,{size:"100%"}):b.jsx(o,{size:"100%"})}));return b.jsx(ct,{label:p,openDelay:1e3,withinPortal:!0,children:d.length<2||h===-1?m:b.jsx(j4,{className:Nt("mrt-table-head-multi-sort-indicator",k0e["multi-sort-indicator"]),inline:!0,label:h+1,offset:4,children:m})})};var A0e={left:"MRT_ColumnActionMenu-module_left__cfNmY",right:"MRT_ColumnActionMenu-module_right__-nK56"};const bJt=e=>{var t,n,r,i,o,s,a,l,u,c,{header:d,table:f}=e,h=On(e,["header","table"]);const{getState:p,options:{columnFilterDisplayMode:m,enableColumnFilters:g,enableColumnPinning:v,enableColumnResizing:y,enableGrouping:x,enableHiding:E,enableSorting:_,enableSortingRemoval:S,icons:{IconArrowAutofitContent:T,IconBoxMultiple:k,IconClearAll:R,IconColumns:I,IconDotsVertical:P,IconEyeOff:N,IconFilter:M,IconFilterOff:O,IconPinned:j,IconPinnedOff:U,IconSortAscending:q,IconSortDescending:W},localization:V,mantineColumnActionsButtonProps:z,renderColumnActionsMenuItems:L},refs:{filterInputRefs:H},setColumnOrder:B,setColumnSizingInfo:Y,setShowColumnFilters:Q,toggleAllColumnsVisible:ne}=f,{column:ce}=d,{columnDef:le}=ce,{columnSizing:ue,columnVisibility:ae}=p(),te={column:ce,table:f},se=Object.assign(Object.assign({},Ft(z,te)),Ft(le.mantineColumnActionsButtonProps,te)),we=()=>{ce.clearSorting()},X=()=>{ce.toggleSorting(!1)},he=()=>{ce.toggleSorting(!0)},ge=()=>{Y(xe=>Object.assign(Object.assign({},xe),{isResizingColumn:!1})),ce.resetSize()},re=()=>{ce.toggleVisibility(!1)},ee=xe=>{ce.pin(xe)},fe=()=>{ce.toggleGrouping(),B(xe=>["mrt-row-expand",...xe])},Re=()=>{ce.setFilterValue("")},Oe=()=>{Q(!0),setTimeout(()=>{var xe;return(xe=H.current[`${ce.id}-0`])===null||xe===void 0?void 0:xe.focus()},100)},Ae=()=>{ne(!0)},Se=b.jsxs(b.Fragment,{children:[_&&ce.getCanSort()&&b.jsxs(b.Fragment,{children:[S!==!1&&b.jsx(Rn.Item,{disabled:!ce.getIsSorted(),leftSection:b.jsx(R,{}),onClick:we,children:V.clearSort}),b.jsx(Rn.Item,{disabled:ce.getIsSorted()==="asc",leftSection:b.jsx(q,{}),onClick:X,children:(t=V.sortByColumnAsc)===null||t===void 0?void 0:t.replace("{column}",String(le.header))}),b.jsx(Rn.Item,{disabled:ce.getIsSorted()==="desc",leftSection:b.jsx(W,{}),onClick:he,children:(n=V.sortByColumnDesc)===null||n===void 0?void 0:n.replace("{column}",String(le.header))}),(g||x||E)&&b.jsx(Rn.Divider,{},3)]}),g&&m!=="popover"&&ce.getCanFilter()&&b.jsxs(b.Fragment,{children:[b.jsx(Rn.Item,{disabled:!ce.getFilterValue(),leftSection:b.jsx(O,{}),onClick:Re,children:V.clearFilter}),b.jsx(Rn.Item,{leftSection:b.jsx(M,{}),onClick:Oe,children:(r=V.filterByColumn)===null||r===void 0?void 0:r.replace("{column}",String(le.header))}),(x||E)&&b.jsx(Rn.Divider,{},2)]}),x&&ce.getCanGroup()&&b.jsxs(b.Fragment,{children:[b.jsx(Rn.Item,{leftSection:b.jsx(k,{}),onClick:fe,children:(i=V[ce.getIsGrouped()?"ungroupByColumn":"groupByColumn"])===null||i===void 0?void 0:i.replace("{column}",String(le.header))}),v&&b.jsx(Rn.Divider,{})]}),v&&ce.getCanPin()&&b.jsxs(b.Fragment,{children:[b.jsx(Rn.Item,{disabled:ce.getIsPinned()==="left"||!ce.getCanPin(),leftSection:b.jsx(j,{className:A0e.left}),onClick:()=>ee("left"),children:V.pinToLeft}),b.jsx(Rn.Item,{disabled:ce.getIsPinned()==="right"||!ce.getCanPin(),leftSection:b.jsx(j,{className:A0e.right}),onClick:()=>ee("right"),children:V.pinToRight}),b.jsx(Rn.Item,{disabled:!ce.getIsPinned(),leftSection:b.jsx(U,{}),onClick:()=>ee(!1),children:V.unpin}),E&&b.jsx(Rn.Divider,{})]}),y&&ce.getCanResize()&&b.jsx(Rn.Item,{disabled:!ue[ce.id],leftSection:b.jsx(T,{}),onClick:ge,children:V.resetColumnSize},0),E&&b.jsxs(b.Fragment,{children:[b.jsx(Rn.Item,{disabled:!ce.getCanHide(),leftSection:b.jsx(N,{}),onClick:re,children:(o=V.hideColumn)===null||o===void 0?void 0:o.replace("{column}",String(le.header))},0),b.jsx(Rn.Item,{disabled:!Object.values(ae).filter(xe=>!xe).length,leftSection:b.jsx(I,{}),onClick:Ae,children:(s=V.showAllColumns)===null||s===void 0?void 0:s.replace("{column}",String(le.header))},1)]})]});return b.jsxs(Rn,Object.assign({closeOnItemClick:!0,position:"bottom-start",withinPortal:!0},h,{children:[b.jsx(ct,{label:(a=se?.title)!==null&&a!==void 0?a:V.columnActions,openDelay:1e3,withinPortal:!0,children:b.jsx(Rn.Target,{children:b.jsx(on,Object.assign({"aria-label":V.columnActions,color:"gray",size:"sm",variant:"subtle"},se,{children:b.jsx(P,{size:"100%"})}))})}),b.jsx(Rn.Dropdown,{children:(c=(u=(l=le.renderColumnActionsMenuItems)===null||l===void 0?void 0:l.call(le,{column:ce,internalColumnMenuItems:Se,table:f}))!==null&&u!==void 0?u:L?.({column:ce,internalColumnMenuItems:Se,table:f}))!==null&&c!==void 0?c:Se})]}))},wJt=e=>{var t,n,r,i,o,s,{columnVirtualizer:a,header:l,renderedHeaderIndex:u=0,table:c}=e,d=On(e,["columnVirtualizer","header","renderedHeaderIndex","table"]);const f=lu(),{getState:h,options:{columnFilterDisplayMode:p,columnResizeDirection:m,columnResizeMode:g,enableColumnActions:v,enableColumnDragging:y,enableColumnOrdering:x,enableColumnPinning:E,enableGrouping:_,enableHeaderActionsHoverReveal:S,enableMultiSort:T,layoutMode:k,mantineTableHeadCellProps:R},refs:{tableHeadCellRefs:I},setHoveredColumn:P}=c,{columnSizingInfo:N,draggingColumn:M,grouping:O,hoveredColumn:j}=h(),{column:U}=l,{columnDef:q}=U,{columnDefType:W}=q,V={column:U,table:c},z=Object.assign(Object.assign(Object.assign({},Ft(R,V)),Ft(q.mantineTableHeadCellProps,V)),d),L={minWidth:`max(calc(var(--header-${qd(l?.id)}-size) * 1px), ${(t=q.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--header-${qd(l.id)}-size) * 1px)`};k==="grid"?L.flex=`${[0,!1].includes(q.grow)?0:`var(--header-${qd(l.id)}-size)`} 0 auto`:k==="grid-no-grow"&&(L.flex=`${+(q.grow||0)} 0 auto`);const H=E&&q.columnDefType!=="group"&&U.getIsPinned(),B=M?.id===U.id,Y=j?.id===U.id,{hovered:Q,ref:ne}=yFe(),[ce,le]=A.useState(!1),ue=(v||q.enableColumnActions)&&q.enableColumnActions!==!1,ae=!S||ce||Q&&!c.getVisibleFlatColumns().find(he=>he.getIsResizing()),te=y!==!1&&q.enableColumnDragging!==!1&&(y||x&&q.enableColumnOrdering!==!1||_&&q.enableGrouping!==!1&&!O.includes(U.id))&&ae,se=A.useMemo(()=>{let he=0;return U.getCanSort()&&he++,ae&&(he+=1.75),te&&(he+=1.25),he},[ae,te]),we=he=>{_&&j?.id==="drop-zone"&&P(null),x&&M&&W!=="group"&&P(q.enableColumnOrdering!==!1?U:null)},X=q?.Header instanceof Function?(n=q?.Header)===null||n===void 0?void 0:n.call(q,{column:U,header:l,table:c}):(r=q?.Header)!==null&&r!==void 0?r:q.header;return b.jsxs(lx,Object.assign({colSpan:l.colSpan,"data-column-pinned":H||void 0,"data-dragging-column":B||void 0,"data-first-right-pinned":H==="right"&&U.getIsFirstColumn(H)||void 0,"data-hovered-column-target":Y||void 0,"data-index":u,"data-last-left-pinned":H==="left"&&U.getIsLastColumn(H)||void 0,"data-resizing":g==="onChange"&&N?.isResizingColumn===U.id&&m||void 0},z,{__vars:{"--mrt-table-cell-left":H==="left"?`${U.getStart(H)}`:void 0,"--mrt-table-cell-right":H==="right"?`${U.getAfter(H)}`:void 0},align:W==="group"?"center":f.dir==="rtl"?"right":"left",className:Nt(Gs.root,k?.startsWith("grid")&&Gs["root-grid"],T&&U.getCanSort()&&Gs["root-no-select"],a&&Gs["root-virtualized"],z?.className),onDragEnter:we,ref:he=>{var ge;he&&(I.current[U.id]=he,ne.current=he,W!=="group"&&((ge=a?.measureElement)===null||ge===void 0||ge.call(a,he)))},style:he=>Object.assign(Object.assign({},L),Ft(z?.style,he)),children:[l.isPlaceholder?null:(i=z.children)!==null&&i!==void 0?i:b.jsxs(lt,{className:Nt("mrt-table-head-cell-content",Gs.content,(W==="group"||z?.align==="center")&&Gs["content-center"],z?.align==="right"&&Gs["content-right"],U.getCanResize()&&Gs["content-spaced"]),children:[b.jsxs(lt,{__vars:{"--mrt-table-head-cell-labels-padding-left":`${se}`},className:Nt("mrt-table-head-cell-labels",Gs.labels,U.getCanSort()&&W!=="group"&&Gs["labels-sortable"],z?.align==="right"?Gs["labels-right"]:z?.align==="center"&&Gs["labels-center"],W==="data"&&Gs["labels-data"]),onClick:U.getToggleSortingHandler(),children:[b.jsx(lt,{className:Nt("mrt-table-head-cell-content-wrapper",Gs["content-wrapper"],W==="data"&&Gs["content-wrapper-hidden-overflow"],((s=(o=q.header)===null||o===void 0?void 0:o.length)!==null&&s!==void 0?s:0)<20&&Gs["content-wrapper-nowrap"]),children:X}),U.getCanFilter()&&(U.getIsFiltered()||ae)&&b.jsx(mJt,{header:l,table:c}),U.getCanSort()&&(U.getIsSorted()||ae)&&b.jsx(vJt,{header:l,table:c})]}),W!=="group"&&b.jsxs(lt,{className:Nt("mrt-table-head-cell-content-actions",Gs["content-actions"]),children:[te&&b.jsx(gJt,{column:U,table:c,tableHeadCellRef:{current:I.current[U.id]}}),ue&&ae&&b.jsx(bJt,{header:l,onChange:le,opened:ce,table:c})]}),U.getCanResize()&&b.jsx(yJt,{header:l,table:c})]}),p==="subheader"&&U.getCanFilter()&&b.jsx(i5e,{header:l,table:c})]}))},xJt=e=>{var{columnVirtualizer:t,headerGroup:n,table:r}=e,i=On(e,["columnVirtualizer","headerGroup","table"]);const{getState:o,options:{enableStickyHeader:s,layoutMode:a,mantineTableHeadRowProps:l}}=r,{isFullScreen:u}=o(),{virtualColumns:c,virtualPaddingLeft:d,virtualPaddingRight:f}=t??{},h=Object.assign(Object.assign({},Ft(l,{headerGroup:n,table:r})),i);return b.jsxs(Yp,Object.assign({},h,{className:Nt(n7.root,(s||u)&&n7.sticky,a?.startsWith("grid")&&n7["layout-mode-grid"],h?.className),children:[d?b.jsx(De,{component:"th",display:"flex",w:d}):null,(c??n.headers).map((p,m)=>{let g=p;return t&&(m=p.index,g=n.headers[m]),b.jsx(wJt,{columnVirtualizer:t,header:g,renderedHeaderIndex:m,table:r},g.id)}),f?b.jsx(De,{component:"th",display:"flex",w:f}):null]}))};var rw={alert:"MRT_ToolbarAlertBanner-module_alert__PAhUK","alert-stacked":"MRT_ToolbarAlertBanner-module_alert-stacked__HR7Nq","alert-bottom":"MRT_ToolbarAlertBanner-module_alert-bottom__u9L-S","alert-badge":"MRT_ToolbarAlertBanner-module_alert-badge__GwDmX","toolbar-alert":"MRT_ToolbarAlertBanner-module_toolbar-alert__3sJGU","head-overlay":"MRT_ToolbarAlertBanner-module_head-overlay__Hw7jK"};const sV=e=>{var t,{renderedRowIndex:n=0,row:r,table:i}=e,o=On(e,["renderedRowIndex","row","table"]);const{getState:s,options:{enableMultiRowSelection:a,localization:l,mantineSelectAllCheckboxProps:u,mantineSelectCheckboxProps:c,selectAllMode:d,selectDisplayMode:f}}=i,{density:h,isLoading:p}=s(),m=!r,g=m?d==="page"?i.getIsAllPageRowsSelected():i.getIsAllRowsSelected():void 0,v=m?g:i4({row:r,table:i}),y=Object.assign(Object.assign({},m?Ft(u,{table:i}):Ft(c,{row:r,table:i})),o),x=r?DQt({renderedRowIndex:n,row:r,table:i}):void 0,E=$6e({table:i}),_=Object.assign(Object.assign({"aria-label":m?l.toggleSelectAll:l.toggleSelectRow,checked:v,disabled:p||r&&!r.getCanSelect()||r?.id==="mrt-row-create",onChange:S=>{S.stopPropagation(),m?E(S):x(S)},size:h==="xs"?"sm":"md"},y),{onClick:S=>{var T;S.stopPropagation(),(T=y?.onClick)===null||T===void 0||T.call(y,S)},title:void 0});return b.jsx(ct,{label:(t=y?.title)!==null&&t!==void 0?t:m?l.toggleSelectAll:l.toggleSelectRow,openDelay:1e3,withinPortal:!0,children:b.jsx("span",{children:f==="switch"?b.jsx(r0,Object.assign({},_)):f==="radio"||a===!1?b.jsx($a,Object.assign({},_)):b.jsx(Pa,Object.assign({indeterminate:!v&&m?i.getIsSomeRowsSelected():r?.getIsSomeSelected()&&r.getCanSelectSubRows()},_))})})},fte=e=>{var t,n,r,{stackAlertBanner:i,table:o}=e,s=On(e,["stackAlertBanner","table"]);const{getFilteredSelectedRowModel:a,getPrePaginationRowModel:l,getState:u,options:{enableRowSelection:c,enableSelectAll:d,icons:{IconX:f},localization:h,mantineToolbarAlertBannerBadgeProps:p,mantineToolbarAlertBannerProps:m,manualPagination:g,positionToolbarAlertBanner:v,renderToolbarAlertBannerContent:y,rowCount:x}}=o,{density:E,grouping:_,rowSelection:S,showAlertBanner:T}=u(),k=Object.assign(Object.assign({},Ft(m,{table:o})),s),R=Ft(p,{table:o}),I=x??l().flatRows.length,P=A.useMemo(()=>g?Object.values(S).filter(Boolean).length:a().rows.length,[S,I,g]),N=P?b.jsxs(lt,{align:"center",gap:"sm",children:[(n=(t=h.selectedCountOfRowCountRowsSelected)===null||t===void 0?void 0:t.replace("{selectedCount}",P.toString()))===null||n===void 0?void 0:n.replace("{rowCount}",I.toString()),b.jsx(Mt,{onClick:O=>$6e({table:o})(O,!1,!0),size:"compact-xs",variant:"subtle",children:h.clearSelection})]}):null,M=_.length>0?b.jsxs(lt,{children:[h.groupedBy," ",_.map((O,j)=>b.jsxs(A.Fragment,{children:[j>0?h.thenBy:"",b.jsxs(Ii,Object.assign({className:rw["alert-badge"],rightSection:b.jsx(on,{color:"white",onClick:()=>o.getColumn(O).toggleGrouping(),size:"xs",variant:"subtle",children:b.jsx(f,{style:{transform:"scale(0.8)"}})}),variant:"filled"},R,{children:[o.getColumn(O).columnDef.header," "]}))]},`${j}-${O}`))]}):null;return b.jsx(Uh,{in:T||!!N||!!M,transitionDuration:i?200:0,children:b.jsx(ml,Object.assign({color:"blue",icon:!1},k,{className:Nt(rw.alert,i&&!v&&rw["alert-stacked"],!i&&v==="bottom"&&rw["alert-bottom"],k?.className),children:(r=y?.({groupedAlert:M,selectedAlert:N,table:o}))!==null&&r!==void 0?r:b.jsxs(lt,{className:Nt(rw["toolbar-alert"],v==="head-overlay"&&rw["head-overlay"],E),children:[c&&d&&v==="head-overlay"&&b.jsx(sV,{table:o}),b.jsxs(Nn,{children:[k?.children,N,M]})]})}))})},CJt=e=>{var{columnVirtualizer:t,table:n}=e,r=On(e,["columnVirtualizer","table"]);const{getHeaderGroups:i,getSelectedRowModel:o,getState:s,options:{enableStickyHeader:a,layoutMode:l,mantineTableHeadProps:u,positionToolbarAlertBanner:c},refs:{tableHeadRef:d}}=n,{isFullScreen:f,showAlertBanner:h}=s(),p=Object.assign(Object.assign({},Ft(u,{table:n})),r),m=a||f;return b.jsx(oG,Object.assign({},p,{className:Nt(wg.root,l?.startsWith("grid")?wg["root-grid"]:wg["root-table-row-group"],m&&wg["root-sticky"],p?.className),pos:m&&l?.startsWith("grid")?"sticky":"relative",ref:g=>{d.current=g,p?.ref&&(p.ref.current=g)},children:c==="head-overlay"&&(h||o().rows.length>0)?b.jsx(Yp,{className:Nt(wg["banner-tr"],l?.startsWith("grid")&&wg.grid),children:b.jsx(lx,{className:Nt(wg["banner-th"],l?.startsWith("grid")&&wg.grid),colSpan:n.getVisibleLeafColumns().length,children:b.jsx(fte,{table:n})})}):i().map(g=>b.jsx(xJt,{columnVirtualizer:t,headerGroup:g,table:n},g.id))}))};var R0e={root:"MRT_GlobalFilterTextInput-module_root__Xmcpv",collapse:"MRT_GlobalFilterTextInput-module_collapse__v311d"};const o7=e=>{var{table:t}=e,n=On(e,["table"]);const{getState:r,options:{enableGlobalFilterModes:i,icons:{IconSearch:o,IconX:s},localization:a,mantineSearchTextInputProps:l,manualFiltering:u,positionGlobalFilter:c},refs:{searchInputRef:d},setGlobalFilter:f}=t,{globalFilter:h,showGlobalFilter:p}=r(),m=Object.assign(Object.assign({},Ft(l,{table:t})),n),g=A.useRef(!1),[v,y]=A.useState(h??""),[x]=tve(v,u?500:250);A.useEffect(()=>{f(x||void 0)},[x]);const E=()=>{y(""),f(void 0)};return A.useEffect(()=>{g.current&&(h===void 0?E():y(h)),g.current=!0},[h]),b.jsxs(Uh,{className:R0e.collapse,in:p,children:[i&&b.jsxs(Rn,{withinPortal:!0,children:[b.jsx(Rn.Target,{children:b.jsx(on,{"aria-label":a.changeSearchMode,color:"gray",size:"sm",variant:"transparent",children:b.jsx(o,{})})}),b.jsx(r5e,{onSelect:E,table:t})]}),b.jsx(fl,Object.assign({leftSection:!i&&b.jsx(o,{}),mt:0,mx:c!=="left"?"mx":void 0,onChange:_=>y(_.target.value),placeholder:a.search,rightSection:v?b.jsx(on,{"aria-label":a.clearSearch,color:"gray",disabled:!v?.length,onClick:E,size:"sm",variant:"transparent",children:b.jsx(ct,{label:a.clearSearch,withinPortal:!0,children:b.jsx(s,{})})}):null,value:v??"",variant:"filled"},m,{className:Nt("mrt-global-filter-text-input",R0e.root,m?.className),ref:_=>{_&&(d.current=_,m?.ref&&(m.ref=_))}}))]})},_Jt=(e,t,n=-1,r=0,i,o)=>n_(e,"mrt-row-create",Object.assign({},...o4(e.options.columns).map(s=>({[Qw(s)]:""}))),n,r,i,o),EJt=e=>Object.assign({Cell:({cell:t,row:n,table:r})=>b.jsx(ZQt,{cell:t,row:n,table:r})},n1({header:"actions",id:"mrt-row-actions",size:70,tableOptions:e})),SJt=e=>Object.assign({Cell:({row:t,rowRef:n,table:r})=>b.jsx(LQt,{row:t,rowRef:n,table:r}),grow:!1},n1({header:"move",id:"mrt-row-drag",size:60,tableOptions:e})),TJt=e=>{var t;const{defaultColumn:n,enableExpandAll:r,groupedColumnMode:i,positionExpandColumn:o,renderDetailPanel:s,state:{grouping:a}}=e,l=o==="last"?{align:"right"}:void 0;return Object.assign({Cell:({cell:u,column:c,row:d,table:f})=>{var h,p,m;const g={row:d,table:f},v=(h=d.subRows)===null||h===void 0?void 0:h.length;return e.groupedColumnMode==="remove"&&d.groupingColumnId?b.jsxs(lt,{align:"center",gap:"0.25rem",children:[b.jsx(iV,Object.assign({},g)),b.jsx(ct,{label:f.getColumn(d.groupingColumnId).columnDef.header,openDelay:1e3,position:"right",children:b.jsx("span",{children:d.groupingValue})}),!!v&&b.jsxs("span",{children:["(",v,")"]})]}):b.jsxs(b.Fragment,{children:[b.jsx(iV,Object.assign({},g)),(m=(p=c.columnDef).GroupedCell)===null||m===void 0?void 0:m.call(p,{cell:u,column:c,row:d,table:f})]})},Header:r?({table:u})=>{var c;return b.jsxs(lt,{align:"center",children:[b.jsx(zQt,{table:u}),i==="remove"&&((c=a?.map(d=>u.getColumn(d).columnDef.header))===null||c===void 0?void 0:c.join(", "))]})}:void 0,mantineTableBodyCellProps:l,mantineTableHeadCellProps:l},n1({header:"expand",id:"mrt-row-expand",size:i==="remove"?(t=n?.size)!==null&&t!==void 0?t:180:s?r?60:70:100,tableOptions:e}))},kJt=e=>{const{localization:t,rowNumberDisplayMode:n}=e,{pagination:{pageIndex:r,pageSize:i}}=e.state;return Object.assign({Cell:({renderedRowIndex:o=0,row:s})=>{var a;return((a=n==="static"?o+i*r:s.index)!==null&&a!==void 0?a:0)+1},grow:!1,Header:()=>t.rowNumber},n1({header:"rowNumbers",id:"mrt-row-numbers",size:50,tableOptions:e}))},AJt=e=>Object.assign({Cell:({row:t,table:n})=>b.jsx(FQt,{row:t,table:n}),grow:!1},n1({header:"pin",id:"mrt-row-pin",size:60,tableOptions:e})),RJt=e=>{const{enableMultiRowSelection:t,enableSelectAll:n}=e;return Object.assign({Cell:({renderedRowIndex:r,row:i,table:o})=>b.jsx(sV,{renderedRowIndex:r,row:i,table:o}),grow:!1,Header:n&&t?({table:r})=>b.jsx(sV,{table:r}):void 0},n1({header:"select",id:"mrt-row-select",size:n?60:70,tableOptions:e}))},IJt=Object.assign({},d3),DJt={IconArrowAutofitContent:CGe,IconArrowsSort:IGe,IconBaselineDensityLarge:NGe,IconBaselineDensityMedium:$Ge,IconBaselineDensitySmall:FGe,IconBoxMultiple:UGe,IconChevronDown:uM,IconChevronLeft:dYe,IconChevronLeftPipe:uYe,IconChevronRight:Twe,IconChevronRightPipe:hYe,IconChevronsDown:yYe,IconCircleX:bYe,IconClearAll:xYe,IconColumns:SYe,IconDeviceFloppy:$Ye,IconDots:Iwe,IconDotsVertical:Rwe,IconEdit:L3,IconEyeOff:ZYe,IconFilter:uKe,IconFilterCog:oKe,IconFilterOff:aKe,IconGripHorizontal:mKe,IconMaximize:DKe,IconMinimize:MKe,IconPinned:YKe,IconPinnedOff:WKe,IconSearch:uXe,IconSearchOff:aXe,IconSortAscending:gXe,IconSortDescending:vXe,IconX:dm},PJt={actions:"Actions",and:"and",cancel:"Cancel",changeFilterMode:"Change filter mode",changeSearchMode:"Change search mode",clearFilter:"Clear filter",clearSearch:"Clear search",clearSelection:"Clear selection",clearSort:"Clear sort",clickToCopy:"Click to copy",copy:"Copy",collapse:"Collapse",collapseAll:"Collapse all",columnActions:"Column Actions",copiedToClipboard:"Copied to clipboard",dropToGroupBy:"Drop to group by {column}",edit:"Edit",expand:"Expand",expandAll:"Expand all",filterArrIncludes:"Includes",filterArrIncludesAll:"Includes all",filterArrIncludesSome:"Includes",filterBetween:"Between",filterBetweenInclusive:"Between Inclusive",filterByColumn:"Filter by {column}",filterContains:"Contains",filterEmpty:"Empty",filterEndsWith:"Ends With",filterEquals:"Equals",filterEqualsString:"Equals",filterFuzzy:"Fuzzy",filterGreaterThan:"Greater Than",filterGreaterThanOrEqualTo:"Greater Than Or Equal To",filterInNumberRange:"Between",filterIncludesString:"Contains",filterIncludesStringSensitive:"Contains",filterLessThan:"Less Than",filterLessThanOrEqualTo:"Less Than Or Equal To",filterMode:"Filter Mode: {filterType}",filterNotEmpty:"Not Empty",filterNotEquals:"Not Equals",filterStartsWith:"Starts With",filterWeakEquals:"Equals",filteringByColumn:"Filtering by {column} - {filterType} {filterValue}",goToFirstPage:"Go to first page",goToLastPage:"Go to last page",goToNextPage:"Go to next page",goToPreviousPage:"Go to previous page",grab:"Grab",groupByColumn:"Group by {column}",groupedBy:"Grouped by ",hideAll:"Hide all",hideColumn:"Hide {column} column",max:"Max",min:"Min",move:"Move",noRecordsToDisplay:"No records to display",noResultsFound:"No results found",of:"of",or:"or",pin:"Pin",pinToLeft:"Pin to left",pinToRight:"Pin to right",resetColumnSize:"Reset column size",resetOrder:"Reset order",rowActions:"Row Actions",rowNumber:"#",rowNumbers:"Row Numbers",rowsPerPage:"Rows per page",save:"Save",search:"Search",selectedCountOfRowCountRowsSelected:"{selectedCount} of {rowCount} row(s) selected",select:"Select",showAll:"Show all",showAllColumns:"Show all columns",showHideColumns:"Show/Hide columns",showHideFilters:"Show/Hide filters",showHideSearch:"Show/Hide search",sortByColumnAsc:"Sort by {column} ascending",sortByColumnDesc:"Sort by {column} descending",sortedByColumnAsc:"Sorted by {column} ascending",sortedByColumnDesc:"Sorted by {column} descending",thenBy:", then by ",toggleDensity:"Toggle density",toggleFullScreen:"Toggle full screen",toggleSelectAll:"Toggle select all",toggleSelectRow:"Toggle select row",toggleVisibility:"Toggle visibility",ungroupByColumn:"Ungroup by {column}",unpin:"Unpin",unpinAll:"Unpin all"},OJt={filterVariant:"text",maxSize:1e3,minSize:40,size:180},o5e={columnDefType:"display",enableClickToCopy:!1,enableColumnActions:!1,enableColumnDragging:!1,enableColumnFilter:!1,enableColumnOrdering:!1,enableEditing:!1,enableGlobalFilter:!1,enableGrouping:!1,enableHiding:!1,enableResizing:!1,enableSorting:!1},NJt=e=>{var t,{aggregationFns:n,autoResetExpanded:r=!1,columnFilterDisplayMode:i="subheader",columnResizeDirection:o,columnResizeMode:s="onChange",createDisplayMode:a="modal",defaultColumn:l,defaultDisplayColumn:u,editDisplayMode:c="modal",enableBatchRowSelection:d=!0,enableBottomToolbar:f=!0,enableColumnActions:h=!0,enableColumnFilters:p=!0,enableColumnOrdering:m=!1,enableColumnPinning:g=!1,enableColumnResizing:v=!1,enableColumnVirtualization:y,enableDensityToggle:x=!0,enableExpandAll:E=!0,enableExpanding:_,enableFacetedValues:S=!1,enableFilterMatchHighlighting:T=!0,enableFilters:k=!0,enableFullScreenToggle:R=!0,enableGlobalFilter:I=!0,enableGlobalFilterRankedResults:P=!0,enableGrouping:N=!1,enableHeaderActionsHoverReveal:M=!1,enableHiding:O=!0,enableMultiRowSelection:j=!0,enableMultiSort:U=!0,enablePagination:q=!0,enableRowPinning:W=!1,enableRowSelection:V=!1,enableRowVirtualization:z,enableSelectAll:L=!0,enableSorting:H=!0,enableStickyHeader:B=!1,enableTableFooter:Y=!0,enableTableHead:Q=!0,enableToolbarInternalActions:ne=!0,enableTopToolbar:ce=!0,filterFns:le,icons:ue,layoutMode:ae,localization:te,manualFiltering:se,manualGrouping:we,manualPagination:X,manualSorting:he,paginationDisplayMode:ge="default",positionActionsColumn:re="first",positionCreatingRow:ee="top",positionExpandColumn:fe="first",positionGlobalFilter:Re="right",positionPagination:Oe="bottom",positionToolbarAlertBanner:Ae="top",positionToolbarDropZone:Se="top",rowNumberDisplayMode:xe="static",rowPinningDisplayMode:ke="sticky",selectAllMode:me="page",sortingFns:Me}=e,ze=On(e,["aggregationFns","autoResetExpanded","columnFilterDisplayMode","columnResizeDirection","columnResizeMode","createDisplayMode","defaultColumn","defaultDisplayColumn","editDisplayMode","enableBatchRowSelection","enableBottomToolbar","enableColumnActions","enableColumnFilters","enableColumnOrdering","enableColumnPinning","enableColumnResizing","enableColumnVirtualization","enableDensityToggle","enableExpandAll","enableExpanding","enableFacetedValues","enableFilterMatchHighlighting","enableFilters","enableFullScreenToggle","enableGlobalFilter","enableGlobalFilterRankedResults","enableGrouping","enableHeaderActionsHoverReveal","enableHiding","enableMultiRowSelection","enableMultiSort","enablePagination","enableRowPinning","enableRowSelection","enableRowVirtualization","enableSelectAll","enableSorting","enableStickyHeader","enableTableFooter","enableTableHead","enableToolbarInternalActions","enableTopToolbar","filterFns","icons","layoutMode","localization","manualFiltering","manualGrouping","manualPagination","manualSorting","paginationDisplayMode","positionActionsColumn","positionCreatingRow","positionExpandColumn","positionGlobalFilter","positionPagination","positionToolbarAlertBanner","positionToolbarDropZone","rowNumberDisplayMode","rowPinningDisplayMode","selectAllMode","sortingFns"]);const Xe=lu();return ue=A.useMemo(()=>Object.assign(Object.assign({},DJt),ue),[ue]),te=A.useMemo(()=>Object.assign(Object.assign({},PJt),te),[te]),n=A.useMemo(()=>Object.assign(Object.assign({},IJt),n),[]),le=A.useMemo(()=>Object.assign(Object.assign({},iJt),le),[]),Me=A.useMemo(()=>Object.assign(Object.assign({},AQt),Me),[]),l=A.useMemo(()=>Object.assign(Object.assign({},OJt),l),[l]),u=A.useMemo(()=>Object.assign(Object.assign({},o5e),u),[u]),[y,z]=A.useMemo(()=>[y,z],[]),o||(o=Xe.dir||"ltr"),ae=ae||(v?"grid-no-grow":"semantic"),ae==="semantic"&&(z||y)&&(ae="grid"),z&&(B=!0),q===!1&&X===void 0&&(X=!0),!((t=ze.data)===null||t===void 0)&&t.length||(se=!0,we=!0,X=!0,he=!0),Object.assign({aggregationFns:n,autoResetExpanded:r,columnFilterDisplayMode:i,columnResizeDirection:o,columnResizeMode:s,createDisplayMode:a,defaultColumn:l,defaultDisplayColumn:u,editDisplayMode:c,enableBatchRowSelection:d,enableBottomToolbar:f,enableColumnActions:h,enableColumnFilters:p,enableColumnOrdering:m,enableColumnPinning:g,enableColumnResizing:v,enableColumnVirtualization:y,enableDensityToggle:x,enableExpandAll:E,enableExpanding:_,enableFacetedValues:S,enableFilterMatchHighlighting:T,enableFilters:k,enableFullScreenToggle:R,enableGlobalFilter:I,enableGlobalFilterRankedResults:P,enableGrouping:N,enableHeaderActionsHoverReveal:M,enableHiding:O,enableMultiRowSelection:j,enableMultiSort:U,enablePagination:q,enableRowPinning:W,enableRowSelection:V,enableRowVirtualization:z,enableSelectAll:L,enableSorting:H,enableStickyHeader:B,enableTableFooter:Y,enableTableHead:Q,enableToolbarInternalActions:ne,enableTopToolbar:ce,filterFns:le,getCoreRowModel:$Kt(),getExpandedRowModel:_||N?LKt():void 0,getFacetedMinMaxValues:S?FKt():void 0,getFacetedRowModel:S?zKt():void 0,getFacetedUniqueValues:S?UKt():void 0,getFilteredRowModel:p||I||k?HKt():void 0,getGroupedRowModel:N?qKt():void 0,getPaginationRowModel:q?WKt():void 0,getSortedRowModel:H?GKt():void 0,getSubRows:tt=>tt?.subRows,icons:ue,layoutMode:ae,localization:te,manualFiltering:se,manualGrouping:we,manualPagination:X,manualSorting:he,paginationDisplayMode:ge,positionActionsColumn:re,positionCreatingRow:ee,positionExpandColumn:fe,positionGlobalFilter:Re,positionPagination:Oe,positionToolbarAlertBanner:Ae,positionToolbarDropZone:Se,rowNumberDisplayMode:xe,rowPinningDisplayMode:ke,selectAllMode:me,sortingFns:Me},ze)},s7={children:null,style:{minWidth:0,padding:0,width:0}},MJt=e=>Object.assign(Object.assign(Object.assign(Object.assign({},n1({id:"mrt-row-spacer",size:0,tableOptions:e})),{grow:!0}),o5e),{mantineTableBodyCellProps:s7,mantineTableFooterCellProps:s7,mantineTableHeadCellProps:s7}),$Jt=e=>{const{getIsSomeRowsPinned:t,getPrePaginationRowModel:n,getState:r,options:{enablePagination:i,enableRowPinning:o,rowCount:s}}=e,{columnOrder:a,density:l,globalFilter:u,isFullScreen:c,isLoading:d,pagination:f,showSkeletons:h,sorting:p}=r(),m=e.options.columns.length,g=s??n().rows.length,v=A.useReducer(()=>({}),{})[1],y=A.useRef(),x=A.useRef();A.useEffect(()=>{typeof window<"u"&&(y.current=document.body.style.height)},[]),A.useEffect(()=>{if(typeof window<"u")if(c)x.current=document.body.getBoundingClientRect().top,document.body.style.height="100dvh";else{if(document.body.style.height=y.current,!x.current)return;window.scrollTo({behavior:"instant",top:-1*x.current})}},[c]),A.useEffect(()=>{m!==a.length&&e.setColumnOrder(lte(e.options))},[m]),A.useEffect(()=>{if(!i||d||h)return;const{pageIndex:_,pageSize:S}=f,T=_*S;T>=g&&T>0&&e.setPageIndex(Math.ceil(g/S)-1)},[g]);const E=A.useRef(p);A.useEffect(()=>{p.length&&(E.current=p)},[p]),A.useEffect(()=>{M6e(e)&&(u?e.setSorting([]):e.setSorting(()=>E.current||[]))},[u]),A.useEffect(()=>{o&&t()&&setTimeout(()=>{v()},150)},[l])},LJt=e=>{var t,n,r,i,o,s,a,l,u,c,d,f,h,p,m,g,v,y,x,E,_,S,T,k,R,I,P,N,M,O,j,U,q;const W=A.useRef(null),V=A.useRef(null),z=A.useRef({}),L=A.useRef({}),H=A.useRef(null),B=A.useRef(null),Y=A.useRef({}),Q=A.useRef(null),ne=A.useRef(null),ce=A.useRef(null),le=A.useRef(null),ue=A.useMemo(()=>{var Zn,sn,Yn;const wr=(Zn=e.initialState)!==null&&Zn!==void 0?Zn:{};return wr.columnOrder=(sn=wr.columnOrder)!==null&&sn!==void 0?sn:lte(Object.assign(Object.assign({},e),{state:Object.assign(Object.assign({},e.initialState),e.state)})),wr.globalFilterFn=(Yn=e.globalFilterFn)!==null&&Yn!==void 0?Yn:"fuzzy",wr},[]);e.initialState=ue;const[ae,te]=A.useState((t=ue.creatingRow)!==null&&t!==void 0?t:null),[se,we]=A.useState(()=>Object.assign({},...o4(e.columns).map(Zn=>{var sn,Yn,wr,kr;return{[Qw(Zn)]:Zn.filterFn instanceof Function?(sn=Zn.filterFn.name)!==null&&sn!==void 0?sn:"custom":(kr=(Yn=Zn.filterFn)!==null&&Yn!==void 0?Yn:(wr=ue?.columnFilterFns)===null||wr===void 0?void 0:wr[Qw(Zn)])!==null&&kr!==void 0?kr:UQt(Zn)}}))),[X,he]=A.useState((n=ue.columnOrder)!==null&&n!==void 0?n:[]),[ge,re]=A.useState((r=ue.columnSizingInfo)!==null&&r!==void 0?r:{}),[ee,fe]=A.useState((i=ue?.density)!==null&&i!==void 0?i:"md"),[Re,Oe]=A.useState((o=ue.draggingColumn)!==null&&o!==void 0?o:null),[Ae,Se]=A.useState((s=ue.draggingRow)!==null&&s!==void 0?s:null),[xe,ke]=A.useState((a=ue.editingCell)!==null&&a!==void 0?a:null),[me,Me]=A.useState((l=ue.editingRow)!==null&&l!==void 0?l:null),[ze,Xe]=A.useState((u=ue.globalFilterFn)!==null&&u!==void 0?u:"fuzzy"),[tt,gt]=A.useState((c=ue.grouping)!==null&&c!==void 0?c:[]),[qt,zt]=A.useState((d=ue.hoveredColumn)!==null&&d!==void 0?d:null),[_n,$t]=A.useState((f=ue.hoveredRow)!==null&&f!==void 0?f:null),[dn,Vn]=A.useState((h=ue?.isFullScreen)!==null&&h!==void 0?h:!1),[Ln,Tr]=A.useState((p=ue?.pagination)!==null&&p!==void 0?p:{pageIndex:0,pageSize:10}),[Xn,mr]=A.useState((m=ue?.showAlertBanner)!==null&&m!==void 0?m:!1),[En,nn]=A.useState((g=ue?.showColumnFilters)!==null&&g!==void 0?g:!1),[rr,ii]=A.useState((v=ue?.showGlobalFilter)!==null&&v!==void 0?v:!1),[br,Sn]=A.useState((y=ue?.showToolbarDropZone)!==null&&y!==void 0?y:!1);e.state=Object.assign({columnFilterFns:se,columnOrder:X,columnSizingInfo:ge,creatingRow:ae,density:ee,draggingColumn:Re,draggingRow:Ae,editingCell:xe,editingRow:me,globalFilterFn:ze,grouping:tt,hoveredColumn:qt,hoveredRow:_n,isFullScreen:dn,pagination:Ln,showAlertBanner:Xn,showColumnFilters:En,showGlobalFilter:rr,showToolbarDropZone:br},e.state);const ht=e,cr=A.useRef([]);ht.columns=ht.state.columnSizingInfo.isResizingColumn||ht.state.draggingColumn||ht.state.draggingRow?cr.current:B6e({columnDefs:[...[H6e(ht)&&AJt(ht),q6e(ht)&&SJt(ht),ate(ht)&&EJt(ht),ste(ht)&&TJt(ht),V6e(ht)&&RJt(ht),W6e(ht)&&kJt(ht)].filter(Boolean),...ht.columns,...[G6e(ht)&&MJt(ht)].filter(Boolean)],tableOptions:ht}),cr.current=ht.columns,ht.data=A.useMemo(()=>(ht.state.isLoading||ht.state.showSkeletons)&&!ht.data.length?[...Array(Math.min(ht.state.pagination.pageSize,20)).fill(null)].map(()=>Object.assign({},...o4(ht.columns).map(Zn=>({[Qw(Zn)]:null})))):ht.data,[ht.data,ht.state.isLoading,ht.state.showSkeletons]);const Ut=YKt(Object.assign(Object.assign({onColumnOrderChange:he,onColumnSizingInfoChange:re,onGroupingChange:gt,onPaginationChange:Tr},ht),{globalFilterFn:(x=ht.filterFns)===null||x===void 0?void 0:x[ze??"fuzzy"]}));return Ut.refs={bottomToolbarRef:V,editInputRefs:z,filterInputRefs:L,lastSelectedRowId:W,searchInputRef:H,tableContainerRef:B,tableFooterRef:le,tableHeadCellRefs:Y,tableHeadRef:ce,tablePaperRef:Q,topToolbarRef:ne},Ut.setCreatingRow=Zn=>{let sn=Zn;Zn===!0&&(sn=_Jt(Ut)),ht?.onCreatingRowChange?ht.onCreatingRowChange(sn):te(sn)},Ut.setColumnFilterFns=(E=ht.onColumnFilterFnsChange)!==null&&E!==void 0?E:we,Ut.setDensity=(_=ht.onDensityChange)!==null&&_!==void 0?_:fe,Ut.setDraggingColumn=(S=ht.onDraggingColumnChange)!==null&&S!==void 0?S:Oe,Ut.setDraggingRow=(T=ht.onDraggingRowChange)!==null&&T!==void 0?T:Se,Ut.setEditingCell=(k=ht.onEditingCellChange)!==null&&k!==void 0?k:ke,Ut.setEditingRow=(R=ht.onEditingRowChange)!==null&&R!==void 0?R:Me,Ut.setGlobalFilterFn=(I=ht.onGlobalFilterFnChange)!==null&&I!==void 0?I:Xe,Ut.setHoveredColumn=(P=ht.onHoveredColumnChange)!==null&&P!==void 0?P:zt,Ut.setHoveredRow=(N=ht.onHoveredRowChange)!==null&&N!==void 0?N:$t,Ut.setIsFullScreen=(M=ht.onIsFullScreenChange)!==null&&M!==void 0?M:Vn,Ut.setShowAlertBanner=(O=ht.onShowAlertBannerChange)!==null&&O!==void 0?O:mr,Ut.setShowColumnFilters=(j=ht.onShowColumnFiltersChange)!==null&&j!==void 0?j:nn,Ut.setShowGlobalFilter=(U=ht.onShowGlobalFilterChange)!==null&&U!==void 0?U:ii,Ut.setShowToolbarDropZone=(q=ht.onShowToolbarDropZoneChange)!==null&&q!==void 0?q:Sn,$Jt(Ut),Ut},uA=e=>LJt(NJt(e));var FJt={root:"MRT_TablePaper-module_root__q0v5L"},a7={root:"MRT_TableContainer-module_root__JIsGB","root-sticky":"MRT_TableContainer-module_root-sticky__uC4qx","root-fullscreen":"MRT_TableContainer-module_root-fullscreen__aM8Jg"},I0e={root:"MRT_Table-module_root__ms2uS","root-grid":"MRT_Table-module_root-grid__2Pynz"};const jJt=e=>{var t,n,r,i;const{getLeftLeafColumns:o,getRightLeafColumns:s,getState:a,getVisibleLeafColumns:l,options:{columnVirtualizerInstanceRef:u,columnVirtualizerOptions:c,enableColumnPinning:d,enableColumnVirtualization:f},refs:{tableContainerRef:h}}=e,{columnPinning:p,draggingColumn:m}=a();if(!f)return;const g=Ft(c,{table:e}),v=l(),[y,x]=A.useMemo(()=>d?[o().map(I=>I.getPinnedIndex()),s().map(I=>v.length-I.getPinnedIndex()-1).sort((I,P)=>I-P)]:[[],[]],[v.length,p,d]),E=y.length,_=x.length,S=A.useMemo(()=>m?.id?v.findIndex(I=>I.id===m?.id):void 0,[m?.id]),T=g6e(Object.assign({count:v.length,estimateSize:I=>v[I].getSize(),getScrollElement:()=>h.current,horizontal:!0,overscan:3,rangeExtractor:A.useCallback(I=>{const P=L6e(I,S);return!E&&!_?P:[...new Set([...y,...P,...x])]},[y,x,S])},g)),k=T.getVirtualItems();T.virtualColumns=k;const R=k.length;if(R){const I=T.getTotalSize(),P=((t=k[E])===null||t===void 0?void 0:t.start)||0,N=((n=k[y.length-1])===null||n===void 0?void 0:n.end)||0,M=((r=k[R-_])===null||r===void 0?void 0:r.start)||0,O=((i=k[R-_-1])===null||i===void 0?void 0:i.end)||0;T.virtualPaddingLeft=P-N,T.virtualPaddingRight=I-O-(_?I-M:0)}return u&&(u.current=T),T},BJt=e=>{var{table:t}=e,n=On(e,["table"]);const{getFlatHeaders:r,getState:i,options:{columns:o,enableTableFooter:s,enableTableHead:a,layoutMode:l,mantineTableProps:u,memoMode:c}}=t,{columnSizing:d,columnSizingInfo:f,columnVisibility:h,density:p}=i(),m=Object.assign(Object.assign({highlightOnHover:!0,horizontalSpacing:p,verticalSpacing:p},Ft(u,{table:t})),n),g=A.useMemo(()=>{const _=r(),S={};for(let T=0;T<_.length;T++){const k=_[T],R=k.getSize();S[`--header-${qd(k.id)}-size`]=R,S[`--col-${qd(k.column.id)}-size`]=R}return S},[o,d,f,h]),y={columnVirtualizer:jJt(t),table:t},{colorScheme:x}=b8e(),{stripedColor:E}=m;return b.jsxs(xn,Object.assign({className:Nt("mrt-table",I0e.root,l?.startsWith("grid")&&I0e["root-grid"],m.className)},m,{__vars:Object.assign(Object.assign(Object.assign({},g),{"--mrt-striped-row-background-color":E,"--mrt-striped-row-hover-background-color":E?x==="dark"?v8e(E,.08):SE(E,.12):void 0}),m.__vars),children:[a&&b.jsx(CJt,Object.assign({},y)),c==="table-body"||f.isResizingColumn?b.jsx(MQt,Object.assign({},y,{tableProps:m})):b.jsx(F6e,Object.assign({},y,{tableProps:m})),s&&b.jsx(nJt,Object.assign({},y))]}))},zJt=e=>{var t,{open:n,table:r}=e,i=On(e,["open","table"]);const{getState:o,options:{mantineCreateRowModalProps:s,mantineEditRowModalProps:a,onCreatingRowCancel:l,onEditingRowCancel:u,renderCreateRowModalContent:c,renderEditRowModalContent:d},setCreatingRow:f,setEditingRow:h}=r,{creatingRow:p,editingRow:m}=o(),g=p??m,v={row:g,table:r},y=Object.assign(Object.assign(Object.assign({},Ft(a,v)),p&&Ft(s,v)),i),x=g.getAllCells().filter(_=>_.column.columnDef.columnDefType==="data").map(_=>b.jsx(z$,{cell:_,table:r},_.id)),E=()=>{var _;p?(l?.({row:g,table:r}),f(null)):(u?.({row:g,table:r}),h(null)),g._valuesCache={},(_=y.onClose)===null||_===void 0||_.call(y)};return A.createElement(ni,Object.assign({opened:n,withCloseButton:!1},y,{key:g.id,onClose:E}),(t=p&&c?.({internalEditComponents:x,row:g,table:r})||d?.({internalEditComponents:x,row:g,table:r}))!==null&&t!==void 0?t:b.jsxs(b.Fragment,{children:[b.jsx("form",{onSubmit:_=>_.preventDefault(),children:b.jsx(Nn,{gap:"lg",pb:24,pt:16,children:x})}),b.jsx(lt,{justify:"flex-end",children:b.jsx(j6e,{row:g,table:r,variant:"text"})})]}))},UJt=typeof window<"u"?A.useLayoutEffect:A.useEffect,HJt=e=>{var{table:t}=e,n=On(e,["table"]);const{getState:r,options:{createDisplayMode:i,editDisplayMode:o,enableStickyHeader:s,mantineLoadingOverlayProps:a,mantineTableContainerProps:l},refs:{bottomToolbarRef:u,tableContainerRef:c,topToolbarRef:d}}=t,{creatingRow:f,editingRow:h,isFullScreen:p,isLoading:m,showLoadingOverlay:g}=r(),[v,y]=A.useState(0),x=Object.assign(Object.assign({},Ft(l,{table:t})),n),E=Ft(a,{table:t});UJt(()=>{var T,k,R,I;const P=typeof document<"u"&&(k=(T=d.current)===null||T===void 0?void 0:T.offsetHeight)!==null&&k!==void 0?k:0,N=typeof document<"u"&&(I=(R=u?.current)===null||R===void 0?void 0:R.offsetHeight)!==null&&I!==void 0?I:0;y(P+N)});const _=i==="modal"&&f,S=o==="modal"&&h;return b.jsxs(De,Object.assign({},x,{__vars:Object.assign({"--mrt-top-toolbar-height":`${v}`},x?.__vars),className:Nt("mrt-table-container",a7.root,s&&a7["root-sticky"],p&&a7["root-fullscreen"],x?.className),ref:T=>{T&&(c.current=T,x?.ref&&(x.ref.current=T))},children:[b.jsx(eu,Object.assign({visible:m||g,zIndex:2},E)),b.jsx(BJt,{table:t}),(_||S)&&b.jsx(zJt,{open:!0,table:t})]}))};var s5e={"common-toolbar-styles":"common-styles-module_common-toolbar-styles__DnjR8"},_E={root:"MRT_BottomToolbar-module_root__VDeWo","root-fullscreen":"MRT_BottomToolbar-module_root-fullscreen__esE15","custom-toolbar-container":"MRT_BottomToolbar-module_custom-toolbar-container__XcDRF","paginator-container":"MRT_BottomToolbar-module_paginator-container__A3eWY","paginator-container-alert-banner":"MRT_BottomToolbar-module_paginator-container-alert-banner__gyqtO"},D0e={collapse:"MRT_ProgressBar-module_collapse__rOLJH","collapse-top":"MRT_ProgressBar-module_collapse-top__oCi0h"};const a5e=e=>{var{isTopToolbar:t,table:n}=e,r=On(e,["isTopToolbar","table"]);const{getState:i,options:{mantineProgressProps:o}}=n,{isSaving:s,showProgressBars:a}=i(),l=Object.assign(Object.assign({},Ft(o,{isTopToolbar:t,table:n})),r);return b.jsx(Uh,{className:Nt(D0e.collapse,t&&D0e["collapse-top"]),in:s||a,children:b.jsx(Y0,Object.assign({animated:!0,"aria-busy":"true","aria-label":"Loading",radius:0,value:100},l))})};var l7={root:"MRT_TablePagination-module_root__yZ8pm",pagesize:"MRT_TablePagination-module_pagesize__-vmTn","with-top-margin":"MRT_TablePagination-module_with-top-margin__aM5-m"};const P0e=[5,10,15,20,25,30,50,100].map(e=>e.toString()),l5e=e=>{var t,{position:n="bottom",table:r}=e,i=On(e,["position","table"]);const{getPrePaginationRowModel:o,getState:s,options:{enableToolbarInternalActions:a,icons:{IconChevronLeft:l,IconChevronLeftPipe:u,IconChevronRight:c,IconChevronRightPipe:d},localization:f,mantinePaginationProps:h,paginationDisplayMode:p,rowCount:m},setPageIndex:g,setPageSize:v}=r,{pagination:{pageIndex:y=0,pageSize:x=10},showGlobalFilter:E}=s(),_=Object.assign(Object.assign({},Ft(h,{table:r})),i),S=m??o().rows.length,T=Math.ceil(S/x),k=T>2,R=y*x,I=Math.min(y*x+x,S),P=_??{},{rowsPerPageOptions:N=P0e,showRowsPerPage:M=!0,withEdges:O=k}=P,j=On(P,["rowsPerPageOptions","showRowsPerPage","withEdges"]),U=n==="top"&&a&&!E;return b.jsxs(De,{className:Nt("mrt-table-pagination",l7.root,U&&l7["with-top-margin"]),children:[_?.showRowsPerPage!==!1&&b.jsxs(ln,{gap:"xs",children:[b.jsx($e,{id:"rpp-label",children:f.rowsPerPage}),b.jsx(um,{allowDeselect:!1,"aria-labelledby":"rpp-label",className:l7.pagesize,data:(t=_?.rowsPerPageOptions)!==null&&t!==void 0?t:P0e,onChange:q=>v(+q),value:x.toString()})]}),p==="pages"?b.jsx(uf,Object.assign({firstIcon:u,lastIcon:d,nextIcon:c,onChange:q=>g(q-1),previousIcon:l,total:T,value:y+1,withEdges:O},j)):p==="default"?b.jsxs(b.Fragment,{children:[b.jsx($e,{children:`${I===0?0:(R+1).toLocaleString()}-${I.toLocaleString()} ${f.of} ${S.toLocaleString()}`}),b.jsxs(ln,{gap:6,children:[O&&b.jsx(on,{"aria-label":f.goToFirstPage,color:"gray",disabled:y<=0,onClick:()=>g(0),variant:"subtle",children:b.jsx(u,{})}),b.jsx(on,{"aria-label":f.goToPreviousPage,color:"gray",disabled:y<=0,onClick:()=>g(y-1),variant:"subtle",children:b.jsx(l,{})}),b.jsx(on,{"aria-label":f.goToNextPage,color:"gray",disabled:I>=S,onClick:()=>g(y+1),variant:"subtle",children:b.jsx(c,{})}),O&&b.jsx(on,{"aria-label":f.goToLastPage,color:"gray",disabled:I>=S,onClick:()=>g(T-1),variant:"subtle",children:b.jsx(d,{})})]})]}):null]})};var O0e={root:"MRT_ToolbarDropZone-module_root__eGTXb",hovered:"MRT_ToolbarDropZone-module_hovered__g7PeJ"};const u5e=e=>{var{table:t}=e,n=On(e,["table"]);const{getState:r,options:{enableGrouping:i,localization:o},setHoveredColumn:s,setShowToolbarDropZone:a}=t,{draggingColumn:l,grouping:u,hoveredColumn:c,showToolbarDropZone:d}=r(),f=h=>{s({id:"drop-zone"})};return A.useEffect(()=>{var h;((h=t.options.state)===null||h===void 0?void 0:h.showToolbarDropZone)!==void 0&&a(!!i&&!!l&&l.columnDef.enableGrouping!==!1&&!u.includes(l.id))},[i,l,u]),b.jsx(Vc,{mounted:d,transition:"fade",children:()=>{var h,p;return b.jsx(lt,Object.assign({className:Nt("mrt-toolbar-dropzone",O0e.root,c?.id==="drop-zone"&&O0e.hovered),onDragEnter:f},n,{children:b.jsx($e,{children:o.dropToGroupBy.replace("{column}",(p=(h=l?.columnDef)===null||h===void 0?void 0:h.header)!==null&&p!==void 0?p:"")})}))}})},qJt=e=>{var{table:t}=e,n=On(e,["table"]);const{getState:r,options:{enablePagination:i,mantineBottomToolbarProps:o,positionPagination:s,positionToolbarAlertBanner:a,positionToolbarDropZone:l,renderBottomToolbarCustomActions:u},refs:{bottomToolbarRef:c}}=t,{isFullScreen:d}=r(),f=o2("(max-width: 720px)"),h=Object.assign(Object.assign({},Ft(o,{table:t})),n),p=f||!!u;return b.jsxs(De,Object.assign({},h,{className:Nt("mrt-bottom-toolbar",_E.root,s5e["common-toolbar-styles"],d&&_E["root-fullscreen"],h?.className),ref:m=>{m&&(c.current=m,h?.ref&&(h.ref.current=m))},children:[b.jsx(a5e,{isTopToolbar:!1,table:t}),a==="bottom"&&b.jsx(fte,{stackAlertBanner:p,table:t}),["both","bottom"].includes(l??"")&&b.jsx(u5e,{table:t}),b.jsxs(De,{className:_E["custom-toolbar-container"],children:[u?u({table:t}):b.jsx("span",{}),b.jsx(De,{className:Nt(_E["paginator-container"],p&&_E["paginator-container-alert-banner"]),children:i&&["both","bottom"].includes(s??"")&&b.jsx(l5e,{position:"bottom",table:t})})]})]}))};var _D={root:"MRT_TopToolbar-module_root__r4-V9","root-fullscreen":"MRT_TopToolbar-module_root-fullscreen__3itT8","actions-container":"MRT_TopToolbar-module_actions-container__-uL0u","actions-container-stack-alert":"MRT_TopToolbar-module_actions-container-stack-alert__OYDL6"},VJt={root:"MRT_ToolbarInternalButtons-module_root__NKoUG"};const WJt=e=>{var t,{table:n}=e,r=On(e,["table"]);const{options:{columnFilterDisplayMode:i,enableColumnFilters:o,enableColumnOrdering:s,enableColumnPinning:a,enableDensityToggle:l,enableFilters:u,enableFullScreenToggle:c,enableGlobalFilter:d,enableHiding:f,initialState:h,renderToolbarInternalActions:p}}=n;return b.jsx(lt,Object.assign({},r,{className:Nt("mrt-toolbar-internal-buttons",VJt.root,r?.className),children:(t=p?.({table:n}))!==null&&t!==void 0?t:b.jsxs(b.Fragment,{children:[u&&d&&!h?.showGlobalFilter&&b.jsx(QQt,{table:n}),u&&o&&i!=="popover"&&b.jsx(KQt,{table:n}),(f||s||a)&&b.jsx(WQt,{table:n}),l&&b.jsx(YQt,{table:n}),c&&b.jsx(XQt,{table:n})]})}))},GJt=e=>{var t,{table:n}=e,r=On(e,["table"]);const{getState:i,options:{enableGlobalFilter:o,enablePagination:s,enableToolbarInternalActions:a,mantineTopToolbarProps:l,positionGlobalFilter:u,positionPagination:c,positionToolbarAlertBanner:d,positionToolbarDropZone:f,renderTopToolbarCustomActions:h},refs:{topToolbarRef:p}}=n,{isFullScreen:m,showGlobalFilter:g}=i(),v=o2("(max-width:720px)"),y=o2("(max-width:1024px)"),x=Object.assign(Object.assign({},Ft(l,{table:n})),r),E=v||!!h||g&&y,_={style:y?void 0:{zIndex:3},table:n};return b.jsxs(De,Object.assign({},x,{className:Nt(s5e["common-toolbar-styles"],_D.root,m&&_D["root-fullscreen"],x?.className),ref:S=>{S&&(p.current=S,x?.ref&&(x.ref.current=S))},children:[d==="top"&&b.jsx(fte,{stackAlertBanner:E,table:n}),["both","top"].includes(f??"")&&b.jsx(u5e,{table:n}),b.jsxs(lt,{className:Nt(_D["actions-container"],E&&_D["actions-container-stack-alert"]),children:[o&&u==="left"&&b.jsx(o7,Object.assign({},_)),(t=h?.({table:n}))!==null&&t!==void 0?t:b.jsx("span",{}),a?b.jsxs(lt,{justify:"end",wrap:"wrap-reverse",children:[o&&u==="right"&&b.jsx(o7,Object.assign({},_)),b.jsx(WJt,{table:n})]}):o&&u==="right"&&b.jsx(o7,Object.assign({},_))]}),s&&["both","top"].includes(c??"")&&b.jsx(lt,{justify:"end",children:b.jsx(l5e,{position:"top",table:n})}),b.jsx(a5e,{isTopToolbar:!0,table:n})]}))},YJt=e=>{var t,n,{table:r}=e,i=On(e,["table"]);const{getState:o,options:{enableBottomToolbar:s,enableTopToolbar:a,mantinePaperProps:l,renderBottomToolbar:u,renderTopToolbar:c},refs:{tablePaperRef:d}}=r,{isFullScreen:f}=o(),h=Object.assign(Object.assign({},Ft(l,{table:r})),i);return b.jsxs(Ns,Object.assign({shadow:"xs",withBorder:!0},h,{className:Nt("mrt-table-paper",FJt.root,f&&"mrt-table-paper-fullscreen",h?.className),ref:p=>{d.current=p,h?.ref&&(h.ref.current=p)},style:p=>Object.assign(Object.assign({zIndex:f?200:void 0},Ft(h?.style,p)),f?{border:0,borderRadius:0,bottom:0,height:"100vh",left:0,margin:0,maxHeight:"100vh",maxWidth:"100vw",padding:0,position:"fixed",right:0,top:0,width:"100vw"}:null),children:[a&&((t=Ft(c,{table:r}))!==null&&t!==void 0?t:b.jsx(GJt,{table:r})),b.jsx(HJt,{table:r}),s&&((n=Ft(u,{table:r}))!==null&&n!==void 0?n:b.jsx(qJt,{table:r}))]}))},KJt=e=>e.table!==void 0,V$=e=>{let t;return KJt(e)?t=e.table:t=uA(e),b.jsx(YJt,{table:t})};function XJt({visibleParticipants:e,studyConfig:t}){const n=A.useMemo(()=>XYt(e,t),[e,t]),r=A.useMemo(()=>[{accessorKey:"component",header:"Component"},{accessorKey:"participants",header:"Participants"},{accessorKey:"avgTime",header:"Avg Time",Cell:({cell:o})=>{const s=o.getValue();return Np(s,"time")}},{accessorKey:"avgCleanTime",header:"Avg Clean Time",Cell:({cell:o})=>{const s=o.getValue();return Np(s,"time")}},{accessorKey:"correctness",header:"Correctness",Cell:({cell:o})=>{const s=o.getValue();return Np(s,"correctness")}}],[]),i=uA({columns:r,data:n,initialState:{sorting:[{id:"component.index",desc:!1}]},mantinePaperProps:{style:{overflow:"hidden"}}});return b.jsxs(Ns,{shadow:"sm",p:"md",withBorder:!0,children:[b.jsx(gr,{order:4,mb:"md",children:"Component Statistics"}),b.jsx(V$,{table:i})]})}function QJt({visibleParticipants:e,studyConfig:t}){const n=A.useMemo(()=>QYt(e,t),[e,t]),r=A.useMemo(()=>[{accessorKey:"component",header:"Component"},{accessorKey:"type",header:"Type"},{accessorKey:"question",header:"Question"},{accessorKey:"options",header:"Options"},{accessorKey:"correctness",header:"Correctness",Cell:({cell:o})=>{const s=o.getValue();return Np(s,"correctness")}}],[]),i=uA({columns:r,data:n,initialState:{sorting:[{id:"component.index",desc:!0}]},mantinePaperProps:{style:{overflow:"hidden"}}});return b.jsxs(Ns,{shadow:"sm",p:"md",withBorder:!0,children:[b.jsx(gr,{order:4,mb:"md",children:"Response Statistics"}),b.jsx(V$,{table:i})]})}function JJt({visibleParticipants:e,studyConfig:t}){const n=A.useMemo(()=>ZMe(e),[e]);return b.jsxs(Nn,{gap:"md",children:[b.jsx(e6e,{overviewData:n}),b.jsxs(ln,{align:"flex-start",gap:"md",grow:!0,children:[b.jsx(XJt,{visibleParticipants:e,studyConfig:t}),b.jsx(QJt,{visibleParticipants:e,studyConfig:t})]})]})}function ZJt(e,t){if(!e)return null;if(t?.uiConfig&&t.uiConfig.participantNameField){const[n,r]=t.uiConfig.participantNameField.split("."),i=Object.keys(e.answers).find(o=>o.startsWith(n));if(i)return`${e.answers[i].answer[r]}`}return null}function eZt({xScale:e,height:t,labelHeight:n=0,scaleStart:r}){return b.jsx("g",{children:b.jsx("line",{stroke:"gray",strokeWidth:1,x1:e(r)+2,x2:e(r)+2,y1:t-45-n,y2:t-25})})}function tZt(){return A.useCallback((e,t,n,r)=>{const i=e.split("_").map(a=>di(+a)).join("/"),o=new URLSearchParams({participantId:t});r&&o.set("condition",r);const s=`${n}/${i}?${o.toString()}`;window.open(`${Hi}${s}`,"_blank")},[])}const ED=3,iw=25,SD=25,TD=20,N0e=1,u7=15;function nZt({xScale:e,name:t,height:n,labelHeight:r=0,isCorrect:i,hasCorrect:o,scaleStart:s,scaleEnd:a,incomplete:l,trialOrder:u,participantId:c,studyId:d,condition:f}){const[h,p]=A.useState(!1),[m,{width:g}]=_b(),v=tZt();return b.jsxs("g",{onClick:()=>v(u,c,d,f),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),style:{cursor:"pointer"},children:[b.jsx("rect",{opacity:1,fill:h?"cornflowerblue":l?"#e9ecef":"lightgray",x:e(s)+N0e,width:e(a)-e(s)-N0e*2,y:n-iw,height:iw}),b.jsx("rect",{rx:3,opacity:1,x:e(s)-ED,width:g+ED*2+(o?u7:0),y:n-iw-SD-r,height:TD,fill:"whitesmoke"}),b.jsx("line",{stroke:"black",strokeWidth:1,x1:e(s)-ED,x2:g+e(s)+ED+(o?u7:0),y1:n-iw-SD+TD-r,y2:n-iw-SD+TD-r}),b.jsx("foreignObject",{x:e(s),width:g+(o?u7:0),y:n-iw-SD-r,height:TD,children:b.jsx(Ha,{style:{width:"fit-content"},children:b.jsxs(ln,{wrap:"nowrap",gap:2,children:[b.jsx($e,{lineClamp:1,ref:m,mx:0,style:{width:"fit-content",fontWeight:600},size:"12px",children:t}),l?b.jsx(Mwe,{color:"orange",size:"14"}):o?i?b.jsx(Th,{color:"var(--mantine-color-green-6)",style:{marginTop:2,strokeWidth:4},size:"14"}):b.jsx(dm,{color:"var(--mantine-color-red-6)",style:{marginTop:2,strokeWidth:4},size:14}):""]})})})]})}const c7=25,M0e=8,EE={left:20,top:20,right:20,bottom:20},rZt=(e,t)=>{const n=e[1].trialOrder.split("_"),r=t[1].trialOrder.split("_");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]};function iZt({participantData:e,width:t,studyId:n,studyConfig:r,maxLength:i}){const o=A.useMemo(()=>{const f=Object.entries(e.answers||{}).filter(h=>h[1].startTime===0);return(Object.entries(e.answers).length-f.length)/Object.entries(e.answers).length},[e.answers]),s=A.useMemo(()=>{const f=Object.values(e.answers||{}).filter(m=>m.startTime).map(m=>[m.startTime,m.endTime]).flat(),h=TSe(f);return Jv([EE.left,t*o-(o!==1?0:EE.right)]).domain([h[0],i?h[0]+i:h[1]]).clamp(!0)},[i,e.answers,o,t]),a=A.useMemo(()=>Jv([t*o,t-EE.right]).domain([0,Object.entries(e.answers||{}).filter(h=>h[1].startTime===0).length]).clamp(!0),[e.answers,o,t]),l=A.useMemo(()=>{const f=Object.entries(e.answers||{}).filter(m=>!!m[1].startTime).sort((m,g)=>m[1].startTime-g[1].startTime);let h=0,p=0;return f.forEach((m,g)=>{const[v,y]=m,x=g>0?f[g-h-1]:null;x&&x[0].length*(M0e+1)+s(x[1].startTime)>s(y.startTime)?h+=1:h=0,h>p&&(p=h)}),(p+1)*c7+EE.top+EE.bottom},[e.answers,s]),u=A.useMemo(()=>{const f=Fu(e.conditions??e.searchParams?.condition);return f.length>0?f.join(","):void 0},[e.conditions,e.searchParams?.condition]),c=A.useMemo(()=>{let f=0;const h=Object.entries(e.answers||{}).filter(v=>v[1].startTime===0).sort(rZt),m=[...Object.entries(e.answers||{}).filter(v=>!!v[1].startTime).sort((v,y)=>v[1].startTime-y[1].startTime),...h];return m.map((v,y)=>{const x=v[1].startTime===0?a:s,[E,_]=v,S=y>0?m[y-f-1]:null,T=S&&S[1].startTime?s:a,k=S?S[1].startTime?S[1].startTime:h.indexOf(S):0,R=_.startTime?_.startTime:h.indexOf(v),I=_.endTime>0?_.endTime:h.indexOf(v)+1;S&&S[0].length*(M0e+1)+T(k)>x(R)?f+=1:f=0;const P=E.split("_"),N=P.slice(0,P.length-1).join("_"),M=r?.components[N],O=YT(_.answer,_.correctAnswer),j=!!(M&&M.correctAnswer||_.correctAnswer.length>0);return{line:b.jsx(eZt,{labelHeight:f*c7,height:l,xScale:x,scaleStart:R},E),label:b.jsx(ct,{withinPortal:!0,position:"bottom-start",px:4,py:0,withArrow:!0,label:b.jsx(Nn,{gap:0,children:Object.entries(_.answer).map(U=>{const[q,W]=U,V=M?.correctAnswer?.find(L=>L.id===q)?.answer,z=W==null||W===""?"N/A":typeof W=="object"?JSON.stringify(W):W;return b.jsx($e,{children:`${q}: ${z} ${V?`[${typeof V=="object"?JSON.stringify(V):V}]`:""}`},q)})}),children:b.jsx("g",{children:b.jsx(nZt,{incomplete:_.startTime===0,isCorrect:O,hasCorrect:j,labelHeight:f*c7,height:l,name:E,xScale:x,scaleStart:R,scaleEnd:I,trialOrder:_.trialOrder,participantId:e.participantId,studyId:n,condition:u},E)})},`${E}-tooltip`)}})},[e.answers,e.participantId,a,s,r?.components,l,n,u]),d=A.useMemo(()=>Object.entries(e.answers||{}).sort((h,p)=>h[1].startTime-p[1].startTime).map(h=>{const[p,m]=h,g=[];let v=[-1,-1],y="visible";if(m.windowEvents)for(let x=0;x<m.windowEvents.length;x+=1)m.windowEvents[x][1]==="visibility"&&(m.windowEvents[x][2]==="hidden"&&y==="visible"?(v=[m.windowEvents[x][0],-1],y="hidden"):m.windowEvents[x][2]==="visible"&&y==="hidden"&&(v[1]=m.windowEvents[x][0],g.push(v),v=[-1,-1],y="visible"));return g.map((x,E)=>b.jsx(ct,{withinPortal:!0,label:"Browsed away",children:b.jsx("rect",{x:s(x[0]),width:s(x[1])-s(x[0]),y:l-5,height:10})},E))}),[s,l,e.answers]);return b.jsx(Ha,{children:b.jsx(Nn,{gap:15,style:{width:"100%"},children:b.jsxs("svg",{style:{width:t,height:l,overflow:"visible"},children:[c.map(f=>f.line),c.map(f=>f.label),d]})})})}function oZt({metaData:e}){return b.jsx(rG,{w:200,hideLabel:"hide",maxHeight:50,showLabel:"more",children:b.jsxs(Nn,{gap:"xs",children:[b.jsxs(De,{children:[b.jsx("strong",{children:"Resolution:"})," ",JSON.stringify(e?.resolution,null,2)]}),b.jsxs(De,{children:[b.jsx("strong",{children:"User Agent:"})," ",e?.userAgent]}),b.jsxs(De,{children:[b.jsx("strong",{children:"IP:"})," ",e?.ip]}),b.jsxs(De,{children:[b.jsx("strong",{children:"Language:"})," ",e?.language]})]})})}function sZt(e){return e.valueOf()===0||Number.isNaN(e.valueOf())?b.jsx($e,{size:"sm",c:"dimmed",children:"None"}):e.toLocaleDateString([],{hour:"2-digit",minute:"2-digit"})}function aZt({visibleParticipants:e,studyConfig:t,refresh:n,width:r,stageColors:i,selectedParticipants:o,onSelectionChange:s}){const{studyId:a}=$o(),[l,u]=A.useState({});A.useEffect(()=>{const g=Object.keys(l).filter(v=>l[v]).map(v=>e.find(y=>y.participantId===v)).filter(v=>v!==void 0);s(g)},[l,e,s]);const c=A.useCallback(async()=>{await n()},[n]),[d,f]=A.useState(null),h=g=>{navigator.clipboard.writeText(g),f(g),setTimeout(()=>f(null),2e3)},p=A.useMemo(()=>{const g=e.some(v=>v.conditions??v.searchParams?.condition);return[{accessorFn:v=>{const y=Object.entries(v.answers||{}).filter(x=>x[1].startTime===0);return{percent:(Object.entries(v.answers).length-y.length)/(v0(v.sequence).length-1),completed:v.completed,rejected:v.rejected}},header:"Status",size:100,Cell:({cell:v})=>{const y=v.getValue();return y.rejected?b.jsxs(Nn,{align:"center",justify:"center",gap:4,w:"100%",children:[b.jsx(ct,{label:"Rejected",children:b.jsx(dm,{size:30,color:"red",style:{marginBottom:-3}})}),b.jsx($e,{size:"xs",c:"dimmed",ta:"center",children:y.rejected.reason})]}):y.completed?b.jsx(ln,{align:"center",justify:"center",w:"100%",children:b.jsx(ct,{label:"Completed",children:b.jsx(Th,{size:30,color:"teal",style:{marginBottom:-3}})})}):b.jsx(ln,{align:"center",justify:"center",w:"100%",children:b.jsx(ct,{label:"In Progress",children:b.jsx(nM,{size:30,thickness:4,sections:[{value:y.percent*100,color:"blue"}]})})})}},{accessorKey:"participantIndex",header:"#",size:80},{accessorKey:"stage",header:"Stage",size:100,Cell:({cell:v})=>{const y=v.getValue();if(!y||y==="")return b.jsx(Ii,{color:"gray",size:"md",variant:"light",children:"N/A"});const x=i[y]||"#F05A30";return b.jsx(Ii,{color:x,size:"md",variant:"filled",children:y})}},{accessorKey:"participantId",header:"ID",Cell:({row:v})=>b.jsxs(lt,{align:"center",children:[b.jsx($e,{size:"sm",children:v.original.participantId}),b.jsx(ct,{label:d===v.original.participantId?"Copied":"Copy ID",children:b.jsx(on,{variant:"subtle",onClick:()=>h(v.original.participantId),color:"gray",children:b.jsx(cM,{size:16})})})]})},...t.uiConfig.participantNameField?[{accessorFn:v=>ZJt(v,t),header:"Name",size:100}]:[],...g?[{accessorFn:v=>{const{conditions:y}=v;return Array.isArray(y)&&y.length>0?y.join(","):y??v.searchParams?.condition??"default"},header:"Condition",size:130}]:[],{accessorFn:v=>new Date(Math.max(...Object.values(v.answers).filter(y=>y.endTime>0).map(y=>y.endTime))-Math.min(...Object.values(v.answers).filter(y=>y.startTime>0).map(y=>y.startTime))),header:"Duration",size:120,Cell:({cell:v})=>Number.isNaN(v.getValue())?"Incomplete":b.jsx(Ii,{variant:"light",size:"md",color:"gray",leftSection:b.jsx(bKe,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:`${Bq(+v.getValue())||"N/A"}`})},{accessorFn:v=>new Date(Math.min(...Object.values(v.answers).filter(y=>y.startTime>0).map(y=>y.startTime))),header:"Start Time",size:150,Cell:({cell:v})=>sZt(v.getValue())},{accessorFn:v=>Object.values(v.answers).filter(y=>y.correctAnswer.length>0&&y.endTime>0).map(y=>YT(y.answer,y.correctAnswer)),header:"Correct Answers",size:160,Cell:({cell:v})=>b.jsxs(ln,{gap:4,children:[b.jsx(Ii,{variant:"light",size:"md",color:"green",leftSection:b.jsx(Th,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:v.getValue().filter(y=>y).length}),b.jsx(Ii,{variant:"light",size:"md",color:"red",leftSection:b.jsx(dm,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:v.getValue().length-v.getValue().filter(y=>y).length})]})},{accessorKey:"metadata",header:"Metadata",size:200,Cell:({cell:v})=>b.jsx(oZt,{metaData:v.getValue()})}]},[t,i,d,e]),m=uA({columns:p,data:e,enableColumnResizing:!0,columnResizeMode:"onEnd",enableRowSelection:!0,getRowId:g=>g.participantId,onRowSelectionChange:u,manualPagination:!0,state:{rowSelection:l},paginationDisplayMode:"pages",enablePagination:!1,enableRowVirtualization:!0,mantinePaperProps:{style:{maxHeight:"100%",display:"flex",flexDirection:"column"}},layoutMode:"grid",renderDetailPanel:({row:g})=>{const v=g.original;return v.participantId?b.jsx(iZt,{maxLength:void 0,studyConfig:t,studyId:a||"",participantData:v,width:r-60}):null},defaultColumn:{minSize:20,maxSize:1e3,size:180},enableDensityToggle:!1,positionToolbarAlertBanner:"none",renderTopToolbarCustomActions:()=>b.jsx(lt,{mb:8,p:8,children:b.jsx(J4e,{selectedParticipants:o,refresh:c})})});return e.length>0?b.jsx(V$,{table:m}):b.jsxs(b.Fragment,{children:[b.jsx($u,{h:"xl"}),b.jsx(lt,{justify:"center",align:"center",children:b.jsx($e,{children:"No data available"})})]})}function lZt({response:e,participantData:t,trialId:n,trialConfig:r}){const[i,{toggle:o}]=vV(!0),[s,a]=_b(),l=A.useMemo(()=>e.type==="metadata"?void 0:r.correctAnswer?.find(f=>f.id===e.id),[e.id,e.type,r.correctAnswer]),u=A.useMemo(()=>e.type==="metadata"?[]:t.map(f=>Object.entries(f.answers).filter(([h])=>h.slice(0,h.lastIndexOf("_"))===n)).map(f=>f.filter(([,h])=>h.startTime>0).map(([,h])=>{const p={...h.answer};if(l){const m=h.answer[e.id],g=l.answer;p.result=_Y(m,g)?"correct":"incorrect"}return p})).flat(),[t,e.type,n,l,e.id]),c=A.useMemo(()=>{const d={height:"container",width:"container"};if(e.type==="shortText"||e.type==="longText")return{};if(e.type==="metadata"){const h=t.map(m=>Object.entries(m.answers).filter(([g])=>g.slice(0,g.lastIndexOf("_"))===n)).map(m=>m.filter(([g,v])=>v.endTime!==-1).map(([g,v])=>(v.endTime-v.startTime)/1e3)).flat();return{...d,data:{values:h},mark:"bar",encoding:{x:{field:"data",bin:!0,type:"quantitative",title:"Time (s)"},y:{aggregate:"count",type:"quantitative",title:"Count"}}}}const f={params:[{name:"correctAnswer",value:l?.answer},{name:"variable",value:e.id}],transform:[{calculate:"datum[variable] === correctAnswer ? 'correct' : 'incorrect'",as:"result"},{calculate:"if(datum.result === 'correct', 0, if(datum.result === 'incorrect', 1, 2))",as:"order"}],color:{field:"result",type:"nominal",scale:{domain:["correct","incorrect"],range:["#69DB7C","#ADB5BD"]}},order:{field:"order"}};if(e.type==="matrix-radio"||e.type==="matrix-checkbox"){const h=u.map(m=>Object.entries(m[e.id]||{}).map(([g,v])=>e.type==="matrix-checkbox"?v.split("|").map(y=>({question:g,value:y})):[{question:g,value:v}]).flat()).flat();return{...d,data:{values:h},mark:"bar",params:l!==void 0?f.params:void 0,transform:Array.isArray(l?.answer)?void 0:l!==void 0?f.transform:void 0,encoding:{row:{field:"question",type:"nominal",header:{title:"Question"}},x:{field:"value",type:"ordinal",title:"Answer"},y:{aggregate:"count",type:"quantitative",title:"Count"},color:l!==void 0?f.color:void 0},order:l!==void 0?f.order:void 0,resolve:{scale:{x:"independent"}}}}if(e.type==="numerical"||e.type==="slider"||e.type==="likert"){let h,p;return e.type==="numerical"&&(h=e.min,p=e.max),e.type==="slider"&&(h=Math.min(...e.options.map(g=>g.value)),p=Math.max(...e.options.map(g=>g.value))),e.type==="likert"&&(h=1,p=e.numItems),{...d,data:{values:u},mark:"bar",params:l!==void 0?f.params:void 0,transform:[{bin:e.type==="likert"?{step:1}:{maxbins:10},field:e.id,as:"bins"},...l!==void 0?f.transform:[]],encoding:{x:{field:"bins",scale:h!==void 0&&p!==void 0?{domain:[h,p]}:void 0,type:"quantitative",title:"Answer"},x2:{field:"bins_end"},y:{aggregate:"count",type:"quantitative",title:"Count",stack:!0},color:l!==void 0?f.color:void 0,order:l!==void 0?f.order:void 0}}}if(e.type==="radio"||e.type==="dropdown"||e.type==="checkbox"||e.type==="buttons"||e.type==="ranking-sublist"||e.type==="ranking-categorical"||e.type==="ranking-pairwise")return{...d,data:{values:u},mark:"bar",params:l!==void 0?f.params:void 0,transform:Array.isArray(l?.answer)?void 0:l!==void 0?f.transform:void 0,encoding:{x:{field:e.id,type:"ordinal",title:"Answer"},y:{aggregate:"count",type:"quantitative",title:"Count"},color:l!==void 0?f.color:void 0}}},[t,u,e.id,e.max,e.min,e.numItems,e.options,e.type,n,l]);return b.jsxs(Ns,{p:"lg",withBorder:!0,ref:s,children:[b.jsxs(lt,{direction:"row",justify:"space-between",onClick:o,children:[b.jsxs(lt,{align:"center",children:[e.type==="metadata"&&b.jsx(_Ye,{size:20}),e.type==="numerical"&&b.jsx(FKe,{size:20}),(e.type==="shortText"||e.type==="longText")&&b.jsx(JGe,{size:20}),e.type==="likert"&&b.jsx(Iwe,{size:20}),e.type==="dropdown"&&b.jsx(dXe,{size:20}),e.type==="slider"&&b.jsx(vGe,{size:20}),e.type==="radio"&&b.jsx(ZKe,{size:20}),e.type==="checkbox"&&b.jsx(wXe,{size:20}),(e.type==="ranking-sublist"||e.type==="ranking-categorical"||e.type==="ranking-pairwise")&&b.jsx(YYe,{size:20}),e.type==="matrix-radio"&&b.jsx(hKe,{size:20}),e.type==="matrix-checkbox"&&b.jsx(nYe,{size:20}),e.type==="buttons"&&b.jsx(kYe,{size:20}),e.type==="reactive"&&b.jsx(xKe,{size:20}),e.type==="textOnly"&&b.jsx(TKe,{size:20}),b.jsx(gr,{order:5,ml:4,children:e.id})]}),b.jsx(uM,{style:{rotate:i?"180deg":"none",transition:"rotate 200ms"}})]}),b.jsxs(Uh,{in:i,mah:400,children:[b.jsx(De,{style:{position:"sticky",backgroundColor:"white",zIndex:2},py:"md",children:b.jsx(Tb,{})}),b.jsxs(ZW,{cols:2,h:360,children:[b.jsx(lm,{mih:200,children:e.type!=="metadata"&&e.type!=="shortText"&&e.type!=="longText"&&e.type!=="reactive"&&e.type!=="textOnly"&&e.type!=="ranking-sublist"&&e.type!=="ranking-categorical"&&e.type!=="ranking-pairwise"?b.jsx(ome,{spec:c,actions:!1,height:270,width:e.type==="matrix-checkbox"||e.type==="matrix-radio"?500:a.width/2-60-(l===void 0?0:60),padding:0,style:{justifySelf:"center"},renderer:"svg"}):b.jsx(lt,{direction:"column",gap:"xs",style:{overflowX:"clip"},children:e.type==="metadata"?b.jsx(Ru,{block:!0,children:`${JSON.stringify(r,null,2)}`}):b.jsxs(b.Fragment,{children:[b.jsx($e,{fw:700,children:"Response Values: "}),e.type==="textOnly"||e.type==="ranking-sublist"||e.type==="ranking-categorical"||e.type==="ranking-pairwise"?b.jsx($e,{children:"N/A"}):u.map((d,f)=>b.jsx(lt,{align:"center",gap:"xs",children:b.jsx($e,{children:d[e.id]})},f))]})})}),b.jsx(lm,{mih:200,children:e.type==="metadata"?b.jsx(ome,{spec:c,actions:!1,width:a.width/2-60,height:270,padding:0,style:{justifySelf:"center"}}):b.jsxs(b.Fragment,{children:[b.jsx($e,{fw:700,children:"Response Specification: "}),b.jsx(Ru,{block:!0,children:JSON.stringify(e,null,2)}),b.jsx("br",{}),l&&b.jsxs(b.Fragment,{children:[b.jsx($e,{fw:700,children:"Correct Answer: "}),b.jsx(Ru,{block:!0,children:JSON.stringify(l,null,2)})]})]})})]})]})]})}function uZt({participantData:e,studyConfig:t,trialId:n}){const r=n&&n!=="end"&&ju(t.components[n],t),i=A.useMemo(()=>[{id:"Config and Timing",type:"metadata"},...r?r.response:[]],[r]);return r?b.jsx(lt,{w:"100%",direction:"column",gap:"xs",children:i.map(o=>b.jsx(lZt,{response:o,participantData:e,trialId:n,trialConfig:r},o.id))}):b.jsx(lt,{justify:"center",align:"center",pt:"lg",pb:"md",w:"100%",children:b.jsx($e,{children:n!=="end"?"No trial selected":"The end component has no data."})})}function cZt({studyConfig:e,visibleParticipants:t}){const{trialId:n}=$o(),r=A.useMemo(()=>n&&n!=="end"?ZMe(t,n):null,[t,n]);return b.jsxs(b.Fragment,{children:[r&&b.jsx(e6e,{overviewData:r}),b.jsx(Ns,{shadow:"sm",p:"md",mt:"md",withBorder:!0,children:t.length===0?b.jsx(lt,{justify:"center",align:"center",pt:"lg",pb:"md",children:b.jsx($e,{children:"No data available."})}):b.jsxs(lt,{direction:"row",children:[b.jsx(De,{w:340,children:b.jsx($q,{participantAnswers:{},studyConfig:e,isAnalysis:!0})}),b.jsx(Tb,{orientation:"vertical",mx:"md"}),b.jsx(uZt,{participantData:t,studyConfig:e,trialId:n})]})})]})}function c5e({visibleParticipants:e,studyId:t,gap:n,fileName:r,hasAudio:i,hasScreenRecording:o}){const[s,{open:a,close:l}]=vV(!1),[u,c]=A.useState([]),[d,f]=A.useState(!1),[h,p]=A.useState(!1),{storageEngine:m}=ri(),g=async()=>typeof e=="function"?await e():e,v=async()=>{const S=await g(),T=r?`${r}.json`:`${t}_all.json`;jY(JSON.stringify(S,null,2),T)},y=async()=>{const S=await g();c(S),a()},x=async()=>{f(!0);try{const S=await g();if(!m)return;await RVt({storageEngine:m,participants:S,studyId:t,fileName:r})}finally{f(!1)}},E=async()=>{p(!0);try{const S=await g();if(!m)return;await DVt({storageEngine:m,participants:S,studyId:t,fileName:r})}finally{p(!1)}},_=typeof e!="function"?`Download ${e.length} participants`:"Download participants data";return b.jsxs(b.Fragment,{children:[b.jsxs(ln,{style:{gap:n},children:[b.jsx(ct,{label:`${_} as JSON`,children:b.jsx(Mt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:v,px:4,children:b.jsx(PYe,{})})}),b.jsx(ct,{label:`${_} as tidy CSV`,children:b.jsx(Mt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:y,px:4,children:b.jsx(jwe,{})})}),i&&b.jsx(ct,{label:`${_} audio & transcripts as ZIP`,children:b.jsx(Mt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:x,px:4,loading:d,children:b.jsx(Nwe,{})})}),o&&b.jsx(ct,{label:`${_} screen recordings ZIP`,children:b.jsx(Mt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:E,px:4,loading:h,children:b.jsx(Awe,{})})})]}),s&&u.length>0&&b.jsx(umt,{opened:s,close:l,filename:r?`${r}_tidy.csv`:`${t}_all_tidy.csv`,data:u,studyId:t,hasAudio:i})]})}function dZt({studyId:e,refresh:t}){const[n,r]=A.useState(!1),[i,o]=A.useState(!1),[s,a]=A.useState(!1),[l,u]=A.useState(!1),[c,d]=A.useState(""),[f,h]=A.useState({}),[p,m]=A.useState(""),[g,v]=A.useState(""),[y,x]=A.useState(!1),[E,_]=A.useState(!1),{storageEngine:S}=ri(),T=A.useCallback(async()=>{if(!S)return;_(!0);const V=await S.getSnapshots(e);h(V),_(!1)},[S,e]);if(A.useEffect(()=>{T()},[T]),!S)return null;const k=async V=>{x(!0);let z;switch(V.type){case"create":z=await S.createSnapshot(e,V.archive);break;case"rename":z=await S.renameSnapshot(V.snapshot,V.newName,e);break;case"restore":z=await S.restoreSnapshot(e,V.snapshot);break;case"deleteSnapshot":z=await S.removeSnapshotOrLive(V.snapshot,e);break;case"deleteLive":z=await S.removeSnapshotOrLive(e,e);break;default:throw x(!1),new Error("Unknown action")}z.status==="SUCCESS"?(await T(),x(!1),await t(),z.notifications?.forEach(L=>I2(L))):(x(!1),I2({title:z.error.title,message:z.error.message,color:"red"}))},R=()=>k({type:"create",archive:!1}),I=()=>{m(""),r(!1),k({type:"create",archive:!0})},P=()=>{a(!1),k({type:"rename",snapshot:c,newName:g})},N=V=>k({type:"restore",snapshot:V}),M=()=>{m(""),o(!1),k({type:"deleteSnapshot",snapshot:c})},O=()=>{m(""),u(!1),k({type:"deleteLive"})},j=()=>poe({title:"Create a Snapshot",children:b.jsx($e,{mb:30,children:"This will create a snapshot of the live database without impacting the live data."}),labels:{confirm:"Create",cancel:"Cancel"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>R()}),U=V=>poe({title:"Restore Snapshot",children:b.jsx($e,{mb:30,children:"Restoring this snapshot will perform 2 actions. First, we will create a snapshot of the current live database, then we will restore the selected snapshot into the live database."}),labels:{confirm:"Restore",cancel:"Cancel"},confirmProps:{color:"red"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>N(V)}),q=V=>{const z=/-snapshot-(.+)$/,L=V.match(z);return L&&L[1]?L[1].replace("T"," "):null},W=async V=>{const z=V.slice(V.indexOf("-")+1);return await S.getAllParticipantsData(z)};return b.jsxs(b.Fragment,{children:[b.jsx(gr,{order:4,mb:"sm",children:"Data Management"}),b.jsx(eu,{visible:y}),b.jsx($e,{mb:"xs",children:"Snapshots save your data, but restoring snapshots only works if your reVISit config, your components, and the reVISit version are still compatible with the data you collected. Make sure to also backup your data, for example, to your local computer regularly."}),b.jsxs(lt,{justify:"space-between",align:"center",children:[b.jsxs(De,{style:{width:"90%"},children:[b.jsx(gr,{order:5,children:"Create a Snapshot"}),b.jsxs($e,{children:["This will create a snapshot of the live"," ",b.jsx($e,{span:!0,fw:700,children:e})," ","database. It will"," ",b.jsx($e,{span:!0,fw:700,fs:"italic",children:"not"})," ","remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),b.jsx(ct,{label:"Create a snapshot",children:b.jsx(Mt,{onClick:j,ml:"xs",children:"Snapshot"})})]}),b.jsx($u,{h:"sm"}),b.jsxs(lt,{justify:"space-between",align:"center",children:[b.jsxs(De,{style:{width:"90%"},children:[b.jsx(gr,{order:5,children:"Archive Data"}),b.jsxs($e,{children:["This will create a snapshot of the live"," ",b.jsx($e,{span:!0,fw:700,children:e})," ","database. It will then remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),b.jsx(ct,{label:"Snapshot and Delete Data",children:b.jsx(Mt,{color:"red",onClick:()=>r(!0),ml:"xs",children:"Archive"})})]}),b.jsx($u,{h:"sm"}),b.jsxs(lt,{justify:"space-between",align:"center",children:[b.jsxs(De,{style:{width:"90%"},children:[b.jsx(gr,{order:5,children:"Delete Data"}),b.jsxs($e,{children:["This will delete the live"," ",b.jsx($e,{span:!0,fw:700,children:e})," ","database. Since this does not create a snapshot the data will be permanently deleted and cannot be restored."]})]}),b.jsx(ct,{label:"Delete Data",children:b.jsx(Mt,{color:"red",onClick:()=>u(!0),ml:"xs",children:"Delete"})})]}),b.jsx($u,{h:"sm"}),b.jsxs(lt,{direction:"column",children:[b.jsx(De,{style:{borderBottom:"1px solid #dedede"},mb:"xs",pb:"sm",children:b.jsx(gr,{order:5,children:"Snapshots"})}),b.jsxs(De,{style:{position:"relative"},children:[b.jsx(eu,{visible:E}),Object.keys(f).length>0?b.jsxs(xn,{children:[b.jsx(xn.Thead,{children:b.jsxs(xn.Tr,{children:[b.jsx(xn.Th,{children:"Snapshot Name"}),b.jsx(xn.Th,{children:"Date Created"}),b.jsx(xn.Th,{children:"Actions"})]})}),b.jsx(xn.Tbody,{children:Object.entries(f).map(([V,z])=>b.jsxs(xn.Tr,{children:[b.jsx(xn.Td,{children:z.name}),b.jsx(xn.Td,{children:q(V)}),b.jsx(xn.Td,{children:b.jsxs(lt,{children:[b.jsx(ct,{label:"Rename",children:b.jsx(Mt,{color:"green",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{a(!0),d(V)},children:b.jsx(qKe,{})})}),b.jsx(ct,{label:"Restore Snapshot",children:b.jsx(Mt,{color:"blue",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{U(V)},children:b.jsx($we,{})})}),b.jsx(ct,{label:"Delete Snapshot",children:b.jsx(Mt,{color:"red",px:4,variant:"light",style:{margin:"0px 10px 0px 5px"},onClick:()=>{o(!0),d(V)},children:b.jsx(Bwe,{})})}),b.jsx(c5e,{visibleParticipants:()=>W(V),studyId:e,gap:"10px",fileName:z.name})]})})]},V))})]}):b.jsx($e,{children:"No snapshots."})]})]}),b.jsxs(ni,{opened:n,onClose:()=>{r(!1),m("")},title:b.jsx($e,{children:"Archive Data"}),children:[b.jsx($e,{mb:"sm",children:"This will create a snapshot of the live database and remove the data from the live database."}),b.jsx(fl,{label:"To archive this data, please enter the name of the study.",placeholder:e,onChange:V=>m(V.target.value)}),b.jsxs(lt,{mt:"sm",justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{r(!1),m("")},children:"Cancel"}),b.jsx(Mt,{color:"red",onClick:I,disabled:p!==e,children:"Archive"})]})]}),b.jsxs(ni,{opened:i,onClose:()=>{o(!1),m("")},title:b.jsx($e,{children:"Delete Snapshot"}),children:[b.jsxs($e,{mb:"sm",children:["This will permanently remove this snapshot. This action is"," ",b.jsx($e,{span:!0,fw:700,children:"irreversible"}),"."]}),b.jsx(fl,{label:"To delete this snapshot, please enter the name of the study.",placeholder:e,onChange:V=>m(V.target.value)}),b.jsxs(lt,{mt:"sm",justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{o(!1),m("")},children:"Cancel"}),b.jsx(Mt,{color:"red",onClick:M,disabled:p!==e,children:"Delete"})]})]}),b.jsxs(ni,{opened:s,onClose:()=>{a(!1),v("")},title:b.jsx($e,{children:"Rename Snapshot"}),children:[b.jsx(fl,{label:"Enter the new name of the snapshot.",placeholder:c,onChange:V=>v(V.target.value)}),b.jsxs(lt,{mt:"sm",justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{a(!1),v("")},children:"Cancel"}),b.jsx(Mt,{color:"green",onClick:P,disabled:!g||g.length===0,children:"Rename"})]})]}),b.jsxs(ni,{opened:l,onClose:()=>{u(!1),m("")},title:b.jsx($e,{children:"Delete Live Data"}),children:[b.jsxs($e,{mb:"sm",children:["This will permanently delete the live"," ",b.jsx($e,{span:!0,fw:700,children:e})," ","data. This action is"," ",b.jsx($e,{span:!0,fw:700,children:"irreversible"}),". Please consider using archive data to create a snapshot of the live data before deleting."]}),b.jsx(fl,{label:"To delete this live data, please enter the name of the study.",placeholder:e,onChange:V=>m(V.target.value)}),b.jsxs(lt,{mt:"sm",justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{u(!1),m("")},children:"Cancel"}),b.jsx(Mt,{color:"red",onClick:O,disabled:p!==e,children:"Delete"})]})]})]})}function fZt({studyId:e}){const{storageEngine:t}=ri(),[n,r]=A.useState(!1),[i,o]=A.useState(!1),[s,a]=A.useState(!1),[l,u]=A.useState(!1);A.useEffect(()=>{(async()=>{if(t){const f=await t.getModes(e);o(f.dataCollectionEnabled),a(f.developmentModeEnabled),u(f.dataSharingEnabled),r(!0)}})()},[t,e]);const c=async(d,f)=>{t&&(await t.setMode(e,d,f),d==="dataCollectionEnabled"?o(f):d==="developmentModeEnabled"?a(f):d==="dataSharingEnabled"&&u(f))};return n&&b.jsxs(b.Fragment,{children:[b.jsx(gr,{order:4,mb:"sm",children:"ReVISit Modes"}),b.jsx($e,{mb:"sm",children:"ReVISit modes let you control what happens when you visit your study when designing/debugging your study, actively collecting data, and analyzing data when data collection is concluded."}),b.jsxs(lt,{gap:"xs",children:[b.jsx(gr,{order:5,children:"Data Collection"}),b.jsx(r0,{size:"sm",checked:i,onChange:d=>c("dataCollectionEnabled",d.currentTarget.checked),mt:"3px"})]}),b.jsx($e,{mb:"sm",children:"When enabling data collection, data is written to your data store. Make sure to turn this on when actively collecting data, and turn it off after you have concluded data collection, so you don't pollute your data by accident."}),b.jsxs(lt,{gap:"xs",children:[b.jsx(gr,{order:5,children:"Development Mode"}),b.jsx(r0,{size:"sm",checked:s,onChange:d=>c("developmentModeEnabled",d.currentTarget.checked),mt:"3px"})]}),b.jsx($e,{mb:"sm",children:"Debug and development mode enables the study navigator, letting visitors jump between tasks. It also disables device checks, such as minimum screen size, and lets you navigate to the analytics interface."}),b.jsxs(lt,{gap:"xs",children:[b.jsx(gr,{order:5,children:"Share Data and Make Analytics Interface Public"}),b.jsx(r0,{size:"sm",checked:l,onChange:d=>c("dataSharingEnabled",d.currentTarget.checked),mt:"3px"})]}),b.jsx($e,{children:"When you enabling data sharing, anyone visiting your study website can access the analytics interface and download all of your data. If you disable data sharing, only authenticated users with permissions can access the analytics interface and the associated data."})]})}function hZt(e,t){const n=e.trim();if(!n)return"Stage name cannot be empty";const r=n.toLowerCase();return r==="n/a"?'Stage name "N/A" is reserved and cannot be used':r==="all"?'Stage name "ALL" is reserved and cannot be used':r==="default"?'Stage name "DEFAULT" is reserved and cannot be used':t.some(i=>i.stageName===n)?"A stage with this name already exists":null}function pZt({studyId:e}){const{storageEngine:t}=ri(),[n,r]=A.useState(!1),[i,o]=A.useState({stageName:"DEFAULT",color:"#F05A30"}),[s,a]=A.useState([{stageName:"DEFAULT",color:"#F05A30"}]),[l,u]=A.useState(null),[c,d]=A.useState(""),[f,h]=A.useState("#F05A30"),[p,m]=A.useState(""),[g,v]=A.useState(!1),[y,x]=A.useState(""),[E,_]=A.useState("#F05A30"),[S,T]=A.useState("");A.useEffect(()=>{(async()=>{if(t)try{const U=await t.getStageData(e);o(U.currentStage),a(U.allStages),r(!0)}catch(U){console.error("Failed to load stage data:",U),o({stageName:"DEFAULT",color:"#F05A30"}),a([{stageName:"DEFAULT",color:"#F05A30"}]),r(!0)}})()},[t,e]);const k=async(j,U)=>{t&&(await t.setCurrentStage(e,j,U),o({stageName:j,color:U}))},R=j=>{u(j),d(s[j].stageName),h(s[j].color),m("")},I=async j=>{if(t){await t.updateStageColor(e,j,f);const U=await t.getStageData(e);o(U.currentStage),a(U.allStages),u(null),m("")}},P=()=>{u(null),d(""),h("#F05A30"),m("")},N=()=>{v(!0),x(""),_("#F05A30"),T("")},M=async()=>{const j=y.trim(),U=hZt(j,s);if(U){T(U);return}if(T(""),t){await t.setCurrentStage(e,j,E);const q=await t.getStageData(e);o(q.currentStage),a(q.allStages),v(!1),x(""),_("#F05A30")}},O=()=>{v(!1),x(""),_("#F05A30"),T("")};return n?b.jsxs(Nn,{children:[b.jsxs(ln,{children:[b.jsx(gr,{order:4,mb:"sm",children:"Stage Management"}),!g&&b.jsx(Mt,{size:"sm",onClick:N,ml:"auto",children:"Add New Stage"})]}),b.jsxs(xn,{striped:!0,highlightOnHover:!0,withTableBorder:!0,children:[b.jsx(xn.Thead,{children:b.jsxs(xn.Tr,{children:[b.jsx(xn.Th,{style:{width:"80px",whiteSpace:"nowrap"},children:"Current"}),b.jsx(xn.Th,{children:"Stage Name"}),b.jsx(xn.Th,{style:{width:"200px"},children:"Color"}),b.jsx(xn.Th,{style:{width:"80px",whiteSpace:"nowrap"},children:"Edit"})]})}),b.jsxs(xn.Tbody,{children:[s.map((j,U)=>b.jsxs(xn.Tr,{children:[b.jsx(xn.Td,{children:b.jsx($a,{checked:i.stageName===j.stageName,onChange:()=>k(j.stageName,j.color)})}),b.jsx(xn.Td,{children:l===U?b.jsx(fl,{value:c,onChange:q=>d(q.currentTarget.value),error:p,size:"xs",disabled:!0}):b.jsx($e,{size:"sm",children:j.stageName})}),b.jsx(xn.Td,{children:l===U?b.jsx(I3,{value:f,onChange:h,size:"xs"}):b.jsxs(ln,{gap:"xs",children:[b.jsx("div",{style:{width:20,height:20,backgroundColor:j.color,border:"1px solid #dee2e6",borderRadius:4}}),b.jsx($e,{size:"sm",c:"dimmed",children:j.color})]})}),b.jsx(xn.Td,{children:l===U?b.jsxs(ln,{gap:"xs",children:[b.jsx(on,{size:"sm",color:"green",onClick:()=>I(j.stageName),children:b.jsx(Th,{size:16})}),b.jsx(on,{size:"sm",color:"gray",onClick:P,children:b.jsx(dm,{size:16})})]}):b.jsx(on,{size:"sm",onClick:()=>R(U),children:b.jsx(L3,{size:16})})})]},j.stageName)),g&&b.jsxs(xn.Tr,{style:{backgroundColor:"#f8f9fa"},children:[b.jsx(xn.Td,{}),b.jsx(xn.Td,{children:b.jsx(fl,{placeholder:"Enter stage name",value:y,onChange:j=>x(j.currentTarget.value),error:S,size:"xs"})}),b.jsx(xn.Td,{children:b.jsx(I3,{value:E,onChange:_,size:"xs"})}),b.jsx(xn.Td,{children:b.jsxs(ln,{gap:"xs",children:[b.jsx(on,{size:"sm",color:"green",onClick:M,children:b.jsx(Th,{size:16})}),b.jsx(on,{size:"sm",color:"gray",onClick:O,children:b.jsx(dm,{size:16})})]})})]})]})]}),p&&b.jsx($e,{size:"sm",c:"red",mt:"xs",children:"Note: Stage names cannot be changed, only colors can be edited."})]}):b.jsxs(Nn,{align:"center",p:"md",children:[b.jsx(Wc,{size:"sm"}),b.jsx($e,{size:"sm",c:"dimmed",children:"Loading stage data..."})]})}function mZt({studyId:e,refresh:t}){return b.jsxs(Nn,{gap:"lg",w:"60%",mx:"auto",children:[b.jsx(Ns,{shadow:"sm",p:"lg",radius:"md",withBorder:!0,children:b.jsx(fZt,{studyId:e})}),b.jsx(Ns,{shadow:"sm",p:"lg",radius:"md",withBorder:!0,children:b.jsx(pZt,{studyId:e})}),b.jsx(Ns,{shadow:"sm",p:"lg",radius:"md",withBorder:!0,children:b.jsx(dZt,{studyId:e,refresh:t})})]})}function gZt(e){const[t,n]=A.useState(!1),[r,i]=A.useState(!1);return A.useEffect(()=>{if(!e){n(!1),i(!1);return}const{recordAudio:o,recordScreen:s}=e.uiConfig,a=Object.keys(e.components).map(l=>ju(e.components[l],e));n(o||a.some(l=>l.recordAudio)),i(s||a.some(l=>l.recordScreen))},[e]),{hasAudioRecording:t,hasScreenRecording:r}}function yZt({annotation:e,setAnnotation:t,start:n,current:r,end:i,text:o,tags:s,selectedTags:a,onTextChange:l,deleteRowCallback:u,addRowCallback:c,onSelectTags:d,addRef:f,index:h,editTagCallback:p,createTagCallback:m,onClickLine:g}){const[v,y]=A.useState(e),x=A.useRef(0);A.useEffect(()=>{x.current=h},[h]);const[E,{width:_}]=_b();return A.useMemo(()=>b.jsxs(so,{style:{width:"100%"},children:[b.jsx(so.Col,{span:8,children:b.jsx(ln,{wrap:"nowrap",gap:0,px:10,style:{width:"100%",borderRadius:"10px",backgroundColor:r>=n&&r<=i?"rgba(100, 149, 237, 0.3)":"white"},children:b.jsx(l2,{ref:T=>T?f(x.current,T):void 0,autosize:!0,minRows:1,maxRows:4,style:{width:"100%"},variant:"unstyled",value:o,onFocus:()=>g(x.current),onChange:T=>{l(x.current,T.currentTarget.value)},onKeyDown:(T=>{T.key==="Enter"&&T.currentTarget.selectionStart!==null?(c(x.current,T.currentTarget.selectionStart),T.preventDefault(),T.stopPropagation()):T.key==="Backspace"&&T.currentTarget.selectionStart===0&&T.currentTarget.selectionEnd===0&&(u(x.current),T.preventDefault(),T.stopPropagation())})})})}),b.jsx(so.Col,{ref:E,span:2,children:b.jsx(Uq,{width:_-20,createTagCallback:m,editTagCallback:p,onSelectTags:T=>d(x.current,T),selectedTags:a,tags:s,tagsEmptyText:"Add Text Tags"})}),b.jsx(so.Col,{span:2,children:b.jsx(l2,{autosize:!0,style:{width:_-20},minRows:1,maxRows:4,value:v,onChange:T=>y(T.currentTarget.value),placeholder:"Add Annotation",onBlur:()=>t(x.current,v)})})]}),[f,c,v,m,r,u,p,i,g,d,l,E,a,t,n,s,o,_])}async function vZt(e){if(e){const t=await e.getTags("text");return Array.isArray(t)?t:[]}return[]}function bZt({currentShownTranscription:e,transcriptList:t,setTranscriptList:n,onClickLine:r}){const{storageEngine:i}=ri(),{value:o,execute:s}=_c(vZt,[i]),a=A.useCallback(y=>{i&&i.saveTags(y,"text").then(()=>s(i))},[s,i]),l=A.useRef([]),u=ih((y,x)=>{const E=[...t];E[y].text=x,n(E)}),c=ih((y,x)=>{const E=[...t];E[y].selectedTags=x,n(E)}),d=ih((y,x)=>{const E=[...t];E[y].annotation=x,n(E)}),f=ih(y=>{if(y===0)return;const x=structuredClone(t);x[y-1].text=t[y-1].text+t[y].text,x[y-1].transcriptMappingEnd=t[y].transcriptMappingEnd,x[y-1].selectedTags=[...t[y-1].selectedTags,...t[y].selectedTags.filter(E=>!t[y-1].selectedTags.find(_=>_.id===E.id))],x.splice(y,1),x.filter(E=>E.transcriptMappingStart===x[y-1].transcriptMappingStart).forEach(E=>{E.transcriptMappingEnd=x[y-1].transcriptMappingEnd}),n(x),setTimeout(()=>{l.current[y-1].focus(),l.current[y-1].setSelectionRange(t[y-1].text.length,t[y-1].text.length,"none")},1)}),h=ih((y,x)=>{const E=structuredClone(t),_=E[y];E.splice(y+1,0,{transcriptMappingEnd:_.transcriptMappingEnd,transcriptMappingStart:_.transcriptMappingStart,text:_.text.slice(x),selectedTags:_.selectedTags,annotation:""}),E[y].text=E[y].text.slice(0,x),n(E),setTimeout(()=>{l.current[y+1].focus(),l.current[y+1].setSelectionRange(0,0)},1)}),p=A.useCallback((y,x)=>{if(!o)return;const E=o.findIndex(S=>S.id===y.id),_=Array.from(o);_[E]=x,a(_)},[a,o]),m=A.useCallback(y=>{a([...o||[],y])},[a,o]),g=A.useCallback((y,x)=>{l.current[y]=x},[]),v=A.useMemo(()=>t.map((y,x)=>b.jsx(yZt,{onClickLine:r,editTagCallback:p,createTagCallback:m,annotation:y.annotation,setAnnotation:d,addRef:g,onSelectTags:c,addRowCallback:h,deleteRowCallback:f,onTextChange:u,tags:o||[],selectedTags:y.selectedTags,text:y.text,index:x,start:y.transcriptMappingStart,end:y.transcriptMappingEnd,current:e===null?0:e},x)),[h,c,g,m,e,f,p,r,d,o,u,t]);return b.jsxs(Nn,{gap:0,children:[b.jsxs(so,{style:{width:"100%"},mb:"sm",children:[b.jsx(so.Col,{span:8,children:b.jsx($e,{fw:700,size:"xl",children:"Transcripts"})}),b.jsx(so.Col,{span:2,children:b.jsxs(ln,{gap:"xs",align:"center",children:[b.jsx($e,{fw:700,size:"xl",children:"Text Tags"}),b.jsx(ct,{w:300,multiline:!0,label:"Text tags allow you to categorize segments of text. Click in the box to add, create, or edit tags.",children:b.jsx(Rc,{size:16})})]})}),b.jsx(so.Col,{span:2,children:b.jsxs(ln,{gap:"xs",align:"center",children:[b.jsx($e,{fw:700,size:"xl",children:"Annotations"}),b.jsx(ct,{w:300,multiline:!0,label:"Annotations allow you to add additional context or notes to segments of text.",children:b.jsx(Rc,{size:16})})]})})]}),b.jsx(Nn,{gap:5,children:v})]})}async function wZt(e,t,n,r){return e&&t&&n&&r?await e.getEditedTranscript(t,r,n):null}function xZt(e,t){return t?t.getParticipantData(e):null}function CZt(e,t,n,r){return e&&r?e.getTranscription(t,n).then(i=>!i||!i.results?null:{results:i.results.map(s=>({...s,resultEndTime:+s.resultEndTime.split("s")[0]})).flat()}):null}function _Zt(e){return e&&Object.values(e.answers).sort((n,r)=>{const i=Lp(n.trialOrder),o=Lp(r.trialOrder);return i.step!==o.step?(i.step??Number.MAX_SAFE_INTEGER)-(o.step??Number.MAX_SAFE_INTEGER):i.funcIndex!==o.funcIndex?(i.funcIndex??-1)-(o.funcIndex??-1):n.identifier.localeCompare(r.identifier)})[0]?.identifier||""}function EZt({visibleParticipants:e,storageEngine:t}){const n=X0(),[r,i]=uu(),o=da(),s=fa(),[a,l]=A.useState(0),u=A.useMemo(()=>r.get("participantId")||"",[r]),{studyId:c,trialId:d}=$o(),f=A.useMemo(()=>d||"",[d]),[h,p]=A.useState(0),{value:m}=_c(xZt,[u,t]),g=k4e(),[v,y]=A.useState(),[x,{width:E}]=_b(),[_,S]=A.useState([]),{value:T,status:k}=_c(CZt,[t,f,u,c]),R=A.useMemo(()=>t&&u&&f?md(j=>t.saveEditedTranscript(u,n.user.user?.email||"temp",f,j),1e3,{maxWait:5e3}):j=>null,[f,n.user.user?.email,t,u]);A.useEffect(()=>{!u&&e.length>0&&i(j=>(j.set("participantId",e[0].participantId),j.delete("currentTrial"),j))},[]),A.useEffect(()=>{if(!c||!m||f&&m.answers[f])return;const j=_Zt(m);j&&s(`/analysis/stats/${c}/tagging/${encodeURIComponent(j)}${o.search}`,{replace:!0})},[f,o.search,s,m,c]);const I=A.useCallback(j=>{S(j),R(j)},[R]),{value:P,status:N}=_c(wZt,[t,u,f,n.user.user?.email||"temp"]);A.useEffect(()=>{S(P&&N==="success"?P:[])},[P,N]);const M=ih(j=>{if(T&&h!==null&&m&&j>0){let U=h;const q=f?m.answers[f].startTime:m.answers.audioTest.startTime,W=Math.abs(j-q)/1e3;if(!T.results[U]){p(0);return}if(W>T.results[U].resultEndTime){for(;W>T.results[U].resultEndTime;)if(U+=1,U>T.results.length-1){U=T.results.length-1;break}}else if(U>0&&W<T.results[U-1].resultEndTime)for(;U>0&&W<T.results[U-1].resultEndTime;)U-=1;if(h===U)return;p(U)}});A.useEffect(()=>{N==="success"&&(!P||P.length===0)&&k==="success"&&T&&I(T.results.map((j,U)=>({transcriptMappingStart:U,transcriptMappingEnd:U,text:j.alternatives[0].transcript?.trim()||"",selectedTags:[],annotation:""})))},[n.user.user?.email,f,P,u,T,k,I,t,N]);const O=A.useCallback(j=>{const U=_[j].transcriptMappingStart;l(U)},[_]);return A.useEffect(()=>{l(0)},[u,f]),b.jsx(xee.Provider,{value:g,children:b.jsx(ln,{wrap:"nowrap",gap:25,children:b.jsxs(Nn,{ref:x,style:{width:"100%"},gap:10,children:[!u||!f?b.jsx(Ha,{children:b.jsx($e,{c:"dimmed",size:"24",children:"Select a Participant and Trial to Analyze"})}):!v||k==="success"&&T===null?b.jsx(Ha,{children:b.jsx($e,{c:"dimmed",size:"24",children:"No transcripts found for this task"})}):b.jsx(Nn,{children:b.jsx(bZt,{onClickLine:O,transcriptList:_,setTranscriptList:I,currentShownTranscription:h})}),b.jsx(Z4e,{setHasAudio:y,saveProvenance:()=>null,studyId:c||"",jumpedToLine:a,editedTranscript:_,currentTrial:f,isReplay:!1,visibleParticipants:e.map(j=>j.participantId),rawTranscript:T,onTimeUpdate:M,currentShownTranscription:h,width:E,storageEngine:t},`${u}-${f}`)]})})})}function SZt(e){return e.valueOf()===0||Number.isNaN(e.valueOf())?b.jsx($e,{size:"sm",c:"dimmed",children:"None"}):e.toLocaleDateString([],{hour:"2-digit",minute:"2-digit"})}function TZt(e,t){return Object.entries(e).map(([n,r])=>{const i=t.filter(p=>p.participantConfigHash===n),o=i.flatMap(p=>Object.values(p.answers)),s=o.map(p=>p.startTime).filter(p=>p!==void 0&&p>0),a=o.map(p=>p.endTime).filter(p=>p!==void 0&&p>0),l=i.map(p=>p.createdTime).filter(p=>p!==void 0&&p>0),u=s.length>0?Math.min(...s):null,c=a.length>0?Math.max(...a):null,d=l.length>0?Math.min(...l):null,f=p=>{const m=SZt(new Date(p));return typeof m=="string"?m:"N/A"},h=()=>{const p=u||d;if(!p)return"N/A";const m=c?f(c):"N/A";return`${f(p)} - ${m}`};return{version:r.studyMetadata.version,hash:n,date:r.studyMetadata.date,timeFrame:h(),participantCount:i.length,config:r}})}class kZt{diff(t,n,r={}){let i;typeof r=="function"?(i=r,r={}):"callback"in r&&(i=r.callback);const o=this.castInput(t,r),s=this.castInput(n,r),a=this.removeEmpty(this.tokenize(o,r)),l=this.removeEmpty(this.tokenize(s,r));return this.diffWithOptionsObj(a,l,r,i)}diffWithOptionsObj(t,n,r,i){var o;const s=y=>{if(y=this.postProcess(y,r),i){setTimeout(function(){i(y)},0);return}else return y},a=n.length,l=t.length;let u=1,c=a+l;r.maxEditLength!=null&&(c=Math.min(c,r.maxEditLength));const d=(o=r.timeout)!==null&&o!==void 0?o:1/0,f=Date.now()+d,h=[{oldPos:-1,lastComponent:void 0}];let p=this.extractCommon(h[0],n,t,0,r);if(h[0].oldPos+1>=l&&p+1>=a)return s(this.buildValues(h[0].lastComponent,n,t));let m=-1/0,g=1/0;const v=()=>{for(let y=Math.max(m,-u);y<=Math.min(g,u);y+=2){let x;const E=h[y-1],_=h[y+1];E&&(h[y-1]=void 0);let S=!1;if(_){const k=_.oldPos-y;S=_&&0<=k&&k<a}const T=E&&E.oldPos+1<l;if(!S&&!T){h[y]=void 0;continue}if(!T||S&&E.oldPos<_.oldPos?x=this.addToPath(_,!0,!1,0,r):x=this.addToPath(E,!1,!0,1,r),p=this.extractCommon(x,n,t,y,r),x.oldPos+1>=l&&p+1>=a)return s(this.buildValues(x.lastComponent,n,t))||!0;h[y]=x,x.oldPos+1>=l&&(g=Math.min(g,y-1)),p+1>=a&&(m=Math.max(m,y+1))}u++};if(i)(function y(){setTimeout(function(){if(u>c||Date.now()>f)return i(void 0);v()||y()},0)})();else for(;u<=c&&Date.now()<=f;){const y=v();if(y)return y}}addToPath(t,n,r,i,o){const s=t.lastComponent;return s&&!o.oneChangePerToken&&s.added===n&&s.removed===r?{oldPos:t.oldPos+i,lastComponent:{count:s.count+1,added:n,removed:r,previousComponent:s.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:n,removed:r,previousComponent:s}}}extractCommon(t,n,r,i,o){const s=n.length,a=r.length;let l=t.oldPos,u=l-i,c=0;for(;u+1<s&&l+1<a&&this.equals(r[l+1],n[u+1],o);)u++,l++,c++,o.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return c&&!o.oneChangePerToken&&(t.lastComponent={count:c,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=l,u}equals(t,n,r){return r.comparator?r.comparator(t,n):t===n||!!r.ignoreCase&&t.toLowerCase()===n.toLowerCase()}removeEmpty(t){const n=[];for(let r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n}castInput(t,n){return t}tokenize(t,n){return Array.from(t)}join(t){return t.join("")}postProcess(t,n){return t}get useLongestToken(){return!1}buildValues(t,n,r){const i=[];let o;for(;t;)i.push(t),o=t.previousComponent,delete t.previousComponent,t=o;i.reverse();const s=i.length;let a=0,l=0,u=0;for(;a<s;a++){const c=i[a];if(c.removed)c.value=this.join(r.slice(u,u+c.count)),u+=c.count;else{if(!c.added&&this.useLongestToken){let d=n.slice(l,l+c.count);d=d.map(function(f,h){const p=r[u+h];return p.length>f.length?p:f}),c.value=this.join(d)}else c.value=this.join(n.slice(l,l+c.count));l+=c.count,c.added||(u+=c.count)}}return i}}class AZt extends kZt{constructor(){super(...arguments),this.tokenize=DZt}equals(t,n,r){return r.ignoreWhitespace?((!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim()),(!r.newlineIsToken||!n.includes(`
`))&&(n=n.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(t.endsWith(`
`)&&(t=t.slice(0,-1)),n.endsWith(`
`)&&(n=n.slice(0,-1))),super.equals(t,n,r)}}const RZt=new AZt;function IZt(e,t,n){return RZt.diff(e,t,n)}function DZt(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));const n=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(let i=0;i<r.length;i++){const o=r[i];i%2&&!t.newlineIsToken?n[n.length-1]+=o:n.push(o)}return n}function PZt({configs:e}){if(e.length!==2)return null;const[t,n]=e,r=JSON.stringify(t.config,null,2),i=JSON.stringify(n.config,null,2),o=IZt(r,i);return b.jsxs(Nn,{gap:"md",children:[b.jsxs(lt,{justify:"space-between",px:"xs",children:[b.jsxs(ln,{gap:"sm",children:[b.jsx(Ii,{variant:"light",color:"red",children:t.version}),b.jsxs($e,{size:"sm",c:"dimmed",children:["(",t.participantCount," ","participants)"]})]}),b.jsxs(ln,{gap:"sm",children:[b.jsx(Ii,{variant:"light",color:"green",children:n.version}),b.jsxs($e,{size:"sm",c:"dimmed",children:["(",n.participantCount," ","participants)"]})]})]}),b.jsx(Ns,{radius:"sm",style:{overflow:"hidden"},children:b.jsx(De,{style:{fontFamily:"monospace",fontSize:"13px"},children:o.flatMap((s,a)=>s.value.split(`
`).filter((u,c,d)=>c<d.length-1||u!=="").map((u,c)=>{let d="transparent",f="transparent",h="inherit",p="  ";return s.removed?(d="#ffe5e5",f="#ff6b6b",h="#c92a2a",p="- "):s.added&&(d="#e6fcf5",f="#51cf66",h="#2b8a3e",p="+ "),b.jsx(De,{style:{backgroundColor:d,color:h,padding:"4px 12px",borderLeft:`3px solid ${f}`,whiteSpace:"pre",fontWeight:s.removed||s.added?500:400},children:b.jsxs($e,{component:"span",ff:"monospace",size:"sm",children:[p,u]})},`${a}-${c}`)}))})})]})}function OZt({visibleParticipants:e}){const{studyId:t}=$o(),[n,r]=A.useState({}),{storageEngine:i}=ri(),[o,s]=A.useState([]),[a,l]=A.useState(null),[u,c]=A.useState(!1),[d,f]=A.useState(!1),[h,p]=A.useState(!0);A.useEffect(()=>{if(!i||!t){s([]),p(!1);return}(async()=>{try{const R=[...new Set(e.map(N=>N.participantConfigHash))],I=await i.getAllConfigsFromHash(R,t),P=TZt(I,e);s(P)}catch(R){console.error("Error fetching configs:",R),s([])}p(!1)})()},[e,i,t]);const m=A.useCallback(k=>{const R=o.find(I=>I.hash===k)||null;l(R?JSON.stringify(R.config,null,2):null)},[o]),g=A.useCallback(async k=>{const R=o.find(I=>I.hash===k);!R||!t||await PVt({studyId:t,hash:k,config:R.config})},[o,t]),v=A.useCallback(async()=>{const k=Object.keys(n).filter(R=>n[R]);!t||k.length===0||await OVt({studyId:t,configs:o,hashes:k})},[o,n,t]),y=A.useCallback(()=>{f(!0)},[]),[x,E]=A.useState(null),_=A.useCallback(k=>{navigator.clipboard.writeText(k),E(k),setTimeout(()=>E(null),2e3)},[]),S=A.useMemo(()=>[{id:"configIndex",header:"#",size:30,Cell:({row:k})=>k.index+1},{accessorKey:"version",header:"Version",size:70,Cell:({row:k})=>b.jsx($e,{children:k.original.version})},{accessorKey:"hash",header:"Hash",size:70,Cell:({row:k})=>b.jsxs(lt,{align:"center",gap:"xs",children:[b.jsxs($e,{children:[k.original.hash.slice(0,6),"..."]}),b.jsx(ct,{label:k.original.hash,children:b.jsx(Rc,{size:16,color:"gray"})}),b.jsx(ct,{label:x===k.original.hash?"Copied":"Copy hash",children:b.jsx(on,{variant:"subtle",onClick:()=>_(k.original.hash),color:"gray",children:b.jsx(cM,{size:16})})})]})},{accessorKey:"date",header:"Date",size:70},{accessorKey:"timeFrame",header:"Time Frame",size:150},{accessorKey:"participantCount",header:"Participants",size:70},{id:"actions",header:"Actions",size:100,accessorFn:k=>k.hash,Cell:({cell:k})=>b.jsxs(lt,{gap:"sm",children:[b.jsx(Mt,{size:"xs",variant:"light",leftSection:b.jsx(tKe,{size:14}),onClick:()=>{c(!0),m(k.getValue())},children:"View"}),b.jsx(Mt,{size:"xs",variant:"light",leftSection:b.jsx(WYe,{size:14}),onClick:()=>g(k.getValue()),children:"Download"})]})}],[g,m,_,x]),T=uA({columns:S,data:o,enableColumnResizing:!0,columnResizeMode:"onEnd",enableRowSelection:!0,getRowId:k=>k.hash,onRowSelectionChange:r,manualPagination:!0,state:{rowSelection:n},paginationDisplayMode:"pages",enablePagination:!1,enableRowVirtualization:!0,mantinePaperProps:{style:{maxHeight:"100%",display:"flex",flexDirection:"column"}},layoutMode:"grid",defaultColumn:{minSize:20,maxSize:1e3,size:180},enableDensityToggle:!1,positionToolbarAlertBanner:"none",renderTopToolbarCustomActions:()=>{const k=Object.keys(n).filter(R=>n[R]);return b.jsx(lt,{children:k.length>0&&b.jsxs(ln,{children:[b.jsxs(Mt,{onClick:v,children:["Download Configs (",k.length,")"]}),k.length===2&&b.jsx(Mt,{onClick:y,leftSection:b.jsx(TGe,{size:16}),variant:"light",children:"Compare"})]})})}});return h?b.jsxs(Nn,{align:"center",p:"md",children:[b.jsx(Wc,{size:"sm"}),b.jsx($e,{size:"sm",c:"dimmed",children:"Loading config data..."})]}):o.length>0?b.jsxs(b.Fragment,{children:[b.jsx(V$,{table:T}),b.jsx(ni,{opened:u,onClose:()=>c(!1),title:"Config",size:"95%",children:a?b.jsx(Ns,{radius:"sm",style:{overflow:"hidden"},children:b.jsx(De,{style:{fontFamily:"monospace",fontSize:"13px"},children:a.split(`
`).map((k,R)=>b.jsx(De,{style:{backgroundColor:"transparent",padding:"4px 12px",borderLeft:"3px solid transparent",whiteSpace:"pre",minHeight:"24px"},children:b.jsxs($e,{component:"span",ff:"monospace",size:"sm",children:["  ",k]})},R))})}):null}),b.jsx(ni,{opened:d,onClose:()=>f(!1),title:"Compare Configs",size:"95%",children:b.jsx(PZt,{configs:Object.keys(n).filter(k=>n[k]).map(k=>o.find(R=>R.hash===k)).filter(k=>k!==void 0)})})]}):b.jsxs(b.Fragment,{children:[b.jsx($u,{h:"xl"}),b.jsx(lt,{justify:"center",align:"center",children:b.jsx($e,{children:"No data available"})})]})}const NZt=37;function MZt(e,t){const n=Object.values(e.answers).map(i=>i.startTime).filter(i=>i!==void 0).sort(),r=Object.values(t.answers).map(i=>i.startTime).filter(i=>i!==void 0).sort();return n.length===0||r.length===0?n.length>0?-1:r.length>0?1:t.participantIndex-e.participantIndex:r[0]-n[0]}async function $Zt(e,t,n){return n&&t&&await t.initializeStudyDb(n),!e||!t||!n?[]:await t.getAllParticipantsData(n)}function $0e({globalConfig:e}){const{studyId:t}=$o(),[n,r]=A.useState(void 0),[i,o]=A.useState(["completed","inprogress","rejected"]),[s,a]=A.useState(["ALL"]),[l,u]=A.useState([{value:"ALL",label:"ALL"}]),[c,d]=A.useState({}),[f,h]=A.useState([]),[p,m]=A.useState(["ALL"]),[g,v]=A.useState([{value:"ALL",label:"ALL"}]),[y,x]=A.useState(["ALL"]),[E,_]=A.useState([]),{hasAudioRecording:S,hasScreenRecording:T}=gZt(n),{storageEngine:k}=ri(),R=fa(),{analysisTab:I}=$o(),{user:P}=X0(),[N,{width:M}]=_b(),{value:O,execute:j,status:U}=_c($Zt,[n,k,t]),q=A.useMemo(()=>{if(!O)return{completed:0,inprogress:0,rejected:0};const B=Object.values(O),Y=p.includes("ALL")||p.length===0?B:B.filter(ce=>p.includes(ce.participantConfigHash||"")),Q=s.includes("ALL")?Y:Y.filter(ce=>s.includes(ce.stage||"")),ne=y.includes("ALL")?Q:Q.filter(ce=>{const le=Fu(ce.conditions??ce.searchParams?.condition);return(le.length>0?le:["default"]).some(ae=>y.includes(ae))});return{completed:ne.filter(ce=>!ce.rejected&&ce.completed).length,inprogress:ne.filter(ce=>!ce.rejected&&!ce.completed).length,rejected:ne.filter(ce=>ce.rejected).length}},[O,s,p,y]),W=A.useMemo(()=>f.length===0?{completed:0,inprogress:0,rejected:0}:{completed:f.filter(B=>!B.rejected&&B.completed).length,inprogress:f.filter(B=>!B.rejected&&!B.completed).length,rejected:f.filter(B=>B.rejected).length},[f]),V=A.useMemo(()=>{if(!O)return[];const B=Object.values(O),Y=i.includes("completed")?B.filter(te=>!te.rejected&&te.completed):[],Q=i.includes("inprogress")?B.filter(te=>!te.rejected&&!te.completed):[],ne=i.includes("rejected")?B.filter(te=>te.rejected):[],ce=[...Y,...Q,...ne],le=p.includes("ALL")?ce:ce.filter(te=>p.includes(te.participantConfigHash||"")),ue=s.includes("ALL")?le:le.filter(te=>s.includes(te.stage||""));return(y.includes("ALL")?ue:ue.filter(te=>{const se=Fu(te.conditions??te.searchParams?.condition);return(se.length>0?se:["default"]).some(X=>y.includes(X))})).sort(MZt)},[O,i,s,p,y]),z=A.useCallback(async()=>{if(!(!t||!k))try{const B=await k.getStageData(t),Y=B.allStages.map(ne=>({value:ne.stageName,label:ne.stageName}));u([{value:"ALL",label:"ALL"},...Y]);const Q={};B.allStages.forEach(ne=>{Q[ne.stageName]=ne.color}),d(Q)}catch(B){console.error("Failed to load stages:",B),u([{value:"ALL",label:"ALL"}]),d({})}},[t,k]),L=A.useCallback(async()=>{if(!(!t||!k))try{const B=O?Object.values(O):[],Y=[...new Set(B.map(ce=>ce.participantConfigHash))],Q=await k.getAllConfigsFromHash(Y,t),ne=Object.entries(Q).map(([ce,le])=>({value:ce,label:`${le.studyMetadata.version} - ${ce.slice(0,6)}`}));v([{value:"ALL",label:"ALL"},...ne])}catch(B){console.error("Failed to load configs:",B),v([{value:"ALL",label:"ALL"}])}},[t,k,O]),H=A.useMemo(()=>{if(!O)return[];const B=new Set;return Object.values(O).forEach(Y=>{const Q=Fu(Y.conditions??Y.searchParams?.condition);(Q.length>0?Q:["default"]).forEach(ce=>B.add(ce))}),Array.from(B).sort()},[O]);return A.useEffect(()=>{L(),h([])},[L]),A.useEffect(()=>{z(),h([])},[z,I]),A.useEffect(()=>{if(H.length===0){_([]),x(["ALL"]),h([]);return}const B=H.map(Y=>({value:Y,label:Y}));_([{value:"ALL",label:"ALL"},...B]),x(Y=>{const Q=new Set(["ALL",...H]),ne=Y.filter(ce=>Q.has(ce));return ne.length>0?ne:["ALL"]}),h([])},[H]),A.useEffect(()=>{if(!t)return()=>{};if(t==="__revisit-widget"){const B=async Y=>{if(Y.data.type==="revisitWidget/CONFIG"&&k){const Q=await Kee(Y.data.payload);r(Q)}};return window.addEventListener("message",B),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",B)}}return Xee(t,e).then(B=>{B&&r(B)}),()=>{}},[t,e,k]),t?b.jsxs(b.Fragment,{children:[b.jsx(KS,{studyIds:e.configsList}),b.jsx(Ri.Main,{style:{height:"100dvh"},children:b.jsxs(Nn,{ref:N,style:{height:"100%",maxHeight:"100dvh",overflow:"hidden"},justify:"space-between",children:[b.jsxs(lt,{direction:"row",align:"center",justify:"space-between",p:"sm",gap:"md",children:[b.jsxs(lt,{direction:"row",align:"center",gap:"md",children:[b.jsx(gr,{order:5,children:t}),n&&b.jsx(c5e,{visibleParticipants:f.length>0?f:V,studyId:t||"",gap:"10px",hasAudio:S,hasScreenRecording:T})]}),b.jsxs(lt,{direction:"row",align:"center",gap:"md",children:[b.jsxs(lt,{direction:"row",align:"center",gap:"xs",children:[b.jsx($e,{size:"sm",fw:500,children:"Stage:"}),b.jsx(Gp,{data:l,value:s,onChange:B=>{B.includes("ALL")&&!s.includes("ALL")?a(["ALL"]):B.includes("ALL")&&s.includes("ALL")?a(B.filter(Y=>Y!=="ALL")):B.length===0?a(["ALL"]):a(B)},w:180,size:"sm",clearable:!1,maxValues:5,styles:{input:{minHeight:"36px"}}})]}),b.jsxs(lt,{direction:"row",align:"center",gap:"xs",children:[b.jsx($e,{size:"sm",fw:500,children:"Config:"}),b.jsx(Gp,{data:g,value:p,onChange:B=>{B.includes("ALL")&&!p.includes("ALL")?m(["ALL"]):B.includes("ALL")&&p.includes("ALL")?m(B.filter(Y=>Y!=="ALL")):B.length===0?m(["ALL"]):m(B)},w:180,size:"sm",clearable:!1,maxValues:5,styles:{input:{minHeight:"36px"}}})]}),E.length>0&&b.jsxs(lt,{direction:"row",align:"center",gap:"xs",children:[b.jsx($e,{size:"sm",fw:500,children:"Condition:"}),b.jsx(Gp,{data:E,value:y,onChange:B=>{B.includes("ALL")&&!y.includes("ALL")?x(["ALL"]):B.includes("ALL")&&y.includes("ALL")?x(B.filter(Y=>Y!=="ALL")):B.length===0?x(["ALL"]):x(B)},w:180,size:"sm",clearable:!1,maxValues:5,styles:{input:{minHeight:"36px"}}})]}),b.jsxs(lt,{direction:"row",align:"center",gap:"xs",children:[b.jsx($e,{size:"sm",fw:500,children:"Participants:"}),b.jsx(Pa.Group,{value:i,onChange:B=>o(B),children:b.jsxs(ln,{gap:"xs",children:[b.jsx(Pa,{value:"completed",label:f.length>0?`Completed (${W.completed} of ${q.completed})`:`Completed (${q.completed})`,size:"sm"}),b.jsx(Pa,{value:"inprogress",label:f.length>0?`In Progress (${W.inprogress} of ${q.inprogress})`:`In Progress (${q.inprogress})`,size:"sm"}),b.jsx(Pa,{value:"rejected",label:f.length>0?`Rejected (${W.rejected} of ${q.rejected})`:`Rejected (${q.rejected})`,size:"sm"})]})})]})]})]}),b.jsx(eu,{visible:U==="pending"}),U==="success"?b.jsxs(jn,{style:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"},keepMounted:!1,variant:"outline",value:I,onChange:B=>R(`/analysis/stats/${t}/${B}`),children:[b.jsxs(jn.List,{children:[b.jsx(jn.Tab,{value:"summary",leftSection:b.jsx(oYe,{size:16}),children:"Study Summary"}),b.jsx(jn.Tab,{value:"table",leftSection:b.jsx(_Xe,{size:16}),children:"Participant View"}),b.jsx(jn.Tab,{value:"stats",leftSection:b.jsx(eYe,{size:16}),children:"Trial Stats"}),b.jsx(jn.Tab,{value:"tagging",leftSection:b.jsx(SXe,{size:16}),children:"Coding"}),k?.getEngine()==="firebase"&&b.jsx(jn.Tab,{value:"live-monitor",leftSection:b.jsx(IYe,{size:16}),children:"Live Monitor"}),b.jsx(jn.Tab,{value:"config",leftSection:b.jsx(rKe,{size:16}),children:"Config"}),b.jsx(jn.Tab,{value:"manage",leftSection:b.jsx(Fwe,{size:16}),disabled:!P.isAdmin,children:"Manage"})]}),b.jsx(jn.Panel,{style:{overflow:"auto"},value:"summary",pt:"xs",children:n&&b.jsx(JJt,{studyConfig:n,visibleParticipants:V})}),b.jsx(jn.Panel,{style:{height:`calc(100% - ${NZt}px)`},value:"table",pt:"xs",children:n&&b.jsx(aZt,{width:M,stageColors:c,visibleParticipants:V,studyConfig:n,refresh:()=>j(n,k,t),selectedParticipants:f,onSelectionChange:h})}),b.jsx(jn.Panel,{style:{overflow:"auto"},value:"stats",pt:"xs",children:n&&b.jsx(cZt,{studyConfig:n,visibleParticipants:V})}),b.jsx(jn.Panel,{value:"tagging",pt:"xs",children:n&&k?.getEngine()==="firebase"?b.jsx(EZt,{visibleParticipants:V,storageEngine:k}):b.jsx(Ha,{children:"Think aloud coding is only available when using Firebase."})}),k?.getEngine()==="firebase"&&b.jsx(jn.Panel,{style:{overflow:"auto"},value:"live-monitor",pt:"xs",children:n&&b.jsx(GYt,{studyConfig:n,storageEngine:k,studyId:t,includedParticipants:i,selectedStages:s})}),b.jsx(jn.Panel,{style:{overflow:"auto"},value:"config",pt:"xs",children:n&&b.jsx(OZt,{visibleParticipants:V})}),b.jsx(jn.Panel,{style:{overflow:"auto"},value:"manage",pt:"xs",children:t&&P.isAdmin?b.jsx(mZt,{studyId:t,refresh:()=>j(n,k,t)}):b.jsx(G0,{mt:20,children:b.jsx(ml,{title:"Unauthorized Access",variant:"light",color:"red",icon:b.jsx(Rc,{}),children:"You are not authorized to manage the data for this study."})})})]}):null]})})]}):b.jsxs(b.Fragment,{children:[b.jsx(KS,{studyIds:e.configsList}),b.jsx(Ri.Main,{style:{height:"100dvh"},children:b.jsx(Ha,{style:{height:"100%"},children:b.jsx($e,{children:"Select a study from the header menu to view analysis data."})})})]})}function L0e({children:e,paramToCheck:t,paramCallback:n}){const{user:r,verifyAdminStatus:i,logout:o}=X0(),{storageEngine:s}=ri(),[a,l]=A.useState(!1),u=$o();return A.useEffect(()=>{(async()=>{if(a===!1)if(t&&n&&u[t]){const d=await n(u[t]);d&&l(d)}else l(!0);if(a)try{r&&await i(r)||o()}catch(d){o(),console.warn(d)}})()},[r.isAdmin,a]),r.determiningStatus||!s?b.jsx(eu,{visible:r.determiningStatus||!s?.getEngine()}):a&&!r.isAdmin&&!r.determiningStatus?b.jsx(vG,{to:"/login"}):b.jsx(b.Fragment,{children:e})}async function d5e(e,t){if(e&&yc(e)){t(!0);try{return await e.login()}catch(n){I2({title:"Error",message:n.message,color:"red"})}finally{t(!1)}}return null}function LZt(){const{user:e}=X0(),[t,n]=A.useState(!1),{storageEngine:r}=ri();A.useEffect(()=>{!e.determiningStatus&&!e.isAdmin&&e.adminVerification&&I2({title:"Unauthorized",message:"You are not authorized to use this application.",color:"red"})},[e.adminVerification]);const i=A.useMemo(()=>r?.getEngine(),[r]);return!e.determiningStatus&&e.isAdmin?b.jsx(vG,{to:"/"}):b.jsx(G0,{children:b.jsx(Zs,{padding:"lg",children:b.jsxs(lt,{align:"center",direction:"column",justify:"center",children:[b.jsx(Pm,{maw:200,mt:50,mb:100,src:`${Hi}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),b.jsxs(b.Fragment,{children:[b.jsxs($e,{mb:20,children:["To access admin settings, please sign in using"," ",i==="supabase"?" Supabase":" Google","."]}),b.jsxs(Mt,{onClick:()=>d5e(r,n),leftSection:i==="supabase"?b.jsx(_G,{}):b.jsx(NXe,{}),variant:"filled",children:["Sign In With"," ",i==="supabase"?"Supabase":" Google "]})]}),b.jsx(eu,{visible:t})]})})})}function FZt(){const{user:e,triggerAuth:t,logout:n}=X0(),{storageEngine:r}=ri(),[i,o]=A.useState(!1),[s,a]=A.useState([]),[l,u]=A.useState(!1),[c,d]=A.useState(!1),[f,h]=A.useState(!1),[p,m]=A.useState(!1),[g,v]=A.useState(!1),[y,x]=A.useState(""),[E,_]=A.useState(null),S=lEe({initialValues:{email:""},validate:{email:bft("Invalid email")}});A.useEffect(()=>{(async()=>{if(u(!0),r&&yc(r)){const O=await r?.getUserManagementData("authentication");o(O?.isEnabled||!1);const j=await r?.getUserManagementData("adminUsers");j&&j.adminUsersList&&a(j?.adminUsersList.map(U=>U.email).filter(U=>U!==null))}else o(!1);u(!1)})()},[r]);const T=async()=>{if(u(!0),r&&yc(r)){if(r.getEngine()==="supabase"){const{data:O}=await r.getSession();if(O.session&&O.session.user&&O.session.user.email){_({email:O.session.user.email,uid:O.session.user.id}),m(!0),u(!1);return}}const M=await d5e(r,u);M&&M.email?(_({email:M.email,uid:M.uid}),m(!0)):v(!0)}u(!1)},k=async M=>{u(!0),r&&yc(r)&&M&&(await r.changeAuth(!0),await r.addAdminUser(M),a([M.email]),o(!0),t()),m(!1),u(!1)},R=async()=>{if(u(!0),r&&yc(r)){await r.addAdminUser({email:S.values.email,uid:null});const M=await r.getUserManagementData("adminUsers");a(M?.adminUsersList.map(O=>O.email).filter(O=>O!==null)||[])}u(!1),d(!1),S.setValues({email:""})},I=M=>{h(!0),x(M)},P=async()=>{if(u(!0),r&&yc(r)){await r.removeAdminUser(y);const M=await r.getUserManagementData("adminUsers");a(M?.adminUsersList.map(O=>O.email).filter(O=>O!==null)||[])}h(!1),u(!1)},N=A.useMemo(()=>r&&yc(r),[r]);return b.jsxs(b.Fragment,{children:[b.jsx(G0,{children:b.jsxs(Zs,{withBorder:!0,style:{backgroundColor:"#FAFAFA"},children:[b.jsx(gr,{mb:20,order:3,children:"Authentication"}),i?b.jsx(lt,{children:b.jsx($e,{children:"Authentication is enabled."})}):b.jsxs(lt,{justify:"space-between",children:[b.jsx(De,{children:b.jsx($e,{children:"Authentication is currently disabled."})}),b.jsx(ct,{label:"You can only enable auth when using a cloud storage engine (Firebase/Supabase)",disabled:N,children:b.jsx(Mt,{onClick:M=>N?T():M.preventDefault(),color:"green","data-disabled":N?void 0:!0,style:{"&[dataDisabled]":{pointerEvents:"all"}},children:"Enable Authentication"})})]}),i?b.jsxs(lt,{mt:40,direction:"column",children:[b.jsxs(lt,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:15,pb:15,children:[b.jsx(gr,{order:6,children:"Enabled Users"}),b.jsx(EG,{style:{cursor:"pointer"},onClick:()=>d(!0)})]}),s.length>0?s.map(M=>b.jsxs(lt,{justify:"space-between",mb:10,children:[b.jsx($e,{children:M}),M===e.user?.email?b.jsx($e,{c:"blue",size:"xs",children:"You"}):b.jsx(on,{variant:"subtle",onClick:()=>I(M),children:b.jsx(Bwe,{color:"red"})})]},M)):null,b.jsx(lt,{direction:"row",justify:"left",children:b.jsx(Mt,{onClick:()=>n(),mt:20,children:"Log out"})})]}):null]})}),b.jsx(ni,{opened:c,onClose:()=>d(!1),title:"Add Admin User",children:b.jsxs(De,{component:"form",onSubmit:S.onSubmit(()=>R()),children:[b.jsx(fl,{leftSection:b.jsx(PGe,{}),placeholder:"User Email Address",...S.getInputProps("email")}),b.jsxs(lt,{mt:30,justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"red",onClick:()=>d(!1),children:"Cancel"}),b.jsx(Mt,{type:"submit",children:"Save"})]})]})}),b.jsxs(ni,{opened:f,size:"large",onClose:()=>h(!1),title:b.jsxs($e,{fw:700,children:["Remove",y,"?"]}),children:[b.jsxs($e,{mt:40,children:["Are you sure you want to remove",b.jsx("b",{children:y})," ","as an administrator?"]}),b.jsxs(lt,{mt:40,justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"red",onClick:()=>h(!1),children:"Cancel"}),b.jsx(Mt,{onClick:()=>P(),children:"Yes, I'm sure."})]})]}),b.jsxs(ni,{opened:p,size:"md",onClose:()=>m(!1),title:b.jsx($e,{fw:700,children:"Enable Authentication?"}),children:[b.jsxs($e,{mt:40,children:["User"," ",b.jsx("b",{children:E?.email})," ","will be added as an administrator to this application. After enabling authentication, you'll be able to add additional users below. This action cannot be undone."]}),b.jsxs(lt,{mt:40,justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"red",onClick:()=>m(!1),children:"Cancel"}),b.jsx(Mt,{onClick:()=>k(E),children:"Yes, I'm sure."})]})]}),b.jsxs(ni,{opened:g,size:"md",onClose:()=>v(!1),title:b.jsx($e,{fw:700,children:"An Error Occurred."}),children:[b.jsxs($e,{mt:40,children:["An error has occurred when trying to enable authentication. Please consult the"," ",b.jsx("a",{href:"https://revisit.dev/docs/data-and-deployment/firebase/enabling-authentication/",target:"_blank",rel:"noreferrer",children:"documentation"})," ","for more information."]}),b.jsx(lt,{mt:40,justify:"right",children:b.jsx(Mt,{mr:5,onClick:()=>v(!1),children:"Okay"})})]}),b.jsx(eu,{visible:l})]})}var d7={exports:{}};var F0e;function jZt(){return F0e||(F0e=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,o){function s(u,c){if(!i[u]){if(!r[u]){var d=typeof $p=="function"&&$p;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(p){var m=r[u][1][p];return s(m||p)},h,h.exports,n,r,i,o)}return i[u].exports}for(var a=typeof $p=="function"&&$p,l=0;l<o.length;l++)s(o[l]);return s})({1:[function(n,r,i){(function(o){var s=o.MutationObserver||o.WebKitMutationObserver,a;if(s){var l=0,u=new s(p),c=o.document.createTextNode("");u.observe(c,{characterData:!0}),a=function(){c.data=l=++l%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var d=new o.MessageChannel;d.port1.onmessage=p,a=function(){d.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?a=function(){var g=o.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},o.document.documentElement.appendChild(g)}:a=function(){setTimeout(p,0)};var f,h=[];function p(){f=!0;for(var g,v,y=h.length;y;){for(v=h,h=[],g=-1;++g<y;)v[g]();y=h.length}f=!1}r.exports=m;function m(g){h.push(g)===1&&!f&&a()}}).call(this,typeof xi<"u"?xi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var o=n(1);function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];r.exports=d;function d(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,_!==s&&m(this,_)}d.prototype.catch=function(_){return this.then(null,_)},d.prototype.then=function(_,S){if(typeof _!="function"&&this.state===u||typeof S!="function"&&this.state===l)return this;var T=new this.constructor(s);if(this.state!==c){var k=this.state===u?_:S;h(T,k,this.outcome)}else this.queue.push(new f(T,_,S));return T};function f(_,S,T){this.promise=_,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(_){a.resolve(this.promise,_)},f.prototype.otherCallFulfilled=function(_){h(this.promise,this.onFulfilled,_)},f.prototype.callRejected=function(_){a.reject(this.promise,_)},f.prototype.otherCallRejected=function(_){h(this.promise,this.onRejected,_)};function h(_,S,T){o(function(){var k;try{k=S(T)}catch(R){return a.reject(_,R)}k===_?a.reject(_,new TypeError("Cannot resolve promise with itself")):a.resolve(_,k)})}a.resolve=function(_,S){var T=g(p,S);if(T.status==="error")return a.reject(_,T.value);var k=T.value;if(k)m(_,k);else{_.state=u,_.outcome=S;for(var R=-1,I=_.queue.length;++R<I;)_.queue[R].callFulfilled(S)}return _},a.reject=function(_,S){_.state=l,_.outcome=S;for(var T=-1,k=_.queue.length;++T<k;)_.queue[T].callRejected(S);return _};function p(_){var S=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof S=="function")return function(){S.apply(_,arguments)}}function m(_,S){var T=!1;function k(N){T||(T=!0,a.reject(_,N))}function R(N){T||(T=!0,a.resolve(_,N))}function I(){S(R,k)}var P=g(I);P.status==="error"&&k(P.value)}function g(_,S){var T={};try{T.value=_(S),T.status="success"}catch(k){T.status="error",T.value=k}return T}d.resolve=v;function v(_){return _ instanceof this?_:a.resolve(new this(s),_)}d.reject=y;function y(_){var S=new this(s);return a.reject(S,_)}d.all=x;function x(_){var S=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=_.length,k=!1;if(!T)return this.resolve([]);for(var R=new Array(T),I=0,P=-1,N=new this(s);++P<T;)M(_[P],P);return N;function M(O,j){S.resolve(O).then(U,function(q){k||(k=!0,a.reject(N,q))});function U(q){R[j]=q,++I===T&&!k&&(k=!0,a.resolve(N,R))}}}d.race=E;function E(_){var S=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=_.length,k=!1;if(!T)return this.resolve([]);for(var R=-1,I=new this(s);++R<T;)P(_[R]);return I;function P(N){S.resolve(N).then(function(M){k||(k=!0,a.resolve(I,M))},function(M){k||(k=!0,a.reject(I,M))})}}},{1:1}],3:[function(n,r,i){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof xi<"u"?xi:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe};function s(pe,Ne){if(!(pe instanceof Ne))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function u(){try{if(!l||!l.open)return!1;var pe=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Ne=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!pe||Ne)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(pe,Ne){pe=pe||[],Ne=Ne||{};try{return new Blob(pe,Ne)}catch(je){if(je.name!=="TypeError")throw je;for(var Ce=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Be=new Ce,He=0;He<pe.length;He+=1)Be.append(pe[He]);return Be.getBlob(Ne.type)}}typeof Promise>"u"&&n(3);var d=Promise;function f(pe,Ne){Ne&&pe.then(function(Ce){Ne(null,Ce)},function(Ce){Ne(Ce)})}function h(pe,Ne,Ce){typeof Ne=="function"&&pe.then(Ne),typeof Ce=="function"&&pe.catch(Ce)}function p(pe){return typeof pe!="string"&&(console.warn(pe+" used as a key, but it is not a string."),pe=String(pe)),pe}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",v=void 0,y={},x=Object.prototype.toString,E="readonly",_="readwrite";function S(pe){for(var Ne=pe.length,Ce=new ArrayBuffer(Ne),Be=new Uint8Array(Ce),He=0;He<Ne;He++)Be[He]=pe.charCodeAt(He);return Ce}function T(pe){return new d(function(Ne){var Ce=pe.transaction(g,_),Be=c([""]);Ce.objectStore(g).put(Be,"key"),Ce.onabort=function(He){He.preventDefault(),He.stopPropagation(),Ne(!1)},Ce.oncomplete=function(){var He=navigator.userAgent.match(/Chrome\/(\d+)/),je=navigator.userAgent.match(/Edge\//);Ne(je||!He||parseInt(He[1],10)>=43)}}).catch(function(){return!1})}function k(pe){return typeof v=="boolean"?d.resolve(v):T(pe).then(function(Ne){return v=Ne,v})}function R(pe){var Ne=y[pe.name],Ce={};Ce.promise=new d(function(Be,He){Ce.resolve=Be,Ce.reject=He}),Ne.deferredOperations.push(Ce),Ne.dbReady?Ne.dbReady=Ne.dbReady.then(function(){return Ce.promise}):Ne.dbReady=Ce.promise}function I(pe){var Ne=y[pe.name],Ce=Ne.deferredOperations.pop();if(Ce)return Ce.resolve(),Ce.promise}function P(pe,Ne){var Ce=y[pe.name],Be=Ce.deferredOperations.pop();if(Be)return Be.reject(Ne),Be.promise}function N(pe,Ne){return new d(function(Ce,Be){if(y[pe.name]=y[pe.name]||H(),pe.db)if(Ne)R(pe),pe.db.close();else return Ce(pe.db);var He=[pe.name];Ne&&He.push(pe.version);var je=l.open.apply(l,He);Ne&&(je.onupgradeneeded=function(rt){var ut=je.result;try{ut.createObjectStore(pe.storeName),rt.oldVersion<=1&&ut.createObjectStore(g)}catch(pt){if(pt.name==="ConstraintError")console.warn('The database "'+pe.name+'" has been upgraded from version '+rt.oldVersion+" to version "+rt.newVersion+', but the storage "'+pe.storeName+'" already exists.');else throw pt}}),je.onerror=function(rt){rt.preventDefault(),Be(je.error)},je.onsuccess=function(){var rt=je.result;rt.onversionchange=function(ut){ut.target.close()},Ce(rt),I(pe)}})}function M(pe){return N(pe,!1)}function O(pe){return N(pe,!0)}function j(pe,Ne){if(!pe.db)return!0;var Ce=!pe.db.objectStoreNames.contains(pe.storeName),Be=pe.version<pe.db.version,He=pe.version>pe.db.version;if(Be&&(pe.version!==Ne&&console.warn('The database "'+pe.name+`" can't be downgraded from version `+pe.db.version+" to version "+pe.version+"."),pe.version=pe.db.version),He||Ce){if(Ce){var je=pe.db.version+1;je>pe.version&&(pe.version=je)}return!0}return!1}function U(pe){return new d(function(Ne,Ce){var Be=new FileReader;Be.onerror=Ce,Be.onloadend=function(He){var je=btoa(He.target.result||"");Ne({__local_forage_encoded_blob:!0,data:je,type:pe.type})},Be.readAsBinaryString(pe)})}function q(pe){var Ne=S(atob(pe.data));return c([Ne],{type:pe.type})}function W(pe){return pe&&pe.__local_forage_encoded_blob}function V(pe){var Ne=this,Ce=Ne._initReady().then(function(){var Be=y[Ne._dbInfo.name];if(Be&&Be.dbReady)return Be.dbReady});return h(Ce,pe,pe),Ce}function z(pe){R(pe);for(var Ne=y[pe.name],Ce=Ne.forages,Be=0;Be<Ce.length;Be++){var He=Ce[Be];He._dbInfo.db&&(He._dbInfo.db.close(),He._dbInfo.db=null)}return pe.db=null,M(pe).then(function(je){return pe.db=je,j(pe)?O(pe):je}).then(function(je){pe.db=Ne.db=je;for(var rt=0;rt<Ce.length;rt++)Ce[rt]._dbInfo.db=je}).catch(function(je){throw P(pe,je),je})}function L(pe,Ne,Ce,Be){Be===void 0&&(Be=1);try{var He=pe.db.transaction(pe.storeName,Ne);Ce(null,He)}catch(je){if(Be>0&&(!pe.db||je.name==="InvalidStateError"||je.name==="NotFoundError"))return d.resolve().then(function(){if(!pe.db||je.name==="NotFoundError"&&!pe.db.objectStoreNames.contains(pe.storeName)&&pe.version<=pe.db.version)return pe.db&&(pe.version=pe.db.version+1),O(pe)}).then(function(){return z(pe).then(function(){L(pe,Ne,Ce,Be-1)})}).catch(Ce);Ce(je)}}function H(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function B(pe){var Ne=this,Ce={db:null};if(pe)for(var Be in pe)Ce[Be]=pe[Be];var He=y[Ce.name];He||(He=H(),y[Ce.name]=He),He.forages.push(Ne),Ne._initReady||(Ne._initReady=Ne.ready,Ne.ready=V);var je=[];function rt(){return d.resolve()}for(var ut=0;ut<He.forages.length;ut++){var pt=He.forages[ut];pt!==Ne&&je.push(pt._initReady().catch(rt))}var ft=He.forages.slice(0);return d.all(je).then(function(){return Ce.db=He.db,M(Ce)}).then(function(_t){return Ce.db=_t,j(Ce,Ne._defaultConfig.version)?O(Ce):_t}).then(function(_t){Ce.db=He.db=_t,Ne._dbInfo=Ce;for(var jt=0;jt<ft.length;jt++){var Pn=ft[jt];Pn!==Ne&&(Pn._dbInfo.db=Ce.db,Pn._dbInfo.version=Ce.version)}})}function Y(pe,Ne){var Ce=this;pe=p(pe);var Be=new d(function(He,je){Ce.ready().then(function(){L(Ce._dbInfo,E,function(rt,ut){if(rt)return je(rt);try{var pt=ut.objectStore(Ce._dbInfo.storeName),ft=pt.get(pe);ft.onsuccess=function(){var _t=ft.result;_t===void 0&&(_t=null),W(_t)&&(_t=q(_t)),He(_t)},ft.onerror=function(){je(ft.error)}}catch(_t){je(_t)}})}).catch(je)});return f(Be,Ne),Be}function Q(pe,Ne){var Ce=this,Be=new d(function(He,je){Ce.ready().then(function(){L(Ce._dbInfo,E,function(rt,ut){if(rt)return je(rt);try{var pt=ut.objectStore(Ce._dbInfo.storeName),ft=pt.openCursor(),_t=1;ft.onsuccess=function(){var jt=ft.result;if(jt){var Pn=jt.value;W(Pn)&&(Pn=q(Pn));var Xt=pe(Pn,jt.key,_t++);Xt!==void 0?He(Xt):jt.continue()}else He()},ft.onerror=function(){je(ft.error)}}catch(jt){je(jt)}})}).catch(je)});return f(Be,Ne),Be}function ne(pe,Ne,Ce){var Be=this;pe=p(pe);var He=new d(function(je,rt){var ut;Be.ready().then(function(){return ut=Be._dbInfo,x.call(Ne)==="[object Blob]"?k(ut.db).then(function(pt){return pt?Ne:U(Ne)}):Ne}).then(function(pt){L(Be._dbInfo,_,function(ft,_t){if(ft)return rt(ft);try{var jt=_t.objectStore(Be._dbInfo.storeName);pt===null&&(pt=void 0);var Pn=jt.put(pt,pe);_t.oncomplete=function(){pt===void 0&&(pt=null),je(pt)},_t.onabort=_t.onerror=function(){var Xt=Pn.error?Pn.error:Pn.transaction.error;rt(Xt)}}catch(Xt){rt(Xt)}})}).catch(rt)});return f(He,Ce),He}function ce(pe,Ne){var Ce=this;pe=p(pe);var Be=new d(function(He,je){Ce.ready().then(function(){L(Ce._dbInfo,_,function(rt,ut){if(rt)return je(rt);try{var pt=ut.objectStore(Ce._dbInfo.storeName),ft=pt.delete(pe);ut.oncomplete=function(){He()},ut.onerror=function(){je(ft.error)},ut.onabort=function(){var _t=ft.error?ft.error:ft.transaction.error;je(_t)}}catch(_t){je(_t)}})}).catch(je)});return f(Be,Ne),Be}function le(pe){var Ne=this,Ce=new d(function(Be,He){Ne.ready().then(function(){L(Ne._dbInfo,_,function(je,rt){if(je)return He(je);try{var ut=rt.objectStore(Ne._dbInfo.storeName),pt=ut.clear();rt.oncomplete=function(){Be()},rt.onabort=rt.onerror=function(){var ft=pt.error?pt.error:pt.transaction.error;He(ft)}}catch(ft){He(ft)}})}).catch(He)});return f(Ce,pe),Ce}function ue(pe){var Ne=this,Ce=new d(function(Be,He){Ne.ready().then(function(){L(Ne._dbInfo,E,function(je,rt){if(je)return He(je);try{var ut=rt.objectStore(Ne._dbInfo.storeName),pt=ut.count();pt.onsuccess=function(){Be(pt.result)},pt.onerror=function(){He(pt.error)}}catch(ft){He(ft)}})}).catch(He)});return f(Ce,pe),Ce}function ae(pe,Ne){var Ce=this,Be=new d(function(He,je){if(pe<0){He(null);return}Ce.ready().then(function(){L(Ce._dbInfo,E,function(rt,ut){if(rt)return je(rt);try{var pt=ut.objectStore(Ce._dbInfo.storeName),ft=!1,_t=pt.openKeyCursor();_t.onsuccess=function(){var jt=_t.result;if(!jt){He(null);return}pe===0||ft?He(jt.key):(ft=!0,jt.advance(pe))},_t.onerror=function(){je(_t.error)}}catch(jt){je(jt)}})}).catch(je)});return f(Be,Ne),Be}function te(pe){var Ne=this,Ce=new d(function(Be,He){Ne.ready().then(function(){L(Ne._dbInfo,E,function(je,rt){if(je)return He(je);try{var ut=rt.objectStore(Ne._dbInfo.storeName),pt=ut.openKeyCursor(),ft=[];pt.onsuccess=function(){var _t=pt.result;if(!_t){Be(ft);return}ft.push(_t.key),_t.continue()},pt.onerror=function(){He(pt.error)}}catch(_t){He(_t)}})}).catch(He)});return f(Ce,pe),Ce}function se(pe,Ne){Ne=m.apply(this,arguments);var Ce=this.config();pe=typeof pe!="function"&&pe||{},pe.name||(pe.name=pe.name||Ce.name,pe.storeName=pe.storeName||Ce.storeName);var Be=this,He;if(!pe.name)He=d.reject("Invalid arguments");else{var je=pe.name===Ce.name&&Be._dbInfo.db,rt=je?d.resolve(Be._dbInfo.db):M(pe).then(function(ut){var pt=y[pe.name],ft=pt.forages;pt.db=ut;for(var _t=0;_t<ft.length;_t++)ft[_t]._dbInfo.db=ut;return ut});pe.storeName?He=rt.then(function(ut){if(ut.objectStoreNames.contains(pe.storeName)){var pt=ut.version+1;R(pe);var ft=y[pe.name],_t=ft.forages;ut.close();for(var jt=0;jt<_t.length;jt++){var Pn=_t[jt];Pn._dbInfo.db=null,Pn._dbInfo.version=pt}var Xt=new d(function(Qn,Wt){var sr=l.open(pe.name,pt);sr.onerror=function(Eo){var ma=sr.result;ma.close(),Wt(Eo)},sr.onupgradeneeded=function(){var Eo=sr.result;Eo.deleteObjectStore(pe.storeName)},sr.onsuccess=function(){var Eo=sr.result;Eo.close(),Qn(Eo)}});return Xt.then(function(Qn){ft.db=Qn;for(var Wt=0;Wt<_t.length;Wt++){var sr=_t[Wt];sr._dbInfo.db=Qn,I(sr._dbInfo)}}).catch(function(Qn){throw(P(pe,Qn)||d.resolve()).catch(function(){}),Qn})}}):He=rt.then(function(ut){R(pe);var pt=y[pe.name],ft=pt.forages;ut.close();for(var _t=0;_t<ft.length;_t++){var jt=ft[_t];jt._dbInfo.db=null}var Pn=new d(function(Xt,Qn){var Wt=l.deleteDatabase(pe.name);Wt.onerror=function(){var sr=Wt.result;sr&&sr.close(),Qn(Wt.error)},Wt.onblocked=function(){console.warn('dropInstance blocked for database "'+pe.name+'" until all open connections are closed')},Wt.onsuccess=function(){var sr=Wt.result;sr&&sr.close(),Xt(sr)}});return Pn.then(function(Xt){pt.db=Xt;for(var Qn=0;Qn<ft.length;Qn++){var Wt=ft[Qn];I(Wt._dbInfo)}}).catch(function(Xt){throw(P(pe,Xt)||d.resolve()).catch(function(){}),Xt})})}return f(He,Ne),He}var we={_driver:"asyncStorage",_initStorage:B,_support:u(),iterate:Q,getItem:Y,setItem:ne,removeItem:ce,clear:le,length:ue,key:ae,keys:te,dropInstance:se};function X(){return typeof openDatabase=="function"}var he="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ge="~~local_forage_type~",re=/^~~local_forage_type~([^~]+)~/,ee="__lfsc__:",fe=ee.length,Re="arbf",Oe="blob",Ae="si08",Se="ui08",xe="uic8",ke="si16",me="si32",Me="ur16",ze="ui32",Xe="fl32",tt="fl64",gt=fe+Re.length,qt=Object.prototype.toString;function zt(pe){var Ne=pe.length*.75,Ce=pe.length,Be,He=0,je,rt,ut,pt;pe[pe.length-1]==="="&&(Ne--,pe[pe.length-2]==="="&&Ne--);var ft=new ArrayBuffer(Ne),_t=new Uint8Array(ft);for(Be=0;Be<Ce;Be+=4)je=he.indexOf(pe[Be]),rt=he.indexOf(pe[Be+1]),ut=he.indexOf(pe[Be+2]),pt=he.indexOf(pe[Be+3]),_t[He++]=je<<2|rt>>4,_t[He++]=(rt&15)<<4|ut>>2,_t[He++]=(ut&3)<<6|pt&63;return ft}function _n(pe){var Ne=new Uint8Array(pe),Ce="",Be;for(Be=0;Be<Ne.length;Be+=3)Ce+=he[Ne[Be]>>2],Ce+=he[(Ne[Be]&3)<<4|Ne[Be+1]>>4],Ce+=he[(Ne[Be+1]&15)<<2|Ne[Be+2]>>6],Ce+=he[Ne[Be+2]&63];return Ne.length%3===2?Ce=Ce.substring(0,Ce.length-1)+"=":Ne.length%3===1&&(Ce=Ce.substring(0,Ce.length-2)+"=="),Ce}function $t(pe,Ne){var Ce="";if(pe&&(Ce=qt.call(pe)),pe&&(Ce==="[object ArrayBuffer]"||pe.buffer&&qt.call(pe.buffer)==="[object ArrayBuffer]")){var Be,He=ee;pe instanceof ArrayBuffer?(Be=pe,He+=Re):(Be=pe.buffer,Ce==="[object Int8Array]"?He+=Ae:Ce==="[object Uint8Array]"?He+=Se:Ce==="[object Uint8ClampedArray]"?He+=xe:Ce==="[object Int16Array]"?He+=ke:Ce==="[object Uint16Array]"?He+=Me:Ce==="[object Int32Array]"?He+=me:Ce==="[object Uint32Array]"?He+=ze:Ce==="[object Float32Array]"?He+=Xe:Ce==="[object Float64Array]"?He+=tt:Ne(new Error("Failed to get type for BinaryArray"))),Ne(He+_n(Be))}else if(Ce==="[object Blob]"){var je=new FileReader;je.onload=function(){var rt=ge+pe.type+"~"+_n(this.result);Ne(ee+Oe+rt)},je.readAsArrayBuffer(pe)}else try{Ne(JSON.stringify(pe))}catch(rt){console.error("Couldn't convert value into a JSON string: ",pe),Ne(null,rt)}}function dn(pe){if(pe.substring(0,fe)!==ee)return JSON.parse(pe);var Ne=pe.substring(gt),Ce=pe.substring(fe,gt),Be;if(Ce===Oe&&re.test(Ne)){var He=Ne.match(re);Be=He[1],Ne=Ne.substring(He[0].length)}var je=zt(Ne);switch(Ce){case Re:return je;case Oe:return c([je],{type:Be});case Ae:return new Int8Array(je);case Se:return new Uint8Array(je);case xe:return new Uint8ClampedArray(je);case ke:return new Int16Array(je);case Me:return new Uint16Array(je);case me:return new Int32Array(je);case ze:return new Uint32Array(je);case Xe:return new Float32Array(je);case tt:return new Float64Array(je);default:throw new Error("Unkown type: "+Ce)}}var Vn={serialize:$t,deserialize:dn,stringToBuffer:zt,bufferToString:_n};function Ln(pe,Ne,Ce,Be){pe.executeSql("CREATE TABLE IF NOT EXISTS "+Ne.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Ce,Be)}function Tr(pe){var Ne=this,Ce={db:null};if(pe)for(var Be in pe)Ce[Be]=typeof pe[Be]!="string"?pe[Be].toString():pe[Be];var He=new d(function(je,rt){try{Ce.db=openDatabase(Ce.name,String(Ce.version),Ce.description,Ce.size)}catch(ut){return rt(ut)}Ce.db.transaction(function(ut){Ln(ut,Ce,function(){Ne._dbInfo=Ce,je()},function(pt,ft){rt(ft)})},rt)});return Ce.serializer=Vn,He}function Xn(pe,Ne,Ce,Be,He,je){pe.executeSql(Ce,Be,He,function(rt,ut){ut.code===ut.SYNTAX_ERR?rt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Ne.storeName],function(pt,ft){ft.rows.length?je(pt,ut):Ln(pt,Ne,function(){pt.executeSql(Ce,Be,He,je)},je)},je):je(rt,ut)},je)}function mr(pe,Ne){var Ce=this;pe=p(pe);var Be=new d(function(He,je){Ce.ready().then(function(){var rt=Ce._dbInfo;rt.db.transaction(function(ut){Xn(ut,rt,"SELECT * FROM "+rt.storeName+" WHERE key = ? LIMIT 1",[pe],function(pt,ft){var _t=ft.rows.length?ft.rows.item(0).value:null;_t&&(_t=rt.serializer.deserialize(_t)),He(_t)},function(pt,ft){je(ft)})})}).catch(je)});return f(Be,Ne),Be}function En(pe,Ne){var Ce=this,Be=new d(function(He,je){Ce.ready().then(function(){var rt=Ce._dbInfo;rt.db.transaction(function(ut){Xn(ut,rt,"SELECT * FROM "+rt.storeName,[],function(pt,ft){for(var _t=ft.rows,jt=_t.length,Pn=0;Pn<jt;Pn++){var Xt=_t.item(Pn),Qn=Xt.value;if(Qn&&(Qn=rt.serializer.deserialize(Qn)),Qn=pe(Qn,Xt.key,Pn+1),Qn!==void 0){He(Qn);return}}He()},function(pt,ft){je(ft)})})}).catch(je)});return f(Be,Ne),Be}function nn(pe,Ne,Ce,Be){var He=this;pe=p(pe);var je=new d(function(rt,ut){He.ready().then(function(){Ne===void 0&&(Ne=null);var pt=Ne,ft=He._dbInfo;ft.serializer.serialize(Ne,function(_t,jt){jt?ut(jt):ft.db.transaction(function(Pn){Xn(Pn,ft,"INSERT OR REPLACE INTO "+ft.storeName+" (key, value) VALUES (?, ?)",[pe,_t],function(){rt(pt)},function(Xt,Qn){ut(Qn)})},function(Pn){if(Pn.code===Pn.QUOTA_ERR){if(Be>0){rt(nn.apply(He,[pe,pt,Ce,Be-1]));return}ut(Pn)}})})}).catch(ut)});return f(je,Ce),je}function rr(pe,Ne,Ce){return nn.apply(this,[pe,Ne,Ce,1])}function ii(pe,Ne){var Ce=this;pe=p(pe);var Be=new d(function(He,je){Ce.ready().then(function(){var rt=Ce._dbInfo;rt.db.transaction(function(ut){Xn(ut,rt,"DELETE FROM "+rt.storeName+" WHERE key = ?",[pe],function(){He()},function(pt,ft){je(ft)})})}).catch(je)});return f(Be,Ne),Be}function br(pe){var Ne=this,Ce=new d(function(Be,He){Ne.ready().then(function(){var je=Ne._dbInfo;je.db.transaction(function(rt){Xn(rt,je,"DELETE FROM "+je.storeName,[],function(){Be()},function(ut,pt){He(pt)})})}).catch(He)});return f(Ce,pe),Ce}function Sn(pe){var Ne=this,Ce=new d(function(Be,He){Ne.ready().then(function(){var je=Ne._dbInfo;je.db.transaction(function(rt){Xn(rt,je,"SELECT COUNT(key) as c FROM "+je.storeName,[],function(ut,pt){var ft=pt.rows.item(0).c;Be(ft)},function(ut,pt){He(pt)})})}).catch(He)});return f(Ce,pe),Ce}function ht(pe,Ne){var Ce=this,Be=new d(function(He,je){Ce.ready().then(function(){var rt=Ce._dbInfo;rt.db.transaction(function(ut){Xn(ut,rt,"SELECT key FROM "+rt.storeName+" WHERE id = ? LIMIT 1",[pe+1],function(pt,ft){var _t=ft.rows.length?ft.rows.item(0).key:null;He(_t)},function(pt,ft){je(ft)})})}).catch(je)});return f(Be,Ne),Be}function cr(pe){var Ne=this,Ce=new d(function(Be,He){Ne.ready().then(function(){var je=Ne._dbInfo;je.db.transaction(function(rt){Xn(rt,je,"SELECT key FROM "+je.storeName,[],function(ut,pt){for(var ft=[],_t=0;_t<pt.rows.length;_t++)ft.push(pt.rows.item(_t).key);Be(ft)},function(ut,pt){He(pt)})})}).catch(He)});return f(Ce,pe),Ce}function Ut(pe){return new d(function(Ne,Ce){pe.transaction(function(Be){Be.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(He,je){for(var rt=[],ut=0;ut<je.rows.length;ut++)rt.push(je.rows.item(ut).name);Ne({db:pe,storeNames:rt})},function(He,je){Ce(je)})},function(Be){Ce(Be)})})}function Zn(pe,Ne){Ne=m.apply(this,arguments);var Ce=this.config();pe=typeof pe!="function"&&pe||{},pe.name||(pe.name=pe.name||Ce.name,pe.storeName=pe.storeName||Ce.storeName);var Be=this,He;return pe.name?He=new d(function(je){var rt;pe.name===Ce.name?rt=Be._dbInfo.db:rt=openDatabase(pe.name,"","",0),pe.storeName?je({db:rt,storeNames:[pe.storeName]}):je(Ut(rt))}).then(function(je){return new d(function(rt,ut){je.db.transaction(function(pt){function ft(Xt){return new d(function(Qn,Wt){pt.executeSql("DROP TABLE IF EXISTS "+Xt,[],function(){Qn()},function(sr,Eo){Wt(Eo)})})}for(var _t=[],jt=0,Pn=je.storeNames.length;jt<Pn;jt++)_t.push(ft(je.storeNames[jt]));d.all(_t).then(function(){rt()}).catch(function(Xt){ut(Xt)})},function(pt){ut(pt)})})}):He=d.reject("Invalid arguments"),f(He,Ne),He}var sn={_driver:"webSQLStorage",_initStorage:Tr,_support:X(),iterate:En,getItem:mr,setItem:rr,removeItem:ii,clear:br,length:Sn,key:ht,keys:cr,dropInstance:Zn};function Yn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function wr(pe,Ne){var Ce=pe.name+"/";return pe.storeName!==Ne.storeName&&(Ce+=pe.storeName+"/"),Ce}function kr(){var pe="_localforage_support_test";try{return localStorage.setItem(pe,!0),localStorage.removeItem(pe),!1}catch{return!0}}function Ar(){return!kr()||localStorage.length>0}function Jo(pe){var Ne=this,Ce={};if(pe)for(var Be in pe)Ce[Be]=pe[Be];return Ce.keyPrefix=wr(pe,Ne._defaultConfig),Ar()?(Ne._dbInfo=Ce,Ce.serializer=Vn,d.resolve()):d.reject()}function pa(pe){var Ne=this,Ce=Ne.ready().then(function(){for(var Be=Ne._dbInfo.keyPrefix,He=localStorage.length-1;He>=0;He--){var je=localStorage.key(He);je.indexOf(Be)===0&&localStorage.removeItem(je)}});return f(Ce,pe),Ce}function hu(pe,Ne){var Ce=this;pe=p(pe);var Be=Ce.ready().then(function(){var He=Ce._dbInfo,je=localStorage.getItem(He.keyPrefix+pe);return je&&(je=He.serializer.deserialize(je)),je});return f(Be,Ne),Be}function ec(pe,Ne){var Ce=this,Be=Ce.ready().then(function(){for(var He=Ce._dbInfo,je=He.keyPrefix,rt=je.length,ut=localStorage.length,pt=1,ft=0;ft<ut;ft++){var _t=localStorage.key(ft);if(_t.indexOf(je)===0){var jt=localStorage.getItem(_t);if(jt&&(jt=He.serializer.deserialize(jt)),jt=pe(jt,_t.substring(rt),pt++),jt!==void 0)return jt}}});return f(Be,Ne),Be}function Fn(pe,Ne){var Ce=this,Be=Ce.ready().then(function(){var He=Ce._dbInfo,je;try{je=localStorage.key(pe)}catch{je=null}return je&&(je=je.substring(He.keyPrefix.length)),je});return f(Be,Ne),Be}function Ni(pe){var Ne=this,Ce=Ne.ready().then(function(){for(var Be=Ne._dbInfo,He=localStorage.length,je=[],rt=0;rt<He;rt++){var ut=localStorage.key(rt);ut.indexOf(Be.keyPrefix)===0&&je.push(ut.substring(Be.keyPrefix.length))}return je});return f(Ce,pe),Ce}function Zo(pe){var Ne=this,Ce=Ne.keys().then(function(Be){return Be.length});return f(Ce,pe),Ce}function Rf(pe,Ne){var Ce=this;pe=p(pe);var Be=Ce.ready().then(function(){var He=Ce._dbInfo;localStorage.removeItem(He.keyPrefix+pe)});return f(Be,Ne),Be}function td(pe,Ne,Ce){var Be=this;pe=p(pe);var He=Be.ready().then(function(){Ne===void 0&&(Ne=null);var je=Ne;return new d(function(rt,ut){var pt=Be._dbInfo;pt.serializer.serialize(Ne,function(ft,_t){if(_t)ut(_t);else try{localStorage.setItem(pt.keyPrefix+pe,ft),rt(je)}catch(jt){(jt.name==="QuotaExceededError"||jt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ut(jt),ut(jt)}})})});return f(He,Ce),He}function tc(pe,Ne){if(Ne=m.apply(this,arguments),pe=typeof pe!="function"&&pe||{},!pe.name){var Ce=this.config();pe.name=pe.name||Ce.name,pe.storeName=pe.storeName||Ce.storeName}var Be=this,He;return pe.name?He=new d(function(je){pe.storeName?je(wr(pe,Be._defaultConfig)):je(pe.name+"/")}).then(function(je){for(var rt=localStorage.length-1;rt>=0;rt--){var ut=localStorage.key(rt);ut.indexOf(je)===0&&localStorage.removeItem(ut)}}):He=d.reject("Invalid arguments"),f(He,Ne),He}var nc={_driver:"localStorageWrapper",_initStorage:Jo,_support:Yn(),iterate:ec,getItem:hu,setItem:td,removeItem:Rf,clear:pa,length:Zo,key:Fn,keys:Ni,dropInstance:tc},es=function(Ne,Ce){return Ne===Ce||typeof Ne=="number"&&typeof Ce=="number"&&isNaN(Ne)&&isNaN(Ce)},If=function(Ne,Ce){for(var Be=Ne.length,He=0;He<Be;){if(es(Ne[He],Ce))return!0;He++}return!1},pu=Array.isArray||function(pe){return Object.prototype.toString.call(pe)==="[object Array]"},dr={},nd={},wo={INDEXEDDB:we,WEBSQL:sn,LOCALSTORAGE:nc},ps=[wo.INDEXEDDB._driver,wo.WEBSQL._driver,wo.LOCALSTORAGE._driver],xo=["dropInstance"],mu=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(xo),Bs={description:"",driver:ps.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Il(pe,Ne){pe[Ne]=function(){var Ce=arguments;return pe.ready().then(function(){return pe[Ne].apply(pe,Ce)})}}function Co(){for(var pe=1;pe<arguments.length;pe++){var Ne=arguments[pe];if(Ne)for(var Ce in Ne)Ne.hasOwnProperty(Ce)&&(pu(Ne[Ce])?arguments[0][Ce]=Ne[Ce].slice():arguments[0][Ce]=Ne[Ce])}return arguments[0]}var Df=(function(){function pe(Ne){s(this,pe);for(var Ce in wo)if(wo.hasOwnProperty(Ce)){var Be=wo[Ce],He=Be._driver;this[Ce]=He,dr[He]||this.defineDriver(Be)}this._defaultConfig=Co({},Bs),this._config=Co({},this._defaultConfig,Ne),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return pe.prototype.config=function(Ce){if((typeof Ce>"u"?"undefined":o(Ce))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Be in Ce){if(Be==="storeName"&&(Ce[Be]=Ce[Be].replace(/\W/g,"_")),Be==="version"&&typeof Ce[Be]!="number")return new Error("Database version must be a number.");this._config[Be]=Ce[Be]}return"driver"in Ce&&Ce.driver?this.setDriver(this._config.driver):!0}else return typeof Ce=="string"?this._config[Ce]:this._config},pe.prototype.defineDriver=function(Ce,Be,He){var je=new d(function(rt,ut){try{var pt=Ce._driver,ft=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Ce._driver){ut(ft);return}for(var _t=mu.concat("_initStorage"),jt=0,Pn=_t.length;jt<Pn;jt++){var Xt=_t[jt],Qn=!If(xo,Xt);if((Qn||Ce[Xt])&&typeof Ce[Xt]!="function"){ut(ft);return}}var Wt=function(){for(var ma=function(ts){return function(){var Mi=new Error("Method "+ts+" is not implemented by the current driver"),Si=d.reject(Mi);return f(Si,arguments[arguments.length-1]),Si}},So=0,Pf=xo.length;So<Pf;So++){var rc=xo[So];Ce[rc]||(Ce[rc]=ma(rc))}};Wt();var sr=function(ma){dr[pt]&&console.info("Redefining LocalForage driver: "+pt),dr[pt]=Ce,nd[pt]=ma,rt()};"_support"in Ce?Ce._support&&typeof Ce._support=="function"?Ce._support().then(sr,ut):sr(!!Ce._support):sr(!0)}catch(Eo){ut(Eo)}});return h(je,Be,He),je},pe.prototype.driver=function(){return this._driver||null},pe.prototype.getDriver=function(Ce,Be,He){var je=dr[Ce]?d.resolve(dr[Ce]):d.reject(new Error("Driver not found."));return h(je,Be,He),je},pe.prototype.getSerializer=function(Ce){var Be=d.resolve(Vn);return h(Be,Ce),Be},pe.prototype.ready=function(Ce){var Be=this,He=Be._driverSet.then(function(){return Be._ready===null&&(Be._ready=Be._initDriver()),Be._ready});return h(He,Ce,Ce),He},pe.prototype.setDriver=function(Ce,Be,He){var je=this;pu(Ce)||(Ce=[Ce]);var rt=this._getSupportedDrivers(Ce);function ut(){je._config.driver=je.driver()}function pt(jt){return je._extend(jt),ut(),je._ready=je._initStorage(je._config),je._ready}function ft(jt){return function(){var Pn=0;function Xt(){for(;Pn<jt.length;){var Qn=jt[Pn];return Pn++,je._dbInfo=null,je._ready=null,je.getDriver(Qn).then(pt).catch(Xt)}ut();var Wt=new Error("No available storage method found.");return je._driverSet=d.reject(Wt),je._driverSet}return Xt()}}var _t=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=_t.then(function(){var jt=rt[0];return je._dbInfo=null,je._ready=null,je.getDriver(jt).then(function(Pn){je._driver=Pn._driver,ut(),je._wrapLibraryMethodsWithReady(),je._initDriver=ft(rt)})}).catch(function(){ut();var jt=new Error("No available storage method found.");return je._driverSet=d.reject(jt),je._driverSet}),h(this._driverSet,Be,He),this._driverSet},pe.prototype.supports=function(Ce){return!!nd[Ce]},pe.prototype._extend=function(Ce){Co(this,Ce)},pe.prototype._getSupportedDrivers=function(Ce){for(var Be=[],He=0,je=Ce.length;He<je;He++){var rt=Ce[He];this.supports(rt)&&Be.push(rt)}return Be},pe.prototype._wrapLibraryMethodsWithReady=function(){for(var Ce=0,Be=mu.length;Ce<Be;Ce++)Il(this,mu[Ce])},pe.prototype.createInstance=function(Ce){return new pe(Ce)},pe})(),_o=new Df;r.exports=_o},{3:3}]},{},[4])(4)})})(d7)),d7.exports}var BZt=jZt();const zZt=Qo(BZt);var f7,j0e;function UZt(){if(j0e)return f7;j0e=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=typeof xi=="object"&&xi&&xi.Object===Object&&xi,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,f=d.toString,h=Math.max,p=Math.min,m=function(){return c.Date.now()};function g(S,T,k){var R,I,P,N,M,O,j=0,U=!1,q=!1,W=!0;if(typeof S!="function")throw new TypeError(e);T=_(T)||0,y(k)&&(U=!!k.leading,q="maxWait"in k,P=q?h(_(k.maxWait)||0,T):P,W="trailing"in k?!!k.trailing:W);function V(le){var ue=R,ae=I;return R=I=void 0,j=le,N=S.apply(ae,ue),N}function z(le){return j=le,M=setTimeout(B,T),U?V(le):N}function L(le){var ue=le-O,ae=le-j,te=T-ue;return q?p(te,P-ae):te}function H(le){var ue=le-O,ae=le-j;return O===void 0||ue>=T||ue<0||q&&ae>=P}function B(){var le=m();if(H(le))return Y(le);M=setTimeout(B,L(le))}function Y(le){return M=void 0,W&&R?V(le):(R=I=void 0,N)}function Q(){M!==void 0&&clearTimeout(M),j=0,R=O=I=M=void 0}function ne(){return M===void 0?N:Y(m())}function ce(){var le=m(),ue=H(le);if(R=arguments,I=this,O=le,ue){if(M===void 0)return z(O);if(q)return M=setTimeout(B,T),V(O)}return M===void 0&&(M=setTimeout(B,T)),N}return ce.cancel=Q,ce.flush=ne,ce}function v(S,T,k){var R=!0,I=!0;if(typeof S!="function")throw new TypeError(e);return y(k)&&(R="leading"in k?!!k.leading:R,I="trailing"in k?!!k.trailing:I),g(S,T,{leading:R,maxWait:T,trailing:I})}function y(S){var T=typeof S;return!!S&&(T=="object"||T=="function")}function x(S){return!!S&&typeof S=="object"}function E(S){return typeof S=="symbol"||x(S)&&f.call(S)==n}function _(S){if(typeof S=="number")return S;if(E(S))return t;if(y(S)){var T=typeof S.valueOf=="function"?S.valueOf():S;S=y(T)?T+"":T}if(typeof S!="string")return S===0?S:+S;S=S.replace(r,"");var k=o.test(S);return k||s.test(S)?a(S.slice(2),k?2:8):i.test(S)?t:+S}return f7=v,f7}var HZt=UZt();const B0e=Qo(HZt);function qZt(e){const t={...e};return"studyNavigatorEnabled"in e&&!("developmentModeEnabled"in e)&&(t.developmentModeEnabled=e.studyNavigatorEnabled,delete t.studyNavigatorEnabled),"analyticsInterfacePubliclyAccessible"in e&&!("dataSharingEnabled"in e)&&(t.dataSharingEnabled=e.analyticsInterfacePubliclyAccessible,delete t.analyticsInterfacePubliclyAccessible),t}const ow="#F05A30";class VZt{engine;testing;cloudEngine=!1;connected=!1;collectionPrefix="prod-";studyId;currentParticipantId;participantData;uploadingAssetIds=[];constructor(t,n){this.engine=t,this.testing=n}isConnected(){return this.connected}getEngine(){return this.engine}isCloudEngine(){return this.cloudEngine}__throttleVerifyStudyDatabase=B0e(()=>new Promise((t,n)=>{this._verifyStudyDatabase().then(()=>{t()}).catch(r=>{this.connected=!1,console.error("Error verifying study database:",r),n(r)})}),1e4);__throttleSaveAnswers=B0e(async()=>{await this._saveAnswers()},3e3);async verifyStudyDatabase(){return await this.__throttleVerifyStudyDatabase()}async getStageData(t){const n=await this.getModes(t);if(n&&n.stage)return n.stage;const r={currentStage:{stageName:"DEFAULT",color:ow},allStages:[{stageName:"DEFAULT",color:ow}]};return await this.setCurrentStage(t,"DEFAULT",ow),r}async getConditionData(t){const n=await this.getAllSequenceAssignments(t),r={};return n.forEach(i=>{const o=Fu(i.conditions);(o.length>0?o:["default"]).forEach(a=>{r[a]=(r[a]||0)+1})}),{allConditions:Object.keys(r).sort(),conditionCounts:r}}async setCurrentStage(t,n,r=ow){const i=await this.getModes(t);i.stage||(i.stage={currentStage:{stageName:"DEFAULT",color:ow},allStages:[{stageName:"DEFAULT",color:ow}]}),i.stage.allStages.findIndex(a=>a.stageName===n)===-1&&i.stage.allStages.push({stageName:n,color:r}),i.stage.currentStage={stageName:n,color:r};const s={...i,stage:i.stage};await this._setModesDocument(t,s)}async updateStageColor(t,n,r){const i=await this.getModes(t);if(!i.stage)throw new Error("Stage data not initialized");const o=i.stage.allStages.map(u=>u.stageName===n?{...u,color:r}:u),a={currentStage:i.stage.currentStage.stageName===n?{...i.stage.currentStage,color:r}:i.stage.currentStage,allStages:o},l={...i,stage:a};await this._setModesDocument(t,l)}async saveConfig(t){const n=await this._getCurrentConfigHash(),r=await _z(JSON.stringify(t));if(await this._pushToStorage(`configs/${r}`,"config",t),await this._cacheStorageObject(`configs/${r}`,"config"),n&&n!==r)try{await this._deleteFromStorage("","sequenceArray")}catch{}await this._setCurrentConfigHash(r)}async getAllConfigsFromHash(t,n){const r=t.map(async o=>[o,await this._getFromStorage(`configs/${o}`,"config",n)]),i=await Promise.all(r);return Object.fromEntries(i)}async getCurrentParticipantId(t){if(t)return this.currentParticipantId=t,t;if(this.currentParticipantId)return this.currentParticipantId;if(!this.studyId)throw new Error("Study ID is not set");const n=`${this.collectionPrefix}${this.studyId}/currentParticipantId`,r=await this.participantStore.getItem(n);return r?(this.currentParticipantId=r,r):(this.currentParticipantId=wee(),await this.participantStore.setItem(n,this.currentParticipantId),this.currentParticipantId)}async clearCurrentParticipantId(){if(this.currentParticipantId=void 0,!this.studyId)throw new Error("Study ID is not set");const t=`${this.collectionPrefix}${this.studyId}/currentParticipantId`;await this.participantStore.removeItem(t)}async _getSequence(t){if(!this.currentParticipantId)throw new Error("Participant not initialized");if(this.studyId===void 0)throw new Error("Study ID is not set");let n=await this.getAllSequenceAssignments(this.studyId);const r=await this.getModes(this.studyId),o=(await this.getStageData(this.studyId)).currentStage.stageName,s=n.filter(f=>f.rejected&&!f.claimed);if(s.length>0){const f=s[0],h=f.timestamp;if(r.dataCollectionEnabled){const p={participantId:this.currentParticipantId,timestamp:h,rejected:!1,claimed:!1,completed:null,createdTime:new Date().getTime(),total:0,answered:[],isDynamic:!1,stage:o,...t?{conditions:t}:{}};await this._claimSequenceAssignment(f.participantId,f),await this._createSequenceAssignment(this.currentParticipantId,p,!1)}}else if(r.dataCollectionEnabled){const f=new Date().getTime(),h={participantId:this.currentParticipantId,timestamp:f,rejected:!1,claimed:!1,completed:null,createdTime:f,total:0,answered:[],isDynamic:!1,stage:o,...t?{conditions:t}:{}};await this._createSequenceAssignment(this.currentParticipantId,h,!0)}n=await this.getAllSequenceAssignments(this.studyId);const a=await this.getSequenceArray();if(!a)throw new Error("Latin square not initialized");const l=n.filter(f=>!f.rejected).findIndex(f=>f.participantId===this.currentParticipantId)%a.length;if(a.length===0)throw new Error("Something really bad happened with sequence assignment");if(l===-1)return{currentRow:a[Math.floor(Math.random()*a.length)],creationIndex:1};const u=a[l];if(!u)throw new Error("Latin square is empty");const d=n.sort((f,h)=>f.createdTime-h.createdTime).findIndex(f=>f.participantId===this.currentParticipantId)+1;return{currentRow:u,creationIndex:d}}async initializeParticipantSession(t,n,r,i){if(await this.verifyStudyDatabase(),await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const o=await this._getFromStorage(`participants/${this.currentParticipantId}`,"participantData");if(this.studyId===void 0)throw new Error("Study ID is not set");const s=await this.getModes(this.studyId),l=(await this.getStageData(this.studyId)).currentStage.stageName;if(z_(o))return this.participantData=o,o;const u=await _z(JSON.stringify(n)),c=Fu(t.condition),d=c.length>0?c:void 0,{currentRow:f,creationIndex:h}=await this._getSequence(d);return this.participantData={participantId:this.currentParticipantId,participantConfigHash:u,sequence:f,participantIndex:h,answers:{},searchParams:t,conditions:d,metadata:r,completed:!1,rejected:!1,participantTags:[],stage:l,createdTime:Date.now()},s.dataCollectionEnabled&&await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),this.participantData}async getAllParticipantIds(t){const n=this.studyId||t;if(n===void 0)throw new Error("Study ID is not set");return(await this.getAllSequenceAssignments(n)).map(i=>i.participantId)}async saveTags(t,n){await this._pushToStorage(`audio/transcriptAndTags/${n}`,"tags",t)}async getTags(t){return await this._getFromStorage(`audio/transcriptAndTags/${t}`,"tags")}async getAllParticipantAndTaskTags(t,n){const r=await this._getFromStorage(`audio/transcriptAndTags/${t}/${n}`,"participantTags");return r?.participantTags?r:(this.saveAllParticipantAndTaskTags(t,n,{participantTags:[],taskTags:{}}),{participantTags:[],taskTags:{}})}async saveAllParticipantAndTaskTags(t,n,r){return this._pushToStorage(`audio/transcriptAndTags/${t}/${n}`,"participantTags",r)}async getParticipantData(t){if(await this.verifyStudyDatabase(),this.currentParticipantId===null&&!t)throw new Error("Participant not initialized");const n=await this._getFromStorage(`participants/${t||this.currentParticipantId}`,"participantData");return z_(n)?n:null}async getParticipantTags(){await this.verifyStudyDatabase();const t=await this.getParticipantData();if(!t)throw new Error("Participant not initialized");return t.participantTags}async addParticipantTags(t){if(await this.verifyStudyDatabase(),!this.participantData)throw new Error("Participant data not initialized");this.participantData.participantTags=[...new Set([...this.participantData.participantTags,...t])],await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async removeParticipantTags(t){if(await this.verifyStudyDatabase(),!this.participantData)throw new Error("Participant data not initialized");this.participantData.participantTags=this.participantData.participantTags.filter(n=>!t.includes(n)),await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async updateParticipantSearchParams(t){if(await this.verifyStudyDatabase(),!this.participantData)throw new Error("Participant data not initialized");this.participantData.searchParams=t,await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async updateStudyCondition(t){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");if(!(await this.getModes(this.studyId)).developmentModeEnabled)throw new Error("Cannot update study condition when development mode is disabled");if(!this.participantData)throw new Error("Participant data not initialized");const r=Fu(t);if(this.participantData.conditions=r.length>0?r:void 0,await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),!this.currentParticipantId)throw new Error("Participant not initialized");await this._updateSequenceAssignmentFields(this.currentParticipantId,{conditions:this.participantData.conditions})}async rejectParticipant(t,n){const r=await this._getFromStorage(`participants/${t}`,"participantData");try{if(!r||!z_(r)||r.rejected)return;r.rejected={reason:n,timestamp:new Date().getTime()},await this._pushToStorage(`participants/${t}`,"participantData",r),await this._rejectParticipantRealtime(t)}catch(i){console.warn("Error rejecting participant:",i)}}async rejectCurrentParticipant(t){if(!this.currentParticipantId)throw new Error("Participant not initialized");return await this.rejectParticipant(this.currentParticipantId,t)}async undoRejectParticipant(t){const n=await this._getFromStorage(`participants/${t}`,"participantData");try{if(!n||!z_(n))return;n.rejected=!1,await this._pushToStorage(`participants/${t}`,"participantData",n),await this._undoRejectParticipantRealtime(t)}catch(r){console.warn("Error undoing participant rejection:",r)}}async undoRejectCurrentParticipant(){if(!this.currentParticipantId)throw new Error("Participant not initialized");return await this.undoRejectParticipant(this.currentParticipantId)}async getAllParticipantsData(t){const n=await this.getAllParticipantIds(t),r=[],i=n.map(async o=>{const s=await this._getFromStorage(`participants/${o}`,"participantData",t);z_(s)&&r.push(s)});return await Promise.all(i),r}async getParticipantsStatusCounts(t){const n=await this.getAllSequenceAssignments(t),r=n.filter(l=>l.completed&&!l.rejected).length,i=n.filter(l=>l.rejected).length,o=n.length-r-i,s=n.length>0?n[0].timestamp:null,a=n.length>0?n.at(-1).timestamp:null;return{completed:r,rejected:i,inProgress:o,minTime:s,maxTime:a}}async _saveAnswers(){if(await this.verifyStudyDatabase(),!this.currentParticipantId||this.participantData===void 0)throw new Error("Participant not initialized");await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async saveAnswers(t){if(!this.currentParticipantId||this.participantData===void 0)throw new Error("Participant not initialized");this.participantData.rejected||(this.participantData={...this.participantData,answers:t},await this.__throttleSaveAnswers(t))}async updateProgressData(t,n){if(!this.studyId)throw new Error("Study ID is not set");if(this.getEngine()!=="firebase")return;const r=n||this.currentParticipantId;if(!r)throw new Error("Participant not initialized");const o=(await this.getAllSequenceAssignments(this.studyId)).find(s=>s.participantId===r);if(o){const s={...o,total:o.total??t.total,answered:o.answered??t.answered,isDynamic:o.isDynamic??t.isDynamic};s.total=t.total,s.answered=t.answered,s.isDynamic=t.isDynamic,await this._createSequenceAssignment(r,s,!1)}}async verifyCompletion(){if(await this.verifyStudyDatabase(),!this.studyId)throw new Error("Study not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const t=await this.getParticipantData();if(!t)throw new Error("Participant not initialized");if(this.uploadingAssetIds.length>0)return!1;if(t.completed)return!0;const r=await this.getModes(this.studyId),i=Object.values(t.answers).map(s=>s.endTime).reduce((s,a)=>Math.max(s,a),0),o=Object.values(this.participantData?.answers||{}).map(s=>s.endTime).reduce((s,a)=>Math.max(s,a),0);return this.participantData&&i===o?(this.participantData.completed=!0,r.dataCollectionEnabled&&(await this._completeCurrentParticipantRealtime(),await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),await this._cacheStorageObject(`participants/${this.currentParticipantId}`,"participantData")),!0):!1}async getAsset(t){return t?new Promise(r=>{const i=new XMLHttpRequest;i.responseType="blob",i.onload=()=>{const o=i.response,s=URL.createObjectURL(o);r(s)},i.open("GET",t),i.send()}):null}async getAudio(t,n){const r=await this._getAudioUrl(t,n);return await this.getAsset(r)}async getAudioUrl(t,n){const r=await this._getAudioUrl(t,n);return r||null}async getTranscriptUrl(t,n){if(!this._getTranscriptUrl)return null;const r=await this._getTranscriptUrl(t,n);return r||null}async saveAsset(t,n,r){const i=`${t}/${r}`,o=`${t}/${this.currentParticipantId}`;this.uploadingAssetIds.push(i),await this._pushToStorage(o,r,n),await this._cacheStorageObject(o,r),this.uploadingAssetIds=this.uploadingAssetIds.filter(s=>s!==i)}async saveAudioRecording(t,n){if(this.studyId===void 0)throw new Error("Study ID is not set");if(!(await this.getModes(this.studyId)).dataCollectionEnabled)throw new Error("Data collection is disabled for this study");return this.saveAsset("audio",t,n)}async getScreenRecording(t,n){const r=await this._getScreenRecordingUrl(t,n);return this.getAsset(r)}async saveScreenRecording(t,n){if(this.studyId===void 0)throw new Error("Study ID is not set");if(!(await this.getModes(this.studyId)).dataCollectionEnabled)throw new Error("Data collection is disabled for this study");return this.saveAsset("screenRecording",t,n)}async getSequenceArray(){await this.verifyStudyDatabase();const t=await this._getFromStorage("","sequenceArray");return Array.isArray(t)?t:null}async setSequenceArray(t){await this.verifyStudyDatabase(),await this._pushToStorage("","sequenceArray",t)}async __testingReset(){this.participantData=void 0,this.studyId?await this.clearCurrentParticipantId():this.currentParticipantId=void 0}async createSnapshot(t,n){const r=`${this.collectionPrefix}${t}`;if(!await this._directoryExists(`${r}/participants`))return console.warn(`Source directory ${r} does not exist.`),{status:"FAILED",error:{message:"There is currently no data in your study. A snapshot could not be created.",title:"Failed to Create Snapshot."}};const i=new Date,o=i.getUTCFullYear(),s=(i.getUTCMonth()+1).toString().padStart(2,"0"),a=i.getUTCDate().toString().padStart(2,"0"),l=i.getUTCHours().toString().padStart(2,"0"),u=i.getUTCMinutes().toString().padStart(2,"0"),c=i.getUTCSeconds().toString().padStart(2,"0"),d=`${o}-${s}-${a}T${l}:${u}:${c}`,f=`${this.collectionPrefix}${t}-snapshot-${d}`;this.getEngine()==="localStorage"?await this._copyDirectory(`${r}/`,`${f}/`):(await this._copyDirectory(`${r}/configs`,`${f}/configs`),await this._copyDirectory(`${r}/participants`,`${f}/participants`),await this._copyDirectory(`${r}/audio`,`${f}/audio`),await this._copyDirectory(`${r}/screenRecording`,`${f}/screenRecording`),await this._copyDirectory(r,f),await this._copyRealtimeData(r,f)),await this._addDirectoryNameToSnapshots(f,t);const h=[];if(n){const p=await this.removeSnapshotOrLive(r,t);p.status==="FAILED"?h.push({title:p.error.title,message:p.error.message,color:"red"}):h.push({title:"Success!",message:"Successfully deleted live data.",color:"green"})}return h.push({message:"Successfully created snapshot",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:h}}async removeSnapshotOrLive(t,n){const r=t.startsWith(this.collectionPrefix)?t:`${this.collectionPrefix}${t}`;try{return this.getEngine()==="localStorage"?await this._deleteDirectory(`${r}/`):(await this._deleteDirectory(`${r}/configs`),await this._deleteDirectory(`${r}/participants`),await this._deleteDirectory(`${r}/audio`),await this._deleteDirectory(`${r}/screenRecording`),await this._deleteDirectory(r),await this._deleteRealtimeData(r)),await this._removeDirectoryNameFromSnapshots(r,n),{status:"SUCCESS",notifications:[{message:"Successfully deleted snapshot or live data.",title:"Success!",color:"green"}]}}catch{return{status:"FAILED",error:{title:"Failed to delete live data or snapshot",message:"There was an unspecified error when trying to remove a snapshot or live data."}}}}async restoreSnapshot(t,n){const r=`${this.collectionPrefix}${t}`,i=[];try{const o=await this.createSnapshot(t,!0);return o.status==="FAILED"?(console.warn("No live data to capture."),i.push({title:o.error.title,message:o.error.message,color:"yellow"})):i.push({title:"Success!",message:"Successfully created snapshot of live data.",color:"green"}),await this._copyDirectory(`${n}/configs`,`${r}/configs`),await this._copyDirectory(`${n}/participants`,`${r}/participants`),await this._copyDirectory(`${n}/audio`,`${r}/audio`),await this._copyDirectory(`${n}/screenRecording`,`${r}/screenRecording`),await this._copyDirectory(n,r),await this._copyRealtimeData(n,r),i.push({message:"Successfully restored snapshot to live data.",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:i}}catch(o){return console.error("Error trying to delete a snapshot",o),{status:"FAILED",error:{title:"Failed to restore a snapshot fully.",message:"There was an unspecified error when trying to restore this snapshot."}}}}async renameSnapshot(t,n,r){try{return await this._changeDirectoryNameInSnapshots(t,n,r),{status:"SUCCESS",notifications:[{message:"Successfully renamed snapshot.",title:"Success!",color:"green"}]}}catch(i){return console.error("Error renaming collection in metadata",i),{status:"FAILED",error:{title:"Failed to Rename Snapshot.",message:"There was an error when trying to rename the snapshot."}}}}}class WZt extends VZt{studyDatabase=zZt.createInstance({name:"revisit"});participantStore=this.studyDatabase;constructor(t=!1){super("localStorage",t)}async _getFromStorage(t,n,r){const i=`${this.collectionPrefix}${r||this.studyId}/${t}_${n}`;return await this.studyDatabase.getItem(i)}async _pushToStorage(t,n,r){await this.verifyStudyDatabase();const i=`${this.collectionPrefix}${this.studyId}/${t}_${n}`;await this.studyDatabase.setItem(i,r)}async _deleteFromStorage(t,n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${this.studyId}/${t}_${n}`;await this.studyDatabase.removeItem(r)}async _cacheStorageObject(){}async _verifyStudyDatabase(){if(!this.studyDatabase||!this.studyId)throw new Error("Study database not initialized")}async _getCurrentConfigHash(){await this.verifyStudyDatabase();const t=`${this.collectionPrefix}${this.studyId}/configHash`;return await this.studyDatabase.getItem(t)||null}async _setCurrentConfigHash(t){await this.verifyStudyDatabase();const n=`${this.collectionPrefix}${this.studyId}/configHash`;await this.studyDatabase.setItem(n,t)}async getAllSequenceAssignments(t){const n=`${this.collectionPrefix}${t}/sequenceAssignment`,r=await this.studyDatabase.getItem(n);return r?Object.values(r).sort((i,o)=>i.timestamp-o.timestamp):[]}async _createSequenceAssignment(t,n){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const r=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,i=await this.studyDatabase.getItem(r)||{};i[t]=n,await this.studyDatabase.setItem(r,i)}async _updateSequenceAssignmentFields(t,n){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const r=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,i=await this.studyDatabase.getItem(r)||{},o=i[t];if(!o)throw new Error(`Sequence assignment for participant ${t} not found`);const s={...o,...n};Object.hasOwn(n,"conditions")&&n.conditions===void 0&&delete s.conditions,i[t]=s,await this.studyDatabase.setItem(r,i)}async _completeCurrentParticipantRealtime(){if(!this.currentParticipantId)throw new Error("Participant not initialized");if(this.studyId===void 0)throw new Error("Study ID is not set");const t=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,n=await this.studyDatabase.getItem(t)||{};if(n[this.currentParticipantId])n[this.currentParticipantId]={...n[this.currentParticipantId],completed:new Date().getTime()};else throw new Error("Participant sequence assignment not found");await this.studyDatabase.setItem(t,n)}async _rejectParticipantRealtime(t){await this.verifyStudyDatabase();const n=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,r=await this.studyDatabase.getItem(n)||{},i=r[t],o=Object.values(r).find(s=>s.claimed&&s.timestamp===i.timestamp);if(i&&o){o.claimed=!1,o.rejected=!0,await this.studyDatabase.setItem(n,r),r[t]={...i,timestamp:new Date().getTime(),rejected:!0},await this.studyDatabase.setItem(n,r);return}i&&(i.rejected=!0,await this.studyDatabase.setItem(n,r))}async _undoRejectParticipantRealtime(t){await this.verifyStudyDatabase();const n=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,r=await this.studyDatabase.getItem(n)||{},i=r[t];i&&(i.rejected=!1,await this.studyDatabase.setItem(n,r))}async _claimSequenceAssignment(t,n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,i=await this.studyDatabase.getItem(r)||{};if(i[t])i[t]={...n,claimed:!0},await this.studyDatabase.setItem(r,i);else throw new Error(`Sequence assignment for participant ${t} not found`)}async initializeStudyDb(t){this.studyId=t}async connect(){this.connected=!0}async getModes(t){const n=`${this.collectionPrefix}${t}/modes`,r=await this.studyDatabase.getItem(n);if(r){const o=qZt(r);return await this.studyDatabase.setItem(n,o),o}const i={dataCollectionEnabled:!0,developmentModeEnabled:!0,dataSharingEnabled:!0};return await this.studyDatabase.setItem(n,i),i}async setMode(t,n,r){const i=`${this.collectionPrefix}${t}/modes`,o=await this.studyDatabase.getItem(i);if(!o)throw new Error("Modes not initialized");o[n]=r,await this.studyDatabase.setItem(i,o)}async _setModesDocument(t,n){const r=`${this.collectionPrefix}${t}/modes`;await this.studyDatabase.setItem(r,n)}async _getAudioUrl(t,n){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const r=await this._getFromStorage(`audio/${n||this.currentParticipantId}`,t);if(!r)throw new Error(`Audio for task ${t} and participant ${n||this.currentParticipantId} not found`);return URL.createObjectURL(r)}async _getScreenRecordingUrl(t,n){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const r=await this._getFromStorage(`screenRecording/${n||this.currentParticipantId}`,t);if(!r)throw new Error(`ScreenRecording for task ${t} and participant ${n||this.currentParticipantId} not found`);return URL.createObjectURL(r)}async _testingReset(t){if(!t)throw new Error("Study ID is required for reset");const r=(await this.studyDatabase.keys()).filter(i=>i.startsWith(`${this.collectionPrefix}${t}/`));await Promise.all(r.map(i=>this.studyDatabase.removeItem(i))),await super.__testingReset()}async getSnapshots(t){const n=`${this.collectionPrefix}${t}/snapshots`;return await this.studyDatabase.getItem(n)||{}}async _directoryExists(t){return(await this.studyDatabase.keys()).some(r=>r.startsWith(t))}async _copyDirectory(t,n){const o=(await this.studyDatabase.keys()).filter(s=>s.startsWith(t)).map(async s=>{if(s.endsWith("/snapshots")||s.endsWith("modes")||s.endsWith("configHash")||s.endsWith("currentParticipantId"))return;const a=await this.studyDatabase.getItem(s),l=s.replace(t,n);await this.studyDatabase.setItem(l,a)});await Promise.all(o)}async _deleteDirectory(t){const i=(await this.studyDatabase.keys()).filter(o=>o.startsWith(t)&&!o.includes("snapshots")).map(o=>this.studyDatabase.removeItem(o));await Promise.all(i)}async _copyRealtimeData(t,n){await this._copyDirectory(t,n)}async _deleteRealtimeData(t){await this._deleteDirectory(t)}async _addDirectoryNameToSnapshots(t,n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${n}/snapshots`,i=await this.studyDatabase.getItem(r)||{};i[t]||(i[t]={name:t},await this.studyDatabase.setItem(r,i))}async _removeDirectoryNameFromSnapshots(t,n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${n}/snapshots`,i=await this.studyDatabase.getItem(r)||{};i[t]&&(delete i[t],await this.studyDatabase.setItem(r,i))}async _changeDirectoryNameInSnapshots(t,n,r){await this.verifyStudyDatabase();const i=`${this.collectionPrefix}${r}/snapshots`,o=await this.studyDatabase.getItem(i)||{};if(o[t])o[t]={name:n},await this.studyDatabase.setItem(i,o);else throw new Error(`Snapshot with name ${t} does not exist`)}}var h7,z0e;function W$(){if(z0e)return h7;z0e=1;var e=__e;function t(s,a){var l,u="",c=0,d=!0,f=0,h;function p(){return h=s.charAt(f),f++,h}for(p(),h==="-"&&(u="-",p());h>="0"&&h<="9";)d&&(h=="0"?c++:d=!1),u+=h,p();if(d&&c--,h===".")for(u+=".";p()&&h>="0"&&h<="9";)u+=h;if(h==="e"||h==="E")for(u+=h,p(),(h==="-"||h==="+")&&(u+=h,p());h>="0"&&h<="9";)u+=h,p();for(;h&&h<=" ";)p();if(a&&(h===","||h==="}"||h==="]"||h==="#"||h==="/"&&(s[f]==="/"||s[f]==="*"))&&(h=0),l=+u,!(h||c||!isFinite(l)))return l}function n(s,a){return Object.defineProperty&&Object.defineProperty(s,"__COMMENTS__",{enumerable:!1,writable:!0}),s.__COMMENTS__=a||{}}function r(s){Object.defineProperty(s,"__COMMENTS__",{value:void 0})}function i(s){return s.__COMMENTS__}function o(s){if(!s)return"";var a=s.split(`
`),l,u,c,d;for(c=0;c<a.length;c++)for(l=a[c],d=l.length,u=0;u<d;u++){var f=l[u];if(f==="#")break;if(f==="/"&&(l[u+1]==="/"||l[u+1]==="*")){l[u+1]==="*"&&(c=a.length);break}else if(f>" "){a[c]="# "+l;break}}return a.join(`
`)}return h7={EOL:e.EOL||`
`,tryParseNumber:t,createComment:n,removeComment:r,getComment:i,forceComment:o},h7}var p7,U0e;function GZt(){return U0e||(U0e=1,p7="3.2.1"),p7}var m7,H0e;function hte(){if(H0e)return m7;H0e=1;function e(a,l){if(Object.prototype.toString.apply(a)!=="[object Array]"){if(a)throw new Error("dsf option must contain an array!");return n}else if(a.length===0)return n;var u=[];function c(d){return{}.toString.call(d)==="[object Function]"}return a.forEach(function(d){if(!d.name||!c(d.parse)||!c(d.stringify))throw new Error("extension does not match the DSF interface");u.push(function(){try{if(l=="parse")return d.parse.apply(null,arguments);if(l=="stringify"){var f=d.stringify.apply(null,arguments);if(f!==void 0&&(typeof f!="string"||f.length===0||f[0]==='"'||[].some.call(f,function(h){return r(h)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+f);return f}else throw new Error("Invalid type")}catch(h){throw new Error("DSF-"+d.name+" failed; "+h.message)}})}),t.bind(null,u)}function t(a,l){if(a)for(var u=0;u<a.length;u++){var c=a[u](l);if(c!==void 0)return c}}function n(){}function r(a){return a==="{"||a==="}"||a==="["||a==="]"||a===","}function i(){return{name:"math",parse:function(a){switch(a){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(a){if(typeof a=="number"){if(1/a===-1/0)return"-0";if(a===1/0)return"Inf";if(a===-1/0)return"-Inf";if(isNaN(a))return"NaN"}}}}i.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function o(a){var l=a&&a.out;return{name:"hex",parse:function(u){if(/^0x[0-9A-Fa-f]+$/.test(u))return parseInt(u,16)},stringify:function(u){if(l&&Number.isInteger(u))return"0x"+u.toString(16)}}}o.description="parse hexadecimal numbers prefixed with 0x";function s(){return{name:"date",parse:function(a){if(/^\d{4}-\d{2}-\d{2}$/.test(a)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(a)){var l=Date.parse(a);if(!isNaN(l))return new Date(l)}},stringify:function(a){if(Object.prototype.toString.call(a)==="[object Date]"){var l=a.toISOString();return l.indexOf("T00:00:00.000Z",l.length-14)!==-1?l.substr(0,10):l}}}}return s.description="support ISO dates",m7={loadDsf:e,std:{math:i,hex:o,date:s}},m7}var g7,q0e;function YZt(){return q0e||(q0e=1,g7=function(e,t){var n=W$(),r=hte(),i,o,s,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},l,u;function c(){o=0,s=" "}function d(O){return O==="{"||O==="}"||O==="["||O==="]"||O===","||O===":"}function f(O){var j,U=0,q=1;for(j=o-1;j>0&&i[j]!==`
`;j--,U++);for(;j>0;j--)i[j]===`
`&&q++;throw new Error(O+" at line "+q+","+U+" >>>"+i.substr(o-U,20)+" ...")}function h(){return s=i.charAt(o),o++,s}function p(O){return i.charAt(o+O)}function m(O){for(var j="",U=s;h();){if(s===U)return h(),O&&U==="'"&&s==="'"&&j.length===0?(h(),g()):j;if(s==="\\")if(h(),s==="u"){for(var q=0,W=0;W<4;W++){h();var V=s.charCodeAt(0),z;s>="0"&&s<="9"?z=V-48:s>="a"&&s<="f"?z=V-97+10:s>="A"&&s<="F"?z=V-65+10:f("Bad \\u char "+s),q=q*16+z}j+=String.fromCharCode(q)}else if(typeof a[s]=="string")j+=a[s];else break;else s===`
`||s==="\r"?f("Bad string containing newline"):j+=s}f("Bad string")}function g(){for(var O="",j=0,U=0;;){var q=p(-U-5);if(!q||q===`
`)break;U++}function W(){for(var V=U;s&&s<=" "&&s!==`
`&&V-- >0;)h()}for(;s&&s<=" "&&s!==`
`;)h();for(s===`
`&&(h(),W());;){if(!s)f("Bad multiline string");else if(s==="'"){if(j++,h(),j===3)return O.slice(-1)===`
`&&(O=O.slice(0,-1)),O;continue}else for(;j>0;)O+="'",j--;s===`
`?(O+=`
`,h(),W()):(s!=="\r"&&(O+=s),h())}}function v(){if(s==='"'||s==="'")return m(!1);for(var O="",j=o,U=-1;;){if(s===":")return O?U>=0&&U!==O.length&&(o=j+U,f("Found whitespace in your key name (use quotes to include)")):f("Found ':' but no key name (for an empty key name use quotes)"),O;s<=" "?s?U<0&&(U=O.length):f("Found EOF while looking for a key name (check your syntax)"):d(s)?f("Found '"+s+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):O+=s,h()}}function y(){for(;s;){for(;s&&s<=" ";)h();if(s==="#"||s==="/"&&p(0)==="/")for(;s&&s!==`
`;)h();else if(s==="/"&&p(0)==="*"){for(h(),h();s&&!(s==="*"&&p(0)==="/");)h();s&&(h(),h())}else break}}function x(){var O=s;for(d(s)&&f("Found a punctuator character '"+s+"' when expecting a quoteless string (check your syntax)");;){h();var j=s==="\r"||s===`
`||s==="";if(j||s===","||s==="}"||s==="]"||s==="#"||s==="/"&&(p(0)==="/"||p(0)==="*")){var U=O[0];switch(U){case"f":if(O.trim()==="false")return!1;break;case"n":if(O.trim()==="null")return null;break;case"t":if(O.trim()==="true")return!0;break;default:if(U==="-"||U>="0"&&U<="9"){var q=n.tryParseNumber(O);if(q!==void 0)return q}}if(j){O=O.trim();var W=u(O);return W!==void 0?W:O}}O+=s}}function E(O,j){var U;for(O--,U=o-2;U>O&&i[U]<=" "&&i[U]!==`
`;U--);i[U]===`
`&&U--,i[U]==="\r"&&U--;var q=i.substr(O,U-O+1);for(U=0;U<q.length;U++)if(q[U]>" "){var W=q.indexOf(`
`);if(W>=0){var V=[q.substr(0,W),q.substr(W+1)];return j&&V[0].trim().length===0&&V.shift(),V}else return[q]}return[]}function _(O){function j(q,W){var V,z,L,H;switch(typeof q){case"string":q.indexOf(W)>=0&&(H=q);break;case"object":if(Object.prototype.toString.apply(q)==="[object Array]")for(V=0,L=q.length;V<L;V++)H=j(q[V],W)||H;else for(z in q)Object.prototype.hasOwnProperty.call(q,z)&&(H=j(q[z],W)||H)}return H}function U(q){var W=j(O,q);return W?"found '"+q+`' in a string value, your mistake could be with:
  > `+W+`
  (unquoted strings contain everything up to the next line!)`:""}return U("}")||U("]")}function S(){var O=[],j,U,q;try{if(l&&(j=n.createComment(O,{a:[]})),h(),U=o,y(),j&&(q=E(U,!0).join(`
`)),s==="]")return h(),j&&(j.e=[q]),O;for(;s;){if(O.push(k()),U=o,y(),s===","&&(h(),U=o,y()),j){var W=E(U);j.a.push([q||"",W[0]||""]),q=W[1]}if(s==="]")return h(),j&&(j.a[j.a.length-1][1]+=q||""),O;y()}f("End of input while parsing an array (missing ']')")}catch(V){throw V.hint=V.hint||_(O),V}}function T(O){var j="",U={},q,W,V;try{if(l&&(q=n.createComment(U,{c:{},o:[]})),O?W=1:(h(),W=o),y(),q&&(V=E(W,!0).join(`
`)),s==="}"&&!O)return q&&(q.e=[V]),h(),U;for(;s;){if(j=v(),y(),s!==":"&&f("Expected ':' instead of '"+s+"'"),h(),U[j]=k(),W=o,y(),s===","&&(h(),W=o,y()),q){var z=E(W);q.c[j]=[V||"",z[0]||""],V=z[1],q.o.push(j)}if(s==="}"&&!O)return h(),q&&(q.c[j][1]+=V||""),U;y()}if(O)return U;f("End of input while parsing an object (missing '}')")}catch(L){throw L.hint=L.hint||_(U),L}}function k(){switch(y(),s){case"{":return T();case"[":return S();case"'":case'"':return m(!0);default:return x()}}function R(O,j){var U=o;if(y(),s&&f("Syntax error, found trailing characters"),l){var q=j.join(`
`),W=E(U).join(`
`);if(W||q){var V=n.createComment(O,n.getComment(O));V.r=[q,W]}}return O}function I(){y();var O=l?E(1):null;switch(s){case"{":return R(T(),O);case"[":return R(S(),O);default:return R(k(),O)}}function P(){y();var O=l?E(1):null;switch(s){case"{":return R(T(),O);case"[":return R(S(),O)}try{return R(T(!0),O)}catch(j){c();try{return R(k(),O)}catch{throw j}}}if(typeof e!="string")throw new Error("source is not a string");var N=null,M=!0;return t&&typeof t=="object"&&(l=t.keepWsc,N=t.dsf,M=t.legacyRoot!==!1),u=r.loadDsf(N,"parse"),i=e,c(),M?P():I()}),g7}var y7,V0e;function KZt(){return V0e||(V0e=1,y7=function(e,t){var n=W$(),r=hte(),i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},o=n.EOL,s="  ",a=!1,l=!1,u=!1,c=!1,d=0,f=1,h="",p=null,m=!1,g=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(o=t.eol),a=t.keepWsc,d=t.condense||0,l=t.bracesSameLine,u=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?f=0:f=t.multiline=="no-tabs"?2:1,h=t.separator===!0?g.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?s=new Array(t.space+1).join(" "):typeof t.space=="string"&&(s=t.space),t.colors===!0&&(g={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var v,y=Object.keys(i);for(v=y.length-1;v>=0;v--){var x=y[v];g[x].push(i[x][0].length,i[x][1].length)}}var E,_="---\u2028--\uFEFF-",S=new RegExp('[\\\\\\"\0-'+_+"]","g"),T=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+_+"]","g"),k=new RegExp("'''|^[\\s]+$|[\0-"+(f===2?"	":"\b")+"\v\f-"+_+"]","g"),R=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),I={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},P=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,N="",M=0;function O(H,B){return M+=H[0].length+H[1].length-H[2]-H[3],H[0]+B+H[1]}function j(H){return H.replace(S,function(B){var Y=I[B];return typeof Y=="string"?O(g.esc,Y):O(g.uni,("0000"+B.charCodeAt(0).toString(16)).slice(-4))})}function U(H,B,Y,Q){return H?(T.lastIndex=0,R.lastIndex=0,c||Y||T.test(H)||n.tryParseNumber(H,!0)!==void 0||R.test(H)?(S.lastIndex=0,k.lastIndex=0,S.test(H)?!k.test(H)&&!Q&&f?q(H,B):O(g.qstr,j(H)):O(g.qstr,H)):O(g.str,H)):O(g.qstr,"")}function q(H,B){var Y,Q=H.replace(/\r/g,"").split(`
`);if(B+=s,Q.length===1)return O(g.mstr,Q[0]);var ne=o+B+g.mstr[0];for(Y=0;Y<Q.length;Y++)ne+=o,Q[Y]&&(ne+=B+Q[Y]);return ne+o+B+g.mstr[1]}function W(H){return H?u||P.test(H)?(S.lastIndex=0,O(g.qkey,S.test(H)?j(H):H)):O(g.key,H):'""'}function V(H,B,Y,Q){function ne($t){return $t&&$t[$t[0]==="\r"?1:0]===`
`}function ce($t){return $t&&!ne($t)}function le($t,dn,Vn){if(!$t)return"";$t=n.forceComment($t);var Ln,Tr=$t.length;for(Ln=0;Ln<Tr&&$t[Ln]<=" ";Ln++);return Vn&&Ln>0&&($t=$t.substr(Ln)),Ln<Tr?dn+O(g.rem,$t):$t}var ue=E(H);if(ue!==void 0)return O(g.dsf,ue);switch(typeof H){case"string":return U(H,N,B,Q);case"number":return isFinite(H)?O(g.num,String(H)):O(g.lit,"null");case"boolean":return O(g.lit,String(H));case"object":if(!H)return O(g.lit,"null");var ae;a&&(ae=n.getComment(H));var te=Object.prototype.toString.apply(H)==="[object Array]",se=N;N+=s;var we=o+se,X=o+N,he=Y||l?"":we,ge=[],re,ee=d?[]:null,fe=c,Re=f,Oe=h?"":g.com[0],Ae=0,Se,xe,ke,me,Me,ze,Xe,tt,gt;if(te){for(Se=0,xe=H.length;Se<xe;Se++){if(re=Se<xe-1,ae?(ze=ae.a[Se]||[],Xe=ce(ze[1]),ge.push(le(ze[0],`
`)+X),ee&&(ze[0]||ze[1]||Xe)&&(ee=null)):ge.push(X),M=0,me=H[Se],ge.push(V(me,ae?Xe:!1,!0)+(re?h:"")),ee){switch(typeof me){case"string":M=0,c=!0,f=0,ee.push(V(me,!1,!0)+(re?g.com[0]:"")),c=fe,f=Re;break;case"object":if(me){ee=null;break}default:ee.push(ge[ge.length-1]+(re?Oe:""));break}re&&(M+=g.com[0].length-g.com[2]),Ae+=M}ae&&ze[1]&&ge.push(le(ze[1],Xe?" ":`
`,Xe))}xe===0?ae&&ae.e&&ge.push(le(ae.e[0],`
`)+we):ge.push(we),ge.length===0?tt=O(g.arr,""):(tt=he+O(g.arr,ge.join("")),ee&&(gt=ee.join(" "),gt.length-Ae<=d&&(tt=O(g.arr,gt))))}else{var qt=ae?ae.o.slice():[],zt=[];for(ke in H)Object.prototype.hasOwnProperty.call(H,ke)&&qt.indexOf(ke)<0&&zt.push(ke);m&&zt.sort();var _n=qt.concat(zt);for(Se=0,xe=_n.length;Se<xe;Se++)if(re=Se<xe-1,ke=_n[Se],ae?(ze=ae.c[ke]||[],Xe=ce(ze[1]),ge.push(le(ze[0],`
`)+X),ee&&(ze[0]||ze[1]||Xe)&&(ee=null)):ge.push(X),M=0,me=H[ke],Me=V(me,ae&&Xe),ge.push(W(ke)+g.col[0]+(ne(Me)?"":" ")+Me+(re?h:"")),ae&&ze[1]&&ge.push(le(ze[1],Xe?" ":`
`,Xe)),ee){switch(typeof me){case"string":M=0,c=!0,f=0,Me=V(me,!1),c=fe,f=Re,ee.push(W(ke)+g.col[0]+" "+Me+(re?g.com[0]:""));break;case"object":if(me){ee=null;break}default:ee.push(ge[ge.length-1]+(re?Oe:""));break}M+=g.col[0].length-g.col[2],re&&(M+=g.com[0].length-g.com[2]),Ae+=M}xe===0?ae&&ae.e&&ge.push(le(ae.e[0],`
`)+we):ge.push(we),ge.length===0?tt=O(g.obj,""):(tt=he+O(g.obj,ge.join("")),ee&&(gt=ee.join(" "),gt.length-Ae<=d&&(tt=O(g.obj,gt))))}return N=se,tt}}E=r.loadDsf(p,"stringify");var z="",L=a?L=(n.getComment(e)||{}).r:null;return L&&L[0]&&(z=L[0]+`
`),z+=V(e,null,!0,!0),L&&(z+=L[1]||""),z}),y7}var v7,W0e;function XZt(){if(W0e)return v7;W0e=1;var e=W$();function t(c,d,f){var h;return c&&(h={b:c}),d&&((h=h||{}).a=d),f&&((h=h||{}).x=f),h}function n(c,d){if(!(c===null||typeof c!="object")){var f=e.getComment(c);f&&e.removeComment(c);var h,p,m,g;if(Object.prototype.toString.apply(c)==="[object Array]"){for(g={a:{}},h=0,p=c.length;h<p;h++)o(g.a,h,f.a[h],n(c[h]))&&(m=!0);!m&&f.e&&(g.e=t(f.e[0],f.e[1]),m=!0)}else{g={s:{}};var v,y=Object.keys(c);for(f&&f.o?(v=[],f.o.concat(y).forEach(function(E){Object.prototype.hasOwnProperty.call(c,E)&&v.indexOf(E)<0&&v.push(E)})):v=y,g.o=v,h=0,p=v.length;h<p;h++){var x=v[h];o(g.s,x,f.c[x],n(c[x]))&&(m=!0)}!m&&f.e&&(g.e=t(f.e[0],f.e[1]),m=!0)}return d&&f&&f.r&&(g.r=t(f.r[0],f.r[1])),m?g:void 0}}function r(){var c="";return[].forEach.call(arguments,function(d){d&&d.trim()!==""&&(c&&(c+="; "),c+=d.trim())}),c}function i(c,d){var f=[];if(l(c,d,f,[]),f.length>0){var h=u(d,null,1);h+=`
# Orphaned comments:
`,f.forEach(function(p){h+=("# "+p.path.join("/")+": "+r(p.b,p.a,p.e)).replace(`
`,"\\n ")+`
`}),u(d,h,1)}}function o(c,d,f,h){var p=t(f?f[0]:void 0,f?f[1]:void 0,h);return p&&(c[d]=p),p}function s(c,d){var f=t(d.b,d.a);return f.path=c,f}function a(c,d,f){if(c){var h,p;if(c.a)for(h=0,p=c.a.length;h<p;h++){var m=f.slice().concat([h]),g=c.a[h];g&&(d.push(s(m,g)),a(g.x,d,m))}else c.o&&c.o.forEach(function(v){var y=f.slice().concat([v]),x=c.s[v];x&&(d.push(s(y,x)),a(x.x,d,y))});c.e&&d.push(s(f,c.e))}}function l(c,d,f,h){if(c){if(d===null||typeof d!="object"){a(c,f,h);return}var p,m=e.createComment(d);if(h.length===0&&c.r&&(m.r=[c.r.b,c.r.a]),Object.prototype.toString.apply(d)==="[object Array]"){m.a=[];var g=c.a||{};for(var v in g)if(g.hasOwnProperty(v)){p=parseInt(v);var y=c.a[v];if(y){var x=h.slice().concat([p]);p<d.length?(m.a[p]=[y.b,y.a],l(y.x,d[p],f,x)):(f.push(s(x,y)),a(y.x,f,x))}}p===0&&c.e&&(m.e=[c.e.b,c.e.a])}else m.c={},m.o=[],(c.o||[]).forEach(function(E){var _=h.slice().concat([E]),S=c.s[E];Object.prototype.hasOwnProperty.call(d,E)?(m.o.push(E),S&&(m.c[E]=[S.b,S.a],l(S.x,d[E],f,_))):S&&(f.push(s(_,S)),a(S.x,f,_))}),c.e&&(m.e=[c.e.b,c.e.a])}}function u(c,d,f){var h=e.createComment(c,e.getComment(c));return h.r||(h.r=["",""]),(d||d==="")&&(h.r[f]=e.forceComment(d)),h.r[f]||""}return v7={extract:function(c){return n(c,!0)},merge:i,header:function(c,d){return u(c,d,0)},footer:function(c,d){return u(c,d,1)}},v7}var b7,G0e;function QZt(){if(G0e)return b7;G0e=1;var e=W$(),t=GZt(),n=YZt(),r=KZt(),i=XZt(),o=hte();return b7={parse:n,stringify:r,endOfLine:function(){return e.EOL},setEndOfLine:function(s){(s===`
`||s===`\r
`)&&(e.EOL=s)},version:t,rt:{parse:function(s,a){return(a=a||{}).keepWsc=!0,n(s,a)},stringify:function(s,a){return(a=a||{}).keepWsc=!0,r(s,a)}},comments:i,dsf:o.std},b7}QZt();const JZt=()=>{};var Y0e={};const f5e=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ZZt=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},pte={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(f5e(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ZZt(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new een;const f=o<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class een extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ten=function(e){const t=f5e(e);return pte.encodeByteArray(t,!0)},h5e=function(e){return ten(e).replace(/\./g,"")},p5e=function(e){try{return pte.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function nen(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ren=()=>nen().__FIREBASE_DEFAULTS__,ien=()=>{if(typeof process>"u"||typeof Y0e>"u")return;const e=Y0e.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},oen=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&p5e(e[1]);return t&&JSON.parse(t)},sen=()=>{try{return JZt()||ren()||ien()||oen()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},aen=e=>{var t;return(t=sen())===null||t===void 0?void 0:t[`_${e}`]};class K0e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function m5e(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}function jh(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function len(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jh())}function uen(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cen(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function den(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g5e(){try{return typeof indexedDB=="object"}catch{return!1}}function fen(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}const hen="FirebaseError";class Ym extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=hen,Object.setPrototypeOf(this,Ym.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,r_.prototype.create)}}class r_{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?pen(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ym(i,a,r)}}function pen(e,t){return e.replace(men,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const men=/\{\$([^}]+)}/g;function y5e(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function gen(e,t){const n=new yen(e,t);return n.subscribe.bind(n)}class yen{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ven(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=w7),i.error===void 0&&(i.error=w7),i.complete===void 0&&(i.complete=w7);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ven(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function w7(){}function G$(e){return e&&e._delegate?e._delegate:e}class Em{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}var ci;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ci||(ci={}));const ben={debug:ci.DEBUG,verbose:ci.VERBOSE,info:ci.INFO,warn:ci.WARN,error:ci.ERROR,silent:ci.SILENT},wen=ci.INFO,xen={[ci.DEBUG]:"log",[ci.VERBOSE]:"log",[ci.INFO]:"info",[ci.WARN]:"warn",[ci.ERROR]:"error"},Cen=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=xen[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Y${constructor(t){this.name=t,this._logLevel=wen,this._logHandler=Cen,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ci))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ben[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ci.DEBUG,...t),this._logHandler(this,ci.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ci.VERBOSE,...t),this._logHandler(this,ci.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ci.INFO,...t),this._logHandler(this,ci.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ci.WARN,...t),this._logHandler(this,ci.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ci.ERROR,...t),this._logHandler(this,ci.ERROR,...t)}}const _en=(e,t)=>t.some(n=>e instanceof n);let X0e,Q0e;function Een(){return X0e||(X0e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sen(){return Q0e||(Q0e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v5e=new WeakMap,aV=new WeakMap,b5e=new WeakMap,x7=new WeakMap,mte=new WeakMap;function Ten(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(m0(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&v5e.set(n,e)}).catch(()=>{}),mte.set(t,e),t}function ken(e){if(aV.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});aV.set(e,t)}let lV={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return aV.get(e);if(t==="objectStoreNames")return e.objectStoreNames||b5e.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m0(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Aen(e){lV=e(lV)}function Ren(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(C7(this),t,...n);return b5e.set(r,t.sort?t.sort():[t]),m0(r)}:Sen().includes(e)?function(...t){return e.apply(C7(this),t),m0(v5e.get(this))}:function(...t){return m0(e.apply(C7(this),t))}}function Ien(e){return typeof e=="function"?Ren(e):(e instanceof IDBTransaction&&ken(e),_en(e,Een())?new Proxy(e,lV):e)}function m0(e){if(e instanceof IDBRequest)return Ten(e);if(x7.has(e))return x7.get(e);const t=Ien(e);return t!==e&&(x7.set(e,t),mte.set(t,e)),t}const C7=e=>mte.get(e);function Den(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=m0(s);return r&&s.addEventListener("upgradeneeded",l=>{r(m0(s.result),l.oldVersion,l.newVersion,m0(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Pen=["get","getKey","getAll","getAllKeys","count"],Oen=["put","add","delete","clear"],_7=new Map;function J0e(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(_7.get(t))return _7.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Oen.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Pen.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return _7.set(t,o),o}Aen(e=>({...e,get:(t,n,r)=>J0e(t,n)||e.get(t,n,r),has:(t,n)=>!!J0e(t,n)||e.has(t,n)}));class Nen{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Men(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Men(e){const t=e.getComponent();return t?.type==="VERSION"}const uV="@firebase/app",Z0e="0.13.2";const Sm=new Y$("@firebase/app"),$en="@firebase/app-compat",Len="@firebase/analytics-compat",Fen="@firebase/analytics",jen="@firebase/app-check-compat",Ben="@firebase/app-check",zen="@firebase/auth",Uen="@firebase/auth-compat",Hen="@firebase/database",qen="@firebase/data-connect",Ven="@firebase/database-compat",Wen="@firebase/functions",Gen="@firebase/functions-compat",Yen="@firebase/installations",Ken="@firebase/installations-compat",Xen="@firebase/messaging",Qen="@firebase/messaging-compat",Jen="@firebase/performance",Zen="@firebase/performance-compat",etn="@firebase/remote-config",ttn="@firebase/remote-config-compat",ntn="@firebase/storage",rtn="@firebase/storage-compat",itn="@firebase/firestore",otn="@firebase/ai",stn="@firebase/firestore-compat",atn="firebase",ltn="11.10.0",utn={[uV]:"fire-core",[$en]:"fire-core-compat",[Fen]:"fire-analytics",[Len]:"fire-analytics-compat",[Ben]:"fire-app-check",[jen]:"fire-app-check-compat",[zen]:"fire-auth",[Uen]:"fire-auth-compat",[Hen]:"fire-rtdb",[qen]:"fire-data-connect",[Ven]:"fire-rtdb-compat",[Wen]:"fire-fn",[Gen]:"fire-fn-compat",[Yen]:"fire-iid",[Ken]:"fire-iid-compat",[Xen]:"fire-fcm",[Qen]:"fire-fcm-compat",[Jen]:"fire-perf",[Zen]:"fire-perf-compat",[etn]:"fire-rc",[ttn]:"fire-rc-compat",[ntn]:"fire-gcs",[rtn]:"fire-gcs-compat",[itn]:"fire-fst",[stn]:"fire-fst-compat",[otn]:"fire-vertex","fire-js":"fire-js",[atn]:"fire-js-all"};const ctn=new Map,dtn=new Map,eye=new Map;function tye(e,t){try{e.container.addComponent(t)}catch(n){Sm.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Tm(e){const t=e.name;if(eye.has(t))return Sm.debug(`There were multiple attempts to register component ${t}.`),!1;eye.set(t,e);for(const n of ctn.values())tye(n,e);for(const n of dtn.values())tye(n,e);return!0}function Hg(e){return e==null?!1:e.settings!==void 0}const ftn={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gte=new r_("app","Firebase",ftn);const cA=ltn;function Vd(e,t,n){var r;let i=(r=utn[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Sm.warn(a.join(" "));return}Tm(new Em(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const htn="firebase-heartbeat-database",ptn=1,vT="firebase-heartbeat-store";let E7=null;function w5e(){return E7||(E7=Den(htn,ptn,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(vT)}catch(n){console.warn(n)}}}}).catch(e=>{throw gte.create("idb-open",{originalErrorMessage:e.message})})),E7}async function mtn(e){try{const n=(await w5e()).transaction(vT),r=await n.objectStore(vT).get(x5e(e));return await n.done,r}catch(t){if(t instanceof Ym)Sm.warn(t.message);else{const n=gte.create("idb-get",{originalErrorMessage:t?.message});Sm.warn(n.message)}}}async function nye(e,t){try{const r=(await w5e()).transaction(vT,"readwrite");await r.objectStore(vT).put(t,x5e(e)),await r.done}catch(n){if(n instanceof Ym)Sm.warn(n.message);else{const r=gte.create("idb-set",{originalErrorMessage:n?.message});Sm.warn(r.message)}}}function x5e(e){return`${e.name}!${e.options.appId}`}const gtn=1024,ytn=30;class vtn{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wtn(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=rye();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>ytn){const s=xtn(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Sm.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rye(),{heartbeatsToSend:r,unsentEntries:i}=btn(this._heartbeatsCache.heartbeats),o=h5e(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Sm.warn(n),""}}}function rye(){return new Date().toISOString().substring(0,10)}function btn(e,t=gtn){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),iye(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),iye(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class wtn{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g5e()?fen().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mtn(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nye(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nye(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function iye(e){return h5e(JSON.stringify({version:2,heartbeats:e})).length}function xtn(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Ctn(e){Tm(new Em("platform-logger",t=>new Nen(t),"PRIVATE")),Tm(new Em("heartbeat",t=>new vtn(t),"PRIVATE")),Vd(uV,Z0e,e),Vd(uV,Z0e,"esm2017"),Vd("fire-js","")}Ctn("");var _tn="firebase",Etn="11.10.0";Vd(_tn,Etn,"app");const C5e="firebasestorage.googleapis.com",Stn="storageBucket",Ttn=120*1e3,ktn=600*1e3;class sp extends Ym{constructor(t,n,r=0){super(S7(t),`Firebase Storage: ${n} (${S7(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,sp.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return S7(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Bh;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Bh||(Bh={}));function S7(e){return"storage/"+e}function Atn(){const e="An unknown error occurred, please check the error payload for server response.";return new sp(Bh.UNKNOWN,e)}function Rtn(){return new sp(Bh.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Itn(){return new sp(Bh.CANCELED,"User canceled the upload/download.")}function Dtn(e){return new sp(Bh.INVALID_URL,"Invalid URL '"+e+"'.")}function Ptn(e){return new sp(Bh.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function oye(e){return new sp(Bh.INVALID_ARGUMENT,e)}function _5e(){return new sp(Bh.APP_DELETED,"The Firebase app was deleted.")}function Otn(e){return new sp(Bh.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class $d{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=$d.makeFromUrl(t,n)}catch{return new $d(t,"")}if(r.path==="")return r;throw Ptn(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},m=n===C5e?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",v=new RegExp(`^https?://${m}/${i}/${g}`,"i"),x=[{regex:a,indices:l,postModify:o},{regex:h,indices:p,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<x.length;E++){const _=x[E],S=_.regex.exec(t);if(S){const T=S[_.indices.bucket];let k=S[_.indices.path];k||(k=""),r=new $d(T,k),_.postModify(r);break}}if(r==null)throw Dtn(t);return r}}class Ntn{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Mtn(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...g){u||(u=!0,t.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,e(h,l())},g)}function f(){o&&clearTimeout(o)}function h(g,...v){if(u){f();return}if(g){f(),c.call(null,g,...v);return}if(l()||s){f(),c.call(null,g,...v);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,d(x)}let p=!1;function m(g){p||(p=!0,f(),!u&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}function $tn(e){e(!1)}function Ltn(e){return e!==void 0}function sye(e,t,n,r){if(r<t)throw oye(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw oye(`Invalid value for '${e}'. Expected ${n} or less.`)}function Ftn(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var s4;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(s4||(s4={}));function jtn(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}class Btn{constructor(t,n,r,i,o,s,a,l,u,c,d,f=!0,h=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new kD(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===s4.NO_ERROR,l=o.getStatus();if(!a||jtn(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===s4.ABORT;r(!1,new kD(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new kD(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Ltn(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=Atn();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?_5e():Itn();s(l)}else{const l=Rtn();s(l)}};this.canceled_?n(!1,new kD(!1,null,!0)):this.backoffId_=Mtn(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&$tn(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kD{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function ztn(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Utn(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Htn(e,t){t&&(e["X-Firebase-GMPID"]=t)}function qtn(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Vtn(e,t,n,r,i,o,s=!0,a=!1){const l=Ftn(e.urlParams),u=e.url+l,c=Object.assign({},e.headers);return Htn(c,t),ztn(c,n),Utn(c,o),qtn(c,r),new Btn(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s,a)}function Wtn(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Gtn(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}class a4{constructor(t,n){this._service=t,n instanceof $d?this._location=n:this._location=$d.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new a4(t,n)}get root(){const t=new $d(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Gtn(this._location.path)}get storage(){return this._service}get parent(){const t=Wtn(this._location.path);if(t===null)return null;const n=new $d(this._location.bucket,t);return new a4(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Otn(t)}}function aye(e,t){const n=t?.[Stn];return n==null?null:$d.makeFromBucketSpec(n,e)}class Ytn{constructor(t,n,r,i,o,s=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=C5e,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ttn,this._maxUploadRetryTime=ktn,this._requests=new Set,i!=null?this._bucket=$d.makeFromBucketSpec(i,this._host):this._bucket=aye(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=$d.makeFromBucketSpec(this._url,t):this._bucket=aye(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){sye("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){sye("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Hg(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new a4(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new Ntn(_5e());{const s=Vtn(t,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const lye="@firebase/storage",uye="0.13.14";const Ktn="storage";function Xtn(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Ytn(n,r,i,t,cA)}function Qtn(){Tm(new Em(Ktn,Xtn,"PUBLIC").setMultipleInstances(!0)),Vd(lye,uye,""),Vd(lye,uye,"esm2017")}Qtn();var cye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yte;(function(){var e;function t(T,k){function R(){}R.prototype=k.prototype,T.D=k.prototype,T.prototype=new R,T.prototype.constructor=T,T.C=function(I,P,N){for(var M=Array(arguments.length-2),O=2;O<arguments.length;O++)M[O-2]=arguments[O];return k.prototype[P].apply(I,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,k,R){R||(R=0);var I=Array(16);if(typeof k=="string")for(var P=0;16>P;++P)I[P]=k.charCodeAt(R++)|k.charCodeAt(R++)<<8|k.charCodeAt(R++)<<16|k.charCodeAt(R++)<<24;else for(P=0;16>P;++P)I[P]=k[R++]|k[R++]<<8|k[R++]<<16|k[R++]<<24;k=T.g[0],R=T.g[1],P=T.g[2];var N=T.g[3],M=k+(N^R&(P^N))+I[0]+3614090360&4294967295;k=R+(M<<7&4294967295|M>>>25),M=N+(P^k&(R^P))+I[1]+3905402710&4294967295,N=k+(M<<12&4294967295|M>>>20),M=P+(R^N&(k^R))+I[2]+606105819&4294967295,P=N+(M<<17&4294967295|M>>>15),M=R+(k^P&(N^k))+I[3]+3250441966&4294967295,R=P+(M<<22&4294967295|M>>>10),M=k+(N^R&(P^N))+I[4]+4118548399&4294967295,k=R+(M<<7&4294967295|M>>>25),M=N+(P^k&(R^P))+I[5]+1200080426&4294967295,N=k+(M<<12&4294967295|M>>>20),M=P+(R^N&(k^R))+I[6]+2821735955&4294967295,P=N+(M<<17&4294967295|M>>>15),M=R+(k^P&(N^k))+I[7]+4249261313&4294967295,R=P+(M<<22&4294967295|M>>>10),M=k+(N^R&(P^N))+I[8]+1770035416&4294967295,k=R+(M<<7&4294967295|M>>>25),M=N+(P^k&(R^P))+I[9]+2336552879&4294967295,N=k+(M<<12&4294967295|M>>>20),M=P+(R^N&(k^R))+I[10]+4294925233&4294967295,P=N+(M<<17&4294967295|M>>>15),M=R+(k^P&(N^k))+I[11]+2304563134&4294967295,R=P+(M<<22&4294967295|M>>>10),M=k+(N^R&(P^N))+I[12]+1804603682&4294967295,k=R+(M<<7&4294967295|M>>>25),M=N+(P^k&(R^P))+I[13]+4254626195&4294967295,N=k+(M<<12&4294967295|M>>>20),M=P+(R^N&(k^R))+I[14]+2792965006&4294967295,P=N+(M<<17&4294967295|M>>>15),M=R+(k^P&(N^k))+I[15]+1236535329&4294967295,R=P+(M<<22&4294967295|M>>>10),M=k+(P^N&(R^P))+I[1]+4129170786&4294967295,k=R+(M<<5&4294967295|M>>>27),M=N+(R^P&(k^R))+I[6]+3225465664&4294967295,N=k+(M<<9&4294967295|M>>>23),M=P+(k^R&(N^k))+I[11]+643717713&4294967295,P=N+(M<<14&4294967295|M>>>18),M=R+(N^k&(P^N))+I[0]+3921069994&4294967295,R=P+(M<<20&4294967295|M>>>12),M=k+(P^N&(R^P))+I[5]+3593408605&4294967295,k=R+(M<<5&4294967295|M>>>27),M=N+(R^P&(k^R))+I[10]+38016083&4294967295,N=k+(M<<9&4294967295|M>>>23),M=P+(k^R&(N^k))+I[15]+3634488961&4294967295,P=N+(M<<14&4294967295|M>>>18),M=R+(N^k&(P^N))+I[4]+3889429448&4294967295,R=P+(M<<20&4294967295|M>>>12),M=k+(P^N&(R^P))+I[9]+568446438&4294967295,k=R+(M<<5&4294967295|M>>>27),M=N+(R^P&(k^R))+I[14]+3275163606&4294967295,N=k+(M<<9&4294967295|M>>>23),M=P+(k^R&(N^k))+I[3]+4107603335&4294967295,P=N+(M<<14&4294967295|M>>>18),M=R+(N^k&(P^N))+I[8]+1163531501&4294967295,R=P+(M<<20&4294967295|M>>>12),M=k+(P^N&(R^P))+I[13]+2850285829&4294967295,k=R+(M<<5&4294967295|M>>>27),M=N+(R^P&(k^R))+I[2]+4243563512&4294967295,N=k+(M<<9&4294967295|M>>>23),M=P+(k^R&(N^k))+I[7]+1735328473&4294967295,P=N+(M<<14&4294967295|M>>>18),M=R+(N^k&(P^N))+I[12]+2368359562&4294967295,R=P+(M<<20&4294967295|M>>>12),M=k+(R^P^N)+I[5]+4294588738&4294967295,k=R+(M<<4&4294967295|M>>>28),M=N+(k^R^P)+I[8]+2272392833&4294967295,N=k+(M<<11&4294967295|M>>>21),M=P+(N^k^R)+I[11]+1839030562&4294967295,P=N+(M<<16&4294967295|M>>>16),M=R+(P^N^k)+I[14]+4259657740&4294967295,R=P+(M<<23&4294967295|M>>>9),M=k+(R^P^N)+I[1]+2763975236&4294967295,k=R+(M<<4&4294967295|M>>>28),M=N+(k^R^P)+I[4]+1272893353&4294967295,N=k+(M<<11&4294967295|M>>>21),M=P+(N^k^R)+I[7]+4139469664&4294967295,P=N+(M<<16&4294967295|M>>>16),M=R+(P^N^k)+I[10]+3200236656&4294967295,R=P+(M<<23&4294967295|M>>>9),M=k+(R^P^N)+I[13]+681279174&4294967295,k=R+(M<<4&4294967295|M>>>28),M=N+(k^R^P)+I[0]+3936430074&4294967295,N=k+(M<<11&4294967295|M>>>21),M=P+(N^k^R)+I[3]+3572445317&4294967295,P=N+(M<<16&4294967295|M>>>16),M=R+(P^N^k)+I[6]+76029189&4294967295,R=P+(M<<23&4294967295|M>>>9),M=k+(R^P^N)+I[9]+3654602809&4294967295,k=R+(M<<4&4294967295|M>>>28),M=N+(k^R^P)+I[12]+3873151461&4294967295,N=k+(M<<11&4294967295|M>>>21),M=P+(N^k^R)+I[15]+530742520&4294967295,P=N+(M<<16&4294967295|M>>>16),M=R+(P^N^k)+I[2]+3299628645&4294967295,R=P+(M<<23&4294967295|M>>>9),M=k+(P^(R|~N))+I[0]+4096336452&4294967295,k=R+(M<<6&4294967295|M>>>26),M=N+(R^(k|~P))+I[7]+1126891415&4294967295,N=k+(M<<10&4294967295|M>>>22),M=P+(k^(N|~R))+I[14]+2878612391&4294967295,P=N+(M<<15&4294967295|M>>>17),M=R+(N^(P|~k))+I[5]+4237533241&4294967295,R=P+(M<<21&4294967295|M>>>11),M=k+(P^(R|~N))+I[12]+1700485571&4294967295,k=R+(M<<6&4294967295|M>>>26),M=N+(R^(k|~P))+I[3]+2399980690&4294967295,N=k+(M<<10&4294967295|M>>>22),M=P+(k^(N|~R))+I[10]+4293915773&4294967295,P=N+(M<<15&4294967295|M>>>17),M=R+(N^(P|~k))+I[1]+2240044497&4294967295,R=P+(M<<21&4294967295|M>>>11),M=k+(P^(R|~N))+I[8]+1873313359&4294967295,k=R+(M<<6&4294967295|M>>>26),M=N+(R^(k|~P))+I[15]+4264355552&4294967295,N=k+(M<<10&4294967295|M>>>22),M=P+(k^(N|~R))+I[6]+2734768916&4294967295,P=N+(M<<15&4294967295|M>>>17),M=R+(N^(P|~k))+I[13]+1309151649&4294967295,R=P+(M<<21&4294967295|M>>>11),M=k+(P^(R|~N))+I[4]+4149444226&4294967295,k=R+(M<<6&4294967295|M>>>26),M=N+(R^(k|~P))+I[11]+3174756917&4294967295,N=k+(M<<10&4294967295|M>>>22),M=P+(k^(N|~R))+I[2]+718787259&4294967295,P=N+(M<<15&4294967295|M>>>17),M=R+(N^(P|~k))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+k&4294967295,T.g[1]=T.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,T.g[2]=T.g[2]+P&4294967295,T.g[3]=T.g[3]+N&4294967295}r.prototype.u=function(T,k){k===void 0&&(k=T.length);for(var R=k-this.blockSize,I=this.B,P=this.h,N=0;N<k;){if(P==0)for(;N<=R;)i(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<k;)if(I[P++]=T.charCodeAt(N++),P==this.blockSize){i(this,I),P=0;break}}else for(;N<k;)if(I[P++]=T[N++],P==this.blockSize){i(this,I),P=0;break}}this.h=P,this.o+=k},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var k=1;k<T.length-8;++k)T[k]=0;var R=8*this.o;for(k=T.length-8;k<T.length;++k)T[k]=R&255,R/=256;for(this.u(T),T=Array(16),k=R=0;4>k;++k)for(var I=0;32>I;I+=8)T[R++]=this.g[k]>>>I&255;return T};function o(T,k){var R=a;return Object.prototype.hasOwnProperty.call(R,T)?R[T]:R[T]=k(T)}function s(T,k){this.h=k;for(var R=[],I=!0,P=T.length-1;0<=P;P--){var N=T[P]|0;I&&N==k||(R[P]=N,I=!1)}this.g=R}var a={};function l(T){return-128<=T&&128>T?o(T,function(k){return new s([k|0],0>k?-1:0)}):new s([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return g(u(-T));for(var k=[],R=1,I=0;T>=R;I++)k[I]=T/R|0,R*=4294967296;return new s(k,0)}function c(T,k){if(T.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T.charAt(0)=="-")return g(c(T.substring(1),k));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(k,8)),I=d,P=0;P<T.length;P+=8){var N=Math.min(8,T.length-P),M=parseInt(T.substring(P,P+N),k);8>N?(N=u(Math.pow(k,N)),I=I.j(N).add(u(M))):(I=I.j(R),I=I.add(u(M)))}return I}var d=l(0),f=l(1),h=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-g(this).m();for(var T=0,k=1,R=0;R<this.g.length;R++){var I=this.i(R);T+=(0<=I?I:4294967296+I)*k,k*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(p(this))return"0";if(m(this))return"-"+g(this).toString(T);for(var k=u(Math.pow(T,6)),R=this,I="";;){var P=E(R,k).g;R=v(R,P.j(k));var N=((0<R.g.length?R.g[0]:R.h)>>>0).toString(T);if(R=P,p(R))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function p(T){if(T.h!=0)return!1;for(var k=0;k<T.g.length;k++)if(T.g[k]!=0)return!1;return!0}function m(T){return T.h==-1}e.l=function(T){return T=v(this,T),m(T)?-1:p(T)?0:1};function g(T){for(var k=T.g.length,R=[],I=0;I<k;I++)R[I]=~T.g[I];return new s(R,~T.h).add(f)}e.abs=function(){return m(this)?g(this):this},e.add=function(T){for(var k=Math.max(this.g.length,T.g.length),R=[],I=0,P=0;P<=k;P++){var N=I+(this.i(P)&65535)+(T.i(P)&65535),M=(N>>>16)+(this.i(P)>>>16)+(T.i(P)>>>16);I=M>>>16,N&=65535,M&=65535,R[P]=M<<16|N}return new s(R,R[R.length-1]&-2147483648?-1:0)};function v(T,k){return T.add(g(k))}e.j=function(T){if(p(this)||p(T))return d;if(m(this))return m(T)?g(this).j(g(T)):g(g(this).j(T));if(m(T))return g(this.j(g(T)));if(0>this.l(h)&&0>T.l(h))return u(this.m()*T.m());for(var k=this.g.length+T.g.length,R=[],I=0;I<2*k;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var P=0;P<T.g.length;P++){var N=this.i(I)>>>16,M=this.i(I)&65535,O=T.i(P)>>>16,j=T.i(P)&65535;R[2*I+2*P]+=M*j,y(R,2*I+2*P),R[2*I+2*P+1]+=N*j,y(R,2*I+2*P+1),R[2*I+2*P+1]+=M*O,y(R,2*I+2*P+1),R[2*I+2*P+2]+=N*O,y(R,2*I+2*P+2)}for(I=0;I<k;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=k;I<2*k;I++)R[I]=0;return new s(R,0)};function y(T,k){for(;(T[k]&65535)!=T[k];)T[k+1]+=T[k]>>>16,T[k]&=65535,k++}function x(T,k){this.g=T,this.h=k}function E(T,k){if(p(k))throw Error("division by zero");if(p(T))return new x(d,d);if(m(T))return k=E(g(T),k),new x(g(k.g),g(k.h));if(m(k))return k=E(T,g(k)),new x(g(k.g),k.h);if(30<T.g.length){if(m(T)||m(k))throw Error("slowDivide_ only works with positive integers.");for(var R=f,I=k;0>=I.l(T);)R=_(R),I=_(I);var P=S(R,1),N=S(I,1);for(I=S(I,2),R=S(R,2);!p(I);){var M=N.add(I);0>=M.l(T)&&(P=P.add(R),N=M),I=S(I,1),R=S(R,1)}return k=v(T,P.j(k)),new x(P,k)}for(P=d;0<=T.l(k);){for(R=Math.max(1,Math.floor(T.m()/k.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=u(R),M=N.j(k);m(M)||0<M.l(T);)R-=I,N=u(R),M=N.j(k);p(N)&&(N=f),P=P.add(N),T=v(T,M)}return new x(P,T)}e.A=function(T){return E(this,T).h},e.and=function(T){for(var k=Math.max(this.g.length,T.g.length),R=[],I=0;I<k;I++)R[I]=this.i(I)&T.i(I);return new s(R,this.h&T.h)},e.or=function(T){for(var k=Math.max(this.g.length,T.g.length),R=[],I=0;I<k;I++)R[I]=this.i(I)|T.i(I);return new s(R,this.h|T.h)},e.xor=function(T){for(var k=Math.max(this.g.length,T.g.length),R=[],I=0;I<k;I++)R[I]=this.i(I)^T.i(I);return new s(R,this.h^T.h)};function _(T){for(var k=T.g.length+1,R=[],I=0;I<k;I++)R[I]=T.i(I)<<1|T.i(I-1)>>>31;return new s(R,T.h)}function S(T,k){var R=k>>5;k%=32;for(var I=T.g.length-R,P=[],N=0;N<I;N++)P[N]=0<k?T.i(N+R)>>>k|T.i(N+R+1)<<32-k:T.i(N+R);return new s(P,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,yte=s}).apply(typeof cye<"u"?cye:typeof self<"u"?self:typeof window<"u"?window:{});var AD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function($,J,ie){return $==Array.prototype||$==Object.prototype||($[J]=ie.value),$};function n($){$=[typeof globalThis=="object"&&globalThis,$,typeof window=="object"&&window,typeof self=="object"&&self,typeof AD=="object"&&AD];for(var J=0;J<$.length;++J){var ie=$[J];if(ie&&ie.Math==Math)return ie}throw Error("Cannot find global object")}var r=n(this);function i($,J){if(J)e:{var ie=r;$=$.split(".");for(var be=0;be<$.length-1;be++){var Ve=$[be];if(!(Ve in ie))break e;ie=ie[Ve]}$=$[$.length-1],be=ie[$],J=J(be),J!=be&&J!=null&&t(ie,$,{configurable:!0,writable:!0,value:J})}}function o($,J){$ instanceof String&&($+="");var ie=0,be=!1,Ve={next:function(){if(!be&&ie<$.length){var Ze=ie++;return{value:J(Ze,$[Ze]),done:!1}}return be=!0,{done:!0,value:void 0}}};return Ve[Symbol.iterator]=function(){return Ve},Ve}i("Array.prototype.values",function($){return $||function(){return o(this,function(J,ie){return ie})}});var s=s||{},a=this||self;function l($){var J=typeof $;return J=J!="object"?J:$?Array.isArray($)?"array":J:"null",J=="array"||J=="object"&&typeof $.length=="number"}function u($){var J=typeof $;return J=="object"&&$!=null||J=="function"}function c($,J,ie){return $.call.apply($.bind,arguments)}function d($,J,ie){if(!$)throw Error();if(2<arguments.length){var be=Array.prototype.slice.call(arguments,2);return function(){var Ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ve,be),$.apply(J,Ve)}}return function(){return $.apply(J,arguments)}}function f($,J,ie){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function h($,J){var ie=Array.prototype.slice.call(arguments,1);return function(){var be=ie.slice();return be.push.apply(be,arguments),$.apply(this,be)}}function p($,J){function ie(){}ie.prototype=J.prototype,$.aa=J.prototype,$.prototype=new ie,$.prototype.constructor=$,$.Qb=function(be,Ve,Ze){for(var Pt=Array(arguments.length-2),ai=2;ai<arguments.length;ai++)Pt[ai-2]=arguments[ai];return J.prototype[Ve].apply(be,Pt)}}function m($){const J=$.length;if(0<J){const ie=Array(J);for(let be=0;be<J;be++)ie[be]=$[be];return ie}return[]}function g($,J){for(let ie=1;ie<arguments.length;ie++){const be=arguments[ie];if(l(be)){const Ve=$.length||0,Ze=be.length||0;$.length=Ve+Ze;for(let Pt=0;Pt<Ze;Pt++)$[Ve+Pt]=be[Pt]}else $.push(be)}}class v{constructor(J,ie){this.i=J,this.j=ie,this.h=0,this.g=null}get(){let J;return 0<this.h?(this.h--,J=this.g,this.g=J.next,J.next=null):J=this.i(),J}}function y($){return/^[\s\xa0]*$/.test($)}function x(){var $=a.navigator;return $&&($=$.userAgent)?$:""}function E($){return E[" "]($),$}E[" "]=function(){};var _=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function S($,J,ie){for(const be in $)J.call(ie,$[be],be,$)}function T($,J){for(const ie in $)J.call(void 0,$[ie],ie,$)}function k($){const J={};for(const ie in $)J[ie]=$[ie];return J}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I($,J){let ie,be;for(let Ve=1;Ve<arguments.length;Ve++){be=arguments[Ve];for(ie in be)$[ie]=be[ie];for(let Ze=0;Ze<R.length;Ze++)ie=R[Ze],Object.prototype.hasOwnProperty.call(be,ie)&&($[ie]=be[ie])}}function P($){var J=1;$=$.split(":");const ie=[];for(;0<J&&$.length;)ie.push($.shift()),J--;return $.length&&ie.push($.join(":")),ie}function N($){a.setTimeout(()=>{throw $},0)}function M(){var $=V;let J=null;return $.g&&(J=$.g,$.g=$.g.next,$.g||($.h=null),J.next=null),J}class O{constructor(){this.h=this.g=null}add(J,ie){const be=j.get();be.set(J,ie),this.h?this.h.next=be:this.g=be,this.h=be}}var j=new v(()=>new U,$=>$.reset());class U{constructor(){this.next=this.g=this.h=null}set(J,ie){this.h=J,this.g=ie,this.next=null}reset(){this.next=this.g=this.h=null}}let q,W=!1,V=new O,z=()=>{const $=a.Promise.resolve(void 0);q=()=>{$.then(L)}};var L=()=>{for(var $;$=M();){try{$.h.call($.g)}catch(ie){N(ie)}var J=j;J.j($),100>J.h&&(J.h++,$.next=J.g,J.g=$)}W=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B($,J){this.type=$,this.g=this.target=J,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var Y=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var $=!1,J=Object.defineProperty({},"passive",{get:function(){$=!0}});try{const ie=()=>{};a.addEventListener("test",ie,J),a.removeEventListener("test",ie,J)}catch{}return $})();function Q($,J){if(B.call(this,$?$.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,$){var ie=this.type=$.type,be=$.changedTouches&&$.changedTouches.length?$.changedTouches[0]:null;if(this.target=$.target||$.srcElement,this.g=J,J=$.relatedTarget){if(_){e:{try{E(J.nodeName);var Ve=!0;break e}catch{}Ve=!1}Ve||(J=null)}}else ie=="mouseover"?J=$.fromElement:ie=="mouseout"&&(J=$.toElement);this.relatedTarget=J,be?(this.clientX=be.clientX!==void 0?be.clientX:be.pageX,this.clientY=be.clientY!==void 0?be.clientY:be.pageY,this.screenX=be.screenX||0,this.screenY=be.screenY||0):(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0),this.button=$.button,this.key=$.key||"",this.ctrlKey=$.ctrlKey,this.altKey=$.altKey,this.shiftKey=$.shiftKey,this.metaKey=$.metaKey,this.pointerId=$.pointerId||0,this.pointerType=typeof $.pointerType=="string"?$.pointerType:ne[$.pointerType]||"",this.state=$.state,this.i=$,$.defaultPrevented&&Q.aa.h.call(this)}}p(Q,B);var ne={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var $=this.i;$.preventDefault?$.preventDefault():$.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),le=0;function ue($,J,ie,be,Ve){this.listener=$,this.proxy=null,this.src=J,this.type=ie,this.capture=!!be,this.ha=Ve,this.key=++le,this.da=this.fa=!1}function ae($){$.da=!0,$.listener=null,$.proxy=null,$.src=null,$.ha=null}function te($){this.src=$,this.g={},this.h=0}te.prototype.add=function($,J,ie,be,Ve){var Ze=$.toString();$=this.g[Ze],$||($=this.g[Ze]=[],this.h++);var Pt=we($,J,be,Ve);return-1<Pt?(J=$[Pt],ie||(J.fa=!1)):(J=new ue(J,this.src,Ze,!!be,Ve),J.fa=ie,$.push(J)),J};function se($,J){var ie=J.type;if(ie in $.g){var be=$.g[ie],Ve=Array.prototype.indexOf.call(be,J,void 0),Ze;(Ze=0<=Ve)&&Array.prototype.splice.call(be,Ve,1),Ze&&(ae(J),$.g[ie].length==0&&(delete $.g[ie],$.h--))}}function we($,J,ie,be){for(var Ve=0;Ve<$.length;++Ve){var Ze=$[Ve];if(!Ze.da&&Ze.listener==J&&Ze.capture==!!ie&&Ze.ha==be)return Ve}return-1}var X="closure_lm_"+(1e6*Math.random()|0),he={};function ge($,J,ie,be,Ve){if(Array.isArray(J)){for(var Ze=0;Ze<J.length;Ze++)ge($,J[Ze],ie,be,Ve);return null}return ie=ke(ie),$&&$[ce]?$.K(J,ie,u(be)?!!be.capture:!1,Ve):re($,J,ie,!1,be,Ve)}function re($,J,ie,be,Ve,Ze){if(!J)throw Error("Invalid event type");var Pt=u(Ve)?!!Ve.capture:!!Ve,ai=Se($);if(ai||($[X]=ai=new te($)),ie=ai.add(J,ie,be,Pt,Ze),ie.proxy)return ie;if(be=ee(),ie.proxy=be,be.src=$,be.listener=ie,$.addEventListener)Y||(Ve=Pt),Ve===void 0&&(Ve=!1),$.addEventListener(J.toString(),be,Ve);else if($.attachEvent)$.attachEvent(Oe(J.toString()),be);else if($.addListener&&$.removeListener)$.addListener(be);else throw Error("addEventListener and attachEvent are unavailable.");return ie}function ee(){function $(ie){return J.call($.src,$.listener,ie)}const J=Ae;return $}function fe($,J,ie,be,Ve){if(Array.isArray(J))for(var Ze=0;Ze<J.length;Ze++)fe($,J[Ze],ie,be,Ve);else be=u(be)?!!be.capture:!!be,ie=ke(ie),$&&$[ce]?($=$.i,J=String(J).toString(),J in $.g&&(Ze=$.g[J],ie=we(Ze,ie,be,Ve),-1<ie&&(ae(Ze[ie]),Array.prototype.splice.call(Ze,ie,1),Ze.length==0&&(delete $.g[J],$.h--)))):$&&($=Se($))&&(J=$.g[J.toString()],$=-1,J&&($=we(J,ie,be,Ve)),(ie=-1<$?J[$]:null)&&Re(ie))}function Re($){if(typeof $!="number"&&$&&!$.da){var J=$.src;if(J&&J[ce])se(J.i,$);else{var ie=$.type,be=$.proxy;J.removeEventListener?J.removeEventListener(ie,be,$.capture):J.detachEvent?J.detachEvent(Oe(ie),be):J.addListener&&J.removeListener&&J.removeListener(be),(ie=Se(J))?(se(ie,$),ie.h==0&&(ie.src=null,J[X]=null)):ae($)}}}function Oe($){return $ in he?he[$]:he[$]="on"+$}function Ae($,J){if($.da)$=!0;else{J=new Q(J,this);var ie=$.listener,be=$.ha||$.src;$.fa&&Re($),$=ie.call(be,J)}return $}function Se($){return $=$[X],$ instanceof te?$:null}var xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ke($){return typeof $=="function"?$:($[xe]||($[xe]=function(J){return $.handleEvent(J)}),$[xe])}function me(){H.call(this),this.i=new te(this),this.M=this,this.F=null}p(me,H),me.prototype[ce]=!0,me.prototype.removeEventListener=function($,J,ie,be){fe(this,$,J,ie,be)};function Me($,J){var ie,be=$.F;if(be)for(ie=[];be;be=be.F)ie.push(be);if($=$.M,be=J.type||J,typeof J=="string")J=new B(J,$);else if(J instanceof B)J.target=J.target||$;else{var Ve=J;J=new B(be,$),I(J,Ve)}if(Ve=!0,ie)for(var Ze=ie.length-1;0<=Ze;Ze--){var Pt=J.g=ie[Ze];Ve=ze(Pt,be,!0,J)&&Ve}if(Pt=J.g=$,Ve=ze(Pt,be,!0,J)&&Ve,Ve=ze(Pt,be,!1,J)&&Ve,ie)for(Ze=0;Ze<ie.length;Ze++)Pt=J.g=ie[Ze],Ve=ze(Pt,be,!1,J)&&Ve}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var $=this.i,J;for(J in $.g){for(var ie=$.g[J],be=0;be<ie.length;be++)ae(ie[be]);delete $.g[J],$.h--}}this.F=null},me.prototype.K=function($,J,ie,be){return this.i.add(String($),J,!1,ie,be)},me.prototype.L=function($,J,ie,be){return this.i.add(String($),J,!0,ie,be)};function ze($,J,ie,be){if(J=$.i.g[String(J)],!J)return!0;J=J.concat();for(var Ve=!0,Ze=0;Ze<J.length;++Ze){var Pt=J[Ze];if(Pt&&!Pt.da&&Pt.capture==ie){var ai=Pt.listener,ns=Pt.ha||Pt.src;Pt.fa&&se($.i,Pt),Ve=ai.call(ns,be)!==!1&&Ve}}return Ve&&!be.defaultPrevented}function Xe($,J,ie){if(typeof $=="function")ie&&($=f($,ie));else if($&&typeof $.handleEvent=="function")$=f($.handleEvent,$);else throw Error("Invalid listener argument");return 2147483647<Number(J)?-1:a.setTimeout($,J||0)}function tt($){$.g=Xe(()=>{$.g=null,$.i&&($.i=!1,tt($))},$.l);const J=$.h;$.h=null,$.m.apply(null,J)}class gt extends H{constructor(J,ie){super(),this.m=J,this.l=ie,this.h=null,this.i=!1,this.g=null}j(J){this.h=arguments,this.g?this.i=!0:tt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qt($){H.call(this),this.h=$,this.g={}}p(qt,H);var zt=[];function _n($){S($.g,function(J,ie){this.g.hasOwnProperty(ie)&&Re(J)},$),$.g={}}qt.prototype.N=function(){qt.aa.N.call(this),_n(this)},qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=a.JSON.stringify,dn=a.JSON.parse,Vn=class{stringify($){return a.JSON.stringify($,void 0)}parse($){return a.JSON.parse($,void 0)}};function Ln(){}Ln.prototype.h=null;function Tr($){return $.h||($.h=$.i())}function Xn(){}var mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function En(){B.call(this,"d")}p(En,B);function nn(){B.call(this,"c")}p(nn,B);var rr={},ii=null;function br(){return ii=ii||new me}rr.La="serverreachability";function Sn($){B.call(this,rr.La,$)}p(Sn,B);function ht($){const J=br();Me(J,new Sn(J))}rr.STAT_EVENT="statevent";function cr($,J){B.call(this,rr.STAT_EVENT,$),this.stat=J}p(cr,B);function Ut($){const J=br();Me(J,new cr(J,$))}rr.Ma="timingevent";function Zn($,J){B.call(this,rr.Ma,$),this.size=J}p(Zn,B);function sn($,J){if(typeof $!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){$()},J)}function Yn(){this.g=!0}Yn.prototype.xa=function(){this.g=!1};function wr($,J,ie,be,Ve,Ze){$.info(function(){if($.g)if(Ze)for(var Pt="",ai=Ze.split("&"),ns=0;ns<ai.length;ns++){var Rr=ai[ns].split("=");if(1<Rr.length){var gs=Rr[0];Rr=Rr[1];var ys=gs.split("_");Pt=2<=ys.length&&ys[1]=="type"?Pt+(gs+"="+Rr+"&"):Pt+(gs+"=redacted&")}}else Pt=null;else Pt=Ze;return"XMLHTTP REQ ("+be+") [attempt "+Ve+"]: "+J+`
`+ie+`
`+Pt})}function kr($,J,ie,be,Ve,Ze,Pt){$.info(function(){return"XMLHTTP RESP ("+be+") [ attempt "+Ve+"]: "+J+`
`+ie+`
`+Ze+" "+Pt})}function Ar($,J,ie,be){$.info(function(){return"XMLHTTP TEXT ("+J+"): "+pa($,ie)+(be?" "+be:"")})}function Jo($,J){$.info(function(){return"TIMEOUT: "+J})}Yn.prototype.info=function(){};function pa($,J){if(!$.g)return J;if(!J)return null;try{var ie=JSON.parse(J);if(ie){for($=0;$<ie.length;$++)if(Array.isArray(ie[$])){var be=ie[$];if(!(2>be.length)){var Ve=be[1];if(Array.isArray(Ve)&&!(1>Ve.length)){var Ze=Ve[0];if(Ze!="noop"&&Ze!="stop"&&Ze!="close")for(var Pt=1;Pt<Ve.length;Pt++)Ve[Pt]=""}}}}return $t(ie)}catch{return J}}var hu={NO_ERROR:0,TIMEOUT:8},ec={},Fn;function Ni(){}p(Ni,Ln),Ni.prototype.g=function(){return new XMLHttpRequest},Ni.prototype.i=function(){return{}},Fn=new Ni;function Zo($,J,ie,be){this.j=$,this.i=J,this.l=ie,this.R=be||1,this.U=new qt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rf}function Rf(){this.i=null,this.g="",this.h=!1}var td={},tc={};function nc($,J,ie){$.L=1,$.v=Qn(ft(J)),$.m=ie,$.P=!0,es($,null)}function es($,J){$.F=Date.now(),dr($),$.A=ft($.v);var ie=$.A,be=$.R;Array.isArray(be)||(be=[String(be)]),ic(ie.i,"t",be),$.C=0,ie=$.j.J,$.h=new Rf,$.g=yA($.j,ie?J:null,!$.m),0<$.O&&($.M=new gt(f($.Y,$,$.g),$.O)),J=$.U,ie=$.g,be=$.ca;var Ve="readystatechange";Array.isArray(Ve)||(Ve&&(zt[0]=Ve.toString()),Ve=zt);for(var Ze=0;Ze<Ve.length;Ze++){var Pt=ge(ie,Ve[Ze],be||J.handleEvent,!1,J.h||J);if(!Pt)break;J.g[Pt.key]=Pt}J=$.H?k($.H):{},$.m?($.u||($.u="POST"),J["Content-Type"]="application/x-www-form-urlencoded",$.g.ea($.A,$.u,$.m,J)):($.u="GET",$.g.ea($.A,$.u,null,J)),ht(),wr($.i,$.u,$.A,$.l,$.R,$.m)}Zo.prototype.ca=function($){$=$.target;const J=this.M;J&&or($)==3?J.j():this.Y($)},Zo.prototype.Y=function($){try{if($==this.g)e:{const ys=or(this.g);var J=this.g.Ba();const $f=this.g.Z();if(!(3>ys)&&(ys!=3||this.g&&(this.h.h||this.g.oa()||Yr(this.g)))){this.J||ys!=4||J==7||(J==8||0>=$f?ht(3):ht(2)),wo(this);var ie=this.g.Z();this.X=ie;t:if(If(this)){var be=Yr(this.g);$="";var Ve=be.length,Ze=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xo(this),ps(this);var Pt="";break t}this.h.i=new a.TextDecoder}for(J=0;J<Ve;J++)this.h.h=!0,$+=this.h.i.decode(be[J],{stream:!(Ze&&J==Ve-1)});be.length=0,this.h.g+=$,this.C=0,Pt=this.h.g}else Pt=this.g.oa();if(this.o=ie==200,kr(this.i,this.u,this.A,this.l,this.R,ys,ie),this.o){if(this.T&&!this.K){t:{if(this.g){var ai,ns=this.g;if((ai=ns.g?ns.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(ai)){var Rr=ai;break t}}Rr=null}if(ie=Rr)Ar(this.i,this.l,ie,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mu(this,ie);else{this.o=!1,this.s=3,Ut(12),xo(this),ps(this);break e}}if(this.P){ie=!0;let Us;for(;!this.J&&this.C<Pt.length;)if(Us=pu(this,Pt),Us==tc){ys==4&&(this.s=4,Ut(14),ie=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Us==td){this.s=4,Ut(15),Ar(this.i,this.l,Pt,"[Invalid Chunk]"),ie=!1;break}else Ar(this.i,this.l,Us,null),mu(this,Us);if(If(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ys!=4||Pt.length!=0||this.h.h||(this.s=1,Ut(16),ie=!1),this.o=this.o&&ie,!ie)Ar(this.i,this.l,Pt,"[Invalid Chunked Response]"),xo(this),ps(this);else if(0<Pt.length&&!this.W){this.W=!0;var gs=this.j;gs.g==this&&gs.ba&&!gs.M&&(gs.j.info("Great, no buffering proxy detected. Bytes received: "+Pt.length),i_(gs),gs.M=!0,Ut(11))}}else Ar(this.i,this.l,Pt,null),mu(this,Pt);ys==4&&xo(this),this.o&&!this.J&&(ys==4?o1(this.j,this):(this.o=!1,dr(this)))}else oi(this.g),ie==400&&0<Pt.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),xo(this),ps(this)}}}catch{}};function If($){return $.g?$.u=="GET"&&$.L!=2&&$.j.Ca:!1}function pu($,J){var ie=$.C,be=J.indexOf(`
`,ie);return be==-1?tc:(ie=Number(J.substring(ie,be)),isNaN(ie)?td:(be+=1,be+ie>J.length?tc:(J=J.slice(be,be+ie),$.C=be+ie,J)))}Zo.prototype.cancel=function(){this.J=!0,xo(this)};function dr($){$.S=Date.now()+$.I,nd($,$.I)}function nd($,J){if($.B!=null)throw Error("WatchDog timer not null");$.B=sn(f($.ba,$),J)}function wo($){$.B&&(a.clearTimeout($.B),$.B=null)}Zo.prototype.ba=function(){this.B=null;const $=Date.now();0<=$-this.S?(Jo(this.i,this.A),this.L!=2&&(ht(),Ut(17)),xo(this),this.s=2,ps(this)):nd(this,this.S-$)};function ps($){$.j.G==0||$.J||o1($.j,$)}function xo($){wo($);var J=$.M;J&&typeof J.ma=="function"&&J.ma(),$.M=null,_n($.U),$.g&&(J=$.g,$.g=null,J.abort(),J.ma())}function mu($,J){try{var ie=$.j;if(ie.G!=0&&(ie.g==$||_o(ie.h,$))){if(!$.K&&_o(ie.h,$)&&ie.G==3){try{var be=ie.Da.g.parse(J)}catch{be=null}if(Array.isArray(be)&&be.length==3){var Ve=be;if(Ve[0]==0){e:if(!ie.u){if(ie.g)if(ie.g.F+3e3<$.F)i1(ie),To(ie);else break e;r1(ie),Ut(18)}}else ie.za=Ve[1],0<ie.za-ie.T&&37500>Ve[2]&&ie.F&&ie.v==0&&!ie.C&&(ie.C=sn(f(ie.Za,ie),6e3));if(1>=Df(ie.h)&&ie.ca){try{ie.ca()}catch{}ie.ca=void 0}}else lp(ie,11)}else if(($.K||ie.g==$)&&i1(ie),!y(J))for(Ve=ie.Da.g.parse(J),J=0;J<Ve.length;J++){let Rr=Ve[J];if(ie.T=Rr[0],Rr=Rr[1],ie.G==2)if(Rr[0]=="c"){ie.K=Rr[1],ie.ia=Rr[2];const gs=Rr[3];gs!=null&&(ie.la=gs,ie.j.info("VER="+ie.la));const ys=Rr[4];ys!=null&&(ie.Aa=ys,ie.j.info("SVER="+ie.Aa));const $f=Rr[5];$f!=null&&typeof $f=="number"&&0<$f&&(be=1.5*$f,ie.L=be,ie.j.info("backChannelRequestTimeoutMs_="+be)),be=ie;const Us=$.g;if(Us){const s1=Us.g?Us.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(s1){var Ze=be.h;Ze.g||s1.indexOf("spdy")==-1&&s1.indexOf("quic")==-1&&s1.indexOf("h2")==-1||(Ze.j=Ze.l,Ze.g=new Set,Ze.h&&(pe(Ze,Ze.h),Ze.h=null))}if(be.D){const a1=Us.g?Us.g.getResponseHeader("X-HTTP-Session-Id"):null;a1&&(be.ya=a1,Xt(be.I,be.D,a1))}}ie.G=3,ie.l&&ie.l.ua(),ie.ba&&(ie.R=Date.now()-$.F,ie.j.info("Handshake RTT: "+ie.R+"ms")),be=ie;var Pt=$;if(be.qa=gA(be,be.J?be.ia:null,be.W),Pt.K){Ne(be.h,Pt);var ai=Pt,ns=be.L;ns&&(ai.I=ns),ai.B&&(wo(ai),dr(ai)),be.g=Pt}else my(be);0<ie.i.length&&yu(ie)}else Rr[0]!="stop"&&Rr[0]!="close"||lp(ie,7);else ie.G==3&&(Rr[0]=="stop"||Rr[0]=="close"?Rr[0]=="stop"?lp(ie,7):si(ie):Rr[0]!="noop"&&ie.l&&ie.l.ta(Rr),ie.v=0)}}ht(4)}catch{}}var Bs=class{constructor($,J){this.g=$,this.map=J}};function Il($){this.l=$||10,a.PerformanceNavigationTiming?($=a.performance.getEntriesByType("navigation"),$=0<$.length&&($[0].nextHopProtocol=="hq"||$[0].nextHopProtocol=="h2")):$=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=$?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Co($){return $.h?!0:$.g?$.g.size>=$.j:!1}function Df($){return $.h?1:$.g?$.g.size:0}function _o($,J){return $.h?$.h==J:$.g?$.g.has(J):!1}function pe($,J){$.g?$.g.add(J):$.h=J}function Ne($,J){$.h&&$.h==J?$.h=null:$.g&&$.g.has(J)&&$.g.delete(J)}Il.prototype.cancel=function(){if(this.i=Ce(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const $ of this.g.values())$.cancel();this.g.clear()}};function Ce($){if($.h!=null)return $.i.concat($.h.D);if($.g!=null&&$.g.size!==0){let J=$.i;for(const ie of $.g.values())J=J.concat(ie.D);return J}return m($.i)}function Be($){if($.V&&typeof $.V=="function")return $.V();if(typeof Map<"u"&&$ instanceof Map||typeof Set<"u"&&$ instanceof Set)return Array.from($.values());if(typeof $=="string")return $.split("");if(l($)){for(var J=[],ie=$.length,be=0;be<ie;be++)J.push($[be]);return J}J=[],ie=0;for(be in $)J[ie++]=$[be];return J}function He($){if($.na&&typeof $.na=="function")return $.na();if(!$.V||typeof $.V!="function"){if(typeof Map<"u"&&$ instanceof Map)return Array.from($.keys());if(!(typeof Set<"u"&&$ instanceof Set)){if(l($)||typeof $=="string"){var J=[];$=$.length;for(var ie=0;ie<$;ie++)J.push(ie);return J}J=[],ie=0;for(const be in $)J[ie++]=be;return J}}}function je($,J){if($.forEach&&typeof $.forEach=="function")$.forEach(J,void 0);else if(l($)||typeof $=="string")Array.prototype.forEach.call($,J,void 0);else for(var ie=He($),be=Be($),Ve=be.length,Ze=0;Ze<Ve;Ze++)J.call(void 0,be[Ze],ie&&ie[Ze],$)}var rt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ut($,J){if($){$=$.split("&");for(var ie=0;ie<$.length;ie++){var be=$[ie].indexOf("="),Ve=null;if(0<=be){var Ze=$[ie].substring(0,be);Ve=$[ie].substring(be+1)}else Ze=$[ie];J(Ze,Ve?decodeURIComponent(Ve.replace(/\+/g," ")):"")}}}function pt($){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,$ instanceof pt){this.h=$.h,_t(this,$.j),this.o=$.o,this.g=$.g,jt(this,$.s),this.l=$.l;var J=$.i,ie=new ts;ie.i=J.i,J.g&&(ie.g=new Map(J.g),ie.h=J.h),Pn(this,ie),this.m=$.m}else $&&(J=String($).match(rt))?(this.h=!1,_t(this,J[1]||"",!0),this.o=Wt(J[2]||""),this.g=Wt(J[3]||"",!0),jt(this,J[4]),this.l=Wt(J[5]||"",!0),Pn(this,J[6]||"",!0),this.m=Wt(J[7]||"")):(this.h=!1,this.i=new ts(null,this.h))}pt.prototype.toString=function(){var $=[],J=this.j;J&&$.push(sr(J,ma,!0),":");var ie=this.g;return(ie||J=="file")&&($.push("//"),(J=this.o)&&$.push(sr(J,ma,!0),"@"),$.push(encodeURIComponent(String(ie)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ie=this.s,ie!=null&&$.push(":",String(ie))),(ie=this.l)&&(this.g&&ie.charAt(0)!="/"&&$.push("/"),$.push(sr(ie,ie.charAt(0)=="/"?Pf:So,!0))),(ie=this.i.toString())&&$.push("?",ie),(ie=this.m)&&$.push("#",sr(ie,Of)),$.join("")};function ft($){return new pt($)}function _t($,J,ie){$.j=ie?Wt(J,!0):J,$.j&&($.j=$.j.replace(/:$/,""))}function jt($,J){if(J){if(J=Number(J),isNaN(J)||0>J)throw Error("Bad port number "+J);$.s=J}else $.s=null}function Pn($,J,ie){J instanceof ts?($.i=J,ga($.i,$.h)):(ie||(J=sr(J,rc)),$.i=new ts(J,$.h))}function Xt($,J,ie){$.i.set(J,ie)}function Qn($){return Xt($,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),$}function Wt($,J){return $?J?decodeURI($.replace(/%25/g,"%2525")):decodeURIComponent($):""}function sr($,J,ie){return typeof $=="string"?($=encodeURI($).replace(J,Eo),ie&&($=$.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$):null}function Eo($){return $=$.charCodeAt(0),"%"+($>>4&15).toString(16)+($&15).toString(16)}var ma=/[#\/\?@]/g,So=/[#\?:]/g,Pf=/[#\?]/g,rc=/[#\?@]/g,Of=/#/g;function ts($,J){this.h=this.g=null,this.i=$||null,this.j=!!J}function Mi($){$.g||($.g=new Map,$.h=0,$.i&&ut($.i,function(J,ie){$.add(decodeURIComponent(J.replace(/\+/g," ")),ie)}))}e=ts.prototype,e.add=function($,J){Mi(this),this.i=null,$=Ho(this,$);var ie=this.g.get($);return ie||this.g.set($,ie=[]),ie.push(J),this.h+=1,this};function Si($,J){Mi($),J=Ho($,J),$.g.has(J)&&($.i=null,$.h-=$.g.get(J).length,$.g.delete(J))}function ms($,J){return Mi($),J=Ho($,J),$.g.has(J)}e.forEach=function($,J){Mi(this),this.g.forEach(function(ie,be){ie.forEach(function(Ve){$.call(J,Ve,be,this)},this)},this)},e.na=function(){Mi(this);const $=Array.from(this.g.values()),J=Array.from(this.g.keys()),ie=[];for(let be=0;be<J.length;be++){const Ve=$[be];for(let Ze=0;Ze<Ve.length;Ze++)ie.push(J[be])}return ie},e.V=function($){Mi(this);let J=[];if(typeof $=="string")ms(this,$)&&(J=J.concat(this.g.get(Ho(this,$))));else{$=Array.from(this.g.values());for(let ie=0;ie<$.length;ie++)J=J.concat($[ie])}return J},e.set=function($,J){return Mi(this),this.i=null,$=Ho(this,$),ms(this,$)&&(this.h-=this.g.get($).length),this.g.set($,[J]),this.h+=1,this},e.get=function($,J){return $?($=this.V($),0<$.length?String($[0]):J):J};function ic($,J,ie){Si($,J),0<ie.length&&($.i=null,$.g.set(Ho($,J),m(ie)),$.h+=ie.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const $=[],J=Array.from(this.g.keys());for(var ie=0;ie<J.length;ie++){var be=J[ie];const Ze=encodeURIComponent(String(be)),Pt=this.V(be);for(be=0;be<Pt.length;be++){var Ve=Ze;Pt[be]!==""&&(Ve+="="+encodeURIComponent(String(Pt[be]))),$.push(Ve)}}return this.i=$.join("&")};function Ho($,J){return J=String(J),$.j&&(J=J.toLowerCase()),J}function ga($,J){J&&!$.j&&(Mi($),$.i=null,$.g.forEach(function(ie,be){var Ve=be.toLowerCase();be!=Ve&&(Si(this,be),ic(this,Ve,ie))},$)),$.j=J}function Nf($,J){const ie=new Yn;if(a.Image){const be=new Image;be.onload=h(to,ie,"TestLoadImage: loaded",!0,J,be),be.onerror=h(to,ie,"TestLoadImage: error",!1,J,be),be.onabort=h(to,ie,"TestLoadImage: abort",!1,J,be),be.ontimeout=h(to,ie,"TestLoadImage: timeout",!1,J,be),a.setTimeout(function(){be.ontimeout&&be.ontimeout()},1e4),be.src=$}else J(!1)}function Dl($,J){const ie=new Yn,be=new AbortController,Ve=setTimeout(()=>{be.abort(),to(ie,"TestPingServer: timeout",!1,J)},1e4);fetch($,{signal:be.signal}).then(Ze=>{clearTimeout(Ve),Ze.ok?to(ie,"TestPingServer: ok",!0,J):to(ie,"TestPingServer: server error",!1,J)}).catch(()=>{clearTimeout(Ve),to(ie,"TestPingServer: error",!1,J)})}function to($,J,ie,be,Ve){try{Ve&&(Ve.onload=null,Ve.onerror=null,Ve.onabort=null,Ve.ontimeout=null),be(ie)}catch{}}function Km(){this.g=new Vn}function Mf($,J,ie){const be=ie||"";try{je($,function(Ve,Ze){let Pt=Ve;u(Ve)&&(Pt=$t(Ve)),J.push(be+Ze+"="+encodeURIComponent(Pt))})}catch(Ve){throw J.push(be+"type="+encodeURIComponent("_badmap")),Ve}}function zs($){this.l=$.Ub||null,this.j=$.eb||!1}p(zs,Ln),zs.prototype.g=function(){return new gu(this.l,this.j)},zs.prototype.i=(function($){return function(){return $}})({});function gu($,J){me.call(this),this.D=$,this.o=J,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(gu,me),e=gu.prototype,e.open=function($,J){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=$,this.A=J,this.readyState=1,ya(this)},e.send=function($){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const J={headers:this.u,method:this.B,credentials:this.m,cache:void 0};$&&(J.body=$),(this.D||a).fetch(new Request(this.A,J)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ka(this)),this.readyState=0},e.Sa=function($){if(this.g&&(this.l=$,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=$.headers,this.readyState=2,ya(this)),this.g&&(this.readyState=3,ya(this),this.g)))if(this.responseType==="arraybuffer")$.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in $){if(this.j=$.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xm(this)}else $.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xm($){$.j.read().then($.Pa.bind($)).catch($.ga.bind($))}e.Pa=function($){if(this.g){if(this.o&&$.value)this.response.push($.value);else if(!this.o){var J=$.value?$.value:new Uint8Array(0);(J=this.v.decode(J,{stream:!$.done}))&&(this.response=this.responseText+=J)}$.done?Ka(this):ya(this),this.readyState==3&&Xm(this)}},e.Ra=function($){this.g&&(this.response=this.responseText=$,Ka(this))},e.Qa=function($){this.g&&(this.response=$,Ka(this))},e.ga=function(){this.g&&Ka(this)};function Ka($){$.readyState=4,$.l=null,$.j=null,$.v=null,ya($)}e.setRequestHeader=function($,J){this.u.append($,J)},e.getResponseHeader=function($){return this.h&&this.h.get($.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const $=[],J=this.h.entries();for(var ie=J.next();!ie.done;)ie=ie.value,$.push(ie[0]+": "+ie[1]),ie=J.next();return $.join(`\r
`)};function ya($){$.onreadystatechange&&$.onreadystatechange.call($)}Object.defineProperty(gu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function($){this.m=$?"include":"same-origin"}});function Ee($){let J="";return S($,function(ie,be){J+=be,J+=":",J+=ie,J+=`\r
`}),J}function oe($,J,ie){e:{for(be in ie){var be=!1;break e}be=!0}be||(ie=Ee(ie),typeof $=="string"?ie!=null&&encodeURIComponent(String(ie)):Xt($,J,ie))}function ve($){me.call(this),this.headers=new Map,this.o=$||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(ve,me);var Le=/^https?$/i,St=["POST","PUT"];e=ve.prototype,e.Ha=function($){this.J=$},e.ea=function($,J,ie,be){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+$);J=J?J.toUpperCase():"GET",this.D=$,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?Tr(this.o):Tr(Fn),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(J,String($),!0),this.B=!1}catch(Ze){Dt(this,Ze);return}if($=ie||"",ie=new Map(this.headers),be)if(Object.getPrototypeOf(be)===Object.prototype)for(var Ve in be)ie.set(Ve,be[Ve]);else if(typeof be.keys=="function"&&typeof be.get=="function")for(const Ze of be.keys())ie.set(Ze,be.get(Ze));else throw Error("Unknown input type for opt_headers: "+String(be));be=Array.from(ie.keys()).find(Ze=>Ze.toLowerCase()=="content-type"),Ve=a.FormData&&$ instanceof a.FormData,!(0<=Array.prototype.indexOf.call(St,J,void 0))||be||Ve||ie.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ze,Pt]of ie)this.g.setRequestHeader(Ze,Pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yn(this),this.u=!0,this.g.send($),this.u=!1}catch(Ze){Dt(this,Ze)}};function Dt($,J){$.h=!1,$.g&&($.j=!0,$.g.abort(),$.j=!1),$.l=J,$.m=5,fn($),Kt($)}function fn($){$.A||($.A=!0,Me($,"complete"),Me($,"error"))}e.abort=function($){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=$||7,Me(this,"complete"),Me(this,"abort"),Kt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kt(this,!0)),ve.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Mn(this):this.bb())},e.bb=function(){Mn(this)};function Mn($){if($.h&&typeof s<"u"&&(!$.v[1]||or($)!=4||$.Z()!=2)){if($.u&&or($)==4)Xe($.Ea,0,$);else if(Me($,"readystatechange"),or($)==4){$.h=!1;try{const Pt=$.Z();e:switch(Pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var J=!0;break e;default:J=!1}var ie;if(!(ie=J)){var be;if(be=Pt===0){var Ve=String($.D).match(rt)[1]||null;!Ve&&a.self&&a.self.location&&(Ve=a.self.location.protocol.slice(0,-1)),be=!Le.test(Ve?Ve.toLowerCase():"")}ie=be}if(ie)Me($,"complete"),Me($,"success");else{$.m=6;try{var Ze=2<or($)?$.g.statusText:""}catch{Ze=""}$.l=Ze+" ["+$.Z()+"]",fn($)}}finally{Kt($)}}}}function Kt($,J){if($.g){yn($);const ie=$.g,be=$.v[0]?()=>{}:null;$.g=null,$.v=null,J||Me($,"ready");try{ie.onreadystatechange=be}catch{}}}function yn($){$.I&&(a.clearTimeout($.I),$.I=null)}e.isActive=function(){return!!this.g};function or($){return $.g?$.g.readyState:0}e.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function($){if(this.g){var J=this.g.responseText;return $&&J.indexOf($)==0&&(J=J.substring($.length)),dn(J)}};function Yr($){try{if(!$.g)return null;if("response"in $.g)return $.g.response;switch($.H){case"":case"text":return $.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in $.g)return $.g.mozResponseArrayBuffer}return null}catch{return null}}function oi($){const J={};$=($.g&&2<=or($)&&$.g.getAllResponseHeaders()||"").split(`\r
`);for(let be=0;be<$.length;be++){if(y($[be]))continue;var ie=P($[be]);const Ve=ie[0];if(ie=ie[1],typeof ie!="string")continue;ie=ie.trim();const Ze=J[Ve]||[];J[Ve]=Ze,Ze.push(ie)}T(J,function(be){return be.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi($,J,ie){return ie&&ie.internalChannelParams&&ie.internalChannelParams[$]||J}function co($){this.Aa=0,this.i=[],this.j=new Yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wi("failFast",!1,$),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wi("baseRetryDelayMs",5e3,$),this.cb=wi("retryDelaySeedMs",1e4,$),this.Wa=wi("forwardChannelMaxRetries",2,$),this.wa=wi("forwardChannelRequestTimeoutMs",2e4,$),this.pa=$&&$.xmlHttpFactory||void 0,this.Xa=$&&$.Tb||void 0,this.Ca=$&&$.useFetchStreams||!1,this.L=void 0,this.J=$&&$.supportsCrossDomainXhr||!1,this.K="",this.h=new Il($&&$.concurrentRequestLimit),this.Da=new Km,this.P=$&&$.fastHandshake||!1,this.O=$&&$.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=$&&$.Rb||!1,$&&$.xa&&this.j.xa(),$&&$.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&$&&$.detectBufferingProxy||!1,this.ja=void 0,$&&$.longPollingTimeout&&0<$.longPollingTimeout&&(this.ja=$.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=co.prototype,e.la=8,e.G=1,e.connect=function($,J,ie,be){Ut(0),this.W=$,this.H=J||{},ie&&be!==void 0&&(this.H.OSID=ie,this.H.OAID=be),this.F=this.X,this.I=gA(this,null,this.W),yu(this)};function si($){if(Pl($),$.G==3){var J=$.U++,ie=ft($.I);if(Xt(ie,"SID",$.K),Xt(ie,"RID",J),Xt(ie,"TYPE","terminate"),ap($,ie),J=new Zo($,$.j,J),J.L=2,J.v=Qn(ft(ie)),ie=!1,a.navigator&&a.navigator.sendBeacon)try{ie=a.navigator.sendBeacon(J.v.toString(),"")}catch{}!ie&&a.Image&&(new Image().src=J.v,ie=!0),ie||(J.g=yA(J.j,null),J.g.ea(J.v)),J.F=Date.now(),dr(J)}mA($)}function To($){$.g&&(i_($),$.g.cancel(),$.g=null)}function Pl($){To($),$.u&&(a.clearTimeout($.u),$.u=null),i1($),$.h.cancel(),$.s&&(typeof $.s=="number"&&a.clearTimeout($.s),$.s=null)}function yu($){if(!Co($.h)&&!$.s){$.s=!0;var J=$.Ga;q||z(),W||(q(),W=!0),V.add(J,$),$.B=0}}function Qm($,J){return Df($.h)>=$.h.j-($.s?1:0)?!1:$.s?($.i=J.D.concat($.i),!0):$.G==1||$.G==2||$.B>=($.Va?0:$.Wa)?!1:($.s=sn(f($.Ga,$,J),pA($,$.B)),$.B++,!0)}e.Ga=function($){if(this.s)if(this.s=null,this.G==1){if(!$){this.U=Math.floor(1e5*Math.random()),$=this.U++;const Ve=new Zo(this,this.j,$);let Ze=this.o;if(this.S&&(Ze?(Ze=k(Ze),I(Ze,this.S)):Ze=this.S),this.m!==null||this.O||(Ve.H=Ze,Ze=null),this.P)e:{for(var J=0,ie=0;ie<this.i.length;ie++){t:{var be=this.i[ie];if("__data__"in be.map&&(be=be.map.__data__,typeof be=="string")){be=be.length;break t}be=void 0}if(be===void 0)break;if(J+=be,4096<J){J=ie;break e}if(J===4096||ie===this.i.length-1){J=ie+1;break e}}J=1e3}else J=1e3;J=Jm(this,Ve,J),ie=ft(this.I),Xt(ie,"RID",$),Xt(ie,"CVER",22),this.D&&Xt(ie,"X-HTTP-Session-Id",this.D),ap(this,ie),Ze&&(this.O?J="headers="+encodeURIComponent(String(Ee(Ze)))+"&"+J:this.m&&oe(ie,this.m,Ze)),pe(this.h,Ve),this.Ua&&Xt(ie,"TYPE","init"),this.P?(Xt(ie,"$req",J),Xt(ie,"SID","null"),Ve.T=!0,nc(Ve,ie,null)):nc(Ve,ie,J),this.G=2}}else this.G==3&&($?rd(this,$):this.i.length==0||Co(this.h)||rd(this))};function rd($,J){var ie;J?ie=J.l:ie=$.U++;const be=ft($.I);Xt(be,"SID",$.K),Xt(be,"RID",ie),Xt(be,"AID",$.T),ap($,be),$.m&&$.o&&oe(be,$.m,$.o),ie=new Zo($,$.j,ie,$.B+1),$.m===null&&(ie.H=$.o),J&&($.i=J.D.concat($.i)),J=Jm($,ie,1e3),ie.I=Math.round(.5*$.wa)+Math.round(.5*$.wa*Math.random()),pe($.h,ie),nc(ie,be,J)}function ap($,J){$.H&&S($.H,function(ie,be){Xt(J,be,ie)}),$.l&&je({},function(ie,be){Xt(J,be,ie)})}function Jm($,J,ie){ie=Math.min($.i.length,ie);var be=$.l?f($.l.Na,$.l,$):null;e:{var Ve=$.i;let Ze=-1;for(;;){const Pt=["count="+ie];Ze==-1?0<ie?(Ze=Ve[0].g,Pt.push("ofs="+Ze)):Ze=0:Pt.push("ofs="+Ze);let ai=!0;for(let ns=0;ns<ie;ns++){let Rr=Ve[ns].g;const gs=Ve[ns].map;if(Rr-=Ze,0>Rr)Ze=Math.max(0,Ve[ns].g-100),ai=!1;else try{Mf(gs,Pt,"req"+Rr+"_")}catch{be&&be(gs)}}if(ai){be=Pt.join("&");break e}}}return $=$.i.splice(0,ie),J.D=$,be}function my($){if(!$.g&&!$.u){$.Y=1;var J=$.Fa;q||z(),W||(q(),W=!0),V.add(J,$),$.v=0}}function r1($){return $.g||$.u||3<=$.v?!1:($.Y++,$.u=sn(f($.Fa,$),pA($,$.v)),$.v++,!0)}e.Fa=function(){if(this.u=null,hA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var $=2*this.R;this.j.info("BP detection timer enabled: "+$),this.A=sn(f(this.ab,this),$)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),To(this),hA(this))};function i_($){$.A!=null&&(a.clearTimeout($.A),$.A=null)}function hA($){$.g=new Zo($,$.j,"rpc",$.Y),$.m===null&&($.g.H=$.o),$.g.O=0;var J=ft($.qa);Xt(J,"RID","rpc"),Xt(J,"SID",$.K),Xt(J,"AID",$.T),Xt(J,"CI",$.F?"0":"1"),!$.F&&$.ja&&Xt(J,"TO",$.ja),Xt(J,"TYPE","xmlhttp"),ap($,J),$.m&&$.o&&oe(J,$.m,$.o),$.L&&($.g.I=$.L);var ie=$.g;$=$.ia,ie.L=1,ie.v=Qn(ft(J)),ie.m=null,ie.P=!0,es(ie,$)}e.Za=function(){this.C!=null&&(this.C=null,To(this),r1(this),Ut(19))};function i1($){$.C!=null&&(a.clearTimeout($.C),$.C=null)}function o1($,J){var ie=null;if($.g==J){i1($),i_($),$.g=null;var be=2}else if(_o($.h,J))ie=J.D,Ne($.h,J),be=1;else return;if($.G!=0){if(J.o)if(be==1){ie=J.m?J.m.length:0,J=Date.now()-J.F;var Ve=$.B;be=br(),Me(be,new Zn(be,ie)),yu($)}else my($);else if(Ve=J.s,Ve==3||Ve==0&&0<J.X||!(be==1&&Qm($,J)||be==2&&r1($)))switch(ie&&0<ie.length&&(J=$.h,J.i=J.i.concat(ie)),Ve){case 1:lp($,5);break;case 4:lp($,10);break;case 3:lp($,6);break;default:lp($,2)}}}function pA($,J){let ie=$.Ta+Math.floor(Math.random()*$.cb);return $.isActive()||(ie*=2),ie*J}function lp($,J){if($.j.info("Error code "+J),J==2){var ie=f($.fb,$),be=$.Xa;const Ve=!be;be=new pt(be||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||_t(be,"https"),Qn(be),Ve?Nf(be.toString(),ie):Dl(be.toString(),ie)}else Ut(2);$.G=0,$.l&&$.l.sa(J),mA($),Pl($)}e.fb=function($){$?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function mA($){if($.G=0,$.ka=[],$.l){const J=Ce($.h);(J.length!=0||$.i.length!=0)&&(g($.ka,J),g($.ka,$.i),$.h.i.length=0,m($.i),$.i.length=0),$.l.ra()}}function gA($,J,ie){var be=ie instanceof pt?ft(ie):new pt(ie);if(be.g!="")J&&(be.g=J+"."+be.g),jt(be,be.s);else{var Ve=a.location;be=Ve.protocol,J=J?J+"."+Ve.hostname:Ve.hostname,Ve=+Ve.port;var Ze=new pt(null);be&&_t(Ze,be),J&&(Ze.g=J),Ve&&jt(Ze,Ve),ie&&(Ze.l=ie),be=Ze}return ie=$.D,J=$.ya,ie&&J&&Xt(be,ie,J),Xt(be,"VER",$.la),ap($,be),be}function yA($,J,ie){if(J&&!$.J)throw Error("Can't create secondary domain capable XhrIo object.");return J=$.Ca&&!$.pa?new ve(new zs({eb:ie})):new ve($.pa),J.Ha($.J),J}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function o_(){}e=o_.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ol($,J){me.call(this),this.g=new co(J),this.l=$,this.h=J&&J.messageUrlParams||null,$=J&&J.messageHeaders||null,J&&J.clientProtocolHeaderRequired&&($?$["X-Client-Protocol"]="webchannel":$={"X-Client-Protocol":"webchannel"}),this.g.o=$,$=J&&J.initMessageHeaders||null,J&&J.messageContentType&&($?$["X-WebChannel-Content-Type"]=J.messageContentType:$={"X-WebChannel-Content-Type":J.messageContentType}),J&&J.va&&($?$["X-WebChannel-Client-Profile"]=J.va:$={"X-WebChannel-Client-Profile":J.va}),this.g.S=$,($=J&&J.Sb)&&!y($)&&(this.g.m=$),this.v=J&&J.supportsCrossDomainXhr||!1,this.u=J&&J.sendRawJson||!1,(J=J&&J.httpSessionIdParam)&&!y(J)&&(this.g.D=J,$=this.h,$!==null&&J in $&&($=this.h,J in $&&delete $[J])),this.j=new Zm(this)}p(Ol,me),Ol.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ol.prototype.close=function(){si(this.g)},Ol.prototype.o=function($){var J=this.g;if(typeof $=="string"){var ie={};ie.__data__=$,$=ie}else this.u&&(ie={},ie.__data__=$t($),$=ie);J.i.push(new Bs(J.Ya++,$)),J.G==3&&yu(J)},Ol.prototype.N=function(){this.g.l=null,delete this.j,si(this.g),delete this.g,Ol.aa.N.call(this)};function vA($){En.call(this),$.__headers__&&(this.headers=$.__headers__,this.statusCode=$.__status__,delete $.__headers__,delete $.__status__);var J=$.__sm__;if(J){e:{for(const ie in J){$=ie;break e}$=void 0}(this.i=$)&&($=this.i,J=J!==null&&$ in J?J[$]:void 0),this.data=J}else this.data=$}p(vA,En);function bA(){nn.call(this),this.status=1}p(bA,nn);function Zm($){this.g=$}p(Zm,o_),Zm.prototype.ua=function(){Me(this.g,"a")},Zm.prototype.ta=function($){Me(this.g,new vA($))},Zm.prototype.sa=function($){Me(this.g,new bA)},Zm.prototype.ra=function(){Me(this.g,"b")},Ol.prototype.send=Ol.prototype.o,Ol.prototype.open=Ol.prototype.m,Ol.prototype.close=Ol.prototype.close,hu.NO_ERROR=0,hu.TIMEOUT=8,hu.HTTP_ERROR=6,ec.COMPLETE="complete",Xn.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",me.prototype.listen=me.prototype.K,ve.prototype.listenOnce=ve.prototype.L,ve.prototype.getLastError=ve.prototype.Ka,ve.prototype.getLastErrorCode=ve.prototype.Ba,ve.prototype.getStatus=ve.prototype.Z,ve.prototype.getResponseJson=ve.prototype.Oa,ve.prototype.getResponseText=ve.prototype.oa,ve.prototype.send=ve.prototype.ea,ve.prototype.setWithCredentials=ve.prototype.Ha}).apply(typeof AD<"u"?AD:typeof self<"u"?self:typeof window<"u"?window:{});const dye="@firebase/firestore",fye="4.8.0";class Tu{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Tu.UNAUTHENTICATED=new Tu(null),Tu.GOOGLE_CREDENTIALS=new Tu("google-credentials-uid"),Tu.FIRST_PARTY=new Tu("first-party-uid"),Tu.MOCK_USER=new Tu("mock-user");let K$="11.10.0";const l4=new Y$("@firebase/firestore");function Ld(e,...t){if(l4.logLevel<=ci.DEBUG){const n=t.map(S5e);l4.debug(`Firestore (${K$}): ${e}`,...n)}}function E5e(e,...t){if(l4.logLevel<=ci.ERROR){const n=t.map(S5e);l4.error(`Firestore (${K$}): ${e}`,...n)}}function S5e(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function u4(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,T5e(e,r,n)}function T5e(e,t,n){let r=`FIRESTORE (${K$}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw E5e(r),new Error(r)}function JS(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||T5e(t,i,r)}const Qr={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Jr extends Ym{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ZS{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Jtn{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ztn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Tu.UNAUTHENTICATED)))}shutdown(){}}class enn{constructor(t){this.t=t,this.currentUser=Tu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){JS(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ZS;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ZS,t.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const l=o;t.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},a=l=>{Ld("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ld("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ZS)}}),0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(Ld("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(JS(typeof r.accessToken=="string",31837,{l:r}),new Jtn(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return JS(t===null||typeof t=="string",2055,{h:t}),new Tu(t)}}class tnn{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Tu.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nnn{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new tnn(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Tu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hye{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rnn{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hg(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){JS(this.o===void 0,3512);const r=o=>{o.error!=null&&Ld("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Ld("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>r(o)))};const i=o=>{Ld("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Ld("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hye(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(JS(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hye(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function inn(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function onn(){return new TextEncoder}class snn{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=inn(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%62))}return r}}function Wd(e,t){return e<t?-1:e>t?1:0}function ann(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Wd(r,i);{const o=onn(),s=lnn(o.encode(pye(e,n)),o.encode(pye(t,n)));return s!==0?s:Wd(r,i)}}n+=r>65535?2:1}return Wd(e.length,t.length)}function pye(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function lnn(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Wd(e[n],t[n]);return Wd(e.length,t.length)}const mye="__name__";class Qf{constructor(t,n,r){n===void 0?n=0:n>t.length&&u4(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&u4(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Qf.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Qf?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=Qf.compareSegments(t.get(i),n.get(i));if(o!==0)return o}return Wd(t.length,n.length)}static compareSegments(t,n){const r=Qf.isNumericId(t),i=Qf.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Qf.extractNumericId(t).compare(Qf.extractNumericId(n)):ann(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return yte.fromString(t.substring(4,t.length-2))}}class _d extends Qf{construct(t,n,r){return new _d(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Jr(Qr.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new _d(n)}static emptyPath(){return new _d([])}}const unn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class uv extends Qf{construct(t,n,r){return new uv(t,n,r)}static isValidIdentifier(t){return unn.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),uv.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mye}static keyField(){return new uv([mye])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Jr(Qr.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Jr(Qr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Jr(Qr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Jr(Qr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new uv(n)}static emptyPath(){return new uv([])}}class Sv{constructor(t){this.path=t}static fromPath(t){return new Sv(_d.fromString(t))}static fromName(t){return new Sv(_d.fromString(t).popFirst(5))}static empty(){return new Sv(_d.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_d.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return _d.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Sv(new _d(t.slice()))}}function cnn(e,t,n,r){if(t===!0&&r===!0)throw new Jr(Qr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function dnn(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Yo(e,t){const n={typeString:e};return t&&(n.value=t),n}function dA(e,t){if(!dnn(e))throw new Jr(Qr.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const s=e[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Jr(Qr.INVALID_ARGUMENT,n);return!0}const gye=-62135596800,yye=1e6;class Zf{static now(){return Zf.fromMillis(Date.now())}static fromDate(t){return Zf.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*yye);return new Zf(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Jr(Qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Jr(Qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<gye)throw new Jr(Qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Jr(Qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yye}_compareTo(t){return this.seconds===t.seconds?Wd(this.nanoseconds,t.nanoseconds):Wd(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zf._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(dA(t,Zf._jsonSchema))return new Zf(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-gye;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zf._jsonSchemaVersion="firestore/timestamp/1.0",Zf._jsonSchema={type:Yo("string",Zf._jsonSchemaVersion),seconds:Yo("number"),nanoseconds:Yo("number")};function fnn(e){return e.name==="IndexedDbTransactionError"}class hnn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cb{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hnn("Invalid base64 string: "+o):o}})(t);return new Cb(n)}static fromUint8Array(t){const n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(t);return new Cb(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Wd(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Cb.EMPTY_BYTE_STRING=new Cb("");const vye="(default)";class c4{constructor(t,n){this.projectId=t,this.database=n||vye}static empty(){return new c4("","")}get isDefaultDatabase(){return this.database===vye}isEqual(t){return t instanceof c4&&t.projectId===this.projectId&&t.database===this.database}}class pnn{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function mnn(e){return new pnn(e)}var bye,Ir;(Ir=bye||(bye={}))[Ir.OK=0]="OK",Ir[Ir.CANCELLED=1]="CANCELLED",Ir[Ir.UNKNOWN=2]="UNKNOWN",Ir[Ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ir[Ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ir[Ir.NOT_FOUND=5]="NOT_FOUND",Ir[Ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ir[Ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ir[Ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ir[Ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ir[Ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ir[Ir.ABORTED=10]="ABORTED",Ir[Ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ir[Ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ir[Ir.INTERNAL=13]="INTERNAL",Ir[Ir.UNAVAILABLE=14]="UNAVAILABLE",Ir[Ir.DATA_LOSS=15]="DATA_LOSS";new yte([4294967295,4294967295],0);const gnn=41943040;const ynn=1048576;function T7(){return typeof document<"u"?document:null}class vnn{constructor(t,n,r=1e3,i=1.5,o=6e4){this.Fi=t,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&Ld("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}class vte{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ZS,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new vte(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Jr(Qr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var wye,xye;(xye=wye||(wye={})).Fa="default",xye.Cache="cache";function bnn(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const Cye=new Map;const wnn="firestore.googleapis.com",_ye=!0;class Eye{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Jr(Qr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wnn,this.ssl=_ye}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:_ye;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=gnn;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ynn)throw new Jr(Qr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}cnn("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bnn((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Jr(Qr.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Jr(Qr.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Jr(Qr.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xnn{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eye({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Jr(Qr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Jr(Qr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eye(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Ztn;switch(r.type){case"firstParty":return new nnn(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Jr(Qr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Cye.get(n);r&&(Ld("ComponentProvider","Removing Datastore"),Cye.delete(n),r.terminate())})(this),Promise.resolve()}}class bte{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new bte(this.firestore,t,this._query)}}class uh{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wte(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new uh(this.firestore,t,this._key)}toJSON(){return{type:uh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(dA(n,uh._jsonSchema))return new uh(t,r||null,new Sv(_d.fromString(n.referencePath)))}}uh._jsonSchemaVersion="firestore/documentReference/1.0",uh._jsonSchema={type:Yo("string",uh._jsonSchemaVersion),referencePath:Yo("string")};class wte extends bte{constructor(t,n,r){super(t,n,mnn(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new uh(this.firestore,null,new Sv(t))}withConverter(t){return new wte(this.firestore,t,this._path)}}const Sye="AsyncQueue";class Tye{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new vnn(this,"async_queue_retry"),this.oc=()=>{const r=T7();r&&Ld(Sye,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=t;const n=T7();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=T7();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new ZS;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!fnn(t))throw t;Ld(Sye,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((r=>{throw this.tc=r,this.nc=!1,E5e("INTERNAL UNHANDLED ERROR: ",kye(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(t,n,r){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const i=vte.createAndSchedule(this,t,n,r,(o=>this.lc(o)));return this.ec.push(i),i}ac(){this.tc&&u4(47125,{hc:kye(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function kye(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Cnn extends xnn{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Tye,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Tye(t),this._firestoreClient=void 0,await t}}}class Mp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mp(Cb.fromBase64String(t))}catch(n){throw new Jr(Qr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Mp(Cb.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Mp._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(dA(t,Mp._jsonSchema))return Mp.fromBase64String(t.bytes)}}Mp._jsonSchemaVersion="firestore/bytes/1.0",Mp._jsonSchema={type:Yo("string",Mp._jsonSchemaVersion),bytes:Yo("string")};class k5e{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Jr(Qr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new uv(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Bv{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Jr(Qr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Jr(Qr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Wd(this._lat,t._lat)||Wd(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bv._jsonSchemaVersion}}static fromJSON(t){if(dA(t,Bv._jsonSchema))return new Bv(t.latitude,t.longitude)}}Bv._jsonSchemaVersion="firestore/geoPoint/1.0",Bv._jsonSchema={type:Yo("string",Bv._jsonSchemaVersion),latitude:Yo("number"),longitude:Yo("number")};class zv{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:zv._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(dA(t,zv._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new zv(t.vectorValues);throw new Jr(Qr.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zv._jsonSchemaVersion="firestore/vectorValue/1.0",zv._jsonSchema={type:Yo("string",zv._jsonSchemaVersion),vectorValues:Yo("object")};const _nn=new RegExp("[~\\*/\\[\\]]");function Enn(e,t,n){if(t.search(_nn)>=0)throw Aye(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new k5e(...t.split("."))._internalPath}catch{throw Aye(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function Aye(e,t,n,r,i){let o=`Function ${t}() called with invalid data`;o+=". ";let s="";return new Jr(Qr.INVALID_ARGUMENT,o+e+s)}class A5e{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new uh(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Snn(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(R5e("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Snn extends A5e{data(){return super.data()}}function R5e(e,t){return typeof t=="string"?Enn(e,t):t instanceof k5e?t._internalPath:t._delegate._internalPath}class RD{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Jw extends A5e{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new g3(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(R5e("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Jr(Qr.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Jw._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jw._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jw._jsonSchema={type:Yo("string",Jw._jsonSchemaVersion),bundleSource:Yo("string","DocumentSnapshot"),bundleName:Yo("string"),bundle:Yo("string")};class g3 extends Jw{data(t={}){return super.data(t)}}class e2{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new RD(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new g3(this._firestore,this._userDataWriter,r.key,r,new RD(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Jr(Qr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((a=>{const l=new g3(i._firestore,i._userDataWriter,a.doc.key,a.doc,new RD(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((a=>o||a.type!==3)).map((a=>{const l=new g3(i._firestore,i._userDataWriter,a.doc.key,a.doc,new RD(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:Tnn(a.type),doc:l,oldIndex:u,newIndex:c}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Jr(Qr.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=e2._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=snn.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Tnn(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return u4(61501,{type:e})}}e2._jsonSchemaVersion="firestore/querySnapshot/1.0",e2._jsonSchema={type:Yo("string",e2._jsonSchemaVersion),bundleSource:Yo("string","QuerySnapshot"),bundleName:Yo("string"),bundle:Yo("string")};(function(t,n=!0){(function(i){K$=i})(cA),Tm(new Em("firestore",((r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Cnn(new enn(r.getProvider("auth-internal")),new rnn(s,r.getProvider("app-check-internal")),(function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Jr(Qr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new c4(u.options.projectId,c)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a}),"PUBLIC").setMultipleInstances(!0)),Vd(dye,fye,t),Vd(dye,fye,"esm2017")})();const knn=new Map,Ann={activated:!1,tokenObservers:[]};function sf(e){return knn.get(e)||Object.assign({},Ann)}const Rye={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3};class Rnn{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new K0e,this.pending.promise.catch(n=>{}),await Inn(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new K0e,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Inn(e){return new Promise(t=>{setTimeout(t,e)})}const Dnn={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},d4=new r_("appCheck","AppCheck",Dnn);function I5e(e){if(!sf(e).activated)throw d4.create("use-before-activation",{appName:e.name})}const Pnn="firebase-app-check-database",Onn=1,cV="firebase-app-check-store";let ID=null;function Nnn(){return ID||(ID=new Promise((e,t)=>{try{const n=indexedDB.open(Pnn,Onn);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(d4.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;r.oldVersion===0&&i.createObjectStore(cV,{keyPath:"compositeKey"})}}catch(n){t(d4.create("storage-open",{originalErrorMessage:n?.message}))}}),ID)}function Mnn(e,t){return $nn(Lnn(e),t)}async function $nn(e,t){const r=(await Nnn()).transaction(cV,"readwrite"),o=r.objectStore(cV).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a(d4.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}function Lnn(e){return`${e.options.appId}-${e.name}`}const dV=new Y$("@firebase/app-check");function Iye(e,t){return g5e()?Mnn(e,t).catch(n=>{dV.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}const Fnn={error:"UNKNOWN_ERROR"};function jnn(e){return pte.encodeString(JSON.stringify(e),!1)}async function fV(e,t=!1,n=!1){const r=e.app;I5e(r);const i=sf(r);let o=i.token,s;if(o&&!hS(o)&&(i.token=void 0,o=void 0),!o){const u=await i.cachedTokenPromise;u&&(hS(u)?o=u:await Iye(r,void 0))}if(!t&&o&&hS(o))return{token:o.token};let a=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await sf(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?dV.warn(u.message):n&&dV.error(u),s=u}let l;return o?s?hS(o)?l={token:o.token,internalError:s}:l=Pye(s):(l={token:o.token},i.token=o,await Iye(r,o)):l=Pye(s),a&&Hnn(r,l),l}async function Bnn(e){const t=e.app;I5e(t);const{provider:n}=sf(t);{const{token:r}=await n.getToken();return{token:r}}}function znn(e,t,n,r){const{app:i}=e,o=sf(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&hS(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),Dye(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Dye(e))}function D5e(e,t){const n=sf(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Dye(e){const{app:t}=e,n=sf(t);let r=n.tokenRefresher;r||(r=Unn(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Unn(e){const{app:t}=e;return new Rnn(async()=>{const n=sf(t);let r;if(n.token?r=await fV(e,!0):r=await fV(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=sf(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Rye.RETRIAL_MIN_WAIT,Rye.RETRIAL_MAX_WAIT)}function Hnn(e,t){const n=sf(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function hS(e){return e.expireTimeMillis-Date.now()>0}function Pye(e){return{token:jnn(Fnn),error:e}}class qnn{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=sf(this.app);for(const n of t)D5e(this.app,n.next);return Promise.resolve()}}function Vnn(e,t){return new qnn(e,t)}function Wnn(e){return{getToken:t=>fV(e,t),getLimitedUseToken:()=>Bnn(e),addTokenListener:t=>znn(e,"INTERNAL",t),removeTokenListener:t=>D5e(e.app,t)}}const Gnn="@firebase/app-check",Ynn="0.10.1",Knn="app-check",Oye="app-check-internal";function Xnn(){Tm(new Em(Knn,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return Vnn(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Oye).initialize()})),Tm(new Em(Oye,e=>{const t=e.getProvider("app-check").getImmediate();return Wnn(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Vd(Gnn,Ynn)}Xnn();function P5e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qnn=P5e,O5e=new r_("auth","Firebase",P5e());const f4=new Y$("@firebase/auth");function Jnn(e,...t){f4.logLevel<=ci.WARN&&f4.warn(`Auth (${cA}): ${e}`,...t)}function y3(e,...t){f4.logLevel<=ci.ERROR&&f4.error(`Auth (${cA}): ${e}`,...t)}function Nye(e,...t){throw xte(e,...t)}function N5e(e,...t){return xte(e,...t)}function M5e(e,t,n){const r=Object.assign(Object.assign({},Qnn()),{[t]:n});return new r_("auth","Firebase",r).create(t,{appName:e.name})}function v3(e){return M5e(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xte(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return O5e.create(e,...t)}function Xr(e,t,...n){if(!e)throw xte(t,...n)}function t2(e){const t="INTERNAL ASSERTION FAILED: "+e;throw y3(t),new Error(t)}function h4(e,t){e||t2(t)}function Znn(){return Mye()==="http:"||Mye()==="https:"}function Mye(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function ern(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Znn()||cen()||"connection"in navigator)?navigator.onLine:!0}function trn(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class fA{constructor(t,n){this.shortDelay=t,this.longDelay=n,h4(n>t,"Short delay should be less than long delay!"),this.isMobile=len()||den()}get(){return ern()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nrn(e,t){h4(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class $5e{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;t2("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;t2("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;t2("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rrn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const irn=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],orn=new fA(3e4,6e4);function L5e(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function X$(e,t,n,r,i={}){return F5e(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});const a=y5e(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},o);return uen()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&m5e(e.emulatorConfig.host)&&(u.credentials="include"),$5e.fetch()(await j5e(e,e.config.apiHost,n,a),u)})}async function F5e(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},rrn),t);try{const i=new srn(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw DD(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw DD(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw DD(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw DD(e,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw M5e(e,c,u);Nye(e,c)}}catch(i){if(i instanceof Ym)throw i;Nye(e,"network-request-failed",{message:String(i)})}}async function j5e(e,t,n,r){const i=`${t}${n}?${r}`,o=e,s=o.config.emulator?nrn(e.config,i):`${e.config.apiScheme}://${i}`;return irn.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class srn{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(N5e(this.auth,"network-request-failed")),orn.get())})}}function DD(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=N5e(e,t,r);return i.customData._tokenResponse=n,i}async function arn(e,t){return X$(e,"POST","/v1/accounts:delete",t)}async function p4(e,t){return X$(e,"POST","/v1/accounts:lookup",t)}function n2(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function lrn(e,t=!1){const n=G$(e),r=await n.getIdToken(t),i=B5e(r);Xr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:n2(k7(i.auth_time)),issuedAtTime:n2(k7(i.iat)),expirationTime:n2(k7(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function k7(e){return Number(e)*1e3}function B5e(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return y3("JWT malformed, contained fewer than 3 sections"),null;try{const i=p5e(n);return i?JSON.parse(i):(y3("Failed to decode base64 JWT payload"),null)}catch(i){return y3("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $ye(e){const t=B5e(e);return Xr(t,"internal-error"),Xr(typeof t.exp<"u","internal-error"),Xr(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function hV(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Ym&&urn(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function urn({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class crn{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pV{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=n2(this.lastLoginAt),this.creationTime=n2(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function m4(e){var t;const n=e.auth,r=await e.getIdToken(),i=await hV(e,p4(n,{idToken:r}));Xr(i?.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?z5e(o.providerUserInfo):[],a=frn(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!a?.length,c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new pV(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function drn(e){const t=G$(e);await m4(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function frn(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function z5e(e){return e.map(t=>{var{providerId:n}=t,r=y4(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function hrn(e,t){const n=await F5e(e,{},async()=>{const r=y5e({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=await j5e(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return e.emulatorConfig&&m5e(e.emulatorConfig.host)&&(l.credentials="include"),$5e.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function prn(e,t){return X$(e,"POST","/v2/accounts:revokeToken",L5e(e,t))}class Zw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Xr(t.idToken,"internal-error"),Xr(typeof t.idToken<"u","internal-error"),Xr(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$ye(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Xr(t.length!==0,"internal-error");const n=$ye(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Xr(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await hrn(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Zw;return r&&(Xr(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(Xr(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(Xr(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Zw,this.toJSON())}_performRefresh(){return t2("not implemented")}}function xg(e,t){Xr(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ch{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=y4(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new crn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pV(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await hV(this,this.stsTokenManager.getToken(this.auth,t));return Xr(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return lrn(this,t)}reload(){return drn(this)}_assign(t){this!==t&&(Xr(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ch(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Xr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await m4(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hg(this.auth.app))return Promise.reject(v3(this.auth));const t=await this.getIdToken();return await hV(this,arn(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:x,emailVerified:E,isAnonymous:_,providerData:S,stsTokenManager:T}=n;Xr(x&&T,t,"internal-error");const k=Zw.fromJSON(this.name,T);Xr(typeof x=="string",t,"internal-error"),xg(d,t.name),xg(f,t.name),Xr(typeof E=="boolean",t,"internal-error"),Xr(typeof _=="boolean",t,"internal-error"),xg(h,t.name),xg(p,t.name),xg(m,t.name),xg(g,t.name),xg(v,t.name),xg(y,t.name);const R=new ch({uid:x,auth:t,email:f,emailVerified:E,displayName:d,isAnonymous:_,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:k,createdAt:v,lastLoginAt:y});return S&&Array.isArray(S)&&(R.providerData=S.map(I=>Object.assign({},I))),g&&(R._redirectEventId=g),R}static async _fromIdTokenResponse(t,n,r=!1){const i=new Zw;i.updateFromServerResponse(n);const o=new ch({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await m4(o),o}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];Xr(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?z5e(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Zw;a.updateFromIdToken(r);const l=new ch({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new pV(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,u),l}}const Lye=new Map;function Tv(e){h4(e instanceof Function,"Expected a class definition");let t=Lye.get(e);return t?(h4(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Lye.set(e,t),t)}class U5e{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}U5e.type="NONE";const Fye=U5e;function A7(e,t,n){return`firebase:${e}:${t}:${n}`}class ex{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=A7(this.userKey,i.apiKey,o),this.fullPersistenceKey=A7("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await p4(this.auth,{idToken:t}).catch(()=>{});return n?ch._fromGetAccountInfoResponse(this.auth,n,t):null}return ch._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new ex(Tv(Fye),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Tv(Fye);const s=A7(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){let d;if(typeof c=="string"){const f=await p4(t,{idToken:c}).catch(()=>{});if(!f)break;d=await ch._fromGetAccountInfoResponse(t,f,c)}else d=ch._fromJSON(t,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ex(o,t,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new ex(o,t,r))}}function jye(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vrn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mrn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wrn(t))return"Blackberry";if(xrn(t))return"Webos";if(grn(t))return"Safari";if((t.includes("chrome/")||yrn(t))&&!t.includes("edge/"))return"Chrome";if(brn(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function mrn(e=jh()){return/firefox\//i.test(e)}function grn(e=jh()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yrn(e=jh()){return/crios\//i.test(e)}function vrn(e=jh()){return/iemobile/i.test(e)}function brn(e=jh()){return/android/i.test(e)}function wrn(e=jh()){return/blackberry/i.test(e)}function xrn(e=jh()){return/webos/i.test(e)}function H5e(e,t=[]){let n;switch(e){case"Browser":n=jye(jh());break;case"Worker":n=`${jye(jh())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${cA}/${r}`}class Crn{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{const l=t(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function _rn(e,t={}){return X$(e,"GET","/v2/passwordPolicy",L5e(e,t))}const Ern=6;class Srn{constructor(t){var n,r,i,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Ern,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class Trn{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bye(this),this.idTokenSubscription=new Bye(this),this.beforeStateQueue=new Crn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O5e,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Tv(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await ex.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await p4(this,{idToken:t}),r=await ch._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Hg(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Xr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await m4(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=trn()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Hg(this.app))return Promise.reject(v3(this));const n=t?G$(t):null;return n&&Xr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Xr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Hg(this.app)?Promise.reject(v3(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Hg(this.app)?Promise.reject(v3(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tv(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _rn(this),n=new Srn(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new r_("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await prn(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Tv(t)||this._popupRedirectResolver;Xr(n,this,"argument-error"),this.redirectPersistenceManager=await ex.create(this,[Tv(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xr(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Xr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=H5e(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;if(Hg(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&Jnn(`Error while retrieving App Check token: ${n.error}`),n?.token}}function krn(e){return G$(e)}class Bye{constructor(t){this.auth=t,this.observer=null,this.addObserver=gen(n=>this.observer=n)}get next(){return Xr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Arn(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Tv);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}new fA(3e4,6e4);new fA(2e3,1e4);new fA(3e4,6e4);new fA(5e3,15e3);var zye="@firebase/auth",Uye="1.10.8";class Rrn{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Xr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Irn(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Drn(e){Tm(new Em("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Xr(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H5e(e)},u=new Trn(r,i,o,l);return Arn(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Tm(new Em("auth-internal",t=>{const n=krn(t.getProvider("auth").getImmediate());return(r=>new Rrn(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vd(zye,Uye,Irn(e)),Vd(zye,Uye,"esm2017")}const Prn=300;aen("authIdTokenMaxAge");Drn("Browser");async function Orn(){let e;{const t=new WZt;await t.connect(),e=t}return e}function sw({title:e}){const t=da();return A.useEffect(()=>{document.title=e},[t,e]),null}async function Nrn(){const t=await(await fetch(`${Hi}global.json`)).text();return MYt(t)}function Mrn(){const[e,t]=A.useState(null),[n,r]=A.useState({});A.useEffect(()=>{async function a(){e&&r(await FYt(e))}a()},[e]),A.useEffect(()=>{e||Nrn().then(a=>{t(a)})},[e]);const{storageEngine:i,setStorageEngine:o}=ri();A.useEffect(()=>{if(i!==void 0)return;async function a(){const l=await Orn();o(l)}a()},[o,i]);const s=async a=>i&&yc(i)?!(await i.getModes(a)).dataSharingEnabled:!1;return e?b.jsx(eGe,{basename:Hi,children:b.jsx(Ost,{children:b.jsx(mGe,{children:b.jsxs(RWe,{children:[b.jsx(Sp,{path:"/",element:b.jsxs(b.Fragment,{children:[b.jsx(sw,{title:"ReVISit | Home"}),b.jsxs(Ri,{padding:"md",header:{height:70},children:[b.jsx(KS,{studyIds:e.configsList}),b.jsx(Lst,{globalConfig:e,studyConfigs:n})]})]})}),b.jsx(Sp,{path:"/:studyId/*",element:b.jsxs(b.Fragment,{children:[b.jsx(sw,{title:"ReVISit | Study"}),b.jsx(jYt,{globalConfig:e})]})}),b.jsx(Sp,{path:"/analysis",element:b.jsx(Mq,{to:"/analysis/stats/",replace:!0})}),b.jsx(Sp,{path:"/analysis/stats",element:b.jsxs(b.Fragment,{children:[b.jsx(sw,{title:"ReVISit | Analysis"}),b.jsx(Ri,{padding:"md",header:{height:70},children:b.jsx($0e,{globalConfig:e})})]})}),b.jsx(Sp,{path:"/analysis/stats/:studyId/:analysisTab/:trialId?",element:b.jsxs(b.Fragment,{children:[b.jsx(sw,{title:"ReVISit | Analysis"}),b.jsx(L0e,{paramToCheck:"studyId",paramCallback:s,children:b.jsx(Ri,{padding:"md",header:{height:70},children:b.jsx($0e,{globalConfig:e})})})]})}),b.jsx(Sp,{path:"/analysis/stats/:studyId",element:b.jsx(Mq,{to:"./summary",replace:!0})}),b.jsx(Sp,{path:"/settings",element:b.jsxs(L0e,{children:[b.jsx(sw,{title:"ReVISit | Settings"}),b.jsxs(Ri,{padding:"md",header:{height:70},children:[b.jsx(KS,{studyIds:e.configsList}),b.jsx(Ri.Main,{children:b.jsx(FZt,{})})]})]})}),b.jsx(Sp,{path:"/login",element:b.jsxs(b.Fragment,{children:[b.jsx(sw,{title:"ReVISit | Login"}),b.jsxs(Ri,{padding:"md",header:{height:70},children:[b.jsx(KS,{studyIds:e.configsList}),b.jsx(Ri.Main,{children:b.jsx(LZt,{})})]})]})})]})})})}):null}iLe.createRoot(document.getElementById("root")).render(b.jsx(un.StrictMode,{children:b.jsx(DVe,{children:b.jsxs(mve,{children:[b.jsx(Mm,{}),b.jsx(Mrn,{})]})})}));
